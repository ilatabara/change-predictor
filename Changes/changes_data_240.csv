id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fproject-config~master~I20333f3961325ec55a258d60c563188a7dfd54c2,openstack/project-config,master,I20333f3961325ec55a258d60c563188a7dfd54c2,"Add openstack/senlin, openstack/senlin-tempest-plugin to vexxhost tenant",MERGED,2020-09-03 13:22:23.000000000,2020-09-03 15:42:26.000000000,2020-09-03 15:08:08.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2020-09-03 13:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d70666e4c412efa58c5531f9b4acc570d32d8980', 'message': 'Add openstack/senlin to vexxhost tenant\n\nChange-Id: I20333f3961325ec55a258d60c563188a7dfd54c2\n'}, {'number': 2, 'created': '2020-09-03 13:41:03.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/894aff91d05c8ac55d42fee6c2e176dbb0deb7a4', 'message': 'Add openstack/senlin, openstack/senlin-tempest-plugin\nto vexxhost tenant\n\nChange-Id: I20333f3961325ec55a258d60c563188a7dfd54c2\n'}]",0,749730,894aff91d05c8ac55d42fee6c2e176dbb0deb7a4,11,4,2,31746,,,0,"Add openstack/senlin, openstack/senlin-tempest-plugin
to vexxhost tenant

Change-Id: I20333f3961325ec55a258d60c563188a7dfd54c2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/30/749730/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,d70666e4c412efa58c5531f9b4acc570d32d8980,, - openstack/senlin,,1,0
openstack%2Fmonasca-ui~master~I88cdf86365a0af8450e5fb823eab830834ce8fa1,openstack/monasca-ui,master,I88cdf86365a0af8450e5fb823eab830834ce8fa1,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 14:05:43.000000000,2020-09-03 15:34:52.000000000,2020-09-03 15:34:52.000000000,"[{'_account_id': 1736}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 14:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/fde08f0e390d119bd81e63a0c5ede8832539ef3b', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 2, 'created': '2020-08-05 16:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/57a8dd02b664e8eb96c177b8dc70af6d83b01a00', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 3, 'created': '2020-08-05 16:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/1c22b835872515a0d81210dea3a27fd3aba77ce6', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 4, 'created': '2020-08-05 17:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/45631ab8e6689760b279a57903c941a6aa4b7871', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 5, 'created': '2020-08-05 17:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/aeec1355d0f2b825fd1f0894d8f12a3c10298605', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 6, 'created': '2020-08-12 12:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/50a49fab4a27ea0f70481405c1a2c10861f245f8', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 7, 'created': '2020-08-12 13:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/49d048bb8a1ec2931a766cfdbfd6b918fefff02b', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 8, 'created': '2020-08-12 13:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/454dddf997c79038f35d0e44a21693c9aa2656d0', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40197\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 9, 'created': '2020-08-17 09:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/da69ee948e22144c25e12957afb46357d8227d75', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40197\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 10, 'created': '2020-08-20 14:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/6e417ff103763c4781c993af0a5bce20b69f192c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40197\n\nCloses-Bug: #1886298\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}, {'number': 11, 'created': '2020-08-21 11:43:05.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/56958ac0fd7eeaddc0f9a536ce0c25edaffd7877', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40197\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1\n'}]",0,744722,56958ac0fd7eeaddc0f9a536ce0c25edaffd7877,38,5,11,29313,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.
Story: #2007865
Task: #40197

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I88cdf86365a0af8450e5fb823eab830834ce8fa1
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/22/744722/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fde08f0e390d119bd81e63a0c5ede8832539ef3b,migrate-to-focal,#test-focal,,1,0
openstack%2Fopenstack-manuals~master~Ifa910bb324943252da38de26c5a799edcc88ec56,openstack/openstack-manuals,master,Ifa910bb324943252da38de26c5a799edcc88ec56,kolla-cli: deprecation - Remove docs content,MERGED,2020-09-03 08:47:13.000000000,2020-09-03 15:29:24.000000000,2020-09-03 15:08:51.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 08:47:13.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b7e6f5279be5b05bb8e5459d44add04fd093444d', 'message': 'kolla-cli: deprecation - Remove docs content\n\nStep 3 from:\nhttps://docs.openstack.org/project-team-guide/repository.html#step-3-remove-docs-openstack-org-content\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nDepends-On: https://review.opendev.org/749045\nChange-Id: Ifa910bb324943252da38de26c5a799edcc88ec56\n'}]",0,749677,b7e6f5279be5b05bb8e5459d44add04fd093444d,7,4,1,30491,,,0,"kolla-cli: deprecation - Remove docs content

Step 3 from:
https://docs.openstack.org/project-team-guide/repository.html#step-3-remove-docs-openstack-org-content

Deprecation notice:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Depends-On: https://review.opendev.org/749045
Change-Id: Ifa910bb324943252da38de26c5a799edcc88ec56
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/77/749677/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,b7e6f5279be5b05bb8e5459d44add04fd093444d,deprecate-kolla-cli," 'openstack/kolla-cli',",,1,0
openstack%2Fnova~master~I7c8dedc9e74117838db5d418dda1dcbe7143ad08,openstack/nova,master,I7c8dedc9e74117838db5d418dda1dcbe7143ad08,"privsep: Add support for recursive chown, move_tree operations",MERGED,2020-07-24 11:52:54.000000000,2020-09-03 15:19:23.000000000,2020-09-03 15:16:07.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18833a269997ace4fdcc52ec1740be2d34833b6c', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1693fb3543364de34b2788506d3af16acc5581b2', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5def7dc5275e90b76e12069649eaf73d55e84ecb', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5dc094bb9e96209eb3270c5ee0e3abc9581302f', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dd689d35f5193ace067246f197877ec91c97481', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-17 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fecd6824da723fb14dac40ddb3e44264514ce8a', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-08-24 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3f073ef689d783801fb1f3c05de50ba1bf210dc', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-08-25 17:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b14e1e557d6e5f78bb3516b6980a5d402fdee2e2', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-08-26 08:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5ba74a64c0086e1a7493f015ed0b669979fa591', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2020-09-01 15:29:46.000000000', 'files': ['nova/tests/unit/privsep/test_path.py', 'mypy-files.txt', 'nova/privsep/path.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/789bff29fc579d39fcb37b22eb3276662d4971d1', 'message': ""privsep: Add support for recursive chown, move_tree operations\n\nWe'll need these shortly to handle shuffling of vTPM files during cold\nmigrations and resizes.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,742864,789bff29fc579d39fcb37b22eb3276662d4971d1,110,13,10,15334,,,0,"privsep: Add support for recursive chown, move_tree operations

We'll need these shortly to handle shuffling of vTPM files during cold
migrations and resizes.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I7c8dedc9e74117838db5d418dda1dcbe7143ad08
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/742864/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/privsep/test_path.py', 'mypy-files.txt', 'nova/privsep/path.py']",3,18833a269997ace4fdcc52ec1740be2d34833b6c,bp/add-emulated-virtual-tpm,"import shutildef chown( path: str, uid: int = -1, gid: int = -1, recursive: bool = False, ) -> None: if not recursive or os.path.isfile(path): return os.chown(path, uid, gid) for root, dirs, files in os.walk(path): os.chown(root, uid, gid) for item in dirs: os.chown(os.path.join(root, item), uid, gid) for item in files: os.chown(os.path.join(root, item), uid, gid)def move_tree(source_path: str, dest_path: str) -> None: shutil.move(source_path, dest_path) @nova.privsep.sys_admin_pctxt.entrypoint","def chown(path, uid=-1, gid=-1): return os.chown(path, uid, gid)",51,3
openstack%2Fnova~stable%2Fussuri~I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b,openstack/nova,stable/ussuri,I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b,Removed the host FQDN from the exception message,MERGED,2020-09-03 00:25:04.000000000,2020-09-03 15:18:56.000000000,2020-09-03 15:16:02.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30905}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-09-03 00:25:04.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/volume/mount.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff82601204e9d724b3032dc94c49fa5c8de2699b', 'message': ""Removed the host FQDN from the exception message\n\nDeletion of an instance after disabling the hypervisor by a non-admin\n user leaks the host fqdn in fault msg of instance.Removing the\n'host' field from the error message of HypervisorUnavaiable\ncause it's leaking host fqdn to non-admin users. The admin user will\nsee the Hypervisor unavailable exception msg but will be able to figure\non which compute host the guest is on and that the connection is broken.\n\nConflicts:\n    nova/virt/libvirt/host.py\n\nNOTE(melwitt): The conflict is because change\nI404ca316b1bf2a963106cd34e927934befbd9b12 is not in Ussuri.\n\nChange-Id: I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b\nCloses-Bug: #1851587\n(cherry picked from commit a89ffab83261060bbb9dedb2b8de6297b2d07efd)\n""}]",0,749607,ff82601204e9d724b3032dc94c49fa5c8de2699b,13,9,1,4690,,,0,"Removed the host FQDN from the exception message

Deletion of an instance after disabling the hypervisor by a non-admin
 user leaks the host fqdn in fault msg of instance.Removing the
'host' field from the error message of HypervisorUnavaiable
cause it's leaking host fqdn to non-admin users. The admin user will
see the Hypervisor unavailable exception msg but will be able to figure
on which compute host the guest is on and that the connection is broken.

Conflicts:
    nova/virt/libvirt/host.py

NOTE(melwitt): The conflict is because change
I404ca316b1bf2a963106cd34e927934befbd9b12 is not in Ussuri.

Change-Id: I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b
Closes-Bug: #1851587
(cherry picked from commit a89ffab83261060bbb9dedb2b8de6297b2d07efd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/749607/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/volume/mount.py']",3,ff82601204e9d724b3032dc94c49fa5c8de2699b,bug/1851587, raise exception.HypervisorUnavailable(), raise exception.HypervisorUnavailable(host=CONF.host),3,3
openstack%2Fpython-masakariclient~master~Icdbcf8b5772a6af8fa6647870144ecd484e5cbca,openstack/python-masakariclient,master,Icdbcf8b5772a6af8fa6647870144ecd484e5cbca,Fix filter doesn't support non-ascii characters,ABANDONED,2017-03-20 10:43:08.000000000,2020-09-03 15:16:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 8988}, {'_account_id': 20182}]","[{'number': 1, 'created': '2017-03-20 10:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/6845f532c8acfc582c46400cfaafd66b66c6ec3e', 'message': 'Fix filter doesn\'t support non-ascii characters\n\nWhen non-ascii characters is passed as filter parameter to\n""segment host list"" APIs then it shows the error message as\n""\'ascii\' codec can\'t encode character u\'\\xf6\' in position 0:\nordinal not in range(128)"". This is because query parameters\npassed are not encoded properly and raises UnicodeEncodeError\nfor non-ascii characters.\n\nThis patch encodes the filter parameter at common place\nmasakariclient.common.utils.format_parameters() method\nin case of python2.\n\nChange-Id: Icdbcf8b5772a6af8fa6647870144ecd484e5cbca\n'}, {'number': 2, 'created': '2017-03-21 01:09:01.000000000', 'files': ['masakariclient/tests/unit/common/__init__.py', 'masakariclient/common/utils.py', 'masakariclient/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/5e1102a43d141d79e9abe5ce87b25a7895e66d21', 'message': 'Fix filter doesn\'t support non-ascii characters\n\nWhen non-ascii characters is passed as filter parameter to\n""segment host list"" APIs then it shows the error message as\n""\'ascii\' codec can\'t encode character u\'\\xf6\' in position 0:\nordinal not in range(128)"". This is because query parameters\npassed are not encoded properly and raises UnicodeEncodeError\nfor non-ascii characters.\n\nThis patch encodes the filter parameter at common place\nmasakariclient.common.utils.format_parameters() method\nin case of python2.\n\nCloses-Bug: #1668955\nChange-Id: Icdbcf8b5772a6af8fa6647870144ecd484e5cbca\n'}]",1,447442,5e1102a43d141d79e9abe5ce87b25a7895e66d21,8,4,2,20182,,,0,"Fix filter doesn't support non-ascii characters

When non-ascii characters is passed as filter parameter to
""segment host list"" APIs then it shows the error message as
""'ascii' codec can't encode character u'\xf6' in position 0:
ordinal not in range(128)"". This is because query parameters
passed are not encoded properly and raises UnicodeEncodeError
for non-ascii characters.

This patch encodes the filter parameter at common place
masakariclient.common.utils.format_parameters() method
in case of python2.

Closes-Bug: #1668955
Change-Id: Icdbcf8b5772a6af8fa6647870144ecd484e5cbca
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/42/447442/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakariclient/tests/unit/common/__init__.py', 'masakariclient/common/utils.py', 'masakariclient/tests/unit/common/test_utils.py']",3,6845f532c8acfc582c46400cfaafd66b66c6ec3e,bug/1668955,"# -*- coding: utf-8 -*- # Copyright(c) 2017 Nippon Telegraph and Telephone Corporation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """""" test_masakariclient ---------------------------------- Tests for `masakariclient.common.utils` module. """""" from oslo_utils import encodeutils import six import masakariclient.common.utils as masakariclient_utils from masakariclient.tests import base class FakeNamespace(object): """"""Fake parser object."""""" def __init__(self, limit=None, marker=None, sort=None, filters=None): super(FakeNamespace, self).__init__() self.limit = limit self.marker = limit self.sort = sort self.filters = filters class TestUtils(base.TestCase): def setUp(self): super(TestUtils, self).setUp() def test_format_sort_filter_params_for_invalid_values(self): test_data = u'\U0002070e' parsed_args = FakeNamespace(filters=[u'on_maintenance=%s' % test_data]) if six.PY2: expected = {'on_maintenance': encodeutils.safe_encode(test_data)} else: expected = {'on_maintenance': test_data} self.assertEqual( expected, masakariclient_utils.format_sort_filter_params(parsed_args)) ",,60,0
openstack%2Fglance~master~I19a6615c1c190c239779d0cb21da665be019dc3e,openstack/glance,master,I19a6615c1c190c239779d0cb21da665be019dc3e,WIP: Return 400 when invalid request_body passed for member apis,ABANDONED,2017-01-19 13:03:27.000000000,2020-09-03 15:16:15.000000000,,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 20182}, {'_account_id': 20191}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-01-19 13:03:27.000000000', 'files': ['glance/tests/unit/v2/test_image_members_resource.py', 'glance/api/v2/image_members.py', 'glance/domain/__init__.py', 'glance/schema.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d054470e6b4dc30881b04e799346fc996d8b2776', 'message': ""WIP: Return 400 when invalid request_body passed for member apis\n\nThis patch modifies the member schema so that following issues\nwill get caught:\n\n1] 'member_id' greater than 255 characters\n2] 'member_id' less than 0\n3] 'status' other than 'pending', 'accepted', 'rejected'\n4] datatype of all the properties in update and create call must\n   according to the schema\n5] additional properties will not be allowed\n6] response will be validated against the defined schema\n\nThis patch adds a new GenericSchema class which can be used for\nthe apis which uses complex schemas.\n\nCloses-Bug: #1585917\nChange-Id: I19a6615c1c190c239779d0cb21da665be019dc3e\n""}]",0,422603,d054470e6b4dc30881b04e799346fc996d8b2776,8,5,1,20182,,,0,"WIP: Return 400 when invalid request_body passed for member apis

This patch modifies the member schema so that following issues
will get caught:

1] 'member_id' greater than 255 characters
2] 'member_id' less than 0
3] 'status' other than 'pending', 'accepted', 'rejected'
4] datatype of all the properties in update and create call must
   according to the schema
5] additional properties will not be allowed
6] response will be validated against the defined schema

This patch adds a new GenericSchema class which can be used for
the apis which uses complex schemas.

Closes-Bug: #1585917
Change-Id: I19a6615c1c190c239779d0cb21da665be019dc3e
",git fetch https://review.opendev.org/openstack/glance refs/changes/03/422603/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/v2/test_image_members_resource.py', 'glance/api/v2/image_members.py', 'glance/domain/__init__.py', 'glance/schema.py']",4,d054470e6b4dc30881b04e799346fc996d8b2776,bug/1585917,"class GenericJSONSchema(Schema): def __init__(self, name, schema, properties=None): self.name = name self.schema = schema if properties is None: properties = {} self.properties = properties def raw(self): return self.schema def filter(self, obj): self.validate(obj) return obj def minimal(self): minimal = { 'name': self.name, 'properties': self.properties } minimal.update(self.raw()) return minimal ",,172,67
openstack%2Fproject-config~master~I8c03d6ae687a8c3003015a4e6d7351ff81cedad2,openstack/project-config,master,I8c03d6ae687a8c3003015a4e6d7351ff81cedad2,Disable nested-virt-centos-8 from vexxhost-ca-ymq-1,MERGED,2020-08-26 12:28:55.000000000,2020-09-03 15:14:28.000000000,2020-09-03 15:00:32.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:28:55.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ea05e7df76294df13129d962b3912815e7b32f4d', 'message': 'Disable nested-virt-centos-8 from vexxhost-ca-ymq-1\n\nA bug in the Linux kernel impacting AMD-based KVM bare metal hosts\ncrashes CentOS 8 nested guests. This bug is hitting provider\nvexxhost-ca-ymq-1 (AMD EPYC CPUs), while it is not observed in other\nnodepool providers (Intel CPUs).\n\nWe suspect this bug [1] has been fixed in kernel master [2] and in\nstable versions.\n\nTemporarily disable nested-virt-centos-8 from vexxhost-ca-ymq-1 until\nthe kernel is updated on the impacted bare metal hosts.\n\n[1] https://bugzilla.kernel.org/show_bug.cgi?id=206877\n[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=841c2be09fe4f495fe5224952a419bd8c7e5b455\n\nChange-Id: I8c03d6ae687a8c3003015a4e6d7351ff81cedad2\n'}]",0,748210,ea05e7df76294df13129d962b3912815e7b32f4d,9,5,1,6469,,,0,"Disable nested-virt-centos-8 from vexxhost-ca-ymq-1

A bug in the Linux kernel impacting AMD-based KVM bare metal hosts
crashes CentOS 8 nested guests. This bug is hitting provider
vexxhost-ca-ymq-1 (AMD EPYC CPUs), while it is not observed in other
nodepool providers (Intel CPUs).

We suspect this bug [1] has been fixed in kernel master [2] and in
stable versions.

Temporarily disable nested-virt-centos-8 from vexxhost-ca-ymq-1 until
the kernel is updated on the impacted bare metal hosts.

[1] https://bugzilla.kernel.org/show_bug.cgi?id=206877
[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=841c2be09fe4f495fe5224952a419bd8c7e5b455

Change-Id: I8c03d6ae687a8c3003015a4e6d7351ff81cedad2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/748210/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,ea05e7df76294df13129d962b3912815e7b32f4d,centos-gating,, - name: nested-virt-centos-8 min-ram: 8000 flavor-name: 'osf-highcpu-8' diskimage: centos-8 key-name: infra-root-keys-2020-05-13,0,5
openstack%2Fneutron~stable%2Ftrain~I9ec81ad0c10379294d3145c5902e8b81b65c0221,openstack/neutron,stable/train,I9ec81ad0c10379294d3145c5902e8b81b65c0221,Don't raise FileNotFoundError during disabling keepalived,MERGED,2020-08-31 07:15:15.000000000,2020-09-03 15:05:29.000000000,2020-09-03 15:01:14.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-31 07:15:15.000000000', 'files': ['neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13e32a4e4d3e83603c2104d13b559ba4ba657299', 'message': ""Don't raise FileNotFoundError during disabling keepalived\n\nIn case when keepalived's config is not existing already, there is no\nneed to raise any exception while L3 agent is trying to clean this\nconfig.\n\nChange-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221\nCloses-Bug: #1892866\n(cherry picked from commit a08893368a9f323d41f490ee043ef7bd50c4f1fa)\n""}]",0,748959,13e32a4e4d3e83603c2104d13b559ba4ba657299,16,7,1,11975,,,0,"Don't raise FileNotFoundError during disabling keepalived

In case when keepalived's config is not existing already, there is no
need to raise any exception while L3 agent is trying to clean this
config.

Change-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221
Closes-Bug: #1892866
(cherry picked from commit a08893368a9f323d41f490ee043ef7bd50c4f1fa)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/748959/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/ha_router.py'],1,13e32a4e4d3e83603c2104d13b559ba4ba657299,bug/1892866-stable/ussuri-stable/train, try: shutil.rmtree(conf_dir) except FileNotFoundError: pass, shutil.rmtree(conf_dir),4,1
openstack%2Fneutron~stable%2Fussuri~I9ec81ad0c10379294d3145c5902e8b81b65c0221,openstack/neutron,stable/ussuri,I9ec81ad0c10379294d3145c5902e8b81b65c0221,Don't raise FileNotFoundError during disabling keepalived,MERGED,2020-08-31 07:14:58.000000000,2020-09-03 15:05:27.000000000,2020-09-03 15:01:11.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-31 07:14:58.000000000', 'files': ['neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fd54d08762c9800549f9230123e304f284e5385', 'message': ""Don't raise FileNotFoundError during disabling keepalived\n\nIn case when keepalived's config is not existing already, there is no\nneed to raise any exception while L3 agent is trying to clean this\nconfig.\n\nChange-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221\nCloses-Bug: #1892866\n(cherry picked from commit a08893368a9f323d41f490ee043ef7bd50c4f1fa)\n""}]",0,748958,7fd54d08762c9800549f9230123e304f284e5385,23,8,1,11975,,,0,"Don't raise FileNotFoundError during disabling keepalived

In case when keepalived's config is not existing already, there is no
need to raise any exception while L3 agent is trying to clean this
config.

Change-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221
Closes-Bug: #1892866
(cherry picked from commit a08893368a9f323d41f490ee043ef7bd50c4f1fa)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/748958/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/ha_router.py'],1,7fd54d08762c9800549f9230123e304f284e5385,bug/1892866-stable/ussuri, try: shutil.rmtree(conf_dir) except FileNotFoundError: pass, shutil.rmtree(conf_dir),4,1
openstack%2Ftripleo-heat-templates~master~I96b0d838e79bcaa8b08ffaa2fb745ee7003d1284,openstack/tripleo-heat-templates,master,I96b0d838e79bcaa8b08ffaa2fb745ee7003d1284,Add new ansible tag for network configuration,MERGED,2020-09-02 05:43:18.000000000,2020-09-03 14:45:35.000000000,2020-09-03 09:06:39.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-02 05:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cce4434ef88c22b42bf73d900e71185afbed4a8f', 'message': ""Add new ansible tag for network configuration\n\nThis seprates the overcloud network configuration as a separate\nplay and adds a new tag 'network_deploy_steps' so that it can be\nexecuted alone using '--tags network_deploy_steps'.\n\nChange-Id: I96b0d838e79bcaa8b08ffaa2fb745ee7003d1284\n""}, {'number': 2, 'created': '2020-09-02 06:57:40.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/846cb94bcc9e7e203acdf7d1b5ca3d1d028ad55c', 'message': ""Add new ansible tag for network configuration\n\nThis seprates the overcloud network configuration as a separate\nplay and adds a new tag 'network_deploy_steps' so that it can be\nexecuted alone using '--tags network_deploy_steps'.\n\nChange-Id: I96b0d838e79bcaa8b08ffaa2fb745ee7003d1284\n""}]",3,749432,846cb94bcc9e7e203acdf7d1b5ca3d1d028ad55c,16,6,2,8833,,,0,"Add new ansible tag for network configuration

This seprates the overcloud network configuration as a separate
play and adds a new tag 'network_deploy_steps' so that it can be
executed alone using '--tags network_deploy_steps'.

Change-Id: I96b0d838e79bcaa8b08ffaa2fb745ee7003d1284
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/749432/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,cce4434ef88c22b42bf73d900e71185afbed4a8f,," name: Server network deployments gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes tasks: {% raw %} - name: Check NetworkConfig script existence local_action: module: stat path: ""{{ lookup('first_found', NetworkConfig_paths, errors='ignore') }}"" register: NetworkConfig_stat vars: NetworkConfig_paths: - ""{{ tripleo_role_name ~ '/' ~ inventory_hostname ~ '/NetworkConfig' }}"" - ""{{ tripleo_role_name ~ '/NetworkConfig' }}"" - name: Run Network Config import_role: name: tripleo_network_config vars: tripleo_network_config_script_path: ""{{ NetworkConfig_stat.stat.path }}"" tripleo_network_config_bridge_name: ""{{ neutron_physical_bridge_name }}"" tripleo_network_config_interface_name: ""{{ neutron_public_interface_name }}"" tripleo_network_config_action: ""{{ stack_action }}"" tripleo_network_config_network_deployment_actions: ""{{ network_deployment_actions }}"" tripleo_network_config_async_timeout: ""{{ async_timeout | default(300) }}"" tripleo_network_config_async_poll: ""{{ async_poll | default(3) }}"" when: - NetworkConfig_stat.stat.exists - name: AllNodesValidationConfig script: all_nodes_validation_script.sh environment: validate_controllers_icmp: ""{{ validate_controllers_icmp }}"" validate_gateways_icmp: ""{{ validate_gateways_icmp }}"" validate_fqdn: ""{{ validate_fqdn }}"" ping_test_ips: ""{{ ping_test_ips | to_json }}"" tripleo_role_name: ""{{ tripleo_role_name }}"" tags: - overcloud - pre_deploy_steps - network_deploy_steps {% endraw %} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST strategy: tripleo_free"," - name: Check NetworkConfig script existence local_action: module: stat path: ""{{ lookup('first_found', NetworkConfig_paths, errors='ignore') }}"" become: no register: NetworkConfig_stat vars: NetworkConfig_paths: - ""{{ tripleo_role_name ~ '/' ~ inventory_hostname ~ '/NetworkConfig' }}"" - ""{{ tripleo_role_name ~ '/NetworkConfig' }}"" - name: Run Network Config import_role: name: tripleo_network_config vars: tripleo_network_config_script_path: ""{{ NetworkConfig_stat.stat.path }}"" tripleo_network_config_bridge_name: ""{{ neutron_physical_bridge_name }}"" tripleo_network_config_interface_name: ""{{ neutron_public_interface_name }}"" tripleo_network_config_action: ""{{ stack_action }}"" tripleo_network_config_network_deployment_actions: ""{{ network_deployment_actions }}"" tripleo_network_config_async_timeout: ""{{ async_timeout | default(300) }}"" tripleo_network_config_async_poll: ""{{ async_poll | default(3) }}"" when: - NetworkConfig_stat.stat.exists - name: AllNodesValidationConfig script: all_nodes_validation_script.sh environment: validate_controllers_icmp: ""{{ validate_controllers_icmp }}"" validate_gateways_icmp: ""{{ validate_gateways_icmp }}"" validate_fqdn: ""{{ validate_fqdn }}"" ping_test_ips: ""{{ ping_test_ips | to_json }}"" tripleo_role_name: ""{{ tripleo_role_name }}"" ",43,36
openstack%2Fkolla~stable%2Fussuri~Iff600179630484228fb359417687e3d2a1a8b9f9,openstack/kolla,stable/ussuri,Iff600179630484228fb359417687e3d2a1a8b9f9,version-check: handle using of stable branch tarballs,MERGED,2020-08-31 08:51:25.000000000,2020-09-03 14:34:24.000000000,2020-09-03 14:32:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-31 08:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/863b958e849fb671ac2d3fa8582c458af66017b6', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n(cherry picked from commit 2cfc25e53a8bb6cb21bee24051c65d36015c6c09)\n'}, {'number': 2, 'created': '2020-09-02 19:21:12.000000000', 'files': ['tools/version-check.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/135f01d7e30437226679bb506c4b298046298ab7', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n(cherry picked from commit 2cfc25e53a8bb6cb21bee24051c65d36015c6c09)\n'}]",0,748989,135f01d7e30437226679bb506c4b298046298ab7,22,5,2,24072,,,0,"version-check: handle using of stable branch tarballs

For Ussuri we decided to follow stable branch tarballs instead of using
release ones. This gives us all fixes just as they land in a repository.

Change-Id: Iff600179630484228fb359417687e3d2a1a8b9f9
(cherry picked from commit 2cfc25e53a8bb6cb21bee24051c65d36015c6c09)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/748989/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/version-check.py'],1,863b958e849fb671ac2d3fa8582c458af66017b6,,"# NOTE(hrw): those projects we take as they are they may have just one old # release or no stable branch tarballs ALWAYS_USE_VERSION_PROJECTS = { 'barbican_tempest_plugin', 'blazar_tempest_plugin', 'cinder-tempest-plugin', 'congress-tempest-plugin', 'ec2api-tempest-plugin', 'heat-tempest-plugin', 'ironic-tempest-plugin', 'keystone_tempest_plugin', 'magnum_tempest_plugin', 'manila-tempest-plugin', 'mistral_tempest_tests', 'monasca-tempest-plugin', 'murano-tempest-plugin', 'neutron-tempest-plugin', 'python-tempestconf', 'telemetry_tempest_plugin', 'patrole', 'trove_tempest_plugin', 'vitrage-tempest-plugin', 'watcher-tempest-plugin', 'zaqar_tempest_plugin', 'nova-mksproxy', 'novajoin', 'tempest', 'vmtp', } # NOTE(hrw): those projects have different names for release tarballs (first # column) and other for branch tarballs RENAME_PROJECTS = { 'kuryr-lib': 'kuryr', 'openstack-congress': 'congress', 'openstack-cyborg': 'cyborg', 'openstack-heat': 'heat', 'openstack-placement': 'placement', 'python-watcher': 'watcher', 'requirements-stable': 'requirements', } parser.add_argument('--versioned-releases', '-v', default=False, action='store_true', help='Use versioned releases tarballs') if (project_name == ""requirements"" or (not conf.versioned_releases and project_name not in ALWAYS_USE_VERSION_PROJECTS)): if project_name in RENAME_PROJECTS: tarball_base = RENAME_PROJECTS[project_name]"," if project_name == ""requirements"":",50,1
openstack%2Fnetworking-l2gw~master~If9c07a1ffafb32d494aeb10bcf6924c5b5e1fd66,openstack/networking-l2gw,master,If9c07a1ffafb32d494aeb10bcf6924c5b5e1fd66,Retiring openstack/networking-l2gw,MERGED,2020-09-02 19:21:03.000000000,2020-09-03 14:33:05.000000000,2020-09-03 14:33:04.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 19:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/5d540aa0c271eee50b8d1ea2b04bdda2eeb237e3', 'message': 'Retiring openstack/networking-l2gw\n\nnetworking-l2gw moved to x/networking-l2gw, thus the code in this\nlocation is no longer maintained.\n\nChange-Id: If9c07a1ffafb32d494aeb10bcf6924c5b5e1fd66\nDepends-On: https://review.opendev.org/738040\n'}, {'number': 2, 'created': '2020-09-03 14:22:23.000000000', 'files': ['networking_l2gw/db/migration/alembic_migrations/README', 'networking_l2gw/db/migration/alembic_migrations/versions/liberty/expand/60019185aa99_initial_expand.py', 'networking_l2gw/services/l2gateway/service_drivers/agent_api.py', 'devstack/devstackgaterc', 'networking_l2gw/services/l2gateway/agent/ovsdb/base_connection.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/test_osc_l2gw_connection.py', 'test-requirements.txt', 'doc/source/usage.rst', 'networking_l2gw/tests/unit/services/l2gateway/__init__.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/vtep/vtep.ovsschema', 'networking_l2gw/l2gatewayclient/osc/l2gw_connection.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/test_osc_l2gw.py', 'networking_l2gw/tests/unit/l2gatewayclient/test_cli20_l2gw_conn_ext.py', 'networking_l2gw/db/migration/alembic_migrations/versions/54c9c8fe22bf_db_models_for_ovsdb_hardware_vtep_schema.py', 'tools/test-setup.sh', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/_l2_gateway.py', 'networking_l2gw/db/l2gateway/ovsdb/models.py', 'networking_l2gw/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'networking_l2gw/tests/unit/services/l2gateway/agent/__init__.py', 'contrib/install_l2gateway_agent.sh', 'networking_l2gw/db/migration/alembic_migrations/versions/newton/contract/2f533f7705dd_rename_tenant_to_project.py', 'networking_l2gw/services/l2gateway/agent_scheduler.py', 'networking_l2gw/tests/unit/services/l2gateway/common/test_l2gw_validators.py', '.coveragerc', 'networking_l2gw/extensions/l2gatewayconnection.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/test_agent_api.py', 'networking_l2gw/cmd/eventlet/agent.py', 'networking_l2gw/db/l2gateway/__init__.py', 'networking_l2gw/services/l2gateway/agent/__init__.py', 'contrib/README_install_and_config_l2gateway_plugin.rst', 'networking_l2gw/services/l2gateway/agent/base_agent_manager.py', 'networking_l2gw/db/migration/alembic_migrations/versions/42438454c556_l2gateway_models.py', 'networking_l2gw/tests/unit/__init__.py', 'networking_l2gw/services/l2gateway/plugin.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/test_l2gw_agent.py', 'lower-constraints.txt', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_monitor.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/fakes.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_manager.py', 'networking_l2gw/db/migration/alembic_migrations/script.py.mako', 'networking_l2gw/tests/contrib/gate_hook.sh', 'networking_l2gw/tests/unit/services/l2gateway/service_drivers/test_rpc_l2gw.py', 'debian/compat', 'networking_l2gw/db/migration/alembic_migrations/versions/__init__.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_ovsdb_monitor.py', 'networking_l2gw/tests/unit/db/test_migrations.py', 'contrib/neutron-l2gateway-agent.conf', 'networking_l2gw/tests/unit/l2gatewayclient/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/env.py', 'networking_l2gw/l2gatewayclient/osc/l2gw.py', 'networking_l2gw/cmd/eventlet/__init__.py', 'debian/changelog', 'networking_l2gw/tests/unit/db/ovsdb/__init__.py', 'specs/newton/l2-border-gateway-implementation.rst', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_writer.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/__init__.py', 'networking_l2gw/tests/unit/db/__init__.py', 'networking_l2gw/services/l2gateway/service_drivers/__init__.py', 'networking_l2gw/db/l2gateway/ovsdb/lib.py', 'requirements.txt', 'bindep.txt', 'networking_l2gw/cmd/__init__.py', 'networking_l2gw/tests/unit/db/test_l2gw_db.py', 'networking_l2gw/l2gatewayclient/osc/__init__.py', 'networking_l2gw/db/__init__.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_common_class.py', 'networking_l2gw/db/l2gateway/ovsdb/__init__.py', 'contrib/README_install_l2gateway_agent.rst', 'networking_l2gw/tests/unit/services/l2gateway/service_drivers/test_agent_api.py', 'networking_l2gw/db/migration/alembic_migrations/versions/newton/expand/49ce408ac349_add_indexes_to_tenant_id.py', 'debian/control', 'networking_l2gw/services/l2gateway/common/__init__.py', 'networking_l2gw/services/l2gateway/ovsdb/data.py', 'networking_l2gw/tests/unit/db/ovsdb/test_idl_impl.py', 'networking_l2gw/services/l2gateway/common/config.py', 'doc/source/index.rst', 'networking_l2gw/services/l2gateway/__init__.py', 'specs/newton/l2-border-gateway-api.rst', 'specs/kilo/l2-gateway-api-implementation.rst', 'networking_l2gw/db/migration/alembic_migrations/__init__.py', 'networking_l2gw/services/l2gateway/common/topics.py', 'networking_l2gw/services/l2gateway/agent/l2gateway_config.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/README.rst', 'doc/source/images/L2GW_deployment.png', 'networking_l2gw/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_l2gw/services/l2gateway/agent/ovsdb/manager.py', 'HACKING.rst', 'networking_l2gw/tests/unit/services/l2gateway/test_plugin.py', 'networking_l2gw/l2gatewayclient/__init__.py', 'networking_l2gw/services/l2gateway/l2gw_agent.py', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/__init__.py', 'networking_l2gw/services/__init__.py', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/_l2_gateway_connection.py', 'README.rst', 'networking_l2gw/db/migration/alembic_migrations/versions/kilo_release.py', 'setup.py', 'networking_l2gw/db/migration/alembic_migrations/versions/start_networking_l2gw.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/__init__.py', 'devstack/settings', 'CONTRIBUTING.rst', 'networking_l2gw/tests/unit/l2gatewayclient/test_cli20.py', 'networking_l2gw/extensions/l2gateway.py', 'networking_l2gw/services/l2gateway/common/ovsdb_schema.py', 'LICENSE', 'etc/policy.json', 'networking_l2gw/services/l2gateway/agent/ovsdb/native/__init__.py', 'debian/rules', 'networking_l2gw/__init__.py', 'networking_l2gw/tests/__init__.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/impl_idl.py', 'networking_l2gw/db/migration/alembic_migrations/versions/queens/contract/0fb45e525aa9_add_standard_attribute_id_for_l2gw.py', 'MANIFEST.in', 'doc/source/installation.rst', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_base_connection.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_ovsdb_writer.py', 'specs/kilo/l2-gateway-api.rst', 'networking_l2gw/services/l2gateway/agent/ovsdb/native/commands.py', 'etc/l2gateway_agent.ini', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_model.py', 'setup.cfg', 'networking_l2gw/tests/contrib/post_test_hook.sh', 'networking_l2gw/tests/unit/services/l2gateway/ovsdb/__init__.py', 'tox.ini', 'networking_l2gw/_i18n.py', 'contrib/install_and_config_l2gateway_plugin.sh', 'networking_l2gw/tests/unit/services/__init__.py', 'doc/source/contributing.rst', '.gitignore', 'networking_l2gw/tests/unit/services/l2gateway/common/test_tunnel_calls.py', 'networking_l2gw/tests/unit/services/l2gateway/common/__init__.py', 'networking_l2gw/tests/unit/services/l2gateway/service_drivers/__init__.py', 'networking_l2gw/db/l2gateway/l2gateway_db.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/test_base_agent_manager.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/native/connection.py', 'networking_l2gw/services/l2gateway/common/constants.py', 'networking_l2gw/db/migration/__init__.py', 'networking_l2gw/db/l2gateway/head.py', 'networking_l2gw/services/l2gateway/agent/agent_api.py', 'networking_l2gw/tests/unit/services/l2gateway/test_agent_scheduler.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/api.py', 'networking_l2gw/services/l2gateway/exceptions.py', 'networking_l2gw/db/l2gateway/l2gateway_models.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/versions/liberty/contract/79919185aa99_initial_contract.py', 'networking_l2gw/services/l2gateway/service_drivers/rpc_l2gw.py', 'networking_l2gw/services/l2gateway/common/tunnel_calls.py', 'etc/l2gw_plugin.ini', 'networking_l2gw/tests/unit/db/ovsdb/test_lib.py', 'devstack/plugin.sh', 'doc/source/conf.py', 'debian/copyright', 'devstack/README.rst', 'networking_l2gw/services/l2gateway/ovsdb/__init__.py', 'networking_l2gw/tests/unit/l2gatewayclient/test_cli20_l2gw_ext.py', 'networking_l2gw/db/migration/alembic_migrations/versions/queens/expand/8d7d772eafcf_add_standard_attribute_id_for_l2gw.py', '.testr.conf', 'networking_l2gw/services/l2gateway/common/l2gw_validators.py', 'networking_l2gw/tests/unit/services/l2gateway/ovsdb/test_data.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'networking_l2gw/db/l2gateway/db_query.py', 'networking_l2gw/extensions/__init__.py', 'tools/pretty_tox_serial.sh'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/baf61c16db988b6782905bb0dc99c52758b3654d', 'message': 'Retiring openstack/networking-l2gw\n\nnetworking-l2gw moved to x/networking-l2gw, thus the code in this\nlocation is no longer maintained.\n\nChange-Id: If9c07a1ffafb32d494aeb10bcf6924c5b5e1fd66\n'}]",1,749579,baf61c16db988b6782905bb0dc99c52758b3654d,9,3,2,8313,,,0,"Retiring openstack/networking-l2gw

networking-l2gw moved to x/networking-l2gw, thus the code in this
location is no longer maintained.

Change-Id: If9c07a1ffafb32d494aeb10bcf6924c5b5e1fd66
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/79/749579/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_l2gw/db/migration/alembic_migrations/README', 'networking_l2gw/db/migration/alembic_migrations/versions/liberty/expand/60019185aa99_initial_expand.py', 'networking_l2gw/services/l2gateway/service_drivers/agent_api.py', 'devstack/devstackgaterc', 'networking_l2gw/services/l2gateway/agent/ovsdb/base_connection.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/test_osc_l2gw_connection.py', 'test-requirements.txt', 'doc/source/usage.rst', 'networking_l2gw/tests/unit/services/l2gateway/__init__.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/vtep/vtep.ovsschema', 'networking_l2gw/l2gatewayclient/osc/l2gw_connection.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/test_osc_l2gw.py', 'networking_l2gw/tests/unit/l2gatewayclient/test_cli20_l2gw_conn_ext.py', 'networking_l2gw/db/migration/alembic_migrations/versions/54c9c8fe22bf_db_models_for_ovsdb_hardware_vtep_schema.py', 'tools/test-setup.sh', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/_l2_gateway.py', 'networking_l2gw/db/l2gateway/ovsdb/models.py', 'networking_l2gw/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'networking_l2gw/tests/unit/services/l2gateway/agent/__init__.py', 'contrib/install_l2gateway_agent.sh', 'networking_l2gw/db/migration/alembic_migrations/versions/newton/contract/2f533f7705dd_rename_tenant_to_project.py', 'networking_l2gw/services/l2gateway/agent_scheduler.py', 'networking_l2gw/tests/unit/services/l2gateway/common/test_l2gw_validators.py', '.coveragerc', 'networking_l2gw/extensions/l2gatewayconnection.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/test_agent_api.py', 'networking_l2gw/cmd/eventlet/agent.py', 'networking_l2gw/db/l2gateway/__init__.py', 'networking_l2gw/services/l2gateway/agent/__init__.py', 'contrib/README_install_and_config_l2gateway_plugin.rst', 'networking_l2gw/services/l2gateway/agent/base_agent_manager.py', 'networking_l2gw/db/migration/alembic_migrations/versions/42438454c556_l2gateway_models.py', 'networking_l2gw/tests/unit/__init__.py', 'networking_l2gw/services/l2gateway/plugin.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/test_l2gw_agent.py', 'lower-constraints.txt', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_monitor.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/fakes.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_manager.py', 'networking_l2gw/db/migration/alembic_migrations/script.py.mako', 'networking_l2gw/tests/contrib/gate_hook.sh', 'networking_l2gw/tests/unit/services/l2gateway/service_drivers/test_rpc_l2gw.py', 'debian/compat', 'networking_l2gw/db/migration/alembic_migrations/versions/__init__.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_ovsdb_monitor.py', 'networking_l2gw/tests/unit/db/test_migrations.py', 'contrib/neutron-l2gateway-agent.conf', 'networking_l2gw/tests/unit/l2gatewayclient/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/env.py', 'networking_l2gw/l2gatewayclient/osc/l2gw.py', 'networking_l2gw/cmd/eventlet/__init__.py', 'debian/changelog', 'networking_l2gw/tests/unit/db/ovsdb/__init__.py', 'specs/newton/l2-border-gateway-implementation.rst', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_writer.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/__init__.py', 'networking_l2gw/tests/unit/db/__init__.py', 'networking_l2gw/services/l2gateway/service_drivers/__init__.py', 'networking_l2gw/db/l2gateway/ovsdb/lib.py', 'requirements.txt', 'bindep.txt', 'networking_l2gw/cmd/__init__.py', 'networking_l2gw/tests/unit/db/test_l2gw_db.py', 'networking_l2gw/l2gatewayclient/osc/__init__.py', 'networking_l2gw/db/__init__.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_common_class.py', 'networking_l2gw/db/l2gateway/ovsdb/__init__.py', 'contrib/README_install_l2gateway_agent.rst', 'networking_l2gw/tests/unit/services/l2gateway/service_drivers/test_agent_api.py', 'networking_l2gw/db/migration/alembic_migrations/versions/newton/expand/49ce408ac349_add_indexes_to_tenant_id.py', 'debian/control', 'networking_l2gw/services/l2gateway/common/__init__.py', 'networking_l2gw/services/l2gateway/ovsdb/data.py', 'networking_l2gw/tests/unit/db/ovsdb/test_idl_impl.py', 'networking_l2gw/services/l2gateway/common/config.py', 'doc/source/index.rst', 'networking_l2gw/services/l2gateway/__init__.py', 'specs/newton/l2-border-gateway-api.rst', 'specs/kilo/l2-gateway-api-implementation.rst', 'networking_l2gw/db/migration/alembic_migrations/__init__.py', 'networking_l2gw/services/l2gateway/common/topics.py', 'networking_l2gw/services/l2gateway/agent/l2gateway_config.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/README.rst', 'doc/source/images/L2GW_deployment.png', 'networking_l2gw/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_l2gw/services/l2gateway/agent/ovsdb/manager.py', 'HACKING.rst', 'networking_l2gw/tests/unit/services/l2gateway/test_plugin.py', 'networking_l2gw/l2gatewayclient/__init__.py', 'networking_l2gw/services/l2gateway/l2gw_agent.py', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/__init__.py', 'networking_l2gw/services/__init__.py', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/_l2_gateway_connection.py', 'README.rst', 'networking_l2gw/db/migration/alembic_migrations/versions/kilo_release.py', 'setup.py', 'networking_l2gw/db/migration/alembic_migrations/versions/start_networking_l2gw.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/__init__.py', 'devstack/settings', 'CONTRIBUTING.rst', 'networking_l2gw/tests/unit/l2gatewayclient/test_cli20.py', 'networking_l2gw/extensions/l2gateway.py', 'networking_l2gw/services/l2gateway/common/ovsdb_schema.py', 'LICENSE', 'etc/policy.json', 'networking_l2gw/services/l2gateway/agent/ovsdb/native/__init__.py', 'debian/rules', 'networking_l2gw/__init__.py', 'networking_l2gw/tests/__init__.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/impl_idl.py', 'networking_l2gw/db/migration/alembic_migrations/versions/queens/contract/0fb45e525aa9_add_standard_attribute_id_for_l2gw.py', 'MANIFEST.in', 'doc/source/installation.rst', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_base_connection.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_ovsdb_writer.py', 'specs/kilo/l2-gateway-api.rst', 'networking_l2gw/services/l2gateway/agent/ovsdb/native/commands.py', 'etc/l2gateway_agent.ini', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_model.py', 'setup.cfg', 'networking_l2gw/tests/contrib/post_test_hook.sh', 'networking_l2gw/tests/unit/services/l2gateway/ovsdb/__init__.py', 'tox.ini', 'networking_l2gw/_i18n.py', 'contrib/install_and_config_l2gateway_plugin.sh', 'networking_l2gw/tests/unit/services/__init__.py', 'doc/source/contributing.rst', '.gitignore', 'networking_l2gw/tests/unit/services/l2gateway/common/test_tunnel_calls.py', 'networking_l2gw/tests/unit/services/l2gateway/common/__init__.py', 'networking_l2gw/tests/unit/services/l2gateway/service_drivers/__init__.py', 'networking_l2gw/db/l2gateway/l2gateway_db.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/test_base_agent_manager.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/native/connection.py', 'networking_l2gw/services/l2gateway/common/constants.py', 'networking_l2gw/db/migration/__init__.py', 'networking_l2gw/db/l2gateway/head.py', 'networking_l2gw/services/l2gateway/agent/agent_api.py', 'networking_l2gw/tests/unit/services/l2gateway/test_agent_scheduler.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/api.py', 'networking_l2gw/services/l2gateway/exceptions.py', 'networking_l2gw/db/l2gateway/l2gateway_models.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/__init__.py', 'networking_l2gw/db/migration/alembic_migrations/versions/liberty/contract/79919185aa99_initial_contract.py', 'networking_l2gw/services/l2gateway/service_drivers/rpc_l2gw.py', 'networking_l2gw/services/l2gateway/common/tunnel_calls.py', 'etc/l2gw_plugin.ini', 'networking_l2gw/tests/unit/db/ovsdb/test_lib.py', 'devstack/plugin.sh', 'doc/source/conf.py', 'debian/copyright', 'devstack/README.rst', 'networking_l2gw/services/l2gateway/ovsdb/__init__.py', 'networking_l2gw/tests/unit/l2gatewayclient/test_cli20_l2gw_ext.py', 'networking_l2gw/db/migration/alembic_migrations/versions/queens/expand/8d7d772eafcf_add_standard_attribute_id_for_l2gw.py', '.testr.conf', 'networking_l2gw/services/l2gateway/common/l2gw_validators.py', 'networking_l2gw/tests/unit/services/l2gateway/ovsdb/test_data.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'networking_l2gw/db/l2gateway/db_query.py', 'networking_l2gw/extensions/__init__.py', 'tools/pretty_tox_serial.sh']",163,5d540aa0c271eee50b8d1ea2b04bdda2eeb237e3,complete-retirement-networking-l2gw,,#!/usr/bin/env bash set -o pipefail TESTRARGS=$@ if [ ! -d .testrepository ]; then testr init fi testr run --subunit $TESTRARGS | subunit-trace -f -n retval=$? testr slowest exit $retval ,4,19918
openstack%2Fnetworking-l2gw-tempest-plugin~master~I59471e72a37b5d89c2ee913b824115f739c9c5c9,openstack/networking-l2gw-tempest-plugin,master,I59471e72a37b5d89c2ee913b824115f739c9c5c9,Retiring openstack/networking-l2gw-tempest-plugin,MERGED,2020-09-02 19:25:31.000000000,2020-09-03 14:32:57.000000000,2020-09-03 14:32:56.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 19:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/a11dc79618d116af14705fb95627cda436d26cd8', 'message': 'Retiring openstack/networking-l2gw-tempest-plugin\n\nnetworking-l2gw-tempest-plugin moved to\nx/networking-l2gw-tempest-plugin, thus the code in this location is no\nlonger maintained.\n\nChange-Id: I59471e72a37b5d89c2ee913b824115f739c9c5c9\nDepends-On: https://review.opendev.org/738040\n'}, {'number': 2, 'created': '2020-09-03 14:22:42.000000000', 'files': ['networking_l2gw_tempest_plugin/etc/tempest.conf.sample', 'networking_l2gw_tempest_plugin/tests/api/clients.py', 'doc/source/contributing.rst', '.gitignore', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateway_connections_client.py', 'test-requirements.txt', 'networking_l2gw_tempest_plugin/plugin.py', 'README.rst', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_extensions.py', 'networking_l2gw_tempest_plugin/services/l2gw/__init__.py', 'setup.py', 'networking_l2gw_tempest_plugin/tests/api/base_l2gw.py', 'networking_l2gw_tempest_plugin/tests/scenario/__init__.py', 'CONTRIBUTING.rst', 'requirements.txt', 'contrib/post_test_hook.sh', 'networking_l2gw_tempest_plugin/config.py', 'networking_l2gw_tempest_plugin/tests/scenario/ovsdb_connections.py', 'networking_l2gw_tempest_plugin/tests/scenario/test_l2gateways.py', 'LICENSE', 'networking_l2gw_tempest_plugin/__init__.py', 'babel.cfg', 'doc/source/conf.py', 'doc/source/tempest-plugin.rst', 'networking_l2gw_tempest_plugin/tests/__init__.py', 'doc/source/index.rst', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateways_client.py', 'networking_l2gw_tempest_plugin/tests/api/__init__.py', 'doc/source/releasenotes.rst', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_negative.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'contrib/gate_hook.sh', 'networking_l2gw_tempest_plugin/services/__init__.py', 'setup.cfg', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/908a6a491c1253a2d519f226012935046433b7f0', 'message': 'Retiring openstack/networking-l2gw-tempest-plugin\n\nnetworking-l2gw-tempest-plugin moved to\nx/networking-l2gw-tempest-plugin, thus the code in this location is no\nlonger maintained.\n\nChange-Id: I59471e72a37b5d89c2ee913b824115f739c9c5c9\n'}]",1,749580,908a6a491c1253a2d519f226012935046433b7f0,9,3,2,8313,,,0,"Retiring openstack/networking-l2gw-tempest-plugin

networking-l2gw-tempest-plugin moved to
x/networking-l2gw-tempest-plugin, thus the code in this location is no
longer maintained.

Change-Id: I59471e72a37b5d89c2ee913b824115f739c9c5c9
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/80/749580/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_l2gw_tempest_plugin/etc/tempest.conf.sample', 'networking_l2gw_tempest_plugin/tests/api/clients.py', 'doc/source/contributing.rst', '.gitignore', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateway_connections_client.py', 'test-requirements.txt', 'networking_l2gw_tempest_plugin/plugin.py', 'README.rst', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_extensions.py', 'networking_l2gw_tempest_plugin/services/l2gw/__init__.py', 'setup.py', 'networking_l2gw_tempest_plugin/tests/api/base_l2gw.py', 'networking_l2gw_tempest_plugin/tests/scenario/__init__.py', 'CONTRIBUTING.rst', 'requirements.txt', 'contrib/post_test_hook.sh', 'networking_l2gw_tempest_plugin/config.py', 'networking_l2gw_tempest_plugin/tests/scenario/ovsdb_connections.py', 'networking_l2gw_tempest_plugin/tests/scenario/test_l2gateways.py', 'LICENSE', 'networking_l2gw_tempest_plugin/__init__.py', 'babel.cfg', 'doc/source/conf.py', 'doc/source/tempest-plugin.rst', 'networking_l2gw_tempest_plugin/tests/__init__.py', 'doc/source/index.rst', 'networking_l2gw_tempest_plugin/services/l2gw/l2_gateways_client.py', 'networking_l2gw_tempest_plugin/tests/api/__init__.py', 'doc/source/releasenotes.rst', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_negative.py', 'doc/requirements.txt', 'doc/source/readme.rst', 'contrib/gate_hook.sh', 'networking_l2gw_tempest_plugin/services/__init__.py', 'setup.cfg', 'tox.ini', 'HACKING.rst']",37,a11dc79618d116af14705fb95627cda436d26cd8,complete-retirement-networking-l2gw,,networking-l2gw-tempest-plugin Style Commandments =============================================== Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/ ,5,2158
openstack%2Fkolla~stable%2Fussuri~I71ba982339d5dd4306b2166d346e3e6b1f3af60e,openstack/kolla,stable/ussuri,I71ba982339d5dd4306b2166d346e3e6b1f3af60e,Install newer virtualenv with relaxed importlib,MERGED,2020-09-02 16:15:20.000000000,2020-09-03 14:29:41.000000000,2020-09-03 14:27:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-02 16:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c309d54810ec3dc81c93e10afb92fef4bb62088', 'message': 'Install newer virtualenv with relaxed importlib\n\nAfter setuptools 50.x release - virtualenv dictated by Ussuri constraints\ncause an error when using --system-site-packages, installing newer virtualenv\nsolves the issue.\n\nChange-Id: I71ba982339d5dd4306b2166d346e3e6b1f3af60e\nCloses-Bug: #1893920\n'}, {'number': 2, 'created': '2020-09-02 16:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/efef3f52e2e823f36da5e44db3f93c3dc4f07c5c', 'message': 'Install newer virtualenv with relaxed importlib\n\nAfter setuptools 50.x release - virtualenv dictated by Ussuri constraints\ncause an error when using --system-site-packages, installing newer virtualenv\nsolves the issue.\nVirtualenv 2.0.22 (and later) introduced a change to relax importlib.resources\nrequirements which seems to solve the issue.\n\nChange-Id: I71ba982339d5dd4306b2166d346e3e6b1f3af60e\nCloses-Bug: #1893920\n'}, {'number': 3, 'created': '2020-09-02 16:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c3a3776781d1f462da9d8224fe8d91727cbb957d', 'message': 'Install newer virtualenv with relaxed importlib\n\nAfter setuptools 50.x release - virtualenv dictated by Ussuri constraints\ncause an error when using --system-site-packages, installing newer virtualenv\nsolves the issue.\nVirtualenv 2.0.22 (and later) introduced a change to relax importlib.resources\nrequirements which seems to solve the issue.\n\nChange-Id: I71ba982339d5dd4306b2166d346e3e6b1f3af60e\nCloses-Bug: #1893920\n'}, {'number': 4, 'created': '2020-09-02 18:29:18.000000000', 'files': ['docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/aecf4c51e1d6a8795931191edb1f5aae29f93b4e', 'message': 'Install newer virtualenv with relaxed importlib\n\nAfter setuptools 50.x release - virtualenv dictated by Ussuri constraints\ncause an error when using --system-site-packages, installing newer virtualenv\nsolves the issue.\nVirtualenv 2.0.22 (and later) introduced a change to relax importlib.resources\nrequirements which seems to solve the issue.\n\nChange-Id: I71ba982339d5dd4306b2166d346e3e6b1f3af60e\nCloses-Bug: #1893920\n'}]",0,749548,aecf4c51e1d6a8795931191edb1f5aae29f93b4e,23,4,4,22629,,,0,"Install newer virtualenv with relaxed importlib

After setuptools 50.x release - virtualenv dictated by Ussuri constraints
cause an error when using --system-site-packages, installing newer virtualenv
solves the issue.
Virtualenv 2.0.22 (and later) introduced a change to relax importlib.resources
requirements which seems to solve the issue.

Change-Id: I71ba982339d5dd4306b2166d346e3e6b1f3af60e
Closes-Bug: #1893920
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/749548/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/Dockerfile.j2'],1,9c309d54810ec3dc81c93e10afb92fef4bb62088,bug/1893920,"RUN {{ macros.install_pip(kolla_toolbox_pip_virtualenv_packages | customizable(""pip_virtualenv_packages"", constraints=false)) }} \","RUN mkdir -p /requirements \ && curl -sSL -o /requirements/upper-constraints.txt https://releases.openstack.org/constraints/upper/{{ openstack_release }} \ && {{ macros.install_pip(kolla_toolbox_pip_virtualenv_packages | customizable(""pip_virtualenv_packages"")) }} \",1,3
openstack%2Fkolla~stable%2Fstein~I79ee884ad35bf5166c9ea303d73416271ff5f637,openstack/kolla,stable/stein,I79ee884ad35bf5166c9ea303d73416271ff5f637,Fix ironic build issues - LANG related,MERGED,2020-08-28 10:22:21.000000000,2020-09-03 14:29:24.000000000,2020-09-03 14:27:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-28 10:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf7289c909ee58c500acba00be2ddaa0930255a0', 'message': ""Fix ironic build issues - LANG related\n\nironic drivers-requirements installation fails with:\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc5 in position 2:\nordinal not in range(128)\n\nSquashed ,,cherry-pick'' from stable/train - adding LANG block and locale-gen\nfor Ubuntu family in base Dockerfile.\n\nChange-Id: I79ee884ad35bf5166c9ea303d73416271ff5f637\n""}, {'number': 2, 'created': '2020-08-28 10:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8f72aef547d3e2d3d15d110070c3b38fd1044396', 'message': ""Fix ironic build issues - LANG related\n\nironic drivers-requirements installation fails with:\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc5 in position 2:\nordinal not in range(128)\n\nSquashed ,,cherry-pick'' from stable/train - adding LANG block and locale-gen\nfor Ubuntu family in base Dockerfile:\n\nhttps://review.opendev.org/#/c/684808/\nhttps://review.opendev.org/#/c/691835/\nhttps://review.opendev.org/#/c/694099/\n\nChange-Id: I79ee884ad35bf5166c9ea303d73416271ff5f637\n""}, {'number': 3, 'created': '2020-09-03 10:06:12.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c435cb0781b343ad7f7223609cf2eefb2f8738a', 'message': ""Fix ironic build issues - LANG related\n\nironic drivers-requirements installation fails with:\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc5 in position 2:\nordinal not in range(128)\n\nSquashed ,,cherry-pick'' from stable/train - adding LANG block and locale-gen\nfor Ubuntu family in base Dockerfile:\n\nhttps://review.opendev.org/#/c/684808/\nhttps://review.opendev.org/#/c/691835/\nhttps://review.opendev.org/#/c/694099/\n\nTemporarily blocks bifrost building as well - to revert!\n\nChange-Id: I79ee884ad35bf5166c9ea303d73416271ff5f637\n""}]",0,748599,3c435cb0781b343ad7f7223609cf2eefb2f8738a,18,7,3,22629,,,0,"Fix ironic build issues - LANG related

ironic drivers-requirements installation fails with:
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc5 in position 2:
ordinal not in range(128)

Squashed ,,cherry-pick'' from stable/train - adding LANG block and locale-gen
for Ubuntu family in base Dockerfile:

https://review.opendev.org/#/c/684808/
https://review.opendev.org/#/c/691835/
https://review.opendev.org/#/c/694099/

Temporarily blocks bifrost building as well - to revert!

Change-Id: I79ee884ad35bf5166c9ea303d73416271ff5f637
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/748599/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,bf7289c909ee58c500acba00be2ddaa0930255a0,,"{% block base_lang %} # NOTE(yoctozepto): use a UTF-8 (Unicode) locale like standard image installs do # fixes issues arising from ascii fallback usage ENV LANG en_US.UTF-8 {% endblock %} && apt-get -y install locales \ && sed -e ""s/# $LANG UTF-8/$LANG UTF-8/g"" /etc/locale.gen -i \ && locale-gen ""$LANG"" \",,9,0
openstack%2Fgovernance~master~Ic72a140dffd0fdf79e7ef6470db9796425c322c2,openstack/governance,master,Ic72a140dffd0fdf79e7ef6470db9796425c322c2,kolla-cli: deprecation - Mark kolla-cli as Deprecated,ABANDONED,2020-09-03 14:19:48.000000000,2020-09-03 14:22:23.000000000,,[],"[{'number': 1, 'created': '2020-09-03 14:19:48.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e008ba01e8946c8029c8dcd1b1ff7b1a19ce5b66', 'message': 'kolla-cli: deprecation - Mark kolla-cli as Deprecated\n\nStep 4 from:\nhttps://docs.openstack.org/project-team-guide/repository.html#step-4-mark-the-repository-as-deprecated-in-the-governance-repository\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nDepends-On: https://review.opendev.org/#/c/749740/\nChange-Id: Ic72a140dffd0fdf79e7ef6470db9796425c322c2\n'}]",0,749746,e008ba01e8946c8029c8dcd1b1ff7b1a19ce5b66,2,0,1,26285,,,0,"kolla-cli: deprecation - Mark kolla-cli as Deprecated

Step 4 from:
https://docs.openstack.org/project-team-guide/repository.html#step-4-mark-the-repository-as-deprecated-in-the-governance-repository

Deprecation notice:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Depends-On: https://review.opendev.org/#/c/749740/
Change-Id: Ic72a140dffd0fdf79e7ef6470db9796425c322c2
",git fetch https://review.opendev.org/openstack/governance refs/changes/46/749746/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,e008ba01e8946c8029c8dcd1b1ff7b1a19ce5b66,, deprecated: victoria release-management: deprecated,,2,0
openstack%2Fopenstack-manuals~master~I11c39cae9f01898d4f50043301a39f72e66ae8d4,openstack/openstack-manuals,master,I11c39cae9f01898d4f50043301a39f72e66ae8d4,kolla-cli: deprecation - Remove docs.openstack.org content,ABANDONED,2020-09-03 14:02:27.000000000,2020-09-03 14:20:44.000000000,,"[{'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-03 14:02:27.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b5d60660a59eb988e7a56e40d8ce6b74d00f6e32', 'message': 'kolla-cli: deprecation - Remove docs.openstack.org content\n\nStep 3 from:\nhttps://docs.openstack.org/project-team-guide/repository.html#step-3-remove-docs-openstack-org-content\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nDepends-On: https://review.opendev.org/749045\nChange-Id: I11c39cae9f01898d4f50043301a39f72e66ae8d4\n'}]",0,749740,b5d60660a59eb988e7a56e40d8ce6b74d00f6e32,4,2,1,26285,,,0,"kolla-cli: deprecation - Remove docs.openstack.org content

Step 3 from:
https://docs.openstack.org/project-team-guide/repository.html#step-3-remove-docs-openstack-org-content

Deprecation notice:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Depends-On: https://review.opendev.org/749045
Change-Id: I11c39cae9f01898d4f50043301a39f72e66ae8d4
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/40/749740/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,b5d60660a59eb988e7a56e40d8ce6b74d00f6e32,," 'openstack/kolla-cli',",,1,0
openstack%2Fsahara-image-elements~stable%2Ftrain~I7accc23d6e91ff4a525c31616033f76c07dec21e,openstack/sahara-image-elements,stable/train,I7accc23d6e91ff4a525c31616033f76c07dec21e,Fix URL of Maven Central Repository,MERGED,2020-08-25 11:15:30.000000000,2020-09-03 14:19:31.000000000,2020-09-03 14:19:31.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-08-25 11:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/19238b0a900674ce6c31f9f9b31d5c6acc24d686', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)\n(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)\n'}, {'number': 2, 'created': '2020-08-25 11:55:26.000000000', 'files': ['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/b60f08f7599a2e01c84ca3e3958021804a50ea7c', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)\n(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)\n'}]",27,747904,b60f08f7599a2e01c84ca3e3958021804a50ea7c,9,3,2,10459,,,0,"Fix URL of Maven Central Repository

Change-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e
Story: 2007996
Task: 40639
(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)
(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/04/747904/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes']",2,19238b0a900674ce6c31f9f9b31d5c6acc24d686,, wget https://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;, wget http://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;,5,5
openstack%2Ftripleo-quickstart~master~Iffc8cfd65a2bdb125d81e424a0b5d3beb403fd2a,openstack/tripleo-quickstart,master,Iffc8cfd65a2bdb125d81e424a0b5d3beb403fd2a,Stop to use the __future__ module.,ABANDONED,2020-06-02 19:05:12.000000000,2020-09-03 14:19:05.000000000,,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 19:05:12.000000000', 'files': ['tests/test_release_files.py'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/82871a248b52e299a036f0ec46bb4ab5e9a81258', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Iffc8cfd65a2bdb125d81e424a0b5d3beb403fd2a\n""}]",4,732969,82871a248b52e299a036f0ec46bb4ab5e9a81258,18,11,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Iffc8cfd65a2bdb125d81e424a0b5d3beb403fd2a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/69/732969/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_release_files.py'],1,82871a248b52e299a036f0ec46bb4ab5e9a81258,drop_future_imports,,from __future__ import print_function,0,1
openstack%2Fdiskimage-builder~master~I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58,openstack/diskimage-builder,master,I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58,Validate virtualenv and pip,ABANDONED,2020-02-11 10:58:05.000000000,2020-09-03 14:16:25.000000000,,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 9592}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-11 10:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dbf80137f68629901c27309363c03991a3788778', 'message': 'WIP: Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing broken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\n'}, {'number': 2, 'created': '2020-02-11 12:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a1f62593506a284b554c4775e09f88d3a04575d2', 'message': 'WIP: Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing broken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\nDepends-On: https://review.opendev.org/#/c/707112/\n'}, {'number': 3, 'created': '2020-02-11 13:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/27069df9da012314ab51ed8b125179e06d2a13c3', 'message': 'WIP: Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing broken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\nDepends-On: https://review.opendev.org/#/c/707112/\n'}, {'number': 4, 'created': '2020-02-18 21:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/766424a84b281d28bce467915d1607734e2e2625', 'message': 'WIP: Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing broken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\nDepends-On: https://review.opendev.org/#/c/707112/\n'}, {'number': 5, 'created': '2020-03-30 09:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ac4611f0fe907c78aade932b4d4d564667a94bd5', 'message': 'Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing\nbroken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\n'}, {'number': 6, 'created': '2020-03-30 09:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9a444104cb384d58f51800369f1d6d7b5d777582', 'message': 'Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing\nbroken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\n'}, {'number': 7, 'created': '2020-03-31 10:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1fc9d01b5174a3d8c09192be47d2bec2347b6460', 'message': 'Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing\nbroken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\n'}, {'number': 8, 'created': '2020-04-01 09:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f29357c2531e920dbbdadda54ae95a9e6817568a', 'message': 'Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing\nbroken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\n'}, {'number': 9, 'created': '2020-05-22 07:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ac8d4b38f53f05de1ffb066476bece493f3adb01', 'message': 'Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing\nbroken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\n'}, {'number': 10, 'created': '2020-08-24 17:54:02.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fc0c7a21de8467cd41f08ab96d4f13838dec86f6', 'message': 'Validate virtualenv and pip\n\nThis should be a fail-safe mechanism for protecting us from installing\nbroken virtualenv or pip commands.\n\nChange-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58\n'}]",6,707104,fc0c7a21de8467cd41f08ab96d4f13838dec86f6,50,7,10,24162,,,0,"Validate virtualenv and pip

This should be a fail-safe mechanism for protecting us from installing
broken virtualenv or pip commands.

Change-Id: I5f2df8ff2f148af6e80b0a8c38e4fe89a29e8d58
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/04/707104/10 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,dbf80137f68629901c27309363c03991a3788778,virtualenv,"# validation of virtualenv # https://github.com/pypa/virtualenv/issues/1551 PYTHON=%(which -a python3 python python2|head -n1) $PYTHON -m virtualenv --help # validation of pip, conflict reported is sign of something will break $PYTHON -m pip check",,6,0
openstack%2Fnova~master~I1d8d2e6f5020f02a92ab5907043dba3784ce3bf1,openstack/nova,master,I1d8d2e6f5020f02a92ab5907043dba3784ce3bf1,libvirt: Remove MIN_QEMU_VTPM,ABANDONED,2020-09-03 11:24:10.000000000,2020-09-03 14:10:15.000000000,,"[{'_account_id': 10135}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-03 11:24:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_vtpm.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/738d720e3ec2272aeda89435bb0e6a015b530b6e', 'message': 'libvirt: Remove MIN_QEMU_VTPM\n\nI8e349849db0b1a540d295c903f1470917b82fd97 has bumped MIN_QEMU_VERSION\npast this so remove the constant and associated logic.\n\nChange-Id: I1d8d2e6f5020f02a92ab5907043dba3784ce3bf1\n'}]",0,749708,738d720e3ec2272aeda89435bb0e6a015b530b6e,5,3,1,10135,,,0,"libvirt: Remove MIN_QEMU_VTPM

I8e349849db0b1a540d295c903f1470917b82fd97 has bumped MIN_QEMU_VERSION
past this so remove the constant and associated logic.

Change-Id: I1d8d2e6f5020f02a92ab5907043dba3784ce3bf1
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/749708/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_vtpm.py']",2,738d720e3ec2272aeda89435bb0e6a015b530b6e,bump-libvirt-qemu-victoria," libvirt_version=libvirt_version, hostname=hostname)","FAKE_QEMU_VERSION = versionutils.convert_version_to_int(driver.MIN_QEMU_VTPM) qemu_version = versionutils.convert_version_to_int( driver.MIN_QEMU_VTPM) libvirt_version=libvirt_version, qemu_version=qemu_version, hostname=hostname)",2,8
openstack%2Ftripleo-ci~master~I96f2d5d3c6346761315557c00c2036526ba6e73e,openstack/tripleo-ci,master,I96f2d5d3c6346761315557c00c2036526ba6e73e,Run standalone scenario jobs at tht podman changes,ABANDONED,2019-02-12 12:23:52.000000000,2020-09-03 14:07:35.000000000,,"[{'_account_id': 7144}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9196}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-02-12 12:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d2f1bda0703f3961aab8b72720fec1e2a75f6a2', 'message': 'Run standalone scenario jobs at tht podman changes\n\nAlthough we override container_cli with docker, the containter image\nprepare script is using podman, so any change in the podman installation\nhave to trigger those jobs\n\nChange-Id: I96f2d5d3c6346761315557c00c2036526ba6e73e\n'}, {'number': 2, 'created': '2019-02-12 12:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/829ba80df85d1b10ea625e599658201cddbae371', 'message': 'Run standalone scenario jobs at tht podman changes\n\nAlthough we override container_cli with docker, the containter image\nprepare script is using podman, so any change in the podman installation\nhave to trigger those jobs\n\nRelated-Bug: #1815576\n\nChange-Id: I96f2d5d3c6346761315557c00c2036526ba6e73e\n'}, {'number': 3, 'created': '2019-08-25 11:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7b270d4b2abd696f5cb8a7d4d02124196562dcd', 'message': 'Run standalone scenario jobs at tht podman changes\n\nAlthough we override container_cli with docker, the containter image\nprepare script is using podman, so any change in the podman installation\nhave to trigger those jobs\n\nRelated-Bug: #1815576\n\nChange-Id: I96f2d5d3c6346761315557c00c2036526ba6e73e\n'}, {'number': 4, 'created': '2019-09-19 00:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/be0d8bc675123e76d45be8021383e960cbcbed8b', 'message': 'Run standalone scenario jobs at tht podman changes\n\nAlthough we override container_cli with docker, the containter image\nprepare script is using podman, so any change in the podman installation\nhave to trigger those jobs\n\nRelated-Bug: #1815576\n\nChange-Id: I96f2d5d3c6346761315557c00c2036526ba6e73e\n'}, {'number': 5, 'created': '2020-03-25 09:50:44.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aace38bf622c732e902d0ef4d985c9ad344b2d14', 'message': 'Run standalone scenario jobs at tht podman changes\n\nAlthough we override container_cli with docker, the containter image\nprepare script is using podman, so any change in the podman installation\nhave to trigger those jobs\n\nRelated-Bug: #1815576\n\nChange-Id: I96f2d5d3c6346761315557c00c2036526ba6e73e\n'}]",0,636323,aace38bf622c732e902d0ef4d985c9ad344b2d14,39,13,5,27898,,,0,"Run standalone scenario jobs at tht podman changes

Although we override container_cli with docker, the containter image
prepare script is using podman, so any change in the podman installation
have to trigger those jobs

Related-Bug: #1815576

Change-Id: I96f2d5d3c6346761315557c00c2036526ba6e73e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/23/636323/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,5d2f1bda0703f3961aab8b72720fec1e2a75f6a2,bug/1815576, - deployment/podman/* - deployment/podman/* - deployment/podman/* - deployment/podman/*,,4,0
openstack%2Fironic~master~If9ead46db30ce519f128550f1071a1f01f7a5ccf,openstack/ironic,master,If9ead46db30ce519f128550f1071a1f01f7a5ccf,Add L3 boot section to the docs,MERGED,2019-10-21 16:59:42.000000000,2020-09-03 13:57:44.000000000,2020-09-03 13:54:53.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 32349}]","[{'number': 1, 'created': '2019-10-21 16:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45eb3521d2c5bd50ebbda44688d85f631e81a2db', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less boot in the `redfish`\nhardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\n'}, {'number': 2, 'created': '2019-10-23 05:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6cbf278ac41e5395cae319b7bcd8d4bdedf6cd13', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less boot in the `redfish`\nhardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 3, 'created': '2019-11-04 12:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f2aab4473f554d8f91b8f72d6341738cc50612f', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less boot in the `redfish`\nhardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 4, 'created': '2019-11-21 11:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6bf57c81e554161f0189b95bf38de6974cebef69', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less boot in the `redfish`\nhardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 5, 'created': '2019-11-26 17:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0f519f1482759a0d3f740938816f35c300071e7c', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less boot in the `redfish`\nhardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 6, 'created': '2019-11-27 10:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66631d6ad233b9815ed6b9fba88e3b0245feb469', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less boot in the `redfish`\nhardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 7, 'created': '2020-04-01 15:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bbe1ef9fef0f3fee3bfa997446f3dd115a20d785', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 8, 'created': '2020-04-01 22:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/30791904d07349eb063f51894c5e69fd86cbd256', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 9, 'created': '2020-04-06 09:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fca1fbe5d97c8722a78940ee0b57c38ba2fc096', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 10, 'created': '2020-04-07 12:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18dea7b6397991f48f54a86f62b58d2d6665b128', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 11, 'created': '2020-04-09 09:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/afc94278060fdc6bf99e2157df72b14998dda989', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 12, 'created': '2020-04-09 13:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4277198cd4432a67652f0e8fc50e8b8913b9273', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 13, 'created': '2020-04-14 17:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d7f056c1275d92e6393768b6d41c867ba23332f', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 14, 'created': '2020-04-15 18:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/94ed31766f889d3456aaa44ced54302691c32110', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 15, 'created': '2020-04-17 08:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93a810a4fc6dc000eabe0578990a227072d65b56', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 16, 'created': '2020-05-05 16:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8858a97fdb1a7b92fc43529c0d6f197cc5671153', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 17, 'created': '2020-06-15 15:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98955e08e70c46aa1548e7b3a90b80dc01fa25f4', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 18, 'created': '2020-08-27 07:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/704ca7b13d6ea17d2ea2928676a2750e097f90ff', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nCo-Authored: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 19, 'created': '2020-08-28 14:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1d2264edd7c11f2fab23563f906be2d74bff03ff', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nCo-Authored: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 20, 'created': '2020-08-31 21:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/70bdc922d5145f3582bad3807e4934f578abcac1', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nCo-Authored: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}, {'number': 21, 'created': '2020-09-02 14:58:26.000000000', 'files': ['doc/source/admin/drivers/redfish.rst', 'doc/source/install/deploy-ramdisk.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/747753f911910e9641db54f616f3d7d11f427426', 'message': 'Add L3 boot section to the docs\n\nDescribes virtual media based L3/DHCP-less ramdisk booting in the\n`redfish` hardware type documentation.\n\nAdded warning to the deploy-ramdisk docs since the images\nwe publish will not work.\n\nCo-Authored: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nChange-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf\nStory: 2006691\nTask: 37073\n'}]",38,689844,747753f911910e9641db54f616f3d7d11f427426,85,9,21,26340,,,0,"Add L3 boot section to the docs

Describes virtual media based L3/DHCP-less ramdisk booting in the
`redfish` hardware type documentation.

Added warning to the deploy-ramdisk docs since the images
we publish will not work.

Co-Authored: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
Change-Id: If9ead46db30ce519f128550f1071a1f01f7a5ccf
Story: 2006691
Task: 37073
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/689844/19 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/redfish.rst'],1,45eb3521d2c5bd50ebbda44688d85f631e81a2db,08-add-dhcpless-doc,"Layer 3 or DHCP-less boot ^^^^^^^^^^^^^^^^^^^^^^^^^ Almost all of the protocols of the PXE suite run on top of lossy datagram layer (UDP) of the networking stack. Some, notably DHCP, require direct L2 connectivity between the node and the service. When the scale of the hardware management grows beyond certain size or the network spans across less reliable links, L2 requirement may become a limiting factor. One of the solutions is the reliance on virtual media boot capability coupled with another feature of ``redfish`` hardware type - its ability to provide network configuration to the node in form of OpenStack Nova network_data_ JSON file placed on the config-drive_. The config drive is provided in form of an ISO image file (``/config-2.img``) written into the root directory of the ISO image from which the node is booted. The assumption is that some tool in the boot chain (e.g. cloud-init_) will consume static network configuration off the config drive and set up node's networking stack accordingly without calling out for DHCP. .. note:: Deploy ramdisk used by ironic for in-band node management respects the way of booting described in this chapter. When ironic is run within OpenStack, no additional configuration is required on the ironic side - config drive with node network configuration will be collected from Neutron and written on boot ISO, unless config drive is passed to ironic by Nova. Alternatively, the user can build and pass node network configuration, in form of a network_data_ JSON blob, to ironic port/portgroup associated with the node being managed via the ``--network-data`` CLI option. Port-based configuration takes precedence over Neutron-originated one. .. code-block:: bash openstack baremetal port set \ --network-data ~/network_data.json port-0 Port-based configuration can be useful in stand-alone ironic deployment scenario. .. _network_data: https://specs.openstack.org/openstack/nova-specs/specs/liberty/implemented/metadata-service-network-info.html .. _config-drive: https://docs.openstack.org/nova/queens/user/config-drive.html .. _cloud-init: https://cloudinit.readthedocs.io/en/latest/",,46,0
openstack%2Fironic~master~Idf3bbc6d24042ce1d9a895095b5cb0979dd3183d,openstack/ironic,master,Idf3bbc6d24042ce1d9a895095b5cb0979dd3183d,Allow setting image_download_source per node,MERGED,2020-09-02 13:41:40.000000000,2020-09-03 13:55:52.000000000,2020-09-03 13:50:46.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 13:41:40.000000000', 'files': ['doc/source/admin/interfaces/deploy.rst', 'ironic/drivers/modules/agent.py', 'releasenotes/notes/image_download_source-842282c70b226e93.yaml', 'ironic/drivers/modules/deploy_utils.py', 'doc/source/install/standalone.rst', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/840ce1666830633bae74db74b677a9ae9a013d9f', 'message': 'Allow setting image_download_source per node\n\nAllows certain flexibility when it comes to low RAM vs high RAM nodes,\nand large vs small images. Also deploy_interface is settable per node,\nso this feature makes it easier to migrate from the iscsi deploy.\n\nStory: #2008075\nTask: #40766\nChange-Id: Idf3bbc6d24042ce1d9a895095b5cb0979dd3183d\n'}]",0,749504,840ce1666830633bae74db74b677a9ae9a013d9f,11,4,1,10239,,,0,"Allow setting image_download_source per node

Allows certain flexibility when it comes to low RAM vs high RAM nodes,
and large vs small images. Also deploy_interface is settable per node,
so this feature makes it easier to migrate from the iscsi deploy.

Story: #2008075
Task: #40766
Change-Id: Idf3bbc6d24042ce1d9a895095b5cb0979dd3183d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/749504/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/interfaces/deploy.rst', 'ironic/drivers/modules/agent.py', 'releasenotes/notes/image_download_source-842282c70b226e93.yaml', 'ironic/drivers/modules/deploy_utils.py', 'doc/source/install/standalone.rst', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",7,840ce1666830633bae74db74b677a9ae9a013d9f,story/2008075," @mock.patch.object(image_service.HttpImageService, 'validate_href', autospec=True) def test_build_instance_info_local_image_via_iinfo(self, validate_href_mock): cfg.CONF.set_override('image_download_source', 'http', group='agent') i_info = self.node.instance_info driver_internal_info = self.node.driver_internal_info i_info['image_source'] = 'http://image-ref' i_info['image_checksum'] = 'aa' i_info['root_gb'] = 10 i_info['image_checksum'] = 'aa' i_info['image_download_source'] = 'local' driver_internal_info['is_whole_disk_image'] = True self.node.instance_info = i_info self.node.driver_internal_info = driver_internal_info self.node.save() expected_url = ( 'http://172.172.24.10:8080/agent_images/%s' % self.node.uuid) with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: info = utils.build_instance_info_for_deploy(task) self.assertEqual(expected_url, info['image_url']) self.assertEqual('sha256', info['image_os_hash_algo']) self.assertEqual('fake-checksum', info['image_os_hash_value']) self.cache_image_mock.assert_called_once_with( task.context, task.node, force_raw=True) self.checksum_mock.assert_called_once_with( self.fake_path, algorithm='sha256') validate_href_mock.assert_called_once_with( mock.ANY, expected_url, False) @mock.patch.object(image_service.HttpImageService, 'validate_href', autospec=True) def test_build_instance_info_local_image_via_dinfo(self, validate_href_mock): cfg.CONF.set_override('image_download_source', 'http', group='agent') i_info = self.node.instance_info d_info = self.node.driver_info driver_internal_info = self.node.driver_internal_info i_info['image_source'] = 'http://image-ref' i_info['image_checksum'] = 'aa' i_info['root_gb'] = 10 i_info['image_checksum'] = 'aa' d_info['image_download_source'] = 'local' driver_internal_info['is_whole_disk_image'] = True self.node.instance_info = i_info self.node.driver_info = d_info self.node.driver_internal_info = driver_internal_info self.node.save() expected_url = ( 'http://172.172.24.10:8080/agent_images/%s' % self.node.uuid) with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: info = utils.build_instance_info_for_deploy(task) self.assertEqual(expected_url, info['image_url']) self.assertEqual('sha256', info['image_os_hash_algo']) self.assertEqual('fake-checksum', info['image_os_hash_value']) self.cache_image_mock.assert_called_once_with( task.context, task.node, force_raw=True) self.checksum_mock.assert_called_once_with( self.fake_path, algorithm='sha256') validate_href_mock.assert_called_once_with( mock.ANY, expected_url, False) ",,145,4
openstack%2Fheat-tempest-plugin~master~Iec0d6740e4ece4384a14e3950011e5015ec0fda7,openstack/heat-tempest-plugin,master,Iec0d6740e4ece4384a14e3950011e5015ec0fda7,Increase timeout waiting for second instance to make test more reliable.,ABANDONED,2020-08-28 08:17:45.000000000,2020-09-03 13:49:37.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 08:17:45.000000000', 'files': ['heat_tempest_plugin/tests/scenario/test_aodh_alarm.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/012e02a139a88580bab15dd55c40e9dc478cc4fa', 'message': 'Increase timeout waiting for second instance to make test more reliable.\n\nChange-Id: Iec0d6740e4ece4384a14e3950011e5015ec0fda7\n'}]",0,748586,012e02a139a88580bab15dd55c40e9dc478cc4fa,4,2,1,15895,,,0,"Increase timeout waiting for second instance to make test more reliable.

Change-Id: Iec0d6740e4ece4384a14e3950011e5015ec0fda7
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/86/748586/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/tests/scenario/test_aodh_alarm.py'],1,012e02a139a88580bab15dd55c40e9dc478cc4fa,fix_gates_instability," 180, 2, self.check_instance_count, stack_identifier, 2))"," 120, 2, self.check_instance_count, stack_identifier, 2))",1,1
openstack%2Fironic~master~I8da968ccfad6e7a508e9b763b9e3f96007438b6a,openstack/ironic,master,I8da968ccfad6e7a508e9b763b9e3f96007438b6a,Support caching http:// images locally in the direct deploy,MERGED,2020-09-02 13:00:32.000000000,2020-09-03 13:46:18.000000000,2020-09-03 13:43:40.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-09-02 13:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e4fed5040ecdd5c4b4fde48242bba6711d3e914', 'message': 'Support caching http:// images locally in the direct deploy\n\nFor low RAM nodes we need a way to convert even http:// images to raw\nand serve them locally. Add a new image_download_source value ""local""\nthat works the same as ""http"" but also affects http:// images.\n\nChange-Id: I8da968ccfad6e7a508e9b763b9e3f96007438b6a\nStory: #2008075\nTask: #40765\n'}, {'number': 2, 'created': '2020-09-02 13:16:35.000000000', 'files': ['ironic/conf/agent.py', 'doc/source/admin/interfaces/deploy.rst', 'ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'releasenotes/notes/http-local-4e8f32c6d5309f12.yaml', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ac5c0277022a28f3332a43c9572a56b56a51589', 'message': 'Support caching http:// images locally in the direct deploy\n\nFor low RAM nodes we need a way to convert even http:// images to raw\nand serve them locally. Add a new image_download_source value ""local""\nthat works the same as ""http"" but also affects http:// images.\n\nChange-Id: I8da968ccfad6e7a508e9b763b9e3f96007438b6a\nStory: #2008075\nTask: #40765\n'}]",4,749496,9ac5c0277022a28f3332a43c9572a56b56a51589,15,7,2,10239,,,0,"Support caching http:// images locally in the direct deploy

For low RAM nodes we need a way to convert even http:// images to raw
and serve them locally. Add a new image_download_source value ""local""
that works the same as ""http"" but also affects http:// images.

Change-Id: I8da968ccfad6e7a508e9b763b9e3f96007438b6a
Story: #2008075
Task: #40765
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/749496/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/agent.py', 'doc/source/admin/interfaces/deploy.rst', 'ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'releasenotes/notes/http-local-4e8f32c6d5309f12.yaml', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",7,0e4fed5040ecdd5c4b4fde48242bba6711d3e914,story/2008075," @mock.patch.object(image_service.HttpImageService, 'validate_href', autospec=True) def test_build_instance_info_local_image(self, validate_href_mock): cfg.CONF.set_override('image_download_source', 'local', group='agent') i_info = self.node.instance_info driver_internal_info = self.node.driver_internal_info i_info['image_source'] = 'http://image-ref' i_info['image_checksum'] = 'aa' i_info['root_gb'] = 10 i_info['image_checksum'] = 'aa' driver_internal_info['is_whole_disk_image'] = True self.node.instance_info = i_info self.node.driver_internal_info = driver_internal_info self.node.save() expected_url = ( 'http://172.172.24.10:8080/agent_images/%s' % self.node.uuid) with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: info = utils.build_instance_info_for_deploy(task) self.assertEqual(expected_url, info['image_url']) self.assertEqual('sha256', info['image_os_hash_algo']) self.assertEqual('fake-checksum', info['image_os_hash_value']) self.cache_image_mock.assert_called_once_with( task.context, task.node, force_raw=True) self.checksum_mock.assert_called_once_with( self.fake_path, algorithm='sha256') validate_href_mock.assert_called_once_with( mock.ANY, expected_url, False) ",,67,5
openstack%2Fpuppet-tripleo~master~I4de801a496829bfd062a909f89cf469746e2ae1d,openstack/puppet-tripleo,master,I4de801a496829bfd062a909f89cf469746e2ae1d,[WIP] Pass certificate specs to puppet-memcached,ABANDONED,2020-08-17 09:50:36.000000000,2020-09-03 13:45:28.000000000,,"[{'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 09:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0fc90777fd76588e13fbb17a5ac1fcafec4533b6', 'message': '[WIP] Pass certificate specs to puppet-memcached\n\nChange-Id: I4de801a496829bfd062a909f89cf469746e2ae1d\n'}, {'number': 2, 'created': '2020-08-31 09:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ae6f1b3d2eb3c523d9f1f83cee4a10dd87616fcc', 'message': '[WIP] Pass certificate specs to puppet-memcached\n\nChange-Id: I4de801a496829bfd062a909f89cf469746e2ae1d\n'}, {'number': 3, 'created': '2020-08-31 10:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f9797658f275451da10adfb7fc54b6f0f2c172e8', 'message': '[WIP] Pass certificate specs to puppet-memcached\n\nChange-Id: I4de801a496829bfd062a909f89cf469746e2ae1d\n'}, {'number': 4, 'created': '2020-08-31 11:02:32.000000000', 'files': ['manifests/profile/base/memcached.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7f3e525e0ab7be55643812555de118d299402648', 'message': '[WIP] Pass certificate specs to puppet-memcached\n\nChange-Id: I4de801a496829bfd062a909f89cf469746e2ae1d\n'}]",2,746469,7f3e525e0ab7be55643812555de118d299402648,10,3,4,27954,,,0,"[WIP] Pass certificate specs to puppet-memcached

Change-Id: I4de801a496829bfd062a909f89cf469746e2ae1d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/746469/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/memcached.pp'],1,0fc90777fd76588e13fbb17a5ac1fcafec4533b6,," $use_tls = hiera('enable_internal_memcached_tls', false), include memcached if $use_tls { $tls_cert_chain = $certificates_specs[""???""]['service_certificate'] $tls_key = $certificates_specs[""???""]['service_key'] $tls_ca_cert = $certificates_specs[""???""]['???'] } else { $tls_cert_chain = undef $tls_key = undef $tls_ca_cert = undef }", include memcached,12,1
openstack%2Ftripleo-quickstart~master~I6c3f41a20c05737f16478e17cfc2b0675055c839,openstack/tripleo-quickstart,master,I6c3f41a20c05737f16478e17cfc2b0675055c839,[DNM] Test Centos 7.7 with CR repos,ABANDONED,2018-11-19 21:03:54.000000000,2020-09-03 13:37:29.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-19 21:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4bd3f40c4d9e44f92781e3371e1ea9a22c3bee59', 'message': '[DNM] Test Centos 7.6\n\nChange-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839\n'}, {'number': 2, 'created': '2018-11-19 21:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b1fe11435f03692010310d256b6403fd513ea963', 'message': '[DNM] Test Centos 7.6\n\nChange-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839\n'}, {'number': 3, 'created': '2018-11-22 12:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d7e9165c4edc4ef01d41ba13ef06f0ac78ec5e6c', 'message': '[DNM] Test Centos 7.6\n\nChange-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839\n'}, {'number': 4, 'created': '2018-11-28 18:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/60becf3ca9354e2f54c13f3d5fda7d611357c80a', 'message': '[DNM] Test Centos 7.6\n\nChange-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839\n'}, {'number': 5, 'created': '2019-09-05 11:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c3fc5e6b5727977ade3761f3331d120645e7b6f3', 'message': '[DNM] Test Centos 7.6\n\nChange-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839\n'}, {'number': 6, 'created': '2019-09-05 16:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/349a1bd445536af393dd51f772c099e44d6bd5fb', 'message': '[DNM] Test Centos 7.7 with CR repos\n\nChange-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839\n'}, {'number': 7, 'created': '2019-09-17 15:45:51.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/147ee1e6f5a6e088807f2a9d75e11b74c6c25313', 'message': '[DNM] Test Centos 7.7 with CR repos\n\nChange-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839\n'}]",0,618832,147ee1e6f5a6e088807f2a9d75e11b74c6c25313,27,5,7,10022,,,0,"[DNM] Test Centos 7.7 with CR repos

Change-Id: I6c3f41a20c05737f16478e17cfc2b0675055c839
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/32/618832/7 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/master.yml'],1,4bd3f40c4d9e44f92781e3371e1ea9a22c3bee59,test-centos76, baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/cr/x86_64/, baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/os/x86_64/,1,1
openstack%2Fopenstack-ansible~master~Iea8b581d0221699699c0c2437d33f1d1dac6b48c,openstack/openstack-ansible,master,Iea8b581d0221699699c0c2437d33f1d1dac6b48c,DNM - POC - Collect logs using artcl,ABANDONED,2020-01-15 14:46:36.000000000,2020-09-03 13:35:08.000000000,,"[{'_account_id': 10022}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-15 14:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d6dd2ff30c5db67e5544a6218a3b0099ff1e57aa', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 2, 'created': '2020-01-15 14:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f7290311604b94ab0395c01b8cdbc50e8495bb83', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 3, 'created': '2020-01-15 15:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb5643ecf272da8647ab2a1596b069b53405f01d', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 4, 'created': '2020-01-20 11:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cf3b02dc0010be307a0d470956da16a47eb2f0b7', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 5, 'created': '2020-01-20 12:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d5ad3a93525707f071b0fd6dbd268b85a94b984', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 6, 'created': '2020-01-20 12:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7aae4312bf1540b16851851e8a2dd700d1d5799e', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 7, 'created': '2020-01-21 10:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/62c70fde414d8c099f15dcb46b2094c37011f8d7', 'message': 'DNM - POC - Collect logs\n\nDepends-On: https://review.opendev.org/#/c/703570/\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 8, 'created': '2020-01-21 10:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4eb65398b9389931d259d534b88623f7e0eea63a', 'message': 'DNM - POC - Collect logs\n\nDepends-On: https://review.opendev.org/#/c/703570/\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 9, 'created': '2020-01-21 11:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c11b66a0a4cc8e97daba9adb7905c2e60ecb438a', 'message': 'DNM - POC - Collect logs\n\nDepends-On: https://review.opendev.org/#/c/703570/\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 10, 'created': '2020-02-03 09:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9eb4528c49cf2c7096b1077e99d00c37b31e6ce8', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 11, 'created': '2020-02-03 12:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dfe3713df9a016fc194d0c730d05774318cc1f9d', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 12, 'created': '2020-02-19 09:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d5f8815ad91a644a4ef215c4582eeafce4cb45a3', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 13, 'created': '2020-02-19 09:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eafba9ec56599947e8584824276bdd31939d76e0', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 14, 'created': '2020-02-19 12:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7684c5eff27410a2aaa8f261842c53d96f9c6a7', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 15, 'created': '2020-02-19 15:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ae26646177e679d7189fa78f6fb61e52b961c73a', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 16, 'created': '2020-03-31 08:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/89e254283091c3a677dfd589bcf9a7ee6dea5246', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 17, 'created': '2020-03-31 09:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2bad804a62756142b6230c627c951a2edf11d9e5', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 18, 'created': '2020-03-31 11:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04c104103c7a6d3b5aaae3de3efd17f00782f154', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\n'}, {'number': 19, 'created': '2020-04-09 13:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ef7546cfc6f6b1dbea3d03db74511f5c4a909740', 'message': 'DNM - POC - Collect logs\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\nDepends-On: https://review.opendev.org/#/c/717723/\n'}, {'number': 20, 'created': '2020-04-09 14:18:18.000000000', 'files': ['zuul.d/jobs.yaml', 'ansible-role-requirements.yml', 'zuul.d/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b90a364f35d20e9b9fb6e503458f38349a5e13ba', 'message': 'DNM - POC - Collect logs using artcl\n\nChange-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c\nDepends-On: https://review.opendev.org/#/c/717723/\n'}]",0,702676,b90a364f35d20e9b9fb6e503458f38349a5e13ba,33,3,20,8367,,,0,"DNM - POC - Collect logs using artcl

Change-Id: Iea8b581d0221699699c0c2437d33f1d1dac6b48c
Depends-On: https://review.opendev.org/#/c/717723/
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/702676/20 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-role-requirements.yml', 'zuul.d/playbooks/post.yml']",2,d6dd2ff30c5db67e5544a6218a3b0099ff1e57aa,collect-log, - name: Collect logs include_role: role: collect-logs ,,9,0
openstack%2Ftripleo-validations~stable%2Ftrain~Ib813f7fdbe321623c6c4f1cca10c03f3238a6723,openstack/tripleo-validations,stable/train,Ib813f7fdbe321623c6c4f1cca10c03f3238a6723,Update role name,ABANDONED,2020-09-03 13:25:18.000000000,2020-09-03 13:27:26.000000000,,[{'_account_id': 28223}],"[{'number': 1, 'created': '2020-09-03 13:25:18.000000000', 'files': ['zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/503e53f3766a3ee83d73e5d8214a9970559616fb', 'message': 'Update role name\n\nApparently install-docker was renamed to ensure-docker.\n\nChange-Id: Ib813f7fdbe321623c6c4f1cca10c03f3238a6723\n'}]",0,749731,503e53f3766a3ee83d73e5d8214a9970559616fb,3,1,1,28223,,,0,"Update role name

Apparently install-docker was renamed to ensure-docker.

Change-Id: Ib813f7fdbe321623c6c4f1cca10c03f3238a6723
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/31/749731/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre.yml'],1,503e53f3766a3ee83d73e5d8214a9970559616fb,train/ensure-docker, - role: ensure-docker, - role: install-docker,1,1
openstack%2Ftripleo-validations~master~I4690b18b78c835f1533eb71ca8efc5ca9b10fc35,openstack/tripleo-validations,master,I4690b18b78c835f1533eb71ca8efc5ca9b10fc35,Switch install-docker with ensure-docker,MERGED,2020-04-06 18:29:08.000000000,2020-09-03 13:27:05.000000000,2020-04-17 07:29:20.000000000,"[{'_account_id': 6547}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-04-06 18:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4960b6edd7bccaecdaccf1d20d42fabe5f3c572e', 'message': 'Switch install-docker with ensure-docker\n\nZuul deprecation requires it, former one will be removed in the future.\n\nChange-Id: I4690b18b78c835f1533eb71ca8efc5ca9b10fc35\n'}, {'number': 2, 'created': '2020-04-16 08:03:04.000000000', 'files': ['zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c8abe4e9efaed4ecd24a66e38c97a9eb4fa275eb', 'message': 'Switch install-docker with ensure-docker\n\nZuul deprecation requires it, former one will be removed in the future.\n\nChange-Id: I4690b18b78c835f1533eb71ca8efc5ca9b10fc35\n'}]",8,717829,c8abe4e9efaed4ecd24a66e38c97a9eb4fa275eb,27,12,2,24162,,,0,"Switch install-docker with ensure-docker

Zuul deprecation requires it, former one will be removed in the future.

Change-Id: I4690b18b78c835f1533eb71ca8efc5ca9b10fc35
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/29/717829/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre.yml'],1,4960b6edd7bccaecdaccf1d20d42fabe5f3c572e,ensure, - role: ensure-docker, - role: install-docker,1,1
openstack%2Fpuppet-openstack-cookiecutter~master~I0d3b0c095beb3771a699c5485ecd3b3a2c0a31f4,openstack/puppet-openstack-cookiecutter,master,I0d3b0c095beb3771a699c5485ecd3b3a2c0a31f4,Replace gem --no-ri and --no-rdoc with --no-document,MERGED,2020-09-01 15:59:05.000000000,2020-09-03 13:26:22.000000000,2020-09-03 13:26:22.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 15:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/e3177cbaedebf5261cd28c493dd970f7417772a7', 'message': 'Replace gem --no-ri with --no-document\n\nChange-Id: I0d3b0c095beb3771a699c5485ecd3b3a2c0a31f4\n'}, {'number': 2, 'created': '2020-09-02 12:17:32.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/04d7f3fa10f5339b6c74f7395d19a5d03c423f34', 'message': 'Replace gem --no-ri and --no-rdoc with --no-document\n\nChange-Id: I0d3b0c095beb3771a699c5485ecd3b3a2c0a31f4\n'}]",0,749353,04d7f3fa10f5339b6c74f7395d19a5d03c423f34,9,3,2,16137,,,0,"Replace gem --no-ri and --no-rdoc with --no-document

Change-Id: I0d3b0c095beb3771a699c5485ecd3b3a2c0a31f4
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/53/749353/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,e3177cbaedebf5261cd28c493dd970f7417772a7,749353,cmd = 'gem install bundler --no-rdoc --no-document --verbose --bindir=${GEM_BIN_DIR}',cmd = 'gem install bundler --no-rdoc --no-ri --verbose --bindir=${GEM_BIN_DIR}',1,1
openstack%2Fpuppet-tripleo~master~I9bc8a4ffde6e24edaa9744478d699ccc5243b784,openstack/puppet-tripleo,master,I9bc8a4ffde6e24edaa9744478d699ccc5243b784,Add support for aodh-expirer cron job,MERGED,2020-08-16 23:42:57.000000000,2020-09-03 13:23:01.000000000,2020-09-03 13:23:01.000000000,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-16 23:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/897742f98dd50202beff1c57da135e4c6fdd1da3', 'message': 'Add support for aodh-expirer cron job\n\nDepends-on: https://review.opendev.org/#/c/746241/\nChange-Id: I9bc8a4ffde6e24edaa9744478d699ccc5243b784\n'}, {'number': 2, 'created': '2020-08-17 12:15:12.000000000', 'files': ['manifests/profile/base/aodh/api.pp', 'spec/classes/tripleo_profile_base_aodh_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dadf19c6e3b8525b45c0350c81f3d8af14bfaa8c', 'message': 'Add support for aodh-expirer cron job\n\nRelated-Bug: #1891888\nDepends-on: https://review.opendev.org/#/c/746241/\nChange-Id: I9bc8a4ffde6e24edaa9744478d699ccc5243b784\n'}]",1,746424,dadf19c6e3b8525b45c0350c81f3d8af14bfaa8c,18,6,2,9816,,,0,"Add support for aodh-expirer cron job

Related-Bug: #1891888
Depends-on: https://review.opendev.org/#/c/746241/
Change-Id: I9bc8a4ffde6e24edaa9744478d699ccc5243b784
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/746424/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/api.pp', 'spec/classes/tripleo_profile_base_aodh_api_spec.rb']",2,897742f98dd50202beff1c57da135e4c6fdd1da3,bug/1891888," is_expected.to_not contain_class('aodh::expirer') is_expected.to_not contain_class('aodh::api') is_expected.to_not contain_class('aodh::wsgi::apache') is_expected.to_not contain_class('aodh::expirer') is_expected.to_not contain_class('aodh::expirer') is_expected.to_not contain_class('aodh::expirer') end end context 'with step 5' do let(:params) { { :step => 5, } } it 'should trigger complete configuration' do is_expected.to contain_class('aodh::api') is_expected.to contain_class('aodh::wsgi::apache') is_expected.to contain_class('aodh::expirer') end end context 'with step 5 without expirer' do let(:params) { { :step => 5, :enable_aodh_expirer => false } } it 'should trigger complete configuration' do is_expected.to contain_class('aodh::api') is_expected.to contain_class('aodh::wsgi::apache') is_expected.to_not contain_class('aodh::expirer')", is_expected.not_to contain_class('aodh::api') is_expected.not_to contain_class('aodh::wsgi::apache'),42,4
openstack%2Fswift~master~I2b7bf21fab433c4ffb7db09314ba527fb05b9f45,openstack/swift,master,I2b7bf21fab433c4ffb7db09314ba527fb05b9f45,wsgi: Allow workers to gracefully exit,MERGED,2020-08-21 05:08:03.000000000,2020-09-03 13:19:38.000000000,2020-09-03 01:59:15.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 05:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/36c9a4427008af3196e1b09c1aa40ecc4ddb4ee4', 'message': 'wsgi: Allow workers to gracefully exit\n\n...via the expected HUP/USR1 mechanisms.\n\nChange-Id: I2b7bf21fab433c4ffb7db09314ba527fb05b9f45\n'}, {'number': 2, 'created': '2020-08-21 15:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f147bc4ad1ba15fbce4e4347211d03c00ee82cfa', 'message': 'wsgi: Allow workers to gracefully exit\n\n...via the expected HUP/USR1 mechanisms.\n\nChange-Id: I2b7bf21fab433c4ffb7db09314ba527fb05b9f45\n'}, {'number': 3, 'created': '2020-08-21 21:12:54.000000000', 'files': ['test/probe/test_signals.py', 'swift/common/manager.py', 'swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3f5e712be673a624bcebf006263301833a6a15b1', 'message': 'wsgi: Allow workers to gracefully exit\n\n...via the expected HUP/USR1 mechanisms.\n\nChange-Id: I2b7bf21fab433c4ffb7db09314ba527fb05b9f45\n'}]",14,747332,3f5e712be673a624bcebf006263301833a6a15b1,14,3,3,15343,,,0,"wsgi: Allow workers to gracefully exit

...via the expected HUP/USR1 mechanisms.

Change-Id: I2b7bf21fab433c4ffb7db09314ba527fb05b9f45
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/747332/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_signals.py', 'swift/common/manager.py', 'swift/common/wsgi.py']",3,36c9a4427008af3196e1b09c1aa40ecc4ddb4ee4,worker-management," def shutdown_my_listen_sock(signum, *args): greenio.shutdown_safe(sock) signal.signal(signal.SIGHUP, shutdown_my_listen_sock) signal.signal(signal.SIGUSR1, shutdown_my_listen_sock)"," signal.signal(signal.SIGHUP, signal.SIG_DFL) signal.signal(signal.SIGUSR1, signal.SIG_DFL)",129,2
openstack%2Fpuppet-openstack-guide~master~I6c35687bab5b0b5ab372122304cc44c400d091ab,openstack/puppet-openstack-guide,master,I6c35687bab5b0b5ab372122304cc44c400d091ab,Replace gem --no-ri and --no-rdoc with --no-document,MERGED,2020-09-01 15:58:38.000000000,2020-09-03 13:08:24.000000000,2020-09-03 13:06:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 15:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/9fb5dfa1fa7b4a3a175fd0d4a074e61652ba9842', 'message': 'Replace gem --no-ri with --no-document\n\nChange-Id: I6c35687bab5b0b5ab372122304cc44c400d091ab\n'}, {'number': 2, 'created': '2020-09-02 12:17:04.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/8259aaedf6b97f32e15a2e9fd91c58e31c2f34ea', 'message': 'Replace gem --no-ri and --no-rdoc with --no-document\n\nChange-Id: I6c35687bab5b0b5ab372122304cc44c400d091ab\n'}]",0,749352,8259aaedf6b97f32e15a2e9fd91c58e31c2f34ea,10,3,2,16137,,,0,"Replace gem --no-ri and --no-rdoc with --no-document

Change-Id: I6c35687bab5b0b5ab372122304cc44c400d091ab
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/52/749352/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,9fb5dfa1fa7b4a3a175fd0d4a074e61652ba9842,749352, sudo gem install bundler --no-rdoc --no-document --verbose, sudo gem install bundler --no-rdoc --no-ri --verbose,1,1
openstack%2Fironic~master~I87fb443ff393a2a58f9d19a9011df062f85af3af,openstack/ironic,master,I87fb443ff393a2a58f9d19a9011df062f85af3af,Update nodes in notifications documentation,MERGED,2020-08-27 12:24:12.000000000,2020-09-03 13:04:15.000000000,2020-09-03 12:58:26.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 12:24:12.000000000', 'files': ['doc/source/admin/notifications.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c467e7d363fb379134023211131297a5df9a7ce', 'message': 'Update nodes in notifications documentation\n\nThis updates the notifications documentation so that the\nnode information in the sample node-related notifications\nreflect the latest versions of the notification payloads.\nWhich includes the driver_internal_info recently added to\nversion 1.16 of NodeSetProvisionStatePayload.\n\nChange-Id: I87fb443ff393a2a58f9d19a9011df062f85af3af\nStory: #2008054\nTask: #40771\n'}]",0,748423,5c467e7d363fb379134023211131297a5df9a7ce,9,4,1,6618,,,0,"Update nodes in notifications documentation

This updates the notifications documentation so that the
node information in the sample node-related notifications
reflect the latest versions of the notification payloads.
Which includes the driver_internal_info recently added to
version 1.16 of NodeSetProvisionStatePayload.

Change-Id: I87fb443ff393a2a58f9d19a9011df062f85af3af
Story: #2008054
Task: #40771
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/748423/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/notifications.rst'],1,5c467e7d363fb379134023211131297a5df9a7ce,story/2008054," ""ironic_object.version"":""1.13"", ""description"": ""my sample node"", ""lessee"": None, ""bios_interface"": ""no-bios"", ""owner"": None, ""protected"": False, ""protected_reason"": None, ""retired"": None, ""retired_reason"": None, ""ironic_object.version"":""1.15"", ""deploy_step"": None, ""description"": ""my sample node"", ""lessee"": None, ""owner"": None, ""protected"": False, ""protected_reason"": None, ""retired"": None, ""retired_reason"": None, ""ironic_object.version"":""1.15"", ""deploy_step"": None, ""description"": ""my sample node"", ""lessee"": None, ""owner"": None, ""protected"": False, ""protected_reason"": None, ""retired"": None, ""retired_reason"": None, ""ironic_object.version"":""1.15"", ""description"": ""my sample node"", ""lessee"": None, ""bios_interface"": ""no-bios"", ""owner"": None, ""protected"": False, ""protected_reason"": None ""retired"": None, ""retired_reason"": None, ""ironic_object.version"":""1.15"", ""description"": ""my sample node"", ""lessee"": None, ""bios_interface"": ""no-bios"", ""owner"": None, ""protected"": False, ""protected_reason"": None, ""retired"": None, ""retired_reason"": None, ""ironic_object.version"":""1.16"", ""description"": ""my sample node"", ""driver_internal_info"": { ""is_whole_disk_image"": True}, ""lessee"": None, ""bios_interface"": ""no-bios"", ""owner"": None, ""protected"": False, ""protected_reason"": None, ""retired"": None, ""retired_reason"": None,"," ""ironic_object.version"":""1.8"", ""ironic_object.version"":""1.10"", ""ironic_object.version"":""1.10"", ""ironic_object.version"":""1.10"", ""ironic_object.version"":""1.10"", ""ironic_object.version"":""1.10"",",56,6
openstack%2Ftripleo-quickstart-extras~master~Ibbdf6be3baa490855dc46fb2665e7e514fd925ee,openstack/tripleo-quickstart-extras,master,Ibbdf6be3baa490855dc46fb2665e7e514fd925ee,Fix artifacts url for ci.centos.org,MERGED,2020-09-02 08:01:46.000000000,2020-09-03 13:03:34.000000000,2020-09-03 13:03:34.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 08:01:46.000000000', 'files': ['config/general_config/centosci-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1eecb23dfbde723b764f870589c96dadcfceac0a', 'message': ""Fix artifacts url for ci.centos.org\n\nThe legacy url is removed[1], let's switch to\nrecommended one.\n\n[1] https://pagure.io/centos-infra/issue/86\n\nChange-Id: Ibbdf6be3baa490855dc46fb2665e7e514fd925ee\n""}]",0,749453,1eecb23dfbde723b764f870589c96dadcfceac0a,15,9,1,13861,,,0,"Fix artifacts url for ci.centos.org

The legacy url is removed[1], let's switch to
recommended one.

[1] https://pagure.io/centos-infra/issue/86

Change-Id: Ibbdf6be3baa490855dc46fb2665e7e514fd925ee
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/53/749453/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/centosci-logs.yml'],1,1eecb23dfbde723b764f870589c96dadcfceac0a,,artcl_artifact_url: https://artifacts.ci.centos.org/rdo,artcl_artifact_url: https://ci.centos.org/artifacts/rdo,1,1
openstack%2Fpython-openstackclient~master~I276ebd49094368dd823e50ff11a6e65fa2a6dcfb,openstack/python-openstackclient,master,I276ebd49094368dd823e50ff11a6e65fa2a6dcfb,Introduce `schema_version` in the federated attribute mapping API,NEW,2020-09-02 18:36:16.000000000,2020-09-03 13:03:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-09-02 18:36:16.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_mappings.py', 'openstackclient/identity/v3/mapping.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2a9df926c8fab25dfc638bdfbdc7048a33f4ed48', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nDepends-On: https://review.opendev.org/#/c/749562/\nChange-Id: I276ebd49094368dd823e50ff11a6e65fa2a6dcfb\n'}]",0,749572,2a9df926c8fab25dfc638bdfbdc7048a33f4ed48,6,2,1,28356,,,0,"Introduce `schema_version` in the federated attribute mapping API

Depends-On: https://review.opendev.org/#/c/749562/
Change-Id: I276ebd49094368dd823e50ff11a6e65fa2a6dcfb
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/72/749572/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/identity/v3/test_mappings.py', 'openstackclient/identity/v3/mapping.py']",2,2a9df926c8fab25dfc638bdfbdc7048a33f4ed48,attribute_mapping_schema_version," def extract_parameters(self, parsed_args): parameters = {'mapping': parsed_args.mapping} if parsed_args.rules: rules = self._read_rules(parsed_args.rules) parameters['rules'] = rules if parsed_args.schema_version: schema_version = parsed_args.schema_version parameters['schema_version'] = schema_version return parameters @staticmethod def add_federated_schema_version_option(parser): parser.add_argument( '--schema-version', metavar='<schema_version>', required=False, default='1.0', help=_(""The federated attribute mapping schema version. The "" ""default value is set to '1.0'""), ) _RulesReader.add_federated_schema_version_option(parser) parameters = self.extract_parameters(parsed_args) parameters['mapping_id'] = parameters['mapping'] del parameters['mapping'] mapping = identity_client.federation.mappings.create(**parameters) columns = ('ID', 'schema_version') _RulesReader.add_federated_schema_version_option(parser) parameters = self.extract_parameters(parsed_args) mapping = identity_client.federation.mappings.update(**parameters)"," rules = self._read_rules(parsed_args.rules) mapping = identity_client.federation.mappings.create( mapping_id=parsed_args.mapping, rules=rules) columns = ('ID',) rules = self._read_rules(parsed_args.rules) mapping = identity_client.federation.mappings.update( mapping=parsed_args.mapping, rules=rules)",38,16
openstack%2Ftelemetry-tempest-plugin~master~I8af3b53df57099e135551b248abaf419e8a4912b,openstack/telemetry-tempest-plugin,master,I8af3b53df57099e135551b248abaf419e8a4912b,Use image_create() from tempest scenario manager,MERGED,2020-09-02 15:53:18.000000000,2020-09-03 13:02:32.000000000,2020-09-03 13:02:32.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 15:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/dbcce5bc7db3f5400646c2aca6657a30ce969536', 'message': 'Use image_create() from tempest scenario manager\n\nThis has been changed with https://review.opendev.org/#/c/746492/.\n\nChange-Id: I8af3b53df57099e135551b248abaf419e8a4912b\n'}, {'number': 2, 'created': '2020-09-03 08:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/14a6120f7981ea2b48fcb63c45991aa303bb58f3', 'message': ""Use image_create() from tempest scenario manager\n\nThis has been changed with https://review.opendev.org/#/c/746492/.\n\nAlso makes the telemetry-dsvm jobs non-voting to merge this.\nIt's reverted in the next patch.\n\nChange-Id: I8af3b53df57099e135551b248abaf419e8a4912b\n""}, {'number': 3, 'created': '2020-09-03 09:13:00.000000000', 'files': ['telemetry_tempest_plugin/scenario/test_telemetry_integration.py'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/c0b4506f4479eba5055c7162ae67e69e2bf95603', 'message': 'Use image_create() from tempest scenario manager\n\nThis has been changed with https://review.opendev.org/#/c/746492/.\n\nChange-Id: I8af3b53df57099e135551b248abaf419e8a4912b\n'}]",0,749543,c0b4506f4479eba5055c7162ae67e69e2bf95603,16,4,3,8833,,,0,"Use image_create() from tempest scenario manager

This has been changed with https://review.opendev.org/#/c/746492/.

Change-Id: I8af3b53df57099e135551b248abaf419e8a4912b
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/43/749543/1 && git format-patch -1 --stdout FETCH_HEAD,['telemetry_tempest_plugin/scenario/test_telemetry_integration.py'],1,dbcce5bc7db3f5400646c2aca6657a30ce969536,," ""GLANCE_IMAGE_NAME"": self.image_create(),"," ""GLANCE_IMAGE_NAME"": self.glance_image_create(),",1,1
openstack%2Fironic~master~I4fbf7c6d00f2ba19a860d4c39cd882f541ff0600,openstack/ironic,master,I4fbf7c6d00f2ba19a860d4c39cd882f541ff0600,[trivial] remove emacs config from devstack script,MERGED,2020-08-31 08:29:38.000000000,2020-09-03 13:01:17.000000000,2020-09-03 12:58:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-31 08:29:38.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed6f9a14ec57c62b9725bcdc72ec67d59bd010d2', 'message': '[trivial] remove emacs config from devstack script\n\nIt could cause issues during execution, and in general ide or\neditors specific config should not be kept here but in a specific\nconfig file.\n\nChange-Id: I4fbf7c6d00f2ba19a860d4c39cd882f541ff0600\n'}]",0,748978,ed6f9a14ec57c62b9725bcdc72ec67d59bd010d2,16,6,1,23851,,,0,"[trivial] remove emacs config from devstack script

It could cause issues during execution, and in general ide or
editors specific config should not be kept here but in a specific
config file.

Change-Id: I4fbf7c6d00f2ba19a860d4c39cd882f541ff0600
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/748978/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ed6f9a14ec57c62b9725bcdc72ec67d59bd010d2,no-emacs-conf,, # Tell emacs to use shell-script-mode ## Local variables: ## mode: shell-script ## End:,0,5
openstack%2Fcloudkitty~stable%2Fussuri~I4da9e8854a571058e48c2f51c1d340bc135cfe2b,openstack/cloudkitty,stable/ussuri,I4da9e8854a571058e48c2f51c1d340bc135cfe2b,Replace tz.UTC with dateutil.tz.tzutc(),MERGED,2020-09-03 08:35:25.000000000,2020-09-03 13:00:39.000000000,2020-09-03 12:56:12.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-09-03 08:35:25.000000000', 'files': ['cloudkitty/tests/collectors/test_gnocchi.py', 'requirements.txt', 'cloudkitty/utils/tz.py', 'cloudkitty/tests/utils_tests/test_tz.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'cloudkitty/tests/utils_tests/test_json.py', 'lower-constraints.txt', 'releasenotes/notes/remove-dateutil-tz-utc-usage-1350c00be3fadde7.yaml', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/test_dataframe.py', 'cloudkitty/tests/storage/v2/test_influxdb.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9b6e85e5c52753c4672972d0bc5aba832cf594ad', 'message': 'Replace tz.UTC with dateutil.tz.tzutc()\n\nAs discussed in https://review.opendev.org/#/c/742477/, this patch\nreplaces the use of `tz.UTC` with `dateutil.tz.tzutc()`\n\nAlso add python-dateutil to requirements.txt, using the same minimum\nversion as several other OpenStack projects, including nova.\n\nChange-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b\n(cherry picked from commit b7abb9bb698d4d391da7f69ca983164f51d9a567)\n'}]",0,749673,9b6e85e5c52753c4672972d0bc5aba832cf594ad,9,4,1,15197,,,0,"Replace tz.UTC with dateutil.tz.tzutc()

As discussed in https://review.opendev.org/#/c/742477/, this patch
replaces the use of `tz.UTC` with `dateutil.tz.tzutc()`

Also add python-dateutil to requirements.txt, using the same minimum
version as several other OpenStack projects, including nova.

Change-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b
(cherry picked from commit b7abb9bb698d4d391da7f69ca983164f51d9a567)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/73/749673/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/collectors/test_gnocchi.py', 'requirements.txt', 'cloudkitty/utils/tz.py', 'cloudkitty/tests/utils_tests/test_tz.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'cloudkitty/tests/utils_tests/test_json.py', 'lower-constraints.txt', 'releasenotes/notes/remove-dateutil-tz-utc-usage-1350c00be3fadde7.yaml', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/storage/v2/test_influxdb.py', 'cloudkitty/tests/test_dataframe.py']",11,9b6e85e5c52753c4672972d0bc5aba832cf594ad,," start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 6, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 6, 1, 1, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc())"," start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 6, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 6, 1, 1, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.UTC) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.UTC) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.UTC) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC)",49,40
openstack%2Fcloudkitty~stable%2Ftrain~I4da9e8854a571058e48c2f51c1d340bc135cfe2b,openstack/cloudkitty,stable/train,I4da9e8854a571058e48c2f51c1d340bc135cfe2b,Replace tz.UTC with dateutil.tz.tzutc(),MERGED,2020-09-03 08:37:19.000000000,2020-09-03 12:52:17.000000000,2020-09-03 12:50:04.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-09-03 08:37:19.000000000', 'files': ['requirements.txt', 'cloudkitty/tzutils.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'lower-constraints.txt', 'releasenotes/notes/remove-dateutil-tz-utc-usage-1350c00be3fadde7.yaml', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/test_json.py', 'cloudkitty/tests/test_tzutils.py', 'cloudkitty/tests/test_dataframe.py', 'cloudkitty/tests/storage/v2/test_influxdb.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/14eac737df96700f5ea28a77cabbac266cb1a321', 'message': 'Replace tz.UTC with dateutil.tz.tzutc()\n\nAs discussed in https://review.opendev.org/#/c/742477/, this patch\nreplaces the use of `tz.UTC` with `dateutil.tz.tzutc()`\n\nAlso add python-dateutil to requirements.txt, using the same minimum\nversion as several other OpenStack projects, including nova.\n\nChange-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b\n(cherry picked from commit b7abb9bb698d4d391da7f69ca983164f51d9a567)\n'}]",0,749675,14eac737df96700f5ea28a77cabbac266cb1a321,9,4,1,15197,,,0,"Replace tz.UTC with dateutil.tz.tzutc()

As discussed in https://review.opendev.org/#/c/742477/, this patch
replaces the use of `tz.UTC` with `dateutil.tz.tzutc()`

Also add python-dateutil to requirements.txt, using the same minimum
version as several other OpenStack projects, including nova.

Change-Id: I4da9e8854a571058e48c2f51c1d340bc135cfe2b
(cherry picked from commit b7abb9bb698d4d391da7f69ca983164f51d9a567)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/75/749675/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cloudkitty/tzutils.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'lower-constraints.txt', 'releasenotes/notes/remove-dateutil-tz-utc-usage-1350c00be3fadde7.yaml', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/tests/test_json.py', 'cloudkitty/tests/test_tzutils.py', 'cloudkitty/tests/storage/v2/test_influxdb.py', 'cloudkitty/tests/test_dataframe.py']",10,14eac737df96700f5ea28a77cabbac266cb1a321,," start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 6, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 6, 1, 1, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc()) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.tzutc()) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.tzutc())"," start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 6, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 6, 1, 1, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.UTC) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.UTC) start = datetime.datetime(2019, 1, 2, 12, tzinfo=tz.UTC) end = datetime.datetime(2019, 1, 2, 13, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC) start = datetime.datetime(2019, 3, 4, 1, tzinfo=tz.UTC) end = datetime.datetime(2019, 3, 4, 2, tzinfo=tz.UTC)",44,36
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I27ac0a536624f5461809df771a58a6e57fec0661,openstack/tripleo-heat-templates,stable/ussuri,I27ac0a536624f5461809df771a58a6e57fec0661,[ovn]: Enable port forwarding in neutron service plugins,ABANDONED,2020-08-20 22:14:33.000000000,2020-09-03 12:42:06.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6681}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-20 22:14:33.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'releasenotes/notes/ovn-port-forwarding-1c954c1c57e136d0.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a1fcc41e31ea079c16faa9e86dfbab8537eaa9c', 'message': '[ovn]: Enable port forwarding in neutron service plugins\n\nNeutronServicePlugins needs to include port_forwarding in order to support\nthe floating ip port forwarding functionality.\n\nDepends-On: https://review.opendev.org/#/c/747299/\nChange-Id: I27ac0a536624f5461809df771a58a6e57fec0661\nCloses-Bug: #1877447\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n(cherry picked from commit 40fa5244c279952baf429ffcb95e632f0db32c52)\n'}]",0,747304,7a1fcc41e31ea079c16faa9e86dfbab8537eaa9c,16,8,1,11952,,,0,"[ovn]: Enable port forwarding in neutron service plugins

NeutronServicePlugins needs to include port_forwarding in order to support
the floating ip port forwarding functionality.

Depends-On: https://review.opendev.org/#/c/747299/
Change-Id: I27ac0a536624f5461809df771a58a6e57fec0661
Closes-Bug: #1877447
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
(cherry picked from commit 40fa5244c279952baf429ffcb95e632f0db32c52)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/747304/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'releasenotes/notes/ovn-port-forwarding-1c954c1c57e136d0.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",6,7a1fcc41e31ea079c16faa9e86dfbab8537eaa9c,ovn/port_forwarding-stable/ussuri," NeutronServicePlugins: 'qos,ovn-router,trunk,segments,port_forwarding'"," NeutronServicePlugins: 'qos,ovn-router,trunk,segments'",11,5
openstack%2Fneutron~stable%2Fussuri~I0671ed8d73ca8c0e3ba4aded81f395e20957d598,openstack/neutron,stable/ussuri,I0671ed8d73ca8c0e3ba4aded81f395e20957d598,[ovn]: port forwarding -- functional tests for maintenance task,ABANDONED,2020-08-20 22:04:54.000000000,2020-09-03 12:20:23.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 22:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34ec278c4fd480a43b7776e2e318bd62afa4c4b0', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit a183400eaef93f04767fd398f56522435523e198)\n'}, {'number': 2, 'created': '2020-08-20 23:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ff43dfb46aace3db08afa06e9db21f7f36434ea', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit a183400eaef93f04767fd398f56522435523e198)\n'}, {'number': 3, 'created': '2020-08-20 23:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c6311ea330cf880c6b74088e0e9680af3e36438', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit a183400eaef93f04767fd398f56522435523e198)\n'}, {'number': 4, 'created': '2020-08-21 02:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4b14bf0354f3ef051bd949cb4cb41155c2c584b', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit a183400eaef93f04767fd398f56522435523e198)\n'}, {'number': 5, 'created': '2020-08-21 16:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f19b8bf038de1dcb6826f60ffcce87e47a1865c0', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit a183400eaef93f04767fd398f56522435523e198)\n'}, {'number': 6, 'created': '2020-08-31 16:02:11.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2180fcd2df035ac7af3404e5e3330b270896a7d7', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit a183400eaef93f04767fd398f56522435523e198)\n'}]",0,747301,2180fcd2df035ac7af3404e5e3330b270896a7d7,30,7,6,11952,,,0,"[ovn]: port forwarding -- functional tests for maintenance task

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset adds functional tests in maintenance task to ensure
that floating ips as well as port forwarding are properly handled.

Depends-On: https://review.opendev.org/#/c/741303/
Change-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
(cherry picked from commit a183400eaef93f04767fd398f56522435523e198)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/747301/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py'],1,34ec278c4fd480a43b7776e2e318bd62afa4c4b0,ovn/port_forwarding-stable/ussuri,"from neutron_lib.api.definitions import floating_ip_port_forwarding as pf_deffrom neutron_lib.exceptions import l3 as lib_l3_exc def _create_subnet(self, name, net_id, ip_version=4, **kwargs): if ip_version == 4: cidr = '10.0.0.0/24' else: cidr = '2001:db8::/64' 'tenant_id': self._tenant_id, 'cidr': cidr, data['subnet'].update(kwargs) def _find_nat_rule(self, router_id, external_ip, logical_ip=None, type='dnat_and_snat'): rules = self.nb_api.get_lrouter_nat_rules(utils.ovn_name(router_id)) return next((r for r in rules if r['type'] == type and r['external_ip'] == external_ip and (not logical_ip or r['logical_ip'] == logical_ip)), None) def _find_pf_lb(self, router_id, fip_id=None): lbs = self.nb_api.get_router_floatingip_lbs(utils.ovn_name(router_id)) return [lb for lb in lbs if (not fip_id or fip_id == lb.external_ids[ovn_const.OVN_FIP_EXT_ID_KEY])] def test_floating_ip(self): ext_net = self._create_network('ext_networktest', external=True) ext_subnet = self._create_subnet( 'ext_subnettest', ext_net['id'], **{'cidr': '100.0.0.0/24', 'gateway_ip': '100.0.0.254', 'allocation_pools': [ {'start': '100.0.0.2', 'end': '100.0.0.253'}], 'enable_dhcp': False}) net1 = self._create_network('network1test', external=False) subnet1 = self._create_subnet('subnet1test', net1['id']) external_gateway_info = { 'enable_snat': True, 'network_id': ext_net['id'], 'external_fixed_ips': [ {'ip_address': '100.0.0.2', 'subnet_id': ext_subnet['id']}]} router = self._create_router( 'routertest', external_gateway_info=external_gateway_info) self._add_router_interface(router['id'], subnet1['id']) p1 = self._create_port('testp1', net1['id']) logical_ip = p1['fixed_ips'][0]['ip_address'] fip_info = {'floatingip': { 'description': 'test_fip', 'tenant_id': self._tenant_id, 'floating_network_id': ext_net['id'], 'port_id': p1['id'], 'fixed_ip_address': logical_ip}} # > Create with mock.patch.object(self._l3_ovn_client, 'create_floatingip'): fip = self.l3_plugin.create_floatingip(self.context, fip_info) floating_ip_address = fip['floating_ip_address'] self.assertEqual(fip['router_id'], router['id']) self.assertEqual(fip['port_details']['name'], 'testp1') self.assertIsNotNone(self.nb_api.get_lswitch_port(fip['port_id'])) # Assert the dnat_and_snat rule doesn't exist in OVN self.assertIsNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert the rule for the fip is now present self.assertIsNotNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # > Update p2 = self._create_port('testp2', net1['id']) logical_ip = p2['fixed_ips'][0]['ip_address'] fip_info = {'floatingip': { 'port_id': p2['id'], 'fixed_ip_address': logical_ip}} with mock.patch.object(self._l3_ovn_client, 'update_floatingip'): self.l3_plugin.update_floatingip(self.context, fip['id'], fip_info) # Assert the dnat_and_snat rule in OVN is still using p1's address stale_nat_rule = self._find_nat_rule(router['id'], floating_ip_address) self.assertEqual(stale_nat_rule['logical_ip'], p1['fixed_ips'][0]['ip_address']) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert the rule for the fip is now updated self.assertIsNotNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # > Delete with mock.patch.object(self._l3_ovn_client, 'delete_floatingip'): self.l3_plugin.delete_floatingip(self.context, fip['id']) self.assertRaises( lib_l3_exc.FloatingIPNotFound, self.l3_plugin.get_floatingip, self.context, fip['id']) # Assert the dnat_and_snat rule in OVN is still present self.assertIsNotNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert the rule for the fip is now gone self.assertIsNone( self._find_nat_rule(router['id'], floating_ip_address)) # Assert the router snat rule is still there snat_rule = self._find_nat_rule(router['id'], '100.0.0.2', type='snat') self.assertEqual(snat_rule['logical_ip'], subnet1['cidr']) def test_port_forwarding(self): fip_attrs = lambda args: { pf_def.RESOURCE_NAME: {pf_def.RESOURCE_NAME: args}} def _verify_lb(test, protocol, vip_ext_port, vip_int_port): ovn_lbs = self._find_pf_lb(router_id, fip_id) test.assertEqual(len(ovn_lbs), 1) test.assertEqual(ovn_lbs[0].name, 'pf-floatingip-{}-{}'.format(fip_id, protocol)) test.assertEqual( ovn_lbs[0].vips, {'{}:{}'.format(fip_ip, vip_ext_port): '{}:{}'.format(p1_ip, vip_int_port)}) ext_net = self._create_network('ext_networktest', external=True) ext_subnet = self._create_subnet( 'ext_subnettest', ext_net['id'], **{'cidr': '100.0.0.0/24', 'gateway_ip': '100.0.0.254', 'allocation_pools': [ {'start': '100.0.0.2', 'end': '100.0.0.253'}], 'enable_dhcp': False}) net1 = self._create_network('network1test', external=False) subnet1 = self._create_subnet('subnet1test', net1['id']) external_gateway_info = { 'enable_snat': True, 'network_id': ext_net['id'], 'external_fixed_ips': [ {'ip_address': '100.0.0.2', 'subnet_id': ext_subnet['id']}]} router = self._create_router( 'routertest', external_gateway_info=external_gateway_info) router_id = router['id'] self._add_router_interface(router['id'], subnet1['id']) fip_info = {'floatingip': { 'tenant_id': self._tenant_id, 'floating_network_id': ext_net['id'], 'port_id': None, 'fixed_ip_address': None}} fip = self.l3_plugin.create_floatingip(self.context, fip_info) fip_id = fip['id'] fip_ip = fip['floating_ip_address'] p1 = self._create_port('testp1', net1['id']) p1_ip = p1['fixed_ips'][0]['ip_address'] with mock.patch('neutron_lib.callbacks.registry.notify') as m_notify: # > Create fip_pf_args = { pf_def.EXTERNAL_PORT: 2222, pf_def.INTERNAL_PORT: 22, pf_def.INTERNAL_PORT_ID: p1['id'], pf_def.PROTOCOL: 'tcp', pf_def.INTERNAL_IP_ADDRESS: p1_ip} pf_obj = self.pf_plugin.create_floatingip_port_forwarding( self.context, fip_id, **fip_attrs(fip_pf_args)) m_notify.assert_called_once() # Assert load balancer for port forwarding was not created self.assertFalse(self._find_pf_lb(router_id, fip_id)) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert load balancer for port forwarding was created _verify_lb(self, 'tcp', 2222, 22) # > Update fip_pf_args = {pf_def.EXTERNAL_PORT: 5353, pf_def.INTERNAL_PORT: 53, pf_def.PROTOCOL: 'udp'} m_notify.reset_mock() self.pf_plugin.update_floatingip_port_forwarding( self.context, pf_obj['id'], fip_id, **fip_attrs(fip_pf_args)) m_notify.assert_called_once() # Assert load balancer for port forwarding is stale _verify_lb(self, 'tcp', 2222, 22) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert load balancer for port forwarding was updated _verify_lb(self, 'udp', 5353, 53) # > Delete m_notify.reset_mock() self.pf_plugin.delete_floatingip_port_forwarding( self.context, pf_obj['id'], fip_id) m_notify.assert_called_once() # Assert load balancer for port forwarding is stale _verify_lb(self, 'udp', 5353, 53) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert load balancer for port forwarding is gone self.assertFalse(self._find_pf_lb(router_id, fip_id))"," def _create_subnet(self, name, net_id, ip_version=4): 'tenant_id': self._tenant_id, if ip_version == 4: data['subnet']['cidr'] = '10.0.0.0/24' else: data['subnet']['cidr'] = 'eef0::/64' ",220,7
openstack%2Fneutron~stable%2Fussuri~I7a158173252e73e081914f242133634c41de7999,openstack/neutron,stable/ussuri,I7a158173252e73e081914f242133634c41de7999,[ovn]: port forwarding -- feature support under ovn_db_sync,ABANDONED,2020-08-20 22:02:53.000000000,2020-09-03 12:20:18.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 9531}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 22:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eba8c044c1c5662e8b0fb795038c786c10ef8eaa', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 361b4853180b84b1d8ba38a6967de4c254aacb0c)\n'}, {'number': 2, 'created': '2020-08-20 23:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4da2b710eb217a80b4eae3f5ee5dfa5fff53325c', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 361b4853180b84b1d8ba38a6967de4c254aacb0c)\n'}, {'number': 3, 'created': '2020-08-20 23:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/813404dd8cf663668c6c78e93ab4c08c088b741c', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 361b4853180b84b1d8ba38a6967de4c254aacb0c)\n'}, {'number': 4, 'created': '2020-08-21 02:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5277cbdcf842cd073e3f0903fe72f797c521a6b', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 361b4853180b84b1d8ba38a6967de4c254aacb0c)\n'}, {'number': 5, 'created': '2020-08-21 16:24:46.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e587114c764a1d547034147c3b15b681e30a8b8', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 361b4853180b84b1d8ba38a6967de4c254aacb0c)\n'}]",0,747300,3e587114c764a1d547034147c3b15b681e30a8b8,31,8,5,11952,,,0,"[ovn]: port forwarding -- feature support under ovn_db_sync

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset updates ovn_db_sync utility and its tests to
ensure that floating ip port forwarding can be repaired.

Depends-On: https://review.opendev.org/#/c/741303/
Change-Id: I7a158173252e73e081914f242133634c41de7999
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
(cherry picked from commit 361b4853180b84b1d8ba38a6967de4c254aacb0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/747300/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py']",4,eba8c044c1c5662e8b0fb795038c786c10ef8eaa,ovn/port_forwarding-stable/ussuri," 'neutron.services.segments.plugin.Plugin', 'port_forwarding', ]", 'neutron.services.segments.plugin.Plugin'],244,4
openstack%2Fneutron~stable%2Fussuri~I019fe11ac1ddcf2304f3f144c62d52667fc11dce,openstack/neutron,stable/ussuri,I019fe11ac1ddcf2304f3f144c62d52667fc11dce,[ovn]: port forwarding -- core changes,ABANDONED,2020-08-20 22:00:20.000000000,2020-09-03 12:20:11.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 9531}, {'_account_id': 11904}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 22:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b37b799db63e2d5c4747cba078fbed5245c54894', 'message': '[ovn]: port forwarding -- core changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the core implementation for portforwarding/drivers/ovn,\nmech_driver, ovn-router as well as a subset of tests.\n\nPort forwarding support in ovn_db_sync is not included here to facilitate review.\nThat, as well as all other supporting changes, are under the ovn/port_forwarding topic:\nhttps://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)\n\nDepends-On: https://review.opendev.org/#/c/747280/\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n\nChange-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce\n(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)\n'}, {'number': 2, 'created': '2020-08-20 23:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b564ad8060e11f85e3dc6423f7b07cd6a7c7dd23', 'message': '[ovn]: port forwarding -- core changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the core implementation for portforwarding/drivers/ovn,\nmech_driver, ovn-router as well as a subset of tests.\n\nPort forwarding support in ovn_db_sync is not included here to facilitate review.\nThat, as well as all other supporting changes, are under the ovn/port_forwarding topic:\nhttps://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)\n\nDepends-On: https://review.opendev.org/#/c/747280/\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n\nChange-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce\n(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)\n'}, {'number': 3, 'created': '2020-08-20 23:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/141fd9bdbf363e3777dc1c835e5dedb188c8db60', 'message': '[ovn]: port forwarding -- core changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the core implementation for portforwarding/drivers/ovn,\nmech_driver, ovn-router as well as a subset of tests.\n\nPort forwarding support in ovn_db_sync is not included here to facilitate review.\nThat, as well as all other supporting changes, are under the ovn/port_forwarding topic:\nhttps://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)\n\nDepends-On: https://review.opendev.org/#/c/747280/\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n\nChange-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce\n(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)\n'}, {'number': 4, 'created': '2020-08-20 23:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b949eeab2567ec19c62465e0e4aa8b3c8303453d', 'message': '[ovn]: port forwarding -- core changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the core implementation for portforwarding/drivers/ovn,\nmech_driver, ovn-router as well as a subset of tests.\n\nPort forwarding support in ovn_db_sync is not included here to facilitate review.\nThat, as well as all other supporting changes, are under the ovn/port_forwarding topic:\nhttps://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)\n\nDepends-On: https://review.opendev.org/#/c/747280/\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n\nChange-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce\n(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)\n'}, {'number': 5, 'created': '2020-08-21 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50482ec01c718df8f900352095efbef2d4e6a2e1', 'message': '[ovn]: port forwarding -- core changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the core implementation for portforwarding/drivers/ovn,\nmech_driver, ovn-router as well as a subset of tests.\n\nPort forwarding support in ovn_db_sync is not included here to facilitate review.\nThat, as well as all other supporting changes, are under the ovn/port_forwarding topic:\nhttps://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)\n\nDepends-On: https://review.opendev.org/#/c/747280/\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n\nChange-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce\n(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)\n'}, {'number': 6, 'created': '2020-08-21 16:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e672df7e5932ae42c0f5fe9cc0a1a5e1e7b36528', 'message': '[ovn]: port forwarding -- core changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the core implementation for portforwarding/drivers/ovn,\nmech_driver, ovn-router as well as a subset of tests.\n\nPort forwarding support in ovn_db_sync is not included here to facilitate review.\nThat, as well as all other supporting changes, are under the ovn/port_forwarding topic:\nhttps://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)\n\nConflicts:\ndevstack/ovn-local.conf.sample\nneutron/common/ovn/extensions.py\nneutron/tests/unit/common/ovn/test_utils.py\nzuul.d/tempest-multinode.yaml\n\nDepends-On: https://review.opendev.org/#/c/747280/\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n\nChange-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce\n(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)\n'}, {'number': 7, 'created': '2020-08-21 16:19:14.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'zuul.d/tempest-multinode.yaml', 'neutron/services/portforwarding/constants.py', 'neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py', 'neutron/services/portforwarding/drivers/__init__.py', 'neutron/services/portforwarding/drivers/ovn/__init__.py', 'neutron/common/ovn/extensions.py', 'neutron/tests/functional/base.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/__init__.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'zuul.d/tempest-singlenode.yaml', 'devstack/ovn-local.conf.sample', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/portforwarding/drivers/__init__.py', 'releasenotes/notes/floatingips-port-forwarding-ovn-8f8981922dd4c4ab.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/64eb2068ae13b35dfeea31c852ae48549eb28f30', 'message': '[ovn]: port forwarding -- core changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the core implementation for portforwarding/drivers/ovn,\nmech_driver, ovn-router as well as a subset of tests.\n\nPort forwarding support in ovn_db_sync is not included here to facilitate review.\nThat, as well as all other supporting changes, are under the ovn/port_forwarding topic:\nhttps://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)\n\nConflicts:\ndevstack/ovn-local.conf.sample\nneutron/common/ovn/extensions.py\nneutron/tests/unit/common/ovn/test_utils.py\nzuul.d/tempest-multinode.yaml\n\nDepends-On: https://review.opendev.org/#/c/747280/\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n\nChange-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce\n(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)\n'}]",2,747299,64eb2068ae13b35dfeea31c852ae48549eb28f30,39,10,7,11952,,,0,"[ovn]: port forwarding -- core changes

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset covers the core implementation for portforwarding/drivers/ovn,
mech_driver, ovn-router as well as a subset of tests.

Port forwarding support in ovn_db_sync is not included here to facilitate review.
That, as well as all other supporting changes, are under the ovn/port_forwarding topic:
https://review.opendev.org/#/q/topic:ovn/port_forwarding+(status:open+OR+status:merged)

Conflicts:
devstack/ovn-local.conf.sample
neutron/common/ovn/extensions.py
neutron/tests/unit/common/ovn/test_utils.py
zuul.d/tempest-multinode.yaml

Depends-On: https://review.opendev.org/#/c/747280/
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447

Change-Id: I019fe11ac1ddcf2304f3f144c62d52667fc11dce
(cherry picked from commit d74f409c82fb73601b859cd6b243bbbc97b49153)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/747299/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'zuul.d/tempest-multinode.yaml', 'neutron/services/portforwarding/constants.py', 'neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py', 'neutron/services/portforwarding/drivers/__init__.py', 'neutron/services/portforwarding/drivers/ovn/__init__.py', 'neutron/common/ovn/extensions.py', 'neutron/tests/functional/base.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/__init__.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'zuul.d/tempest-singlenode.yaml', 'devstack/ovn-local.conf.sample', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/portforwarding/drivers/__init__.py', 'releasenotes/notes/floatingips-port-forwarding-ovn-8f8981922dd4c4ab.yaml']",21,b37b799db63e2d5c4747cba078fbed5245c54894,ovn/port_forwarding-stable/ussuri,--- prelude: > Added support for floating IPs port forwarding in OVN. features: - | Support for floating IPs port forwarding has been added to OVN backend. ,,808,9
openstack%2Fneutron~stable%2Fussuri~I7d0aa51468dbd2c298395c3dccd8f222e87032d8,openstack/neutron,stable/ussuri,I7d0aa51468dbd2c298395c3dccd8f222e87032d8,[ovn]: port forwarding -- IDL changes,ABANDONED,2020-08-20 20:16:11.000000000,2020-09-03 12:20:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 9531}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 20:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/175c46e1168b5a197b1bff660ee4e12891de06cf', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 597bb0d1877f92f9300d7d337bb9920ac82cab9a)\n'}, {'number': 2, 'created': '2020-08-20 22:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7837620bb15b22ec573927723fb23943bd613f80', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 597bb0d1877f92f9300d7d337bb9920ac82cab9a)\n'}, {'number': 3, 'created': '2020-08-20 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a29e6a46b3fedf01702607d5dccf10c659e3f1e2', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 597bb0d1877f92f9300d7d337bb9920ac82cab9a)\n'}, {'number': 4, 'created': '2020-08-21 15:54:48.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc6ab26c1ab9485edb583bdde608d862a118ee56', 'message': '[ovn]: port forwarding -- IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the additions to northbound api needed for\nhandling load balancer entries created on behalf of port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/729354/\nChange-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 597bb0d1877f92f9300d7d337bb9920ac82cab9a)\n'}]",0,747286,fc6ab26c1ab9485edb583bdde608d862a118ee56,15,8,4,11952,,,0,"[ovn]: port forwarding -- IDL changes

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset covers the additions to northbound api needed for
handling load balancer entries created on behalf of port forwarding.

Depends-On: https://review.opendev.org/#/c/729354/
Change-Id: I7d0aa51468dbd2c298395c3dccd8f222e87032d8
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
(cherry picked from commit 597bb0d1877f92f9300d7d337bb9920ac82cab9a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/747286/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",4,175c46e1168b5a197b1bff660ee4e12891de06cf,ovn/port_forwarding-stable/ussuri,class UpdateLbExternalIds(UpdateObjectExtIdsCommand): table = 'Load_Balancer' ,,110,1
openstack%2Fneutron~stable%2Fussuri~I01f54ea4a21eb635f0bf87a15694929ed1f3a643,openstack/neutron,stable/ussuri,I01f54ea4a21eb635f0bf87a15694929ed1f3a643,[ovn]: port forwarding -- Functional test for IDL changes,ABANDONED,2020-08-20 20:40:44.000000000,2020-09-03 12:19:58.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 20:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74ce755df148ad4ac63347fa2d3a64701be34ebb', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 605de6d96854767edd6ed5a1512e3e46b7b0c311)\n'}, {'number': 2, 'created': '2020-08-20 23:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab3c9aa397d3a94cc321f9164af5943265854187', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 605de6d96854767edd6ed5a1512e3e46b7b0c311)\n'}, {'number': 3, 'created': '2020-08-20 23:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18d2accc4ebe85c58f76a4ecd06617c1af2542eb', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 605de6d96854767edd6ed5a1512e3e46b7b0c311)\n'}, {'number': 4, 'created': '2020-08-21 15:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c78c52c36716e260eeb459f702f14c8b747e055', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nNote: The backport removes the usage of the selection_fields\ncolumn in the load balancer table, because it is new in OVN\nand have no real role in the test itself.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 605de6d96854767edd6ed5a1512e3e46b7b0c311)\n'}, {'number': 5, 'created': '2020-08-21 15:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cd424267d9a73daf9c91e563f77a90d45425a8e', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nNote: The backport removes the usage of the selection_fields\ncolumn in the load balancer table, because it is new in OVN\nand have no real role in the test itself.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 605de6d96854767edd6ed5a1512e3e46b7b0c311)\n'}, {'number': 6, 'created': '2020-08-21 15:55:26.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dae7600ca1a9a344ac80c476e5c3b2abc3cf9fb', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nNote: The backport removes the usage of the selection_fields\ncolumn in the load balancer table, because it is new in OVN\nand have no real role in the test itself.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n(cherry picked from commit 605de6d96854767edd6ed5a1512e3e46b7b0c311)\n'}]",0,747289,4dae7600ca1a9a344ac80c476e5c3b2abc3cf9fb,23,7,6,11952,,,0,"[ovn]: port forwarding -- Functional test for IDL changes

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset introduces functional tests for the IDL functions
added to the NB API for supporting port forwarding.

Note: The backport removes the usage of the selection_fields
column in the load balancer table, because it is new in OVN
and have no real role in the test itself.

Depends-On: https://review.opendev.org/#/c/741000/
Change-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
(cherry picked from commit 605de6d96854767edd6ed5a1512e3e46b7b0c311)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/747289/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'],1,74ce755df148ad4ac63347fa2d3a64701be34ebb,ovn/port_forwarding-stable/ussuri,"import copyfrom ovsdbapp import constants as constfrom neutron.common.ovn import constants as ovn_constfrom neutron.services.portforwarding import constants as pf_constOWNER = ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY PF_PLUGIN = pf_const.PORT_FORWARDING_PLUGIN class BaseOvnIdlTest(n_base.BaseLoggingTestCase, base.FunctionalTestCase): super(BaseOvnIdlTest, self).setUp() self.api = impl.OvsdbSbOvnIdl(self.connection['OVN_Southbound']) self.nbapi = impl.OvsdbNbOvnIdl(self.connection['OVN_Northbound']) self.handler = ovsdb_event.RowEventHandler() self.api.idl.notify = self.handler.notify class TestSbApi(BaseOvnIdlTest): def setUp(self): class TestNbApi(BaseOvnIdlTest): def setUp(self): super(TestNbApi, self).setUp() self.data = { 'lbs': [ {'name': 'pf-floatingip-fip_id1-tcp', 'protocol': const.PROTO_TCP, 'vips': {""172.24.4.8:2020"": [""10.0.0.10:22""], ""172.24.4.8:2021"": [""10.0.0.11:22""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id1', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr1_id'}}, {'name': 'pf-floatingip-fip_id1-udp', 'protocol': const.PROTO_UDP, 'vips': {""172.24.4.8:53"": [""10.0.0.10:53""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id1', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr1_id'}}, {'name': 'pf-floatingip-fip_id2-tcp', 'protocol': const.PROTO_TCP, 'vips': {""172.24.4.100:2020"": [""10.0.0.10:22""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id2', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '10', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr2_id'}}, {'name': 'octavia_lb1_id', 'vips': {""172.24.4.250:80"": [""10.0.0.10:8080"", ""10.0.0.11:8080""]}, 'selection_fields': ['ip_dst', 'ip_src', 'tp_dst', 'tp_src'], 'external_ids': { 'enabled': 'True', 'lr_ref': 'neutron-rtr1_id', 'ls_refs': str({'neutron-net1_id': 1}), ovn_const.LB_EXT_IDS_VIP_KEY: '172.24.4.250', ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'neutron-port1_id', }}, ], } self.load_test_data() def load_test_data(self): with self.nbapi.transaction(check_error=True) as txn: for lb in copy.deepcopy(self.data['lbs']): lb_name = lb.pop('name') for vip, ips in lb.pop('vips').items(): txn.add(self.nbapi.lb_add( lb_name, vip, ips, may_exist=True, **lb)) def test_lb_list(self): lbs = self.nbapi.lb_list().execute(check_error=True) self.assertEqual(len(self.data['lbs']), len(lbs)) exp_values = [(lb['name'], lb['external_ids']) for lb in self.data['lbs']] lbs_values = [(lb.name, lb.external_ids) for lb in lbs] self.assertItemsEqual(exp_values, lbs_values) def test_get_router_floatingip_lbs(self): f = self.nbapi.get_router_floatingip_lbs self.assertEqual([], f('unused_router_name')) for exp_router_name in ['neutron-rtr1_id', 'neutron-rtr2_id']: exp_values = [ (lb['name'], lb['external_ids']) for lb in self.data['lbs'] if all([lb['external_ids'].get(OWNER) == PF_PLUGIN, lb['external_ids'].get( ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY) == exp_router_name])] lbs_values = [(lb.name, lb.external_ids) for lb in f(exp_router_name)] self.assertTrue(exp_values) self.assertItemsEqual(exp_values, lbs_values) def test_get_floatingip_in_nat_or_lb(self): f = self.nbapi.get_floatingip_in_nat_or_lb self.assertIsNone(f('unused_fip_id')) for exp_fip_id in ['fip_id1', 'fip_id2']: exp_values = [ (lb['name'], lb['external_ids']) for lb in self.data['lbs'] if all([lb['external_ids'].get(OWNER) == PF_PLUGIN, lb['external_ids'].get( ovn_const.OVN_FIP_EXT_ID_KEY) == exp_fip_id])] # get_floatingip_in_nat_or_lb returns the first entry # it finds for the fip_id provided. Make sure that it # is present in exp_values. lb_match = f(exp_fip_id) self.assertIn((lb_match['name'], lb_match['external_ids']), exp_values)"," class TestSbApi(base.FunctionalTestCase, n_base.BaseLoggingTestCase): self.api = impl.OvsdbSbOvnIdl(self.connection['OVN_Southbound']) self.nbapi = impl.OvsdbNbOvnIdl(self.connection['OVN_Northbound']) self.handler = ovsdb_event.RowEventHandler() self.api.idl.notify = self.handler.notify",118,6
openstack%2Fneutron~stable%2Fussuri~I8124fac13bf4d802d232e8b3976e6a2cebc72106,openstack/neutron,stable/ussuri,I8124fac13bf4d802d232e8b3976e6a2cebc72106,port_forwarding: extend support for OVN usage,ABANDONED,2020-08-20 20:00:58.000000000,2020-09-03 12:19:38.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 20:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1ff95033cde995c0738819eb630f62c3c25b268', 'message': 'port_forwarding: extend support for OVN usage\n\nThis commit adds possibility to configure fip port_forwarding\nservice plugin and l3 extension with devstack plugin for OVN.\n\nSince OVN uses API workers, this change also introduces the\ncallbacks necessary in pf_plugin, so events related to port\nforwarding are sent using neutron_lib callbacks registry.\n\nRelated-Bug: #1877447\nChange-Id: I8124fac13bf4d802d232e8b3976e6a2cebc72106\n(cherry picked from commit 102c442bcfa39074787e3292818880ecf238ac61)\n'}, {'number': 2, 'created': '2020-08-20 22:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e11c8846257a3a88aa1e56f84980ed567fb5b65c', 'message': 'port_forwarding: extend support for OVN usage\n\nThis commit adds possibility to configure fip port_forwarding\nservice plugin and l3 extension with devstack plugin for OVN.\n\nSince OVN uses API workers, this change also introduces the\ncallbacks necessary in pf_plugin, so events related to port\nforwarding are sent using neutron_lib callbacks registry.\n\nRelated-Bug: #1877447\nChange-Id: I8124fac13bf4d802d232e8b3976e6a2cebc72106\n(cherry picked from commit 102c442bcfa39074787e3292818880ecf238ac61)\n'}, {'number': 3, 'created': '2020-08-21 09:59:14.000000000', 'files': ['neutron/services/portforwarding/constants.py', 'devstack/plugin.sh', 'neutron/services/portforwarding/callbacks.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e46353ecd87d6e80463269e3047abdad262bbc94', 'message': 'port_forwarding: extend support for OVN usage\n\nThis commit adds possibility to configure fip port_forwarding\nservice plugin and l3 extension with devstack plugin for OVN.\n\nSince OVN uses API workers, this change also introduces the\ncallbacks necessary in pf_plugin, so events related to port\nforwarding are sent using neutron_lib callbacks registry.\n\nConflicts:\nneutron/tests/unit/services/portforwarding/test_pf_plugin.py\n\nRelated-Bug: #1877447\nChange-Id: I8124fac13bf4d802d232e8b3976e6a2cebc72106\n(cherry picked from commit 102c442bcfa39074787e3292818880ecf238ac61)\n'}]",0,747283,e46353ecd87d6e80463269e3047abdad262bbc94,22,7,3,11952,,,0,"port_forwarding: extend support for OVN usage

This commit adds possibility to configure fip port_forwarding
service plugin and l3 extension with devstack plugin for OVN.

Since OVN uses API workers, this change also introduces the
callbacks necessary in pf_plugin, so events related to port
forwarding are sent using neutron_lib callbacks registry.

Conflicts:
neutron/tests/unit/services/portforwarding/test_pf_plugin.py

Related-Bug: #1877447
Change-Id: I8124fac13bf4d802d232e8b3976e6a2cebc72106
(cherry picked from commit 102c442bcfa39074787e3292818880ecf238ac61)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/747283/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/constants.py', 'devstack/plugin.sh', 'neutron/services/portforwarding/callbacks.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",5,a1ff95033cde995c0738819eb630f62c3c25b268,ovn/port_forwarding-stable/ussuri,"from collections import namedtuplefrom neutron_lib.callbacks import eventsfrom neutron.services.portforwarding import constants as pf_consts mock.patch('neutron_lib.callbacks.registry.publish').start() @mock.patch.object(registry, 'notify') pf_get_object_mock, push_api_mock, registry_notify_mock): registry_notify_mock.assert_called_once_with( pf_consts.PORT_FORWARDING, events.AFTER_DELETE, self.pf_plugin, payload=mock.ANY) registry_notify_mock.reset_mock() registry_notify_mock.assert_called_once_with( pf_consts.PORT_FORWARDING, events.AFTER_DELETE, self.pf_plugin, payload=mock.ANY) mock_registry_notify.assert_called_once_with( pf_consts.PORT_FORWARDING, events.AFTER_UPDATE, self.pf_plugin, payload=mock.ANY) @mock.patch.object(registry, 'notify') mock_check_router_match, mock_push_api, mock_registry_notify, mock_update_objects, mock_check_bind_fip): mock_registry_notify.assert_called_once_with( pf_consts.PORT_FORWARDING, events.AFTER_CREATE, self.pf_plugin, payload=mock.ANY) mock_registry_notify.reset_mock() mock_registry_notify.assert_called_once_with( pf_consts.PORT_FORWARDING, events.AFTER_CREATE, self.pf_plugin, payload=mock.ANY) def test_service_plugins_values(self): exp_default = ['router'] supported_plugins = ['router', 'ovn-router'] same_as_input = 'same_as_input' TC = namedtuple('TC', 'input expected description') test_cases = [ TC([], exp_default, ""default from empty cfg""), TC(['foo'], exp_default, ""default from unexpected cfg""), TC(['foo', 123], exp_default, ""default from unexpected cfg""), TC(['foo', 'router'], exp_default, ""default from valid cfg""), TC(['router'], same_as_input, ""valid cfg 1""), TC(['router'], same_as_input, ""valid cfg 1""), TC(['ovn-router'], same_as_input, ""valid cfg 2""), TC(['ovn-router', 'router'], supported_plugins, ""valid cfg 3""), TC(['router', 'ovn-router'], supported_plugins, ""valid cfg 4""), TC(['bar', 'router', 'foo'], ['router'], ""valid cfg 5""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], ""valid cfg 6""), TC(['bar', 'router', 123, 'ovn-router', 'foo', 'kitchen', 'sink'], supported_plugins, ""valid cfg 7""), ] for tc in test_cases: cfg.CONF.set_override(""service_plugins"", tc.input) result = pf_plugin._required_service_plugins() if tc.expected == same_as_input: self.assertEqual(tc.input, result, tc.description) else: self.assertEqual(tc.expected, result, tc.description) @mock.patch.object(cfg.ConfigOpts, '__getattr__') def test_service_plugins_no_such_opt(self, mock_config_opts_get): description = ""test cfg.NoSuchOptError exception"" mock_config_opts_get.side_effect = cfg.NoSuchOptError('test_svc_plug') result = pf_plugin._required_service_plugins() mock_config_opts_get.assert_called_once() self.assertEqual(['router'], result, description)"," pf_get_object_mock, push_api_mock): mock_check_router_match, mock_push_api, mock_update_objects, mock_check_bind_fip):",147,4
openstack%2Fneutron~stable%2Fussuri~I3f2e18fabf4556cd708c6e544b5aaf37f72b44df,openstack/neutron,stable/ussuri,I3f2e18fabf4556cd708c6e544b5aaf37f72b44df,port_forwarding: extend support for OVN usage (cont.),ABANDONED,2020-08-20 20:05:13.000000000,2020-09-03 12:18:22.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 20:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93663aa614e5f40782c3f89fa0a61cd33277a6e9', 'message': 'port_forwarding: extend support for OVN usage (cont.)\n\nThis is a follow up from commit 102c442bcfa39074787e3292818880ecf238ac61\n\nThe call to resources_rpc.ResourcesPushRpcApi() will fail in situations\nwhere RPC is not available. That is the case for neutron_ovn_db_sync_util.\n\nThe changes here will only set push_api if any of the configured service\nplugins need it. This is a behavior similar to what is done for the QOS\nplugin.\n\nRelated-Bug: #1877447\nChange-Id: I3f2e18fabf4556cd708c6e544b5aaf37f72b44df\n(cherry picked from commit eb46081150a4ca4e2007cabfcadd134cbc85435e)\n'}, {'number': 2, 'created': '2020-08-20 22:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64f87ea5154906c3892eecfbe9498987481a474f', 'message': 'port_forwarding: extend support for OVN usage (cont.)\n\nThis is a follow up from commit 102c442bcfa39074787e3292818880ecf238ac61\n\nThe call to resources_rpc.ResourcesPushRpcApi() will fail in situations\nwhere RPC is not available. That is the case for neutron_ovn_db_sync_util.\n\nThe changes here will only set push_api if any of the configured service\nplugins need it. This is a behavior similar to what is done for the QOS\nplugin.\n\nRelated-Bug: #1877447\nChange-Id: I3f2e18fabf4556cd708c6e544b5aaf37f72b44df\n(cherry picked from commit eb46081150a4ca4e2007cabfcadd134cbc85435e)\n'}, {'number': 3, 'created': '2020-08-20 22:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd5bf9ce0bf2592383a9a8fedaede208e2613424', 'message': 'port_forwarding: extend support for OVN usage (cont.)\n\nThis is a follow up from commit 102c442bcfa39074787e3292818880ecf238ac61\n\nThe call to resources_rpc.ResourcesPushRpcApi() will fail in situations\nwhere RPC is not available. That is the case for neutron_ovn_db_sync_util.\n\nThe changes here will only set push_api if any of the configured service\nplugins need it. This is a behavior similar to what is done for the QOS\nplugin.\n\nNote: This change also cherry picks changes from gerrit change\nhttps://review.opendev.org/#/c/736242/ in order to address the following\npep8 issue:\n\n./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:524:9:\n  N328  Use assertTrue(observed) instead of assertEqual(True, observed)\n        self.assertEqual(\n        ^\n\nRelated-Bug: #1877447\nChange-Id: I3f2e18fabf4556cd708c6e544b5aaf37f72b44df\n(cherry picked from commit eb46081150a4ca4e2007cabfcadd134cbc85435e)\n(cherry picked from commit 8913461aa9896e00a011693d20a42188766a8348)\n'}, {'number': 4, 'created': '2020-08-21 14:53:02.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0579738bae254955b6dd6c056adfda327602c63', 'message': 'port_forwarding: extend support for OVN usage (cont.)\n\nThis is a follow up from commit 102c442bcfa39074787e3292818880ecf238ac61\n\nThe call to resources_rpc.ResourcesPushRpcApi() will fail in situations\nwhere RPC is not available. That is the case for neutron_ovn_db_sync_util.\n\nThe changes here will only set push_api if any of the configured service\nplugins need it. This is a behavior similar to what is done for the QOS\nplugin.\n\nNote: This change also cherry picks changes from gerrit change\nhttps://review.opendev.org/#/c/736242/ in order to address the following\npep8 issue:\n\n./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:524:9:\n  N328  Use assertTrue(observed) instead of assertEqual(True, observed)\n        self.assertEqual(\n        ^\n\nRelated-Bug: #1877447\nChange-Id: I3f2e18fabf4556cd708c6e544b5aaf37f72b44df\n(cherry picked from commit eb46081150a4ca4e2007cabfcadd134cbc85435e)\n(cherry picked from commit 8913461aa9896e00a011693d20a42188766a8348)\n'}]",0,747284,e0579738bae254955b6dd6c056adfda327602c63,13,7,4,11952,,,0,"port_forwarding: extend support for OVN usage (cont.)

This is a follow up from commit 102c442bcfa39074787e3292818880ecf238ac61

The call to resources_rpc.ResourcesPushRpcApi() will fail in situations
where RPC is not available. That is the case for neutron_ovn_db_sync_util.

The changes here will only set push_api if any of the configured service
plugins need it. This is a behavior similar to what is done for the QOS
plugin.

Note: This change also cherry picks changes from gerrit change
https://review.opendev.org/#/c/736242/ in order to address the following
pep8 issue:

./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:524:9:
  N328  Use assertTrue(observed) instead of assertEqual(True, observed)
        self.assertEqual(
        ^

Related-Bug: #1877447
Change-Id: I3f2e18fabf4556cd708c6e544b5aaf37f72b44df
(cherry picked from commit eb46081150a4ca4e2007cabfcadd134cbc85435e)
(cherry picked from commit 8913461aa9896e00a011693d20a42188766a8348)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/747284/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,93663aa614e5f40782c3f89fa0a61cd33277a6e9,ovn/port_forwarding-stable/ussuri," exp_default_plugins = ['router'] TC = namedtuple('TC', 'input exp_plugins exp_uses_rpc description') TC([], exp_default_plugins, True, ""default from empty cfg""), TC(['foo'], exp_default_plugins, True, ""default from unexpected cfg""), TC(['foo', 123], exp_default_plugins, True, ""default from unexpected cfg""), TC(['foo', 'router'], exp_default_plugins, True, ""default from valid cfg""), TC(['router'], same_as_input, True, ""valid cfg 1""), TC(['router'], same_as_input, True, ""valid cfg 1""), TC(['ovn-router'], same_as_input, False, ""valid cfg 2""), TC(['ovn-router', 'router'], supported_plugins, True, ""valid cfg 3""), TC(['router', 'ovn-router'], supported_plugins, True, ""valid cfg 4""), TC(['bar', 'router', 'foo'], ['router'], True, ""valid cfg 5""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], False, ""valid cfg 6""), supported_plugins, True, ""valid cfg 7""), plugins, rpc_required = pf_plugin._required_service_plugins() if tc.exp_plugins == same_as_input: self.assertEqual( (tc.input, tc.exp_uses_rpc), (plugins, rpc_required), tc.description) else: self.assertEqual( (tc.exp_plugins, tc.exp_uses_rpc), (plugins, rpc_required), tc.description) plugins, rpc_required = pf_plugin._required_service_plugins() self.assertEqual( (['router'], True), (plugins, rpc_required), description)"," exp_default = ['router'] TC = namedtuple('TC', 'input expected description') TC([], exp_default, ""default from empty cfg""), TC(['foo'], exp_default, ""default from unexpected cfg""), TC(['foo', 123], exp_default, ""default from unexpected cfg""), TC(['foo', 'router'], exp_default, ""default from valid cfg""), TC(['router'], same_as_input, ""valid cfg 1""), TC(['router'], same_as_input, ""valid cfg 1""), TC(['ovn-router'], same_as_input, ""valid cfg 2""), TC(['ovn-router', 'router'], supported_plugins, ""valid cfg 3""), TC(['router', 'ovn-router'], supported_plugins, ""valid cfg 4""), TC(['bar', 'router', 'foo'], ['router'], ""valid cfg 5""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], ""valid cfg 6""), supported_plugins, ""valid cfg 7""), result = pf_plugin._required_service_plugins() if tc.expected == same_as_input: self.assertEqual(tc.input, result, tc.description) else: self.assertEqual(tc.expected, result, tc.description) result = pf_plugin._required_service_plugins() self.assertEqual(['router'], result, description)",57,33
openstack%2Fneutron~stable%2Fussuri~I4227cc3ceb2a17f40df86dadd71d99198b6b26e9,openstack/neutron,stable/ussuri,I4227cc3ceb2a17f40df86dadd71d99198b6b26e9,[ovn]: port forwarding -- extend support for OVN usage (cont.),ABANDONED,2020-08-20 20:09:55.000000000,2020-09-03 12:18:14.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 20:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5aad9579bd23e5cd31b91bb214eeb84581c6c7c7', 'message': '[ovn]: port forwarding -- extend support for OVN usage (cont.)\n\nThis is a follow up from commit eb46081150a4ca4e2007cabfcadd134cbc85435e\nThis is a follow up from commit 93663aa614e5f40782c3f89fa0a61cd33277a6e9\n\nIn order to be used by functional tests -- or anything that does not use\nstevedore that can map from ""ovn-router"" value -- pf_plugin also needs to\nrecognize ""neutron.services.ovn_l3.plugin.OVNL3RouterPlugin"" as a way for\nspecifying the OVN L3 service plugin.\n\nChange-Id: I4227cc3ceb2a17f40df86dadd71d99198b6b26e9\nRelated-Bug: #1877447\n(cherry picked from commit 61bf68de3185c48363a6c6c9187773368152ffdd)\n'}, {'number': 2, 'created': '2020-08-20 22:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c51e51c723b8fedae88375ac1d422222c1db4e6d', 'message': '[ovn]: port forwarding -- extend support for OVN usage (cont.)\n\nThis is a follow up from commit eb46081150a4ca4e2007cabfcadd134cbc85435e\nThis is a follow up from commit 93663aa614e5f40782c3f89fa0a61cd33277a6e9\n\nIn order to be used by functional tests -- or anything that does not use\nstevedore that can map from ""ovn-router"" value -- pf_plugin also needs to\nrecognize ""neutron.services.ovn_l3.plugin.OVNL3RouterPlugin"" as a way for\nspecifying the OVN L3 service plugin.\n\nChange-Id: I4227cc3ceb2a17f40df86dadd71d99198b6b26e9\nRelated-Bug: #1877447\n(cherry picked from commit 61bf68de3185c48363a6c6c9187773368152ffdd)\n'}, {'number': 3, 'created': '2020-08-21 14:53:52.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d919953d23478ac7d78da9ce9233dcf561f2482', 'message': '[ovn]: port forwarding -- extend support for OVN usage (cont.)\n\nThis is a follow up from commit eb46081150a4ca4e2007cabfcadd134cbc85435e\nThis is a follow up from commit 93663aa614e5f40782c3f89fa0a61cd33277a6e9\n\nIn order to be used by functional tests -- or anything that does not use\nstevedore that can map from ""ovn-router"" value -- pf_plugin also needs to\nrecognize ""neutron.services.ovn_l3.plugin.OVNL3RouterPlugin"" as a way for\nspecifying the OVN L3 service plugin.\n\nChange-Id: I4227cc3ceb2a17f40df86dadd71d99198b6b26e9\nRelated-Bug: #1877447\n(cherry picked from commit 61bf68de3185c48363a6c6c9187773368152ffdd)\n'}]",0,747285,9d919953d23478ac7d78da9ce9233dcf561f2482,12,7,3,11952,,,0,"[ovn]: port forwarding -- extend support for OVN usage (cont.)

This is a follow up from commit eb46081150a4ca4e2007cabfcadd134cbc85435e
This is a follow up from commit 93663aa614e5f40782c3f89fa0a61cd33277a6e9

In order to be used by functional tests -- or anything that does not use
stevedore that can map from ""ovn-router"" value -- pf_plugin also needs to
recognize ""neutron.services.ovn_l3.plugin.OVNL3RouterPlugin"" as a way for
specifying the OVN L3 service plugin.

Change-Id: I4227cc3ceb2a17f40df86dadd71d99198b6b26e9
Related-Bug: #1877447
(cherry picked from commit 61bf68de3185c48363a6c6c9187773368152ffdd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/747285/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,5aad9579bd23e5cd31b91bb214eeb84581c6c7c7,ovn/port_forwarding-stable/ussuri," ovn_rtr_full = 'neutron.services.ovn_l3.plugin.OVNL3RouterPlugin' supported_plugins = ['router', 'ovn-router', ovn_rtr_full] TC([ovn_rtr_full], same_as_input, False, ""valid cfg 3""), TC(['ovn-router', ovn_rtr_full, 'router'], supported_plugins, True, TC(['router', 'ovn-router'], same_as_input, True, ""valid cfg 5""), TC(['router', ovn_rtr_full], same_as_input, True, TC([ovn_rtr_full, 'ovn-router'], ['ovn-router', ovn_rtr_full], False, ""valid cfg 7""), TC(['bar', 'router', 'foo'], ['router'], True, ""valid cfg 8""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], False, ""valid cfg 9""), TC(['bar', ovn_rtr_full, 'foo'], [ovn_rtr_full], False, ""valid cfg 10""), TC(['bar', 'router', 123, 'ovn-router', 'foo', 'kitchen', 'sink', ovn_rtr_full], supported_plugins, True, ""valid cfg 11""),"," supported_plugins = ['router', 'ovn-router'] TC(['router'], same_as_input, True, ""valid cfg 1""), TC(['ovn-router', 'router'], supported_plugins, True, ""valid cfg 3""), TC(['router', 'ovn-router'], supported_plugins, True, TC(['bar', 'router', 'foo'], ['router'], True, ""valid cfg 5""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], False, TC(['bar', 'router', 123, 'ovn-router', 'foo', 'kitchen', 'sink'], supported_plugins, True, ""valid cfg 7""),",20,10
openstack%2Fneutron~stable%2Fussuri~I2059a011f650dd7070a74dc6107aab2b15ca7104,openstack/neutron,stable/ussuri,I2059a011f650dd7070a74dc6107aab2b15ca7104,[ovn]: port forwarding -- documentation,ABANDONED,2020-08-20 20:26:48.000000000,2020-09-03 12:18:08.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-20 20:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b69d39951074dadc2a01c5bfb8cd51aa7f503ab9', 'message': '[ovn]: port forwarding -- documentation\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the documentation updates for the feature,\nas well as a high-level description of how OVN implements it.\n\nPartially-implements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nPartial-Bug: #1877447\n\nChange-Id: I2059a011f650dd7070a74dc6107aab2b15ca7104\n(cherry picked from commit e2060a2f0b317aadc41443accfbdc5cafae44f44)\n'}, {'number': 2, 'created': '2020-08-20 20:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbdc1f50c076ead52a0a2eb30516603eb1f31c72', 'message': '[ovn]: port forwarding -- documentation\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the documentation updates for the feature,\nas well as a high-level description of how OVN implements it.\n\nPartially-implements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nPartial-Bug: #1877447\n\nChange-Id: I2059a011f650dd7070a74dc6107aab2b15ca7104\n(cherry picked from commit e2060a2f0b317aadc41443accfbdc5cafae44f44)\n'}, {'number': 3, 'created': '2020-08-20 22:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18091c432528926cde095a99f3164dd852e64a43', 'message': '[ovn]: port forwarding -- documentation\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the documentation updates for the feature,\nas well as a high-level description of how OVN implements it.\n\nPartially-implements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nPartial-Bug: #1877447\n\nChange-Id: I2059a011f650dd7070a74dc6107aab2b15ca7104\n(cherry picked from commit e2060a2f0b317aadc41443accfbdc5cafae44f44)\n'}, {'number': 4, 'created': '2020-08-20 23:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0487b9901e3d682ed70111d9b34f3772d120b50f', 'message': '[ovn]: port forwarding -- documentation\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the documentation updates for the feature,\nas well as a high-level description of how OVN implements it.\n\nPartially-implements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nPartial-Bug: #1877447\n\nChange-Id: I2059a011f650dd7070a74dc6107aab2b15ca7104\n(cherry picked from commit e2060a2f0b317aadc41443accfbdc5cafae44f44)\n'}, {'number': 5, 'created': '2020-08-21 09:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc48f2c8cc3dd43042124514cb2d233e876315ef', 'message': '[ovn]: port forwarding -- documentation\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the documentation updates for the feature,\nas well as a high-level description of how OVN implements it.\n\nPartially-implements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nPartial-Bug: #1877447\n\nConflicts:\n\tdoc/source/ovn/gaps.rst\n\nChange-Id: I2059a011f650dd7070a74dc6107aab2b15ca7104\n(cherry picked from commit e2060a2f0b317aadc41443accfbdc5cafae44f44)\n'}, {'number': 6, 'created': '2020-08-21 15:24:52.000000000', 'files': ['doc/source/ovn/gaps.rst', 'doc/source/ovn/port_forwarding.rst', 'doc/source/ovn/index.rst', 'doc/source/admin/ovn/features.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd8d5e9261aa3be675e751153130b52b37e81d40', 'message': '[ovn]: port forwarding -- documentation\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset covers the documentation updates for the feature,\nas well as a high-level description of how OVN implements it.\n\nPartially-implements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nPartial-Bug: #1877447\n\nConflicts:\n\tdoc/source/ovn/gaps.rst\n\nChange-Id: I2059a011f650dd7070a74dc6107aab2b15ca7104\n(cherry picked from commit e2060a2f0b317aadc41443accfbdc5cafae44f44)\n'}]",0,747287,fd8d5e9261aa3be675e751153130b52b37e81d40,18,7,6,11952,,,0,"[ovn]: port forwarding -- documentation

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset covers the documentation updates for the feature,
as well as a high-level description of how OVN implements it.

Partially-implements: ovn/port_forwarding
Partially-implements: blueprint portforwarding-description
Partial-Bug: #1877447

Conflicts:
	doc/source/ovn/gaps.rst

Change-Id: I2059a011f650dd7070a74dc6107aab2b15ca7104
(cherry picked from commit e2060a2f0b317aadc41443accfbdc5cafae44f44)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/747287/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/gaps.rst', 'doc/source/ovn/port_forwarding.rst', 'doc/source/ovn/index.rst', 'doc/source/admin/ovn/features.rst']",4,b69d39951074dadc2a01c5bfb8cd51aa7f503ab9,ovn/port_forwarding-stable/ussuri, OVN and the OVN mechanism driver may be used with OVS using either the Linux The OVN driver does support VLAN tenant networks when used* Port Forwarding The OVN driver supports port forwarding as an extension of floating IPs. Enable the 'port_forwarding' service plugin in neutron configuration files to use this feature. | Port Forwarding | port_forwarding | +----------------------------------+---------------------------+, OVN and ovn mechanism driver may be used with OVS using either the Linux The ovn driver does support VLAN tenant networks when used,151,29
openstack%2Fmistral-lib~master~Ic9108c9293731b3576081c75f2786e1156ba0ccd,openstack/mistral-lib,master,Ic9108c9293731b3576081c75f2786e1156ba0ccd,Add main entities related to action providers,MERGED,2020-08-13 08:31:27.000000000,2020-09-03 12:14:05.000000000,2020-09-03 12:11:48.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-08-13 08:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/bc7097a350c9b5c3a7e943e031933810847aacdf', 'message': 'WIP: action providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n'}, {'number': 2, 'created': '2020-08-13 09:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/ca5e4dc4eb2f23cd345540939cb391ad8c59c4c0', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 3, 'created': '2020-08-13 09:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/67967fc6ad339f528803c1355fc07846b23d7916', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 4, 'created': '2020-08-20 04:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/a8e73ecf6fa6a4a813e75142a1888cf4a6043523', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 5, 'created': '2020-08-25 04:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/b322c71df892ba3e82f45b17dd6cea9c9d96ddf6', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 6, 'created': '2020-08-25 05:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/3f31e97de37fcad46ba7b31352175cca16b1712f', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 7, 'created': '2020-08-26 08:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/b974ab9aeb289001cc8d9dc00491f1e03d204ce2', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 8, 'created': '2020-08-26 09:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/f81d7edca696dea5e0f7a570f5d34d974c5a4c6b', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 9, 'created': '2020-08-28 09:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/41eae6f2747ce7f71ac0c3fad09ada6d15620e4e', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 10, 'created': '2020-09-01 07:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/fc9523b64fb1bd1e2e8d914c2e0f2a45df4948da', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 11, 'created': '2020-09-01 11:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/653c923a3ef2b673fdfa2e3a0a9f5e3cdfea151b', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 12, 'created': '2020-09-03 09:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/6dd43962294c097845e14be46a19ebbb464ccb46', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 13, 'created': '2020-09-03 09:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/6340a5d35e465a218e0b4dc2aa1f4e7b5ee27697', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 14, 'created': '2020-09-03 10:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/9fd8924c5ce4a0788ecc3ffd6661c2efacac55a2', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}, {'number': 15, 'created': '2020-09-03 10:17:03.000000000', 'files': ['mistral_lib/actions/providers/composite.py', 'mistral_lib/actions/base.py', 'mistral_lib/tests/actions/test_context.py', 'mistral_lib/actions/types.py', 'mistral_lib/actions/providers/base.py', 'mistral_lib/exceptions.py', 'mistral_lib/actions/providers/__init__.py', 'mistral_lib/tests/actions/test_action_providers.py', 'mistral_lib/actions/__init__.py', 'mistral_lib/actions/providers/python.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/f818f1f02cf51a3e5371c2b4240ab6ab38fa4883', 'message': ""Add main entities related to action providers\n\n* This patch adds the base infrastructure for the new concept\n  that we call Action Providers. It will allow to refactor\n  Mistral in a way that all action management will be encapsulated\n  with action providers. For example, Mistral Engine needs to\n  schedule actions while processing a workflow. Now it has to\n  access DB itself to find an action definition (meta info about\n  what this action is, like python class, input params etc.),\n  then prepare input parameters, validate parameters and send a\n  message to an executor to run it. In many other places, Mistral\n  also directly access DB to fetch an action definition. It's\n  not flexible because we assume that definitions of Mistral\n  actions must always be stored in DB. The concept of an Action\n  Provider allows moving away from that limitation. A particular\n  implementation of the ActionProvider interface can store action\n  definitions in any suitable way, even fetching them using\n  various transport protocols like AMQP, HTTP, TCP, or anything\n  else. An action provider may also generate action definitions\n  dynamically, like creating wrappers around a set of operating\n  system commands. But for the rest of the system it won't matter\n  what happens inside action providers. All details will be\n  hidden behind a unified interface.\n* Added ActionDescriptor interface and its convenience base\n  abstract implementation. ActionDescriptor is an entity\n  representing an action before it's instantiated. It carries\n  the most important meta information about an action like name,\n  description, input parameters etc. It is also responsible for\n  validating action input parameters and instantiating a real\n  action.\n* Added PythonActionDescriptor which represents a regular action\n  written as a Python class.\n* Added CompositeActionProvider that delegates calls find() and\n  find_all() to a collection of other action providers.\n* Minor style changes.\n\nPartially implements: bp/mistral-action-providers\n\nChange-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd\n""}]",41,746021,f818f1f02cf51a3e5371c2b4240ab6ab38fa4883,46,7,15,8731,,,0,"Add main entities related to action providers

* This patch adds the base infrastructure for the new concept
  that we call Action Providers. It will allow to refactor
  Mistral in a way that all action management will be encapsulated
  with action providers. For example, Mistral Engine needs to
  schedule actions while processing a workflow. Now it has to
  access DB itself to find an action definition (meta info about
  what this action is, like python class, input params etc.),
  then prepare input parameters, validate parameters and send a
  message to an executor to run it. In many other places, Mistral
  also directly access DB to fetch an action definition. It's
  not flexible because we assume that definitions of Mistral
  actions must always be stored in DB. The concept of an Action
  Provider allows moving away from that limitation. A particular
  implementation of the ActionProvider interface can store action
  definitions in any suitable way, even fetching them using
  various transport protocols like AMQP, HTTP, TCP, or anything
  else. An action provider may also generate action definitions
  dynamically, like creating wrappers around a set of operating
  system commands. But for the rest of the system it won't matter
  what happens inside action providers. All details will be
  hidden behind a unified interface.
* Added ActionDescriptor interface and its convenience base
  abstract implementation. ActionDescriptor is an entity
  representing an action before it's instantiated. It carries
  the most important meta information about an action like name,
  description, input parameters etc. It is also responsible for
  validating action input parameters and instantiating a real
  action.
* Added PythonActionDescriptor which represents a regular action
  written as a Python class.
* Added CompositeActionProvider that delegates calls find() and
  find_all() to a collection of other action providers.
* Minor style changes.

Partially implements: bp/mistral-action-providers

Change-Id: Ic9108c9293731b3576081c75f2786e1156ba0ccd
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/21/746021/12 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_lib/actions/providers/composite.py', 'mistral_lib/actions/base.py', 'requirements.txt', 'mistral_lib/tests/actions/test_context.py', 'mistral_lib/actions/providers/base.py', 'mistral_lib/actions/providers/__init__.py', 'mistral_lib/tests/actions/test_action_providers.py', 'mistral_lib/actions/__init__.py', 'mistral_lib/actions/providers/python.py']",9,bc7097a350c9b5c3a7e943e031933810847aacdf,bp/mistral-action-providers,"# Copyright 2020 Nokia Software. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from mistral_lib.actions.providers import base class PythonActionDescriptor(base.ActionDescriptorBase): def __init__(self, name, desc, input_string, scope, action_cls, action_cls_attrs): super(PythonActionDescriptor, self).__init__( name, desc, input_string, scope, ) self._action_cls = action_cls self._action_cls_attrs = action_cls_attrs def __repr__(self): return 'Python action [cls=%s]' % self._action_cls def instantiate(self, params): return self._action_cls(**params) @property def action_class(self): return self._action_cls @property def action_class_string(self): return ""{}.{}"".format( self._action_cls.__module__, self._action_cls.__name__ ) @property def action_class_attributes(self): return self._action_cls_attrs ",,313,10
openstack%2Fdevstack-gate~master~I0dcadaefc4751568f029498c316914b270c06386,openstack/devstack-gate,master,I0dcadaefc4751568f029498c316914b270c06386,Use subnodes for Swift storage nodes in a multinode setup,ABANDONED,2016-04-12 09:16:49.000000000,2020-09-03 12:05:37.000000000,,"[{'_account_id': 4}, {'_account_id': 330}, {'_account_id': 4146}, {'_account_id': 6968}, {'_account_id': 7069}, {'_account_id': 8871}]","[{'number': 1, 'created': '2016-04-12 09:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/ed928457875c77e15fb22715baa7824d447cc436', 'message': 'Make subnode IPs known to all Swift hosts\n\nDoing this allows us to build a ring that uses all subnodes for storage.\nThis info will be reused both on the primary nodes (running the Swift\nproxy) and the subnodes (running Swift storage services) to build local\nrings.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 2, 'created': '2016-04-12 09:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3837b364de59a0a5c650ae787479c3bb67b1b6b5', 'message': 'Make subnode IPs known to all Swift hosts\n\nDoing this allows us to build a ring that uses all subnodes for storage.\nThis info will be reused both on the primary nodes (running the Swift\nproxy) and the subnodes (running Swift storage services) to build local\nrings.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 3, 'created': '2016-04-12 09:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a7238b413fb862ed2097e6c6f8957abde43dad77', 'message': 'Make subnode IPs known to all Swift hosts\n\nDoing this allows us to build a ring that uses all subnodes for storage.\nThis info will be reused both on the primary nodes (running the Swift\nproxy) and the subnodes (running Swift storage services) to build local\nrings.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 4, 'created': '2016-04-13 19:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/2b29a9ad701a0e5fcbc827da7c1c9523c74f5e9a', 'message': 'Use subnode IPs as Swift storage IPs in multinode setup\n\nDoing this allows us to build a ring that uses all subnodes for storage.\nThis info will be reused both on the primary nodes (running the Swift\nproxy) and the subnodes (running Swift storage services) to build local\nrings.\n\nDepends-On: I15c1ec53a08e6f1aced4be15f2b1df8193a2318c\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 5, 'created': '2016-04-13 19:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f2835f5913f4fd483783db12fd2f65a4bd5b6fd4', 'message': 'Use subnode IPs as Swift storage IPs in multinode setup\n\nDoing this allows us to build a ring that uses all subnodes for storage.\nThis info will be reused both on the primary nodes (running the Swift\nproxy) and the subnodes (running Swift storage services) to build local\nrings.\n\nDepends-On: I15c1ec53a08e6f1aced4be15f2b1df8193a2318c\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 6, 'created': '2016-04-13 20:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/42ae424d41748ed9565984c4b644386968864273', 'message': 'Use subnode IPs as Swift storage IPs in multinode setup\n\nDoing this allows us to build a ring that uses all subnodes for storage.\nThis info will be reused both on the primary nodes (running the Swift\nproxy) and the subnodes (running Swift storage services) to build local\nrings.\n\nDepends-On: I15c1ec53a08e6f1aced4be15f2b1df8193a2318c\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 7, 'created': '2016-04-14 06:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/0d87118d02643625b768238c9bee4ce00f05d791', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nDepends-On: I15c1ec53a08e6f1aced4be15f2b1df8193a2318c\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 8, 'created': '2016-04-14 07:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8f259e683be0a0853763883f8c2685e530e6aa4c', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nDepends-On: I15c1ec53a08e6f1aced4be15f2b1df8193a2318c\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 9, 'created': '2016-04-14 09:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/25124f81c93aae31447a3ee90adc60318a6ef89d', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nDepends-On: I15c1ec53a08e6f1aced4be15f2b1df8193a2318c\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 10, 'created': '2016-04-14 09:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/58615ba3c6754032a7cb9d93063b9c5215c28197', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nDepends-On: I15c1ec53a08e6f1aced4be15f2b1df8193a2318c\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 11, 'created': '2016-04-14 10:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1d68726b5d4dfa49dd58b334b7ffc2278d017a28', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 12, 'created': '2016-04-14 11:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f767cdfde68b18fb02cc10b430c23525ef1d3939', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 13, 'created': '2016-04-14 11:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/5eb8642b765f7724e172338df14d92f9559d1f83', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 14, 'created': '2016-04-14 12:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/57e95fb0df7e305cedc605e1b2acc3ab842a5bf9', 'message': 'WIP: Use subnodes for Swift storage nodes in a multinode setup\n\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 15, 'created': '2016-04-14 14:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/12656e39345e86e0149636e8908a3f9ae5bafc50', 'message': 'WIP: Use subnodes for Swift storage nodes in a multinode setup\n\nThis uses a local Swift cluster on the primary first, and then replaces\nthe rings with the ones from the subnode once it is ready.\n\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 16, 'created': '2016-04-14 15:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8e372202c1d0ef42eb75fa0de8f54564f14d504b', 'message': 'WIP: Use subnodes for Swift storage nodes in a multinode setup\n\nThis uses a local Swift cluster on the primary first, and then replaces\nthe rings with the ones from the subnode once it is ready.\n\nDepends-On: If9307196dc7e74e4a842c95503958ae2d7f7acc7\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 17, 'created': '2016-04-14 22:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d90d5c0bfcdd40792d395f7bcb53c1a6af9aeea8', 'message': 'WIP: Use subnodes for Swift storage nodes in a multinode setup\n\nThis uses a local Swift cluster on the primary first, and then replaces\nthe rings with the ones from the subnode once it is ready.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 18, 'created': '2016-04-15 09:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3cbb3a45236f100f0da00b7d541d56098c006674', 'message': 'WIP: Use subnodes for Swift storage nodes in a multinode setup\n\nThis uses a local Swift cluster on the primary first, and then replaces\nthe rings with the ones from the subnode once it is ready.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 19, 'created': '2016-04-15 11:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3c305c6f424f38320fcd59b42de3ed737a52a96a', 'message': 'WIP: Use subnodes for Swift storage nodes in a multinode setup\n\nIn a multinode setup we need to deploy Swift storage nodes before the\nprimary node, because these nodes are used by the proxy on the primary\nnode, and a working Swift cluster is required for some tasks on the\nprimary node.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 20, 'created': '2016-04-15 12:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/c192a6dbf64309dbfa675561211c6158f25a1439', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nThis change uses the subnode for Swift storage nodes, while running the\nSwift proxy on the primary node.\n\nHowever, when running devstack on the primary node we need a working\nSwift cluster (because some images will be uploaded then and later used\nin Tempest), and therefore Swift storage services have to be running on\nthe subnode already.\n\nThis is done by running devstack one time on the subnode before the\nprimary node, but only for Swift storage services. This is achieved by\ndoing the following:\n\n1. Disable all services\n2. Enable only SWIFT_STORAGE_SERVICES (s-account,s-container, s-object)\n3. Temporary move local.conf to tmp.local.conf (because it contains a\nNOVA_CONF section and devstack would fail because Nova is not enabled)\n4. Run ./stack.sh\n5. Put local.conf back in place, and enable previously defined services\n\nThe subnode will be deployed again after the primary node is deployed,\nnow adding other services like Nova.\n\nThe correct behavior can be verified by comparing the storage service\nlogs on the primary and subnode; requests are served by the storage\nservices on the subnode and the proxy on the primary node.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 21, 'created': '2016-04-15 14:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/75246df41b4377e6307b2b338b22058eb4cf59da', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nThis change uses the subnode for Swift storage nodes, while running the\nSwift proxy on the primary node.\n\nHowever, when running devstack on the primary node we need a working\nSwift cluster (because some images will be uploaded then and later used\nin Tempest), and therefore Swift storage services have to be running on\nthe subnode already.\n\nThis is done by running devstack one time on the subnode before the\nprimary node, but only for Swift storage services. This is achieved by\ndoing the following:\n\n1. Disable all services\n2. Enable only SWIFT_STORAGE_SERVICES (s-account,s-container, s-object)\n3. Temporary move local.conf to tmp.local.conf (because it contains a\nNOVA_CONF section and devstack would fail because Nova is not enabled)\n4. Run ./stack.sh\n5. Put local.conf back in place, and enable previously defined services\n\nThe subnode will be deployed again after the primary node is deployed,\nnow adding other services like Nova.\n\nThe parameters SWIFT_LOOPBACK_DISK_SIZE and SWIFT_MAX_FILE_SIZE need to\nbe set manually; they are too low because neither g-api nor tempest is\nenabled on the subnode and therefore devstack chooses a lower value (see\ndevstack/lib/swift).\n\nThe correct behavior can be verified by comparing the storage service\nlogs on the primary and subnode; requests are served by the storage\nservices on the subnode and the proxy on the primary node.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 22, 'created': '2016-06-01 07:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f34478eac6a440e4e8169bbe6636f0dbb6798349', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nThis change uses the subnode for Swift storage nodes, while running the\nSwift proxy on the primary node.\n\nHowever, when running devstack on the primary node we need a working\nSwift cluster (because some images will be uploaded then and later used\nin Tempest), and therefore Swift storage services have to be running on\nthe subnode already.\n\nThis is done by running devstack one time on the subnode before the\nprimary node, but only for Swift storage services. This is achieved by\ndoing the following:\n\n1. Disable all services\n2. Enable only SWIFT_STORAGE_SERVICES (s-account,s-container, s-object)\n3. Temporary move local.conf to tmp.local.conf (because it contains a\nNOVA_CONF section and devstack would fail because Nova is not enabled)\n4. Run ./stack.sh\n5. Put local.conf back in place, and enable previously defined services\n\nThe subnode will be deployed again after the primary node is deployed,\nnow adding other services like Nova.\n\nThe parameters SWIFT_LOOPBACK_DISK_SIZE and SWIFT_MAX_FILE_SIZE need to\nbe set manually; they are too low because neither g-api nor tempest is\nenabled on the subnode and therefore devstack chooses a lower value (see\ndevstack/lib/swift).\n\nThe correct behavior can be verified by comparing the storage service\nlogs on the primary and subnode; requests are served by the storage\nservices on the subnode and the proxy on the primary node.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 23, 'created': '2016-06-08 06:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9e02685901eccce673be80761def2561de12cca7', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nThis change uses the subnode for Swift storage nodes, while running the\nSwift proxy on the primary node.\n\nHowever, when running devstack on the primary node we need a working\nSwift cluster (because some images will be uploaded then and later used\nin Tempest), and therefore Swift storage services have to be running on\nthe subnode already.\n\nThis is done by running devstack one time on the subnode before the\nprimary node, but only for Swift storage services. This is achieved by\ndoing the following:\n\n1. Disable all services\n2. Enable only SWIFT_STORAGE_SERVICES (s-account,s-container, s-object)\n3. Temporary move local.conf to tmp.local.conf (because it contains a\nNOVA_CONF section and devstack would fail because Nova is not enabled)\n4. Run ./stack.sh\n5. Put local.conf back in place, and enable previously defined services\n\nThe subnode will be deployed again after the primary node is deployed,\nnow adding other services like Nova.\n\nThe parameters SWIFT_LOOPBACK_DISK_SIZE and SWIFT_MAX_FILE_SIZE need to\nbe set manually; they are too low because neither g-api nor tempest is\nenabled on the subnode and therefore devstack chooses a lower value (see\ndevstack/lib/swift).\n\nThe correct behavior can be verified by comparing the storage service\nlogs on the primary and subnode; requests are served by the storage\nservices on the subnode and the proxy on the primary node.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}, {'number': 24, 'created': '2017-06-23 09:40:56.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/6d131e09369fefe5ac54d142c09388fddad4df84', 'message': 'Use subnodes for Swift storage nodes in a multinode setup\n\nThis change uses the subnode for Swift storage nodes, while running the\nSwift proxy on the primary node.\n\nHowever, when running devstack on the primary node we need a working\nSwift cluster (because some images will be uploaded then and later used\nin Tempest), and therefore Swift storage services have to be running on\nthe subnode already.\n\nThis is done by running devstack one time on the subnode before the\nprimary node, but only for Swift storage services. This is achieved by\ndoing the following:\n\n1. Disable all services\n2. Enable only SWIFT_STORAGE_SERVICES (s-account,s-container, s-object)\n3. Temporary move local.conf to tmp.local.conf (because it contains a\nNOVA_CONF section and devstack would fail because Nova is not enabled)\n4. Run ./stack.sh\n5. Put local.conf back in place, and enable previously defined services\n\nThe subnode will be deployed again after the primary node is deployed,\nnow adding other services like Nova.\n\nThe parameters SWIFT_LOOPBACK_DISK_SIZE and SWIFT_MAX_FILE_SIZE need to\nbe set manually; they are too low because neither g-api nor tempest is\nenabled on the subnode and therefore devstack chooses a lower value (see\ndevstack/lib/swift).\n\nThe correct behavior can be verified by comparing the storage service\nlogs on the primary and subnode; requests are served by the storage\nservices on the subnode and the proxy on the primary node.\n\nChange-Id: I0dcadaefc4751568f029498c316914b270c06386\n'}]",2,304465,6d131e09369fefe5ac54d142c09388fddad4df84,72,6,24,6968,,,0,"Use subnodes for Swift storage nodes in a multinode setup

This change uses the subnode for Swift storage nodes, while running the
Swift proxy on the primary node.

However, when running devstack on the primary node we need a working
Swift cluster (because some images will be uploaded then and later used
in Tempest), and therefore Swift storage services have to be running on
the subnode already.

This is done by running devstack one time on the subnode before the
primary node, but only for Swift storage services. This is achieved by
doing the following:

1. Disable all services
2. Enable only SWIFT_STORAGE_SERVICES (s-account,s-container, s-object)
3. Temporary move local.conf to tmp.local.conf (because it contains a
NOVA_CONF section and devstack would fail because Nova is not enabled)
4. Run ./stack.sh
5. Put local.conf back in place, and enable previously defined services

The subnode will be deployed again after the primary node is deployed,
now adding other services like Nova.

The parameters SWIFT_LOOPBACK_DISK_SIZE and SWIFT_MAX_FILE_SIZE need to
be set manually; they are too low because neither g-api nor tempest is
enabled on the subnode and therefore devstack chooses a lower value (see
devstack/lib/swift).

The correct behavior can be verified by comparing the storage service
logs on the primary and subnode; requests are served by the storage
services on the subnode and the proxy on the primary node.

Change-Id: I0dcadaefc4751568f029498c316914b270c06386
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/65/304465/6 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,ed928457875c77e15fb22715baa7824d447cc436,(HEAD," # All Swift nodes need to know all storage IPs remote_copy_file /etc/nodepool/sub_nodes_private $NODE:/etc/swift/storage_nodes # Swift proxy will run on the primary node, needs info about storage nodes remote_copy_file /etc/nodepool/sub_nodes_private $primary_node:/etc/swift/storage_nodes",,4,0
openstack%2Fswift~master~I00ac45429a09462df6c4407a925395097a1c46d0,openstack/swift,master,I00ac45429a09462df6c4407a925395097a1c46d0,Make verbose unicode test output working,ABANDONED,2016-07-08 06:35:27.000000000,2020-09-03 12:05:00.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2016-07-08 06:35:27.000000000', 'files': ['test/unit/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a073f90c7eefe9def663f75971cec8819e19f451', 'message': 'Make verbose unicode test output working\n\nCurrently tests will fail with an exception and subsequent timeouts if\none runs tests with a non-default locale and enables verbose output.\nThis is due to the fact that the catched output is not encoded properly\nbefore printing it, and therefore raises an unicode error.\n\nWith this patch applied one can run something like this now:\n\n export LANG=""de_DE.UTF-8""\n nosetests -s test.unit.proxy.controllers.test_obj\n\nChange-Id: I00ac45429a09462df6c4407a925395097a1c46d0\n'}]",0,339360,a073f90c7eefe9def663f75971cec8819e19f451,7,3,1,6968,,,0,"Make verbose unicode test output working

Currently tests will fail with an exception and subsequent timeouts if
one runs tests with a non-default locale and enables verbose output.
This is due to the fact that the catched output is not encoded properly
before printing it, and therefore raises an unicode error.

With this patch applied one can run something like this now:

 export LANG=""de_DE.UTF-8""
 nosetests -s test.unit.proxy.controllers.test_obj

Change-Id: I00ac45429a09462df6c4407a925395097a1c46d0
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/339360/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/__init__.py'],1,a073f90c7eefe9def663f75971cec8819e19f451,bug/1597210," return msg.encode('utf-8').replace('#012', '\n')"," return msg.replace('#012', '\n')",1,1
openstack%2Fswift~master~Ia82b3643a4c4edf329c4f7a2b05638f9de962c05,openstack/swift,master,Ia82b3643a4c4edf329c4f7a2b05638f9de962c05,Refactor locale tests and fix unicode issue,ABANDONED,2016-06-01 14:32:26.000000000,2020-09-03 12:04:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 6968}, {'_account_id': 7847}, {'_account_id': 9576}, {'_account_id': 9816}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-06-01 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/95db07632928af46a135afe042f4e030a1f7a8ed', 'message': 'Refactor locale tests and unicode issue\n\nThere is an issue if someone uses a non-english locale, that includes\nnon US-ASCII chars. In that case appending a unicode argument to a\nstring fails with an error.\n\nThis patch refactors the existing test, covering a few more different\ncases with english and non-english locales. The last test currently\nfails on master with an UnicodeDecodeError; this is fixed by the gettext\ndecoding.\n\nCloses-Bug: 1580678\nChange-Id: Ia82b3643a4c4edf329c4f7a2b05638f9de962c05\n'}, {'number': 2, 'created': '2016-06-07 18:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dc12bfcf84119adfffa6be68bfdcf60e68d4278d', 'message': 'Refactor locale tests and unicode issue\n\nThere is an issue if someone uses a non-english locale, that includes\nnon US-ASCII chars. In that case appending a unicode argument to a\nstring fails with an error.\n\nThis patch refactors the existing test, covering a few more different\ncases with english and non-english locales. The last test currently\nfails on master with an UnicodeDecodeError; this is fixed by the gettext\ndecoding.\n\nCloses-Bug: 1580678\nChange-Id: Ia82b3643a4c4edf329c4f7a2b05638f9de962c05\n'}, {'number': 3, 'created': '2016-06-08 15:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6cc9c18fbb6d956ce4b4cf14b56dcc7305bca1ed', 'message': 'Improve locale tests and fix unicode issue\n\nThere is an issue if someone uses a non-english locale, that includes\nnon US-ASCII chars. In that case appending a unicode argument to a\nstring fails with an error. The problem is the mix of str and unicode\nobjects and the handling when printing them using sys.stdout/stderr.\n\nAn inherited StreamWriter class has been added that ensures str objects\nare not modified while unicode objects will be utf-8 encoded.\n\nThis patch also improves the existing test, covering a few more\ndifferent cases with english and non-english locales. The last test\ncurrently fails on master with an UnicodeDecodeError; this is fixed by\nthe gettext decoding.\n\nCloses-Bug: 1580678\nChange-Id: Ia82b3643a4c4edf329c4f7a2b05638f9de962c05\n'}, {'number': 4, 'created': '2016-06-08 16:20:38.000000000', 'files': ['swift/__init__.py', 'test/unit/test_locale/test_locale.py', 'test/unit/test_locale/messages.mo', 'test/unit/test_locale/eo.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/1b6f35e01b95aeb8f73a18d61e292552a63f472b', 'message': 'Refactor locale tests and fix unicode issue\n\nThere is an issue if someone uses a non-english locale, that includes\nnon US-ASCII chars. In that case appending a unicode argument to a\nstring fails with an error.\n\nThis patch refactors the existing test, covering a few more different\ncases with english and non-english locales. The last test currently\nfails on master with an UnicodeDecodeError; this is fixed by the gettext\ndecoding.\n\nCloses-Bug: 1580678\nChange-Id: Ia82b3643a4c4edf329c4f7a2b05638f9de962c05\n'}]",13,323950,1b6f35e01b95aeb8f73a18d61e292552a63f472b,28,8,4,6968,,,0,"Refactor locale tests and fix unicode issue

There is an issue if someone uses a non-english locale, that includes
non US-ASCII chars. In that case appending a unicode argument to a
string fails with an error.

This patch refactors the existing test, covering a few more different
cases with english and non-english locales. The last test currently
fails on master with an UnicodeDecodeError; this is fixed by the gettext
decoding.

Closes-Bug: 1580678
Change-Id: Ia82b3643a4c4edf329c4f7a2b05638f9de962c05
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/323950/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/__init__.py', 'test/unit/test_locale/test_locale.py', 'test/unit/test_locale/messages.mo', 'test/unit/test_locale/eo.po']",4,95db07632928af46a135afe042f4e030a1f7a8ed,bug/1580678,"msgid ""test message %(msg)s"" msgstr ""prova mesao %(msg)s""","msgid ""test message"" msgstr ""prova mesao""",32,55
openstack%2Ftripleo-heat-templates~master~Icc992e8e7686b6cca1c81b77a4661909428f4eb2,openstack/tripleo-heat-templates,master,Icc992e8e7686b6cca1c81b77a4661909428f4eb2,Disable Cinder and Swift services in scenario010-multinode-containers,ABANDONED,2018-08-20 13:02:25.000000000,2020-09-03 12:02:52.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-20 13:02:25.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0cdd296fa9e6d96b3a49431e66146b6be0f2545', 'message': 'Disable Cinder and Swift services in scenario010-multinode-containers\n\nRelated-bug: #1722758\nRelated-bug: #1787268\nChange-Id: Icc992e8e7686b6cca1c81b77a4661909428f4eb2\n'}]",0,593616,d0cdd296fa9e6d96b3a49431e66146b6be0f2545,5,3,1,6968,,,0,"Disable Cinder and Swift services in scenario010-multinode-containers

Related-bug: #1722758
Related-bug: #1787268
Change-Id: Icc992e8e7686b6cca1c81b77a4661909428f4eb2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/593616/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-multinode-containers.yaml'],1,d0cdd296fa9e6d96b3a49431e66146b6be0f2545,bug/1722758, OS::TripleO::Services::CinderApi: OS::Heat::None OS::TripleO::Services::CinderScheduler: OS::Heat::None OS::TripleO::Services::CinderVolume: OS::Heat::None OS::TripleO::Services::SwiftProxy: OS::Heat::None OS::TripleO::Services::SwiftStorage: OS::Heat::None OS::TripleO::Services::SwiftRingBuilder: OS::Heat::None,,6,0
openstack%2Fsushy~stable%2Ftrain~I825930623c84d3b6e5994e29f963b4f5af7afe4d,openstack/sushy,stable/train,I825930623c84d3b6e5994e29f963b4f5af7afe4d,Use Sessions URL from root service if it's provided,MERGED,2020-08-31 08:17:11.000000000,2020-09-03 11:51:59.000000000,2020-09-03 11:49:55.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-31 08:17:11.000000000', 'files': ['sushy/tests/unit/test_main.py', 'sushy/auth.py', 'sushy/main.py', 'sushy/resources/sessionservice/sessionservice.py', 'releasenotes/notes/use-sessions-url-from-root-8b8eca57dc450705.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3e1507ac313c47832a6847a9e9874a317da884b0', 'message': ""Use Sessions URL from root service if it's provided\n\nIf the root endpoint provides the link to Sessions, we should just\nuse it.\n\nChange-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d\nStory: 2008059\nTask: 40742\n(cherry picked from commit e730987a186be68de9555dfef66661f68b10c57a)\n""}]",0,748973,3e1507ac313c47832a6847a9e9874a317da884b0,11,4,1,23851,,,0,"Use Sessions URL from root service if it's provided

If the root endpoint provides the link to Sessions, we should just
use it.

Change-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d
Story: 2008059
Task: 40742
(cherry picked from commit e730987a186be68de9555dfef66661f68b10c57a)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/73/748973/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_main.py', 'sushy/auth.py', 'sushy/main.py', 'sushy/resources/sessionservice/sessionservice.py', 'releasenotes/notes/use-sessions-url-from-root-8b8eca57dc450705.yaml']",5,3e1507ac313c47832a6847a9e9874a317da884b0,no-guess-sessions-uri-stable/train,"--- fixes: - | Instead of trying to GET /redfish/v1/SessionService, which is usually reachable via authentication, fail, and then guess /redfish/v1/SessionService/Sessions as Sessions URL, we try first to use directly the Sessions URL provided by the root service, if available. ",,49,9
openstack%2Fsushy~stable%2Fussuri~I825930623c84d3b6e5994e29f963b4f5af7afe4d,openstack/sushy,stable/ussuri,I825930623c84d3b6e5994e29f963b4f5af7afe4d,Use Sessions URL from root service if it's provided,MERGED,2020-08-31 08:16:48.000000000,2020-09-03 11:48:28.000000000,2020-09-03 11:46:13.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-31 08:16:48.000000000', 'files': ['sushy/tests/unit/test_main.py', 'sushy/auth.py', 'sushy/main.py', 'sushy/resources/sessionservice/sessionservice.py', 'releasenotes/notes/use-sessions-url-from-root-8b8eca57dc450705.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ed883630ae6103ce1985efee9d9093d184ba4e7e', 'message': ""Use Sessions URL from root service if it's provided\n\nIf the root endpoint provides the link to Sessions, we should just\nuse it.\n\nChange-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d\nStory: 2008059\nTask: 40742\n(cherry picked from commit e730987a186be68de9555dfef66661f68b10c57a)\n""}]",0,748972,ed883630ae6103ce1985efee9d9093d184ba4e7e,14,4,1,23851,,,0,"Use Sessions URL from root service if it's provided

If the root endpoint provides the link to Sessions, we should just
use it.

Change-Id: I825930623c84d3b6e5994e29f963b4f5af7afe4d
Story: 2008059
Task: 40742
(cherry picked from commit e730987a186be68de9555dfef66661f68b10c57a)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/72/748972/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_main.py', 'sushy/auth.py', 'sushy/main.py', 'sushy/resources/sessionservice/sessionservice.py', 'releasenotes/notes/use-sessions-url-from-root-8b8eca57dc450705.yaml']",5,ed883630ae6103ce1985efee9d9093d184ba4e7e,no-guess-sessions-uri-stable/ussuri,"--- fixes: - | Instead of trying to GET /redfish/v1/SessionService, which is usually reachable via authentication, fail, and then guess /redfish/v1/SessionService/Sessions as Sessions URL, we try first to use directly the Sessions URL provided by the root service, if available. ",,49,9
openstack%2Fdevstack~stable%2Ftrain~Ic9769e56274d7205844b86d3b5200a6415e4acad,openstack/devstack,stable/train,Ic9769e56274d7205844b86d3b5200a6415e4acad,Ensure that the zuul home can be traversed,NEW,2019-10-08 19:49:23.000000000,2020-09-03 11:44:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-08 19:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3dfbbb4b5c053e5617863c9871b0602e889d9576', 'message': 'Ensure that the zuul home can be traversed\n\nThe default permissions for the zuul home directory\nare not the same in the various distributions.\nAs /home/zuul contains the sources, a 700 default may be\nproblematic when accessing those files, so make sure\nthat the executable permissions are set.\n\nCloses-Bug: 1846251\nChange-Id: Ic9769e56274d7205844b86d3b5200a6415e4acad\n(cherry picked from commit c67a689fe56f55fa3cd288fba76f88d3aa5b9b8d)\n'}, {'number': 2, 'created': '2020-09-03 09:17:20.000000000', 'files': ['playbooks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fe5a85a6f4831b359dfc82fdc90acb10f4d8a5c9', 'message': 'Ensure that the zuul home can be traversed\n\nThe default permissions for the zuul home directory\nare not the same in the various distributions.\nAs /home/zuul contains the sources, a 700 default may be\nproblematic when accessing those files, so make sure\nthat the executable permissions are set.\n\nCloses-Bug: 1846251\nChange-Id: Ic9769e56274d7205844b86d3b5200a6415e4acad\n(cherry picked from commit c67a689fe56f55fa3cd288fba76f88d3aa5b9b8d)\n'}]",0,687405,fe5a85a6f4831b359dfc82fdc90acb10f4d8a5c9,10,5,2,10459,,,0,"Ensure that the zuul home can be traversed

The default permissions for the zuul home directory
are not the same in the various distributions.
As /home/zuul contains the sources, a 700 default may be
problematic when accessing those files, so make sure
that the executable permissions are set.

Closes-Bug: 1846251
Change-Id: Ic9769e56274d7205844b86d3b5200a6415e4acad
(cherry picked from commit c67a689fe56f55fa3cd288fba76f88d3aa5b9b8d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/687405/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/pre.yaml'],1,3dfbbb4b5c053e5617863c9871b0602e889d9576,," - name: Fix the permissions of the zuul home directory # Make sure that the zuul home can be traversed, # so that all users can access the sources placed there. # Some distributions create it with 700 by default. file: path: ""{{ ansible_user_dir }}"" mode: a+x",,7,0
openstack%2Ftrove-dashboard~master~I89df4b9681da759ba5a5b898f1de63e85351bbce,openstack/trove-dashboard,master,I89df4b9681da759ba5a5b898f1de63e85351bbce,Cleanup for Refactor-error-messages,MERGED,2020-08-28 19:00:57.000000000,2020-09-03 11:16:55.000000000,2020-09-03 11:16:55.000000000,"[{'_account_id': 1736}, {'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-28 19:00:57.000000000', 'files': ['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/forms.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/b1a2f6c77bcfa137e4e4a106101c68978c625e54', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nDepends-On: https://review.opendev.org/#/c/708069/\nChange-Id: I89df4b9681da759ba5a5b898f1de63e85351bbce\n'}]",0,748745,b1a2f6c77bcfa137e4e4a106101c68978c625e54,10,4,1,29313,,,0,"Cleanup for Refactor-error-messages

This patch is a clean-up patch for refactor-error-messages bp
which remove the exception message from base message otherwise
the same exception message display twice like
this https://ibb.co/XyFWMdz .

Depends-On: https://review.opendev.org/#/c/708069/
Change-Id: I89df4b9681da759ba5a5b898f1de63e85351bbce
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/45/748745/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/forms.py']",3,b1a2f6c77bcfa137e4e4a106101c68978c625e54,bp/refactor-error-messages," except Exception: exceptions.handle(request, _('Unable to create database.'), except Exception: exceptions.handle(request, _('Unable to resize volume.'), except Exception: exceptions.handle(request, _('Unable to resize instance.'), except Exception: _('Unable to promote replica as the new replica source.'), redirect=redirect) except Exception: exceptions.handle(request, _('Unable to create user.'), except Exception: exceptions.handle(request, _('Unable to update user.'), except Exception: 'group.'),"," except Exception as e: exceptions.handle(request, _('Unable to create database. %s') % e, except Exception as e: exceptions.handle(request, _('Unable to resize volume. %s') % e, except Exception as e: exceptions.handle(request, _('Unable to resize instance. %s') % e, except Exception as e: _('Unable to promote replica as the new replica source. ""%s""') % e, redirect=redirect) except Exception as e: exceptions.handle(request, _('Unable to create user. %s') % e, except Exception as e: exceptions.handle(request, _('Unable to update user. %s') % e, except Exception as e: 'group. %s') % e,",25,25
openstack%2Fzaqar-ui~master~Ia843b9b9d97dc101cd0cad7b8d9e854070c68d9c,openstack/zaqar-ui,master,Ia843b9b9d97dc101cd0cad7b8d9e854070c68d9c,Fix npm jobs,MERGED,2020-07-14 05:48:00.000000000,2020-09-03 11:10:52.000000000,2020-09-03 11:08:18.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-14 05:48:00.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/36ee7f75ea9ae18011c818aca81692cd84d48ae9', 'message': 'Fix npm jobs\n\nhorizon is doing frequent releases, the install from source is not\nworking as is anymore. Remove it.\n\nChange-Id: Ia843b9b9d97dc101cd0cad7b8d9e854070c68d9c\n'}]",0,740879,36ee7f75ea9ae18011c818aca81692cd84d48ae9,9,5,1,29313,,,0,"Fix npm jobs

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: Ia843b9b9d97dc101cd0cad7b8d9e854070c68d9c
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/79/740879/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,36ee7f75ea9ae18011c818aca81692cd84d48ae9,," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt ../horizon; fi"",",1,1
openstack%2Fmetalsmith~master~I9d3d17f104caea470252d400d26c225ca5de3b6e,openstack/metalsmith,master,I9d3d17f104caea470252d400d26c225ca5de3b6e,Document metalsmith_instances,MERGED,2020-06-26 01:49:45.000000000,2020-09-03 11:01:32.000000000,2020-09-03 10:59:34.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-26 01:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/4d0b3073f3b256c5af851fef2144a7642128b4c2', 'message': 'WIP Document metalsmith_instances\n\nMarked as WIP because ansible-autodoc.py has been copied into 4 repos\nnow and should really be a proper sphinx extension project\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 2, 'created': '2020-06-26 03:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5296ba992c3de1a92f43e87bbf9eee3fccaa9bad', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 3, 'created': '2020-06-28 22:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/397c7d517d6912fff3a2ff6963d574f805c1287c', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 4, 'created': '2020-06-29 01:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b812bd0092b70d685d99082af9dd028f7134a496', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 5, 'created': '2020-06-29 04:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/56f1e8fa18f2a61bf2b204e296801d4e0f453388', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 6, 'created': '2020-07-01 01:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/97a795db8f2fd2a139e13761d8c83623930027de', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 7, 'created': '2020-07-01 22:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/2280f0f6ca0618f6892adba85397f874ef953e6d', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 8, 'created': '2020-07-02 02:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/6277f253bafa13d52f8676178d9ca47cc16e672f', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 9, 'created': '2020-07-02 03:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e4c1290ae067463922b072016c6106327a768e72', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 10, 'created': '2020-08-25 21:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f70d0a7c94e15a375926014fb3018f1183e0e848', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 11, 'created': '2020-08-27 22:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/60ed5399a9c0ec3ae05c8f92c927784a24de1ec8', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}, {'number': 12, 'created': '2020-09-01 23:14:45.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py', 'metalsmith_ansible/roles/metalsmith_deployment/README.rst', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py', 'doc/source/user/ansible.rst', 'doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/56066a20a476d33c8732279bed74cd8514b198e7', 'message': 'Document metalsmith_instances\n\nChange-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e\n'}]",7,738131,56066a20a476d33c8732279bed74cd8514b198e7,40,5,12,4571,,,0,"Document metalsmith_instances

Change-Id: I9d3d17f104caea470252d400d26c225ca5de3b6e
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/31/738131/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/ansible-autodoc.py', 'metalsmith_ansible/roles/metalsmith_deployment/README.rst', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py', 'doc/source/user/ansible.rst', 'doc/source/conf.py', 'doc/requirements.txt']",6,4d0b3073f3b256c5af851fef2144a7642128b4c2,metalsmith_instances,ruamel.yaml # MIT License ansible>=2.8,,326,2
openstack%2Fmetalsmith~master~I80e28ab3f279f4284a20d44e23edfe720ff1db02,openstack/metalsmith,master,I80e28ab3f279f4284a20d44e23edfe720ff1db02,metalsmith_instances module cleanups,MERGED,2020-08-27 22:44:23.000000000,2020-09-03 10:57:12.000000000,2020-09-03 10:52:00.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-27 22:44:23.000000000', 'files': ['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8b12694d90e718dd1879f298d921d630b4ab1860', 'message': 'metalsmith_instances module cleanups\n\nThis change includes fixes required for RPM packaging, and addresses\nreview comments from the commit which added this module.\n\nChange-Id: I80e28ab3f279f4284a20d44e23edfe720ff1db02\n'}]",0,748544,8b12694d90e718dd1879f298d921d630b4ab1860,16,7,1,4571,,,0,"metalsmith_instances module cleanups

This change includes fixes required for RPM packaging, and addresses
review comments from the commit which added this module.

Change-Id: I80e28ab3f279f4284a20d44e23edfe720ff1db02
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/44/748544/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'],1,8b12694d90e718dd1879f298d921d630b4ab1860,metalsmith_instances, default: 3600,"#!/usr/bin/pythonfrom __future__ import absolute_import __metaclass__ = type ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } version_added: ""2.9"" default: 3660",1,13
openstack%2Fmetalsmith~master~Ib4e1624ef03f4dc73db435bb12bdd9f687dd3c02,openstack/metalsmith,master,Ib4e1624ef03f4dc73db435bb12bdd9f687dd3c02,Explicitly set jobs to ML2/OVS,MERGED,2020-09-01 15:35:49.000000000,2020-09-03 10:55:19.000000000,2020-09-03 10:51:59.000000000,"[{'_account_id': 6773}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 15:35:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/940d2cfa071e0b427e948ed1274b4dd03d91df58', 'message': ""Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch is\nto make sure Ironic (and related projects) gate will not get broken by\nthis change as currently OVN doesn't support baremetal nodes.\n\nChange-Id: Ib4e1624ef03f4dc73db435bb12bdd9f687dd3c02\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,749346,940d2cfa071e0b427e948ed1274b4dd03d91df58,11,4,1,6773,,,0,"Explicitly set jobs to ML2/OVS

Devstack is changing the Neutron default to OVN backend. This patch is
to make sure Ironic (and related projects) gate will not get broken by
this change as currently OVN doesn't support baremetal nodes.

Change-Id: Ib4e1624ef03f4dc73db435bb12bdd9f687dd3c02
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/46/749346/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,940d2cfa071e0b427e948ed1274b4dd03d91df58,ovn-devstack, # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,,9,0
openstack%2Fkuryr-kubernetes~master~Ie626328972587772dbeeaf52f96b312de41026f2,openstack/kuryr-kubernetes,master,Ie626328972587772dbeeaf52f96b312de41026f2,Ensure loadBalancerIP is used when defined on the Service,MERGED,2020-09-02 10:29:58.000000000,2020-09-03 10:51:50.000000000,2020-09-03 10:49:44.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-09-02 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/13e2ad6e7eafad2c8401b0b05c6f3ce3898b5612', 'message': 'Ensure loadBalancerIP is used when defined on the Service\n\nIf a loadBalancerIP is defined on the Service it should be used\non the created Load Balancer. However, that is not happening as\nthe LB CRD can be missing the lb_ip field  definition, consequently\na new Floating IP is allocated to the Load Balancer. This commit\nfixes the issue by ensuring the lb_ip is present on the CRD if\ndefined on the Service.\n\nChange-Id: Ie626328972587772dbeeaf52f96b312de41026f2\n'}, {'number': 2, 'created': '2020-09-02 10:36:58.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/04c7cb63a4f657ba5218a7610d079626738cb2fc', 'message': 'Ensure loadBalancerIP is used when defined on the Service\n\nIf a loadBalancerIP is defined on the Service it should be used\non the created Load Balancer. However, that is not happening as\nthe LB CRD can be missing the lb_ip field  definition, consequently\na new Floating IP is allocated to the Load Balancer. This commit\nfixes the issue by ensuring the lb_ip is present on the CRD if\ndefined on the Service.\n\nCloses-Bug: 1893927\nChange-Id: Ie626328972587772dbeeaf52f96b312de41026f2\n'}]",0,749478,04c7cb63a4f657ba5218a7610d079626738cb2fc,16,6,2,27032,,,0,"Ensure loadBalancerIP is used when defined on the Service

If a loadBalancerIP is defined on the Service it should be used
on the created Load Balancer. However, that is not happening as
the LB CRD can be missing the lb_ip field  definition, consequently
a new Floating IP is allocated to the Load Balancer. This commit
fixes the issue by ensuring the lb_ip is present on the CRD if
defined on the Service.

Closes-Bug: 1893927
Change-Id: Ie626328972587772dbeeaf52f96b312de41026f2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/78/749478/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,13e2ad6e7eafad2c8401b0b05c6f3ce3898b5612,fix-fip-usage," spec = self._build_kuryrloadbalancer_spec(service) 'spec': spec, svc_name = service['metadata']['name'] kubernetes = clients.get_kubernetes_client() spec = self._build_kuryrloadbalancer_spec(service) LOG.debug('Patching KuryrLoadBalancer CRD %s', loadbalancer_crd) try: kubernetes.patch_crd('spec', loadbalancer_crd['metadata'][ 'selfLink'], spec) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadBalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sConflict: raise k_exc.ResourceNotReady(svc_name) except k_exc.K8sClientException: LOG.exception('Error updating kuryrnet CRD %s', loadbalancer_crd) raise return loadbalancer_crd def _build_kuryrloadbalancer_spec(self, service): spec_lb_ip = service['spec'].get('loadBalancerIP') spec = { } if spec_lb_ip is not None: spec['lb_ip'] = spec_lb_ip return spec"," svc_ip = self._get_service_ip(service) spec_lb_ip = service['spec'].get('loadBalancerIP') ports = service['spec'].get('ports') for port in ports: if type(port['targetPort']) == int: port['targetPort'] = str(port['targetPort']) project_id = self._drv_project.get_project(service) sg_ids = self._drv_sg.get_security_groups(service, project_id) subnet_id = self._get_subnet_id(service, project_id, svc_ip) spec_type = service['spec'].get('type') 'spec': { 'ip': svc_ip, 'ports': ports, 'project_id': project_id, 'security_groups_ids': sg_ids, 'subnet_id': subnet_id, 'type': spec_type }, if spec_lb_ip is not None: loadbalancer_crd['spec']['lb_ip'] = spec_lb_ip kubernetes = clients.get_kubernetes_client() patch = { 'spec': { } } LOG.debug('Patching KuryrLoadBalancer CRD %s', loadbalancer_crd) try: kubernetes.patch_crd('spec', loadbalancer_crd['metadata'][ 'selfLink'], patch['spec']) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadBalancer CRD not found %s', loadbalancer_crd) except k_exc.K8sConflict: raise k_exc.ResourceNotReady(loadbalancer_crd) except k_exc.K8sClientException: LOG.exception('Error updating kuryrnet CRD %s', loadbalancer_crd) raise return loadbalancer_crd",24,37
openstack%2Fkolla-ansible~stable%2Ftrain~I24444095643bf7ed4b0868b4509a10a93f3a0131,openstack/kolla-ansible,stable/train,I24444095643bf7ed4b0868b4509a10a93f3a0131,[CI] Fix Bifrost CentOS 8 job,MERGED,2020-09-02 19:08:28.000000000,2020-09-03 10:37:16.000000000,2020-09-03 10:32:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-02 19:08:28.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0e20dfd8ff2df4788b4e33b39ee291f40705db3', 'message': '[CI] Fix Bifrost CentOS 8 job\n\nThis job was introduced as voting but never enabled in\nKolla-Ansible CI.\nHowever, it sneaked into Kolla CI [1] causing breakage.\n\nThis patch makes it non-voting and actually runnable in\nKolla-Ansible CI.\n\n[1] https://review.opendev.org/713509\n\nChange-Id: I24444095643bf7ed4b0868b4509a10a93f3a0131\nNeeded-By: https://review.opendev.org/749534\n'}]",2,749576,c0e20dfd8ff2df4788b4e33b39ee291f40705db3,11,5,1,30491,,,0,"[CI] Fix Bifrost CentOS 8 job

This job was introduced as voting but never enabled in
Kolla-Ansible CI.
However, it sneaked into Kolla CI [1] causing breakage.

This patch makes it non-voting and actually runnable in
Kolla-Ansible CI.

[1] https://review.opendev.org/713509

Change-Id: I24444095643bf7ed4b0868b4509a10a93f3a0131
Needed-By: https://review.opendev.org/749534
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/749576/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,c0e20dfd8ff2df4788b4e33b39ee291f40705db3,ci-bifrost,, voting: false,7,10
openstack%2Ftripleo-upgrade~master~I97c232f3f9145e76fda21aa75ae47f31c894e145,openstack/tripleo-upgrade,master,I97c232f3f9145e76fda21aa75ae47f31c894e145,WIP: Fix pipe hang in awk,ABANDONED,2020-08-31 15:30:30.000000000,2020-09-03 10:29:55.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 15:30:30.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/771b197d86d69ffa34e0c69c3870969c0788919c', 'message': 'WIP: Fix pipe hang in awk\n\nChange-Id: I97c232f3f9145e76fda21aa75ae47f31c894e145\n'}]",1,749078,771b197d86d69ffa34e0c69c3870969c0788919c,4,2,1,11166,,,0,"WIP: Fix pipe hang in awk

Change-Id: I97c232f3f9145e76fda21aa75ae47f31c894e145
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/78/749078/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,771b197d86d69ffa34e0c69c3870969c0788919c,," | { awk '{ print strftime(""%Y-%m-%d %H:%M:%S |""), $0; fflush(); }'; printf '\n'; }"," | awk '{ print strftime(""%Y-%m-%d %H:%M:%S |""), $0; fflush(); }'",1,1
openstack%2Fnova~stable%2Fussuri~I74d3402d564abd5b042024d59c7a55511afa6bf9,openstack/nova,stable/ussuri,I74d3402d564abd5b042024d59c7a55511afa6bf9,Reject resize operation for accelerator,ABANDONED,2020-09-03 10:00:24.000000000,2020-09-03 10:26:40.000000000,,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-09-03 10:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbb1aa41ef172688d34592cf29f3928f86ece383', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related unit test.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nCloses-Bug: #1893751\n\nConflicts:\n  nova/compute/api.py\n  nova/tests/unit/compute/test_compute_api.py\n\nNOTE(brinzhang): Conflicts are due to change\neef4b5435e7cdfe53ee9d9265d96c7dd278d9e93 (""api: Reject\nnon-spawn operations for vTPM"") which is change to the\nsame location.\n\nChange-Id: I74d3402d564abd5b042024d59c7a55511afa6bf9\nSigned-off-by: zhangbailin <zhangbailin@inspur.com>\n'}, {'number': 2, 'created': '2020-09-03 10:08:34.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/edfef526b538f2bd349eaeed2ee2d39cfb056a96', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related unit test.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907\n\nConflicts:\n  nova/compute/api.py\n  nova/tests/unit/compute/test_compute_api.py\n\nNOTE(brinzhang): Conflicts are due to change\neef4b5435e7cdfe53ee9d9265d96c7dd278d9e93 (""api: Reject\nnon-spawn operations for vTPM"") which modified the same code.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCloses-Bug: #1893751\n\nChange-Id: I74d3402d564abd5b042024d59c7a55511afa6bf9\nSigned-off-by: zhangbailin <zhangbailin@inspur.com>\n(cherry picked from commit dbb1aa41ef172688d34592cf29f3928f86ece383)\n'}]",9,749698,edfef526b538f2bd349eaeed2ee2d39cfb056a96,7,4,2,26458,,,0,"Reject resize operation for accelerator

When resize with a new flavor with accelerator, we should raise
forbidden exception to reject the resize operation.
Add related unit test.
Follow up the comment:
https://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907

Conflicts:
  nova/compute/api.py
  nova/tests/unit/compute/test_compute_api.py

NOTE(brinzhang): Conflicts are due to change
eef4b5435e7cdfe53ee9d9265d96c7dd278d9e93 (""api: Reject
non-spawn operations for vTPM"") which modified the same code.

Co-Authored-By: Wenping Song <songwenping@inspur.com>
Closes-Bug: #1893751

Change-Id: I74d3402d564abd5b042024d59c7a55511afa6bf9
Signed-off-by: zhangbailin <zhangbailin@inspur.com>
(cherry picked from commit dbb1aa41ef172688d34592cf29f3928f86ece383)
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/749698/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,dbb1aa41ef172688d34592cf29f3928f86ece383,bug/1893751," # NOTE(wenping): We use this instead of the 'block_accelerator' # decorator since the operation can differ depending on args, # and for resize we have two flavors to worry about, we should # reject resize with new flavor with accelerator. if new_instance_type.extra_specs.get('accel:device_profile'): raise exception.ForbiddenWithAccelerators()",,25,0
openstack%2Freleases~master~Ifed5068d5762d241233e84bf419d586f9a2b39ed,openstack/releases,master,Ifed5068d5762d241233e84bf419d586f9a2b39ed,release oslo.messaging 12.1.4 - 2020-09-01,MERGED,2020-09-01 07:55:21.000000000,2020-09-03 10:13:24.000000000,2020-09-03 10:13:24.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}]","[{'number': 1, 'created': '2020-09-01 07:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6efcb9f62ab2e2a555afc71e4f8ee12a798a49d2', 'message': ""release oslo.messaging 12.4.0 - 2020-09-01\n\nI released a minor version because a new option have been added [1].\n\nAlthough this adds a new option, it's just a gate on a\nbug fix to ensure we don't have unintended side effects. That actually\nmakes this backport safer than if it just unconditionally enabled the\nfix.\n\n[1] https://review.opendev.org/#/c/747366/\n\nChange-Id: Ifed5068d5762d241233e84bf419d586f9a2b39ed\n""}, {'number': 2, 'created': '2020-09-01 13:39:16.000000000', 'files': ['deliverables/ussuri/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/946abe5524884149cd01b05b8dc2f6071ecf3bca', 'message': ""release oslo.messaging 12.1.4 - 2020-09-01\n\nI released a bugfix version even if a new option have been added [1]\nbecause 12.2.x is already consumed by victoria.\n\nAlthough this adds a new option, it's just a gate on a\nbug fix to ensure we don't have unintended side effects. That actually\nmakes this backport safer than if it just unconditionally enabled the\nfix.\n\n[1] https://review.opendev.org/#/c/747366/\n\nChange-Id: Ifed5068d5762d241233e84bf419d586f9a2b39ed\n""}]",0,749198,946abe5524884149cd01b05b8dc2f6071ecf3bca,12,4,2,28522,,,0,"release oslo.messaging 12.1.4 - 2020-09-01

I released a bugfix version even if a new option have been added [1]
because 12.2.x is already consumed by victoria.

Although this adds a new option, it's just a gate on a
bug fix to ensure we don't have unintended side effects. That actually
makes this backport safer than if it just unconditionally enabled the
fix.

[1] https://review.opendev.org/#/c/747366/

Change-Id: Ifed5068d5762d241233e84bf419d586f9a2b39ed
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/749198/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/oslo.messaging.yaml'],1,6efcb9f62ab2e2a555afc71e4f8ee12a798a49d2,oslo-ussuri-2020-09-01, - version: 12.4.0 projects: - repo: openstack/oslo.messaging hash: 32943fd5a524f7f39cf4e10c0403bdaaa9e1e610,,4,0
openstack%2Fironic~master~Ife385c3b363c28559c90e5a54e9c6f6807d207ff,openstack/ironic,master,Ife385c3b363c28559c90e5a54e9c6f6807d207ff,Support file:/// images for the direct deploy,MERGED,2020-08-27 08:51:08.000000000,2020-09-03 09:58:06.000000000,2020-09-03 05:26:50.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-08-27 08:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6036e623dff71258a75bb196031fb853442bd0c4', 'message': '[WIP] Support file:/// images for the direct deploy\n\nImplemented via the same mechanism as for image_download_source=http.\nForcing raw format (and thus streaming) is supported as well.\n\nChange-Id: Ife385c3b363c28559c90e5a54e9c6f6807d207ff\nStory: #2008075\nTask: #40764\n'}, {'number': 2, 'created': '2020-08-27 15:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea0738b9a3dd9073f02146571113dbe007e39add', 'message': 'Support file:/// images for the direct deploy\n\nImplemented via the same mechanism as for image_download_source=http.\nForcing raw format (and thus streaming) is supported as well.\n\nSince we always re-calculate checksums for such images, the requirement\non providing them via the API is lifted.\n\nChange-Id: Ife385c3b363c28559c90e5a54e9c6f6807d207ff\nStory: #2008075\nTask: #40764\n'}, {'number': 3, 'created': '2020-09-02 13:15:41.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/images.py', 'releasenotes/notes/direct-file-6f80728d76093530.yaml', 'doc/source/install/standalone.rst', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c31cb7d99a3137ad1991daba866c877a6909168e', 'message': 'Support file:/// images for the direct deploy\n\nImplemented via the same mechanism as for image_download_source=http.\nForcing raw format (and thus streaming) is supported as well.\n\nSince we always re-calculate checksums for such images, the requirement\non providing them via the API is lifted.\n\nChange-Id: Ife385c3b363c28559c90e5a54e9c6f6807d207ff\nStory: #2008075\nTask: #40764\n'}]",5,748379,c31cb7d99a3137ad1991daba866c877a6909168e,27,6,3,10239,,,0,"Support file:/// images for the direct deploy

Implemented via the same mechanism as for image_download_source=http.
Forcing raw format (and thus streaming) is supported as well.

Since we always re-calculate checksums for such images, the requirement
on providing them via the API is lifted.

Change-Id: Ife385c3b363c28559c90e5a54e9c6f6807d207ff
Story: #2008075
Task: #40764
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/748379/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/images.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",4,6036e623dff71258a75bb196031fb853442bd0c4,story/2008075," def test_build_instance_info_for_deploy_image_not_found( image_href='http://img.qcow2', reason='fail') i_info['image_source'] = 'http://img.qcow2' @mock.patch.object(image_service.FileImageService, 'validate_href', autospec=True) def test_build_instance_info_for_deploy_file_image( self, validate_href_mock): i_info = self.node.instance_info driver_internal_info = self.node.driver_internal_info i_info['image_source'] = 'file://image-ref' i_info['image_checksum'] = 'aa' i_info['root_gb'] = 10 i_info['image_checksum'] = 'aa' driver_internal_info['is_whole_disk_image'] = True self.node.instance_info = i_info self.node.driver_internal_info = driver_internal_info self.node.save() with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: info = utils.build_instance_info_for_deploy(task) self.assertEqual(self.node.instance_info['image_source'], info['image_url']) validate_href_mock.assert_called_once_with( mock.ANY, 'file://image-ref', False) @mock.patch.object(image_service.FileImageService, 'validate_href', autospec=True) def test_build_instance_info_for_deploy_file_partition_image( self, validate_href_mock): i_info = self.node.instance_info driver_internal_info = self.node.driver_internal_info i_info['image_source'] = 'file://image-ref' i_info['kernel'] = 'file://image-kernel' i_info['ramdisk'] = 'file://image-ramdisk' i_info['image_checksum'] = 'aa' i_info['root_gb'] = 10 i_info['image_checksum'] = 'aa' driver_internal_info['is_whole_disk_image'] = False self.node.instance_info = i_info self.node.driver_internal_info = driver_internal_info self.node.save() with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: info = utils.build_instance_info_for_deploy(task) self.assertEqual(self.node.instance_info['image_source'], info['image_url']) validate_href_mock.assert_called_once_with( mock.ANY, 'file://image-ref', False) "," def test_build_instance_info_for_deploy_nonsupported_image( image_href='file://img.qcow2', reason='fail') i_info['image_source'] = 'file://img.qcow2'",141,70
openstack%2Fcharm-swift-storage~master~I0b4144daf5f9e7d6fa8ec678e09adceae2fdddc6,openstack/charm-swift-storage,master,I0b4144daf5f9e7d6fa8ec678e09adceae2fdddc6,Add focal-victoria to the test gate,MERGED,2020-08-28 12:28:54.000000000,2020-09-03 09:47:26.000000000,2020-09-03 09:47:26.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/9360cfb76f8911d865ddb06baea00d23bd5580df', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I0b4144daf5f9e7d6fa8ec678e09adceae2fdddc6\n'}, {'number': 2, 'created': '2020-09-02 09:54:50.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/c6661bc9dc760cab292cc362a275662213a35122', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I0b4144daf5f9e7d6fa8ec678e09adceae2fdddc6\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/404\n'}]",0,748659,c6661bc9dc760cab292cc362a275662213a35122,21,4,2,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I0b4144daf5f9e7d6fa8ec678e09adceae2fdddc6
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/404
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/59/748659/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,9360cfb76f8911d865ddb06baea00d23bd5580df,victoria-charm-gate, - focal-victoria, - focal-victoria,1,1
openstack%2Fironic-python-agent~bugfix%2F6.2~I76235a6e6ffdf80a0f5476f577b055223cdf1585,openstack/ironic-python-agent,bugfix/6.2,I76235a6e6ffdf80a0f5476f577b055223cdf1585,Make WSGI server respect listen_* directives,MERGED,2020-09-02 21:56:46.000000000,2020-09-03 09:43:57.000000000,2020-09-03 09:42:02.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-09-02 21:56:46.000000000', 'files': ['ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2e8d36fc405ef2a58f273d107e506e846d054d78', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nStory: 2008016\nTask: 40668\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n(cherry picked from commit 7d0ad36ebd350a7162bc3c33bbefd26b9e962a78)\n'}]",0,749599,2e8d36fc405ef2a58f273d107e506e846d054d78,9,5,1,11655,,,0,"Make WSGI server respect listen_* directives

The listen_port and listen_host directives are intended to allow
deployers of IPA to change the port and host IPA listens on. These
configs have not been obeyed since the migration to the oslo.service
wsgi server.

Story: 2008016
Task: 40668
Change-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585
(cherry picked from commit 7d0ad36ebd350a7162bc3c33bbefd26b9e962a78)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/99/749599/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml']",3,2e8d36fc405ef2a58f273d107e506e846d054d78,story/2008016-bugfix/6.3-bugfix/6.2,"--- fixes: - | Since the Ussuri release, IPA has ignored the listen_host and listen_port directives. This fixes the behavior and restores those configuration values to working status. https://storyboard.openstack.org/#!/story/2008016 ",,58,7
openstack%2Fironic-python-agent~bugfix%2F6.3~I76235a6e6ffdf80a0f5476f577b055223cdf1585,openstack/ironic-python-agent,bugfix/6.3,I76235a6e6ffdf80a0f5476f577b055223cdf1585,Make WSGI server respect listen_* directives,MERGED,2020-09-02 21:56:33.000000000,2020-09-03 09:43:54.000000000,2020-09-03 09:42:07.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-09-02 21:56:33.000000000', 'files': ['ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7b0911a2ddb7b057edb7f4d78241082cdc7ab0e7', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nStory: 2008016\nTask: 40668\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n(cherry picked from commit 7d0ad36ebd350a7162bc3c33bbefd26b9e962a78)\n'}]",0,749598,7b0911a2ddb7b057edb7f4d78241082cdc7ab0e7,10,5,1,11655,,,0,"Make WSGI server respect listen_* directives

The listen_port and listen_host directives are intended to allow
deployers of IPA to change the port and host IPA listens on. These
configs have not been obeyed since the migration to the oslo.service
wsgi server.

Story: 2008016
Task: 40668
Change-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585
(cherry picked from commit 7d0ad36ebd350a7162bc3c33bbefd26b9e962a78)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/98/749598/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml']",3,7b0911a2ddb7b057edb7f4d78241082cdc7ab0e7,story/2008016-bugfix/6.3,"--- fixes: - | Since the Ussuri release, IPA has ignored the listen_host and listen_port directives. This fixes the behavior and restores those configuration values to working status. https://storyboard.openstack.org/#!/story/2008016 ",,58,7
openstack%2Fkuryr-kubernetes~master~Ie3669db4e60a57b24012124cd24b524eb03f55cf,openstack/kuryr-kubernetes,master,Ie3669db4e60a57b24012124cd24b524eb03f55cf,"Update 10-kuryr.conf to 10-kuryr.conflist, and generate the 10-kuryr.conflist file from the template file kuryr.conflist.template",MERGED,2020-08-26 09:47:25.000000000,2020-09-03 09:37:33.000000000,2020-09-03 09:34:26.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 31835}]","[{'number': 1, 'created': '2020-08-26 09:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/076e2fe590c6577c914b922c1178e59706cd3c62', 'message': 'Update 10-kuryr.conf to 10-kuryr.conflist, and generate the 10-kuryr.conflist file from the template file kuryr.conflist.template\n\n1.\nCurrently kubelet\'s cni config file uses 10-kuryr.conf in kuryr.\nThe kubernetes can support the config file with two suffixes, "".conf"" and "".conflist"", the latter can be a list containing multiple cni plugins.\nSo I want to update the 10-kuryr.conf to 10-kuryr.conflist to satisfy the need to use multiple plug-in support.\n\n2.\nIf I install the kuryr-cni by pod, the 10-kuryr.conf will only be copied and overwrited from the kuryr/cni image container.\nWhat I expected is we can customize the config file more freely.\nSo I think we can add an other file kuryr.conflist.template as the template, then we generate the 10-kuryr.conflist fron it.\n\nChange-Id: Ie3669db4e60a57b24012124cd24b524eb03f55cf\n'}, {'number': 2, 'created': '2020-08-31 01:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c18e844bef3c5b73ece915163a1f1ef96a10cae', 'message': 'Update 10-kuryr.conf to 10-kuryr.conflist, and generate the \n10-kuryr.conflist file from the template file kuryr.conflist.template\n\n1. Currently kubelet\'s cni config file uses 10-kuryr.conf in kuryr. The \nkubernetes can support the config file with two suffixes, "".conf"" and \n"".conflist"", the latter can be a list containing multiple cni plugins.\nSo I want to update the 10-kuryr.conf to 10-kuryr.conflist to satisfy \nthe need to use multiple plug-in support.\n\n2. If I install the kuryr-cni by pod, the 10-kuryr.conf will only be \ncopied and overwrited from the kuryr/cni image container. What I \nexpected is we can customize the config file more freely. So I think we \ncan add an other file kuryr.conflist.template as the template, then we \ngenerate the 10-kuryr.conflist fron it.\n\nChange-Id: Ie3669db4e60a57b24012124cd24b524eb03f55cf\n'}, {'number': 3, 'created': '2020-09-01 13:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b95ecc9a3780fb1094cf7fdc08063ae489ff107f', 'message': 'Update 10-kuryr.conf to 10-kuryr.conflist, and generate the \n10-kuryr.conflist file from the template file kuryr.conflist.template\n\n1. Currently kubelet\'s cni config file uses 10-kuryr.conf in kuryr. The \nkubernetes can support the config file with two suffixes, "".conf"" and \n"".conflist"", the latter can be a list containing multiple cni plugins.\nSo I want to update the 10-kuryr.conf to 10-kuryr.conflist to satisfy \nthe need to use multiple plug-in support.\n\n2. If I install the kuryr-cni by pod, the 10-kuryr.conf will only be \ncopied and overwrited from the kuryr/cni image container. What I \nexpected is we can customize the config file more freely. So I think we \ncan add an other file kuryr.conflist.template as the template, then we \ngenerate the 10-kuryr.conflist fron it.\n\nChange-Id: Ie3669db4e60a57b24012124cd24b524eb03f55cf\n'}, {'number': 4, 'created': '2020-09-01 13:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ea2eaed530df989295626fc49090b49814a02bdc', 'message': 'Update 10-kuryr.conf to 10-kuryr.conflist, and generate the\n10-kuryr.conflist file from the template file kuryr.conflist.template\n\n1. Currently kubelet\'s cni config file uses 10-kuryr.conf in kuryr. The\nkubernetes can support the config file with two suffixes, "".conf"" and\n"".conflist"", the latter can be a list containing multiple cni plugins.\nSo I want to update the 10-kuryr.conf to 10-kuryr.conflist to satisfy\nthe need to use multiple plug-in support.\n\n2. If I install the kuryr-cni by pod, the 10-kuryr.conf will only be\ncopied and overwrited from the kuryr/cni image container. What I\nexpected is we can customize the config file more freely. So I think we\ncan add an other file kuryr.conflist.template as the template, then we\ngenerate the 10-kuryr.conflist fron it.\n\nChange-Id: Ie3669db4e60a57b24012124cd24b524eb03f55cf\n'}, {'number': 5, 'created': '2020-09-02 18:04:05.000000000', 'files': ['etc/cni/net.d/10-kuryr.conflist', 'doc/source/installation/manual.rst', 'etc/cni/net.d/kuryr.conflist.template', 'cni_ds_init', 'kuryr_cni/main.go', 'devstack/plugin.sh', 'etc/cni/net.d/10-kuryr.conf'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/257b5a80abbc8ebdfc7e6ae6709780c8536c97ec', 'message': 'Update 10-kuryr.conf to 10-kuryr.conflist, and generate the\n10-kuryr.conflist file from the template file kuryr.conflist.template\n\n1. Currently kubelet\'s cni config file uses 10-kuryr.conf in kuryr. The\nkubernetes can support the config file with two suffixes, "".conf"" and\n"".conflist"", the latter can be a list containing multiple cni plugins.\nSo I want to update the 10-kuryr.conf to 10-kuryr.conflist to satisfy\nthe need to use multiple plug-in support.\n\n2. If I install the kuryr-cni by pod, the 10-kuryr.conf will only be\ncopied and overwrited from the kuryr/cni image container. What I\nexpected is we can customize the config file more freely. So I think we\ncan add an other file kuryr.conflist.template as the template, then we\ngenerate the 10-kuryr.conflist fron it.\n\nChange-Id: Ie3669db4e60a57b24012124cd24b524eb03f55cf\n'}]",4,748148,257b5a80abbc8ebdfc7e6ae6709780c8536c97ec,33,6,5,31835,,,0,"Update 10-kuryr.conf to 10-kuryr.conflist, and generate the
10-kuryr.conflist file from the template file kuryr.conflist.template

1. Currently kubelet's cni config file uses 10-kuryr.conf in kuryr. The
kubernetes can support the config file with two suffixes, "".conf"" and
"".conflist"", the latter can be a list containing multiple cni plugins.
So I want to update the 10-kuryr.conf to 10-kuryr.conflist to satisfy
the need to use multiple plug-in support.

2. If I install the kuryr-cni by pod, the 10-kuryr.conf will only be
copied and overwrited from the kuryr/cni image container. What I
expected is we can customize the config file more freely. So I think we
can add an other file kuryr.conflist.template as the template, then we
generate the 10-kuryr.conflist fron it.

Change-Id: Ie3669db4e60a57b24012124cd24b524eb03f55cf
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/48/748148/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cni/net.d/10-kuryr.conflist', 'doc/source/installation/manual.rst', 'etc/cni/net.d/kuryr.conflist.template', 'cni_ds_init', 'kuryr_cni/main.go', 'devstack/plugin.sh', 'etc/cni/net.d/10-kuryr.conf']",7,076e2fe590c6577c914b922c1178e59706cd3c62,kuryr_conflist,,"{ ""cniVersion"": ""0.3.1"", ""name"": ""kuryr"", ""type"": ""kuryr-cni"", ""kuryr_conf"": ""/etc/kuryr/kuryr.conf"", ""debug"": true } ",43,20
openstack%2Fkuryr-kubernetes~master~I155d11f7080d2d4dbeca6de85b2f284aaacd7d8d,openstack/kuryr-kubernetes,master,I155d11f7080d2d4dbeca6de85b2f284aaacd7d8d,Skip FIP creation if no external subnet config is set,MERGED,2020-08-31 14:45:59.000000000,2020-09-03 09:36:08.000000000,2020-09-03 09:34:25.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-08-31 14:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/794bd4e3098203f7f9641a593ba88da86543522a', 'message': ""Skip FIP creation if no external subnet config is set\n\nWhen creating a Service of LoadBalancer type, a external_svc_net\nconfig must be set, otherwise the Floating IP for the respective\nLoadBalancer won't get created and an exception will be raised of\nmissing config. This commit logs and skip the FIP creation when\nthe needed config is not set.\n\nChange-Id: I155d11f7080d2d4dbeca6de85b2f284aaacd7d8d\n""}, {'number': 2, 'created': '2020-09-01 08:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/21a7fe8954ff91ddafd27fe6a2aec9b0da660795', 'message': ""Skip FIP creation if no external subnet config is set\n\nWhen creating a Service of LoadBalancer type, a external_svc_net\nconfig must be set, otherwise the Floating IP for the respective\nLoadBalancer won't get created and an exception will be raised of\nmissing config. This commit logs and skip the FIP creation when\nthe needed config is not set.\n\nChange-Id: I155d11f7080d2d4dbeca6de85b2f284aaacd7d8d\n""}, {'number': 3, 'created': '2020-09-02 13:54:37.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lb_public_ip.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lb_public_ip.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/46723c5751759d1c6bf1f44cd1d9f1dcd43f4920', 'message': ""Skip FIP creation if no external subnet config is set\n\nWhen creating a Service of LoadBalancer type, a external_svc_net\nconfig must be set, otherwise the Floating IP for the respective\nLoadBalancer won't get created and an exception will be raised of\nmissing config. This commit logs and skip the FIP creation when\nthe needed config is not set.\n\nChange-Id: I155d11f7080d2d4dbeca6de85b2f284aaacd7d8d\n""}]",6,749072,46723c5751759d1c6bf1f44cd1d9f1dcd43f4920,22,6,3,27032,,,0,"Skip FIP creation if no external subnet config is set

When creating a Service of LoadBalancer type, a external_svc_net
config must be set, otherwise the Floating IP for the respective
LoadBalancer won't get created and an exception will be raised of
missing config. This commit logs and skip the FIP creation when
the needed config is not set.

Change-Id: I155d11f7080d2d4dbeca6de85b2f284aaacd7d8d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/72/749072/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/lb_public_ip.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lb_public_ip.py']",3,794bd4e3098203f7f9641a593ba88da86543522a,ensure-fip-creation-skipped," result = driver.acquire_service_pub_ip_info( spec_type, spec_lb_ip, project_id) self.assertIsNone(result)","from oslo_config import cfg self.assertRaises(cfg.RequiredOptError, driver.acquire_service_pub_ip_info, spec_type, spec_lb_ip, project_id)",8,9
openstack%2Fos-ken~master~If616980b2c6d7303cdc5d4f5e7247d63e4c34939,openstack/os-ken,master,If616980b2c6d7303cdc5d4f5e7247d63e4c34939,Fix sockaddr lib with python 3,MERGED,2020-07-08 11:54:31.000000000,2020-09-03 09:18:49.000000000,2020-09-03 09:17:28.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-07-08 11:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/f338a29dd31bd7c2c925112f255e9649d6e91981', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n""}, {'number': 2, 'created': '2020-07-10 08:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/866dc9bc6898228769b520068129b92d8e9bf20d', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n""}, {'number': 3, 'created': '2020-08-31 11:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/c9b7a5a55ba10c032ba186b3c97f00ccbe562037', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n""}, {'number': 4, 'created': '2020-08-31 11:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/e9a851f0df6b08e16a9d8cdd06d7b7acc8d1bdb5', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n""}, {'number': 5, 'created': '2020-09-03 07:11:18.000000000', 'files': ['os_ken/tests/unit/lib/__init__.py', 'os_ken/tests/unit/lib/test_sockaddr.py', 'os_ken/lib/sockaddr.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/9a5aa8b7209308a44e463632132c2173216379a6', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n""}]",12,739962,9a5aa8b7209308a44e463632132c2173216379a6,21,6,5,21798,,,0,"Fix sockaddr lib with python 3

Padding did not work and this lib did not have tests

Sample failure seen in neutron-dynamic-routing:
neutron-bgp-dragent[29325]: TypeError: can't concat str to bytes

Story: 2007910
Task: 40311
Change-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/62/739962/3 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/tests/unit/test_lib.py', 'os_ken/lib/sockaddr.py']",2,f338a29dd31bd7c2c925112f255e9649d6e91981,python3_sockaddr, return data + pad_len * b'\0', return data + pad_len * '\0',57,1
openstack%2Ftelemetry-tempest-plugin~master~I47e694eda906217d763a3c34cbf784cd1bc4fef6,openstack/telemetry-tempest-plugin,master,I47e694eda906217d763a3c34cbf784cd1bc4fef6,Make the telemetry-dsvm jobs voting again,ABANDONED,2020-09-03 08:17:41.000000000,2020-09-03 09:13:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-03 08:17:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/23ece3e6307d58afea3f7957bc164095fc213ecc', 'message': 'Make the telemetry-dsvm jobs voting again\n\nDepends-On: https://review.opendev.org/#/c/749480/\nChange-Id: I47e694eda906217d763a3c34cbf784cd1bc4fef6\n'}]",0,749670,23ece3e6307d58afea3f7957bc164095fc213ecc,3,1,1,8833,,,0,"Make the telemetry-dsvm jobs voting again

Depends-On: https://review.opendev.org/#/c/749480/
Change-Id: I47e694eda906217d763a3c34cbf784cd1bc4fef6
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/70/749670/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,23ece3e6307d58afea3f7957bc164095fc213ecc,,, voting: false voting: false voting: false voting: false,0,4
openstack%2Fnova~master~I5f9611e0d2eb212aaec299d27a4a29e6f7e3199c,openstack/nova,master,I5f9611e0d2eb212aaec299d27a4a29e6f7e3199c,Remove no-op fake calls from network_info tests,MERGED,2020-09-03 07:50:42.000000000,2020-09-03 09:11:07.000000000,2020-09-03 09:04:57.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-03 07:50:42.000000000', 'files': ['nova/tests/unit/network/test_network_info.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8223a84d047184e32391ef00ec6e568216c2e68c', 'message': 'Remove no-op fake calls from network_info tests\n\nStephen pointed out during the review of\nI4bdd25458998ca1a9fb411dfd015684a6d3fcfa3 that there are unnecessary\ncalls in the network_info unit tests. So this patch now drop these.\n\nChange-Id: I5f9611e0d2eb212aaec299d27a4a29e6f7e3199c\n'}]",0,749661,8223a84d047184e32391ef00ec6e568216c2e68c,14,8,1,9708,,,0,"Remove no-op fake calls from network_info tests

Stephen pointed out during the review of
I4bdd25458998ca1a9fb411dfd015684a6d3fcfa3 that there are unnecessary
calls in the network_info unit tests. So this patch now drop these.

Change-Id: I5f9611e0d2eb212aaec299d27a4a29e6f7e3199c
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/749661/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/network/test_network_info.py'],1,8223a84d047184e32391ef00ec6e568216c2e68c,trivial,, fake_network_cache_model.new_ip(dict(address='192.168.1.1')) fake_network_cache_model.new_subnet() fake_network_cache_model.new_subnet(dict(cidr='255.255.255.255')) fake_network_cache_model.new_network(),0,4
openstack%2Fos-brick~stable%2Fvictoria~I6155f95f9d8ef99c0d274d561f170a3c8ffa5c1b,openstack/os-brick,stable/victoria,I6155f95f9d8ef99c0d274d561f170a3c8ffa5c1b,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-02 16:43:42.000000000,2020-09-03 09:06:05.000000000,2020-09-02 17:28:50.000000000,"[{'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-09-02 16:43:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/09203e29b194f5fb585c8447dce8950953127004', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6155f95f9d8ef99c0d274d561f170a3c8ffa5c1b\n'}]",1,749556,09203e29b194f5fb585c8447dce8950953127004,10,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6155f95f9d8ef99c0d274d561f170a3c8ffa5c1b
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/56/749556/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,09203e29b194f5fb585c8447dce8950953127004,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fnova~master~I30539bb47c98a588b95c066a394949d60af9c520,openstack/nova,master,I30539bb47c98a588b95c066a394949d60af9c520,Add note and daxio version to the vPMEM document,MERGED,2020-09-03 03:15:30.000000000,2020-09-03 09:05:41.000000000,2020-09-03 09:04:43.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23598}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-09-03 03:15:30.000000000', 'files': ['doc/source/admin/virtual-persistent-memory.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a8b0c6b456a9afdbdfab69daf8c0d3685f8e3084', 'message': 'Add note and daxio version to the vPMEM document\n\nMake the spec of virtual persistent memory consistent with\nthe contents of the admin manual, update the dependency of virtual\npersistent memory about daxio, and add NOTE for the tested kernel\nversion.\n\nCloses-Bug: #1894022\n\nChange-Id: I30539bb47c98a588b95c066a394949d60af9c520\n'}]",0,749628,a8b0c6b456a9afdbdfab69daf8c0d3685f8e3084,13,11,1,26458,,,0,"Add note and daxio version to the vPMEM document

Make the spec of virtual persistent memory consistent with
the contents of the admin manual, update the dependency of virtual
persistent memory about daxio, and add NOTE for the tested kernel
version.

Closes-Bug: #1894022

Change-Id: I30539bb47c98a588b95c066a394949d60af9c520
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/749628/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/virtual-persistent-memory.rst'],1,a8b0c6b456a9afdbdfab69daf8c0d3685f8e3084,bug/1894022,".. note:: NVDIMM support is present in the Linux Kernel v4.0 or newer. It is recommended to use Kernel version 4.2 or later since `NVDIMM support <https://docs.pmem.io/persistent-memory/getting-started-guide/creating-development-environments/linux-environments>`_ is enabled by default. We met some bugs in older versions, and we have done all verification works with OpenStack on 4.18 version, so 4.18 version and newer will probably guarantee its functionality. * daxio version >= 1.6 ",,11,0
openstack%2Fos-brick~stable%2Fvictoria~I8fed742ed7318735f6e892c8c3fc03af97302336,openstack/os-brick,stable/victoria,I8fed742ed7318735f6e892c8c3fc03af97302336,Update .gitreview for stable/victoria,MERGED,2020-09-02 16:43:39.000000000,2020-09-03 09:02:33.000000000,2020-09-02 17:17:30.000000000,"[{'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-09-02 16:43:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3851077c225bea3442da2e311d8df5aa61e4256f', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I8fed742ed7318735f6e892c8c3fc03af97302336\n'}]",0,749555,3851077c225bea3442da2e311d8df5aa61e4256f,12,6,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I8fed742ed7318735f6e892c8c3fc03af97302336
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/55/749555/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3851077c225bea3442da2e311d8df5aa61e4256f,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fnova~master~I56a92dffec50f8c4051da26d6512dec3b2cc703b,openstack/nova,master,I56a92dffec50f8c4051da26d6512dec3b2cc703b,Bring back allowed_direct_url_schemes in support of RBD image download,ABANDONED,2020-05-14 14:09:42.000000000,2020-09-03 08:56:22.000000000,,"[{'_account_id': 4393}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 9963}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-14 14:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eff0edba59e41c7d254c11f7368d51faef2797e4', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nRelated to https://blueprints.launchpad.net/openstack/?searchtext=nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 2, 'created': '2020-05-15 13:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7622f37ba6d4e973278cac42d202823cc01301ee', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nRelated to https://blueprints.launchpad.net/openstack/?searchtext=nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 3, 'created': '2020-05-18 08:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aee8df950ff2a981fee8e00a4c568c63370a1d65', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nRelated to https://blueprints.launchpad.net/openstack/?searchtext=nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 4, 'created': '2020-05-19 07:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/799d46a8ac1ea4d4767edde1d57aa900184fde69', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nRelated to https://blueprints.launchpad.net/openstack/?searchtext=nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 5, 'created': '2020-05-19 17:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e277ff7b39d090a26f0f7c642f4b53e403fde6dc', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 6, 'created': '2020-07-13 13:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf1d035e79b556d60e6e87c169c20b68856fe36f', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 7, 'created': '2020-08-24 14:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dc0b0ac0a482ce90ecdcc41070e476be9bf8481', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 8, 'created': '2020-08-24 14:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfa231d151677c0deddfc778a3482a4cb88d6fba', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 9, 'created': '2020-08-24 15:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54eebe27d5ce3a8258ed33914a8412ad84a3bc13', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 10, 'created': '2020-08-25 11:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c61cc20fa95e86f32126861a3096e919f236b979', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}, {'number': 11, 'created': '2020-08-26 12:37:44.000000000', 'files': ['nova/conf/glance.py', 'releasenotes/notes/allowed_direct_url_schemes-ff609b89ac139549.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/576f6c58fe277e935aa54693b6f96e58024c0037', 'message': 'Bring back allowed_direct_url_schemes in support of RBD image download\n\nThe options was deprecated but it has good use in configuration of the\ndirect RBD image download.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nChange-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b\n'}]",10,728095,576f6c58fe277e935aa54693b6f96e58024c0037,135,19,11,9963,,,0,"Bring back allowed_direct_url_schemes in support of RBD image download

The options was deprecated but it has good use in configuration of the
direct RBD image download.

See the following blueprint for more details:

https://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd

Change-Id: I56a92dffec50f8c4051da26d6512dec3b2cc703b
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/728095/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/glance.py', 'releasenotes/notes/allowed_direct_url_schemes-ff609b89ac139549.yaml']",2,eff0edba59e41c7d254c11f7368d51faef2797e4,bp/nova-image-download-via-rbd,"--- other: - | The ``[glance]/allowed_direct_url_schemes`` configuration option that was deprecated in Queens release is brought back. It is necessary to correctly set up the feature which allows direct download of glance images into the libvirt image cache via RBD command, potentially significantly speeding up the download process. ",,7,8
openstack%2Fos-brick~stable%2Ftrain~Id1905bc174b8f2f3a345664d8a0a05284ca69927,openstack/os-brick,stable/train,Id1905bc174b8f2f3a345664d8a0a05284ca69927,Leverage the iSCSI mpath to get the WWN,MERGED,2020-09-01 15:23:38.000000000,2020-09-03 08:51:34.000000000,2020-09-02 21:41:27.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-09-01 15:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/df6669e423d687e02da9e0a290e139dd1fb24b83', 'message': 'Leverage the iSCSI mpath to get the WWN\n\nNow that we search the multipath device even if we haven\'t been able to\nfind the WWN in the sysfs we can leverage the multipath daemon\ninformation on sysfs to get the WWN.\n\nPass the mpath to ""get_sysfs_wwn"" method where we check the sysfs to get\nthe WWN.\n\nConflicts:\n\tos_brick/tests/initiator/connectors/test_iscsi.py\n\tos_brick/tests/initiator/test_linuxscsi.py\nThe tests required a few fixes to account for the differences between\nthe branches.\n\nChange-Id: Id1905bc174b8f2f3a345664d8a0a05284ca69927\n(cherry picked from commit 0cdd9bbbe29201942c9a296d6db2175452044689)\n(cherry picked from commit 31c01b543cfe0219140e5bf9eaf703daa819de04)\n'}, {'number': 2, 'created': '2020-09-01 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b0ff78d9f33adf09d4fb8100e1d78c044cbaa0cf', 'message': 'Leverage the iSCSI mpath to get the WWN\n\nNow that we search the multipath device even if we haven\'t been able to\nfind the WWN in the sysfs we can leverage the multipath daemon\ninformation on sysfs to get the WWN.\n\nPass the mpath to ""get_sysfs_wwn"" method where we check the sysfs to get\nthe WWN.\n\nConflicts:\n\tos_brick/tests/initiator/connectors/test_iscsi.py\n\tos_brick/tests/initiator/test_linuxscsi.py\nThe tests required a few fixes to account for the differences between\nthe branches and the changes introduced by the backports this one\nbuilds upon.\n\nChange-Id: Id1905bc174b8f2f3a345664d8a0a05284ca69927\n(cherry picked from commit 0cdd9bbbe29201942c9a296d6db2175452044689)\n(cherry picked from commit 31c01b543cfe0219140e5bf9eaf703daa819de04)\n'}, {'number': 3, 'created': '2020-09-01 17:28:14.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/609f0bcf83ca0931636018eaa843faacbf0f64f3', 'message': 'Leverage the iSCSI mpath to get the WWN\n\nNow that we search the multipath device even if we haven\'t been able to\nfind the WWN in the sysfs we can leverage the multipath daemon\ninformation on sysfs to get the WWN.\n\nPass the mpath to ""get_sysfs_wwn"" method where we check the sysfs to get\nthe WWN.\n\nConflicts:\n\tos_brick/tests/initiator/connectors/test_iscsi.py\n\tos_brick/tests/initiator/test_linuxscsi.py\nThe tests required a few fixes to account for the differences between\nthe branches and the changes introduced by the backports this one\nbuilds upon.\n\nChange-Id: Id1905bc174b8f2f3a345664d8a0a05284ca69927\n(cherry picked from commit 0cdd9bbbe29201942c9a296d6db2175452044689)\n(cherry picked from commit 31c01b543cfe0219140e5bf9eaf703daa819de04)\n'}]",1,749334,609f0bcf83ca0931636018eaa843faacbf0f64f3,32,11,3,10459,,,0,"Leverage the iSCSI mpath to get the WWN

Now that we search the multipath device even if we haven't been able to
find the WWN in the sysfs we can leverage the multipath daemon
information on sysfs to get the WWN.

Pass the mpath to ""get_sysfs_wwn"" method where we check the sysfs to get
the WWN.

Conflicts:
	os_brick/tests/initiator/connectors/test_iscsi.py
	os_brick/tests/initiator/test_linuxscsi.py
The tests required a few fixes to account for the differences between
the branches and the changes introduced by the backports this one
builds upon.

Change-Id: Id1905bc174b8f2f3a345664d8a0a05284ca69927
(cherry picked from commit 0cdd9bbbe29201942c9a296d6db2175452044689)
(cherry picked from commit 31c01b543cfe0219140e5bf9eaf703daa819de04)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/34/749334/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py']",4,df6669e423d687e02da9e0a290e139dd1fb24b83,train-improve-iscsi-multipath-detection," def get_sysfs_wwn(self, device_names, mpath=None): # If we have a multipath DM we know that it has found the WWN if mpath: # We have the WWN in /uuid even with friendly names, unline /name try: with open('/sys/block/%s/dm/uuid' % mpath) as f: # Contents are matph-WWN, so get the part we want wwid = f.read().strip()[6:] if wwid: # Check should not be needed, but just in case return wwid except Exception as exc: LOG.warning('Failed to read the DM uuid: %s', exc) "," def get_sysfs_wwn(self, device_names):",47,3
openstack%2Fkuryr-kubernetes~master~I9eb52a4d6b82d70493d109e9eb9be8706142bc7d,openstack/kuryr-kubernetes,master,I9eb52a4d6b82d70493d109e9eb9be8706142bc7d,Ensure LB sg is in sync with backend Pods,MERGED,2020-09-01 17:52:47.000000000,2020-09-03 08:40:44.000000000,2020-09-03 08:38:57.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-09-01 17:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4200c8ce9c1b81e75751de946380b49d007e8103', 'message': ""Ensure LB sg is in sync with backend Pods\n\nThis commit ensures the LB sg crd holds the updated\nPods' sg before enforcing them on the LB members.\n\nChange-Id: I9eb52a4d6b82d70493d109e9eb9be8706142bc7d\n""}, {'number': 2, 'created': '2020-09-02 08:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b4d2dc0ee69b2f7172df9e9643567a458875f76e', 'message': ""Ensure LB sg is in sync with backend Pods\n\nWhen a Service is created before the Pods, no security group to be\nenforced on the Load Balancer exists as no matching Pod, which are\nthe ones providing the sgs, is present yet. Consequently, the LB\ngets created with admin_state down due to no sg present and ACLs\nblocking the traffic. This commit ensures the LB sg crd holds the\nupdated Pods' sg before enforcing them on the LB members.\n\nCloses-Bug: 1893910\nChange-Id: I9eb52a4d6b82d70493d109e9eb9be8706142bc7d\n""}, {'number': 3, 'created': '2020-09-02 08:33:49.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/daedac373234ccaa7b0416cb414316c8d608aeb0', 'message': ""Ensure LB sg is in sync with backend Pods\n\nWhen a Service is created before the Pods, no security group to be\nenforced on the Load Balancer exists as no matching Pod, which are\nthe ones providing the sgs, is present yet. Consequently, the LB\ngets created with admin_state down due to no sg present and ACLs\nblocking the traffic. This commit ensures the LB sg crd holds the\nupdated Pods' sg before enforcing them on the LB members.\n\nCloses-Bug: 1893910\nChange-Id: I9eb52a4d6b82d70493d109e9eb9be8706142bc7d\n""}]",7,749372,daedac373234ccaa7b0416cb414316c8d608aeb0,18,4,3,27032,,,0,"Ensure LB sg is in sync with backend Pods

When a Service is created before the Pods, no security group to be
enforced on the Load Balancer exists as no matching Pod, which are
the ones providing the sgs, is present yet. Consequently, the LB
gets created with admin_state down due to no sg present and ACLs
blocking the traffic. This commit ensures the LB sg crd holds the
updated Pods' sg before enforcing them on the LB members.

Closes-Bug: 1893910
Change-Id: I9eb52a4d6b82d70493d109e9eb9be8706142bc7d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/72/749372/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py']",2,4200c8ce9c1b81e75751de946380b49d007e8103,ensure-lb-sg-sync," self._drv_svc_project = drv_base.ServiceProjectDriver.get_instance() self._drv_sg = drv_base.ServiceSecurityGroupsDriver.get_instance() def _sync_lbaas_sgs(self, klb_crd): lb = klb_crd['status'].get('loadbalancer') svc_name = klb_crd['metadata']['name'] svc_namespace = klb_crd['metadata']['namespace'] if not lb: LOG.debug(""No LB created. Skipping lb %s sg sync."", svc_name) k8s = clients.get_kubernetes_client() try: service = k8s.get( f'{k_const.K8S_API_NAMESPACES}/{svc_namespace}/' f'services/{svc_name}') except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadBalancer CRD not found %s', svc_name) return except k_exc.K8sClientException: LOG.exception('Error retrieving klb CRD %s', svc_name) raise project_id = self._drv_svc_project.get_project(service) lb_sgs = self._drv_sg.get_security_groups(service, project_id) try: k8s.patch_crd('status/loadbalancer', klb_crd['metadata']['selfLink'], {'security_groups': lb_sgs}) except k_exc.K8sResourceNotFound: LOG.debug('KuryrLoadBalancer CRD not found %s', svc_name) except k_exc.K8sClientException: LOG.exception('Error syncing klb CRD %s', svc_name) raise"," def _sync_lbaas_sgs(self, loadbalancer_crd): # NOTE (maysams) Need to retrieve the LBaaS Spec again due to # the possibility of it being updated after the LBaaS creation # process has started. lbaas_spec = loadbalancer_crd.get('spec') lb = loadbalancer_crd['status'].get('loadbalancer') if not lb: default_sgs = config.CONF.neutron_defaults.pod_security_groups # NOTE(maysams) As the endpoint and svc are annotated with the # 'lbaas_spec' in two separate k8s calls, it's possible that # the endpoint got annotated and the svc haven't due to controller # restarts. For this case, a resourceNotReady exception is raised # till the svc gets annotated with a 'lbaas_spec'. if lbaas_spec: lbaas_spec_sgs = loadbalancer_crd['spec'].get( 'security_groups_ids', []) else: raise k_exc.ResourceNotReady(lbaas_spec_sgs) if (lb.get('security_groups') and lb.get('security_groups') != lbaas_spec_sgs): sgs = [lb_sg for lb_sg in lb['security_groups'] if lb_sg not in default_sgs] if lbaas_spec_sgs != default_sgs: sgs.extend(lbaas_spec_sgs) # Check if this should update the CRD lb['security_groups'] = sgs",59,31
openstack%2Fproject-config~master~I2486365de3c345ee14fc44082bae222c1b2593e6,openstack/project-config,master,I2486365de3c345ee14fc44082bae222c1b2593e6,kolla-cli: deprecation - retiring master branch,MERGED,2020-08-26 15:34:57.000000000,2020-09-03 08:29:59.000000000,2020-09-02 22:49:38.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-26 15:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f4590d3e3105c1cac7637f89ca0e011dc31389d7', 'message': 'kolla-cli: deprecation - retiring master branch\n\nStep 2a from\nhttps://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository.\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nChange-Id: I2486365de3c345ee14fc44082bae222c1b2593e6\n'}, {'number': 2, 'created': '2020-08-27 08:47:12.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef1c206e9feca9579eaf3bf5501b5dc27b997867', 'message': 'kolla-cli: deprecation - retiring master branch\n\nStep 2a from\nhttps://docs.openstack.org/project-team-guide/repository.html#step-2a-use-only-noop-jobs\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nChange-Id: I2486365de3c345ee14fc44082bae222c1b2593e6\n'}]",1,748259,ef1c206e9feca9579eaf3bf5501b5dc27b997867,12,4,2,14826,,,0,"kolla-cli: deprecation - retiring master branch

Step 2a from
https://docs.openstack.org/project-team-guide/repository.html#step-2a-use-only-noop-jobs

Deprecation notice:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Change-Id: I2486365de3c345ee14fc44082bae222c1b2593e6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/748259/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f4590d3e3105c1cac7637f89ca0e011dc31389d7,, check: jobs: - noop: branches: master gate: jobs: - noop: branches: master, - publish-to-pypi,8,1
openstack%2Fnova~master~Ia3031ea1f7db8b398f02d2080ca603ded8970200,openstack/nova,master,Ia3031ea1f7db8b398f02d2080ca603ded8970200,Update image_base_image_ref during rebuild.,MERGED,2020-09-01 08:53:57.000000000,2020-09-03 08:25:06.000000000,2020-09-03 01:59:31.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 13861}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28332}]","[{'number': 1, 'created': '2020-09-01 08:53:57.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe52b6c25bebdd1b459c7a59fbb8d9f6de200c9d', 'message': 'Update image_base_image_ref during rebuild.\n\nIn different location we assume system_metadata.image_base_image_ref\nexists, because it is set during instance creation in method\n_populate_instance_for_create\n\nBut once instance is rebuild, all system_metadata image property a dropped\nand replace by new image property and without setting back\nimage_base_image_ref.\n\nThis change propose to set image_base_image_ref during rebuild.\n\nIn specific case of shelve/unshelve in Qcow2 backend, image_base_image_ref is\nused to rebase disk image, so we ensure this property is set as instance may\nhave been rebuild before the fix was apply.\n\nRelated-Bug: #1732428\nCloses-Bug: #1893618\nChange-Id: Ia3031ea1f7db8b398f02d2080ca603ded8970200\n'}]",11,749205,fe52b6c25bebdd1b459c7a59fbb8d9f6de200c9d,28,14,1,28332,,,0,"Update image_base_image_ref during rebuild.

In different location we assume system_metadata.image_base_image_ref
exists, because it is set during instance creation in method
_populate_instance_for_create

But once instance is rebuild, all system_metadata image property a dropped
and replace by new image property and without setting back
image_base_image_ref.

This change propose to set image_base_image_ref during rebuild.

In specific case of shelve/unshelve in Qcow2 backend, image_base_image_ref is
used to rebase disk image, so we ensure this property is set as instance may
have been rebuild before the fix was apply.

Related-Bug: #1732428
Closes-Bug: #1893618
Change-Id: Ia3031ea1f7db8b398f02d2080ca603ded8970200
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/749205/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py']",2,fe52b6c25bebdd1b459c7a59fbb8d9f6de200c9d,bug/1732428, new_sys_metadata.update({'image_base_image_ref': image_id}) # NOTE(aarents): Ensure image_base_image_ref is present as it will be # needed during unshelve and instance rebuild done before Bug/1893618 # Fix dropped it. instance.system_metadata.update( {'image_base_image_ref': instance.image_ref} ) ,,11,0
openstack%2Fnova~master~I1aa96bdc2fdb2ca856b73b91e3120c75ec104537,openstack/nova,master,I1aa96bdc2fdb2ca856b73b91e3120c75ec104537,resolve ResourceProviderSyncFailed issue,MERGED,2020-07-22 11:37:46.000000000,2020-09-03 08:13:02.000000000,2020-08-24 16:38:25.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-22 11:37:46.000000000', 'files': ['nova/virt/vmwareapi/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/73aad31a3496519311295d041235380cdaa719e3', 'message': 'resolve ResourceProviderSyncFailed issue\n\nThis is caused by the ""/"" operation difference between python 2.x and python 3.x\n\nIn python 2.x ""/"" int / int returns int while\nin python 3.x int / int return the real result.\n\nChange-Id: I1aa96bdc2fdb2ca856b73b91e3120c75ec104537\n'}]",0,742398,73aad31a3496519311295d041235380cdaa719e3,16,12,1,31706,,,0,"resolve ResourceProviderSyncFailed issue

This is caused by the ""/"" operation difference between python 2.x and python 3.x

In python 2.x ""/"" int / int returns int while
in python 3.x int / int return the real result.

Change-Id: I1aa96bdc2fdb2ca856b73b91e3120c75ec104537
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/742398/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/host.py'],1,73aad31a3496519311295d041235380cdaa719e3,upstream-ResourceProviderSyncFailed," data[""disk_total""] = capacity // units.Gi data[""disk_available""] = freespace // units.Gi"," data[""disk_total""] = capacity / units.Gi data[""disk_available""] = freespace / units.Gi",2,2
openstack%2Fcharm-interface-ceph-mds~master~I99ff9fb980dff37e58abd4e027204d36ce5aa278,openstack/charm-interface-ceph-mds,master,I99ff9fb980dff37e58abd4e027204d36ce5aa278,Retire repository,MERGED,2020-09-03 07:46:44.000000000,2020-09-03 08:12:34.000000000,2020-09-03 08:12:33.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 07:46:44.000000000', 'files': ['requires.py', 'test-requirements.txt', 'interface.yaml', '.zuul.yaml', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-mds/commit/dcd0b5f2bb003d2409e212547f0a2132a804245a', 'message': 'Retire repository\n\nChange-Id: I99ff9fb980dff37e58abd4e027204d36ce5aa278\n'}]",0,749660,dcd0b5f2bb003d2409e212547f0a2132a804245a,6,2,1,935,,,0,"Retire repository

Change-Id: I99ff9fb980dff37e58abd4e027204d36ce5aa278
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-mds refs/changes/60/749660/1 && git format-patch -1 --stdout FETCH_HEAD,"['requires.py', 'test-requirements.txt', 'interface.yaml', '.zuul.yaml', 'tox.ini', 'README.md']",6,dcd0b5f2bb003d2409e212547f0a2132a804245a,,# Repository Retired Merged into https://opendev.org/openstack/charm-interface-ceph-client,"# Overview This interface layer handles the communication between the Ceph Monitor and a client that requires an admin key. # Usage ## Requires This interface layer will set the following states, as appropriate: * `{relation_name}.available` The ceph client has been related to a provider. The following accessors will be available: - key - The mds cephx key - admin_key - The cephx admin key - auth - Whether or not strict auth is supported - mon_hosts - The public addresses list of the monitor cluster Client example: ```python @when('ceph-mds.available') def ceph_connected(ceph_info): charm_ceph_conf = os.path.join(os.sep, 'etc', 'ceph', 'ceph.conf') cephx_key = os.path.join(os.sep, 'etc', 'ceph', 'ceph.client.admin.keyring') ceph_context = { 'auth_supported': ceph_client.auth, 'mon_hosts': ceph_client.mon_hosts, } with open(charm_ceph_conf, 'w') as cephconf: cephconf.write(render_template('ceph.conf', ceph_context)) # Write out the cephx_key also with open(cephx_key, 'w') as cephconf: cephconf.write(ceph_client.key) ```",3,210
openstack%2Fkolla-cli~master~I744f5c17232928cec68c1b90b2f5d791faf7d9e7,openstack/kolla-cli,master,I744f5c17232928cec68c1b90b2f5d791faf7d9e7,kolla-cli: deprecation - Removing project content,MERGED,2020-08-31 12:37:59.000000000,2020-09-03 08:07:03.000000000,2020-09-03 08:07:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-31 12:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/e91a849d3d68cc50c64ad833161e2f909869bbf8', 'message': 'kolla-cli: deprecation - Removing project content\n\nstep 2b from:\nhttps://docs.openstack.org/project-team-guide/repository.html#step-2b-remove-project-content\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nChange-Id: I744f5c17232928cec68c1b90b2f5d791faf7d9e7\n'}, {'number': 2, 'created': '2020-09-03 07:58:45.000000000', 'files': ['test-requirements.txt', 'kolla_cli/api/exceptions.py', 'kolla_cli/commands/group.py', 'releasenotes/notes/deprecate-in-ussuri-cycle-df7341b2a1e90997.yaml', 'kolla_cli/api/host.py', 'kolla_cli/common/inventory.py', 'kolla_cli/tests/unit/__init__.py', 'kolla_cli/tests/functional/test_service.py', 'kolla_cli/common/host_group.py', 'kolla_cli/api/__init__.py', 'kolla_cli/commands/service.py', 'kolla_cli/tests/functional/test_config.py', 'cli_setup.py', 'kolla_cli/common/sshutils.py', 'kolla_cli/tests/unit/test_reconfigure_cmd.py', 'lower-constraints.txt', 'releasenotes/source/ussuri.rst', 'kolla_cli/commands/property.py', 'kolla_cli/commands/config.py', 'kolla_cli/tests/functional/README.txt', 'kolla-cli/locale/openstack-kollacli.pot', 'kolla_cli/tests/unit/test_group_cmd.py', 'kolla_cli/tests/unit/test_service_cmd.py', 'releasenotes/notes/add-reno-f5e9ff4d9ccfa716.yaml', 'kolla_cli/commands/mode.py', 'kolla_cli/common/ansible/utils.py', 'kolla_cli/tests/unit/test_stop_cmd.py', 'kolla_cli/commands/__init__.py', 'kolla_cli/common/properties.py', 'kolla_cli/tests/unit/test_deploy_cmd.py', 'kolla_cli/tests/functional/functional_test_setup.sh', 'doc/Makefile', 'kolla_cli/common/ansible_inventory.py', 'kolla_cli/common/service.py', 'kolla_cli/tests/unit/test_pull_cmd.py', 'requirements.txt', 'kolla_cli/common/subservice.py', 'kolla_cli/api/group.py', '.stestr.conf', 'doc/source/kolla_cli.tests.functional.rst', 'kolla_cli/api/certificate.py', '.zuul.yaml', 'kolla_cli/tests/functional/__init__.py', 'kolla_cli/tests/functional/test_client_upgrade.py', 'doc/source/index.rst', 'kolla_cli/common/__init__.py', 'doc/source/kolla_cli.tests.rst', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/host.py', 'kolla_cli/tests/__init__.py', 'kolla_cli/tests/functional/test_deploy.py', 'doc/source/modules.rst', 'kolla_cli/common/ansible/__init__.py', 'kolla_cli/commands/support.py', 'README.rst', 'setup.py', 'doc/source/kolla_cli.common.rst', 'kolla_cli/common/ansible/playbook.py', 'releasenotes/notes/drop-py-2-7-311423474c63c9c5.yaml', 'kolla_cli/api/support.py', 'LICENSE', 'kolla_cli/tests/functional/test_stop.py', 'kolla_cli/tests/unit/test_host_cmd.py', 'kolla_cli/commands/kolla_action.py', 'kolla_cli/api/job.py', 'kolla_cli/tests/unit/test_upgrade_cmd.py', 'doc/source/kolla_cli.common.ansible.rst', 'kolla_cli/commands/exceptions.py', 'releasenotes/source/index.rst', 'doc/source/kolla_cli.api.rst', 'kolla_cli/api/properties.py', 'kolla_cli/tests/functional/common.py', 'kolla_cli/tests/functional/test_support.py', 'kolla_cli/tests/unit/test_genconfig_cmd.py', 'doc/source/kolla_cli.commands.rst', 'kolla_cli/__init__.py', 'kolla_cli/common/passwords.py', 'kolla_cli/i18n.py', 'kolla_cli/api/client.py', 'kolla_cli/common/ansible/job.py', 'doc/source/kolla_cli.rst', 'kolla_cli/tests/functional/test_destroy.py', 'kolla_cli/tests/functional/test_host.py', 'kolla_cli/common/utils.py', 'setup.cfg', 'kolla_cli/tests/unit/common.py', 'tox.ini', 'kolla_cli/common/host.py', 'kolla_cli/common/ansible/actions.py', '.gitignore', 'kolla_cli/common/support.py', 'kolla_cli/tests/unit/test_prechecks_cmd.py', 'tools/log_collector.py', 'kolla_cli/tests/functional/inventory_test_file', 'kolla_cli/api/config.py', 'kolla_cli/tests/functional/test_property.py', 'kolla_cli/tests/functional/test_reconfigure.py', 'doc/source/kolla_cli.tests.unit.rst', 'kolla_cli/api/password.py', 'kolla_cli/commands/password.py', 'doc/source/conf.py', 'kolla_cli/tests/functional/test_password.py', 'tools/kolla_actions.py', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'kolla_cli/shell.py', 'doc/requirements.txt', 'kolla_cli/tests/functional/test_group.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/3b56a5e0f7a2ac848d5a22df61c741cc43b36cb0', 'message': 'kolla-cli: deprecation - Removing project content\n\nstep 2b from:\nhttps://docs.openstack.org/project-team-guide/repository.html#step-2b-remove-project-content\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nChange-Id: I744f5c17232928cec68c1b90b2f5d791faf7d9e7\nDepends-On: https://review.opendev.org/748259\n'}]",0,749045,3b56a5e0f7a2ac848d5a22df61c741cc43b36cb0,9,3,2,26285,,,0,"kolla-cli: deprecation - Removing project content

step 2b from:
https://docs.openstack.org/project-team-guide/repository.html#step-2b-remove-project-content

Deprecation notice:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Change-Id: I744f5c17232928cec68c1b90b2f5d791faf7d9e7
Depends-On: https://review.opendev.org/748259
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/45/749045/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'kolla_cli/api/exceptions.py', 'kolla_cli/commands/group.py', 'releasenotes/notes/deprecate-in-ussuri-cycle-df7341b2a1e90997.yaml', 'kolla_cli/api/host.py', 'kolla_cli/common/inventory.py', 'kolla_cli/tests/unit/__init__.py', 'kolla_cli/tests/functional/test_service.py', 'kolla_cli/common/host_group.py', 'kolla_cli/api/__init__.py', 'kolla_cli/commands/service.py', 'kolla_cli/tests/functional/test_config.py', 'cli_setup.py', 'kolla_cli/common/sshutils.py', 'kolla_cli/tests/unit/test_reconfigure_cmd.py', 'lower-constraints.txt', 'releasenotes/source/ussuri.rst', 'kolla_cli/commands/property.py', 'kolla_cli/commands/config.py', 'kolla_cli/tests/functional/README.txt', 'kolla-cli/locale/openstack-kollacli.pot', 'kolla_cli/tests/unit/test_group_cmd.py', 'kolla_cli/tests/unit/test_service_cmd.py', 'releasenotes/notes/add-reno-f5e9ff4d9ccfa716.yaml', 'kolla_cli/commands/mode.py', 'kolla_cli/common/ansible/utils.py', 'kolla_cli/tests/unit/test_stop_cmd.py', 'kolla_cli/commands/__init__.py', 'kolla_cli/common/properties.py', 'kolla_cli/tests/unit/test_deploy_cmd.py', 'kolla_cli/tests/functional/functional_test_setup.sh', 'doc/Makefile', 'kolla_cli/common/ansible_inventory.py', 'kolla_cli/common/service.py', 'kolla_cli/tests/unit/test_pull_cmd.py', 'requirements.txt', 'kolla_cli/common/subservice.py', 'kolla_cli/api/group.py', '.stestr.conf', 'doc/source/kolla_cli.tests.functional.rst', 'kolla_cli/api/certificate.py', '.zuul.yaml', 'kolla_cli/tests/functional/__init__.py', 'kolla_cli/tests/functional/test_client_upgrade.py', 'doc/source/index.rst', 'kolla_cli/common/__init__.py', 'doc/source/kolla_cli.tests.rst', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/host.py', 'kolla_cli/tests/__init__.py', 'kolla_cli/tests/functional/test_deploy.py', 'doc/source/modules.rst', 'kolla_cli/common/ansible/__init__.py', 'kolla_cli/commands/support.py', 'README.rst', 'setup.py', 'doc/source/kolla_cli.common.rst', 'kolla_cli/common/ansible/playbook.py', 'releasenotes/notes/drop-py-2-7-311423474c63c9c5.yaml', 'kolla_cli/api/support.py', 'LICENSE', 'kolla_cli/tests/functional/test_stop.py', 'kolla_cli/tests/unit/test_host_cmd.py', 'kolla_cli/commands/kolla_action.py', 'kolla_cli/api/job.py', 'kolla_cli/tests/unit/test_upgrade_cmd.py', 'doc/source/kolla_cli.common.ansible.rst', 'kolla_cli/commands/exceptions.py', 'releasenotes/source/index.rst', 'doc/source/kolla_cli.api.rst', 'kolla_cli/api/properties.py', 'kolla_cli/tests/functional/common.py', 'kolla_cli/tests/functional/test_support.py', 'kolla_cli/tests/unit/test_genconfig_cmd.py', 'doc/source/kolla_cli.commands.rst', 'kolla_cli/__init__.py', 'kolla_cli/common/passwords.py', 'kolla_cli/i18n.py', 'kolla_cli/api/client.py', 'kolla_cli/common/ansible/job.py', 'doc/source/kolla_cli.rst', 'kolla_cli/tests/functional/test_destroy.py', 'kolla_cli/tests/functional/test_host.py', 'kolla_cli/common/utils.py', 'setup.cfg', 'kolla_cli/tests/unit/common.py', 'tox.ini', 'kolla_cli/common/host.py', 'kolla_cli/common/ansible/actions.py', '.gitignore', 'kolla_cli/common/support.py', 'kolla_cli/tests/unit/test_prechecks_cmd.py', 'tools/log_collector.py', 'kolla_cli/tests/functional/inventory_test_file', 'kolla_cli/api/config.py', 'kolla_cli/tests/functional/test_property.py', 'kolla_cli/tests/functional/test_reconfigure.py', 'doc/source/kolla_cli.tests.unit.rst', 'kolla_cli/api/password.py', 'kolla_cli/commands/password.py', 'doc/source/conf.py', 'kolla_cli/tests/functional/test_password.py', 'tools/kolla_actions.py', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'kolla_cli/shell.py', 'doc/requirements.txt', 'kolla_cli/tests/functional/test_group.py', 'releasenotes/source/conf.py']",110,e91a849d3d68cc50c64ad833161e2f909869bbf8,,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Configuration file for the Sphinx documentation builder. # # This file does only contain a selection of the most common options. For a # full list see the documentation: # http://www.sphinx-doc.org/en/master/config # -- Path setup -------------------------------------------------------------- # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # # import os # import sys # sys.path.insert(0, os.path.abspath('.')) # -- Project information ----------------------------------------------------- project = u'kolla-cli' copyright = u'2019, Kolla developers' author = u'Kolla-cli developers' # The short X.Y version version = u'1.0' # The full version, including alpha/beta/rc tags release = u'1.0' # -- General configuration --------------------------------------------------- # If your documentation needs a minimal Sphinx version, state it here. # # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix(es) of source filenames. # You can specify multiple suffix as a list of string: # # source_suffix = ['.rst', '.md'] source_suffix = '.rst' # The master toctree document. master_doc = 'index' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # # This is also used if you do content translation via gettext catalogs. # Usually you set ""language"" from the command line for these cases. language = None # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. # This pattern also affects html_static_path and html_extra_path. exclude_patterns = [] # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # -- Options for HTML output ------------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. # html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # # html_theme_options = {} # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Custom sidebar templates, must be a dictionary that maps document names # to template names. # # The default sidebars (for documents that don't match any pattern) are # defined by theme itself. Builtin themes are using these templates by # default: ``['localtoc.html', 'relations.html', 'sourcelink.html', # 'searchbox.html']``. # # html_sidebars = {} # -- Options for HTMLHelp output --------------------------------------------- # Output file base name for HTML help builder. htmlhelp_basename = 'KollacliReleaseNotesdoc' # -- Options for LaTeX output ------------------------------------------------ latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ (master_doc, 'kolla.tex', u'kolla Documentation', u'Kolla developers', 'manual'), ] # -- Options for manual page output ------------------------------------------ # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ (master_doc, 'kolla', u'kolla Documentation', [author], 1) ] # -- Options for Texinfo output ---------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ (master_doc, 'kolla', u'kolla Documentation', author, 'kolla', 'One line description of project.', 'Miscellaneous'), ] # -- Options for Epub output ------------------------------------------------- # Bibliographic Dublin Core info. epub_title = project # The unique identifier of the text. This can be a ISBN number # or the project homepage. # # epub_identifier = '' # A unique identification for the text. # # epub_uid = '' # A list of files that should not be packed into the epub file. epub_exclude_files = ['search.html'] # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",8,12108
openstack%2Fkolla-cli~master~Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2,openstack/kolla-cli,master,Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2,Retire kolla-cli project - step 2 remove project content,ABANDONED,2020-05-23 06:39:12.000000000,2020-09-03 08:06:14.000000000,,"[{'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 30356}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-05-23 06:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d88d030a52432f15bbeab655acf7b7a05b42b0f0', 'message': 'Retire kolla-cli project\n\nChange-Id: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2\n'}, {'number': 2, 'created': '2020-05-23 06:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/99291c4a68f347dc5c8b627e2facf8968f08a4f7', 'message': 'Retire kolla-cli project - step 2 remove project content\n\nChange-Id: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2\n'}, {'number': 3, 'created': '2020-05-23 07:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/2e1627ec34d20fe45c608189fac80950898e7e1a', 'message': 'Retire kolla-cli project - step 2 remove project content\n\nDepends-On: I22544ca3e8f8763019f8f37d13363cd12eccd3bb\n\nChange-Id: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2\n'}, {'number': 4, 'created': '2020-05-23 07:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/476f2b781300e7dac498878054fa6d88f9522ec7', 'message': 'Retire kolla-cli project - step 2 remove project content\n\nNeeded-By: https://review.opendev.org/#/c/730432/\nDepends-On: I22544ca3e8f8763019f8f37d13363cd12eccd3bb\n\nChange-Id: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2\n'}, {'number': 5, 'created': '2020-09-03 08:04:09.000000000', 'files': ['test-requirements.txt', 'kolla_cli/api/exceptions.py', 'kolla_cli/commands/group.py', 'kolla_cli/api/host.py', 'kolla_cli/common/inventory.py', 'kolla_cli/tests/unit/__init__.py', 'kolla_cli/tests/functional/test_service.py', 'kolla_cli/common/host_group.py', 'kolla_cli/api/__init__.py', 'kolla_cli/commands/service.py', 'kolla_cli/tests/functional/test_config.py', 'cli_setup.py', 'kolla_cli/common/sshutils.py', 'kolla_cli/tests/unit/test_reconfigure_cmd.py', 'lower-constraints.txt', 'kolla_cli/commands/property.py', 'kolla_cli/commands/config.py', 'kolla_cli/tests/functional/README.txt', 'kolla-cli/locale/openstack-kollacli.pot', 'kolla_cli/tests/unit/test_group_cmd.py', 'kolla_cli/tests/unit/test_service_cmd.py', 'releasenotes/notes/add-reno-f5e9ff4d9ccfa716.yaml', 'kolla_cli/commands/mode.py', 'kolla_cli/common/ansible/utils.py', 'kolla_cli/tests/unit/test_stop_cmd.py', 'kolla_cli/commands/__init__.py', 'kolla_cli/common/properties.py', 'kolla_cli/tests/unit/test_deploy_cmd.py', 'kolla_cli/tests/functional/functional_test_setup.sh', 'doc/Makefile', 'kolla_cli/common/ansible_inventory.py', 'kolla_cli/common/service.py', 'kolla_cli/tests/unit/test_pull_cmd.py', 'requirements.txt', 'kolla_cli/common/subservice.py', 'kolla_cli/api/group.py', 'doc/source/kolla_cli.tests.functional.rst', 'kolla_cli/api/certificate.py', 'kolla_cli/tests/functional/__init__.py', 'kolla_cli/tests/functional/test_client_upgrade.py', 'doc/source/index.rst', 'kolla_cli/common/__init__.py', 'doc/source/kolla_cli.tests.rst', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/host.py', 'kolla_cli/tests/__init__.py', 'kolla_cli/tests/functional/test_deploy.py', 'doc/source/modules.rst', 'kolla_cli/common/ansible/__init__.py', 'kolla_cli/commands/support.py', 'README.rst', 'setup.py', 'doc/source/kolla_cli.common.rst', 'kolla_cli/common/ansible/playbook.py', 'releasenotes/notes/drop-py-2-7-311423474c63c9c5.yaml', 'kolla_cli/api/support.py', 'LICENSE', 'kolla_cli/tests/functional/test_stop.py', 'kolla_cli/tests/unit/test_host_cmd.py', 'kolla_cli/commands/kolla_action.py', 'kolla_cli/api/job.py', 'kolla_cli/tests/unit/test_upgrade_cmd.py', 'doc/source/kolla_cli.common.ansible.rst', 'kolla_cli/commands/exceptions.py', 'releasenotes/source/index.rst', 'doc/source/kolla_cli.api.rst', 'kolla_cli/api/properties.py', 'kolla_cli/tests/functional/common.py', 'kolla_cli/tests/functional/test_support.py', 'kolla_cli/tests/unit/test_genconfig_cmd.py', 'doc/source/kolla_cli.commands.rst', 'kolla_cli/__init__.py', 'kolla_cli/common/passwords.py', 'kolla_cli/i18n.py', 'kolla_cli/api/client.py', 'kolla_cli/common/ansible/job.py', 'doc/source/kolla_cli.rst', 'kolla_cli/tests/functional/test_destroy.py', 'kolla_cli/tests/functional/test_host.py', 'kolla_cli/common/utils.py', 'setup.cfg', 'kolla_cli/tests/unit/common.py', 'tox.ini', 'kolla_cli/common/host.py', 'kolla_cli/common/ansible/actions.py', 'kolla_cli/common/support.py', 'kolla_cli/tests/unit/test_prechecks_cmd.py', 'tools/log_collector.py', 'kolla_cli/tests/functional/inventory_test_file', 'kolla_cli/api/config.py', 'kolla_cli/tests/functional/test_property.py', 'kolla_cli/tests/functional/test_reconfigure.py', 'doc/source/kolla_cli.tests.unit.rst', 'kolla_cli/api/password.py', 'kolla_cli/commands/password.py', 'doc/source/conf.py', 'kolla_cli/tests/functional/test_password.py', 'tools/kolla_actions.py', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'kolla_cli/shell.py', 'doc/requirements.txt', 'kolla_cli/tests/functional/test_group.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/7306ca2a4efeb9e49fa853c48a8a2e4bf2ee850b', 'message': 'Retire kolla-cli project - step 2 remove project content\n\nNeeded-By: https://review.opendev.org/#/c/730432/\nDepends-On: I22544ca3e8f8763019f8f37d13363cd12eccd3bb\n\nChange-Id: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2\n'}]",0,730430,7306ca2a4efeb9e49fa853c48a8a2e4bf2ee850b,14,13,5,30356,,,0,"Retire kolla-cli project - step 2 remove project content

Needed-By: https://review.opendev.org/#/c/730432/
Depends-On: I22544ca3e8f8763019f8f37d13363cd12eccd3bb

Change-Id: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/30/730430/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'kolla_cli/api/exceptions.py', 'kolla_cli/commands/group.py', 'kolla_cli/api/host.py', 'kolla_cli/common/inventory.py', 'kolla_cli/tests/unit/__init__.py', 'kolla_cli/tests/functional/test_service.py', 'kolla_cli/common/host_group.py', 'kolla_cli/api/__init__.py', 'kolla_cli/commands/service.py', 'kolla_cli/tests/functional/test_config.py', 'cli_setup.py', 'kolla_cli/common/sshutils.py', 'kolla_cli/tests/unit/test_reconfigure_cmd.py', 'lower-constraints.txt', 'kolla_cli/commands/property.py', 'kolla_cli/commands/config.py', 'kolla_cli/tests/functional/README.txt', 'kolla-cli/locale/openstack-kollacli.pot', 'kolla_cli/tests/unit/test_group_cmd.py', 'kolla_cli/tests/unit/test_service_cmd.py', 'releasenotes/notes/add-reno-f5e9ff4d9ccfa716.yaml', 'kolla_cli/commands/mode.py', 'kolla_cli/common/ansible/utils.py', 'kolla_cli/tests/unit/test_stop_cmd.py', 'kolla_cli/commands/__init__.py', 'kolla_cli/common/properties.py', 'kolla_cli/tests/unit/test_deploy_cmd.py', 'kolla_cli/tests/functional/functional_test_setup.sh', 'doc/Makefile', 'kolla_cli/common/ansible_inventory.py', 'kolla_cli/common/service.py', 'kolla_cli/tests/unit/test_pull_cmd.py', 'requirements.txt', 'kolla_cli/common/subservice.py', 'kolla_cli/api/group.py', 'doc/source/kolla_cli.tests.functional.rst', 'kolla_cli/api/certificate.py', 'kolla_cli/tests/functional/__init__.py', 'kolla_cli/tests/functional/test_client_upgrade.py', 'doc/source/index.rst', 'kolla_cli/common/__init__.py', 'doc/source/kolla_cli.tests.rst', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/host.py', 'kolla_cli/tests/__init__.py', 'kolla_cli/tests/functional/test_deploy.py', 'doc/source/modules.rst', 'kolla_cli/common/ansible/__init__.py', 'kolla_cli/commands/support.py', 'README.rst', 'setup.py', 'doc/source/kolla_cli.common.rst', 'kolla_cli/common/ansible/playbook.py', 'releasenotes/notes/drop-py-2-7-311423474c63c9c5.yaml', 'kolla_cli/api/support.py', 'LICENSE', 'kolla_cli/tests/functional/test_stop.py', 'kolla_cli/tests/unit/test_host_cmd.py', 'kolla_cli/commands/kolla_action.py', 'kolla_cli/api/job.py', 'kolla_cli/tests/unit/test_upgrade_cmd.py', 'doc/source/kolla_cli.common.ansible.rst', 'kolla_cli/commands/exceptions.py', 'releasenotes/source/index.rst', 'doc/source/kolla_cli.api.rst', 'kolla_cli/api/properties.py', 'kolla_cli/tests/functional/common.py', 'kolla_cli/tests/functional/test_support.py', 'kolla_cli/tests/unit/test_genconfig_cmd.py', 'doc/source/kolla_cli.commands.rst', 'kolla_cli/__init__.py', 'kolla_cli/common/passwords.py', 'kolla_cli/i18n.py', 'kolla_cli/api/client.py', 'kolla_cli/common/ansible/job.py', 'doc/source/kolla_cli.rst', 'kolla_cli/tests/functional/test_destroy.py', 'kolla_cli/tests/functional/test_host.py', 'kolla_cli/common/utils.py', 'setup.cfg', 'kolla_cli/tests/unit/common.py', 'tox.ini', 'kolla_cli/common/host.py', 'kolla_cli/common/ansible/actions.py', 'kolla_cli/common/support.py', 'kolla_cli/tests/unit/test_prechecks_cmd.py', 'tools/log_collector.py', 'kolla_cli/tests/functional/inventory_test_file', 'kolla_cli/api/config.py', 'kolla_cli/tests/functional/test_property.py', 'kolla_cli/tests/functional/test_reconfigure.py', 'doc/source/kolla_cli.tests.unit.rst', 'kolla_cli/api/password.py', 'kolla_cli/commands/password.py', 'doc/source/conf.py', 'kolla_cli/tests/functional/test_password.py', 'tools/kolla_actions.py', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'kolla_cli/shell.py', 'doc/requirements.txt', 'kolla_cli/tests/functional/test_group.py', 'releasenotes/source/conf.py']",105,d88d030a52432f15bbeab655acf7b7a05b42b0f0,,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Configuration file for the Sphinx documentation builder. # # This file does only contain a selection of the most common options. For a # full list see the documentation: # http://www.sphinx-doc.org/en/master/config # -- Path setup -------------------------------------------------------------- # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # # import os # import sys # sys.path.insert(0, os.path.abspath('.')) # -- Project information ----------------------------------------------------- project = u'kolla-cli' copyright = u'2019, Kolla developers' author = u'Kolla-cli developers' # The short X.Y version version = u'1.0' # The full version, including alpha/beta/rc tags release = u'1.0' # -- General configuration --------------------------------------------------- # If your documentation needs a minimal Sphinx version, state it here. # # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix(es) of source filenames. # You can specify multiple suffix as a list of string: # # source_suffix = ['.rst', '.md'] source_suffix = '.rst' # The master toctree document. master_doc = 'index' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # # This is also used if you do content translation via gettext catalogs. # Usually you set ""language"" from the command line for these cases. language = None # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. # This pattern also affects html_static_path and html_extra_path. exclude_patterns = [] # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # -- Options for HTML output ------------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. # html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # # html_theme_options = {} # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Custom sidebar templates, must be a dictionary that maps document names # to template names. # # The default sidebars (for documents that don't match any pattern) are # defined by theme itself. Builtin themes are using these templates by # default: ``['localtoc.html', 'relations.html', 'sourcelink.html', # 'searchbox.html']``. # # html_sidebars = {} # -- Options for HTMLHelp output --------------------------------------------- # Output file base name for HTML help builder. htmlhelp_basename = 'KollacliReleaseNotesdoc' # -- Options for LaTeX output ------------------------------------------------ latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ (master_doc, 'kolla.tex', u'kolla Documentation', u'Kolla developers', 'manual'), ] # -- Options for manual page output ------------------------------------------ # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ (master_doc, 'kolla', u'kolla Documentation', [author], 1) ] # -- Options for Texinfo output ---------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ (master_doc, 'kolla', u'kolla Documentation', author, 'kolla', 'One line description of project.', 'Miscellaneous'), ] # -- Options for Epub output ------------------------------------------------- # Bibliographic Dublin Core info. epub_title = project # The unique identifier of the text. This can be a ISBN number # or the project homepage. # # epub_identifier = '' # A unique identification for the text. # # epub_uid = '' # A list of files that should not be packed into the epub file. epub_exclude_files = ['search.html'] # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",3,12021
openstack%2Fkolla-ansible~master~Icb2809c5fff2ebb71aae624f2ab431a8f7e6dca7,openstack/kolla-ansible,master,Icb2809c5fff2ebb71aae624f2ab431a8f7e6dca7,Remove Babel lower-requirement,ABANDONED,2020-09-03 06:14:08.000000000,2020-09-03 07:43:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-03 06:14:08.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88986bf63bccc2ca9a21ba3e5bdcaffe221b62ce', 'message': 'Remove Babel lower-requirement\n\nChange-Id: Icb2809c5fff2ebb71aae624f2ab431a8f7e6dca7\n'}]",0,749643,88986bf63bccc2ca9a21ba3e5bdcaffe221b62ce,4,2,1,32029,,,0,"Remove Babel lower-requirement

Change-Id: Icb2809c5fff2ebb71aae624f2ab431a8f7e6dca7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/749643/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,88986bf63bccc2ca9a21ba3e5bdcaffe221b62ce,babel,,Babel==2.5.3,0,1
openstack%2Fkolla~master~Ifd09274294b05fcb3a8820c6a697cfc87ee70e99,openstack/kolla,master,Ifd09274294b05fcb3a8820c6a697cfc87ee70e99,Remove Babel from lower-constraints.txt,ABANDONED,2020-09-03 06:57:23.000000000,2020-09-03 07:42:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-03 06:57:23.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2a189bd48f28d1e2243b4de77dba62411e9f06fa', 'message': 'Remove Babel from lower-constraints.txt\n\nChange-Id: Ifd09274294b05fcb3a8820c6a697cfc87ee70e99\n'}]",0,749656,2a189bd48f28d1e2243b4de77dba62411e9f06fa,4,2,1,32029,,,0,"Remove Babel from lower-constraints.txt

Change-Id: Ifd09274294b05fcb3a8820c6a697cfc87ee70e99
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/749656/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,2a189bd48f28d1e2243b4de77dba62411e9f06fa,babel,,Babel==2.5.3,0,1
openstack%2Ftripleo-quickstart-extras~master~I56b1570d7580c2592ff9948fae94c170db674a3f,openstack/tripleo-quickstart-extras,master,I56b1570d7580c2592ff9948fae94c170db674a3f,Set openstack namespace for victoria release onwards,MERGED,2020-08-28 12:08:49.000000000,2020-09-03 07:21:31.000000000,2020-09-03 07:21:31.000000000,"[{'_account_id': 8367}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 12:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/da0a9444ab8d27ccc905118a4b4da315c731b9e0', 'message': 'Set openstack namespace only when job is periodic and  master\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic master jobs, we need\nto set docker_prefix with openstack namespace and for other\nrelease, it should be same.\n\nOnce we have master promotion, periodic conditional needs to be\nremoved.\n\nRelated-Bug: #1893339\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-28 13:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d51ecd74fdc289c65a33b53cf814ea6dfb4956dc', 'message': 'Set openstack namespace only when job is periodic and  master\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic master jobs, we need\nto set docker_prefix with openstack namespace and for other\nrelease, it should be same.\n\nOnce we have master promotion, periodic conditional needs to be\nremoved.\n\nRelated-Bug: #1893339\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-28 15:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ea1396a0443023ca80296f9cd3dc92d5ef73c43e', 'message': 'Set openstack namespace for victoria release onwards\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic jobs, we moved the var\nto periodic release file at https://review.opendev.org/#/c/748690/\nand for check one, it will take care.\n\nCloses-Bug: #1893339\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-09-02 06:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8c1ecabee070f4aef24ddf79a618a61560891fe0', 'message': 'Set openstack namespace for victoria release onwards\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic jobs, we moved the var\nto periodic release file at https://review.opendev.org/#/c/748690/\nand for check one, it will take care.\n\nCloses-Bug: #1893339\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-09-02 07:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/768b3641d6b02b58367acd687c51407c3dd995ec', 'message': 'Set openstack namespace for victoria release onwards\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic jobs, we moved the var\nto periodic release file at https://review.opendev.org/#/c/748690/\nand for check one, it will take care.\n\nCloses-Bug: #1893339\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-09-02 08:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/70aa9c88178f9a6c3ccf5b90b6295c7cc951a546', 'message': 'Set openstack namespace for victoria release onwards\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic jobs, we moved the var\nto periodic release file at https://review.opendev.org/#/c/748690/\nand for check one, it will take care.\n\nIt also includes provider jobs.\n\nCloses-Bug: #1893339\n\nDepends-On: https://review.opendev.org/#/c/747129/\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-09-02 09:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/62182f09d36b54f2031978dbb0fa5b4fb6e1b85b', 'message': 'Set openstack namespace for victoria release onwards\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic jobs, we moved the var\nto periodic release file at https://review.opendev.org/#/c/748690/\nand for check one, it will take care.\n\nChanges in container-build role takes care of provider job.\n\nCloses-Bug: #1893339\n\nDepends-On: https://review.opendev.org/#/c/747129/\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-09-02 10:34:16.000000000', 'files': ['roles/container-build/defaults/main.yaml', 'roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b71b15167cac4b137667d9c88af6b273df08b072', 'message': 'Set openstack namespace for victoria release onwards\n\nhttps://review.opendev.org/747259 switches the container name\npreffix to openstack for master.\nIn order to make it working for periodic jobs, we moved the var\nto periodic release file at https://review.opendev.org/#/c/748690/\nand for check one, it will take care.\n\nChanges in container-build role takes care of provider job.\n\nCloses-Bug: #1893339\n\nDepends-On: https://review.opendev.org/#/c/747129/\n\nChange-Id: I56b1570d7580c2592ff9948fae94c170db674a3f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",6,748609,b71b15167cac4b137667d9c88af6b273df08b072,52,12,8,12393,,,0,"Set openstack namespace for victoria release onwards

https://review.opendev.org/747259 switches the container name
preffix to openstack for master.
In order to make it working for periodic jobs, we moved the var
to periodic release file at https://review.opendev.org/#/c/748690/
and for check one, it will take care.

Changes in container-build role takes care of provider job.

Closes-Bug: #1893339

Depends-On: https://review.opendev.org/#/c/747129/

Change-Id: I56b1570d7580c2592ff9948fae94c170db674a3f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/09/748609/6 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,da0a9444ab8d27ccc905118a4b4da315c731b9e0,containerbuild,"# TODO(chandankumar): Remove periodic condition once we have master promotion with openstack namespace # containers. docker_prep_prefix: ""{{ job.build_container_images|default(false)|bool or ((('periodic' in zuul.pipeline and not force_non_periodic|default(false)|bool) or force_periodic|default(false)|bool) and release in ['master']) | ternary('openstack-', (ansible_distribution | lower) ~ '-binary-') }}""","docker_prep_prefix: ""{{ job.build_container_images|default(false)|bool | ternary('openstack-', (ansible_distribution | lower) ~ '-binary-') }}""",6,1
openstack%2Fglance~master~I300a3f19a0dfacb23903ac3e92571855ed32cd83,openstack/glance,master,I300a3f19a0dfacb23903ac3e92571855ed32cd83,[Trivial]Add missing print parameters in log messages,MERGED,2020-08-28 08:14:34.000000000,2020-09-03 07:06:09.000000000,2020-09-03 07:02:35.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-08-28 08:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/47ee8a1a99264a6d34edeb039c83f2690ef960f6', 'message': '[Trivial]Add missing print parameters in log messages\n\nThis is to add missing print parameters in log message.\n\nChange-Id: I300a3f19a0dfacb23903ac3e92571855ed32cd83\n'}, {'number': 2, 'created': '2020-08-31 03:30:47.000000000', 'files': ['glance/api/v2/images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/179d111c1fb5924e1703ee399d36abfe8286dec3', 'message': '[Trivial]Add missing print parameters in log messages\n\nThis is to add missing print parameters in log message.\n\nChange-Id: I300a3f19a0dfacb23903ac3e92571855ed32cd83\n'}]",2,748585,179d111c1fb5924e1703ee399d36abfe8286dec3,28,7,2,20190,,,0,"[Trivial]Add missing print parameters in log messages

This is to add missing print parameters in log message.

Change-Id: I300a3f19a0dfacb23903ac3e92571855ed32cd83
",git fetch https://review.opendev.org/openstack/glance refs/changes/85/748585/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/images.py'],1,47ee8a1a99264a6d34edeb039c83f2690ef960f6,print_param," '%(status)s and does not qualify for expiry.', {'image': image.image_id, 'task': task.task_id, 'status': task.status})", '%(status)s and does not qualify for expiry.'),4,1
openstack%2Fneutron~master~I55c6daf976c62252aca403358b824d4d3aaa495c,openstack/neutron,master,I55c6daf976c62252aca403358b824d4d3aaa495c,Move pylint disable comment to an effective place,MERGED,2020-09-01 14:58:42.000000000,2020-09-03 06:43:36.000000000,2020-09-03 06:41:24.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-09-01 14:58:42.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72b3fc57456568b463593795a4907b9d4bac131e', 'message': 'Move pylint disable comment to an effective place\n\nBug #1893316 still occurs, e.g.:\nhttps://zuul.opendev.org/t/openstack/build/94dc9db2fee049b38926827e97bbec09\n\nafter the attempted fix:\nhttps://review.opendev.org/748594\n\nI believe the attempted fix was basically good, but in order to disable\nthe pylint warning for the whole method the comment must be placed\nin the method body, not on the signature line.\n\nChange-Id: I55c6daf976c62252aca403358b824d4d3aaa495c\nCloses-Bug: #1893316\nRelated-Change: Iba4f2ea700f01fd153104741614eec4855d0f387\n'}]",2,749320,72b3fc57456568b463593795a4907b9d4bac131e,19,11,1,15554,,,0,"Move pylint disable comment to an effective place

Bug #1893316 still occurs, e.g.:
https://zuul.opendev.org/t/openstack/build/94dc9db2fee049b38926827e97bbec09

after the attempted fix:
https://review.opendev.org/748594

I believe the attempted fix was basically good, but in order to disable
the pylint warning for the whole method the comment must be placed
in the method body, not on the signature line.

Change-Id: I55c6daf976c62252aca403358b824d4d3aaa495c
Closes-Bug: #1893316
Related-Change: Iba4f2ea700f01fd153104741614eec4855d0f387
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/749320/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,72b3fc57456568b463593795a4907b9d4bac131e,bug/1893316," def __deepcopy__(self, memo): # pylint: disable=no-value-for-parameter"," def __deepcopy__(self, memo): # pylint: disable=no-value-for-parameter",2,1
openstack%2Fcharm-ops-openstack~master~I52513ce2c25b03f2015835b96cccb3766806bceb,openstack/charm-ops-openstack,master,I52513ce2c25b03f2015835b96cccb3766806bceb,Use '_stored' not 'state',MERGED,2020-09-02 08:10:40.000000000,2020-09-03 06:20:08.000000000,2020-09-03 06:20:08.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 08:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/b62388b2bf2e4cd94ef6c249903625d350cf797f', 'message': ""Use 'store' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nChange-Id: I52513ce2c25b03f2015835b96cccb3766806bceb\n""}, {'number': 2, 'created': '2020-09-02 08:11:32.000000000', 'files': ['unit_tests/test_ops_openstack.py', 'ops_openstack/core.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/288e712c0a82baf6dd1a48bb549466594e8e487c', 'message': ""Use '_stored' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nChange-Id: I52513ce2c25b03f2015835b96cccb3766806bceb\n""}]",0,749456,288e712c0a82baf6dd1a48bb549466594e8e487c,7,2,2,12549,,,0,"Use '_stored' not 'state'

As per issue 7 *1, switch to variable name '_stored'

*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7

Change-Id: I52513ce2c25b03f2015835b96cccb3766806bceb
",git fetch https://review.opendev.org/openstack/charm-ops-openstack refs/changes/56/749456/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ops_openstack.py', 'ops_openstack/core.py']",2,b62388b2bf2e4cd94ef6c249903625d350cf797f,store-not-state, _stored = StoredState() self._stored.set_default(is_started=False) self._stored.set_default(is_paused=False) self._stored.set_default(series_upgrade=False) if self._stored.series_upgrade: if self._stored.is_paused: if self._stored.is_started: self._stored.is_paused = True self._stored.series_upgrade = True self._stored.is_paused = False self._stored.series_upgrade = False self._stored.is_paused = True self._stored.is_paused = False, state = StoredState() self.state.set_default(is_started=False) self.state.set_default(is_paused=False) self.state.set_default(series_upgrade=False) if self.state.series_upgrade: if self.state.is_paused: if self.state.is_started: self.state.is_paused = True self.state.series_upgrade = True self.state.is_paused = False self.state.series_upgrade = False self.state.is_paused = True self.state.is_paused = False,32,32
openstack%2Fcharm-ops-interface-ceph-client~master~Ifd7d359344c4d11b0be6652e04b342dc3ac67e2e,openstack/charm-ops-interface-ceph-client,master,Ifd7d359344c4d11b0be6652e04b342dc3ac67e2e,Use '_stored' not 'state',MERGED,2020-09-02 08:10:52.000000000,2020-09-03 06:18:26.000000000,2020-09-03 06:18:26.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 08:10:52.000000000', 'files': ['unit_tests/test_interface_ceph_client.py', 'interface_ceph_client/ceph_client.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-ceph-client/commit/1f417cf46cd23bc697c937bdc5b7da71f7d90cf8', 'message': ""Use '_stored' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nChange-Id: Ifd7d359344c4d11b0be6652e04b342dc3ac67e2e\n""}]",0,749457,1f417cf46cd23bc697c937bdc5b7da71f7d90cf8,6,2,1,12549,,,0,"Use '_stored' not 'state'

As per issue 7 *1, switch to variable name '_stored'

*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7

Change-Id: Ifd7d359344c4d11b0be6652e04b342dc3ac67e2e
",git fetch https://review.opendev.org/openstack/charm-ops-interface-ceph-client refs/changes/57/749457/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_interface_ceph_client.py', 'interface_ceph_client/ceph_client.py']",2,1f417cf46cd23bc697c937bdc5b7da71f7d90cf8,store-not-state," _stored = StoredState() self._stored.set_default( return self._stored.pools_available self._stored.pools_available = True if self._stored.broker_req: try: j = json.loads(self._stored.broker_req) logging.info( ""Json request: {}"".format(self._stored.broker_req)) """".format(self._stored.broker_req, err)) self._stored.broker_req = rq.request self._stored.broker_req = rq.request"," state = StoredState() self.state.set_default( return self.state.pools_available self.state.pools_available = True if self.state.broker_req: try: j = json.loads(self.state.broker_req) logging.info(""Json request: {}"".format(self.state.broker_req)) """".format(self.state.broker_req, err)) self.state.broker_req = rq.request self.state.broker_req = rq.request",12,11
openstack%2Frequirements~stable%2Ftrain~If9a497e02fe671c80a60641d8186a1af2ab55ff1,openstack/requirements,stable/train,If9a497e02fe671c80a60641d8186a1af2ab55ff1,DNM - testing jobs,ABANDONED,2020-09-01 14:21:58.000000000,2020-09-03 06:01:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-01 14:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/41df3fcc415df9a4bae7516bc27d7eaf22b1c681', 'message': 'DNM - testing jobs\n\nChange-Id: If9a497e02fe671c80a60641d8186a1af2ab55ff1\n'}, {'number': 2, 'created': '2020-09-02 05:55:24.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8c7f1c436e5349606d6226f054b5b29403480dc2', 'message': 'DNM - testing jobs\n\nChange-Id: If9a497e02fe671c80a60641d8186a1af2ab55ff1\n'}]",0,749293,8c7f1c436e5349606d6226f054b5b29403480dc2,5,1,2,28223,,,0,"DNM - testing jobs

Change-Id: If9a497e02fe671c80a60641d8186a1af2ab55ff1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/749293/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,41df3fcc415df9a4bae7516bc27d7eaf22b1c681,DNM-testing,# bleh,,2,1
openstack%2Fproject-config~master~Icfef6929f6f903b97b780ffa372f1c4887903e6d,openstack/project-config,master,Icfef6929f6f903b97b780ffa372f1c4887903e6d,Add ansible-collections for system-config -devel job,MERGED,2020-08-23 23:42:56.000000000,2020-09-03 06:00:33.000000000,2020-09-03 05:48:58.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-23 23:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b19a179a0c80412c3add70ab2515afb3243bbdd', 'message': ""Add ansible-collections for system-config -devel job\n\nAnsible has split a lot of things out into collections; we can use\nthese in system config to test against when we're testing the devel\nbranch.\n\nChange-Id: Icfef6929f6f903b97b780ffa372f1c4887903e6d\n""}, {'number': 2, 'created': '2020-08-25 22:16:07.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b33f795409b5973a888ed8a2da2a7ce34fc0e27', 'message': ""Add ansible-collections for system-config -devel job\n\nAnsible has split a lot of things out into collections; we can use\nthese in system config to test against when we're testing the devel\nbranch.\n\nChange-Id: Icfef6929f6f903b97b780ffa372f1c4887903e6d\n""}]",2,747596,9b33f795409b5973a888ed8a2da2a7ce34fc0e27,15,5,2,7118,,,0,"Add ansible-collections for system-config -devel job

Ansible has split a lot of things out into collections; we can use
these in system config to test against when we're testing the devel
branch.

Change-Id: Icfef6929f6f903b97b780ffa372f1c4887903e6d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/747596/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,9b19a179a0c80412c3add70ab2515afb3243bbdd,s-c-ansible-devel-testing, - ansible-collections/ansible.posix - ansible-collections/ansible.netcommon - ansible-collections/community.crypto - ansible-collections/ansible.netcommon,,4,0
openstack%2Fproject-config~master~I9cef46182f88f62daf5791594174a9af8c70a82f,openstack/project-config,master,I9cef46182f88f62daf5791594174a9af8c70a82f,Move github reporting to checks API,MERGED,2020-08-19 01:59:19.000000000,2020-09-03 05:50:56.000000000,2020-09-03 05:50:55.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 01:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0e69d249b62141843a04a43815e22b7b6058ab98', 'message': 'Move github reporting to checks API\n\nThis changes from the ""status"" API to the ""checks"" API, which puts\nresults on the ""checks"" tab on github.\n\nThis also puts a button to re-run failed tests, for which we need to\nlisten to the ""check_run"" event to handle.\n\nChange-Id: I9cef46182f88f62daf5791594174a9af8c70a82f\n'}, {'number': 2, 'created': '2020-08-19 23:16:43.000000000', 'files': ['zuul.d/pipelines.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e737326516ae0aa793643637c4f7fd3c1d22a4aa', 'message': 'Move github reporting to checks API\n\nThis changes from the ""status"" API to the ""checks"" API, which puts\nresults on the ""checks"" tab on github.\n\nThis also puts a button to re-run failed tests, for which we need to\nlisten to the ""check_run"" event to handle.\n\nChange-Id: I9cef46182f88f62daf5791594174a9af8c70a82f\n'}]",5,746827,e737326516ae0aa793643637c4f7fd3c1d22a4aa,12,5,2,7118,,,0,"Move github reporting to checks API

This changes from the ""status"" API to the ""checks"" API, which puts
results on the ""checks"" tab on github.

This also puts a button to re-run failed tests, for which we need to
listen to the ""check_run"" event to handle.

Change-Id: I9cef46182f88f62daf5791594174a9af8c70a82f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/746827/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/pipelines.yaml'],1,0e69d249b62141843a04a43815e22b7b6058ab98,github-checks-api, - event: check_run check: pending check: 'success' comment: false check: 'failure' comment: false - event: check_run check: pending check: 'success' comment: false check: 'failure' comment: false, status: pending status: 'success' status: 'failure' status: pending status: 'success' status: 'failure',12,6
openstack%2Fnova~master~Iad76bce128574dc2f86998ccf2a9c5e799c71313,openstack/nova,master,Iad76bce128574dc2f86998ccf2a9c5e799c71313,Remove support for Intel CMT events,MERGED,2020-07-14 09:09:14.000000000,2020-09-03 04:31:23.000000000,2020-09-03 01:59:22.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-14 09:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac865b0fa59b8354f4cd3e0e4d8ef67e491c38bd', 'message': 'Remove support for Intel CMT events\n\nThe 4.14 kernel is sufficiently old in the tooth (Ubuntu 18.04 uses\n4.15, RHEL 7.x has likely backported the fixes) that there are likely\nnot a great deal of users that could still use this broken feature if\nthey wanted to. Drop support for it almost entirely, retaining only a\nwarning to prevent accidental use.\n\nChange-Id: Iad76bce128574dc2f86998ccf2a9c5e799c71313\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-07-21 14:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfcc6ea21f9d78164ba9c505a28321779ded3c4b', 'message': 'Remove support for Intel CMT events\n\nThe 4.14 kernel is sufficiently old in the tooth (Ubuntu 18.04 uses\n4.15, RHEL 7.x has likely backported the fixes) that there are likely\nnot a great deal of users that could still use this broken feature if\nthey wanted to. Drop support for it almost entirely, retaining only a\nwarning to prevent accidental use.\n\nChange-Id: Iad76bce128574dc2f86998ccf2a9c5e799c71313\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-09-01 16:37:05.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'releasenotes/notes/remove-intel-cmt-perf-events-69df7324d6fe41a8.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e45f3b5d71342d179bc150901f2dd5dabef238ca', 'message': 'Remove support for Intel CMT events\n\nThe 4.14 kernel is sufficiently old in the tooth (Ubuntu 18.04 uses\n4.15, RHEL 7.x has likely backported the fixes) that there are likely\nnot a great deal of users that could still use this broken feature if\nthey wanted to. Drop support for it almost entirely, retaining only a\nwarning to prevent accidental use.\n\nChange-Id: Iad76bce128574dc2f86998ccf2a9c5e799c71313\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,740922,e45f3b5d71342d179bc150901f2dd5dabef238ca,40,14,3,15334,,,0,"Remove support for Intel CMT events

The 4.14 kernel is sufficiently old in the tooth (Ubuntu 18.04 uses
4.15, RHEL 7.x has likely backported the fixes) that there are likely
not a great deal of users that could still use this broken feature if
they wanted to. Drop support for it almost entirely, retaining only a
warning to prevent accidental use.

Change-Id: Iad76bce128574dc2f86998ccf2a9c5e799c71313
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/740922/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'releasenotes/notes/remove-intel-cmt-perf-events-69df7324d6fe41a8.yaml']",3,ac865b0fa59b8354f4cd3e0e4d8ef67e491c38bd,trivial,"--- upgrade: - | Intel CMT perf events - ``cmt``, ``mbmt``, and ``mbml`` - are no longer supported by the ``[libvirt] enabled_perf_events`` config option. These event types were broken by design and are not supported in recent Linux kernels (4.14+). ",,33,43
openstack%2Fpython-swiftclient~master~Ida80f0c5a983edb33a93662badb6aa1a25f9a27c,openstack/python-swiftclient,master,Ida80f0c5a983edb33a93662badb6aa1a25f9a27c,Speed up test_lazy_connections,MERGED,2020-07-28 18:28:42.000000000,2020-09-03 04:13:28.000000000,2020-09-03 04:12:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 18:28:42.000000000', 'files': ['test/unit/test_multithreading.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/89c8d9b853aa02e0a90682d04cec2cd42f740e80', 'message': ""Speed up test_lazy_connections\n\nIt doesn't really need to sleep a full second.\n\nChange-Id: Ida80f0c5a983edb33a93662badb6aa1a25f9a27c\n""}]",0,743613,89c8d9b853aa02e0a90682d04cec2cd42f740e80,7,2,1,15343,,,0,"Speed up test_lazy_connections

It doesn't really need to sleep a full second.

Change-Id: Ida80f0c5a983edb33a93662badb6aa1a25f9a27c
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/13/743613/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/test_multithreading.py'],1,89c8d9b853aa02e0a90682d04cec2cd42f740e80,, sleep(.1), sleep(1),1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iacf7c9c368b26106e9921b35996c134aacb9acd7,openstack/tripleo-heat-templates,stable/train,Iacf7c9c368b26106e9921b35996c134aacb9acd7,Use container_file_t for Cinder*NfsMountOptions by default,MERGED,2020-08-21 09:23:56.000000000,2020-09-03 04:04:19.000000000,2020-09-03 04:04:19.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-21 09:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c8d649256aedb43058a0b8cd97ba052ada93172', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nCloses-Bug: 1890291\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n(cherry picked from commit 6d100039c7c48bd450fd0ba9596ebb697571643a)\n'}, {'number': 2, 'created': '2020-09-01 08:52:48.000000000', 'files': ['environments/cinder-netapp-config.yaml', 'environments/storage-environment.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'sample-env-generator/storage.yaml', 'environments/storage/cinder-nfs.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'environments/storage/cinder-netapp-config.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b34ca4e1c0e2e78fe0eded433dc5ab712c783923', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nCloses-Bug: 1890291\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n(cherry picked from commit c7ec7262761d0a09287e9934fe36e3a068415807)\n'}]",0,747371,b34ca4e1c0e2e78fe0eded433dc5ab712c783923,22,5,2,6796,,,0,"Use container_file_t for Cinder*NfsMountOptions by default

This is so that share content is usable by cinder-volume and other
containers mounting the same share.

Closes-Bug: 1890291
Change-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7
(cherry picked from commit c7ec7262761d0a09287e9934fe36e3a068415807)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/747371/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-netapp-config.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/storage/cinder-nfs.yaml', 'environments/storage-environment.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'sample-env-generator/storage.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'environments/storage/cinder-netapp-config.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml']",12,7c8d649256aedb43058a0b8cd97ba052ada93172,, default: 'context=system_u:object_r:container_file_t:s0', default: '',12,7
openstack%2Fwatcher~master~Ic126bc8e0936e5d7a2c7a910b54b7348026fedcb,openstack/watcher,master,Ic126bc8e0936e5d7a2c7a910b54b7348026fedcb,Use importlib to take place of im module,MERGED,2020-08-29 16:12:22.000000000,2020-09-03 03:41:35.000000000,2020-09-03 03:40:12.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-29 16:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0b1609cae43ea99f0215cd58cca83e78025437a7', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\nChange-Id: Ic126bc8e0936e5d7a2c7a910b54b7348026fedcb\n1: https://docs.python.org/3/library/imp.html#imp.reload\n'}, {'number': 2, 'created': '2020-08-29 16:12:59.000000000', 'files': ['watcher/tests/api/test_config.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/583c946061f8af815c32254655f4aed8f0c18dc9', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n1: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: Ic126bc8e0936e5d7a2c7a910b54b7348026fedcb\n'}]",0,748810,583c946061f8af815c32254655f4aed8f0c18dc9,10,3,2,32067,,,0,"Use importlib to take place of im module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

1: https://docs.python.org/3/library/imp.html#imp.reload

Change-Id: Ic126bc8e0936e5d7a2c7a910b54b7348026fedcb
",git fetch https://review.opendev.org/openstack/watcher refs/changes/10/748810/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/api/test_config.py'],1,0b1609cae43ea99f0215cd58cca83e78025437a7,,import importlib importlib.reload(api_config) importlib.reload(api_config),import imp imp.reload(api_config) imp.reload(api_config),3,3
openstack%2Fpuppet-magnum~master~I8556c9184a77473e319b6b99148b6d3793dc1988,openstack/puppet-magnum,master,I8556c9184a77473e319b6b99148b6d3793dc1988,Add ability to configure oslo_middleware,ABANDONED,2020-08-18 23:20:08.000000000,2020-09-03 02:27:30.000000000,,"[{'_account_id': 8064}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 23:20:08.000000000', 'files': ['spec/classes/magnum_oslo_middleware_spec.rb', 'manifests/oslo_middleware.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/7fb38845a6fdf091e711869ce69cac2cefdfe3a5', 'message': 'Add ability to configure oslo_middleware\n\nAdd a class oslo_middleware, which takes in a param hash to be passed to\nthe oslo::middleware class. This sets up the [oslo_middleware] config\nsection in magnum config.\n\nThis method makes it more generic; if oslo::middleware has a new param\nwe do not have to change it in all different projects. This is modelled\nafter Change-Id I695834ac03a52d8569e50db600676a89e165491d\n\nChange-Id: I8556c9184a77473e319b6b99148b6d3793dc1988\n'}]",0,746817,7fb38845a6fdf091e711869ce69cac2cefdfe3a5,6,4,1,8064,,,0,"Add ability to configure oslo_middleware

Add a class oslo_middleware, which takes in a param hash to be passed to
the oslo::middleware class. This sets up the [oslo_middleware] config
section in magnum config.

This method makes it more generic; if oslo::middleware has a new param
we do not have to change it in all different projects. This is modelled
after Change-Id I695834ac03a52d8569e50db600676a89e165491d

Change-Id: I8556c9184a77473e319b6b99148b6d3793dc1988
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/17/746817/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/magnum_oslo_middleware_spec.rb', 'manifests/oslo_middleware.pp']",2,7fb38845a6fdf091e711869ce69cac2cefdfe3a5,,"# == Class: magnum::olso_middlware # # Setup and configure oslo_middleware section in magnum config # # === Parameters # # [*params*] # (Optional) Hash of configs to pass through to oslo::middleware class. # Used for configuring oslo_middleware section of config. # class magnum::oslo_middleware( $params = {}, ) inherits magnum::params { validate_legacy(Hash, 'validate_hash', $params) oslo::middleware {'magnum_config': * => $params, } } ",,60,0
openstack%2Fpaunch~stable%2Fstein~Iab3d8340db112b42cab07b47f430ef08abfd7acc,openstack/paunch,stable/stein,Iab3d8340db112b42cab07b47f430ef08abfd7acc,Removed tripleo-ci-centos-7-scenario009-multinode-oooq-container,MERGED,2020-08-26 10:50:28.000000000,2020-09-03 02:15:29.000000000,2020-09-03 02:13:18.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 10:50:28.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/paunch/commit/01d8a8dde70f8164a1a9cae32a0dc23c9b29ec01', 'message': 'Removed tripleo-ci-centos-7-scenario009-multinode-oooq-container\n\nThis job is no longer valid. It is depricated in master.\nRemoving this job from stable/stein.\n\nChange-Id: Iab3d8340db112b42cab07b47f430ef08abfd7acc\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",0,748160,01d8a8dde70f8164a1a9cae32a0dc23c9b29ec01,10,5,1,30750,,,0,"Removed tripleo-ci-centos-7-scenario009-multinode-oooq-container

This job is no longer valid. It is depricated in master.
Removing this job from stable/stein.

Change-Id: Iab3d8340db112b42cab07b47f430ef08abfd7acc
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/60/748160/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,01d8a8dde70f8164a1a9cae32a0dc23c9b29ec01,remove_c7_009,, - tripleo-ci-centos-7-scenario009-multinode-oooq-container: dependencies: *deps_unit_lint,0,2
openstack%2Fpuppet-tripleo~master~I189261a3627e6a0c1dea33cb04c8264b9960681f,openstack/puppet-tripleo,master,I189261a3627e6a0c1dea33cb04c8264b9960681f,Add unit tests for Mistral manifests,MERGED,2020-08-30 13:27:47.000000000,2020-09-03 02:13:19.000000000,2020-09-03 02:13:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 13:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c17ec58198d27e7b8bc61ce08b5661cf65a2e599', 'message': 'Add unit tests for Mistral manifests\n\nChange-Id: I189261a3627e6a0c1dea33cb04c8264b9960681f\n'}, {'number': 2, 'created': '2020-08-30 14:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a537f8d94a7c711edffa1ef6fda8c80ed22e281e', 'message': 'Add unit tests for Mistral manifests\n\nChange-Id: I189261a3627e6a0c1dea33cb04c8264b9960681f\n'}, {'number': 3, 'created': '2020-08-30 14:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be0b85f3d51170d3cd10a4f474cc4131595fa3d7', 'message': 'Add unit tests for Mistral manifests\n\nDepends-on: https://review.opendev.org/#/c/748862/\nChange-Id: I189261a3627e6a0c1dea33cb04c8264b9960681f\n'}, {'number': 4, 'created': '2020-09-01 14:20:20.000000000', 'files': ['spec/classes/tripleo_profile_base_mistral_spec.rb', 'spec/classes/tripleo_profile_base_mistral_event_engine_spec.rb', 'spec/classes/tripleo_profile_base_mistral_executor_spec.rb', 'spec/classes/tripleo_profile_base_mistral_engine_spec.rb', 'spec/classes/tripleo_profile_base_mistral_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/befc19468d15511bfe3c4bf7b04b56737b94d71d', 'message': 'Add unit tests for Mistral manifests\n\nDepends-on: https://review.opendev.org/#/c/748862/\nChange-Id: I189261a3627e6a0c1dea33cb04c8264b9960681f\n'}]",4,748856,befc19468d15511bfe3c4bf7b04b56737b94d71d,15,4,4,9816,,,0,"Add unit tests for Mistral manifests

Depends-on: https://review.opendev.org/#/c/748862/
Change-Id: I189261a3627e6a0c1dea33cb04c8264b9960681f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/748856/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_mistral_event_engine_spec.rb', 'spec/classes/tripleo_profile_base_mistral_spec.rb', 'spec/classes/tripleo_profile_base_mistral_executor_spec.rb', 'spec/classes/tripleo_profile_base_mistral_engine_spec.rb', 'spec/classes/tripleo_profile_base_mistral_api_spec.rb']",5,c17ec58198d27e7b8bc61ce08b5661cf65a2e599,mistral-ut,"# # Copyright (C) 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::mistral::api' do shared_examples_for 'tripleo::profile::base::mistral::api' do context 'with step less than 3' do let(:params) { { :step => 1 } } it 'should do nothing' do is_expected.to contain_class('tripleo::profile::base::mistral::api') is_expected.to contain_class('tripleo::profile::base::mistral') is_expected.to contain_class('tripleo::profile::base::mistral::authtoken') is_expected.to_not contain_class('mistral::api') is_expected.to_not contain_class('tripleo::profile::base::apache') is_expected.to_not contain_class('mistral::wsgi::apache') end end context 'with step 3 on bootstrap node' do let(:params) { { :step => 3, :bootstrap_node => 'node.example.com', } } it 'should trigger complete configuration' do is_expected.to contain_class('tripleo::profile::base::mistral::api') is_expected.to contain_class('tripleo::profile::base::mistral') is_expected.to contain_class('tripleo::profile::base::mistral::authtoken') is_expected.to contain_class('mistral::api') is_expected.to contain_class('tripleo::profile::base::apache') is_expected.to contain_class('mistral::wsgi::apache') end end context 'with step 3 not on bootstrap node' do let(:params) { { :step => 3, :bootstrap_node => 'other.example.com' } } it 'should not trigger any configuration' do is_expected.to contain_class('tripleo::profile::base::mistral::api') is_expected.to contain_class('tripleo::profile::base::mistral') is_expected.to contain_class('tripleo::profile::base::mistral::authtoken') is_expected.to_not contain_class('mistral::api') is_expected.to_not contain_class('tripleo::profile::base::apache') is_expected.to_not contain_class('mistral::wsgi::apache') end end context 'with step 4 on other node' do let(:params) { { :step => 4, :bootstrap_node => 'other.example.com', } } it 'should trigger complete configuration' do is_expected.to contain_class('tripleo::profile::base::mistral::api') is_expected.to contain_class('tripleo::profile::base::mistral') is_expected.to contain_class('tripleo::profile::base::mistral::authtoken') is_expected.to contain_class('mistral::api') is_expected.to contain_class('tripleo::profile::base::apache') is_expected.to contain_class('mistral::wsgi::apache') end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'tripleo::profile::base::mistral::api' end end end ",,448,0
openstack%2Ftripleo-puppet-elements~master~I7790f0b8e08e804cb8ceb54a49b37e583e24d2bf,openstack/tripleo-puppet-elements,master,I7790f0b8e08e804cb8ceb54a49b37e583e24d2bf,Remove puppet-tacker,MERGED,2020-08-29 08:57:42.000000000,2020-09-03 02:13:18.000000000,2020-09-03 02:13:18.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-29 08:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/6e4b86c547cf1fd53f79ec4bc42b79bdac12ab60', 'message': 'Remove puppet-tacker\n\n... because Tacker is no longer supported in TripleO.\n\nChange-Id: I7790f0b8e08e804cb8ceb54a49b37e583e24d2bf\n'}, {'number': 2, 'created': '2020-08-29 08:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/88b5c2d2382ab2961ee5b4c6b25e3f0d490cf243', 'message': 'Remove puppet-tacker\n\n... because Tacker is no longer supported in TripleO.\n\nChange-Id: I7790f0b8e08e804cb8ceb54a49b37e583e24d2bf\n'}, {'number': 3, 'created': '2020-08-30 08:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/cb6c6efaaeaf29edb37e5e8d7516dd092068c411', 'message': 'Remove puppet-tacker\n\n... because Tacker is no longer supported by TripleO[1]\n\n[1] b44a0795781fbed4f8948db1ac1ce545785943ba\n\nChange-Id: I7790f0b8e08e804cb8ceb54a49b37e583e24d2bf\n'}, {'number': 4, 'created': '2020-09-01 12:59:00.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/67b7451d9216307cd5ceb4389f2feaf25434dcb6', 'message': 'Remove puppet-tacker\n\n... because Tacker is no longer supported by TripleO[1]\n\n[1] b44a0795781fbed4f8948db1ac1ce545785943ba\n\nChange-Id: I7790f0b8e08e804cb8ceb54a49b37e583e24d2bf\n'}]",0,748796,67b7451d9216307cd5ceb4389f2feaf25434dcb6,18,5,4,9816,,,0,"Remove puppet-tacker

... because Tacker is no longer supported by TripleO[1]

[1] b44a0795781fbed4f8948db1ac1ce545785943ba

Change-Id: I7790f0b8e08e804cb8ceb54a49b37e583e24d2bf
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/96/748796/4 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh'],1,6e4b86c547cf1fd53f79ec4bc42b79bdac12ab60,remove-tacker,, puppet-tacker \,0,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8,openstack/tripleo-heat-templates,stable/ussuri,Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8,Remove Etcd from DCN roles that don't need it,MERGED,2020-09-01 15:08:32.000000000,2020-09-03 02:13:16.000000000,2020-09-03 02:13:16.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 15:08:32.000000000', 'files': ['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/DistributedComputeHCIScaleOut.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee90c5d60f285017603daa407d4201c8a47fa61c', 'message': ""Remove Etcd from DCN roles that don't need it\n\nRemove the Etcd service from DCN roles that do not need it. Etcd is\nonly required by the cinder-volume service in order to run in active/\nactive mode. Roles that do not host the cinder-volume service do not\nneed Etcd.\n\nChange-Id: Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8\n(cherry picked from commit 500ba04798674ba487b370eb3a2c223cbaef9cd4)\n""}]",0,749324,ee90c5d60f285017603daa407d4201c8a47fa61c,8,4,1,21129,,,0,"Remove Etcd from DCN roles that don't need it

Remove the Etcd service from DCN roles that do not need it. Etcd is
only required by the cinder-volume service in order to run in active/
active mode. Roles that do not host the cinder-volume service do not
need Etcd.

Change-Id: Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8
(cherry picked from commit 500ba04798674ba487b370eb3a2c223cbaef9cd4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/749324/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/DistributedComputeHCIScaleOut.yaml']",4,ee90c5d60f285017603daa407d4201c8a47fa61c,dcn-role-cleanup, Distributed Compute Node role with CephOSD and HAproxy for Glance.," Distributed Compute Node role with Ceph, Cinder volume and HAProxy for Glance. - OS::TripleO::Services::Etcd",3,6
openstack%2Fpython-tripleoclient~stable%2Ftrain~I364fb42a41b4cb4ae076f07704c72c6ea442a198,openstack/python-tripleoclient,stable/train,I364fb42a41b4cb4ae076f07704c72c6ea442a198,Add tripleo container image hotfix command,MERGED,2020-07-15 15:11:51.000000000,2020-09-03 02:12:38.000000000,2020-09-03 02:11:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 15:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/49c3fdafe540bc1d52d1b90efc19496824ec6a56', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)\n'}, {'number': 2, 'created': '2020-07-15 21:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9711ffd3261b5244db5a4894ecdb0c940d8419d3', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)\n'}, {'number': 3, 'created': '2020-07-22 20:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/11a85ae6e39474298a64509bf382405964ad1989', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)\n'}, {'number': 4, 'created': '2020-07-23 15:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea664c39a73caf5e7264f95320f0f38208b54d77', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)\n'}, {'number': 5, 'created': '2020-07-23 23:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d0eda0826197525b01b5c2bf37316c8dddbcda1c', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)\n'}, {'number': 6, 'created': '2020-07-24 14:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee02e725dbf59ba073b92eb6031fc0fff26783f7', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-08-18 21:23:33.000000000', 'files': ['tripleoclient/v1/tripleo_container_image.py', 'tripleoclient/tests/v1/container_image/test_tripleo_container_image.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/182892b1f5d4068621c31b13e9e9c9f04edddb46', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,741237,182892b1f5d4068621c31b13e9e9c9f04edddb46,45,4,7,7353,,,0,"Add tripleo container image hotfix command

This change adds a CLI command to invoke hotfixes via the TripleO modify
image role. This CLI command will ensure a uniform experience for operators
when needing to apply a hotfixes to containers.

Change-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)
(cherry picked from commit 39c270006d98ec5a20992a575cd5a145762bc40d)
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/741237/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_container_image.py', 'tripleoclient/tests/v1/container_image/test_tripleo_container_image.py', 'setup.cfg']",3,49c3fdafe540bc1d52d1b90efc19496824ec6a56,, tripleo_container_image_hotfix = tripleoclient.v2.tripleo_container_image:HotFix,,135,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I386a035f9688c54d617e714888c9c0fa14f34a1e,openstack/tripleo-heat-templates,stable/ussuri,I386a035f9688c54d617e714888c9c0fa14f34a1e,DCN: use FQDN in glance endpoint with internal TLS,MERGED,2020-09-02 04:06:05.000000000,2020-09-03 02:11:12.000000000,2020-09-03 02:11:11.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 04:06:05.000000000', 'files': ['deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9471eb030f21d425cb049ada3b91935d4b1bdea7', 'message': 'DCN: use FQDN in glance endpoint with internal TLS\n\nFix the glance-api endpoint used by cinder and nova services at DCN\nsites. When internal TLS is enabled, the URI must use a FQDN and not\nan IP address.\n\nCloses-Bug: #1893453\nChange-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e\n(cherry picked from commit 2035b88f5b9eb1c86391c995f768f9ecc45855a4)\n'}]",0,749422,9471eb030f21d425cb049ada3b91935d4b1bdea7,7,3,1,21129,,,0,"DCN: use FQDN in glance endpoint with internal TLS

Fix the glance-api endpoint used by cinder and nova services at DCN
sites. When internal TLS is enabled, the URI must use a FQDN and not
an IP address.

Closes-Bug: #1893453
Change-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e
(cherry picked from commit 2035b88f5b9eb1c86391c995f768f9ecc45855a4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/749422/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml']",2,9471eb030f21d425cb049ada3b91935d4b1bdea7,bug/1893453," if: - internal_tls_enabled - str_replace: template: ""https://%{hiera('fqdn_NETWORK')}:9292"" params: NETWORK: {get_param: [ServiceNetMap, GlanceApiEdgeNetwork]} - str_replace: template: ""http://%{hiera('NETWORK_uri')}:9292"" params: NETWORK: {get_param: [ServiceNetMap, GlanceApiEdgeNetwork]}"," str_replace: template: ""PROTOCOL://%{hiera('NETWORK_uri')}:9292"" params: PROTOCOL: if: - internal_tls_enabled - https - http NETWORK: {get_param: [ServiceNetMap, GlanceApiEdgeNetwork]}",24,20
openstack%2Fneutron~master~I328391c88af1ef2f6b1af3787c63d8591fb317b5,openstack/neutron,master,I328391c88af1ef2f6b1af3787c63d8591fb317b5,Don't directly access the in-memory DB for NB_Global row,MERGED,2020-08-21 18:57:49.000000000,2020-09-03 02:03:08.000000000,2020-09-03 01:59:09.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-21 18:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86b7fda36ddbf18cbadbb214c2b535900768c77d', 'message': ""Don't directly access the in-memory DB for NB_Global row\n\nDirectly accessing the in-memory OVSDB via 'tables' outside of a\nCommand object isn't safe. For example, if we lose connection to\nthe OVSDB and reconnect, the in-memory copy will be replaced by\nthe Connection thread. If we get a call to get_agents() that is\nhandled by the main thread and we look up the value from there,\nthe value we expect may be missing.\n\nThe dependent patch in ovsdbapp adds some locking to help with\nthis some API commands like lookup() that are heavily used and\nwith ReadOnlyCommands which also aren't processed like normal\nCommand objects inside the connection thread.\n\nThere will be many more changes in the ml2/ovn code similar to\nthis one, as we directly access the in-memory copy a lot.\n\nDepends-On: https://review.opendev.org/#/c/745746/\nChange-Id: I328391c88af1ef2f6b1af3787c63d8591fb317b5\nCloses-Bug: #1888878\n""}, {'number': 2, 'created': '2020-08-21 23:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff695e8c595a42f0e943ed9d3e0f24543e508625', 'message': ""Don't directly access the in-memory DB for NB_Global row\n\nDirectly accessing the in-memory OVSDB via 'tables' outside of a\nCommand object isn't safe. For example, if we lose connection to\nthe OVSDB and reconnect, the in-memory copy will be replaced by\nthe Connection thread. If we get a call to get_agents() that is\nhandled by the main thread and we look up the value from there,\nthe value we expect may be missing.\n\nThe dependent patch in ovsdbapp adds some locking to help with\nthis some API commands like lookup() that are heavily used and\nwith ReadOnlyCommands which also aren't processed like normal\nCommand objects inside the connection thread.\n\nThere will be many more changes in the ml2/ovn code similar to\nthis one, as we directly access the in-memory copy a lot.\n\nDepends-On: https://review.opendev.org/#/c/745746/\nChange-Id: I328391c88af1ef2f6b1af3787c63d8591fb317b5\nCloses-Bug: #1888878\n""}, {'number': 3, 'created': '2020-08-28 14:17:06.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1582e39a1ba7f620e9cea7e5c531dc03e881ced', 'message': ""Don't directly access the in-memory DB for NB_Global row\n\nDirectly accessing the in-memory OVSDB via 'tables' outside of a\nCommand object isn't safe. For example, if we lose connection to\nthe OVSDB and reconnect, the in-memory copy will be replaced by\nthe Connection thread. If we get a call to get_agents() that is\nhandled by the main thread and we look up the value from there,\nthe value we expect may be missing.\n\nThe dependent patch in ovsdbapp adds some locking to help with\nthis some API commands like lookup() that are heavily used and\nwith ReadOnlyCommands which also aren't processed like normal\nCommand objects inside the connection thread.\n\nThere will be many more changes in the ml2/ovn code similar to\nthis one, as we directly access the in-memory copy a lot.\n\nDepends-On: https://review.opendev.org/#/c/745746/\nChange-Id: I328391c88af1ef2f6b1af3787c63d8591fb317b5\nCloses-Bug: #1888878\n""}]",0,747465,e1582e39a1ba7f620e9cea7e5c531dc03e881ced,47,9,3,5756,,,0,"Don't directly access the in-memory DB for NB_Global row

Directly accessing the in-memory OVSDB via 'tables' outside of a
Command object isn't safe. For example, if we lose connection to
the OVSDB and reconnect, the in-memory copy will be replaced by
the Connection thread. If we get a call to get_agents() that is
handled by the main thread and we look up the value from there,
the value we expect may be missing.

The dependent patch in ovsdbapp adds some locking to help with
this some API commands like lookup() that are heavily used and
with ReadOnlyCommands which also aren't processed like normal
Command objects inside the connection thread.

There will be many more changes in the ml2/ovn code similar to
this one, as we directly access the in-memory copy a lot.

Depends-On: https://review.opendev.org/#/c/745746/
Change-Id: I328391c88af1ef2f6b1af3787c63d8591fb317b5
Closes-Bug: #1888878
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/747465/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'],1,86b7fda36ddbf18cbadbb214c2b535900768c77d,, return next(iter(self.api.db_list_rows('NB_Global').execute( check_error=True))), return next(iter(self.tables['NB_Global'].rows.values())),2,1
openstack%2Fswift~master~I83cdaa2cbd394cbd49609c65bf9c5ed026c55417,openstack/swift,master,I83cdaa2cbd394cbd49609c65bf9c5ed026c55417,Bind a new socket per-worker,MERGED,2020-08-10 23:18:41.000000000,2020-09-03 02:01:31.000000000,2020-09-03 01:59:13.000000000,"[{'_account_id': 1179}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 23:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4a5bbdbdafaf5493f708b185afed85f6ff08f49f', 'message': ""WIP: Bind a new socket per-worker\n\nWe've seen lumpy distributions of requests to workers, which seems to\nparallel what projects have seen [0][1].\n\nThe solution (as best we can tell) is to take advantage of the\nSO_REUSEPORT that eventlet's been setting for us since basically\nforever [2].\n\n[0] https://lwn.net/Articles/542629/\n[1] https://github.com/varnish/hitch/issues/142\n[2] https://github.com/eventlet/eventlet/commit/f9a3074a3\n\nChange-Id: I83cdaa2cbd394cbd49609c65bf9c5ed026c55417\n""}, {'number': 2, 'created': '2020-08-11 04:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e94c4efa510c162ea424fa4cccf0b50efbc92518', 'message': ""WIP: Bind a new socket per-worker\n\nWe've seen lumpy distributions of requests to workers, which seems to\nparallel what projects have seen [0][1].\n\nThe solution (as best we can tell) is to take advantage of the\nSO_REUSEPORT that eventlet's been setting for us since basically\nforever [2].\n\n[0] https://lwn.net/Articles/542629/\n[1] https://github.com/varnish/hitch/issues/142\n[2] https://github.com/eventlet/eventlet/commit/f9a3074a3\n\nChange-Id: I83cdaa2cbd394cbd49609c65bf9c5ed026c55417\n""}, {'number': 3, 'created': '2020-08-11 22:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f17e52b4fb66dec48bf0883a8cdb04712d4019c', 'message': ""Bind a new socket per-worker\n\nWe've seen lumpy distributions of requests to workers, which seems to\nparallel what some other projects have seen [0][1].\n\nThe solution (as best we can tell) is to take advantage of the\nSO_REUSEPORT that eventlet's been setting for us since basically\nforever [2].\n\n[0] https://lwn.net/Articles/542629/\n[1] https://github.com/varnish/hitch/issues/142\n[2] https://github.com/eventlet/eventlet/commit/f9a3074a3\n\nChange-Id: I83cdaa2cbd394cbd49609c65bf9c5ed026c55417\n""}, {'number': 4, 'created': '2020-08-21 05:08:03.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/452db14a0929cde71edd0a240655dd763d3bcbf2', 'message': ""Bind a new socket per-worker\n\nWe've seen lumpy distributions of requests to workers, which seems to\nparallel what some other projects have seen [0][1].\n\nThe solution (as best we can tell) is to take advantage of the\nSO_REUSEPORT that eventlet's been setting for us since basically\nforever [2].\n\n[0] https://lwn.net/Articles/542629/\n[1] https://github.com/varnish/hitch/issues/142\n[2] https://github.com/eventlet/eventlet/commit/f9a3074a3\n\nChange-Id: I83cdaa2cbd394cbd49609c65bf9c5ed026c55417\n""}]",68,745603,452db14a0929cde71edd0a240655dd763d3bcbf2,20,4,4,15343,,,0,"Bind a new socket per-worker

We've seen lumpy distributions of requests to workers, which seems to
parallel what some other projects have seen [0][1].

The solution (as best we can tell) is to take advantage of the
SO_REUSEPORT that eventlet's been setting for us since basically
forever [2].

[0] https://lwn.net/Articles/542629/
[1] https://github.com/varnish/hitch/issues/142
[2] https://github.com/eventlet/eventlet/commit/f9a3074a3

Change-Id: I83cdaa2cbd394cbd49609c65bf9c5ed026c55417
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/745603/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",3,4a5bbdbdafaf5493f708b185afed85f6ff08f49f,worker-management," {'__file__': 'test', 'workers': 0, 'bind_port': 12345}, preloaded_app_conf, {'__file__': 'test', 'workers': 0, 'bind_port': 12345}) {'__file__': 'test', 'workers': 0, 'bind_port': 12345},"," {'__file__': 'test', 'workers': 0}, preloaded_app_conf, {'__file__': 'test', 'workers': 0}) {'__file__': 'test', 'workers': 0},",136,115
openstack%2Fos-brick~master~I7eba32adc5897940ceb712561ee40327e0f2418f,openstack/os-brick,master,I7eba32adc5897940ceb712561ee40327e0f2418f,Update master for stable/victoria,MERGED,2020-09-02 16:43:44.000000000,2020-09-03 01:38:49.000000000,2020-09-02 17:17:16.000000000,"[{'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-09-02 16:43:44.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/81a0019d0d5042fb45a98eebc7ff1101ad68581a', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: I7eba32adc5897940ceb712561ee40327e0f2418f\nSem-Ver: feature\n'}]",0,749557,81a0019d0d5042fb45a98eebc7ff1101ad68581a,17,10,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: I7eba32adc5897940ceb712561ee40327e0f2418f
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/57/749557/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,81a0019d0d5042fb45a98eebc7ff1101ad68581a,reno-victoria, victoria,,7,0
openstack%2Fnova~stable%2Ftrain~I9edb36c4df1cc0d8b529e669f06540de71766085,openstack/nova,stable/train,I9edb36c4df1cc0d8b529e669f06540de71766085,compute: Don't delete the original attachment during pre LM rollback,MERGED,2020-08-27 17:32:04.000000000,2020-09-03 01:30:53.000000000,2020-09-03 01:27:18.000000000,"[{'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-27 17:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa707a508220c76dba87a62dd0fc0eac302d859e', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)\n(cherry picked from commit 034b2fa8fea0e34fed95a2ba728e4387ce4e78de)\n""}, {'number': 2, 'created': '2020-08-27 19:07:47.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c6c3483a41c2a53bcfafdfe3475283b0379f7f1d', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)\n(cherry picked from commit 034b2fa8fea0e34fed95a2ba728e4387ce4e78de)\n""}]",0,748496,c6c3483a41c2a53bcfafdfe3475283b0379f7f1d,14,6,2,10135,,,0,"compute: Don't delete the original attachment during pre LM rollback

I0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live
migration with cinderv3 volume attachments during Queens. This initial
support handled failures in pre_live_migration directly by removing any
attachments created on the destination and reverting to the original
attachment ids before re-raising the caught exception to the source
compute. It also added rollback code within the main
_rollback_live_migration method but missed that this would also be
called during a pre_live_migration rollback.

As a result after a failure in pre_live_migration
_rollback_live_migration will attempt to delete the source host volume
attachments referenced by the bdm before updating the bdms with the now
non-existent attachment ids, leaving the volumes in an `available` state
in Cinder as they have no attachment records associated with them
anymore.

This change aims to resolve this within _rollback_volume_bdms by
ensuring that the current and original attachment_ids are not equal
before requesting that the current attachment referenced by the bdm is
deleted. When called after a failure in pre_live_migration this should
result in no attempt being made to remove the original source host
attachments from Cinder.

Note that the following changes muddy the waters slightly here but
introduced no actual changes to the logic within
_rollback_live_migration:

* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error
  handling in Rocky but isn't the source of the issue here.

* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked
  _rollback_live_migration to use the provided source_bdms.

* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored
  _rollback_live_migration, moving the logic into a self contained
  _rollback_volume_bdms method.

Closes-Bug: #1889108
Change-Id: I9edb36c4df1cc0d8b529e669f06540de71766085
(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)
(cherry picked from commit 034b2fa8fea0e34fed95a2ba728e4387ce4e78de)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/748496/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py']",3,fa707a508220c76dba87a62dd0fc0eac302d859e,bug/1889108," are not removed during the rollback from pre_live_migration failures on the destination. # Assert that the src attachment is still present self.assertIn(src_attachment_id, attachments.keys()) self.assertEqual(1, len(attachments))"," are incorrectly removed during the rollback from pre_live_migration failures on the destination. # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments))",24,8
openstack%2Fneutron~master~I06a8d6af367c806681bd7bfa2d1930e390371dd7,openstack/neutron,master,I06a8d6af367c806681bd7bfa2d1930e390371dd7,[OVN] Gap: Add QoS minimum bandwidth allocation in Placement API,MERGED,2020-09-01 10:23:08.000000000,2020-09-03 01:29:43.000000000,2020-09-03 01:27:12.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-09-01 10:23:08.000000000', 'files': ['doc/source/ovn/gaps.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/40918cdb9bb3ba58c9ffaa5aa2bf26ef530e327b', 'message': '[OVN] Gap: Add QoS minimum bandwidth allocation in Placement API\n\nAdd QoS minimum bandwidth allocation in Placement API to the feature\npartity gap list.\n\nChange-Id: I06a8d6af367c806681bd7bfa2d1930e390371dd7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,749217,40918cdb9bb3ba58c9ffaa5aa2bf26ef530e327b,20,6,1,6773,,,0,"[OVN] Gap: Add QoS minimum bandwidth allocation in Placement API

Add QoS minimum bandwidth allocation in Placement API to the feature
partity gap list.

Change-Id: I06a8d6af367c806681bd7bfa2d1930e390371dd7
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/749217/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ovn/gaps.rst'],1,40918cdb9bb3ba58c9ffaa5aa2bf26ef530e327b,ovn-minbw-gap,* QoS minimum bandwidth allocation in Placement API ML2/OVN integration with the Nova placement API to provide guaranteed minimum bandwidth for ports [8]_. .. [8] https://specs.openstack.org/openstack/neutron-specs/specs/rocky/minimum-bandwidth-allocation-placement-api.html,,6,0
openstack%2Fnova~stable%2Ftrain~I6bc73e8c8f98d9955f33f309beb8a7c56981b553,openstack/nova,stable/train,I6bc73e8c8f98d9955f33f309beb8a7c56981b553,compute: refactor volume bdm rollback error handling,MERGED,2020-08-27 17:32:04.000000000,2020-09-03 01:29:16.000000000,2020-09-03 01:27:08.000000000,"[{'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-27 17:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4569cb9071cdb3a12a65f8e59c51d8053a268463', 'message': 'compute: refactor volume bdm rollback error handling\n\nPreviously any exception while rolling back the connection_info and\nattachment_id of volume bdms would result in the overall attempt to\nrollback a LM failing. This change refactors this specific bdm rollback\nlogic into two self contained methods that ignore by default errors\nwhere possible to allow the LM rollback attempt to continue.\n\nChange-Id: I6bc73e8c8f98d9955f33f309beb8a7c56981b553\n(cherry picked from commit 9524a5a1b5745f6064f88cbfbf5bbfae3a973bef)\n'}, {'number': 2, 'created': '2020-08-27 19:07:47.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/377dc5bda9369e50c0c4a893564fc218b4b31fb1', 'message': 'compute: refactor volume bdm rollback error handling\n\nPreviously any exception while rolling back the connection_info and\nattachment_id of volume bdms would result in the overall attempt to\nrollback a LM failing. This change refactors this specific bdm rollback\nlogic into two self contained methods that ignore by default errors\nwhere possible to allow the LM rollback attempt to continue.\n\nChange-Id: I6bc73e8c8f98d9955f33f309beb8a7c56981b553\n(cherry picked from commit 9524a5a1b5745f6064f88cbfbf5bbfae3a973bef)\n'}]",0,748495,377dc5bda9369e50c0c4a893564fc218b4b31fb1,13,6,2,10135,,,0,"compute: refactor volume bdm rollback error handling

Previously any exception while rolling back the connection_info and
attachment_id of volume bdms would result in the overall attempt to
rollback a LM failing. This change refactors this specific bdm rollback
logic into two self contained methods that ignore by default errors
where possible to allow the LM rollback attempt to continue.

Change-Id: I6bc73e8c8f98d9955f33f309beb8a7c56981b553
(cherry picked from commit 9524a5a1b5745f6064f88cbfbf5bbfae3a973bef)
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/748495/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,4569cb9071cdb3a12a65f8e59c51d8053a268463,bug/1889108," def _remove_remote_volume_connections(self, context, dest, bdms, instance): """"""Rollback remote volume connections on the dest"""""" for bdm in bdms: try: # remove the connection on the destination host # NOTE(lyarwood): This actually calls the cinderv2 # os-terminate_connection API if required. self.compute_rpcapi.remove_volume_connection( context, instance, bdm.volume_id, dest) except Exception: LOG.warning(""Ignoring exception while attempting "" ""to rollback volume connections for "" ""volume %s on host %s."", bdm.volume_id, dest, instance=instance) def _rollback_volume_bdms(self, context, bdms, original_bdms, instance): """"""Rollback the connection_info and attachment_id for each bdm"""""" original_bdms_by_volid = {bdm.volume_id: bdm for bdm in original_bdms if bdm.is_volume} for bdm in bdms: try: original_bdm = original_bdms_by_volid[bdm.volume_id] if bdm.attachment_id and original_bdm.attachment_id: # NOTE(lyarwood): 3.44 cinder api flow. Delete the # attachment used by the bdm and reset it to that of # the original bdm. self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = original_bdm.attachment_id # NOTE(lyarwood): Reset the connection_info to the original bdm.connection_info = original_bdm.connection_info bdm.save() except cinder_exception.ClientException: LOG.warning(""Ignoring cinderclient exception when "" ""attempting to delete attachment %s for volume"" ""%s while rolling back volume bdms."", bdm.attachment_id, bdm.volume_id, instance=instance) except Exception: with excutils.save_and_reraise_exception(): LOG.exception(""Exception while attempting to rollback "" ""BDM for volume %s."", bdm.volume_id, instance=instance) # NOTE(lyarwood): Fetch the current list of BDMs, disconnect any # connected volumes from the dest and delete any volume attachments # used by the destination host before rolling back to the original # still valid source host volume attachments. # TODO(lyarwood): Turn the following into a lookup method within # BlockDeviceMappingList. vol_bdms = [bdm for bdm in bdms if bdm.is_volume] self._remove_remote_volume_connections(context, dest, vol_bdms, instance) self._rollback_volume_bdms(context, vol_bdms, source_bdms, instance)"," source_bdms_by_volid = {bdm.volume_id: bdm for bdm in source_bdms if bdm.is_volume} # NOTE(lyarwood): Fetch the current list of BDMs and delete any volume # attachments used by the destination host before rolling back to the # original and still valid source host volume attachments. for bdm in bdms: if bdm.is_volume: # remove the connection on the destination host # NOTE(lyarwood): This actually calls the cinderv2 # os-terminate_connection API if required. self.compute_rpcapi.remove_volume_connection( context, instance, bdm.volume_id, dest) source_bdm = source_bdms_by_volid[bdm.volume_id] if bdm.attachment_id and source_bdm.attachment_id: # NOTE(lyarwood): 3.44 cinder api flow. Delete the # attachment used by the destination and reset the bdm # attachment_id to the old attachment of the source host. self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = source_bdm.attachment_id # NOTE(lyarwood): Rollback the connection_info stored within # the BDM to that used by the source and not the destination. bdm.connection_info = source_bdm.connection_info bdm.save()",178,27
openstack%2Fsenlin~master~I437f6d022690ab9c6e162aa3ca0e895af3cb13b7,openstack/senlin,master,I437f6d022690ab9c6e162aa3ca0e895af3cb13b7,[WIP] Add new cluster config project_scope,ABANDONED,2020-08-26 05:45:38.000000000,2020-09-03 00:34:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 28691}]","[{'number': 1, 'created': '2020-08-26 05:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/7ea5d0c8e2339e468855eb454a1c7237d42cfa02', 'message': '[DNM] Add new cluster config project_scope\n\nResolve network related items in Nova profiles limited to a project if\ncluster has cluster.project_scope config set to True. By limiting\nnetwork items to a project, a profile is able to reference items that\nhave the same name across multiple projects (e.g. default security group\nin diference projects).\n\nChange-Id: I437f6d022690ab9c6e162aa3ca0e895af3cb13b7\n'}, {'number': 2, 'created': '2020-08-26 05:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/09b5f733ea97614e0040ef382bc7ca85abc70196', 'message': '[WIP] Add new cluster config project_scope\n\nResolve network related items in Nova profiles limited to a project if\ncluster has cluster.project_scope config set to True. By limiting\nnetwork items to a project, a profile is able to reference items that\nhave the same name across multiple projects (e.g. default security group\nin diference projects).\n\nChange-Id: I437f6d022690ab9c6e162aa3ca0e895af3cb13b7\n'}, {'number': 3, 'created': '2020-09-02 00:31:36.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/engine/actions/test_action_base.py', 'senlin/tests/unit/drivers/test_neutron_v2.py', 'senlin/engine/actions/base.py', 'senlin/drivers/os/neutron_v2.py', 'senlin/common/context.py', 'senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/common/utils.py', 'senlin/profiles/base.py', 'senlin/tests/unit/engine/actions/test_cluster_action.py', 'senlin/tests/unit/profiles/test_nova_server_validate.py', 'senlin/tests/unit/objects/test_notification.py', 'senlin/tests/unit/profiles/test_profile_base.py', 'senlin/tests/unit/events/test_message.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/6cdbca90f4c965c5d3124a25a4accc2fa5b1b4e2', 'message': '[WIP] Add new cluster config project_scope\n\nResolve network related items in Nova profiles limited to a project if\ncluster has cluster.project_scope config set to True. By limiting\nnetwork items to a project, a profile is able to reference items that\nhave the same name across multiple projects (e.g. default security group\nin diference projects).\n\nChange-Id: I437f6d022690ab9c6e162aa3ca0e895af3cb13b7\n'}]",0,748105,6cdbca90f4c965c5d3124a25a4accc2fa5b1b4e2,6,2,3,27224,,,0,"[WIP] Add new cluster config project_scope

Resolve network related items in Nova profiles limited to a project if
cluster has cluster.project_scope config set to True. By limiting
network items to a project, a profile is able to reference items that
have the same name across multiple projects (e.g. default security group
in diference projects).

Change-Id: I437f6d022690ab9c6e162aa3ca0e895af3cb13b7
",git fetch https://review.opendev.org/openstack/senlin refs/changes/05/748105/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/engine/actions/test_action_base.py', 'senlin/tests/unit/drivers/test_neutron_v2.py', 'senlin/engine/actions/base.py', 'senlin/drivers/os/neutron_v2.py', 'senlin/common/context.py', 'senlin/engine/actions/cluster_action.py', 'senlin/profiles/base.py', 'senlin/tests/unit/engine/actions/test_cluster_action.py', 'senlin/tests/unit/profiles/test_nova_server_validate.py', 'senlin/tests/unit/objects/test_notification.py', 'senlin/tests/unit/profiles/test_profile_base.py', 'senlin/tests/unit/events/test_message.py']",13,7ea5d0c8e2339e468855eb454a1c7237d42cfa02,profile_project_scope," @mock.patch.object(cluster.Cluster, 'load') def test_notify_cluster_action(self, mock_load, mock_emit): mock_load.return_value = mock.Mock(timeout=1, config=mock.Mock()) 'timeout': 1,"," def test_notify_cluster_action(self, mock_emit): 'timeout': 3600,",70,21
openstack%2Fnova~stable%2Ftrain~Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,openstack/nova,stable/train,Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,Add regression tests for bug #1889108,MERGED,2020-08-27 17:32:04.000000000,2020-09-03 00:24:03.000000000,2020-09-03 00:22:10.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-27 17:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f65ec0e5076b93863cdc83a30f64a09d343deab8', 'message': ""WIP Add regression tests for bug #1889108\n\nWIP as pep8 no longer works on F32 for stable/train /o\\\n\nNOTE(lyarwood): Various changes were required to get this to work on\nstable/train without backporting a considerable number of changes to the\nfunc tests including the following:\n\n- Adding TestVolAttachmentsDuringPreLiveMigration to super() as\n  functional tests run against py27\n- Adding USE_NEUTRON=True\n- Adding api_major_version='v2.1'\n- Adding self.api to self._wait_for_state_change calls\n- Removing the use of _build_server and crafting the server creation\n  request by hand\n- Removing the use of _live_migrate and crafting the live migration\n  request by hand\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)\n(cherry picked from commit 6db72002a65f30ac44b8df0a642b400ea272247e)\n""}, {'number': 2, 'created': '2020-08-27 19:07:47.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a9bb79fc088f4f888373a6ab2c8a70f143aa20d', 'message': ""Add regression tests for bug #1889108\n\nNOTE(lyarwood): Various changes were required to get this to work on\nstable/train without backporting a considerable number of changes to the\nfunc tests including the following:\n\n- Adding TestVolAttachmentsDuringPreLiveMigration to super() as\n  functional tests run against py27\n- Adding USE_NEUTRON=True\n- Adding api_major_version='v2.1'\n- Adding self.api to self._wait_for_state_change calls\n- Removing the use of _build_server and crafting the server creation\n  request by hand\n- Removing the use of _live_migrate and crafting the live migration\n  request by hand\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)\n(cherry picked from commit 6db72002a65f30ac44b8df0a642b400ea272247e)\n""}]",3,748494,6a9bb79fc088f4f888373a6ab2c8a70f143aa20d,10,4,2,10135,,,0,"Add regression tests for bug #1889108

NOTE(lyarwood): Various changes were required to get this to work on
stable/train without backporting a considerable number of changes to the
func tests including the following:

- Adding TestVolAttachmentsDuringPreLiveMigration to super() as
  functional tests run against py27
- Adding USE_NEUTRON=True
- Adding api_major_version='v2.1'
- Adding self.api to self._wait_for_state_change calls
- Removing the use of _build_server and crafting the server creation
  request by hand
- Removing the use of _live_migrate and crafting the live migration
  request by hand

Related-Bug: #1889108
Change-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562
(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)
(cherry picked from commit 6db72002a65f30ac44b8df0a642b400ea272247e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/748494/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1889108.py'],1,f65ec0e5076b93863cdc83a30f64a09d343deab8,bug/1889108,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import test from nova.tests.unit import fake_notifier from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers class TestVolAttachmentsDuringPreLiveMigration( integrated_helpers._IntegratedTestBase, integrated_helpers.InstanceHelperMixin ): """"""Regression test for bug 1889108. This regression test asserts that the original source volume attachments are incorrectly removed during the rollback from pre_live_migration failures on the destination. """""" api_major_version = 'v2.1' microversion = 'latest' ADMIN_API = True USE_NEUTRON = True def setUp(self): super(TestVolAttachmentsDuringPreLiveMigration, self).setUp() self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) def _setup_compute_service(self): self.start_service('compute', host='src', cell=None) self.start_service('compute', host='dest', cell=None) @mock.patch('nova.virt.fake.FakeDriver.pre_live_migration', side_effect=test.TestingException) def test_vol_attachments_during_driver_pre_live_mig_failure( self, mock_plm): """"""Assert that the src attachment is incorrectly removed * Mock pre_live_migration to always fail within the virt driver * Launch a boot from volume instance * Assert that the volume is attached correctly to the instance. * Live migrate the instance to another host invoking the mocked pre_live_migration * Assert that the instance is still on the source host * Assert that both the original source host volume attachment and new destination volume attachment have been removed """""" volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server = { 'name': 'test_bfv_pre_live_migration_failure', 'flavorRef': 1, 'imageRef': '', 'networks': 'none', 'block_device_mapping_v2': [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': volume_id}], } server = self.api.post_server({'server': server}) self._wait_for_state_change(self.api, server, 'ACTIVE') # Fetch the source host for use later server = self.api.get_server(server['id']) src_host = server['OS-EXT-SRV-ATTR:host'] # Assert that the volume is connected to the instance self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Assert that we have an active attachment in the fixture attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(1, len(attachments)) # Fetch the attachment_id for use later once we have migrated src_attachment_id = list(attachments.keys())[0] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of pre_live_migration raising # test.TestingException self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_state_change(self.api, server, 'ACTIVE') self._wait_for_migration_status(server, ['error']) # Assert that we called the fake pre_live_migration method mock_plm.assert_called_once() # Assert that the instance is listed on the source server = self.api.get_server(server['id']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host']) # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments)) ",,113,0
openstack%2Fkeystone~master~I585a0a15f739620d4f3a7a66e9d4cbc69469da8b,openstack/keystone,master,I585a0a15f739620d4f3a7a66e9d4cbc69469da8b,Keystone identity mapping to support project definition as a JSON,NEW,2020-07-21 16:05:50.000000000,2020-09-03 00:13:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-07-21 16:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b6ac8f095cbd2c59abcd422bcc3bcd2617fd42b4', 'message': 'Keystone identity mapping to support project definition as a JSON\n\nThis pull request (PR) depends on https://bugs.launchpad.net/keystone/+bug/1887515,\nwhich is the proposal that enhances the identity mapping schema management.\nTherefore, we first need to get that reviewed and merged.\n\nCurrently, the project assignment via the federated identity mapping is rather static.\nThis happens because of the find/replace mechanism that we have in place there.\nTherefore, if the IdP provider generates an attribute that contains a JSON with project\ndefinitions, we are not able to handle it in Keystone.\n\nThis PR introduces a new property in the federated identity mapping schema called\n`projects_json`. In the schema, this property will accept a JSON string, that\ndefines all of the projects and their specific roles that the user must receive when\nlogin-in to the OpenStack platform. Moreover, when using this extension,\nroles (assigned to projects) are added and removed on the fly.\n\nThe extension is quite straight forward. We created a new ``federation_attribute_mapping_schema_version`` version (1.2).\nThis new version enables the handling of `project_json` in the attribute mapping.\n\nFurthermore, we added code to handle the addition of extra roles for projects and\nremoval of roles that are present in OpenStack, but are not in the IdP data. This\nis a mechanism to make the state of the OpenStack federated user consistent with\nthe Identity provider user attributes.\n\nChange-Id: I585a0a15f739620d4f3a7a66e9d4cbc69469da8b\nImplements: https://bugs.launchpad.net/keystone/+bug/1888412\nCloses-Bug: #1888412\n'}, {'number': 2, 'created': '2020-07-22 12:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/674318cf457b2a0270259d0408984c0409264955', 'message': 'Keystone identity mapping to support project definition as a JSON\n\nThis pull request (PR) depends on https://bugs.launchpad.net/keystone/+bug/1887515,\nwhich is the proposal that enhances the identity mapping schema management.\nTherefore, we first need to get that reviewed and merged.\n\nCurrently, the project assignment via the federated identity mapping is rather static.\nThis happens because of the find/replace mechanism that we have in place there.\nTherefore, if the IdP provider generates an attribute that contains a JSON with project\ndefinitions, we are not able to handle it in Keystone.\n\nThis PR introduces a new property in the federated identity mapping schema called\n`projects_json`. In the schema, this property will accept a JSON string, that\ndefines all of the projects and their specific roles that the user must receive when\nlogin-in to the OpenStack platform. Moreover, when using this extension,\nroles (assigned to projects) are added and removed on the fly.\n\nThe extension is quite straight forward. We created a new ``federation_attribute_mapping_schema_version`` version (1.2).\nThis new version enables the handling of `project_json` in the attribute mapping.\n\nFurthermore, we added code to handle the addition of extra roles for projects and\nremoval of roles that are present in OpenStack, but are not in the IdP data. This\nis a mechanism to make the state of the OpenStack federated user consistent with\nthe Identity provider user attributes.\n\nChange-Id: I585a0a15f739620d4f3a7a66e9d4cbc69469da8b\nImplements: https://bugs.launchpad.net/keystone/+bug/1888412\nCloses-Bug: #1888412\nDepends-On: https://review.opendev.org/#/c/739966/\n'}, {'number': 3, 'created': '2020-07-23 13:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b16fe94ff6e9c1547e63c50b9561ba320fb922bd', 'message': 'Keystone identity mapping to support project definition as a JSON\n\nThis pull request (PR) depends on https://bugs.launchpad.net/keystone/+bug/1887515,\nwhich is the proposal that enhances the identity mapping schema management.\nTherefore, we first need to get that reviewed and merged.\n\nCurrently, the project assignment via the federated identity mapping is rather static.\nThis happens because of the find/replace mechanism that we have in place there.\nTherefore, if the IdP provider generates an attribute that contains a JSON with project\ndefinitions, we are not able to handle it in Keystone.\n\nThis PR introduces a new property in the federated identity mapping schema called\n`projects_json`. In the schema, this property will accept a JSON string, that\ndefines all of the projects and their specific roles that the user must receive when\nlogin-in to the OpenStack platform. Moreover, when using this extension,\nroles (assigned to projects) are added and removed on the fly.\n\nThe extension is quite straight forward. We created a new ``federation_attribute_mapping_schema_version`` version (1.2).\nThis new version enables the handling of `project_json` in the attribute mapping.\n\nFurthermore, we added code to handle the addition of extra roles for projects and\nremoval of roles that are present in OpenStack, but are not in the IdP data. This\nis a mechanism to make the state of the OpenStack federated user consistent with\nthe Identity provider user attributes.\n\nChange-Id: I585a0a15f739620d4f3a7a66e9d4cbc69469da8b\nImplements: https://bugs.launchpad.net/keystone/+bug/1888412\nCloses-Bug: #1888412\nDepends-On: https://review.opendev.org/#/c/739966/\n'}, {'number': 4, 'created': '2020-08-28 22:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/23d8fc30a0711e7e51fe92cb5a4449d9a05a9ea3', 'message': 'Keystone identity mapping to support project definition as a JSON\n\nThis pull request (PR) depends on https://bugs.launchpad.net/keystone/+bug/1887515,\nwhich is the proposal that enhances the identity mapping schema management.\nTherefore, we first need to get that reviewed and merged.\n\nCurrently, the project assignment via the federated identity mapping is rather static.\nThis happens because of the find/replace mechanism that we have in place there.\nTherefore, if the IdP provider generates an attribute that contains a JSON with project\ndefinitions, we are not able to handle it in Keystone.\n\nThis PR introduces a new property in the federated identity mapping schema called\n`projects_json`. In the schema, this property will accept a JSON string, that\ndefines all of the projects and their specific roles that the user must receive when\nlogin-in to the OpenStack platform. Moreover, when using this extension,\nroles (assigned to projects) are added and removed on the fly.\n\nThe extension is quite straight forward. We created a new ``federation_attribute_mapping_schema_version`` version (1.2).\nThis new version enables the handling of `project_json` in the attribute mapping.\n\nFurthermore, we added code to handle the addition of extra roles for projects and\nremoval of roles that are present in OpenStack, but are not in the IdP data. This\nis a mechanism to make the state of the OpenStack federated user consistent with\nthe Identity provider user attributes.\n\nChange-Id: I585a0a15f739620d4f3a7a66e9d4cbc69469da8b\nImplements: https://bugs.launchpad.net/keystone/+bug/1888412\nCloses-Bug: #1888412\nDepends-On: https://review.opendev.org/#/c/739966/\n'}, {'number': 5, 'created': '2020-09-01 10:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c5ceaf3aab83fe689009f337d2ef9ec892dec6c2', 'message': 'Keystone identity mapping to support project definition as a JSON\n\nThis pull request (PR) depends on https://bugs.launchpad.net/keystone/+bug/1887515,\nwhich is the proposal that enhances the identity mapping schema management.\nTherefore, we first need to get that reviewed and merged.\n\nCurrently, the project assignment via the federated identity mapping is rather static.\nThis happens because of the find/replace mechanism that we have in place there.\nTherefore, if the IdP provider generates an attribute that contains a JSON with project\ndefinitions, we are not able to handle it in Keystone.\n\nThis PR introduces a new property in the federated identity mapping schema called\n`projects_json`. In the schema, this property will accept a JSON string, that\ndefines all of the projects and their specific roles that the user must receive when\nlogin-in to the OpenStack platform. Moreover, when using this extension,\nroles (assigned to projects) are added and removed on the fly.\n\nThe extension is quite straight forward. We created a new ``federation_attribute_mapping_schema_version`` version (1.2).\nThis new version enables the handling of `project_json` in the attribute mapping.\n\nFurthermore, we added code to handle the addition of extra roles for projects and\nremoval of roles that are present in OpenStack, but are not in the IdP data. This\nis a mechanism to make the state of the OpenStack federated user consistent with\nthe Identity provider user attributes.\n\nChange-Id: I585a0a15f739620d4f3a7a66e9d4cbc69469da8b\nImplements: https://bugs.launchpad.net/keystone/+bug/1888412\nCloses-Bug: #1888412\nDepends-On: https://review.opendev.org/#/c/739966/\n'}, {'number': 6, 'created': '2020-09-02 15:57:44.000000000', 'files': ['keystone/federation/utils.py', 'keystone/tests/unit/federation/test_utils.py', 'keystone/auth/plugins/mapped.py', 'keystone/federation/core.py', 'keystone/conf/identity_mapping.py', 'keystone/tests/unit/auth/plugins/test_mapped.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2a23e3afe1285ba1deb904d2c5783a5af8b350c8', 'message': 'Keystone identity mapping to support project definition as a JSON\n\nThis pull request (PR) depends on https://bugs.launchpad.net/keystone/+bug/1887515,\nwhich is the proposal that enhances the identity mapping schema management.\nTherefore, we first need to get that reviewed and merged.\n\nCurrently, the project assignment via the federated identity mapping is rather static.\nThis happens because of the find/replace mechanism that we have in place there.\nTherefore, if the IdP provider generates an attribute that contains a JSON with project\ndefinitions, we are not able to handle it in Keystone.\n\nThis PR introduces a new property in the federated identity mapping schema called\n`projects_json`. In the schema, this property will accept a JSON string, that\ndefines all of the projects and their specific roles that the user must receive when\nlogin-in to the OpenStack platform. Moreover, when using this extension,\nroles (assigned to projects) are added and removed on the fly.\n\nThe extension is quite straight forward. We created a new ``federation_attribute_mapping_schema_version`` version (1.2).\nThis new version enables the handling of `project_json` in the attribute mapping.\n\nFurthermore, we added code to handle the addition of extra roles for projects and\nremoval of roles that are present in OpenStack, but are not in the IdP data. This\nis a mechanism to make the state of the OpenStack federated user consistent with\nthe Identity provider user attributes.\n\nChange-Id: I585a0a15f739620d4f3a7a66e9d4cbc69469da8b\nImplements: https://bugs.launchpad.net/keystone/+bug/1888412\nCloses-Bug: #1888412\nDepends-On: https://review.opendev.org/#/c/739966/\n'}]",0,742235,2a23e3afe1285ba1deb904d2c5783a5af8b350c8,20,2,6,28356,,,0,"Keystone identity mapping to support project definition as a JSON

This pull request (PR) depends on https://bugs.launchpad.net/keystone/+bug/1887515,
which is the proposal that enhances the identity mapping schema management.
Therefore, we first need to get that reviewed and merged.

Currently, the project assignment via the federated identity mapping is rather static.
This happens because of the find/replace mechanism that we have in place there.
Therefore, if the IdP provider generates an attribute that contains a JSON with project
definitions, we are not able to handle it in Keystone.

This PR introduces a new property in the federated identity mapping schema called
`projects_json`. In the schema, this property will accept a JSON string, that
defines all of the projects and their specific roles that the user must receive when
login-in to the OpenStack platform. Moreover, when using this extension,
roles (assigned to projects) are added and removed on the fly.

The extension is quite straight forward. We created a new ``federation_attribute_mapping_schema_version`` version (1.2).
This new version enables the handling of `project_json` in the attribute mapping.

Furthermore, we added code to handle the addition of extra roles for projects and
removal of roles that are present in OpenStack, but are not in the IdP data. This
is a mechanism to make the state of the OpenStack federated user consistent with
the Identity provider user attributes.

Change-Id: I585a0a15f739620d4f3a7a66e9d4cbc69469da8b
Implements: https://bugs.launchpad.net/keystone/+bug/1888412
Closes-Bug: #1888412
Depends-On: https://review.opendev.org/#/c/739966/
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/742235/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/federation/utils.py', 'keystone/tests/unit/federation/test_utils.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/identity_mapping.py', 'keystone/tests/unit/auth/plugins/test_mapped.py']",5,b6ac8f095cbd2c59abcd422bcc3bcd2617fd42b4,bug/1888412," self.admin_role_id = uuid.uuid4().hex self.admin_role_name = ""admin"" self.existing_roles = { self.member_role_name: {'id': self.member_role_id}, self.admin_role_name: {'id': self.admin_role_id}} self.shadow_projects_mock = [self.shadow_project_in_domain_mock] project_mock_1] self.assignment_api_mock.list_role_assignments.side_effect = [[ {""project_id"": project_mock_1['id'], ""role_id"": self.member_role_id}] ] self.shadow_project_in_domain_mock['domain']['id'])]) self.assignment_api_mock.create_grant.assert_has_calls([]) def test_handle_projects_from_mapping_project_exists_add_new_role(self): project_mock_1 = self.create_project_mock_for_shadow_project( self.shadow_project_in_domain_mock) self.resource_api_mock.get_project_by_name.side_effect = [ project_mock_1] self.assignment_api_mock.list_role_assignments.side_effect = [[ {""project_id"": project_mock_1['id'], ""role_id"": self.member_role_id}] ] project = self.shadow_projects_mock[0] project['roles'] = [{'name': self.member_role_name}, {'name': self.admin_role_name}] mapped.handle_projects_from_mapping(self.shadow_projects_mock, self.existing_roles, self.user_mock, self.assignment_api_mock, self.resource_api_mock ) self.resource_api_mock.get_project_by_name.assert_has_calls([ mock.call(self.shadow_project_in_domain_mock['name'], self.shadow_project_in_domain_mock['domain']['id'])]) mock.call(self.admin_role_id, user_id=self.user_mock['id'], project_id=project_mock_1['id'])]) def test_handle_projects_from_mapping_project_exists_remove_role(self): project_mock_1 = self.create_project_mock_for_shadow_project( self.shadow_project_in_domain_mock) self.resource_api_mock.get_project_by_name.side_effect = [ project_mock_1] self.assignment_api_mock.list_role_assignments.side_effect = [[ {""project_id"": project_mock_1['id'], ""role_id"": self.member_role_id}, {""project_id"": project_mock_1['id'], ""role_id"": self.admin_role_id}] ] project = self.shadow_projects_mock[0] project['roles'] = [{'name': self.member_role_name}] mapped.handle_projects_from_mapping(self.shadow_projects_mock, self.existing_roles, self.user_mock, self.assignment_api_mock, self.resource_api_mock ) self.resource_api_mock.get_project_by_name.assert_has_calls([ mock.call(self.shadow_project_in_domain_mock['name'], self.shadow_project_in_domain_mock['domain']['id'])]) self.assignment_api_mock.delete_grant.assert_has_calls([ mock.call(self.admin_role_id, user_id=self.user_mock['id'], project_id=project_mock_1['id'])]) self.assignment_api_mock.list_role_assignments.side_effect = [[]] ProjectNotFound(project_id=project_mock_1['name'])] project_mock_1] self.shadow_project_in_domain_mock['domain']['id'])]) mock.call(expected_project_ref1['id'], expected_project_ref1)]) project_id=project_mock_1['id'])]) project['domain'] = self.domain_mock"," self.existing_roles = { self.member_role_name: {'id': self.member_role_id}} self.shadow_projects_mock = [self.shadow_project_mock, self.shadow_project_in_domain_mock] self.shadow_project_mock) project_mock_2 = self.create_project_mock_for_shadow_project( project_mock_1, project_mock_2] self.idp_domain_uuid_mock, self.shadow_project_in_domain_mock['domain']['id']), mock.call(self.shadow_project_mock['name'], self.idp_domain_uuid_mock)], any_order=True) mock.call(self.member_role_id, user_id=self.user_mock['id'], project_id=project_mock_1['id']), mock.call(self.member_role_id, user_id=self.user_mock['id'], project_id=project_mock_2['id']) ]) self.shadow_project_mock) project_mock_2 = self.create_project_mock_for_shadow_project( ProjectNotFound(project_id=project_mock_1['name']), ProjectNotFound(project_id=project_mock_2['name'])] project_mock_1, project_mock_2] self.idp_domain_uuid_mock, self.shadow_project_in_domain_mock['domain']['id']), mock.call(self.shadow_project_mock['name'], self.idp_domain_uuid_mock)], any_order=True) 'name': self.shadow_project_mock['name'], 'domain_id': self.idp_domain_uuid_mock } expected_project_ref2 = { 'id': ""uuid"", mock.call(expected_project_ref1['id'], expected_project_ref1), mock.call(expected_project_ref2['id'], expected_project_ref2)]) project_id=project_mock_1['id']), mock.call(self.member_role_id, user_id=self.user_mock['id'], project_id=project_mock_2['id']) ])",438,92
openstack%2Fcookbook-openstack-block-storage~master~I0421c776e8de8ebb1ce13fbace97856436ee2489,openstack/cookbook-openstack-block-storage,master,I0421c776e8de8ebb1ce13fbace97856436ee2489,Chef 16 updates,MERGED,2020-08-24 02:44:32.000000000,2020-09-03 00:03:46.000000000,2020-09-03 00:03:46.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 02:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/251187c5fd03ac110f2e0a2b823c6758b18535a7', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747557\nChange-Id: I0421c776e8de8ebb1ce13fbace97856436ee2489\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/d4447800a36c5ea582cf7bba2a97d4d7246be53f', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747557\nChange-Id: I0421c776e8de8ebb1ce13fbace97856436ee2489\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:39:44.000000000', 'files': ['README.rst', 'recipes/cinder-common.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/ad8219b6d16b1d9426072b2f2f9c344239593c27', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747557\nChange-Id: I0421c776e8de8ebb1ce13fbace97856436ee2489\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",2,747606,ad8219b6d16b1d9426072b2f2f9c344239593c27,14,3,3,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747557
Change-Id: I0421c776e8de8ebb1ce13fbace97856436ee2489
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/06/747606/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,251187c5fd03ac110f2e0a2b823c6758b18535a7,chef16,- Chef Workstation 20.8.111 for testing (also includes berkshelf for,- Chef Workstation 0.18.3 for testing (also includes berkshelf for,1,1
openstack%2Fcookbook-openstack-orchestration~master~Ic4ddb3c0f4b840578ee074c1279330db5822bfa3,openstack/cookbook-openstack-orchestration,master,Ic4ddb3c0f4b840578ee074c1279330db5822bfa3,Chef 16 updates,MERGED,2020-08-24 02:43:14.000000000,2020-09-03 00:03:44.000000000,2020-09-03 00:03:44.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 02:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/9913b20758b7ac899de5779346a0e0b737993a88', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ic4ddb3c0f4b840578ee074c1279330db5822bfa3\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/d02ad2cf189ad8cea44bb25b74e499cd158a0296', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ic4ddb3c0f4b840578ee074c1279330db5822bfa3\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:38:04.000000000', 'files': ['README.rst', 'recipes/common.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/d6844783ea58186f115788d9d0c0e022607ce77c', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ic4ddb3c0f4b840578ee074c1279330db5822bfa3\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747605,d6844783ea58186f115788d9d0c0e022607ce77c,12,2,3,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747556
Change-Id: Ic4ddb3c0f4b840578ee074c1279330db5822bfa3
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/05/747605/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'recipes/identity_registration.rb']",2,9913b20758b7ac899de5779346a0e0b737993a88,chef16,openstack_endpoint service_type doopenstack_endpoint 'cloudformation' do,openstack_endpoint service_type do # ~FC005openstack_endpoint 'cloudformation' do # ~FC005,3,3
openstack%2Fcookbook-openstack-bare-metal~master~I7aa471dba4bc1ff7077496824ddf15aee8ca863e,openstack/cookbook-openstack-bare-metal,master,I7aa471dba4bc1ff7077496824ddf15aee8ca863e,Chef 16 updates,MERGED,2020-08-24 02:46:07.000000000,2020-09-03 00:03:43.000000000,2020-09-03 00:03:43.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 02:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/545bdba25f3a75088c770d6fe862ca2322149655', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747557\nDepends-On: https://review.opendev.org/747602\nChange-Id: I7aa471dba4bc1ff7077496824ddf15aee8ca863e\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/ecf849a19e19b55078a25db18c6417d86d56fbb8', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747557\nDepends-On: https://review.opendev.org/747602\nChange-Id: I7aa471dba4bc1ff7077496824ddf15aee8ca863e\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:40:43.000000000', 'files': ['README.rst', 'recipes/ironic-common.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/315e9d77a78e1fd6f1948c814ee3a04b3c34b1c3', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747557\nDepends-On: https://review.opendev.org/747602\nChange-Id: I7aa471dba4bc1ff7077496824ddf15aee8ca863e\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747607,315e9d77a78e1fd6f1948c814ee3a04b3c34b1c3,12,2,3,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747557
Depends-On: https://review.opendev.org/747602
Change-Id: I7aa471dba4bc1ff7077496824ddf15aee8ca863e
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-bare-metal refs/changes/07/747607/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,545bdba25f3a75088c770d6fe862ca2322149655,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-compute~master~I73514e34628dbf61a35f6e0ad19191cdeb2b6451,openstack/cookbook-openstack-compute,master,I73514e34628dbf61a35f6e0ad19191cdeb2b6451,Chef 16 fixes,MERGED,2020-08-24 02:41:27.000000000,2020-09-03 00:03:43.000000000,2020-09-03 00:03:43.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 02:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/02aecc3cb9f986ad0b70c241657d87fc99fe9895', 'message': 'Chef 16 fixes\n\nDepends-On: https://review.opendev.org/747602\nDepends-On: https://review.opendev.org/747557\nChange-Id: I73514e34628dbf61a35f6e0ad19191cdeb2b6451\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/d259b4edd1df8611898a02948599fa7220898161', 'message': 'Chef 16 fixes\n\nDepends-On: https://review.opendev.org/747602\nDepends-On: https://review.opendev.org/747557\nChange-Id: I73514e34628dbf61a35f6e0ad19191cdeb2b6451\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:36:28.000000000', 'files': ['recipes/libvirt.rb', 'recipes/placement_api.rb', 'README.rst', 'recipes/identity_registration.rb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/d645ef3f5e3963672bdb2628cc5953fe7150b0da', 'message': 'Chef 16 fixes\n\nDepends-On: https://review.opendev.org/747602\nDepends-On: https://review.opendev.org/747557\nChange-Id: I73514e34628dbf61a35f6e0ad19191cdeb2b6451\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",7,747603,d645ef3f5e3963672bdb2628cc5953fe7150b0da,15,3,3,21961,,,0,"Chef 16 fixes

Depends-On: https://review.opendev.org/747602
Depends-On: https://review.opendev.org/747557
Change-Id: I73514e34628dbf61a35f6e0ad19191cdeb2b6451
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/03/747603/3 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/libvirt.rb', 'README.rst']",2,02aecc3cb9f986ad0b70c241657d87fc99fe9895,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,3,3
openstack%2Fpuppet-tripleo~master~I6e4eb1d9924471630b24427892350e678ffbca35,openstack/puppet-tripleo,master,I6e4eb1d9924471630b24427892350e678ffbca35,Add unit tests for Zaqar manifests,MERGED,2020-08-30 13:12:19.000000000,2020-09-02 23:59:52.000000000,2020-09-02 23:59:52.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 13:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e98436ff30aadd4e6c033a70677716c174b77545', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 2, 'created': '2020-08-30 13:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/368735ded3e9b90956323cfeae4c936f1bc8029b', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 3, 'created': '2020-08-30 14:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/06e2804a5dd28e28afb8e82f958c91f86c532b8c', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 4, 'created': '2020-08-30 14:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/31b25bee1d683afcc4450af59042e6fca34a6dee', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 5, 'created': '2020-08-30 15:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3d09827e9b0c4d329063184db60cc3b5f72439b9', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 6, 'created': '2020-08-30 17:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/239376aaa288aafcf81291c4728a9407ba26eb0f', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 7, 'created': '2020-08-30 17:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/13b1f44210afd5f86ffeb437d9ec1798d62b3a42', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 8, 'created': '2020-08-30 22:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/66f08a9cc42ba2ea5ecab505daa88d7f0e66a023', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}, {'number': 9, 'created': '2020-08-31 01:58:14.000000000', 'files': ['spec/classes/tripleo_profile_base_zaqar_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_zaqar_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/54080c2dc97464215a627c8ce6c14d39faf3b28b', 'message': 'Add unit tests for Zaqar manifests\n\nChange-Id: I6e4eb1d9924471630b24427892350e678ffbca35\n'}]",0,748854,54080c2dc97464215a627c8ce6c14d39faf3b28b,22,3,9,9816,,,0,"Add unit tests for Zaqar manifests

Change-Id: I6e4eb1d9924471630b24427892350e678ffbca35
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/748854/9 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_zaqar_spec.rb', 'spec/classes/tripleo_profile_base_zaqar_authtoken_spec.rb']",2,e98436ff30aadd4e6c033a70677716c174b77545,zaqar-ut,"# # Copyright (C) 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::zaqar::authtoken' do shared_examples_for 'tripleo::profile::base::zaqar::authtoken' do context 'with step less than 3' do let(:params) { { :step => 1, } } it { is_expected.to contain_class('tripleo::profile::base::zaqar::authtoken') is_expected.to_not contain_class('zaqar::keystone::authtoken') } end context 'with step 3' do let(:params) { { :step => 3, :memcached_ips => '127.0.0.1', } } it { is_expected.to contain_class('tripleo::profile::base::zaqar::authtoken') is_expected.to contain_class('zaqar::keystone::authtoken').with( :memcached_servers => ['127.0.0.1:11211']) } end context 'with step 3 with ipv6' do let(:params) { { :step => 3, :memcached_ips => '::1', } } it { is_expected.to contain_class('tripleo::profile::base::zaqar::authtoken') is_expected.to contain_class('zaqar::keystone::authtoken').with( :memcached_servers => ['[::1]:11211']) } end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'tripleo::profile::base::zaqar::authtoken' end end end ",,233,0
openstack%2Fproject-config~master~Id48fff64d13c258d9f22908debfad86c5f089bf5,openstack/project-config,master,Id48fff64d13c258d9f22908debfad86c5f089bf5,Add nested-virt-ubuntu-focal label,MERGED,2020-07-27 12:55:37.000000000,2020-09-02 23:15:41.000000000,2020-09-02 23:06:56.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 12:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b3a9df0a8dcf4f429e7337a055d5bc29c91b2eeb', 'message': ""Add nested-virt-ubuntu-focal label\n\nUbuntu Focal has a newer libvirt version than Bionic (4.0.0 vs 6.0.0).\nBy adding a Focal-flavored nested-virt label, features made possible\nby a more recent libvirt version can be tested in the gate.\nSpecifically, whitebox-tempest-plugin tests Nova's hw_video_type image\nproperty. Support for the 'none' value was added in libvirt 4.6.0.\n\nChange-Id: Id48fff64d13c258d9f22908debfad86c5f089bf5\n""}, {'number': 2, 'created': '2020-07-27 13:02:58.000000000', 'files': ['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/357e2ef12eb67eed5a2dc2f7ad8e5c2222eae6d5', 'message': ""Add nested-virt-ubuntu-focal label\n\nUbuntu Focal has a newer libvirt version than Bionic (4.0.0 vs 6.0.0).\nBy adding a Focal-flavored nested-virt label, features made possible\nby a more recent libvirt version can be tested in the gate.\nSpecifically, whitebox-tempest-plugin tests Nova's hw_video_type image\nproperty. Support for the 'none' value was added in libvirt 4.6.0.\n\nChange-Id: Id48fff64d13c258d9f22908debfad86c5f089bf5\nNeeded-by: https://review.opendev.org/#/c/742014/\n""}]",0,743217,357e2ef12eb67eed5a2dc2f7ad8e5c2222eae6d5,10,4,2,8864,,,0,"Add nested-virt-ubuntu-focal label

Ubuntu Focal has a newer libvirt version than Bionic (4.0.0 vs 6.0.0).
By adding a Focal-flavored nested-virt label, features made possible
by a more recent libvirt version can be tested in the gate.
Specifically, whitebox-tempest-plugin tests Nova's hw_video_type image
property. Support for the 'none' value was added in libvirt 4.6.0.

Change-Id: Id48fff64d13c258d9f22908debfad86c5f089bf5
Needed-by: https://review.opendev.org/#/c/742014/
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/743217/2 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml']",3,b3a9df0a8dcf4f429e7337a055d5bc29c91b2eeb,, - name: nested-virt-ubuntu-focal min-ready: 0 - name: nested-virt-ubuntu-focal min-ram: 8000 flavor-name: 'nodepool.0' diskimage: ubuntu-focal key-name: infra-root-keys-2020-05-13 - name: nested-virt-ubuntu-focal min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: ubuntu-focal key-name: infra-root-keys-2020-05-13,,33,0
openstack%2Fironic-python-agent~master~I304a460f88f3f8ee33cf642355f0e659184db724,openstack/ironic-python-agent,master,I304a460f88f3f8ee33cf642355f0e659184db724,Document in-band deploy steps and add more docs for custom steps,MERGED,2020-08-24 15:42:59.000000000,2020-09-02 22:58:23.000000000,2020-09-02 22:54:43.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 15:42:59.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/contributor/hardware_managers.rst', 'doc/source/admin/hardware_managers.rst', 'doc/source/admin/how_it_works.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ffacb713e598c8e1400d3371f34a635f327108c5', 'message': 'Document in-band deploy steps and add more docs for custom steps\n\nChange-Id: I304a460f88f3f8ee33cf642355f0e659184db724\nStory: #2006963\nTask: #40727\n'}]",0,747753,ffacb713e598c8e1400d3371f34a635f327108c5,7,2,1,10239,,,0,"Document in-band deploy steps and add more docs for custom steps

Change-Id: I304a460f88f3f8ee33cf642355f0e659184db724
Story: #2006963
Task: #40727
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/747753/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/contributor/hardware_managers.rst', 'doc/source/admin/hardware_managers.rst', 'doc/source/admin/how_it_works.rst', 'doc/source/conf.py']",5,ffacb713e598c8e1400d3371f34a635f327108c5,story/2006963," 'ironic-lib',",,154,17
openstack%2Fironic-python-agent~master~I03279ffc9faf387b08f727dee3b8898a69918460,openstack/ironic-python-agent,master,I03279ffc9faf387b08f727dee3b8898a69918460,Refactor and fix documentation,MERGED,2020-08-24 13:12:26.000000000,2020-09-02 22:56:58.000000000,2020-09-02 22:54:41.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 13:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/db3d6596321ee2eefc909d6bba1f15c625026126', 'message': 'documentation: clean up and expand the landing page\n\nCurrently it contains a brief introduction and 3 links. Expand\nthe table of contents to show more subheadings. Clean up the install,\nadmin and contributing docs of unnecessary content.\n\nAlso update URLs throughout the text.\n\nChange-Id: I03279ffc9faf387b08f727dee3b8898a69918460\n'}, {'number': 2, 'created': '2020-08-24 13:27:57.000000000', 'files': ['doc/source/admin/rescue.rst', 'doc/source/admin/index.rst', 'doc/source/contributor/hardware_managers.rst', 'doc/source/contributor/rescue.rst', 'doc/source/index.rst', 'doc/source/install/index.rst', 'doc/source/contributor/index.rst', 'doc/source/admin/how_it_works.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3faf13bbb4eff5d8d3760040ad8e1d92617048f1', 'message': 'Refactor and fix documentation\n\nCurrently the index page contains a brief introduction and 3 links.\nExpand the table of contents to show more subheadings.\n\nClean up the install, admin and contributing docs of unnecessary\nand wrong content and redundant headings.\n\nUpdate URLs throughout the text.\n\nChange-Id: I03279ffc9faf387b08f727dee3b8898a69918460\n'}]",0,747723,3faf13bbb4eff5d8d3760040ad8e1d92617048f1,9,2,2,10239,,,0,"Refactor and fix documentation

Currently the index page contains a brief introduction and 3 links.
Expand the table of contents to show more subheadings.

Clean up the install, admin and contributing docs of unnecessary
and wrong content and redundant headings.

Update URLs throughout the text.

Change-Id: I03279ffc9faf387b08f727dee3b8898a69918460
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/23/747723/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/rescue.rst', 'doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/install/index.rst', 'doc/source/admin/how_it_works.rst', 'doc/source/conf.py']",7,db3d6596321ee2eefc909d6bba1f15c625026126,docs-index,"openstackdocs_projects = [ 'ironic', 'ironic-inspector', ] ",,32,69
openstack%2Fironic-lib~master~I0ab42e082e8003415a1cac857d1c4b2044c5484d,openstack/ironic-lib,master,I0ab42e082e8003415a1cac857d1c4b2044c5484d,Move some generic functions from IPA,MERGED,2020-08-24 08:26:01.000000000,2020-09-02 22:56:36.000000000,2020-09-02 22:54:40.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 08:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a79d42caf0abf96b8fdf020d4188092a1097b4a3', 'message': 'Move some generic functions from IPA\n\nThis change exposes existing or copies from IPA functions that are\npotentially common between ironic, IPA and ironic-lib itself:\n1) utils.try_execute\n2) disk_utils.udev_settle and trigger_device_rescan\n3) capabilities parsing and re-combining\n\nChange-Id: I0ab42e082e8003415a1cac857d1c4b2044c5484d\n'}, {'number': 2, 'created': '2020-08-24 09:12:20.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py', 'ironic_lib/capabilities.py', 'ironic_lib/tests/test_capabilities.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/67de2e90b643feff6757ca4428fe103c5ee951f6', 'message': 'Move some generic functions from IPA\n\nThis change exposes existing or copies from IPA functions that are\npotentially common between ironic, IPA and ironic-lib itself:\n1) utils.try_execute\n2) disk_utils.udev_settle, partprobe and trigger_device_rescan\n3) capabilities parsing and re-combining\n\nChange-Id: I0ab42e082e8003415a1cac857d1c4b2044c5484d\n'}]",0,747641,67de2e90b643feff6757ca4428fe103c5ee951f6,9,3,2,10239,,,0,"Move some generic functions from IPA

This change exposes existing or copies from IPA functions that are
potentially common between ironic, IPA and ironic-lib itself:
1) utils.try_execute
2) disk_utils.udev_settle, partprobe and trigger_device_rescan
3) capabilities parsing and re-combining

Change-Id: I0ab42e082e8003415a1cac857d1c4b2044c5484d
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/41/747641/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py', 'ironic_lib/capabilities.py', 'ironic_lib/tests/test_capabilities.py']",5,a79d42caf0abf96b8fdf020d4188092a1097b4a3,ipa-func,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections from ironic_lib import capabilities from ironic_lib.tests import base class ParseTestCase(base.IronicLibTestCase): def test_none(self): self.assertEqual({}, capabilities.parse(None)) def test_from_dict(self): expected_dict = {""hello"": ""world""} self.assertDictEqual(expected_dict, capabilities.parse(expected_dict)) def test_from_json_string(self): caps = '{""test"": ""world""}' self.assertDictEqual({""test"": ""world""}, capabilities.parse(caps)) def test_from_old_format(self): caps = 'hello:test1,cat:meow' self.assertDictEqual({'hello': 'test1', 'cat': 'meow'}, capabilities.parse(caps)) def test_from_old_format_with_malformed(self): caps = 'hello:test1,badformat' self.assertRaisesRegex(ValueError, 'Malformed capability', capabilities.parse, caps) def test_from_old_format_skip_malformed(self): caps = 'hello:test1,badformat' self.assertDictEqual({'hello': 'test1'}, capabilities.parse(caps, skip_malformed=True)) def test_no_old_format(self): caps = 'hello:test1,cat:meow' self.assertRaisesRegex(ValueError, 'Invalid JSON capabilities', capabilities.parse, caps, compat=False) def test_unexpected_type(self): self.assertRaisesRegex(TypeError, 'Invalid capabilities', capabilities.parse, 42) class CombineTestCase(base.IronicLibTestCase): def test_combine(self): caps = capabilities.combine( collections.OrderedDict([('hello', None), ('cat', 'meow')])) self.assertEqual('hello:None,cat:meow', caps) def test_skip_none(self): caps = capabilities.combine( collections.OrderedDict([('hello', None), ('cat', 'meow')]), skip_none=True) self.assertEqual('cat:meow', caps) class UpdateAndCombineTestCase(base.IronicLibTestCase): def test_from_dict(self): result = capabilities.update_and_combine( {'key1': 'old value', 'key2': 'value2'}, {'key1': 'value1'}) self.assertIn(result, ['key1:value1,key2:value2', 'key2:value2,key1:value1']) def test_from_old_format(self): result = capabilities.update_and_combine( 'key1:old value,key2:value2', {'key1': 'value1'}) self.assertIn(result, ['key1:value1,key2:value2', 'key2:value2,key1:value1']) def test_skip_none(self): result = capabilities.update_and_combine( 'key1:old value,key2:value2', {'key1': None}, skip_none=True) self.assertEqual('key2:value2', result) ",,295,17
openstack%2Fproject-config~master~If806e8d1acacc0ac6f72da6650dc6ccb21b0687c,openstack/project-config,master,If806e8d1acacc0ac6f72da6650dc6ccb21b0687c,Add os_senlin to zuul projects,MERGED,2020-08-28 15:15:21.000000000,2020-09-02 22:49:37.000000000,2020-09-02 22:49:36.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 15:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9a402a8f265e48e4f93e238aecee549dd24b73c6', 'message': 'Add os_senlin to zuul projects\n\nChange-Id: If806e8d1acacc0ac6f72da6650dc6ccb21b0687c\n'}, {'number': 2, 'created': '2020-09-01 14:43:48.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8967f6410d686831953bf579bccdea1feb630aad', 'message': 'Add os_senlin to zuul projects\n\nChange-Id: If806e8d1acacc0ac6f72da6650dc6ccb21b0687c\n'}]",2,748693,8967f6410d686831953bf579bccdea1feb630aad,12,3,2,28619,,,0,"Add os_senlin to zuul projects

Change-Id: If806e8d1acacc0ac6f72da6650dc6ccb21b0687c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/748693/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9a402a8f265e48e4f93e238aecee549dd24b73c6,osa/os_senlin, name: openstack/openstack-ansible-os_senlin release: jobs: - announce-release templates: - official-openstack-repo-jobs - project:,,8,0
openstack%2Fproject-config~master~Id06f5c36ee3688936d73f00520590198461514fc,openstack/project-config,master,Id06f5c36ee3688936d73f00520590198461514fc,Updates Message on PR Close,MERGED,2020-07-21 13:50:26.000000000,2020-09-02 22:49:35.000000000,2020-09-02 22:49:34.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-21 13:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3c3abe83a537bfe08ee6381035b36d1b68c4f10f', 'message': 'Updates Message on PR Close\n\nPoints to contributor guide instead of infra manual and mentions\nthe First Contact SIG.\n\nChange-Id: Id06f5c36ee3688936d73f00520590198461514fc\n'}, {'number': 2, 'created': '2020-08-10 20:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/07f66d60bbd543e039b35bc8b94c90877b54c3b7', 'message': 'Updates Message on PR Close\n\nPoints to contributor guide instead of infra manual and mentions\nthe First Contact SIG.\n\nChange-Id: Id06f5c36ee3688936d73f00520590198461514fc\n'}, {'number': 3, 'created': '2020-09-01 23:44:09.000000000', 'files': ['playbooks/maintain-github-mirror/github_manager.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f493ac98b827121571a887f774c8f024db896739', 'message': 'Updates Message on PR Close\n\nPoints to contributor guide instead of infra manual and mentions\nthe First Contact SIG.\n\nChange-Id: Id06f5c36ee3688936d73f00520590198461514fc\n'}]",4,742194,f493ac98b827121571a887f774c8f024db896739,15,6,3,16708,,,0,"Updates Message on PR Close

Points to contributor guide instead of infra manual and mentions
the First Contact SIG.

Change-Id: Id06f5c36ee3688936d73f00520590198461514fc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/742194/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/maintain-github-mirror/github_manager.py'],1,3c3abe83a537bfe08ee6381035b36d1b68c4f10f,update-pr-close-message," ""https://docs.openstack.org/contributors/code-and-documentation/quick-start.html"" ""\n\nFeel free to reach out to the First Contact SIG on the #openstack-upstream-institute channel "" ""on Freenode IRC in case you need help. You can access the channel through:\n"""," ""https://docs.opendev.org/opendev/infra-manual/latest/gettingstarted.html"" ""\n\nFeel free to reach out on the #openstack-upstream-institute channel "" ""on Freenode IRC in case you need help. You can access it through:\n""",3,3
openstack%2Ftripleo-ansible~master~I321ce7706eb16e6c9498ace67965e951516806a4,openstack/tripleo-ansible,master,I321ce7706eb16e6c9498ace67965e951516806a4,Remove remaining implementations for OpenDaylight,MERGED,2020-08-29 09:14:11.000000000,2020-09-02 22:48:51.000000000,2020-09-02 22:48:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-29 09:14:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_derived_parameters/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_params', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b32133663920815b9cced1cb9b7e50c102fbb034', 'message': 'Remove remaining implementations for OpenDaylight\n\n... because OpenDaylight is no longer supported by TripleO.\n\nChange-Id: I321ce7706eb16e6c9498ace67965e951516806a4\n'}]",0,748803,b32133663920815b9cced1cb9b7e50c102fbb034,18,6,1,9816,,,0,"Remove remaining implementations for OpenDaylight

... because OpenDaylight is no longer supported by TripleO.

Change-Id: I321ce7706eb16e6c9498ace67965e951516806a4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/748803/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_derived_parameters/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_params', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml']",4,b32133663920815b9cced1cb9b7e50c102fbb034,remove-odl,, opendaylight_api_network: ctlplane,2,5
openstack%2Fnetworking-ovn~stable%2Ftrain~I894a277c3e8e325068550f2ffcb7cdba0adf05eb,openstack/networking-ovn,stable/train,I894a277c3e8e325068550f2ffcb7cdba0adf05eb,[OVN] Use the Chassis_Private table for agents healthcheck,MERGED,2020-08-24 12:20:40.000000000,2020-09-02 22:27:16.000000000,2020-09-02 22:23:55.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 12:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7a296e615b8e4311bd8e45c1ba30be35bf4d95d0', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nCloses-Bug: #1892477\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from Neutron 1dddbbfc92b115bfd62e15081134a5cadbc15212)\n\nChange-Id: I894a277c3e8e325068550f2ffcb7cdba0adf05eb\n""}, {'number': 2, 'created': '2020-08-25 15:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e1d8f74a3fcc76e4475806f7000932f086d1f191', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nCloses-Bug: #1892477\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from Neutron 1dddbbfc92b115bfd62e15081134a5cadbc15212)\n\nChange-Id: I894a277c3e8e325068550f2ffcb7cdba0adf05eb\n""}, {'number': 3, 'created': '2020-08-31 10:03:46.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/agent/metadata/agent.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/agent/neutron_agent.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/agent/metadata/ovsdb.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7b4e4c7e9e237889ff345fa88680ce46c06e9d6d', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nCloses-Bug: #1892477\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from Neutron 1dddbbfc92b115bfd62e15081134a5cadbc15212)\n\nChange-Id: I894a277c3e8e325068550f2ffcb7cdba0adf05eb\n""}]",2,747700,7b4e4c7e9e237889ff345fa88680ce46c06e9d6d,18,4,3,6773,,,0,"[OVN] Use the Chassis_Private table for agents healthcheck

The core OVN team has introduced a new table called Chassis_Private to
avoid nb_cfg flooding when checking for the Chassis' status. The OVN
driver does rely on that mechanism for the agent liveness mechanism.

This patch makes use of this new table but it's also backward
compatible.

For more information, check the core OVN changes at:
https://patchwork.ozlabs.org/patch/1254394.

Closes-Bug: #1892477
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from Neutron 1dddbbfc92b115bfd62e15081134a5cadbc15212)

Change-Id: I894a277c3e8e325068550f2ffcb7cdba0adf05eb
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/00/747700/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/agent/metadata/agent.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/agent/neutron_agent.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/agent/metadata/ovsdb.py', 'networking_ovn/tests/unit/fakes.py']",8,7a296e615b8e4311bd8e45c1ba30be35bf4d95d0,, self.is_table_present = mock.Mock() self.is_table_present.return_value = False,,91,49
openstack%2Fnova~master~Ib20abc33756aba07a0d69a329359f65774f835ca,openstack/nova,master,Ib20abc33756aba07a0d69a329359f65774f835ca,trivial: Use constants for libvirt version checks,MERGED,2020-07-14 09:09:14.000000000,2020-09-02 22:26:07.000000000,2020-09-02 16:02:34.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-14 09:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f1bb2742d60ef28fe0eaf922b7d163d12eb8dcd', 'message': 'trivial: Use constants for libvirt version checks\n\nDoing so makes cleaning up after a version bump that bit easier.\n\nChange-Id: Ib20abc33756aba07a0d69a329359f65774f835ca\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-09-01 16:37:05.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0ec6378c42133f52178ae89fcde7084dc6b16eb', 'message': 'trivial: Use constants for libvirt version checks\n\nDoing so makes cleaning up after a version bump that bit easier.\n\nChange-Id: Ib20abc33756aba07a0d69a329359f65774f835ca\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,740921,f0ec6378c42133f52178ae89fcde7084dc6b16eb,45,15,2,15334,,,0,"trivial: Use constants for libvirt version checks

Doing so makes cleaning up after a version bump that bit easier.

Change-Id: Ib20abc33756aba07a0d69a329359f65774f835ca
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/740921/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,4f1bb2742d60ef28fe0eaf922b7d163d12eb8dcd,trivial,"VGPU_RESOURCE_SEMAPHORE = 'vgpu_resources'MIN_LIBVIRT_S390X_CPU_COMPARE = (5, 9, 0) # see https://libvirt.org/formatdomain.html#elementsVideo MIN_LIBVIRT_VIDEO_MODEL_VERSIONS = { fields.VideoModel.NONE: (4, 6, 0), } if ( cpu.arch in (arch.S390X, arch.S390) and not self._host.has_min_version(MIN_LIBVIRT_S390X_CPU_COMPARE) ): MIN_LIBVIRT_S390X_CPU_COMPARE)","VGPU_RESOURCE_SEMAPHORE = ""vgpu_resources"" # see https://libvirt.org/formatdomain.html#elementsVideo MIN_LIBVIRT_VIDEO_MODEL_VERSIONS = { fields.VideoModel.NONE: (4, 6, 0), } min_libvirt_version = (5, 9, 0) if (cpu.arch in (arch.S390X, arch.S390) and not self._host.has_min_version(min_libvirt_version)): min_libvirt_version)",13,11
openstack%2Fnetworking-ovn~stable%2Ftrain~Iebf658f44275fec948e34be439cf86092d2a782b,openstack/networking-ovn,stable/train,Iebf658f44275fec948e34be439cf86092d2a782b,[OVN] OVN driver to adapt to enable_distributed_floating_ip changes,MERGED,2020-07-01 09:30:14.000000000,2020-09-02 22:25:59.000000000,2020-09-02 22:23:53.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 09:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/028b67e8769b207705675175b11c6a50e4b56e5f', 'message': '[OVN] OVN driver to adapt to enable_distributed_floating_ip changes\n\nPrior to this patch, if the [ovn]/enable_distributed_floating_ip\nconfiguration option changed in an existing environment the OVN\ndriver wouldn\'t adapt to it requiring administrators to clear up the\n""external_mac"" column from the NAT table manually for the existing\nfloating ips.\n\nWith this patch, OVN will automatically correct existing NAT entries for\nfloating ips whenever this option changes.\n\nTo make the code simpler when handling the port up/down event this patch\nalways set the logical_port and the neutron:fip_external_mac key in the\nexternal_ids column of the NAT entry when creating the floating ip.\n\nNote that we are not using the maintenance task for this either, we are\nre-using the event that set/unset the ""external_mac"" column for this\nbecause, whenenver the service is restarted (after the configuration is\nchanged, we need to restart for it to take effect) the IDL will\nre-trigger\nthose events.\n\n(cherry-picked from Neutron I6a85fdde2558d781bf2853c5d11c5c964bbab81f)\n\nChange-Id: Iebf658f44275fec948e34be439cf86092d2a782b\nCloses-Bug: #1883559\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-15 09:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a798f240b55581cf698e0b6965fd9ca3c9235c40', 'message': '[OVN] OVN driver to adapt to enable_distributed_floating_ip changes\n\nPrior to this patch, if the [ovn]/enable_distributed_floating_ip\nconfiguration option changed in an existing environment the OVN\ndriver wouldn\'t adapt to it requiring administrators to clear up the\n""external_mac"" column from the NAT table manually for the existing\nfloating ips.\n\nWith this patch, OVN will automatically correct existing NAT entries for\nfloating ips whenever this option changes.\n\nTo make the code simpler when handling the port up/down event this patch\nalways set the logical_port and the neutron:fip_external_mac key in the\nexternal_ids column of the NAT entry when creating the floating ip.\n\nNote that we are not using the maintenance task for this either, we are\nre-using the event that set/unset the ""external_mac"" column for this\nbecause, whenenver the service is restarted (after the configuration is\nchanged, we need to restart for it to take effect) the IDL will\nre-trigger\nthose events.\n\n(cherry-picked from Neutron I6a85fdde2558d781bf2853c5d11c5c964bbab81f)\n\nChange-Id: Iebf658f44275fec948e34be439cf86092d2a782b\nCloses-Bug: #1883559\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-08-25 10:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8401d74e91f9088e58ed81b39c648b678fec533b', 'message': '[OVN] OVN driver to adapt to enable_distributed_floating_ip changes\n\nPrior to this patch, if the [ovn]/enable_distributed_floating_ip\nconfiguration option changed in an existing environment the OVN\ndriver wouldn\'t adapt to it requiring administrators to clear up the\n""external_mac"" column from the NAT table manually for the existing\nfloating ips.\n\nWith this patch, OVN will automatically correct existing NAT entries for\nfloating ips whenever this option changes.\n\nTo make the code simpler when handling the port up/down event this patch\nalways set the logical_port and the neutron:fip_external_mac key in the\nexternal_ids column of the NAT entry when creating the floating ip.\n\nNote that we are not using the maintenance task for this either, we are\nre-using the event that set/unset the ""external_mac"" column for this\nbecause, whenenver the service is restarted (after the configuration is\nchanged, we need to restart for it to take effect) the IDL will\nre-trigger\nthose events.\n\n(cherry-picked from Neutron I6a85fdde2558d781bf2853c5d11c5c964bbab81f)\n\nChange-Id: Iebf658f44275fec948e34be439cf86092d2a782b\nCloses-Bug: #1883559\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-08-25 13:13:22.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b13aa5a9e67eef3faf2db777dbeecb3db313dc0f', 'message': '[OVN] OVN driver to adapt to enable_distributed_floating_ip changes\n\nPrior to this patch, if the [ovn]/enable_distributed_floating_ip\nconfiguration option changed in an existing environment the OVN\ndriver wouldn\'t adapt to it requiring administrators to clear up the\n""external_mac"" column from the NAT table manually for the existing\nfloating ips.\n\nWith this patch, OVN will automatically correct existing NAT entries for\nfloating ips whenever this option changes.\n\nTo make the code simpler when handling the port up/down event this patch\nalways set the logical_port and the neutron:fip_external_mac key in the\nexternal_ids column of the NAT entry when creating the floating ip.\n\nNote that we are not using the maintenance task for this either, we are\nre-using the event that set/unset the ""external_mac"" column for this\nbecause, whenenver the service is restarted (after the configuration is\nchanged, we need to restart for it to take effect) the IDL will\nre-trigger those events.\n\nNOTE ABOUT THIS BACKPORT: Different from the master branch, this patch\nalso sets the ""enable_distributed_floating_ip"" in the\ntest_ovn_db_sync.py module. In the master branch, this was already set\nprior to this patch.\n\n(cherry-picked from Neutron I6a85fdde2558d781bf2853c5d11c5c964bbab81f)\n\nChange-Id: Iebf658f44275fec948e34be439cf86092d2a782b\nCloses-Bug: #1883559\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,738770,b13aa5a9e67eef3faf2db777dbeecb3db313dc0f,31,5,4,6773,,,0,"[OVN] OVN driver to adapt to enable_distributed_floating_ip changes

Prior to this patch, if the [ovn]/enable_distributed_floating_ip
configuration option changed in an existing environment the OVN
driver wouldn't adapt to it requiring administrators to clear up the
""external_mac"" column from the NAT table manually for the existing
floating ips.

With this patch, OVN will automatically correct existing NAT entries for
floating ips whenever this option changes.

To make the code simpler when handling the port up/down event this patch
always set the logical_port and the neutron:fip_external_mac key in the
external_ids column of the NAT entry when creating the floating ip.

Note that we are not using the maintenance task for this either, we are
re-using the event that set/unset the ""external_mac"" column for this
because, whenenver the service is restarted (after the configuration is
changed, we need to restart for it to take effect) the IDL will
re-trigger those events.

NOTE ABOUT THIS BACKPORT: Different from the master branch, this patch
also sets the ""enable_distributed_floating_ip"" in the
test_ovn_db_sync.py module. In the master branch, this was already set
prior to this patch.

(cherry-picked from Neutron I6a85fdde2558d781bf2853c5d11c5c964bbab81f)

Change-Id: Iebf658f44275fec948e34be439cf86092d2a782b
Closes-Bug: #1883559
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/70/738770/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",4,028b67e8769b207705675175b11c6a50e4b56e5f,," self.fake_floating_ip['router_id']), ovn_const.OVN_FIP_EXT_MAC_KEY: 'aa:aa:aa:aa:aa:aa'} logical_port='port_id', self.fake_floating_ip['router_id']), ovn_const.OVN_FIP_EXT_MAC_KEY: 'aa:aa:aa:aa:aa:aa'} logical_port='port_id', self.fake_floating_ip['router_id']), ovn_const.OVN_FIP_EXT_MAC_KEY: 'aa:aa:aa:aa:aa:aa'} logical_port='port_id', self.fake_floating_ip_new['router_id']), ovn_const.OVN_FIP_EXT_MAC_KEY: 'aa:aa:aa:aa:aa:aa'} logical_port='new-port_id', self.fake_floating_ip_new['router_id']), ovn_const.OVN_FIP_EXT_MAC_KEY: 'aa:aa:aa:aa:aa:aa'} logical_port='new-port_id', self.fake_floating_ip_new['router_id']), ovn_const.OVN_FIP_EXT_MAC_KEY: 'aa:aa:aa:aa:aa:aa'} logical_port='foo', self.fake_floating_ip_new['router_id']), ovn_const.OVN_FIP_EXT_MAC_KEY: 'aa:aa:aa:aa:aa:aa'} logical_port='port_id',", self.fake_floating_ip['router_id'])} self.fake_floating_ip['router_id'])} self.fake_floating_ip['router_id'])} self.fake_floating_ip_new['router_id'])} self.fake_floating_ip_new['router_id'])} self.fake_floating_ip_new['router_id'])} self.fake_floating_ip_new['router_id'])},41,33
openstack%2Fopenstack-helm-addons~master~I26795a9f421fbdc84e75501b729da043b898c994,openstack/openstack-helm-addons,master,I26795a9f421fbdc84e75501b729da043b898c994,Fix pod not restarted when issue detected,MERGED,2020-09-02 20:59:35.000000000,2020-09-02 22:21:16.000000000,2020-09-02 22:21:16.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 29585}, {'_account_id': 30495}, {'_account_id': 30515}]","[{'number': 1, 'created': '2020-09-02 20:59:35.000000000', 'files': ['ranger/templates/bin/_health-probe.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b5cbc370781417cda449ba008c747ccf6d9794b9', 'message': 'Fix pod not restarted when issue detected\n\nService pod which fails connection, timed out, or unexpected\nerror during health probing should return with error status.\n\nChange-Id: I26795a9f421fbdc84e75501b729da043b898c994\n'}]",1,749594,b5cbc370781417cda449ba008c747ccf6d9794b9,10,7,1,19391,,,0,"Fix pod not restarted when issue detected

Service pod which fails connection, timed out, or unexpected
error during health probing should return with error status.

Change-Id: I26795a9f421fbdc84e75501b729da043b898c994
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/94/749594/1 && git format-patch -1 --stdout FETCH_HEAD,['ranger/templates/bin/_health-probe.py.tpl'],1,b5cbc370781417cda449ba008c747ccf6d9794b9,, sys.exit(1) sys.exit(1) sys.exit(1),,3,0
openstack%2Ftripleo-heat-templates~master~I20dc57a02a315ca361883b73e4fb1cb98cf438cb,openstack/tripleo-heat-templates,master,I20dc57a02a315ca361883b73e4fb1cb98cf438cb,pcs commands on host: haproxy bundle,MERGED,2020-02-15 21:33:45.000000000,2020-09-02 22:20:45.000000000,2020-09-02 22:20:45.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-15 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7664fc1c06ab6625ba63c9fbdfdc47b5f88dc3c3', 'message': 'WIP pcs commands on host: haproxy bundle\n\nThis should be pretty much it. Tested it and it seems to be fine\nLikely no further TODO\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 2, 'created': '2020-02-18 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a50c5f30f471514c147471f68d9c25fb91cfa6be', 'message': 'WIP pcs commands on host: haproxy bundle\n\nThis should be pretty much it. Tested it and it seems to be fine\nLikely no further TODO\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 3, 'created': '2020-02-19 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32b1fd81a0dc401a2fc1a615afd7c389168f1901', 'message': 'WIP pcs commands on host: haproxy bundle\n\nThis should be pretty much it. Tested it and it seems to be fine\nLikely no further TODO\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 4, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8485b6feceeeb1c8cda4557460872e55428d7eb7', 'message': 'WIP pcs commands on host: haproxy bundle\n\nThis should be pretty much it. Tested it and it seems to be fine\nLikely no further TODO\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 5, 'created': '2020-04-22 07:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d04c775564d5305849d91e4af35a8716eee54af', 'message': 'WIP pcs commands on host: haproxy bundle\n\nThis should be pretty much it. Tested it and it seems to be fine\nLikely no further TODO\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 6, 'created': '2020-04-22 14:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a86ddb74a7a6fb48de2499a9a7f4df47940e0d1', 'message': 'WIP pcs commands on host: haproxy bundle\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 7, 'created': '2020-04-22 19:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34412665677f6633479f573f3581c4fdc6448cf0', 'message': 'WIP pcs commands on host: haproxy bundle\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 8, 'created': '2020-04-30 09:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/907f7e68d03bb70e5a7f0a5ad59a415a33559c73', 'message': 'WIP pcs commands on host: haproxy bundle\n\nRelated-Bug: #1863442\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 9, 'created': '2020-05-01 10:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bf846b24ee44c9db450f64205d1f31ad97d753f', 'message': 'WIP pcs commands on host: haproxy bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 10, 'created': '2020-05-01 11:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f36f092e67d3218bf5631d699228e5d9a31f506', 'message': 'WIP pcs commands on host: haproxy bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 11, 'created': '2020-05-01 12:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d62c0aced0e0f201ec06750c9fde5faf21ae0aa1', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 12, 'created': '2020-05-05 06:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57195e6a13cfc6d71ff1c9f0b122263c48b36c10', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 13, 'created': '2020-05-05 10:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/faaca387240552f48800a620bf4ffbbd0605b1ed', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 14, 'created': '2020-05-05 17:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a905e54e790df58f7bb56d3b5a0b6c2aa9e38177', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 15, 'created': '2020-05-08 06:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/157460d9577f1d123bc8a85e52bcd58ddb8a4c0d', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 16, 'created': '2020-05-10 16:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9ca270e7efb0fab6e1ed5db9056ee5259edc300', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 17, 'created': '2020-05-15 08:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c12da01478c33d0253a011d43ec1588a8d64709d', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 18, 'created': '2020-05-15 08:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c4f31930d40795eb4eb04c361b202320483038f', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 19, 'created': '2020-05-18 09:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b70b1565c4192db41dc37c9fb2fbddca1198ad42', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 20, 'created': '2020-05-19 11:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88a2fe8dd80a7389c0dd20acf55ea5045c5760d1', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 21, 'created': '2020-05-19 18:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5baf9756e2d593d1999f7e852c1d9934c17cf5e8', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 22, 'created': '2020-05-19 20:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83a40964b44ad23ac58086d6a47b8578bad02dd5', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 23, 'created': '2020-05-20 10:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79c668c7dd4f109fea8db85ffe772057bd3347b5', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 24, 'created': '2020-05-20 13:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99f03d4e71a780ef0ba3b12b955b556ebff0b672', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 25, 'created': '2020-05-21 04:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28937ca168acad4ac1d79fd2a12347d345d1db36', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 26, 'created': '2020-05-25 07:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91d373aa9c3784dee496ec0a4c3365c0109605ed', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 27, 'created': '2020-05-26 20:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ece5539f69391e9184a455562905e04e3d5f59ae', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 28, 'created': '2020-06-15 08:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f449476b4ab3cdd066bd333e586059929b12ad7', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 29, 'created': '2020-06-16 13:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a36ed6c7841842eef300d74a8e66f3789ed551c0', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 30, 'created': '2020-06-22 06:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da28b2101ff155bdce5162201625e1b3082c5f4b', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 31, 'created': '2020-06-29 06:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e524bc7a44e307413c5ea51e902e1d5d23e8283', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 32, 'created': '2020-07-02 06:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb4224f9d4ed39ebf40fe78bcc7792edea95f99f', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 33, 'created': '2020-07-04 07:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ec0d806222d26dd2cf3eaa7129452a9848d70c1', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 34, 'created': '2020-07-13 09:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9eddfcb5b3cdfd79c3691a84cda934576b8781a', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 35, 'created': '2020-07-19 08:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5330a3862d97d077903d894c1e993fb2ab213f7a', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 36, 'created': '2020-08-11 13:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62dd612d10e87c843b1ffd090e589a9c580034db', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 37, 'created': '2020-08-19 12:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/860965b6d3b844cd7dc33c9f1ea167bd9c05226e', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 38, 'created': '2020-08-19 12:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f297834fc20bfe6ed49b3045b17aac3589fa993', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 39, 'created': '2020-08-19 16:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8aecf8af21462fb49c5c1866aa2b2d0dce067fc7', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 40, 'created': '2020-08-25 10:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58ee8bed558b516d36afbf0b779956788c02443d', 'message': 'WIP pcs commands on host: haproxy bundle\n\nWe need remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 41, 'created': '2020-08-25 16:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2108b960c016df0ab89fd8f3c26f7953faeac51a', 'message': 'pcs commands on host: haproxy bundle\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nNB: We had to remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 42, 'created': '2020-08-25 17:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ba25f9034c6ff0bdfc2b9d92090173c2cad3a0c', 'message': 'pcs commands on host: haproxy bundle\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: We had to remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 43, 'created': '2020-08-25 17:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba148952cdb81a802a36ae6dba62d18918482b7d', 'message': 'pcs commands on host: haproxy bundle\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: We had to remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 44, 'created': '2020-08-26 06:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2d0b1c557f44a1365f6d8137e99c4e9a8438195', 'message': 'pcs commands on host: haproxy bundle\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: We had to remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 45, 'created': '2020-08-28 18:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9a8ad4fd71b2cd40e6caab6c9f0397fb6ae0c37', 'message': 'pcs commands on host: haproxy bundle\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: We had to remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}, {'number': 46, 'created': '2020-09-01 17:03:57.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a11622359002597c7f32c6efeda745b8500a34e6', 'message': 'pcs commands on host: haproxy bundle\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: We had to remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n'}]",0,707953,a11622359002597c7f32c6efeda745b8500a34e6,157,5,46,20172,,,0,"pcs commands on host: haproxy bundle

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: We had to remove a few tags that were present befaure because we want
to avoid that puppet checks for /etc/haproxy/haproxy.cfg existence
on the host.

Related-Bug: #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/707953/42 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,7664fc1c06ab6625ba63c9fbdfdc47b5f88dc3c3,pcs_host3," - name: Haproxy init bundle when: step|int == 2 shell: | set +e puppet apply {{ puppet_debug }} --detailed-exitcodes --summarize --color=false \ --modulepath '{{ puppet_modulepath }}' --tags '{{ puppet_tags }}' -e '{{ puppet_execute }}' rc=$? set -e set +ux if [ $rc -eq 2 -o $rc -eq 0 ]; then exit 0 fi exit $rc vars: puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::haproxy_bundle' puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' puppet_modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules puppet_debug: if: - puppet_debug_enabled - '--debug --verbose' - '' - name: Haproxy restart bundle when: step|int == 2 environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh haproxy haproxy-bundle haproxy-bundle Started"," docker_config: step_2: haproxy_init_bundle: start_order: 2 detach: false net: host ipc: host user: root privileged: true command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' - 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::haproxy_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: ContainerHAProxyImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - yaql: expression: $.data.select($+"":""+$+"":ro"") data: *tls_mapping_init_bundle - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} haproxy_restart_bundle: start_order: 3 detach: false net: host ipc: host user: root config_volume: haproxy environment: TRIPLEO_MINOR_UPDATE: '' command: /pacemaker_restart_bundle.sh haproxy haproxy-bundle haproxy-bundle Started image: {get_param: ContainerHAProxyImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/haproxy:/var/lib/kolla/config_files/src:ro",27,49
openstack%2Fironic~master~I588d0888c19304119af607433de6e35199f7c555,openstack/ironic,master,I588d0888c19304119af607433de6e35199f7c555,Explicitely do not allocate initial space for virtual volumes,MERGED,2020-09-01 16:15:57.000000000,2020-09-02 22:16:24.000000000,2020-09-02 18:03:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-01 16:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a3080758344fa98b94fd83b130f2d5aa929b0a85', 'message': '[WIP] Do not allocate initial space for virtual volumes\n\nInitialize virtual volumes with no allocated space to prevent\nconsuming all space available during volume creation.\n\nChange-Id: I588d0888c19304119af607433de6e35199f7c555\n'}, {'number': 2, 'created': '2020-09-02 11:11:02.000000000', 'files': ['devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce39115fa73e7d4f82b6c47a652c130a83cce3f6', 'message': 'Explicitely do not allocate initial space for virtual volumes\n\nInitialize virtual volumes with no allocated initial space to prevent\nconsuming all space available during volume creation.\nThe behavior of virsh has changed, by default in the past the virtual\nvolumes were initialized automatically with no initial allocated space,\nwhile with recent versions we need to specify explicitly to not\nallocate initial space for the virtual volumes.\n\nChange-Id: I588d0888c19304119af607433de6e35199f7c555\n'}]",0,749357,ce39115fa73e7d4f82b6c47a652c130a83cce3f6,17,6,2,23851,,,0,"Explicitely do not allocate initial space for virtual volumes

Initialize virtual volumes with no allocated initial space to prevent
consuming all space available during volume creation.
The behavior of virsh has changed, by default in the past the virtual
volumes were initialized automatically with no initial allocated space,
while with recent versions we need to specify explicitly to not
allocate initial space for the virtual volumes.

Change-Id: I588d0888c19304119af607433de6e35199f7c555
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/749357/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tools/ironic/scripts/create-node.sh'],1,a3080758344fa98b94fd83b130f2d5aa929b0a85,allocate-zero, virsh vol-create-as $LIBVIRT_STORAGE_POOL ${vol_name} ${DISK}G --allocation 0 --format $DISK_FORMAT $PREALLOC >&2, virsh vol-create-as $LIBVIRT_STORAGE_POOL ${vol_name} ${DISK}G --format $DISK_FORMAT $PREALLOC >&2,1,1
openstack%2Ftripleo-heat-templates~master~I853bcf354f64ef88cec9e68ad5c123e4af786de3,openstack/tripleo-heat-templates,master,I853bcf354f64ef88cec9e68ad5c123e4af786de3,pcs commands on host: rabbitmq,MERGED,2020-02-15 21:33:45.000000000,2020-09-02 22:15:06.000000000,2020-09-02 22:15:06.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-15 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/043243ab974b5370481ac4a271c7b102673d1967', 'message': 'WIP pcs commands on host: rabbitmq\n\ntodo : wait, users, policies\n\nRelated-Bug; #1863442\n\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 2, 'created': '2020-02-18 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46cfe9b805cf73b997d3c189d0c60d997d8b9a27', 'message': 'WIP pcs commands on host: rabbitmq\n\nRelated-Bug; #1863442\n\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 3, 'created': '2020-02-19 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a92613e9b7b72b01270df52295743ff8ab7474d', 'message': 'WIP pcs commands on host: rabbitmq\n\nRelated-Bug; #1863442\n\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 4, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/171c08ee180f2b038d33240854b23d61557c1453', 'message': 'WIP pcs commands on host: rabbitmq\n\nRelated-Bug; #1863442\n\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 5, 'created': '2020-05-01 11:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4670d7686c0c71db9678860cb599eb5dc53443ee', 'message': 'WIP pcs commands on host: rabbitmq\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 6, 'created': '2020-05-01 15:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a9eb240bce81debd55dee28e60a6b9c49eadf24', 'message': 'WIP pcs commands on host: rabbitmq\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 7, 'created': '2020-05-01 16:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f22c91ad3fe9e0c9104dec33c383c72be279ec4f', 'message': 'WIP pcs commands on host: rabbitmq\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 8, 'created': '2020-05-05 06:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ee6bf1be7bb001f05886aa84de85c45bb4d219a', 'message': 'WIP pcs commands on host: rabbitmq\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 9, 'created': '2020-05-05 13:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d87b643fedad8541d31f22c34cb88aa787f9b7da', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 10, 'created': '2020-05-08 06:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2cf600f1e6ad6f15a6c1f1f39186d01d8d71c68', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 11, 'created': '2020-05-10 16:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3853bbdae3c7b02369f0c98fe0fb429aa8918200', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 12, 'created': '2020-05-15 08:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/527679b3894f8b8cbd54901dd0895480b20e129b', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 13, 'created': '2020-05-18 09:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f80c0ab948309f8e84966fdee1c43bab4bcb292', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 14, 'created': '2020-05-19 11:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77f2f6d91fb6cda05db18ac1f0d98e29cf07e983', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 15, 'created': '2020-05-19 17:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ed4e619d8c97a677cd291535b8b2b9ea249be50', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 16, 'created': '2020-05-19 20:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cba0037706d88e436853b3510d3fb633201327d', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 17, 'created': '2020-05-20 10:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4d78013167ceebd61206dfcc9b4026713189b49', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 18, 'created': '2020-05-20 13:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7af6312ca076167b3981958cd7a4f699c3e1d19a', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 19, 'created': '2020-05-21 04:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dc1405b33eb94326be1667270512a843e90512d', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 20, 'created': '2020-05-25 07:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ecd3bb71622f9d449279139b21ae6f2681fb7ac', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 21, 'created': '2020-05-26 20:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26adc18a42489d07b4476416e16830c091e4f8d4', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 22, 'created': '2020-06-15 08:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc0ae3a09413e2a88648d0c031b6c30fe792a603', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 23, 'created': '2020-06-16 13:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74622a9a43a6e0a40f01bb0e5ce5e6dfba00555f', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 24, 'created': '2020-06-22 06:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9eddf589dd309ce985e3f5ec0bb28ac0e09f6143', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 25, 'created': '2020-06-29 06:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd7d1764e53e8ec151ae010aa5c48c2d298c74ba', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 26, 'created': '2020-07-02 06:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/091a03c2dc33c74aa40bd0669c00a93111265760', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 27, 'created': '2020-07-04 07:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d806e4752137c18708777b4bafb2e10c1fa7971', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 28, 'created': '2020-07-13 09:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afa5db12fd6f74c578628cd61e476ecef9ecf428', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 29, 'created': '2020-07-19 08:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/211a54d04df7b237af21b6addd110da56ebdf101', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 30, 'created': '2020-08-11 13:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54d420b6b23af8d2f7bbc16c3359d6c4b9cebce2', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 31, 'created': '2020-08-13 12:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c67b998b82297010c18c576101f2365451d6718b', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 32, 'created': '2020-08-19 13:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/704cba607dea2f5af17d4570591b1a5c11a04476', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 33, 'created': '2020-08-25 10:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c42d39ec1d10df762b301d974c0ddffa1a85f6e', 'message': 'WIP pcs commands on host: rabbitmq\n\nAlso the init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nTODO: we prolly want to remove those upgrade tasks\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 34, 'created': '2020-08-25 18:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99918fedc37fa5154df2c43564fb49ade6949b5f', 'message': 'pcs commands on host: rabbitmq\n\nThis implements the creation of the rabbitmq bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: The init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 35, 'created': '2020-08-26 06:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3942dfa488d90d04ddcd3b946606afed77ffcba0', 'message': 'pcs commands on host: rabbitmq\n\nThis implements the creation of the rabbitmq bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: The init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 36, 'created': '2020-08-28 18:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5e8c5404ac3e4b14f8645206efed0cd17f00880', 'message': 'pcs commands on host: rabbitmq\n\nThis implements the creation of the rabbitmq bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: The init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}, {'number': 37, 'created': '2020-09-01 17:04:19.000000000', 'files': ['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29bc3de01dc39bb02eb7e7c27cc3661c591143bb', 'message': 'pcs commands on host: rabbitmq\n\nThis implements the creation of the rabbitmq bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: The init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nRelated-Bug; #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n'}]",0,707958,29bc3de01dc39bb02eb7e7c27cc3661c591143bb,132,5,37,20172,,,0,"pcs commands on host: rabbitmq

This implements the creation of the rabbitmq bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: The init_bundle now has become the wait_bundle
as it just waits for rabbitmq to be up and functional

Related-Bug; #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Change-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/707958/20 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,043243ab974b5370481ac4a271c7b102673d1967,pcs_host3," - name: rabbitmq rpc init bundle when: step|int == 2 shell: | set +e puppet apply {{ puppet_debug }} --detailed-exitcodes --summarize --color=false \ --modulepath '{{ puppet_modulepath }}' --tags '{{ puppet_tags }}' -e '{{ puppet_execute }}' rc=$? set -e set +ux if [ $rc -eq 2 -o $rc -eq 0 ]; then exit 0 fi exit $rc vars: puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::rabbitmq_bundle' puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' puppet_modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules puppet_debug: if: - puppet_debug_enabled - '--debug --verbose' - '' - name: rabbitmq rpc restart bundle when: step|int == 2 environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh oslo_messaging_rpc rabbitmq rabbitmq-bundle Started"," step_2: rabbitmq_init_bundle: start_order: 0 detach: false net: host ipc: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation,rabbitmq_policy,rabbitmq_user,rabbitmq_ready' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::rabbitmq_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: ContainerRabbitmqImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - - /bin/true:/bin/epmd - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS KOLLA_BOOTSTRAP: true # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} RABBITMQ_CLUSTER_COOKIE: yaql: expression: $.data.passwords.where($ != '').first() data: passwords: - {get_param: RabbitCookie} - {get_param: [DefaultPasswords, rabbit_cookie]} rabbitmq_restart_bundle: start_order: 1 config_volume: rabbitmq detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /pacemaker_restart_bundle.sh oslo_messaging_rpc rabbitmq rabbitmq-bundle Started image: {get_param: ContainerRabbitmqImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/rabbitmq:/var/lib/kolla/config_files/src:ro",81,153
openstack%2Ftripleo-heat-templates~master~Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370,openstack/tripleo-heat-templates,master,Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370,pcs commands on host: mysql,MERGED,2020-02-15 21:33:45.000000000,2020-09-02 22:02:40.000000000,2020-09-02 22:02:40.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-15 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6fe7be14894658f8d6e9ae70545a4360bcaaf72', 'message': 'WIP pcs commands on host: mysql\n\nThis needs to have the galera-ready stuff reimplemented and make sure we\ncan add users etc.\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 2, 'created': '2020-02-18 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a85be91c55f298081bee60026c83efd66187bdd', 'message': 'WIP pcs commands on host: mysql\n\nTested seems to be okayish\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 3, 'created': '2020-02-19 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/532864b4dc056ef45cb2ee886f371ef4082c5e01', 'message': 'WIP pcs commands on host: mysql\n\nTested seems to be okayish\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 4, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/948f6ee96fd9369b1759033b0c34f6599956d63d', 'message': 'WIP pcs commands on host: mysql\n\nTested seems to be okayish\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 5, 'created': '2020-05-01 11:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdc8e12314650940d1e495b0da6afba47ff2f982', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 6, 'created': '2020-05-05 06:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f4d1bbabc129820c55866a674bcea89adaed829', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 7, 'created': '2020-05-05 08:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b88a262cf43aa51a95bcff5791c835964af17123', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 8, 'created': '2020-05-05 10:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d92405a3a7b36085ebbe82403238a1a6760b667', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 9, 'created': '2020-05-05 13:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ec337d9eaa079b41cc51321e694d75492b079de', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 10, 'created': '2020-05-08 06:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fa87f31450b4b022ec089c4bb9f3c9105f10f1b', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 11, 'created': '2020-05-10 16:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfb2a1706612589da4e14810d76c15fadc08a6c5', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 12, 'created': '2020-05-15 08:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3936c07bca969a6d3828b2eb607c784d7b5ce1f', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 13, 'created': '2020-05-18 09:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfcd228c5a2ccf2c1587993a6f47e09e18b32cab', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 14, 'created': '2020-05-19 11:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e717bcc6774bf2879a8cac619cb61c5ad67b59e8', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 15, 'created': '2020-05-19 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e1d2e8fa84bd0831a9bc00d1521609b31b22687', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 16, 'created': '2020-05-19 20:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e152dd64e85321d114000e0e6e2fdaaec748f910', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 17, 'created': '2020-05-20 10:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93c997313c55666e79fe0620ba5b9e9f7eafb68d', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 18, 'created': '2020-05-20 13:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3f5a7b9dc1f5edaf7aa867c21f65e41a4ebd9c4', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 19, 'created': '2020-05-21 04:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9043ab707d617b785fc5b9dfd557863c4a3ac861', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 20, 'created': '2020-05-25 07:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/500c0b5953c7686e4040fc02f054e1febc22804c', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 21, 'created': '2020-05-26 20:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdc48b449442f0532f701c522e3df7989d32b3ac', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 22, 'created': '2020-06-15 08:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/045d8c3f5c962a1b45a1623164dec30202dee9e6', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 23, 'created': '2020-06-16 13:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2096470f396924d46b05a6340d7ef75d2080fd8', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 24, 'created': '2020-06-22 06:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37eb006ce354cf5b2785964145ce72011d8082b1', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 25, 'created': '2020-06-29 06:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5609126dea591c7ff39defec3ceddf8f7414a4d4', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 26, 'created': '2020-07-02 06:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83d381e1e6a088884eede09f9ee7f1a4aa4492a4', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 27, 'created': '2020-07-04 07:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/671ce121423ecc9bb7997421b2baf5d45a92a03d', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 28, 'created': '2020-07-13 09:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2e5bfac6c2682be705c51c8d1538b1bfd09f08a', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 29, 'created': '2020-07-19 08:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d388995f3b5b53a9a3ffe8007fbe40ffdde6e52a', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 30, 'created': '2020-08-11 13:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc4dfeea1d0a0537abcf1d3ce3b1fb8e8169b950', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 31, 'created': '2020-08-19 12:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11dde6192a848c8a1d3df4abadd3a5d407fa8c67', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 32, 'created': '2020-08-25 10:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52efb9b655655abf23596f015305258391f680d2', 'message': 'WIP pcs commands on host: mysql\n\nNote that in this case we keep the container init_bundle around but just\nuse it to wait for galera to be up and rename it to wait_bundle\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 33, 'created': '2020-08-25 17:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aad9a3f6d58cd21e18fa0065887544c36682eb8b', 'message': 'pcs commands on host: mysql\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nNB: in this case we keep the container init_bundle (renamed to\nwait_bundle) around just use it to wait for galera to be up.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 34, 'created': '2020-08-25 17:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f6d1524798f02d0bda634e5448d958f626a3bfb', 'message': 'pcs commands on host: mysql\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: in this case we keep the container init_bundle (renamed to\nwait_bundle) around just use it to wait for galera to be up.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 35, 'created': '2020-08-25 17:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/828cc04a40854c9affb40a833748cdfc6737ab01', 'message': 'pcs commands on host: mysql\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: in this case we keep the container init_bundle (renamed to\nwait_bundle) around just use it to wait for galera to be up.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 36, 'created': '2020-08-26 06:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df1c1871ecef01f17e475b6cb1dee042c601d408', 'message': 'pcs commands on host: mysql\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: in this case we keep the container init_bundle (renamed to\nwait_bundle) around just use it to wait for galera to be up.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 37, 'created': '2020-08-28 18:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0455d3119384044cb35f2b2443e5b031fb6e1761', 'message': 'pcs commands on host: mysql\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: in this case we keep the container init_bundle (renamed to\nwait_bundle) around just use it to wait for galera to be up.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}, {'number': 38, 'created': '2020-09-01 17:04:06.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da3d5e80562f7aa3d0039d44a2fd0a2f4c093cf4', 'message': 'pcs commands on host: mysql\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: in this case we keep the container init_bundle (renamed to\nwait_bundle) around just use it to wait for galera to be up.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n'}]",0,707955,da3d5e80562f7aa3d0039d44a2fd0a2f4c093cf4,131,5,38,20172,,,0,"pcs commands on host: mysql

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: in this case we keep the container init_bundle (renamed to
wait_bundle) around just use it to wait for galera to be up.

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370
Related-Bug: #1863442
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/707955/17 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,e6fe7be14894658f8d6e9ae70545a4360bcaaf72,pcs_host3," - name: Mysql init bundle when: step|int == 2 shell: | set +e puppet apply {{ puppet_debug }} --detailed-exitcodes --summarize --color=false \ --modulepath '{{ puppet_modulepath }}' --tags '{{ puppet_tags }}' -e '{{ puppet_execute }}' rc=$? set -e set +ux if [ $rc -eq 2 -o $rc -eq 0 ]; then exit 0 fi exit $rc vars: puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::database::mysql_bundle' puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' puppet_modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules puppet_debug: if: - puppet_debug_enabled - '--debug --verbose' - '' - name: Mysql restart bundle when: step|int == 2 environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh mysql galera galera-bundle Master Master"," step_2: mysql_init_bundle: start_order: 0 detach: false net: host ipc: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation,galera_ready,mysql_database,mysql_grant,mysql_user' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::mysql_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: ContainerMysqlImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - - /var/lib/mysql:/var/lib/mysql:rw,z - /var/lib/config-data/puppet-generated/mysql/root:/root:rw - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} mysql_restart_bundle: start_order: 1 config_volume: mysql detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /pacemaker_restart_bundle.sh mysql galera galera-bundle Master image: {get_param: ContainerMysqlImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/mysql:/var/lib/kolla/config_files/src:ro",27,47
openstack%2Fironic-python-agent~master~I76235a6e6ffdf80a0f5476f577b055223cdf1585,openstack/ironic-python-agent,master,I76235a6e6ffdf80a0f5476f577b055223cdf1585,Make WSGI server respect listen_* directives,MERGED,2020-08-28 22:28:26.000000000,2020-09-02 21:56:33.000000000,2020-09-02 18:35:02.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32349}]","[{'number': 1, 'created': '2020-08-28 22:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/66aa9efd8f3b43cf330770897abb2f28dd639aef', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nBug: https://storyboard.openstack.org/#!/story/2008016\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n'}, {'number': 2, 'created': '2020-08-31 14:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f76d9fbbeb6913c02094d33186d2f159bac67c81', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2008016\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n'}, {'number': 3, 'created': '2020-08-31 14:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7335752f4c66a7fcff7a9e58736d1429083c5655', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2008016\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n'}, {'number': 4, 'created': '2020-08-31 14:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6ed0a14ecf83f9b6b4c2e92700de5df580ab39f8', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2008016\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n'}, {'number': 5, 'created': '2020-08-31 14:38:10.000000000', 'files': ['ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7d0ad36ebd350a7162bc3c33bbefd26b9e962a78', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nStory: 2008016\nTask: 40668\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n'}]",6,748767,7d0ad36ebd350a7162bc3c33bbefd26b9e962a78,32,6,5,10342,,,0,"Make WSGI server respect listen_* directives

The listen_port and listen_host directives are intended to allow
deployers of IPA to change the port and host IPA listens on. These
configs have not been obeyed since the migration to the oslo.service
wsgi server.

Story: 2008016
Task: 40668
Change-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/67/748767/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/api/app.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml']",2,66aa9efd8f3b43cf330770897abb2f28dd639aef,story/2008016,"--- fixes: - | Since the Ussuri release, IPA has ignored the listen_host and listen_port directives. This fixes the behavior and restores those configuration values to working status. https://storyboard.openstack.org/#!/story/2008016 ",,11,7
openstack%2Fnova~master~Ib7e52f386df2134aa043dc703b378d0737b1d36d,openstack/nova,master,Ib7e52f386df2134aa043dc703b378d0737b1d36d,Describe '[glance]/enable_rbd_download',MERGED,2020-09-02 06:01:38.000000000,2020-09-02 21:53:14.000000000,2020-09-02 21:43:58.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-09-02 06:01:38.000000000', 'files': ['releasenotes/notes/enable_rbd_download-e60470890518a605.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/3ae215363276bc3f156b739da22d8708f3a2031c', 'message': ""Describe '[glance]/enable_rbd_download'\n\nNew option was introduced for faster download images directly from Ceph\ninstead of using the Glance API.\n\nSee the following blueprint for more details:\n\nhttps://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd\n\nCompared to the blueprint, this new option was added instead of reviving\ndeprecated '[glance]/allowed_direct_url_schemes'.\n\nChange-Id: Ib7e52f386df2134aa043dc703b378d0737b1d36d\n""}]",0,749437,3ae215363276bc3f156b739da22d8708f3a2031c,12,7,1,9963,,,0,"Describe '[glance]/enable_rbd_download'

New option was introduced for faster download images directly from Ceph
instead of using the Glance API.

See the following blueprint for more details:

https://blueprints.launchpad.net/nova/+spec/nova-image-download-via-rbd

Compared to the blueprint, this new option was added instead of reviving
deprecated '[glance]/allowed_direct_url_schemes'.

Change-Id: Ib7e52f386df2134aa043dc703b378d0737b1d36d
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/749437/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/enable_rbd_download-e60470890518a605.yaml'],1,3ae215363276bc3f156b739da22d8708f3a2031c,release-notes,"--- features: - | New ``[glance]/enable_rbd_download`` config option was introduced. The option allows for the configuration of direct downloads of Ceph hosted glance images into the libvirt image cache via rbd when ``[glance]/enable_rbd_download= True`` and ``[glance]/rbd_user``, ``[glance]/rbd_pool``, ``[glance]/rbd_connect_timeout``, ``[glance]/rbd_ceph_conf`` are correctly configured. ",,9,0
openstack%2Fglance~master~Ifa05b30cd8a810c6ae0678eaa1e433c16e0b7b93,openstack/glance,master,Ifa05b30cd8a810c6ae0678eaa1e433c16e0b7b93,Make our ceph job enable thin provisioning,MERGED,2020-08-20 14:27:44.000000000,2020-09-02 21:53:07.000000000,2020-09-02 21:43:09.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 28595}, {'_account_id': 30054}]","[{'number': 1, 'created': '2020-08-20 14:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4827c30e5bc20ce9aefbaaed087bff42680e9f56', 'message': 'Make our ceph job enable thin provisioning\n\nDepends-On: https://review.opendev.org/#/c/744282\nChange-Id: Ifa05b30cd8a810c6ae0678eaa1e433c16e0b7b93\n'}, {'number': 2, 'created': '2020-08-21 13:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/43bcb6e4e11e35caa95a03eed93021b36d1577bf', 'message': 'Make our ceph job enable thin provisioning\n\nDepends-On: https://review.opendev.org/#/c/744282\nChange-Id: Ifa05b30cd8a810c6ae0678eaa1e433c16e0b7b93\n'}, {'number': 3, 'created': '2020-08-24 13:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b5790f7c983e9ef1c899ca16f4fa861dccf16066', 'message': 'Make our ceph job enable thin provisioning\n\nDepends-On: https://review.opendev.org/#/c/744282\nChange-Id: Ifa05b30cd8a810c6ae0678eaa1e433c16e0b7b93\n'}, {'number': 4, 'created': '2020-08-24 15:41:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/b6380424f89e9a67b2be6d1ee7fcfadce7122507', 'message': 'Make our ceph job enable thin provisioning\n\nDepends-On: https://review.opendev.org/#/c/744282\nChange-Id: Ifa05b30cd8a810c6ae0678eaa1e433c16e0b7b93\n'}]",0,747178,b6380424f89e9a67b2be6d1ee7fcfadce7122507,28,6,4,4393,,,0,"Make our ceph job enable thin provisioning

Depends-On: https://review.opendev.org/#/c/744282
Change-Id: Ifa05b30cd8a810c6ae0678eaa1e433c16e0b7b93
",git fetch https://review.opendev.org/openstack/glance refs/changes/78/747178/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4827c30e5bc20ce9aefbaaed087bff42680e9f56,bp/handle-sparse-image,"- job: name: glance-ceph-thin-provisioning parent: devstack-plugin-ceph-tempest-py3 description: | Just like devstack-plugin-ceph-tempest-py3, but with thin provisioning enabled vars: devstack_local_conf: $GLANCE_API_CONF: glance_store: rbd_thin_provisioning = True - glance-ceph-thin-provisioning:", - devstack-plugin-ceph-tempest-py3:,12,1
openstack%2Fhorizon~stable%2Frocky~Icf82fa96f7d90453f78cf564c847682a286ed575,openstack/horizon,stable/rocky,Icf82fa96f7d90453f78cf564c847682a286ed575,Fix horizon-nodejs jobs,MERGED,2020-08-19 17:39:01.000000000,2020-09-02 21:50:19.000000000,2020-09-02 21:50:19.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-19 17:39:01.000000000', 'files': ['playbooks/horizon-nodejs/pre.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8f8ed624082613b7f249e94afab4e50202b22a1d', 'message': ""Fix horizon-nodejs jobs\n\nTox is not anymore pre-installed on the OpenDev CI images.\nThe file package.json needs tox, install it to fix the job.\n\nInstall it via a pre-run playbook so that this is run in addition to all\nof the playbooks of the parent.\n\nNote for the reviewer in stable/stein we run nodejs-4 jobs as runtime.\nI have cherry-pick this change from master which run nodejs-10 job\nbut simliar changes fixes the nodejs-4 jobs So I have added pre-run\nplaybook for nodejs-4 job as well.\n\nNote in stable/rocky: We used nodejs4-jobs from openstack-zuul-jobs\nwhich consumes npm jobs from zuul-jobs. We would like to install tox\nin the 'pre-run' phase in each npm job, so this commit borrows the\nnpm job definitions in stable/stein including the cherry-picked commit.\n\nChange-Id: Icf82fa96f7d90453f78cf564c847682a286ed575\n(cherry picked from commit 7cd0debebe1a300a96f8d0f21626793be0a0bc41)\n(cherry picked from commit 8da0dcd21200cc851e57de4dfa46c3c838c73c3c)\n""}]",3,747003,8f8ed624082613b7f249e94afab4e50202b22a1d,11,7,1,841,,,0,"Fix horizon-nodejs jobs

Tox is not anymore pre-installed on the OpenDev CI images.
The file package.json needs tox, install it to fix the job.

Install it via a pre-run playbook so that this is run in addition to all
of the playbooks of the parent.

Note for the reviewer in stable/stein we run nodejs-4 jobs as runtime.
I have cherry-pick this change from master which run nodejs-10 job
but simliar changes fixes the nodejs-4 jobs So I have added pre-run
playbook for nodejs-4 job as well.

Note in stable/rocky: We used nodejs4-jobs from openstack-zuul-jobs
which consumes npm jobs from zuul-jobs. We would like to install tox
in the 'pre-run' phase in each npm job, so this commit borrows the
npm job definitions in stable/stein including the cherry-picked commit.

Change-Id: Icf82fa96f7d90453f78cf564c847682a286ed575
(cherry picked from commit 7cd0debebe1a300a96f8d0f21626793be0a0bc41)
(cherry picked from commit 8da0dcd21200cc851e57de4dfa46c3c838c73c3c)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/747003/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/horizon-nodejs/pre.yaml', '.zuul.yaml']",2,8f8ed624082613b7f249e94afab4e50202b22a1d,fix-npm-jobs,- job: name: horizon-nodejs4-run-lint parent: nodejs-run-lint description: | Run lint using Node 4 for horizon plugins. vars: node_version: 4 nodeset: ubuntu-xenial pre-run: playbooks/horizon-nodejs/pre.yaml required-projects: openstack/horizon - job: name: horizon-nodejs4-run-test parent: nodejs-run-test-browser description: | Run test using Node 4 for horizon plugins. vars: node_version: 4 nodeset: ubuntu-xenial pre-run: playbooks/horizon-nodejs/pre.yaml required-projects: openstack/horizon - project-template: name: horizon-nodejs4-jobs description: | Run lint and test jobs using Node 4 for horizon plugins. check: jobs: - horizon-nodejs4-run-lint - horizon-nodejs4-run-test gate: jobs: - horizon-nodejs4-run-lint - horizon-nodejs4-run-test - horizon-nodejs4-jobs, - nodejs4-jobs,44,1
openstack%2Fcinder~master~I3cc58b2d74d82ab6b2186e9ea7cfafeb4c3de822,openstack/cinder,master,I3cc58b2d74d82ab6b2186e9ea7cfafeb4c3de822,RBD: remove rbd_keyring_conf option,MERGED,2020-08-21 22:40:41.000000000,2020-09-02 21:50:17.000000000,2020-09-02 21:43:16.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-08-21 22:40:41.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/remove-rbd_keyring_conf-2d54a4de634c255c.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2aef694a87c6c038a50b2562a29aece3d7064f85', 'message': 'RBD: remove rbd_keyring_conf option\n\nThis option was deprecated in the Ussuri release and is now removed.\nSee OSSN-0085 for details.\n\nChange-Id: I3cc58b2d74d82ab6b2186e9ea7cfafeb4c3de822\nImplements: bp rbd-remove-option-causing-ossn-0085\n'}]",0,747494,2aef694a87c6c038a50b2562a29aece3d7064f85,41,28,1,5314,,,0,"RBD: remove rbd_keyring_conf option

This option was deprecated in the Ussuri release and is now removed.
See OSSN-0085 for details.

Change-Id: I3cc58b2d74d82ab6b2186e9ea7cfafeb4c3de822
Implements: bp rbd-remove-option-causing-ossn-0085
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/747494/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/remove-rbd_keyring_conf-2d54a4de634c255c.yaml']",3,2aef694a87c6c038a50b2562a29aece3d7064f85,remove-opt-causing-ossn-0085,"--- upgrade: - | RBD driver: the ``rbd_keyring_conf`` configuration option, which was deprecated in the Ussuri release, has been removed. If it is present in a configuration file, its value will silently be ignored. For more information, see `OSSN-0085 <https://wiki.openstack.org/wiki/OSSN/OSSN-0085>`_: Cinder configuration option can leak secret key from Ceph backend. ",,10,59
openstack%2Fneutron~stable%2Fussuri~I0f3cb6f534072e166610b417059acbe89302473a,openstack/neutron,stable/ussuri,I0f3cb6f534072e166610b417059acbe89302473a,[ovn]: gracefully handle logical switch ports with tag set to None,MERGED,2020-08-21 08:58:57.000000000,2020-09-02 21:50:16.000000000,2020-09-02 21:43:26.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-21 08:58:57.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/423e3907bc3e911f5f728cef668fad1b38dd25d9', 'message': '[ovn]: gracefully handle logical switch ports with tag set to None\n\nAddLSwitchPortCommand takes kwargs as columns and tag is one of them.\nIt is possible that tag is provided with the value None and that is\nnot valid. The proposed change gracefully handles such cases so the\ntransaction is not aborted.\n\nChange-Id: I0f3cb6f534072e166610b417059acbe89302473a\nCloses-Bug: #1888736\n(cherry picked from commit fe440bdd6be190588ec4310ef9630285c0acfec6)\n'}]",0,747365,423e3907bc3e911f5f728cef668fad1b38dd25d9,21,6,1,8655,,,0,"[ovn]: gracefully handle logical switch ports with tag set to None

AddLSwitchPortCommand takes kwargs as columns and tag is one of them.
It is possible that tag is provided with the value None and that is
not valid. The proposed change gracefully handles such cases so the
transaction is not aborted.

Change-Id: I0f3cb6f534072e166610b417059acbe89302473a
Closes-Bug: #1888736
(cherry picked from commit fe440bdd6be190588ec4310ef9630285c0acfec6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/747365/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'],1,423e3907bc3e911f5f728cef668fad1b38dd25d9,," port.tag = self.columns.pop('tag', []) or []",,1,0
openstack%2Fnova~master~I4760b01b695c94fa371b72216d398388cf981d28,openstack/nova,master,I4760b01b695c94fa371b72216d398388cf981d28,"Don't unset Instance.old_flavor, new_flavor until necessary",MERGED,2020-08-05 17:51:08.000000000,2020-09-02 21:50:14.000000000,2020-09-02 21:43:36.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-05 17:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a851ebd45846480e2817741739b955ab493049d2', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresources usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource trackers\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that in the process of being completed. The root\ncause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a variable amount of time to return, before finally dropping the\nmove claim. If the periodic task ran between the clearing of the stashed\nflavor and the return of the virt driver, it would find a migration\nrecord with no stashed flavor and would therefore ignore this record for\naccounting purposes [4]. This results in an incorrect record for the\ncompute node, and an exception when the 'drop_move_claim' attempts to\nfree up the resources that aren't being tracked.\n\nThe solution is pretty simple. Instead of unsetting the old flavor\nrecord from the migration at the start of the various move operations,\ndo it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 2, 'created': '2020-08-06 09:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c55102ea0408143106254eba6fd12063f19e205', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 3, 'created': '2020-08-07 14:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba4bab2e1eff1efb4cd30eea0260e132b70d8c51', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 4, 'created': '2020-08-11 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2a0fc6974fe51bdc2bc8f2e7a3dfb2c582d2bd7', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 5, 'created': '2020-08-19 19:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29d2b5c9591ccccfcd6f694ad72757ce32e13690', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 6, 'created': '2020-08-24 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd44e12cf6dde5b60c07b8c939b5e449d238ff40', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 7, 'created': '2020-08-25 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/312e47d5df9ac7bb781d71552b5a06a2323146f4', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 8, 'created': '2020-09-01 15:20:20.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44376d2e212e0f9405a58dc7fc4d5b38d70ac42e', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I4760b01b695c94fa371b72216d398388cf981d28\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}]",67,744958,44376d2e212e0f9405a58dc7fc4d5b38d70ac42e,132,18,8,15334,,,0,"Don't unset Instance.old_flavor, new_flavor until necessary

Since change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource
tracker's 'drop_move_claim' method has been capable of freeing up
resource usage. However, this relies on accurate resource reporting.
It transpires that there's a race whereby the resource tracker's
'update_available_resource' periodic task can end up not accounting for
usage from migrations that are in the process of being completed. The
root cause is the resource tracker's reliance on the stashed flavor in a
given migration record [1]. Previously, this information was deleted by
the compute manager at the start of the confirm migration operation [2].
The compute manager would then call the virt driver [3], which could
take a not insignificant amount of time to return, before finally
dropping the move claim. If the periodic task ran between the clearing
of the stashed flavor and the return of the virt driver, it would find a
migration record with no stashed flavor and would therefore ignore this
record for accounting purposes [4], resulting in an incorrect record for
the compute node, and an exception when the 'drop_move_claim' attempts
to free up the resources that aren't being tracked.

The solution to this issue is pretty simple. Instead of unsetting the
old flavor record from the migration at the start of the various move
operations, do it afterwards.

[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288
[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315
[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331
[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300

Change-Id: I4760b01b695c94fa371b72216d398388cf981d28
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Partial-Bug: #1879878
Related-Bug: #1834349
Related-Bug: #1818914
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/744958/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",3,a851ebd45846480e2817741739b955ab493049d2,bug/1879878," self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'ACTIVE')"," # FIXME(stephenfin): This should be successful, but it's failing with a # HTTP 500 due to bug #1879878 exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc))",138,124
openstack%2Fglance~master~Ie4a9171f002b42a13c1786268057bdc0ab3804d0,openstack/glance,master,Ie4a9171f002b42a13c1786268057bdc0ab3804d0,Make our import-workflow job also convert images to raw,MERGED,2020-07-21 23:06:05.000000000,2020-09-02 21:49:58.000000000,2020-09-02 21:43:06.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 23:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc0ddba9b5a99bd874f1169150fdbafd5479338c', 'message': 'Make our import-workflow job also convert images to raw\n\nThis enables image conversion on the import-workflow job so that we at\nleast run those code paths somewhere in CI.\n\nChange-Id: Ie4a9171f002b42a13c1786268057bdc0ab3804d0\n'}, {'number': 2, 'created': '2020-08-27 14:31:51.000000000', 'files': ['playbooks/post-check-metadata-injection.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/c023445d051d0411998743df7fbdbefaaad1bd6c', 'message': 'Make our import-workflow job also convert images to raw\n\nThis enables image conversion on the import-workflow job so that we at\nleast run those code paths somewhere in CI.\n\nChange-Id: Ie4a9171f002b42a13c1786268057bdc0ab3804d0\n'}]",0,742309,c023445d051d0411998743df7fbdbefaaad1bd6c,13,4,2,4393,,,0,"Make our import-workflow job also convert images to raw

This enables image conversion on the import-workflow job so that we at
least run those code paths somewhere in CI.

Change-Id: Ie4a9171f002b42a13c1786268057bdc0ab3804d0
",git fetch https://review.opendev.org/openstack/glance refs/changes/09/742309/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/post-check-metadata-injection.yaml', '.zuul.yaml']",2,dc0ddba9b5a99bd874f1169150fdbafd5479338c,glance-import-job," image_import_plugins: ""['inject_image_metadata', 'image_conversion']"" image_conversion: output_format: raw"," image_import_plugins: ""['inject_image_metadata']""",13,4
openstack%2Fneutron~master~I2c30b8130525380234d767a7cb46f9bcca2a0d6b,openstack/neutron,master,I2c30b8130525380234d767a7cb46f9bcca2a0d6b,[OVN] Use the OVN DevStack module,MERGED,2020-06-09 14:47:27.000000000,2020-09-02 21:43:03.000000000,2020-09-02 21:43:03.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-09 14:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c38fcd1f7ed8e1c0c4cbd21d7c1a710f4e8fcd32', 'message': '[OVN] Uses the OVN DevStack module (DO NOT REVIEW)\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-06-10 14:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88634a72750806ac10ad7d3a0e8aa39cb14c9f20', 'message': '[OVN] Uses the OVN DevStack module (DO NOT REVIEW)\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-06-11 08:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15c4a6dd3a64c2d00046b25ffdfe24408f1ccd4b', 'message': '[OVN] Uses the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-07-09 08:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e421ee501c56a247696887f120afe3d1ca8384c3', 'message': '[OVN] Uses the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-07-09 10:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae6383ee8152890b07c033f4098e033f087d6040', 'message': '[OVN] Uses the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-07-09 12:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20064e0b52cfb180ffe13a6c3c9cee619cc0fdea', 'message': '[OVN] Uses the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-07-20 08:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20adc721ac0e5f22d1bd46ac41a1b63bc78eca01', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-07-24 13:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08ad52d123951d4278cb95bc0482955ebbb7527d', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2020-08-12 10:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b360ba4501f2e5b8ae8884021161c6517e96b92', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2020-08-12 15:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e36a5b644e54a4e5e18f42dd2ce2513ba3271cce', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2020-08-13 08:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33435470226b13fa2adf5c94b9b31abc01500e29', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/734621\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2020-08-26 08:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0eb567316b0c94a0dd0f0a3d1c725921721b6f0f', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/748140/\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 13, 'created': '2020-08-26 09:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67e84755684ece594b12980016df1611b97c850b', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/748140/\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 14, 'created': '2020-08-26 09:09:38.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'tools/configure_for_func_testing.sh', 'zuul.d/tempest-singlenode.yaml', 'devstack/plugin.sh', 'roles/configure_functional_tests/tasks/main.yaml', 'tools/migrate_names.txt', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68ec29abf0f47402a71d547bdc932291d26fca28', 'message': '[OVN] Use the OVN DevStack module\n\nThe DevStack module for OVN has now been moved to the DevStack repository,\nthis patch is deletes it from the Neutron repository.\n\nDepends-On: https://review.opendev.org/#/c/748140/\nChange-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,734622,68ec29abf0f47402a71d547bdc932291d26fca28,94,7,14,6773,,,0,"[OVN] Use the OVN DevStack module

The DevStack module for OVN has now been moved to the DevStack repository,
this patch is deletes it from the Neutron repository.

Depends-On: https://review.opendev.org/#/c/748140/
Change-Id: I2c30b8130525380234d767a7cb46f9bcca2a0d6b
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/734622/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'devstack/plugin.sh', 'devstack/lib/ovn_agent']",4,c38fcd1f7ed8e1c0c4cbd21d7c1a710f4e8fcd32,ovn-devstack,,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Global Sources # -------------- # There are some ovs functions OVN depends on that must be sourced from # the ovs neutron plugins. After doing this, the OVN overrides must be # re-sourced. source $TOP_DIR/lib/neutron_plugins/ovs_base source $TOP_DIR/lib/neutron_plugins/openvswitch_agent # Defaults # -------- # Set variables for building OVN from source OVN_REPO=${OVN_REPO:-https://github.com/ovn-org/ovn.git} OVN_REPO_NAME=$(basename ${OVN_REPO} | cut -f1 -d'.') OVN_REPO_NAME=${OVN_REPO_NAME:-ovn} OVN_BRANCH=${OVN_BRANCH:-v20.03.0} # The commit removing OVN bits from the OVS tree, it is the commit that is not # present in OVN tree and is used to distinguish if OVN is part of OVS or not. # https://github.com/openvswitch/ovs/commit/05bf1dbb98b0635a51f75e268ef8aed27601401d OVN_SPLIT_HASH=05bf1dbb98b0635a51f75e268ef8aed27601401d # Set variables for building OVS from source OVS_REPO=${OVS_REPO:-https://github.com/openvswitch/ovs.git} OVS_REPO_NAME=$(basename ${OVS_REPO} | cut -f1 -d'.') OVS_REPO_NAME=${OVS_REPO_NAME:-ovs} OVS_BRANCH=${OVS_BRANCH:-v2.13.0} if is_service_enabled tls-proxy; then OVN_PROTO=ssl else OVN_PROTO=tcp fi # How to connect to ovsdb-server hosting the OVN SB database. OVN_SB_REMOTE=${OVN_SB_REMOTE:-$OVN_PROTO:$SERVICE_HOST:6642} # How to connect to ovsdb-server hosting the OVN NB database OVN_NB_REMOTE=${OVN_NB_REMOTE:-$OVN_PROTO:$SERVICE_HOST:6641} # ml2/config for neutron_sync_mode OVN_NEUTRON_SYNC_MODE=${OVN_NEUTRON_SYNC_MODE:-log} # Configured DNS servers to be used with internal_dns extension, only # if the subnet DNS is not configured. OVN_DNS_SERVERS=${OVN_DNS_SERVERS:-8.8.8.8} # The type of OVN L3 Scheduler to use. The OVN L3 Scheduler determines the # hypervisor/chassis where a routers gateway should be hosted in OVN. The # default OVN L3 scheduler is leastloaded OVN_L3_SCHEDULER=${OVN_L3_SCHEDULER:-leastloaded} # A UUID to uniquely identify this system. If one is not specified, a random # one will be generated. A randomly generated UUID will be saved in a file # 'ovn-uuid' so that the same one will be re-used if you re-run DevStack. OVN_UUID=${OVN_UUID:-} # Whether or not to build the openvswitch kernel module from ovs. This is required # unless the distro kernel includes ovs+conntrack support. OVN_BUILD_MODULES=$(trueorfalse False OVN_BUILD_MODULES) # Whether or not to install the ovs python module from ovs source. This can be # used to test and validate new ovs python features. This should only be used # for development purposes since the ovs python version is controlled by OpenStack # requirements. OVN_INSTALL_OVS_PYTHON_MODULE=$(trueorfalse False OVN_INSTALL_OVS_PYTHON_MODULE) # GENEVE overlay protocol overhead. Defaults to 38 bytes plus the IP version # overhead (20 bytes for IPv4 (default) or 40 bytes for IPv6) which is determined # based on the ML2 overlay_ip_version option. The ML2 framework will use this to # configure the MTU DHCP option. OVN_GENEVE_OVERHEAD=${OVN_GENEVE_OVERHEAD:-38} # The log level of the OVN databases (north and south) OVN_DBS_LOG_LEVEL=${OVN_DBS_LOG_LEVEL:-info} OVN_META_CONF=$NEUTRON_CONF_DIR/neutron_ovn_metadata_agent.ini OVN_META_DATA_HOST=${OVN_META_DATA_HOST:-$(ipv6_unquote $SERVICE_HOST)} # ovsdb-server wants an IPv6 address in the quoted form, [::1] # Initialize un-quoted to handle IPv4, but add them back if version is IPv6 OVSDB_SERVER_LOCAL_HOST=$(ipv6_unquote $SERVICE_LOCAL_HOST) if [[ ""$SERVICE_IP_VERSION"" == 6 ]]; then OVSDB_SERVER_LOCAL_HOST=[$OVSDB_SERVER_LOCAL_HOST] fi OVN_IGMP_SNOOPING_ENABLE=$(trueorfalse False OVN_IGMP_SNOOPING_ENABLE) OVS_PREFIX=/usr/local OVS_SBINDIR=$OVS_PREFIX/sbin OVS_BINDIR=$OVS_PREFIX/bin OVS_RUNDIR=$OVS_PREFIX/var/run/openvswitch OVS_SHAREDIR=$OVS_PREFIX/share/openvswitch OVS_SCRIPTDIR=$OVS_SHAREDIR/scripts OVS_DATADIR=$DATA_DIR/ovs OVN_DATADIR=$DATA_DIR/ovn OVN_SHAREDIR=$OVS_PREFIX/share/ovn OVN_SCRIPTDIR=$OVN_SHAREDIR/scripts OVN_RUNDIR=$OVS_PREFIX/var/run/ovn NEUTRON_OVN_BIN_DIR=$(get_python_exec_prefix) NEUTRON_OVN_METADATA_BINARY=""neutron-ovn-metadata-agent"" STACK_GROUP=""$( id --group --name ""$STACK_USER"" )"" # Libs from source # ---------------- # ovsdbapp used by neutron GITREPO[""ovsdbapp""]=${OVSDBAPP_REPO:-${GIT_BASE}/openstack/ovsdbapp.git} GITBRANCH[""ovsdbapp""]=${OVSDBAPP_BRANCH:-$TARGET_BRANCH} GITDIR[""ovsdbapp""]=$DEST/ovsdbapp # Defaults Overwrite # ------------------ Q_PLUGIN=${Q_PLUGIN:-""ml2""} Q_AGENT=${Q_AGENT:-""""} Q_ML2_PLUGIN_MECHANISM_DRIVERS=${Q_ML2_PLUGIN_MECHANISM_DRIVERS:-ovn,logger} Q_ML2_PLUGIN_TYPE_DRIVERS=${Q_ML2_PLUGIN_TYPE_DRIVERS:-local,flat,vlan,geneve} Q_ML2_TENANT_NETWORK_TYPE=${Q_ML2_TENANT_NETWORK_TYPE:-""geneve""} Q_ML2_PLUGIN_GENEVE_TYPE_OPTIONS=${Q_ML2_PLUGIN_GENEVE_TYPE_OPTIONS:-""vni_ranges=1:65536""} Q_ML2_PLUGIN_EXT_DRIVERS=${Q_ML2_PLUGIN_EXT_DRIVERS:-port_security,dns,qos} ML2_L3_PLUGIN=""ovn-router,trunk"" # Utility Functions # ----------------- function is_kernel_module_loaded { if lsmod | grep $1 >& /dev/null; then return 0 else return 1 fi } function use_new_ovn_repository { if [ ""x$is_new_ovn"" == ""x"" ]; then local ovs_repo_dir=$DEST/$OVS_REPO_NAME if [ ! -d $ovs_repo_dir ]; then clone_repository $OVS_REPO $ovs_repo_dir $OVS_BRANCH fi # Check the split commit exists in the current branch pushd $ovs_repo_dir git log $OVS_BRANCH --pretty=format:""%H"" | grep -q $OVN_SPLIT_HASH is_new_ovn=$? popd fi return $is_new_ovn } # NOTE(rtheis): Function copied from DevStack _neutron_ovs_base_setup_bridge # and _neutron_ovs_base_add_bridge with the call to neutron-ovs-cleanup # removed. The call is not relevant for OVN, as it is specific to the use # of Neutron's OVS agent and hangs when running stack.sh because # neutron-ovs-cleanup uses the OVSDB native interface. function ovn_base_setup_bridge { local bridge=$1 local addbr_cmd=""ovs-vsctl --no-wait -- --may-exist add-br $bridge -- set bridge $bridge protocols=OpenFlow13,OpenFlow15"" if [ ""$OVS_DATAPATH_TYPE"" != ""system"" ] ; then addbr_cmd=""$addbr_cmd -- set Bridge $bridge datapath_type=${OVS_DATAPATH_TYPE}"" fi $addbr_cmd ovs-vsctl --no-wait br-set-external-id $bridge bridge-id $bridge } function _start_process { $SYSTEMCTL daemon-reload $SYSTEMCTL enable $1 $SYSTEMCTL restart $1 } function _run_process { local service=$1 local cmd=""$2"" local stop_cmd=""$3"" local group=$4 local user=${5:-$STACK_USER} local systemd_service=""devstack@$service.service"" local unit_file=""$SYSTEMD_DIR/$systemd_service"" local environment=""OVN_RUNDIR=$OVS_RUNDIR OVN_DBDIR=$OVN_DATADIR OVN_LOGDIR=$LOGDIR OVS_RUNDIR=$OVS_RUNDIR OVS_DBDIR=$OVS_DATADIR OVS_LOGDIR=$LOGDIR"" echo ""Starting $service executed command"": $cmd write_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user"" iniset -sudo $unit_file ""Service"" ""Type"" ""forking"" iniset -sudo $unit_file ""Service"" ""RemainAfterExit"" ""yes"" iniset -sudo $unit_file ""Service"" ""KillMode"" ""mixed"" iniset -sudo $unit_file ""Service"" ""LimitNOFILE"" ""65536"" iniset -sudo $unit_file ""Service"" ""Environment"" ""$environment"" if [ -n ""$stop_cmd"" ]; then iniset -sudo $unit_file ""Service"" ""ExecStop"" ""$stop_cmd"" fi _start_process $systemd_service local testcmd=""test -e $OVS_RUNDIR/$service.pid"" test_with_retry ""$testcmd"" ""$service did not start"" $SERVICE_TIMEOUT 1 sudo ovs-appctl -t $service vlog/set console:off syslog:info file:info } function clone_repository { local repo=$1 local dir=$2 local branch=$3 if [ ! -d $dir ] ; then git_timed clone $repo $dir pushd $dir git checkout $branch popd else # Even though the directory already exists, call git_clone to update it # if needed based on the RECLONE option git_clone $repo $dir $branch fi } function get_ext_gw_interface { # Get ext_gw_interface depending on value of Q_USE_PUBLIC_VETH # This function is copied directly from the devstack neutron-legacy script if [[ ""$Q_USE_PUBLIC_VETH"" == ""True"" ]]; then echo $Q_PUBLIC_VETH_EX else # Disable in-band as we are going to use local port # to communicate with VMs sudo ovs-vsctl set Bridge $PUBLIC_BRIDGE \ other_config:disable-in-band=true echo $PUBLIC_BRIDGE fi } function create_public_bridge { # Create the public bridge that OVN will use # This logic is based on the devstack neutron-legacy _neutron_configure_router_v4 and _v6 local ext_gw_ifc ext_gw_ifc=$(get_ext_gw_interface) ovs-vsctl --may-exist add-br $ext_gw_ifc -- set bridge $ext_gw_ifc protocols=OpenFlow13,OpenFlow15 ovs-vsctl set open . external-ids:ovn-bridge-mappings=$PHYSICAL_NETWORK:$ext_gw_ifc if [ -n ""$FLOATING_RANGE"" ]; then local cidr_len=${FLOATING_RANGE#*/} sudo ip addr add $PUBLIC_NETWORK_GATEWAY/$cidr_len dev $ext_gw_ifc fi # Ensure IPv6 RAs are accepted on the interface with the default route. # This is needed for neutron-based devstack clouds to work in # IPv6-only clouds in the gate. Please do not remove this without # talking to folks in Infra. This fix is based on a devstack fix for # neutron L3 agent: https://review.openstack.org/#/c/359490/. default_route_dev=$(ip route | grep ^default | awk '{print $5}') sudo sysctl -w net.ipv6.conf.$default_route_dev.accept_ra=2 sudo sysctl -w net.ipv6.conf.all.forwarding=1 if [ -n ""$IPV6_PUBLIC_RANGE"" ]; then local ipv6_cidr_len=${IPV6_PUBLIC_RANGE#*/} sudo ip -6 addr add $IPV6_PUBLIC_NETWORK_GATEWAY/$ipv6_cidr_len dev $ext_gw_ifc # NOTE(numans): Commenting the below code for now as this is breaking # the CI after xenial upgrade. # https://bugs.launchpad.net/networking-ovn/+bug/1648670 # sudo ip -6 route replace $FIXED_RANGE_V6 via $IPV6_PUBLIC_NETWORK_GATEWAY dev $ext_gw_ifc fi sudo ip link set $ext_gw_ifc up } function _disable_libvirt_apparmor { if ! sudo aa-status --enabled ; then return 0 fi # NOTE(arosen): This is used as a work around to allow newer versions # of libvirt to work with ovs configured ports. See LP#1466631. # requires the apparmor-utils install_package apparmor-utils # disables apparmor for libvirtd sudo aa-complain /etc/apparmor.d/usr.sbin.libvirtd } # OVN compilation functions # ------------------------- # Fetch the ovs git repository and install packages needed for # the compilation. function _prepare_for_ovs_compilation { local build_modules=$1 clone_repository $OVS_REPO $DEST/$OVS_REPO_NAME $OVS_BRANCH if [[ ""$build_modules"" == ""False"" ]]; then return fi KERNEL_VERSION=`uname -r` if is_fedora ; then # is_fedora covers Fedora, RHEL, CentOS, etc... if [[ ""$os_VENDOR"" == ""Fedora"" ]]; then install_package elfutils-libelf-devel KERNEL_VERSION=`echo $KERNEL_VERSION | cut --delimiter='-' --field 1` elif [[ ${KERNEL_VERSION:0:2} != ""3."" ]]; then # dash is illegal character in rpm version so replace # them with underscore like it is done in the kernel # https://github.com/torvalds/linux/blob/master/scripts/package/mkspec#L25 # but only for latest series of the kernel, not 3.x KERNEL_VERSION=`echo $KERNEL_VERSION | tr - _` fi echo NOTE: if kernel-devel-$KERNEL_VERSION or kernel-headers-$KERNEL_VERSION installation echo failed, please, provide a repository with the package, or yum update / reboot echo your machine to get the latest kernel. install_package kernel-devel-$KERNEL_VERSION install_package kernel-headers-$KERNEL_VERSION elif is_ubuntu ; then install_package linux-headers-$KERNEL_VERSION fi } # Reload the ovs kernel modules function _reload_ovs_kernel_modules { set +e ovs_system=$(sudo ovs-dpctl dump-dps | grep ovs-system) if [ -n ""$ovs_system"" ]; then sudo ovs-dpctl del-dp ovs-system fi set -e sudo modprobe -r vport_geneve sudo modprobe -r openvswitch sudo modprobe openvswitch || (dmesg && die $LINENO ""FAILED TO LOAD openvswitch"") sudo modprobe vport-geneve || (dmesg && echo ""FAILED TO LOAD vport-geneve"") } # Compile openvswitch and its kernel module function _compile_ovs { local build_modules=$1 # Install the dependencies install_package autoconf automake libtool gcc patch make # TODO(flaviof): Would prefer to use pip_install wrapper, but that is not # useable right now because REQUIREMENTS_DIR variable is hard coded in # starckrc sudo pip3 install six _prepare_for_ovs_compilation $build_modules KERNEL_VERSION=$(uname -r) major_version=$(echo ""${KERNEL_VERSION}"" | cut -d '.' -f1) patch_level=$(echo ""${KERNEL_VERSION}"" | cut -d '.' -f2) if [ ""${major_version}"" -gt 5 ] || [ ""${major_version}"" == 5 ] && [ ""${patch_level}"" -gt 5 ]; then echo ""NOTE: KERNEL VERSION is ${KERNEL_VERSION} and OVS doesn't support compiling "" echo ""Kernel module for version higher than 5.5. Skipping module compilation..."" build_modules=""False"" fi pushd $DEST/$OVS_REPO_NAME [ -f configure ] || ./boot.sh if [ ! -f config.status ] || [ configure -nt config.status ] ; then if [[ ""$build_modules"" == ""True"" ]]; then ./configure --with-linux=/lib/modules/$(uname -r)/build else ./configure fi fi make -j$(($(nproc) + 1)) sudo make install if [[ ""$build_modules"" == ""True"" ]]; then sudo make INSTALL_MOD_DIR=kernel/net/openvswitch modules_install if [ $? -eq 0 ]; then _reload_ovs_kernel_modules else echo ""Compiling OVS kernel modules failed"" fi fi popd } # compile_ovn() - Compile OVN from source and load needed modules # Accepts three parameters: # - first optional is False by default and means that # modules are built and installed. # - second optional parameter defines prefix for # ovn compilation # - third optional parameter defines localstatedir for # ovn single machine runtime function compile_ovn { local build_modules=${1:-False} local prefix=$2 local localstatedir=$3 # First, compile OVS _compile_ovs $build_modules if [ -n ""$prefix"" ]; then prefix=""--prefix=$prefix"" fi if [ -n ""$localstatedir"" ]; then localstatedir=""--localstatedir=$localstatedir"" fi clone_repository $OVN_REPO $DEST/$OVN_REPO_NAME $OVN_BRANCH pushd $DEST/$OVN_REPO_NAME if [ ! -f configure ] ; then ./boot.sh fi if [ ! -f config.status ] || [ configure -nt config.status ] ; then ./configure --with-ovs-source=$DEST/$OVS_REPO_NAME $prefix $localstatedir fi make -j$(($(nproc) + 1)) sudo make install popd } # OVN Neutron driver functions # ---------------------------- # OVN service sanity check function ovn_sanity_check { if is_service_enabled q-agt neutron-agt; then die $LINENO ""The q-agt/neutron-agt service must be disabled with OVN."" elif is_service_enabled q-l3 neutron-l3; then die $LINENO ""The q-l3/neutron-l3 service must be disabled with OVN."" elif is_service_enabled q-svc neutron-api && [[ ! $Q_ML2_PLUGIN_MECHANISM_DRIVERS =~ ""ovn"" ]]; then die $LINENO ""OVN needs to be enabled in \$Q_ML2_PLUGIN_MECHANISM_DRIVERS"" elif is_service_enabled q-svc neutron-api && [[ ! $Q_ML2_PLUGIN_TYPE_DRIVERS =~ ""geneve"" ]]; then die $LINENO ""Geneve needs to be enabled in \$Q_ML2_PLUGIN_TYPE_DRIVERS to be used with OVN"" fi } # install_ovn() - Collect source and prepare function install_ovn { echo ""Installing OVN and dependent packages"" # Check the OVN configuration ovn_sanity_check # If OVS is already installed, remove it, because we're about to re-install # it from source. for package in openvswitch openvswitch-switch openvswitch-common; do if is_package_installed $package ; then uninstall_package $package fi done # Install tox, used to generate the config (see devstack/override-defaults) pip_install tox source $NEUTRON_DIR/devstack/lib/ovs remove_ovs_packages sudo rm -f $OVS_RUNDIR/* if use_new_ovn_repository; then compile_ovn $OVN_BUILD_MODULES else compile_ovs $OVN_BUILD_MODULES fi sudo mkdir -p $OVS_RUNDIR sudo chown $(whoami) $OVS_RUNDIR sudo mkdir -p $OVS_PREFIX/var/log/openvswitch sudo chown $(whoami) $OVS_PREFIX/var/log/openvswitch sudo mkdir -p $OVS_PREFIX/var/log/ovn sudo chown $(whoami) $OVS_PREFIX/var/log/ovn # Archive log files and create new local log_archive_dir=$LOGDIR/archive mkdir -p $log_archive_dir for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log; do if [ -f ""$LOGDIR/$logfile"" ] ; then mv ""$LOGDIR/$logfile"" ""$log_archive_dir/$logfile.${CURRENT_LOG_TIME}"" fi done # Install ovsdbapp from source if requested if use_library_from_git ""ovsdbapp""; then git_clone_by_name ""ovsdbapp"" setup_dev_lib ""ovsdbapp"" fi # Install ovs python module from ovs source. if [[ ""$OVN_INSTALL_OVS_PYTHON_MODULE"" == ""True"" ]]; then sudo pip uninstall -y ovs # Clone the OVS repository if it's not yet present clone_repository $OVS_REPO $DEST/$OVS_REPO_NAME $OVS_BRANCH sudo pip install -e $DEST/$OVS_REPO_NAME/python fi } function configure_ovn_plugin { echo ""Configuring Neutron for OVN"" if is_service_enabled q-svc ; then # NOTE(arosen) needed for tempest export NETWORK_API_EXTENSIONS=$($PYTHON -c \ 'from neutron.common.ovn import extensions ;\ print("","".join(extensions.ML2_SUPPORTED_API_EXTENSIONS))') export NETWORK_API_EXTENSIONS=$NETWORK_API_EXTENSIONS,$($PYTHON -c \ 'from neutron.common.ovn import extensions ;\ print("","".join(extensions.ML2_SUPPORTED_API_EXTENSIONS_OVN_L3))') if is_service_enabled q-qos neutron-qos ; then export NETWORK_API_EXTENSIONS=""$NETWORK_API_EXTENSIONS,qos"" fi populate_ml2_config /$Q_PLUGIN_CONF_FILE ml2_type_geneve max_header_size=$OVN_GENEVE_OVERHEAD populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_nb_connection=""$OVN_NB_REMOTE"" populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_sb_connection=""$OVN_SB_REMOTE"" if is_service_enabled tls-proxy; then populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_sb_ca_cert=""$INT_CA_DIR/ca-chain.pem"" populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_sb_certificate=""$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt"" populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_sb_private_key=""$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key"" populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_nb_ca_cert=""$INT_CA_DIR/ca-chain.pem"" populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_nb_certificate=""$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt"" populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_nb_private_key=""$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key"" fi populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn neutron_sync_mode=""$OVN_NEUTRON_SYNC_MODE"" populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_l3_scheduler=""$OVN_L3_SCHEDULER"" populate_ml2_config /$Q_PLUGIN_CONF_FILE securitygroup enable_security_group=""$Q_USE_SECGROUP"" inicomment /$Q_PLUGIN_CONF_FILE securitygroup firewall_driver if is_service_enabled q-ovn-metadata-agent; then populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_metadata_enabled=True else populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn ovn_metadata_enabled=False fi if is_service_enabled q-dns neutron-dns ; then iniset $NEUTRON_CONF DEFAULT dns_domain openstackgate.local populate_ml2_config /$Q_PLUGIN_CONF_FILE ovn dns_servers=""$OVN_DNS_SERVERS"" fi iniset $NEUTRON_CONF ovs igmp_snooping_enable $OVN_IGMP_SNOOPING_ENABLE fi if is_service_enabled q-dhcp neutron-dhcp ; then iniset $NEUTRON_CONF DEFAULT dhcp_agent_notification True else iniset $NEUTRON_CONF DEFAULT dhcp_agent_notification False fi if is_service_enabled n-api-meta ; then if is_service_enabled q-ovn-metadata-agent ; then iniset $NOVA_CONF neutron service_metadata_proxy True fi fi } function configure_ovn { echo ""Configuring OVN"" if [ -z ""$OVN_UUID"" ] ; then if [ -f ./ovn-uuid ] ; then OVN_UUID=$(cat ovn-uuid) else OVN_UUID=$(uuidgen) echo $OVN_UUID > ovn-uuid fi fi # Metadata if is_service_enabled q-ovn-metadata-agent && is_service_enabled ovn-controller; then sudo install -d -o $STACK_USER $NEUTRON_CONF_DIR mkdir -p $NEUTRON_DIR/etc/neutron/plugins/ml2 (cd $NEUTRON_DIR && exec ./tools/generate_config_file_samples.sh) cp $NEUTRON_DIR/etc/neutron_ovn_metadata_agent.ini.sample $OVN_META_CONF configure_root_helper_options $OVN_META_CONF iniset $OVN_META_CONF DEFAULT debug $ENABLE_DEBUG_LOG_LEVEL iniset $OVN_META_CONF DEFAULT nova_metadata_host $OVN_META_DATA_HOST iniset $OVN_META_CONF DEFAULT metadata_workers $API_WORKERS iniset $OVN_META_CONF DEFAULT state_path $NEUTRON_STATE_PATH iniset $OVN_META_CONF ovs ovsdb_connection unix:$OVS_RUNDIR/db.sock iniset $OVN_META_CONF ovn ovn_sb_connection $OVN_SB_REMOTE if is_service_enabled tls-proxy; then iniset $OVN_META_CONF ovn \ ovn_sb_ca_cert $INT_CA_DIR/ca-chain.pem iniset $OVN_META_CONF ovn \ ovn_sb_certificate $INT_CA_DIR/$DEVSTACK_CERT_NAME.crt iniset $OVN_META_CONF ovn \ ovn_sb_private_key $INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key fi fi } function init_ovn { # clean up from previous (possibly aborted) runs # create required data files # Assumption: this is a dedicated test system and there is nothing important # in the ovn, ovn-nb, or ovs databases. We're going to trash them and # create new ones on each devstack run. _disable_libvirt_apparmor mkdir -p $OVN_DATADIR mkdir -p $OVS_DATADIR rm -f $OVS_DATADIR/*.db rm -f $OVS_DATADIR/.*.db.~lock~ rm -f $OVN_DATADIR/*.db rm -f $OVN_DATADIR/.*.db.~lock~ } function _start_ovs { echo ""Starting OVS"" if is_service_enabled ovn-controller ovn-controller-vtep ovn-northd; then # ovsdb-server and ovs-vswitchd are used privately in OVN as openvswitch service names. enable_service ovsdb-server enable_service ovs-vswitchd if [ ! -f $OVS_DATADIR/conf.db ]; then ovsdb-tool create $OVS_DATADIR/conf.db $OVS_SHAREDIR/vswitch.ovsschema fi if is_service_enabled ovn-controller-vtep; then if [ ! -f $OVS_DATADIR/vtep.db ]; then ovsdb-tool create $OVS_DATADIR/vtep.db $OVS_SHAREDIR/vtep.ovsschema fi fi local dbcmd=""$OVS_SBINDIR/ovsdb-server --remote=punix:$OVS_RUNDIR/db.sock --remote=ptcp:6640:$OVSDB_SERVER_LOCAL_HOST --pidfile --detach --log-file"" dbcmd+="" --remote=db:Open_vSwitch,Open_vSwitch,manager_options"" if is_service_enabled ovn-controller-vtep; then dbcmd+="" --remote=db:hardware_vtep,Global,managers $OVS_DATADIR/vtep.db"" fi dbcmd+="" $OVS_DATADIR/conf.db"" _run_process ovsdb-server ""$dbcmd"" echo ""Configuring OVSDB"" if is_service_enabled tls-proxy; then ovs-vsctl --no-wait set-ssl \ $INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key \ $INT_CA_DIR/$DEVSTACK_CERT_NAME.crt \ $INT_CA_DIR/ca-chain.pem fi ovs-vsctl --no-wait set open_vswitch . system-type=""devstack"" ovs-vsctl --no-wait set open_vswitch . external-ids:system-id=""$OVN_UUID"" ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-remote=""$OVN_SB_REMOTE"" ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-bridge=""br-int"" ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-encap-type=""geneve"" ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-encap-ip=""$HOST_IP"" # Select this chassis to host gateway routers if [[ ""$ENABLE_CHASSIS_AS_GW"" == ""True"" ]]; then ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-cms-options=""enable-chassis-as-gw"" fi # Note: ovn-controller will create and configure br-int once it is started. # So, no need to create it now because nothing depends on that bridge here. local ovscmd=""$OVS_SBINDIR/ovs-vswitchd --log-file --pidfile --detach"" _run_process ovs-vswitchd ""$ovscmd"" """" ""$STACK_GROUP"" ""root"" if is_provider_network || [[ $Q_USE_PROVIDERNET_FOR_PUBLIC == ""True"" ]]; then ovn_base_setup_bridge $OVS_PHYSICAL_BRIDGE ovs-vsctl set open . external-ids:ovn-bridge-mappings=${PHYSICAL_NETWORK}:${OVS_PHYSICAL_BRIDGE} fi if is_service_enabled ovn-controller-vtep ; then ovn_base_setup_bridge br-v vtep-ctl add-ps br-v vtep-ctl set Physical_Switch br-v tunnel_ips=$HOST_IP enable_service ovs-vtep local vtepcmd=""$OVS_SCRIPTDIR/ovs-vtep --log-file --pidfile --detach br-v"" _run_process ovs-vtep ""$vtepcmd"" """" ""$STACK_GROUP"" ""root"" vtep-ctl set-manager tcp:$HOST_IP:6640 fi fi cd $_pwd } function _start_ovn_services { _start_process ""devstack@ovsdb-server.service"" _start_process ""devstack@ovs-vswitchd.service"" if is_service_enabled ovs-vtep ; then _start_process ""devstack@ovs-vtep.service"" fi if is_service_enabled ovn-northd ; then _start_process ""devstack@ovn-northd.service"" fi if is_service_enabled ovn-controller ; then _start_process ""devstack@ovn-controller.service"" fi if is_service_enabled ovn-controller-vtep ; then _start_process ""devstack@ovn-controller-vtep.service"" fi if is_service_enabled q-ovn-metadata-agent; then _start_process ""devstack@q-ovn-metadata-agent.service"" fi } # start_ovn() - Start running processes, including screen function start_ovn { echo ""Starting OVN"" _start_ovs local SCRIPTDIR=$OVN_SCRIPTDIR if ! use_new_ovn_repository; then SCRIPTDIR=$OVS_SCRIPTDIR fi if is_service_enabled ovn-northd ; then if is_service_enabled tls-proxy; then local tls_args=""\ --ovn-nb-db-ssl-ca-cert=$INT_CA_DIR/ca-chain.pem \ --ovn-nb-db-ssl-cert=$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt \ --ovn-nb-db-ssl-key=$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key \ --ovn-sb-db-ssl-ca-cert=$INT_CA_DIR/ca-chain.pem \ --ovn-sb-db-ssl-cert=$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt \ --ovn-sb-db-ssl-key=$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key \ "" else local tls_args="""" fi local cmd=""/bin/bash $SCRIPTDIR/ovn-ctl --no-monitor $tls_args start_northd"" local stop_cmd=""/bin/bash $SCRIPTDIR/ovn-ctl stop_northd"" _run_process ovn-northd ""$cmd"" ""$stop_cmd"" ovn-nbctl --db=unix:$OVS_RUNDIR/ovnnb_db.sock set-connection p${OVN_PROTO}:6641:$SERVICE_LISTEN_ADDRESS -- set connection . inactivity_probe=60000 ovn-sbctl --db=unix:$OVS_RUNDIR/ovnsb_db.sock set-connection p${OVN_PROTO}:6642:$SERVICE_LISTEN_ADDRESS -- set connection . inactivity_probe=60000 sudo ovs-appctl -t $OVS_RUNDIR/ovnnb_db.ctl vlog/set console:off syslog:$OVN_DBS_LOG_LEVEL file:$OVN_DBS_LOG_LEVEL sudo ovs-appctl -t $OVS_RUNDIR/ovnsb_db.ctl vlog/set console:off syslog:$OVN_DBS_LOG_LEVEL file:$OVN_DBS_LOG_LEVEL fi if is_service_enabled ovn-controller ; then local cmd=""/bin/bash $SCRIPTDIR/ovn-ctl --no-monitor start_controller"" local stop_cmd=""/bin/bash $SCRIPTDIR/ovn-ctl stop_controller"" _run_process ovn-controller ""$cmd"" ""$stop_cmd"" ""$STACK_GROUP"" ""root"" fi if is_service_enabled ovn-controller-vtep ; then local cmd=""$OVS_BINDIR/ovn-controller-vtep --log-file --pidfile --detach --ovnsb-db=$OVN_SB_REMOTE"" _run_process ovn-controller-vtep ""$cmd"" """" ""$STACK_GROUP"" ""root"" fi if is_service_enabled q-ovn-metadata-agent; then run_process q-ovn-metadata-agent ""$NEUTRON_OVN_BIN_DIR/$NEUTRON_OVN_METADATA_BINARY --config-file $OVN_META_CONF"" # Format logging setup_logging $OVN_META_CONF fi if is_service_enabled br-ex-tcpdump ; then # tcpdump monitor on br-ex for ARP, reverse ARP and ICMP v4 / v6 packets sudo ip link set dev $PUBLIC_BRIDGE up run_process br-ex-tcpdump ""/usr/sbin/tcpdump -i $PUBLIC_BRIDGE arp or rarp or icmp or icmp6 -enlX"" ""$STACK_GROUP"" root fi if is_service_enabled br-int-flows ; then run_process br-int-flows ""/bin/sh -c \""set +e; while true; do echo ovs-ofctl dump-flows br-int; ovs-ofctl dump-flows br-int ; sleep 30; done; \"""" ""$STACK_GROUP"" root fi # NOTE(lucasagomes): To keep things simpler, let's reuse the same # RUNDIR for both OVS and OVN. This way we avoid having to specify the # --db option in the ovn-{n,s}bctl commands while playing with DevStack if use_new_ovn_repository; then sudo ln -s $OVS_RUNDIR $OVN_RUNDIR fi _start_ovn_services } function _stop_ovs_dp { sudo ovs-dpctl dump-dps | sudo xargs -n1 ovs-dpctl del-dp is_kernel_module_loaded vport_geneve && sudo rmmod vport_geneve is_kernel_module_loaded vport_vxlan && sudo rmmod vport_vxlan is_kernel_module_loaded openvswitch && sudo rmmod openvswitch } function stop_ovn { if is_service_enabled q-ovn-metadata-agent; then sudo pkill -9 -f haproxy || : stop_process neutron-ovn-metadata-agent fi if is_service_enabled ovn-controller-vtep ; then stop_process ovn-controller-vtep fi if is_service_enabled ovn-controller ; then stop_process ovn-controller fi if is_service_enabled ovn-northd ; then stop_process ovn-northd fi if is_service_enabled ovs-vtep ; then stop_process ovs-vtep fi stop_process ovs-vswitchd stop_process ovsdb-server _stop_ovs_dp } function _cleanup { local path=${1:-$DEST/$OVN_REPO_NAME} pushd $path cd $path sudo make uninstall sudo make distclean popd } # cleanup_ovn() - Remove residual data files, anything left over from previous # runs that a clean run would need to clean up function cleanup_ovn { local ovn_path=$DEST/$OVN_REPO_NAME local ovs_path=$DEST/$OVS_REPO_NAME if [ -d $ovn_path ]; then _cleanup $ovn_path fi if [ -d $ovs_path ]; then _cleanup $ovs_path fi sudo rm -f $OVN_RUNDIR } function neutron_plugin_create_nova_conf { : } ",0,889
openstack%2Fnetworking-ovn~stable%2Ftrain~I9224edab2d27184ed96be1cdea2bd865aadff065,openstack/networking-ovn,stable/train,I9224edab2d27184ed96be1cdea2bd865aadff065,Clean up some of the OVN agent API methods,MERGED,2020-08-24 09:35:37.000000000,2020-09-02 21:37:24.000000000,2020-09-02 21:34:27.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 09:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2fba96546674da31f4c462b9b6ca0ec6635fc1bc', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nNote from this backport: To be able to backport this to stable/train,\nwe had to remove the Python 3 only features used in the original patch\nand make it compatible with python 2.7.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n(cherry picked from Neutron 6723f4a485e2c60e45f45732c0881c126de06608)\n'}, {'number': 2, 'created': '2020-08-25 15:07:26.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/agent/neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6fe2bb2086cbb4a3e7851519d7f630537b9d668c', 'message': 'Clean up some of the OVN agent API methods\n\nAdds ControllerAgent and MetadataAgent classes to organize some of\nthe OVN Agent API code.\n\nNote from this backport: To be able to backport this to stable/train,\nwe had to remove the Python 3 only features used in the original patch\nand make it compatible with python 2.7.\n\nChange-Id: I9224edab2d27184ed96be1cdea2bd865aadff065\n(cherry picked from Neutron 6723f4a485e2c60e45f45732c0881c126de06608)\n'}]",0,747666,6fe2bb2086cbb4a3e7851519d7f630537b9d668c,23,5,2,6773,,,0,"Clean up some of the OVN agent API methods

Adds ControllerAgent and MetadataAgent classes to organize some of
the OVN Agent API code.

Note from this backport: To be able to backport this to stable/train,
we had to remove the Python 3 only features used in the original patch
and make it compatible with python 2.7.

Change-Id: I9224edab2d27184ed96be1cdea2bd865aadff065
(cherry picked from Neutron 6723f4a485e2c60e45f45732c0881c126de06608)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/66/747666/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/agent/neutron_agent.py']",3,2fba96546674da31f4c462b9b6ca0ec6635fc1bc,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import abc import six from oslo_utils import timeutils from networking_ovn.common import constants as ovn_const from networking_ovn.common import utils as ovn_utils @six.add_metaclass(abc.ABCMeta) class NeutronAgent(object): types = {} def __init__(self, chassis): self.chassis = chassis @property def updated_at(self): try: return timeutils.parse_isotime(self.chassis.external_ids[self.key]) except KeyError: return timeutils.utcnow(with_timezone=True) def as_dict(self, alive): return { 'binary': self.binary, 'host': self.chassis.hostname, 'heartbeat_timestamp': timeutils.utcnow(), 'availability_zone': ', '.join( ovn_utils.get_chassis_availability_zones(self.chassis)), 'topic': 'n/a', 'description': self.description, 'configurations': { 'chassis_name': self.chassis.name, 'bridge-mappings': self.chassis.external_ids.get('ovn-bridge-mappings', '')}, 'start_flag': True, 'agent_type': self.agent_type, 'id': self.agent_id, 'alive': alive, 'admin_state_up': True} @classmethod def from_type(cls, _type, chassis): if _type in (ovn_const.OVN_CONTROLLER_AGENT, ovn_const.OVN_CONTROLLER_GW_AGENT): return ControllerAgent(chassis) elif _type == ovn_const.OVN_METADATA_AGENT: return MetadataAgent(chassis) @staticmethod def agent_types(): return NeutronAgent.__subclasses__() @property @abc.abstractmethod def agent_type(self): pass class ControllerAgent(NeutronAgent): binary = 'ovn-controller' key = ovn_const.OVN_LIVENESS_CHECK_EXT_ID_KEY @property def agent_type(self): if ('enable-chassis-as-gw' in self.chassis.external_ids.get('ovn-cms-options', [])): return ovn_const.OVN_CONTROLLER_GW_AGENT return ovn_const.OVN_CONTROLLER_AGENT @property def nb_cfg(self): return self.chassis.nb_cfg @property def agent_id(self): return self.chassis.name @property def description(self): return self.chassis.external_ids.get( ovn_const.OVN_AGENT_DESC_KEY, '') class MetadataAgent(NeutronAgent): agent_type = ovn_const.OVN_METADATA_AGENT binary = 'networking-ovn-metadata-agent' key = ovn_const.METADATA_LIVENESS_CHECK_EXT_ID_KEY @property def nb_cfg(self): return int(self.chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, 0)) @property def agent_id(self): return self.chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_ID_KEY) @property def description(self): return self.chassis.external_ids.get( ovn_const.OVN_AGENT_METADATA_DESC_KEY, '') ",,158,90
openstack%2Fironic-lib~master~I0085a3929ec27ab119884e8610b7c15f8dc62d63,openstack/ironic-lib,master,I0085a3929ec27ab119884e8610b7c15f8dc62d63,Drop the dependency on oslo.service loopingcall,MERGED,2020-08-31 13:15:43.000000000,2020-09-02 20:45:27.000000000,2020-09-02 20:43:12.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-31 13:15:43.000000000', 'files': ['ironic_lib/utils.py', 'requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/14d7653ce1bc5d86ccbc0f0b9b390607db33cdae', 'message': 'Drop the dependency on oslo.service loopingcall\n\nIt forces eventlet on us and can be easily replaced with tenacity.\n\nChange-Id: I0085a3929ec27ab119884e8610b7c15f8dc62d63\n'}]",0,749053,14d7653ce1bc5d86ccbc0f0b9b390607db33cdae,18,4,1,10239,,,0,"Drop the dependency on oslo.service loopingcall

It forces eventlet on us and can be easily replaced with tenacity.

Change-Id: I0085a3929ec27ab119884e8610b7c15f8dc62d63
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/53/749053/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'requirements.txt', 'test-requirements.txt']",3,14d7653ce1bc5d86ccbc0f0b9b390607db33cdae,no-oslo-service,,"eventlet!=0.18.3,!=0.20.1,>=0.18.2 # MIT",12,16
openstack%2Fplacement~master~I86c156e13b3648704039462570a4d9f171d6e7f8,openstack/placement,master,I86c156e13b3648704039462570a4d9f171d6e7f8,Correct spell error from `seperate` to `separate`,MERGED,2020-09-02 07:38:23.000000000,2020-09-02 20:40:27.000000000,2020-09-02 20:38:40.000000000,"[{'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 07:38:23.000000000', 'files': ['doc/source/specs/train/approved/2005473-support-consumer-types.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/b1ff4aff02c69fc149cd5759d2f6c446f6a45ba9', 'message': 'Correct spell error from `seperate` to `separate`\n\nChange-Id: I86c156e13b3648704039462570a4d9f171d6e7f8\n'}]",0,749450,b1ff4aff02c69fc149cd5759d2f6c446f6a45ba9,7,2,1,31412,,,0,"Correct spell error from `seperate` to `separate`

Change-Id: I86c156e13b3648704039462570a4d9f171d6e7f8
",git fetch https://review.opendev.org/openstack/placement refs/changes/50/749450/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/approved/2005473-support-consumer-types.rst'],1,b1ff4aff02c69fc149cd5759d2f6c446f6a45ba9,,migration although a comparision can be done for this versus having a separate,migration although a comparision can be done for this versus having a seperate,1,1
openstack%2Fdevstack~master~I13c9aad9be7e0930a0d875b7d382090caf0b8982,openstack/devstack,master,I13c9aad9be7e0930a0d875b7d382090caf0b8982,move cleanup of pyc files,MERGED,2020-09-01 14:30:29.000000000,2020-09-02 20:40:25.000000000,2020-09-02 20:38:38.000000000,"[{'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-01 14:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9caa8680cd7b76e5460e261bd98cff7b0da0e5da', 'message': 'move cleanup of pyc files\n\nPreviously pyc files  where only cleaned if clean.sh was run.\nwith this change a new clean_pyc_files function was introduced\nwith the logic that was previously in clean.sh but it is now\ninvoked from unstack.sh\n\nWith the previous behavior you could not stack with horizon\nenabled then unstack and stack again due to the presence of pyc\nfiles that were owned by root.\n\nBy moving the clean to unstack in stead of clean.sh you can\nnow stack, unstack and stack again without hitting the pyc issue.\nsince unstack is invoked by clean the existing clean.sh behavior has\nnot changed in practice except for the fact the pyc files are\nremoved sooner in the process.\n\nChange-Id: I13c9aad9be7e0930a0d875b7d382090caf0b8982\n'}, {'number': 2, 'created': '2020-09-01 18:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/995bd810c0c96a40dcd4caaa251681cabf731492', 'message': 'move cleanup of pyc files\n\nPreviously pyc files  where only cleaned if clean.sh was run.\nwith this change a new clean_pyc_files function was introduced\nwith the logic that was previously in clean.sh but it is now\ninvoked from unstack.sh\n\nWith the previous behavior you could not stack with horizon\nenabled then unstack and stack again due to the presence of pyc\nfiles that were owned by root.\n\nBy moving the clean to unstack in stead of clean.sh you can\nnow stack, unstack and stack again without hitting the pyc issue.\nsince unstack is invoked by clean the existing clean.sh behavior has\nnot changed in practice except for the fact the pyc files are\nremoved sooner in the process.\n\nThis change also removes support for findutils < 4.2.3\nUbuntu 12.04 and CentOS 6 both have 4.4.2 since they were\nreleased 8 years ago and are now EOL its fair to assume\nthat all modern distros have 4.2.3+\nhttps://repology.org/project/findutils/versions\n\nChange-Id: I13c9aad9be7e0930a0d875b7d382090caf0b8982\n'}, {'number': 3, 'created': '2020-09-02 04:48:42.000000000', 'files': ['clean.sh', 'functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ae21b3556ff215c0f73bc0ebbc90d72fa59a3459', 'message': 'move cleanup of pyc files\n\nPreviously pyc files were only cleaned if clean.sh was run.\nwith this change a new clean_pyc_files function was introduced\nwith the logic that was previously in clean.sh but it is now\ninvoked from unstack.sh\n\nWith the previous behavior you could not stack with horizon\nenabled then unstack and stack again due to the presence of pyc\nfiles that were owned by root.\n\nBy moving the clean to unstack in stead of clean.sh you can\nnow stack, unstack and stack again without hitting the pyc issue.\nsince unstack is invoked by clean the existing clean.sh behavior has\nnot changed in practice except for the fact the pyc files are\nremoved sooner in the process.\n\nThis change also removes support for findutils < 4.2.3\nUbuntu 12.04 and CentOS 6 both have 4.4.2 since they were\nreleased 8 years ago and are now EOL its fair to assume\nthat all modern distros have 4.2.3+\nhttps://repology.org/project/findutils/versions\n\nChange-Id: I13c9aad9be7e0930a0d875b7d382090caf0b8982\n'}]",3,749295,ae21b3556ff215c0f73bc0ebbc90d72fa59a3459,19,4,3,11604,,,0,"move cleanup of pyc files

Previously pyc files were only cleaned if clean.sh was run.
with this change a new clean_pyc_files function was introduced
with the logic that was previously in clean.sh but it is now
invoked from unstack.sh

With the previous behavior you could not stack with horizon
enabled then unstack and stack again due to the presence of pyc
files that were owned by root.

By moving the clean to unstack in stead of clean.sh you can
now stack, unstack and stack again without hitting the pyc issue.
since unstack is invoked by clean the existing clean.sh behavior has
not changed in practice except for the fact the pyc files are
removed sooner in the process.

This change also removes support for findutils < 4.2.3
Ubuntu 12.04 and CentOS 6 both have 4.4.2 since they were
released 8 years ago and are now EOL its fair to assume
that all modern distros have 4.2.3+
https://repology.org/project/findutils/versions

Change-Id: I13c9aad9be7e0930a0d875b7d382090caf0b8982
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/749295/1 && git format-patch -1 --stdout FETCH_HEAD,"['clean.sh', 'functions-common', 'unstack.sh']",3,9caa8680cd7b76e5460e261bd98cff7b0da0e5da,move-pyc-cleaning-to-unstack, clean_pyc_files,,14,9
openstack%2Fopenstack-helm-infra~master~I6556a6e2a1fad3946a92da5e8dd97e0da5803c62,openstack/openstack-helm-infra,master,I6556a6e2a1fad3946a92da5e8dd97e0da5803c62,Move Tiller version to 2.16.9,MERGED,2020-09-02 13:06:00.000000000,2020-09-02 20:20:13.000000000,2020-09-02 20:18:39.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 26686}, {'_account_id': 28618}, {'_account_id': 28664}, {'_account_id': 28778}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 29624}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-09-02 13:06:00.000000000', 'files': ['tools/gate/divingbell/divingbell-tests.sh', 'tools/images/kubeadm-aio/Dockerfile', 'tiller/values.yaml', 'roles/build-helm-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc58ef9dddd0326cc86229eda4e21e269adb31be', 'message': 'Move Tiller version to 2.16.9\n\nUpdate Helm chart for Armada to use Tiller version 2.16.9.\n\nChange-Id: I6556a6e2a1fad3946a92da5e8dd97e0da5803c62\n'}]",0,749497,dc58ef9dddd0326cc86229eda4e21e269adb31be,13,16,1,29298,,,0,"Move Tiller version to 2.16.9

Update Helm chart for Armada to use Tiller version 2.16.9.

Change-Id: I6556a6e2a1fad3946a92da5e8dd97e0da5803c62
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/749497/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/divingbell/divingbell-tests.sh', 'tools/images/kubeadm-aio/Dockerfile', 'tiller/values.yaml', 'roles/build-helm-packages/defaults/main.yml']",4,dc58ef9dddd0326cc86229eda4e21e269adb31be,, helm: v2.16.9, helm: v2.14.1,4,4
openstack%2Fnetworking-odl~master~I5f9e0c417336c8ff9e417a668268784485d8d2fa,openstack/networking-odl,master,I5f9e0c417336c8ff9e417a668268784485d8d2fa,Switch to hacking 3.0,MERGED,2020-03-13 10:24:37.000000000,2020-09-02 20:11:48.000000000,2020-09-02 20:09:08.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 10:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4979ee78b48a0073cfe0efeca7f00bfbb4a0c2ba', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n\nChange-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 2, 'created': '2020-03-16 14:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b3be7511b0ea2a2de417ca9db00430f98451321d', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n\nChange-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 3, 'created': '2020-03-30 10:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/75cdc055f42ac5392c634ada5b00110b68e797fc', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n\nChange-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 4, 'created': '2020-05-07 09:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/eb381c2a8a7da7cd687d6fbb5ced487e63218bae', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n\nChange-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 5, 'created': '2020-05-07 09:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/07cc2de515e6c90dc1fda375572bc436e21c2de5', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n\nChange-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 6, 'created': '2020-05-15 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/829d1db15741dca42f112ea77bc0357667dfe400', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator)\n\nChange-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 7, 'created': '2020-08-04 14:59:46.000000000', 'files': ['networking_odl/tests/unit/journal/test_recovery.py', '.pylintrc', 'test-requirements.txt', 'networking_odl/hacking/checks.py', 'networking_odl/ml2/pseudo_agentdb_binding.py', 'networking_odl/tests/functional/db/test_migrations.py', 'networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py', 'lower-constraints.txt', 'networking_odl/_i18n.py', 'networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/l3/l3_flavor.py', 'networking_odl/tests/unit/ml2/test_pseudo_agentdb_binding.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/84ebb940a6d5fa05cb69e3bdbf0cea517b1e22d3', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator)\n\nChange-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa\nDepends-On: https://review.opendev.org/#/c/708965/\n'}]",9,712900,84ebb940a6d5fa05cb69e3bdbf0cea517b1e22d3,33,9,7,8313,,,0,"Switch to hacking 3.0

Make the code compatible with hacking rules:
* line break before/after binary operator (for this added ignore for
W504, line break after binary operator)

Change-Id: I5f9e0c417336c8ff9e417a668268784485d8d2fa
Depends-On: https://review.opendev.org/#/c/708965/
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/00/712900/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/journal/test_full_sync.py', 'networking_odl/dhcp/odl_dhcp_driver.py', 'networking_odl/common/client.py', 'test-requirements.txt', 'networking_odl/journal/journal.py', 'networking_odl/tests/functional/db/test_migrations.py', 'networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py', 'networking_odl/_i18n.py', 'networking_odl/journal/full_sync.py', 'networking_odl/common/filters.py', 'networking_odl/tests/unit/l3/test_l3_odl_v2.py', 'networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/l3/l3_flavor.py', 'networking_odl/tests/unit/ml2/test_pseudo_agentdb_binding.py', 'networking_odl/ceilometer/network/statistics/opendaylight_v2/driver.py', 'networking_odl/db/migration/alembic_migrations/env.py', 'networking_odl/ml2/mech_driver_v2.py', 'networking_odl/tests/unit/cmd/test_analyze_journal.py', 'networking_odl/tests/unit/common/test_websocket_client.py', 'tox.ini']",20,4979ee78b48a0073cfe0efeca7f00bfbb4a0c2ba,hacking3,"ignore = N530,I202,W503# W503 Line break occurred before a binary operator[flake8:local-plugins] extension = # Checks from neutron-lib N521 = neutron_lib.hacking.checks:use_jsonutils N524 = neutron_lib.hacking.checks:check_no_contextlib_nested N529 = neutron_lib.hacking.checks:no_mutable_default_args N530 = neutron_lib.hacking.checks:check_neutron_namespace_imports N532 = neutron_lib.hacking.translation_checks:check_log_warn_deprecated N534 = neutron_lib.hacking.translation_checks:check_raised_localized_exceptions N536 = neutron_lib.hacking.checks:assert_equal_none N537 = neutron_lib.hacking.translation_checks:no_translate_logs ","ignore = N530,I202",82,69
openstack%2Fos-ken~master~I9658ebaa911f129f567197ff7ad531e093f9752f,openstack/os-ken,master,I9658ebaa911f129f567197ff7ad531e093f9752f,Clean python2 remained stuff,MERGED,2020-08-30 15:12:57.000000000,2020-09-02 20:05:51.000000000,2020-09-02 20:01:17.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:12:57.000000000', 'files': ['os_ken/utils.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/195ec82629425af180309a18e86cacb3bb8e37f5', 'message': 'Clean python2 remained stuff\n\nChange-Id: I9658ebaa911f129f567197ff7ad531e093f9752f\n'}]",1,748876,195ec82629425af180309a18e86cacb3bb8e37f5,8,3,1,30356,,,0,"Clean python2 remained stuff

Change-Id: I9658ebaa911f129f567197ff7ad531e093f9752f
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/76/748876/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/utils.py'],1,195ec82629425af180309a18e86cacb3bb8e37f5,," loader = importlib.machinery.SourceFileLoader(name, pathname) return loader.load_module(name)"," This function provides the backward compatibility for 'imp.load_source' in Python 2. if six.PY2: import imp return imp.load_source(name, pathname) else: loader = importlib.machinery.SourceFileLoader(name, pathname) return loader.load_module(name)",2,9
openstack%2Fos-ken~master~Iaf5291698d866c9c86cda0f255799d8f10fff3dd,openstack/os-ken,master,Iaf5291698d866c9c86cda0f255799d8f10fff3dd,Remove elementtree deprecated methods,MERGED,2020-06-23 09:33:37.000000000,2020-09-02 20:03:14.000000000,2020-09-02 20:01:17.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 09:33:37.000000000', 'files': ['os_ken/tests/integrated/test_of_config.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/5d05bcbe14d5d5c431b429f2080966d90de5214d', 'message': 'Remove elementtree deprecated methods\n\nAll our supported runtimes [1] are compatible with the recommended\nalternatives.\n\n`Element.getiterator` [2] is deprecated since python 3.2 and will be removed\nin python 3.9, these changes switch usages to Element.iter() [3]\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-train\n[2] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.getiterator\n[3] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.iter\n\nChange-Id: Iaf5291698d866c9c86cda0f255799d8f10fff3dd\n'}]",0,737471,5d05bcbe14d5d5c431b429f2080966d90de5214d,10,5,1,28522,,,0,"Remove elementtree deprecated methods

All our supported runtimes [1] are compatible with the recommended
alternatives.

`Element.getiterator` [2] is deprecated since python 3.2 and will be removed
in python 3.9, these changes switch usages to Element.iter() [3]

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-train
[2] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.getiterator
[3] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.iter

Change-Id: Iaf5291698d866c9c86cda0f255799d8f10fff3dd
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/71/737471/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/tests/integrated/test_of_config.py'],1,5d05bcbe14d5d5c431b429f2080966d90de5214d,deprecated_elementtree, for e in tree.iter():, for e in tree.getiterator():,1,1
openstack%2Fironic~master~Ib754472e97006d0146dd0df99492b035c55a5c47,openstack/ironic,master,Ib754472e97006d0146dd0df99492b035c55a5c47,Suffix the ISO names with '.iso',MERGED,2020-08-26 17:09:36.000000000,2020-09-02 19:43:43.000000000,2020-09-02 19:40:20.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 18781}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 17:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bab04beca765ee913ba47d22b24952221aabb1d6', 'message': ""Suffix the ISO names with '.iso'\n\nSome hardwares like ProLiant can only validate the ISO\nimages only if they are suffixed with '.iso'. It also makes sense\nto suffix a particular file with proper filename extension.\n\nChange-Id: Ib754472e97006d0146dd0df99492b035c55a5c47\n""}, {'number': 2, 'created': '2020-08-27 10:12:00.000000000', 'files': ['releasenotes/notes/add-iso-suffix-557a4fc4382fd7f3.yaml', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/71f5cfb42eadbb71b5bf63eda1f7c82d6bae55a7', 'message': ""Suffix the ISO names with '.iso'\n\nSome hardwares like ProLiant can validate the ISO images only if they are\nsuffixed with '.iso'. It is also recommended to suffix a particular file with\nproper filename extension.\n\nChange-Id: Ib754472e97006d0146dd0df99492b035c55a5c47\nStory: #2008077\nTask: #40768\n""}]",0,748277,71f5cfb42eadbb71b5bf63eda1f7c82d6bae55a7,37,8,2,18781,,,0,"Suffix the ISO names with '.iso'

Some hardwares like ProLiant can validate the ISO images only if they are
suffixed with '.iso'. It is also recommended to suffix a particular file with
proper filename extension.

Change-Id: Ib754472e97006d0146dd0df99492b035c55a5c47
Story: #2008077
Task: #40768
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/748277/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py']",2,bab04beca765ee913ba47d22b24952221aabb1d6,iso_suffix_for_iso_images," return ""boot-%s.iso"" % node.uuid"," return ""boot-%s"" % node.uuid",4,4
openstack%2Fpuppet-pacemaker~master~I81554d6ab7349a068066a68801124189663490dd,openstack/puppet-pacemaker,master,I81554d6ab7349a068066a68801124189663490dd,Convert all class usage to relative names,MERGED,2019-12-08 22:18:57.000000000,2020-09-02 19:34:42.000000000,2020-09-02 19:34:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-08 22:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/5ca669a5d3ab49ac921cb30c8d69f3b06df0431a', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 2, 'created': '2019-12-14 17:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/f2554ba16a19acfc870e04c7fe8618fe44e3c8b8', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 3, 'created': '2019-12-17 14:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/e8eb1e3ce0e334d12974282a8c686ef9e2bec646', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 4, 'created': '2019-12-17 15:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/65900da9a8e29a20c4d546af1faebeff9263b98f', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 5, 'created': '2019-12-20 11:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ae2b69be0d23c9f9e605dddbe0371178c7452495', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 6, 'created': '2020-02-06 18:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/cc61511a5dcf3a052c4c49dea2b4a07707cf1d0f', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 7, 'created': '2020-02-07 19:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/192ca4d4cc244dc6bba7f319817778e27f7949cd', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 8, 'created': '2020-04-02 23:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/481cf419137d4632e7402cff3ed0569302c35c7a', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 9, 'created': '2020-08-31 20:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/58c6998677df0b31d13a9247828efe5457acff48', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}, {'number': 10, 'created': '2020-09-01 12:44:38.000000000', 'files': ['examples/pacemaker/setup.pp', 'manifests/new/setup/pcsd.pp', 'manifests/new/setup.pp', 'Gemfile', 'manifests/init.pp', 'manifests/new/install.pp', 'manifests/install.pp', 'manifests/new.pp', 'manifests/remote.pp', 'examples/service/stop.pp', 'examples/pacemaker/host.pp', 'manifests/new/setup/config.pp', 'manifests/corosync.pp', 'manifests/contain.pp', 'Rakefile', 'examples/service/start.pp', 'manifests/new/firewall.pp', 'manifests/service.pp', 'manifests/new/setup/debian.pp', 'manifests/new/setup/auth_key.pp', 'manifests/new/service.pp', 'manifests/resource/service.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b501c08640f16725207615184e57c6b4f3f33fb7', 'message': 'Convert all class usage to relative names\n\nChange-Id: I81554d6ab7349a068066a68801124189663490dd\n'}]",7,697920,b501c08640f16725207615184e57c6b4f3f33fb7,50,8,10,16137,,,0,"Convert all class usage to relative names

Change-Id: I81554d6ab7349a068066a68801124189663490dd
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/20/697920/6 && git format-patch -1 --stdout FETCH_HEAD,"['examples/pacemaker/host.pp', 'examples/pacemaker/setup.pp', 'manifests/new/setup.pp', 'manifests/corosync.pp', 'manifests/init.pp', 'manifests/install.pp', 'manifests/service.pp', 'manifests/new.pp', 'manifests/remote.pp', 'manifests/resource/service.pp']",10,5ca669a5d3ab49ac921cb30c8d69f3b06df0431a,697920, include pacemaker::params, include ::pacemaker::params,21,21
openstack%2Fopenstack-chef~master~I74d9ee7d3739cf1a602c41c7691a4a328523d4d9,openstack/openstack-chef,master,I74d9ee7d3739cf1a602c41c7691a4a328523d4d9,Re-enable voting,MERGED,2020-09-02 17:16:46.000000000,2020-09-02 19:25:11.000000000,2020-09-02 19:20:07.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 17:16:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/b0076369c5b89e8aa7bd42915f946790f433eddd', 'message': 'Re-enable voting\n\nChange-Id: I74d9ee7d3739cf1a602c41c7691a4a328523d4d9\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,749560,b0076369c5b89e8aa7bd42915f946790f433eddd,8,3,1,21961,,,0,"Re-enable voting

Change-Id: I74d9ee7d3739cf1a602c41c7691a4a328523d4d9
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/60/749560/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b0076369c5b89e8aa7bd42915f946790f433eddd,,, voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged,0,4
openstack%2Fkolla~stable%2Fussuri~I62b8921eea17a0619cdc86c380bb98a0159c4ed0,openstack/kolla,stable/ussuri,I62b8921eea17a0619cdc86c380bb98a0159c4ed0,Bump up versions for ussuri,ABANDONED,2020-09-02 08:17:37.000000000,2020-09-02 19:22:28.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-09-02 08:17:37.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ae2a4818eb98e8cc72f4cd8b8f754196eab8bdb8', 'message': 'Bump up versions for ussuri\n\nChange-Id: I62b8921eea17a0619cdc86c380bb98a0159c4ed0\n'}]",0,749458,ae2a4818eb98e8cc72f4cd8b8f754196eab8bdb8,7,3,1,22629,,,0,"Bump up versions for ussuri

Change-Id: I62b8921eea17a0619cdc86c380bb98a0159c4ed0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/749458/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,ae2a4818eb98e8cc72f4cd8b8f754196eab8bdb8,," 'glance-20.0.1.tar.gz')}, 'ironic-15.0.1.tar.gz')}, 'manila-10.0.1.tar.gz')}, 'monasca-agent-3.0.2.tar.gz')}, 'neutron-16.1.0.tar.gz')}, 'nova-21.1.0.tar.gz')}, 'ovn-octavia-provider-0.1.2.tar.gz')},"," 'glance-20.0.0.tar.gz')}, 'ironic-15.0.0.tar.gz')}, 'manila-10.0.0.tar.gz')}, 'monasca-agent-3.0.1.tar.gz')}, 'neutron-16.0.0.tar.gz')}, 'nova-21.0.0.tar.gz')}, 'ovn-octavia-provider-0.1.0.tar.gz')},",7,7
openstack%2Fheat-dashboard~master~Ibff0fb285694297f74d82ea8275cd6ca0b857cb2,openstack/heat-dashboard,master,Ibff0fb285694297f74d82ea8275cd6ca0b857cb2,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-30 22:20:08.000000000,2020-09-02 18:43:49.000000000,2020-09-02 18:41:56.000000000,"[{'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-30 22:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/ed6590b15f5d6d1b455b2b0693312f8c3fb68a9a', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40186\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ibff0fb285694297f74d82ea8275cd6ca0b857cb2\n'}, {'number': 2, 'created': '2020-07-30 22:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/094c75e4f01e06d4bacad022ab9eb434d545c92f', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40186\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ibff0fb285694297f74d82ea8275cd6ca0b857cb2\n'}, {'number': 3, 'created': '2020-08-02 19:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/b1b92036c73e307e9f58f57e1fb6b248fb9060d3', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\n\nStory: #2007865\nTask: #40186\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: Ibff0fb285694297f74d82ea8275cd6ca0b857cb2\n'}, {'number': 4, 'created': '2020-08-04 07:34:09.000000000', 'files': ['bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/7d4ef2057fff075771e5ba24f7bff25e411b9102', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\n\nStory: #2007865\nTask: #40186\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: Ibff0fb285694297f74d82ea8275cd6ca0b857cb2\n'}]",3,744068,7d4ef2057fff075771e5ba24f7bff25e411b9102,25,7,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.


Story: #2007865
Task: #40186

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: Ibff0fb285694297f74d82ea8275cd6ca0b857cb2
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/68/744068/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'lower-constraints.txt']",3,ed6590b15f5d6d1b455b2b0693312f8c3fb68a9a,migrate-to-focal,cffi==1.14.0cryptography==2.7mccabe==0.6.0pycodestyle==2.5.0PyYAML==3.13,cffi==1.7.0cryptography==2.1mccabe==0.2.1pycodestyle==2.3.1PyYAML==3.12,12,6
openstack%2Fwhitebox-tempest-plugin~master~I173d4101e112fae05249a14715303d84e7d802ea,openstack/whitebox-tempest-plugin,master,I173d4101e112fae05249a14715303d84e7d802ea,Update exception message for nova service,MERGED,2020-08-31 16:27:25.000000000,2020-09-02 18:28:09.000000000,2020-09-02 18:28:09.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2020-08-31 16:27:25.000000000', 'files': ['whitebox_tempest_plugin/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8946bbe7860f64f0661e9e5975a2e6a84d518a57', 'message': 'Update exception message for nova service\n\nThe TimeoutException for waiters.wait_for_nova_service_state was not\npassing the state variable to the exception message just the binary,\nhost and timeout. Added the missing state variable to the message.\n\nChange-Id: I173d4101e112fae05249a14715303d84e7d802ea\n'}]",0,749085,8946bbe7860f64f0661e9e5975a2e6a84d518a57,12,3,1,31033,,,0,"Update exception message for nova service

The TimeoutException for waiters.wait_for_nova_service_state was not
passing the state variable to the exception message just the binary,
host and timeout. Added the missing state variable to the message.

Change-Id: I173d4101e112fae05249a14715303d84e7d802ea
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/85/749085/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/common/waiters.py'],1,8946bbe7860f64f0661e9e5975a2e6a84d518a57,nsm_log_msg," 'the required time (%s s)', binary, host, state, timeout)"," 'the required time (%s s)', binary, host, timeout)",1,1
openstack%2Fkolla~master~Idf401536b482b4088f5fb66408917752fd71726c,openstack/kolla,master,Idf401536b482b4088f5fb66408917752fd71726c,Fix bifrost network config,MERGED,2020-09-02 09:14:35.000000000,2020-09-02 18:15:21.000000000,2020-09-02 18:13:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-02 09:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/87086fd876de524c0c0e368fdb65c4436663a650', 'message': ""Work around setuptools>50\n\nsetuptools 50 introduced following failures during pip install:\nModuleNotFoundError: No module named 'setuptools._distutils'\n\nChange-Id: Idf401536b482b4088f5fb66408917752fd71726c\nCloses-Bug: #1893920\n""}, {'number': 2, 'created': '2020-09-02 10:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/175f6cda1661f5ce305c2fde56ffc48bdcbf14e2', 'message': ""Work around setuptools>50 and fix bifrost network config\n\nsetuptools 50 introduced following failures during pip install:\nModuleNotFoundError: No module named 'setuptools._distutils'\n\nSet bifrost internal_ip variable to adapt to change [1].\n\n[1]: https://review.opendev.org/#/c/748230/\n\nChange-Id: Idf401536b482b4088f5fb66408917752fd71726c\nCloses-Bug: #1893920\n""}, {'number': 3, 'created': '2020-09-02 15:23:19.000000000', 'files': ['docker/bifrost/bifrost-base/build_arg.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/23631a236935027e13c70633078d243a196bfc5e', 'message': 'Fix bifrost network config\n\nSet bifrost internal_ip variable to adapt to change [1].\n\n[1]: https://review.opendev.org/#/c/748230/\n\nChange-Id: Idf401536b482b4088f5fb66408917752fd71726c\n'}]",0,749469,23631a236935027e13c70633078d243a196bfc5e,29,5,3,22629,,,0,"Fix bifrost network config

Set bifrost internal_ip variable to adapt to change [1].

[1]: https://review.opendev.org/#/c/748230/

Change-Id: Idf401536b482b4088f5fb66408917752fd71726c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/749469/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,87086fd876de524c0c0e368fdb65c4436663a650,fix_bifrost_network,# NOTE(mnasiadka): Work around setuptools>50 - https://github.com/pypa/setuptools/issues/2353 ENV SETUPTOOLS_USE_DISTUTILS stdlib,,2,0
openstack%2Fswift~master~Ifbdaa8f237caa393625e13cfe88c067edee88266,openstack/swift,master,Ifbdaa8f237caa393625e13cfe88c067edee88266,Make stubs more realistic,ABANDONED,2020-09-02 15:48:26.000000000,2020-09-02 18:06:12.000000000,,[{'_account_id': 15343}],"[{'number': 1, 'created': '2020-09-02 15:48:26.000000000', 'files': ['test/unit/proxy/controllers/test_base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/662ded638c8ed82ff605ee35cd09c181257c2e79', 'message': ""Make stubs more realistic\n\n... only marginally so; there shouldn't be any material difference here.\n\nRelated-Change-Id: If4bd39788642c00d66579b26144af8f116735b4d\nChange-Id: Ifbdaa8f237caa393625e13cfe88c067edee88266\n""}]",0,749541,662ded638c8ed82ff605ee35cd09c181257c2e79,3,1,1,1179,,,0,"Make stubs more realistic

... only marginally so; there shouldn't be any material difference here.

Related-Change-Id: If4bd39788642c00d66579b26144af8f116735b4d
Change-Id: Ifbdaa8f237caa393625e13cfe88c067edee88266
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/749541/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_base.py'],1,662ded638c8ed82ff605ee35cd09c181257c2e79,waterfall-ec," self.app, req, None, Namespace(num_primary_nodes=3), None, None, self.app, req, None, Namespace(num_primary_nodes=3), None, None, self.app, req, None, Namespace(num_primary_nodes=3), None, None,"," self.app, req, None, Namespace(num_primary_nodes=1), None, None, self.app, req, None, Namespace(num_primary_nodes=1), None, None, self.app, req, None, Namespace(num_primary_nodes=1), None, None,",3,3
openstack%2Fironic~master~Ibd7e17fb00747485c8072289fff9b28d4da17c39,openstack/ironic,master,Ibd7e17fb00747485c8072289fff9b28d4da17c39,Handle an older agent with agent_token,MERGED,2020-08-11 20:15:48.000000000,2020-09-02 18:00:29.000000000,2020-09-02 17:52:52.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}, {'_account_id': 32349}]","[{'number': 1, 'created': '2020-08-11 20:15:48.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/handle-older-agent-command-5930124fd03bb327.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/30d9cb47e62b62d570e1792515e16abf1ac3cd56', 'message': 'Handle an older agent with agent_token\n\nWell, as the author of the agent token work, I could have\nsworn we covered this case, but it seems not and agent commands\ncould fail.\n\nWhat was occuring, when the token is optional, we were not backing\ndown on the agent client and failing even though we could detect\nthe failure and handle it accordingly.\n\nChange-Id: Ibd7e17fb00747485c8072289fff9b28d4da17c39\nStory: 2008002\nTask: 40649\n'}]",6,745736,30d9cb47e62b62d570e1792515e16abf1ac3cd56,19,8,1,11655,,,0,"Handle an older agent with agent_token

Well, as the author of the agent token work, I could have
sworn we covered this case, but it seems not and agent commands
could fail.

What was occuring, when the token is optional, we were not backing
down on the agent client and failing even though we could detect
the failure and handle it accordingly.

Change-Id: Ibd7e17fb00747485c8072289fff9b28d4da17c39
Story: 2008002
Task: 40649
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/745736/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/handle-older-agent-command-5930124fd03bb327.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,30d9cb47e62b62d570e1792515e16abf1ac3cd56,," def __init__(self, status, name='fake', error=None, status_code=http_client.OK):class MockFault(MockResponse): def __init__(self, faultstring, status_code=http_client.BAD_REQUEST): super().__init__({'faultstring': faultstring}, status_code=status_code) def save(self): pass def test__command_succeed_after_agent_token(self, mock_sleep): self.config(require_agent_token=False) mock_sleep.return_value = None error = 'Unknown Argument: ""agent_token""' response_data = {'status': 'ok'} method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} i_info = self.node.driver_internal_info i_info['agent_secret_token'] = 'meowmeowmeow' self.client.session.post.side_effect = [ MockFault(error), MockResponse(response_data), ] response = self.client._command(self.node, method, params) self.assertEqual(2, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60, verify=True) self.assertNotIn('agent_secret_token', self.node.driver_internal_info) @mock.patch.object(retrying.time, 'sleep', autospec=True) def test__command_fail_agent_token_required(self, mock_sleep): self.config(require_agent_token=True) mock_sleep.return_value = None error = 'Unknown Argument: ""agent_token""' method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} i_info = self.node.driver_internal_info i_info['agent_secret_token'] = 'meowmeowmeow' self.client.session.post.side_effect = [ MockFault(error) ] self.assertRaises(exception.AgentAPIError, self.client._command, self.node, method, params) self.assertEqual(1, self.client.session.post.call_count) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false', 'agent_token': 'meowmeowmeow'}, timeout=60, verify=True) self.assertEqual( 'meowmeowmeow', self.node.driver_internal_info.get('agent_secret_token')) @mock.patch.object(retrying.time, 'sleep', autospec=True)"," def __init__(self, status, name='fake', error=None):",94,3
openstack%2Fnetworking-l2gw-tempest-plugin~master~I41b03ac88d392f5b8e0f531ff401d9d3ce69456a,openstack/networking-l2gw-tempest-plugin,master,I41b03ac88d392f5b8e0f531ff401d9d3ce69456a,Update the constraints url,ABANDONED,2019-09-26 06:22:20.000000000,2020-09-02 18:00:17.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 06:22:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/8e475b759cb5cc58cc60434ee8de6097ac163406', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I41b03ac88d392f5b8e0f531ff401d9d3ce69456a\n'}]",0,684944,8e475b759cb5cc58cc60434ee8de6097ac163406,5,2,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I41b03ac88d392f5b8e0f531ff401d9d3ce69456a
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/44/684944/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8e475b759cb5cc58cc60434ee8de6097ac163406,constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fnetworking-l2gw-tempest-plugin~master~I62cda9bbb51433672473c3f36e6da60f9d8241a5,openstack/networking-l2gw-tempest-plugin,master,I62cda9bbb51433672473c3f36e6da60f9d8241a5,Use unittest.mock instead of mock,ABANDONED,2020-06-08 23:31:34.000000000,2020-09-02 17:59:54.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 23:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/5039142bf7206e501e9668cb3e0059ab9791ee2c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I62cda9bbb51433672473c3f36e6da60f9d8241a5\n'}, {'number': 2, 'created': '2020-06-10 16:43:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/d6b1cf5184d55587767bb061b77508505325e493', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I62cda9bbb51433672473c3f36e6da60f9d8241a5\n'}]",0,734391,d6b1cf5184d55587767bb061b77508505325e493,10,3,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I62cda9bbb51433672473c3f36e6da60f9d8241a5
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/91/734391/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5039142bf7206e501e9668cb3e0059ab9791ee2c,drop_py27,,mock>=2.0.0 # BSD,0,1
openstack%2Ftripleo-ansible~master~I57dc24b8450f900ac1fb4e4c2f420f104618c609,openstack/tripleo-ansible,master,I57dc24b8450f900ac1fb4e4c2f420f104618c609,Workaround tripleo_nova_cache issue in ansible 2.9.11,MERGED,2020-09-01 21:15:13.000000000,2020-09-02 17:58:58.000000000,2020-09-02 17:10:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-01 21:15:13.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_nova_image_cache.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f38b4c97b9feeecaaf9071549a8d74023005563b', 'message': 'Workaround tripleo_nova_cache issue in ansible 2.9.11\n\nhttps://github.com/ansible/ansible/commit/99a37234b7393fd1d70e03c4687dad809c12a670\nchanges the core action plugin to assume task_vars has ansible_facts and\nansible_delegated_vars keys when interpreter discovery is triggered.\n\nThe tripleo_nova_cache action plugin passes custom task_vars dicts via\nself._exec_module that do not contain these keys.\n\nThis looks like a regression in ansible.\nWorkaround it for now while I take the issue upstream.\n\nChange-Id: I57dc24b8450f900ac1fb4e4c2f420f104618c609\n'}]",0,749396,f38b4c97b9feeecaaf9071549a8d74023005563b,11,7,1,23811,,,0,"Workaround tripleo_nova_cache issue in ansible 2.9.11

https://github.com/ansible/ansible/commit/99a37234b7393fd1d70e03c4687dad809c12a670
changes the core action plugin to assume task_vars has ansible_facts and
ansible_delegated_vars keys when interpreter discovery is triggered.

The tripleo_nova_cache action plugin passes custom task_vars dicts via
self._exec_module that do not contain these keys.

This looks like a regression in ansible.
Workaround it for now while I take the issue upstream.

Change-Id: I57dc24b8450f900ac1fb4e4c2f420f104618c609
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/749396/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_nova_image_cache.py'],1,f38b4c97b9feeecaaf9071549a8d74023005563b,," command_task_vars = { 'become': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) } command_task_vars = { 'become': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) } command_task_vars = { 'become': True, 'ignore_errors': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) }"," command_task_vars = {'become': True} command_task_vars = {'become': True} command_task_vars = {'become': True, 'ignore_errors': True}",16,3
openstack%2Ftripleo-ansible~master~If836759020bcaeb0d3af47f2af7f98ff2150b606,openstack/tripleo-ansible,master,If836759020bcaeb0d3af47f2af7f98ff2150b606,Stop relying on future mtime in tripleo_nova_image_cache,MERGED,2020-09-01 22:38:20.000000000,2020-09-02 17:48:16.000000000,2020-09-02 17:48:16.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-01 22:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bdd9dfb018230fe3d92e8f4a4485bf8c433c49b1', 'message': ""Stop relying on future mtime in tripleo_nova_image_cache\n\nThe tripleo_nova_image_cache role was relying on a future mtime to convince\nnova image cleanup logic to skip a specific image that we want to pre-cache.\nThis works well on nodes that are not currently hosting an instance of the\nimage, however if there is an instance using it then nova will reset the mtime\nevery 40 minutes (by default).\n\nAs a result it's not possible to provide fine grained control of the caching.\nWe can just ensure the image exists on the host with an mtime of now.\nIt should remain cache for at least remove_unused_original_minimum_age_seconds\nfrom nova.conf (default 86400).\n\nChange-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606\n""}, {'number': 2, 'created': '2020-09-01 23:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8330971c107661f228ff961666758df60ba01f28', 'message': ""Stop relying on future mtime in tripleo_nova_image_cache\n\nThe tripleo_nova_image_cache role was relying on a future mtime to convince\nnova image cleanup logic to skip a specific image that we want to pre-cache.\nThis works well on nodes that are not currently hosting an instance of the\nimage, however if there is an instance using it then nova will reset the mtime\nevery 40 minutes (by default).\n\nAs a result it's not possible to provide fine grained control of the caching.\nWe can just ensure the image exists on the host with an mtime of now.\nIt should remain cache for at least remove_unused_original_minimum_age_seconds\nfrom nova.conf (default 86400).\n\nChange-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606\n""}, {'number': 3, 'created': '2020-09-01 23:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1b4d773653d9898642033d785a022cba7fc0034', 'message': ""Stop relying on future mtime in tripleo_nova_image_cache\n\nThe tripleo_nova_image_cache role was relying on a future mtime to convince\nnova image cleanup logic to skip a specific image that we want to pre-cache.\nThis works well on nodes that are not currently hosting an instance of the\nimage, however if there is an instance using it then nova will reset the mtime\nevery 40 minutes (by default).\n\nAs a result it's not possible to provide fine grained control of the caching.\nWe can just ensure the image exists on the host with an mtime of now.\nIt should remain cache for at least remove_unused_original_minimum_age_seconds\nfrom nova.conf (default 86400).\n\nChange-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606\n""}, {'number': 4, 'created': '2020-09-01 23:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb2606f3c8eb24b2fc105f7cd164c5fb2f95bf6e', 'message': ""Stop relying on future mtime in tripleo_nova_image_cache\n\nThe tripleo_nova_image_cache role was relying on a future mtime to convince\nnova image cleanup logic to skip a specific image that we want to pre-cache.\nThis works well on nodes that are not currently hosting an instance of the\nimage, however if there is an instance using it then nova will reset the mtime\nevery 40 minutes (by default).\n\nAs a result it's not possible to provide fine grained control of the caching.\nWe can just ensure the image exists on the host with an mtime of now.\nIt should remain cache for at least remove_unused_original_minimum_age_seconds\nfrom nova.conf (default 86400).\n\nChange-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606\n""}, {'number': 5, 'created': '2020-09-01 23:34:59.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_image_cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/359ef43f944618ddcd2ae07c7d321a4d53cb9015', 'message': ""Stop relying on future mtime in tripleo_nova_image_cache\n\nThe tripleo_nova_image_cache role was relying on a future mtime to convince\nnova image cleanup logic to skip a specific image that we want to pre-cache.\nThis works well on nodes that are not currently hosting an instance of the\nimage, however if there is an instance using it then nova will reset the mtime\nevery 40 minutes (by default).\n\nAs a result it's not possible to provide fine grained control of the caching.\nWe can just ensure the image exists on the host with an mtime of now.\nIt should remain cache for at least remove_unused_original_minimum_age_seconds\nfrom nova.conf (default 86400).\n\nChange-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606\n""}]",1,749405,359ef43f944618ddcd2ae07c7d321a4d53cb9015,14,7,5,23811,,,0,"Stop relying on future mtime in tripleo_nova_image_cache

The tripleo_nova_image_cache role was relying on a future mtime to convince
nova image cleanup logic to skip a specific image that we want to pre-cache.
This works well on nodes that are not currently hosting an instance of the
image, however if there is an instance using it then nova will reset the mtime
every 40 minutes (by default).

As a result it's not possible to provide fine grained control of the caching.
We can just ensure the image exists on the host with an mtime of now.
It should remain cache for at least remove_unused_original_minimum_age_seconds
from nova.conf (default 86400).

Change-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/749405/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_image_cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py']",5,bdd9dfb018230fe3d92e8f4a4485bf8c433c49b1,,"- name: Cache image if not exists_in_cache: if not exists_in_glance: module.fail_json( msg=""Image not found in glance: %s"" % image_id) md5 = hashlib.md5() if prefetched_path: result['actions'].append({ 'name': 'Verify pre-fetched image checksum' }) with open(prefetched_path, 'rb') as prefetched_image_file: while True: chunk = prefetched_image_file.read(chunk_size) if not chunk: break md5.update(chunk) prefetched_checksum = md5.hexdigest() if prefetched_checksum == image.checksum: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(prefetched_path, 42436, 42436) os.rename(prefetched_path, cache_file) else: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) if not scp_continue: module.fail_json( msg=""Pre-fetched image checksum failed"") # Ignore it and download direct from glance. # As we did not create it we should not remove it. prefetched_path = '' if not prefetched_path: with tempfile.NamedTemporaryFile( 'wb', dir=cache_dir, delete=False) as temp_cache_file: try: md5 = hashlib.md5() image_stream = cloud.image.download_image( image, stream=True ) try: for chunk in image_stream.iter_content( chunk_size=chunk_size): md5.update(chunk) temp_cache_file.write(chunk) finally: image_stream.close() temp_cache_file.close() download_checksum = md5.hexdigest() if download_checksum != image.checksum: 'result': False, module.fail_json( msg=""Image data does not match checksum"") result['actions'].append({ 'name': 'Verify downloaded image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': download_checksum }) # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(temp_cache_file.name, 42436, 42436) os.rename(temp_cache_file.name, cache_file) result['changed'] = True finally: try: os.unlink(temp_cache_file.name) except Exception: pass # Always set the mtime to now but don't report this as a change # as this is constantly refreshed by nova (every 40mins by default) # while an instance on the host is using the image now = time.time() os.utime(cache_file, (now, now)) result['mtime'] = now"," ttl: description: - Ensure the image remains cached for at least ttl days default: 7 state: description: - Whether the image be present in cache or expired (nova should delete it later if it is no longer used) choices: [present, expired] default: present- name: Cache image for at least 2 weeks ttl: 14 - name: Allow nova to cleanup this image from cache tripleo_nova_image_cache: id: ec151bd1-aab4-413c-b577-ced089e7d3f8 state: expired ttl: 14def ttl_to_ts(ttl_days): """"""Return a timestamp at midnight UTC ttl_days in the future"""""" epoch = datetime.datetime.utcfromtimestamp(0) midnight_today = datetime.datetime.utcnow().replace( hour=0, minute=0, second=0, microsecond=0) expiry = midnight_today + datetime.timedelta(days=ttl_days+1) return (expiry - epoch).total_seconds() ttl=dict(default=7, type='int', min=1), state=dict(default='present', choices=['expired', 'present']), ttl_days = module.params['ttl'] if module.params['state'] == 'present': if not exists_in_cache: if not exists_in_glance: module.fail_json( msg=""Image not found in glance: %s"" % image_id) md5 = hashlib.md5() if prefetched_path: result['actions'].append({ 'name': 'Verify pre-fetched image checksum' with open(prefetched_path, 'rb') as prefetched_image_file: while True: chunk = prefetched_image_file.read(chunk_size) if not chunk: break md5.update(chunk) prefetched_checksum = md5.hexdigest() if prefetched_checksum == image.checksum: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(prefetched_path, 42436, 42436) os.rename(prefetched_path, cache_file) else: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) if not scp_continue: module.fail_json( msg=""Pre-fetched image checksum failed"") # Ignore it and download direct from glance. # As we did not create it we should not remove it. prefetched_path = '' if not prefetched_path: with tempfile.NamedTemporaryFile( 'wb', dir=cache_dir, delete=False) as temp_cache_file: try: md5 = hashlib.md5() image_stream = cloud.image.download_image( image, stream=True ) try: for chunk in image_stream.iter_content( chunk_size=chunk_size): md5.update(chunk) temp_cache_file.write(chunk) finally: image_stream.close() temp_cache_file.close() download_checksum = md5.hexdigest() if download_checksum != image.checksum: result['actions'].append({ 'name': 'Verify downloaded image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': download_checksum }) module.fail_json( msg=""Image data does not match checksum"") 'result': True, # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(temp_cache_file.name, 42436, 42436) os.rename(temp_cache_file.name, cache_file) result['changed'] = True finally: try: os.unlink(temp_cache_file.name) except Exception: pass # Set the mtime in the future to prevent nova cleanup cache_file_stat = os.stat(cache_file) expiry_ts = ttl_to_ts(ttl_days) now = time.time() if cache_file_stat.st_mtime != expiry_ts: os.utime(cache_file, (now, expiry_ts)) result['actions'].append({ 'name': 'Update mtime', 'from': cache_file_stat.st_mtime, 'to': expiry_ts }) result['changed'] = True else: # expired if not exists_in_cache: result['changed'] = False else: # Set the mtime to epoch to enable nova cleanup now = time.time() ts = 0 cache_file_stat = os.stat(cache_file) if cache_file_stat.st_mtime > ts: os.utime(cache_file, (now, ts)) result['actions'].append({ 'name': 'Update mtime', 'from': cache_file_stat.st_mtime, 'to': ts }) result['changed'] = True cache_file_stat = os.stat(cache_file) result['mtime'] = cache_file_stat.st_mtime result['expires'] = time.strftime( ""%a, %d %b %Y %H:%M:%S %z"", time.localtime(cache_file_stat.st_mtime) )",85,185
openstack%2Fhorizon~master~Iaedcdaaabb63c5f60d057fbd7927556a6038b89c,openstack/horizon,master,Iaedcdaaabb63c5f60d057fbd7927556a6038b89c,Fix instance integration tests,MERGED,2020-07-17 14:59:55.000000000,2020-09-02 17:37:22.000000000,2020-09-02 17:35:39.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-17 14:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f04ffda41776cc02c255bde87da73794bec56f6b', 'message': 'Fix instance integration tests\n\nFixes image and flavor selecting when creating instances.\n\nChange-Id: Iaedcdaaabb63c5f60d057fbd7927556a6038b89c\n'}, {'number': 2, 'created': '2020-07-21 10:41:46.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/menus.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/85503a7c517eba910ec8d1382a3c15d87db21d1a', 'message': 'Fix instance integration tests\n\nFixes image and flavor selecting when creating instances.\nBefore this patch, selenium selected wrong column to compare\nimage names. This is reproduced when table consists of two or\nmore images, and the first image in table is not the one, that\nwe are looking for.\n\n\nChange-Id: Iaedcdaaabb63c5f60d057fbd7927556a6038b89c\n'}]",0,741655,85503a7c517eba910ec8d1382a3c15d87db21d1a,14,4,2,28032,,,0,"Fix instance integration tests

Fixes image and flavor selecting when creating instances.
Before this patch, selenium selected wrong column to compare
image names. This is reproduced when table consists of two or
more images, and the first image in table is not the one, that
we are looking for.


Change-Id: Iaedcdaaabb63c5f60d057fbd7927556a6038b89c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/55/741655/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/regions/menus.py'],1,f04ffda41776cc02c255bde87da73794bec56f6b,," if len(cols) > 1 and self._get_column_text(cols) in resource_name: def _get_column_text(self, cols): return cols[2].text.strip() def _get_column_text(self, cols): return cols[1].text.strip()", if len(cols) > 1 and cols[1].text.strip() in resource_name:,7,1
openstack%2Fopenstack-chef~master~I191b14a295bf323ab37f5a97298f9f0594e8843c,openstack/openstack-chef,master,I191b14a295bf323ab37f5a97298f9f0594e8843c,Chef 16 support,MERGED,2020-08-22 00:42:24.000000000,2020-09-02 16:54:13.000000000,2020-09-02 16:43:08.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 00:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/a5f7985c3b39355efa7f70ae6f87dc077d39e138', 'message': ""Chef 16 support\n\nThis adds support for testing both Chef/Cinc 15 and Chef/Cinc 16 which are still\nsupported upstream. For now this disables voting on 16 as we have some known\nissues that need to be worked out first.\n\nIn addition, this updates to Chef Workstation 20.8.111 which includes Chef 16\nfor spec testing. For now, let's only worry about doing unit testing against\nChef 16 and worry about integration testing to catch any issues with Chef 15.\n\nAlso remove installation of the fog-openstack gem as it's now included in Chef\nWorkstation by default.\n\nChange-Id: I191b14a295bf323ab37f5a97298f9f0594e8843c\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2020-08-22 00:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/91ad762931fff92fac258b960d341a1bad609653', 'message': ""Chef 16 support\n\nThis adds support for testing both Chef/Cinc 15 and Chef/Cinc 16 which\nare still supported upstream. For now this disables voting on 16 as we\nhave some known issues that need to be worked out first.\n\nIn addition, this updates to Chef Workstation 20.8.111 which includes\nChef 16 for spec testing. For now, let's only worry about doing unit\ntesting against Chef 16 and worry about integration testing to catch any\nissues with Chef 15.\n\nAlso remove installation of the fog-openstack gem as it's now included\nin Chef Workstation by default.\n\nChange-Id: I191b14a295bf323ab37f5a97298f9f0594e8843c\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 3, 'created': '2020-08-24 02:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/0b85eb445138a86102ed0e5f8f97a9adf2356116', 'message': ""Chef 16 support\n\nThis adds support for testing both Chef/Cinc 15 and Chef/Cinc 16 which\nare still supported upstream. For now this disables voting on 16 as we\nhave some known issues that need to be worked out first.\n\nIn addition, this updates to Chef Workstation 20.8.111 which includes\nChef 16 for spec testing. For now, let's only worry about doing unit\ntesting against Chef 16 and worry about integration testing to catch any\nissues with Chef 15.\n\nAlso remove installation of the fog-openstack gem as it's now included\nin Chef Workstation by default.\n\nChange-Id: I191b14a295bf323ab37f5a97298f9f0594e8843c\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 4, 'created': '2020-08-24 17:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/8e3525327094e0d41e8af09fab0f8f451f62987b', 'message': ""Chef 16 support\n\nThis adds support for testing both Chef/Cinc 15 and Chef/Cinc 16 which\nare still supported upstream. For now this disables voting on 16 as we\nhave some known issues that need to be worked out first.\n\nIn addition, this updates to Chef Workstation 20.8.111 which includes\nChef 16 for spec testing. For now, let's only worry about doing unit\ntesting against Chef 16 and worry about integration testing to catch any\nissues with Chef 15.\n\nAlso remove installation of the fog-openstack gem as it's now included\nin Chef Workstation by default.\n\nChange-Id: I191b14a295bf323ab37f5a97298f9f0594e8843c\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 5, 'created': '2020-08-25 17:24:41.000000000', 'files': ['test/integration/ops-database/inspec/ops_database_spec.rb', 'test/integration/dns/inspec/dns_spec.rb', 'playbooks/pre-delivery.yaml', 'playbooks/roles/install-chef/tasks/main.yaml', 'README.rst', '.zuul.yaml', 'playbooks/roles/install-chef/defaults/main.yaml', 'kitchen.yml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/0e1bbc88fc1c7db31e8e4c77f4b5c6b0598ef4ec', 'message': ""Chef 16 support\n\nThis adds support for testing both Chef/Cinc 15 and Chef/Cinc 16 which\nare still supported upstream. For now this disables voting on 16 as we\nhave some known issues that need to be worked out first.\n\nIn addition, this updates to Chef Workstation 20.8.111 which includes\nChef 16 for spec testing. For now, let's only worry about doing unit\ntesting against Chef 16 and worry about integration testing to catch any\nissues with Chef 15.\n\nAlso remove installation of the fog-openstack gem as it's now included\nin Chef Workstation by default.\n\nChange-Id: I191b14a295bf323ab37f5a97298f9f0594e8843c\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",96,747503,0e1bbc88fc1c7db31e8e4c77f4b5c6b0598ef4ec,18,3,5,21961,,,0,"Chef 16 support

This adds support for testing both Chef/Cinc 15 and Chef/Cinc 16 which
are still supported upstream. For now this disables voting on 16 as we
have some known issues that need to be worked out first.

In addition, this updates to Chef Workstation 20.8.111 which includes
Chef 16 for spec testing. For now, let's only worry about doing unit
testing against Chef 16 and worry about integration testing to catch any
issues with Chef 15.

Also remove installation of the fog-openstack gem as it's now included
in Chef Workstation by default.

Change-Id: I191b14a295bf323ab37f5a97298f9f0594e8843c
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/03/747503/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pre-delivery.yaml', 'playbooks/roles/install-chef/tasks/main.yaml', 'README.rst', '.zuul.yaml', 'playbooks/roles/install-chef/defaults/main.yaml', 'kitchen.yml']",6,a5f7985c3b39355efa7f70ae6f87dc077d39e138,chef-16, product_version: 16, product_version: 15,93,35
openstack%2Ftap-as-a-service~master~If8b1aba3b3955fd705f2a13a79c7225a03369da6,openstack/tap-as-a-service,master,If8b1aba3b3955fd705f2a13a79c7225a03369da6,Enhancements to TaaS agent driver failure handling,MERGED,2019-09-12 23:23:31.000000000,2020-09-02 16:51:31.000000000,2020-09-02 16:51:31.000000000,"[{'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 16881}, {'_account_id': 17776}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 27589}, {'_account_id': 28719}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-12 23:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/cd43f98dca8df1850d096da6d2e1d3113e5313b8', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are created\niniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 2, 'created': '2019-09-13 17:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/b6f5f949a966fc1314790e156a4c1a5ffd5b368b', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 3, 'created': '2019-10-02 19:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3d58e7aa68f7ba65e91f88f7274a2af7473187f8', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 4, 'created': '2019-10-09 20:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/aef4b936e55222306c08c24bcae7d926d8be29ed', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 5, 'created': '2019-10-21 14:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f9742835fba477bc3f3261d7a36a167512e1a3ff', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 6, 'created': '2019-10-23 20:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/ead728f34bb7e970a89226b32ef5ca639e7eb2a0', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 7, 'created': '2019-10-24 15:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/4efb3d6b4becf0d8dde5f9f20a007b76635b2b73', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 8, 'created': '2019-10-30 20:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a9874bb715eb0db8697e3989204ee5eccb422083', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 9, 'created': '2019-10-30 21:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7e99faddabf43baeca8bf6ad8988b85e82e77f73', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 10, 'created': '2019-11-05 16:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7fce4ed229282fb9440f76548b57064c0b74182f', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 11, 'created': '2019-11-07 19:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a2803521bd0b1bcb5625909082cc78749c3ea7f6', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 12, 'created': '2019-11-07 20:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/306d6d863e3970f157bab448d1dd6c79043de86e', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 13, 'created': '2019-11-07 21:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f7866890ece09f03eb5b5f11f19a3f07c4a7284e', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 14, 'created': '2019-11-08 19:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/933c210ff110bbae16119620bc374850720abb7c', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 15, 'created': '2020-02-05 05:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/66730f5cab6032d204df19e3d61db95a7a4ce621', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 16, 'created': '2020-02-10 06:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/41cf9a505fc78d76fbf3bd9a5560e22f6f88f20d', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 17, 'created': '2020-02-19 05:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d44f916c068f6867c2b70b9bd34e630721291683', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 18, 'created': '2020-02-19 06:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f2df2420f5db78d605a4b009b99bf0d048abcda6', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 19, 'created': '2020-06-22 09:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/de2bee6a37ab3aa598d472fe5565efe80b8f439d', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 20, 'created': '2020-07-13 08:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/b548f58d0b1890569c2da1570b9aacdbc89c92ec', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 21, 'created': '2020-07-13 11:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/46fed1bc4dc3fb65e3422c2c08231663aea1b032', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}, {'number': 22, 'created': '2020-08-19 14:32:46.000000000', 'files': ['neutron_taas/services/taas/agents/common/taas_agent.py', 'neutron_taas/services/taas/taas_plugin.py', 'neutron_taas/tests/unit/services/taas/test_taas_plugin.py', 'neutron_taas/db/taas_db.py', 'neutron_taas/services/taas/service_drivers/taas_rpc.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8332a396b1b046eb370c0cb377d836d0c6b6d6ca', 'message': ""Enhancements to TaaS agent driver failure handling\n\nAs per current handling if there is any failure in the taas agent driver\nthere is no way to convey that to the plugin. Due to which end user gets\nthe impression that everything went well. This is confusing.\n\nNow, as part of this enhancement, when the tap resources are :-\n\n1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once\nthe TaaS agent driver exectuion is finished, it will ask the plugin to\nset the status to either 'ACTIVE' or 'ERROR' depending on whether the\ndriver was able to do its tasks successfully or not.\n\n2. Deleted: as per curretn handling plugin used to first delete the\nresources from DB and then inform the agent. Now the sequence would be\nthat plugin informs agent first. Agent shall ask the plugin to set the\nresource status t either INACTIVE (indicates successful deletion,\nwhereby plugin shall clear the resources from the DB) or\nPENDING_DELETE (failure in deleting the resources from driver, whereby\nplugin would simply update the status for the resource in DB).\n\nChange-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6\n""}]",11,681946,8332a396b1b046eb370c0cb377d836d0c6b6d6ca,88,9,22,27589,,,0,"Enhancements to TaaS agent driver failure handling

As per current handling if there is any failure in the taas agent driver
there is no way to convey that to the plugin. Due to which end user gets
the impression that everything went well. This is confusing.

Now, as part of this enhancement, when the tap resources are :-

1. Created: iniitally they shall be created with status 'DOWN' by TaaS plugin. Once
the TaaS agent driver exectuion is finished, it will ask the plugin to
set the status to either 'ACTIVE' or 'ERROR' depending on whether the
driver was able to do its tasks successfully or not.

2. Deleted: as per curretn handling plugin used to first delete the
resources from DB and then inform the agent. Now the sequence would be
that plugin informs agent first. Agent shall ask the plugin to set the
resource status t either INACTIVE (indicates successful deletion,
whereby plugin shall clear the resources from the DB) or
PENDING_DELETE (failure in deleting the resources from driver, whereby
plugin would simply update the status for the resource in DB).

Change-Id: If8b1aba3b3955fd705f2a13a79c7225a03369da6
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/46/681946/11 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/services/taas/agents/common/taas_agent.py', 'neutron_taas/db/taas_db.py', 'neutron_taas/services/taas/service_drivers/taas_rpc.py']",3,cd43f98dca8df1850d096da6d2e1d3113e5313b8,driverfail," def set_tap_service_status(self, context, msg, status, host): """"""Handle Rpc from Agent to set the status of Tap resources."""""" LOG.debug(""In RPC Call to set tap service status: Host=%s, "" ""MSG=%s, STATUS=%s"" % (host, msg, status)) with context.session.begin(subtransactions=True): tap_service = self.plugin.get_tap_service(context, msg['id']) tap_service['status'] = status super(TaasPlugin, self.plugin).update_tap_service(context, msg['id'], tap_service) def set_tap_flow_status(self, context, msg, status, host): """"""Handle Rpc from Agent to set the status of Tap resources."""""" LOG.debug(""In RPC Call to set tap flow status: Host=%s, "" ""MSG=%s, STATUS=%s"" % (host, msg, status)) with context.session.begin(subtransactions=True): tap_flow = self.plugin.get_tap_flow(context, msg['id']) tap_flow['status'] = status super(TaasPlugin, self.plugin).update_tap_flow(context, msg['id'], tap_flow) ",,70,2
openstack%2Fcookbook-openstack-integration-test~master~I986de1516de71ff578cb8c9e70f8afb49c0347e9,openstack/cookbook-openstack-integration-test,master,I986de1516de71ff578cb8c9e70f8afb49c0347e9,Chef 16 updates,MERGED,2020-08-24 15:50:39.000000000,2020-09-02 16:43:28.000000000,2020-09-02 16:43:28.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 15:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/df713295fcb6a402da583ae7585775042164db01', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747752\nDepends-On: https://review.opendev.org/747557\nChange-Id: I986de1516de71ff578cb8c9e70f8afb49c0347e9\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-28 00:46:48.000000000', 'files': ['README.rst', 'recipes/setup.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/9f7b019ada91d56d22418f68085e5ceb5ba70e5d', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747752\nDepends-On: https://review.opendev.org/747557\nChange-Id: I986de1516de71ff578cb8c9e70f8afb49c0347e9\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747757,9f7b019ada91d56d22418f68085e5ceb5ba70e5d,8,2,2,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747752
Depends-On: https://review.opendev.org/747557
Change-Id: I986de1516de71ff578cb8c9e70f8afb49c0347e9
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/57/747757/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'recipes/setup.rb']",2,df713295fcb6a402da583ae7585775042164db01,chef16,auth_url = ::URI.decode_www_form_component identity_endpoint.to_s,auth_url = ::URI.decode identity_endpoint.to_s,2,2
openstack%2Fcookbook-openstack-image~master~I9ed3850bcd2093433420ef9870abf6dcc76f2294,openstack/cookbook-openstack-image,master,I9ed3850bcd2093433420ef9870abf6dcc76f2294,Chef 16 updates,MERGED,2020-08-23 04:10:14.000000000,2020-09-02 16:43:26.000000000,2020-09-02 16:43:26.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 04:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/05d88dec0c5580bd09e6d424b3a948935dc1cea5', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: I9ed3850bcd2093433420ef9870abf6dcc76f2294\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/eac8f5f240725dcc434f162c900a60a6994846ee', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: I9ed3850bcd2093433420ef9870abf6dcc76f2294\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:22:17.000000000', 'files': ['README.rst', 'recipes/swift_store.rb', 'recipes/api.rb', 'recipes/image_upload.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/4ecdad32bb1456ccf49c59442956fa938118179a', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: I9ed3850bcd2093433420ef9870abf6dcc76f2294\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747557,4ecdad32bb1456ccf49c59442956fa938118179a,12,2,3,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747556
Change-Id: I9ed3850bcd2093433420ef9870abf6dcc76f2294
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-image refs/changes/57/747557/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,05d88dec0c5580bd09e6d424b3a948935dc1cea5,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-dns~master~I05135e9eb7a945019d0657b6e48b8a0ca5e63145,openstack/cookbook-openstack-dns,master,I05135e9eb7a945019d0657b6e48b8a0ca5e63145,Chef 16 updates,MERGED,2020-08-24 15:37:38.000000000,2020-09-02 16:43:24.000000000,2020-09-02 16:43:23.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 15:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/2d6a07cd1e0def6f10a86a0fe6e2ae1b1267f97e', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747602\nChange-Id: I05135e9eb7a945019d0657b6e48b8a0ca5e63145\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/575a316d0a9c26d55ebeb5695d0848182cfea659', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747602\nChange-Id: I05135e9eb7a945019d0657b6e48b8a0ca5e63145\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:43:24.000000000', 'files': ['README.rst', 'recipes/neutron_int.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/bec72e2bc26416263a80868b4017b546fa4a14b3', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747602\nChange-Id: I05135e9eb7a945019d0657b6e48b8a0ca5e63145\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747752,bec72e2bc26416263a80868b4017b546fa4a14b3,12,2,3,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747602
Change-Id: I05135e9eb7a945019d0657b6e48b8a0ca5e63145
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dns refs/changes/52/747752/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2d6a07cd1e0def6f10a86a0fe6e2ae1b1267f97e,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-network~master~I91b7c6054865daa4ae9ff0012c29f74d6a6d269d,openstack/cookbook-openstack-network,master,I91b7c6054865daa4ae9ff0012c29f74d6a6d269d,Chef 16 updates,MERGED,2020-08-24 02:39:05.000000000,2020-09-02 16:43:20.000000000,2020-09-02 16:43:20.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 02:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/3d5e70f3006663c94ea3dca5eb8dd8e80b8a5b04', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: I91b7c6054865daa4ae9ff0012c29f74d6a6d269d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/95403e3b22b9e20a93a3a7f3aee55aeebea8b17d', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: I91b7c6054865daa4ae9ff0012c29f74d6a6d269d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:32:41.000000000', 'files': ['README.rst', 'recipes/default.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/5fbaaa6a496bbcd5121fbff00e0237745c4a5751', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: I91b7c6054865daa4ae9ff0012c29f74d6a6d269d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747602,5fbaaa6a496bbcd5121fbff00e0237745c4a5751,10,2,3,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747556
Change-Id: I91b7c6054865daa4ae9ff0012c29f74d6a6d269d
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/02/747602/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3d5e70f3006663c94ea3dca5eb8dd8e80b8a5b04,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-dashboard~master~Ia1d62b3d9e8843956831faa30436e2fdc6992c8d,openstack/cookbook-openstack-dashboard,master,Ia1d62b3d9e8843956831faa30436e2fdc6992c8d,Chef 16 updates,MERGED,2020-08-24 15:47:16.000000000,2020-09-02 16:43:18.000000000,2020-09-02 16:43:18.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 15:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/17d4fd30dacbd815d20bb49ca749e2f1519e9a38', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ia1d62b3d9e8843956831faa30436e2fdc6992c8d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-28 00:45:55.000000000', 'files': ['recipes/horizon.rb', 'README.rst', 'recipes/apache2-server.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/91c88364b23d3761d616ae33801a32e7335e5f7a', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ia1d62b3d9e8843956831faa30436e2fdc6992c8d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747754,91c88364b23d3761d616ae33801a32e7335e5f7a,10,2,2,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747556
Change-Id: Ia1d62b3d9e8843956831faa30436e2fdc6992c8d
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/54/747754/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/horizon.rb', 'README.rst']",2,17d4fd30dacbd815d20bb49ca749e2f1519e9a38,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,2,2
openstack%2Fcookbook-openstack-telemetry~master~Ib869c7c1aded0cc0669f83fdad9ac1077851f08f,openstack/cookbook-openstack-telemetry,master,Ib869c7c1aded0cc0669f83fdad9ac1077851f08f,Chef 16 updates,MERGED,2020-08-24 02:47:21.000000000,2020-09-02 16:43:15.000000000,2020-09-02 16:43:15.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 02:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/4b44fad93e8e9a011b40c9e6e0e99ed3b9c7f14a', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ib869c7c1aded0cc0669f83fdad9ac1077851f08f\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 18:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/88fa301b28b0b6e0da177e82a862eb7b4277dcb3', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ib869c7c1aded0cc0669f83fdad9ac1077851f08f\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-28 00:42:23.000000000', 'files': ['recipes/aodh.rb', 'README.rst', 'recipes/gnocchi_configure.rb', 'recipes/common.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/922e5284e21d7d364d0e852059d8b9f9c5148820', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/747556\nChange-Id: Ib869c7c1aded0cc0669f83fdad9ac1077851f08f\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747608,922e5284e21d7d364d0e852059d8b9f9c5148820,10,2,3,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/747556
Change-Id: Ib869c7c1aded0cc0669f83fdad9ac1077851f08f
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/08/747608/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4b44fad93e8e9a011b40c9e6e0e99ed3b9c7f14a,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-identity~master~I4ad921b46ee476d9e866303e33be7b8803cdff98,openstack/cookbook-openstack-identity,master,I4ad921b46ee476d9e866303e33be7b8803cdff98,Chef 16 updates,MERGED,2020-08-23 04:08:56.000000000,2020-09-02 16:43:14.000000000,2020-09-02 16:43:14.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 04:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/892041deba3203ea69cb3146e31bc1e2f9f192c8', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/740342\nDepends-On: https://review.opendev.org/747542\nDepends-On: https://review.opendev.org/747554\nDepends-On: https://review.opendev.org/747555\nChange-Id: I4ad921b46ee476d9e866303e33be7b8803cdff98\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-24 17:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/ab4794048e486e54885a7bcbe02690d62bec54d7', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/740342\nDepends-On: https://review.opendev.org/747542\nDepends-On: https://review.opendev.org/747554\nDepends-On: https://review.opendev.org/747555\nChange-Id: I4ad921b46ee476d9e866303e33be7b8803cdff98\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 3, 'created': '2020-08-27 22:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/fbbf24f8e8f3d3a293da99bf94ada4de186d3206', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/740342\nDepends-On: https://review.opendev.org/747542\nDepends-On: https://review.opendev.org/747554\nDepends-On: https://review.opendev.org/747555\nChange-Id: I4ad921b46ee476d9e866303e33be7b8803cdff98\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 4, 'created': '2020-08-28 00:20:44.000000000', 'files': ['recipes/server-apache.rb', 'recipes/registration.rb', 'recipes/cloud_config.rb', 'README.rst', 'recipes/openrc.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/9a45f9e60a51b942dae855ab0356953bf84f3292', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/740342\nDepends-On: https://review.opendev.org/747542\nDepends-On: https://review.opendev.org/747554\nDepends-On: https://review.opendev.org/747555\nChange-Id: I4ad921b46ee476d9e866303e33be7b8803cdff98\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747556,9a45f9e60a51b942dae855ab0356953bf84f3292,15,2,4,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/740342
Depends-On: https://review.opendev.org/747542
Depends-On: https://review.opendev.org/747554
Depends-On: https://review.opendev.org/747555
Change-Id: I4ad921b46ee476d9e866303e33be7b8803cdff98
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/56/747556/4 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,892041deba3203ea69cb3146e31bc1e2f9f192c8,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-ops-database~master~Ic6385a7cb14d1f036b0cf1a6d92ecf5930f271fb,openstack/cookbook-openstack-ops-database,master,Ic6385a7cb14d1f036b0cf1a6d92ecf5930f271fb,Chef 16 updates,MERGED,2020-08-23 04:07:38.000000000,2020-09-02 16:43:13.000000000,2020-09-02 16:43:13.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 04:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/4ed7683a63e6ff7804e4ac40d2b6cd281b0f7fa5', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/740342\nChange-Id: Ic6385a7cb14d1f036b0cf1a6d92ecf5930f271fb\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-27 22:12:06.000000000', 'files': ['README.rst', 'recipes/openstack-db.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/0b08fc614292f04317e82c652cdddf364ab934b8', 'message': 'Chef 16 updates\n\nDepends-On: https://review.opendev.org/740342\nChange-Id: Ic6385a7cb14d1f036b0cf1a6d92ecf5930f271fb\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747555,0b08fc614292f04317e82c652cdddf364ab934b8,10,2,2,21961,,,0,"Chef 16 updates

Depends-On: https://review.opendev.org/740342
Change-Id: Ic6385a7cb14d1f036b0cf1a6d92ecf5930f271fb
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/55/747555/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4ed7683a63e6ff7804e4ac40d2b6cd281b0f7fa5,chef16,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for cookbook,- Chef Workstation 0.18.3 for testing (also includes Berkshelf for cookbook,1,1
openstack%2Fcookbook-openstack-ops-messaging~master~Ia1f172fea148aafe910e5185c0427d0ed7815475,openstack/cookbook-openstack-ops-messaging,master,Ia1f172fea148aafe910e5185c0427d0ed7815475,Chef 16 updates,MERGED,2020-08-23 04:06:51.000000000,2020-09-02 16:43:12.000000000,2020-09-02 16:43:12.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-23 04:06:51.000000000', 'files': ['README.rst', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/b1e81544e96e576c8dfe3b0a6727a9e358a55ff2', 'message': 'Chef 16 updates\n\nUpdate rabbitmq dependency which pulls in fixes for Chef 16.\n\nDepends-On: https://review.opendev.org/740342\nChange-Id: Ia1f172fea148aafe910e5185c0427d0ed7815475\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747554,b1e81544e96e576c8dfe3b0a6727a9e358a55ff2,6,2,1,21961,,,0,"Chef 16 updates

Update rabbitmq dependency which pulls in fixes for Chef 16.

Depends-On: https://review.opendev.org/740342
Change-Id: Ia1f172fea148aafe910e5185c0427d0ed7815475
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-messaging refs/changes/54/747554/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'metadata.rb']",2,b1e81544e96e576c8dfe3b0a6727a9e358a55ff2,,"depends 'rabbitmq', '>= 5.8.5'","depends 'rabbitmq', '~> 5.8'",2,2
openstack%2Fcookbook-openstackclient~master~Iaa0ccfa7dd47a729423fc7ce1115849a282d2511,openstack/cookbook-openstackclient,master,Iaa0ccfa7dd47a729423fc7ce1115849a282d2511,Cookstyle fixes for Chef 16,MERGED,2020-08-22 20:52:21.000000000,2020-09-02 16:43:11.000000000,2020-09-02 16:43:11.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 20:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/d4c37bae00a59def16ceba335e5e40f459c01e05', 'message': 'Cookstyle fixes for Chef 16\n\nAlso loosen the fog-openstack dependency a bit since this is now included in\nChef Workstation and will likely cause issues when doing testing.\n\nDepends-On: https://review.opendev.org/747503\nChange-Id: Iaa0ccfa7dd47a729423fc7ce1115849a282d2511\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2020-08-22 21:02:15.000000000', 'files': ['libraries/openstack_role.rb', 'libraries/openstack_domain.rb', 'libraries/openstack_project.rb', 'libraries/openstack_user.rb', 'README.rst', 'libraries/openstack_endpoint.rb', 'libraries/openstack_service.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/e216cc621e8ea92197ae3a63b3dbf35858564470', 'message': 'Cookstyle fixes for Chef 16\n\nAlso loosen the fog-openstack dependency a bit since this is now included in\nChef Workstation and will likely cause issues when doing testing.\n\nDepends-On: https://review.opendev.org/747503\nDepends-On: https://review.opendev.org/740342\nChange-Id: Iaa0ccfa7dd47a729423fc7ce1115849a282d2511\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,747542,e216cc621e8ea92197ae3a63b3dbf35858564470,10,3,2,21961,,,0,"Cookstyle fixes for Chef 16

Also loosen the fog-openstack dependency a bit since this is now included in
Chef Workstation and will likely cause issues when doing testing.

Depends-On: https://review.opendev.org/747503
Depends-On: https://review.opendev.org/740342
Change-Id: Iaa0ccfa7dd47a729423fc7ce1115849a282d2511
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/42/747542/1 && git format-patch -1 --stdout FETCH_HEAD,"['libraries/openstack_role.rb', 'libraries/openstack_domain.rb', 'libraries/openstack_project.rb', 'libraries/openstack_user.rb', 'README.rst', 'libraries/openstack_endpoint.rb', 'libraries/openstack_service.rb', 'metadata.rb']",8,d4c37bae00a59def16ceba335e5e40f459c01e05,chef-16,"gem 'fog-openstack', '~> 1.0.11'","gem 'fog-openstack', '= 1.0.10'",8,2
openstack%2Fcookbook-openstack-common~master~I24be89a3214207bac2df9eb360124871e0d8242f,openstack/cookbook-openstack-common,master,I24be89a3214207bac2df9eb360124871e0d8242f,Adds provides method to define name of resources,MERGED,2020-07-09 17:28:50.000000000,2020-09-02 16:43:10.000000000,2020-09-02 16:43:10.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 31353}]","[{'number': 1, 'created': '2020-07-09 17:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/cb1eb5294825d842972324168ff9b54169b30227', 'message': 'Adds provides method to define name of resources\n\nIn Chef Infra Client 16.2, resources have to be named using the provides\nmethod. The resource_name method has not been changed in order to be\ncompatible with Chef Infra Client <16.2.\n\nChange-Id: I24be89a3214207bac2df9eb360124871e0d8242f\nCloses-Bug: #1886985\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n'}, {'number': 2, 'created': '2020-08-22 20:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/58721545b5a9a52e1d42106870fe65e41b9ef0b0', 'message': 'Adds provides method to define name of resources\n\nIn Chef Infra Client 16.2, resources have to be named using the provides\nmethod. The resource_name method has not been changed in order to be\ncompatible with Chef Infra Client <16.2.\n\nDepends-On: https://review.opendev.org/747503\nChange-Id: I24be89a3214207bac2df9eb360124871e0d8242f\nCloses-Bug: #1886985\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n'}, {'number': 3, 'created': '2020-08-24 17:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/aa64d7b68d898d246cd0acc0d3466f3c26eba57b', 'message': 'Adds provides method to define name of resources\n\nIn Chef Infra Client 16.2, resources have to be named using the provides\nmethod. The resource_name method has not been changed in order to be\ncompatible with Chef Infra Client <16.2.\n\nAlso fix URI.encode and URI.decode deprecations.\n\nDepends-On: https://review.opendev.org/747503\nChange-Id: I24be89a3214207bac2df9eb360124871e0d8242f\nCloses-Bug: #1886985\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 4, 'created': '2020-08-27 22:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/7d030017c43e81999f8a5cb730a045854b2bc668', 'message': 'Adds provides method to define name of resources\n\nIn Chef Infra Client 16.2, resources have to be named using the provides\nmethod. The resource_name method has not been changed in order to be\ncompatible with Chef Infra Client <16.2.\n\nAlso fix URI.encode and URI.decode deprecations.\n\nUpdate etcd depends to ~> 6.0 to fix Chef 16 deprecation warnings.\n\nDepends-On: https://review.opendev.org/747503\nChange-Id: I24be89a3214207bac2df9eb360124871e0d8242f\nCloses-Bug: #1886985\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 5, 'created': '2020-08-27 22:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/2966e8ef1bcaa3418889298b99f965e59c5a1399', 'message': 'Adds provides method to define name of resources\n\nIn Chef Infra Client 16.2, resources have to be named using the provides\nmethod. The resource_name method has not been changed in order to be\ncompatible with Chef Infra Client <16.2.\n\nAlso fix URI.encode and URI.decode deprecations.\n\nUpdate etcd depends to ~> 6.0 to fix Chef 16 deprecation warnings.\n\nDepends-On: https://review.opendev.org/747503\nChange-Id: I24be89a3214207bac2df9eb360124871e0d8242f\nCloses-Bug: #1886985\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 6, 'created': '2020-08-27 23:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/1de8c1a0af06536fe2f0cbb21a490a5b35545bc1', 'message': 'Adds provides method to define name of resources\n\nIn Chef Infra Client 16.2, resources have to be named using the provides\nmethod. The resource_name method has not been changed in order to be\ncompatible with Chef Infra Client <16.2.\n\nAlso fix URI.encode and URI.decode deprecations.\n\nUpdate etcd depends to ~> 6.0 to fix Chef 16 deprecation warnings.\n\nDepends-On: https://review.opendev.org/747503\nChange-Id: I24be89a3214207bac2df9eb360124871e0d8242f\nCloses-Bug: #1886985\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 7, 'created': '2020-08-27 23:50:29.000000000', 'files': ['libraries/resource_mysql_database_user.rb', 'libraries/uri.rb', 'libraries/resource_database.rb', 'libraries/resource_mysql_database.rb', 'libraries/resource_database_user.rb', 'README.rst', 'libraries/cli.rb', 'libraries/passwords.rb', 'metadata.rb', 'resources/database.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/455790e1e9c3badab13138f646b30def8aae2df6', 'message': 'Adds provides method to define name of resources\n\nIn Chef Infra Client 16.2, resources have to be named using the provides\nmethod. The resource_name method has not been changed in order to be\ncompatible with Chef Infra Client <16.2.\n\nAlso fix URI.encode and URI.decode deprecations.\n\nUpdate etcd depends to ~> 6.0 to fix Chef 16 deprecation warnings.\n\nDepends-On: https://review.opendev.org/747503\nChange-Id: I24be89a3214207bac2df9eb360124871e0d8242f\nCloses-Bug: #1886985\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",5,740342,455790e1e9c3badab13138f646b30def8aae2df6,26,5,7,31353,,,0,"Adds provides method to define name of resources

In Chef Infra Client 16.2, resources have to be named using the provides
method. The resource_name method has not been changed in order to be
compatible with Chef Infra Client <16.2.

Also fix URI.encode and URI.decode deprecations.

Update etcd depends to ~> 6.0 to fix Chef 16 deprecation warnings.

Depends-On: https://review.opendev.org/747503
Change-Id: I24be89a3214207bac2df9eb360124871e0d8242f
Closes-Bug: #1886985
Signed-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/42/740342/6 && git format-patch -1 --stdout FETCH_HEAD,"['libraries/resource_mysql_database_user.rb', 'libraries/resource_database.rb', 'libraries/resource_mysql_database.rb', 'libraries/resource_database_user.rb', 'resources/database.rb']",5,cb1eb5294825d842972324168ff9b54169b30227,bug/1886985,provides :openstack_database,,5,0
openstack%2Freleases~master~I064463ca4f53d34f06104193ec5116e51d61b2a4,openstack/releases,master,I064463ca4f53d34f06104193ec5116e51d61b2a4,Release os-brick 4.0.0,MERGED,2020-09-02 15:53:43.000000000,2020-09-02 16:38:39.000000000,2020-09-02 16:38:39.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 15:53:43.000000000', 'files': ['deliverables/victoria/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3fe05e60489260fcc343fc86d1b6d54e9009934a', 'message': 'Release os-brick 4.0.0\n\nOfficial release for the victoria cycle\n\nChange-Id: I064463ca4f53d34f06104193ec5116e51d61b2a4\n'}]",0,749544,3fe05e60489260fcc343fc86d1b6d54e9009934a,7,2,1,5314,,,0,"Release os-brick 4.0.0

Official release for the victoria cycle

Change-Id: I064463ca4f53d34f06104193ec5116e51d61b2a4
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/749544/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/os-brick.yaml'],1,3fe05e60489260fcc343fc86d1b6d54e9009934a,release-os-brick-4.0.0, - version: 4.0.0 projects: - repo: openstack/os-brick hash: c5015cbd8a5397b2c639a6a74d6d2f6a95d5bf18 branches: - location: 4.0.0 name: stable/victoria,,7,0
openstack%2Fwhitebox-tempest-plugin~master~If9eab53861079a1ca1530f6dd56ee0f39216077f,openstack/whitebox-tempest-plugin,master,If9eab53861079a1ca1530f6dd56ee0f39216077f,Added instance collocation migration test,MERGED,2020-01-27 20:28:57.000000000,2020-09-02 16:26:24.000000000,2020-09-02 16:26:24.000000000,"[{'_account_id': 7020}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 31033}]","[{'number': 1, 'created': '2020-01-27 20:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/caf683d46fac2628cb7bbe577597175962b6ff46', 'message': 'Added instance collocation migration test\n\nAdded a new test method, test_colloc_migration, to\nNUMALiveMigrationTest. The method is designed to test blueprint [1].\nTest requires a deployment of two compute nodes with at least two NUMA\nnodes of identical topology. Test configures cpu_dedicated_set to use\nall pCPUs from the first NUMA node of each host. The pCPUs of the second\nNUMA node are used for the cpu_shared_set. Two instances will be created\non the first compute node, one will require cpu pinning and the other\nwill simply float on the available shared pCPUs. Each instance should\nfill their respective NUMA node. This procedure is then repeated on\nthe second host.\n\nAfter validating all pinning schemes for each instance is correct, the\nfloating instance on the first host will be migrated to the second. The\ndedicated instance on the target host will be deleted and the remaining\ndedicated instance will be migrated to the target host. The test method\nwill validate all instance migrations were successful and the three\ninstances are collocated on the same host. Finally it validates the\nunderlying pin scheme of the instances to confirm they are still\naccurate after migration\n\nA helper method _get_shared_cpuset was added to NUMALiveMigrationTest as\nwell. It parses an instances xml for the cpuset attribute found in\nthe vcpu tag. It then converts and returns the cpuset value into a set\nof pCPUs.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n'}, {'number': 2, 'created': '2020-01-28 22:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b1ac10ae3e057259a0e0ea46eb152949313e50be', 'message': 'Added instance collocation migration test\n\nAdded a new test method, test_colloc_migration, to\nNUMALiveMigrationTest. The method is designed to test blueprint [1].\nDownstream RedHat BZ can be referenced here [2].  Test requires a\ndeployment of two compute nodes with at least two NUMA nodes of\nidentical topology. Test configures cpu_dedicated_set to use all pCPUs\nfrom the first NUMA node of each host. The pCPUs of the second NUMA node\nare used for the cpu_shared_set. Two instances will be created on the\nfirst compute node, one will require cpu pinning and the other will\nsimply float on the available shared pCPUs. Each instance should fill\ntheir respective NUMA node. This procedure is then repeated on the\nsecond host.\n\nAfter validating all pinning schemes for each instance is correct, the\nfloating instance on the first host will be migrated to the second. The\ndedicated instance on the target host will be deleted and the remaining\ndedicated instance will be migrated to the target host. The test method\nwill validate all instance migrations were successful and the three\ninstances are collocated on the same host. Finally it validates the\nunderlying pin scheme of the instances to confirm they are still\naccurate after migration\n\nA helper method _get_shared_cpuset was added to NUMALiveMigrationTest as\nwell. It parses an instances xml for the cpuset attribute found in\nthe vcpu tag. It then converts and returns the cpuset value into a set\nof pCPUs.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1693372\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n'}, {'number': 3, 'created': '2020-02-03 21:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b3f16a50e120900d52504aba8c80404a88c1108c', 'message': 'Added instance collocation migration test\n\nAdded a new test method, test_colloc_migration, to\nNUMALiveMigrationTest. The method is designed to test blueprint [1].\nThe downstream Red Hat BZ can be referenced here [2]. Test also touches\non Red Hat BZ [3]. Test requires a deployment of two compute nodes. Each\ncompute nodes nova.conf will update their cpu_dedicated_set and\ncpu_shared_set parameters based on the provided vcpu sizes of\ndedicated_flavor_vcpus and  shared_flavor_vcpus respectively. For\nthe test to execute, each host must be capable of holding two dedicated\ninstances and still have available host CPUs to configure the\ncpu_shared_set.\n\nTest will first deploy four instances total, a pinned instance and a\nshared instance for each host. After validating all servers are up and\ntheir pin scheme is correct, all instances from the first host are live\nmigrated to the second. The pin schemes are then revalidated to confirm\npinned instances do not intersect with each nor do they intersect with\nthe host CPUs configured in cpu_shared_set.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationTest.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag. It then converts and returns the cpuset value as a set of\nhost CPUs.  Another method, _get_cpu_configs, was repurposed and added\nto BasePinningTest from [4]. It calculates the minimum number of host\nCPUs needed to fit a required cpu_dedicated_set and cpu_shared_set. It\ndetermines the host CPUs needed for each parameter and generates the\nappropriate string configuration to add to nova.conf.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1693372\n[3] https://bugzilla.redhat.com/show_bug.cgi?id=1222414\n[4] https://review.rdoproject.org/r/gitweb?p=openstack/whitebox-tempest-plugin.git;a=blob_plain;f=whitebox_tempest_plugin/api/compute/test_cpu_pinning.py;hb=refs/changes/70/18070/52\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n'}, {'number': 4, 'created': '2020-03-24 20:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d11dfc0d34d046a3a74f29ec0ef20494d19052f5', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nNova bug 1289064. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nstandard policy. Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nThe commit adds a new test method, test_colloc_migration, to\nNUMALiveMigrationTest. The test will update the cpu_shared_set and\ncpu_dedicated_set of each compute nodes nova.conf If the host is single\nNUMA, half of its cores will be allocated to dedicated cpus and the\nother half for shared. If the host has multiple NUMA nodes, then all\ncores from NUMA 0 will be used for the shared cpu pool and all cores\nfrom NUMA 1 will be used for the dedicated cpu pool. This logic is\nhandled by the test method\nNUMALiveMigrationTest._get_dedicated_and_shared_sets().\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationTest.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag. It then converts and returns the cpuset value as a set of\nhost CPUs.\n\nIn order to correctly map the expected cpu configuration with what is\nrunning live on the host, the method VirshXMLClient.get_fqdn_of_host()\nwas added to clients.py. This uses the connection address provided by\nwhitebox.hypervisors in tempest.conf to gather the hypervisor hostname.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 5, 'created': '2020-03-26 18:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8ed7c20d43750a60e8dcc2af8161479a4ba9405b', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as Nova bug\n1289064. The first stage tests basic colocation of instances using shared and\ndedicated cpu policies. With a two compute host deployment, create two\ninstances on each host. On each host, one instance should use a standard cpu\npolicy and the other should use a dedicated cpu policy. Validate all instances\ncome up correctly and the respective cpu mappings do not intersect with other\npools.\n\nThe second stage involves migrating all instances from the first host to the\nsecond. When migration is finalized a single host should have four instances\ntotal, two with a dedicated cpu policy and two using the standard policy.\nValidate the dedicated instance's cpus do not intersect with each other or the\nshared pool of the host.\n\nThe commit adds a new test method, test_colloc_migration, to\nNUMALiveMigrationTest. The test has a skip condition based on two new whitebox\nconfig parameters: whitebox.cpus_per_numa_node and\nwhitebox.numa_nodes_per_compute_host. If the multiplication of these two amount\nto four or more host CPU's the test will execute. Since the test assumes four\nor more host cpus are available it will update each hosts cpu_dedicated_set to\nuse 0,1 and cpu_shared_set to use 2,3. To avoid guests being deployed cross\nNUMA, flavor size for all guests is restricted to one vcpu, dictated by the\nvariable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationTest. It\nparses an instances XML for the cpuset attribute found in the vcpu tag and\npass the result to parse_cpu_spec.\n\ncpus_per_numa_node and numa_nodes_per_compute_host are both defaulted to one\nin config.py and devstack/settings parameters WHITEBOX_CPUS_PER_NUMA_NODE and\nWHITEBOX_NUMA_NODES_PER_COMPUTE_HOST were added for upstream configuration.\nThese values were set to four and two respectively.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 6, 'created': '2020-03-26 20:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b84f43979622570b0b5902303c7a73be3030b7e7', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as Nova bug\n1289064. The first stage tests basic colocation of instances using shared and\ndedicated cpu policies. With a two compute host deployment, create two\ninstances on each host. On each host, one instance should use a standard cpu\npolicy and the other should use a dedicated cpu policy. Validate all instances\ncome up correctly and the respective cpu mappings do not intersect with other\npools.\n\nThe second stage involves migrating all instances from the first host to the\nsecond. When migration is finalized a single host should have four instances\ntotal, two with a dedicated cpu policy and two using the standard policy.\nValidate the dedicated instance's cpus do not intersect with each other or the\nshared pool of the host.\n\nThe commit adds a new test method, test_colloc_migration, to\nNUMALiveMigrationTest. The test has a skip condition based on two new whitebox\nconfig parameters: whitebox.cpus_per_numa_node and\nwhitebox.numa_nodes_per_compute_host. If the multiplication of these two amount\nto four or more host CPU's the test will execute. Since the test assumes four\nor more host cpus are available it will update each hosts cpu_dedicated_set to\nuse 0,1 and cpu_shared_set to use 2,3. To avoid guests being deployed cross\nNUMA, flavor size for all guests is restricted to one vcpu, dictated by the\nvariable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationTest. It\nparses an instances XML for the cpuset attribute found in the vcpu tag and\npass the result to parse_cpu_spec.\n\ncpus_per_numa_node and numa_nodes_per_compute_host are both defaulted to one\nin config.py and devstack/settings parameters WHITEBOX_CPUS_PER_NUMA_NODE and\nWHITEBOX_NUMA_NODES_PER_COMPUTE_HOST were added for upstream configuration.\nThese values were set to four and two respectively.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 7, 'created': '2020-04-01 18:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/058aca5f7ea2fa09904fb17b57416a5f9ef33c18', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nNova bug 1289064. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nstandard policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nThe commit adds a new test method, test_colloc_migration, to\nNUMALiveMigrationTest. The test has a skip condition based on two new\nwhitebox config parameters: whitebox.cpus_per_numa_node and\nwhitebox.numa_nodes_per_compute_host. If the multiplication of these two\namount to four or more host CPU's the test will execute. Since the test\nassumes four or more host cpus are available it will update each host\nand leverage host CPUs 0-3. The first host will use 0,1 for its\ncpu_dedicated_set and 2,3 for its cpu_shared_set and the second will use\nthe inverse configuration (dedicated: 2,3 and shared: 0,1). To avoid\nguests being deployed cross NUMA, flavor size for all guests is\nrestricted to one vcpu, dictated by the variable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationTest.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag and pass the result to parse_cpu_spec.\n\ncpus_per_numa_node and numa_nodes_per_compute_host are both defaulted to\none in config.py and devstack/settings parameters\nWHITEBOX_CPUS_PER_NUMA_NODE and WHITEBOX_NUMA_NODES_PER_COMPUTE_HOST\nwere added for upstream configuration. These values were set to four\nand two respectively.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n\nDepends-on: https://review.opendev.org/#/c/716344/\nDepends-on: https://review.opendev.org/#/c/716311/\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 8, 'created': '2020-04-03 19:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d58f188d3ee1b05dc8255789834614026f0665e7', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nNova bug 1289064. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nstandard policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nIn order to schedule the instances to their respective hosts necessary\nto execute the procedure, the test takes advantage of the host parameter\nadded in 2.74 [2]. Since a large portion of the test method leverages\nfunctions from NUMALiveMigrationTest, but the minimum microversion for\nthe class is 2.25, the class was refactored. There is now a base class\nNUMALiveMigrationBase which holds all of the common helper methods and\nNUMALiveMigrationTest is a chile of that base. A second child class has\nbeen created, NUMACPUDedicatedLiveMigrationTest, which contains the new\ntest method, test_collocation_migration, and sets the minimum\nmicroversion to 2.74.\n\nThe test method  has a skip condition based on two new whitebox config\nparameters: whitebox.cpus_per_numa_node and\nwhitebox.numa_nodes_per_compute_host. If the multiplication of these two\namount to four or more host CPU's the test will execute. Since the test\nassumes four or more host cpus are available it will update each host\nand leverage host CPUs 0-3. The first host will use 0,1 for its\ncpu_dedicated_set and 2,3 for its cpu_shared_set and the second will use\nthe inverse configuration (dedicated: 2,3 and shared: 0,1). To avoid\nguests being deployed cross NUMA, flavor size for all guests is\nrestricted to one vcpu, dictated by the variable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationBase.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag and pass the result to parse_cpu_spec.\n\ncpus_per_numa_node and numa_nodes_per_compute_host are both defaulted to\none in config.py and devstack/settings parameters\nWHITEBOX_CPUS_PER_NUMA_NODE and WHITEBOX_NUMA_NODES_PER_COMPUTE_HOST\nwere added for upstream configuration. These values were set to four and\ntwo respectively.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67\n\nDepends-on: https://review.opendev.org/#/c/717355/\nDepends-on: https://review.opendev.org/#/c/716344/\nDepends-on: https://review.opendev.org/#/c/716311/\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 9, 'created': '2020-06-24 20:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/51fe0aae6bc15cf42adedbaa333bb408686aa923', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nNova bug 1289064. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nshared policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nIn order to schedule the instances to their respective hosts necessary\nto execute the procedure, the test takes advantage of the host parameter\nadded in 2.74 [2]. Since a large portion of the test method leverages\nfunctions from NUMALiveMigrationTest, but the minimum microversion for\nthe class is 2.25, the class was refactored. There is now a base class\nNUMALiveMigrationBase which holds all of the common helper methods and\nNUMALiveMigrationTest is a child of that base. A second child class has\nbeen created, NUMACPUDedicatedLiveMigrationTest, which contains the new\ntest method, test_collocation_migration, and sets the minimum\nmicroversion to 2.74.\n\nThe class NUMACPUDedicatedLiveMigrationTest has a skip check to validate\nwhitebox-hardware/cpu_topology is set in tempest.conf. The new method\ntest_collocation_migration has two skip checks based around\ncpu_topology, validating there are at least two NUMA nodes per host and\neach node has at least two or more pCPUs.\n\nThe test method uses all pCPUs from NUMA node 0 as the dedicated cpu set\nfor the first host and the shared set for the second host. NUMA node 1\nprovides the pCPUs for the dedicated range on host two and the shared\nset range for host one. To avoid guests being deployed cross NUMA,\nflavor size for all guests are restricted to one vcpu, dictated by the\nvariable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationBase.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag and pass the result to parse_cpu_spec.\n\nFor devstack deployments cpu_topology is set via\nWHITEBOX_HARDWARE_CPU_TOPOLOGY which defaults to '0: [0,1,2,3], 1:\n[4,5,6,7]'.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 10, 'created': '2020-06-24 22:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/63bb13ef5241eef947011079d431af560e501fab', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nNova bug 1289064. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nshared policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nIn order to schedule the instances to their respective hosts necessary\nto execute the procedure, the test takes advantage of the host parameter\nadded in 2.74 [2]. Since a large portion of the test method leverages\nfunctions from NUMALiveMigrationTest, but the minimum microversion for\nthe class is 2.25, the class was refactored. There is now a base class\nNUMALiveMigrationBase which holds all of the common helper methods and\nNUMALiveMigrationTest is a child of that base. A second child class has\nbeen created, NUMACPUDedicatedLiveMigrationTest, which contains the new\ntest method, test_collocation_migration, and sets the minimum\nmicroversion to 2.74.\n\nThe class NUMACPUDedicatedLiveMigrationTest has a skip check to validate\nwhitebox-hardware/cpu_topology is set in tempest.conf. The new method\ntest_collocation_migration has two skip checks based around\ncpu_topology, validating there are at least two NUMA nodes per host and\neach node has at least two or more pCPUs.\n\nThe test method uses all pCPUs from NUMA node 0 as the dedicated cpu set\nfor the first host and the shared set for the second host. NUMA node 1\nprovides the pCPUs for the dedicated range on host two and the shared\nset range for host one. To avoid guests being deployed cross NUMA,\nflavor size for all guests are restricted to one vcpu, dictated by the\nvariable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationBase.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag and pass the result to parse_cpu_spec.\n\nFor devstack deployments cpu_topology is set via\nWHITEBOX_HARDWARE_CPU_TOPOLOGY which defaults to '0: [0,1,2,3], 1:\n[4,5,6,7]'.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 11, 'created': '2020-06-25 00:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3d76b5756ebad1847e0079ef9113ffd6fa902c54', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nNova bug 1289064. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nshared policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nIn order to schedule the instances to their respective hosts necessary\nto execute the procedure, the test takes advantage of the host parameter\nadded in 2.74 [2]. Since a large portion of the test method leverages\nfunctions from NUMALiveMigrationTest, but the minimum microversion for\nthe class is 2.25, the class was refactored. There is now a base class\nNUMALiveMigrationBase which holds all of the common helper methods and\nNUMALiveMigrationTest is a child of that base. A second child class has\nbeen created, NUMACPUDedicatedLiveMigrationTest, which contains the new\ntest method, test_collocation_migration, and sets the minimum\nmicroversion to 2.74.\n\nThe class NUMACPUDedicatedLiveMigrationTest has a skip check to validate\nwhitebox-hardware/cpu_topology is set in tempest.conf. The new method\ntest_collocation_migration has two skip checks based around\ncpu_topology, validating there are at least two NUMA nodes per host and\neach node has at least two or more pCPUs.\n\nThe test method uses all pCPUs from NUMA node 0 as the dedicated cpu set\nfor the first host and the shared set for the second host. NUMA node 1\nprovides the pCPUs for the dedicated range on host two and the shared\nset range for host one. To avoid guests being deployed cross NUMA,\nflavor size for all guests are restricted to one vcpu, dictated by the\nvariable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationBase.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag and pass the result to parse_cpu_spec.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 12, 'created': '2020-06-26 14:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d8bac3210b3d5b707b35d9aa28f00c21f22fd049', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nNova bug 1289064. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nshared policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nIn order to schedule the instances to their respective hosts necessary\nto execute the procedure, the test takes advantage of the host parameter\nadded in 2.74 [2]. Since a large portion of the test method leverages\nfunctions from NUMALiveMigrationTest, but the minimum microversion for\nthe class is 2.25, the class was refactored. There is now a base class\nNUMALiveMigrationBase which holds all of the common helper methods and\nNUMALiveMigrationTest is a child of that base. A second child class has\nbeen created, NUMACPUDedicatedLiveMigrationTest, which contains the new\ntest method, test_collocation_migration, and sets the minimum\nmicroversion to 2.74.\n\nThe class NUMACPUDedicatedLiveMigrationTest has a skip check to validate\nwhitebox-hardware/cpu_topology is set in tempest.conf. The new method\ntest_collocation_migration has two skip checks based around\ncpu_topology, validating there are at least two NUMA nodes per host and\neach node has at least two or more pCPUs.\n\nThe test method uses all pCPUs from NUMA node 0 as the dedicated cpu set\nfor the first host and the shared set for the second host. NUMA node 1\nprovides the pCPUs for the dedicated range on host two and the shared\nset range for host one. To avoid guests being deployed cross NUMA,\nflavor size for all guests are restricted to one vcpu, dictated by the\nvariable flavor_vcpu_size.\n\nA helper method, _get_shared_cpuset, was added to NUMALiveMigrationBase.\nIt parses an instances XML for the cpuset attribute found in the\nvcpu tag and pass the result to parse_cpu_spec.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 13, 'created': '2020-08-31 19:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7f465bdf3055605b759b4081b0787e3cb7a71509', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nlive-migration. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nshared policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nIn order to schedule the instances to their respective hosts necessary\nto execute the procedure, the test takes advantage of the host parameter\nadded in 2.74 [2]. Since a large portion of the test method leverages\nfunctions from NUMALiveMigrationTest, but the minimum microversion for\nthe class is 2.25, the class was refactored. There is now a base class\nNUMALiveMigrationBase which holds all of the common helper methods and\nNUMALiveMigrationTest is a child of that base. A second child class has\nbeen created, NUMACPUDedicatedLiveMigrationTest, which contains the new\ntest method, test_collocation_migration, and sets the minimum\nmicroversion to 2.74.\n\nThe class NUMACPUDedicatedLiveMigrationTest has a skip check to validate\nwhitebox-hardware/cpu_topology is set in tempest.conf. The new method\ntest_collocation_migration has one skip check based around\ncpu_topology, that validates each host has four or more pCPUs.\n\nThe test method uses the first two pCPUs from cpu_topology as the\ndedicated pCPUs for the first host and the shared set for the second\nhost. pCPU id's three and four are for the dedicated range on host two\nand the shared set range for host one. To avoid guests being deployed\ncross NUMA, flavor size for all guests are restricted to one vcpu,\ndictated by the variable flavor_vcpu_size.\n\nTwo helper methods, _get_shared_cpuset and get_all_cpus, were added to\nNUMALiveMigrationBase.  _get_shared_cpuset parses an instances XML for\nthe cpuset attribute found in the vcpu tag and pass the result to\nparse_cpu_spec. Method get_all_cpus aggregates all cpus to a single\nlist from cpu_topology in found in section whitebox-hardware of tempest.conf.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}, {'number': 14, 'created': '2020-09-02 14:13:29.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5d4120cbaef53aa660dc76152bd373673118114e', 'message': ""Added instance collocation migration test\n\nAdded a two stage test meant to test both Nova feature [1] as well as\nlive-migration. The first stage tests basic colocation of instances\nusing shared and dedicated cpu policies. With a two compute host\ndeployment, create two instances on each host. On each host, one\ninstance should use a standard cpu policy and the other should use a\ndedicated cpu policy. Validate all instances come up correctly and the\nrespective cpu mappings do not intersect with other pools.\n\nThe second stage involves migrating all instances from the first host to\nthe second. When migration is finalized a single host should have four\ninstances total, two with a dedicated cpu policy and two using the\nshared policy.  Validate the dedicated instance's cpus do not\nintersect with each other or the shared pool of the host.\n\nIn order to schedule the instances to their respective hosts necessary\nto execute the procedure, the test takes advantage of the host parameter\nadded in 2.74 [2]. Since a large portion of the test method leverages\nfunctions from NUMALiveMigrationTest, but the minimum microversion for\nthe class is 2.25, the class was refactored. There is now a base class\nNUMALiveMigrationBase which holds all of the common helper methods and\nNUMALiveMigrationTest is a child of that base. A second child class has\nbeen created, NUMACPUDedicatedLiveMigrationTest, which contains the new\ntest method, test_collocation_migration, and sets the minimum\nmicroversion to 2.74.\n\nThe class NUMACPUDedicatedLiveMigrationTest has a skip check to validate\nwhitebox-hardware/cpu_topology is set in tempest.conf. The new method\ntest_collocation_migration has one skip check based around\ncpu_topology, that validates each host has four or more pCPUs.\n\nThe test method uses the first two pCPUs from cpu_topology as the\ndedicated pCPUs for the first host and the shared set for the second\nhost. pCPU id's three and four are for the dedicated range on host two\nand the shared set range for host one. To avoid guests being deployed\ncross NUMA, flavor size for all guests are restricted to one vcpu,\ndictated by the variable flavor_vcpu_size.\n\nTwo helper methods, _get_shared_cpuset and get_all_cpus, were added to\nNUMALiveMigrationBase.  _get_shared_cpuset parses an instances XML for\nthe cpuset attribute found in the vcpu tag and pass the result to\nparse_cpu_spec. Method get_all_cpus aggregates all cpus to a single\nlist from cpu_topology in found in section whitebox-hardware of tempest.conf.\n\n[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance\n[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67\n\nChange-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f\n""}]",106,704420,5d4120cbaef53aa660dc76152bd373673118114e,60,7,14,31033,,,0,"Added instance collocation migration test

Added a two stage test meant to test both Nova feature [1] as well as
live-migration. The first stage tests basic colocation of instances
using shared and dedicated cpu policies. With a two compute host
deployment, create two instances on each host. On each host, one
instance should use a standard cpu policy and the other should use a
dedicated cpu policy. Validate all instances come up correctly and the
respective cpu mappings do not intersect with other pools.

The second stage involves migrating all instances from the first host to
the second. When migration is finalized a single host should have four
instances total, two with a dedicated cpu policy and two using the
shared policy.  Validate the dedicated instance's cpus do not
intersect with each other or the shared pool of the host.

In order to schedule the instances to their respective hosts necessary
to execute the procedure, the test takes advantage of the host parameter
added in 2.74 [2]. Since a large portion of the test method leverages
functions from NUMALiveMigrationTest, but the minimum microversion for
the class is 2.25, the class was refactored. There is now a base class
NUMALiveMigrationBase which holds all of the common helper methods and
NUMALiveMigrationTest is a child of that base. A second child class has
been created, NUMACPUDedicatedLiveMigrationTest, which contains the new
test method, test_collocation_migration, and sets the minimum
microversion to 2.74.

The class NUMACPUDedicatedLiveMigrationTest has a skip check to validate
whitebox-hardware/cpu_topology is set in tempest.conf. The new method
test_collocation_migration has one skip check based around
cpu_topology, that validates each host has four or more pCPUs.

The test method uses the first two pCPUs from cpu_topology as the
dedicated pCPUs for the first host and the shared set for the second
host. pCPU id's three and four are for the dedicated range on host two
and the shared set range for host one. To avoid guests being deployed
cross NUMA, flavor size for all guests are restricted to one vcpu,
dictated by the variable flavor_vcpu_size.

Two helper methods, _get_shared_cpuset and get_all_cpus, were added to
NUMALiveMigrationBase.  _get_shared_cpuset parses an instances XML for
the cpuset attribute found in the vcpu tag and pass the result to
parse_cpu_spec. Method get_all_cpus aggregates all cpus to a single
list from cpu_topology in found in section whitebox-hardware of tempest.conf.

[1] https://blueprints.launchpad.net/nova/+spec/use-pcpu-and-vcpu-in-one-instance
[2] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id67

Change-Id: If9eab53861079a1ca1530f6dd56ee0f39216077f
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/20/704420/8 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'],1,caf683d46fac2628cb7bbe577597175962b6ff46,inst_cpu_colocate," def _get_shared_cpuset(self, server_id): """"""Search the xml vcpu element of the provided server for its cpuset. Convert cpuset found into a set of integers. """""" root = self.get_server_xml(server_id) vcpu_ele = root.find('./vcpu') cpuset = vcpu_ele.attrib.get('cpuset', None) cpu_list = cpuset.split(',') return_list = [] # Remove vcpus that should be excluded from ranges and track them # in skip_vcpus list skip_vcpus = [int(cpu_list.pop(cpu_list.index(x))[1:]) for x in cpu_list if '^' in x] for cpu in cpu_list: if '-' in cpu: start, end = cpu.split('-') return_list += [x for x in range(int(start), int(end)+1) if x not in skip_vcpus] else: return_list.append(int(cpu)) return set(return_list) @testtools.skipUnless(compute. is_scheduler_filter_enabled('SameHostFilter'), 'SameHostFilter is required.') def test_colloc_migration(self): hv1, hv2 = self.get_all_hypervisors() numaclient_1 = clients.NUMAClient(hv1) numaclient_2 = clients.NUMAClient(hv2) # Get hosts's topology topo_1 = numaclient_1.get_host_topology() topo_2 = numaclient_2.get_host_topology() # Need at least 2 NUMA nodes per host if len(topo_1) < 2 or len(topo_2) < 2: raise self.skipException('At least 2 NUMA nodes per host required') # All NUMA nodes need to have same number of CPUs cpus_per_node = self._get_cpus_per_node(topo_1.values(), topo_2.values()) if len(cpus_per_node) != 1: raise self.skipException('NUMA nodes must have same number of ' 'CPUs') hv1_sm = clients.ServiceManager(hv1, 'nova-compute') hv2_sm = clients.ServiceManager(hv2, 'nova-compute') with hv1_sm.config_option('compute', 'cpu_dedicated_set', self._get_cpu_spec(topo_1[0])), \ hv1_sm.config_option('compute', 'cpu_shared_set', self._get_cpu_spec(topo_1[1])), \ hv2_sm.config_option('compute', 'cpu_dedicated_set', self._get_cpu_spec(topo_2[0])), \ hv2_sm.config_option('compute', 'cpu_shared_set', self._get_cpu_spec(topo_2[1])): # Create 4 instances that will occupy each respective NUMA Node. # Servers A and C should be pinned to pCPUs on NUMA 0 of their # repsective host and servers B and D should float on # NUMA 1 of their respective host dedi_flavor = self.create_flavor(vcpus=len(topo_1[0]), extra_specs=self. dedicated_cpu_policy) share_flavor = self.create_flavor(vcpus=len(topo_1[0])) server_a = self.create_test_server(flavor=dedi_flavor['id']) server_b = self.create_test_server(flavor=share_flavor['id'], scheduler_hints={'same_host': server_a['id']}) server_c = self.create_test_server(flavor=dedi_flavor['id']) server_d = self.create_test_server(flavor=share_flavor['id'], scheduler_hints={'same_host': server_c['id']}) # Servers A and C should have identical NUMA topos and pin sets # from the nova database db_topo_a = self._get_db_numa_topology(server_a['id']) db_pins_a = self._get_cpu_pins_from_db_topology(db_topo_a) db_topo_c = self._get_db_numa_topology(server_c['id']) db_pins_c = self._get_cpu_pins_from_db_topology(db_topo_c) self.assertEqual(db_pins_a, db_pins_c, 'Expected servers to have identical CPU pins, ' 'instead have %s and %s' % (db_pins_a, db_pins_c)) # Domain xml should have identical pin sets for both # server A and server C pin_a = self.get_pinning_as_set(server_a['id']) pin_c = self.get_pinning_as_set(server_c['id']) self.assertTrue(pin_a and pin_c, 'Pinned pCPU sets should be identical: ' '%s, %s' % (pin_a, pin_c)) # Servers B and D should not have a pin set and instead # have the same cpuset they float across pin_b = self._get_shared_cpuset(server_b['id']) pin_d = self._get_shared_cpuset(server_d['id']) self.assertEqual(pin_b, pin_d, 'CPUSets for should be identical but instead: ' '%s, %s' % (pin_b, pin_d)) # The cpusets of servers B and D should not intersect with the # pinned pCPUs of servers A and C, since A/C and B/D should # have been validated as the same, only need to compare A and B. self.assertTrue(pin_a.isdisjoint(pin_b), 'CPU ranges overlap: %s, %s' % (pin_a, pin_b)) # Migrate server B to compute node with server D, they are # both using shared set so migration should be successful target_host = self.get_host_for_server(server_d['id']) self.live_migrate(server_b['id'], target_host, 'ACTIVE') # Delete server C and migrate server A to server C's host. # Server A should migrate successfully and should have same # pin scheme as C self.delete_server(server_c['id']) self.live_migrate(server_a['id'], target_host, 'ACTIVE') pin_b = self._get_shared_cpuset(server_b['id']) pin_d = self._get_shared_cpuset(server_d['id']) # Servers B and D should have the same cpuset and float on the # same NUMA node of the target server self.assertEqual(pin_b, pin_d, 'CPUSets for should be identical after migration' ' instead: %s, %s' % (pin_b, pin_d)) # Server A should match the pin set and topo of previous # server C. pin_a = self.get_pinning_as_set(server_a['id']) self.assertTrue(pin_a and pin_c, 'Pinned pCPU sets should be identical: ' '%s, %s' % (pin_a, pin_c)) db_topo_a = self._get_db_numa_topology(server_a['id']) db_pins_a = self._get_cpu_pins_from_db_topology(db_topo_a) self.assertEqual(db_pins_a, db_pins_c, 'server a should have identical pinset to ' 'recently deleted server c but instead ' 'have %s and %s' % (db_pins_a, db_pins_c)) # NOTE(jparker) Due to Nova bug 1836945, cleanUp methods will fail # to delete servers when nova.conf configurations revert. Need to # manually delete the servers in the test method. self.delete_server(server_a['id']) self.delete_server(server_b['id']) self.delete_server(server_d['id']) ",,150,0
openstack%2Fbifrost~master~I671978ac95de03d80b059d42f188e9fc9aecb4b4,openstack/bifrost,master,I671978ac95de03d80b059d42f188e9fc9aecb4b4,Fix error 601,MERGED,2020-09-01 09:26:14.000000000,2020-09-02 16:23:02.000000000,2020-09-02 16:21:39.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-01 09:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/91b46341ed636bc31394be17fb654f4db373cee4', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}, {'number': 2, 'created': '2020-09-01 09:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7e5dd15d167efb0146152219969b0cecca3de4c0', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}, {'number': 3, 'created': '2020-09-02 08:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/aba6617159819d131dff0cfaaded010315979973', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}, {'number': 4, 'created': '2020-09-02 09:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5a83f28da81a131df617578251fca3f87117b6b0', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}, {'number': 5, 'created': '2020-09-02 09:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/16417d58879ad805e32cca4f7900af6902a4a84b', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}, {'number': 6, 'created': '2020-09-02 09:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9e3b19cfad137524285af0b49221036235cf1470', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}, {'number': 7, 'created': '2020-09-02 09:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/89e048ed256df5f375998fbd1197844cca90c1fc', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}, {'number': 8, 'created': '2020-09-02 09:41:19.000000000', 'files': ['playbooks/roles/bifrost-create-bootable-image/tasks/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml', 'playbooks/enroll-dynamic.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/redeploy-dynamic.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/example-deploy-all-available-nodes.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e4d0325b2fb02a6ff94cc3157b06139f5f3c4a63', 'message': ""Fix error 601\n\nDon't compare to literal True/False\n\nChange-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4\n""}]",44,749209,e4d0325b2fb02a6ff94cc3157b06139f5f3c4a63,20,4,8,23851,,,0,"Fix error 601

Don't compare to literal True/False

Change-Id: I671978ac95de03d80b059d42f188e9fc9aecb4b4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/09/749209/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-bootable-image/tasks/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml', 'playbooks/enroll-dynamic.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/redeploy-dynamic.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/example-deploy-all-available-nodes.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml']",27,91b46341ed636bc31394be17fb654f4db373cee4,no-literal-true-false, when: inventory_dhcp | bool when: inventory_dns | bool when: (inventory_dhcp | bool) or (inventory_dns | bool) when: - instance_info is not defined - not test_deploy_image.stat.exists, when: inventory_dhcp | bool == true when: inventory_dns | bool == true when: (inventory_dhcp | bool == true) or (inventory_dns | bool == true) when: instance_info is not defined and test_deploy_image.stat.exists | bool == false,122,95
openstack%2Fheat-dashboard~master~I4562c1e5b0cd38965792c71778cf58d544e7da52,openstack/heat-dashboard,master,I4562c1e5b0cd38965792c71778cf58d544e7da52,remove image_field_data from glance.image custom constraint,ABANDONED,2020-05-05 16:12:05.000000000,2020-09-02 16:17:09.000000000,,"[{'_account_id': 841}, {'_account_id': 7353}, {'_account_id': 8648}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-05 16:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/28a2bbccafc8718394cdb40c58767a96a5fb049a', 'message': 'remove image_field_data from glance.image custom constraint\n\nThe image_field_data is no longer consumed in Horizon since\n26eebd4abbbabc1475bae61c51d1cfcf14dba770\n\nChange-Id: I4562c1e5b0cd38965792c71778cf58d544e7da52\n'}, {'number': 2, 'created': '2020-05-05 18:35:41.000000000', 'files': ['heat_dashboard/content/stacks/forms.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/25f393c00f567206d4787402bb4123bae17142bd', 'message': 'remove image_field_data from glance.image custom constraint\n\nThe image_field_data is no longer consumed in Horizon since\n26eebd4abbbabc1475bae61c51d1cfcf14dba770\n\nChange-Id: I4562c1e5b0cd38965792c71778cf58d544e7da52\n'}]",1,725646,25f393c00f567206d4787402bb4123bae17142bd,9,7,2,27427,,,0,"remove image_field_data from glance.image custom constraint

The image_field_data is no longer consumed in Horizon since
26eebd4abbbabc1475bae61c51d1cfcf14dba770

Change-Id: I4562c1e5b0cd38965792c71778cf58d544e7da52
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/46/725646/2 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/content/stacks/forms.py'],1,28a2bbccafc8718394cdb40c58767a96a5fb049a,fix-image-field-data,," if custom_type == 'glance.image': return image_utils.image_field_data(self.request, True)",0,2
openstack%2Fmetalsmith~stable%2Fussuri~Ifba6afa9fcbad6d9517d09713ab17bac85879163,openstack/metalsmith,stable/ussuri,Ifba6afa9fcbad6d9517d09713ab17bac85879163,Add the setuptools workaround,MERGED,2020-09-02 12:46:23.000000000,2020-09-02 16:06:06.000000000,2020-09-02 16:03:21.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-02 12:46:23.000000000', 'files': ['playbooks/integration/pre.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/4ee24fd9b283bad39df3289e5c53f73d49f4f118', 'message': 'Add the setuptools workaround\n\nAlso stop supporting Python 2 explicitly.\n\nChange-Id: Ifba6afa9fcbad6d9517d09713ab17bac85879163\n(cherry picked from commit 9c93e986e1362436376b3d832630f947b7c50fbb)\n'}]",0,749495,4ee24fd9b283bad39df3289e5c53f73d49f4f118,7,2,1,10239,,,0,"Add the setuptools workaround

Also stop supporting Python 2 explicitly.

Change-Id: Ifba6afa9fcbad6d9517d09713ab17bac85879163
(cherry picked from commit 9c93e986e1362436376b3d832630f947b7c50fbb)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/95/749495/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/pre.yaml'],1,4ee24fd9b283bad39df3289e5c53f73d49f4f118,gate-stable/ussuri, environment: # NOTE(dtantsur): https://github.com/pypa/setuptools/issues/2353 SETUPTOOLS_USE_DISTUTILS: stdlib vars: ansible_python_interpreter: /usr/bin/python3 environment: SETUPTOOLS_USE_DISTUTILS: stdlib vars: ansible_python_interpreter: /usr/bin/python3, vars: ansible_python_interpreter: /usr/bin/{{ metalsmith_python | default('python') }} vars: ansible_python_interpreter: /usr/bin/{{ metalsmith_python | default('python') }},7,2
openstack%2Fpython-glanceclient~master~I668a2f65431e8870268e067e1c0acd4d94a65c95,openstack/python-glanceclient,master,I668a2f65431e8870268e067e1c0acd4d94a65c95,drop mock from lower-constraints,MERGED,2020-06-09 09:54:56.000000000,2020-09-02 15:57:00.000000000,2020-09-02 15:53:07.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 09:54:56.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/2e0d6a839a94363d17e63d40cc92a1f4c78c3d60', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I668a2f65431e8870268e067e1c0acd4d94a65c95\n""}]",0,734509,2e0d6a839a94363d17e63d40cc92a1f4c78c3d60,8,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I668a2f65431e8870268e067e1c0acd4d94a65c95
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/09/734509/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,2e0d6a839a94363d17e63d40cc92a1f4c78c3d60,drop_mock,,mock==2.0.0,0,1
openstack%2Fpython-glanceclient~master~If6ba0627ca680167378543b4c38135aa2bd6a730,openstack/python-glanceclient,master,If6ba0627ca680167378543b4c38135aa2bd6a730,"Remove F403, F812 and F821 from the ignorelist in tox.ini",MERGED,2020-07-27 18:47:39.000000000,2020-09-02 15:55:33.000000000,2020-09-02 15:53:06.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 18:47:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/00a6eb5f39022a085fc6c7122769e6669628ec79', 'message': 'Remove F403, F812 and F821 from the ignorelist in tox.ini\n\nThey are not needed since no such errors are triggered when running\nflake8.\n\nChange-Id: If6ba0627ca680167378543b4c38135aa2bd6a730\n'}]",0,743315,00a6eb5f39022a085fc6c7122769e6669628ec79,7,2,1,8122,,,0,"Remove F403, F812 and F821 from the ignorelist in tox.ini

They are not needed since no such errors are triggered when running
flake8.

Change-Id: If6ba0627ca680167378543b4c38135aa2bd6a730
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/15/743315/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,00a6eb5f39022a085fc6c7122769e6669628ec79,flake8-clean-ignore-list,"ignore = E731,W504","ignore = E731,F403,F812,F821,W504",1,1
openstack%2Fpython-cinderclient~master~I13f85c8ddd4cb238a245c263151123fd271a9927,openstack/python-cinderclient,master,I13f85c8ddd4cb238a245c263151123fd271a9927,Add support for Cinder API mv3.61,MERGED,2020-07-24 20:33:09.000000000,2020-09-02 15:52:15.000000000,2020-09-02 15:50:20.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-07-24 20:33:09.000000000', 'files': ['cinderclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/a9e9b762fd71eec44a5d8f72c50daa2238b2c3b2', 'message': 'Add support for Cinder API mv3.61\n\nMicroversion 3.61 adds cluster_name attribute to volume details output\nfor admin users.\n\nChange-Id: I13f85c8ddd4cb238a245c263151123fd271a9927\nDepends-On: https://review.opendev.org/742991\n'}]",0,742994,a9e9b762fd71eec44a5d8f72c50daa2238b2c3b2,14,6,1,1736,,,0,"Add support for Cinder API mv3.61

Microversion 3.61 adds cluster_name attribute to volume details output
for admin users.

Change-Id: I13f85c8ddd4cb238a245c263151123fd271a9927
Depends-On: https://review.opendev.org/742991
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/94/742994/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/api_versions.py'],1,a9e9b762fd71eec44a5d8f72c50daa2238b2c3b2,a-a-support,"MAX_VERSION = ""3.61""","MAX_VERSION = ""3.60""",1,1
openstack%2Fnova-specs~master~I41d7f8247724394dbf67ae309965ebeede8cbb45,openstack/nova-specs,master,I41d7f8247724394dbf67ae309965ebeede8cbb45,Correct some spell errors,MERGED,2020-09-02 07:30:23.000000000,2020-09-02 15:50:18.000000000,2020-09-02 15:47:42.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 07:30:23.000000000', 'files': ['specs/kilo/approved/online-schema-changes.rst', 'specs/train/implemented/virtual-persistent-memory.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/74a6836b170521d0d8bbb5efda90bdb03af9a7d4', 'message': 'Correct some spell errors\n\nChange-Id: I41d7f8247724394dbf67ae309965ebeede8cbb45\n'}]",0,749449,74a6836b170521d0d8bbb5efda90bdb03af9a7d4,7,2,1,31412,,,0,"Correct some spell errors

Change-Id: I41d7f8247724394dbf67ae309965ebeede8cbb45
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/49/749449/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/approved/online-schema-changes.rst', 'specs/train/implemented/virtual-persistent-memory.rst']",2,74a6836b170521d0d8bbb5efda90bdb03af9a7d4,,addressed by a separate follow-on spec.,adddressed by a seperate follow-on spec.,2,2
openstack%2Fnova~master~I9317404f790004511db8edc08a414a706d42265f,openstack/nova,master,I9317404f790004511db8edc08a414a706d42265f,"Don't unset Instance.old_flavor, new_flavor until necessary",ABANDONED,2020-07-20 17:42:04.000000000,2020-09-02 15:27:21.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-20 17:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a3f19a62708ce23912b8e4285337c3ae9811049', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nThese attributes are useful in virt drivers when cleaning up after a\nresize confirm or restoring things after a revert. We'll use them\nshortly to allow us to determine what to do with TPM data files in this\nexact case.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5dd2cf40d09c4ab9b87fce14252a7a01c0b3cce', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nThese attributes are useful in virt drivers when cleaning up after a\nresize confirm or restoring things after a revert. We'll use them\nshortly to allow us to determine what to do with TPM data files in this\nexact case.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1072b20f9107c806b0449d7f8db63246cf5735ad', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nThese attributes are useful in virt drivers when cleaning up after a\nresize confirm or restoring things after a revert. We'll use them\nshortly to allow us to determine what to do with TPM data files in this\nexact case.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4944bb11113ae9e96bd079cd20de9649bbaf608d', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nThese attributes are useful in virt drivers when cleaning up after a\nresize confirm or restoring things after a revert. We'll use them\nshortly to allow us to determine what to do with TPM data files in this\nexact case.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37328ea73f16f208a85b1872a394d1e73bd01d6f', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nThese attributes are useful in virt drivers when cleaning up after a\nresize confirm or restoring things after a revert. We'll use them\nshortly to allow us to determine what to do with TPM data files in this\nexact case.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d07937b03bf0a270ad8c5e23cb1cbfa7f07b740b', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nThese attributes are useful in virt drivers when cleaning up after a\nresize confirm or restoring things after a revert. We'll use them\nshortly to allow us to determine what to do with TPM data files in this\nexact case.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-08-17 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdae85f1f16ac5c04b04ea15f9c66163ea846d3a', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nThese attributes are useful in virt drivers when cleaning up after a\nresize confirm or restoring things after a revert. We'll use them\nshortly to allow us to determine what to do with TPM data files in this\nexact case.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-08-24 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc1f84f23262f0b02c465e2d9a00e3a1d99b8b5a', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 9, 'created': '2020-08-25 17:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cbf1194d1337be7f0796f0a7c4711a462650a79', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}, {'number': 10, 'created': '2020-08-26 08:46:11.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d54bb42f768eb7bd7789ba2a7242308dc691d8a9', 'message': ""Don't unset Instance.old_flavor, new_flavor until necessary\n\nSince change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource\ntracker's 'drop_move_claim' method has been capable of freeing up\nresource usage. However, this relies on accurate resource reporting.\nIt transpires that there's a race whereby the resource tracker's\n'update_available_resource' periodic task can end up not accounting for\nusage from migrations that are in the process of being completed. The\nroot cause is the resource tracker's reliance on the stashed flavor in a\ngiven migration record [1]. Previously, this information was deleted by\nthe compute manager at the start of the confirm migration operation [2].\nThe compute manager would then call the virt driver [3], which could\ntake a not insignificant amount of time to return, before finally\ndropping the move claim. If the periodic task ran between the clearing\nof the stashed flavor and the return of the virt driver, it would find a\nmigration record with no stashed flavor and would therefore ignore this\nrecord for accounting purposes [4], resulting in an incorrect record for\nthe compute node, and an exception when the 'drop_move_claim' attempts\nto free up the resources that aren't being tracked.\n\nThe solution to this issue is pretty simple. Instead of unsetting the\nold flavor record from the migration at the start of the various move\noperations, do it afterwards.\n\n[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288\n[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315\n[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331\n[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300\n\nChange-Id: I9317404f790004511db8edc08a414a706d42265f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\nRelated-Bug: #1834349\nRelated-Bug: #1818914\n""}]",11,741995,d54bb42f768eb7bd7789ba2a7242308dc691d8a9,96,15,10,15334,,,0,"Don't unset Instance.old_flavor, new_flavor until necessary

Since change Ia6d8a7909081b0b856bd7e290e234af7e42a2b38, the resource
tracker's 'drop_move_claim' method has been capable of freeing up
resource usage. However, this relies on accurate resource reporting.
It transpires that there's a race whereby the resource tracker's
'update_available_resource' periodic task can end up not accounting for
usage from migrations that are in the process of being completed. The
root cause is the resource tracker's reliance on the stashed flavor in a
given migration record [1]. Previously, this information was deleted by
the compute manager at the start of the confirm migration operation [2].
The compute manager would then call the virt driver [3], which could
take a not insignificant amount of time to return, before finally
dropping the move claim. If the periodic task ran between the clearing
of the stashed flavor and the return of the virt driver, it would find a
migration record with no stashed flavor and would therefore ignore this
record for accounting purposes [4], resulting in an incorrect record for
the compute node, and an exception when the 'drop_move_claim' attempts
to free up the resources that aren't being tracked.

The solution to this issue is pretty simple. Instead of unsetting the
old flavor record from the migration at the start of the various move
operations, do it afterwards.

[1] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1288
[2] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4310-L4315
[3] https://github.com/openstack/nova/blob/6557d67/nova/compute/manager.py#L4330-L4331
[4] https://github.com/openstack/nova/blob/6557d67/nova/compute/resource_tracker.py#L1300

Change-Id: I9317404f790004511db8edc08a414a706d42265f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Partial-Bug: #1879878
Related-Bug: #1834349
Related-Bug: #1818914
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/741995/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,9a3f19a62708ce23912b8e4285337c3ae9811049,bp/add-emulated-virtual-tpm,"import typing as ty # As the instance is not any more on this host, update the # scheduler about the move # The cached flavor information is confusing and useless so # unset it self._delete_stashed_migration_information(instance) self.rt.drop_move_claim( context, instance, migration.source_node, instance.old_flavor, prefix='old_') def _delete_stashed_migration_information(self, instance): """"""Remove information about the flavor change after a resize."""""" instance.old_flavor = None instance.new_flavor = None instance.system_metadata.pop('old_vm_state', None) instance.save() self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ): try: do_revert() finally: self._delete_stashed_migration_information(instance) self, ctxt: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', ): # Get stashed old_vm_state information to determine if guest should # be powered on after spawn; we default to ACTIVE for backwards # compatibility if old_vm_state is not set # Revert the flavor and host/node fields to their previous values self._set_instance_info(instance, instance.old_flavor) instance.host = migration.source_compute instance.node = migration.source_node instance.save(expected_task_state=[task_states.RESIZE_REVERTING]) self, context: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', request_spec: ty.Optional['objects.RequestSpec'] = None, ): try: with self._error_out_instance_on_exception(context, instance): self._finish_revert_resize( context, instance, migration, request_spec) finally: self._delete_stashed_migration_information(instance) def _finish_revert_resize( self, context: nova.context.RequestContext, instance: 'objects.Instance', migration: 'objects.Migration', request_spec: ty.Optional['objects.RequestSpec'] = None, ): """"""Inner version of finish_revert_resize."""""" bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) self._notify_about_instance_usage( context, instance, ""resize.revert.start"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.START, bdms=bdms) # Get stashed old_vm_state information to determine if guest should # be powered on after spawn; we default to ACTIVE for backwards # compatibility if old_vm_state is not set old_vm_state = instance.system_metadata.get( 'old_vm_state', vm_states.ACTIVE) # Revert the flavor and host/node fields to their previous values self._set_instance_info(instance, instance.old_flavor) instance.host = migration.source_compute instance.node = migration.source_node instance.save(expected_task_state=[task_states.RESIZE_REVERTING]) try: source_allocations = self._revert_allocation( context, instance, migration) except exception.AllocationMoveFailed: LOG.error('Reverting allocation in placement for migration ' '%(migration_uuid)s failed. The instance ' '%(instance_uuid)s will be put into ERROR state but ' 'the allocation held by the migration is leaked.', {'instance_uuid': instance.uuid, 'migration_uuid': migration.uuid}) raise provider_mappings = self._fill_provider_mapping_based_on_allocs( context, source_allocations, request_spec) self.network_api.setup_networks_on_host( context, instance, migration.source_compute) self._finish_revert_resize_network_migrate_finish( context, instance, migration, provider_mappings) network_info = self.network_api.get_instance_nw_info( context, instance) # revert_resize deleted any volume attachments for the instance # and created new ones to be used on this host, but we # have to update those attachments with the host connector so the # BDM.connection_info will get set in the call to # _get_instance_block_device_info below with refresh_conn_info=True # and then the volumes can be re-connected via the driver on this # host. self._update_volume_attachments(context, instance, bdms) block_device_info = self._get_instance_block_device_info( context, instance, refresh_conn_info=True, bdms=bdms) power_on = old_vm_state != vm_states.STOPPED self.driver.finish_revert_migration( context, instance, network_info, migration, block_device_info, power_on) instance.drop_migration_context() instance.launched_at = timeutils.utcnow() instance.save(expected_task_state=task_states.RESIZE_REVERTING) # Complete any volume attachments so the volumes are in-use. self._complete_volume_attachments(context, bdms) # if the original vm state was STOPPED, set it back to STOPPED LOG.info(""Updating instance to original state: '%s'"", old_vm_state, instance=instance) if power_on: instance.vm_state = vm_states.ACTIVE instance.task_state = None instance.save() else: instance.task_state = task_states.POWERING_OFF instance.save() self.stop_instance(context, instance=instance, clean_shutdown=True) self._notify_about_instance_usage( context, instance, ""resize.revert.end"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.END, bdms=bdms)"," # Also as the instance is not any more on this host, update # the scheduler about the move # NOTE(danms): delete stashed migration information old_instance_type = instance.old_flavor instance.old_flavor = None instance.new_flavor = None instance.system_metadata.pop('old_vm_state', None) instance.save() self.rt.drop_move_claim(context, instance, migration.source_node, old_instance_type, prefix='old_') self, ctxt, instance, migration): do_revert() self, ctxt, instance, migration): # Delete stashed old_vm_state information. We will use this to # determine if the guest should be powered on when we spawn it. # Update instance host/node and flavor-related fields. After this # if anything fails the instance will get rebuilt/rebooted on this # host. self._finish_revert_resize_update_instance_flavor_host_node( instance, migration) def _finish_revert_resize_update_instance_flavor_host_node(self, instance, migration): """"""Updates host/node and flavor-related fields on the instance. This is used when finish the revert resize operation on the source host and updates the instance flavor-related fields back to the old flavor and then nulls out the old/new_flavor fields. The instance host/node fields are also set back to the source compute host/node. :param instance: Instance object :param migration: Migration object """""" self._set_instance_info(instance, instance.old_flavor) instance.old_flavor = None instance.new_flavor = None instance.host = migration.source_compute instance.node = migration.source_node instance.save(expected_task_state=[task_states.RESIZE_REVERTING]) self, context, instance, migration, request_spec=None): with self._error_out_instance_on_exception(context, instance): bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( context, instance.uuid) self._notify_about_instance_usage( context, instance, ""resize.revert.start"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.START, bdms=bdms) # NOTE(mriedem): delete stashed old_vm_state information; we # default to ACTIVE for backwards compatibility if old_vm_state # is not set old_vm_state = instance.system_metadata.pop('old_vm_state', vm_states.ACTIVE) self._finish_revert_resize_update_instance_flavor_host_node( instance, migration) try: source_allocations = self._revert_allocation( context, instance, migration) except exception.AllocationMoveFailed: LOG.error('Reverting allocation in placement for migration ' '%(migration_uuid)s failed. The instance ' '%(instance_uuid)s will be put into ERROR state but ' 'the allocation held by the migration is leaked.', {'instance_uuid': instance.uuid, 'migration_uuid': migration.uuid}) raise provider_mappings = self._fill_provider_mapping_based_on_allocs( context, source_allocations, request_spec) self.network_api.setup_networks_on_host(context, instance, migration.source_compute) self._finish_revert_resize_network_migrate_finish( context, instance, migration, provider_mappings) network_info = self.network_api.get_instance_nw_info(context, instance) # revert_resize deleted any volume attachments for the instance # and created new ones to be used on this host, but we # have to update those attachments with the host connector so the # BDM.connection_info will get set in the call to # _get_instance_block_device_info below with refresh_conn_info=True # and then the volumes can be re-connected via the driver on this # host. self._update_volume_attachments(context, instance, bdms) block_device_info = self._get_instance_block_device_info( context, instance, refresh_conn_info=True, bdms=bdms) power_on = old_vm_state != vm_states.STOPPED self.driver.finish_revert_migration( context, instance, network_info, migration, block_device_info, power_on) instance.drop_migration_context() instance.launched_at = timeutils.utcnow() instance.save(expected_task_state=task_states.RESIZE_REVERTING) # Complete any volume attachments so the volumes are in-use. self._complete_volume_attachments(context, bdms) # if the original vm state was STOPPED, set it back to STOPPED LOG.info(""Updating instance to original state: '%s'"", old_vm_state, instance=instance) if power_on: instance.vm_state = vm_states.ACTIVE instance.task_state = None instance.save() else: instance.task_state = task_states.POWERING_OFF instance.save() self.stop_instance(context, instance=instance, clean_shutdown=True) self._notify_about_instance_usage( context, instance, ""resize.revert.end"") compute_utils.notify_about_instance_action(context, instance, self.host, action=fields.NotificationAction.RESIZE_REVERT, phase=fields.NotificationPhase.END, bdms=bdms)",133,117
openstack%2Fwhitebox-tempest-plugin~master~I33ee31855d152390ab8c20cda3f716ac41689942,openstack/whitebox-tempest-plugin,master,I33ee31855d152390ab8c20cda3f716ac41689942,DNM: Check if paramiko 2.7.2 resolves ssh key errors,ABANDONED,2020-09-01 14:28:11.000000000,2020-09-02 15:22:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2020-09-01 14:28:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a0ddeadec7ad0487ff42841b6be4627514bf010a', 'message': ""DNM: Check if paramiko 2.7.2 resolves ssh key errors\n\nWe've started seeing errors in CI as follows:\n\nValueError: ('Invalid private key', [_OpenSSLErrorWithText(code=67764350, lib=4, func=160, reason=126, reason_text=b'error:040A007E:rsa routines:RSA_check_key_ex:iqmp not inverse of q')])\n\nBased on https://github.com/borgbase/vorta/issues/604 paramiko 2.7.2\nmight resolve this, though I don't understand the exact root cause.\n\nChange-Id: I33ee31855d152390ab8c20cda3f716ac41689942\n""}]",0,749294,a0ddeadec7ad0487ff42841b6be4627514bf010a,4,2,1,8864,,,0,"DNM: Check if paramiko 2.7.2 resolves ssh key errors

We've started seeing errors in CI as follows:

ValueError: ('Invalid private key', [_OpenSSLErrorWithText(code=67764350, lib=4, func=160, reason=126, reason_text=b'error:040A007E:rsa routines:RSA_check_key_ex:iqmp not inverse of q')])

Based on https://github.com/borgbase/vorta/issues/604 paramiko 2.7.2
might resolve this, though I don't understand the exact root cause.

Change-Id: I33ee31855d152390ab8c20cda3f716ac41689942
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/94/749294/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a0ddeadec7ad0487ff42841b6be4627514bf010a,,paramiko>=2.7.2,,1,0
openstack%2Fkolla~stable%2Ftrain~I2a3fa657a3e1a9b8b0acb0b50bd4f3e98078f4ff,openstack/kolla,stable/train,I2a3fa657a3e1a9b8b0acb0b50bd4f3e98078f4ff,openstack-base: pin setuptools < 46 to get horizon working,MERGED,2020-03-12 10:36:12.000000000,2020-09-02 15:18:05.000000000,2020-03-12 19:12:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-12 10:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa038c30efb014ee77394ab2e13b5ad0792ad8fb', 'message': ""openstack-base: pin setuptools < 46 to get horizon working\n\npyScss used by Horizon fails to work with setuptools > 46 version.\n\nIt's last release was in 2016 so probably no one fix it.\nLet make sure that we get older version of setuptools.\n\nBroken due to https://bugs.launchpad.net/kolla/+bug/1866961\n\nChange-Id: I2a3fa657a3e1a9b8b0acb0b50bd4f3e98078f4ff\n""}, {'number': 2, 'created': '2020-03-12 14:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2047c94dcf279fc7a319b4b17ef0a9f02356f987', 'message': ""openstack-base: pin setuptools < 46 to get horizon working\n\npyScss used by Horizon fails to work with setuptools > 46 version.\n\nIt's last release was in 2016 so probably no one fix it.\nLet make sure that we get older version of setuptools.\n\nBroken due to https://bugs.launchpad.net/kolla/+bug/1866961\n\nChange-Id: I2a3fa657a3e1a9b8b0acb0b50bd4f3e98078f4ff\nDepends-on: https://review.opendev.org/712689\n""}, {'number': 3, 'created': '2020-03-12 15:30:04.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca8b61516401d61d90e2940fa130c8f55a8b6e45', 'message': ""openstack-base: pin setuptools < 46 to get horizon working\n\npyScss used by Horizon fails to work with setuptools > 46 version.\n\nIt's last release was in 2016 so probably no one fix it.\nLet make sure that we get older version of setuptools.\n\nBroken due to https://bugs.launchpad.net/kolla/+bug/1866961\n\nChange-Id: I2a3fa657a3e1a9b8b0acb0b50bd4f3e98078f4ff\n""}]",0,712644,ca8b61516401d61d90e2940fa130c8f55a8b6e45,16,4,3,24072,,,0,"openstack-base: pin setuptools < 46 to get horizon working

pyScss used by Horizon fails to work with setuptools > 46 version.

It's last release was in 2016 so probably no one fix it.
Let make sure that we get older version of setuptools.

Broken due to https://bugs.launchpad.net/kolla/+bug/1866961

Change-Id: I2a3fa657a3e1a9b8b0acb0b50bd4f3e98078f4ff
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/712644/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,aa038c30efb014ee77394ab2e13b5ad0792ad8fb,,"# FIXME(hrw): pyScss used by Horizon fails to work with setuptools >= 46 # it had last release in 2016 so probably no one will fix it. # So we need to be sure that we get older version of setuptools. RUN {{ macros.install_pip(['""setuptools<46""']) }} ",,5,0
openstack%2Fswift~master~I00c6693c42c1a0220b64d8016d380d5985339658,openstack/swift,master,I00c6693c42c1a0220b64d8016d380d5985339658,py3: Work with proper native string paths in crypto meta,MERGED,2020-07-20 21:53:03.000000000,2020-09-02 15:10:45.000000000,2020-08-30 04:11:59.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 21:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6bdaf7796e18575e88dc842d265dd09ed7a3bb29', 'message': 'wip: py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n'}, {'number': 2, 'created': '2020-07-21 20:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/454788b939370970ea66241ec2cb7e41142694fe', 'message': 'py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n'}, {'number': 3, 'created': '2020-07-22 03:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/802ec5ee83f7df06f688914714a943a39c3d67ed', 'message': 'py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n'}, {'number': 4, 'created': '2020-07-30 00:34:06.000000000', 'files': ['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7d429318ddb854a23cdecfe35721b1ecbe8bcccc', 'message': 'py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nAdd the ability to read and write a new, unambiguous version of metadata\nthat always has the path as a native string. To support rolling\nupgrades, a new config option is added: meta_version_to_write. This\ndefaults to 2 to support rolling upgrades without configuration changes,\nbut the default may change to 3 in a future release.\n\nUpgradeImpact\n=============\nWhen upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set\n\n    meta_version_to_write = 1\n\nin your keymaster\'s configuration. Regardless of prior Swift version, set\n\n    meta_version_to_write = 3\n\nafter upgrading all proxy servers.\n\nWhen switching from Python 2 to Python 3, first upgrade Swift while on\nPython 2, then upgrade to Python 3.\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n'}]",23,742033,7d429318ddb854a23cdecfe35721b1ecbe8bcccc,33,3,4,15343,,,0,"py3: Work with proper native string paths in crypto meta

Previously, we would work with these paths as WSGI strings -- this would
work fine when all data were read and written on the same major version
of Python, but fail pretty badly during and after upgrading Python.

In particular, if a py3 proxy-server tried to read existing data that
was written down by a py2 proxy-server, it would hit an error and
respond 500. Worse, if an un-upgraded py2 proxy tried to read data that
was freshly-written by a py3 proxy, it would serve corrupt data back to
the client (including a corrupt/invalid ETag and Content-Type).

Now, ensure that both py2 and py3 write down paths as native strings.
Make an effort to still work with WSGI-string metadata, though it can be
ambiguous as to whether a string is a WSGI string or not. The heuristic
used is if

 * the path from metadata does not match the (native-string) request
   path and
 * the path from metadata (when interpreted as a WSGI string) can be
   ""un-wsgi-fied"" without any encode/decode errors and
 * the native-string path from metadata *does* match the native-string
   request path

then trust the path from the request. By contrast, we usually prefer the
path from metadata in case there was a pipeline misconfiguration (see
related bug).

Add the ability to read and write a new, unambiguous version of metadata
that always has the path as a native string. To support rolling
upgrades, a new config option is added: meta_version_to_write. This
defaults to 2 to support rolling upgrades without configuration changes,
but the default may change to 3 in a future release.

UpgradeImpact
=============
When upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set

    meta_version_to_write = 1

in your keymaster's configuration. Regardless of prior Swift version, set

    meta_version_to_write = 3

after upgrading all proxy servers.

When switching from Python 2 to Python 3, first upgrade Swift while on
Python 2, then upgrade to Python 3.

Change-Id: I00c6693c42c1a0220b64d8016d380d5985339658
Closes-Bug: #1888037
Related-Bug: #1813725
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/742033/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/crypto/keymaster.py', 'test/unit/common/middleware/crypto/test_encryption.py', 'test/unit/common/middleware/crypto/test_keymaster.py']",3,6bdaf7796e18575e88dc842d265dd09ed7a3bb29,bug/1888037," self.assertEqual('3', id['v']) 'v': '3', 'v': '3', 'v': '3', 'v': '3', key_id={'secret_id': secret_id, 'v': '3', 'path': '/a/c/o'}) 'id': {'path': '/a/c/o', 'secret_id': '22', 'v': '3'}, {'path': '/a/c/o', 'v': '3'}, {'path': '/a/c/o', 'secret_id': '22', 'v': '3'}, {'path': '/a/c/o', 'secret_id': 'my_secret_id', 'v': '3'}]} 'secret_id': None, 'v': '3', 'path': '/a/c/o'}) 'id': {'path': '/a/c/o', 'v': '3'}, {'path': '/a/c/o', 'v': '3'}, {'path': '/a/c/o', 'secret_id': '22', 'v': '3'}, {'path': '/a/c/o', 'secret_id': 'my_secret_id', 'v': '3'}]} for version in ('1', '2', '3'): for version in ('1', '2', '3'):"," self.assertEqual('2', id['v']) 'v': '2', 'v': '2', 'v': '2', 'v': '2', key_id={'secret_id': secret_id, 'v': '2', 'path': '/a/c/o'}) 'id': {'path': '/a/c/o', 'secret_id': '22', 'v': '2'}, {'path': '/a/c/o', 'v': '2'}, {'path': '/a/c/o', 'secret_id': '22', 'v': '2'}, {'path': '/a/c/o', 'secret_id': 'my_secret_id', 'v': '2'}]} 'secret_id': None, 'v': '2', 'path': '/a/c/o'}) 'id': {'path': '/a/c/o', 'v': '2'}, {'path': '/a/c/o', 'v': '2'}, {'path': '/a/c/o', 'secret_id': '22', 'v': '2'}, {'path': '/a/c/o', 'secret_id': 'my_secret_id', 'v': '2'}]} for version in ('1', '2'): for version in ('1', '2'):",55,26
openstack%2Fhorizon~master~I5eac6b1c724e9b21a78fda5ba41002224dd9b356,openstack/horizon,master,I5eac6b1c724e9b21a78fda5ba41002224dd9b356,npm job: Add 'nodejs' bindep profile,MERGED,2020-09-02 10:14:43.000000000,2020-09-02 14:45:39.000000000,2020-09-02 14:42:38.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-02 10:14:43.000000000', 'files': ['playbooks/horizon-nodejs/pre.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5dd94f6598920d4f5cc5e8a30d3a68205dbb0205', 'message': ""npm job: Add 'nodejs' bindep profile\n\nDuring the focal migration, npm jobs in some plugins requires\nextra packages like libfontconfig. They are specific to npm jobs,\nso it would be nice to have a dedicated bindep profile (as 'test'\nprofile is too general for this purpose). horizon job definition\nprovides a common layer for the npm jobs, so we decide to add a\ntask to the job definition in the horizon repo. Each plugin can\nadd packages with 'nodejs' profile in its bindep.txt if needed.\n\nChange-Id: I5eac6b1c724e9b21a78fda5ba41002224dd9b356\n""}]",1,749476,5dd94f6598920d4f5cc5e8a30d3a68205dbb0205,9,4,1,841,,,0,"npm job: Add 'nodejs' bindep profile

During the focal migration, npm jobs in some plugins requires
extra packages like libfontconfig. They are specific to npm jobs,
so it would be nice to have a dedicated bindep profile (as 'test'
profile is too general for this purpose). horizon job definition
provides a common layer for the npm jobs, so we decide to add a
task to the job definition in the horizon repo. Each plugin can
add packages with 'nodejs' profile in its bindep.txt if needed.

Change-Id: I5eac6b1c724e9b21a78fda5ba41002224dd9b356
",git fetch https://review.opendev.org/openstack/horizon refs/changes/76/749476/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/horizon-nodejs/pre.yaml'],1,5dd94f6598920d4f5cc5e8a30d3a68205dbb0205,migrate-to-focal, # nodejs jobs in some horizon plugins requires extra packages in the jobs. # It is nice to define a specific bindep profile for them. - role: bindep bindep_profile: nodejs,,4,0
openstack%2Ftripleo-common~stable%2Ftrain~I6401e858b1b5cc94b1906684e17daa198b53ac1c,openstack/tripleo-common,stable/train,I6401e858b1b5cc94b1906684e17daa198b53ac1c,DNM - debug,ABANDONED,2020-09-01 17:49:16.000000000,2020-09-02 14:40:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 17:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/757c953271cc0a03fa4b378a2f53df7f5190c11a', 'message': 'DNM - debug\n\nChange-Id: I6401e858b1b5cc94b1906684e17daa198b53ac1c\n'}, {'number': 2, 'created': '2020-09-01 19:39:34.000000000', 'files': ['tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/85f4a781864af09fee9a4c17613c717aa6c64a8a', 'message': 'DNM - debug\n\nChange-Id: I6401e858b1b5cc94b1906684e17daa198b53ac1c\n'}]",0,749371,85f4a781864af09fee9a4c17613c717aa6c64a8a,6,2,2,3153,,,0,"DNM - debug

Change-Id: I6401e858b1b5cc94b1906684e17daa198b53ac1c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/749371/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/image/test_kolla_builder.py'],1,757c953271cc0a03fa4b378a2f53df7f5190c11a,dnm, self.maxDiff = None,,1,0
openstack%2Fironic-python-agent-builder~master~I4f795ab5036c6f6e9e43fbef2d858bc3b4acc47a,openstack/ironic-python-agent-builder,master,I4f795ab5036c6f6e9e43fbef2d858bc3b4acc47a,Build centos8 on centos8,MERGED,2020-08-19 11:50:16.000000000,2020-09-02 14:39:07.000000000,2020-09-02 14:23:11.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-19 11:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/2a3657a1940d1539b0a731147d3494ee36481805', 'message': 'Build centos8 on centos8\n\nUse centos8 nodeset to build centos8 based dib images.\n\nChange-Id: I4f795ab5036c6f6e9e43fbef2d858bc3b4acc47a\n'}, {'number': 2, 'created': '2020-08-20 15:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/2e1b72ffc9f802f28c0ff4446659a265375808f9', 'message': 'Build centos8 on centos8\n\nUse centos8 nodeset to build centos8 based dib images.\n\nChange-Id: I4f795ab5036c6f6e9e43fbef2d858bc3b4acc47a\n'}, {'number': 3, 'created': '2020-08-25 12:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/d70e742bf06173e90c73a5158286fba4151a2601', 'message': 'Build centos8 on centos8\n\nUse centos8 nodeset to build centos8 based dib images.\n\nChange-Id: I4f795ab5036c6f6e9e43fbef2d858bc3b4acc47a\n'}, {'number': 4, 'created': '2020-08-28 07:47:10.000000000', 'files': ['zuul.d/ironic-python-agent-builder-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/def99cdaecc9d0b693a1d61473e0aefee64acb16', 'message': 'Build centos8 on centos8\n\nUse centos8 nodeset to build centos8 based dib images.\n\nChange-Id: I4f795ab5036c6f6e9e43fbef2d858bc3b4acc47a\n'}]",0,746901,def99cdaecc9d0b693a1d61473e0aefee64acb16,25,4,4,23851,,,0,"Build centos8 on centos8

Use centos8 nodeset to build centos8 based dib images.

Change-Id: I4f795ab5036c6f6e9e43fbef2d858bc3b4acc47a
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/01/746901/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2a3657a1940d1539b0a731147d3494ee36481805,centos8-on-centos8, nodeset: centos-8 nodeset: centos-8,,2,0
openstack%2Fironic-python-agent-builder~master~I0ffe7c71ca3145202ffd5412434e6ce163df53fe,openstack/ironic-python-agent-builder,master,I0ffe7c71ca3145202ffd5412434e6ce163df53fe,Remove old proc before finalising tinyipa,MERGED,2020-08-20 15:49:26.000000000,2020-09-02 14:36:10.000000000,2020-09-02 14:23:10.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-20 15:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/bd50e99e2f30344c0ce7ce64d926a1aeec8c0f29', 'message': 'Remove old proc before finalising tinyipa\n\nWhen building locally, if the finalise process fails, it might\nhappen that the old proc filesystem mounted for the chroot jail\nis still there.\nUnmount it before removing the old finaldir to prevent the script\nto fail early.\n\nChange-Id: I0ffe7c71ca3145202ffd5412434e6ce163df53fe\n'}, {'number': 2, 'created': '2020-08-22 13:10:13.000000000', 'files': ['tinyipa/finalise-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8556bdacbdf81c98a1fbfac40c3e693bd57040c9', 'message': 'Remove old proc before finalising tinyipa\n\nWhen building locally, if the finalise process fails, it might\nhappen that the old proc filesystem mounted for the chroot jail\nis still there.\nUnmount it before removing the old finaldir to prevent the script\nto fail early.\n\nChange-Id: I0ffe7c71ca3145202ffd5412434e6ce163df53fe\n'}]",0,747228,8556bdacbdf81c98a1fbfac40c3e693bd57040c9,12,4,2,23851,,,0,"Remove old proc before finalising tinyipa

When building locally, if the finalise process fails, it might
happen that the old proc filesystem mounted for the chroot jail
is still there.
Unmount it before removing the old finaldir to prevent the script
to fail early.

Change-Id: I0ffe7c71ca3145202ffd5412434e6ce163df53fe
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/28/747228/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/finalise-tinyipa.sh'],1,bd50e99e2f30344c0ce7ce64d926a1aeec8c0f29,remove-old-proc,"# Let's umount proc in case the old finalise process went sideways and # it's still mounted if grep -qs ""$FINALDIR/proc"" /proc/mounts; then sudo umount ""$FINALDIR/proc"" fi # Remove the old final chroot dir with all its content before starting a new # finalise process",,8,0
openstack%2Fhorizon~master~I81c150a9abc53242dfefd18c6c0ebc20c0484073,openstack/horizon,master,I81c150a9abc53242dfefd18c6c0ebc20c0484073,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 06:13:11.000000000,2020-09-02 14:36:05.000000000,2020-09-02 14:23:04.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 06:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/618b88db9d1980de56516801736982379ac47f9d', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40187\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 2, 'created': '2020-08-04 07:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f54bb5b0edd62801ba68ef85e559205516cf91b4', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40187\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 3, 'created': '2020-08-04 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f39b88d4a1658f30f5cbd40fde553560264ae12e', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40187\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 4, 'created': '2020-08-14 07:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/393f0636187708d92cad75290391c68f0342bff2', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40187\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 5, 'created': '2020-08-14 18:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c36e273d252d8d67f2c8b24d73d316ddfc057fbf', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40187\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nDepends-On: https://review.opendev.org/#/c/746327/\n\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 6, 'created': '2020-08-16 16:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0cb80cac2ae0a3bc330cec3bcd2048b3f7569095', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40187\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 7, 'created': '2020-08-17 00:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5fae807afc2af7599d9240588beaad4ab04971d1', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40187\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\n\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 8, 'created': '2020-08-17 04:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/da5b44cba2a4514c657e67889eee730a2c560cf9', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40187\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}, {'number': 9, 'created': '2020-09-01 15:38:50.000000000', 'files': ['.zuul.d/nodejs-jobs.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c28b9b9bc37ccdcd4d449a0a4d95989c5dd58346', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\nCloses-Bug: #1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40187\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073\n'}]",1,744647,c28b9b9bc37ccdcd4d449a0a4d95989c5dd58346,46,5,9,29313,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
Closes-Bug: #1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.
Story: #2007865
Task: #40187

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I81c150a9abc53242dfefd18c6c0ebc20c0484073
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/744647/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,618b88db9d1980de56516801736982379ac47f9d,migrate-to-focal,#test focal,,1,0
openstack%2Fpuppet-openstack-integration~master~I02de0469c31f9e6245f78cf38e6d1e4d25bcf71a,openstack/puppet-openstack-integration,master,I02de0469c31f9e6245f78cf38e6d1e4d25bcf71a,"Revert ""Revert ""Make CentOS8 beaker job voting""""",MERGED,2020-09-01 14:44:57.000000000,2020-09-02 14:32:30.000000000,2020-09-02 14:32:30.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 14:44:57.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c6d05d482cacf345c8e9602bcf66ea9442521110', 'message': 'Revert ""Revert ""Make CentOS8 beaker job voting""""\n\n... because now all beaker jobs should have been fixed.\n\nThis reverts commit d97360f72f675b0b1547d9ffdad5688f8e314541.\n\nChange-Id: I02de0469c31f9e6245f78cf38e6d1e4d25bcf71a\n'}]",0,749298,c6d05d482cacf345c8e9602bcf66ea9442521110,7,5,1,9816,,,0,"Revert ""Revert ""Make CentOS8 beaker job voting""""

... because now all beaker jobs should have been fixed.

This reverts commit d97360f72f675b0b1547d9ffdad5688f8e314541.

Change-Id: I02de0469c31f9e6245f78cf38e6d1e4d25bcf71a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/98/749298/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/beaker.yaml']",2,c6d05d482cacf345c8e9602bcf66ea9442521110,centos8-beaker,, voting: false,0,2
openstack%2Fneutron~master~Ia98fb5d4d3cbebaa65ec139f276f6780c3fb1cbf,openstack/neutron,master,Ia98fb5d4d3cbebaa65ec139f276f6780c3fb1cbf,Port update status api extension,ABANDONED,2020-08-27 18:31:45.000000000,2020-09-02 14:23:47.000000000,,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-27 18:31:45.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/extensions/_port_update_status_lib.py', 'neutron/extensions/port_update_status.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a702d9c5a7e84cdb905949c2c3f885ecc7638f54', 'message': 'Port update status api extension\n\nThe new field, port_update_status makes it possible to give feedback to\nusers if the update of a port succeeded or not, or on its way to finish.\nThis can point to the api def in neutron, when\nhttps://review.opendev.org/748363 is released.\n\nChange-Id: Ia98fb5d4d3cbebaa65ec139f276f6780c3fb1cbf\nRelated-Bug: #1882804\n'}]",0,748507,a702d9c5a7e84cdb905949c2c3f885ecc7638f54,7,5,1,8313,,,0,"Port update status api extension

The new field, port_update_status makes it possible to give feedback to
users if the update of a port succeeded or not, or on its way to finish.
This can point to the api def in neutron, when
https://review.opendev.org/748363 is released.

Change-Id: Ia98fb5d4d3cbebaa65ec139f276f6780c3fb1cbf
Related-Bug: #1882804
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/748507/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/extensions/_port_update_status_lib.py', 'neutron/extensions/port_update_status.py']",3,a702d9c5a7e84cdb905949c2c3f885ecc7638f54,bug/1882804,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import extensions from neutron.extensions import _port_update_status_lib as apidef class Port_update_status(extensions.APIExtensionDescriptor): api_definition = apidef ",,65,1
openstack%2Fneutron-lib~master~Iede00c280e5eef154ae3a5b7b645a4ff467c1f20,openstack/neutron-lib,master,Iede00c280e5eef154ae3a5b7b645a4ff467c1f20,New port attribute: port_update_status,ABANDONED,2020-08-27 06:50:43.000000000,2020-09-02 14:23:24.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 06:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c87659e617fa27b76dcda86e12ce510613a63a9d', 'message': 'New port attribute: port_update_status\n\nThe new field, port_update_status makes it possible to give feedback to\nusers if the update of a port succeeded or not, or on its way to finish.\n\nChange-Id: Iede00c280e5eef154ae3a5b7b645a4ff467c1f20\nRelated-Bug: #1882804\n'}, {'number': 2, 'created': '2020-08-27 07:20:42.000000000', 'files': ['releasenotes/notes/port_update_status-072ac66854fadfc9.yaml', 'neutron_lib/tests/unit/api/definitions/test_port_update_status.py', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/ports.inc', 'neutron_lib/api/definitions/port_update_status.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1252912211dc17d2f47ee611469f6d270e76a80a', 'message': 'New port attribute: port_update_status\n\nThe new field, port_update_status makes it possible to give feedback to\nusers if the update of a port succeeded or not, or on its way to finish.\n\nChange-Id: Iede00c280e5eef154ae3a5b7b645a4ff467c1f20\nRelated-Bug: #1882804\n'}]",0,748363,1252912211dc17d2f47ee611469f6d270e76a80a,6,4,2,8313,,,0,"New port attribute: port_update_status

The new field, port_update_status makes it possible to give feedback to
users if the update of a port succeeded or not, or on its way to finish.

Change-Id: Iede00c280e5eef154ae3a5b7b645a4ff467c1f20
Related-Bug: #1882804
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/63/748363/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/definitions/test_port_update_status.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/port_update_status.py']",3,c87659e617fa27b76dcda86e12ce510613a63a9d,bug/1882804,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import port from neutron_lib.api.definitions import port_resource_request from neutron_lib.api.definitions import qos as qos_apidef ALIAS = 'port-update-status' IS_SHIM_EXTENSION = False IS_STANDARD_ATTR_EXTENSION = False NAME = 'Port Update Status' DESCRIPTION = ""Adds status information for port update operations"" UPDATED_TIMESTAMP = ""2020-08-05T10:00:00-00:00"" RESOURCE_NAME = port.RESOURCE_NAME COLLECTION_NAME = port.COLLECTION_NAME UPDATE_STATUS = 'update_status' RESOURCE_ATTRIBUTE_MAP = { COLLECTION_NAME: { UPDATE_STATUS: {'allow_post': False, 'allow_put': False, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, }, } SUB_RESOURCE_ATTRIBUTE_MAP = None ACTION_MAP = {} ACTION_STATUS = {} REQUIRED_EXTENSIONS = [qos_apidef.ALIAS, port_resource_request.ALIAS] OPTIONAL_EXTENSIONS = [] ",,64,0
openstack%2Fos-brick~master~Ie8011fc83bc41edd2768ade6d42d737b4598ca2d,openstack/os-brick,master,Ie8011fc83bc41edd2768ade6d42d737b4598ca2d,Fix for rbd connector to work with ceph octopus,MERGED,2020-05-22 16:34:51.000000000,2020-09-02 14:22:07.000000000,2020-09-02 14:14:31.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 20870}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-05-22 16:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e361b0d21c5f4a316d1d5e01fcc28456f8490984', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nPatched local copy of os-brick and tested to ensure it works.\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 2, 'created': '2020-07-22 10:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d4d47989707df7126d7c98e1cb9485288ea407c4', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 3, 'created': '2020-07-22 19:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7ae57586f9fbd93828a884c36aacc19f2d7c96d5', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 4, 'created': '2020-07-23 05:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bb89677b3490b046a80844386ad4ca3f0ec3eabc', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 5, 'created': '2020-07-29 19:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/848f170b8894852a5d889a68187766ad3fb23448', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 6, 'created': '2020-08-27 11:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5c5c51c2f120cea832771b074f88e8a9a2a899a2', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 7, 'created': '2020-08-27 13:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1dbac6d07b0198fd91720fd73356c8b180821f65', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 8, 'created': '2020-08-27 14:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/29ff285ff76d452e7b9510196d2c8056215f3386', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nIncludes release note for the change.\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 9, 'created': '2020-08-27 15:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/119fd745c26beb154b93cabbab9e838000ec382b', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nIncludes release note for the change.\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 10, 'created': '2020-08-28 09:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/105119ee4284876b7704656b010880200223eb6f', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[general] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later\n\nIncludes release note for the change.\n\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 11, 'created': '2020-08-29 20:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/00d40ea8033093922d2bfe1d16d58babc7743ae6', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[global] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later. It also cinder Ceph backup driver.\n\nIncludes release note for the change.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 12, 'created': '2020-09-01 06:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/61efa613409a49a03ffa9fcbf7b540ff49d71f22', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[global] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later.\n\nIt also fixes cinder Ceph backup driver.\n\nIncludes release note for the change.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 13, 'created': '2020-09-01 16:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8b166222aaf4974848b99e8dd901a031c9dc5485', 'message': 'Fix for rbd connector to work with ceph octupus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[global] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later.\n\nIt also fixes cinder Ceph backup driver.\n\nIncludes release note for the change.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}, {'number': 14, 'created': '2020-09-01 16:29:59.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py', 'releasenotes/notes/bug-1865754-ceph-octopus-compatibility-a56a05b7395efa7f.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3e831480c29c07128f36ae67c44c25177b3d9f36', 'message': 'Fix for rbd connector to work with ceph octopus\n\nFound whilst testing cinder-backup with ceph on Ubuntu focal and\nOpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug\nshows, Octopus has slightly changed its requirements to need a\n[global] ini heading at the beginning of the config file that is\ngenerated within the RBDConnector() class.\n\nIncludes code to resolve which version of ceph is installed as a client\nto only change octopus and later.\n\nIt also fixes cinder Ceph backup driver.\n\nIncludes release note for the change.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d\nCloses-Bug: #1865754\n'}]",30,730376,3e831480c29c07128f36ae67c44c25177b3d9f36,167,20,14,20870,,,0,"Fix for rbd connector to work with ceph octopus

Found whilst testing cinder-backup with ceph on Ubuntu focal and
OpenStack Ussuri.  Focal installs Ceph Octopus, and, as the linked bug
shows, Octopus has slightly changed its requirements to need a
[global] ini heading at the beginning of the config file that is
generated within the RBDConnector() class.

Includes code to resolve which version of ceph is installed as a client
to only change octopus and later.

It also fixes cinder Ceph backup driver.

Includes release note for the change.

Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Change-Id: Ie8011fc83bc41edd2768ade6d42d737b4598ca2d
Closes-Bug: #1865754
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/76/730376/6 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/rbd.py'],1,e361b0d21c5f4a316d1d5e01fcc28456f8490984,bug/1865754," # BUG#1865754 - ceph octopus requires ""[general]"" as part of # the ini conf file that is generated. conf_file.writelines([""[general]"", ""\n"", mon_hosts, ""\n"", keyring, ""\n""])"," conf_file.writelines([mon_hosts, ""\n"", keyring, ""\n""])",4,1
openstack%2Fnova~master~If940dfeb5b62ff9f11ca98e9125357c0a472dbfe,openstack/nova,master,If940dfeb5b62ff9f11ca98e9125357c0a472dbfe,Provider Config File: Coding style and test cases improvement,MERGED,2020-08-31 02:20:00.000000000,2020-09-02 14:18:25.000000000,2020-09-02 14:14:11.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30192}]","[{'number': 1, 'created': '2020-08-31 02:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c21b91ab7a702cd1fb2861afe047adc72f778ee', 'message': 'Provider Config File: Coding style and test cases improvment\n\nThis patch is mainly for handling the remaining code review comments\nas a follow-up work to improve coding style and test cases and there\nis no code logic change to feature itself.\n\nChange Summary:\n1) remove unnecessary logic judgement code in _validate_rc function\n2) regroup import order for standard libary and 3rd-party library\n   in test_resource_tracker.py\n3) unify test cases in ValidateProviderConfigTestCases class\n   for both positive and negative test\n4) rename test cases and test data files with more meaningful names\n\nChange-Id: If940dfeb5b62ff9f11ca98e9125357c0a472dbfe\nBlueprint: provider-config-file\n'}, {'number': 2, 'created': '2020-08-31 02:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d869cb8cebbdbaf3ef41f35dd36cc7bc60d5855b', 'message': 'Provider Config File: Coding style and test cases improvement\n\nThis patch is mainly for handling the remaining code review comments\nas a follow-up work to improve coding style and test cases and there\nis no code logic change to feature itself.\n\nChange Summary:\n1) remove unnecessary logic judgement code in _validate_rc function\n2) regroup import order for standard libary and 3rd-party library\n   in test_resource_tracker.py\n3) unify test cases in ValidateProviderConfigTestCases class\n   for both positive and negative test\n4) rename test cases and test data files with more meaningful names\n\nChange-Id: If940dfeb5b62ff9f11ca98e9125357c0a472dbfe\nBlueprint: provider-config-file\n'}, {'number': 3, 'created': '2020-09-01 01:23:57.000000000', 'files': ['nova/tests/unit/compute/test_provider_config.py', 'nova/compute/provider_config.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/compute/provider_config_data/validate_provider_bad_config.yaml', 'nova/tests/unit/compute/provider_config_data/validate_provider_good_config.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/38757964ed3aa7cad106d770add7666cc1202dd0', 'message': 'Provider Config File: Coding style and test cases improvement\n\nThis patch is mainly for handling the remaining code review comments\nas a follow-up work to improve coding style and test cases and there\nis no code logic change to feature itself.\n\nChange Summary:\n1) remove unnecessary logic judgement code in _validate_rc function\n2) regroup import order for standard libary and 3rd-party library\n   in test_resource_tracker.py\n3) unify test cases in ValidateProviderConfigTestCases class\n   for both positive and negative test\n4) rename test cases and test data files with more meaningful names\n\nChange-Id: If940dfeb5b62ff9f11ca98e9125357c0a472dbfe\nBlueprint: provider-config-file\n'}]",1,748939,38757964ed3aa7cad106d770add7666cc1202dd0,43,11,3,30192,,,0,"Provider Config File: Coding style and test cases improvement

This patch is mainly for handling the remaining code review comments
as a follow-up work to improve coding style and test cases and there
is no code logic change to feature itself.

Change Summary:
1) remove unnecessary logic judgement code in _validate_rc function
2) regroup import order for standard libary and 3rd-party library
   in test_resource_tracker.py
3) unify test cases in ValidateProviderConfigTestCases class
   for both positive and negative test
4) rename test cases and test data files with more meaningful names

Change-Id: If940dfeb5b62ff9f11ca98e9125357c0a472dbfe
Blueprint: provider-config-file
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/748939/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_provider_config.py', 'nova/compute/provider_config.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/compute/provider_config_data/validate_provider_bad_config.yaml', 'nova/tests/unit/compute/provider_config_data/validate_provider_good_config.yaml']",5,9c21b91ab7a702cd1fb2861afe047adc72f778ee,bp/provider-config-file,"# test and passed to _validate_provider_config(). If no exception is raised, # the test passes.","# test. This sample and passed to _validate_provider_config(). If no exception # is raised, the test passes.",79,107
openstack%2Fmanila-tempest-plugin~master~I221b4a48b2f66327c83a78514b471cae51e20ea8,openstack/manila-tempest-plugin,master,I221b4a48b2f66327c83a78514b471cae51e20ea8,Revert CephFS test image to Bionic Beaver,MERGED,2020-08-20 18:51:00.000000000,2020-09-02 14:14:39.000000000,2020-09-02 14:14:39.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 18:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e055a2e13a0e88f7d48d1501bebf8a2ec545a8e8', 'message': 'DNM: Debug cephfs scenario tests\n\nChange-Id: I221b4a48b2f66327c83a78514b471cae51e20ea8\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-31 22:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bbbbcf710dadf753dec9142b589ad93f64ad7015', 'message': 'DNM: Debug cephfs scenario tests\n\nChange-Id: I221b4a48b2f66327c83a78514b471cae51e20ea8\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-09-01 16:36:45.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/75f0d60731d91e6d1c6512d792c9a6cd3862187f', 'message': ""Revert CephFS test image to Bionic Beaver\n\nThere's an issue with CephFS in Focal Fossa (Ubuntu\n20.04 LTS) [1]. While this is being investigated,\nlets revert to using Ubuntu Bionic Beaver (18.04 LTS)\nfor the test VMs.\n\n[1] https://tracker.ceph.com/issues/47236\nChange-Id: I221b4a48b2f66327c83a78514b471cae51e20ea8\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,747276,75f0d60731d91e6d1c6512d792c9a6cd3862187f,17,5,3,16643,,,0,"Revert CephFS test image to Bionic Beaver

There's an issue with CephFS in Focal Fossa (Ubuntu
20.04 LTS) [1]. While this is being investigated,
lets revert to using Ubuntu Bionic Beaver (18.04 LTS)
for the test VMs.

[1] https://tracker.ceph.com/issues/47236
Change-Id: I221b4a48b2f66327c83a78514b471cae51e20ea8
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/76/747276/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/scenario/manager_share.py', 'zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml']",3,e055a2e13a0e88f7d48d1501bebf8a2ec545a8e8,tracker.ceph.com/issues/47236, tempest_test_regex: manila_tempest_tests.tests.scenario, tempest_test_regex: manila_tempest_tests,4,30
openstack%2Fmetalsmith~master~I2ccdb7bf789e623d04307b81b49100da4b780ade,openstack/metalsmith,master,I2ccdb7bf789e623d04307b81b49100da4b780ade,[DNM] test ci,ABANDONED,2020-09-02 07:59:48.000000000,2020-09-02 13:29:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-02 07:59:48.000000000', 'files': ['metalsmith/_cmd.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7f6973741f07be0ade1b5bb4f9c7423ccd8e795b', 'message': '[DNM] test ci\n\nChange-Id: I2ccdb7bf789e623d04307b81b49100da4b780ade\n'}]",0,749452,7f6973741f07be0ade1b5bb4f9c7423ccd8e795b,3,1,1,23851,,,0,"[DNM] test ci

Change-Id: I2ccdb7bf789e623d04307b81b49100da4b780ade
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/52/749452/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith/_cmd.py'],1,7f6973741f07be0ade1b5bb4f9c7423ccd8e795b,test-ci,_URLLIB3_LOGGER = 'urllib3.connectionpool',_URLLIB3_LOGGER = 'urllib3.connectionpool' ,1,3
openstack%2Fmetalsmith~master~Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3,openstack/metalsmith,master,Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3,[WIP] Use Centos 8,ABANDONED,2020-06-22 14:26:01.000000000,2020-09-02 13:28:11.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-22 14:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/37a9cca341d32f3dea3facf51b40b097b406569b', 'message': '[WIP] Use Centos 8\n\nVery early work in progress to migrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 2, 'created': '2020-06-23 09:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/102f7231d35be3d29677c1e42127e2e6ebafb666', 'message': '[WIP] Use Centos 8\n\nVery early work in progress to migrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 3, 'created': '2020-06-24 09:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8dfcd18e2f12d63bd7c0ddd8f3782d6f12d857c0', 'message': '[WIP] Use Centos 8\n\nVery early work in progress to migrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 4, 'created': '2020-06-24 09:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8328f6c0a62fce07c63de7c3d1ac168254817d7c', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 5, 'created': '2020-06-24 12:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/69ade8db6ce5e310c51ea2543b17a2abe990324f', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 6, 'created': '2020-06-24 12:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/716b1b31af351cc445b1e06a95f204cea06a926f', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 7, 'created': '2020-06-24 15:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/fadd80e239cb870a12283e528fe0340ef82c5edc', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 8, 'created': '2020-06-25 07:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/4b88e9774e09a58774ba1ad8d5faca1a0052d41e', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 9, 'created': '2020-06-26 09:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8d0f155e295170538d55aae5e487790e11a55ce6', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 10, 'created': '2020-06-26 12:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5e37c36d493cf68eb442bea51d75f328bcd7e55b', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 11, 'created': '2020-07-01 14:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/0200e9980f20903f1f8d8b54267e6d97cf99ae4e', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 12, 'created': '2020-08-21 13:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3e63ca394efa07a64afb8d4518fde89623d3f729', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 13, 'created': '2020-08-21 18:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b18734bcbffedc92c35372e933f8dc5d61fcd569', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}, {'number': 14, 'created': '2020-08-25 08:11:41.000000000', 'files': ['.zuul.yaml', 'playbooks/integration/centos-image.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b8748f21276bfc9f60c067debb8c93df92f2089f', 'message': '[WIP] Use Centos 8\n\nMigrate metalsmith to Centos 8.\n\nChange-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3\n'}]",2,737278,b8748f21276bfc9f60c067debb8c93df92f2089f,31,3,14,23851,,,0,"[WIP] Use Centos 8

Migrate metalsmith to Centos 8.

Change-Id: Ifc85d17ce1f3f3f2171e700f81b4d0b6dbbc27e3
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/78/737278/9 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/centos-image.yaml'],1,37a9cca341d32f3dea3facf51b40b097b406569b,centos8," - name: Get Centos 8 Image url command: curl -s https://cloud.centos.org/centos/8/x86_64/images/ | grep -o ""CentOS-8-GenericCloud-.[^>]*.qcow2"" | sort -r | head -1 register: centos_image_url ", centos_image_url: https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud.qcow2.xz,4,1
openstack%2Fmetalsmith~master~Iadfec60c6f5b26f190794e6331de729951682feb,openstack/metalsmith,master,Iadfec60c6f5b26f190794e6331de729951682feb,Use upper constraints on metalsmith installation,ABANDONED,2020-09-01 20:18:28.000000000,2020-09-02 13:13:14.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 20:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/877f3d816cd9774e2ff41b1241a4473742edf6dc', 'message': 'Attempt to workaround apparent pip issues\n\nChange-Id: Iadfec60c6f5b26f190794e6331de729951682feb\n'}, {'number': 2, 'created': '2020-09-01 23:12:45.000000000', 'files': ['playbooks/integration/pre.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8c3a0fbae9ffe639c72865cff5fa532d6d9ea3f8', 'message': 'Use upper constraints on metalsmith installation\n\nChange-Id: Iadfec60c6f5b26f190794e6331de729951682feb\n'}]",0,749391,8c3a0fbae9ffe639c72865cff5fa532d6d9ea3f8,5,2,2,11655,,,0,"Use upper constraints on metalsmith installation

Change-Id: Iadfec60c6f5b26f190794e6331de729951682feb
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/91/749391/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/pre.yaml'],1,877f3d816cd9774e2ff41b1241a4473742edf6dc,, environment: # NOTE(dtantsur): https://github.com/pypa/setuptools/issues/2353 SETUPTOOLS_USE_DISTUTILS: stdlib environment: # NOTE(dtantsur): https://github.com/pypa/setuptools/issues/2353 SETUPUTILS_USE_DISTUTILS: stdlib,,6,0
openstack%2Fmanila~stable%2Fstein~Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,openstack/manila,stable/stein,Ie55fd5bf80ca2ebacdb652c701aa9c213f758963,Fix documentation for types and extra specs,MERGED,2020-08-24 16:57:01.000000000,2020-09-02 13:13:03.000000000,2020-09-02 13:11:41.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-24 16:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ab1c0677276648086989f89bc233a7bf180416ba', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)\n(cherry picked from commit b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b)\n'}, {'number': 2, 'created': '2020-08-24 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0c0eb4f4546eb5aa64165254b83ffc24a562fc6a', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)\n(cherry picked from commit b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b)\n'}, {'number': 3, 'created': '2020-08-24 17:09:40.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/7ed8f7fac41d5c77ff85265e30b5cf39f048104a', 'message': 'Fix documentation for types and extra specs\n\nSome content in the admin docs was incomplete,\nand irrelevant to administrators.\n\nAlso add notes on a couple of missing common\ncapabilities:\n- mount_snapshot_support\n- availability_zones\n\nPartial-Bug: #1816486\nChange-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)\n(cherry picked from commit b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b)\n'}]",0,747773,7ed8f7fac41d5c77ff85265e30b5cf39f048104a,11,4,3,16643,,,0,"Fix documentation for types and extra specs

Some content in the admin docs was incomplete,
and irrelevant to administrators.

Also add notes on a couple of missing common
capabilities:
- mount_snapshot_support
- availability_zones

Partial-Bug: #1816486
Change-Id: Ie55fd5bf80ca2ebacdb652c701aa9c213f758963
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 36a7ec422bf2ff41aeeeff777c81ab83576ce207)
(cherry picked from commit b780ef9ef36e7e4bce3fdba8895e445f8d7eb88b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/73/747773/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/contributor/driver_requirements.rst', 'doc/source/admin/group_capabilities_and_extra_specs.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'doc/source/admin/shared-file-systems-share-types.rst']",5,ab1c0677276648086989f89bc233a7bf180416ba,bug/1816486,"The Shared File System service back-end storage drivers offer a wide range of capabilities. The variation in these capabilities allows cloud administrators to provide a storage service catalog to their end users. Share types can be used to create this storage service catalog. Cloud administrators can influence provisioning of users' shares with the help of Share types. All shares are associated with a share type. Share types are akin to ``flavors`` in the OpenStack Compute service (nova), or ``volume types`` in the OpenStack Block Storage service (cinder), or ``storage classes`` in Kubernetes. You can allow a share type to be accessible to all users in your cloud if you wish. You can also create private share types that allow only users belonging to certain OpenStack projects to access them. You can have an unlimited number of share types in your cloud, but for practical purposes, you may want to create only a handful of publicly accessible share types. Each share type is an object that encompasses ``extra-specs`` (extra specifications). These extra-specs can map to storage back-end capabilities, or can be directives to the service. Consider for example, offering three share types in your cloud to map to ""service levels"": +--------+--------------------------------------------------------------------------------------------------+ | Type | Capabilities/Instructions | +========+==================================================================================================+ | Gold | Allow creating snapshots, reverting to snapshots and share replication, ""thick"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Silver | Allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ | Bronze | Don't allow creating snapshots, ""thin"" provision shares | +--------+--------------------------------------------------------------------------------------------------+ Capabilities or instructions such as the ones above are coded as extra-specs that your users and the Shared File System service understand. Users in OpenStack projects can see all public share types along with private share types that are made accessible to them. Not all extra-specs that you configure in a share type are visible to your users. This design helps preserve the cloud abstraction. Along with the share type names, they can see the share type descriptions and ""tenant-visible"" extra-specs. For more details on extra-specs, see :ref:`capabilities_and_extra_specs`. The Shared File Systems service also allows using quota controls with share types. Quotas can help you maintain your SLAs by limiting the number of consumable resources or aid in billing. See :ref:`shared_file_systems_quotas` for more details. Driver Handles Share Servers (DHSS) ----------------------------------- To provide secure and hard multi-tenancy on the network data path, the Shared File Systems service allows users to use their own ""share networks"". When shares are created on a share network, users can be sure they have their own isolated ""share servers"" that export their shares on the share network that have the ability plug into user-determined authentication domains (""security services""). Not all Shared File System service storage drivers support share networks. Those that do assert the capability ``driver_handles_share_servers=True``. When creating a share type, you are *required* to set an extra-spec that matches this capability. It is visible to end users. Default Share Type ------------------ When you are operating a cloud where all your tenants are trusted, you may want to create a ""default"" share type that applies to all of them. It simplifies share creation for your end users since they don't need to worry about share types. Use of a default share type is not recommended in a multi-tenant cloud where you may want to separate your user workloads, or offer different service capabilities. In such instances, you must always encourage your users to specify a share type at share creation time, and not rely on the default share type. .. important:: If you do not create and configure a default share type, users *must* specify a valid share type during share creation, or share creation requests will fail. To configure the default share type, edit the ``manila.conf`` file, and set the configuration option [DEFAULT]/default_share_type. You must then create a share type, using :command:`manila type-create`: manila type-create [--is_public <is_public>] [--description <description>] [--extra-specs <other-extra-specs>]where: - ``name`` is the share type name - ``is_public`` defines the visibility for the share type (true/false) - ``description`` is a free form text field to describe the characteristics of the share type for your users' benefit - ``extra-specs`` defines a comma separated set of key=value pairs of optional extra specifications - ``spec_driver_handles_share_servers`` is the mandatory extra-spec (true/false)The new share type can be public or private. $ manila manila type-create default-shares False \ --description ""Default share type for the cloud, no fancy capabilities"" +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+-------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | | +----------------------+---------------------------------------------------------+ You did not provide optional capabilities, so they are all *assumed to be off by default*. So, Non-privileged users see some tenant-visible capabilities explicitly. .. code-block:: console $ source demorc $ manila type-list +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | default-shares | public | - | driver_handles_share_servers : False | snapshot_support : False | Default share type for the cloud, no fancy capabilities | +--------------------------------------+-----------------------------------+------------+------------+--------------------------------------+--------------------------------------------+---------------------------------------------------------+ $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : False | | | create_share_from_snapshot_support : False | | | revert_to_snapshot_support : False | | | mount_snapshot_support : False | +----------------------+---------------------------------------------------------+ using **manila type-key <share_type> set <key=value>** command. $ manila type-key default-shares set snapshot_support=True $ manila type-show default-shares +----------------------+---------------------------------------------------------+ | Property | Value | +----------------------+---------------------------------------------------------+ | id | cf1f92ec-4d0a-4b79-8f18-6bb82c22840a | | name | default-shares | | visibility | public | | is_default | NO | | description | Default share type for the cloud, no fancy capabilities | | required_extra_specs | driver_handles_share_servers : False | | optional_extra_specs | snapshot_support : True | +----------------------+---------------------------------------------------------+A share type can be deleted with the :command:`manila type-delete <share_type>` command. However, a share type can only be deleted if there are no shares, share groups or share group types associated with the share type.Share type access control ------------------------- You can provide access, revoke access, and retrieve list of allowed projects for a specified private share. $ manila type-create my_type1 True \ --is_public False \ --extra-specs snapshot_support=True To see private share types, run :command:`manila type-list --all``.After granting access to the share, the users in the allowed projects can see the share type and use it to create shares.","A share type enables you to filter or choose back ends before you create a share and to set data for the share driver. A share type behaves in the same way as a Block Storage volume type behaves. In the Shared File Systems configuration file ``manila.conf``, the administrator can set the share type used by default for the share creation and then create a default share type. To create a share type, use :command:`manila type-create` command as: manila type-create [--snapshot_support <snapshot_support>] [--is_public <is_public>]where the ``name`` is the share type name, ``--is_public`` defines the level of the visibility for the share type, ``snapshot_support`` and ``spec_driver_handles_share_servers`` are the extra specifications used to filter back ends. Administrators can create share types with these extra specifications for the back ends filtering: - ``driver_handles_share_servers``. Required. Defines the driver mode for share server lifecycle management. Valid values are ``true``/``1`` and ``false``/``0``. Set to True when the share driver can manage, or handle, the share server lifecycle. Set to False when an administrator, rather than a share driver, manages the bare metal storage with some net interface instead of the presence of the share servers. - ``snapshot_support``. Filters back ends by whether they do or do not support share snapshots. Default is ``True``. Set to True to find back ends that support share snapshots. Set to False to find back ends that do not support share snapshots. .. note:: The extra specifications set in the share types are operated in the :ref:`shared_file_systems_scheduling`. Administrators can also set additional extra specifications for a share type for the following purposes: - *Filter back ends*. Unqualified extra specifications written in this format: ``extra_spec=value``. For example, **netapp_raid_type=raid4**. - *Set data for the driver*. Qualified extra specifications always written with the prefix with a colon, except for the special ``capabilities`` prefix, in this format: ``vendor:extra_spec=value``. For example, **netapp:thin_provisioned=true**. The scheduler uses the special capabilities prefix for filtering. The scheduler can only create a share on a back end that reports capabilities matching the un-scoped extra-spec keys for the share type. For details, see `Capabilities and Extra-Specs <https://docs.openstack.org/manila/latest/admin/ capabilities_and_extra_specs.html>`_. Each driver implementation determines which extra specification keys it uses. For details, see the documentation for the driver. An administrator can use the ``policy.json`` file to grant permissions for share type creation with extra specifications to other roles. You set a share type to private or public and :ref:`manage the access<share_type_access>` to the private share types. By default a share type is created as publicly accessible. Set ``--is_public`` to ``False`` to make the share type private.The new share type can also be public. $ manila type-create netapp1 False --is_public True +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | ID | Name | Visibility| is_default| required_extra_specs | optional_extra_specs | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+ | c0..| netapp1| public | - | driver_handles_share_servers:False| snapshot_support:True | +-----+--------+-----------+-----------+-----------------------------------+-----------------------+using **manila type-key <share_type> set <key=value>** command. Since it is up to each driver what extra specification keys it uses, see the documentation for the specified driver. $ manila type-key netapp1 set thin_provisioned=True It is also possible to view a list of current share types and extra specifications: .. code-block:: console $ manila extra-specs-list +-------------+---------+-------------------------------------+ | ID | Name | all_extra_specs | +-------------+---------+-------------------------------------+ | c0086582-...| netapp1 | snapshot_support : True | | | | thin_provisioned : True | | | | driver_handles_share_servers : True | +-------------+---------+-------------------------------------+The public or private share type can be deleted with the :command:`manila type-delete <share_type>` command.Share type access ----------------- You can manage access to a private share type for different projects. Administrators can provide access, remove access, and retrieve information about access for a specified private share. $ manila type-create my_type1 True --is_public False To see private share types, run :command:`manila type-list` with ``--all`` optional argument.After granting access to the share, the target project can see the share type in the list, and create private shares.",483,385
openstack%2Fpuppet-magnum~master~I2e061e56a30351d91f97804ddf0d3932e879a5a5,openstack/puppet-magnum,master,I2e061e56a30351d91f97804ddf0d3932e879a5a5,Fix testing for magnum::keystone::authtoken,MERGED,2020-09-01 13:47:26.000000000,2020-09-02 13:05:01.000000000,2020-09-02 13:05:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 13:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/abbab0173472769fa3a0a395e6b708e212542641', 'message': 'Fix testing for magnum::keystone::authtoken\n\nShould not test the configuration but the usage of\nthe keystone resource.\n\nChange-Id: I2e061e56a30351d91f97804ddf0d3932e879a5a5\n'}, {'number': 2, 'created': '2020-09-01 14:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/18993f90f7b744a2c4f9fb35eaf3d84081a6df66', 'message': 'Fix testing for magnum::keystone::authtoken\n\nShould not test the configuration but the usage of\nthe keystone resource.\n\nChange-Id: I2e061e56a30351d91f97804ddf0d3932e879a5a5\n'}, {'number': 3, 'created': '2020-09-01 22:42:28.000000000', 'files': ['spec/classes/magnum_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/f66eea46e29edca1cb304bbb43bd6e589ac1ace6', 'message': 'Fix testing for magnum::keystone::authtoken\n\nShould not test the configuration but the usage of\nthe keystone resource.\n\nChange-Id: I2e061e56a30351d91f97804ddf0d3932e879a5a5\n'}]",0,749288,f66eea46e29edca1cb304bbb43bd6e589ac1ace6,12,4,3,16137,,,0,"Fix testing for magnum::keystone::authtoken

Should not test the configuration but the usage of
the keystone resource.

Change-Id: I2e061e56a30351d91f97804ddf0d3932e879a5a5
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/88/749288/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/magnum_keystone_authtoken_spec.rb'],1,abbab0173472769fa3a0a395e6b708e212542641,749288,"require 'spec_helper' describe 'magnum::keystone::authtoken' do let :params do { :password => 'magnum_password', } end shared_examples 'magnum::keystone::authtoken' do context 'without required password parameter' do before { params.delete(:password) } it { expect { is_expected.to raise_error(Puppet::Error) } } end context 'with default parameters' do it { is_expected.to contain_keystone__resource__authtoken('magnum_config').with( :username => 'magnum', :password => 'magnum_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', )} it { is_expected.to contain_magnum_config('keystone_auth/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_auth/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_auth/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_auth/keyfile').with_value('<SERVICE DEFAULT>') } end context 'when overriding parameters' do before do params.merge!({ :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://:127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :interface => 'internal', }) end it { is_expected.to contain_keystone__resource__authtoken('magnum_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => params[:username], :password => params[:password], :auth_url => params[:auth_url], :project_name => params[:project_name], :user_domain_name => params[:user_domain_name], :project_domain_name => params[:project_domain_name], :insecure => params[:insecure], :auth_section => params[:auth_section], :auth_type => params[:auth_type], :auth_version => params[:auth_version], :cache => params[:cache], :cafile => params[:cafile], :certfile => params[:certfile], :delay_auth_decision => params[:delay_auth_decision], :enforce_token_bind => params[:enforce_token_bind], :http_connect_timeout => params[:http_connect_timeout], :http_request_max_retries => params[:http_request_max_retries], :include_service_catalog => params[:include_service_catalog], :keyfile => params[:keyfile], :memcache_pool_conn_get_timeout => params[:memcache_pool_conn_get_timeout], :memcache_pool_dead_retry => params[:memcache_pool_dead_retry], :memcache_pool_maxsize => params[:memcache_pool_maxsize], :memcache_pool_socket_timeout => params[:memcache_pool_socket_timeout], :memcache_pool_unused_timeout => params[:memcache_pool_unused_timeout], :memcache_secret_key => params[:memcache_secret_key], :memcache_security_strategy => params[:memcache_security_strategy], :memcache_use_advanced_pool => params[:memcache_use_advanced_pool], :memcached_servers => 'memcached01:11211,memcached02:11211', :region_name => params[:region_name], :token_cache_time => params[:token_cache_time], :service_token_roles => params[:service_token_roles], :service_token_roles_required => params[:service_token_roles_required], :interface => params[:interface], )} it { is_expected.to contain_magnum_config('keystone_auth/insecure').with_value(params[:insecure]) is_expected.to contain_magnum_config('keystone_auth/cafile').with_value(params[:cafile]) is_expected.to contain_magnum_config('keystone_auth/certfile').with_value(params[:certfile]) is_expected.to contain_magnum_config('keystone_auth/keyfile').with_value(params[:keyfile]) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'magnum::keystone::authtoken' end end end","require 'spec_helper' describe 'magnum::keystone::authtoken' do let :params do { :password => 'magnum_password', } end shared_examples_for 'magnum authtoken' do context 'without required password parameter' do before { params.delete(:password) } it { expect { is_expected.to raise_error(Puppet::Error) } } end context 'with default parameters' do it 'configure keystone_authtoken' do is_expected.to contain_magnum_config('keystone_authtoken/username').with_value('magnum') is_expected.to contain_magnum_config('keystone_authtoken/password').with_value('magnum_password') is_expected.to contain_magnum_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') is_expected.to contain_magnum_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_magnum_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_magnum_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_magnum_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_magnum_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') is_expected.to contain_magnum_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_auth/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_auth/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_auth/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_magnum_config('keystone_auth/keyfile').with_value('<SERVICE DEFAULT>') end end context 'when overriding parameters' do before do params.merge!({ :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://:127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :interface => 'internal', }) end it 'configure keystone_authtoken' do is_expected.to contain_magnum_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_magnum_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_magnum_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_magnum_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_magnum_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_magnum_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_magnum_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_magnum_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_magnum_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_magnum_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_magnum_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_magnum_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_magnum_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_magnum_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_magnum_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_magnum_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_magnum_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_magnum_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_magnum_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_magnum_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_magnum_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_magnum_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_magnum_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_magnum_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_magnum_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_magnum_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_magnum_config('keystone_authtoken/interface').with_value(params[:interface]) is_expected.to contain_magnum_config('keystone_auth/insecure').with_value(params[:insecure]) is_expected.to contain_magnum_config('keystone_auth/cafile').with_value(params[:cafile]) is_expected.to contain_magnum_config('keystone_auth/certfile').with_value(params[:certfile]) is_expected.to contain_magnum_config('keystone_auth/keyfile').with_value(params[:keyfile]) end it 'installs python memcache package' do is_expected.to contain_package('python-memcache') end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'magnum authtoken' end end end ",161,158
openstack%2Ftripleo-common~master~I7756892ccf8a52e38b40156ed01cdbc9fd045ee6,openstack/tripleo-common,master,I7756892ccf8a52e38b40156ed01cdbc9fd045ee6,Prepare images using the enabled service_names,ABANDONED,2019-10-11 10:20:51.000000000,2020-09-02 13:03:32.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 10:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02ad836cce140943895283006dedb2d5cdfad665', 'message': 'WIP: Experiement image prep only for enabled services\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n'}, {'number': 2, 'created': '2019-11-27 16:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/541fe0d339fb99daa48073fbb180e4e83f9ed372', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 3, 'created': '2019-12-05 05:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da0746e05242aafd948819e0b50af652f3a722f8', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 4, 'created': '2020-01-02 06:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/857f7279c49c1814470a7fc7cb52959370899f4d', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 5, 'created': '2020-01-06 13:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6fb30304586dbaa9a6a2dc9aa753f3f0e4ac59e0', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 6, 'created': '2020-01-07 04:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dde6125cb9478db7bf20f2799dd9505bfa861475', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 7, 'created': '2020-01-13 10:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/51f44506e68a872dfe34ca0614eaa08c63a6bcdd', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 8, 'created': '2020-01-13 12:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3db6e28ae4ba43d023e3b9bc2ac970fb2632f712', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 9, 'created': '2020-01-13 12:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a04cb17837a56dd5f7e7d37bb008106b6248c92', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 10, 'created': '2020-01-23 11:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf8991475221fb08aa855fc33dc28bedad385ef0', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 11, 'created': '2020-03-16 11:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0e098b26def3ec02c3bbb592fd8de939af794ed4', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}, {'number': 12, 'created': '2020-04-20 05:56:24.000000000', 'files': ['container-images/tht_service_mapping.yaml', 'tripleo_common/image/kolla_builder.py', 'scripts/tripleo-container-image-prepare', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4098e82a1e2ef3c8c25e0f9d31e93823fb0cdc2', 'message': ""Prepare images using the enabled service_names\n\nModify the image preparation from all the images specified\nin the roles_data (irrespective of enabled or disabled), to\npreparing only the images which are enabled in the deployment.\nenabled_services is already created in the deployment and\navailable to the tripleo-ansible roles. Use this enabled\nservies to prepare the image.\n\nAlso provide backward compatibility support for cli\ncommand 'openstack overcloud image prepare' with a\nmap of service types to service names.\n\nChange-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6\n""}]",25,688100,f4098e82a1e2ef3c8c25e0f9d31e93823fb0cdc2,57,8,12,18575,,,0,"Prepare images using the enabled service_names

Modify the image preparation from all the images specified
in the roles_data (irrespective of enabled or disabled), to
preparing only the images which are enabled in the deployment.
enabled_services is already created in the deployment and
available to the tripleo-ansible roles. Use this enabled
servies to prepare the image.

Also provide backward compatibility support for cli
command 'openstack overcloud image prepare' with a
map of service types to service names.

Change-Id: I7756892ccf8a52e38b40156ed01cdbc9fd045ee6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/688100/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'scripts/tripleo-container-image-prepare', 'container-images/overcloud_containers.yaml.j2']",3,02ad836cce140943895283006dedb2d5cdfad665,image_prepare_with_enabled_services, service_names: contains: aodh service_names: names: - aodh_evaluator service_names: names: - aodh_listener service_names: names: - aodh_notifier service_names: contains: ceilometer service_names: names: - ceilometer_agent_compute service_names: names: - ceilometer_agent_notification service_names: names: - ceilometer_agent_ipmi service_names: names: - cinder_volume - cinder_api - cinder_backup - cinder_scheduler service_names: names: - cinder_backup service_names: names: - cinder_scheduler service_names: names: - cinder_volume service_names: names: - neutron_sriov_agent service_names: names: - neutron_mlnx_agent," - OS::TripleO::Services::UndercloudAodhApi - OS::TripleO::Services::UndercloudAodhEvaluator - OS::TripleO::Services::UndercloudAodhListener - OS::TripleO::Services::UndercloudAodhNotifier - OS::TripleO::Services::UndercloudAodhEvaluator - OS::TripleO::Services::UndercloudAodhListener - OS::TripleO::Services::UndercloudAodhNotifier - imagename: ""{{namespace}}/{{name_prefix}}barbican-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerBarbicanApiImage - ContainerBarbicanConfigImage services: - OS::TripleO::Services::BarbicanApi - imagename: ""{{namespace}}/{{name_prefix}}barbican-keystone-listener{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerBarbicanKeystoneListenerImage - ContainerBarbicanKeystoneListenerConfigImage services: - OS::TripleO::Services::BarbicanApi - OS::TripleO::Services::BarbicanKeystoneListener - imagename: ""{{namespace}}/{{name_prefix}}barbican-worker{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerBarbicanWorkerImage - ContainerBarbicanWorkerConfigImage services: - OS::TripleO::Services::BarbicanApi - OS::TripleO::Services::BarbicanWorker - OS::TripleO::Services::UndercloudCeilometerAgentCentral - OS::TripleO::Services::UndercloudCeilometerAgentIpmi - OS::TripleO::Services::UndercloudCeilometerAgentNotification - OS::TripleO::Services::UndercloudCeilometerAgentNotification - OS::TripleO::Services::UndercloudCeilometerAgentIpmi - OS::TripleO::Services::UndercloudCinderApi - OS::TripleO::Services::UndercloudCinderScheduler - OS::TripleO::Services::UndercloudCinderVolume - OS::TripleO::Services::UndercloudCinderScheduler - OS::TripleO::Services::UndercloudCinderVolume",85,46
openstack%2Fironic~master~I7ed7d46897d7fe2c4396f04409f14462320e04a4,openstack/ironic,master,I7ed7d46897d7fe2c4396f04409f14462320e04a4,[DNM] Test multinode,NEW,2020-09-02 08:19:44.000000000,2020-09-02 13:02:29.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 08:19:44.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/85116c4efbfa780667d9867a5043a70ef42b5ed9', 'message': '[DNM] Test multinode\n\nChange-Id: I7ed7d46897d7fe2c4396f04409f14462320e04a4\n'}]",0,749459,85116c4efbfa780667d9867a5043a70ef42b5ed9,3,2,1,15519,,,0,"[DNM] Test multinode

Change-Id: I7ed7d46897d7fe2c4396f04409f14462320e04a4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/749459/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,85116c4efbfa780667d9867a5043a70ef42b5ed9,multinode, # - ironic-tox-unit-with-driver-libs # - ironic-standalone # - ironic-standalone-redfish: # voting: false # - ironic-tempest-functional-python3 # - ironic-grenade # - ironic-grenade-dsvm-multinode-multitenant: # voting: false # - ironic-tempest-partition-bios-redfish-pxe # - ironic-tempest-partition-uefi-redfish-vmedia # - ironic-tempest-wholedisk-bios-snmp-pxe # - ironic-tempest-ipa-partition-pxe_ipmitool # - ironic-tempest-ipa-partition-uefi-pxe_ipmitool # - ironic-tempest-bios-ipmi-direct-tinyipa # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect # - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect # - ironic-tempest-bfv # - ironic-tempest-ipa-partition-uefi-pxe-grub2 # - ironic-tempest-ipxe-ipv6: # voting: false # - metalsmith-integration-glance-localboot-centos7 # - ironic-tox-bandit: # voting: false # - ironic-inspector-tempest: # voting: false # - ironic-inspector-tempest-managed-non-standalone: # voting: false # - ironic-inspector-tempest-partition-bios-redfish-vmedia: # voting: false # - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: # voting: false # - bifrost-integration-tinyipa-ubuntu-bionic: # voting: false # - ironic-tempest-pxe_ipmitool-postgres: # voting: false, - ironic-tox-unit-with-driver-libs - ironic-standalone - ironic-standalone-redfish: voting: false - ironic-tempest-functional-python3 - ironic-grenade - ironic-grenade-dsvm-multinode-multitenant: voting: false - ironic-tempest-partition-bios-redfish-pxe - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-ipa-partition-pxe_ipmitool - ironic-tempest-ipa-partition-uefi-pxe_ipmitool - ironic-tempest-bios-ipmi-direct-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect - ironic-tempest-bfv - ironic-tempest-ipa-partition-uefi-pxe-grub2 - ironic-tempest-ipxe-ipv6: voting: false - metalsmith-integration-glance-localboot-centos7 - ironic-tox-bandit: voting: false - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed-non-standalone: voting: false - ironic-inspector-tempest-partition-bios-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - bifrost-integration-tinyipa-ubuntu-bionic: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false,35,36
openstack%2Fmetalsmith~master~Ifba6afa9fcbad6d9517d09713ab17bac85879163,openstack/metalsmith,master,Ifba6afa9fcbad6d9517d09713ab17bac85879163,Add the setuptools workaround,MERGED,2020-09-02 09:08:16.000000000,2020-09-02 12:47:27.000000000,2020-09-02 12:44:34.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-02 09:08:16.000000000', 'files': ['playbooks/integration/pre.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/9c93e986e1362436376b3d832630f947b7c50fbb', 'message': 'Add the setuptools workaround\n\nAlso stop supporting Python 2 explicitly.\n\nChange-Id: Ifba6afa9fcbad6d9517d09713ab17bac85879163\n'}]",0,749468,9c93e986e1362436376b3d832630f947b7c50fbb,9,3,1,10239,,,0,"Add the setuptools workaround

Also stop supporting Python 2 explicitly.

Change-Id: Ifba6afa9fcbad6d9517d09713ab17bac85879163
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/68/749468/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/pre.yaml'],1,9c93e986e1362436376b3d832630f947b7c50fbb,gate, environment: # NOTE(dtantsur): https://github.com/pypa/setuptools/issues/2353 SETUPTOOLS_USE_DISTUTILS: stdlib vars: ansible_python_interpreter: /usr/bin/python3 environment: SETUPTOOLS_USE_DISTUTILS: stdlib vars: ansible_python_interpreter: /usr/bin/python3, vars: ansible_python_interpreter: /usr/bin/{{ metalsmith_python | default('python') }} vars: ansible_python_interpreter: /usr/bin/{{ metalsmith_python | default('python') }},7,2
openstack%2Freleases~master~I7e1d73cab428e893c1ea0145e7ee76e5d865fdf3,openstack/releases,master,I7e1d73cab428e893c1ea0145e7ee76e5d865fdf3,Add Cycle Highlight Dates to Wallaby,MERGED,2020-09-01 21:39:21.000000000,2020-09-02 12:46:15.000000000,2020-09-02 12:46:15.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 21:39:21.000000000', 'files': ['doc/source/wallaby/schedule.rst', 'doc/source/wallaby/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/39f0a0c7143b5ab1a95133fcc71847730a7cf1a0', 'message': 'Add Cycle Highlight Dates to Wallaby\n\nChange-Id: I7e1d73cab428e893c1ea0145e7ee76e5d865fdf3\n'}]",0,749398,39f0a0c7143b5ab1a95133fcc71847730a7cf1a0,7,3,1,16708,,,0,"Add Cycle Highlight Dates to Wallaby

Change-Id: I7e1d73cab428e893c1ea0145e7ee76e5d865fdf3
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/749398/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/wallaby/schedule.rst', 'doc/source/wallaby/schedule.yaml']",2,39f0a0c7143b5ab1a95133fcc71847730a7cf1a0,w-highlights, - w-cycle-highlights,,16,0
openstack%2Ftripleo-ci~master~Ie341e46d451c93dc864b1095b8302c9f4f838617,openstack/tripleo-ci,master,Ie341e46d451c93dc864b1095b8302c9f4f838617,DNM: Testing permission of images,ABANDONED,2020-03-06 19:23:57.000000000,2020-09-02 12:42:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 19:23:57.000000000', 'files': ['roles/oooci-build-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/391b2f57fb1767d8891e1284609ca85d10a3410a', 'message': 'DNM: Testing permission of images\n\nChange-Id: Ie341e46d451c93dc864b1095b8302c9f4f838617\n'}]",0,711745,391b2f57fb1767d8891e1284609ca85d10a3410a,4,2,1,9976,,,0,"DNM: Testing permission of images

Change-Id: Ie341e46d451c93dc864b1095b8302c9f4f838617
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/45/711745/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/main.yaml'],1,391b2f57fb1767d8891e1284609ca85d10a3410a,change-build-perms,- name: Change permissions of workspace args: chdir: '{{ ansible_user_dir }}' shell: chmod 775 {{ workspace }} changed_when: true ,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7331c0a6387745406a1363c9337cb04b1468f1ab,openstack/tripleo-heat-templates,stable/stein,I7331c0a6387745406a1363c9337cb04b1468f1ab,DNM: Test change,ABANDONED,2020-08-12 16:51:56.000000000,2020-09-02 12:41:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-12 16:51:56.000000000', 'files': ['ci/common/net-config-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23f3b3265ccefbc9420e5c2fc80ab6990e4c492e', 'message': 'DNM: Test change\n\nDepends-On: https://review.opendev.org/#/c/745718\nChange-Id: I7331c0a6387745406a1363c9337cb04b1468f1ab\n'}]",0,745931,23f3b3265ccefbc9420e5c2fc80ab6990e4c492e,4,2,1,9976,,,0,"DNM: Test change

Depends-On: https://review.opendev.org/#/c/745718
Change-Id: I7331c0a6387745406a1363c9337cb04b1468f1ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/745931/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/common/net-config-multinode.yaml'],1,23f3b3265ccefbc9420e5c2fc80ab6990e4c492e,,# temp test change,,1,0
openstack%2Ftripleo-ci~master~I6224fd7324b4df85280b4bbc0036887966871e17,openstack/tripleo-ci,master,I6224fd7324b4df85280b4bbc0036887966871e17,Add quotes to the rhel-modules option in container builds,ABANDONED,2020-08-21 15:50:32.000000000,2020-09-02 12:41:21.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 15:50:32.000000000', 'files': ['roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8bac42cae985ac40806844eb4a02514410bcf57f', 'message': 'Add quotes to the rhel-modules option in container builds\n\nChange-Id: I6224fd7324b4df85280b4bbc0036887966871e17\n'}]",0,747435,8bac42cae985ac40806844eb4a02514410bcf57f,5,3,1,9976,,,0,"Add quotes to the rhel-modules option in container builds

Change-Id: I6224fd7324b4df85280b4bbc0036887966871e17
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/35/747435/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/build.sh.j2'],1,8bac42cae985ac40806844eb4a02514410bcf57f,quote-rhel-modules," --rhel-modules '{{ rhel_modules | join("","") }}' \"," --rhel-modules {{ rhel_modules | join("","") }} \",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I648e28e32a41a8a91a50f83988ca292578263ff2,openstack/tripleo-heat-templates,stable/train,I648e28e32a41a8a91a50f83988ca292578263ff2,DNM: Testing patch 748664,ABANDONED,2020-08-28 13:41:48.000000000,2020-09-02 12:36:53.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 13:41:48.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6773645c951dd578e391eb3a0de7c05504155ad3', 'message': 'DNM: Testing patch 748664\n\nDepends-On: I6816db7382e7db6d0ae644c9487b2c5ee595a441\nChange-Id: I648e28e32a41a8a91a50f83988ca292578263ff2\n'}]",0,748665,6773645c951dd578e391eb3a0de7c05504155ad3,4,5,1,26343,,,0,"DNM: Testing patch 748664

Depends-On: I6816db7382e7db6d0ae644c9487b2c5ee595a441
Change-Id: I648e28e32a41a8a91a50f83988ca292578263ff2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/748665/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,6773645c951dd578e391eb3a0de7c05504155ad3,, # Test,,1,0
openstack%2Ftrove~master~Icbbfaa07a699e1280b0d39dfbae87d7468cbb260,openstack/trove,master,Icbbfaa07a699e1280b0d39dfbae87d7468cbb260,Use pip3 instead of pip in trovestack,MERGED,2020-09-01 22:11:20.000000000,2020-09-02 12:21:58.000000000,2020-09-02 12:19:04.000000000,"[{'_account_id': 1736}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 22:11:20.000000000', 'files': ['integration/scripts/trovestack'], 'web_link': 'https://opendev.org/openstack/trove/commit/00a07f242395b044ad4679a577975e29f6fba44c', 'message': 'Use pip3 instead of pip in trovestack\n\nChange-Id: Icbbfaa07a699e1280b0d39dfbae87d7468cbb260\n'}]",0,749403,00a07f242395b044ad4679a577975e29f6fba44c,8,3,1,6732,,,0,"Use pip3 instead of pip in trovestack

Change-Id: Icbbfaa07a699e1280b0d39dfbae87d7468cbb260
",git fetch https://review.opendev.org/openstack/trove refs/changes/03/749403/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/trovestack'],1,00a07f242395b044ad4679a577975e29f6fba44c,fix-pip, sudo -H $HTTP_PROXY pip3 install diskimage-builder, sudo -H $HTTP_PROXY pip install diskimage-builder,1,1
openstack%2Fkuryr-kubernetes~master~I87006ffbabea90babd0245753f0d3a0b860b88b5,openstack/kuryr-kubernetes,master,I87006ffbabea90babd0245753f0d3a0b860b88b5,Ignore CRD creation errors when ns is terminated,MERGED,2020-09-01 12:11:40.000000000,2020-09-02 12:11:17.000000000,2020-09-02 12:08:45.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-09-01 12:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8844d7d5925e90de53b9ac3c10bd44752bba63d1', 'message': ""Ignore CRD creation errors when ns is terminated\n\nThere is a delay between namespace termination and having all the\nobjects from that namespace marked as being terminated. This means that\nif on CRD creation we'll get a response stating that the namespace is\nbeing terminated - we should ignore it, not fail. This commit makes sure\nwe only log a warning for those errors.\n\nChange-Id: I87006ffbabea90babd0245753f0d3a0b860b88b5\nCloses-Bug: 1893772\n""}, {'number': 2, 'created': '2020-09-01 12:36:19.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/59651aa66bceee6778f8e6d67fbcb6a9990b1b28', 'message': ""Ignore CRD creation errors when ns is terminated\n\nThere is a delay between namespace termination and having all the\nobjects from that namespace marked as being terminated. This means that\nif on CRD creation we'll get a response stating that the namespace is\nbeing terminated - we should ignore it, not fail. This commit makes sure\nwe only log a warning for those errors.\n\nChange-Id: I87006ffbabea90babd0245753f0d3a0b860b88b5\nCloses-Bug: 1893772\n""}]",0,749255,59651aa66bceee6778f8e6d67fbcb6a9990b1b28,14,4,2,11600,,,0,"Ignore CRD creation errors when ns is terminated

There is a delay between namespace termination and having all the
objects from that namespace marked as being terminated. This means that
if on CRD creation we'll get a response stating that the namespace is
being terminated - we should ignore it, not fail. This commit makes sure
we only log a warning for those errors.

Change-Id: I87006ffbabea90babd0245753f0d3a0b860b88b5
Closes-Bug: 1893772
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/749255/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/network_policy.py']",2,8844d7d5925e90de53b9ac3c10bd44752bba63d1,bug/1893772," try: self._create_knp_crd(policy, i_rules, e_rules) except exceptions.K8sNamespaceTerminating: LOG.warning('Namespace %s is being terminated, ignoring ' 'NetworkPolicy %s in that namespace.', policy['metadata']['namespace'], policy['metadata']['name']) return"," self._create_knp_crd(policy, i_rules, e_rules)",25,4
openstack%2Fos-vif~master~Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670,openstack/os-vif,master,Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670,deprecate ovs-vsctl driver and make native the default,MERGED,2020-08-05 00:49:43.000000000,2020-09-02 11:44:31.000000000,2020-09-02 10:05:45.000000000,"[{'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2020-08-05 00:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/6f514d7bef4dcb98df4b2937441dd47db8d09946', 'message': 'deprecate ovs-vsctl driver and make native the default\n\nThe native ovsdb backend was added in stien with the\nintent of makeing it the default in train and removing\nthe vsctl backend in ussuri.\n\nThe default was never changed and the deprecation was\nnot done so this change now does both.\n\nChange-Id: Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670\n'}, {'number': 2, 'created': '2020-08-05 02:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/48492cc81b475cca68b656c9e2b177949ae74478', 'message': 'deprecate ovs-vsctl driver and make native the default\n\nThe native ovsdb backend was added in stien with the\nintent of makeing it the default in train and removing\nthe vsctl backend in ussuri.\n\nThe default was never changed and the deprecation was\nnot done so this change now does both.\n\nChange-Id: Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670\n'}, {'number': 3, 'created': '2020-08-28 16:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d718707ae801b967e8d9ac48eab7f7854574ead9', 'message': 'deprecate ovs-vsctl driver and make native the default\n\nThe native ovsdb backend was added in stien with the\nintent of makeing it the default in train and removing\nthe vsctl backend in ussuri.\n\nThe default was never changed and the deprecation was\nnot done so this change now does both.\n\nChange-Id: Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670\n'}, {'number': 4, 'created': '2020-09-01 13:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/155aff971489086cf771892231fa865b0d28040f', 'message': 'deprecate ovs-vsctl driver and make native the default\n\nThe native ovsdb backend was added in stein with the\nintent of making it the default in train and removing\nthe vsctl backend in ussuri.\n\nThe default was never changed and the deprecation was\nnot done so this change now does both.\n\nChange-Id: Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670\n'}, {'number': 5, 'created': '2020-09-01 19:04:38.000000000', 'files': ['vif_plug_ovs/ovs.py', 'releasenotes/notes/default-to-native-ovsdb-driver-112fb5adf6e19a30.yaml', 'vif_plug_ovs/ovsdb/ovsdb_lib.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d7928102d69dadf653c9f734e5cf8fd504335849', 'message': 'deprecate ovs-vsctl driver and make native the default\n\nThe native ovsdb backend was added in stein with the\nintent of making it the default in train and removing\nthe vsctl backend in ussuri.\n\nThe default was never changed and the deprecation was\nnot done so this change now does both.\n\nChange-Id: Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670\n'}]",28,744816,d7928102d69dadf653c9f734e5cf8fd504335849,34,6,5,11604,,,0,"deprecate ovs-vsctl driver and make native the default

The native ovsdb backend was added in stein with the
intent of making it the default in train and removing
the vsctl backend in ussuri.

The default was never changed and the deprecation was
not done so this change now does both.

Change-Id: Iaeeb7eaa656611b3ae571c391d51fcbfd2b59670
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/16/744816/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/ovs.py', 'releasenotes/notes/default-to-native-ovsdb-driver-112fb5adf6e19a30.yaml']",2,6f514d7bef4dcb98df4b2937441dd47db8d09946,update-ovsdb-driver-default,--- prelude: > deprecations: - | The ovs-vsctl ovsdb driver is now deprecated for removal. The default ovsdb interface has now been updated to native. This will use the ovs python binding instead of invoking the ovs-vsctl cli. The native backend both out performs the vsctl backend and require no elevated privileges to configure the ovsdb. This both improves security and reduces plug and unplug time. ,,20,1
openstack%2Ftripleo-ci~master~I52e0a425f8933c0fae99224aec842d4695e91362,openstack/tripleo-ci,master,I52e0a425f8933c0fae99224aec842d4695e91362,New CI job: configure a new standalone template,MERGED,2020-08-20 09:25:31.000000000,2020-09-02 11:41:30.000000000,2020-09-02 11:41:30.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-08-20 09:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f4606d81986b81a58d6c159069be9834bc7d8b66', 'message': 'WIP new ci job\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 2, 'created': '2020-08-20 09:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2fd8f2fc91ccf7e96d3b9277ec15410614514570', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 3, 'created': '2020-08-20 09:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/32b9626ab8299e4b1ffb5eb491d9bbdfe4a14fca', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 4, 'created': '2020-08-20 09:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d677c0fbce8fb158721d248858361ffa60d99381', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 5, 'created': '2020-08-20 10:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/666819243c64eee78bb4e06aae3be62fbad56b5f', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 6, 'created': '2020-08-20 10:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c862dc3233fa844911fc523d5e1f439b5a8db96b', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 7, 'created': '2020-08-20 12:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f96730c8175585bfdffd26b5e39eb61dbed09e2e', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 8, 'created': '2020-08-20 12:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d8e82e24fe6ad090d6f8bf1d20f70c7ad11565d1', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 9, 'created': '2020-08-20 12:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/72b1b3125bd39c5aa2cdcc4eea6b5ae04e37410a', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 10, 'created': '2020-08-20 19:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/786add17a9923fb7ee3c0da608d1be7fde47e946', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 11, 'created': '2020-08-21 12:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b741bdf43ebbb5b990b9dea37388340d2b42066f', 'message': 'WIP POC of new jobs format\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\ntht repo patch for building a dep:\nDepends-On: https://review.opendev.org/746749\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 12, 'created': '2020-08-23 17:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3f718a675a303aabba662d4ef3384ef6965f20c', 'message': 'New CI job: configure a new standalone template\n\nProvide the new template for a pipeline:\nprovider job builds containers and repository,\nwhile consumer standalone jobs use this repository and containers\nregistry, without using docker.io or building package itself.\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 13, 'created': '2020-08-23 17:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ddff9fc62b3ba975f71492524773bd9b3d532843', 'message': 'New CI job: configure a new standalone template\n\nProvide the new template for a pipeline:\nprovider job builds containers and repository,\nwhile consumer standalone jobs use this repository and containers\nregistry, without using docker.io or building package itself.\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 14, 'created': '2020-08-24 05:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f26138ed38ffd90b584d913dc7135ed45da6b2a3', 'message': 'New CI job: configure a new standalone template\n\nProvide the new template for a pipeline:\nprovider job builds containers and repository,\nwhile consumer standalone jobs use this repository and containers\nregistry, without using docker.io or building package itself.\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 15, 'created': '2020-08-26 17:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7cb8bfbec94b4135d8ec132ed6dc1b0ed0397f2e', 'message': 'New CI job: configure a new standalone template\n\nProvide the new template for a pipeline:\nprovider job builds containers and repository,\nwhile consumer standalone jobs use this repository and containers\nregistry, without using docker.io or building package itself.\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 16, 'created': '2020-08-27 12:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a5aa99653038ede239eec298818d0002385997bf', 'message': 'New CI job: configure a new standalone template\n\nProvide the new template for a pipeline:\nprovider job builds containers and repository,\nwhile consumer standalone jobs use this repository and containers\nregistry, without using docker.io or building package itself.\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/746973\n\nFix for SA errors:\nDepends-On: https://review.opendev.org/#/c/748360/\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}, {'number': 17, 'created': '2020-08-27 16:16:48.000000000', 'files': ['playbooks/tripleo-ci/run-provider.yml', 'zuul.d/standalone-jobs.yaml', 'playbooks/tripleo-ci/install-built-repo.yml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f360f4168f7933bb561093a04c5c7f3c26200cd5', 'message': 'New CI job: configure a new standalone template\n\nProvide the new template for a pipeline:\nprovider job builds containers and repository,\nwhile consumer standalone jobs use this repository and containers\nregistry, without using docker.io or building package itself.\n\nDepends-On: https://review.opendev.org/746719\nDepends-On: https://review.opendev.org/748424\n\nFix for SA errors:\nDepends-On: https://review.opendev.org/#/c/748360/\n\nChange-Id: I52e0a425f8933c0fae99224aec842d4695e91362\n'}]",5,747129,f360f4168f7933bb561093a04c5c7f3c26200cd5,98,10,17,10969,,,0,"New CI job: configure a new standalone template

Provide the new template for a pipeline:
provider job builds containers and repository,
while consumer standalone jobs use this repository and containers
registry, without using docker.io or building package itself.

Depends-On: https://review.opendev.org/746719
Depends-On: https://review.opendev.org/748424

Fix for SA errors:
Depends-On: https://review.opendev.org/#/c/748360/

Change-Id: I52e0a425f8933c0fae99224aec842d4695e91362
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/29/747129/17 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-ci/run-provider.yml', 'zuul.d/standalone-jobs.yaml', 'playbooks/tripleo-ci/install-built-repo.yml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml']",5,f4606d81986b81a58d6c159069be9834bc7d8b66,new-ci-job, # - tripleo-standalone-scenarios-full - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario001-standalone: vars: &consumer_vars consumer_job: true build_container_images: false tags: - standalone dependencies: - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario002-standalone: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario003-standalone: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario004-standalone: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario007-standalone: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario010-standalone: vars: consumer_job: true build_container_images: false tags: - standalone - octavia dependencies: - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario010-ovn-provider-standalone: vars: consumer_job: true build_container_images: false tags: - standalone - octavia dependencies: - tripleo-ci-centos-8-standalone-provider - tripleo-ci-centos-8-scenario012-standalone: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-standalone-provider, - tripleo-standalone-scenarios-full,91,1
openstack%2Fneutron~master~If35f00d1fc9e4ab7e232660362410ce7320c45ba,openstack/neutron,master,If35f00d1fc9e4ab7e232660362410ce7320c45ba,metadata-ipv6: DHCP namespace,MERGED,2020-03-27 16:56:51.000000000,2020-09-02 11:37:57.000000000,2020-09-02 11:35:20.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-27 16:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe439e5f01720f8400cdb46eb4af34a32857550a', 'message': ""WIP metadata on ipv6 in dhcp namespace\n\nThis is already sending ipv6 metadata traffic to the metadata-agent.\nBut metadata responses are always 404 Not Found,\nbecause we'll need another change in metadata-agent\nso it can handle the ipv6 address it's getting.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\n""}, {'number': 2, 'created': '2020-04-02 15:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80bf8feb28aa3b3e4864244a6df74778a2419c9c', 'message': ""WIP metadata on ipv6 in dhcp namespace\n\nThis is already sending ipv6 metadata traffic to the metadata-agent.\nBut metadata responses are always 404 Not Found,\nbecause we'll need another change in metadata-agent\nso it can handle the ipv6 address it's getting.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\n""}, {'number': 3, 'created': '2020-04-03 14:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4771be86dcacd47e805f730fa979e06d0471d70a', 'message': ""WIP metadata on ipv6 in dhcp namespace\n\nThis is already sending ipv6 metadata traffic to the metadata-agent.\nBut metadata responses are always 404 Not Found,\nbecause we'll need another change in metadata-agent\nso it can handle the ipv6 address it's getting.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\n""}, {'number': 4, 'created': '2020-04-09 15:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95afe27149b397f5d863d0a7959e518621614836', 'message': ""WIP metadata-ipv6: DHCP namespace\n\nThis is already sending ipv6 metadata traffic to the metadata-agent.\nBut metadata responses are always 404 Not Found,\nbecause we'll need another change in metadata-agent\nso it can handle the ipv6 address it's getting.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n""}, {'number': 5, 'created': '2020-04-16 15:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48ba7aeb9019560d20e2d40052e9b1c7824392ca', 'message': 'WIP metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to :: instead of\n169.254.169.254.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 6, 'created': '2020-04-20 15:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/375c939ab310e298a893528ca311315450de05ca', 'message': 'WIP metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to :: instead of\n169.254.169.254.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 7, 'created': '2020-04-21 12:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d9363f39c490e8c1a8ec8dddfc0750af4704c44', 'message': 'WIP metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to :: instead of\n169.254.169.254.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 8, 'created': '2020-04-30 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8f8274fff3c6b1d191800aedd12364116d2ab8d', 'message': 'WIP metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to :: instead of\n169.254.169.254.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 9, 'created': '2020-05-01 14:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04e3e114708c80550deaff802d7d1a5909cca894', 'message': 'WIP metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to :: instead of\n169.254.169.254.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 10, 'created': '2020-06-17 15:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c341cd8b99f298ddd750510991875d380638c84', 'message': 'WIP metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to :: instead of\n169.254.169.254.\n\nTODO do we want separate v4/v6 config options?\n     enable_isolated_metadata\n     force_metadata\n     enable_metadata_network\nTODO do we want an option to disable ipv4 metadata?\n     IMO maybe later, not here\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 11, 'created': '2020-06-22 15:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2347bbe56e61e31d83e4eaa2e38d577f4b7e007', 'message': 'metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to :: instead of\n169.254.169.254.\n\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 12, 'created': '2020-07-09 11:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46b8133304c9bc603cc69ea357d172b35131b62f', 'message': 'metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to\n169.254.169.254 and to fe80::a9fe:a9fe also.\n\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 13, 'created': '2020-07-14 13:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2060febf61bf00145fed8dc3daa8308e12ea9ae9', 'message': 'metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to\n169.254.169.254 and to fe80::a9fe:a9fe also.\n\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 14, 'created': '2020-07-16 15:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1adecedcb13e054e35677ec7cee85f1468017254', 'message': 'metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to\n169.254.169.254 and to fe80::a9fe:a9fe also.\n\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 15, 'created': '2020-07-17 13:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2460eaa472ee5f883bdce3e382b570aaac63e885', 'message': 'metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to\n169.254.169.254 and to fe80::a9fe:a9fe also.\n\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 16, 'created': '2020-07-22 15:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb95d68d75e4233822041f7af6d8259e736edf0b', 'message': 'metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to\n169.254.169.254 and to fe80::a9fe:a9fe also.\n\nTODO tests\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 17, 'created': '2020-07-29 14:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8074f646eeed4985d37d6c1f5d99be50c4a4f67', 'message': 'metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy to\n169.254.169.254 and to fe80::a9fe:a9fe also.\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n'}, {'number': 18, 'created': '2020-08-04 13:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95d2c7f3bb6481a53f79b76f97c739b747ac0590', 'message': ""metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy (i.e. the\nmetadata-proxy) to 169.254.169.254 and to fe80::a9fe:a9fe also.\n\nWe do not introduce new config options. The usual config options\n(enable_isolated_metadata, force_metadata, enable_metadata_proxy)\nnow control the metadata service over both IPv4 and IPv6.\n\nThis change series only affects the guests' access to the metadata\nservice (over tenant networks). They change nothing about how the\nmetadata-agent talks to Nova's metadata service.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nIn order to enable the metadata service on pre-existing isolated\nnetworks during an upgrade, this change makes each dhcp-agent restart\ntrigger a quick restart of dhcp-agent-controlled metadata-proxies,\nso they can pick up their new config making them also bind to\nfe80::a9fe:a9fe.\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n""}, {'number': 19, 'created': '2020-08-06 13:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86a53aa5cf0965ab8306bf04092c8ef42a5e4915', 'message': ""metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy (i.e. the\nmetadata-proxy) to 169.254.169.254 and to fe80::a9fe:a9fe also.\n\nWe do not introduce new config options. The usual config options\n(enable_isolated_metadata, force_metadata, enable_metadata_proxy)\nnow control the metadata service over both IPv4 and IPv6.\n\nThis change series only affects the guests' access to the metadata\nservice (over tenant networks). They change nothing about how the\nmetadata-agent talks to Nova's metadata service.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nIn order to enable the metadata service on pre-existing isolated\nnetworks during an upgrade, this change makes each dhcp-agent restart\ntrigger a quick restart of dhcp-agent-controlled metadata-proxies,\nso they can pick up their new config making them also bind to\nfe80::a9fe:a9fe.\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n""}, {'number': 20, 'created': '2020-08-11 15:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0f20c81493d2ff51854975f1c719a9a2cf364a9', 'message': ""metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy (i.e. the\nmetadata-proxy) to 169.254.169.254 and to fe80::a9fe:a9fe also.\n\nWe do not introduce new config options. The usual config options\n(enable_isolated_metadata, force_metadata, enable_metadata_proxy)\nnow control the metadata service over both IPv4 and IPv6.\n\nThis change series only affects the guests' access to the metadata\nservice (over tenant networks). They change nothing about how the\nmetadata-agent talks to Nova's metadata service.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nIn order to enable the metadata service on pre-existing isolated\nnetworks during an upgrade, this change makes each dhcp-agent restart\ntrigger a quick restart of dhcp-agent-controlled metadata-proxies,\nso they can pick up their new config making them also bind to\nfe80::a9fe:a9fe.\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n""}, {'number': 21, 'created': '2020-08-17 09:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f070242d54b041f5f86c407fc04cd0b91d51463a', 'message': ""metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy (i.e. the\nmetadata-proxy) to 169.254.169.254 and to fe80::a9fe:a9fe also.\n\nWe do not introduce new config options. The usual config options\n(enable_isolated_metadata, force_metadata, enable_metadata_proxy)\nnow control the metadata service over both IPv4 and IPv6.\n\nThis change series only affects the guests' access to the metadata\nservice (over tenant networks). They change nothing about how the\nmetadata-agent talks to Nova's metadata service.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nIn order to enable the metadata service on pre-existing isolated\nnetworks during an upgrade, this change makes each dhcp-agent restart\ntrigger a quick restart of dhcp-agent-controlled metadata-proxies,\nso they can pick up their new config making them also bind to\nfe80::a9fe:a9fe.\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n""}, {'number': 22, 'created': '2020-08-31 11:04:12.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0b18d553d75977fa48c6a64904b19c8fcd1b6de', 'message': ""metadata-ipv6: DHCP namespace\n\nSend IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.\n\nWhen running on IPv6 enabled system bind haproxy (i.e. the\nmetadata-proxy) to 169.254.169.254 and to fe80::a9fe:a9fe also.\n\nWe do not introduce new config options. The usual config options\n(enable_isolated_metadata, force_metadata, enable_metadata_proxy)\nnow control the metadata service over both IPv4 and IPv6.\n\nThis change series only affects the guests' access to the metadata\nservice (over tenant networks). They change nothing about how the\nmetadata-agent talks to Nova's metadata service.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nIn order to enable the metadata service on pre-existing isolated\nnetworks during an upgrade, this change makes each dhcp-agent restart\ntrigger a quick restart of dhcp-agent-controlled metadata-proxies,\nso they can pick up their new config making them also bind to\nfe80::a9fe:a9fe.\n\nChange-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba\nPartial-Bug: #1460177\n""}]",74,715482,a0b18d553d75977fa48c6a64904b19c8fcd1b6de,160,11,22,15554,,,0,"metadata-ipv6: DHCP namespace

Send IPv6 metadata traffic (dst=fe80::a9fe:a9fe) to the metadata-agent.

When running on IPv6 enabled system bind haproxy (i.e. the
metadata-proxy) to 169.254.169.254 and to fe80::a9fe:a9fe also.

We do not introduce new config options. The usual config options
(enable_isolated_metadata, force_metadata, enable_metadata_proxy)
now control the metadata service over both IPv4 and IPv6.

This change series only affects the guests' access to the metadata
service (over tenant networks). They change nothing about how the
metadata-agent talks to Nova's metadata service.

Metadata access over IPv6 is supposed to work both on dual-stack and
v6-only networks.

In order to enable the metadata service on pre-existing isolated
networks during an upgrade, this change makes each dhcp-agent restart
trigger a quick restart of dhcp-agent-controlled metadata-proxies,
so they can pick up their new config making them also bind to
fe80::a9fe:a9fe.

Change-Id: If35f00d1fc9e4ab7e232660362410ce7320c45ba
Partial-Bug: #1460177
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/715482/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/agent/linux/dhcp.py']",2,fe439e5f01720f8400cdb46eb4af34a32857550a,metadata-ipv6,"METADATA_V6_DEFAULT_PREFIX = 64 METADATA_V6_DEFAULT_IP = 'fe80::a9fe:a9fe' METADATA_V6_DEFAULT_CIDR = '%s/%d' % (METADATA_V6_DEFAULT_IP, METADATA_V6_DEFAULT_PREFIX) if netutils.is_ipv6_enabled(): ip_cidrs.append(METADATA_V6_DEFAULT_CIDR)",,13,1
openstack%2Fneutron-lib~master~I6a3cd961d6597c95dcd89e4263bd7894a70347ef,openstack/neutron-lib,master,I6a3cd961d6597c95dcd89e4263bd7894a70347ef,Add remote_address_group_id field in SG rules,MERGED,2020-08-25 21:08:20.000000000,2020-09-02 11:23:30.000000000,2020-09-02 11:21:30.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2020-08-25 21:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/642812c4ec0b7d31f66fade51506d3781dff3c8b', 'message': ""Add remote_address_group field in SG rules\n\nAdd a new field remote_address_group in security group rule's API definition.\nThis allows users to easily manage SG rules for aggregated IP address blocks.\n\nChange-Id: I6a3cd961d6597c95dcd89e4263bd7894a70347ef\nImplements: blueprint address-groups-in-sg-rules\n""}, {'number': 2, 'created': '2020-08-28 19:22:49.000000000', 'files': ['neutron_lib/api/definitions/security_groups_remote_address_group.py', 'neutron_lib/tests/unit/api/definitions/test_security_groups_remote_address_group.py', 'neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/add-extension-security-groups-remote-address-group-c71dbb57b61a1dba.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d057aa14af05ebeb3d1ab5d636b1150a01a24fa2', 'message': ""Add remote_address_group_id field in SG rules\n\nAdd a new field remote_address_group_id in security group rule's API\ndefinition. This allows users to easily manage SG rules for aggregated IP\naddress blocks.\n\nChange-Id: I6a3cd961d6597c95dcd89e4263bd7894a70347ef\nImplements: blueprint address-groups-in-sg-rules\n""}]",3,748030,d057aa14af05ebeb3d1ab5d636b1150a01a24fa2,17,5,2,28159,,,0,"Add remote_address_group_id field in SG rules

Add a new field remote_address_group_id in security group rule's API
definition. This allows users to easily manage SG rules for aggregated IP
address blocks.

Change-Id: I6a3cd961d6597c95dcd89e4263bd7894a70347ef
Implements: blueprint address-groups-in-sg-rules
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/30/748030/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/security_groups_remote_address_group.py', 'neutron_lib/tests/unit/api/definitions/test_security_groups_remote_address_group.py', 'neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/add-extension-security-groups-remote-address-group-c71dbb57b61a1dba.yaml']",4,642812c4ec0b7d31f66fade51506d3781dff3c8b,bp/address-groups-in-sg-rules,--- features: - | Add an API extension ``security-groups-remote-address-group`` that adds the new field ``remote_address_group`` in security group rules. This allows users to easily manage SG rules for aggregated IP address blocks. ,,74,0
openstack%2Fnova~master~I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb,openstack/nova,master,I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb,Add ability to download Glance images into the libvirt image cache via RBD,MERGED,2018-06-11 15:20:06.000000000,2020-09-02 10:59:11.000000000,2020-09-02 10:57:01.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 9963}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10338}, {'_account_id': 11347}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14892}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20812}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2018-06-11 15:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8c149a8b8fe57e954088d82583caafd53d2a0b2', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to use qcow2 images on the local compute host\nand quickly download the images from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 2, 'created': '2018-06-11 16:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fdb326776e3339c1c7dd2958060a2b1c1743609', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to use qcow2 images on the local compute host\nand quickly download the images from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 3, 'created': '2018-06-11 16:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96bfceda115d5f15229055271303f66ac20dbf50', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to use qcow2 images on the local compute host\nand quickly download the images from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 4, 'created': '2018-06-11 18:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca45a6f72f04376d4031162ea551581af60e0f88', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 5, 'created': '2018-06-11 18:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da0d9b4b4b84e62e11cbe3bb6f4bcea957a925ae', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 6, 'created': '2019-12-17 22:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/615a1a5f4a2a60a55e2b2466784aa266098f069b', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 7, 'created': '2019-12-17 23:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fad3eaf19065349a2b16e6c291aca6d0c527feb5', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 8, 'created': '2020-04-29 13:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4046906700f434b941e861558d9cfea156c10729', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nThis patch also removes the information about nova.image.download.modules\nextension point being deprecated (this was added with\nI13162ebc9050dd2c468d0f8b969b96409f60afa8).\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 9, 'created': '2020-04-29 15:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/579533d6969c836def8051405f72556c072a4bfe', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nThis patch also removes the information about nova.image.download.modules\nextension point being deprecated (this was added with\nI13162ebc9050dd2c468d0f8b969b96409f60afa8).\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 10, 'created': '2020-04-30 11:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7ec12f0b23ee3514bd681ce0d232b8249c3e43b', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nThis patch also removes the information about nova.image.download.modules\nextension point being deprecated (this was added with\nI13162ebc9050dd2c468d0f8b969b96409f60afa8).\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 11, 'created': '2020-05-04 17:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b222844684f0f0cb58a958bee83ddf41d555150f', 'message': 'WIP: Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 12, 'created': '2020-05-05 13:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce84106facb9515ae129e7f4e0ed4a83cf8a8050', 'message': 'WIP: Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 13, 'created': '2020-05-05 19:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32d76d953e68e3ee10a41f3d19b8a5866cb893d8', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 14, 'created': '2020-05-06 06:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/728347838646513457c8704d9c83bab2736b1ee7', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 15, 'created': '2020-05-06 15:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aca0016075309adc6d478c7f255661648b1756a', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 16, 'created': '2020-05-12 14:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7088e9a44b868fa9700e7de1563d2ed873c92f1', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 17, 'created': '2020-05-13 13:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45b4a69895107444ca14cca7f93216998989276b', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 18, 'created': '2020-05-13 19:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c7044970564837b8bc85678ab744f27815e45b2', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 19, 'created': '2020-05-19 17:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdf961852dd548a7179fb7676646f6c390587322', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 20, 'created': '2020-05-20 09:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea4f22bb604534665dc4c3b58ecc6e1cd158d3a4', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 21, 'created': '2020-05-20 12:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e03da7aa45d381baaacba90f0b0fd153090d120e', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 22, 'created': '2020-05-20 16:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/318e5d7b12ec711a7b7bc4898ebeb8a32f58c2ad', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 23, 'created': '2020-05-22 14:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/126a685cd31a99791fce88ba6aa159d59fcd557a', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 24, 'created': '2020-05-28 16:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3401a2fe402c2e205623221fc6a720f02596237f', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 25, 'created': '2020-06-10 16:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd8cc837fb2e1255a0796e7ca9f5d9e119f3d2a7', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 26, 'created': '2020-06-11 20:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a05aa14b6533182aac8ba53dc587db1a9c2550c', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 27, 'created': '2020-06-15 15:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/358d0a75254793dedaeaf0e09c3afd5c594968ad', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 28, 'created': '2020-06-25 08:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45613120a4ee3f406c47f99b5796720b3e3a8d50', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 29, 'created': '2020-07-21 20:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0bba1529cfb5c5ed5a923bbb33d309544e8dc62', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 30, 'created': '2020-07-23 10:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c383d5448c540c063b8aa448bb22d408560dc357', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 31, 'created': '2020-07-27 13:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7e3062fd8bf6a9c63b95aada8e0c4ecda1aacf7', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 32, 'created': '2020-08-19 12:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a455f1010e26d8563844947d1eaba6837adc6848', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 33, 'created': '2020-08-19 18:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43b087c3dda51e41d4e04a7f7074a569749aa49f', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 34, 'created': '2020-08-24 14:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5899ad67c8557f875fe7d731d1f5d6a72726cb82', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 35, 'created': '2020-08-24 15:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6dbea62b4598ed0bf01153097bcf620e6fef33b', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 36, 'created': '2020-08-25 15:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed996a407ad69ab57c2b2b0e5e9941c5af3974d4', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 37, 'created': '2020-08-25 19:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f4a423790ca6bbea3f368c7c3c69cef25c8bc3f', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 38, 'created': '2020-08-26 12:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d1655ee82933dabe29c6ca17a0ef78a51d2ebb7', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 39, 'created': '2020-08-26 19:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e408cbdc45a6b6e12d5e878d00eae0d9c62365a', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 40, 'created': '2020-08-27 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3253c743cd487b443aac0572a65b9b4979a53158', 'message': 'Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew ``[glance]/rbd_{user,pool,ceph_conf,connect_timeout}`` configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing ``[libvirt]``\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the ``[libvirt]``\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n'}, {'number': 41, 'created': '2020-08-31 13:16:44.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'nova/image/glance.py', 'nova/storage/rbd_utils.py', 'nova/conf/glance.py', 'nova/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61aeb1adbced8f0530f5d57bf7a6fe79c5f218d4', 'message': ""Add ability to download Glance images into the libvirt image cache via RBD\n\nThis change allows compute hosts to quickly download and cache images on the\nlocal compute host directly from Ceph rather than slow dowloads from the\nGlance API.\n\nNew '[glance]/enable_rbd_download' option is introduced to enable this\nbehavior. This is slight change compared to the original idea described in\nthe relevant blueprint where it was discussed to use (now obsolete)\n'[glance]/allowed_direct_url_schemes' option.\n\nAdditionally, when an image signature verification is requested, it should\nbe done also for the image fetched by the new download handler. This was\ncompletely missing so far.\n\nNew '[glance]/rbd_{user,pool,ceph_conf,connect_timeout}' configurables\nare introduced to allow operators to configure access to the cluster\nhosting Glance without the need to use the existing '[libvirt]'\nspecific configurables. nova.storage.rbd_utils.RBDDriver has also been\nmodified to accept these but continues to default to the '[libvirt]'\nspecific configurables for now.\n\nChange-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb\nImplements: blueprint nova-image-download-via-rbd\n""}]",132,574301,61aeb1adbced8f0530f5d57bf7a6fe79c5f218d4,412,28,41,28397,,,0,"Add ability to download Glance images into the libvirt image cache via RBD

This change allows compute hosts to quickly download and cache images on the
local compute host directly from Ceph rather than slow dowloads from the
Glance API.

New '[glance]/enable_rbd_download' option is introduced to enable this
behavior. This is slight change compared to the original idea described in
the relevant blueprint where it was discussed to use (now obsolete)
'[glance]/allowed_direct_url_schemes' option.

Additionally, when an image signature verification is requested, it should
be done also for the image fetched by the new download handler. This was
completely missing so far.

New '[glance]/rbd_{user,pool,ceph_conf,connect_timeout}' configurables
are introduced to allow operators to configure access to the cluster
hosting Glance without the need to use the existing '[libvirt]'
specific configurables. nova.storage.rbd_utils.RBDDriver has also been
modified to accept these but continues to default to the '[libvirt]'
specific configurables for now.

Change-Id: I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb
Implements: blueprint nova-image-download-via-rbd
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/574301/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/download/rbd.py', 'setup.cfg', 'nova/tests/unit/image/test_glance.py', 'nova/virt/libvirt/storage/rbd_utils.py']",4,e8c149a8b8fe57e954088d82583caafd53d2a0b2,bp/nova-image-download-via-rbd," def export_image(self, base, name, snap, pool=None): """"""Export RBD volume to image file. Uses the command line export to export a snapshot to an image. :base: Path to image file :name: Name of RBD volume :snap: Name of RBD snapshot :pool: Name of RBD pool """""" if pool is None: pool = self.pool args = ['--pool', pool, '--image', name, '--path', base, '--snap', snap] args += self.ceph_args() utils.execute('rbd', 'export', *args) ",,127,0
openstack%2Fhorizon~master~I6b64dcf797695d9a3eea892e6a5a4970f14cdd05,openstack/horizon,master,I6b64dcf797695d9a3eea892e6a5a4970f14cdd05,Cleanup references to Cinder API v1,MERGED,2020-08-05 08:13:24.000000000,2020-09-02 10:45:05.000000000,2020-09-02 10:43:32.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-05 08:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5a99d7bf16bca34d2f191c6d41918544e8cabaf4', 'message': 'Cleanup references to Cinder API v1\n\nCinder API v1 was removed from Horizon in Rocky release.\n\nChange-Id: I6b64dcf797695d9a3eea892e6a5a4970f14cdd05\n'}, {'number': 2, 'created': '2020-08-28 12:24:26.000000000', 'files': ['openstack_dashboard/api/cinder.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/51468ae21a8c2847378ff922358c242b4d2df2b6', 'message': 'Cleanup references to Cinder API v1\n\nCinder API v1 was removed from Horizon in Rocky release.\n\nChange-Id: I6b64dcf797695d9a3eea892e6a5a4970f14cdd05\n'}]",2,744847,51468ae21a8c2847378ff922358c242b4d2df2b6,21,5,2,1736,,,0,"Cleanup references to Cinder API v1

Cinder API v1 was removed from Horizon in Rocky release.

Change-Id: I6b64dcf797695d9a3eea892e6a5a4970f14cdd05
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/744847/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/cinder.py'],1,5a99d7bf16bca34d2f191c6d41918544e8cabaf4,cinder-v1-cleanup," if paginate: if paginate: offset = (page_number - 1) * page_size sort = 'created_at:' + sort_dir bkps, count = c_client.backups.list(limit=page_size, sort=sort, search_opts={'with_count': True, 'offset': offset}) if not bkps: if isinstance(bkps[0], list): bkps = bkps[0] pages_count = int(math.ceil(float(count) / float(page_size))) for b in bkps: backups.append(VolumeBackup(b)) return backups, page_size, count, pages_count if paginate:"," if VERSIONS.active > 1 and paginate: if VERSIONS.active > 1 and paginate: if VERSIONS.active > 1: offset = (page_number - 1) * page_size sort = 'created_at:' + sort_dir bkps, count = c_client.backups.list(limit=page_size, sort=sort, search_opts={'with_count': True, 'offset': offset}) if not bkps: return backups, page_size, count, pages_count if isinstance(bkps[0], list): bkps = bkps[0] pages_count = int(math.ceil(float(count) / float(page_size))) for b in bkps: backups.append(VolumeBackup(b)) else: for b in c_client.backups.list(): backups.append(VolumeBackup(b)) if VERSIONS.active > 1 and paginate:",18,22
openstack%2Fneutron~master~I5e81d8b27c6126f10011f2d1b4d8f8697e987f13,openstack/neutron,master,I5e81d8b27c6126f10011f2d1b4d8f8697e987f13,Announce deprecation of `remote_ip_prefix` in metering label rules,MERGED,2020-08-13 17:04:00.000000000,2020-09-02 10:37:45.000000000,2020-09-02 10:33:48.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-08-13 17:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49d4adcd54f19fc621d660772191d00eaea2f6d8', 'message': 'Announce deprecation of `remote_ip_prefix` in metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix. Moreover, with that new spec implementation, we\ndeprecate the use of `remote_ip_prefix`.\n\nThis patch introduces a log message to inform people to migrate to the new API usage.\n\nChange-Id: I5e81d8b27c6126f10011f2d1b4d8f8697e987f13\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\nDepends-On: https://review.opendev.org/#/c/746142/\n'}, {'number': 2, 'created': '2020-08-13 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1393563c2bd3eee2fd8c7ea8ea402ffce7b06d33', 'message': 'Announce deprecation of `remote_ip_prefix` in metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix. Moreover, with that new spec implementation, we\ndeprecate the use of `remote_ip_prefix`.\n\nThis patch introduces a log message to inform people to migrate to the new API usage.\n\nChange-Id: I5e81d8b27c6126f10011f2d1b4d8f8697e987f13\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\nDepends-On: https://review.opendev.org/#/c/746142/\n'}, {'number': 3, 'created': '2020-08-18 17:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44ea220cf9181faf4d6c7d0ec32d6a20ede46051', 'message': 'Announce deprecation of `remote_ip_prefix` in metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix. Moreover, with that new spec implementation, we\ndeprecate the use of `remote_ip_prefix`.\n\nThis patch introduces a log message to inform people to migrate to the new API usage.\n\nChange-Id: I5e81d8b27c6126f10011f2d1b4d8f8697e987f13\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\nDepends-On: https://review.opendev.org/#/c/746142/\n'}, {'number': 4, 'created': '2020-08-19 13:29:19.000000000', 'files': ['releasenotes/notes/deprecate-remote_ip_prefix-metering-label-rules-5203f681d2fce058.yaml', 'neutron/services/metering/metering_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0c6cb35e72fdd7535452430c7619a2c0c8ab5fc', 'message': 'Announce deprecation of `remote_ip_prefix` in metering label rules\n\nAs proposed in the RFE and then approved in the spec, we are adding to\nthe neutron metering rules two new parameters. The source IP prefix, and\ndestination IP prefix. Moreover, with that new spec implementation, we\ndeprecate the use of `remote_ip_prefix`.\n\nThis patch introduces a log message to inform people to migrate to the new API usage.\n\nChange-Id: I5e81d8b27c6126f10011f2d1b4d8f8697e987f13\nPartially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431\nRFE: https://bugs.launchpad.net/neutron/+bug/1889431\nDepends-On: https://review.opendev.org/#/c/744702/\nDepends-On: https://review.opendev.org/#/c/743828/\nDepends-On: https://review.opendev.org/#/c/746142/\n'}]",8,746203,b0c6cb35e72fdd7535452430c7619a2c0c8ab5fc,65,10,4,28356,,,0,"Announce deprecation of `remote_ip_prefix` in metering label rules

As proposed in the RFE and then approved in the spec, we are adding to
the neutron metering rules two new parameters. The source IP prefix, and
destination IP prefix. Moreover, with that new spec implementation, we
deprecate the use of `remote_ip_prefix`.

This patch introduces a log message to inform people to migrate to the new API usage.

Change-Id: I5e81d8b27c6126f10011f2d1b4d8f8697e987f13
Partially-Implements: https://bugs.launchpad.net/neutron/+bug/1889431
RFE: https://bugs.launchpad.net/neutron/+bug/1889431
Depends-On: https://review.opendev.org/#/c/744702/
Depends-On: https://review.opendev.org/#/c/743828/
Depends-On: https://review.opendev.org/#/c/746142/
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/746203/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/metering/metering_plugin.py'],1,49d4adcd54f19fc621d660772191d00eaea2f6d8,bug/1889431,"from oslo_log import log as logging LOG = logging.getLogger(__name__) if rule.get(""remote_ip_prefix""): LOG.warning(""The use of 'remote_ip_prefix' in metering label "" ""rules is deprecated and will be removed in future "" ""releases. One should use instead, the "" ""'source_ip_prefix' and/or 'destination_ip_prefix' "" ""parameters. For more details, you can check the "" ""spec: https://review.opendev.org/#/c/744702/"") ",,12,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf,openstack/tripleo-heat-templates,stable/train,Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf,DNM Test centos8 scen0 containers update train,ABANDONED,2020-07-06 10:23:37.000000000,2020-09-02 10:36:44.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-07-06 10:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55e4b05ccb4f30c5c6ca1f9d086595fa4539e96e', 'message': 'DNM Test centos8 standalone upgrade train\n\nDepends-On: https://review.opendev.org/738844\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 2, 'created': '2020-07-06 11:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55b27e1ca31395b69653a13681ea70b678185414', 'message': 'DNM Test centos8 standalone upgrade train\n\nDepends-On: https://review.opendev.org/739218\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 3, 'created': '2020-07-06 12:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6afc7bfe64e9e7b1bdbcb30885fe8f049ce70fb9', 'message': 'DNM Test centos8 standalone upgrade train\n\nDepends-On: https://review.opendev.org/739218\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 4, 'created': '2020-07-07 09:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/306f2b221a871426bcc3d56b0827e4695ceebc45', 'message': 'DNM Test centos8 standalone upgrade train\n\nDepends-On: https://review.opendev.org/739218\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 5, 'created': '2020-07-07 09:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57192076a3219b95da11391248e7080957f0a10b', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 6, 'created': '2020-07-08 11:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ff5eac64d049e319051059ed6d57bf11d420560', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 7, 'created': '2020-07-10 08:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71568e206edfb3ab545b10e0e8f2f8bf193e9277', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 8, 'created': '2020-07-14 10:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/206c747b6af190a1fac7bbeb79159f23bed9b0a7', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218 # jobs\nDepends-On: https://review.opendev.org/709134 # test fixes\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 9, 'created': '2020-07-16 12:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07ee726c2bd843028d81253d18149c4615851caf', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 10, 'created': '2020-07-20 12:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f1aeba33aeed99737f0c9251514b4599f1d03de', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 11, 'created': '2020-07-20 12:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac49ab693470029e845584a51b4885ba8042b857', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 12, 'created': '2020-07-20 13:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/501ba30da63a8f6aec617f81e73ed1c697c095eb', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 13, 'created': '2020-07-20 13:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c8f8c60f0cbfc1fe24f4c6b4cc05b12d26d8439', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 14, 'created': '2020-07-20 13:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a86043ab894d1bef67bb388ddced32826cf5debe', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739217 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 15, 'created': '2020-07-20 13:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9a430c0e86eec2a52780fbe5cffc1f6c2bf63d3', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739218 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 16, 'created': '2020-07-21 08:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce063e7e52e73931683ecf7e6e314bd1680ba5fa', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/739217 # jobs\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 17, 'created': '2020-07-22 13:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd084b4b6e8b3dc1743bf9c303b204cce16b9506', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 18, 'created': '2020-07-27 12:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1409ff2a94c9b3a1a6833a1d027cff170d1fc6f', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 19, 'created': '2020-07-30 11:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47b07ed340102493e81965762558b4f5e01b5262', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 20, 'created': '2020-08-12 14:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc3da490b3f0f9e2c0d519bbf8f4fb2f2658125d', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nDepends-On: https://review.opendev.org/745873\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 21, 'created': '2020-08-13 13:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a1b62edc3af3fa43e7d96fdcbe86b7c53101e2b', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nDepends-On: https://review.opendev.org/745924\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 22, 'created': '2020-08-13 13:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcd65240747fd3656304cc33858aa60a3082b4b3', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nDepends-On: https://review.opendev.org/745924\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 23, 'created': '2020-08-19 10:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b499023d4f6ec8c2e810e282e908ca1086d44220', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nDepends-On: https://review.opendev.org/745924\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 24, 'created': '2020-08-26 08:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e27f8e76e8b61beb71240d87ca754dc2a847635', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nDepends-On: https://review.opendev.org/745924\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\n'}, {'number': 25, 'created': '2020-08-26 11:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42aa992fd0973dd0ec1416f3179336b3a4476205', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\nDepends-On: https://review.opendev.org/745924\n\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 26, 'created': '2020-08-26 11:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/404a02a199a79195bc47111e101851b25ea7efeb', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\n\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 27, 'created': '2020-09-01 09:37:05.000000000', 'files': ['environments/standalone/standalone-tripleo.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2bbd277fd3e73de08acc43ba9f2797c8e30e194e', 'message': 'DNM Test centos8 scen0 containers update train\n\nDepends-On: https://review.opendev.org/742420\n\nChange-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",1,739459,2bbd277fd3e73de08acc43ba9f2797c8e30e194e,99,5,27,8449,,,0,"DNM Test centos8 scen0 containers update train

Depends-On: https://review.opendev.org/742420

Change-Id: Iab4bcaf0d4581c2269bf62e09698cd1cd49e0dcf
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/739459/27 && git format-patch -1 --stdout FETCH_HEAD,['environments/standalone/standalone-tripleo.yaml'],1,55e4b05ccb4f30c5c6ca1f9d086595fa4539e96e,c8_sce0,# TEST AWOO DO NOT MERGE # # ! ! ! ! ! ! ! ! ! ! ! ! #,,4,0
openstack%2Fkuryr-kubernetes~master~I2cb1586fa1f88bab191af0ead22a2b8afca91a3b,openstack/kuryr-kubernetes,master,I2cb1586fa1f88bab191af0ead22a2b8afca91a3b,Ensure proper cleanup of subports,MERGED,2020-08-28 13:53:33.000000000,2020-09-02 10:32:41.000000000,2020-09-02 10:31:14.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-08-28 13:53:33.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a660eae054f731f9b4016a85f92a3c840dc16758', 'message': 'Ensure proper cleanup of subports\n\nNamespace deletion can be stuck if not all the ports belonging\nto the associated namespace networks are deleted.\n\nThis patch enforce proper clean up of subports by:\n- Ensuring no request/release VIF actions are processed until the pools\n  are recovered by the controller\n- Ensure if there are subports leftover when removing a namespace those\n  are detached from the pool and deleted regardless of their status\n\nChange-Id: I2cb1586fa1f88bab191af0ead22a2b8afca91a3b\n'}]",0,748670,a660eae054f731f9b4016a85f92a3c840dc16758,34,5,1,23567,,,0,"Ensure proper cleanup of subports

Namespace deletion can be stuck if not all the ports belonging
to the associated namespace networks are deleted.

This patch enforce proper clean up of subports by:
- Ensuring no request/release VIF actions are processed until the pools
  are recovered by the controller
- Ensure if there are subports leftover when removing a namespace those
  are detached from the pool and deleted regardless of their status

Change-Id: I2cb1586fa1f88bab191af0ead22a2b8afca91a3b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/70/748670/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",4,a660eae054f731f9b4016a85f92a3c840dc16758,pools-cleanup, m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True m_driver._recovered_pools = True,,38,9
openstack%2Foctavia~master~Id18783acefc5ba9acb1789a2fd3d52df603f292a,openstack/octavia,master,Id18783acefc5ba9acb1789a2fd3d52df603f292a,Add a message for the amphora image size,MERGED,2020-08-18 17:08:52.000000000,2020-09-02 10:11:20.000000000,2020-09-02 10:06:12.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 17:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b32eff492d7c339d2d465a1ab66c7eff1b6ed466', 'message': 'Add a message for the amphora image size\n\nThis patch adds an output from the diskimage-create.sh script that\nshows the generated image size.\nThis is handy for seeing the impact of a patch on the generated\namphora image size.\n\nChange-Id: Id18783acefc5ba9acb1789a2fd3d52df603f292a\n'}, {'number': 2, 'created': '2020-08-18 18:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/174191076b2444ae619ef22df18d91857cee2a74', 'message': 'Add a message for the amphora image size\n\nThis patch adds an output from the diskimage-create.sh script that\nshows the generated image size.\nThis is handy for seeing the impact of a patch on the generated\namphora image size.\n\nChange-Id: Id18783acefc5ba9acb1789a2fd3d52df603f292a\n'}, {'number': 3, 'created': '2020-08-18 18:55:35.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f2cda017dc1374fa5083b4b1ebce9b1d87f9934d', 'message': 'Add a message for the amphora image size\n\nThis patch adds an output from the diskimage-create.sh script that\nshows the generated image size.\nThis is handy for seeing the impact of a patch on the generated\namphora image size.\n\nChange-Id: Id18783acefc5ba9acb1789a2fd3d52df603f292a\n'}]",3,746771,f2cda017dc1374fa5083b4b1ebce9b1d87f9934d,15,5,3,11628,,,0,"Add a message for the amphora image size

This patch adds an output from the diskimage-create.sh script that
shows the generated image size.
This is handy for seeing the impact of a patch on the generated
amphora image size.

Change-Id: Id18783acefc5ba9acb1789a2fd3d52df603f292a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/746771/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,b32eff492d7c339d2d465a1ab66c7eff1b6ed466,,"echo ""Amphora image size: `stat -c ""%n %s"" $AMP_OUTPUTFILENAME`""",,1,0
openstack%2Foctavia~stable%2Fstein~If12de7005a51ee030fed12033e0df2c3319ce9bd,openstack/octavia,stable/stein,If12de7005a51ee030fed12033e0df2c3319ce9bd,Remove scenario bionic job from check,MERGED,2020-07-01 11:38:34.000000000,2020-09-02 10:10:56.000000000,2020-09-02 10:06:12.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 11:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a834713aa8e84d1c6c0cc2b1573a03226878bbb', 'message': 'Remove scenario bionic job from check\n\nOur devstack scenario stein jobs run already on Bionic, no need for\nextra -bionic job.\n\nChange-Id: If12de7005a51ee030fed12033e0df2c3319ce9bd\n'}, {'number': 2, 'created': '2020-08-18 20:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/558652c6bdb1ac4d98b00f63b08f3068f34d7f0c', 'message': 'Remove scenario bionic job from check\n\nOur devstack scenario stein jobs run already on Bionic, no need for\nextra -bionic job.\n\nChange-Id: If12de7005a51ee030fed12033e0df2c3319ce9bd\n'}, {'number': 3, 'created': '2020-08-19 06:27:01.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e818b427d28814a1ea20acddec14ae90da9bf31b', 'message': 'Remove scenario bionic job from check\n\nOur devstack scenario stein jobs run already on Bionic, no need for\nextra -bionic job.\n\nChange-Id: If12de7005a51ee030fed12033e0df2c3319ce9bd\n'}]",0,738797,e818b427d28814a1ea20acddec14ae90da9bf31b,24,6,3,6469,,,0,"Remove scenario bionic job from check

Our devstack scenario stein jobs run already on Bionic, no need for
extra -bionic job.

Change-Id: If12de7005a51ee030fed12033e0df2c3319ce9bd
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/738797/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,5a834713aa8e84d1c6c0cc2b1573a03226878bbb,,, - octavia-v2-dsvm-scenario-ubuntu-bionic: voting: false,0,2
openstack%2Fbifrost~master~I3a900a1f28c193f97b2d23e42228c215cf6b07ff,openstack/bifrost,master,I3a900a1f28c193f97b2d23e42228c215cf6b07ff,Variable testing should be converted to bool in if case,ABANDONED,2020-09-02 03:55:19.000000000,2020-09-02 09:49:06.000000000,,"[{'_account_id': 5805}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-02 03:55:19.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6540af4240f805d1b0f9c4c83d21a1f4d546d359', 'message': 'Variable testing should be converted to bool in if case\n\nTrivialFix\n\nChange-Id: I3a900a1f28c193f97b2d23e42228c215cf6b07ff\n'}]",0,749421,6540af4240f805d1b0f9c4c83d21a1f4d546d359,4,3,1,4428,,,0,"Variable testing should be converted to bool in if case

TrivialFix

Change-Id: I3a900a1f28c193f97b2d23e42228c215cf6b07ff
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/21/749421/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml'],1,6540af4240f805d1b0f9c4c83d21a1f4d546d359,fix-inspector_bootstrap," zone: ""{{ 'libvirt' if testing | bool else 'public' }}"""," zone: ""{{ 'libvirt' if testing else 'public' }}""",1,1
openstack%2Ftripleo-quickstart~master~I243946d995852a029ce1ed4e2cf7604ce736c907,openstack/tripleo-quickstart,master,I243946d995852a029ce1ed4e2cf7604ce736c907,[DNM] testing new containerworkflow for train and ussuri,ABANDONED,2020-07-24 09:18:25.000000000,2020-09-02 09:46:42.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 09:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/271fe391709f9889d4dfbaef91ef2692241cda07', 'message': '[DNM] testing new containerworkflow for train and ussuri\n\nnew registries populated: https://review.rdoproject.org/r/#/c/28686/\n\nChange-Id: I243946d995852a029ce1ed4e2cf7604ce736c907\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-28 12:27:51.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e6a29267b214a26c80b736825ed9642dacd2b82d', 'message': '[DNM] testing new containerworkflow for train and ussuri\n\nnew registries populated: https://review.rdoproject.org/r/#/c/28686/\n\nChange-Id: I243946d995852a029ce1ed4e2cf7604ce736c907\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,742830,e6a29267b214a26c80b736825ed9642dacd2b82d,10,3,2,12393,,,0,"[DNM] testing new containerworkflow for train and ussuri

new registries populated: https://review.rdoproject.org/r/#/c/28686/

Change-Id: I243946d995852a029ce1ed4e2cf7604ce736c907
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/742830/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']",2,271fe391709f9889d4dfbaef91ef2692241cda07,stabletestingcontainer,docker_registry_namespace: testingtrain,docker_registry_namespace: tripleotraincentos8,2,2
openstack%2Fcharm-neutron-gateway~master~I6b8e907b2fcdf7e4de8e027828a763d2d4eba25f,openstack/charm-neutron-gateway,master,I6b8e907b2fcdf7e4de8e027828a763d2d4eba25f,Add focal-victoria to the test gate,MERGED,2020-08-28 12:27:36.000000000,2020-09-02 09:18:38.000000000,2020-09-02 09:18:38.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:27:36.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/48d3cf6d15c57d1b5fc3f94e3034c5b714a9f24f', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I6b8e907b2fcdf7e4de8e027828a763d2d4eba25f\n'}]",0,748647,48d3cf6d15c57d1b5fc3f94e3034c5b714a9f24f,12,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I6b8e907b2fcdf7e4de8e027828a763d2d4eba25f
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/47/748647/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,48d3cf6d15c57d1b5fc3f94e3034c5b714a9f24f,victoria-charm-gate, - focal-victoria, - focal-victoria,1,1
openstack%2Foctavia~master~I1e4e3c4f0e4142fa0d0d1ac895b10e2349d79c20,openstack/octavia,master,I1e4e3c4f0e4142fa0d0d1ac895b10e2349d79c20,Switch to live from noop drivers,MERGED,2020-08-26 11:29:17.000000000,2020-09-02 09:18:25.000000000,2020-09-02 09:16:17.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 11:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6305d4be4f88b8836f51d425e2436f88ea4bcc21', 'message': 'Switch to live from noop drivers\n\nThe switch to live drivers ease greenfield deployments by not requiring\ndeployers to explicitly set live drivers. The switch also helps\ndeployers identify production-ready from experimental drivers.\nExperimental features like volume and distributor remain defaulted to\ntheir noop drivers.\n\nChange-Id: I1e4e3c4f0e4142fa0d0d1ac895b10e2349d79c20\n'}, {'number': 2, 'created': '2020-08-27 08:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/beb8654d2d5fcbe01bb3d0d569b0c98f1c6eb2c2', 'message': 'Switch to live from noop drivers\n\nThe switch to live drivers ease greenfield deployments by not requiring\ndeployers to explicitly set live drivers. The switch also helps\ndeployers identify production-ready from experimental drivers.\nExperimental features like volume and distributor remain defaulted to\ntheir noop drivers.\n\nThis patch also fixes some tests that were not mocked properly.\n\nChange-Id: I1e4e3c4f0e4142fa0d0d1ac895b10e2349d79c20\n'}, {'number': 3, 'created': '2020-08-28 20:51:45.000000000', 'files': ['octavia/common/config.py', 'releasenotes/notes/switch-to-live-drivers-cbae7c60eafa0f3e.yaml', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f3b5e6e147737845321a5b6e615ea4fce06f1cf8', 'message': 'Switch to live from noop drivers\n\nThe switch to live drivers ease greenfield deployments by not requiring\ndeployers to explicitly set live drivers. The switch also helps\ndeployers identify production-ready from experimental drivers.\nExperimental features like volume and distributor remain defaulted to\ntheir noop drivers.\n\nThis patch also fixes some tests that were not mocked properly.\n\nChange-Id: I1e4e3c4f0e4142fa0d0d1ac895b10e2349d79c20\n'}]",0,748163,f3b5e6e147737845321a5b6e615ea4fce06f1cf8,17,4,3,6469,,,0,"Switch to live from noop drivers

The switch to live drivers ease greenfield deployments by not requiring
deployers to explicitly set live drivers. The switch also helps
deployers identify production-ready from experimental drivers.
Experimental features like volume and distributor remain defaulted to
their noop drivers.

This patch also fixes some tests that were not mocked properly.

Change-Id: I1e4e3c4f0e4142fa0d0d1ac895b10e2349d79c20
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/748163/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'releasenotes/notes/switch-to-live-drivers-cbae7c60eafa0f3e.yaml', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'etc/octavia.conf']",6,6305d4be4f88b8836f51d425e2436f88ea4bcc21,live-drivers,# amphora_driver = amphora_haproxy_rest_driver# compute_driver = compute_nova_driver# network_driver = allowed_address_pairs_driver #,# amphora_driver = amphora_noop_driver# compute_driver = compute_noop_driver# network_driver = network_noop_driver,29,6
openstack%2Fcharm-barbican~master~I284411405cfab0d789f56d41774309d11ced257b,openstack/charm-barbican,master,I284411405cfab0d789f56d41774309d11ced257b,Add focal-victoria to the test gate,MERGED,2020-08-28 12:24:06.000000000,2020-09-02 09:18:01.000000000,2020-09-02 09:18:00.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:24:06.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/64300e7be3fe4d4f4aa794cf823bebd94b741b48', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I284411405cfab0d789f56d41774309d11ced257b\n'}]",0,748612,64300e7be3fe4d4f4aa794cf823bebd94b741b48,9,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I284411405cfab0d789f56d41774309d11ced257b
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/12/748612/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,64300e7be3fe4d4f4aa794cf823bebd94b741b48,victoria-charm-gate,- focal-victoria,- focal-victoria,1,1
openstack%2Fcharm-ceph-radosgw~master~Ie92d186b3862712a57a013ca6da4dc9bedff49d9,openstack/charm-ceph-radosgw,master,Ie92d186b3862712a57a013ca6da4dc9bedff49d9,Add focal-victoria to the test gate,MERGED,2020-08-28 12:24:57.000000000,2020-09-02 09:17:24.000000000,2020-09-02 09:17:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:24:57.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d0488825323dee8c97d66fd9e8648231fbf2c54f', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: Ie92d186b3862712a57a013ca6da4dc9bedff49d9\n'}]",0,748621,d0488825323dee8c97d66fd9e8648231fbf2c54f,12,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: Ie92d186b3862712a57a013ca6da4dc9bedff49d9
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/21/748621/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,d0488825323dee8c97d66fd9e8648231fbf2c54f,victoria-charm-gate, - vault: focal-victoria - vault: focal-victoria-namespaced, - vault: focal-victoria - vault: focal-victoria-namespaced,2,2
openstack%2Fcharm-ceilometer-agent~master~I6ad7beed3b2bf8de07a638cb40ffe6f8c0cbc326,openstack/charm-ceilometer-agent,master,I6ad7beed3b2bf8de07a638cb40ffe6f8c0cbc326,Add focal-victoria to the test gate,MERGED,2020-08-28 12:24:25.000000000,2020-09-02 09:17:05.000000000,2020-09-02 09:17:05.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:24:25.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/27ad8cb103feb89bccf2e1cfa552556881ac3e8d', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I6ad7beed3b2bf8de07a638cb40ffe6f8c0cbc326\n'}]",0,748615,27ad8cb103feb89bccf2e1cfa552556881ac3e8d,12,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I6ad7beed3b2bf8de07a638cb40ffe6f8c0cbc326
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/15/748615/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,27ad8cb103feb89bccf2e1cfa552556881ac3e8d,victoria-charm-gate, - focal-victoria, - focal-victoria,1,1
openstack%2Fcharm-manila~master~I56ad05c6c2a98588670351ffdcf066eef3dfdb17,openstack/charm-manila,master,I56ad05c6c2a98588670351ffdcf066eef3dfdb17,Add focal-victoria to the test gate,MERGED,2020-08-28 12:26:46.000000000,2020-09-02 09:16:39.000000000,2020-09-02 09:16:39.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:26:46.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/00711ff6750b5ba3bfe562207151a600d563c228', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I56ad05c6c2a98588670351ffdcf066eef3dfdb17\n'}]",0,748638,00711ff6750b5ba3bfe562207151a600d563c228,13,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I56ad05c6c2a98588670351ffdcf066eef3dfdb17
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/38/748638/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,00711ff6750b5ba3bfe562207151a600d563c228,victoria-charm-gate,- ganesha: focal-victoria,- ganesha: focal-victoria,1,1
openstack%2Fcharm-nova-cell-controller~master~Ieef24a3476852b97754848de947d7bca740f2e61,openstack/charm-nova-cell-controller,master,Ieef24a3476852b97754848de947d7bca740f2e61,Add focal-victoria to the test gate,MERGED,2020-08-28 12:27:49.000000000,2020-09-02 09:16:29.000000000,2020-09-02 09:16:29.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:27:49.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/bd1a38447cc748f84cc041a09ee805bcf003e3cf', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: Ieef24a3476852b97754848de947d7bca740f2e61\n'}]",0,748649,bd1a38447cc748f84cc041a09ee805bcf003e3cf,12,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: Ieef24a3476852b97754848de947d7bca740f2e61
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/49/748649/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,bd1a38447cc748f84cc041a09ee805bcf003e3cf,victoria-charm-gate, - focal-victoria, - focal-victoria,1,1
openstack%2Fcharm-cinder-backup-swift-proxy~master~I5cb35efb5893ab6aac51723a84b191197779ce33,openstack/charm-cinder-backup-swift-proxy,master,I5cb35efb5893ab6aac51723a84b191197779ce33,Add focal-victoria to the test gate,MERGED,2020-08-28 12:25:17.000000000,2020-09-02 09:15:27.000000000,2020-09-02 09:15:27.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:25:17.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/ddff51a12114f1bad59b0895f1587c21ff3341db', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I5cb35efb5893ab6aac51723a84b191197779ce33\n'}]",0,748624,ddff51a12114f1bad59b0895f1587c21ff3341db,12,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I5cb35efb5893ab6aac51723a84b191197779ce33
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/24/748624/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,ddff51a12114f1bad59b0895f1587c21ff3341db,victoria-charm-gate, # - focal-victoria-swift-v3, - focal-victoria-swift-v3,1,1
openstack%2Fcharm-masakari-monitors~master~I4ee1cee91a81f137576c2fae832a63e70dbf6fd2,openstack/charm-masakari-monitors,master,I4ee1cee91a81f137576c2fae832a63e70dbf6fd2,Add focal-victoria to the test gate,MERGED,2020-08-28 12:27:10.000000000,2020-09-02 09:13:31.000000000,2020-09-02 09:13:30.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:27:10.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/aea354f9a864299ac8fc9f9d2420d0d72c2f9b12', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I4ee1cee91a81f137576c2fae832a63e70dbf6fd2\n'}]",0,748642,aea354f9a864299ac8fc9f9d2420d0d72c2f9b12,12,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I4ee1cee91a81f137576c2fae832a63e70dbf6fd2
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/42/748642/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,aea354f9a864299ac8fc9f9d2420d0d72c2f9b12,victoria-charm-gate, - focal-victoria-pacemaker-remote-ssl, - focal-victoria-pacemaker-remote-ssl,1,1
openstack%2Fkuryr-kubernetes~master~I74d6debddc6ae3376bfdb750be901c7d726ba04f,openstack/kuryr-kubernetes,master,I74d6debddc6ae3376bfdb750be901c7d726ba04f,Remove all usage of six library,MERGED,2020-08-27 15:20:41.000000000,2020-09-02 09:13:30.000000000,2020-09-02 09:10:34.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-27 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fc8e00b82bcf57f6087cdbd85d9a65bd8b115c4f', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I74d6debddc6ae3376bfdb750be901c7d726ba04f\n'}, {'number': 2, 'created': '2020-08-31 01:30:09.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6433c08bbd13829907d119aaf7e31d65b567a1b9', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I74d6debddc6ae3376bfdb750be901c7d726ba04f\n'}]",0,748464,6433c08bbd13829907d119aaf7e31d65b567a1b9,16,5,2,32067,,,0,"Remove all usage of six library

Convert all code to not require six library and instead
use python 3.x logic.

Change-Id: I74d6debddc6ae3376bfdb750be901c7d726ba04f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/64/748464/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,fc8e00b82bcf57f6087cdbd85d9a65bd8b115c4f,, n = IPNetwork(str(sys.argv[1])) n = IPNetwork(str(sys.argv[1])),import six n = IPNetwork(six.text_type(sys.argv[1]))import six n = IPNetwork(six.text_type(sys.argv[1])),2,4
openstack%2Fcharm-barbican-vault~master~I739f599ca436c5255edd9ed5b0794f7abbfe4150,openstack/charm-barbican-vault,master,I739f599ca436c5255edd9ed5b0794f7abbfe4150,Add focal-victoria to the test gate,MERGED,2020-08-28 12:24:12.000000000,2020-09-02 09:11:34.000000000,2020-09-02 09:11:34.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:24:12.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/91a8f7978f9ff61b709800989fd587cfe4a5542b', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I739f599ca436c5255edd9ed5b0794f7abbfe4150\n'}]",0,748613,91a8f7978f9ff61b709800989fd587cfe4a5542b,14,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I739f599ca436c5255edd9ed5b0794f7abbfe4150
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/13/748613/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,91a8f7978f9ff61b709800989fd587cfe4a5542b,victoria-charm-gate,- focal-victoria,- focal-victoria,1,1
openstack%2Fnova~master~I924476e4f3fb6baa09db433d3c0f787fe5e9853a,openstack/nova,master,I924476e4f3fb6baa09db433d3c0f787fe5e9853a,DNM: tracing the PCI allocation code path,ABANDONED,2020-08-27 14:59:08.000000000,2020-09-02 09:11:02.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-27 14:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/423ca293d0025f6ecb1cbcb25d726b532e562a91', 'message': 'DNM: tracing the PCI allocation code path\n\nChange-Id: I924476e4f3fb6baa09db433d3c0f787fe5e9853a\n'}, {'number': 2, 'created': '2020-08-28 11:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f626e283ea678c493058c19c1b3e43b82bd9ee84', 'message': 'DNM: tracing the PCI allocation code path\n\nChange-Id: I924476e4f3fb6baa09db433d3c0f787fe5e9853a\n'}, {'number': 3, 'created': '2020-08-28 16:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2afd50e94dfe7801fb0c15e8c71c75bb97311d0e', 'message': 'DNM: tracing the PCI allocation code path\n\nChange-Id: I924476e4f3fb6baa09db433d3c0f787fe5e9853a\n'}, {'number': 4, 'created': '2020-09-01 15:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68aed2bab218d9ca97f00a43ba88fcd2615d381f', 'message': 'DNM: tracing the PCI allocation code path\n\nChange-Id: I924476e4f3fb6baa09db433d3c0f787fe5e9853a\n'}, {'number': 5, 'created': '2020-09-02 08:30:40.000000000', 'files': ['nova/tests/unit/compute/test_compute.py:', 'nova/objects/pci_device.py', 'nova/pci/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2849ef6fa2f1f094ca26260d1fece720dd8c5bbf', 'message': 'DNM: tracing the PCI allocation code path\n\nChange-Id: I924476e4f3fb6baa09db433d3c0f787fe5e9853a\n'}]",9,748454,2849ef6fa2f1f094ca26260d1fece720dd8c5bbf,30,8,5,9708,,,0,"DNM: tracing the PCI allocation code path

Change-Id: I924476e4f3fb6baa09db433d3c0f787fe5e9853a
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/748454/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/compute/test_compute.py:']",3,423ca293d0025f6ecb1cbcb25d726b532e562a91,bp/sriov-interface-attach-detach,,,5,0
openstack%2Fcharm-openstack-dashboard~master~I3888fcc268fc8fd5d6ee359398cfbd88c9ee7e7d,openstack/charm-openstack-dashboard,master,I3888fcc268fc8fd5d6ee359398cfbd88c9ee7e7d,Add focal-victoria to the test gate,MERGED,2020-08-28 12:28:28.000000000,2020-09-02 09:09:24.000000000,2020-09-02 09:09:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:28:28.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/df02743dd0d6eae70304f10376ae3e640e8e23c7', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I3888fcc268fc8fd5d6ee359398cfbd88c9ee7e7d\n'}]",0,748655,df02743dd0d6eae70304f10376ae3e640e8e23c7,12,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I3888fcc268fc8fd5d6ee359398cfbd88c9ee7e7d
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/55/748655/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,df02743dd0d6eae70304f10376ae3e640e8e23c7,victoria-charm-gate, - focal-victoria, - focal-victoria,1,1
openstack%2Fcharm-octavia-diskimage-retrofit~master~I1e37ca2d522156c26926b54e66ebbb570692fa6f,openstack/charm-octavia-diskimage-retrofit,master,I1e37ca2d522156c26926b54e66ebbb570692fa6f,Add focal-victoria to the test gate,MERGED,2020-08-28 12:28:22.000000000,2020-09-02 09:09:19.000000000,2020-09-02 09:09:19.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:28:22.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/b3f7acc571c44db6ec7a1f74d6a7a03e2eae3195', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: I1e37ca2d522156c26926b54e66ebbb570692fa6f\n'}]",0,748654,b3f7acc571c44db6ec7a1f74d6a7a03e2eae3195,9,4,1,31289,,,0,"Add focal-victoria to the test gate

Change-Id: I1e37ca2d522156c26926b54e66ebbb570692fa6f
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/54/748654/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,b3f7acc571c44db6ec7a1f74d6a7a03e2eae3195,victoria-charm-gate,- focal-victoria,- focal-victoria,1,1
openstack%2Fproject-config~master~Ifb93a80b2bd4d06cef6e46b53872c3a74158bed6,openstack/project-config,master,Ifb93a80b2bd4d06cef6e46b53872c3a74158bed6,Create zuul/zuul-client,MERGED,2020-08-20 09:13:35.000000000,2020-09-02 09:05:00.000000000,2020-09-02 07:18:00.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 6889}, {'_account_id': 7186}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 28182}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 09:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a8e3cd0ddc69f4af223f92210d6172effc76fe25', 'message': 'Create zuul/zuul-cli\n\nThis repository is intended to contain the zuul command line client\nfor end users.\n\nChange-Id: Ifb93a80b2bd4d06cef6e46b53872c3a74158bed6\n'}, {'number': 2, 'created': '2020-08-20 09:33:00.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e1cd831c996262b194ff14ddbedf11af2601be9', 'message': 'Create zuul/zuul-client\n\nThis repository is intended to contain the zuul client for end users.\n\nChange-Id: Ifb93a80b2bd4d06cef6e46b53872c3a74158bed6\n'}]",0,747127,3e1cd831c996262b194ff14ddbedf11af2601be9,17,8,2,16068,,,0,"Create zuul/zuul-client

This repository is intended to contain the zuul client for end users.

Change-Id: Ifb93a80b2bd4d06cef6e46b53872c3a74158bed6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/747127/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,a8e3cd0ddc69f4af223f92210d6172effc76fe25,, - zuul/zuul-cli,,6,0
openstack%2Ftripleo-validations~master~I03575a5717456ad647cb10825b8d5646a55a6378,openstack/tripleo-validations,master,I03575a5717456ad647cb10825b8d5646a55a6378,Add validation to check status of ipa server,MERGED,2020-07-15 20:11:05.000000000,2020-09-02 08:55:23.000000000,2020-09-02 08:55:23.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-15 20:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e7da6990b64ea4c1d485a71f419a512edc7bb652', 'message': 'WIP: Add validation to check status of ipa server\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 2, 'created': '2020-07-17 17:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eedaaec47984a7dcba696e810c994df5a414700c', 'message': 'WIP: Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 3, 'created': '2020-07-21 19:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eb4332354b55af8f466994583e842bdc77f43d3c', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 4, 'created': '2020-07-31 19:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/30d08084a2343c26f9e71dc3d5cf7bb86ba16200', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 5, 'created': '2020-08-27 22:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fd9fc54d3425286052b22a72dbddec72a4f30637', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 6, 'created': '2020-08-28 16:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/33f5b63b215f38a2a7dc3f8f36dd97ecb06a2ec5', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 7, 'created': '2020-08-31 19:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1f9df4ac5ed194c91213c6118978f6748d7da4ae', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 8, 'created': '2020-08-31 20:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6ea2ad241d3886631b80905e9371f1ffabdaab87', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 9, 'created': '2020-08-31 21:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5a7f5e4da33ef745f33c245d16105352800af243', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 10, 'created': '2020-08-31 21:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/38830c5e5fa27896bda73aee8b6cf643ea4c6857', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 11, 'created': '2020-08-31 22:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f82f8ae53ae4603db9fae51702ccc47bb63597c6', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 12, 'created': '2020-08-31 22:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7657414b253efe68581f684235583c926c7b7276', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 13, 'created': '2020-09-01 00:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/16745051ef01d991ca3f6336ed337cf7805e7015', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 14, 'created': '2020-09-01 00:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bb3da815970bf3f1aac37325276f0c83a415f570', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 15, 'created': '2020-09-01 03:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/688e6e6f2d7d8e0f01547fa27f71e22005587b15', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 16, 'created': '2020-09-01 04:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8a1c0606f103ea17fe605ae215094f5d382bb0c5', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 17, 'created': '2020-09-01 04:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ac8ba8b2881f0c3ba0896a0838fb15861c17d8b7', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}, {'number': 18, 'created': '2020-09-01 17:23:45.000000000', 'files': ['roles/tls_everywhere/molecule/default/converge.yml', 'zuul.d/molecule.yaml', 'roles/tls_everywhere/molecule/default/prepare.yml', 'roles/tls_everywhere/vars/main.yml', 'roles/tls_everywhere/defaults/main.yml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a20e173447043f70f7eb09afb207d084bc93558', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n'}]",20,741313,9a20e173447043f70f7eb09afb207d084bc93558,47,6,18,9914,,,0,"Add validation to check status of ipa server

The latest changes to tls-e require certain permissions and ACIs
to be added to the IPA server in order to successfully add DNS entries
and to issue certs with IP SANs (for cinder A/A).

These changes cannot be automated as they require IPA admin or DS
credentials.  This adds a validation to make sure the required
permissions and ACLs are present before starting an install.

Change-Id: I03575a5717456ad647cb10825b8d5646a55a6378
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/13/741313/18 && git format-patch -1 --stdout FETCH_HEAD,['roles/tls_everywhere/tasks/ipa-server-check.yaml'],1,e7da6990b64ea4c1d485a71f419a512edc7bb652,deprecate_novajoin,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Changes have been - and possibly will be introduced in future - that # require changes in IPA permissions or ACLs. We do not have the permissions # to automatically make these changes, but we can include checks here to make # sure that they have occurred before attempting an overcloud or undercloud # update in a TLS-E environment. This playbook is supposed to fail with # an appropriate error message in case a requirement is not met. - name: Set facts needed for configuration set_fact: check_dns_aci: ""{{ check_dns_aci | default(True)}}"" undercloud_fqdn: ""{{ tripleo_undercloud_fqdn | default(ansible_hostname) }}"" - name: set dns zone and shortname set_fact: dns_zone: ""{{ undercloud_fqdn.split('.', 2)[1] }}"" short_hostname: ""{{ undercloud_fqdn.split('.')[0] }}"" - name: set failure messages set_fact: failures: [] fail_1: >- The IPA server does not have the required ACI to allow host entities to view dns records. Please add the ACI. fail_2: >- The nova/{{undercloud_fqdn}} user does not have the ""System: Modify Realm Domains"" privilege. Please add this privilege for this user on the IPA server. - name: check if undercloud is an ipa client stat: path: /etc/ipa/default.conf register: ipa_default_conf - name: perform ipa_server tests when: ipa_default_conf.stat.exists block: - name: check if ipa server has correct DNS ACI on host entries when: check_dns_aci block: - name: kinit as the host entity command: kinit host/{{ undercloud_fqdn }} -k -t /etc/krb5.keytab register: kinit changed_when: kinit.rc == 0 - name: try to view a dns record command: ipa dnsrecord-show {{dns_zone}} {{short_hostname}} register: dnsrecord_show ignore_errors: True - name: add failure message when zone is not found set_fact: failures: "" {{ failures }} + [ {{ fail_2 }} ]"" when: ""'DNS zone not found' in dnsrecord_show.stderr"" - name: check if nova service has the added permissions command: ipa service-show nova/{{ undercloud_fqdn }} --all --raw register: service_show - name: parse service data and fail if permission not present set_fact: failures: "" {{ failures }} + [ {{ fail_3 }} ]"" when: - ""'memberof: cn=System: Modify Realm Domains' not in service_show.stdout"" - name: fail if failures detected fail: msg: ""{{ failures }}"" when: ""{{ failures|length > 0 }}"" ",,85,0
openstack%2Fcyborg~master~I330a2c1fc70b578bd0215f79e919c1165177deb7,openstack/cyborg,master,I330a2c1fc70b578bd0215f79e919c1165177deb7,Correct spell error from `seperate` to `separate`,MERGED,2020-09-02 07:19:22.000000000,2020-09-02 08:54:42.000000000,2020-09-02 08:52:21.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 32245}]","[{'number': 1, 'created': '2020-09-02 07:19:22.000000000', 'files': ['cyborg/objects/driver_objects/driver_deployable.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3fdb4f67f18e1a300a0235da3ac848eb2b8b7055', 'message': 'Correct spell error from `seperate` to `separate`\n\nChange-Id: I330a2c1fc70b578bd0215f79e919c1165177deb7\n'}]",0,749448,3fdb4f67f18e1a300a0235da3ac848eb2b8b7055,8,3,1,31412,,,0,"Correct spell error from `seperate` to `separate`

Change-Id: I330a2c1fc70b578bd0215f79e919c1165177deb7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/48/749448/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/driver_objects/driver_deployable.py'],1,3fdb4f67f18e1a300a0235da3ac848eb2b8b7055,, stored in separate db tables: deployable & attach_handle &, stored in seperate db tables: deployable & attach_handle &,1,1
openstack%2Frequirements~stable%2Ftrain~I323daa330448a4cbb42119587b0dd6594a305019,openstack/requirements,stable/train,I323daa330448a4cbb42119587b0dd6594a305019,Move neutron-grenade-multinode to nv for stable/train,ABANDONED,2020-09-01 14:13:37.000000000,2020-09-02 08:51:42.000000000,,"[{'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 14:13:37.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c65faf699b38a08d6718d69d9388e178dfb9aba7', 'message': 'Move neutron-grenade-multinode to nv for stable/train\n\nChange-Id: I323daa330448a4cbb42119587b0dd6594a305019\n'}]",0,749292,c65faf699b38a08d6718d69d9388e178dfb9aba7,7,3,1,16515,,,0,"Move neutron-grenade-multinode to nv for stable/train

Change-Id: I323daa330448a4cbb42119587b0dd6594a305019
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/749292/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,c65faf699b38a08d6718d69d9388e178dfb9aba7,neutron/grenade/nv, voting: false voting: false,,2,1
openstack%2Fpython-octaviaclient~stable%2Fussuri~I1b55151361749ea04b2d17038509aa985e005819,openstack/python-octaviaclient,stable/ussuri,I1b55151361749ea04b2d17038509aa985e005819,Cap pylint for stable branches,MERGED,2020-08-25 20:12:29.000000000,2020-09-02 08:51:11.000000000,2020-09-02 08:48:44.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 20:12:29.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/e56989bea517c85d01a283d3324c740510990419', 'message': 'Cap pylint for stable branches\n\nThis patch caps the pylint version used on the Octavia stable\nussuri branche to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will cap pylint to 2.5.3.\n\nChange-Id: I1b55151361749ea04b2d17038509aa985e005819\n'}]",0,748024,e56989bea517c85d01a283d3324c740510990419,8,3,1,11628,,,0,"Cap pylint for stable branches

This patch caps the pylint version used on the Octavia stable
ussuri branche to 2.5.3.
As time passes, the lint tools add new rules, many related to new
python versions that the stable branches may not support.
This patch will cap pylint to 2.5.3.

Change-Id: I1b55151361749ea04b2d17038509aa985e005819
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/24/748024/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e56989bea517c85d01a283d3324c740510990419,,"pylint>=2.2.0,<=2.5.3 # GPLv2",pylint>=2.2.0 # GPLv2,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Ifd72b7352b78ca64b9a0ae33e26c0abd9668e6b7,openstack/tripleo-ansible,stable/train,Ifd72b7352b78ca64b9a0ae33e26c0abd9668e6b7,[WIP] move molecule jobs to centos-8,ABANDONED,2020-08-21 07:31:28.000000000,2020-09-02 08:40:45.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-08-21 07:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/625641af2d4a995f18e3f5052ebe9385b588d809', 'message': '[WIP] move molecule jobs to centos-8\n\nChange-Id: Ifd72b7352b78ca64b9a0ae33e26c0abd9668e6b7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-21 11:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2e8765a50e9ea73b4ad2332bd77ed2f6e5a256e', 'message': '[WIP] move molecule jobs to centos-8\n\nChange-Id: Ifd72b7352b78ca64b9a0ae33e26c0abd9668e6b7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-24 07:31:37.000000000', 'files': ['zuul.d/molecule.yaml', 'role-addition.yml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a36f887eafc4c37cedbc3e8bdcaad3e0ff286b24', 'message': '[WIP] move molecule jobs to centos-8\n\nChange-Id: Ifd72b7352b78ca64b9a0ae33e26c0abd9668e6b7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,747348,a36f887eafc4c37cedbc3e8bdcaad3e0ff286b24,7,4,3,12393,,,0,"[WIP] move molecule jobs to centos-8

Change-Id: Ifd72b7352b78ca64b9a0ae33e26c0abd9668e6b7
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/747348/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/base.yaml']",2,625641af2d4a995f18e3f5052ebe9385b588d809,moleculec8, name: tripleo-ansible-centos-8-base nodeset: centos-8, name: tripleo-ansible-centos-7-base nodeset: centos-7,170,170
openstack%2Fopenstack-ansible-os_cloudkitty~stable%2Fussuri~I98d5df7c87b94d8135b24a42941c109365cd1432,openstack/openstack-ansible-os_cloudkitty,stable/ussuri,I98d5df7c87b94d8135b24a42941c109365cd1432,Add CentOS 8 and Ubuntu Focal support,MERGED,2020-09-01 16:08:56.000000000,2020-09-02 08:06:05.000000000,2020-09-02 08:04:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-01 16:08:56.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/16ba770bb38ed7f0e4d6992e46623d1bf217c0d7', 'message': 'Add CentOS 8 and Ubuntu Focal support\n\nChange-Id: I98d5df7c87b94d8135b24a42941c109365cd1432\n(cherry picked from commit d1ce3f060af074d20277b8f772bf153b17bc7f19)\n'}]",0,749355,16ba770bb38ed7f0e4d6992e46623d1bf217c0d7,12,4,1,28619,,,0,"Add CentOS 8 and Ubuntu Focal support

Change-Id: I98d5df7c87b94d8135b24a42941c109365cd1432
(cherry picked from commit d1ce3f060af074d20277b8f772bf153b17bc7f19)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/55/749355/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,16ba770bb38ed7f0e4d6992e46623d1bf217c0d7,osa/el8-stable/ussuri,, - python-systemd,1,2
openstack%2Fcharm-ceph-iscsi~master~Iadd8bb5c08453b5650bb166d559ef942571931ba,openstack/charm-ceph-iscsi,master,Iadd8bb5c08453b5650bb166d559ef942571931ba,Add doc strings,MERGED,2020-09-02 06:52:37.000000000,2020-09-02 07:47:31.000000000,2020-09-02 07:47:31.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 06:52:37.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/b869dd526443452d819bb35e4051bec40d2e33d4', 'message': 'Add doc strings\n\nAdd doc strings and a small amount of tidy-up too.\n\nChange-Id: Iadd8bb5c08453b5650bb166d559ef942571931ba\n'}]",0,749445,b869dd526443452d819bb35e4051bec40d2e33d4,7,3,1,12549,,,0,"Add doc strings

Add doc strings and a small amount of tidy-up too.

Change-Id: Iadd8bb5c08453b5650bb166d559ef942571931ba
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/45/749445/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,b869dd526443452d819bb35e4051bec40d2e33d4,more-docstrings,"# Copyright 2020 Canonical Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Charm for deploying and maintaining the Ceph iSCSI service."""""" """"""Adapter for ceph client interface."""""" """"""Sorted list of ceph mon addresses. :returns: Ceph MON addresses. :rtype: str """""" """"""Authention type. :returns: Authention type :rtype: str """""" """"""Key client should use when communicating with Ceph cluster. :returns: Key :rtype: str """"""class GatewayClientPeerAdapter( ops_openstack.adapters.OpenStackOperRelationAdapter): """"""Adapter for Ceph iSCSI peer interface."""""" """"""List of peer addresses. :returns: Ceph iSCSI peer addresses. :rtype: str """""" """"""List of IP addresses permitted to use API. :returns: Ceph iSCSI trusted ips. :rtype: str """""" """"""Adapter for Ceph TLS Certificates interface."""""" """"""Whether to enable TLS. :returns: Whether TLS should be enabled :rtype: bool """""" """"""Collection of relation adapters."""""" """"""Ceph iSCSI Base Charm."""""" """"""Setup adapters and observers."""""" """"""Install packages and check substrate is supported."""""" """"""Setup and share admin password."""""" """"""Request pools from Ceph cluster."""""" """"""Re-request Ceph pools and render config."""""" """"""Render config and restart services if config files change."""""" """"""Request TLS certificates."""""" """"""Configure TLS."""""" """"""Custom update status checks."""""" """"""Add an IP to the allowed list for API access."""""" """"""Create an iSCSI taget.""""""class CephISCSIGatewayCharmOcto(CephISCSIGatewayCharmBase): """"""Ceph iSCSI Charm for Octopus."""""""," def __init__(self, relation): super(CephClientAdapter, self).__init__(relation)class PeerAdapter(ops_openstack.adapters.OpenStackOperRelationAdapter): def __init__(self, relation): super(PeerAdapter, self).__init__(relation) class GatewayClientPeerAdapter(PeerAdapter): def __init__(self, relation): super(GatewayClientPeerAdapter, self).__init__(relation) def __init__(self, relation): super(TLSCertificatesAdapter, self).__init__(relation) print(""Defering setup admin"") print(""Defering setup pools"")class CephISCSIGatewayCharmJewel(CephISCSIGatewayCharmBase): state = StoredState() release = 'jewel' @ops_openstack.core.charm_class class CephISCSIGatewayCharmOcto(CephISCSIGatewayCharmBase):",65,25
openstack%2Fneutron-lib~master~Ib576170fcc3000e418ae28179559d67f20de4efc,openstack/neutron-lib,master,Ib576170fcc3000e418ae28179559d67f20de4efc,Use importlib to take place of imp module,MERGED,2020-08-29 16:53:47.000000000,2020-09-02 07:40:44.000000000,2020-09-02 07:37:51.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-08-29 16:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1582cb2a7f4a0a0c6d2405e329393dc58b04f61e', 'message': 'Use importlib to take place of im module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: Ib576170fcc3000e418ae28179559d67f20de4efc\n'}, {'number': 2, 'created': '2020-08-30 11:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c8a75c3556969a84d50567dde75a008471d5c1cc', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html#imp.reload\n\nChange-Id: Ib576170fcc3000e418ae28179559d67f20de4efc\n'}, {'number': 3, 'created': '2020-08-30 11:39:01.000000000', 'files': ['tools/pyir.py', 'neutron_lib/tests/unit/api/definitions/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/323364f234de57d560c657a7d4d9a9efad58842d', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html\n\nChange-Id: Ib576170fcc3000e418ae28179559d67f20de4efc\n'}]",2,748815,323364f234de57d560c657a7d4d9a9efad58842d,14,5,3,30356,,,0,"Use importlib to take place of imp module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html

Change-Id: Ib576170fcc3000e418ae28179559d67f20de4efc
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/15/748815/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/pyir.py', 'neutron_lib/tests/unit/api/definitions/base.py']",2,1582cb2a7f4a0a0c6d2405e329393dc58b04f61e,,import importlib mod = importlib.load_module(ext_path),"import imp mod = imp.load_source(mod_name, ext_path)",4,4
openstack%2Fneutron~master~I7c4a611c5271377d71d6ed31f9a09869ae010135,openstack/neutron,master,I7c4a611c5271377d71d6ed31f9a09869ae010135,Fix R1720 pylint error in test_utils,MERGED,2020-08-28 21:23:45.000000000,2020-09-02 07:40:06.000000000,2020-09-02 07:37:14.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-28 21:23:45.000000000', 'files': ['neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a39be9cb87e2426b4ff1fdd33cdcc9caa335ab4', 'message': 'Fix R1720 pylint error in test_utils\n\nR1720: Unnecessary ""else"" after ""raise"" (no-else-raise)\n\nTrivialfix\n\nChange-Id: I7c4a611c5271377d71d6ed31f9a09869ae010135\n'}]",0,748756,5a39be9cb87e2426b4ff1fdd33cdcc9caa335ab4,15,8,1,1131,,,0,"Fix R1720 pylint error in test_utils

R1720: Unnecessary ""else"" after ""raise"" (no-else-raise)

Trivialfix

Change-Id: I7c4a611c5271377d71d6ed31f9a09869ae010135
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/748756/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/common/test_utils.py'],1,5a39be9cb87e2426b4ff1fdd33cdcc9caa335ab4,R1720, calls(i), else: calls(i),1,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I11aa72e535e805851d32e99c70716dd6b4a41d0d,openstack/tripleo-heat-templates,stable/queens,I11aa72e535e805851d32e99c70716dd6b4a41d0d,Fixes wrong package name for mariadb-galera-server,ABANDONED,2018-12-11 13:53:22.000000000,2020-09-02 07:38:15.000000000,,"[{'_account_id': 8449}, {'_account_id': 10068}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-11 13:53:22.000000000', 'files': ['docker/services/pacemaker/database/mysql.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a5b7042371bab8d9bb573d4a2ec07f27c515ee0', 'message': 'Fixes wrong package name for mariadb-galera-server\n\nThe original code was tried to install mariadb-server-galera which does not exist.\n\nChange-Id: I11aa72e535e805851d32e99c70716dd6b4a41d0d\nCloses-Bug: #1807958\n'}]",3,624402,3a5b7042371bab8d9bb573d4a2ec07f27c515ee0,7,5,1,29649,,,0,"Fixes wrong package name for mariadb-galera-server

The original code was tried to install mariadb-server-galera which does not exist.

Change-Id: I11aa72e535e805851d32e99c70716dd6b4a41d0d
Closes-Bug: #1807958
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/624402/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/database/mysql.yaml'],1,3a5b7042371bab8d9bb573d4a2ec07f27c515ee0,bug/1807958, yum: name=mariadb-galera-server state=latest, yum: name=mariadb-server-galera state=latest,1,1
openstack%2Fneutron~master~I5439adf2c4b7dcf832241201fd949f6930e65fdf,openstack/neutron,master,I5439adf2c4b7dcf832241201fd949f6930e65fdf,Fix unnecessary security_groups_member_updated notification,MERGED,2017-09-29 08:52:23.000000000,2020-09-02 07:17:57.000000000,2018-02-15 04:29:11.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 10518}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2017-09-29 08:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c77717073f764c5cb69b1a01bba3f30fd7a98ca6', 'message': ""Remove unnecessary security_groups_member_updated notification\n\nnotify_sg_on_port_change will cause unnecessary notification to\nneutron-l2-agents when port update, for example like port's name\nupdating will also notfiy.\n\nnotify_sg_on_port_change will only be needed when port's\nSecurity Group update or port IP change, which has done in neutron.\n\nChange-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf\nCloses-Bug: #1720322\n""}, {'number': 2, 'created': '2017-10-16 14:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/469d2fca7ebace8c3ae7a7a19606bcba80e4942b', 'message': ""Fix unnecessary security_groups_member_updated notification\n\nnotify_sg_on_port_change will cause unnecessary notification to\nneutron-l2-agents when port update, for example like port's name\nupdating will also notfiy.\n\nnotify_sg_on_port_change will only be needed when port's\nSecurity Group update or port IP change.\n\nChange-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf\nCloses-Bug: #1720322\n""}, {'number': 3, 'created': '2018-02-11 08:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b174d1a3acc955219582225f678d3dd00b78ec05', 'message': ""Fix unnecessary security_groups_member_updated notification\n\nnotify_sg_on_port_change will cause unnecessary notification to\nneutron-l2-agents when port update, for example like port's name\nupdating will also notfiy.\n\nnotify_sg_on_port_change will only be needed when port's\nSecurity Group update or port IP change.\n\nChange-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf\nCloses-Bug: #1720322\n""}, {'number': 4, 'created': '2018-02-11 08:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e65554c753cfbd101af2b306e4109103bd9169b', 'message': ""Fix unnecessary security_groups_member_updated notification\n\nnotify_sg_on_port_change will cause unnecessary notification to\nneutron-l2-agents when port update, for example like port's name\nupdating will also notfiy.\n\nnotify_sg_on_port_change will only be needed when port's\nSecurity Group update or port IP change.\n\nChange-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf\nCloses-Bug: #1720322\n""}, {'number': 5, 'created': '2018-02-12 02:15:08.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/530d97141acb63dfe02566bda0a7e78fb058b6b0', 'message': ""Fix unnecessary security_groups_member_updated notification\n\nnotify_sg_on_port_change will cause unnecessary notification to\nneutron-l2-agents when port update, for example like port's name\nupdating will also notify.\n\nnotify_sg_on_port_change will only be needed when port's\nSecurity Group update or port IP change.\n\nChange-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf\nCloses-Bug: #1720322\n""}]",2,508446,530d97141acb63dfe02566bda0a7e78fb058b6b0,33,10,5,10518,,,0,"Fix unnecessary security_groups_member_updated notification

notify_sg_on_port_change will cause unnecessary notification to
neutron-l2-agents when port update, for example like port's name
updating will also notify.

notify_sg_on_port_change will only be needed when port's
Security Group update or port IP change.

Change-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf
Closes-Bug: #1720322
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/508446/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_rpc_base.py'],1,c77717073f764c5cb69b1a01bba3f30fd7a98ca6,bug/1720322,," events.AFTER_UPDATE,",0,1
openstack%2Fmistral-dashboard~master~I29eae255a0cb87c41d1d739e3bb608c303c5b9b8,openstack/mistral-dashboard,master,I29eae255a0cb87c41d1d739e3bb608c303c5b9b8,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 14:00:20.000000000,2020-09-02 07:13:35.000000000,2020-09-02 07:13:35.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 14:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/94dbde91488159b4c12a59729d08ef021cac8120', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40196\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I29eae255a0cb87c41d1d739e3bb608c303c5b9b8\n'}, {'number': 2, 'created': '2020-08-04 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/195874606c178676514f3e7bf8467dee4181d8aa', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40196\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I29eae255a0cb87c41d1d739e3bb608c303c5b9b8\n'}, {'number': 3, 'created': '2020-08-20 14:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/99c1cb27859b4f8c98d8545f2ab4c8c3883bf718', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40196\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I29eae255a0cb87c41d1d739e3bb608c303c5b9b8\n'}, {'number': 4, 'created': '2020-09-01 16:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/eaba12364a6eb96911aa6c787841e06eb2a7c1b7', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40196\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I29eae255a0cb87c41d1d739e3bb608c303c5b9b8\n'}, {'number': 5, 'created': '2020-09-01 16:28:42.000000000', 'files': ['test-requirements.txt', 'mistraldashboard/test/settings.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/c9e8d95c0945d7f6354c3b7198823d3cd56b27cf', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\nCloses-Bug: #1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40196\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\nChange-Id: I29eae255a0cb87c41d1d739e3bb608c303c5b9b8\n'}]",0,744718,c9e8d95c0945d7f6354c3b7198823d3cd56b27cf,16,3,5,29313,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
Closes-Bug: #1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40196

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html
Change-Id: I29eae255a0cb87c41d1d739e3bb608c303c5b9b8
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/18/744718/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,94dbde91488159b4c12a59729d08ef021cac8120,migrate-to-focal,#test-focal,,1,0
openstack%2Fsenlin-tempest-plugin~master~I0f7d623d58072bc3b7761a3c70832298cbc00de1,openstack/senlin-tempest-plugin,master,I0f7d623d58072bc3b7761a3c70832298cbc00de1,Remove all usage of six library,MERGED,2020-05-06 16:00:21.000000000,2020-09-02 07:03:15.000000000,2020-09-02 07:03:15.000000000,"[{'_account_id': 6348}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 9323}, {'_account_id': 11034}, {'_account_id': 15857}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23401}, {'_account_id': 23517}, {'_account_id': 25395}, {'_account_id': 25674}, {'_account_id': 27224}, {'_account_id': 28614}, {'_account_id': 30356}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-05-06 16:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/af98d326c186c797cec45cdbf86f1fe15a68aab0', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I0f7d623d58072bc3b7761a3c70832298cbc00de1\n'}, {'number': 2, 'created': '2020-05-06 16:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/9c56909437ad3492e64565e1a98426222f9ad417', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I0f7d623d58072bc3b7761a3c70832298cbc00de1\n'}, {'number': 3, 'created': '2020-05-07 16:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/3bbb6b60e87c85c6bd82c55c3f69d6637a5fcea2', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I0f7d623d58072bc3b7761a3c70832298cbc00de1\n'}, {'number': 4, 'created': '2020-05-20 01:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/49380b925ff2e1c01cfd9386509af9b6f637afd1', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I0f7d623d58072bc3b7761a3c70832298cbc00de1\n'}, {'number': 5, 'created': '2020-07-02 05:03:36.000000000', 'files': ['requirements.txt', 'senlin_tempest_plugin/common/compute_client.py', 'senlin_tempest_plugin/tests/integration/test_nova_server_cluster.py', 'senlin_tempest_plugin/common/clustering_client.py', 'senlin_tempest_plugin/tests/api/clusters/test_cluster_policy_attach.py'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/a85b110a1dafff478320931878e75e0591e4158c', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I0f7d623d58072bc3b7761a3c70832298cbc00de1\n'}]",3,725915,a85b110a1dafff478320931878e75e0591e4158c,40,17,5,28614,,,0,"Remove all usage of six library

Convert all code to not require six library and instead
use python 3.x logic.

Change-Id: I0f7d623d58072bc3b7761a3c70832298cbc00de1
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/15/725915/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'senlin_tempest_plugin/common/compute_client.py', 'senlin_tempest_plugin/tests/integration/test_nova_server_cluster.py', 'senlin_tempest_plugin/common/clustering_client.py', 'senlin_tempest_plugin/tests/api/clusters/test_cluster_policy_attach.py']",5,af98d326c186c797cec45cdbf86f1fe15a68aab0,,,import six,3,6
openstack%2Fnova~master~I147bf4d95e6d86ff1f967a8ce37260730f21d236,openstack/nova,master,I147bf4d95e6d86ff1f967a8ce37260730f21d236,Cyborg evacuate support,MERGED,2020-03-26 23:05:46.000000000,2020-09-02 06:56:18.000000000,2020-09-02 04:30:10.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24872}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31412}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-26 23:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baa9edbc2c52fe2028e783d83285a309259f00de', 'message': '[WIP] cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nNote this patch does not create and bind arqs\nat the correct point to fully fix evac but\nit does correct the placment allocations.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 2, 'created': '2020-03-27 14:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac2ecf98775e3ccce1bf9a3025fdb13c2162ca03', 'message': '[WIP] cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nNote this patch does not create and bind arqs\nat the correct point to fully fix evac but\nit does correct the placment allocations.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 3, 'created': '2020-03-31 00:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/660d08796e6dfec6a10ebef31115dd0381ebdf43', 'message': '[WIP] cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis is not tested yet so im just pushing what i have locally\nbefore i redeploy to test it.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 4, 'created': '2020-03-31 20:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47eba4769359797622bb30c7a03070c610b5e096', 'message': '[WIP] cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 5, 'created': '2020-04-03 01:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d576810d14ece26d630a3a9210cacabbdaae758e', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 6, 'created': '2020-04-07 22:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fce9bbb6aafb2aa75520742600ca13edf63a1ca', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 7, 'created': '2020-04-08 13:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d65a44d1e81e5aabab71f687271c269ca22ac008', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 8, 'created': '2020-04-22 04:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2a2062614d7e789547f0e808b38e6dffe242c62', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 9, 'created': '2020-04-22 05:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca9e34a3c9ac74778dedb720f2b825918178ebf8', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 10, 'created': '2020-05-13 10:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c27f5f5622635c6c21f959f4796f009210d0d97', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 11, 'created': '2020-05-14 09:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83d9cfb81a0150af34af5c0aa968264232a94526', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 12, 'created': '2020-05-21 13:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/182f93b6edc4c5b2fdef7927cf6931ed079874c8', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 13, 'created': '2020-05-22 05:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fa38a3ab923fafb99932adb0ba0376a036f5826', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 14, 'created': '2020-06-26 08:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/140dbd199e9c3ca7a58668662e795e1febfd5a86', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 15, 'created': '2020-07-02 00:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00febc2d82fde6a2751363ef4ed2d7963235fc06', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 16, 'created': '2020-07-30 02:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7be5ef138b369fb2f81a0034111909d246775aef', 'message': 'cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n(cherry picked from commit 20ffaa98830b8c35f60fbe4e5c7578f8cdae9324)\n'}, {'number': 17, 'created': '2020-08-01 08:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78fec5f375a04ac82040d372ac1ad140669bbffe', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 18, 'created': '2020-08-03 03:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9998068ce34aa744e39577e001ba00d31cb0f5db', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 19, 'created': '2020-08-25 08:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3ea1d3b805c1285d016c33637207045c8abbc0d', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created an bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 20, 'created': '2020-08-26 08:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e766d76ab0a2692053a20b49543abea4906c82cd', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 21, 'created': '2020-08-26 08:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80fa007217bdef43104e884767cf3b712cc4d2a3', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 22, 'created': '2020-08-27 02:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8085ab332fa71a039c6a085dc90629799731010', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 23, 'created': '2020-08-28 08:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c323d6f2599a699c5a0db9b262fdbc33a385c39', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 24, 'created': '2020-08-28 12:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9f3df86df7a8245265d1a008ddbc0996d0e547d', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 25, 'created': '2020-08-29 01:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acbdd0a4a584ac176ce48986886a427e4f8d8ad6', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 26, 'created': '2020-08-29 06:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7067ebbaff5c54c8b92b5e7413c0b947cdc41b55', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 27, 'created': '2020-08-29 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5a1c8b26557a2be852e8d1fc5c9e8e710e0c80a', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 28, 'created': '2020-08-31 12:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f837a6b754df41c31da25ad10af6eccdc39f03ef', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}, {'number': 29, 'created': '2020-09-01 08:41:51.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/objects/service.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'api-guide/source/accelerator-support.rst', 'nova/accelerator/cyborg.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1356ef5b571f80d9fc9a0284034e853cb9c97233', 'message': 'Cyborg evacuate support\n\nThis change extends the conductor manager\nto append the cyborg resource request to the\nrequest spec when performing an evacuate.\n\nThis change passes the ARQs to spawn during rebuild\nand evacuate. On evacuate the existing ARQs will be deleted\nand new ARQs will be created and bound, during rebuild the\nexisting ARQs are reused.\n\nThis change extends the rebuild_instance compute rpcapi\nfunction to carry the arq_uuids. This eliminates the\nneed to lookup the uuids associated with the arqs assinged\nto the instance by quering cyborg.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nImplements: blueprint cyborg-rebuild-and-evacuate\nChange-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236\n'}]",206,715326,1356ef5b571f80d9fc9a0284034e853cb9c97233,296,21,29,11604,,,0,"Cyborg evacuate support

This change extends the conductor manager
to append the cyborg resource request to the
request spec when performing an evacuate.

This change passes the ARQs to spawn during rebuild
and evacuate. On evacuate the existing ARQs will be deleted
and new ARQs will be created and bound, during rebuild the
existing ARQs are reused.

This change extends the rebuild_instance compute rpcapi
function to carry the arq_uuids. This eliminates the
need to lookup the uuids associated with the arqs assinged
to the instance by quering cyborg.

Co-Authored-By: Wenping Song <songwenping@inspur.com>
Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Implements: blueprint cyborg-rebuild-and-evacuate
Change-Id: I147bf4d95e6d86ff1f967a8ce37260730f21d236
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/715326/27 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,baa9edbc2c52fe2028e783d83285a309259f00de,bp/cyborg-rebuild-and-evacuate," external_resources = [] external_resources += ( extra_specs = request_spec.flavor.extra_specs device_profile = extra_specs.get('accel:device_profile') external_resources.extend( cyborg.get_device_profile_request_groups( context,device_profile) if device_profile else []) request_spec.requested_resources = external_resources", port_res_req = ( request_spec.requested_resources = port_res_req,10,2
openstack%2Fos-brick~stable%2Ftrain~Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,openstack/os-brick,stable/train,Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,iSCSI detect multipath DM with no WWN,MERGED,2020-08-28 11:09:03.000000000,2020-09-02 06:40:49.000000000,2020-09-01 22:08:03.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-28 11:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c6d374635223df4f38ee0e9b02246ae66263d9ba', 'message': ""iSCSI detect multipath DM with no WWN\n\nIf udev rules are slow (or don't happen) and they don't generate the\nsymlinks we use to detect the WWN, or if we just fail to find the WWN we\nend up not detecting the iSCSI multipath even if it is present in the\nsystem.\n\nWith this patch we no longer wait to find the WWN before trying to\nlocate the multipath device.\n\nThis means that as long as the multipath daemon is able to generate the\nmultipath we will be able to return a multipath device path to the\ncaller.\n\nCloses-Bug: 1881619\nChange-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2\n(cherry picked from commit 63f52be546b4bb4689e400521bea48ce25daa703)\n(cherry picked from commit a04e553add6c2258efd7f044248ac5b401166189)\n""}, {'number': 2, 'created': '2020-09-01 15:23:38.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/improve-iscsi-multipath-detection-f36f28a993f61936.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/57ac89910e674880318e07c5a8ff7281ba78b9e5', 'message': ""iSCSI detect multipath DM with no WWN\n\nIf udev rules are slow (or don't happen) and they don't generate the\nsymlinks we use to detect the WWN, or if we just fail to find the WWN we\nend up not detecting the iSCSI multipath even if it is present in the\nsystem.\n\nWith this patch we no longer wait to find the WWN before trying to\nlocate the multipath device.\n\nThis means that as long as the multipath daemon is able to generate the\nmultipath we will be able to return a multipath device path to the\ncaller.\n\nThis backport has been tuned to properly work with Python 2 too, where\nthe number of calls to get_wwn_mock may be higher than 2\nbecause the thread may not start immediately as it happens on Python 3.x.\n\nCloses-Bug: 1881619\nChange-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2\n(cherry picked from commit 63f52be546b4bb4689e400521bea48ce25daa703)\n(cherry picked from commit a04e553add6c2258efd7f044248ac5b401166189)\n""}]",1,748604,57ac89910e674880318e07c5a8ff7281ba78b9e5,18,8,2,10459,,,0,"iSCSI detect multipath DM with no WWN

If udev rules are slow (or don't happen) and they don't generate the
symlinks we use to detect the WWN, or if we just fail to find the WWN we
end up not detecting the iSCSI multipath even if it is present in the
system.

With this patch we no longer wait to find the WWN before trying to
locate the multipath device.

This means that as long as the multipath daemon is able to generate the
multipath we will be able to return a multipath device path to the
caller.

This backport has been tuned to properly work with Python 2 too, where
the number of calls to get_wwn_mock may be higher than 2
because the thread may not start immediately as it happens on Python 3.x.

Closes-Bug: 1881619
Change-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2
(cherry picked from commit 63f52be546b4bb4689e400521bea48ce25daa703)
(cherry picked from commit a04e553add6c2258efd7f044248ac5b401166189)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/04/748604/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/improve-iscsi-multipath-detection-f36f28a993f61936.yaml']",3,c6d374635223df4f38ee0e9b02246ae66263d9ba,improve-iscsi-multipath-detection,--- fixes: - | Improve iSCSI multipath detection to work even if we cannot find the volume's WWN in sysfs. (bug 1881619). ,,45,3
openstack%2Fopenstack-tempest-skiplist~master~I6f27d0d842a30dd1d8faf4996b2e614887e2489a,openstack/openstack-tempest-skiplist,master,I6f27d0d842a30dd1d8faf4996b2e614887e2489a,Adding test_shelve_unshelve_server to skiplist,MERGED,2020-08-31 08:24:12.000000000,2020-09-02 06:36:38.000000000,2020-09-02 06:34:58.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-31 08:24:12.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f889e1471c5a81374ea45aa211027e51ee356e4a', 'message': 'Adding test_shelve_unshelve_server to skiplist\n\nThis test is failing constantly in the promotion component pipeline.\n\nChange-Id: I6f27d0d842a30dd1d8faf4996b2e614887e2489a\nRelated-Bug: #1893618\n'}]",0,748974,f889e1471c5a81374ea45aa211027e51ee356e4a,10,5,1,8367,,,0,"Adding test_shelve_unshelve_server to skiplist

This test is failing constantly in the promotion component pipeline.

Change-Id: I6f27d0d842a30dd1d8faf4996b2e614887e2489a
Related-Bug: #1893618
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/74/748974/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,f889e1471c5a81374ea45aa211027e51ee356e4a,, - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_shelve_unshelve_server' deployment: 'overcloud' releases: - name: 'master' reason: 'Failing with request timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1893618' jobs: [],,7,0
openstack%2Fswift~stable%2Fussuri~I00c6693c42c1a0220b64d8016d380d5985339658,openstack/swift,stable/ussuri,I00c6693c42c1a0220b64d8016d380d5985339658,py3: Work with proper native string paths in crypto meta,MERGED,2020-08-30 17:24:24.000000000,2020-09-02 06:32:06.000000000,2020-09-02 06:29:14.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 17:24:24.000000000', 'files': ['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8ed74c264605e12717c93e9b07f4ff50924e619f', 'message': 'py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nAdd the ability to read and write a new, unambiguous version of metadata\nthat always has the path as a native string. To support rolling\nupgrades, a new config option is added: meta_version_to_write. This\ndefaults to 2 to support rolling upgrades without configuration changes,\nbut the default may change to 3 in a future release.\n\nUpgradeImpact\n=============\nWhen upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set\n\n    meta_version_to_write = 1\n\nin your keymaster\'s configuration. Regardless of prior Swift version, set\n\n    meta_version_to_write = 3\n\nafter upgrading all proxy servers.\n\nWhen switching from Python 2 to Python 3, first upgrade Swift while on\nPython 2, then upgrade to Python 3.\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n(cherry picked from commit 7d429318ddb854a23cdecfe35721b1ecbe8bcccc)\n'}]",0,748882,8ed74c264605e12717c93e9b07f4ff50924e619f,17,2,1,15343,,,0,"py3: Work with proper native string paths in crypto meta

Previously, we would work with these paths as WSGI strings -- this would
work fine when all data were read and written on the same major version
of Python, but fail pretty badly during and after upgrading Python.

In particular, if a py3 proxy-server tried to read existing data that
was written down by a py2 proxy-server, it would hit an error and
respond 500. Worse, if an un-upgraded py2 proxy tried to read data that
was freshly-written by a py3 proxy, it would serve corrupt data back to
the client (including a corrupt/invalid ETag and Content-Type).

Now, ensure that both py2 and py3 write down paths as native strings.
Make an effort to still work with WSGI-string metadata, though it can be
ambiguous as to whether a string is a WSGI string or not. The heuristic
used is if

 * the path from metadata does not match the (native-string) request
   path and
 * the path from metadata (when interpreted as a WSGI string) can be
   ""un-wsgi-fied"" without any encode/decode errors and
 * the native-string path from metadata *does* match the native-string
   request path

then trust the path from the request. By contrast, we usually prefer the
path from metadata in case there was a pipeline misconfiguration (see
related bug).

Add the ability to read and write a new, unambiguous version of metadata
that always has the path as a native string. To support rolling
upgrades, a new config option is added: meta_version_to_write. This
defaults to 2 to support rolling upgrades without configuration changes,
but the default may change to 3 in a future release.

UpgradeImpact
=============
When upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set

    meta_version_to_write = 1

in your keymaster's configuration. Regardless of prior Swift version, set

    meta_version_to_write = 3

after upgrading all proxy servers.

When switching from Python 2 to Python 3, first upgrade Swift while on
Python 2, then upgrade to Python 3.

Change-Id: I00c6693c42c1a0220b64d8016d380d5985339658
Closes-Bug: #1888037
Related-Bug: #1813725
(cherry picked from commit 7d429318ddb854a23cdecfe35721b1ecbe8bcccc)
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/748882/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py']",4,8ed74c264605e12717c93e9b07f4ff50924e619f,bug/1888037-stable/ussuri,"import six self.verify_v3_keys_for_path( self.verify_v3_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v3_keys_for_path( def test_unicode_object_path(self): # NB: path is WSGI self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) # Double-whammy: *also* hit the os.path.join issue self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) def verify_v3_keys_for_path(self, wsgi_path, expected_keys, key_id=None): self.app.meta_version_to_write = '3' method, '/v1' + wsgi_path, resp_class, resp_headers, b'') '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) path = swob.wsgi_to_str(wsgi_path) self.assertEqual('3', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys def verify_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) def verify_v1_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None self.app.meta_version_to_write = '1' for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if '//' in path: path = path[path.index('//') + 1:] if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) self.assertEqual('1', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys for version in ('1', '2', '3'): for version in ('1', '2', '3'): def test_v2_keys(self): secrets = {None: os.urandom(32), '22': os.urandom(33)} conf = {} for secret_id, secret in secrets.items(): opt = ('encryption_root_secret%s' % (('_%s' % secret_id) if secret_id else '')) conf[opt] = base64.b64encode(secret) conf['active_root_secret_id'] = '22' self.app = keymaster.KeyMaster(self.swift, conf) orig_create_key = self.app.create_key calls = [] def mock_create_key(path, secret_id=None): calls.append((path, secret_id)) return orig_create_key(path, secret_id) container = u'\N{SNOWMAN}' obj = u'\N{SNOWFLAKE}' if six.PY2: container = container.encode('utf-8') obj = obj.encode('utf-8') good_con_path = '/a/%s' % container good_path = '/a/%s/%s' % (container, obj) if six.PY2: mangled_con_path = ('/a/%s' % container).decode( 'latin-1').encode('utf-8') mangled_path = ('/a/%s/%s' % ( container, obj)).decode('latin-1').encode('utf-8') else: mangled_con_path = ('/a/%s' % container).encode( 'utf-8').decode('latin-1') mangled_path = ('/a/%s/%s' % ( container, obj)).encode('utf-8').decode('latin-1') context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2', '3'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': good_path}) key_id_path = (good_path if version == '3' or six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': mangled_path}) key_id_path = (good_path if six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] # If v3, we know to trust the meta -- presumably, data was PUT with # the mojibake path then COPYed to the right path (but with bad # pipeline placement for copy) with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': '3', 'path': mangled_path}) expected_keys = { 'container': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83/\xc3\xa2\xc2\x9d\xc2\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': mangled_path, 'v': '3'}, 'all_ids': [ {'path': mangled_path, 'v': '3'}, {'path': mangled_path, 'secret_id': '22', 'v': '3'}]} self.assertEqual(expected_keys, keys) self.assertEqual([(mangled_con_path, None), (mangled_path, None)], calls) del calls[:] "," self.verify_keys_for_path( self.verify_keys_for_path( def verify_keys_for_path(self, path, expected_keys, key_id=None): method, '/v1' + path, resp_class, resp_headers, b'') '/v1' + path, environ={'REQUEST_METHOD': method}) for version in ('1', '2'): for version in ('1', '2'):",310,17
openstack%2Fmetalsmith~master~Ic609e3a309ef542fcace98636edba1d7a15c58ca,openstack/metalsmith,master,Ic609e3a309ef542fcace98636edba1d7a15c58ca,[DNM] rdo third party testing,ABANDONED,2020-08-27 14:06:13.000000000,2020-09-02 06:19:12.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-27 14:06:13.000000000', 'files': ['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/846c8607d36f23d67808319a34bd4b7b01997d0a', 'message': '[DNM] rdo third party testing\n\nChange-Id: Ic609e3a309ef542fcace98636edba1d7a15c58ca\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,748444,846c8607d36f23d67808319a34bd4b7b01997d0a,7,5,1,12393,,,0,"[DNM] rdo third party testing

Change-Id: Ic609e3a309ef542fcace98636edba1d7a15c58ca
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/44/748444/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'],1,846c8607d36f23d67808319a34bd4b7b01997d0a,," # if concurrency is less than instances, need to wait for"," # if concurrency is less than instances, need to wait for",1,1
openstack%2Fneutron~master~Ia31b9e1d9f31265da84b865a776da99358ca9b75,openstack/neutron,master,Ia31b9e1d9f31265da84b865a776da99358ca9b75,Pass context in disassociate_floatingip notification,MERGED,2018-05-09 01:04:51.000000000,2020-09-02 06:00:48.000000000,2018-05-16 05:35:48.000000000,"[{'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-09 01:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9af01e8666fc1ac8ca6ed51193012b9c44146fa6', 'message': 'Pass context in dissociate_floatingip notification\n\nWith L3 flavors, dissciate_floatingip is handled by\nprecommit_update and it does not have separate callback\nlike L3 service plugin for dissociating floating ips,\nprecommit_update needs context information to process\nand an update on floating ip\n\nChange-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75\n'}, {'number': 2, 'created': '2018-05-09 01:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6076458211c811c05f47823d7d1d4718563beb12', 'message': 'Pass context in dissociate_floatingip notification\n\nWith L3 flavors, dissciate_ports to fip is handled by\nfloatingip_precommit_update and it does not have separate\ncallback like L3 service plugin for dissociating ports from\nfips, precommit_update needs context information to process\nand an update on floating ip.\n\nChange-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75\n'}, {'number': 3, 'created': '2018-05-09 05:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/454ed4ba5217d9f01e02d1df56ffd8ccf0ebefe3', 'message': 'Pass context in dissociate_floatingip notification\n\nWith L3 flavors, dissciate_ports to fip is handled by\nfloatingip_precommit_update and it does not have separate\ncallback like L3 service plugin for dissociating ports from\nfips, precommit_update needs context information to process\nand an update on floating ip.\n\nChange-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75\n'}, {'number': 4, 'created': '2018-05-09 16:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92c89f73d6b080e3ea2636dbcd1e738501a38a5f', 'message': 'Pass context in disassociate_floatingip notification\n\nWith L3 flavors, disassociate_ports to fip is handled by\nfloatingip_precommit_update and it does not have separate\ncallback like L3 service plugin for disassociating ports from\nfips, precommit_update needs context information to process\nan update on a floating ip.\n\nChange-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75\n'}, {'number': 5, 'created': '2018-05-09 18:24:12.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9aecfaa9dd27d17bc81254df2594d3d2392f9cd', 'message': 'Pass context in disassociate_floatingip notification\n\nWith L3 flavors, disassociate_ports to fip is handled by\nfloatingip_precommit_update and it does not have separate\ncallback like L3 service plugin for disassociating ports from\nfips, precommit_update needs context information to process\nan update on a floating ip.\n\nChange-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75\n'}]",14,567086,d9aecfaa9dd27d17bc81254df2594d3d2392f9cd,47,10,5,17120,,,0,"Pass context in disassociate_floatingip notification

With L3 flavors, disassociate_ports to fip is handled by
floatingip_precommit_update and it does not have separate
callback like L3 service plugin for disassociating ports from
fips, precommit_update needs context information to process
an update on a floating ip.

Change-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/567086/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,9af01e8666fc1ac8ca6ed51193012b9c44146fa6,567086," context=context,",,1,0
openstack%2Fneutron~master~I01ced41201b61c624e675375b7bcd9589b2553e0,openstack/neutron,master,I01ced41201b61c624e675375b7bcd9589b2553e0,Pass context in l3 flavor notifications,MERGED,2018-08-03 03:45:55.000000000,2020-09-02 05:47:50.000000000,2018-09-25 10:10:28.000000000,"[{'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27602}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-08-03 03:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7294563b0759f3ea5e704c7b4c9b6300f6815ad', 'message': 'Pass context in _delete_floatingip notification\n\nafter_delete needs context information to process\na delete on a floating ip.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\n'}, {'number': 2, 'created': '2018-08-03 07:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ba99ed246ef8d48071e6f2c7c9ad5845624218d', 'message': 'Pass context in _delete_floatingip notification\n\nafter_delete needs context information to process\na delete on a floating ip.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\n'}, {'number': 3, 'created': '2018-08-06 02:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/197464784182c9d1fe0093f69fae398e93cf7d1a', 'message': 'Pass context in _delete_floatingip notification\n\nafter_delete needs context information to process\na delete on a floating ip.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\nCloses-bug: #1785539\n'}, {'number': 4, 'created': '2018-08-07 05:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b56a7667d3e6bb3e938ca1dd7dda10ede18d1d82', 'message': 'Pass context in l3 flavor notifications\n\nThere are some notifications pass context,\n1. FLOATING_IP AFTER_DELETE\n2. FLOATING_IP AFTER_DELETE\n3. ROUTER_GATEWAY AFTER_CREATE\nadd context for them.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\nCloses-bug: #1785539\n'}, {'number': 5, 'created': '2018-08-09 11:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0593ed6b7b5d419ff180d38c6ca826900fa09623', 'message': 'Pass context in l3 flavor notifications\n\nThere are some notifications pass context in l3 flavor\nnotifications, and add context for consistency.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\nCloses-bug: #1785539\n'}, {'number': 6, 'created': '2018-08-13 05:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7965b66b79f91e1b41ce6cb2912bf15a911d34b3', 'message': 'Pass context in l3 flavor notifications\n\nThere are some notifications pass context in l3 flavor\nnotifications, and add context for consistency.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\nCloses-bug: #1785539\n'}, {'number': 7, 'created': '2018-08-14 02:15:58.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae81d403f7b8508fe581647b5853c702dd2331a2', 'message': 'Pass context in l3 flavor notifications\n\nThere are some notifications pass context in l3 flavor\nnotifications, and add context for consistency.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\nCloses-bug: #1785539\n'}]",24,588434,ae81d403f7b8508fe581647b5853c702dd2331a2,108,21,7,27602,,,0,"Pass context in l3 flavor notifications

There are some notifications pass context in l3 flavor
notifications, and add context for consistency.

Change-Id: I01ced41201b61c624e675375b7bcd9589b2553e0
Closes-bug: #1785539
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/588434/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,e7294563b0759f3ea5e704c7b4c9b6300f6815ad,bug/1785539," self, context, **floatingip_dict)"," self, **floatingip_dict)",1,1
openstack%2Frequirements~stable%2Fussuri~I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe,openstack/requirements,stable/ussuri,I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe,Blacklist setuptools 50.0.0,ABANDONED,2020-09-01 12:31:45.000000000,2020-09-02 04:59:15.000000000,,"[{'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-01 12:31:45.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/15bee84211f85a5498b1c5be41063f454d9dfb59', 'message': 'Blacklist setuptools 50.0.0\n\nWas: Reintroduce setuptools <50 cap\n\nPer the linked github issue, the setuptools has re-introduced it\'s\nvendoring of distutils so it not longer obeys the overrides configured\nby Debuntu.  This was last pinned with\nca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f; setuptools reverted their\nchange, but it is back now.\n\nIn short, Debuntu overrides distutils to install everything in\n""dist-packages"", leaving ""site-packages"" in case you install a\nnon-packaged interpreter which has that all to itself (i.e. packaged\nPython doesn\'t mix/conflict with a non-packaged Python install).\n\nThe latest setuptools now ignores the overrides Debuntu ships in\ndistutils, and thus installs binaries to /usr/bin and libraries to\nsite-packages; the first causing problems for numerous scripts which\nassume /usr/local/bin/<foo> and the second meaning that\n/usr/bin/python3 (i.e. Debuntu packaged python) can\'t find anything\ninstalled anyway (because it\'s in site-packages, which isn\'t\nsearched).\n\nThis pin affects the devstack pip install from [1].\n\nAt this stage, we do not have a solution.\n\nConflicts: global-requirements.txt\nMade the cap a blacklist matching the existing ones.\n\n[1] https://opendev.org/openstack/devstack/src/commit/e7625fc72cbbbfaf37a6682166bc2180d4e50855/tools/install_pip.sh#L153\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe\n(cherry picked from commit 5b2ee12846e05722a45cd7ca616f8254b7ed1ec1)\n'}]",0,749257,15bee84211f85a5498b1c5be41063f454d9dfb59,10,5,1,13252,,,0,"Blacklist setuptools 50.0.0

Was: Reintroduce setuptools <50 cap

Per the linked github issue, the setuptools has re-introduced it's
vendoring of distutils so it not longer obeys the overrides configured
by Debuntu.  This was last pinned with
ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f; setuptools reverted their
change, but it is back now.

In short, Debuntu overrides distutils to install everything in
""dist-packages"", leaving ""site-packages"" in case you install a
non-packaged interpreter which has that all to itself (i.e. packaged
Python doesn't mix/conflict with a non-packaged Python install).

The latest setuptools now ignores the overrides Debuntu ships in
distutils, and thus installs binaries to /usr/bin and libraries to
site-packages; the first causing problems for numerous scripts which
assume /usr/local/bin/<foo> and the second meaning that
/usr/bin/python3 (i.e. Debuntu packaged python) can't find anything
installed anyway (because it's in site-packages, which isn't
searched).

This pin affects the devstack pip install from [1].

At this stage, we do not have a solution.

Conflicts: global-requirements.txt
Made the cap a blacklist matching the existing ones.

[1] https://opendev.org/openstack/devstack/src/commit/e7625fc72cbbbfaf37a6682166bc2180d4e50855/tools/install_pip.sh#L153
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html

Change-Id: I97e8fe6dd296d8552e256dc1dd85e9d13a9feafe
(cherry picked from commit 5b2ee12846e05722a45cd7ca616f8254b7ed1ec1)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/749257/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,15bee84211f85a5498b1c5be41063f454d9dfb59,,"# Blacklist setuptools 48.0.0, 49.0.0, 50.0.0 due to https://github.com/pypa/setuptools/issues/2232 setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,!=48.0.0,!=49.0.0,!=50.0.0;python_version>='3.5' # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0;python_version>='3.5' # PSF/ZPL",2,1
openstack%2Fpuppet-nova~master~I0a8a425226b3afd3686da69674a47bec238a6459,openstack/puppet-nova,master,I0a8a425226b3afd3686da69674a47bec238a6459,Use oslo::db to set up api_database,MERGED,2020-08-31 11:39:08.000000000,2020-09-02 04:06:50.000000000,2020-09-02 04:06:50.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 11:39:08.000000000', 'files': ['manifests/db.pp', 'spec/classes/nova_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/121b289f7efde766b69ee572042cf71743494d9a', 'message': 'Use oslo::db to set up api_database\n\nDepends-on: https://review.opendev.org/#/c/749034/\nChange-Id: I0a8a425226b3afd3686da69674a47bec238a6459\n'}]",0,749037,121b289f7efde766b69ee572042cf71743494d9a,11,4,1,9816,,,0,"Use oslo::db to set up api_database

Depends-on: https://review.opendev.org/#/c/749034/
Change-Id: I0a8a425226b3afd3686da69674a47bec238a6459
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/37/749037/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/nova_db_spec.rb']",2,121b289f7efde766b69ee572042cf71743494d9a,validate-db_conn," it { should contain_oslo__db('api_database').with( :config => 'nova_config', :config_group => 'api_database', :connection => 'mysql+pymysql://user:pass@db/db2', :slave_connection => 'mysql+pymysql://user:pass@slave/db2', )}", it { should contain_nova_config('api_database/connection').with_value('mysql+pymysql://user:pass@db/db2').with_secret(true) } it { should contain_nova_config('api_database/slave_connection').with_value('mysql+pymysql://user:pass@slave/db2').with_secret(true) },13,10
openstack%2Ftripleo-common~master~Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2,openstack/tripleo-common,master,Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2,Switch default container prefix to openstack,MERGED,2020-08-20 15:44:48.000000000,2020-09-02 03:59:34.000000000,2020-09-02 03:58:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-20 15:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/45541f69df11a30cccffd48e81042cac2bc31507', 'message': 'Switch default container prefix to openstack\n\nChange-Id: Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2\n'}, {'number': 2, 'created': '2020-08-20 15:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd1145fb8018cf09d224855d0a5aee1d7b496227', 'message': 'Switch default container prefix to openstack\n\nChange-Id: Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2\n'}, {'number': 3, 'created': '2020-08-25 01:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4a4c440ead040a05fe1bc395cd35aabb907a2ac4', 'message': 'Switch default container prefix to openstack\n\nChange-Id: Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2\n'}, {'number': 4, 'created': '2020-08-25 01:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0e2ecb9a83b885f3b5eba36dde99aae8e0987683', 'message': 'Switch default container prefix to openstack\n\nChange-Id: Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2\n'}, {'number': 5, 'created': '2020-08-28 19:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62b3e0802a1763f60732d1d9e75a233878f7cd72', 'message': 'Switch default container prefix to openstack\n\nChange-Id: Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2\n'}, {'number': 6, 'created': '2020-08-31 12:07:31.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'releasenotes/notes/default-container-prefix-is-openstack-3cd42220d6cdfed0.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/90f6de7a7fab15e9161c1f03acecaf98726298f1', 'message': 'Switch default container prefix to openstack\n\nChange-Id: Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2\n'}]",1,747222,90f6de7a7fab15e9161c1f03acecaf98726298f1,58,10,6,14985,,,0,"Switch default container prefix to openstack

Change-Id: Ic79b8f83679679d81b17e60d28734a5b9c5fb1b2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/747222/3 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,45541f69df11a30cccffd48e81042cac2bc31507,bug/1889122,- imagename: docker.io/tripleomaster/openstack-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-os:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-evaluator:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-listener:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-notifier:current-tripleo- imagename: docker.io/tripleomaster/openstack-barbican-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-barbican-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-barbican-keystone-listener:current-tripleo- imagename: docker.io/tripleomaster/openstack-barbican-worker:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-central:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-compute:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-notification:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-ipmi:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-backup:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-scheduler:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-volume:current-tripleo- imagename: docker.io/tripleomaster/openstack-collectd:current-tripleo- imagename: docker.io/tripleomaster/openstack-cron:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-backend-bind9:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-central:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-mdns:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-producer:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-sink:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-worker:current-tripleo- imagename: docker.io/tripleomaster/openstack-etcd:current-tripleo- imagename: docker.io/tripleomaster/openstack-glance-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-gnocchi-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-gnocchi-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-gnocchi-metricd:current-tripleo- imagename: docker.io/tripleomaster/openstack-gnocchi-statsd:current-tripleo- imagename: docker.io/tripleomaster/openstack-haproxy:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-all:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-api-cfn:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-engine:current-tripleo- imagename: docker.io/tripleomaster/openstack-horizon:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-conductor:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-inspector:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-pxe:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-neutron-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-iscsid:current-tripleo- imagename: docker.io/tripleomaster/openstack-keepalived:current-tripleo- imagename: docker.io/tripleomaster/openstack-keystone:current-tripleo- imagename: docker.io/tripleomaster/openstack-manila-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-manila-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-manila-scheduler:current-tripleo- imagename: docker.io/tripleomaster/openstack-manila-share:current-tripleo- imagename: docker.io/tripleomaster/openstack-mariadb:current-tripleo- imagename: docker.io/tripleomaster/openstack-memcached:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-engine:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-executor:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-event-engine:current-tripleo- imagename: docker.io/tripleomaster/openstack-multipathd:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-dhcp-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-l3-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-metadata-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-openvswitch-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-sriov-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-mlnx-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-metadata-agent-ovn:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-compute-ironic:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-compute:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-conductor:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-libvirt:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-novncproxy:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-scheduler:current-tripleo- imagename: docker.io/tripleomaster/openstack-novajoin-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-novajoin-notifier:current-tripleo- imagename: docker.io/tripleomaster/openstack-novajoin-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-health-manager:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-housekeeping:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-worker:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-controller:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-nb-db-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-northd:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-sb-db-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-placement-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-qdrouterd:current-tripleo- imagename: docker.io/tripleomaster/openstack-rabbitmq:current-tripleo- imagename: docker.io/tripleomaster/openstack-redis:current-tripleo- imagename: docker.io/tripleomaster/openstack-sahara-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-sahara-engine:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-base:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-account:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-container:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-object:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-proxy-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-zaqar-wsgi:current-tripleo- imagename: docker.io/tripleomaster/openstack-tempest:current-tripleo- imagename: docker.io/tripleomaster/openstack-rsyslog:current-tripleo,- imagename: docker.io/tripleomaster/centos-binary-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-os:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-aodh-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-aodh-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-aodh-evaluator:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-aodh-listener:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-aodh-notifier:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-barbican-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-barbican-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-barbican-keystone-listener:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-barbican-worker:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ceilometer-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ceilometer-central:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ceilometer-compute:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ceilometer-notification:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ceilometer-ipmi:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-cinder-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-cinder-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-cinder-backup:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-cinder-scheduler:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-cinder-volume:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-collectd:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-cron:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-backend-bind9:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-central:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-mdns:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-producer:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-sink:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-designate-worker:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-etcd:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-glance-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-gnocchi-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-gnocchi-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-gnocchi-metricd:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-gnocchi-statsd:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-haproxy:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-heat-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-heat-all:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-heat-api-cfn:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-heat-engine:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-horizon:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ironic-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ironic-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ironic-conductor:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ironic-inspector:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ironic-pxe:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ironic-neutron-agent:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-iscsid:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-keepalived:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-keystone:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-manila-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-manila-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-manila-scheduler:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-manila-share:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-mariadb:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-memcached:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-mistral-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-mistral-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-mistral-engine:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-mistral-executor:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-mistral-event-engine:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-multipathd:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-dhcp-agent:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-l3-agent:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-metadata-agent:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-openvswitch-agent:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-sriov-agent:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-mlnx-agent:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-server:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-neutron-metadata-agent-ovn:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-compute-ironic:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-compute:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-conductor:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-libvirt:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-novncproxy:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-nova-scheduler:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-novajoin-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-novajoin-notifier:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-novajoin-server:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-octavia-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-octavia-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-octavia-health-manager:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-octavia-housekeeping:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-octavia-worker:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ovn-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ovn-controller:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ovn-nb-db-server:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ovn-northd:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-ovn-sb-db-server:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-placement-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-qdrouterd:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-rabbitmq:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-redis:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-sahara-api:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-sahara-engine:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-swift-base:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-swift-account:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-swift-container:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-swift-object:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-swift-proxy-server:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-zaqar-wsgi:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-tempest:current-tripleo- imagename: docker.io/tripleomaster/centos-binary-rsyslog:current-tripleo,110,110
openstack%2Fpython-zaqarclient~master~I55c745a81226487292220edfb629ca4f7dfd95d7,openstack/python-zaqarclient,master,I55c745a81226487292220edfb629ca4f7dfd95d7,Adding the doc of message in CLI,MERGED,2020-08-26 07:56:33.000000000,2020-09-02 03:53:44.000000000,2020-09-02 03:52:35.000000000,"[{'_account_id': 8846}, {'_account_id': 9610}, {'_account_id': 22348}, {'_account_id': 31882}]","[{'number': 1, 'created': '2020-08-26 07:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/6742f1f61c867fa6c74e916533e599cc8aff2a24', 'message': 'Adding the doc of message in CLI\n\nThe doc of message is missing in zaqarclient.\nSo this patch will add it and also remove the unused docs for\nother resources.\n\nChange-Id: I55c745a81226487292220edfb629ca4f7dfd95d7\nCloses-Bug: #1892999\n'}, {'number': 2, 'created': '2020-08-27 00:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/350c066e76b110f95384858d7e465aae61d4a884', 'message': 'Adding the doc of message in CLI\n\nThe doc of message is missing in zaqarclient.\nSo this patch will add it and also remove the unused docs for\nother resources.\n\nChange-Id: I55c745a81226487292220edfb629ca4f7dfd95d7\nCloses-Bug: #1892999\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\n'}, {'number': 3, 'created': '2020-08-27 00:52:01.000000000', 'files': ['doc/source/command/queue.rst', 'doc/source/command/subscription.rst', 'doc/source/command/claim.rst', 'doc/source/command-line.rst', 'doc/source/command/message.rst', 'doc/source/command/pool.rst'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/8f0b9f5b07b51a39488a4f1e4f0f092b6579ee73', 'message': 'Adding the doc of message in CLI\n\nThe doc of message is missing in zaqarclient.\nSo this patch will add it and also remove the unused docs for\nother resources.\n\nChange-Id: I55c745a81226487292220edfb629ca4f7dfd95d7\nCloses-Bug: #1893145\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\n'}]",0,748131,8f0b9f5b07b51a39488a4f1e4f0f092b6579ee73,18,4,3,8846,,,0,"Adding the doc of message in CLI

The doc of message is missing in zaqarclient.
So this patch will add it and also remove the unused docs for
other resources.

Change-Id: I55c745a81226487292220edfb629ca4f7dfd95d7
Closes-Bug: #1893145
Signed-off-by: wanghao <sxmatch1986@gmail.com>
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/31/748131/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/command/queue.rst', 'doc/source/command/subscription.rst', 'doc/source/command/claim.rst', 'doc/source/command-line.rst', 'doc/source/command/message.rst', 'doc/source/command/pool.rst']",6,6742f1f61c867fa6c74e916533e599cc8aff2a24,bug/1892999,"For help on a specific :command:`openstack messaging pool` command, enter: $ openstack messaging pool COMMAND -h/--help","For help on a specific :command:`openstack pool` command, enter: $ openstack pool COMMAND -h/--help pool create pool delete pool list pool show pool update.. _openstack_pool_create: openstack pool create --------------------- .. code-block:: console usage: openstack pool create [-h] [-f {json,shell,table,value,yaml}] [-c COLUMN] [--max-width <integer>] [--noindent] [--prefix PREFIX] [--pool_group <pool_group>] [--pool_options <pool_options>] <pool_name> <pool_uri> <pool_weight> Create a pool. **Positional arguments:** ``<pool_name>`` Name of the pool. ``<pool_uri>`` Storage engine URI. ``<pool_weight>`` weight of the pool. **Optional arguments:** ``--pool_group <pool_group>`` Group of the pool. ``--pool_options <pool_options>`` An optional request component related to storage-specific options. .. _openstack_pool_delete: openstack pool delete --------------------- .. code-block:: console usage: openstack pool delete [-h] <pool_name> Delete a pool. **Positional arguments:** ``<pool_name>`` Name of the pool. .. _openstack_pool_list: openstack pool list ------------------- .. code-block:: console usage: openstack pool list [-h] [-f {csv,json,table,value,yaml}] [-c COLUMN] [--max-width <integer>] [--noindent] [--quote {all,minimal,none,nonnumeric}] [--marker <pool_name>] [--limit <limit>] [--detailed <detailed>] List available Pools. **Optional arguments:** ``--marker <pool_name>`` Pool's paging marker. ``--limit <limit>`` Page size limit. ``--detailed <detailed>`` Detailed output. .. _openstack_pool_show: openstack pool show ------------------- .. code-block:: console usage: openstack pool show [-h] [-f {json,shell,table,value,yaml}] [-c COLUMN] [--max-width <integer>] [--noindent] [--prefix PREFIX] <pool_name> Display pool details. **Positional arguments:** ``<pool_name>`` Pool to display (name). .. _openstack_pool_update: openstack pool update --------------------- .. code-block:: console usage: openstack pool update [-h] [-f {json,shell,table,value,yaml}] [-c COLUMN] [--max-width <integer>] [--noindent] [--prefix PREFIX] [--pool_uri <pool_uri>] [--pool_weight <pool_weight>] [--pool_group <pool_group>] [--pool_options <pool_options>] <pool_name> Update a pool attribute. **Positional arguments:** ``<pool_name>`` Name of the pool. **Optional arguments:** ``--pool_uri <pool_uri>`` Storage engine URI. ``--pool_weight <pool_weight>`` Weight of the pool. ``--pool_group <pool_group>`` Group of the pool. ``--pool_options <pool_options>`` An optional request component related to storage-specific options. ",73,572
openstack%2Ftripleo-heat-templates~master~I386a035f9688c54d617e714888c9c0fa14f34a1e,openstack/tripleo-heat-templates,master,I386a035f9688c54d617e714888c9c0fa14f34a1e,DCN: use FQDN in glance endpoint with internal TLS,MERGED,2020-08-28 18:42:00.000000000,2020-09-02 03:42:03.000000000,2020-09-02 03:42:02.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-28 18:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d6a647c72e0f7e3f33780fee15e28fa03933e6a', 'message': 'DCN: use FQDN in glance endpoint with internal TLS\n\nFix the glance-api endpoint used by cinder and nova services at DCN\nsites. When internal TLS is enabled, the URI must use a FQDN and not\nan IP address.\n\nCloses-Bug: #1893453\nChange-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e\n'}, {'number': 2, 'created': '2020-08-31 12:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d41a3916087632b792d76877b7f58e02ef702f98', 'message': 'DCN: use FQDN in glance endpoint with internal TLS\n\nFix the glance-api endpoint used by cinder and nova services at DCN\nsites. When internal TLS is enabled, the URI must use a FQDN and not\nan IP address.\n\nCloses-Bug: #1893453\nChange-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e\n'}, {'number': 3, 'created': '2020-08-31 16:16:53.000000000', 'files': ['deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2035b88f5b9eb1c86391c995f768f9ecc45855a4', 'message': 'DCN: use FQDN in glance endpoint with internal TLS\n\nFix the glance-api endpoint used by cinder and nova services at DCN\nsites. When internal TLS is enabled, the URI must use a FQDN and not\nan IP address.\n\nCloses-Bug: #1893453\nChange-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e\n'}]",0,748736,2035b88f5b9eb1c86391c995f768f9ecc45855a4,26,6,3,21129,,,0,"DCN: use FQDN in glance endpoint with internal TLS

Fix the glance-api endpoint used by cinder and nova services at DCN
sites. When internal TLS is enabled, the URI must use a FQDN and not
an IP address.

Closes-Bug: #1893453
Change-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/748736/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml']",2,5d6a647c72e0f7e3f33780fee15e28fa03933e6a,bug/1893453," if: - internal_tls_enabled - ""https://%{hiera('fqdn_NETWORK')}:9292"" - ""http://%{hiera('NETWORK_uri')}:9292"" params:"," ""PROTOCOL://%{hiera('NETWORK_uri')}:9292"" params: PROTOCOL: if: - internal_tls_enabled - https - http",8,12
openstack%2Foctavia~master~Ia9d9d844b325296401577f5617d2b89cf1a017a7,openstack/octavia,master,Ia9d9d844b325296401577f5617d2b89cf1a017a7,Add some details on enable_anti_affinity option,MERGED,2020-07-23 13:40:05.000000000,2020-09-02 03:14:12.000000000,2020-09-02 03:12:32.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32084}]","[{'number': 1, 'created': '2020-07-23 13:40:05.000000000', 'files': ['octavia/common/config.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/259f19ec152fe64777ea9bdb658929e22d59427b', 'message': 'Add some details on enable_anti_affinity option\n\nExplain that ""enable_anti_affinity"" affects only amphorae in\nACTIVE_STANDBY topology.\n\nChange-Id: Ia9d9d844b325296401577f5617d2b89cf1a017a7\n'}]",0,742670,259f19ec152fe64777ea9bdb658929e22d59427b,16,5,1,29244,,,0,"Add some details on enable_anti_affinity option

Explain that ""enable_anti_affinity"" affects only amphorae in
ACTIVE_STANDBY topology.

Change-Id: Ia9d9d844b325296401577f5617d2b89cf1a017a7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/742670/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/config.py'],1,259f19ec152fe64777ea9bdb658929e22d59427b,," 'turned on. This option is only used when creating ' 'amphorae in ACTIVE_STANDBY topology.')),"," 'turned on.')),",2,1
openstack%2Fneutron~master~I34c9e9621e84112dc950e1d274e867093f3d12e4,openstack/neutron,master,I34c9e9621e84112dc950e1d274e867093f3d12e4,Simplify OVN Agent API implementation,MERGED,2020-08-24 20:10:29.000000000,2020-09-02 02:59:22.000000000,2020-09-02 02:57:26.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-24 20:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51f13eef627d5c12cac772b17d26a613db768f1d', 'message': 'Simplify OVN Agent API implementation\n\nThis is a small enhancement to https://review.opendev.org/#/c/737106/\nthat breaks apart the ControllerAgent and ControllerGatewayAgent.\n\nChange-Id: I34c9e9621e84112dc950e1d274e867093f3d12e4\n'}, {'number': 2, 'created': '2020-08-24 21:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e4031e77607e88f00f3a36b7451c48d95ca46a0', 'message': 'Simplify OVN Agent API implementation\n\nThis is a small enhancement to https://review.opendev.org/#/c/737106/\nthat breaks apart the ControllerAgent and ControllerGatewayAgent.\n\nChange-Id: I34c9e9621e84112dc950e1d274e867093f3d12e4\n'}, {'number': 3, 'created': '2020-08-25 16:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2734028d92a577d18ef8d206f8d2255203d5a77f', 'message': 'Simplify OVN Agent API implementation\n\nThis is a small enhancement to https://review.opendev.org/#/c/737106/\nthat breaks apart the ControllerAgent and ControllerGatewayAgent.\n\nChange-Id: I34c9e9621e84112dc950e1d274e867093f3d12e4\n'}, {'number': 4, 'created': '2020-08-26 20:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24200bde51a9dfc962afc433ab1d27c402ad3a6c', 'message': 'Simplify OVN Agent API implementation\n\nThis is a small enhancement to https://review.opendev.org/#/c/737106/\nthat breaks apart the ControllerAgent and ControllerGatewayAgent.\n\nChange-Id: I34c9e9621e84112dc950e1d274e867093f3d12e4\n'}, {'number': 5, 'created': '2020-08-28 18:15:19.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/827c5878d3cca5807e72d90f3fb8b4a92d513426', 'message': 'Simplify OVN Agent API implementation\n\nThis is a small enhancement to https://review.opendev.org/#/c/737106/\nthat breaks apart the ControllerAgent and ControllerGatewayAgent.\n\nChange-Id: I34c9e9621e84112dc950e1d274e867093f3d12e4\n'}]",1,747794,827c5878d3cca5807e72d90f3fb8b4a92d513426,74,9,5,5756,,,0,"Simplify OVN Agent API implementation

This is a small enhancement to https://review.opendev.org/#/c/737106/
that breaks apart the ControllerAgent and ControllerGatewayAgent.

Change-Id: I34c9e9621e84112dc950e1d274e867093f3d12e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/747794/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,51f13eef627d5c12cac772b17d26a613db768f1d,, # For each Chassis there will possibly be a Metadata agent and either # a Controller or Controller Gateway agent. for agent in n_agent.NeutronAgent.agents_from_chassis(chassis):, # Iterate over each unique Agent subclass for agent in [a(chassis_private) for a in n_agent.NeutronAgent.agent_types()]:,25,15
openstack%2Fswift~stable%2Ftrain~I00c6693c42c1a0220b64d8016d380d5985339658,openstack/swift,stable/train,I00c6693c42c1a0220b64d8016d380d5985339658,py3: Work with proper native string paths in crypto meta,MERGED,2020-08-30 17:25:45.000000000,2020-09-02 02:58:49.000000000,2020-09-02 02:57:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 17:25:45.000000000', 'files': ['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/eef87ee21229c8f8cc794b29e0f9abc159fc98e7', 'message': 'py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nAdd the ability to read and write a new, unambiguous version of metadata\nthat always has the path as a native string. To support rolling\nupgrades, a new config option is added: meta_version_to_write. This\ndefaults to 2 to support rolling upgrades without configuration changes,\nbut the default may change to 3 in a future release.\n\nUpgradeImpact\n=============\nWhen upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set\n\n    meta_version_to_write = 1\n\nin your keymaster\'s configuration. Regardless of prior Swift version, set\n\n    meta_version_to_write = 3\n\nafter upgrading all proxy servers.\n\nWhen switching from Python 2 to Python 3, first upgrade Swift while on\nPython 2, then upgrade to Python 3.\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n(cherry picked from commit 7d429318ddb854a23cdecfe35721b1ecbe8bcccc)\n'}]",0,748883,eef87ee21229c8f8cc794b29e0f9abc159fc98e7,7,2,1,15343,,,0,"py3: Work with proper native string paths in crypto meta

Previously, we would work with these paths as WSGI strings -- this would
work fine when all data were read and written on the same major version
of Python, but fail pretty badly during and after upgrading Python.

In particular, if a py3 proxy-server tried to read existing data that
was written down by a py2 proxy-server, it would hit an error and
respond 500. Worse, if an un-upgraded py2 proxy tried to read data that
was freshly-written by a py3 proxy, it would serve corrupt data back to
the client (including a corrupt/invalid ETag and Content-Type).

Now, ensure that both py2 and py3 write down paths as native strings.
Make an effort to still work with WSGI-string metadata, though it can be
ambiguous as to whether a string is a WSGI string or not. The heuristic
used is if

 * the path from metadata does not match the (native-string) request
   path and
 * the path from metadata (when interpreted as a WSGI string) can be
   ""un-wsgi-fied"" without any encode/decode errors and
 * the native-string path from metadata *does* match the native-string
   request path

then trust the path from the request. By contrast, we usually prefer the
path from metadata in case there was a pipeline misconfiguration (see
related bug).

Add the ability to read and write a new, unambiguous version of metadata
that always has the path as a native string. To support rolling
upgrades, a new config option is added: meta_version_to_write. This
defaults to 2 to support rolling upgrades without configuration changes,
but the default may change to 3 in a future release.

UpgradeImpact
=============
When upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set

    meta_version_to_write = 1

in your keymaster's configuration. Regardless of prior Swift version, set

    meta_version_to_write = 3

after upgrading all proxy servers.

When switching from Python 2 to Python 3, first upgrade Swift while on
Python 2, then upgrade to Python 3.

Change-Id: I00c6693c42c1a0220b64d8016d380d5985339658
Closes-Bug: #1888037
Related-Bug: #1813725
(cherry picked from commit 7d429318ddb854a23cdecfe35721b1ecbe8bcccc)
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/748883/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py']",4,eef87ee21229c8f8cc794b29e0f9abc159fc98e7,bug/1888037-stable/train,"import six self.verify_v3_keys_for_path( self.verify_v3_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v3_keys_for_path( def test_unicode_object_path(self): # NB: path is WSGI self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) # Double-whammy: *also* hit the os.path.join issue self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) def verify_v3_keys_for_path(self, wsgi_path, expected_keys, key_id=None): self.app.meta_version_to_write = '3' method, '/v1' + wsgi_path, resp_class, resp_headers, b'') '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) path = swob.wsgi_to_str(wsgi_path) self.assertEqual('3', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys def verify_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) def verify_v1_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None self.app.meta_version_to_write = '1' for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if '//' in path: path = path[path.index('//') + 1:] if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) self.assertEqual('1', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys for version in ('1', '2', '3'): for version in ('1', '2', '3'): def test_v2_keys(self): secrets = {None: os.urandom(32), '22': os.urandom(33)} conf = {} for secret_id, secret in secrets.items(): opt = ('encryption_root_secret%s' % (('_%s' % secret_id) if secret_id else '')) conf[opt] = base64.b64encode(secret) conf['active_root_secret_id'] = '22' self.app = keymaster.KeyMaster(self.swift, conf) orig_create_key = self.app.create_key calls = [] def mock_create_key(path, secret_id=None): calls.append((path, secret_id)) return orig_create_key(path, secret_id) container = u'\N{SNOWMAN}' obj = u'\N{SNOWFLAKE}' if six.PY2: container = container.encode('utf-8') obj = obj.encode('utf-8') good_con_path = '/a/%s' % container good_path = '/a/%s/%s' % (container, obj) if six.PY2: mangled_con_path = ('/a/%s' % container).decode( 'latin-1').encode('utf-8') mangled_path = ('/a/%s/%s' % ( container, obj)).decode('latin-1').encode('utf-8') else: mangled_con_path = ('/a/%s' % container).encode( 'utf-8').decode('latin-1') mangled_path = ('/a/%s/%s' % ( container, obj)).encode('utf-8').decode('latin-1') context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2', '3'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': good_path}) key_id_path = (good_path if version == '3' or six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': mangled_path}) key_id_path = (good_path if six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] # If v3, we know to trust the meta -- presumably, data was PUT with # the mojibake path then COPYed to the right path (but with bad # pipeline placement for copy) with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': '3', 'path': mangled_path}) expected_keys = { 'container': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83/\xc3\xa2\xc2\x9d\xc2\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': mangled_path, 'v': '3'}, 'all_ids': [ {'path': mangled_path, 'v': '3'}, {'path': mangled_path, 'secret_id': '22', 'v': '3'}]} self.assertEqual(expected_keys, keys) self.assertEqual([(mangled_con_path, None), (mangled_path, None)], calls) del calls[:] "," self.verify_keys_for_path( self.verify_keys_for_path( def verify_keys_for_path(self, path, expected_keys, key_id=None): method, '/v1' + path, resp_class, resp_headers, b'') '/v1' + path, environ={'REQUEST_METHOD': method}) for version in ('1', '2'): for version in ('1', '2'):",310,17
openstack%2Fnova~master~I574ed88729d2f0760ea4065cc0e542eea8d20cc2,openstack/nova,master,I574ed88729d2f0760ea4065cc0e542eea8d20cc2,Set different VirtualDevice.key,MERGED,2020-03-18 03:18:03.000000000,2020-09-02 02:10:11.000000000,2020-08-26 11:50:03.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22078}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31706}]","[{'number': 1, 'created': '2020-03-18 03:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9bc89eadd269f1e364d09bc04c5fc8bd2de2520', 'message': 'set different VirtualDevice.key\n\nIn vSphere 7.0, there VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\nFixes-Bug: #2479633\n(cherry picked from commit f057ef89714f03e877f4b51cb91eb3d2e36b8b4e)\n'}, {'number': 2, 'created': '2020-03-18 03:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41b0fd7aaf59c9a60e58deffc8fcb4d099e71df5', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\n'}, {'number': 3, 'created': '2020-04-10 02:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6473d31f77dd66f19b0116f0b4586573a72587e', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\n'}, {'number': 4, 'created': '2020-07-22 06:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a036509f8ed115c77324649a823dc025b8db1be', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\n'}, {'number': 5, 'created': '2020-07-22 10:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ac1823cf300eb354f6b5d8f33d282431e60ac0e', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\n'}, {'number': 6, 'created': '2020-07-24 01:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/771aa15f71f80e15c98c8db9a066610c4b78e6d3', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\n'}, {'number': 7, 'created': '2020-07-24 03:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01074318492e68a83002fe1e0b1dda13101723c9', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\n'}, {'number': 8, 'created': '2020-08-26 02:51:06.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5d153a4c64f6947531823c0df91be5cbc491977', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\nCloses-Bug: #1892961\n'}]",10,713565,a5d153a4c64f6947531823c0df91be5cbc491977,71,14,8,31706,,,0,"Set different VirtualDevice.key

In vSphere 7.0, the VirtualDevice.key cannot be the same any more.
So set different values to VirtualDevice.key

Change-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2
Closes-Bug: #1892961
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/713565/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/vm_util.py'],1,f9bc89eadd269f1e364d09bc04c5fc8bd2de2520,bug/1892961," for i, vif_info in enumerate(vif_infos): extra_specs.vif_limits, i)def _create_vif_spec(client_factory, vif_info, vif_limits=None, offset=0): net_device.key = -47 - offset"," for vif_info in vif_infos: extra_specs.vif_limits)def _create_vif_spec(client_factory, vif_info, vif_limits=None): net_device.key = -47",4,4
openstack%2Foctavia~master~I59d94bc9743b04674caca3ffcb8fc91ba803298c,openstack/octavia,master,I59d94bc9743b04674caca3ffcb8fc91ba803298c,trivial fix,MERGED,2020-06-01 14:07:42.000000000,2020-09-02 02:08:06.000000000,2020-09-02 02:06:40.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-06-01 14:07:42.000000000', 'files': ['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9bee93b20189136f5d8d4de7d0ed38f66d776e4e', 'message': 'trivial fix\n\nChange-Id: I59d94bc9743b04674caca3ffcb8fc91ba803298c\n'}]",0,732375,9bee93b20189136f5d8d4de7d0ed38f66d776e4e,17,4,1,26285,,,0,"trivial fix

Change-Id: I59d94bc9743b04674caca3ffcb8fc91ba803298c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/75/732375/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py']",2,9bee93b20189136f5d8d4de7d0ed38f66d776e4e,trivial-fix," """"""Task to push a new amphora agent configuration to the amphora."""""" # Push the new configuration to the amphora"," """"""Task to push a new amphora agent configuration to the amphroa."""""" # Push the new configuration to the amphroa",4,4
openstack%2Fpuppet-tripleo~stable%2Ftrain~I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1,openstack/puppet-tripleo,stable/train,I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1,Fix tls - zaqar wss default port,MERGED,2020-08-31 22:06:15.000000000,2020-09-02 02:02:38.000000000,2020-09-02 02:02:38.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-31 22:06:15.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/72ad205fa85377663b72d9dc7d297452098a41cb', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport so that handshake does not fail on port missmatch.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nCloses-Bug: #1893621\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n(cherry picked from commit 4a52809a9676f3058863882b529f88c5f078c9ee)\n'}]",0,749162,72ad205fa85377663b72d9dc7d297452098a41cb,20,9,1,24245,,,0,"Fix tls - zaqar wss default port

In https://review.opendev.org/746671 we updated the
endpoint map. It seems this broke the undercloud as
haproxy still listen on port 9000.

Update the default zaqar wss port in puppet as well.

Also set the request header Host to use the service
port so that handshake does not fail on port missmatch.

Change-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1
Closes-Bug: #1893621
Related-Bug: #1832168
Related-RHBZ: #1868910
(cherry picked from commit 4a52809a9676f3058863882b529f88c5f078c9ee)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/749162/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,72ad205fa85377663b72d9dc7d297452098a41cb,RHBZ#1868910-stable/train,"# 'zaqar_ws_ssl_port' (Defaults to 3000) zaqar_ws_ssl_port => 3000, 'timeout' => ['connect 5s', 'client 25s', 'server 25s', regsubst('tunnel Xs', 'X', $zaqar_ws_timeout_tunnel)], 'http-request' => [join(['set-header Host %[dst]:', $ports[zaqar_ws_port]])],","# 'zaqar_ws_ssl_port' (Defaults to 9000) zaqar_ws_ssl_port => 9000, 'timeout' => ['connect 5s', 'client 25s', 'server 25s', regsubst('tunnel Xs', 'X', $zaqar_ws_timeout_tunnel)],",4,3
openstack%2Ftripleo-heat-templates~master~Id8132d25591768f265b6779d85c5cc14e6838bae,openstack/tripleo-heat-templates,master,Id8132d25591768f265b6779d85c5cc14e6838bae,Remove deprecated Manila PGNum parameters,MERGED,2020-08-19 13:33:43.000000000,2020-09-02 01:47:18.000000000,2020-09-02 01:46:10.000000000,"[{'_account_id': 6796}, {'_account_id': 8833}, {'_account_id': 9003}, {'_account_id': 13861}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-19 13:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5daefeee1d375d37b005ac9e53f33eb7195cfd0', 'message': 'Remove deprecated Manila PGNum parameters\n\nWhen deploying Manila with Ceph back end you get the\nfollowing message:\n\n""WARNING: Following parameter(s) are deprecated and still defined.\nDeprecated parameters will be removed soon! ManilaCephFSDataPoolPGNum,\nManilaCephFSMetadataPoolPGNum""\n\nThese have been deprecated since Stein, so let\'s remove them.\n\nChange-Id: Id8132d25591768f265b6779d85c5cc14e6838bae\n'}, {'number': 2, 'created': '2020-08-21 17:27:20.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'environments/low-memory-usage.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'releasenotes/notes/remove-deprecated-manila-ceph-pgnum-parameters-b7bb9c95e30467d5.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/798010faba7f5f47990598bc47c88ebb2adcc4ed', 'message': 'Remove deprecated Manila PGNum parameters\n\nWhen deploying Manila with Ceph back end you get the\nfollowing message:\n\n""WARNING: Following parameter(s) are deprecated and still defined.\nDeprecated parameters will be removed soon! ManilaCephFSDataPoolPGNum,\nManilaCephFSMetadataPoolPGNum""\n\nThese have been deprecated since Stein[1], so let\'s remove them.\n\n[1] https://review.opendev.org/#/c/667586/\nChange-Id: Id8132d25591768f265b6779d85c5cc14e6838bae\n'}]",10,746923,798010faba7f5f47990598bc47c88ebb2adcc4ed,29,9,2,9003,,,0,"Remove deprecated Manila PGNum parameters

When deploying Manila with Ceph back end you get the
following message:

""WARNING: Following parameter(s) are deprecated and still defined.
Deprecated parameters will be removed soon! ManilaCephFSDataPoolPGNum,
ManilaCephFSMetadataPoolPGNum""

These have been deprecated since Stein[1], so let's remove them.

[1] https://review.opendev.org/#/c/667586/
Change-Id: Id8132d25591768f265b6779d85c5cc14e6838bae
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/746923/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'environments/low-memory-usage.yaml', 'deployment/ceph-ansible/ceph-base.yaml']",3,b5daefeee1d375d37b005ac9e53f33eb7195cfd0,,, # start DEPRECATED options for compatibility with older versions ManilaCephFSDataPoolPGNum: default: 128 type: number ManilaCephFSMetadataPoolPGNum: default: 128 type: number # end DEPRECATED options for compatibility with older versions,0,12
openstack%2Ftripleo-validations~stable%2Ftrain~I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196,openstack/tripleo-validations,stable/train,I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196,Add new Upgrades validation groups.,MERGED,2020-09-01 15:10:20.000000000,2020-09-02 01:35:46.000000000,2020-09-02 01:34:32.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-09-01 15:10:20.000000000', 'files': ['doc/source/index.rst', 'groups.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8755caa183453746b09a67babd9b030dfcb52da0', 'message': 'Add new Upgrades validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the Upgrades workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n(cherry picked from commit 7c0481ce7b4ce10c0e5e5c759c56147c2371a3ac)\n(cherry picked from commit d1f79351012fc6af3bd55b17a21e978ff2271fc0)\n'}]",0,749325,8755caa183453746b09a67babd9b030dfcb52da0,7,4,1,26343,,,0,"Add new Upgrades validation groups.

This patch adds all the needed groups to cover the different
stages for the Upgrades workflow.

Change-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196
(cherry picked from commit 7c0481ce7b4ce10c0e5e5c759c56147c2371a3ac)
(cherry picked from commit d1f79351012fc6af3bd55b17a21e978ff2271fc0)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/25/749325/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'groups.yaml']",2,8755caa183453746b09a67babd9b030dfcb52da0,,pre-system-upgrade: - description: >- Validations which verify that the operating system can be upgraded in the target node post-system-upgrade: - description: >- Validations which verify that the operating system upgrade went fine in the target node. pre-undercloud-upgrade: - description: >- Validations which verify that the undercloud is in a correct state before upgrading. post-undercloud-upgrade: - description: >- Validations which verify that the undercloud is in a correct state after upgrading. pre-overcloud-prepare: - description: >- Set of validations that check the right content for the templates passed to the overcloud upgrade prepare step. post-overcloud-prepare: - description: >- Validations which verify that the overcloud is in a correct state after running overcloud upgrade prepare step. pre-overcloud-upgrade: - description: >- Validations which verify that the overcloud is in a correct state before running overcloud upgrade run command. post-overcloud-upgrade: - description: >- Validations which verify that the overcloud is in a correct state before running overcloud upgrade run command. pre-overcloud-converge: - description: >- Set of validations that check the right content for the templates passed to the overcloud upgrad converge step. post-overcloud-converge: - description: >- Validations which verify that the overcloud is in a correct state after running overcloud upgrade converge command.,,50,0
openstack%2Ftrove~master~I3362e1f8a7dc21b89c060352f2db2f138c16db07,openstack/trove,master,I3362e1f8a7dc21b89c060352f2db2f138c16db07,Improve docker image for database backup/restore,MERGED,2020-09-01 21:37:24.000000000,2020-09-02 01:33:32.000000000,2020-09-02 01:32:08.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 21:37:24.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'backup/Dockerfile', 'trove/common/cfg.py', 'backup/install.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/43d7aec774c1adb015720c2cbae2774877e10d8a', 'message': ""Improve docker image for database backup/restore\n\n* Decrease the image size by not installing unnecessary packages.\n* Move the option 'backup_docker_image' to separate database config\n  section.\n\nChange-Id: I3362e1f8a7dc21b89c060352f2db2f138c16db07\n""}]",0,749397,43d7aec774c1adb015720c2cbae2774877e10d8a,7,2,1,6732,,,0,"Improve docker image for database backup/restore

* Decrease the image size by not installing unnecessary packages.
* Move the option 'backup_docker_image' to separate database config
  section.

Change-Id: I3362e1f8a7dc21b89c060352f2db2f138c16db07
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/749397/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'backup/Dockerfile', 'trove/common/cfg.py', 'backup/install.sh']",4,43d7aec774c1adb015720c2cbae2774877e10d8a,backup-docker-image,"#!/usr/bin/env bash set -e APTOPTS=""-y -qq --no-install-recommends --allow-unauthenticated"" case ""$1"" in ""mysql"") curl -sSL https://repo.percona.com/apt/percona-release_latest.$(lsb_release -sc)_all.deb -o percona-release.deb dpkg -i percona-release.deb percona-release enable-only tools release apt-get update apt-get install $APTOPTS percona-xtrabackup-$2 apt-get clean ;; ""mariadb"") apt-key adv --fetch-keys 'https://mariadb.org/mariadb_release_signing_key.asc' add-apt-repository ""deb [arch=amd64] http://mirror2.hs-esslingen.de/mariadb/repo/10.4/ubuntu $(lsb_release -cs) main"" apt-get update apt-get install $APTOPTS mariadb-backup apt-get clean ;; *) echo ""datastore $1 not supported"" exit 1 ;; esac ",,48,30
openstack%2Fdevstack~stable%2Ftrain~Ifa876b3e5f89258f40055fa7ce03f5e9c601771c,openstack/devstack,stable/train,Ifa876b3e5f89258f40055fa7ce03f5e9c601771c,Handle uwsgi install for CentOS/RHEL,ABANDONED,2020-08-21 13:21:59.000000000,2020-09-02 00:43:49.000000000,,"[{'_account_id': 6469}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 27329}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 13:21:59.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8e06750c42a5ed0696a852b6175dfd64ef8c4148', 'message': 'Handle uwsgi install for CentOS/RHEL\n\nChange-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c\n(cherry picked from commit f36de3d3f3cc114dc7d39704f716763be9682a18)\n'}]",0,747407,8e06750c42a5ed0696a852b6175dfd64ef8c4148,11,6,1,26106,,,0,"Handle uwsgi install for CentOS/RHEL

Change-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c
(cherry picked from commit f36de3d3f3cc114dc7d39704f716763be9682a18)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/747407/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,8e06750c42a5ed0696a852b6175dfd64ef8c4148,fix-uwsgi-centos-stable/train, elif is_fedora; then # Compile uwsgi from source.," elif [[ $os_VENDOR == ""Fedora"" ]]; then # Centos actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there.",2,4
openstack%2Ftempest~master~Ied4e1e02973942f421afc257f201bbdba3aa879d,openstack/tempest,master,Ied4e1e02973942f421afc257f201bbdba3aa879d,Wait until dependent resource is deleted,MERGED,2020-08-28 22:02:21.000000000,2020-09-02 00:42:49.000000000,2020-09-02 00:41:04.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20190}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 22873}, {'_account_id': 23140}, {'_account_id': 23186}, {'_account_id': 29585}, {'_account_id': 30746}, {'_account_id': 31479}, {'_account_id': 31707}]","[{'number': 1, 'created': '2020-08-28 22:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86a621120af9563886d26a9cdf4d0beb197da9d7', 'message': 'Wait until dependent resource is deleted\n\nThis makes network cleanup to wait until its\nports are cleanedup.\n\nChange-Id: Ied4e1e02973942f421afc257f201bbdba3aa879d\nCloses-bug: #1893487\n'}, {'number': 2, 'created': '2020-08-28 22:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0cf6d6edc3903cc77c906ab33fad2426c71127f3', 'message': 'Wait until dependent resource is deleted\n\nThis makes network cleanup to wait until its\nports are cleaned up.\n\nChange-Id: Ied4e1e02973942f421afc257f201bbdba3aa879d\nCloses-bug: #1893487\n'}, {'number': 3, 'created': '2020-08-31 18:28:54.000000000', 'files': ['tempest/api/network/admin/test_ports.py', 'tempest/api/network/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e866da9a115e623433b4078ba368c1d623b9c71f', 'message': 'Wait until dependent resource is deleted\n\nThis makes network cleanup to wait until its\nports are cleanedup.\n\nChange-Id: Ied4e1e02973942f421afc257f201bbdba3aa879d\nCloses-bug: #1893487\n'}]",3,748765,e866da9a115e623433b4078ba368c1d623b9c71f,40,17,3,18256,,,0,"Wait until dependent resource is deleted

This makes network cleanup to wait until its
ports are cleanedup.

Change-Id: Ied4e1e02973942f421afc257f201bbdba3aa879d
Closes-bug: #1893487
",git fetch https://review.opendev.org/openstack/tempest refs/changes/65/748765/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_ports.py'],1,86a621120af9563886d26a9cdf4d0beb197da9d7,bug/1893487," self.addCleanup(self.admin_ports_client.wait_for_resource_deletion, port['id']) self.addCleanup(self.admin_ports_client.wait_for_resource_deletion, port['id']) self.addCleanup(self.admin_ports_client.wait_for_resource_deletion, port['id']) self.addCleanup(self.admin_ports_client.wait_for_resource_deletion, port['id'])",,8,0
openstack%2Frequirements~master~I60f6ee8ad54ea2f03129eb3b6f76aa04daa94cd7,openstack/requirements,master,I60f6ee8ad54ea2f03129eb3b6f76aa04daa94cd7,update constraint for oslo.policy to new release 3.4.0,MERGED,2020-09-01 15:24:59.000000000,2020-09-02 00:42:35.000000000,2020-09-02 00:41:06.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:24:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d99ed8fa4a09bd87ee10adf34d7f9d9a61ad0ae0', 'message': 'update constraint for oslo.policy to new release 3.4.0\n\nChange-Id: I60f6ee8ad54ea2f03129eb3b6f76aa04daa94cd7\nmeta:version: 3.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\nmeta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749342,d99ed8fa4a09bd87ee10adf34d7f9d9a61ad0ae0,12,4,1,11131,,,0,"update constraint for oslo.policy to new release 3.4.0

Change-Id: I60f6ee8ad54ea2f03129eb3b6f76aa04daa94cd7
meta:version: 3.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf
meta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/749342/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d99ed8fa4a09bd87ee10adf34d7f9d9a61ad0ae0,new-release,oslo.policy===3.4.0,oslo.policy===3.3.2,1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I9d08168015487c48d8b380a9575ba236b7fb7d0d,openstack/tripleo-ansible,stable/ussuri,I9d08168015487c48d8b380a9575ba236b7fb7d0d,Expose tripleo_container_manage_clean_orphans var,MERGED,2020-09-01 04:31:59.000000000,2020-09-02 00:17:10.000000000,2020-09-02 00:16:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 04:31:59.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17e6d8c82be168bf6b059ee32e37387659e31f8c', 'message': 'Expose tripleo_container_manage_clean_orphans var\n\nThis exposes new var for tripleo_container_manage. Also,\nremoves the check to force set clean_orphans=True in\nneeds_delete filter, when there is one or no item in\nthe startup config.\n\nThere is a possibility when disabling services, there would\nbe one or zero container_startup_configs for a step.\n\nPartial-Bug: #1893335\nChange-Id: I9d08168015487c48d8b380a9575ba236b7fb7d0d\n(cherry picked from commit 1b93165288341659c956cdf71fa1903d62d61d7e)\n'}]",0,749176,17e6d8c82be168bf6b059ee32e37387659e31f8c,13,4,1,8833,,,0,"Expose tripleo_container_manage_clean_orphans var

This exposes new var for tripleo_container_manage. Also,
removes the check to force set clean_orphans=True in
needs_delete filter, when there is one or no item in
the startup config.

There is a possibility when disabling services, there would
be one or zero container_startup_configs for a step.

Partial-Bug: #1893335
Change-Id: I9d08168015487c48d8b380a9575ba236b7fb7d0d
(cherry picked from commit 1b93165288341659c956cdf71fa1903d62d61d7e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/749176/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml']",9,17e6d8c82be168bf6b059ee32e37387659e31f8c,,tripleo_container_manage_clean_orphans: true,,23,18
openstack%2Ftrove~master~Ib5ecc496aee28a6a2bbb01138e1f511bfc179302,openstack/trove,master,Ib5ecc496aee28a6a2bbb01138e1f511bfc179302,Remove the definition of trove-grenade,MERGED,2020-09-01 10:07:54.000000000,2020-09-02 00:08:14.000000000,2020-09-02 00:06:03.000000000,"[{'_account_id': 5689}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 10:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3a736c8152c091e701b88eb81bc634473b122826', 'message': ""Remove the definition of trove-grenade\n\nThe job is not used in this repository anymore (since\nI49bd6c824b837d22d9f3945a3e8c2343c831b352).\nIt was only used by grenade.git, but that usage has been removed\nby I8f976041e98502de4770ece8cb7f04a928e8f3d9.\n\nMoreover, it is a legacy job and it should be ported to a native\nZuul v3 job, and more important it doesn't really test the upgrade,\nbecause there are no grenade plugins for trove.\n\nAn upgrade job is useful, but a grenade trove plugin should be written\nfirst and a new native job should be created instead of restoring\nthe legacy one.\n\nDepends-On: https://review.opendev.org/749212\nChange-Id: Ib5ecc496aee28a6a2bbb01138e1f511bfc179302\n""}, {'number': 2, 'created': '2020-09-01 10:09:28.000000000', 'files': ['playbooks/legacy/grenade-dsvm-trove/run.yaml', 'playbooks/legacy/grenade-dsvm-trove/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/ca4e029f2a5b105bf479dc75b1f3f2d61595f5c0', 'message': ""Remove the definition of trove-grenade\n\n(and of its now unused parent trove-legacy-dsvm-base)\n\nThe job is not used in this repository anymore (since\nI49bd6c824b837d22d9f3945a3e8c2343c831b352).\nIt was only used by grenade.git, but that usage has been removed\nby I8f976041e98502de4770ece8cb7f04a928e8f3d9.\n\nMoreover, it is a legacy job and it should be ported to a native\nZuul v3 job, and more important it doesn't really test the upgrade,\nbecause there are no grenade plugins for trove.\n\nAn upgrade job is useful, but a grenade trove plugin should be written\nfirst and a new native job should be created instead of restoring\nthe legacy one.\n\nDepends-On: https://review.opendev.org/749212\nChange-Id: Ib5ecc496aee28a6a2bbb01138e1f511bfc179302\n""}]",0,749216,ca4e029f2a5b105bf479dc75b1f3f2d61595f5c0,8,3,2,10459,,,0,"Remove the definition of trove-grenade

(and of its now unused parent trove-legacy-dsvm-base)

The job is not used in this repository anymore (since
I49bd6c824b837d22d9f3945a3e8c2343c831b352).
It was only used by grenade.git, but that usage has been removed
by I8f976041e98502de4770ece8cb7f04a928e8f3d9.

Moreover, it is a legacy job and it should be ported to a native
Zuul v3 job, and more important it doesn't really test the upgrade,
because there are no grenade plugins for trove.

An upgrade job is useful, but a grenade trove plugin should be written
first and a new native job should be created instead of restoring
the legacy one.

Depends-On: https://review.opendev.org/749212
Change-Id: Ib5ecc496aee28a6a2bbb01138e1f511bfc179302
",git fetch https://review.opendev.org/openstack/trove refs/changes/16/749216/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-trove/run.yaml', 'playbooks/legacy/grenade-dsvm-trove/post.yaml', '.zuul.yaml']",3,3a736c8152c091e701b88eb81bc634473b122826,native-zuulv3-migration,, name: trove-grenade parent: trove-legacy-dsvm-base run: playbooks/legacy/grenade-dsvm-trove/run.yaml post-run: playbooks/legacy/grenade-dsvm-trove/post.yaml required-projects: - openstack/grenade - openstack/devstack-gate - openstack/trove - openstack/trove-dashboard - job:,0,73
openstack%2Fpython-octaviaclient~master~Ia7afa9268650744710bc486de1302eb36ac3849d,openstack/python-octaviaclient,master,Ia7afa9268650744710bc486de1302eb36ac3849d,Add ALPN support for listeners,MERGED,2020-08-03 16:14:40.000000000,2020-09-01 23:55:42.000000000,2020-09-01 23:54:14.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-03 16:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/95f6a19fa8e94cbae4675835b0cf0f8fc61c55ab', 'message': 'Add HTTP/2 support for listeners\n\nDepends-On: https://review.opendev.org/#/c/744520/\n\nChange-Id: Ia7afa9268650744710bc486de1302eb36ac3849d\n'}, {'number': 2, 'created': '2020-08-03 18:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/5f3422296504f13b1d6797aa29e2c9a5e186ee43', 'message': 'Add HTTP/2 support for listeners\n\nDepends-On: https://review.opendev.org/#/c/744520/\n\nChange-Id: Ia7afa9268650744710bc486de1302eb36ac3849d\n'}, {'number': 3, 'created': '2020-08-03 18:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/00ebb645433dee6115435aa4893d8a50f39dbf3e', 'message': 'Add ALPN support for listeners\n\nUsers can define a list of application layer protocols to be negotiated\nover a secure connection. For example, users can limit to HTTP/2 or\nto HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.\n\nDepends-On: https://review.opendev.org/#/c/744520/\n\nChange-Id: Ia7afa9268650744710bc486de1302eb36ac3849d\n'}, {'number': 4, 'created': '2020-08-25 18:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/88553d538590a06d0ae4b65abb9b5f6cf1c01f2c', 'message': 'Add ALPN support for listeners\n\nUsers can define a list of application layer protocols to be negotiated\nover a secure connection. For example, users can limit to HTTP/2 or\nto HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.\n\nDepends-On: https://review.opendev.org/#/c/744520/\n\nChange-Id: Ia7afa9268650744710bc486de1302eb36ac3849d\n'}, {'number': 5, 'created': '2020-08-25 19:45:39.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/osc/v2/listener.py', 'releasenotes/notes/add-alpn-support-listeners-6508704b5c8944d2.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/c6d587c791e6902730bb13ec62726bc22e1f6014', 'message': 'Add ALPN support for listeners\n\nUsers can define a list of application layer protocols to be negotiated\nover a secure connection. For example, users can limit to HTTP/2 or\nto HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.\n\nDepends-On: https://review.opendev.org/#/c/744520/\n\nChange-Id: Ia7afa9268650744710bc486de1302eb36ac3849d\n'}]",28,744521,c6d587c791e6902730bb13ec62726bc22e1f6014,24,5,5,6469,,,0,"Add ALPN support for listeners

Users can define a list of application layer protocols to be negotiated
over a secure connection. For example, users can limit to HTTP/2 or
to HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.

Depends-On: https://review.opendev.org/#/c/744520/

Change-Id: Ia7afa9268650744710bc486de1302eb36ac3849d
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/21/744521/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/listener.py']",2,95f6a19fa8e94cbae4675835b0cf0f8fc61c55ab,http2," parser.add_argument( '--alpn-protocol', dest='alpn_protocols', metavar='<alpn_protocols>', nargs='?', action='append', help=""Set the ALPN protocol to be used "" ""by the listener (can be set multiple times)."" ) parser.add_argument( '--alpn-protocol', dest='alpn_protocols', metavar='<alpn_protocols>', nargs='?', action='append', help=""Set the ALPN protocol to be used "" ""by the listener (can be set multiple times)."" ) parser.add_argument( '--alpn-protocols', action='store_true', help=""Clear all ALPN protocols from the listener."" )",,25,1
openstack%2Frequirements~master~I4def41191eb84b45eb12b53801d8db824407727d,openstack/requirements,master,I4def41191eb84b45eb12b53801d8db824407727d,update constraint for pbr to new release 5.5.0,MERGED,2020-09-01 20:02:10.000000000,2020-09-01 23:36:28.000000000,2020-09-01 23:35:20.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 20:02:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/415ad88325327336a1906812b5ed108a88bc56ff', 'message': 'update constraint for pbr to new release 5.5.0\n\nChange-Id: I4def41191eb84b45eb12b53801d8db824407727d\nmeta:version: 5.5.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Jeremy Stanley <fungi@yuggoth.org>\nmeta:release:Change-Id: I3f8d89d0773b71df14e112cb7f42894b22b6f33b\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Jeremy Stanley <fungi@yuggoth.org>\n'}]",0,749386,415ad88325327336a1906812b5ed108a88bc56ff,9,3,1,11131,,,0,"update constraint for pbr to new release 5.5.0

Change-Id: I4def41191eb84b45eb12b53801d8db824407727d
meta:version: 5.5.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Jeremy Stanley <fungi@yuggoth.org>
meta:release:Change-Id: I3f8d89d0773b71df14e112cb7f42894b22b6f33b
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Jeremy Stanley <fungi@yuggoth.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/749386/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,415ad88325327336a1906812b5ed108a88bc56ff,new-release,pbr===5.5.0,pbr===5.4.5,1,1
openstack%2Fdevstack~stable%2Ftrain~I8a6054cb324995de690dfc9c857aae455c8016c0,openstack/devstack,stable/train,I8a6054cb324995de690dfc9c857aae455c8016c0,Fix uwsgi install from source,NEW,2020-08-25 17:09:44.000000000,2020-09-01 23:24:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 26106}]","[{'number': 1, 'created': '2020-08-25 17:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/30dc206365ed3568fbf25aadf0bbb56b6769ffe0', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 2, 'created': '2020-08-25 19:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/27ec09c67006cc90a478078b83046aaedeb3ec79', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 3, 'created': '2020-08-25 21:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5f51af5f5b63218644f5855ad79bcc250b18c0fc', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 4, 'created': '2020-08-26 08:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ce4b224fdc7cf342774f711a291c8ac17bf281c1', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 5, 'created': '2020-08-26 12:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c1d0fcfe49ba6b542e1591890c0db68d36428e9f', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 6, 'created': '2020-08-26 19:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0f6fe92ac4cdca17ce80debd1bad15af716af977', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\nDepends-On: https://review.opendev.org/#/c/748290/\n'}, {'number': 7, 'created': '2020-08-28 09:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f32120af6933bf6b856936eb9dffbb12b771a21f', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\nDepends-On: https://review.opendev.org/#/c/748290/\n'}, {'number': 8, 'created': '2020-08-28 16:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2eb82eed8e46dcd19a3bcf3c6e6a34673f0c2e88', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\nDepends-On: https://review.opendev.org/#/c/748290/\n'}, {'number': 9, 'created': '2020-08-31 08:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/30de6595f21a7f03bf33e75d7adc639a00eab874', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\nDepends-On: https://review.opendev.org/#/c/748290/\n'}, {'number': 10, 'created': '2020-08-31 10:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef1519b53d17897188d170f5e9a8042f695d8dee', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 11, 'created': '2020-08-31 12:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a8a91b2452ebc8c7f9525dc8548807e54e65025d', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 12, 'created': '2020-09-01 09:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/17e929c201d305b5151cc1c766135dbbefc55c8d', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 13, 'created': '2020-09-01 14:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/362c91bc8e90287a901b352d2eca4d867440a2a8', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}, {'number': 14, 'created': '2020-09-01 17:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5ae8819cde9359fe14ed6ddb0206900c05f4cf4c', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\nDepends-On: https://review.opendev.org/#/c/687405/\n'}, {'number': 15, 'created': '2020-09-01 21:23:06.000000000', 'files': ['inc/python', 'tools/install_pip.sh', 'lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b0ca5cd665640a9acea26d3429198ce5e7de4d2', 'message': 'Fix uwsgi install from source\n\nChange-Id: I8a6054cb324995de690dfc9c857aae455c8016c0\n'}]",0,747987,9b0ca5cd665640a9acea26d3429198ce5e7de4d2,28,2,15,26106,,,0,"Fix uwsgi install from source

Change-Id: I8a6054cb324995de690dfc9c857aae455c8016c0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/747987/11 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,30dc206365ed3568fbf25aadf0bbb56b6769ffe0,fix-uwsgi-centos," uwsgi=$(ls [uwsgi][uWSGI]*) if [-d ""apache2""]; then cd apache2 else cd uwsgi*/apache2 fi", uwsgi=$(ls uwsgi*) cd uwsgi*/apache2,6,2
openstack%2Fneutron~stable%2Fussuri~Iea4263b852d1e3f81eb2557918ea3cbb7adb8016,openstack/neutron,stable/ussuri,Iea4263b852d1e3f81eb2557918ea3cbb7adb8016,[OVN] Use the Chassis_Private table for agents healthcheck,MERGED,2020-08-24 08:48:33.000000000,2020-09-01 23:21:43.000000000,2020-09-01 23:20:21.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-24 08:48:33.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c13d6f527c78d1e47b0e2ecd273152fc26f8c0ab', 'message': ""[OVN] Use the Chassis_Private table for agents healthcheck\n\nThe core OVN team has introduced a new table called Chassis_Private to\navoid nb_cfg flooding when checking for the Chassis' status. The OVN\ndriver does rely on that mechanism for the agent liveness mechanism.\n\nThis patch makes use of this new table but it's also backward\ncompatible.\n\nFor more information, check the core OVN changes at:\nhttps://patchwork.ozlabs.org/patch/1254394.\n\nCloses-Bug: #1892477\nChange-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 1dddbbfc92b115bfd62e15081134a5cadbc15212)\n""}]",0,747648,c13d6f527c78d1e47b0e2ecd273152fc26f8c0ab,26,5,1,6773,,,0,"[OVN] Use the Chassis_Private table for agents healthcheck

The core OVN team has introduced a new table called Chassis_Private to
avoid nb_cfg flooding when checking for the Chassis' status. The OVN
driver does rely on that mechanism for the agent liveness mechanism.

This patch makes use of this new table but it's also backward
compatible.

For more information, check the core OVN changes at:
https://patchwork.ozlabs.org/patch/1254394.

Closes-Bug: #1892477
Change-Id: Iea4263b852d1e3f81eb2557918ea3cbb7adb8016
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 1dddbbfc92b115bfd62e15081134a5cadbc15212)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/747648/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",8,c13d6f527c78d1e47b0e2ecd273152fc26f8c0ab,," # The agent_chassis_table will be changed to Chassis_Private if it # exists, we need to have a connection in order to check that. self.agent_chassis_table = 'Chassis' if self._sb_ovn.is_table_present('Chassis_Private'): self.agent_chassis_table = 'Chassis_Private' self._sb_ovn.db_set( self.agent_chassis_table, agent.chassis_private.uuid, ('external_ids', {agent.key: value})).execute(check_error=True) def agents_from_chassis(self, chassis_private, update_db=True): for agent in [a(chassis_private) for a in n_agent.NeutronAgent.agent_types()]: for ch in driver._sb_ovn.tables[driver.agent_chassis_table].rows.values(): # look up Chassis by *name*, which the id attribute is chassis = _driver._sb_ovn.lookup(_driver.agent_chassis_table, id) for ch in _driver._sb_ovn.tables[ _driver.agent_chassis_table].rows.values():"," self._sb_ovn.db_set('Chassis', agent.chassis.uuid, ('external_ids', {agent.key: value})).execute( check_error=True) def agents_from_chassis(self, chassis, update_db=True): for agent in [a(chassis) for a in n_agent.NeutronAgent.agent_types()]: for ch in driver._sb_ovn.tables['Chassis'].rows.values(): # look up Chassis by *name*, which the id attribte is chassis = _driver._sb_ovn.lookup('Chassis', id) for ch in _driver._sb_ovn.tables['Chassis'].rows.values():",89,47
openstack%2Ftripleo-ci~master~I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd,openstack/tripleo-ci,master,I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd,Make train centos-8 scen0 overcloud update job voting/gating,MERGED,2020-07-22 13:08:57.000000000,2020-09-01 23:01:01.000000000,2020-09-01 23:01:01.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-07-22 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c2729a47d4451b6e982e14880658541e986450be', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}, {'number': 2, 'created': '2020-07-29 10:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/019ec1d859151a15222d29c1d9b3313166d49f83', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}, {'number': 3, 'created': '2020-07-29 10:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b9c6c8f1329d1694dab721ddee261d5a59d030ad', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}, {'number': 4, 'created': '2020-08-05 10:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2023a3205a65a689b15fa4dfb24e17376c977016', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}, {'number': 5, 'created': '2020-08-11 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/674127de81777adae452ce55f87e2f47dcbb2b0e', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}, {'number': 6, 'created': '2020-08-26 11:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7eb5ee425a39773298e33526233da2811cc6fcd6', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}, {'number': 7, 'created': '2020-09-01 09:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/11f4bad3dfee4a13fd1a77b836a428160e263b8d', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}, {'number': 8, 'created': '2020-09-01 15:33:43.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/55aaeddb6143854f2b39d775ed3a5cb46c24bb45', 'message': 'Make train centos-8 scen0 overcloud update job voting/gating\n\nThis makes the centos-8 scenario0 *train* job vote and gate and is\ncurrently blocked on related-bug below. Tracked by tripleo-ci at\n[1]. Also removes the redundant branch override/override-checkout\nvariables since the jobs are targetted to a specific branch.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1887176\n\nChange-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd\n'}]",0,742420,55aaeddb6143854f2b39d775ed3a5cb46c24bb45,31,7,8,8449,,,0,"Make train centos-8 scen0 overcloud update job voting/gating

This makes the centos-8 scenario0 *train* job vote and gate and is
currently blocked on related-bug below. Tracked by tripleo-ci at
[1]. Also removes the redundant branch override/override-checkout
variables since the jobs are targetted to a specific branch.

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817
Related-Bug: 1887176

Change-Id: I0b1cd1289ff2012aca97085c4e3ff9e2692d2abd
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/742420/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,c2729a47d4451b6e982e14880658541e986450be,centos8_upgrades_jobs, - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: irrelevant-files: *multinode_ignored voting: true, voting: false # https://bugs.launchpad.net/tripleo/+bug/1887176,5,1
openstack%2Ftripleo-ci~master~If9247349c389fc23b93849c7b79473e121bc95a3,openstack/tripleo-ci,master,If9247349c389fc23b93849c7b79473e121bc95a3,Centos8 undercloud upgrade - rename & split ussuri voting/gating,MERGED,2020-07-22 13:08:57.000000000,2020-09-01 23:01:00.000000000,2020-09-01 23:01:00.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-22 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/341b7565266882a1c5f1152370b32084433d7612', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 2, 'created': '2020-07-27 15:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ee4654c2db781c17c2ae8c4ac8b586c7744f5c97', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 3, 'created': '2020-07-28 11:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82cf807e0b6b7f6c86ca4162aa99bf831d19f689', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 4, 'created': '2020-07-29 10:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e742e5d9f51e0bc3f9a3baf9ee20340e8b9185b3', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 5, 'created': '2020-08-03 12:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bef53656e966471c3248b70ff791316c8beb7382', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 6, 'created': '2020-08-04 20:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b837467cded22a20881cd7dd99c046156f07f04d', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 7, 'created': '2020-08-05 10:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/91f9afd387fa3708d5db8624fd912f8d437e5421', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 8, 'created': '2020-08-11 15:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e5559de9a10e9bf836eb0a52f431f6daf30af46', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 9, 'created': '2020-09-01 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b4f818ba774182fe0b18e400e8f07b603c3140f', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussui one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}, {'number': 10, 'created': '2020-09-01 15:22:33.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7458679c6d3ced1a549f6db521c682c3b21ee978', 'message': ""Centos8 undercloud upgrade - rename & split ussuri voting/gating\n\nThis splits the centos8 undercloud upgrade job to master/ussuri\nversions. The ussuri one should be voting but blocked on related\nbug below. Tracked by tripleo-ci at [1]. Also drops the\n'containerized' bit from the name.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\nRelated-Bug: 1888411\n\nChange-Id: If9247349c389fc23b93849c7b79473e121bc95a3\n""}]",4,742419,7458679c6d3ced1a549f6db521c682c3b21ee978,52,7,10,8449,,,0,"Centos8 undercloud upgrade - rename & split ussuri voting/gating

This splits the centos8 undercloud upgrade job to master/ussuri
versions. The ussuri one should be voting but blocked on related
bug below. Tracked by tripleo-ci at [1]. Also drops the
'containerized' bit from the name.

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817
Related-Bug: 1888411

Change-Id: If9247349c389fc23b93849c7b79473e121bc95a3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/19/742419/9 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,341b7565266882a1c5f1152370b32084433d7612,centos8_upgrades_jobs, - tripleo-ci-centos-8-undercloud-upgrade: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-8-undercloud-upgrade-ussuri: - tripleo-ci-centos-8-undercloud-upgrade-ussuri: irrelevant-files: *undercloud_ignored name: tripleo-ci-centos-8-undercloud-upgrade branches: ^master$ - job: name: tripleo-ci-centos-8-undercloud-upgrade-ussuri parent: tripleo-ci-base-singlenode-centos-8 branches: ^stable/ussuri$ override-checkout: 'stable/ussuri' voting: true vars: branch_override: 'stable/ussuri' featureset: '050' featureset_override: validate_services: false extra_tags: - undercloud-upgrade, - tripleo-ci-centos-8-containerized-undercloud-upgrades: name: tripleo-ci-centos-8-containerized-undercloud-upgrades branches: ^(?!stable/(queens|rocky|stein|train)).*$,21,3
openstack%2Ftripleo-ansible~master~Ia1b998069a5c973813c187ea1efa9b5715a55f28,openstack/tripleo-ansible,master,Ia1b998069a5c973813c187ea1efa9b5715a55f28,Add tripleo_deploy_artifacts,MERGED,2020-08-28 21:32:19.000000000,2020-09-01 22:27:56.000000000,2020-09-01 22:26:39.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-28 21:32:19.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_deploy_artifacts.py', 'doc/source/modules/modules-tripleo_deploy_artifacts.rst', 'tripleo_ansible/tests/modules/test_tripleo_deploy_artifacts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f55f2185353df4b65a6d980bbdd1fc0ef0530555', 'message': 'Add tripleo_deploy_artifacts\n\nThis module takes a list of urls of rpms or tar.gz files and applies\nthem to a system.\n\nChange-Id: Ia1b998069a5c973813c187ea1efa9b5715a55f28\n'}]",4,748757,f55f2185353df4b65a6d980bbdd1fc0ef0530555,14,6,1,14985,,,0,"Add tripleo_deploy_artifacts

This module takes a list of urls of rpms or tar.gz files and applies
them to a system.

Change-Id: Ia1b998069a5c973813c187ea1efa9b5715a55f28
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/748757/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_deploy_artifacts.py', 'doc/source/modules/modules-tripleo_deploy_artifacts.rst', 'tripleo_ansible/tests/modules/test_tripleo_deploy_artifacts.py']",3,f55f2185353df4b65a6d980bbdd1fc0ef0530555,deploy-artifacts,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tripleo_ansible.ansible_plugins.modules import tripleo_deploy_artifacts from tripleo_ansible.tests import base as tests_base import mock class TestTripleoDeployArtifacts(tests_base.TestCase): @mock.patch('tripleo_ansible.ansible_plugins.modules.' 'tripleo_deploy_artifacts.deploy_targz') @mock.patch('tripleo_ansible.ansible_plugins.modules.' 'tripleo_deploy_artifacts.deploy_rpm') @mock.patch('tripleo_ansible.ansible_plugins.modules.' 'tripleo_deploy_artifacts._get_filetype') @mock.patch('urllib.request.urlretrieve') def test_run(self, mock_urlretrieve, mock_filetype, mock_rpm, mock_tgz): module = mock.MagicMock() module.params = {'artifact_urls': ['myrpm', 'mytgz']} mock_exit = mock.MagicMock() module.exit_json = mock_exit mock_filetype.side_effect = ['rpm', 'targz'] mock_urlretrieve.side_effect = [('foo', None), ('bar', None)] tripleo_deploy_artifacts.run(module) self.assertEqual(mock_filetype.call_count, 2) mock_filetype.has_calls([mock.call('myrpm'), mock.call('mytgz')]) mock_rpm.assert_called_once_with('foo') mock_tgz.assert_called_once_with('bar') mock_exit.assert_called_once_with(changed=True) @mock.patch('urllib.request.urlretrieve') def test_run_fail(self, mock_urlretrieve): module = mock.MagicMock() module.params = {'artifact_urls': ['myrpm', 'mytgz']} mock_exit = mock.MagicMock() module.exit_json = mock_exit mock_urlretrieve.side_effect = Exception('meh') tripleo_deploy_artifacts.run(module) mock_exit.assert_called_once_with(changed=False, error=mock.ANY, failed=True, msg='Unhandled exception: meh') @mock.patch('tripleo_ansible.ansible_plugins.modules.' 'tripleo_deploy_artifacts._get_filetype') @mock.patch('urllib.request.urlretrieve') def test_run_unknown(self, mock_urlretrieve, mock_filetype): module = mock.MagicMock() module.params = {'artifact_urls': ['bad']} mock_filetype.return_value = 'UNKNOWN' mock_exit = mock.MagicMock() module.exit_json = mock_exit mock_urlretrieve.return_value = ('foo', None) tripleo_deploy_artifacts.run(module) mock_exit.assert_called_once_with(changed=False, error='Invalid file format', failed=True, msg=('Unable to determine file ' 'format for bad')) @mock.patch('subprocess.run') def test_get_filetype_rpm(self, mock_run): mock_rc = mock.MagicMock() mock_rc.stdout = 'RPM v3.0 bin i386/x86_64 foo-0.0.1' mock_run.return_value = mock_rc self.assertEqual('rpm', tripleo_deploy_artifacts._get_filetype('foo')) mock_run.assert_called_once_with('file -b foo', shell=True, stderr=-1, stdout=-1, universal_newlines=True) @mock.patch('subprocess.run') def test_get_filetype_targz(self, mock_run): mock_rc = mock.MagicMock() mock_rc.stdout = ('gzip compressed data, last modified: Fri Mar 13 ' '22:10:46 2020, from Unix, original size modulo ' '2^32 4280320') mock_run.return_value = mock_rc self.assertEqual('targz', tripleo_deploy_artifacts._get_filetype('foo')) mock_run.assert_called_once_with('file -b foo', shell=True, stderr=-1, stdout=-1, universal_newlines=True) @mock.patch('subprocess.run') def test_get_filetype_unknown(self, mock_run): mock_rc = mock.MagicMock() mock_rc.stdout = 'ASCII File' mock_run.return_value = mock_rc self.assertEqual('UNKNOWN', tripleo_deploy_artifacts._get_filetype('foo')) mock_run.assert_called_once_with('file -b foo', shell=True, stderr=-1, stdout=-1, universal_newlines=True) @mock.patch('subprocess.run') def test_get_filetype_fail(self, mock_run): mock_run.side_effect = Exception('meh') self.assertRaises(Exception, tripleo_deploy_artifacts._get_filetype, 'foo') @mock.patch('os.rename') @mock.patch('subprocess.run') def test_deploy_rpm(self, mock_run, mock_rename): tripleo_deploy_artifacts.deploy_rpm('foo') mock_run.assert_called_once_with('dnf install -y foo.rpm', check=True, shell=True, stderr=-1, universal_newlines=True) @mock.patch('os.unlink') @mock.patch('os.path.exists') @mock.patch('os.rename') @mock.patch('subprocess.run') def test_deploy_rpm_fail(self, mock_run, mock_rename, mock_exists, mock_unlink): mock_run.side_effect = Exception('meh') mock_exists.return_value = True self.assertRaises(Exception, tripleo_deploy_artifacts.deploy_rpm, 'foo') mock_unlink.assert_called_once_with('foo.rpm') @mock.patch('subprocess.run') def test_deploy_targz(self, mock_run): tripleo_deploy_artifacts.deploy_targz('foo') mock_run.assert_called_once_with('tar xvzf -C / foo', check=True, shell=True, stderr=-1, universal_newlines=True) @mock.patch('os.unlink') @mock.patch('os.path.exists') @mock.patch('subprocess.run') def test_deploy_targz_fail(self, mock_run, mock_exists, mock_unlink): mock_run.side_effect = Exception('meh') mock_exists.return_value = True self.assertRaises(Exception, tripleo_deploy_artifacts.deploy_targz, 'foo') mock_unlink.assert_called_once_with('foo') ",,311,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I9d08168015487c48d8b380a9575ba236b7fb7d0d,openstack/tripleo-ansible,stable/train,I9d08168015487c48d8b380a9575ba236b7fb7d0d,Expose tripleo_container_manage_clean_orphans var,MERGED,2020-09-01 04:40:59.000000000,2020-09-01 22:27:54.000000000,2020-09-01 22:26:41.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 04:40:59.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/delete_orphan.yml', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1f78497daad5c5bf22a5828118da724a3f1af66', 'message': 'Expose tripleo_container_manage_clean_orphans var\n\nThis exposes new var for tripleo_container_manage. Also,\nremoves the check to force set clean_orphans=True in\nneeds_delete filter, when there is one or no item in\nthe startup config.\n\nThere is a possibility when disabling services, there would\nbe one or zero container_startup_configs for a step.\n\nPartial-Bug: #1893335\nChange-Id: I9d08168015487c48d8b380a9575ba236b7fb7d0d\n(cherry picked from commit 1b93165288341659c956cdf71fa1903d62d61d7e)\n'}]",0,749179,a1f78497daad5c5bf22a5828118da724a3f1af66,8,3,1,8833,,,0,"Expose tripleo_container_manage_clean_orphans var

This exposes new var for tripleo_container_manage. Also,
removes the check to force set clean_orphans=True in
needs_delete filter, when there is one or no item in
the startup config.

There is a possibility when disabling services, there would
be one or zero container_startup_configs for a step.

Partial-Bug: #1893335
Change-Id: I9d08168015487c48d8b380a9575ba236b7fb7d0d
(cherry picked from commit 1b93165288341659c956cdf71fa1903d62d61d7e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/749179/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/delete_orphan.yml', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml']",8,a1f78497daad5c5bf22a5828118da724a3f1af66,, tripleo_container_manage_clean_orphans: false tripleo_container_manage_clean_orphans: false,,21,18
openstack%2Ftripleo-ansible~master~I90a93b1a384960a03a91b3ca0dfeeb26bef786aa,openstack/tripleo-ansible,master,I90a93b1a384960a03a91b3ca0dfeeb26bef786aa,Fix a typo in the explanatory note,MERGED,2020-08-16 12:40:27.000000000,2020-09-01 22:26:42.000000000,2020-09-01 22:26:42.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-16 12:40:27.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de15f8599adcddc6c3df7bc094aa7d3606c0b068', 'message': ""Fix a typo in the explanatory note\n\nThis patch changes 'seperate' to 'separate'\nin the 17 line of tripleo_ansible/roles/\nbackup_and_restore/tasks/db_backup.yml\n\nChange-Id: I90a93b1a384960a03a91b3ca0dfeeb26bef786aa\n""}]",0,746401,de15f8599adcddc6c3df7bc094aa7d3606c0b068,8,4,1,30696,,,0,"Fix a typo in the explanatory note

This patch changes 'seperate' to 'separate'
in the 17 line of tripleo_ansible/roles/
backup_and_restore/tasks/db_backup.yml

Change-Id: I90a93b1a384960a03a91b3ca0dfeeb26bef786aa
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/746401/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,de15f8599adcddc6c3df7bc094aa7d3606c0b068,typo,# Create a backup for each database into separate files.,# Create a backup for each database into seperate files.,1,1
openstack%2Fpython-tripleoclient~master~Icd00228ba34ec917c16aa867387659320ded356b,openstack/python-tripleoclient,master,Icd00228ba34ec917c16aa867387659320ded356b,Add a raise when an image is found without config,MERGED,2020-08-28 16:21:48.000000000,2020-09-01 22:06:55.000000000,2020-09-01 22:05:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-28 16:21:48.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/65b734ac55a767b950334c3d8d8088e8f4e6619e', 'message': 'Add a raise when an image is found without config\n\nThis change will ensure we raise an exception and log when we discover\nan image without a config, or if an invalid image name is used in\nconfig.\n\nChange-Id: Icd00228ba34ec917c16aa867387659320ded356b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,748715,65b734ac55a767b950334c3d8d8088e8f4e6619e,11,4,1,7353,,,0,"Add a raise when an image is found without config

This change will ensure we raise an exception and log when we discover
an image without a config, or if an invalid image name is used in
config.

Change-Id: Icd00228ba34ec917c16aa867387659320ded356b
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/748715/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/tripleo_container_image.py'],1,65b734ac55a767b950334c3d8d8088e8f4e6619e,," if not image_config: self.log.error(""Image processing failure: {}"".format(image)) raise RuntimeError( ""Container image specified, but no"" ""config was provided. Image: {}"".format(image) )",,6,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,openstack/tripleo-heat-templates,stable/ussuri,Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,Use appropriate allocation pools for StorageNFS,MERGED,2020-08-31 12:59:44.000000000,2020-09-01 21:40:52.000000000,2020-09-01 21:39:01.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-31 12:59:44.000000000', 'files': ['network_data_ganesha.yaml', 'releasenotes/notes/fix-allocation-range-for-StorageNFS-net.yaml-bd77be924e8b7056.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6efb29dcc7294a289a78cf380b14eaf146a1a49e', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n(cherry picked from commit 4e8a05833cb9679bc6140839305d075389dc4822)\n""}]",0,749048,6efb29dcc7294a289a78cf380b14eaf146a1a49e,12,7,1,9003,,,0,"Use appropriate allocation pools for StorageNFS

The StorageNFS network was defined in network_data_ganesha.yaml
using allocation ranges that mirrored those of the other isolated
networks.  But TripleO and the undercloud only need to use a small
number of addresses for overcloud deployment -- in the default
three-controller case, one for the regular StorageNFS interface on
each ControllerNfs role node, and one for the VIP on which the NFS
service is offered.  The bulk of the addresses in the StorageNFS CIDR
should be left out of the allocation range defined in network_data
so that they can be used by the allocation pool for the overcloud
Netron StorageNFS provider network's subnet without danger of
overlap.

This change uses a CIDR with a shorter prefix so that there will
be sufficient IPs left over after the undercloud's TripleO allocation
pool to deploy almost 4000 clients on the Neutron StorageNFS provider
network's subnet.

This commit also includes some minor changes to synchronize
network_data_ganesha.yaml with network_data.yaml since the former
was derived from the latter and should differ from it only by
inclustion of the StorageNFS network.

Closes-bug: #1889682

Change-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28
(cherry picked from commit 4e8a05833cb9679bc6140839305d075389dc4822)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/749048/1 && git format-patch -1 --stdout FETCH_HEAD,"['network_data_ganesha.yaml', 'releasenotes/notes/fix-allocation-range-for-StorageNFS-net.yaml-bd77be924e8b7056.yaml']",2,6efb29dcc7294a289a78cf380b14eaf146a1a49e,bug/1889682,"--- upgrade: - | The CIDR for the StorageNFS network in the sample network_data_ganesha.yaml file has been modified to provide more usable IPs for the corresponding Neutron overcloud StorageNFS provider network. Since the CIDR of an existing network cannot be modified, deployments with existing StorageNFS networks should be sure to customize the StorageNFS network definition to use the same CIDR as that in their existing deployment in order to avoid a heat resource failure when updating or upgrading the overcloud. fixes: - | Fixed issue in the sample network_data_ganesha.yaml file where the IPv4 allocation range for the StorageNFS network occupies almost the whole of its CIDR. If network_data_ganesha.yaml is used without modification in a customer deployment then there are too few IPs left over in its CIDR for use by the corresponding overcloud Neutron StorageNFS provider network for its overcloud DHCP service. (See `bug: #1889682 <https://bugs.launchpad.net/tripleo/+bug/1889682>`_)",,66,4
openstack%2Ftripleo-heat-templates~master~I8b1b77f6545474272d06f21a40a55e51167602f9,openstack/tripleo-heat-templates,master,I8b1b77f6545474272d06f21a40a55e51167602f9,Fix typos,MERGED,2020-05-27 08:28:36.000000000,2020-09-01 21:39:13.000000000,2020-09-01 21:39:13.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31695}]","[{'number': 1, 'created': '2020-05-27 08:28:36.000000000', 'files': ['plan-samples/plan-environment-derived-params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4697bc2a59b21859118b71537f664448b02d7a39', 'message': 'Fix typos\n\nChange-Id: I8b1b77f6545474272d06f21a40a55e51167602f9\n'}]",0,731108,4697bc2a59b21859118b71537f664448b02d7a39,25,5,1,31695,,,0,"Fix typos

Change-Id: I8b1b77f6545474272d06f21a40a55e51167602f9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/731108/1 && git format-patch -1 --stdout FETCH_HEAD,['plan-samples/plan-environment-derived-params.yaml'],1,4697bc2a59b21859118b71537f664448b02d7a39,typo," # Specifies the minimum number of CPU physical cores to be allocated for DPDK # Amount of memory to be configured as huge pages in percentage. Out of # the total available memory (excluding the NovaReservedHostMemory), the"," # Specifices the minimum number of CPU physical cores to be allocated for DPDK # Amount of memory to be configured as huge pages in percentage. Ouf the # total available memory (excluding the NovaReservedHostMemory), the",3,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0,openstack/tripleo-heat-templates,stable/stein,Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0,Change multinode CI to use default location for amphora images,MERGED,2020-01-10 12:41:26.000000000,2020-09-01 21:39:11.000000000,2020-09-01 21:39:11.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-10 12:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06dbeffc54f014497e2ef31880adea7099ea65bc', 'message': ""DNM: checking default location\n\nThe multinode job has been working on stein but doesn't want to work on\nrocky or queens because the amphora can't be found by mistral. Maybe\nthere is something funky about the default amphora location. Changing\nthe currently functioning stein to use the same location as rocky/queens\nmight reveal something we are missing.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0\n""}, {'number': 2, 'created': '2020-01-13 14:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27d23e9cc6a4e13ae9c91dad79f43e4b3e3af116', 'message': ""DNM: checking default location\n\nThe multinode job has been working on stein but doesn't want to work on\nrocky or queens because the amphora can't be found by mistral. Maybe\nthere is something funky about the default amphora location. Changing\nthe currently functioning stein to use the same location as rocky/queens\nmight reveal something we are missing.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0\n""}, {'number': 3, 'created': '2020-01-17 13:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ab7246c057243914c122bcd7e3a01e4b5bcabb9', 'message': 'Change multinode CI to use default location for amphora images\n\nThe standalone job tests one branch of deployment code for locating and\nuploading amphora images to glance. There is benefit to having the\nmultinode job test the other branch i.e. expect the amphora in the\ndefault location.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0\n'}, {'number': 4, 'created': '2020-02-18 17:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d26839edb75b1b1090cc87c30e5ac6c70cd0fe33', 'message': 'Change multinode CI to use default location for amphora images\n\nThe standalone job tests one branch of deployment code for locating and\nuploading amphora images to glance. There is benefit to having the\nmultinode job test the other branch i.e. expect the amphora in the\ndefault location.\n\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0\n'}, {'number': 5, 'created': '2020-09-01 11:46:51.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5f04bfbed154a45d9ffb591cce97cc8402497e0', 'message': 'Change multinode CI to use default location for amphora images\n\nThe standalone job tests one branch of deployment code for locating and\nuploading amphora images to glance. There is benefit to having the\nmultinode job test the other branch i.e. expect the amphora in the\ndefault location.\n\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0\n'}]",0,701948,c5f04bfbed154a45d9ffb591cce97cc8402497e0,28,6,5,6681,,,0,"Change multinode CI to use default location for amphora images

The standalone job tests one branch of deployment code for locating and
uploading amphora images to glance. There is benefit to having the
multinode job test the other branch i.e. expect the amphora in the
default location.

Depends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe
Change-Id: Icd8dcf11c645cbafdd1f409af8dbdeed4b3526b0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/701948/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-multinode-containers.yaml'],1,06dbeffc54f014497e2ef31880adea7099ea65bc,stein,, OctaviaAmphoraImageFilename: /home/zuul/amphora.qcow2,0,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Idcd6485f24e70c965ebd60569a2d6cc06a1037d9,openstack/tripleo-heat-templates,stable/train,Idcd6485f24e70c965ebd60569a2d6cc06a1037d9,Remove remaining Skydive references,MERGED,2020-08-28 14:59:07.000000000,2020-09-01 21:39:03.000000000,2020-09-01 21:39:02.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32114}]","[{'number': 1, 'created': '2020-08-28 14:59:07.000000000', 'files': ['roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18c36861c6cf5c884c9238ab846e5aad6db1b799', 'message': 'Remove remaining Skydive references\n\nSupport has been dropped for skyzone but these two\nfiles remained. I think these were missed from\nhttps://review.opendev.org/#/c/712783/\n\nChange-Id: Idcd6485f24e70c965ebd60569a2d6cc06a1037d9\n(cherry picked from commit 2e76336c4173ba3aa784755a183483645e6b39a0)\n'}]",0,748686,18c36861c6cf5c884c9238ab846e5aad6db1b799,20,6,1,3153,,,0,"Remove remaining Skydive references

Support has been dropped for skyzone but these two
files remained. I think these were missed from
https://review.opendev.org/#/c/712783/

Change-Id: Idcd6485f24e70c965ebd60569a2d6cc06a1037d9
(cherry picked from commit 2e76336c4173ba3aa784755a183483645e6b39a0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/748686/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ControllerSriov.yaml'],1,18c36861c6cf5c884c9238ab846e5aad6db1b799,skydive/removal/train,, - OS::TripleO::Services::SkydiveAgent - OS::TripleO::Services::SkydiveAnalyzer,0,2
openstack%2Ftripleo-upgrade~stable%2Ftrain~Iad17835b99efd568b334955a05bfb3fd4566c7f2,openstack/tripleo-upgrade,stable/train,Iad17835b99efd568b334955a05bfb3fd4566c7f2,[ffwd] Support for OSP14,MERGED,2020-09-01 10:28:41.000000000,2020-09-01 21:32:50.000000000,2020-09-01 21:32:50.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-09-01 10:28:41.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bffa2571d27fbabd0efc4a99a7f7385cc023c8c9', 'message': ""[ffwd] Support for OSP14\n\nThere are extra packages present in dependancy chain on OSP14.\nWe ensure we don't remove python2-chardet before leapp.\n\nChange-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2\n(cherry picked from commit 296b4c5ecf461a4b79519f892f1c527cba8d8a62)\n""}]",0,749219,bffa2571d27fbabd0efc4a99a7f7385cc023c8c9,6,3,1,6816,,,0,"[ffwd] Support for OSP14

There are extra packages present in dependancy chain on OSP14.
We ensure we don't remove python2-chardet before leapp.

Change-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2
(cherry picked from commit 296b4c5ecf461a4b79519f892f1c527cba8d8a62)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/19/749219/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,bffa2571d27fbabd0efc4a99a7f7385cc023c8c9,, -python2-chardet,,1,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I78410e7d20ff3da8a6beb18767ef022efb1e522e,openstack/tripleo-upgrade,stable/train,I78410e7d20ff3da8a6beb18767ef022efb1e522e,[ffwd] Stop retrying upgrade,MERGED,2020-09-01 10:29:15.000000000,2020-09-01 21:32:49.000000000,2020-09-01 21:32:49.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-09-01 10:29:15.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/undercloud_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0caec95045be7424f593e5381f03bee740b2b976', 'message': '[ffwd] Stop retrying upgrade\n\nRetries were introduced to help with development and also to\nvalidate idempotency of the FFWD code. At this stage we want\nto fail as fast as possible.\n\nChange-Id: I78410e7d20ff3da8a6beb18767ef022efb1e522e\n(cherry picked from commit 7fc657c03aa684b942b1f82b5b6eace614de2e22)\n'}]",0,749220,0caec95045be7424f593e5381f03bee740b2b976,6,3,1,6816,,,0,"[ffwd] Stop retrying upgrade

Retries were introduced to help with development and also to
validate idempotency of the FFWD code. At this stage we want
to fail as fast as possible.

Change-Id: I78410e7d20ff3da8a6beb18767ef022efb1e522e
(cherry picked from commit 7fc657c03aa684b942b1f82b5b6eace614de2e22)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/20/749220/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/undercloud_upgrade.yaml']",2,0caec95045be7424f593e5381f03bee740b2b976,,, retries: 3,0,7
openstack%2Frequirements~master~Ia22216e7a7ea975e702652dd2a83c55fc336149b,openstack/requirements,master,Ia22216e7a7ea975e702652dd2a83c55fc336149b,Updated from generate-constraints,MERGED,2020-08-31 06:19:10.000000000,2020-09-01 21:26:20.000000000,2020-09-01 21:23:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-31 06:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/04699a5ffd3998447fb56874e2c6f5ed48611be3', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia22216e7a7ea975e702652dd2a83c55fc336149b\n'}, {'number': 2, 'created': '2020-08-31 08:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7a2bcbeb504df4323b36f4f2597d1e971c4fc381', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia22216e7a7ea975e702652dd2a83c55fc336149b\n'}, {'number': 3, 'created': '2020-09-01 06:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/10ee03b34658467a4512c63c2eb25169df1434f0', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia22216e7a7ea975e702652dd2a83c55fc336149b\n'}, {'number': 4, 'created': '2020-09-01 08:10:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/574a190002a0fd14f864fd1f32796588044fda05', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia22216e7a7ea975e702652dd2a83c55fc336149b\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,748956,574a190002a0fd14f864fd1f32796588044fda05,26,3,4,11131,,,0,"Updated from generate-constraints

Change-Id: Ia22216e7a7ea975e702652dd2a83c55fc336149b
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/748956/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,04699a5ffd3998447fb56874e2c6f5ed48611be3,openstack/requirements/constraints/noclob,paramiko===2.7.2mock===4.0.2docutils===0.16keyring===21.4.0dulwich===0.20.6pkg-resources===0.0.0,paramiko===2.7.1mock===3.0.5docutils===0.15.2keyring===21.3.1dulwich===0.20.5,6,5
openstack%2Frequirements~master~I130db163b9619072e8f1ceeb9588fae04d5d44cd,openstack/requirements,master,I130db163b9619072e8f1ceeb9588fae04d5d44cd,update constraint for oslo.utils to new release 4.5.0,MERGED,2020-09-01 15:24:39.000000000,2020-09-01 21:25:18.000000000,2020-09-01 21:23:54.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:24:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6a69212c1ae5366b9f86b7c0d07a6b97987ac732', 'message': 'update constraint for oslo.utils to new release 4.5.0\n\nChange-Id: I130db163b9619072e8f1ceeb9588fae04d5d44cd\nmeta:version: 4.5.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\nmeta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749340,6a69212c1ae5366b9f86b7c0d07a6b97987ac732,9,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.5.0

Change-Id: I130db163b9619072e8f1ceeb9588fae04d5d44cd
meta:version: 4.5.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf
meta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/749340/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6a69212c1ae5366b9f86b7c0d07a6b97987ac732,new-release,oslo.utils===4.5.0,oslo.utils===4.4.0,1,1
openstack%2Frequirements~master~If10d8e96895be088f43960596b9d62f96274e41a,openstack/requirements,master,If10d8e96895be088f43960596b9d62f96274e41a,update constraint for castellan to new release 3.5.0,MERGED,2020-09-01 15:25:08.000000000,2020-09-01 21:20:55.000000000,2020-09-01 21:17:41.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:25:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/091f57c06d68715c8222b4dc394689512f7c57eb', 'message': 'update constraint for castellan to new release 3.5.0\n\nChange-Id: If10d8e96895be088f43960596b9d62f96274e41a\nmeta:version: 3.5.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\nmeta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749343,091f57c06d68715c8222b4dc394689512f7c57eb,9,3,1,11131,,,0,"update constraint for castellan to new release 3.5.0

Change-Id: If10d8e96895be088f43960596b9d62f96274e41a
meta:version: 3.5.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf
meta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/749343/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,091f57c06d68715c8222b4dc394689512f7c57eb,new-release,castellan===3.5.0,castellan===3.4.0,1,1
openstack%2Frequirements~master~I86733458cd56bbdedd90d177c92e236d5999857d,openstack/requirements,master,I86733458cd56bbdedd90d177c92e236d5999857d,update constraint for taskflow to new release 4.4.0,MERGED,2020-09-01 15:21:25.000000000,2020-09-01 21:19:42.000000000,2020-09-01 21:17:39.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:21:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/144d6cbb36c4a09505a52332e0c52ae05d027396', 'message': 'update constraint for taskflow to new release 4.4.0\n\nChange-Id: I86733458cd56bbdedd90d177c92e236d5999857d\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\nmeta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749331,144d6cbb36c4a09505a52332e0c52ae05d027396,9,3,1,11131,,,0,"update constraint for taskflow to new release 4.4.0

Change-Id: I86733458cd56bbdedd90d177c92e236d5999857d
meta:version: 4.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf
meta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/749331/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,144d6cbb36c4a09505a52332e0c52ae05d027396,new-release,taskflow===4.4.0,taskflow===4.3.1,1,1
openstack%2Frequirements~master~I71b653e4905fcaa3979121acbbd620f426a25f1c,openstack/requirements,master,I71b653e4905fcaa3979121acbbd620f426a25f1c,update constraint for reno to new release 3.2.0,MERGED,2020-09-01 15:14:32.000000000,2020-09-01 21:11:56.000000000,2020-09-01 21:10:45.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:14:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aab8d784e50a613ed761e755ce5b4039ae50d8dd', 'message': 'update constraint for reno to new release 3.2.0\n\nChange-Id: I71b653e4905fcaa3979121acbbd620f426a25f1c\nmeta:version: 3.2.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Commit: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Change-Id: I6f59173bb5bfafb52ed1f39aa4bb0c1cf87246f6\nmeta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749327,aab8d784e50a613ed761e755ce5b4039ae50d8dd,9,3,1,11131,,,0,"update constraint for reno to new release 3.2.0

Change-Id: I71b653e4905fcaa3979121acbbd620f426a25f1c
meta:version: 3.2.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: I6f59173bb5bfafb52ed1f39aa4bb0c1cf87246f6
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/749327/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aab8d784e50a613ed761e755ce5b4039ae50d8dd,new-release,reno===3.2.0,reno===3.1.0,1,1
openstack%2Frequirements~master~I3bafc04615e562328715599ecdc4136c6d3ac51e,openstack/requirements,master,I3bafc04615e562328715599ecdc4136c6d3ac51e,update constraint for stevedore to new release 3.2.1,MERGED,2020-09-01 15:24:48.000000000,2020-09-01 21:01:26.000000000,2020-09-01 20:59:23.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:24:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1a9cd0251e01f91387394e203dfcb63c75a0e682', 'message': 'update constraint for stevedore to new release 3.2.1\n\nChange-Id: I3bafc04615e562328715599ecdc4136c6d3ac51e\nmeta:version: 3.2.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\nmeta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749341,1a9cd0251e01f91387394e203dfcb63c75a0e682,9,3,1,11131,,,0,"update constraint for stevedore to new release 3.2.1

Change-Id: I3bafc04615e562328715599ecdc4136c6d3ac51e
meta:version: 3.2.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf
meta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/749341/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1a9cd0251e01f91387394e203dfcb63c75a0e682,new-release,stevedore===3.2.1,stevedore===3.2.0,1,1
openstack%2Fdevstack~stable%2Fussuri~Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f,openstack/devstack,stable/ussuri,Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f,Bring back grenade jobs as voting,ABANDONED,2020-09-01 15:46:43.000000000,2020-09-01 21:00:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-01 15:46:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6cd80751f7bf4064d79857624ee9c4568aa3df4a', 'message': 'Bring back grenade jobs as voting\n\ngrenade jobs were made non voting while fixing\nthe setuptools with version 50\n- https://review.opendev.org/#/c/748957/\n\nChange-Id: Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f\n'}]",0,749348,6cd80751f7bf4064d79857624ee9c4568aa3df4a,3,1,1,8556,,,0,"Bring back grenade jobs as voting

grenade jobs were made non voting while fixing
the setuptools with version 50
- https://review.opendev.org/#/c/748957/

Change-Id: Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/749348/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6cd80751f7bf4064d79857624ee9c4568aa3df4a,, - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$, voting: false voting: false # - neutron-grenade-multinode: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ # - grenade: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$,8,10
openstack%2Fdevstack~master~Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f,openstack/devstack,master,Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f,Bring back grenade jobs as voting,ABANDONED,2020-09-01 15:45:56.000000000,2020-09-01 21:00:17.000000000,,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 15:45:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1de2f95f0bb6c5b420cae974d4405662925e77de', 'message': 'Bring back grenade jobs as voting\n\ngrenade jobs were made non voting while fixing\nthe setuptools with version 50\n- https://review.opendev.org/#/c/748957/\n\nChange-Id: Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f\n'}]",0,749347,1de2f95f0bb6c5b420cae974d4405662925e77de,6,3,1,8556,,,0,"Bring back grenade jobs as voting

grenade jobs were made non voting while fixing
the setuptools with version 50
- https://review.opendev.org/#/c/748957/

Change-Id: Ic1f6b1b5c2f26ed9f7805dbc42dcd55256e1d13f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/749347/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1de2f95f0bb6c5b420cae974d4405662925e77de,, - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$, voting: false voting: false # - neutron-grenade-multinode: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ # - grenade: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$,8,10
openstack%2Fnetworking-baremetal~master~I36696fbdf4fcfbf90d8dd2bf9ccb0ab4d3e79166,openstack/networking-baremetal,master,I36696fbdf4fcfbf90d8dd2bf9ccb0ab4d3e79166,Add missing keystoneauth1 and oslo.service to requirements,MERGED,2020-08-25 13:30:38.000000000,2020-09-01 20:59:20.000000000,2020-09-01 20:57:56.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 13:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/24ac23e5de86ba66d54e5188580ad37d9383b374', 'message': 'Add missing keystoneauth1 to requirements\n\nWe directly import keystoneauth1 in ironic_client.py, so we should\nrequire it installed.\n\nChange-Id: I36696fbdf4fcfbf90d8dd2bf9ccb0ab4d3e79166\n'}, {'number': 2, 'created': '2020-08-25 13:32:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/c9524c70a24a0236f58625d94eed8a82a86ae88d', 'message': 'Add missing keystoneauth1 and oslo.service to requirements\n\nWe directly import both libraries, so we should require them installed.\n\nChange-Id: I36696fbdf4fcfbf90d8dd2bf9ccb0ab4d3e79166\n'}]",0,747936,c9524c70a24a0236f58625d94eed8a82a86ae88d,13,4,2,23851,,,0,"Add missing keystoneauth1 and oslo.service to requirements

We directly import both libraries, so we should require them installed.

Change-Id: I36696fbdf4fcfbf90d8dd2bf9ccb0ab4d3e79166
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/36/747936/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,24ac23e5de86ba66d54e5188580ad37d9383b374,missing-keystoneauth1-req,keystoneauth1>=3.4.0 # Apache-2.0 ,,2,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I0f3cb6f534072e166610b417059acbe89302473a,openstack/networking-ovn,stable/train,I0f3cb6f534072e166610b417059acbe89302473a,[ovn]: gracefully handle logical switch ports with tag set to None,MERGED,2020-08-21 09:15:59.000000000,2020-09-01 20:58:54.000000000,2020-09-01 20:57:33.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 09:15:59.000000000', 'files': ['networking_ovn/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e4c1bdc296576a65d99b396640a5a8cc5ef339b9', 'message': '[ovn]: gracefully handle logical switch ports with tag set to None\n\nAddLSwitchPortCommand takes kwargs as columns and tag is one of them.\nIt is possible that tag is provided with the value None and that is\nnot valid. The proposed change gracefully handles such cases so the\ntransaction is not aborted.\n\nChange-Id: I0f3cb6f534072e166610b417059acbe89302473a\nCloses-Bug: #1888736\n(cherry picked from commit fe440bdd6be190588ec4310ef9630285c0acfec6)\n'}]",0,747369,e4c1bdc296576a65d99b396640a5a8cc5ef339b9,20,4,1,8655,,,0,"[ovn]: gracefully handle logical switch ports with tag set to None

AddLSwitchPortCommand takes kwargs as columns and tag is one of them.
It is possible that tag is provided with the value None and that is
not valid. The proposed change gracefully handles such cases so the
transaction is not aborted.

Change-Id: I0f3cb6f534072e166610b417059acbe89302473a
Closes-Bug: #1888736
(cherry picked from commit fe440bdd6be190588ec4310ef9630285c0acfec6)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/69/747369/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/commands.py'],1,e4c1bdc296576a65d99b396640a5a8cc5ef339b9,bug/1888736-train," port.tag = self.columns.pop('tag', []) or []",,1,0
openstack%2Fopenstack-ansible-ceph_client~stable%2Fussuri~If897be49ceb10cdee7c4d53b60726942c369614f,openstack/openstack-ansible-ceph_client,stable/ussuri,If897be49ceb10cdee7c4d53b60726942c369614f,Fix ceph-client deployment for Ubuntu Focal,MERGED,2020-09-01 11:07:44.000000000,2020-09-01 20:53:48.000000000,2020-09-01 20:51:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-01 11:07:44.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/0656d10e448fdfb6dbb8707fa478037c6b71b7af', 'message': 'Fix ceph-client deployment for Ubuntu Focal\n\nChange-Id: If897be49ceb10cdee7c4d53b60726942c369614f\n(cherry picked from commit aa1aead02cace5ffff6b6cd338f9faa9a018d1cb)\n'}]",0,749242,0656d10e448fdfb6dbb8707fa478037c6b71b7af,8,3,1,25023,,,0,"Fix ceph-client deployment for Ubuntu Focal

Change-Id: If897be49ceb10cdee7c4d53b60726942c369614f
(cherry picked from commit aa1aead02cace5ffff6b6cd338f9faa9a018d1cb)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/42/749242/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,0656d10e448fdfb6dbb8707fa478037c6b71b7af,," - ""{{ (ansible_distribution == 'Ubuntu' and ansible_distribution_major_version is version('20', '<')) | ternary('libvirt-bin', 'libvirt-daemon-system') }}"""," - ""{{ (ansible_distribution == 'Debian') | ternary('libvirt-daemon-system', 'libvirt-bin') }}""",1,1
openstack%2Frequirements~master~I43bbeab61d7414296da738c816d8b88862625429,openstack/requirements,master,I43bbeab61d7414296da738c816d8b88862625429,update constraint for glance_store to new release 2.3.0,MERGED,2020-09-01 15:20:18.000000000,2020-09-01 20:43:40.000000000,2020-09-01 20:42:05.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:20:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/10c3e441a52baa6bbb06221224950af92d7e98de', 'message': 'update constraint for glance_store to new release 2.3.0\n\nChange-Id: I43bbeab61d7414296da738c816d8b88862625429\nmeta:version: 2.3.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Commit: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Change-Id: Idf841c03e06012edc62bf563f31d1deae9081671\nmeta:release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749330,10c3e441a52baa6bbb06221224950af92d7e98de,9,3,1,11131,,,0,"update constraint for glance_store to new release 2.3.0

Change-Id: I43bbeab61d7414296da738c816d8b88862625429
meta:version: 2.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Abhishek Kekane <akekane@redhat.com>
meta:release:Commit: Abhishek Kekane <akekane@redhat.com>
meta:release:Change-Id: Idf841c03e06012edc62bf563f31d1deae9081671
meta:release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta:release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/749330/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,10c3e441a52baa6bbb06221224950af92d7e98de,new-release,glance-store===2.3.0,glance-store===2.2.0,1,1
openstack%2Fcharm-openstack-dashboard~master~I7c9c81318dbbcea618ac3781b8f19e8159e56bcb,openstack/charm-openstack-dashboard,master,I7c9c81318dbbcea618ac3781b8f19e8159e56bcb,Ensure that certificates are correctly managed.,MERGED,2020-08-20 07:30:48.000000000,2020-09-01 20:30:17.000000000,2020-08-21 21:30:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 07:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/235f021c79fdfe11afd6cf806f712c8c30b0e8f5', 'message': 'Ensure that certificates are correctly managed.\n\nWhen the certificates relation is ready before the\nHA relation is clustered, the VIP symlinks will not\nbe created pointing at the correct certificates. This\nchange updates the HA handlers to ensure that the\ncertificate relation is handled after clustering,\nif there are any certificate relations.\n\nThere was no functional test coverage for HA and TLS\ndeployments so this change also add a test for\nthose and CMR too. Having said that, the test\ninitialises vault once the deployments are\ncomplete so is unlikely to trigger #1886077 the tests\nto check there is no regression of exising\nfunctionality.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/389\n\nChange-Id: I7c9c81318dbbcea618ac3781b8f19e8159e56bcb\nCloses-Bug: #1886077\n'}, {'number': 2, 'created': '2020-08-20 07:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/de7b569ff8b4bae5335d7cfa7f0968ec8ec7a61d', 'message': 'Ensure that certificates are correctly managed.\n\nWhen the certificates relation is ready before the\nHA relation is clustered, the VIP symlinks will not\nbe created pointing at the correct certificates. This\nchange updates the HA handlers to ensure that the\ncertificate relation is handled after clustering,\nif there are any certificate relations.\n\nThere was no functional test coverage for HA and TLS\ndeployments so this change also add a test for\nthose and CMR too. Having said that, the test\ninitialises vault once the deployments are\ncomplete so is unlikely to trigger #1886077 the tests\nto check there is no regression of exising\nfunctionality.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/389\n\nChange-Id: I7c9c81318dbbcea618ac3781b8f19e8159e56bcb\nCloses-Bug: #1886077\n'}, {'number': 3, 'created': '2020-08-20 15:36:46.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/bionic-queens-cmr-vault.yaml', '.gitignore', 'hooks/horizon_hooks.py', 'tests/bundles/overlays/bionic-queens-cmr-vault.yaml.j2', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/overlays/bionic-vault.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b9905a9d3239fa59c18b4eaa25c44d02918c5c8c', 'message': 'Ensure that certificates are correctly managed.\n\nWhen the certificates relation is ready before the\nHA relation is clustered, the VIP symlinks will not\nbe created pointing at the correct certificates. This\nchange updates the HA handlers to ensure that the\ncertificate relation is handled after clustering,\nif there are any certificate relations.\n\nThere was no functional test coverage for HA and TLS\ndeployments so this change also add a test for\nthose and CMR too. Having said that, the test\ninitialises vault once the deployments are\ncomplete so is unlikely to trigger #1886077 the tests\nto check there is no regression of exising\nfunctionality.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/389\n\nChange-Id: I7c9c81318dbbcea618ac3781b8f19e8159e56bcb\nCloses-Bug: #1886077\n'}]",1,747115,b9905a9d3239fa59c18b4eaa25c44d02918c5c8c,18,4,3,12549,,,0,"Ensure that certificates are correctly managed.

When the certificates relation is ready before the
HA relation is clustered, the VIP symlinks will not
be created pointing at the correct certificates. This
change updates the HA handlers to ensure that the
certificate relation is handled after clustering,
if there are any certificate relations.

There was no functional test coverage for HA and TLS
deployments so this change also add a test for
those and CMR too. Having said that, the test
initialises vault once the deployments are
complete so is unlikely to trigger #1886077 the tests
to check there is no regression of exising
functionality.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/389

Change-Id: I7c9c81318dbbcea618ac3781b8f19e8159e56bcb
Closes-Bug: #1886077
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/15/747115/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/bionic-queens-cmr-vault.yaml', '.gitignore', 'hooks/horizon_hooks.py', 'tests/bundles/overlays/bionic-queens-cmr-vault.yaml.j2', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/overlays/bionic-vault.yaml.j2']",7,235f021c79fdfe11afd6cf806f712c8c30b0e8f5,bug/1886077,applications: vault: offers: vault: endpoints: - secrets - certificates ,,102,0
openstack%2Fopenstack-helm-infra~master~I347bf34e35ee60a17cb234819a3b8b870e0edb5b,openstack/openstack-helm-infra,master,I347bf34e35ee60a17cb234819a3b8b870e0edb5b,Run metacontroller from 34356 user,MERGED,2020-08-25 22:33:58.000000000,2020-09-01 20:27:05.000000000,2020-09-01 20:25:16.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-25 22:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8503efab8c41e1ef3e27e70883120a1df6f44d2f', 'message': 'Run metacontroller from nobody(65534) user\n\nThis adds the runAsUser flag to metacontroller at pod level\n\nChange-Id: I347bf34e35ee60a17cb234819a3b8b870e0edb5b\n'}, {'number': 2, 'created': '2020-08-25 22:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa3f7fe7475aa22417f59ecf27f089634ee149c9', 'message': 'Run metacontroller from nobody(65534) user\n\nThis adds the runAsUser flag to metacontroller at pod level\n\nChange-Id: I347bf34e35ee60a17cb234819a3b8b870e0edb5b\n'}, {'number': 3, 'created': '2020-08-25 22:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bed171d722ad444e4a77ebb942d9c62e4fa9add', 'message': 'Run metacontroller from nobody(65534) user\n\nThis adds the runAsUser flag to metacontroller at pod level\n\nChange-Id: I347bf34e35ee60a17cb234819a3b8b870e0edb5b\n'}, {'number': 4, 'created': '2020-08-25 22:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68bf76aef80bd8e6857261d2c457fffc500a009b', 'message': 'Run metacontroller from 34356 user\n\nThis adds the runAsUser flag to metacontroller at pod level\n\nChange-Id: I347bf34e35ee60a17cb234819a3b8b870e0edb5b\n'}, {'number': 5, 'created': '2020-08-26 00:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54622de4f91948bb5b289c8a4b5d554137ea75c8', 'message': 'Run metacontroller from 34356 user\n\nThis adds the runAsUser flag to metacontroller at pod level\n\nChange-Id: I347bf34e35ee60a17cb234819a3b8b870e0edb5b\n'}, {'number': 6, 'created': '2020-08-28 18:14:49.000000000', 'files': ['metacontroller/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b2a93f642a253580085619e3e2bcad218e86b40', 'message': 'Run metacontroller from 34356 user\n\nThis adds the runAsUser flag to metacontroller at pod level\n\nChange-Id: I347bf34e35ee60a17cb234819a3b8b870e0edb5b\n'}]",0,748044,3b2a93f642a253580085619e3e2bcad218e86b40,24,12,6,29161,,,0,"Run metacontroller from 34356 user

This adds the runAsUser flag to metacontroller at pod level

Change-Id: I347bf34e35ee60a17cb234819a3b8b870e0edb5b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/748044/3 && git format-patch -1 --stdout FETCH_HEAD,['metacontroller/values.yaml'],1,8503efab8c41e1ef3e27e70883120a1df6f44d2f,, pod: runAsUser: 65534 runAsUser: 65534, runAsUser: 34356,3,1
openstack%2Frequirements~master~If9da9491718b28ea697133922b86750f2b550c19,openstack/requirements,master,If9da9491718b28ea697133922b86750f2b550c19,update constraint for openstack-release-test to new release 3.3.1,MERGED,2020-09-01 14:11:00.000000000,2020-09-01 20:12:02.000000000,2020-09-01 20:10:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 14:11:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d43e1614d3cc2fc57066b96acfb48316c802fc4d', 'message': 'update constraint for openstack-release-test to new release 3.3.1\n\nChange-Id: If9da9491718b28ea697133922b86750f2b550c19\nmeta:version: 3.3.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ic2519a0f7291dd447d45264804cbe3151cef7135\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749290,d43e1614d3cc2fc57066b96acfb48316c802fc4d,9,3,1,11131,,,0,"update constraint for openstack-release-test to new release 3.3.1

Change-Id: If9da9491718b28ea697133922b86750f2b550c19
meta:version: 3.3.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ic2519a0f7291dd447d45264804cbe3151cef7135
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/749290/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d43e1614d3cc2fc57066b96acfb48316c802fc4d,new-release,openstack-release-test===3.3.1,openstack-release-test===3.3.0,1,1
openstack%2Fansible-role-lunasa-hsm~master~I0a9136857229411101028928948b69ad0f4ad921,openstack/ansible-role-lunasa-hsm,master,I0a9136857229411101028928948b69ad0f4ad921,Ignore mode warning for unarchive,MERGED,2020-09-01 19:32:48.000000000,2020-09-01 19:51:00.000000000,2020-09-01 19:51:00.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 19:32:48.000000000', 'files': ['tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-lunasa-hsm/commit/1f79d940a6c843ffe893725fa4f908cfc885b3c5', 'message': 'Ignore mode warning for unarchive\n\nWe added ""mode: preserve"" to the unarchive task to make the linter\nhappy, but it seems that it does not work as advertised as it\ngives an error that ""preserve"" is an invalid value.\n\nChange-Id: I0a9136857229411101028928948b69ad0f4ad921\n'}]",0,749380,1f79d940a6c843ffe893725fa4f908cfc885b3c5,6,2,1,7973,,,0,"Ignore mode warning for unarchive

We added ""mode: preserve"" to the unarchive task to make the linter
happy, but it seems that it does not work as advertised as it
gives an error that ""preserve"" is an invalid value.

Change-Id: I0a9136857229411101028928948b69ad0f4ad921
",git fetch https://review.opendev.org/openstack/ansible-role-lunasa-hsm refs/changes/80/749380/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yaml'],1,1f79d940a6c843ffe893725fa4f908cfc885b3c5,,- name: Unpack tarball to working directory # noqa 208,- name: Unpack tarball to working directory mode: preserve,1,2
openstack%2Fhorizon~master~I7fab3a37a4a15b886d3456eebad86115a1a63f11,openstack/horizon,master,I7fab3a37a4a15b886d3456eebad86115a1a63f11,doc: Enable parallel build,MERGED,2020-08-19 23:34:29.000000000,2020-09-01 19:48:27.000000000,2020-09-01 19:45:16.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-19 23:34:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/92edabdcf31c99e8708622f7a069fa04cc31b6a7', 'message': 'doc: Enable parallel build\n\n""-j auto"" enable parallel documentation build with multiple processes\nand the number of processors is detected automatically.\nThis speeds up local documentation build a lot.\n\nChange-Id: I7fab3a37a4a15b886d3456eebad86115a1a63f11\n'}]",0,747058,92edabdcf31c99e8708622f7a069fa04cc31b6a7,12,3,1,841,,,0,"doc: Enable parallel build

""-j auto"" enable parallel documentation build with multiple processes
and the number of processors is detected automatically.
This speeds up local documentation build a lot.

Change-Id: I7fab3a37a4a15b886d3456eebad86115a1a63f11
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/747058/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,92edabdcf31c99e8708622f7a069fa04cc31b6a7,parallel-doc-build, sphinx-build -j auto -W -b html doc/source doc/build/html sphinx-build -j auto -W -b latex doc/source doc/build/pdf tests.py , sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf tests.py,3,3
openstack%2Freleases~master~I3f8d89d0773b71df14e112cb7f42894b22b6f33b,openstack/releases,master,I3f8d89d0773b71df14e112cb7f42894b22b6f33b,release pbr 5.5.0 - 2020-09-01,MERGED,2020-09-01 07:57:09.000000000,2020-09-01 19:42:24.000000000,2020-09-01 19:42:24.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 07:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1a27a11796ee822fc29ef98d76482a52c2bf6ed9', 'message': 'release pbr 5.5.0 - 2020-09-01\n\nChange-Id: I3f8d89d0773b71df14e112cb7f42894b22b6f33b\n'}, {'number': 2, 'created': '2020-09-01 15:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/095860ce54c38ca7812b8a00bfae52dd2b84f459', 'message': 'release pbr 5.5.0 - 2020-09-01\n\nDepends-on: https://review.opendev.org/749345\n\nChange-Id: I3f8d89d0773b71df14e112cb7f42894b22b6f33b\n'}, {'number': 3, 'created': '2020-09-01 18:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/584a8817f4eb46b50b5d74a0d2d51fa2ee0a5c2f', 'message': 'release pbr 5.5.0 - 2020-09-01\n\nDepends-on: https://review.opendev.org/749366\n\nChange-Id: I3f8d89d0773b71df14e112cb7f42894b22b6f33b\n'}, {'number': 4, 'created': '2020-09-01 19:11:46.000000000', 'files': ['deliverables/_independent/pbr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6a7b326b8c62fa2534904b955b71b89531807a3f', 'message': 'release pbr 5.5.0 - 2020-09-01\n\nChange-Id: I3f8d89d0773b71df14e112cb7f42894b22b6f33b\n'}]",1,749200,6a7b326b8c62fa2534904b955b71b89531807a3f,23,4,4,28522,,,0,"release pbr 5.5.0 - 2020-09-01

Change-Id: I3f8d89d0773b71df14e112cb7f42894b22b6f33b
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/749200/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pbr.yaml'],1,1a27a11796ee822fc29ef98d76482a52c2bf6ed9,oslo-independent-2020-09-01, - version: 5.5.0 projects: - repo: openstack/pbr hash: 16f19608c446db67e2ad0950a3209078ec6be18b,,4,0
openstack%2Ftripleo-common~master~I124d2c272c1864c84d306ce2541d0288d781f1be,openstack/tripleo-common,master,I124d2c272c1864c84d306ce2541d0288d781f1be,Stop configuring install_command in tox.,MERGED,2020-06-24 07:42:53.000000000,2020-09-01 19:24:24.000000000,2020-09-01 19:22:44.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-24 07:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d51474e8b0e94f93ba8f1229d071112f923febf4', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I124d2c272c1864c84d306ce2541d0288d781f1be\n""}, {'number': 2, 'created': '2020-06-26 14:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c3780008a753927d83a8e8eb1cb20be793650b91', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I124d2c272c1864c84d306ce2541d0288d781f1be\n""}, {'number': 3, 'created': '2020-09-01 08:33:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f374cf7bc885b2cbf617f77cf9ff0ba30912b59', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I124d2c272c1864c84d306ce2541d0288d781f1be\n""}]",0,737696,6f374cf7bc885b2cbf617f77cf9ff0ba30912b59,13,4,3,31245,,,0,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I124d2c272c1864c84d306ce2541d0288d781f1be
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/737696/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d51474e8b0e94f93ba8f1229d071112f923febf4,stop_configuring_install_command,, VIRTUAL_ENV={envdir}install_command = pip install {opts} {packages},0,2
openstack%2Fproject-config~master~I81caeccda755b31921d4cbf2c9ad943252df4fb8,openstack/project-config,master,I81caeccda755b31921d4cbf2c9ad943252df4fb8,Update Ansible roles for ATOS and Thales HSMs,MERGED,2020-08-25 20:41:01.000000000,2020-09-01 19:24:10.000000000,2020-09-01 18:50:49.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 20:41:01.000000000', 'files': ['gerrit/acls/openstack/ansible-role-atos-hsm.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/ansible-role-thales-hsm.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/98aff78889dc0cecfdbdf3330b6f6a07a237645b', 'message': 'Update Ansible roles for ATOS and Thales HSMs\n\nThis patch adds storyboard projects for two of the Ansible roles\nused to manage Hardware Security Modules (HSMs).\n\nIt also updates the ACLs for the projects as they are now part\nof the Barbican team.\n\nDepends-On: I19026ba1cc6e4e8376946765a03a756394e4c09c\nChange-Id: I81caeccda755b31921d4cbf2c9ad943252df4fb8\n'}]",0,748028,98aff78889dc0cecfdbdf3330b6f6a07a237645b,10,5,1,7973,,,0,"Update Ansible roles for ATOS and Thales HSMs

This patch adds storyboard projects for two of the Ansible roles
used to manage Hardware Security Modules (HSMs).

It also updates the ACLs for the projects as they are now part
of the Barbican team.

Depends-On: I19026ba1cc6e4e8376946765a03a756394e4c09c
Change-Id: I81caeccda755b31921d4cbf2c9ad943252df4fb8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/748028/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/ansible-role-atos-hsm.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/ansible-role-thales-hsm.config']",4,98aff78889dc0cecfdbdf3330b6f6a07a237645b,ansible-hsm-roles,,"[access ""refs/heads/*""] abandon = group ansible-role-thales-hsm-core label-Code-Review = -2..+2 group ansible-role-thales-hsm-core label-Workflow = -1..+1 group ansible-role-thales-hsm-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",9,25
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ieba3dcb2548b1bae965d47cbeb286549581fe91c,openstack/tripleo-heat-templates,stable/train,Ieba3dcb2548b1bae965d47cbeb286549581fe91c,[ffwd] Add fix for OVN DB vip change,MERGED,2020-08-24 16:34:40.000000000,2020-09-01 19:22:42.000000000,2020-09-01 19:22:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 31245}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-08-24 16:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8acb39810736ec457596e0979a6fa9984eda401f', 'message': 'FFWD: OVN ip change\n\nChange-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c\n'}, {'number': 2, 'created': '2020-08-25 11:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85d3ebfcd962b5145504a0d0e9f84117038b0c49', 'message': 'FFWD: OVN ip change\n\nChange-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c\n'}, {'number': 3, 'created': '2020-08-26 06:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/285d31c46667b2a9e425865168d3bae69850b17c', 'message': 'FFWD: OVN ip change\n\nChange-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c\n'}, {'number': 4, 'created': '2020-08-26 13:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0082373100322e9b09e83a08fecfd855e88af22', 'message': ""[ffwd] Add fix for OVN DB vip change\n\nThere was introduction of separate VIP address for ovn db in train.\nThis resolves several issues with HA but causes failures during the\nFFWD process when old clients can't talk to the DB as it is now\nlistening on different address. We fix it by changing ovs settings\nduring the hybrid mode setup. Everyone using OVN is required to run\nthis nova_hybrid_mode to retain ability to create and migrate\ninstances during the upgrade process.\n\nResolves: rhbz#1871834\n\nChange-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c\n""}, {'number': 5, 'created': '2020-08-26 14:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6bb8c0fe25f531d5384b0fff9160259f3625f2a', 'message': ""[ffwd] Add fix for OVN DB vip change\n\nThere was introduction of separate VIP address for ovn db in train.\nThis resolves several issues with HA but causes failures during the\nFFWD process when old clients can't talk to the DB as it is now\nlistening on different address. We fix it by changing ovs settings\nduring the hybrid mode setup. Everyone using OVN is required to run\nthis nova_hybrid_mode to retain ability to create and migrate\ninstances during the upgrade process.\n\nResolves: rhbz#1871834\n\nChange-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c\n""}, {'number': 6, 'created': '2020-08-31 11:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9532acd9d21a719c18f51dd6225396b3f13179b2', 'message': ""[ffwd] Add fix for OVN DB vip change\n\nThere was introduction of separate VIP address for ovn db in train.\nThis resolves several issues with HA but causes failures during the\nFFWD process when old clients can't talk to the DB as it is now\nlistening on different address. We fix it by changing ovs settings\nduring the hybrid mode setup. Everyone using OVN is required to run\nthis nova_hybrid_mode to retain ability to create and migrate\ninstances during the upgrade process.\n\nResolves: rhbz#1871834\n\nChange-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c\n""}, {'number': 7, 'created': '2020-08-31 16:27:29.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3505d9563051a69acd22e0fa256715f68809d889', 'message': ""[ffwd] Add fix for OVN DB vip change\n\nThere was introduction of separate VIP address for ovn db in train.\nThis resolves several issues with HA but causes failures during the\nFFWD process when old clients can't talk to the DB as it is now\nlistening on different address. We fix it by changing ovs settings\nduring the hybrid mode setup. Everyone using OVN is required to run\nthis nova_hybrid_mode to retain ability to create and migrate\ninstances during the upgrade process.\n\nResolves: rhbz#1871834\n\nChange-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c\n""}]",4,747769,3505d9563051a69acd22e0fa256715f68809d889,36,10,7,11166,,,0,"[ffwd] Add fix for OVN DB vip change

There was introduction of separate VIP address for ovn db in train.
This resolves several issues with HA but causes failures during the
FFWD process when old clients can't talk to the DB as it is now
listening on different address. We fix it by changing ovs settings
during the hybrid mode setup. Everyone using OVN is required to run
this nova_hybrid_mode to retain ability to create and migrate
instances during the upgrade process.

Resolves: rhbz#1871834

Change-Id: Ieba3dcb2548b1bae965d47cbeb286549581fe91c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/747769/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,8acb39810736ec457596e0979a6fa9984eda401f,," upgrade_tasks: - name: Set new ovn remote setting vars: ovn_dbs_ip_address: {get_param: [VipMap, ovn_dbs]} command: ovs-vsctl get open . external_ids:ovn-remote | grep ""{{ ovn_dbs_ip_address }}"" || ovs-vsctl set open . external_ids:ovn-remote=""tcp:{{ ovn_dbs_ip_address | ipwrap }}:6642"" tags: - never - nova_hybrid_state", upgrade_tasks: [],8,1
openstack%2Fpuppet-placement~master~I322da7009c94b3e947df1d853c2abc12685a6fa0,openstack/puppet-placement,master,I322da7009c94b3e947df1d853c2abc12685a6fa0,Deprecate unused parameters in placement::api,MERGED,2020-08-31 14:17:45.000000000,2020-09-01 19:16:42.000000000,2020-09-01 19:15:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 14:17:45.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/placement-api-unused-6c35070fe77e87c8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/14a73aff46a2623bf495391a477d4a8402e7273d', 'message': 'Deprecate unused parameters in placement::api\n\nChange-Id: I322da7009c94b3e947df1d853c2abc12685a6fa0\n'}]",0,749065,14a73aff46a2623bf495391a477d4a8402e7273d,12,4,1,9816,,,0,"Deprecate unused parameters in placement::api

Change-Id: I322da7009c94b3e947df1d853c2abc12685a6fa0
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/65/749065/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/placement-api-unused-6c35070fe77e87c8.yaml']",2,14a73aff46a2623bf495391a477d4a8402e7273d,placement-api-unused,"--- deprecations: - | The following two parameter have been deprecated, because they have had no effect since added. - ``placement::api::host`` - ``placement::api::port`` ",,21,10
openstack%2Fproject-config~master~I13b8ff3a874db1856b8f10cb79eb52cb3d4d18ee,openstack/project-config,master,I13b8ff3a874db1856b8f10cb79eb52cb3d4d18ee,Add openstack/openstack-helm-deployments,MERGED,2020-08-26 20:33:16.000000000,2020-09-01 19:10:37.000000000,2020-09-01 18:36:17.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2020-08-26 20:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ac0dd598a6554950e8edeeed29dd1b683a8c88b6', 'message': 'Add openstack/openstack-helm-releases\n\nThis change adds a new repo under the openstack-helm project\nin order to provide basic deploymeny declarations for\nopenstack-helm charts.\n\nChange-Id: I13b8ff3a874db1856b8f10cb79eb52cb3d4d18ee\nNeeded-By: https://review.opendev.org/#/c/748302\n'}, {'number': 2, 'created': '2020-09-01 00:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b126673dfe9c387344afe2e3d13a76110d8bed01', 'message': 'Add openstack/openstack-helm-deployments\n\nThis change adds a new repo under the openstack-helm project\nin order to provide basic deployment declarations for\nopenstack-helm charts.\n\nChange-Id: I13b8ff3a874db1856b8f10cb79eb52cb3d4d18ee\nNeeded-By: https://review.opendev.org/#/c/748302\n'}, {'number': 3, 'created': '2020-09-01 14:15:37.000000000', 'files': ['zuul/main.yaml', 'gerrit/acls/openstack/openstack-helm-deployments.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/44fef44c26dfd4d83e132543d5fc80ff6b7c1463', 'message': 'Add openstack/openstack-helm-deployments\n\nThis change adds a new repo under the openstack-helm project\nin order to provide basic deployment declarations for\nopenstack-helm charts.\n\nChange-Id: I13b8ff3a874db1856b8f10cb79eb52cb3d4d18ee\nNeeded-By: https://review.opendev.org/#/c/748302\n'}]",6,748304,44fef44c26dfd4d83e132543d5fc80ff6b7c1463,16,5,3,21420,,,0,"Add openstack/openstack-helm-deployments

This change adds a new repo under the openstack-helm project
in order to provide basic deployment declarations for
openstack-helm charts.

Change-Id: I13b8ff3a874db1856b8f10cb79eb52cb3d4d18ee
Needed-By: https://review.opendev.org/#/c/748302
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/748304/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/openstack-helm-releases.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,ac0dd598a6554950e8edeeed29dd1b683a8c88b6,, - openstack/openstack-helm-releases,,17,0
openstack%2Fopenstack-zuul-jobs~master~I29d3d7e5b967e1ebec290e3ef00f1c65d1464f9e,openstack/openstack-zuul-jobs,master,I29d3d7e5b967e1ebec290e3ef00f1c65d1464f9e,Make tox globally available for openstack-tox-validate,MERGED,2020-09-01 17:16:53.000000000,2020-09-01 19:10:36.000000000,2020-09-01 19:04:15.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 17:16:53.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/24d196ec3583ca390eec9065573138f22a253827', 'message': 'Make tox globally available for openstack-tox-validate\n\nSome validation jobs in some repos need to invoke tox to run their\nspecific validations. Tox is being installed already, but it does not\nget installed into somewhere on the path. So even though the validate\njob gets run via tox, tox is later not found by other places that are\nnot aware of the venv specific path.\n\nThis sets the ensure_global_symlinks variable used by the ensure_tox\nrole so that the existing tox installation also puts a symlink where tox\ncan be called globally.\n\nChange-Id: I29d3d7e5b967e1ebec290e3ef00f1c65d1464f9e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749366,24d196ec3583ca390eec9065573138f22a253827,8,3,1,11904,,,0,"Make tox globally available for openstack-tox-validate

Some validation jobs in some repos need to invoke tox to run their
specific validations. Tox is being installed already, but it does not
get installed into somewhere on the path. So even though the validate
job gets run via tox, tox is later not found by other places that are
not aware of the venv specific path.

This sets the ensure_global_symlinks variable used by the ensure_tox
role so that the existing tox installation also puts a symlink where tox
can be called globally.

Change-Id: I29d3d7e5b967e1ebec290e3ef00f1c65d1464f9e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/66/749366/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,24d196ec3583ca390eec9065573138f22a253827,validate-tox, ensure_global_symlinks: true,,1,0
openstack%2Fopenstack-zuul-jobs~master~I82bb904b59619e32672f94bed44c92190a63148a,openstack/openstack-zuul-jobs,master,I82bb904b59619e32672f94bed44c92190a63148a,Add ensure_tox and virtualenv to validate job,ABANDONED,2020-09-01 15:32:14.000000000,2020-09-01 18:54:16.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:32:14.000000000', 'files': ['playbooks/tox-validate/pre.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6b5de701d08083a05307fd613345fc04cdca95cc', 'message': 'Add ensure_tox and virtualenv to validate job\n\nSome openstack-tox-validate instances run scripts or other jobs that\nrequire the use of tox and virtualenv to execute. This adds the roles to\nmake sure tox and venv are available for these things to run.\n\nNeeded-by: https://review.opendev.org/749200/\n\nChange-Id: I82bb904b59619e32672f94bed44c92190a63148a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,749345,6b5de701d08083a05307fd613345fc04cdca95cc,7,3,1,11904,,,0,"Add ensure_tox and virtualenv to validate job

Some openstack-tox-validate instances run scripts or other jobs that
require the use of tox and virtualenv to execute. This adds the roles to
make sure tox and venv are available for these things to run.

Needed-by: https://review.opendev.org/749200/

Change-Id: I82bb904b59619e32672f94bed44c92190a63148a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/45/749345/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tox-validate/pre.yaml', 'zuul.d/jobs.yaml']",2,6b5de701d08083a05307fd613345fc04cdca95cc,validate-tox, pre-run: playbooks/tox-validate/pre.yaml,,6,0
openstack%2Fopenstack-ansible-haproxy_server~master~I8c419be82cffd289ffcc5086afac923d6eb1a78a,openstack/openstack-ansible-haproxy_server,master,I8c419be82cffd289ffcc5086afac923d6eb1a78a,Add haproxy_backend_only flag to service template,MERGED,2020-08-21 11:11:30.000000000,2020-09-01 18:54:12.000000000,2020-09-01 18:51:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-21 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/a326330a0983698968c95fa992029bfe652a69f5', 'message': 'Add haproxy_backend_only flag to service template\n\nAddition of a `haproxy_backend_only` flag to the service template\nfor instances in which a frontend service uses ACLs to propgate\nrequests to multiple backend services, and not all backend services\nrequire a corresponding frontend. This should prevent the\nproliferation of spurious frontend services.\n\nChange-Id: I8c419be82cffd289ffcc5086afac923d6eb1a78a\n'}, {'number': 2, 'created': '2020-08-21 13:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/7bfbf687bf258ad3da398c302bee9183c88847d6', 'message': 'Add haproxy_backend_only flag to service template\n\nAddition of a `haproxy_backend_only` flag to the service template\nfor instances in which a frontend service uses ACLs to propgate\nrequests to multiple backend services, and not all backend services\nrequire a corresponding frontend. This should prevent the\nproliferation of spurious frontend services.\n\nChange-Id: I8c419be82cffd289ffcc5086afac923d6eb1a78a\n'}, {'number': 3, 'created': '2020-09-01 11:15:12.000000000', 'files': ['templates/service.j2', 'doc/source/configure-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/8120c9a3c547e7403b108ba30d9246b7df7adee1', 'message': 'Add haproxy_backend_only flag to service template\n\nAddition of a `haproxy_backend_only` flag to the service template\nfor instances in which a frontend service uses ACLs to propgate\nrequests to multiple backend services, and not all backend services\nrequire a corresponding frontend. This should prevent the\nproliferation of spurious frontend services.\n\nChange-Id: I8c419be82cffd289ffcc5086afac923d6eb1a78a\n'}]",0,747391,8120c9a3c547e7403b108ba30d9246b7df7adee1,13,3,3,31750,,,0,"Add haproxy_backend_only flag to service template

Addition of a `haproxy_backend_only` flag to the service template
for instances in which a frontend service uses ACLs to propgate
requests to multiple backend services, and not all backend services
require a corresponding frontend. This should prevent the
proliferation of spurious frontend services.

Change-Id: I8c419be82cffd289ffcc5086afac923d6eb1a78a
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/91/747391/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service.j2', 'doc/source/configure-haproxy.rst']",2,a326330a0983698968c95fa992029bfe652a69f5,backend_only_flag," If a frontend service directs to multiple backend services using ACLs, and a backend service does not require its own corresponding front-end, the `haproxy_backend_only` option can be specified: .. code-block:: yaml - service: haproxy_service_name: influxdb haproxy_backend_only: true # Directed to by the 'influxdb-relay' service defined above haproxy_backend_nodes: - name: influxdb-service ip_addr: 10.100.10.10",,15,0
openstack%2Fkeystone~stable%2Fussuri~Id80b17bdff015e10340e636102576b7435bd564f,openstack/keystone,stable/ussuri,Id80b17bdff015e10340e636102576b7435bd564f,Properly handle octet (byte) strings when converting LDAP responses,MERGED,2020-08-25 13:04:25.000000000,2020-09-01 18:51:06.000000000,2020-09-01 18:49:11.000000000,"[{'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:04:25.000000000', 'files': ['keystone/tests/unit/identity/backends/test_ldap_common.py', 'keystone/identity/backends/ldap/common.py', 'releasenotes/notes/bug-1889936-78d6853b5212b8f1.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5870f69c12c034dd97b164345e85e6259ee7abe', 'message': ""Properly handle octet (byte) strings when converting LDAP responses\n\nIf LDAP returns a UUID as an octet string the LDAP driver will fail to\nconvert it to something meaningful. The error usually looks something\nlike:\n\n  ID attribute objectGUID not found in LDAP object\n\nMicrosoft AD's `objectGUID` parameter is stored and transmitted as an\noctet string [0]. If you attempt to use the `objectGUID` to generate\nuser or group IDs, you'll get an HTTP 404 because keystone can't decode\nit properly. This is unfortunate because `objectGUID` are a fixed\nlength, UUID format, and ideal for generating IDs in keystone. As\nopposed to using the object's CN, which is variable length, and can\ngenerate hashes that are larger than keystone's database table limit for\nuser IDs.\n\n[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid\n\nChange-Id: Id80b17bdff015e10340e636102576b7435bd564f\nCloses-Bug: 1889936\n(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)\n""}]",0,747924,d5870f69c12c034dd97b164345e85e6259ee7abe,10,6,1,5046,,,0,"Properly handle octet (byte) strings when converting LDAP responses

If LDAP returns a UUID as an octet string the LDAP driver will fail to
convert it to something meaningful. The error usually looks something
like:

  ID attribute objectGUID not found in LDAP object

Microsoft AD's `objectGUID` parameter is stored and transmitted as an
octet string [0]. If you attempt to use the `objectGUID` to generate
user or group IDs, you'll get an HTTP 404 because keystone can't decode
it properly. This is unfortunate because `objectGUID` are a fixed
length, UUID format, and ideal for generating IDs in keystone. As
opposed to using the object's CN, which is variable length, and can
generate hashes that are larger than keystone's database table limit for
user IDs.

[0] https://docs.microsoft.com/en-us/windows/win32/ad/reading-an-objectampaposs-objectguid-and-creating-a-string-representation-of-the-guid

Change-Id: Id80b17bdff015e10340e636102576b7435bd564f
Closes-Bug: 1889936
(cherry picked from commit 8bf222ac5d390e25d306d35f69bd958b18bee4d8)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/747924/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/identity/backends/test_ldap_common.py', 'keystone/identity/backends/ldap/common.py', 'releasenotes/notes/bug-1889936-78d6853b5212b8f1.yaml']",3,d5870f69c12c034dd97b164345e85e6259ee7abe,,"--- fixes: - | [`bug 1889936 <https://bugs.launchpad.net/keystone/+bug/1889936>`_] Properly decode octet strings, or byte arrays, returned from LDAP. ",,30,1
openstack%2Fgovernance~master~I19026ba1cc6e4e8376946765a03a756394e4c09c,openstack/governance,master,I19026ba1cc6e4e8376946765a03a756394e4c09c,Move ansible-role-XXX-hsm projects to Barbican team,MERGED,2020-08-25 20:35:26.000000000,2020-09-01 18:35:17.000000000,2020-09-01 18:33:22.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-08-25 20:35:26.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e7a8fe847847c82c21e9a9eb8d80413c6ecc8b4a', 'message': 'Move ansible-role-XXX-hsm projects to Barbican team\n\nAs discussed in a recent OpenStack Ansible meeting [0], the Barbican\nteam would like make versioned releases of the Ansible roles used\nto manage Hardware Security Modules (HSMs).\n\nThis patch moves two of the HSM roles into their own deliverables\nunder the Barbican team.\n\n[0] http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2020/openstack_ansible_meeting.2020-08-11-16.05.log.html\n\nChange-Id: I19026ba1cc6e4e8376946765a03a756394e4c09c\n'}]",0,748027,e7a8fe847847c82c21e9a9eb8d80413c6ecc8b4a,13,6,1,7973,,,0,"Move ansible-role-XXX-hsm projects to Barbican team

As discussed in a recent OpenStack Ansible meeting [0], the Barbican
team would like make versioned releases of the Ansible roles used
to manage Hardware Security Modules (HSMs).

This patch moves two of the HSM roles into their own deliverables
under the Barbican team.

[0] http://eavesdrop.openstack.org/meetings/openstack_ansible_meeting/2020/openstack_ansible_meeting.2020-08-11-16.05.log.html

Change-Id: I19026ba1cc6e4e8376946765a03a756394e4c09c
",git fetch https://review.opendev.org/openstack/governance refs/changes/27/748027/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,e7a8fe847847c82c21e9a9eb8d80413c6ecc8b4a,project-update, ansible-role-atos-hsm: repos: - openstack/ansible-role-atos-hsm ansible-role-thales-hsm: repos: - openstack/ansible-role-thales-hsm, - openstack/ansible-role-atos-hsm - openstack/ansible-role-thales-hsm,6,2
openstack%2Fbifrost~master~Ia734dee0b41303335b53fcb3211657acd65b476e,openstack/bifrost,master,Ia734dee0b41303335b53fcb3211657acd65b476e,Trivial: remove a reference to update-rc.d,MERGED,2020-08-26 13:46:25.000000000,2020-09-01 18:10:18.000000000,2020-09-01 18:06:44.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 13:46:25.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fc022bd857c2098b4ea71e66eb16b64401612f32', 'message': 'Trivial: remove a reference to update-rc.d\n\nWe only support systemd systems nowadays.\n\nChange-Id: Ia734dee0b41303335b53fcb3211657acd65b476e\n'}]",0,748237,fc022bd857c2098b4ea71e66eb16b64401612f32,9,4,1,10239,,,0,"Trivial: remove a reference to update-rc.d

We only support systemd systems nowadays.

Change-Id: Ia734dee0b41303335b53fcb3211657acd65b476e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/37/748237/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'],1,fc022bd857c2098b4ea71e66eb16b64401612f32,no-update-rc.d,,"# NOTE(ashestakov) https://github.com/ansible/ansible-modules-core/issues/3764 - name: ""Remove uwsgi sysvinit init script"" command: update-rc.d -f uwsgi remove ignore_errors: yes ",0,5
openstack%2Ftacker~master~I2a1b4468db05f4923d7ca1262107dc1f19e37c2b,openstack/tacker,master,I2a1b4468db05f4923d7ca1262107dc1f19e37c2b,Fix rfc3986.is_valid_uri deprecation warnings,MERGED,2020-08-11 03:16:22.000000000,2020-09-01 18:10:11.000000000,2020-09-01 18:08:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-11 03:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d4fb47f2e8e47d443550cb5975d7ca01751be122', 'message': '[WIP] Fix rfc3986.is_valid_uri deprecation warnings\n\n`rfc3986.is_valid_uri()` is deprecated and warned to use\n`rfc3986.validators.Validator` instead.\n\nIt is a similar fix in Nova [1], but has made no changes in\n`lower-constraints.txt` because the version of rfc3986 is already\nupdated.\n\n[1] https://review.opendev.org/#/c/627316/\n\nChange-Id: I2a1b4468db05f4923d7ca1262107dc1f19e37c2b\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 2, 'created': '2020-08-12 07:45:09.000000000', 'files': ['requirements.txt', 'tacker/api/validation/validators.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/054b775c1cdc20d34ebe4ce849a90d3855b215b8', 'message': 'Fix rfc3986.is_valid_uri deprecation warnings\n\n`rfc3986.is_valid_uri()` is deprecated and warned to use\n`rfc3986.validators.Validator` instead.\n\nIt is a similar fix in Nova [1], but has made no changes in\n`lower-constraints.txt` because the version of rfc3986 is already\nupdated.\n\n[1] https://review.opendev.org/#/c/627316/\n\nChange-Id: I2a1b4468db05f4923d7ca1262107dc1f19e37c2b\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}]",0,745616,054b775c1cdc20d34ebe4ce849a90d3855b215b8,17,5,2,25701,,,0,"Fix rfc3986.is_valid_uri deprecation warnings

`rfc3986.is_valid_uri()` is deprecated and warned to use
`rfc3986.validators.Validator` instead.

It is a similar fix in Nova [1], but has made no changes in
`lower-constraints.txt` because the version of rfc3986 is already
updated.

[1] https://review.opendev.org/#/c/627316/

Change-Id: I2a1b4468db05f4923d7ca1262107dc1f19e37c2b
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/16/745616/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tacker/api/validation/validators.py']",2,d4fb47f2e8e47d443550cb5975d7ca01751be122,fix-dep-rfc3986," uri = rfc3986.uri_reference(instance) validator = rfc3986.validators.Validator().require_presence_of( 'scheme', 'host', ).check_validity_of( 'scheme', 'userinfo', 'host', 'path', 'query', 'fragment',) try: validator.validate(uri) except rfc3986.exceptions.RFC3986Exception: return False return True"," return rfc3986.is_valid_uri(instance, require_scheme=True, require_authority=True)",11,2
openstack%2Fbifrost~master~I39897a38a88f117d457578a2152578f63f45d28b,openstack/bifrost,master,I39897a38a88f117d457578a2152578f63f45d28b,Workaround for setuptools 50.0,MERGED,2020-09-01 09:13:11.000000000,2020-09-01 18:08:30.000000000,2020-09-01 18:06:39.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-01 09:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cd3e136d5df766364a38248815e06f47ba751fdb', 'message': ""Workaround for setuptools 50.0\n\nI don't know what it does but people say it helps.\n\nChange-Id: I39897a38a88f117d457578a2152578f63f45d28b\n""}, {'number': 2, 'created': '2020-09-01 09:39:04.000000000', 'files': ['playbooks/roles/bifrost-pip-install/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/eb8d858eafb272e1b073d02c3782092713878c89', 'message': ""Workaround for setuptools 50.0\n\nI don't know what it does but people say it helps.\n\nChange-Id: I39897a38a88f117d457578a2152578f63f45d28b\n""}]",0,749207,eb8d858eafb272e1b073d02c3782092713878c89,12,4,2,10239,,,0,"Workaround for setuptools 50.0

I don't know what it does but people say it helps.

Change-Id: I39897a38a88f117d457578a2152578f63f45d28b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/07/749207/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-pip-install/tasks/main.yml'],1,cd3e136d5df766364a38248815e06f47ba751fdb,gate, environment: # NOTE(dtantsur): https://github.com/pypa/setuptools/issues/2352 etc SETUPTOOLS_USE_DISTUTILS: stdlib,,3,0
openstack%2Fbifrost~master~I683779c01fcffff4af06c9a3cfaa6d70b17c2c34,openstack/bifrost,master,I683779c01fcffff4af06c9a3cfaa6d70b17c2c34,Remove support for OpenStack MetaData version 2012-08-10,MERGED,2020-08-25 10:49:15.000000000,2020-09-01 18:06:43.000000000,2020-09-01 18:06:43.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 10:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3266670bd424107ec03957e6faf74de6f8dee55a', 'message': 'Remove support for OpenStack MetaData version 2012-08-10\n\nChange-Id: I683779c01fcffff4af06c9a3cfaa6d70b17c2c34\n'}, {'number': 2, 'created': '2020-08-25 11:51:16.000000000', 'files': ['playbooks/roles/bifrost-configdrives-dynamic/vars/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'releasenotes/notes/old-network-info-33a853faf6d6c6d0.yaml', 'scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/04a6973e88e95e9326e5700513ccad757d82cf8b', 'message': 'Remove support for OpenStack MetaData version 2012-08-10\n\nChange-Id: I683779c01fcffff4af06c9a3cfaa6d70b17c2c34\n'}]",0,747900,04a6973e88e95e9326e5700513ccad757d82cf8b,9,3,2,10239,,,0,"Remove support for OpenStack MetaData version 2012-08-10

Change-Id: I683779c01fcffff4af06c9a3cfaa6d70b17c2c34
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/00/747900/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-configdrives-dynamic/vars/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'releasenotes/notes/old-network-info-33a853faf6d6c6d0.yaml', 'scripts/test-bifrost.sh']",5,3266670bd424107ec03957e6faf74de6f8dee55a,network-info,# drive as cirros does not support the network_data.json format file,# drive as cirros does not support the network_info.json format file,11,24
openstack%2Fbifrost~master~I11f4976fbd48e552990f2a1890cea7201bbbb024,openstack/bifrost,master,I11f4976fbd48e552990f2a1890cea7201bbbb024,Remove support for the legacy CSV format,MERGED,2020-08-25 10:22:45.000000000,2020-09-01 18:06:41.000000000,2020-09-01 18:06:41.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 10:22:45.000000000', 'files': ['playbooks/test-bifrost.yaml', 'playbooks/redeploy-dynamic.yaml', 'doc/source/user/howto.rst', 'playbooks/test-bifrost-create-vm.yaml', 'bifrost/tests/utils.py', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/README.md', 'playbooks/example-deploy-all-available-nodes.yaml', 'bifrost/tests/functional/test_inventory_functional.py', 'playbooks/roles/bifrost-test-dhcp/files/test-dhcp.py', 'releasenotes/notes/no-csv-b7f149e88aba1b85.yaml', 'bifrost/inventory.py', 'bifrost/tests/unit/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/790f81c3a8a3b5adee09258405d1da94e3808edc', 'message': 'Remove support for the legacy CSV format\n\nChange-Id: I11f4976fbd48e552990f2a1890cea7201bbbb024\n'}]",0,747893,790f81c3a8a3b5adee09258405d1da94e3808edc,7,3,1,10239,,,0,"Remove support for the legacy CSV format

Change-Id: I11f4976fbd48e552990f2a1890cea7201bbbb024
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/93/747893/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/test-bifrost.yaml', 'playbooks/redeploy-dynamic.yaml', 'doc/source/user/howto.rst', 'playbooks/test-bifrost-create-vm.yaml', 'bifrost/tests/utils.py', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/README.md', 'playbooks/example-deploy-all-available-nodes.yaml', 'bifrost/tests/functional/test_inventory_functional.py', 'playbooks/roles/bifrost-test-dhcp/files/test-dhcp.py', 'releasenotes/notes/no-csv-b7f149e88aba1b85.yaml', 'bifrost/inventory.py', 'bifrost/tests/unit/test_inventory.py']",13,790f81c3a8a3b5adee09258405d1da94e3808edc,no-csv,," def test__val_or_none(self): array = ['no', '', 'yes'] self.assertEqual('no', inventory._val_or_none(array, 0)) self.assertIsNone(inventory._val_or_none(array, 1)) self.assertEqual('yes', inventory._val_or_none(array, 2)) self.assertIsNone(inventory._val_or_none(array, 4)) ",23,434
openstack%2Fbifrost~master~I5d54c0727c428956424deb7998e86ad3e802bdf6,openstack/bifrost,master,I5d54c0727c428956424deb7998e86ad3e802bdf6,Update keystone documentation,MERGED,2020-08-27 09:52:29.000000000,2020-09-01 18:06:40.000000000,2020-09-01 18:06:40.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-27 09:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6fac984ad25808b7bc84ad059a1f1942e2b7e64d', 'message': 'Update keystone documentation\n\nFirst, including rst files is inconvenient and does not play well\nwith references (ends up in duplicates). Make user/keystone a proper\nseparate document.\n\nSecond, address various factual errors in both keystone documents.\n\nChange-Id: I5d54c0727c428956424deb7998e86ad3e802bdf6\n'}, {'number': 2, 'created': '2020-08-27 10:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ddeb3c68ae54557ca2b7397c72124edd94f51269', 'message': 'Update keystone documentation\n\nFirst, including rst files is inconvenient and does not play well\nwith references (ends up in duplicates). Make user/keystone a proper\nseparate document.\n\nSecond, address various factual errors in both keystone documents.\n\nChange-Id: I5d54c0727c428956424deb7998e86ad3e802bdf6\n'}, {'number': 3, 'created': '2020-08-31 11:41:52.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/install/keystone.rst', 'doc/source/user/howto.rst', 'doc/source/user/keystone.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ee5fb6911b3ca3033dbed4bdcab3c0cdcda5850d', 'message': 'Update keystone documentation\n\nFirst, including rst files is inconvenient and does not play well\nwith references (ends up in duplicates). Make user/keystone a proper\nseparate document.\n\nSecond, address various factual errors in both keystone documents.\n\nChange-Id: I5d54c0727c428956424deb7998e86ad3e802bdf6\n'}]",0,748392,ee5fb6911b3ca3033dbed4bdcab3c0cdcda5850d,11,4,3,10239,,,0,"Update keystone documentation

First, including rst files is inconvenient and does not play well
with references (ends up in duplicates). Make user/keystone a proper
separate document.

Second, address various factual errors in both keystone documents.

Change-Id: I5d54c0727c428956424deb7998e86ad3e802bdf6
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/92/748392/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/install/keystone.rst', 'doc/source/user/howto.rst', 'doc/source/user/keystone.rst']",4,6fac984ad25808b7bc84ad059a1f1942e2b7e64d,keystone-docs,"Using Keystone ==============operating mode is referred to as ``noauth`` mode. In order to leverage Keystone authentication for the roles, Bifrost reads configuration from ``clouds.yaml``. If ``clouds.yaml`` has not been generated through the ``bifrost-keystone-client-config`` role, one of the following steps need to take place: -e enable_keystone=true -e noauth_mode=false -e cloud_name=bifrostOpenStack Client usage ----------------------For administration actions, use the ``bifrost-admin`` cloud:: export OS_CLOUD=bifrost-admin openstack endpoint list .. _`install guide`: https://docs.openstack.org/ironic/latest/install/configure-identity.html Individual playbook use ----------------------- The OpenStack Ansible modules utilize ``clouds.yaml`` file to obtain authentication details to connect to determine details. The bifrost roles thatdata from ``clouds.yaml``. A user can explicitly select the cloud they wish to deploy to via the ``cloud_name`` parameter.",".. _keystone: .. _`IRC`: https://wiki.openstack.org/wiki/Ironic#IRC Bifrost execution with Keystone ===============================operating mode is referred to as ``noauth`` mode. With that, in order to leverage keystone authentication for the roles, one of the following steps need to take place. -e noauth_mode=false -e cloud_name=bifrostOpenStack Client use with bifrost installed Keystone ----------------------------------------------------.. _`install guide`: https://docs.openstack.org/project-install-guide/baremetal/draft/configure-integration.html#configure-the-identity-service-for-the-bare-metal-service Individual playbook use with os-client-config ============================================= The OpenStack Ansible modules utilize os-client-config to obtain authentication details to connect to determine details. If ``noauth_mode`` is explicitly disabled, the bifrost roles thatdata from os-client-config. Largely these details are governed as environment variables. That being said, os-client-config supports the concept of clouds and an a user can explicitly select the cloud they wish to deploy to via the ``cloud_name`` parameter.",32,42
openstack%2Ftripleo-ansible~stable%2Ftrain~I015a845f0e2e440aa147a823a4bebc93d512664e,openstack/tripleo-ansible,stable/train,I015a845f0e2e440aa147a823a4bebc93d512664e,Additional permission fixes for roles,MERGED,2020-08-13 21:21:55.000000000,2020-09-01 18:04:15.000000000,2020-09-01 18:04:15.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 21:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f02596a1e6a84a680ee3ff7a5df9149c5b592b5', 'message': 'Additional permission fixes for roles\n\nChange-Id: I015a845f0e2e440aa147a823a4bebc93d512664e\nRelated-Bug: #1883609\n(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)\n'}, {'number': 2, 'created': '2020-08-21 14:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcc98ccbcdbf2822147fbd82438ceef4f908dfdb', 'message': 'Additional permission fixes for roles\n\nChange-Id: I015a845f0e2e440aa147a823a4bebc93d512664e\nRelated-Bug: #1883609\n(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)\n'}, {'number': 3, 'created': '2020-08-31 13:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c388b9802259bb7ba0e8171817e202ce54192ab4', 'message': 'Additional permission fixes for roles\n\nChange-Id: I015a845f0e2e440aa147a823a4bebc93d512664e\nRelated-Bug: #1883609\n(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)\n'}, {'number': 4, 'created': '2020-08-31 20:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da73fbc4762a3176050037bc5d6eb1897113bc9d', 'message': 'Additional permission fixes for roles\n\nChange-Id: I015a845f0e2e440aa147a823a4bebc93d512664e\nRelated-Bug: #1883609\n(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)\n'}, {'number': 5, 'created': '2020-08-31 20:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/298df1afc316a95a678dd9558c08d09d578ea33f', 'message': 'Additional permission fixes for roles\n\nChange-Id: I015a845f0e2e440aa147a823a4bebc93d512664e\nRelated-Bug: #1883609\n(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)\n'}, {'number': 6, 'created': '2020-09-01 12:26:08.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ec8909e16f5161da4f8bcf608c2e7296b9cce16', 'message': 'Additional permission fixes for roles\n\nChange-Id: I015a845f0e2e440aa147a823a4bebc93d512664e\nRelated-Bug: #1883609\n(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)\n'}]",0,746229,5ec8909e16f5161da4f8bcf608c2e7296b9cce16,23,4,6,14985,,,0,"Additional permission fixes for roles

Change-Id: I015a845f0e2e440aa147a823a4bebc93d512664e
Related-Bug: #1883609
(cherry picked from commit c9b252815d3be19120f886e108c9f72152d79352)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/746229/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml'],1,2f02596a1e6a84a680ee3ff7a5df9149c5b592b5,bug/1883609-stable/train, become: true,,1,0
openstack%2Fpuppet-oslo~master~I62c7d60c04b9ef0a3c74c7355c8e7a199ffc5cd5,openstack/puppet-oslo,master,I62c7d60c04b9ef0a3c74c7355c8e7a199ffc5cd5,Support overriding resource type used in oslo::db class,MERGED,2020-08-31 11:34:48.000000000,2020-09-01 18:01:42.000000000,2020-09-01 18:01:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-31 11:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/fbe87b08552ce75362aec9c88f4a616e4ba98907', 'message': 'oslo::db: Allow independent values for name and resource type\n\nThis patch allows specyfing resource type used to apply configurations\nin oslo::db class, so that we can use this class to set up parameters\nfor multiple databases.\n\nChange-Id: I62c7d60c04b9ef0a3c74c7355c8e7a199ffc5cd5\n'}, {'number': 2, 'created': '2020-08-31 11:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b3764a07f5e8b63081b2965c404e816dde9985f8', 'message': 'Support overriding resource type used in oslo::db class\n\nThis patch allows specyfing resource type used to apply configurations\nin oslo::db class, so that we can use this class to set up parameters\nfor multiple databases.\n\nChange-Id: I62c7d60c04b9ef0a3c74c7355c8e7a199ffc5cd5\n'}, {'number': 3, 'created': '2020-08-31 12:43:05.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/130282bc98af92b6d62bd1604fbbf0830813f20a', 'message': 'Support overriding resource type used in oslo::db class\n\nThis patch allows specyfing resource type used to apply configurations\nin oslo::db class, so that we can use this class to set up parameters\nfor multiple databases.\n\nChange-Id: I62c7d60c04b9ef0a3c74c7355c8e7a199ffc5cd5\n'}]",0,749034,130282bc98af92b6d62bd1604fbbf0830813f20a,12,5,3,9816,,,0,"Support overriding resource type used in oslo::db class

This patch allows specyfing resource type used to apply configurations
in oslo::db class, so that we can use this class to set up parameters
for multiple databases.

Change-Id: I62c7d60c04b9ef0a3c74c7355c8e7a199ffc5cd5
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/34/749034/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,fbe87b08552ce75362aec9c88f4a616e4ba98907,db-resource_type,"# [*config*] # (Optional) The resource type used to apply configuration parameters. # Defaults to $name # $config = $name create_resources($config, $database_options)"," create_resources($name, $database_options)",6,1
openstack%2Fbifrost~master~I48b5ab9aa656abbddd619df4bed6be9bf3766da5,openstack/bifrost,master,I48b5ab9aa656abbddd619df4bed6be9bf3766da5,Move services to internal_ip by default and refactor endpoint creation,MERGED,2020-08-26 13:31:39.000000000,2020-09-01 18:00:44.000000000,2020-09-01 17:59:00.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 13:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/eea4912579ff9fbfa085490c961827a76fbb3995', 'message': ""Move services to internal_ip by default and refactor endpoint creation\n\nWe're currently defaulting to localhost which makes clouds.yaml/openrc not\nportable and complicates TLS configuration. Moving to internal_ip makes it\npossible to just copy clouds.yaml around.\n\nRefactored endpoint creation in keystone to use the openstack modules and\nto avoid copy-pasting authentication information. As a side effect, it\nbecomes possible to update existing endpoints.\n\nChange-Id: I48b5ab9aa656abbddd619df4bed6be9bf3766da5\n""}, {'number': 2, 'created': '2020-08-26 14:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8abf3d53d6b832d42afd2e456d994d870da053c8', 'message': ""Move services to internal_ip by default and refactor endpoint creation\n\nWe're currently defaulting to localhost which makes clouds.yaml/openrc not\nportable and complicates TLS configuration. Moving to internal_ip makes it\npossible to just copy clouds.yaml around.\n\nRefactored endpoint creation in keystone to use the openstack modules and\nto avoid copy-pasting authentication information. As a side effect, it\nbecomes possible to update existing endpoints.\n\nChange-Id: I48b5ab9aa656abbddd619df4bed6be9bf3766da5\n""}, {'number': 3, 'created': '2020-08-27 10:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4d710084b8a35ee3954e49756646e052024515d7', 'message': ""Move services to internal_ip by default and refactor endpoint creation\n\nWe're currently defaulting to localhost which makes clouds.yaml/openrc not\nportable and complicates TLS configuration. Moving to internal_ip makes it\npossible to just copy clouds.yaml around.\n\nRefactored endpoint creation in keystone to use the openstack modules and\nto avoid copy-pasting authentication information. As a side effect, it\nbecomes possible to update existing endpoints.\n\nThe use_public_urls variable loses most of its sense now and is replaced\nby explicitly checking for public_ip.\n\nChange-Id: I48b5ab9aa656abbddd619df4bed6be9bf3766da5\n""}, {'number': 4, 'created': '2020-08-31 11:41:31.000000000', 'files': ['bifrost/cli.py', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-cloud-config/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'releasenotes/notes/api-url-a6f79de3cc8b0e3d.yaml', 'scripts/test-bifrost.sh', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/114c21043c39fd1edf867fa2a2b8a5c88281f3fe', 'message': ""Move services to internal_ip by default and refactor endpoint creation\n\nWe're currently defaulting to localhost which makes clouds.yaml/openrc not\nportable and complicates TLS configuration. Moving to internal_ip makes it\npossible to just copy clouds.yaml around.\n\nRefactored endpoint creation in keystone to use the openstack modules and\nto avoid copy-pasting authentication information. As a side effect, it\nbecomes possible to update existing endpoints.\n\nThe use_public_urls variable loses most of its sense now and is replaced\nby explicitly checking for public_ip.\n\nChange-Id: I48b5ab9aa656abbddd619df4bed6be9bf3766da5\n""}]",0,748230,114c21043c39fd1edf867fa2a2b8a5c88281f3fe,14,3,4,10239,,,0,"Move services to internal_ip by default and refactor endpoint creation

We're currently defaulting to localhost which makes clouds.yaml/openrc not
portable and complicates TLS configuration. Moving to internal_ip makes it
possible to just copy clouds.yaml around.

Refactored endpoint creation in keystone to use the openstack modules and
to avoid copy-pasting authentication information. As a side effect, it
becomes possible to update existing endpoints.

The use_public_urls variable loses most of its sense now and is replaced
by explicitly checking for public_ip.

Change-Id: I48b5ab9aa656abbddd619df4bed6be9bf3766da5
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/30/748230/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', 'playbooks/roles/bifrost-cloud-config/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'releasenotes/notes/api-url-a6f79de3cc8b0e3d.yaml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml']",8,eea4912579ff9fbfa085490c961827a76fbb3995,internal-ip," network_interface: ""virbr0"" ans_network_interface: ""{{ network_interface | replace('-', '_') }}"" internal_ip: ""{{ hostvars[inventory_hostname]['ansible_' + ans_network_interface]['ipv4']['address'] }}"" # Service URLs used for communication with them. api_protocol: http ironic_api_url: ""{{ api_protocol }}://{{ internal_ip }}:6385"" ironic_inspector_api_url: ""{{ api_protocol }}://{{ internal_ip }}:5050""","ironic_api_url: ""http://localhost:6385"" ironic_inspector_api_url: ""http://localhost:5050""",123,263
openstack%2Fopenstack-ansible-os_senlin~master~I0095a2ff01b6c7fd8d450266ae91451403540a76,openstack/openstack-ansible-os_senlin,master,I0095a2ff01b6c7fd8d450266ae91451403540a76,Removing older releasenote.,ABANDONED,2020-09-01 17:22:00.000000000,2020-09-01 17:50:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-01 17:22:00.000000000', 'files': ['releasenotes/source/newton.rst', 'releasenotes/source/ocata.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/mitaka.rst', 'releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/b0fbe3d4ffc1f2346e0ab240457237b566be0af8', 'message': 'Removing older releasenote.\n\nChange-Id: I0095a2ff01b6c7fd8d450266ae91451403540a76\n'}]",0,749367,b0fbe3d4ffc1f2346e0ab240457237b566be0af8,3,1,1,28752,,,0,"Removing older releasenote.

Change-Id: I0095a2ff01b6c7fd8d450266ae91451403540a76
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/67/749367/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'releasenotes/source/ocata.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/mitaka.rst', 'releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/stein.rst']",10,b0fbe3d4ffc1f2346e0ab240457237b566be0af8,,,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,0,71
openstack%2Frequirements~master~I890982ffb106305a303821d9210a37f6d8914cda,openstack/requirements,master,I890982ffb106305a303821d9210a37f6d8914cda,Remove the networking-l2gw deliverables from project list,MERGED,2020-06-25 14:35:22.000000000,2020-09-01 17:50:14.000000000,2020-09-01 17:47:39.000000000,"[{'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-25 14:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7e0b9f9b8567b8b9cc2f7ff3253efdd861a81122', 'message': 'Remove the networking-l2gw deliverables from req\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nDepends-On: https://review.opendev.org/#/c/738035/\nDepends-On: https://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I890982ffb106305a303821d9210a37f6d8914cda\n'}, {'number': 2, 'created': '2020-06-25 18:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5551ffdea35804817a50f56f47dfb670a65eb525', 'message': 'Remove the networking-l2gw deliverables from req\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nSee also:\nhttps://review.opendev.org/#/c/738035/\nhttps://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I890982ffb106305a303821d9210a37f6d8914cda\n'}, {'number': 3, 'created': '2020-06-25 20:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/df245cc9178bde1df60ee82bf0e7680bfaeb2fb0', 'message': 'Remove the networking-l2gw deliverables from req\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nSee also:\nhttps://review.opendev.org/#/c/738035/\nhttps://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I890982ffb106305a303821d9210a37f6d8914cda\n'}, {'number': 4, 'created': '2020-08-27 22:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/56e025f5b52522fe481473ed713f21e731824de4', 'message': 'Remove the networking-l2gw deliverables from project list\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nBoth repo are in x/naemspace now so keeping it in g-r.\n\nSee also:\nhttps://review.opendev.org/#/c/738035/\nhttps://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I890982ffb106305a303821d9210a37f6d8914cda\n'}, {'number': 5, 'created': '2020-08-28 18:47:34.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d6c683de8a0a025d6a770a5250fe4f9efbac19bd', 'message': 'Remove the networking-l2gw deliverables from project list\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nBoth repo are in x/namespace now so keeping it in g-r.\n\nSee also:\nhttps://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: I890982ffb106305a303821d9210a37f6d8914cda\n'}]",8,738045,d6c683de8a0a025d6a770a5250fe4f9efbac19bd,32,7,5,8556,,,0,"Remove the networking-l2gw deliverables from project list

networking-l2gw and networking-l2gw-tempest-plugin are
finishing the retirement process and no longer will be
maitained under openstack[1].

Both repo are in x/namespace now so keeping it in g-r.

See also:
https://review.opendev.org/#/c/744110/

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html

Change-Id: I890982ffb106305a303821d9210a37f6d8914cda
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/738045/5 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,7e0b9f9b8567b8b9cc2f7ff3253efdd861a81122,complete-retirement-networking-l2gw,,openstack/networking-l2gw openstack/networking-l2gw-tempest-plugin,0,2
openstack%2Fdevstack~stable%2Fstein~I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,openstack/devstack,stable/stein,I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs,MERGED,2020-09-01 12:01:58.000000000,2020-09-01 17:19:16.000000000,2020-09-01 17:17:57.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-01 12:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5856eab904491060fb66b4b764ad30e6964f63e8', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\nTemporarily make grenade jobs non-voting in order to allow this\npatch to be backported.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849\n(cherry picked from commit 18b4251bf4f689923a19bf7fbc50d5c2ea422b21)\n(cherry picked from commit 87d1da30a86a6ae3525eca9a5842ab0403e6ea56)\n(cherry picked from commit 1b35581bb096883ceafbfeea286153eaec184c17)\n'}, {'number': 2, 'created': '2020-09-01 12:02:35.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4b1885bef6766c0bbc20db851b19a83844103c89', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849\n(cherry picked from commit 18b4251bf4f689923a19bf7fbc50d5c2ea422b21)\n(cherry picked from commit 87d1da30a86a6ae3525eca9a5842ab0403e6ea56)\n(cherry picked from commit 1b35581bb096883ceafbfeea286153eaec184c17)\n'}]",0,749253,4b1885bef6766c0bbc20db851b19a83844103c89,10,5,2,13252,,,0,"Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs

A new setuptools release has changed the way pip installs are done,
see [0]. With this change we switch back to using the distro
method for global pip installs.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html

Change-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849
(cherry picked from commit 18b4251bf4f689923a19bf7fbc50d5c2ea422b21)
(cherry picked from commit 87d1da30a86a6ae3525eca9a5842ab0403e6ea56)
(cherry picked from commit 1b35581bb096883ceafbfeea286153eaec184c17)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/53/749253/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,5856eab904491060fb66b4b764ad30e6964f63e8,," # See # https://github.com/pypa/setuptools/issues/2232 # http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html # this makes setuptools >=50 use the platform distutils. # We only want to do this on global pip installs, not if # installing in a virtualenv sudo_pip=""$sudo_pip LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib """," sudo_pip=""$sudo_pip LC_ALL=en_US.UTF-8""",7,1
openstack%2Fnova~master~Ic509d3f342a49dbd53dceac9ddcfc838ec165d6d,openstack/nova,master,Ic509d3f342a49dbd53dceac9ddcfc838ec165d6d,libvirt: Remove unused host parameters,MERGED,2020-06-02 15:55:24.000000000,2020-09-01 17:17:48.000000000,2020-09-01 17:14:00.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28182}, {'_account_id': 29963}, {'_account_id': 32071}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-06-02 15:55:24.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9eb52dee477497d4ac53d8d087d74d79e6317c3', 'message': 'libvirt: Remove unused host parameters\n\nResolve a TODO from Iefa6009874395cafe3121e44a48d882c38230d16.\n\nChange-Id: Ic509d3f342a49dbd53dceac9ddcfc838ec165d6d\n'}]",0,732725,e9eb52dee477497d4ac53d8d087d74d79e6317c3,31,17,1,15334,,,0,"libvirt: Remove unused host parameters

Resolve a TODO from Iefa6009874395cafe3121e44a48d882c38230d16.

Change-Id: Ic509d3f342a49dbd53dceac9ddcfc838ec165d6d
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/732725/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,e9eb52dee477497d4ac53d8d087d74d79e6317c3,trivial," CONF.libvirt.virt_type) test.MatchType(objects.Flavor), CONF.libvirt.virt_type) CONF.libvirt.virt_type) CONF.libvirt.virt_type) CONF.libvirt.virt_type) test.MatchType(objects.Flavor), CONF.libvirt.virt_type) test.MatchType(objects.Flavor), CONF.libvirt.virt_type) test.MatchType(objects.Flavor), CONF.libvirt.virt_type)"," CONF.libvirt.virt_type, drvr._host) test.MatchType(objects.Flavor), CONF.libvirt.virt_type, drvr._host) CONF.libvirt.virt_type, self.drvr._host) CONF.libvirt.virt_type, self.drvr._host) CONF.libvirt.virt_type, self.drvr._host) test.MatchType(objects.Flavor), CONF.libvirt.virt_type, self.drvr._host) test.MatchType(objects.Flavor), CONF.libvirt.virt_type, self.drvr._host) test.MatchType(objects.Flavor), CONF.libvirt.virt_type, self.drvr._host)",16,27
openstack%2Fnova~master~Iefa6009874395cafe3121e44a48d882c38230d16,openstack/nova,master,Iefa6009874395cafe3121e44a48d882c38230d16,"libvirt: Remove MIN_*_INTERFACE_MTU, MIN_*_TX_QUEUE_SIZE",MERGED,2020-05-26 15:49:28.000000000,2020-09-01 17:04:10.000000000,2020-09-01 16:58:59.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-26 15:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4697271b26660ec3442c8c5007e31f9268b4a8e9', 'message': ""libvirt: Remove MIN_*_INTERFACE_MTU, MIN_*_TX_QUEUE_SIZE\n\nBoth our MIN_LIBVIRT_VERSION and MIN_QEMU_VERSION version are greater\nthan this set of values. This allows us to remove the host argument to\nmany of the helper functions in 'nova.virt.libvirt.vif', since we no\nlonger need to use this to check versions.\n\nChange-Id: Iefa6009874395cafe3121e44a48d882c38230d16\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-06-02 15:55:24.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be3c56c793b11e348f1674c2a231a7f854e195ac', 'message': ""libvirt: Remove MIN_*_INTERFACE_MTU, MIN_*_TX_QUEUE_SIZE\n\nBoth our MIN_LIBVIRT_VERSION and MIN_QEMU_VERSION version are greater\nthan this set of values. This allows us to remove the host argument to\nmany of the helper functions in 'nova.virt.libvirt.vif', since we no\nlonger need to use this to check versions.\n\nChange-Id: Iefa6009874395cafe3121e44a48d882c38230d16\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,730866,be3c56c793b11e348f1674c2a231a7f854e195ac,24,13,2,15334,,,0,"libvirt: Remove MIN_*_INTERFACE_MTU, MIN_*_TX_QUEUE_SIZE

Both our MIN_LIBVIRT_VERSION and MIN_QEMU_VERSION version are greater
than this set of values. This allows us to remove the host argument to
many of the helper functions in 'nova.virt.libvirt.vif', since we no
longer need to use this to check versions.

Change-Id: Iefa6009874395cafe3121e44a48d882c38230d16
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/730866/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py']",2,4697271b26660ec3442c8c5007e31f9268b4a8e9,trivial," self.assertXmlEqual(expectedXmlstr, actualXmlstr) def _get_instance_xml(self, driver, vif, image_meta=None, flavor=None): nic = driver.get_config(self.instance, vif, image_meta, flavor, CONF.libvirt.virt_type) flavor, 'kvm', 'normal') d._set_config_VIFVHostUser(self.instance, self.os_vif_vhostuser, conf) None, 'ca:fe:de:ad:be:ef', {}, objects.Flavor(), 'kvm', vnic_type) return v, conf def test_virtio_vhost_queue_sizes(self): _, conf = self._test_virtio_config_queue_sizes() def test_virtio_vhost_queue_sizes_vnic_type_direct(self): _, conf = self._test_virtio_config_queue_sizes( def test_virtio_vhost_queue_sizes_vnic_type_direct_physical(self): _, conf = self._test_virtio_config_queue_sizes( def test_virtio_vhost_queue_sizes_vnic_type_macvtap(self): _, conf = self._test_virtio_config_queue_sizes( def test_virtio_vhost_queue_sizes_vnic_type_virtio_forwarder(self): _, conf = self._test_virtio_config_queue_sizes( def test_virtio_vhostuser_osvif_queue_sizes(self): v, conf = self._test_virtio_config_queue_sizes() v._set_config_VIFVHostUser(self.instance, self.os_vif_vhostuser, conf) None, 'kvm', 'normal') None, 'kvm', network_model.VNIC_TYPE_DIRECT) def test_hw_veb_driver_macvtap(self, mock_get_ifname): expected_xml, mock_convert_vif, xml = self._get_instance_xml(d, vif_model) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml) self._test_config_os_vif(os_vif_type, vif_type, expected_xml)","from nova.virt.libvirt import host self.assertXmlEqual(actualXmlstr, expectedXmlstr) def _get_instance_xml(self, driver, vif, image_meta=None, flavor=None, has_min_libvirt_version=True): hostimpl = host.Host(""qemu:///system"") with mock.patch.object(hostimpl, 'has_min_version', return_value=has_min_libvirt_version): nic = driver.get_config(self.instance, vif, image_meta, flavor, CONF.libvirt.virt_type, hostimpl) hostimpl = host.Host(""qemu:///system"") flavor, 'kvm', 'normal', hostimpl) d._set_config_VIFVHostUser(self.instance, self.os_vif_vhostuser, conf, hostimpl) hostimpl = host.Host(""qemu:///system"") None, 'ca:fe:de:ad:be:ef', {}, objects.Flavor(), 'kvm', vnic_type, hostimpl) return hostimpl, v, conf @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_virtio_vhost_queue_sizes(self, has_min_version): _, _, conf = self._test_virtio_config_queue_sizes() @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_virtio_vhost_queue_sizes_vnic_type_direct(self, has_min_version): _, _, conf = self._test_virtio_config_queue_sizes( @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_virtio_vhost_queue_sizes_vnic_type_direct_physical( self, has_min_version): _, _, conf = self._test_virtio_config_queue_sizes( @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_virtio_vhost_queue_sizes_vnic_type_macvtap(self, has_min_version): _, _, conf = self._test_virtio_config_queue_sizes( @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_virtio_vhost_queue_sizes_vnic_type_virtio_forwarder( self, has_min_version): _, _, conf = self._test_virtio_config_queue_sizes( @mock.patch.object(host.Host, ""has_min_version"", return_value=False) def test_virtio_vhost_queue_sizes_nover(self, has_min_version): _, _, conf = self._test_virtio_config_queue_sizes() self.assertEqual(512, conf.vhost_rx_queue_size) self.assertIsNone(conf.vhost_tx_queue_size) @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_virtio_vhostuser_osvif_queue_sizes(self, has_min_version): hostimpl, v, conf = self._test_virtio_config_queue_sizes() v._set_config_VIFVHostUser(self.instance, self.os_vif_vhostuser, conf, hostimpl) @mock.patch.object(host.Host, ""has_min_version"", return_value=False) def test_virtio_vhostuser_osvif_queue_sizes_ver_err(self, has_min_version): hostimpl, v, conf = self._test_virtio_config_queue_sizes() v._set_config_VIFVHostUser(self.instance, self.os_vif_vhostuser, conf, hostimpl) self.assertEqual(512, conf.vhost_rx_queue_size) self.assertIsNone(conf.vhost_tx_queue_size) hostimpl = host.Host(""qemu:///system"") None, 'kvm', 'normal', hostimpl) hostimpl = host.Host(""qemu:///system"") None, 'kvm', network_model.VNIC_TYPE_DIRECT, hostimpl) @mock.patch.object(host.Host, ""has_min_version"", return_value=True) def test_hw_veb_driver_macvtap(self, ver_mock, mock_get_ifname): libvirt_supports_mtu, expected_xml, mock_convert_vif, xml = self._get_instance_xml(d, vif_model, has_min_libvirt_version=libvirt_supports_mtu) libvirt_supports_mtu = True self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) def test_config_os_vif_bridge_no_mtu(self): os_vif_type = self.os_vif_bridge vif_type = self.vif_bridge libvirt_supports_mtu = False expected_xml = """""" <interface type=""bridge""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <source bridge=""br100""/> <target dev=""nicdc065497-3c""/> <bandwidth> <inbound average=""100"" peak=""200"" burst=""300""/> <outbound average=""10"" peak=""20"" burst=""30""/> </bandwidth> </interface>"""""" self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = True self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) def test_config_os_vif_bridge_nofw_no_mtu(self): os_vif_type = self.os_vif_bridge vif_type = self.vif_bridge libvirt_supports_mtu = False expected_xml = """""" <interface type=""bridge""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <source bridge=""br100""/> <target dev=""nicdc065497-3c""/> <bandwidth> <inbound average=""100"" peak=""200"" burst=""300""/> <outbound average=""10"" peak=""20"" burst=""30""/> </bandwidth> </interface>"""""" self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = False self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = True self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) def test_config_os_vif_agilio_ovs_fallthrough_no_mtu(self): os_vif_type = self.os_vif_agilio_ovs vif_type = self.vif_agilio_ovs libvirt_supports_mtu = False expected_xml = """""" <interface type=""bridge""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""nicdc065497-3c""/> <virtualport type=""openvswitch""> <parameters interfaceid=""07bd6cea-fb37-4594-b769-90fc51854ee9""/> </virtualport> <bandwidth> <inbound average=""100"" peak=""200"" burst=""300""/> <outbound average=""10"" peak=""20"" burst=""30""/> </bandwidth> </interface>"""""" self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = None # not supported for direct VIFs self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = None # not supported for direct VIFs self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = True self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) def test_config_os_vif_ovs_no_mtu(self): os_vif_type = self.os_vif_ovs vif_type = self.vif_ovs libvirt_supports_mtu = False expected_xml = """""" <interface type=""bridge""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""nicdc065497-3c""/> <virtualport type=""openvswitch""> <parameters interfaceid=""07bd6cea-fb37-4594-b769-90fc51854ee9""/> </virtualport> <bandwidth> <inbound average=""100"" peak=""200"" burst=""300""/> <outbound average=""10"" peak=""20"" burst=""30""/> </bandwidth> </interface>"""""" self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = True self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) def test_config_os_vif_ovs_hybrid_no_mtu(self): os_vif_type = self.os_vif_ovs_hybrid vif_type = self.vif_ovs libvirt_supports_mtu = False expected_xml = """""" <interface type=""bridge""> <mac address=""22:52:25:62:e2:aa""/> <model type=""virtio""/> <source bridge=""br0""/> <target dev=""nicdc065497-3c""/> <bandwidth> <inbound average=""100"" peak=""200"" burst=""300""/> <outbound average=""10"" peak=""20"" burst=""30""/> </bandwidth> </interface>"""""" self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml) libvirt_supports_mtu = None # not supported for hostdev self._test_config_os_vif( os_vif_type, vif_type, libvirt_supports_mtu, expected_xml)",80,301
openstack%2Ftripleo-ansible~master~Idc3bf177a44f8a8433a1cef87ef5b46f909df637,openstack/tripleo-ansible,master,Idc3bf177a44f8a8433a1cef87ef5b46f909df637,Fix tripleo_kernel molecule verification,MERGED,2020-08-31 23:34:17.000000000,2020-09-01 17:00:26.000000000,2020-09-01 17:00:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-08-31 23:34:17.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15de11b530c4278e497fc46eec80ae2de346b465', 'message': 'Fix tripleo_kernel molecule verification\n\nMolecule was not running the verify playbook as the test_sequence was incorrect.\n\nChange-Id: Idc3bf177a44f8a8433a1cef87ef5b46f909df637\n'}]",2,749167,15de11b530c4278e497fc46eec80ae2de346b465,9,4,1,23811,,,0,"Fix tripleo_kernel molecule verification

Molecule was not running the verify playbook as the test_sequence was incorrect.

Change-Id: Idc3bf177a44f8a8433a1cef87ef5b46f909df637
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/749167/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/molecule.yml'],1,15de11b530c4278e497fc46eec80ae2de346b465,, - verify, - check,1,1
openstack%2Fpuppet-placement~master~I1b7380dfcd6b009328e334dd4b5701dd529fceee,openstack/puppet-placement,master,I1b7380dfcd6b009328e334dd4b5701dd529fceee,Do not include placement::config by default,MERGED,2020-08-31 09:04:00.000000000,2020-09-01 16:50:24.000000000,2020-09-01 16:48:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 09:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/5c077476a2761ea07dce6aecc13ee2305e233d2d', 'message': 'Do not include placement::config by default\n\n... because there is no requirement to have this inclusion.\n\nChange-Id: I1b7380dfcd6b009328e334dd4b5701dd529fceee\n'}, {'number': 2, 'created': '2020-08-31 10:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/fe939ae8f13cb4c25ee94ef1a31557f6659abb89', 'message': 'Do not include placement::config by default\n\n... because there is no requirement to have this inclusion.\n\nChange-Id: I1b7380dfcd6b009328e334dd4b5701dd529fceee\n'}, {'number': 3, 'created': '2020-09-01 10:50:16.000000000', 'files': ['releasenotes/notes/placement-db-includes-placmenet-config-8015c11cda289a3b.yaml', 'manifests/db.pp', 'spec/classes/placement_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/2c9312670d3d2363248c93bc43e0fb50c53eef45', 'message': 'Do not include placement::config by default\n\n... because there is no requirement to have this inclusion.\n\nChange-Id: I1b7380dfcd6b009328e334dd4b5701dd529fceee\n'}]",2,749005,2c9312670d3d2363248c93bc43e0fb50c53eef45,13,4,3,9816,,,0,"Do not include placement::config by default

... because there is no requirement to have this inclusion.

Change-Id: I1b7380dfcd6b009328e334dd4b5701dd529fceee
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/05/749005/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/placement-db-includes-placmenet-config-8015c11cda289a3b.yaml', 'manifests/db.pp']",2,5c077476a2761ea07dce6aecc13ee2305e233d2d,validate-db_conn,, include placement::config,6,1
openstack%2Fproject-config~master~Ibcb2fcba38c5988da85dfc3f846364c16da56136,openstack/project-config,master,Ibcb2fcba38c5988da85dfc3f846364c16da56136,Add neutron-tempest-plugin-scenario-ovn job to Neutron dashboard,MERGED,2020-08-26 13:14:47.000000000,2020-09-01 16:38:49.000000000,2020-09-01 16:25:20.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:14:47.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3015f04967cb006bcf3ea2cc0adb5a0ce1ed781e', 'message': 'Add neutron-tempest-plugin-scenario-ovn job to Neutron dashboard\n\nThis job was added some time ago to the check and gate queue for the\nNeutron project so it will be nice to see it in the dashboard too.\n\nThis commit also moves neutron-tempest-plugin.api gate job from the\n""tempest jobs"" to the ""neutron tempest plugin jobs"".\n\nChange-Id: Ibcb2fcba38c5988da85dfc3f846364c16da56136\n'}]",0,748223,3015f04967cb006bcf3ea2cc0adb5a0ce1ed781e,9,4,1,11975,,,0,"Add neutron-tempest-plugin-scenario-ovn job to Neutron dashboard

This job was added some time ago to the check and gate queue for the
Neutron project so it will be nice to see it in the dashboard too.

This commit also moves neutron-tempest-plugin.api gate job from the
""tempest jobs"" to the ""neutron tempest plugin jobs"".

Change-Id: Ibcb2fcba38c5988da85dfc3f846364c16da56136
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/748223/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,3015f04967cb006bcf3ea2cc0adb5a0ce1ed781e,improve-neutron-dashboard," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-ovn') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-ovn') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-ovn') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-ovn')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api')",6,2
openstack%2Fproject-config~master~I43254a6cda0e3961c7259c472264702d76da70b5,openstack/project-config,master,I43254a6cda0e3961c7259c472264702d76da70b5,Retire devstack-plugin-pika project,MERGED,2020-08-07 14:14:10.000000000,2020-09-01 16:21:00.000000000,2020-09-01 16:21:00.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-07 14:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5fa775fc97cc9ac0ec7785cdfb3e941353842b02', 'message': 'Retire devstack-plugin-pika project\n\nThis plugin was used by the oslo.messaging project to test the\ndevelopment of an alternative RabbitMQ message driver based on\nthe Pika library (instead of the default Kombu driver).\n\nDevelopment of this driver was dropped in Queens and is not\nsupported.\n\nChange-Id: I43254a6cda0e3961c7259c472264702d76da70b5\n'}, {'number': 2, 'created': '2020-08-28 15:17:18.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9e1604b5103302eb8a0d357cf3c21b0f55209831', 'message': 'Retire devstack-plugin-pika project\n\nThis plugin was used by the oslo.messaging project to test the\ndevelopment of an alternative RabbitMQ message driver based on\nthe Pika library (instead of the default Kombu driver).\n\nDevelopment of this driver was dropped in Queens and is not\nsupported.\n\nChange-Id: I43254a6cda0e3961c7259c472264702d76da70b5\n'}]",1,745342,9e1604b5103302eb8a0d357cf3c21b0f55209831,14,6,2,8770,,,0,"Retire devstack-plugin-pika project

This plugin was used by the oslo.messaging project to test the
development of an alternative RabbitMQ message driver based on
the Pika library (instead of the default Kombu driver).

Development of this driver was dropped in Queens and is not
supported.

Change-Id: I43254a6cda0e3961c7259c472264702d76da70b5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/745342/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,5fa775fc97cc9ac0ec7785cdfb3e941353842b02,retire-devstack-plugin-pika, - noop-jobs, - official-openstack-repo-jobs,1,1
openstack%2Fproject-config~master~I2371dabfa4f50e61a46944e77e8a5b7d3a5997db,openstack/project-config,master,I2371dabfa4f50e61a46944e77e8a5b7d3a5997db,Retire the devstack-plugin-zmq project,MERGED,2020-08-07 14:24:33.000000000,2020-09-01 16:17:06.000000000,2020-09-01 16:17:06.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-07 14:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/477e300bb82cd2b687d5b483e34b47452b986f21', 'message': 'Retire the devstack-plugin-zmq project\n\nThis plugin was used by the oslo.messaging project to test the\ndevelopment of a message driver based on the ZeroMQ library.\n\nThe jobs using this plugin were non-voting and non-gating.\n\nDevelopment of this driver was dropped in Rocky and is not\nsupported.\n\nChange-Id: I2371dabfa4f50e61a46944e77e8a5b7d3a5997db\n'}, {'number': 2, 'created': '2020-08-28 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b55b5935b401ebea1643b148e9da97195e76b8ca', 'message': 'Retire the devstack-plugin-zmq project\n\nThis plugin was used by the oslo.messaging project to test the\ndevelopment of a message driver based on the ZeroMQ library.\n\nThe jobs using this plugin were non-voting and non-gating.\n\nDevelopment of this driver was dropped in Rocky and is not\nsupported.\n\nChange-Id: I2371dabfa4f50e61a46944e77e8a5b7d3a5997db\n'}, {'number': 3, 'created': '2020-08-28 17:31:32.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/db7da4515e37ea6fca5b30443c61c92245201b38', 'message': 'Retire the devstack-plugin-zmq project\n\nThis plugin was used by the oslo.messaging project to test the\ndevelopment of a message driver based on the ZeroMQ library.\n\nThe jobs using this plugin were non-voting and non-gating.\n\nDevelopment of this driver was dropped in Rocky and is not\nsupported.\n\nChange-Id: I2371dabfa4f50e61a46944e77e8a5b7d3a5997db\n'}]",2,745344,db7da4515e37ea6fca5b30443c61c92245201b38,15,5,3,8770,,,0,"Retire the devstack-plugin-zmq project

This plugin was used by the oslo.messaging project to test the
development of a message driver based on the ZeroMQ library.

The jobs using this plugin were non-voting and non-gating.

Development of this driver was dropped in Rocky and is not
supported.

Change-Id: I2371dabfa4f50e61a46944e77e8a5b7d3a5997db
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/745344/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,477e300bb82cd2b687d5b483e34b47452b986f21,retire-devstack-plugin-zmq, - noop-jobs, - official-openstack-repo-jobs,1,1
openstack%2Frequirements~master~Ib6661217c0763b5d111a360e121c4131c61840a6,openstack/requirements,master,Ib6661217c0763b5d111a360e121c4131c61840a6,"Revert ""Reintroduce setuptools <50 cap""",MERGED,2020-08-31 21:54:58.000000000,2020-09-01 16:11:13.000000000,2020-09-01 16:07:59.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-31 21:54:58.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d9089c8eed9d3eeb698e50df3fcc0020c9c72fa4', 'message': 'Revert ""Reintroduce setuptools <50 cap""\n\nThis reverts commit 5b2ee12846e05722a45cd7ca616f8254b7ed1ec1.\n\ndevstack has introduced workarounds using the inbuilt setuptools\nescape-hatch of SETUPTOOLS_USE_DISTUTILS=stdlib\n(I5d8aa0e58e0409c54451b51de5eb70ba9a68d849 and backports).\n\nI don\'t believe any other projects are relying on this, so we should\nrevert before we forget about it.\n\nChange-Id: Ib6661217c0763b5d111a360e121c4131c61840a6\n'}]",0,749159,d9089c8eed9d3eeb698e50df3fcc0020c9c72fa4,12,6,1,7118,,,0,"Revert ""Reintroduce setuptools <50 cap""

This reverts commit 5b2ee12846e05722a45cd7ca616f8254b7ed1ec1.

devstack has introduced workarounds using the inbuilt setuptools
escape-hatch of SETUPTOOLS_USE_DISTUTILS=stdlib
(I5d8aa0e58e0409c54451b51de5eb70ba9a68d849 and backports).

I don't believe any other projects are relying on this, so we should
revert before we forget about it.

Change-Id: Ib6661217c0763b5d111a360e121c4131c61840a6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/749159/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d9089c8eed9d3eeb698e50df3fcc0020c9c72fa4,revert-setuptools-50,"# Blacklist setuptools 48.0.0, 49.0.0 due to https://github.com/pypa/setuptools/issues/2232 setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,!=48.0.0,!=49.0.0 # PSF/ZPL","# Blacklist setuptools 48.0.0, 49.0.0, <50.0.0 due to https://github.com/pypa/setuptools/issues/2232 setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,!=48.0.0,!=49.0.0,<50.0.0 # PSF/ZPL",2,2
openstack%2Fkolla-ansible~master~I96017c17e68ca7a00a2d5ac41f2f43ef87694514,openstack/kolla-ansible,master,I96017c17e68ca7a00a2d5ac41f2f43ef87694514,Remove unused configuration for prometheus-openstack-exporter,MERGED,2020-09-01 11:55:31.000000000,2020-09-01 16:09:36.000000000,2020-09-01 16:06:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-01 11:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8449545573f3de87cefdc067c46434b163b8f23', 'message': 'Remove unused configuration for prometheus-openstack-exporter\n\nThe Prometheus OpenStack exporter was needlessly configured to use the\nprometheus Docker volume and change permissions of /data, which does\nnot exist in the container image.\n\nThis must have been copy-pasted from existing Prometheus code.\n\nChange-Id: I96017c17e68ca7a00a2d5ac41f2f43ef87694514\n'}, {'number': 2, 'created': '2020-09-01 12:16:00.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'releasenotes/notes/remove-prometheus-volume-from-openstack-exporter-f6bb5da3093abef8.yaml', 'ansible/roles/prometheus/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/295f8d1b43cf2003f66634389fc0615609ee0f86', 'message': 'Remove unused configuration for prometheus-openstack-exporter\n\nThe Prometheus OpenStack exporter was needlessly configured to use the\nprometheus Docker volume and change permissions of /data, which does\nnot exist in the container image.\n\nThis must have been copy-pasted from existing Prometheus code.\n\nChange-Id: I96017c17e68ca7a00a2d5ac41f2f43ef87694514\n'}]",0,749251,295f8d1b43cf2003f66634389fc0615609ee0f86,11,3,2,15197,,,0,"Remove unused configuration for prometheus-openstack-exporter

The Prometheus OpenStack exporter was needlessly configured to use the
prometheus Docker volume and change permissions of /data, which does
not exist in the container image.

This must have been copy-pasted from existing Prometheus code.

Change-Id: I96017c17e68ca7a00a2d5ac41f2f43ef87694514
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/749251/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/defaults/main.yml']",2,e8449545573f3de87cefdc067c46434b163b8f23,prometheus-openstack-cleanup,," - ""prometheus:/var/lib/prometheus""",0,6
openstack%2Fopenstack-ansible-os_cloudkitty~master~I98d5df7c87b94d8135b24a42941c109365cd1432,openstack/openstack-ansible-os_cloudkitty,master,I98d5df7c87b94d8135b24a42941c109365cd1432,Add CentOS 8 and Ubuntu Focal support,MERGED,2020-08-27 16:02:28.000000000,2020-09-01 16:08:56.000000000,2020-09-01 12:16:15.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-27 16:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/38eff66452eb1c4949bb86d55c5ecd76d2447ef9', 'message': 'Add CentOS 8 and Ubuntu Focal support\n\nChange-Id: I98d5df7c87b94d8135b24a42941c109365cd1432\n'}, {'number': 2, 'created': '2020-08-28 06:18:54.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/d1ce3f060af074d20277b8f772bf153b17bc7f19', 'message': 'Add CentOS 8 and Ubuntu Focal support\n\nChange-Id: I98d5df7c87b94d8135b24a42941c109365cd1432\n'}]",0,748476,d1ce3f060af074d20277b8f772bf153b17bc7f19,13,5,2,28619,,,0,"Add CentOS 8 and Ubuntu Focal support

Change-Id: I98d5df7c87b94d8135b24a42941c109365cd1432
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/76/748476/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,38eff66452eb1c4949bb86d55c5ecd76d2447ef9,osa/el8,, - python-systemd,1,2
openstack%2Foctavia~master~I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,openstack/octavia,master,I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,Fix API sort key for complex columns,MERGED,2020-08-06 22:18:22.000000000,2020-09-01 15:56:59.000000000,2020-09-01 15:49:20.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 22:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/86944421a757b7070f696787240d465c8d36f1b3', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compond\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}, {'number': 2, 'created': '2020-08-06 22:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13a6c6b6932fe9ddeb54a914d933ac580a8d461a', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compond\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}, {'number': 3, 'created': '2020-08-06 22:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7235f3fb4db46bf9bd284f1490f46d0c0cd006b5', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}, {'number': 4, 'created': '2020-08-07 19:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/78711a03959637924be76f3c551df96630ba932c', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}, {'number': 5, 'created': '2020-08-18 20:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/063f98caa416221c417c868c88ab729da3bd83e3', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}, {'number': 6, 'created': '2020-08-24 15:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b2ad44d51696de8b53ce502055a040f2ae349594', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}, {'number': 7, 'created': '2020-08-24 16:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/16ed82e9fb3be63165a80925347bb43f2f8a8c15', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}, {'number': 8, 'created': '2020-09-01 11:55:12.000000000', 'files': ['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/common/types.py', 'releasenotes/notes/fix-api-sort-key-337f342d5cdce432.yaml', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b6f6c14292329b1a977fd7c0831f917cd69cbaaf', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n'}]",3,745239,b6f6c14292329b1a977fd7c0831f917cd69cbaaf,29,5,8,11628,,,0,"Fix API sort key for complex columns

The Octavia API sort function was not working correctly for some
columns that have different names in the API vs the data model.
This patch also handles the case where a column may be a compound
object in the data model, such as vip_address->vip.ip_address.

Change-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668
Story: 2007991
Task: 40626
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/745239/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/pagination.py', 'octavia/api/common/types.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",4,86944421a757b7070f696787240d465c8d36f1b3,fix-sort-key," def test_get_all_sorted_by_vip_ip_address(self): self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=self.project_id, vip_address='198.51.100.2') self.create_load_balancer(uuidutils.generate_uuid(), name='lb2', project_id=self.project_id, vip_address='198.51.100.1') self.create_load_balancer(uuidutils.generate_uuid(), name='lb3', project_id=self.project_id, vip_address='198.51.100.3') response = self.get(self.LBS_PATH, params={'sort': 'vip_address:desc'}) lbs_desc = response.json.get(self.root_tag_list) response = self.get(self.LBS_PATH, params={'sort': 'vip_address:asc'}) lbs_asc = response.json.get(self.root_tag_list) self.assertEqual(3, len(lbs_desc)) self.assertEqual(3, len(lbs_asc)) lb_id_names_desc = [(lb.get('id'), lb.get('name')) for lb in lbs_desc] lb_id_names_asc = [(lb.get('id'), lb.get('name')) for lb in lbs_asc] self.assertEqual(lb_id_names_asc, list(reversed(lb_id_names_desc))) self.assertEqual('198.51.100.1', lbs_asc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_asc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_asc[2][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_desc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_desc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.1', lbs_desc[2][constants.VIP_ADDRESS]) ",,109,1
openstack%2Foctavia~master~I477d2d12c64c1e38e3917333e5d47f612cab93b0,openstack/octavia,master,I477d2d12c64c1e38e3917333e5d47f612cab93b0,Fix user permission for WSGI configuration Task: 35692 Story: 2006172,MERGED,2019-07-05 13:43:58.000000000,2020-09-01 15:53:02.000000000,2020-09-01 15:49:13.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10068}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30657}, {'_account_id': 32029}]","[{'number': 1, 'created': '2019-07-05 13:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ba3e68ebc63935cc07d20876d8b50d725810db05', 'message': 'Task: 35692 Story: 2006172 Fix user permission for wsgi config\n\nChange-Id: I477d2d12c64c1e38e3917333e5d47f612cab93b0\n'}, {'number': 2, 'created': '2019-07-05 13:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6f6c1a13ed8b0755f4bb278f08cd104732504c16', 'message': 'Fix user permission for WSGI configuration\nTask: 35692\nStory: 2006172\n\nChange-Id: I477d2d12c64c1e38e3917333e5d47f612cab93b0\n'}, {'number': 3, 'created': '2020-09-01 11:56:18.000000000', 'files': ['httpd/octavia-api.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6df1ce8e28eb76cb782dc06f913598cfa2ecc156', 'message': 'Fix user permission for WSGI configuration\nTask: 35692\nStory: 2006172\n\nChange-Id: I477d2d12c64c1e38e3917333e5d47f612cab93b0\n'}]",0,669359,6df1ce8e28eb76cb782dc06f913598cfa2ecc156,22,7,3,30657,,,0,"Fix user permission for WSGI configuration
Task: 35692
Story: 2006172

Change-Id: I477d2d12c64c1e38e3917333e5d47f612cab93b0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/669359/3 && git format-patch -1 --stdout FETCH_HEAD,['httpd/octavia-api.conf'],1,ba3e68ebc63935cc07d20876d8b50d725810db05,fix_wsgi_config_user_permissions, WSGIDaemonProcess octavia-wsgi processes=5 threads=1 user=octavia group=octavia display-name=%{GROUP}, WSGIDaemonProcess octavia-wsgi processes=5 threads=1 display-name=%{GROUP},1,1
openstack%2Foctavia~master~I86add89ed7ea474dcb24962547c78460bc2e260c,openstack/octavia,master,I86add89ed7ea474dcb24962547c78460bc2e260c,Add missing log line for finishing amp operations,MERGED,2020-08-11 23:37:23.000000000,2020-09-01 15:49:18.000000000,2020-09-01 15:49:18.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-11 23:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c3e1e6916ba6d749f760989b35454265a8c96aa', 'message': 'Add missing log line for finishing amp config\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}, {'number': 2, 'created': '2020-08-13 12:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f2210e2e16c78c67dda57df7d50486a128ec38fa', 'message': 'Add missing log line for finishing amp config\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}, {'number': 3, 'created': '2020-08-18 17:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a20052f57cd1a264f253b109a6904652b48ef778', 'message': 'Add missing log line for finishing amp operations\n\nBoth amp config and amp cert rotate were missing Finished log lines.\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}, {'number': 4, 'created': '2020-08-18 17:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d503317f9e23e0310178b49e29d283d6eea47aee', 'message': 'Add missing log line for finishing amp operations\n\nBoth amp config and amp cert rotate were missing Finished log lines.\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}, {'number': 5, 'created': '2020-08-18 17:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/36066503f90c396304704d47c2dd371fa20eb5ca', 'message': 'Add missing log line for finishing amp operations\n\nBoth amp config and amp cert rotate were missing Finished log lines.\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}, {'number': 6, 'created': '2020-08-18 18:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cb86cc30b11a6079710018c0b76f34beb690a899', 'message': 'Add missing log line for finishing amp operations\n\nBoth amp config and amp cert rotate were missing Finished log lines.\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}, {'number': 7, 'created': '2020-08-26 20:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d830c283f121490366e6961fb6b8051da94d40b3', 'message': 'Add missing log line for finishing amp operations\n\nBoth amp config and amp cert rotate were missing Finished log lines.\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}, {'number': 8, 'created': '2020-09-01 11:56:46.000000000', 'files': ['octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b182b50cda83bc83aa5cc1edd72e3dd6609de17', 'message': 'Add missing log line for finishing amp operations\n\nBoth amp config and amp cert rotate were missing Finished log lines.\n\nChange-Id: I86add89ed7ea474dcb24962547c78460bc2e260c\n'}]",6,745760,6b182b50cda83bc83aa5cc1edd72e3dd6609de17,32,7,8,10273,,,0,"Add missing log line for finishing amp operations

Both amp config and amp cert rotate were missing Finished log lines.

Change-Id: I86add89ed7ea474dcb24962547c78460bc2e260c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/60/745760/4 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/controller_worker.py'],1,7c3e1e6916ba6d749f760989b35454265a8c96aa,," LOG.info(""Finished amphora agent configuration update, amphora's id "" ""was: %s"", amphora_id)",,2,0
openstack%2Ftripleo-ansible~master~I0e5f4692efe387d97f940b5323e593a94b6f833a,openstack/tripleo-ansible,master,I0e5f4692efe387d97f940b5323e593a94b6f833a,Fix role-addition CI,MERGED,2020-09-01 06:50:53.000000000,2020-09-01 15:47:38.000000000,2020-09-01 15:12:44.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-09-01 06:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6896ea5ee63295de66007d90d04b992a4a36ffa3', 'message': 'WIP test role-addition CI fix\n\nCloses-Bug: #1893734\n\nChange-Id: I0e5f4692efe387d97f940b5323e593a94b6f833a\n'}, {'number': 2, 'created': '2020-09-01 10:25:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e2a54d5d5a8170591647473f3e79573928ff3ef', 'message': 'Fix role-addition CI\n\nBy artificially setting the upper constraint file we ignore\nglobal-requirements which then creates errors like the following:\n\nrole-addition run-test: commands[2] | pip check\nsetting PATH=/home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin:/home/zuul/.local/bin:/home/zuul/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin\n[43268] /home/zuul/src/opendev.org/openstack/tripleo-ansible$ /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check\nopenstacksdk 0.48.0 has requirement decorator>=4.4.1, but you have decorator 4.2.1.\nERROR: InvocationError for command /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check (exited with code 1)\n\nA job test that was failing previously with the above error, now passed\ncorrectly:\n- Before: https://zuul.opendev.org/t/openstack/build/8ad3a5951133418e8be132db218a4480\n- After: https://zuul.opendev.org/t/openstack/build/01d33b85362d430cb30b619803814677\n\nCloses-Bug: #1893734\n\nChange-Id: I0e5f4692efe387d97f940b5323e593a94b6f833a\n'}]",0,749188,8e2a54d5d5a8170591647473f3e79573928ff3ef,12,4,2,20172,,,0,"Fix role-addition CI

By artificially setting the upper constraint file we ignore
global-requirements which then creates errors like the following:

role-addition run-test: commands[2] | pip check
setting PATH=/home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin:/home/zuul/.local/bin:/home/zuul/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
[43268] /home/zuul/src/opendev.org/openstack/tripleo-ansible$ /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check
openstacksdk 0.48.0 has requirement decorator>=4.4.1, but you have decorator 4.2.1.
ERROR: InvocationError for command /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check (exited with code 1)

A job test that was failing previously with the above error, now passed
correctly:
- Before: https://zuul.opendev.org/t/openstack/build/8ad3a5951133418e8be132db218a4480
- After: https://zuul.opendev.org/t/openstack/build/01d33b85362d430cb30b619803814677

Closes-Bug: #1893734

Change-Id: I0e5f4692efe387d97f940b5323e593a94b6f833a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/749188/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6896ea5ee63295de66007d90d04b992a4a36ffa3,pcs_host3,,setenv = UPPER_CONSTRAINTS_FILE=file:///dev/null,0,2
openstack%2Fopenstack-zuul-jobs~master~Ib3b6ee10240eaa9de406397f2d8a053bfe43aa7a,openstack/openstack-zuul-jobs,master,Ib3b6ee10240eaa9de406397f2d8a053bfe43aa7a,Disable grenade jobs to fix setuptool issue on devstack,ABANDONED,2020-08-31 18:00:19.000000000,2020-09-01 15:38:18.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 18:00:19.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/dcdbe664b41a66afc8e409eb90dc8b462feefd3f', 'message': 'Disable grenade jobs to fix setuptool issue on devstack\n\nWe need to disable grenade jobs to get devstack fix for\nsetuptool issue\n- https://review.opendev.org/#/q/I5d8aa0e58e0409c54451b51de5eb70ba9a68d849\n\nOnce those fixes are merged we can nable them back.\n\nChange-Id: Ib3b6ee10240eaa9de406397f2d8a053bfe43aa7a\n'}]",0,749095,dcdbe664b41a66afc8e409eb90dc8b462feefd3f,4,2,1,8556,,,0,"Disable grenade jobs to fix setuptool issue on devstack

We need to disable grenade jobs to get devstack fix for
setuptool issue
- https://review.opendev.org/#/q/I5d8aa0e58e0409c54451b51de5eb70ba9a68d849

Once those fixes are merged we can nable them back.

Change-Id: Ib3b6ee10240eaa9de406397f2d8a053bfe43aa7a
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/95/749095/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,dcdbe664b41a66afc8e409eb90dc8b462feefd3f,, voting: false #- grenade: # branches: ^(?!(stable/(ocata|pike))).*$, - grenade: branches: ^(?!(stable/(ocata|pike))).*$,3,2
openstack%2Fpuppet-nova~master~Ibe827d6f40bfa6a0015a69d467c898f982cf9480,openstack/puppet-nova,master,Ibe827d6f40bfa6a0015a69d467c898f982cf9480,Do not validate database_connection format,MERGED,2020-08-31 10:26:36.000000000,2020-09-01 15:29:30.000000000,2020-09-01 15:29:30.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 10:26:36.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/77ed82926562c4dc90e6be5d72fe0cbedba73d82', 'message': 'Do not validate database_connection format\n\nCurrently we validate database_connection in 2 layers, each puppet\nmodules and puppet-oslo, however this makes it difficult to maintain\nvalidation pattern because we always need to fix both.\nThis patch removes the validation from each puppet modules so that\nwe need to maitain only one place, puppet-oslo to update validation\nlogic.\n\nChange-Id: Ibe827d6f40bfa6a0015a69d467c898f982cf9480\n'}]",0,749019,77ed82926562c4dc90e6be5d72fe0cbedba73d82,12,4,1,9816,,,0,"Do not validate database_connection format

Currently we validate database_connection in 2 layers, each puppet
modules and puppet-oslo, however this makes it difficult to maintain
validation pattern because we always need to fix both.
This patch removes the validation from each puppet modules so that
we need to maitain only one place, puppet-oslo to update validation
logic.

Change-Id: Ibe827d6f40bfa6a0015a69d467c898f982cf9480
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/19/749019/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,77ed82926562c4dc90e6be5d72fe0cbedba73d82,validate-db_conn,," include nova::params validate_legacy(Oslo::Dbconn, 'validate_re', $database_connection_real, ['^(sqlite|mysql(\+pymysql)?|postgresql):\/\/(\S+:\S+@\S+\/\S+)?']) ",0,5
openstack%2Ftripleo-heat-templates~master~I9e0da2a48c23c35e084bea831fc744b9f053508b,openstack/tripleo-heat-templates,master,I9e0da2a48c23c35e084bea831fc744b9f053508b,Modify how libvirt related containers use SELinux,MERGED,2020-06-17 12:08:00.000000000,2020-09-01 15:23:55.000000000,2020-09-01 15:23:54.000000000,"[{'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 5046}, {'_account_id': 6681}, {'_account_id': 6962}, {'_account_id': 9914}, {'_account_id': 13861}, {'_account_id': 14250}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30133}]","[{'number': 1, 'created': '2020-06-17 12:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a0622ced12bf07918129f99c93386522b8023ab', 'message': 'Modify how nova_libvirt container uses SELinux\n\n1- Add specific mounts\nThese mounts are needed in order to let sVirt work with the MLS.\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- drop ""z"" flag from libvirt related mounts in order to avoid\nrelabelling issues from non-privileged containers\n\nNote this will require an update to podman-1.6.4 in order to allow\npassing multiple security-opt[1]\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846403\n\nDepends-On: https://review.opendev.org/735063\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 2, 'created': '2020-06-17 12:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a69b2e553476e067e28152de421c5905215b269f', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\nNote this will require an update to podman-1.6.4 in order to allow\npassing multiple security-opt[1], and allow to actually USE security-opt\nwhen --privileged is passed[2]\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846403\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 3, 'created': '2020-06-17 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/416b1b51b36d3d032678be304198b5aa9dabe744', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\nNote this will require an update to podman-1.6.4 in order to allow\npassing multiple security-opt[1], and allow to actually USE security-opt\nwhen --privileged is passed[2]\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846403\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 4, 'created': '2020-06-17 13:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a48c205e77268d916cf11a4191fbdb247fa6aa82', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\nNote this will require to patch podman-1.6.4 in order to allow\npassing multiple security-opt[1], and allow to actually USE security-opt\nwhen --privileged is passed[2].\nThe tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846403\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 5, 'created': '2020-06-29 06:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6424921bc3cf67b9f61cc83f8f09887d09e25339', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\nNote this will require to patch podman-1.6.4 in order to allow\npassing multiple security-opt[1], and allow to actually USE security-opt\nwhen --privileged is passed[2].\nThe tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846403\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 6, 'created': '2020-06-30 05:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/208756ec77c3ee96b791877635d0cdad976dd73e', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- set specific labels for the container itself. Note the new\n""container_ro_file_t"" is replacing late ""container_share_t"".\n\nNote this will require to patch podman-1.6.4 in order to allow to actually\nuse security-opt when --privileged is passed[1].\nThe tests were done using a podman 1.9.3 in order to work around the\nmentionned issue.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 7, 'created': '2020-07-02 08:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bbf84d9f87f097a9986a21747d0f98085659512', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- set specific labels for the container itself. Note the new\n""container_ro_file_t"" is replacing late ""container_share_t"".\n\nNotes:\n1. This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n2. The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 8, 'created': '2020-07-02 08:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39e2a89394454e79de7de9f9442332873027c7a5', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 9, 'created': '2020-07-02 11:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3f30e2ad98185c4ba1d5a7f078e6f4a298917cc', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 10, 'created': '2020-07-06 09:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f0e5d724f6ac9f24a6296907c400dce54e9d2cd', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 11, 'created': '2020-07-07 07:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0358a4f481bd38a5811e9000fbf0dba65db1d04e', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 12, 'created': '2020-07-14 06:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81508d16d7e776f8111deb7ee49212f9ca3eda96', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 13, 'created': '2020-07-20 05:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cf18664ca47d9da9aae21cd8d36ce400b7c2326', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 14, 'created': '2020-07-29 10:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7356eca1186a2381fb90e0d3c7b536e86d656be', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 15, 'created': '2020-08-05 12:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c10f27c80e002bfd4276732e2f0f2c184060907e', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 16, 'created': '2020-08-07 06:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd955a910a1d82ea423f9f7720e44cfdf627bb4f', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nDepends-On: https://review.opendev.org/745173\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 17, 'created': '2020-08-10 04:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2fa88932594c56bf70b88d9be6b550ef372fe27', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nDepends-On: https://review.opendev.org/745173\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 18, 'created': '2020-08-12 09:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4911cdefc49ff13d5dc6a6fcaf91283d2bb5c5c0', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nDepends-On: https://review.opendev.org/745173\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}, {'number': 19, 'created': '2020-08-24 11:16:20.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d8c87a09ca0b51250a791ab53718cd87f1ff8e5', 'message': 'Modify how libvirt related containers use SELinux\n\n1- Add specific mounts in nova_libvirt\nThey are needed in order to get SELinux support within the container\n\n2- Remove now deprecated docker_enable condition\nSince this one isn\'t needed anymore, just drop it.\n\n3- Drop ""z"" flag from libvirt related mounts\nThis avoids relabelling issues from non-privileged containers\n\n4- Set specific labels for the container itself.\nSee note 2 for more details.\n\nNotes:\n1- This will require to patch podman-1.6.4 in order to allow to actually\n   use security-opt when --privileged and/or --pid=host are passed[1].\n\n2- The ""container_share_t"" filetype will be updated in a follow-up to\n   the newer version, ""container_ro_file_t"". This makes backports easier\n   to older releases that might not be aware of this new type.\n   The follow-up change is purely cosmetic in order to reflect the\n   actual behavior of SELinux and has no functional change.\n\nTesting:\nThe first tests were done using a podman 1.9.3 in order to work around the\nmentionned issues.\n\nNewer tests were done using podman 1.6.4 scratch-builds in order to ensure\nthe reported issues were fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364\n\nDepends-On: https://review.opendev.org/735063\nDepends-On: https://review.opendev.org/745173\nCo-Authored-By: Daniel Berrange <berrange@redhat.com>\nCo-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>\nChange-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b\n'}]",6,736173,4d8c87a09ca0b51250a791ab53718cd87f1ff8e5,78,13,19,28223,,,0,"Modify how libvirt related containers use SELinux

1- Add specific mounts in nova_libvirt
They are needed in order to get SELinux support within the container

2- Remove now deprecated docker_enable condition
Since this one isn't needed anymore, just drop it.

3- Drop ""z"" flag from libvirt related mounts
This avoids relabelling issues from non-privileged containers

4- Set specific labels for the container itself.
See note 2 for more details.

Notes:
1- This will require to patch podman-1.6.4 in order to allow to actually
   use security-opt when --privileged and/or --pid=host are passed[1].

2- The ""container_share_t"" filetype will be updated in a follow-up to
   the newer version, ""container_ro_file_t"". This makes backports easier
   to older releases that might not be aware of this new type.
   The follow-up change is purely cosmetic in order to reflect the
   actual behavior of SELinux and has no functional change.

Testing:
The first tests were done using a podman 1.9.3 in order to work around the
mentionned issues.

Newer tests were done using podman 1.6.4 scratch-builds in order to ensure
the reported issues were fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364

Depends-On: https://review.opendev.org/735063
Depends-On: https://review.opendev.org/745173
Co-Authored-By: Daniel Berrange <berrange@redhat.com>
Co-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>
Change-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/736173/17 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",3,4a0622ced12bf07918129f99c93386522b8023ab,selinux/nova_libvirt, - /var/lib/libvirt:/var/lib/libvirt:shared," - /var/lib/libvirt:/var/lib/libvirt:shared,z",16,20
openstack%2Ftripleo-ansible~master~I8a1b9794723627bd458b5354155787bb1a2e26bc,openstack/tripleo-ansible,master,I8a1b9794723627bd458b5354155787bb1a2e26bc,Add new playbook for container image prepare cli,MERGED,2020-08-17 10:25:54.000000000,2020-09-01 15:17:34.000000000,2020-09-01 15:12:42.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 10:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/977db78b03879894c042bd0178c911e002dea31f', 'message': 'WIP Add new playbook for container image prepare cli\n\nThis adds new playbook for container image prepare\ncommand which leverages the newly added modules.\n\nChange-Id: I8a1b9794723627bd458b5354155787bb1a2e26bc\n'}, {'number': 2, 'created': '2020-08-24 08:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc3f1270082bfdfdf67c3b2c373434c88a87513e', 'message': 'Add new playbook for container image prepare cli\n\nThis adds a new playbook for container image prepare command which\nwill be used in tripleoclient and can also be used elsewhere.\n\nChange-Id: I8a1b9794723627bd458b5354155787bb1a2e26bc\n'}, {'number': 3, 'created': '2020-08-24 09:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1fd68b2999aae52eba13f7975b19053effcd7f3b', 'message': 'Add new playbook for container image prepare cli\n\nThis adds a new playbook for container image prepare command which\nwill be used in tripleoclient and can also be used elsewhere.\n\nChange-Id: I8a1b9794723627bd458b5354155787bb1a2e26bc\n'}, {'number': 4, 'created': '2020-08-25 03:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e410e8546c0a9de0ef3bc78b72389693dcb96dee', 'message': 'Add new playbook for container image prepare cli\n\nThis adds a new playbook for container image prepare command which\nwill be used in tripleoclient and can also be used elsewhere.\n\nChange-Id: I8a1b9794723627bd458b5354155787bb1a2e26bc\n'}, {'number': 5, 'created': '2020-08-31 02:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abffbdd4b69159152b03bbfcb0cc184b168757e4', 'message': 'Add new playbook for container image prepare cli\n\nThis adds a new playbook for container image prepare command which\nwill be used in tripleoclient and can also be used elsewhere.\n\nChange-Id: I8a1b9794723627bd458b5354155787bb1a2e26bc\n'}, {'number': 6, 'created': '2020-08-31 13:44:24.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py', 'tripleo_ansible/playbooks/cli-container-image-prepare.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_build_heat_environment.py', 'doc/source/modules/modules-tripleo_build_heat_environment.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e03f6bb595f97ac62e7a66d94dbc53484555d906', 'message': 'Add new playbook for container image prepare cli\n\nThis adds a new playbook for container image prepare command which\nwill be used in tripleoclient and can also be used elsewhere.\n\nChange-Id: I8a1b9794723627bd458b5354155787bb1a2e26bc\n'}]",10,746476,e03f6bb595f97ac62e7a66d94dbc53484555d906,44,5,6,8833,,,0,"Add new playbook for container image prepare cli

This adds a new playbook for container image prepare command which
will be used in tripleoclient and can also be used elsewhere.

Change-Id: I8a1b9794723627bd458b5354155787bb1a2e26bc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/746476/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py', 'tripleo_ansible/playbooks/cli-container-image-prepare.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_build_heat_environment.py', 'doc/source/modules/modules-tripleo_build_heat_environment.rst']",4,977db78b03879894c042bd0178c911e002dea31f,container_image,======================================= Module - tripleo_build_heat_environment ======================================= This module provides for the following ansible plugin: * tripleo_build_heat_environment .. ansibleautoplugin:: :module: tripleo_ansible/ansible_plugins/modules/tripleo_build_heat_environment.py :documentation: true :examples: true ,,164,0
openstack%2Fopenstack-ansible-tests~master~I531109213953f78263be68968f8e9d2dc2fd382a,openstack/openstack-ansible-tests,master,I531109213953f78263be68968f8e9d2dc2fd382a,Add _oslodb_login_host to db_setup tasks.,MERGED,2019-07-18 10:43:45.000000000,2020-09-01 15:17:32.000000000,2020-09-01 15:13:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2019-07-18 10:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/bbb1f166867e194307617bc0168403457ea6ad57', 'message': 'Add _oslodb_login_host to db_setup tasks.\n\nThe ansible mysql modules defaults to localhost, which means that the\ndb_setup tasks fail if the mysql processes are bound to the mgmt\ninterface.\n\nThis change adds an extra variable _oslodb_login_host for the db_setup\ntasks which is defaulted to _oslodb_setup_host if a specific value is\nnot defined.\n\nChange-Id: I531109213953f78263be68968f8e9d2dc2fd382a\n'}, {'number': 2, 'created': '2020-06-03 18:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/24f63bbdbb43b78c4682edf44a0fea44d94921bf', 'message': 'Add _oslodb_login_host to db_setup tasks.\n\nThe ansible mysql modules defaults to localhost, which means that the\ndb_setup tasks fail if the mysql processes are bound to the mgmt\ninterface.\n\nThis change adds an extra variable _oslodb_login_host for the db_setup\ntasks which is defaulted to _oslodb_setup_host if a specific value is\nnot defined.\n\nChange-Id: I531109213953f78263be68968f8e9d2dc2fd382a\n'}, {'number': 3, 'created': '2020-08-05 10:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d544d367da38799792491cd672646e58eb75bfbe', 'message': 'Add _oslodb_login_host to db_setup tasks.\n\nThe ansible mysql modules defaults to localhost, which means that the\ndb_setup tasks fail if the mysql processes are bound to the mgmt\ninterface.\n\nThis change adds an extra variable _oslodb_login_host for the db_setup\ntasks which is defaulted to _oslodb_setup_host if a specific value is\nnot defined.\n\nChange-Id: I531109213953f78263be68968f8e9d2dc2fd382a\n'}, {'number': 4, 'created': '2020-08-05 10:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5796b4d199e738bda6a692a578d22637f1001a64', 'message': 'Add _oslodb_login_host to db_setup tasks.\n\nThe ansible mysql modules defaults to localhost, which means that the\ndb_setup tasks fail if the mysql processes are bound to the mgmt\ninterface.\n\nThis change adds an extra variable _oslodb_login_host for the db_setup\ntasks which is defaulted to _oslodb_setup_host if a specific value is\nnot defined.\n\nChange-Id: I531109213953f78263be68968f8e9d2dc2fd382a\n'}, {'number': 5, 'created': '2020-08-05 21:32:26.000000000', 'files': ['sync/tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d4ae89792dca33bc070e6ea1376b66b2c4ab271b', 'message': 'Add _oslodb_login_host to db_setup tasks.\n\nThe ansible mysql modules defaults to localhost, which means that the\ndb_setup tasks fail if the mysql processes are bound to the mgmt\ninterface.\n\nThis change adds an extra variable _oslodb_login_host for the db_setup\ntasks which is defaulted to _oslodb_setup_host if a specific value is\nnot defined.\n\nChange-Id: I531109213953f78263be68968f8e9d2dc2fd382a\n'}]",2,671454,d4ae89792dca33bc070e6ea1376b66b2c4ab271b,26,5,5,25023,,,0,"Add _oslodb_login_host to db_setup tasks.

The ansible mysql modules defaults to localhost, which means that the
db_setup tasks fail if the mysql processes are bound to the mgmt
interface.

This change adds an extra variable _oslodb_login_host for the db_setup
tasks which is defaulted to _oslodb_setup_host if a specific value is
not defined.

Change-Id: I531109213953f78263be68968f8e9d2dc2fd382a
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/54/671454/5 && git format-patch -1 --stdout FETCH_HEAD,['sync/tasks/db_setup.yml'],1,bbb1f166867e194307617bc0168403457ea6ad57,bind-to-mgmt," login_host: ""{{ _oslodb_login_host | default(_oslodb_setup_host) }}"" login_host: ""{{ _oslodb_login_host | default(_oslodb_setup_host) }}""",,2,0
openstack%2Fproject-config~master~I46c63250c4081c9915dc83b61880ad88f63f8efc,openstack/project-config,master,I46c63250c4081c9915dc83b61880ad88f63f8efc,Add openstack-ansible/os_senlin role,MERGED,2020-08-28 14:53:31.000000000,2020-09-01 15:12:48.000000000,2020-09-01 14:43:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-28 14:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ae6062dafb8080419025471484ad58694ae9366', 'message': ""Add openstack-ansible/os_senlin role\n\nWe're going to implement deployment role of the senlin project\nas part of the OpenStack-Ansible tooling.\n\nChange-Id: I46c63250c4081c9915dc83b61880ad88f63f8efc\nNeeded-By: https://review.opendev.org/748677\n""}, {'number': 2, 'created': '2020-08-28 15:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f17795e1b00eb10a7a6fafcecfe0435474cfb05', 'message': ""Add openstack-ansible/os_senlin role\n\nWe're going to implement deployment role of the senlin project\nas part of the OpenStack-Ansible tooling.\n\nChange-Id: I46c63250c4081c9915dc83b61880ad88f63f8efc\nNeeded-By: https://review.opendev.org/748677\n""}, {'number': 3, 'created': '2020-08-28 15:52:29.000000000', 'files': ['zuul/main.yaml', 'gerrit/acls/openstack/openstack-ansible-os_senlin.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ba3c831d6a876cccea2593d1215ee6f7c3b7475b', 'message': ""Add openstack-ansible/os_senlin role\n\nWe're going to implement deployment role of the senlin project\nas part of the OpenStack-Ansible tooling.\n\nChange-Id: I46c63250c4081c9915dc83b61880ad88f63f8efc\nNeeded-By: https://review.opendev.org/748677\n""}]",0,748683,ba3c831d6a876cccea2593d1215ee6f7c3b7475b,15,4,3,28619,,,0,"Add openstack-ansible/os_senlin role

We're going to implement deployment role of the senlin project
as part of the OpenStack-Ansible tooling.

Change-Id: I46c63250c4081c9915dc83b61880ad88f63f8efc
Needed-By: https://review.opendev.org/748677
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/748683/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'gerrit/acls/openstack/openstack-ansible-os_senlin']",2,8ae6062dafb8080419025471484ad58694ae9366,osa/os_senlin,"[access ""refs/heads/*""] abandon = group openstack-ansible-core abandon = group openstack-ansible-os_senlin-core label-Code-Review = -2..+2 group openstack-ansible-core label-Code-Review = -2..+2 group openstack-ansible-os_senlin-core label-Workflow = -1..+1 group openstack-ansible-core label-Workflow = -1..+1 group openstack-ansible-os_senlin-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,19,0
openstack%2Fopenstack-ansible-plugins~master~I45194376e3c3e5d8e5aeed2904d45a9bcd85635b,openstack/openstack-ansible-plugins,master,I45194376e3c3e5d8e5aeed2904d45a9bcd85635b,Use templated jobs instead of setting independent set,MERGED,2020-08-30 11:19:47.000000000,2020-09-01 15:12:46.000000000,2020-09-01 15:04:57.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-30 11:19:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fbda3a1f1b6a3ead9428040f912ac2e896992e46', 'message': 'Use templated jobs instead of setting independent set\n\nIn openstack-ansible-tests repo we do have project-template that will\ntrigger functional tox tests for the repo. We should\nuse it to get tests against relevant OS and not maintain\nthat individually for the specific repo.\n\nChange-Id: I45194376e3c3e5d8e5aeed2904d45a9bcd85635b\n'}]",0,748847,fbda3a1f1b6a3ead9428040f912ac2e896992e46,12,4,1,28619,,,0,"Use templated jobs instead of setting independent set

In openstack-ansible-tests repo we do have project-template that will
trigger functional tox tests for the repo. We should
use it to get tests against relevant OS and not maintain
that individually for the specific repo.

Change-Id: I45194376e3c3e5d8e5aeed2904d45a9bcd85635b
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/47/748847/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fbda3a1f1b6a3ead9428040f912ac2e896992e46,, - openstack-ansible-role-jobs, check: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-15 - openstack-ansible-functional-ubuntu-bionic experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-15 - openstack-ansible-functional-ubuntu-bionic,1,15
openstack%2Fmonasca-persister~master~I8d7c38620eb3b0813e73874422f22ac69b7efe83,openstack/monasca-persister,master,I8d7c38620eb3b0813e73874422f22ac69b7efe83,Add Python3 victoria unit tests,MERGED,2020-04-23 21:34:55.000000000,2020-09-01 15:12:40.000000000,2020-09-01 15:12:40.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-04-23 21:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e4cb30e735349d6ebc2c14de5e0074b32e32f92f', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8d7c38620eb3b0813e73874422f22ac69b7efe83\n'}, {'number': 2, 'created': '2020-05-26 16:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/ea0da139a9b231cf5545b3cac3dcdbfae4202fea', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8d7c38620eb3b0813e73874422f22ac69b7efe83\n'}, {'number': 3, 'created': '2020-05-26 17:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/6bf0a045845678435a1d85b9acfb157229a17981', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8d7c38620eb3b0813e73874422f22ac69b7efe83\n'}, {'number': 4, 'created': '2020-07-14 07:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/ac1c295fbe2b6feeb418b2bf972451b9e74beb67', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8d7c38620eb3b0813e73874422f22ac69b7efe83\n'}, {'number': 5, 'created': '2020-07-21 12:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/8239b4ca79a71d48e32f6d182e96b66a8e6c488c', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8d7c38620eb3b0813e73874422f22ac69b7efe83\n'}, {'number': 6, 'created': '2020-09-01 12:51:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/48b3e2eb4768326bea709d0608ab065d2eb4b223', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8d7c38620eb3b0813e73874422f22ac69b7efe83\n'}]",0,722515,48b3e2eb4768326bea709d0608ab065d2eb4b223,23,5,6,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8d7c38620eb3b0813e73874422f22ac69b7efe83
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/15/722515/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e4cb30e735349d6ebc2c14de5e0074b32e32f92f,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fmanila-tempest-plugin~master~I4feabcd4db583d213e0e4d414eee267b0ddb8870,openstack/manila-tempest-plugin,master,I4feabcd4db583d213e0e4d414eee267b0ddb8870,Add flake8-import-order extension to tox.ini,MERGED,2020-08-04 08:23:12.000000000,2020-09-01 15:12:39.000000000,2020-09-01 15:12:39.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-08-04 08:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/21ec07c8ad27d1bffc9a78f7e511e3b95beeb493', 'message': 'Add flake8-import-order extension to tox.ini\n\nThis package adds 3 new flake8 warnings\n\n* ``I100``: Your import statements are in the wrong order.\n* ``I101``: The names in your from import are in the wrong order.\n* ``I201``: Missing newline between sections or imports.\n\nChange-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870\n'}, {'number': 2, 'created': '2020-08-05 04:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0e5d11b0f61af5b82f8be50545006d2f0ebb6f42', 'message': 'Add flake8-import-order extension to tox.ini\n\nThis package adds 3 new flake8 warnings\n\n* ``I100``: Your import statements are in the wrong order.\n* ``I101``: The names in your from import are in the wrong order.\n* ``I201``: Missing newline between sections or imports.\n\nChange-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870\n'}, {'number': 3, 'created': '2020-08-05 04:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/860c134643d24ea5cc10706a64ab7f62bb7c376c', 'message': 'Add flake8-import-order extension to tox.ini\n\nThis package adds 3 new flake8 warnings\n\n* ``I100``: Your import statements are in the wrong order.\n* ``I101``: The names in your from import are in the wrong order.\n* ``I201``: Missing newline between sections or imports.\n\nChange-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870\n'}, {'number': 4, 'created': '2020-08-17 11:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4af397cbdd122b1a206083445e68a23e071b4fb7', 'message': 'Add flake8-import-order extension to tox.ini\n\nThis package adds 3 new flake8 warnings\n\n* ``I100``: Your import statements are in the wrong order.\n* ``I101``: The names in your from import are in the wrong order.\n* ``I201``: Missing newline between sections or imports.\n\nChange-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870\n'}, {'number': 5, 'created': '2020-08-17 11:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7efa6b0a1994abb2f98c20ba30afa3cb8999acc1', 'message': 'Add flake8-import-order extension to tox.ini\n\nThis package adds 3 new flake8 warnings\n\n* ``I100``: Your import statements are in the wrong order.\n* ``I101``: The names in your from import are in the wrong order.\n* ``I201``: Missing newline between sections or imports.\n\nChange-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870\n'}, {'number': 6, 'created': '2020-08-17 12:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/22f4215823882d94ebdcec2c8e00369a452e13ea', 'message': 'Add flake8-import-order extension to tox.ini\n\nThis package adds 3 new flake8 warnings\n\n* ``I100``: Your import statements are in the wrong order.\n* ``I101``: The names in your from import are in the wrong order.\n* ``I201``: Missing newline between sections or imports.\n\nChange-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870\n'}, {'number': 7, 'created': '2020-08-18 07:01:15.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py', 'test-requirements.txt', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/scenario/test_share_extend.py', 'manila_tempest_tests/tests/scenario/manager.py', 'manila_tempest_tests/tests/scenario/test_share_basic_ops.py', 'manila_tempest_tests/tests/api/test_share_network_subnets_negative.py', 'manila_tempest_tests/common/remote_client.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/utils.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/services/share/json/shares_client.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/test_quotas.py', 'manila_tempest_tests/tests/scenario/test_share_manage_unmanage.py', 'manila_tempest_tests/tests/api/admin/test_quotas_negative.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot_negative.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'tox.ini', 'manila_tempest_tests/tests/scenario/test_share_shrink.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1d1461d23220dbd2a5d3420f7802f51992c994f7', 'message': 'Add flake8-import-order extension to tox.ini\n\nThis package adds 3 new flake8 warnings\n\n* ``I100``: Your import statements are in the wrong order.\n* ``I101``: The names in your from import are in the wrong order.\n* ``I201``: Missing newline between sections or imports.\n\nChange-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870\n'}]",78,744660,1d1461d23220dbd2a5d3420f7802f51992c994f7,31,9,7,19262,,,0,"Add flake8-import-order extension to tox.ini

This package adds 3 new flake8 warnings

* ``I100``: Your import statements are in the wrong order.
* ``I101``: The names in your from import are in the wrong order.
* ``I201``: Missing newline between sections or imports.

Change-Id: I4feabcd4db583d213e0e4d414eee267b0ddb8870
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/60/744660/7 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,21ec07c8ad27d1bffc9a78f7e511e3b95beeb493,import_order, flake8-import-order,,1,0
openstack%2Fhorizon~master~I60788061d17a5529440ec1e3d6d5c11f5259d2e8,openstack/horizon,master,I60788061d17a5529440ec1e3d6d5c11f5259d2e8,Fix tooltips and popovers for flavor details on the instance list.,MERGED,2020-07-07 09:12:41.000000000,2020-09-01 15:02:20.000000000,2020-09-01 14:59:38.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-07 09:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/47e81c26cbda54d70ecc37b46c73bbd408aba215', 'message': ""Fix tooltips and popovers for flavor details on the instance list.\n\nDue to some changes in bootstrap, the popup table for\nflavor details content is empty, on the instance list pages.\nThis patch adds 'sanitize:false' which fix the issue.\nFor more info. please refer[1].\n\n[1] https://github.com/twbs/bootstrap/issues/28290\n\nChange-Id: I60788061d17a5529440ec1e3d6d5c11f5259d2e8\n""}, {'number': 2, 'created': '2020-07-07 09:23:38.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_instance_flavor.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/25816bd82433cae6cb9ec14a38c065cd435692ca', 'message': ""Fix tooltips and popovers for flavor details on the instance list.\n\nDue to some changes in bootstrap, the popup table for\nflavor details content is empty, on the instance list pages.\nThis patch adds 'sanitize:false' which fix the issue.\nFor more info. please refer[1].\n\n[1] https://github.com/twbs/bootstrap/issues/28290\n\nCloses-Bug: #1886025\n\nChange-Id: I60788061d17a5529440ec1e3d6d5c11f5259d2e8\n""}]",0,739685,25816bd82433cae6cb9ec14a38c065cd435692ca,22,6,2,29313,,,0,"Fix tooltips and popovers for flavor details on the instance list.

Due to some changes in bootstrap, the popup table for
flavor details content is empty, on the instance list pages.
This patch adds 'sanitize:false' which fix the issue.
For more info. please refer[1].

[1] https://github.com/twbs/bootstrap/issues/28290

Closes-Bug: #1886025

Change-Id: I60788061d17a5529440ec1e3d6d5c11f5259d2e8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/739685/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/templates/instances/_instance_flavor.html'],1,47e81c26cbda54d70ecc37b46c73bbd408aba215,bug/1886025," $flavor.popover({html:true, sanitize: false, trigger: ""hover""});"," $flavor.popover({html:true, trigger: ""hover""});",1,1
openstack%2Ftripleo-heat-templates~master~Ia9209cb4a781375577480c175126321515e7af7c,openstack/tripleo-heat-templates,master,Ia9209cb4a781375577480c175126321515e7af7c,Fix nCipher (aka thales) ansible role name,MERGED,2020-07-06 22:43:28.000000000,2020-09-01 15:01:16.000000000,2020-09-01 14:49:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 22:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09c2d3e97b9f96add5313af3d3488b6f20c89910', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n""}, {'number': 2, 'created': '2020-07-22 14:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71baaa4713e1e547874ccb9f9eb23f68c71b0677', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n""}, {'number': 3, 'created': '2020-07-24 19:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cb54f37f30558809f52b07d7121aa2f3c38d85d', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n""}, {'number': 4, 'created': '2020-07-31 16:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e93db3163a3459ca51df21d5d8415359b37f2f1d', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n""}, {'number': 5, 'created': '2020-08-28 13:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57bff5baa6156462f724d567365e4843a9ce37aa', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n""}, {'number': 6, 'created': '2020-08-28 19:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08b95e4598e46936ec31e9353a8f3552bb9e1392', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n""}, {'number': 7, 'created': '2020-08-31 14:28:33.000000000', 'files': ['deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c358e2e7c388818e85b8f2fa7b9fe70ae1703e6', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n""}]",0,739621,8c358e2e7c388818e85b8f2fa7b9fe70ae1703e6,32,7,7,7973,,,0,"Fix nCipher (aka thales) ansible role name

This patch fixes the role name used to run the ansible
role that configures nCipher (aka thales) HSM device when
Barbican is deployed with that backend.

The role was renamed from 'thales-hsm' to 'thales_hsm' [1]
but a couple of references were missed, which break the
deployment when using an nCipher device.

[1] https://review.opendev.org/#/c/724414

Change-Id: Ia9209cb4a781375577480c175126321515e7af7c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/739621/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/barbican/barbican-api-container-puppet.yaml'],1,09c2d3e97b9f96add5313af3d3488b6f20c89910,fix-thales-hsm-role, description: Hash of thales_hsm role variables used to - thales_hsm, description: Hash of thales-hsm role variables used to - thales-hsm,2,2
openstack%2Freleases~master~I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf,openstack/releases,master,I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf,release oslo for victoria - 2020-09-01,MERGED,2020-09-01 07:48:19.000000000,2020-09-01 14:58:19.000000000,2020-09-01 14:58:19.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 07:48:19.000000000', 'files': ['deliverables/victoria/taskflow.yaml', 'deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/castellan.yaml', 'deliverables/victoria/oslo.utils.yaml', 'deliverables/victoria/stevedore.yaml', 'deliverables/victoria/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ba64da03846ed57825c04a9c96c2620f48a1de2', 'message': 'release oslo for victoria - 2020-09-01\n\nChange-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\n'}]",0,749197,0ba64da03846ed57825c04a9c96c2620f48a1de2,8,3,1,28522,,,0,"release oslo for victoria - 2020-09-01

Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/749197/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/taskflow.yaml', 'deliverables/victoria/castellan.yaml', 'deliverables/victoria/oslo.utils.yaml', 'deliverables/victoria/stevedore.yaml', 'deliverables/victoria/oslo.messaging.yaml']",6,0ba64da03846ed57825c04a9c96c2620f48a1de2,oslo-victoria-2020-09-01, - version: 12.4.0 projects: - repo: openstack/oslo.messaging hash: 32943fd5a524f7f39cf4e10c0403bdaaa9e1e610,,24,0
openstack%2Freleases~master~Idf841c03e06012edc62bf563f31d1deae9081671,openstack/releases,master,Idf841c03e06012edc62bf563f31d1deae9081671,Release glance_store 2.3.0,MERGED,2020-08-31 14:05:41.000000000,2020-09-01 14:54:03.000000000,2020-09-01 14:54:03.000000000,"[{'_account_id': 4393}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-31 14:05:41.000000000', 'files': ['deliverables/victoria/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ac62782617f3b4cf24825b4e2fb70a61f37e20f5', 'message': 'Release glance_store 2.3.0\n\nThis is the official release of glance_store version 2.3.0 for\nVictoria.\n\nChange-Id: Idf841c03e06012edc62bf563f31d1deae9081671\n'}]",1,749061,ac62782617f3b4cf24825b4e2fb70a61f37e20f5,9,4,1,9303,,,0,"Release glance_store 2.3.0

This is the official release of glance_store version 2.3.0 for
Victoria.

Change-Id: Idf841c03e06012edc62bf563f31d1deae9081671
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/749061/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/glance-store.yaml'],1,ac62782617f3b4cf24825b4e2fb70a61f37e20f5,victoria/2.3.0, - version: 2.3.0 projects: - repo: openstack/glance_store hash: 5aa2bc7af6f22776ea5751b7f9620845bb5f3a3a,,4,0
openstack%2Fgrenade~master~I8f976041e98502de4770ece8cb7f04a928e8f3d9,openstack/grenade,master,I8f976041e98502de4770ece8cb7f04a928e8f3d9,Remove the trove-grenade job,MERGED,2020-09-01 09:37:38.000000000,2020-09-01 14:51:50.000000000,2020-09-01 14:44:29.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 09:37:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/a267f2d381916d73eaed6ff3a57ec14bb85e60fc', 'message': 'Remove the trove-grenade job\n\nThe job is only executed by the grenade experimental queue, but:\n\n- it is not run for changes in the trove respository (from\n  I49bd6c824b837d22d9f3945a3e8c2343c831b352) and when it was,\n  it was experimental anyway;\n- more important: trove has no grenade plugin,\n  so the test is probably not relevant;\n- as a side effect, this will allow us to remove\n  that legacy job completely, as a trove grenade\n  plugin may not arrive soon.\n\nChange-Id: I8f976041e98502de4770ece8cb7f04a928e8f3d9\n'}]",0,749212,a267f2d381916d73eaed6ff3a57ec14bb85e60fc,8,3,1,10459,,,0,"Remove the trove-grenade job

The job is only executed by the grenade experimental queue, but:

- it is not run for changes in the trove respository (from
  I49bd6c824b837d22d9f3945a3e8c2343c831b352) and when it was,
  it was experimental anyway;
- more important: trove has no grenade plugin,
  so the test is probably not relevant;
- as a side effect, this will allow us to remove
  that legacy job completely, as a trove grenade
  plugin may not arrive soon.

Change-Id: I8f976041e98502de4770ece8cb7f04a928e8f3d9
",git fetch https://review.opendev.org/openstack/grenade refs/changes/12/749212/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a267f2d381916d73eaed6ff3a57ec14bb85e60fc,native-zuulv3-migration,, - trove-grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,0,4
openstack%2Freleases~master~I9084ca802cc4d78101bd499b5c3936af28d7a03f,openstack/releases,master,I9084ca802cc4d78101bd499b5c3936af28d7a03f,Release Bifrost 7.2.2 for Train,MERGED,2020-09-01 10:49:14.000000000,2020-09-01 14:50:30.000000000,2020-09-01 14:50:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 10:49:14.000000000', 'files': ['deliverables/train/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/171c8dfc54438c5d369db4098ca936d377e23094', 'message': 'Release Bifrost 7.2.2 for Train\n\nChange-Id: I9084ca802cc4d78101bd499b5c3936af28d7a03f\n'}]",0,749238,171c8dfc54438c5d369db4098ca936d377e23094,10,7,1,15519,,,0,"Release Bifrost 7.2.2 for Train

Change-Id: I9084ca802cc4d78101bd499b5c3936af28d7a03f
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/749238/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/bifrost.yaml'],1,171c8dfc54438c5d369db4098ca936d377e23094,bifrost, - version: 7.2.2 projects: - repo: openstack/bifrost hash: 14332ab8c7c67b203c938e7eb1bf09a84e72d509,,4,0
openstack%2Freleases~master~I6f59173bb5bfafb52ed1f39aa4bb0c1cf87246f6,openstack/releases,master,I6f59173bb5bfafb52ed1f39aa4bb0c1cf87246f6,reno 3.2.0,MERGED,2020-08-31 16:53:40.000000000,2020-09-01 14:50:27.000000000,2020-09-01 14:50:26.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-31 16:53:40.000000000', 'files': ['deliverables/_independent/reno.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f4f248c4ef9f89646c7a5f9ab0f7486b6cbd6e13', 'message': 'reno 3.2.0\n\nrelease `semver-next` command\n\nChange-Id: I6f59173bb5bfafb52ed1f39aa4bb0c1cf87246f6\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,749090,f4f248c4ef9f89646c7a5f9ab0f7486b6cbd6e13,8,3,1,2472,,,0,"reno 3.2.0

release `semver-next` command

Change-Id: I6f59173bb5bfafb52ed1f39aa4bb0c1cf87246f6
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/749090/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/reno.yaml'],1,f4f248c4ef9f89646c7a5f9ab0f7486b6cbd6e13,reno-3.2.0, - version: 3.2.0 projects: - repo: openstack/reno hash: 35c0a43c390f66e6785e78ad4e0f71561e9f052a,,4,0
openstack%2Freleases~master~Ic004f20ece15be80f905d395def4d8d9962a91f5,openstack/releases,master,Ic004f20ece15be80f905d395def4d8d9962a91f5,[manila][wallaby] add project tracking schedule,MERGED,2020-08-28 01:16:07.000000000,2020-09-01 14:50:25.000000000,2020-09-01 14:50:25.000000000,"[{'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-28 01:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c0cf641f2b79bb50b543ab221c33b46c78b1a57e', 'message': '[manila][wallaby] add project tracking schedule\n\nAdd additional code and spec submission deadlines\nthat the manila project maintainers adhere to.\n\nChange-Id: Ic004f20ece15be80f905d395def4d8d9962a91f5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-31 17:04:05.000000000', 'files': ['doc/source/wallaby/schedule.rst', 'doc/source/wallaby/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/64aebc12315e47e89c33cb4c22c5c3d74a750aaf', 'message': '[manila][wallaby] add project tracking schedule\n\nAdd additional code and spec submission deadlines\nthat the manila project maintainers adhere to.\n\nChange-Id: Ic004f20ece15be80f905d395def4d8d9962a91f5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,748557,64aebc12315e47e89c33cb4c22c5c3d74a750aaf,14,5,2,16643,,,0,"[manila][wallaby] add project tracking schedule

Add additional code and spec submission deadlines
that the manila project maintainers adhere to.

Change-Id: Ic004f20ece15be80f905d395def4d8d9962a91f5
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/748557/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/wallaby/schedule.rst', 'doc/source/wallaby/schedule.yaml']",2,c0cf641f2b79bb50b543ab221c33b46c78b1a57e,manila, x-project: - w-manila-spec-freeze x-project: - w-manila-new-driver-deadline x-project: - w-manila-fpfreeze,,34,0
openstack%2Fmonasca-persister~master~If58a9a60a6428ad362789f354f8f4a750210b9a8,openstack/monasca-persister,master,If58a9a60a6428ad362789f354f8f4a750210b9a8,Remove unnecessary test to bring compatibility with py38,MERGED,2020-07-21 12:23:48.000000000,2020-09-01 14:49:54.000000000,2020-09-01 14:49:54.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2020-07-21 12:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/84b043dcdbce4e3db3b70091256adf218873ff5c', 'message': 'Remove unnecessary test to bring compatibility with py38\n\nChange-Id: If58a9a60a6428ad362789f354f8f4a750210b9a8\n'}, {'number': 2, 'created': '2020-09-01 09:30:14.000000000', 'files': ['monasca_persister/tests/test_token_range_query_manager.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/019848706280cbdc4877df630a52dc1f36ad6c27', 'message': 'Remove unnecessary test to bring compatibility with py38\n\nChange-Id: If58a9a60a6428ad362789f354f8f4a750210b9a8\n'}]",0,742167,019848706280cbdc4877df630a52dc1f36ad6c27,10,3,2,28062,,,0,"Remove unnecessary test to bring compatibility with py38

Change-Id: If58a9a60a6428ad362789f354f8f4a750210b9a8
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/67/742167/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/tests/test_token_range_query_manager.py'],1,84b043dcdbce4e3db3b70091256adf218873ff5c,742167,," def test_close_pool(self): with mock.patch.object(self.token_range_query_mgr._pool, 'join', side_effect=None): self.assertIsNone(self.token_range_query_mgr.close_pool()) ",0,5
openstack%2Fossa~master~I4ce90a163ce143d0b88ec722549750847bf4bf18,openstack/ossa,master,I4ce90a163ce143d0b88ec722549750847bf4bf18,Don't alter dict keys in OSSA list iteration,MERGED,2020-08-21 21:26:08.000000000,2020-09-01 14:49:23.000000000,2020-09-01 14:42:02.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 21:26:08.000000000', 'files': ['doc/source/_exts/vmt.py'], 'web_link': 'https://opendev.org/openstack/ossa/commit/45150323ff9348c279c9d1a50d5ba310bfa227be', 'message': ""Don't alter dict keys in OSSA list iteration\n\nFix a breaking error for docs generation under Python 3.8 by working\nfrom a copy of dict keys when iterating, so that the originals can\nbe altered within the loop.\n\nChange-Id: I4ce90a163ce143d0b88ec722549750847bf4bf18\n""}]",0,747477,45150323ff9348c279c9d1a50d5ba310bfa227be,8,3,1,5263,,,0,"Don't alter dict keys in OSSA list iteration

Fix a breaking error for docs generation under Python 3.8 by working
from a copy of dict keys when iterating, so that the originals can
be altered within the loop.

Change-Id: I4ce90a163ce143d0b88ec722549750847bf4bf18
",git fetch https://review.opendev.org/openstack/ossa refs/changes/77/747477/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/vmt.py'],1,45150323ff9348c279c9d1a50d5ba310bfa227be,sphinx-ext, for k in dict(d):, for k in d:,1,1
openstack%2Ftripleo-ci~master~I66afdf63dc0fd912a9608bbe4528b2574ea58790,openstack/tripleo-ci,master,I66afdf63dc0fd912a9608bbe4528b2574ea58790,Restructure exclude containers based on ci_branch,MERGED,2020-06-30 13:41:24.000000000,2020-09-01 14:48:31.000000000,2020-07-03 23:42:18.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31940}]","[{'number': 1, 'created': '2020-06-30 13:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bdba2bdcfe52733fb310afa3788fe6720276b3b3', 'message': 'Restructure exclude containers based on release\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on release so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-06-30 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dc781179abfd4d7e63a3b9f6866df53cb6a5eeca', 'message': 'Restructure exclude containers based on release\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on release so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-01 07:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2a0aba29d1b05b7322ddadb48df0f474eb64b2ea', 'message': 'Restructure exclude containers based on release\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on release so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nAdded release to the required jobs as exclude depends on release\n\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-01 12:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f5e9a66d5cbe6dbcd60763b7eac1c17754ee7a50', 'message': 'Restructure exclude containers based on release\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on release so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nUse ci_branch for determining release.\n\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-01 16:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bf5bf11fbbdc51d34469a5509e0fcf9c0d16b642', 'message': 'Restructure exclude containers based on release\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on release so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nUse ci_branch for determining release.\n\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-07-01 18:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bd9569a24886b9a4b4b7ed3b1330dff49bb14cc6', 'message': 'Restructure exclude containers based on release\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on release so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nUse ci_branch for determining release.\n\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-07-02 11:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2f70f1f385edd35390a836b96a7a427b4017b747', 'message': 'Restructure exclude containers based on ci_branch\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on ci_branch so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nUse ci_branch for determining release.\n\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-07-02 11:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61cd0f65536764302fe8cdf0c152d194f14fd07b', 'message': 'Restructure exclude containers based on ci_branch\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on ci_branch so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nUse ci_branch for determining release.\n\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-07-02 11:50:20.000000000', 'files': ['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/16756e77b7fd21cec596d08fea3ca06755aea223', 'message': 'Restructure exclude containers based on ci_branch\n\nCurrently containers exclude list is maintained based on distro\nversion and release which seems to be confusing. So we are modifing\nthe exclude list based on ci_branch so that it would be exclusive and\nwill be used in promoter config to exclude containers before uploading\nimages to docker.io.\n\nUse ci_branch for determining release.\n\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\nChange-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",19,738624,16756e77b7fd21cec596d08fea3ca06755aea223,56,15,9,12393,,,0,"Restructure exclude containers based on ci_branch

Currently containers exclude list is maintained based on distro
version and release which seems to be confusing. So we are modifing
the exclude list based on ci_branch so that it would be exclusive and
will be used in promoter config to exclude containers before uploading
images to docker.io.

Use ci_branch for determining release.

Co-authored-by: Bhagyashri Shewale <bshewale@redhat.com>
Change-Id: I66afdf63dc0fd912a9608bbe4528b2574ea58790
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/738624/9 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/vars/main.yaml']",2,bdba2bdcfe52733fb310afa3788fe6720276b3b3,newcontainerbuild, master: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base ussuri: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base train: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base stein: - opendaylight queens: - opendaylight, redhat: 8: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base centos: 7: - opendaylight 8: - fluentd - opendaylight - skydive-agent - skydive-analyzer - sensu-client - sensu-base - influxdb,27,21
openstack%2Fpuppet-openstack-integration~master~If5269e761d1b097a70d0e07e50fd606d77107447,openstack/puppet-openstack-integration,master,If5269e761d1b097a70d0e07e50fd606d77107447,"Revert ""Make CentOS8 beaker job voting""",MERGED,2020-08-27 11:45:31.000000000,2020-09-01 14:44:57.000000000,2020-08-28 14:28:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 11:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e182d992c064d94ee52e1f4e4f5d95df2a0e052d', 'message': 'Revert ""Make CentOS8 beaker job voting""\n\nUnfortunately beaker job is still broken in some puppet modules.\nWe should make beaker job non-voting to unblock our gate, until we\nfix all issues.\n\nThis reverts commit 9ebb56bdac3719c573fedaeb01ac7598e1e1eef8.\n\nChange-Id: If5269e761d1b097a70d0e07e50fd606d77107447\n'}, {'number': 2, 'created': '2020-08-27 11:46:15.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d97360f72f675b0b1547d9ffdad5688f8e314541', 'message': 'Revert ""Make CentOS8 beaker job voting""\n\nUnfortunately CentOS8 beaker job is still broken in some puppet modules.\nWe should make beaker job non-voting to unblock our gate, until we fix\nall issues.\n\nThis reverts commit 9ebb56bdac3719c573fedaeb01ac7598e1e1eef8.\n\nChange-Id: If5269e761d1b097a70d0e07e50fd606d77107447\n'}]",0,748417,d97360f72f675b0b1547d9ffdad5688f8e314541,13,6,2,9816,,,0,"Revert ""Make CentOS8 beaker job voting""

Unfortunately CentOS8 beaker job is still broken in some puppet modules.
We should make beaker job non-voting to unblock our gate, until we fix
all issues.

This reverts commit 9ebb56bdac3719c573fedaeb01ac7598e1e1eef8.

Change-Id: If5269e761d1b097a70d0e07e50fd606d77107447
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/17/748417/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/beaker.yaml']",2,e182d992c064d94ee52e1f4e4f5d95df2a0e052d,centos8-beaker, voting: false,,2,0
openstack%2Fhorizon~stable%2Ftrain~Id31388e4c7fa3093e31da0479635f5610e378da5,openstack/horizon,stable/train,Id31388e4c7fa3093e31da0479635f5610e378da5,Add policy_rules to aggregates dashboard,ABANDONED,2020-09-01 04:36:03.000000000,2020-09-01 14:42:44.000000000,,"[{'_account_id': 841}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 04:36:03.000000000', 'files': ['releasenotes/notes/policy-rules-aggregates-3cd74c07e30511fa.yaml', 'openstack_dashboard/dashboards/admin/aggregates/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bac7384068679fa1a30d0f56198af7f4e12dc313', 'message': 'Add policy_rules to aggregates dashboard\n\nThis patch set adds in os_compute_api:os-aggregates policies in the\nappropriate dashboards.\n\nChange-Id: Id31388e4c7fa3093e31da0479635f5610e378da5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",1,749177,bac7384068679fa1a30d0f56198af7f4e12dc313,6,3,1,30495,,,0,"Add policy_rules to aggregates dashboard

This patch set adds in os_compute_api:os-aggregates policies in the
appropriate dashboards.

Change-Id: Id31388e4c7fa3093e31da0479635f5610e378da5
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/749177/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-rules-aggregates-3cd74c07e30511fa.yaml', 'openstack_dashboard/dashboards/admin/aggregates/tables.py']",2,bac7384068679fa1a30d0f56198af7f4e12dc313,," policy_rules = ((""compute"", ""os_compute_api:os-aggregates:delete""),) policy_rules = ((""compute"", ""os_compute_api:os-aggregates:create""),) policy_rules = ((""compute"", ""os_compute_api:os-aggregates:set_metadata""),) policy_rules = ((""compute"", ""os_compute_api:os-aggregates:update""),)",,9,0
openstack%2Fhorizon~stable%2Ftrain~I3157aeaa916837b4f6258009dc643ab225e6ee17,openstack/horizon,stable/train,I3157aeaa916837b4f6258009dc643ab225e6ee17,Add policy_rules to flavors dashboard,ABANDONED,2020-09-01 04:36:03.000000000,2020-09-01 14:42:33.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30495}]","[{'number': 1, 'created': '2020-09-01 04:36:03.000000000', 'files': ['openstack_dashboard/dashboards/admin/flavors/tables.py', 'releasenotes/notes/policy-rules-flavors-94f50aa168d8563b.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a455297e91703c78ea408946e27e982c0ac802c', 'message': 'Add policy_rules to flavors dashboard\n\nThis patch set adds in os_compute_api:os-flavor-manage policies in the\nappropriate dashboards.\n\nChange-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,749178,6a455297e91703c78ea408946e27e982c0ac802c,4,3,1,30495,,,0,"Add policy_rules to flavors dashboard

This patch set adds in os_compute_api:os-flavor-manage policies in the
appropriate dashboards.

Change-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/78/749178/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/flavors/tables.py', 'releasenotes/notes/policy-rules-flavors-94f50aa168d8563b.yaml']",2,6a455297e91703c78ea408946e27e982c0ac802c,,--- fixes: - | The missing nova's os-flavors policy rules are added to the dashboard. ,,8,0
openstack%2Fhorizon~master~I7079c306c6f98f13c779e6dae7357ccabba2d460,openstack/horizon,master,I7079c306c6f98f13c779e6dae7357ccabba2d460,Fix Angular mediumDateFilter,MERGED,2020-08-19 21:34:43.000000000,2020-09-01 14:36:38.000000000,2020-09-01 14:33:58.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-19 21:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2266f9ec2a7812421fa537bc40142d9fbc6c54ae', 'message': 'Fix Angular mediumDateFilter\n\nAngular mediumDateFilter provides user with a readable date format\nusing predefined localizable format ""medium"". However it should be\nmore flexible with different types of inputs. This patch fixes the\nfilter and applies it at the images overview page.\n\nChange-Id: I7079c306c6f98f13c779e6dae7357ccabba2d460\nCloses-Bug: #1841049\n'}, {'number': 2, 'created': '2020-08-20 13:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/30774366fdc3e758b193d5b75b185e8f0e6e3448', 'message': 'Fix Angular mediumDateFilter\n\nAngular mediumDateFilter provides user with a readable date format\nusing predefined localizable format ""medium"". However it should be\nmore flexible with different types of inputs. This patch fixes the\nfilter and applies it at the images overview page.\n\nChange-Id: I7079c306c6f98f13c779e6dae7357ccabba2d460\nCloses-Bug: #1841049\n'}, {'number': 3, 'created': '2020-08-26 22:07:09.000000000', 'files': ['horizon/static/framework/util/filters/filters.spec.js', 'openstack_dashboard/static/app/core/images/images.module.js', 'horizon/static/framework/util/filters/filters.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/71ed12f62259981a7665a7595919089f51c1cd67', 'message': 'Fix Angular mediumDateFilter\n\nAngular mediumDateFilter provides user with a readable date format\nusing predefined localizable format ""medium"". However it should be\nmore flexible with different types of inputs. This patch fixes the\nfilter and applies it at the images overview page.\n\nChange-Id: I7079c306c6f98f13c779e6dae7357ccabba2d460\nCloses-Bug: #1841049\n'}]",6,747046,71ed12f62259981a7665a7595919089f51c1cd67,21,6,3,6914,,,0,"Fix Angular mediumDateFilter

Angular mediumDateFilter provides user with a readable date format
using predefined localizable format ""medium"". However it should be
more flexible with different types of inputs. This patch fixes the
filter and applies it at the images overview page.

Change-Id: I7079c306c6f98f13c779e6dae7357ccabba2d460
Closes-Bug: #1841049
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/747046/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/images/images.module.js', 'horizon/static/framework/util/filters/filters.js']",2,2266f9ec2a7812421fa537bc40142d9fbc6c54ae,bug/1841049, input = $filter('noValue')(input); if (input != '-') { input = input.slice(-1) != 'Z' ? input + 'Z' : input; }, input = input + 'Z';,6,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iacf7c9c368b26106e9921b35996c134aacb9acd7,openstack/tripleo-heat-templates,stable/ussuri,Iacf7c9c368b26106e9921b35996c134aacb9acd7,Use container_file_t for Cinder*NfsMountOptions by default,MERGED,2020-08-21 09:22:40.000000000,2020-09-01 14:33:55.000000000,2020-09-01 14:33:54.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-21 09:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cabc08371ecff7ad2fe3a4a24d60da1afc641fff', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nCloses-Bug: 1890291\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n(cherry picked from commit 6d100039c7c48bd450fd0ba9596ebb697571643a)\n'}, {'number': 2, 'created': '2020-09-01 08:52:27.000000000', 'files': ['environments/cinder-netapp-config.yaml', 'environments/storage-environment.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'sample-env-generator/storage.yaml', 'environments/storage/cinder-nfs.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'environments/storage/cinder-netapp-config.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2406ffc4cc44a60d56bea836a7f35cddeb1dc9bc', 'message': 'Use container_file_t for Cinder*NfsMountOptions by default\n\nThis is so that share content is usable by cinder-volume and other\ncontainers mounting the same share.\n\nCloses-Bug: 1890291\nChange-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7\n(cherry picked from commit c7ec7262761d0a09287e9934fe36e3a068415807)\n'}]",0,747370,2406ffc4cc44a60d56bea836a7f35cddeb1dc9bc,11,4,2,6796,,,0,"Use container_file_t for Cinder*NfsMountOptions by default

This is so that share content is usable by cinder-volume and other
containers mounting the same share.

Closes-Bug: 1890291
Change-Id: Iacf7c9c368b26106e9921b35996c134aacb9acd7
(cherry picked from commit c7ec7262761d0a09287e9934fe36e3a068415807)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/747370/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-netapp-config.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/storage/cinder-nfs.yaml', 'environments/storage-environment.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'sample-env-generator/storage.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'environments/storage/cinder-netapp-config.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml']",12,cabc08371ecff7ad2fe3a4a24d60da1afc641fff,, default: 'context=system_u:object_r:container_file_t:s0', default: '',12,7
openstack%2Fbarbican-tempest-plugin~master~I05b0200b80d8ae957caaa53d5006b050d2d49da6,openstack/barbican-tempest-plugin,master,I05b0200b80d8ae957caaa53d5006b050d2d49da6,Use the encryption provider constants,MERGED,2020-04-22 13:57:30.000000000,2020-09-01 14:31:28.000000000,2020-09-01 14:31:28.000000000,"[{'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-04-22 13:57:30.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0a13a3854191538d4f02bc96dc05a2ad89b2b394', 'message': 'Use the encryption provider constants\n\n... instead of the encryptor classes, whose direct usage has been\ndeprecated since Ocata.\nSee also Id221414d74af8413084c7935b762f93b7ce43c42 which applied\nthose changes to tempest.git.\n\nChange-Id: I05b0200b80d8ae957caaa53d5006b050d2d49da6\n'}]",0,721979,0a13a3854191538d4f02bc96dc05a2ad89b2b394,15,7,1,10459,,,0,"Use the encryption provider constants

... instead of the encryptor classes, whose direct usage has been
deprecated since Ocata.
See also Id221414d74af8413084c7935b762f93b7ce43c42 which applied
those changes to tempest.git.

Change-Id: I05b0200b80d8ae957caaa53d5006b050d2d49da6
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/79/721979/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'],1,0a13a3854191538d4f02bc96dc05a2ad89b2b394,deprecate_legacy_encryptor_provider_names," volume = self.create_encrypted_volume('luks',"," volume = self.create_encrypted_volume('nova.volume.encryptors.' 'luks.LuksEncryptor',",1,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5a15cf1d90ecef37889fd36cbb5c8c37e3420670,openstack/tripleo-heat-templates,stable/train,I5a15cf1d90ecef37889fd36cbb5c8c37e3420670,[Train Only] Renamve tripleo_upgrade_hiera into tripleo-upgrade-hiera.,MERGED,2020-08-31 16:39:53.000000000,2020-09-01 14:31:24.000000000,2020-09-01 14:31:24.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-31 16:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe0f39a339026702d6c2eb7ca2dc3c4b2a31d7f3', 'message': ""[Queens Only] Renamve tripleo_upgrade_hiera into tripleo-upgrade-hiera.\n\nWhen cherry-picking [0][1] it was missed that the tripleo_upgrade_hiera\nrole in tripleo-ansible (stable/train) is named tripleo-upgrade-hiera.\nThis is causing issues during the upgrade run command execution as it\ncan't identify the role by tripleo_upgrade_hiera.\n\n[0] - I45e72bb598ef2157531919173e94ab36eb98ad16\n[1] - I8bc42fb758a333adc9cd65602b44fabee6fc4041\n\nChange-Id: I5a15cf1d90ecef37889fd36cbb5c8c37e3420670\nCloses-Bug: #1893677\n""}, {'number': 2, 'created': '2020-08-31 22:49:24.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70f52b99225507d92add0398a044ed9928b4abad', 'message': ""[Train Only] Renamve tripleo_upgrade_hiera into tripleo-upgrade-hiera.\n\nWhen cherry-picking [0][1] it was missed that the tripleo_upgrade_hiera\nrole in tripleo-ansible (stable/train) is named tripleo-upgrade-hiera.\nThis is causing issues during the upgrade run command execution as it\ncan't identify the role by tripleo_upgrade_hiera.\n\n[0] - I45e72bb598ef2157531919173e94ab36eb98ad16\n[1] - I8bc42fb758a333adc9cd65602b44fabee6fc4041\n\nChange-Id: I5a15cf1d90ecef37889fd36cbb5c8c37e3420670\nCloses-Bug: #1893677\n""}]",0,749088,70f52b99225507d92add0398a044ed9928b4abad,20,11,2,26343,,,0,"[Train Only] Renamve tripleo_upgrade_hiera into tripleo-upgrade-hiera.

When cherry-picking [0][1] it was missed that the tripleo_upgrade_hiera
role in tripleo-ansible (stable/train) is named tripleo-upgrade-hiera.
This is causing issues during the upgrade run command execution as it
can't identify the role by tripleo_upgrade_hiera.

[0] - I45e72bb598ef2157531919173e94ab36eb98ad16
[1] - I8bc42fb758a333adc9cd65602b44fabee6fc4041

Change-Id: I5a15cf1d90ecef37889fd36cbb5c8c37e3420670
Closes-Bug: #1893677
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/749088/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml']",2,fe0f39a339026702d6c2eb7ca2dc3c4b2a31d7f3,, name: tripleo-upgrade-hiera name: tripleo-upgrade-hiera name: tripleo-upgrade-hiera, name: tripleo_upgrade_hiera name: tripleo_upgrade_hiera name: tripleo_upgrade_hiera,5,5
openstack%2Fcharm-ops-interface-ceph-client~master~I1f56d5c5b064b631f0b41a88cc8c30e32863f9ab,openstack/charm-ops-interface-ceph-client,master,I1f56d5c5b064b631f0b41a88cc8c30e32863f9ab,Add zuul and gitreview,MERGED,2020-09-01 10:32:12.000000000,2020-09-01 14:25:29.000000000,2020-09-01 14:25:29.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 10:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-ceph-client/commit/54374284b4c08a2b1d65bea2c9bf8e0adbb6eb2e', 'message': 'Add zuul and gitreview\n\nChange-Id: I1f56d5c5b064b631f0b41a88cc8c30e32863f9ab\n'}, {'number': 2, 'created': '2020-09-01 10:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-ceph-client/commit/4fcb661f898dc08b755a195fb5a42239b9432513', 'message': 'Add zuul and gitreview\n\nChange-Id: I1f56d5c5b064b631f0b41a88cc8c30e32863f9ab\n'}, {'number': 3, 'created': '2020-09-01 13:25:20.000000000', 'files': ['.gitreview', '.zuul.yaml', 'unit_tests/test_interface_ceph_client.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-ceph-client/commit/ac981cb0bab426914eac47ada505d27c01f42e56', 'message': 'Add zuul and gitreview\n\nFix unit tests too.\n\nChange-Id: I1f56d5c5b064b631f0b41a88cc8c30e32863f9ab\n'}]",0,749234,ac981cb0bab426914eac47ada505d27c01f42e56,9,2,3,12549,,,0,"Add zuul and gitreview

Fix unit tests too.

Change-Id: I1f56d5c5b064b631f0b41a88cc8c30e32863f9ab
",git fetch https://review.opendev.org/openstack/charm-ops-interface-ceph-client refs/changes/34/749234/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', '.zuul.yaml']",2,54374284b4c08a2b1d65bea2c9bf8e0adbb6eb2e,add-zuul-etc,- project: templates: - python35-charm-jobs - openstack-python3-ussuri-jobs ,,8,0
openstack%2Fpuppet-gnocchi~master~I92f04101059ae5711f91df8740141ad532bc053c,openstack/puppet-gnocchi,master,I92f04101059ae5711f91df8740141ad532bc053c,Remove deprecated database_connection in init,MERGED,2020-08-30 22:06:02.000000000,2020-09-01 14:21:28.000000000,2020-09-01 14:18:59.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 22:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f48d09030181acfe220061cf3f604989d5bd1640', 'message': 'Remove deprecated database_connection in init\n\nChange-Id: I92f04101059ae5711f91df8740141ad532bc053c\n'}, {'number': 2, 'created': '2020-08-31 07:46:38.000000000', 'files': ['releasenotes/notes/remove-deprecated-db-init-62110da4e2d86881.yaml', 'manifests/db.pp', 'manifests/init.pp', 'spec/classes/gnocchi_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/fca0e2d42417460ccc616d4d6b5c1f126de893fd', 'message': 'Remove deprecated database_connection in init\n\nChange-Id: I92f04101059ae5711f91df8740141ad532bc053c\n'}]",0,748928,fca0e2d42417460ccc616d4d6b5c1f126de893fd,13,4,2,16137,,,0,"Remove deprecated database_connection in init

Change-Id: I92f04101059ae5711f91df8740141ad532bc053c
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/28/748928/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-db-init-62110da4e2d86881.yaml', 'manifests/db.pp', 'manifests/init.pp', 'spec/classes/gnocchi_db_spec.rb']",4,f48d09030181acfe220061cf3f604989d5bd1640,," { :database_connection => 'postgresql://gnocchi:gnocchi@localhost/gnocchi', }"," { :database_connection => 'postgresql://gnocchi:gnocchi@localhost/gnocchi', }",14,26
openstack%2Fhorizon~master~I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29,openstack/horizon,master,I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29,Fix use of ngettext in registry getName,MERGED,2019-11-27 15:09:57.000000000,2020-09-01 14:12:01.000000000,2020-01-06 12:34:13.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 15:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3148cd95e17b9afca532a8707d0a42ed6dfaa8fe', 'message': 'Fix use of ngettext in resgitry getName\n\nThe setNames and getNames functions in the resource registry were\ncalling ngettext() on already translated strings that were marked for\ntranslation with gettext() and not ngetttext(). That lead to some\npage titles in some locales being displayed as single characters.\n\nCloses-Bug: #1762089\n\nChange-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29\n'}, {'number': 2, 'created': '2019-11-27 16:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/15fdc73b3e9143f85a73c264f49bca4ef6a81018', 'message': 'Fix use of ngettext in resgitry getName\n\nThe setNames and getNames functions in the resource registry were\ncalling ngettext() on already translated strings that were marked for\ntranslation with gettext() and not ngetttext(). That lead to some\npage titles in some locales being displayed as single characters.\n\nCloses-Bug: #1762089\n\nChange-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29\n'}, {'number': 3, 'created': '2019-11-27 19:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f246c2ef11f7e7ba2cd00dd7856e5252ee125827', 'message': 'Fix use of ngettext in resgitry getName\n\nThe setNames and getNames functions in the resource registry were\ncalling ngettext() on already translated strings that were marked for\ntranslation with gettext() and not ngetttext(). That lead to some\npage titles in some locales being displayed as single characters.\n\nCloses-Bug: #1762089\n\nChange-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29\n'}, {'number': 4, 'created': '2019-11-28 01:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4b8ec7965b588e263739cf4b8e62d923897702df', 'message': 'Fix use of ngettext in registry getName\n\nThe setNames and getNames functions in the resource registry were\ncalling ngettext() on already translated strings that were marked for\ntranslation with gettext() and not ngetttext(). That lead to some\npage titles in some locales being displayed as single characters.\n\nCloses-Bug: #1762089\nChange-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29\n'}, {'number': 5, 'created': '2019-11-28 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b8cefb5c4901ff53a203fecede85be222f88343e', 'message': 'Fix use of ngettext in registry getName\n\nThe setNames and getNames functions in the resource registry were\ncalling ngettext() on already translated strings that were marked for\ntranslation with gettext() and not ngetttext(). That lead to some\npage titles in some locales being displayed as single characters.\n\nCloses-Bug: #1762089\nChange-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29\n'}, {'number': 6, 'created': '2019-12-06 14:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/031b8f090251774c2be8557de471b5ecfb6417d9', 'message': 'Fix use of ngettext in registry getName\n\nThe setNames and getNames functions in the resource registry were\ncalling ngettext() on already translated strings that were marked for\ntranslation with gettext() and not ngetttext(). That lead to some\npage titles in some locales being displayed as single characters.\n\nCloses-Bug: #1762089\nChange-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29\n'}, {'number': 7, 'created': '2019-12-20 09:44:48.000000000', 'files': ['openstack_dashboard/static/app/core/server_groups/server-groups.module.js', 'openstack_dashboard/static/app/resources/resources.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/roles/roles.module.js', 'openstack_dashboard/static/app/core/flavors/flavors.module.js', 'horizon/static/framework/conf/resource-type-registry.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/domains/domains.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/groups/groups.module.js', 'openstack_dashboard/static/app/core/network_qos/qos.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/users/users.module.js', 'openstack_dashboard/static/app/core/keypairs/keypairs.module.js', 'openstack_dashboard/static/app/core/images/images.module.js', 'openstack_dashboard/static/app/core/trunks/trunks.module.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ef4055e2888bb0fe67d64e9c422a31f925469200', 'message': 'Fix use of ngettext in registry getName\n\nThe setNames and getNames functions in the resource registry were\ncalling ngettext() on already translated strings that were marked for\ntranslation with gettext() and not ngetttext(). That lead to some\npage titles in some locales being displayed as single characters.\n\nCloses-Bug: #1762089\nChange-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29\n'}]",6,696321,ef4055e2888bb0fe67d64e9c422a31f925469200,34,6,7,8648,,,0,"Fix use of ngettext in registry getName

The setNames and getNames functions in the resource registry were
calling ngettext() on already translated strings that were marked for
translation with gettext() and not ngetttext(). That lead to some
page titles in some locales being displayed as single characters.

Closes-Bug: #1762089
Change-Id: I0ef365e0c0de6ae27a2e80bcb5257132f8c6ba29
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/696321/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/server_groups/server-groups.module.js', 'openstack_dashboard/static/app/resources/resources.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/roles/roles.module.js', 'openstack_dashboard/static/app/core/flavors/flavors.module.js', 'horizon/static/framework/conf/resource-type-registry.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/domains/domains.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/groups/groups.module.js', 'openstack_dashboard/static/app/core/network_qos/qos.module.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/users/users.module.js', 'openstack_dashboard/static/app/core/keypairs/keypairs.module.js', 'openstack_dashboard/static/app/core/images/images.module.js', 'openstack_dashboard/static/app/core/trunks/trunks.module.js']",13,3148cd95e17b9afca532a8707d0a42ed6dfaa8fe,bug/1841617," .setNames('Trunk', 'Trunks', ngettext('Trunk', 'Trunks', 1))"," .setNames(gettext('Trunk'), gettext('Trunks'))",62,42
openstack%2Fcharm-ops-interface-tls-certificates~master~I1b0ce6005fe6160b8d0f6be50896f36ac2170f35,openstack/charm-ops-interface-tls-certificates,master,I1b0ce6005fe6160b8d0f6be50896f36ac2170f35,Add zuul and gitreview,MERGED,2020-09-01 10:29:16.000000000,2020-09-01 14:10:01.000000000,2020-09-01 14:10:01.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 10:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-tls-certificates/commit/e97ceb40f4b01e39f789087a573424696b6a2bbe', 'message': 'Add zuul and gitreview\n\nChange-Id: I1b0ce6005fe6160b8d0f6be50896f36ac2170f35\n'}, {'number': 2, 'created': '2020-09-01 10:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-tls-certificates/commit/b39adcd3a920d894f6fafd15f78c4ed8748febd0', 'message': 'Add zuul and gitreview\n\nChange-Id: I1b0ce6005fe6160b8d0f6be50896f36ac2170f35\n'}, {'number': 3, 'created': '2020-09-01 13:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-tls-certificates/commit/6e4981fe1ca19f102ac87d0c2a55822bc03b69e4', 'message': 'Add zuul and gitreview\n\nFix unit tests too after change in ops framework.\n\nChange-Id: I1b0ce6005fe6160b8d0f6be50896f36ac2170f35\n'}, {'number': 4, 'created': '2020-09-01 13:44:00.000000000', 'files': ['.gitreview', '.zuul.yaml', 'test/test_ca_client.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-tls-certificates/commit/af9a5fd3e914bf3e9fd21186d752224121790fc9', 'message': 'Add zuul and gitreview\n\nFix unit tests too after change in ops framework.\n\nChange-Id: I1b0ce6005fe6160b8d0f6be50896f36ac2170f35\n'}]",0,749221,af9a5fd3e914bf3e9fd21186d752224121790fc9,11,2,4,12549,,,0,"Add zuul and gitreview

Fix unit tests too after change in ops framework.

Change-Id: I1b0ce6005fe6160b8d0f6be50896f36ac2170f35
",git fetch https://review.opendev.org/openstack/charm-ops-interface-tls-certificates refs/changes/21/749221/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', '.zuul.yaml']",2,e97ceb40f4b01e39f789087a573424696b6a2bbe,add-zuul-etc,- project: templates: - python35-charm-jobs - openstack-python3-ussuri-jobs ,,8,0
openstack%2Fpuppet-keystone~stable%2Ftrain~I0dc5dd487996307811edd177d13d6d5ac8f841ee,openstack/puppet-keystone,stable/train,I0dc5dd487996307811edd177d13d6d5ac8f841ee,Fix python package names (ldappool and pysaml2),MERGED,2020-08-31 05:35:12.000000000,2020-09-01 14:04:53.000000000,2020-09-01 14:04:53.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 05:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/83351118633fdb29227b76e8d94c1002489f5a78', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nConflicts:\n\tmanifests/ldap_backend.pp\n\tspec/defines/keystone_ldap_backend_spec.rb\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n(cherry picked from commit f342aad94615655fe96959186c031157c209a659)\n(cherry picked from commit 2917cc9262a3187d0e01b039efa744ab7f2943ec)\n'}, {'number': 2, 'created': '2020-08-31 05:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/620a785860b93d56f05b6c0f488997ab95980f87', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nConflicts:\n\tmanifests/ldap_backend.pp\n\tspec/defines/keystone_ldap_backend_spec.rb\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n(cherry picked from commit f342aad94615655fe96959186c031157c209a659)\n(cherry picked from commit 2917cc9262a3187d0e01b039efa744ab7f2943ec)\n'}, {'number': 3, 'created': '2020-08-31 09:27:56.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'manifests/ldap_backend.pp', 'spec/classes/keystone_ldap_spec.rb', 'manifests/federation/identity_provider.pp', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1660e2c8de6860e16e5a567b7e36e4e54fcb8a49', 'message': 'Fix python package names (ldappool and pysaml2)\n\nThis patch fixes package name of python-ldapppool and python-pysaml2,\nso that correct package names, python3-*, are used in OSs which use\nPython3 as the default Python.\n\nConflicts:\n\tmanifests/ldap_backend.pp\n\tspec/defines/keystone_ldap_backend_spec.rb\n\nChange-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee\n(cherry picked from commit f342aad94615655fe96959186c031157c209a659)\n(cherry picked from commit 2917cc9262a3187d0e01b039efa744ab7f2943ec)\n'}]",0,748953,1660e2c8de6860e16e5a567b7e36e4e54fcb8a49,10,3,3,9816,,,0,"Fix python package names (ldappool and pysaml2)

This patch fixes package name of python-ldapppool and python-pysaml2,
so that correct package names, python3-*, are used in OSs which use
Python3 as the default Python.

Conflicts:
	manifests/ldap_backend.pp
	spec/defines/keystone_ldap_backend_spec.rb

Change-Id: I0dc5dd487996307811edd177d13d6d5ac8f841ee
(cherry picked from commit f342aad94615655fe96959186c031157c209a659)
(cherry picked from commit 2917cc9262a3187d0e01b039efa744ab7f2943ec)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/53/748953/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap_backend.pp', 'spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb', 'manifests/federation/identity_provider.pp', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/ldap.pp', 'manifests/params.pp']",7,83351118633fdb29227b76e8d94c1002489f5a78,py3-packages," $python_ldappool_package_name = ""python${pyvers}-ldappool"" $python_pysaml2_package_name = ""python${pyvers}-pysaml2"" $python_ldappool_package_name = ""python${pyvers}-ldappool"" $python_pysaml2_package_name = ""python${pyvers}-pysaml2""",,274,260
openstack%2Fcharm-ops-openstack~master~Ic10e1d020f79ffa87994391caf5e036dcc965529,openstack/charm-ops-openstack,master,Ic10e1d020f79ffa87994391caf5e036dcc965529,Add zuul and gitreview,MERGED,2020-09-01 09:49:22.000000000,2020-09-01 14:00:44.000000000,2020-09-01 14:00:44.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-09-01 09:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/6bbb2125b21e4779184b083c48a2a8701397be10', 'message': 'Add zuul and gitreview\n\nChange-Id: Ic10e1d020f79ffa87994391caf5e036dcc965529\n'}, {'number': 2, 'created': '2020-09-01 10:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/dd9a15159373b46d03d223277ca80cc986136c60', 'message': 'Add zuul and gitreview\n\nChange-Id: Ic10e1d020f79ffa87994391caf5e036dcc965529\n'}, {'number': 3, 'created': '2020-09-01 10:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/d93411115737cd0761ceb32cd67672dd74979101', 'message': 'Add zuul and gitreview\n\nChange-Id: Ic10e1d020f79ffa87994391caf5e036dcc965529\n'}, {'number': 4, 'created': '2020-09-01 13:28:02.000000000', 'files': ['.gitreview', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/ca9ec6c72918664c587887296a7f189caf290125', 'message': 'Add zuul and gitreview\n\nChange-Id: Ic10e1d020f79ffa87994391caf5e036dcc965529\n'}]",1,749213,ca9ec6c72918664c587887296a7f189caf290125,13,2,4,12549,,,0,"Add zuul and gitreview

Change-Id: Ic10e1d020f79ffa87994391caf5e036dcc965529
",git fetch https://review.opendev.org/openstack/charm-ops-openstack refs/changes/13/749213/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', '.zuul.yaml']",2,6bbb2125b21e4779184b083c48a2a8701397be10,add-zuul-etc,- project: templates: - python-charm-jobs - openstack-python3-ussuri-jobs ,,8,0
openstack%2Fpuppet-gnocchi~master~I47ec7e66f421045803921ce1d15c0fd69f99b2e5,openstack/puppet-gnocchi,master,I47ec7e66f421045803921ce1d15c0fd69f99b2e5,Do not check distro names in each manifests,MERGED,2020-08-31 12:57:21.000000000,2020-09-01 14:00:13.000000000,2020-09-01 14:00:12.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 12:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/2c347414c44b049b0ad1462d0d063b7d407e9863', 'message': 'Do not check distro names in each manifests\n\nThis patch migrates the logic based on distro name to gnocchi::params,\nso that we have a single manifest maintaining distro specific behavior.\n\nChange-Id: I47ec7e66f421045803921ce1d15c0fd69f99b2e5\n'}, {'number': 2, 'created': '2020-08-31 14:21:37.000000000', 'files': ['manifests/db.pp', 'manifests/params.pp', 'manifests/storage/ceph.pp', 'spec/classes/gnocchi_storage_ceph_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/7e0ea838eb8f62e9aa14dfc9ee41a96842ba6f04', 'message': 'Do not check distro names in each manifests\n\nThis patch migrates the logic based on distro name to gnocchi::params,\nso that we have a single manifest maintaining distro specific behavior.\n\nChange-Id: I47ec7e66f421045803921ce1d15c0fd69f99b2e5\n'}]",0,749047,7e0ea838eb8f62e9aa14dfc9ee41a96842ba6f04,9,3,2,9816,,,0,"Do not check distro names in each manifests

This patch migrates the logic based on distro name to gnocchi::params,
so that we have a single manifest maintaining distro specific behavior.

Change-Id: I47ec7e66f421045803921ce1d15c0fd69f99b2e5
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/47/749047/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/params.pp', 'manifests/storage/ceph.pp']",3,2c347414c44b049b0ad1462d0d063b7d407e9863,check-distro," if $::gnocchi::params::cradox_package_name == undef { fail('gnocchi::storage::ceph::manage_cradox set to true will fail due to no package being available.') ensure_packages('python-cradox', { 'ensure' => 'present', 'name' => $::gnocchi::params::cradox_package_name, 'tag' => ['openstack','gnocchi-package'], }) ensure_packages('python-rados', { 'ensure' => 'present', 'name' => $::gnocchi::params::rados_package_name, 'tag' => ['openstack','gnocchi-package'], })"," if $::osfamily == 'Debian' { fail('gnocchi::storage::ceph::manage_cradox set to true on debian family will fail due to no package being available.') if $::gnocchi::params::common_package_name { ensure_packages('python-cradox', { 'ensure' => 'present', 'name' => $::gnocchi::params::cradox_package_name, 'tag' => ['openstack','gnocchi-package'], }) } if $::gnocchi::params::common_package_name { ensure_packages('python-rados', { 'ensure' => 'present', 'name' => $::gnocchi::params::rados_package_name, 'tag' => ['openstack','gnocchi-package'], }) }",15,19
openstack%2Fzun~master~I28b99e522a51d29b05cd1a8f76c8a6b66b8e85cd,openstack/zun,master,I28b99e522a51d29b05cd1a8f76c8a6b66b8e85cd,Drop Babel from reqs,ABANDONED,2020-08-31 08:36:08.000000000,2020-09-01 14:00:10.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 08:36:08.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/08f07f78bd86bacb99a1632c9d7a2f848c0e53bb', 'message': 'Drop Babel from reqs\n\nNot needed per [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I28b99e522a51d29b05cd1a8f76c8a6b66b8e85cd\n'}]",0,748981,08f07f78bd86bacb99a1632c9d7a2f848c0e53bb,3,2,1,32067,,,0,"Drop Babel from reqs

Not needed per [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I28b99e522a51d29b05cd1a8f76c8a6b66b8e85cd
",git fetch https://review.opendev.org/openstack/zun refs/changes/81/748981/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,08f07f78bd86bacb99a1632c9d7a2f848c0e53bb,,,Babel==2.5.3,0,1
openstack%2Fglance~master~I19c713c91794694f990f1372fda61cc2e20fac54,openstack/glance,master,I19c713c91794694f990f1372fda61cc2e20fac54,Add a release note about import locking,MERGED,2020-08-31 14:37:00.000000000,2020-09-01 13:59:18.000000000,2020-09-01 13:56:10.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 14:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/96010d7d42bf4c28c6a71231f5a01572acac678c', 'message': 'Add a release note about import locking\n\nThis adds a release note detailing the new locking behavior and criteria\nfor stealing the lock.\n\nChange-Id: I19c713c91794694f990f1372fda61cc2e20fac54\n'}, {'number': 2, 'created': '2020-08-31 14:45:49.000000000', 'files': ['releasenotes/notes/import-locking-behavior-901c691f3839fe0a.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/bb7774c99b263c4f54d0d126ff4ee769bb3da24c', 'message': 'Add a release note about import locking\n\nThis adds a release note detailing the new locking behavior and criteria\nfor stealing the lock.\n\nRelated-Bug: #1884596\nChange-Id: I19c713c91794694f990f1372fda61cc2e20fac54\n'}]",0,749069,bb7774c99b263c4f54d0d126ff4ee769bb3da24c,11,4,2,4393,,,0,"Add a release note about import locking

This adds a release note detailing the new locking behavior and criteria
for stealing the lock.

Related-Bug: #1884596
Change-Id: I19c713c91794694f990f1372fda61cc2e20fac54
",git fetch https://review.opendev.org/openstack/glance refs/changes/69/749069/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/import-locking-behavior-901c691f3839fe0a.yaml'],1,96010d7d42bf4c28c6a71231f5a01572acac678c,bug/1884596,"--- fixes: - | A change was added to the import API which provides time-based locking of an image to exclude other import operations from starting until the lock-holding task completes. The lock is based on the task that we start to do the work, and the UUID of that task is stored in the ``os_glance_import_task`` image property, which indicates who owns the lock. If the task holding the lock fails to make progress for 60 minutes, another import operation will be allowed to steal the lock and start another import operation. ",,12,0
openstack%2Fglance~master~Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c,openstack/glance,master,Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c,Cleanup import status information after busting a lock,MERGED,2020-08-17 16:01:21.000000000,2020-09-01 13:57:56.000000000,2020-09-01 13:56:09.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 16:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/66c612026cc6e1d5d010b8b2f9b1e46bb3b56189', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 2, 'created': '2020-08-17 17:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5a7c871b50fe3e4662526604383b269e9e53cfa8', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 3, 'created': '2020-08-18 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/85537323000e7cf36d70fd5cba8a744e79ee9e1c', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 4, 'created': '2020-08-18 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c11d275105f163b9b7359bf2fbb77ff7900c7dde', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 5, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/274310d2e5a8fab5fe0209d11850e607414ad70d', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 6, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a3b1d6977a78374a3b2b6e2722081fbebeaaf13a', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 7, 'created': '2020-08-21 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/64a6f95504cc6a1d72928c5eca2d22d9f1a5959e', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 8, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/52d96f850551f272769c916a0b89b1941f0ace19', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}, {'number': 9, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/v2/test_images_import_locking.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/552da8440070da50e67bd477ca13b5429e22dc30', 'message': 'Cleanup import status information after busting a lock\n\nWhen we bust a lock, we now own the image for that time period\nand may exclude the other task (if still running) from updating\nthe import status information. If not still running, we should\ntake responsibility of that cleanup since we know what task we\nstole the lock from. We should, however, only do that if we\nsucceed in grabbing the lock to avoid racing with another thread\nwhich might be trying to do the same thing.\n\nChange-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c\n'}]",6,746554,552da8440070da50e67bd477ca13b5429e22dc30,34,5,9,4393,,,0,"Cleanup import status information after busting a lock

When we bust a lock, we now own the image for that time period
and may exclude the other task (if still running) from updating
the import status information. If not still running, we should
take responsibility of that cleanup since we know what task we
stole the lock from. We should, however, only do that if we
succeed in grabbing the lock to avoid racing with another thread
which might be trying to do the same thing.

Change-Id: Iff3dfbfcbfb956a06d77a144e5456bdb556c5a2c
",git fetch https://review.opendev.org/openstack/glance refs/changes/54/746554/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/functional/v2/test_images_import_locking.py']",3,66c612026cc6e1d5d010b8b2f9b1e46bb3b56189,task-heartbeat," self.assertEqual('', image['os_glance_importing_to_stores'])"," self.assertEqual('store2', image['os_glance_importing_to_stores']) # FIXME(danms): With the strict import lock checking in # ImportActionWrapper, we lose the ability to update # importing_to_stores after our lock has been stolen. We # should probably do something about that in the lock-busting # code. We would expect this in that case: # self.assertEqual('', image['os_glance_importing_to_stores'])",96,10
openstack%2Ftripleo-upgrade~stable%2Fussuri~Iad17835b99efd568b334955a05bfb3fd4566c7f2,openstack/tripleo-upgrade,stable/ussuri,Iad17835b99efd568b334955a05bfb3fd4566c7f2,[ffwd] Support for OSP14,MERGED,2020-09-01 10:28:31.000000000,2020-09-01 13:54:33.000000000,2020-09-01 13:54:33.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-09-01 10:28:31.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6e0fc01afaf191d1a31d3edf66c011a24d745094', 'message': ""[ffwd] Support for OSP14\n\nThere are extra packages present in dependancy chain on OSP14.\nWe ensure we don't remove python2-chardet before leapp.\n\nChange-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2\n(cherry picked from commit 296b4c5ecf461a4b79519f892f1c527cba8d8a62)\n""}]",0,749218,6e0fc01afaf191d1a31d3edf66c011a24d745094,6,3,1,6816,,,0,"[ffwd] Support for OSP14

There are extra packages present in dependancy chain on OSP14.
We ensure we don't remove python2-chardet before leapp.

Change-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2
(cherry picked from commit 296b4c5ecf461a4b79519f892f1c527cba8d8a62)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/18/749218/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,6e0fc01afaf191d1a31d3edf66c011a24d745094,, -python2-chardet,,1,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1,openstack/puppet-tripleo,stable/ussuri,I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1,Fix tls - zaqar wss default port,MERGED,2020-08-31 22:05:51.000000000,2020-09-01 13:54:32.000000000,2020-09-01 13:54:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-08-31 22:05:51.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e8dfd034c51500a8fa362a30a60615ae8efca8c0', 'message': 'Fix tls - zaqar wss default port\n\nIn https://review.opendev.org/746671 we updated the\nendpoint map. It seems this broke the undercloud as\nhaproxy still listen on port 9000.\n\nUpdate the default zaqar wss port in puppet as well.\n\nAlso set the request header Host to use the service\nport so that handshake does not fail on port missmatch.\n\nChange-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1\nCloses-Bug: #1893621\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\n(cherry picked from commit 4a52809a9676f3058863882b529f88c5f078c9ee)\n'}]",0,749161,e8dfd034c51500a8fa362a30a60615ae8efca8c0,9,6,1,24245,,,0,"Fix tls - zaqar wss default port

In https://review.opendev.org/746671 we updated the
endpoint map. It seems this broke the undercloud as
haproxy still listen on port 9000.

Update the default zaqar wss port in puppet as well.

Also set the request header Host to use the service
port so that handshake does not fail on port missmatch.

Change-Id: I0c9dd4e9457c7cfa8cd54b5eaa167bf4e8e6bcc1
Closes-Bug: #1893621
Related-Bug: #1832168
Related-RHBZ: #1868910
(cherry picked from commit 4a52809a9676f3058863882b529f88c5f078c9ee)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/61/749161/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,e8dfd034c51500a8fa362a30a60615ae8efca8c0,RHBZ#1868910-stable/ussuri,"# 'zaqar_ws_ssl_port' (Defaults to 3000) zaqar_ws_ssl_port => 3000, 'timeout' => ['connect 5s', 'client 25s', 'server 25s', regsubst('tunnel Xs', 'X', $zaqar_ws_timeout_tunnel)], 'http-request' => [join(['set-header Host %[dst]:', $ports[zaqar_ws_port]])],","# 'zaqar_ws_ssl_port' (Defaults to 9000) zaqar_ws_ssl_port => 9000, 'timeout' => ['connect 5s', 'client 25s', 'server 25s', regsubst('tunnel Xs', 'X', $zaqar_ws_timeout_tunnel)],",4,3
openstack%2Freleases~master~Ic2519a0f7291dd447d45264804cbe3151cef7135,openstack/releases,master,Ic2519a0f7291dd447d45264804cbe3151cef7135,Test the release with release-test,MERGED,2020-09-01 13:00:00.000000000,2020-09-01 13:49:18.000000000,2020-09-01 13:49:17.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 13:00:00.000000000', 'files': ['deliverables/victoria/release-test.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/100619e08532b4dffdf74738b865a4f6ae014cbb', 'message': 'Test the release with release-test\n\nChange-Id: Ic2519a0f7291dd447d45264804cbe3151cef7135\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749280,100619e08532b4dffdf74738b865a4f6ae014cbb,7,2,1,11904,,,0,"Test the release with release-test

Change-Id: Ic2519a0f7291dd447d45264804cbe3151cef7135
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/749280/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/release-test.yaml'],1,100619e08532b4dffdf74738b865a4f6ae014cbb,setuptools, - version: 3.3.1 projects: - repo: openstack/release-test hash: bfb977911dd45b2e0666e981aa1dcb35500eef24,,4,0
openstack%2Fos-resource-classes~master~If9e7033104f9c260f6dbcc9d99ba5daa9fc81d24,openstack/os-resource-classes,master,If9e7033104f9c260f6dbcc9d99ba5daa9fc81d24,Add new resource class for QAT card.,NEW,2020-05-08 09:15:33.000000000,2020-09-01 13:46:03.000000000,,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-05-08 09:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/c04e7bbbe314de2fe13c0b126e697bfb6a2adc0f', 'message': 'Add new resource class for QAT card.\n\nChange-Id: If9e7033104f9c260f6dbcc9d99ba5daa9fc81d24\n'}, {'number': 2, 'created': '2020-05-11 06:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/04696b9e04ccefbb22e1f0cc435007a8d1e2cf70', 'message': 'Add new resource class for QAT card.\n\nChange-Id: If9e7033104f9c260f6dbcc9d99ba5daa9fc81d24\n'}, {'number': 3, 'created': '2020-08-04 08:09:47.000000000', 'files': ['os_resource_classes/__init__.py', 'os_resource_classes/tests/test_os_resource_classes.py'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/efad3e55bc4abb8ddd4d8a55cd579c79c75cdf35', 'message': 'Add new resource class for QAT card.\n\nChange-Id: If9e7033104f9c260f6dbcc9d99ba5daa9fc81d24\n'}]",1,726314,efad3e55bc4abb8ddd4d8a55cd579c79c75cdf35,10,5,3,25738,,,0,"Add new resource class for QAT card.

Change-Id: If9e7033104f9c260f6dbcc9d99ba5daa9fc81d24
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/14/726314/3 && git format-patch -1 --stdout FETCH_HEAD,['os_resource_classes/__init__.py'],1,c04e7bbbe314de2fe13c0b126e697bfb6a2adc0f,add-qat," # An accelerator (the ""VF"" or ""PF"" can be attached to the guest) from QAT card 'QAT',",,2,0
openstack%2Fpython-cloudkittyclient~master~I6559348831b9277b70834556adbd9445c5982c79,openstack/python-cloudkittyclient,master,I6559348831b9277b70834556adbd9445c5982c79,Remove translation sections from setup.cfg,MERGED,2020-06-23 03:47:02.000000000,2020-09-01 13:45:20.000000000,2020-09-01 13:43:38.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 03:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/619e91b2c5fbe94e9834362b2bd8df1919eabdf9', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I6559348831b9277b70834556adbd9445c5982c79\n'}, {'number': 2, 'created': '2020-08-27 13:25:34.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/db10c24e2579c1ce6cd7a02c20f1c44c32537208', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I6559348831b9277b70834556adbd9445c5982c79\n'}]",0,737434,db10c24e2579c1ce6cd7a02c20f1c44c32537208,13,4,2,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I6559348831b9277b70834556adbd9445c5982c79
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/34/737434/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,619e91b2c5fbe94e9834362b2bd8df1919eabdf9,,, [upload_sphinx] upload-dir = doc/build/html [compile_catalog] directory = cloudkittyclient/locale domain = python-cloudkittyclient [update_catalog] domain = python-cloudkittyclient output_dir = cloudkittyclient/locale input_file = cloudkittyclient/locale/python-cloudkittyclient.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = cloudkittyclient/locale/python-cloudkittyclient.pot,0,19
openstack%2Fpython-cloudkittyclient~master~I482ac98bc56f0e3cfb8b767f47649da11ed1afab,openstack/python-cloudkittyclient,master,I482ac98bc56f0e3cfb8b767f47649da11ed1afab,migrate testing to ubuntu focal,MERGED,2020-07-04 17:57:27.000000000,2020-09-01 13:36:44.000000000,2020-09-01 13:34:30.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-04 17:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/1088c9278725743ab23a92ec228cebde8ccfb77f', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- integration tests jobs\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\nStory: #2007865\nTask: #40180\n'}, {'number': 2, 'created': '2020-07-05 02:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/8eec94f19fd2eaecb2bed223f2247b9e45b71b68', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40180\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}, {'number': 3, 'created': '2020-08-13 14:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/b1634cc9c40aaf1de1fab2343a0c5c320c684a88', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40180\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}, {'number': 4, 'created': '2020-08-13 17:24:12.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/de3c4924e93dcad0b1f748807425e9a0b435e501', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40180\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}]",0,739318,de3c4924e93dcad0b1f748807425e9a0b435e501,22,8,4,8556,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40180

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/18/739318/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1088c9278725743ab23a92ec228cebde8ccfb77f,migrate-to-focal,#test,,1,0
openstack%2Fpuppet-keystone~stable%2Ftrain~I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361,openstack/puppet-keystone,stable/train,I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361,Convert more to rspec-puppet-facts,MERGED,2020-08-31 05:35:12.000000000,2020-09-01 13:26:00.000000000,2020-09-01 13:26:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 05:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1e38a1c578c3201f3d9c377bdd8acc219aad766d', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nConflicts:\n\tspec/classes/keystone_federation_identity_provider_spec.rb\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n(cherry picked from commit 8f5c6835db775690dbc7ff192e147c5a19ac5ffc)\n(cherry picked from commit 79083edebb3670b5d5eac4d62d4a66f4a444f56c)\n""}, {'number': 2, 'created': '2020-08-31 09:27:15.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a34e31d0f71bfab54c02c5209534b6ab8ac0ef50', 'message': ""Convert more to rspec-puppet-facts\n\nAfter this it's only the keystone init class and the\nkeystone ldap backend definition left.\n\npuppet-keystone is the last module then everything\nis using rspec-puppet-facts.\n\nConflicts:\n\tspec/classes/keystone_federation_identity_provider_spec.rb\n\nChange-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361\n(cherry picked from commit 8f5c6835db775690dbc7ff192e147c5a19ac5ffc)\n(cherry picked from commit 79083edebb3670b5d5eac4d62d4a66f4a444f56c)\n""}]",0,748952,a34e31d0f71bfab54c02c5209534b6ab8ac0ef50,12,4,2,9816,,,0,"Convert more to rspec-puppet-facts

After this it's only the keystone init class and the
keystone ldap backend definition left.

puppet-keystone is the last module then everything
is using rspec-puppet-facts.

Conflicts:
	spec/classes/keystone_federation_identity_provider_spec.rb

Change-Id: I3d22478a6d3f9feeacfa7d6ca9c728f9f9f2b361
(cherry picked from commit 8f5c6835db775690dbc7ff192e147c5a19ac5ffc)
(cherry picked from commit 79083edebb3670b5d5eac4d62d4a66f4a444f56c)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/52/748952/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_ldap_spec.rb']",2,1e38a1c578c3201f3d9c377bdd8acc219aad766d,py3-packages," shared_examples 'keystone::ldap' do context 'with parameters' do it { is_expected.to contain_package('python-ldappool') } it { is_expected.to contain_keystone_config('ldap/url').with_value('ldap://foo') is_expected.to contain_keystone_config('ldap/user').with_value('cn=foo,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/password').with_value('abcdefg').with_secret(true) is_expected.to contain_keystone_config('ldap/suffix').with_value('dc=example,dc=com') is_expected.to contain_keystone_config('ldap/query_scope').with_value('sub') is_expected.to contain_keystone_config('ldap/page_size').with_value('50') } it { is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_filter').with_value('(memberOf=cn=openstack,cn=groups,cn=accounts,dc=example,dc=com)') is_expected.to contain_keystone_config('ldap/user_objectclass').with_value('inetUser') is_expected.to contain_keystone_config('ldap/user_id_attribute').with_value('uid') is_expected.to contain_keystone_config('ldap/user_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/user_description_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/user_mail_attribute').with_value('mail') is_expected.to contain_keystone_config('ldap/user_enabled_attribute').with_value('UserAccountControl') is_expected.to contain_keystone_config('ldap/user_enabled_mask').with_value('2') is_expected.to contain_keystone_config('ldap/user_enabled_default').with_value('512') is_expected.to contain_keystone_config('ldap/user_enabled_invert').with_value('False') is_expected.to contain_keystone_config('ldap/user_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/user_default_project_id_attribute').with_value('defaultProject') is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_pass_attribute').with_value('krbPassword') is_expected.to contain_keystone_config('ldap/user_enabled_emulation').with_value('True') is_expected.to contain_keystone_config('ldap/user_enabled_emulation_dn').with_value('cn=openstack-enabled,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_additional_attribute_mapping').with_value('description:name, gecos:name') } it { is_expected.to contain_keystone_config('ldap/project_tree_dn').with_value('ou=projects,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/project_filter').with_value('') is_expected.to contain_keystone_config('ldap/project_objectclass').with_value('organizationalUnit') is_expected.to contain_keystone_config('ldap/project_id_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_member_attribute').with_value('member') is_expected.to contain_keystone_config('ldap/project_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/project_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_enabled_attribute').with_value('enabled') is_expected.to contain_keystone_config('ldap/project_domain_id_attribute').with_value('businessCategory') is_expected.to contain_keystone_config('ldap/project_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/project_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/project_enabled_emulation').with_value('False') is_expected.to contain_keystone_config('ldap/project_enabled_emulation_dn').with_value('True') is_expected.to contain_keystone_config('ldap/project_additional_attribute_mapping').with_value('cn=enabled,ou=openstack,dc=example,dc=com') } it { is_expected.to contain_keystone_config('ldap/role_tree_dn').with_value('ou=roles,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/role_filter').with_value('') is_expected.to contain_keystone_config('ldap/role_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/role_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/role_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/role_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/role_attribute_ignore').with_value('description') is_expected.to contain_keystone_config('ldap/role_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/role_additional_attribute_mapping').with_value('') } it { is_expected.to contain_keystone_config('ldap/group_tree_dn').with_value('ou=groups,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_filter').with_value('cn=enabled-groups,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/group_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/group_members_are_ids').with_value('True') is_expected.to contain_keystone_config('ldap/group_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/group_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/group_additional_attribute_mapping').with_value('') } it { is_expected.to contain_keystone_config('ldap/chase_referrals').with_value('False') } it { is_expected.to contain_keystone_config('ldap/use_tls').with_value('False') is_expected.to contain_keystone_config('ldap/tls_cacertdir').with_value('/etc/ssl/certs/') is_expected.to contain_keystone_config('ldap/tls_cacertfile').with_value('/etc/ssl/certs/ca-certificates.crt') is_expected.to contain_keystone_config('ldap/tls_req_cert').with_value('demand') } it { is_expected.to contain_keystone_config('ldap/use_pool').with_value('True') is_expected.to contain_keystone_config('ldap/pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/pool_retry_max').with_value('2') is_expected.to contain_keystone_config('ldap/pool_retry_delay').with_value('0.2') is_expected.to contain_keystone_config('ldap/pool_connection_timeout').with_value('222') is_expected.to contain_keystone_config('ldap/pool_connection_lifetime').with_value('222') is_expected.to contain_keystone_config('ldap/use_auth_pool').with_value('True') is_expected.to contain_keystone_config('ldap/auth_pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/auth_pool_connection_lifetime').with_value('200') } it { is_expected.to contain_keystone_config('identity/driver').with_value('ldap') } context 'with manage_packages set to false' do before do params.merge!( :manage_packages => false ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'keystone::ldap' end end"," describe 'with basic params' do it { is_expected.to contain_package('python-ldappool') } it 'should have basic params' do # basic params is_expected.to contain_keystone_config('ldap/url').with_value('ldap://foo') is_expected.to contain_keystone_config('ldap/user').with_value('cn=foo,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/password').with_value('abcdefg').with_secret(true) is_expected.to contain_keystone_config('ldap/suffix').with_value('dc=example,dc=com') is_expected.to contain_keystone_config('ldap/query_scope').with_value('sub') is_expected.to contain_keystone_config('ldap/page_size').with_value('50') # users is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_filter').with_value('(memberOf=cn=openstack,cn=groups,cn=accounts,dc=example,dc=com)') is_expected.to contain_keystone_config('ldap/user_objectclass').with_value('inetUser') is_expected.to contain_keystone_config('ldap/user_id_attribute').with_value('uid') is_expected.to contain_keystone_config('ldap/user_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/user_description_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/user_mail_attribute').with_value('mail') is_expected.to contain_keystone_config('ldap/user_enabled_attribute').with_value('UserAccountControl') is_expected.to contain_keystone_config('ldap/user_enabled_mask').with_value('2') is_expected.to contain_keystone_config('ldap/user_enabled_default').with_value('512') is_expected.to contain_keystone_config('ldap/user_enabled_invert').with_value('False') is_expected.to contain_keystone_config('ldap/user_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/user_default_project_id_attribute').with_value('defaultProject') is_expected.to contain_keystone_config('ldap/user_tree_dn').with_value('cn=users,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_pass_attribute').with_value('krbPassword') is_expected.to contain_keystone_config('ldap/user_enabled_emulation').with_value('True') is_expected.to contain_keystone_config('ldap/user_enabled_emulation_dn').with_value('cn=openstack-enabled,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/user_additional_attribute_mapping').with_value('description:name, gecos:name') # projects is_expected.to contain_keystone_config('ldap/project_tree_dn').with_value('ou=projects,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/project_filter').with_value('') is_expected.to contain_keystone_config('ldap/project_objectclass').with_value('organizationalUnit') is_expected.to contain_keystone_config('ldap/project_id_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_member_attribute').with_value('member') is_expected.to contain_keystone_config('ldap/project_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/project_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/project_enabled_attribute').with_value('enabled') is_expected.to contain_keystone_config('ldap/project_domain_id_attribute').with_value('businessCategory') is_expected.to contain_keystone_config('ldap/project_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/project_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/project_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/project_enabled_emulation').with_value('False') is_expected.to contain_keystone_config('ldap/project_enabled_emulation_dn').with_value('True') is_expected.to contain_keystone_config('ldap/project_additional_attribute_mapping').with_value('cn=enabled,ou=openstack,dc=example,dc=com') # roles is_expected.to contain_keystone_config('ldap/role_tree_dn').with_value('ou=roles,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/role_filter').with_value('') is_expected.to contain_keystone_config('ldap/role_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/role_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/role_name_attribute').with_value('ou') is_expected.to contain_keystone_config('ldap/role_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/role_attribute_ignore').with_value('description') is_expected.to contain_keystone_config('ldap/role_allow_create').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_update').with_value('True') is_expected.to contain_keystone_config('ldap/role_allow_delete').with_value('True') is_expected.to contain_keystone_config('ldap/role_additional_attribute_mapping').with_value('') # groups is_expected.to contain_keystone_config('ldap/group_tree_dn').with_value('ou=groups,ou=openstack,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_filter').with_value('cn=enabled-groups,cn=groups,cn=accounts,dc=example,dc=com') is_expected.to contain_keystone_config('ldap/group_objectclass').with_value('organizationalRole') is_expected.to contain_keystone_config('ldap/group_id_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_member_attribute').with_value('roleOccupant') is_expected.to contain_keystone_config('ldap/group_members_are_ids').with_value('True') is_expected.to contain_keystone_config('ldap/group_desc_attribute').with_value('description') is_expected.to contain_keystone_config('ldap/group_name_attribute').with_value('cn') is_expected.to contain_keystone_config('ldap/group_attribute_ignore').with_value('') is_expected.to contain_keystone_config('ldap/group_additional_attribute_mapping').with_value('') # referrals is_expected.to contain_keystone_config('ldap/chase_referrals').with_value('False') # tls is_expected.to contain_keystone_config('ldap/use_tls').with_value('False') is_expected.to contain_keystone_config('ldap/tls_cacertdir').with_value('/etc/ssl/certs/') is_expected.to contain_keystone_config('ldap/tls_cacertfile').with_value('/etc/ssl/certs/ca-certificates.crt') is_expected.to contain_keystone_config('ldap/tls_req_cert').with_value('demand') # ldap pooling is_expected.to contain_keystone_config('ldap/use_pool').with_value('True') is_expected.to contain_keystone_config('ldap/pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/pool_retry_max').with_value('2') is_expected.to contain_keystone_config('ldap/pool_retry_delay').with_value('0.2') is_expected.to contain_keystone_config('ldap/pool_connection_timeout').with_value('222') is_expected.to contain_keystone_config('ldap/pool_connection_lifetime').with_value('222') is_expected.to contain_keystone_config('ldap/use_auth_pool').with_value('True') is_expected.to contain_keystone_config('ldap/auth_pool_size').with_value('20') is_expected.to contain_keystone_config('ldap/auth_pool_connection_lifetime').with_value('200') # drivers is_expected.to contain_keystone_config('identity/driver').with_value('ldap') end describe 'with packages unmanaged' do let :params do { :manage_packages => false } end",216,174
openstack%2Fopenstack-ansible-ceph_client~master~I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,openstack/openstack-ansible-ceph_client,master,I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,Remove trailing '/' from ceph_apt_repo_url,MERGED,2020-06-19 11:08:24.000000000,2020-09-01 13:22:42.000000000,2020-09-01 12:07:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-19 11:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/2a18df729423fd265248d6298ae7ae2968b7c68c', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages, if\nthe repository has already been set up by ceph-ansible.\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n""}, {'number': 2, 'created': '2020-06-19 12:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/f119827d2a8cffc74b78f84480a585d67e1e8740', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages\nif the repository has already been set up by ceph-ansible. So just match\nwhat ceph-ansible does.\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n""}, {'number': 3, 'created': '2020-06-21 11:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/038f8fe5b16e5db16400d1e92a00444f1962ff1b', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages\nif the repository has already been set up by ceph-ansible. So just match\nwhat ceph-ansible does.\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n""}, {'number': 4, 'created': '2020-08-27 11:08:28.000000000', 'files': ['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/0255bef843999ea4d1a26745d53c56793a195d75', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages\nif the repository has already been set up by ceph-ansible.  This patch\nremoves the entry with the trailing '/' (for convenience) and matches\nwhat ceph-ansible does.\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n""}]",2,736977,0255bef843999ea4d1a26745d53c56793a195d75,19,4,4,25600,,,0,"Remove trailing '/' from ceph_apt_repo_url

This little trailing '/' results in a duplicate entry for ceph packages
if the repository has already been set up by ceph-ansible.  This patch
removes the entry with the trailing '/' (for convenience) and matches
what ceph-ansible does.

Change-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/77/736977/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,2a18df729423fd265248d6298ae7ae2968b7c68c,,"ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}""","ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}/""",1,1
openstack%2Fhorizon~stable%2Fstein~I32a711e65d7e7aeb13ba5c297cfd2816eb6f90f9,openstack/horizon,stable/stein,I32a711e65d7e7aeb13ba5c297cfd2816eb6f90f9,[DNM] Testing CI,ABANDONED,2020-06-23 12:31:50.000000000,2020-09-01 13:14:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-23 12:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f47de2f498876ab7c47e04cc9633a121c0a2d4be', 'message': '[DNM] Testing CI\n\nChange-Id: I32a711e65d7e7aeb13ba5c297cfd2816eb6f90f9\n'}, {'number': 2, 'created': '2020-09-01 11:58:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3a8b9edccc1e50d0af03b3d5de0f2dd79bd411aa', 'message': '[DNM] Testing CI\n\nChange-Id: I32a711e65d7e7aeb13ba5c297cfd2816eb6f90f9\n'}]",0,737520,3a8b9edccc1e50d0af03b3d5de0f2dd79bd411aa,9,2,2,29313,,,0,"[DNM] Testing CI

Change-Id: I32a711e65d7e7aeb13ba5c297cfd2816eb6f90f9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/737520/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f47de2f498876ab7c47e04cc9633a121c0a2d4be,,,,1,0
openstack%2Fhorizon~master~Ie550beddf54e5bc43c34046bb18970638d10f303,openstack/horizon,master,Ie550beddf54e5bc43c34046bb18970638d10f303,Update geckodriver version to v0.27.0.,MERGED,2020-08-30 15:55:49.000000000,2020-09-01 13:14:40.000000000,2020-09-01 10:04:29.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-30 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3b4f026c598fc55f0076b3b2436773c68402a329', 'message': '[DNM] Testing CI\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n'}, {'number': 2, 'created': '2020-08-31 16:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b5b6e6b8b0e8698a80abd374e66e77c2d478d555', 'message': '[DNM] Testing CI\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n'}, {'number': 3, 'created': '2020-08-31 16:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f8021c84b2d29af1d07e98f7e8ec37e4f225ca46', 'message': '[DNM] Testing CI\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n'}, {'number': 4, 'created': '2020-08-31 19:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/969bb8cdf30cc912db46ee20bdfda03b38b64d84', 'message': 'Update geckodriver version to v0.27.0.\n\nThis patch updates gecodriver version to v0.27.0\nfrom v0.23.0 to fix horizon-integration job.\nFo more info. please refer [1].\n\n[1] https://github.com/mozilla/geckodriver/issues/1771\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n'}, {'number': 5, 'created': '2020-09-01 06:16:41.000000000', 'files': ['roles/setup-selenium-tests/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/16c74ad62fd94906d9f4453493227accd134717f', 'message': 'Update geckodriver version to v0.27.0.\n\nThis patch updates geckodriver version to v0.27.0\nfrom v0.23.0 to fix horizon-integration job.\nFo more info. please refer [1].\n\n[1] https://github.com/mozilla/geckodriver/issues/1771\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n'}]",2,748881,16c74ad62fd94906d9f4453493227accd134717f,21,5,5,29313,,,0,"Update geckodriver version to v0.27.0.

This patch updates geckodriver version to v0.27.0
from v0.23.0 to fix horizon-integration job.
Fo more info. please refer [1].

[1] https://github.com/mozilla/geckodriver/issues/1771

Change-Id: Ie550beddf54e5bc43c34046bb18970638d10f303
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/748881/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3b4f026c598fc55f0076b3b2436773c68402a329,,,,1,0
openstack%2Fopenstack-ansible-os_barbican~master~I760da75e2edab7c3e44d6f9f236bdcf3678ad1d1,openstack/openstack-ansible-os_barbican,master,I760da75e2edab7c3e44d6f9f236bdcf3678ad1d1,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:34:46.000000000,2020-09-01 13:04:38.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:34:46.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/6e763dc94487311c7a01bbcea8576f90a12006c1', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I760da75e2edab7c3e44d6f9f236bdcf3678ad1d1\n'}]",0,749258,6e763dc94487311c7a01bbcea8576f90a12006c1,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I760da75e2edab7c3e44d6f9f236bdcf3678ad1d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/58/749258/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,6e763dc94487311c7a01bbcea8576f90a12006c1,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_blazar~master~I4b49ce7a698b1178b55764421b1eef6a8669c416,openstack/openstack-ansible-os_blazar,master,I4b49ce7a698b1178b55764421b1eef6a8669c416,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:35:03.000000000,2020-09-01 13:04:35.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:35:03.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/7a5f71157185472d81b8395b178b1291af816301', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4b49ce7a698b1178b55764421b1eef6a8669c416\n'}]",0,749259,7a5f71157185472d81b8395b178b1291af816301,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4b49ce7a698b1178b55764421b1eef6a8669c416
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/59/749259/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,7a5f71157185472d81b8395b178b1291af816301,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_cinder~master~Id0520dd5eaeb582c2369a2228651e8b4f7ac13ee,openstack/openstack-ansible-os_cinder,master,Id0520dd5eaeb582c2369a2228651e8b4f7ac13ee,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:35:30.000000000,2020-09-01 13:04:31.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:35:30.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/83a600f9c256cf41448a761f2efba44cf4d7e087', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id0520dd5eaeb582c2369a2228651e8b4f7ac13ee\n'}]",0,749260,83a600f9c256cf41448a761f2efba44cf4d7e087,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id0520dd5eaeb582c2369a2228651e8b4f7ac13ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/60/749260/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,83a600f9c256cf41448a761f2efba44cf4d7e087,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_cloudkitty~master~I5f596a40b895f681d119ca5e29001b12538fec9c,openstack/openstack-ansible-os_cloudkitty,master,I5f596a40b895f681d119ca5e29001b12538fec9c,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:35:45.000000000,2020-09-01 13:04:29.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:35:45.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/4125e641f84cfcb3588414f65d23f7b0a04b1c68', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5f596a40b895f681d119ca5e29001b12538fec9c\n'}]",0,749261,4125e641f84cfcb3588414f65d23f7b0a04b1c68,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5f596a40b895f681d119ca5e29001b12538fec9c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/61/749261/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,4125e641f84cfcb3588414f65d23f7b0a04b1c68,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_glance~master~If0ebd01715e0d7c87c37ec3a19ecb616c19b7152,openstack/openstack-ansible-os_glance,master,If0ebd01715e0d7c87c37ec3a19ecb616c19b7152,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:36:23.000000000,2020-09-01 13:04:26.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:36:23.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/108be57681c54efe951c1ceac84efe96bc4da2dd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If0ebd01715e0d7c87c37ec3a19ecb616c19b7152\n'}]",0,749263,108be57681c54efe951c1ceac84efe96bc4da2dd,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If0ebd01715e0d7c87c37ec3a19ecb616c19b7152
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/63/749263/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,108be57681c54efe951c1ceac84efe96bc4da2dd,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_heat~master~Ibdf8ad931e1d8faa08d6bf4572ca4413f1d33629,openstack/openstack-ansible-os_heat,master,Ibdf8ad931e1d8faa08d6bf4572ca4413f1d33629,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:36:50.000000000,2020-09-01 13:04:23.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:36:50.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/76c95459cafbe6427aeccf6116c6ee866f4ace29', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ibdf8ad931e1d8faa08d6bf4572ca4413f1d33629\n'}]",0,749264,76c95459cafbe6427aeccf6116c6ee866f4ace29,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ibdf8ad931e1d8faa08d6bf4572ca4413f1d33629
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/64/749264/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,76c95459cafbe6427aeccf6116c6ee866f4ace29,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_ironic~master~Ia38bf61a2dbbb8a0a32cf49ac39076582529efd8,openstack/openstack-ansible-os_ironic,master,Ia38bf61a2dbbb8a0a32cf49ac39076582529efd8,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:37:17.000000000,2020-09-01 13:04:20.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:37:17.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/a06c99841b628494de63430d081d2e42e36208c5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia38bf61a2dbbb8a0a32cf49ac39076582529efd8\n'}]",0,749265,a06c99841b628494de63430d081d2e42e36208c5,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia38bf61a2dbbb8a0a32cf49ac39076582529efd8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/65/749265/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,a06c99841b628494de63430d081d2e42e36208c5,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_keystone~master~I2b328629fc6b0db2f42fd9b85e1b85b91dca0dad,openstack/openstack-ansible-os_keystone,master,I2b328629fc6b0db2f42fd9b85e1b85b91dca0dad,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:37:43.000000000,2020-09-01 13:04:17.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:37:43.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a2338900816f97553276d010636c1a478ca32ad4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I2b328629fc6b0db2f42fd9b85e1b85b91dca0dad\n'}]",0,749266,a2338900816f97553276d010636c1a478ca32ad4,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I2b328629fc6b0db2f42fd9b85e1b85b91dca0dad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/66/749266/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,a2338900816f97553276d010636c1a478ca32ad4,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_manila~master~I74c58e898896bd3030c6d55b4338ea2481a2d3fa,openstack/openstack-ansible-os_manila,master,I74c58e898896bd3030c6d55b4338ea2481a2d3fa,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:38:21.000000000,2020-09-01 13:03:59.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:38:21.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0f0e0067d6204a84e4d8748734f9b63f933a8ab5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I74c58e898896bd3030c6d55b4338ea2481a2d3fa\n'}]",0,749267,0f0e0067d6204a84e4d8748734f9b63f933a8ab5,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I74c58e898896bd3030c6d55b4338ea2481a2d3fa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/67/749267/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,0f0e0067d6204a84e4d8748734f9b63f933a8ab5,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_masakari~master~Ie00d2e3b7b7eca375704d91045177d5931093baa,openstack/openstack-ansible-os_masakari,master,Ie00d2e3b7b7eca375704d91045177d5931093baa,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:38:36.000000000,2020-09-01 13:03:57.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:38:36.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/e75303ac37ba21cefaa2ba638c72558afa13d3b7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie00d2e3b7b7eca375704d91045177d5931093baa\n'}]",0,749268,e75303ac37ba21cefaa2ba638c72558afa13d3b7,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie00d2e3b7b7eca375704d91045177d5931093baa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/68/749268/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,e75303ac37ba21cefaa2ba638c72558afa13d3b7,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_mistral~master~Ic2301d44be916d906d60c2bb844dead3adac9a18,openstack/openstack-ansible-os_mistral,master,Ic2301d44be916d906d60c2bb844dead3adac9a18,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:38:51.000000000,2020-09-01 13:03:54.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:38:51.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/4fca512a9232fb1cdc113e44df8613a7159a96ad', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic2301d44be916d906d60c2bb844dead3adac9a18\n'}]",0,749269,4fca512a9232fb1cdc113e44df8613a7159a96ad,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic2301d44be916d906d60c2bb844dead3adac9a18
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/69/749269/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,4fca512a9232fb1cdc113e44df8613a7159a96ad,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_neutron~master~Ie8a958fec9dd5994311d58dceb606a58fdd5905a,openstack/openstack-ansible-os_neutron,master,Ie8a958fec9dd5994311d58dceb606a58fdd5905a,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:40:03.000000000,2020-09-01 13:03:52.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:40:03.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7caa8d0c2a6b3ed9b655ccbc8e07a75666ed9450', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie8a958fec9dd5994311d58dceb606a58fdd5905a\n'}]",0,749270,7caa8d0c2a6b3ed9b655ccbc8e07a75666ed9450,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie8a958fec9dd5994311d58dceb606a58fdd5905a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/70/749270/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,7caa8d0c2a6b3ed9b655ccbc8e07a75666ed9450,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_nova~master~Id4ec7f31f255c0a7b038cb75d7f04f5505887309,openstack/openstack-ansible-os_nova,master,Id4ec7f31f255c0a7b038cb75d7f04f5505887309,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:40:20.000000000,2020-09-01 13:03:50.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:40:20.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ab8820218ccb712620578c830ac3a170aa623fd4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id4ec7f31f255c0a7b038cb75d7f04f5505887309\n'}]",0,749271,ab8820218ccb712620578c830ac3a170aa623fd4,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id4ec7f31f255c0a7b038cb75d7f04f5505887309
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/71/749271/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,ab8820218ccb712620578c830ac3a170aa623fd4,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_octavia~master~I27b2a5ba1b8cac88dfbc344cc5dcef1af8f4ab29,openstack/openstack-ansible-os_octavia,master,I27b2a5ba1b8cac88dfbc344cc5dcef1af8f4ab29,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:40:36.000000000,2020-09-01 13:03:47.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:40:36.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b2ba3f9ca2ed79ee7c324a4993fdc615efcac1bd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I27b2a5ba1b8cac88dfbc344cc5dcef1af8f4ab29\n'}]",0,749272,b2ba3f9ca2ed79ee7c324a4993fdc615efcac1bd,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I27b2a5ba1b8cac88dfbc344cc5dcef1af8f4ab29
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/72/749272/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,b2ba3f9ca2ed79ee7c324a4993fdc615efcac1bd,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_placement~master~Ifcfe0da74ae26881c523ee535d35b3a4d1993ff1,openstack/openstack-ansible-os_placement,master,Ifcfe0da74ae26881c523ee535d35b3a4d1993ff1,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:41:02.000000000,2020-09-01 13:03:44.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:41:02.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/0cea1fef5b93411df00d8653e54e76330dfbdb30', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ifcfe0da74ae26881c523ee535d35b3a4d1993ff1\n'}]",0,749273,0cea1fef5b93411df00d8653e54e76330dfbdb30,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ifcfe0da74ae26881c523ee535d35b3a4d1993ff1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/73/749273/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,0cea1fef5b93411df00d8653e54e76330dfbdb30,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_sahara~master~Ic0c5ebbd032edfb5911cb55da6395138f14002d5,openstack/openstack-ansible-os_sahara,master,Ic0c5ebbd032edfb5911cb55da6395138f14002d5,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:41:28.000000000,2020-09-01 13:03:42.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:41:28.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/29db297e46bd634121ce5a71419b5e7ca73aef5a', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic0c5ebbd032edfb5911cb55da6395138f14002d5\n'}]",0,749274,29db297e46bd634121ce5a71419b5e7ca73aef5a,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic0c5ebbd032edfb5911cb55da6395138f14002d5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/74/749274/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,29db297e46bd634121ce5a71419b5e7ca73aef5a,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_tacker~master~Ide4a515568fbf078733e7493449d8d42f9a4573b,openstack/openstack-ansible-os_tacker,master,Ide4a515568fbf078733e7493449d8d42f9a4573b,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:42:05.000000000,2020-09-01 13:03:38.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:42:05.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/a53460de20adbd943fc234f6914cd7fe6f19b9f0', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ide4a515568fbf078733e7493449d8d42f9a4573b\n'}]",0,749275,a53460de20adbd943fc234f6914cd7fe6f19b9f0,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ide4a515568fbf078733e7493449d8d42f9a4573b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/75/749275/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,a53460de20adbd943fc234f6914cd7fe6f19b9f0,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_trove~master~I0f35e75da5b88d067461cd4e1e9a8292b2119221,openstack/openstack-ansible-os_trove,master,I0f35e75da5b88d067461cd4e1e9a8292b2119221,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:42:33.000000000,2020-09-01 13:03:36.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:42:33.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/ca3bf359e6af56787ff5e969b8b75dd43c8d2d57', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0f35e75da5b88d067461cd4e1e9a8292b2119221\n'}]",0,749276,ca3bf359e6af56787ff5e969b8b75dd43c8d2d57,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0f35e75da5b88d067461cd4e1e9a8292b2119221
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/76/749276/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,ca3bf359e6af56787ff5e969b8b75dd43c8d2d57,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fopenstack-ansible-os_zun~master~I28c273d22db0958ddd07f174c70fd39a70a7fc21,openstack/openstack-ansible-os_zun,master,I28c273d22db0958ddd07f174c70fd39a70a7fc21,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-01 12:43:08.000000000,2020-09-01 13:02:53.000000000,,[],"[{'number': 1, 'created': '2020-09-01 12:43:08.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/eea10455dd05f19a8c14d2e652fb3f36f535bf33', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I28c273d22db0958ddd07f174c70fd39a70a7fc21\n'}]",0,749277,eea10455dd05f19a8c14d2e652fb3f36f535bf33,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I28c273d22db0958ddd07f174c70fd39a70a7fc21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/77/749277/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,eea10455dd05f19a8c14d2e652fb3f36f535bf33,openstack/openstack-ansible-tests/sync-tests,," vars: ansible_python_interpreter: ""{{ _oslodb_ansible_python_interpreter }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}"" login_host: ""{{ _oslodb_setup_endpoint | default(omit) }}"" login_port: ""{{ _oslodb_setup_port | default(omit) }}""",0,6
openstack%2Fglance~master~I0795e3835a500f20102e0c393a9a15f00672c87a,openstack/glance,master,I0795e3835a500f20102e0c393a9a15f00672c87a,Add ImageLock to base flow checks,MERGED,2020-08-20 22:30:43.000000000,2020-09-01 12:59:43.000000000,2020-09-01 12:56:52.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0dadf9a82f3d1cd82d1972025328f6e7fd2720af', 'message': 'Add ImageLock to base flow checks\n\nThis adds the ImageLock flow atom to the test_async flow assertions to\nmake sure it gets included. Also changed are the magic numbers for\nexpected flow lengths, per feedback on the\nIcb3c1d27e9a514d96fca7c1d824fd2183f69d8b3 review.\n\nChange-Id: I0795e3835a500f20102e0c393a9a15f00672c87a\n'}, {'number': 2, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9ffbd43a97653eb0ab762173ed996f7ba1cd6be8', 'message': 'Add ImageLock to base flow checks\n\nThis adds the ImageLock flow atom to the test_async flow assertions to\nmake sure it gets included. Also changed are the magic numbers for\nexpected flow lengths, per feedback on the\nIcb3c1d27e9a514d96fca7c1d824fd2183f69d8b3 review.\n\nChange-Id: I0795e3835a500f20102e0c393a9a15f00672c87a\n'}, {'number': 3, 'created': '2020-08-21 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d5ee4f7fc8b67cc72618463be4a303a5636d8538', 'message': 'Add ImageLock to base flow checks\n\nThis adds the ImageLock flow atom to the test_async flow assertions to\nmake sure it gets included. Also changed are the magic numbers for\nexpected flow lengths, per feedback on the\nIcb3c1d27e9a514d96fca7c1d824fd2183f69d8b3 review.\n\nChange-Id: I0795e3835a500f20102e0c393a9a15f00672c87a\n'}, {'number': 4, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/21eb6943442be0361540535b126a4934b520e16d', 'message': 'Add ImageLock to base flow checks\n\nThis adds the ImageLock flow atom to the test_async flow assertions to\nmake sure it gets included. Also changed are the magic numbers for\nexpected flow lengths, per feedback on the\nIcb3c1d27e9a514d96fca7c1d824fd2183f69d8b3 review.\n\nChange-Id: I0795e3835a500f20102e0c393a9a15f00672c87a\n'}, {'number': 5, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/tests/unit/async_/test_async.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3636915dd4ce86b7dfeebaa5a1aa980a9ffaeb00', 'message': 'Add ImageLock to base flow checks\n\nThis adds the ImageLock flow atom to the test_async flow assertions to\nmake sure it gets included. Also changed are the magic numbers for\nexpected flow lengths, per feedback on the\nIcb3c1d27e9a514d96fca7c1d824fd2183f69d8b3 review.\n\nChange-Id: I0795e3835a500f20102e0c393a9a15f00672c87a\n'}]",0,747305,3636915dd4ce86b7dfeebaa5a1aa980a9ffaeb00,20,4,5,4393,,,0,"Add ImageLock to base flow checks

This adds the ImageLock flow atom to the test_async flow assertions to
make sure it gets included. Also changed are the magic numbers for
expected flow lengths, per feedback on the
Icb3c1d27e9a514d96fca7c1d824fd2183f69d8b3 review.

Change-Id: I0795e3835a500f20102e0c393a9a15f00672c87a
",git fetch https://review.opendev.org/openstack/glance refs/changes/05/747305/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/test_async.py'],1,0dadf9a82f3d1cd82d1972025328f6e7fd2720af,task-heartbeat," self.base_flow = ['ImageLock', 'ConfigureStaging', 'ImportToStore', # assert flow has all the tasks self.assertEqual(len(self.base_flow), len(flow_comp)) # assert flow has all the tasks self.assertEqual(len(self.base_flow) + 1, len(flow_comp)) # assert flow has all the tasks self.assertEqual(len(self.base_flow) + 1, len(flow_comp)) # assert flow has all the tasks (base_flow + plugins) plugins = CONF.image_import_opts.image_import_plugins self.assertEqual(len(self.base_flow) + len(plugins), len(flow_comp)) # assert flow has all the tasks (just base and conversion) self.assertEqual(len(self.base_flow) + 1, len(flow_comp))"," self.base_flow = ['ConfigureStaging', 'ImportToStore', # assert flow has 6 tasks self.assertEqual(6, len(flow_comp)) # assert flow has 7 tasks self.assertEqual(7, len(flow_comp)) # assert flow has 7 tasks self.assertEqual(7, len(flow_comp)) # assert flow has 9 tasks (base_flow + plugins) self.assertEqual(9, len(flow_comp)) # assert flow has 7 tasks self.assertEqual(7, len(flow_comp))",12,11
openstack%2Fpuppet-openstack-integration~master~Id3b5ddd6dcfe95c172da506f9615b2fa9badc02f,openstack/puppet-openstack-integration,master,Id3b5ddd6dcfe95c172da506f9615b2fa9badc02f,Updated from Puppet OpenStack modules constraints,MERGED,2020-09-01 06:17:24.000000000,2020-09-01 12:50:09.000000000,2020-09-01 12:50:09.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 06:17:24.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b3002e3ac596a898a16f8dbe2bb88dab493bac01', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Id3b5ddd6dcfe95c172da506f9615b2fa9badc02f\n'}]",0,749183,b3002e3ac596a898a16f8dbe2bb88dab493bac01,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Id3b5ddd6dcfe95c172da506f9615b2fa9badc02f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/83/749183/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,b3002e3ac596a898a16f8dbe2bb88dab493bac01,openstack/puppet/constraints, :ref => '1.1.3', :ref => '1.1.1',1,1
openstack%2Fbifrost~master~I709a2cd74cf86796160d493931cd2cd0f2b1dabf,openstack/bifrost,master,I709a2cd74cf86796160d493931cd2cd0f2b1dabf,Stop using --system-site-packages,ABANDONED,2020-08-31 15:45:51.000000000,2020-09-01 12:29:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-31 15:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7f09e1b0b95e3824a1a6bb282dd288ec4ce47645', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 2, 'created': '2020-08-31 16:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/831133c2efd8cf49d9d34dce02b317c3f272659f', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 3, 'created': '2020-08-31 17:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/683b712cbb612039a046a0ba9d796d59246e02fb', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 4, 'created': '2020-09-01 09:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6096934fede5427b71ae153de6171901e50d87a3', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 5, 'created': '2020-09-01 09:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a007055ecda7fd25508945101d30230e6421696f', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 6, 'created': '2020-09-01 09:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/faaa4835f8062e1708b823d53d7791c991b12a26', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 7, 'created': '2020-09-01 10:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/af611c83630036f043abee1563998d2bb53601ef', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 8, 'created': '2020-09-01 11:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1c636882e5c4b1d434ec3531412f20820fc2e4a4', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nCopy an ugly hack from TripleO that enables 'import selinux' in\nthe virtual environment (most selinux actions still require\nchanging the interpreter, but at least basic ansible actions work).\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}, {'number': 9, 'created': '2020-09-01 12:05:44.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'releasenotes/notes/system-site-packages-0ea3149ca3e9fa31.yaml', 'scripts/test-bifrost.sh', 'bifrost/cli.py', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'bindep.txt', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-create-dib-image/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1133c9e95dbc00eba1b5d40908fdc8333dfe2d8f', 'message': ""Stop using --system-site-packages\n\nIt's a source of potential conflicts. Provide explicit interpreter\nfor tasks that require OS native python packages.\n\nDo not overwrite ansible_python_interpreter when calling ansible\nsince extra-vars provided in the CLI have the highest priority.\n\nCopy an ugly hack from TripleO that enables 'import selinux' in\nthe virtual environment (most selinux actions still require\nchanging the interpreter, but at least basic ansible actions work).\n\nChange-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf\n""}]",1,749081,1133c9e95dbc00eba1b5d40908fdc8333dfe2d8f,16,2,9,10239,,,0,"Stop using --system-site-packages

It's a source of potential conflicts. Provide explicit interpreter
for tasks that require OS native python packages.

Do not overwrite ansible_python_interpreter when calling ansible
since extra-vars provided in the CLI have the highest priority.

Copy an ugly hack from TripleO that enables 'import selinux' in
the virtual environment (most selinux actions still require
changing the interpreter, but at least basic ansible actions work).

Change-Id: I709a2cd74cf86796160d493931cd2cd0f2b1dabf
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/81/749081/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'releasenotes/notes/system-site-packages-0ea3149ca3e9fa31.yaml']",8,7f09e1b0b95e3824a1a6bb282dd288ec4ce47645,system-site-packages,--- fixes: - | No longer uses ``--system-site-packages`` when creating a virtual environment. ,,17,3
openstack%2Fopenstack-ansible-tests~master~I662819f6df0b05e47a2a78bb7432350040ab7b43,openstack/openstack-ansible-tests,master,I662819f6df0b05e47a2a78bb7432350040ab7b43,Make focal and centos 8 functional tests voting,MERGED,2020-09-01 06:34:46.000000000,2020-09-01 12:28:26.000000000,2020-09-01 12:24:10.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-09-01 06:34:46.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/dcb2b0195d7daf37e21ed044502434fab93af228', 'message': 'Make focal and centos 8 functional tests voting\n\nChange-Id: I662819f6df0b05e47a2a78bb7432350040ab7b43\n'}]",0,749186,dcb2b0195d7daf37e21ed044502434fab93af228,8,3,1,28619,,,0,"Make focal and centos 8 functional tests voting

Change-Id: I662819f6df0b05e47a2a78bb7432350040ab7b43
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/86/749186/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,dcb2b0195d7daf37e21ed044502434fab93af228,,, voting: false voting: false,0,2
openstack%2Fbifrost~master~I09b352af2d059e31de16d28f69f8d6db93ab7373,openstack/bifrost,master,I09b352af2d059e31de16d28f69f8d6db93ab7373,Block setuptools 50.0.0 and newer,ABANDONED,2020-08-31 12:38:23.000000000,2020-09-01 12:07:15.000000000,,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-31 12:38:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ba391c9b2c17e17413dead9c519948d041711ee6', 'message': 'Block setuptools 50.0.0 and newer\n\nIt seems to break the world (in our case just Ubuntu Focal).\n\nSee https://github.com/pypa/setuptools/issues/2232\nand https://github.com/pypa/setuptools/issues/2353\n\nDepends-On: https://review.opendev.org/#/c/748943/\nChange-Id: I09b352af2d059e31de16d28f69f8d6db93ab7373\n'}]",0,749046,ba391c9b2c17e17413dead9c519948d041711ee6,7,4,1,10239,,,0,"Block setuptools 50.0.0 and newer

It seems to break the world (in our case just Ubuntu Focal).

See https://github.com/pypa/setuptools/issues/2232
and https://github.com/pypa/setuptools/issues/2353

Depends-On: https://review.opendev.org/#/c/748943/
Change-Id: I09b352af2d059e31de16d28f69f8d6db93ab7373
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/46/749046/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ba391c9b2c17e17413dead9c519948d041711ee6,setuptools,"# NOTE(dtantsur): blocking >= 50.0.0 because of # https://github.com/pypa/setuptools/issues/2232 # See also https://review.opendev.org/#/c/748943/ setuptools!=48.0.0,!=49.0.0,<50.0.0,>=39.0.1 # PSF/ZPL","setuptools!=48.0.0,!=49.0.0,>=39.0.1 # PSF/ZPL",4,1
openstack%2Fos-brick~stable%2Ftrain~I2775f55039695c7ec029106c0dafe4d46255b336,openstack/os-brick,stable/train,I2775f55039695c7ec029106c0dafe4d46255b336,rbd: Warn if ceph udev rules are not configured,MERGED,2020-08-28 12:44:58.000000000,2020-09-01 12:04:36.000000000,2020-09-01 12:03:16.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-28 12:44:58.000000000', 'files': ['os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9905455da6d7031eb04e209f8e2225880de01913', 'message': 'rbd: Warn if ceph udev rules are not configured\n\nThe LUKS encryptor feature expects devices to have a symbolic link that\nit can overwrite in order to enable transparent encryption/decryption\nfor instances [1]. This is generally the case for RBD volumes, as Ceph\nuses udev rules [2] to create a \'/dev/rbd/{pool}/{device}\' ->\n\'/dev/rbdN\' symlink. However, in an environment where udev daemon is not\npresent or configured correctly, this symlink will never be configured.\nThis causes things to crash and burn in a rather non-obvious manner when\nlocally attaching an encrypted RBD volume:\n\n  oslo_concurrency.processutils.ProcessExecutionError: Unexpected error while running command.\n  Command: cryptsetup luksOpen --key-file=- /dev/rbd/volumes/volume-foo crypt-volume-foo\n  Exit code: 4\n  Stdout: \'\'\n  Stderr: ""Device /dev/rbd/volumes/foo doesn\'t exist or access denied.\\n""\n\n(\'foo\' being a stand-in for a very long \'device-$UUID\' name)\n\nThe long term fix here is to probably stop relying on the side effects\nof these udev rules, i.e. the symlinks, but that is a far more involved\nfix that would not be backportable. Instead, for now we simply leave a\nbreadcrumb for the user, informing them as to what\'s gone wrong and\nencouraging them to look at the bug report for more information.\n\n[1] https://github.com/openstack/os-brick/blob/3.1.0/os_brick/encryptors/luks.py#L191-L195\n[2] https://github.com/ceph/ceph/blob/v14.0.0/udev/50-rbd.rules\n\nChange-Id: I2775f55039695c7ec029106c0dafe4d46255b336\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1884114\n(cherry picked from commit ee34d925ff8a8a83345941b7876b09f2c0396864)\n(cherry picked from commit 1eeffd986dd8d5a192c7af272fb5eefb0ce43da2)\n'}]",0,748661,9905455da6d7031eb04e209f8e2225880de01913,22,10,1,15334,,,0,"rbd: Warn if ceph udev rules are not configured

The LUKS encryptor feature expects devices to have a symbolic link that
it can overwrite in order to enable transparent encryption/decryption
for instances [1]. This is generally the case for RBD volumes, as Ceph
uses udev rules [2] to create a '/dev/rbd/{pool}/{device}' ->
'/dev/rbdN' symlink. However, in an environment where udev daemon is not
present or configured correctly, this symlink will never be configured.
This causes things to crash and burn in a rather non-obvious manner when
locally attaching an encrypted RBD volume:

  oslo_concurrency.processutils.ProcessExecutionError: Unexpected error while running command.
  Command: cryptsetup luksOpen --key-file=- /dev/rbd/volumes/volume-foo crypt-volume-foo
  Exit code: 4
  Stdout: ''
  Stderr: ""Device /dev/rbd/volumes/foo doesn't exist or access denied.\n""

('foo' being a stand-in for a very long 'device-$UUID' name)

The long term fix here is to probably stop relying on the side effects
of these udev rules, i.e. the symlinks, but that is a far more involved
fix that would not be backportable. Instead, for now we simply leave a
breadcrumb for the user, informing them as to what's gone wrong and
encouraging them to look at the bug report for more information.

[1] https://github.com/openstack/os-brick/blob/3.1.0/os_brick/encryptors/luks.py#L191-L195
[2] https://github.com/ceph/ceph/blob/v14.0.0/udev/50-rbd.rules

Change-Id: I2775f55039695c7ec029106c0dafe4d46255b336
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-Bug: #1884114
(cherry picked from commit ee34d925ff8a8a83345941b7876b09f2c0396864)
(cherry picked from commit 1eeffd986dd8d5a192c7af272fb5eefb0ce43da2)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/61/748661/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/rbd.py'],1,9905455da6d7031eb04e209f8e2225880de01913,bug/1884114," if ( not os.path.islink(rbd_dev_path) or not os.path.exists(os.path.realpath(rbd_dev_path)) ): LOG.debug( 'Volume %(vol)s is already mapped to local device %(dev)s', {'vol': volume, 'dev': os.path.realpath(rbd_dev_path)} ) if ( not os.path.islink(rbd_dev_path) or not os.path.exists(os.path.realpath(rbd_dev_path)) ): LOG.warning( 'Volume %(vol)s has not been mapped to local device ' '%(dev)s; is the udev daemon running and are the ' 'ceph-renamer udev rules configured? See bug #1884114 for ' 'more information.', {'vol': volume, 'dev': rbd_dev_path}, ) return {'path': rbd_dev_path, 'type': 'block'}"," if (not os.path.islink(rbd_dev_path) or not os.path.exists(os.path.realpath(rbd_dev_path))): LOG.debug('volume %(vol)s is already mapped to local' ' device %(dev)s', {'vol': volume, 'dev': os.path.realpath(rbd_dev_path)}) return {'path': rbd_dev_path, 'type': 'block'}",22,8
openstack%2Fdevstack~stable%2Ftrain~I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,openstack/devstack,stable/train,I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs,MERGED,2020-08-31 14:09:56.000000000,2020-09-01 12:01:58.000000000,2020-08-31 19:51:00.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-31 14:09:56.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b35581bb096883ceafbfeea286153eaec184c17', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\nTemporarily make grenade jobs non-voting in order to allow this\npatch to be backported.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849\n(cherry picked from commit 18b4251bf4f689923a19bf7fbc50d5c2ea422b21)\n(cherry picked from commit 87d1da30a86a6ae3525eca9a5842ab0403e6ea56)\n'}]",0,749063,1b35581bb096883ceafbfeea286153eaec184c17,10,5,1,13252,,,0,"Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs

A new setuptools release has changed the way pip installs are done,
see [0]. With this change we switch back to using the distro
method for global pip installs.

Temporarily make grenade jobs non-voting in order to allow this
patch to be backported.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html

Change-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849
(cherry picked from commit 18b4251bf4f689923a19bf7fbc50d5c2ea422b21)
(cherry picked from commit 87d1da30a86a6ae3525eca9a5842ab0403e6ea56)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/749063/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,1b35581bb096883ceafbfeea286153eaec184c17,," # See # https://github.com/pypa/setuptools/issues/2232 # http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html # this makes setuptools >=50 use the platform distutils. # We only want to do this on global pip installs, not if # installing in a virtualenv sudo_pip=""$sudo_pip LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib """," sudo_pip=""$sudo_pip LC_ALL=en_US.UTF-8""",7,1
openstack%2Fzaqar~stable%2Fussuri~I4ba43c8432d47a1c72361975ed88c210502df08b,openstack/zaqar,stable/ussuri,I4ba43c8432d47a1c72361975ed88c210502df08b,Update .gitreview for stable/ussuri,NEW,2020-04-24 18:04:52.000000000,2020-09-01 11:58:34.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-24 18:04:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/1a83f677907a3a0bf59389cb7a5e6a765810140e', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I4ba43c8432d47a1c72361975ed88c210502df08b\n'}]",0,722965,1a83f677907a3a0bf59389cb7a5e6a765810140e,6,2,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I4ba43c8432d47a1c72361975ed88c210502df08b
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/65/722965/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1a83f677907a3a0bf59389cb7a5e6a765810140e,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Foctavia~master~If08a8169498cdfaa75440e8971ba0caff45ac4c4,openstack/octavia,master,If08a8169498cdfaa75440e8971ba0caff45ac4c4,Add ALPN support for TLS-terminated HTTPS LBs,MERGED,2020-08-03 16:13:46.000000000,2020-09-01 11:43:54.000000000,2020-09-01 11:42:16.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 16:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/11d7b84ff23312e384d41ff8bbec8974246e6773', 'message': 'Add HTTP/2 support for TLS-terminated listeners\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 2, 'created': '2020-08-05 13:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fc973595e54d37ce95141ec98b8c7d1faf57cd45', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 3, 'created': '2020-08-06 13:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ef19c2a4027c0ee07dfbc5fec2fc855272b04a68', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 4, 'created': '2020-08-10 09:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/24725ec03fcb3bb57340556e0a5bff218a01cdc1', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 5, 'created': '2020-08-10 17:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/26685b66a9690c254a2871764dd3a875b4551d9b', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 6, 'created': '2020-08-10 17:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/deef866ace85f5906ddfe4aa85198cf906e9bb16', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 7, 'created': '2020-08-10 19:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5e720bd41a37a36016b730dff9858d5c13c2916', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 8, 'created': '2020-08-11 15:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/321472348cb05f6166641766835580f555ca7f4a', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 9, 'created': '2020-08-18 19:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8016651affc087fc90c03b30fc0087a791b8ba67', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 10, 'created': '2020-08-24 09:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dba52766e9c3e52a51cef4005bcac1136766227c', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/744519/\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}, {'number': 11, 'created': '2020-08-27 11:49:17.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/v2/examples/listener-update-curl', 'api-ref/source/v2/examples/listener-update-request.json', 'octavia/common/config.py', 'octavia/tests/unit/common/test_validations.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/api/v2/types/test_listeners.py', 'etc/octavia.conf', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/common/validate.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'requirements.txt', 'octavia/common/constants.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'api-ref/source/v2/examples/listener-create-response.json', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'api-ref/source/v2/examples/listener-update-response.json', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/functional/api/v2/test_listener.py', 'api-ref/source/v2/examples/listener-show-response.json', 'releasenotes/notes/add-listener-tls-alpn-support-3056fb01b418c88f.yaml', 'octavia/db/models.py', 'octavia/api/v2/types/listener.py', 'api-ref/source/v2/examples/listener-create-request.json', 'api-ref/source/v2/listener.inc', 'lower-constraints.txt', 'api-ref/source/v2/examples/listener-create-curl', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/db/prepare.py', 'api-ref/source/v2/examples/listeners-list-response.json', 'octavia/api/common/types.py', 'octavia/common/data_models.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/root_controller.py', 'octavia/db/migration/alembic_migrations/versions/2ab994dd3ec2_add_listener_alpn_protocols_column.py', 'doc/source/user/feature-classification/feature-matrix-listener.ini', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a5f0524fd00b1fdb9d47bafba81155eeb769f3ad', 'message': 'Add ALPN support for TLS-terminated HTTPS LBs\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Listener API to include a new \'alpn_protocols\'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference).\n\nPresently, the amphora provider driver is limited to http/1.0 and\nhttp/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends\non HAProxy 2.0 or newer.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nChange-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4\n'}]",12,744520,a5f0524fd00b1fdb9d47bafba81155eeb769f3ad,44,5,11,6469,,,0,"Add ALPN support for TLS-terminated HTTPS LBs

ALPN is a TLS extension for application-layer protocol negotiation
within the TLS handshake [1].

This patch extends the Listener API to include a new 'alpn_protocols'
parameter. With this parameter, users can set an ALPN preference list
(descending order of preference).

Presently, the amphora provider driver is limited to http/1.0 and
http/1.1 ALPN protocol IDs. Support for ""h2"" (HTTP/2 over TLS) depends
on HAProxy 2.0 or newer.

[1] https://tools.ietf.org/html/rfc7301

Change-Id: If08a8169498cdfaa75440e8971ba0caff45ac4c4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/744520/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/v2/examples/listener-update-curl', 'api-ref/source/v2/examples/listener-update-request.json', 'octavia/common/config.py', 'octavia/tests/unit/common/test_validations.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/api/v2/types/test_listeners.py', 'etc/octavia.conf', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/common/validate.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'api-ref/source/v2/examples/listener-create-response.json', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'api-ref/source/v2/examples/listener-update-response.json', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'api-ref/source/v2/examples/listener-show-response.json', 'octavia/db/models.py', 'octavia/api/v2/types/listener.py', 'api-ref/source/v2/examples/listener-create-request.json', 'api-ref/source/v2/listener.inc', 'api-ref/source/v2/examples/listener-create-curl', 'octavia/db/prepare.py', 'api-ref/source/v2/examples/listeners-list-response.json', 'octavia/api/common/types.py', 'octavia/common/data_models.py', 'octavia/api/root_controller.py', 'octavia/db/migration/alembic_migrations/versions/2ab994dd3ec2_add_listener_alpn_protocols_column.py', 'doc/source/user/feature-classification/feature-matrix-listener.ini', 'octavia/api/v2/controllers/listener.py']",31,11d7b84ff23312e384d41ff8bbec8974246e6773,http2, # Validate ALPN protocol list validate.check_alpn_protocols(listener_dict['alpn_protocols']) if listener.alpn_protocols is not wtypes.Unset: # Validate ALPN protocol list validate.check_alpn_protocols(listener.alpn_protocols) ,,197,19
openstack%2Fvitrage~master~I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca,openstack/vitrage,master,I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca,Add delete_outdate_alarm to collectd,MERGED,2020-08-31 00:49:55.000000000,2020-09-01 11:43:34.000000000,2020-09-01 11:42:06.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-08-31 00:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/93c841aedc21619f3448119768f3c39b784d427e', 'message': 'Add delete_outdate_alarm to collectd and doctor\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca\n'}, {'number': 2, 'created': '2020-08-31 10:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/85955974602fa0ee62e9815c01789fd2167966a7', 'message': 'Add delete_outdate_alarm to collectd\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca\n'}, {'number': 3, 'created': '2020-08-31 12:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c04eea63b570eaaaefcb7d6b5a864bf60629edfe', 'message': 'Add delete_outdate_alarm to doctor\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca\n'}, {'number': 4, 'created': '2020-09-01 01:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0bf0b81f1ec9a08a83ef1963ad6d764823360c9b', 'message': 'Add delete_outdate_alarm to doctor and collectd\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca\n'}, {'number': 5, 'created': '2020-09-01 08:51:28.000000000', 'files': ['vitrage/datasources/collectd/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/40671f18527d03ae3e5cef1e14ad3cfa62680973', 'message': 'Add delete_outdate_alarm to collectd\n\nIn actual usage scenarios, the expired alarm data should be deleted,\nso it is agreed to enable this function for the alarm data source.\n\nImplements: blueprint add-delete-outdate-alarm\nChange-Id: I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca\n'}]",0,748935,40671f18527d03ae3e5cef1e14ad3cfa62680973,23,3,5,30408,,,0,"Add delete_outdate_alarm to collectd

In actual usage scenarios, the expired alarm data should be deleted,
so it is agreed to enable this function for the alarm data source.

Implements: blueprint add-delete-outdate-alarm
Change-Id: I9fd1bcb0c9dec3f24c554154360dfd8a743f9fca
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/35/748935/4 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/doctor/driver.py', 'vitrage/datasources/collectd/driver.py']",2,93c841aedc21619f3448119768f3c39b784d427e,bp/add-delete-outdate-alarm, @staticmethod def should_delete_outdated_entities(): return True,,8,0
openstack%2Fzaqar~stable%2Fussuri~I05734642767a990df3e679bfcfe57a03aad062d6,openstack/zaqar,stable/ussuri,I05734642767a990df3e679bfcfe57a03aad062d6,Update TOX_CONSTRAINTS_FILE for stable/ussuri,NEW,2020-04-24 18:04:55.000000000,2020-09-01 11:42:24.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-24 18:04:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/04ef307a58e74001e7759f4c72a475903b623076', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I05734642767a990df3e679bfcfe57a03aad062d6\n'}]",0,722966,04ef307a58e74001e7759f4c72a475903b623076,4,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I05734642767a990df3e679bfcfe57a03aad062d6
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/66/722966/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,04ef307a58e74001e7759f4c72a475903b623076,create-ussuri,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Ftacker-specs~master~Ia5d2ab5380d7aa3318cac30f501579379f4d1239,openstack/tacker-specs,master,Ia5d2ab5380d7aa3318cac30f501579379f4d1239,Remove error code 412 support for updating VNF,ABANDONED,2020-09-01 11:38:53.000000000,2020-09-01 11:39:20.000000000,,[],"[{'number': 1, 'created': '2020-09-01 11:38:53.000000000', 'files': ['specs/victoria/support-vnf-update-api-based-on-etsi-nfv-sol.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7b03bc486368a21c31a3b4c19b0c5c674a6f6c3d', 'message': 'Remove error code 412 support for updating VNF\n\nBecause there is no API request/response specification for Etag\nin ETSI NFV SOL documentation, we would like to remove the\nsupport of `error code: 412 Precondition Failed` for updating\nVNF operation.\n\nChange-Id: Ia5d2ab5380d7aa3318cac30f501579379f4d1239\n'}]",0,749247,7b03bc486368a21c31a3b4c19b0c5c674a6f6c3d,2,0,1,27180,,,0,"Remove error code 412 support for updating VNF

Because there is no API request/response specification for Etag
in ETSI NFV SOL documentation, we would like to remove the
support of `error code: 412 Precondition Failed` for updating
VNF operation.

Change-Id: Ia5d2ab5380d7aa3318cac30f501579379f4d1239
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/47/749247/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/support-vnf-update-api-based-on-etsi-nfv-sol.rst'],1,7b03bc486368a21c31a3b4c19b0c5c674a6f6c3d,," | Error 409 .. note:: According to the ETSI NFV SOL document, there is no API request/response specification for Etag yet, and transactions using Etag are not defined by standardization. Therefore, the Victoria release does not support `Error Code: 412 Precondition Failed`. Once a standard specification for this is established, it will be installed on the tacker. ", | Error 409 412,8,1
openstack%2Ftenks~master~I69073727023c6c6f5f4d1165750bb00ae7295bd6,openstack/tenks,master,I69073727023c6c6f5f4d1165750bb00ae7295bd6,Use victoria tests,MERGED,2020-09-01 09:23:00.000000000,2020-09-01 11:23:24.000000000,2020-09-01 11:17:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 09:23:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/4557c983caa481fbae743545ba0268fb6cb9f08c', 'message': 'Use victoria tests\n\nChange-Id: I69073727023c6c6f5f4d1165750bb00ae7295bd6\n'}]",0,749208,4557c983caa481fbae743545ba0268fb6cb9f08c,7,2,1,23851,,,0,"Use victoria tests

Change-Id: I69073727023c6c6f5f4d1165750bb00ae7295bd6
",git fetch https://review.opendev.org/openstack/tenks refs/changes/08/749208/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4557c983caa481fbae743545ba0268fb6cb9f08c,victoria-tests, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I78410e7d20ff3da8a6beb18767ef022efb1e522e,openstack/tripleo-upgrade,stable/ussuri,I78410e7d20ff3da8a6beb18767ef022efb1e522e,[ffwd] Stop retrying upgrade,MERGED,2020-09-01 10:06:33.000000000,2020-09-01 11:20:43.000000000,2020-09-01 11:20:43.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 10:06:33.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/undercloud_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ca2c2b1934c74c407e3636761b3ea14d073f31f2', 'message': '[ffwd] Stop retrying upgrade\n\nRetries were introduced to help with development and also to\nvalidate idempotency of the FFWD code. At this stage we want\nto fail as fast as possible.\n\nChange-Id: I78410e7d20ff3da8a6beb18767ef022efb1e522e\n(cherry picked from commit 7fc657c03aa684b942b1f82b5b6eace614de2e22)\n'}]",0,749215,ca2c2b1934c74c407e3636761b3ea14d073f31f2,6,4,1,26343,,,0,"[ffwd] Stop retrying upgrade

Retries were introduced to help with development and also to
validate idempotency of the FFWD code. At this stage we want
to fail as fast as possible.

Change-Id: I78410e7d20ff3da8a6beb18767ef022efb1e522e
(cherry picked from commit 7fc657c03aa684b942b1f82b5b6eace614de2e22)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/15/749215/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/undercloud_upgrade.yaml']",2,ca2c2b1934c74c407e3636761b3ea14d073f31f2,,, retries: 3,0,7
openstack%2Fopenstack-ansible-plugins~master~I70dcb682ec62f36b742171bff5b140e8bffad484,openstack/openstack-ansible-plugins,master,I70dcb682ec62f36b742171bff5b140e8bffad484,Update CI tests for currently supported operating systems,ABANDONED,2020-06-25 11:24:39.000000000,2020-09-01 11:09:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28182}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-25 11:24:39.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/98485a8199b4cea23580efed645a7901c9b1196c', 'message': 'Update CI tests for currently supported operating systems\n\nDrop Opensuse, add Ubuntu Focal.\n\nChange-Id: I70dcb682ec62f36b742171bff5b140e8bffad484\n'}]",0,737981,98485a8199b4cea23580efed645a7901c9b1196c,6,3,1,25023,,,0,"Update CI tests for currently supported operating systems

Drop Opensuse, add Ubuntu Focal.

Change-Id: I70dcb682ec62f36b742171bff5b140e8bffad484
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/81/737981/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,98485a8199b4cea23580efed645a7901c9b1196c,, - openstack-ansible-functional-ubuntu-focal - openstack-ansible-functional-ubuntu-focal, - openstack-ansible-functional-opensuse-15 - openstack-ansible-functional-opensuse-15,2,2
openstack%2Fopenstack-ansible-ceph_client~master~If897be49ceb10cdee7c4d53b60726942c369614f,openstack/openstack-ansible-ceph_client,master,If897be49ceb10cdee7c4d53b60726942c369614f,Fix ceph-client deployment for Ubuntu Focal,MERGED,2020-08-26 07:15:32.000000000,2020-09-01 11:07:44.000000000,2020-09-01 10:02:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2020-08-26 07:15:32.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/aa1aead02cace5ffff6b6cd338f9faa9a018d1cb', 'message': 'Fix ceph-client deployment for Ubuntu Focal\n\nChange-Id: If897be49ceb10cdee7c4d53b60726942c369614f\n'}]",0,748128,aa1aead02cace5ffff6b6cd338f9faa9a018d1cb,10,3,1,28619,,,0,"Fix ceph-client deployment for Ubuntu Focal

Change-Id: If897be49ceb10cdee7c4d53b60726942c369614f
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/28/748128/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,aa1aead02cace5ffff6b6cd338f9faa9a018d1cb,," - ""{{ (ansible_distribution == 'Ubuntu' and ansible_distribution_major_version is version('20', '<')) | ternary('libvirt-bin', 'libvirt-daemon-system') }}"""," - ""{{ (ansible_distribution == 'Debian') | ternary('libvirt-daemon-system', 'libvirt-bin') }}""",1,1
openstack%2Fcinder~master~I5fd3d7840b36f6805143cd1b837258232e7bc58a,openstack/cinder,master,I5fd3d7840b36f6805143cd1b837258232e7bc58a,Fix revert to snapshot for non admins,MERGED,2020-07-31 10:26:10.000000000,2020-09-01 11:04:41.000000000,2020-08-07 18:23:20.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-31 10:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c87f67d03ef07a20ddb5e18aa99c0ae79dcdc6f5', 'message': 'Fix revert to snapshot for non admins\n\nWhen a non user calls revert to snapshot using the snapshot name the\nclient returns a failure status:\n\n  $ cinder --os-volume-api-version 3.59 revert-to-snapshot snap1\n    ERROR: No snapshot with a name or ID of \'snap1\' exists.\n\nThe revert to snapshot API requires an UUID, so the cinderclient lists\nthe snapshots passing ""all_tenants=1"" and the name of the snapshot to\nfind its first when it\'s not a UUID.\n\nThe problem that we were only removing the ""all_tenants"" filter for\nadmins, leaving it for normal users and passing it to the DB which\nwouldn\'t understand that filter and return None.\n\nThis patch ensure we always remove the ""all_tenants"" filter (as we do in\nother places) before calling the OVO method to list snapshots.\n\nChange-Id: I5fd3d7840b36f6805143cd1b837258232e7bc58a\nFixes-Bug: #1889758\n'}, {'number': 2, 'created': '2020-07-31 12:38:59.000000000', 'files': ['releasenotes/notes/revert-snapshot-non-admin-8485be55060eab0d.yaml', 'cinder/tests/unit/volume/test_snapshot.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/71a080b22688c2fb15545736e807d233932e22e8', 'message': 'Fix revert to snapshot for non admins\n\nWhen a non user calls revert to snapshot using the snapshot name the\nclient returns a failure status:\n\n  $ cinder --os-volume-api-version 3.59 revert-to-snapshot snap1\n    ERROR: No snapshot with a name or ID of \'snap1\' exists.\n\nThe revert to snapshot API requires an UUID, so the cinderclient lists\nthe snapshots passing ""all_tenants=1"" and the name of the snapshot to\nfind its first when it\'s not a UUID.\n\nThe problem that we were only removing the ""all_tenants"" filter for\nadmins, leaving it for normal users and passing it to the DB which\nwouldn\'t understand that filter and return None.\n\nThis patch ensure we always remove the ""all_tenants"" filter (as we do in\nother places) before calling the OVO method to list snapshots.\n\nChange-Id: I5fd3d7840b36f6805143cd1b837258232e7bc58a\nFixes-Bug: #1889758\n'}]",2,744118,71a080b22688c2fb15545736e807d233932e22e8,55,32,2,9535,,,0,"Fix revert to snapshot for non admins

When a non user calls revert to snapshot using the snapshot name the
client returns a failure status:

  $ cinder --os-volume-api-version 3.59 revert-to-snapshot snap1
    ERROR: No snapshot with a name or ID of 'snap1' exists.

The revert to snapshot API requires an UUID, so the cinderclient lists
the snapshots passing ""all_tenants=1"" and the name of the snapshot to
find its first when it's not a UUID.

The problem that we were only removing the ""all_tenants"" filter for
admins, leaving it for normal users and passing it to the DB which
wouldn't understand that filter and return None.

This patch ensure we always remove the ""all_tenants"" filter (as we do in
other places) before calling the OVO method to list snapshots.

Change-Id: I5fd3d7840b36f6805143cd1b837258232e7bc58a
Fixes-Bug: #1889758
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/744118/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/revert-snapshot-non-admin-8485be55060eab0d.yaml', 'cinder/tests/unit/volume/test_snapshot.py', 'cinder/volume/api.py']",3,c87f67d03ef07a20ddb5e18aa99c0ae79dcdc6f5,fix-list-snapshots-all_tenants," # Need to remove all_tenants to pass the filtering below. all_tenants = search_opts.pop('all_tenants', None) if context.is_admin and all_tenants:", if context.is_admin and 'all_tenants' in search_opts: # Need to remove all_tenants to pass the filtering below. del search_opts['all_tenants'],38,3
openstack%2Ftripleo-common~stable%2Fussuri~Ie42a8d0a079eca561ce962f994e31e39bfb7f636,openstack/tripleo-common,stable/ussuri,Ie42a8d0a079eca561ce962f994e31e39bfb7f636,Remove sahara-* from list in tripleo_containers.yaml,MERGED,2020-09-01 02:05:10.000000000,2020-09-01 10:57:11.000000000,2020-09-01 10:55:11.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 02:05:10.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/427e600bd89284b2c0e84a7c3c1f20561587b31d', 'message': 'Remove sahara-* from list in tripleo_containers.yaml\n\nhttps://github.com/openstack/tripleo-common/commit/74799d9beb0747cac9c13a325dc5277f3a5d9e76\nadded sahara-* containers back to\ncontainer-images/tripleo_containers.yaml.\n\nsahara containers are no longer built for\nreleases after train.\n\nChange-Id: Ie42a8d0a079eca561ce962f994e31e39bfb7f636\n(cherry picked from commit Icd00ea16c1ee30837a10703d374f3d5fbe4e42a2)\n'}]",0,749171,427e600bd89284b2c0e84a7c3c1f20561587b31d,10,4,1,9592,,,0,"Remove sahara-* from list in tripleo_containers.yaml

https://github.com/openstack/tripleo-common/commit/74799d9beb0747cac9c13a325dc5277f3a5d9e76
added sahara-* containers back to
container-images/tripleo_containers.yaml.

sahara containers are no longer built for
releases after train.

Change-Id: Ie42a8d0a079eca561ce962f994e31e39bfb7f636
(cherry picked from commit Icd00ea16c1ee30837a10703d374f3d5fbe4e42a2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/749171/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_containers.yaml.j2', 'container-images/tripleo_containers.yaml']",2,427e600bd89284b2c0e84a7c3c1f20561587b31d,tripleo-containers-sahara,,- imagename: docker.io/tripleou/centos-binary-sahara-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-sahara-engine:current-tripleo image_source: tripleo,0,20
openstack%2Fovsdbapp~master~Id97af258f1f7158c0593241a196dc506db7f8d9c,openstack/ovsdbapp,master,Id97af258f1f7158c0593241a196dc506db7f8d9c,"Add ""if_exists"" parameter to ""QoSDelCommand""",MERGED,2020-07-27 11:31:50.000000000,2020-09-01 10:46:58.000000000,2020-09-01 10:38:33.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 11:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f6ce4a865e37eb14e8559ae64223013533579c96', 'message': 'Add ""if_exists"" parameter to ""QoSDelCommand""\n\nIf the flag is set and the Logical Switch does not exist, the command\nwill exist without raising any exception.\n\nChange-Id: Id97af258f1f7158c0593241a196dc506db7f8d9c\nRelated-Bug: #1888828\n'}, {'number': 2, 'created': '2020-07-27 11:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2ad256cce7183f16eb9de9edfb9bec0e17854547', 'message': 'Add ""if_exists"" parameter to ""QoSDelCommand""\n\nIf the flag is set and the Logical Switch does not exist, the command\nwill exist without raising any exception.\n\nChange-Id: Id97af258f1f7158c0593241a196dc506db7f8d9c\nRelated-Bug: #1888828\n'}, {'number': 3, 'created': '2020-07-27 14:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0b70cfbff8fe9e4468a82df10fefd5f7e80ffc45', 'message': 'Add ""if_exists"" parameter to ""QoSDelCommand""\n\nIf the flag is set and the Logical Switch does not exist, the command\nwill exist without raising any exception.\n\nChange-Id: Id97af258f1f7158c0593241a196dc506db7f8d9c\nRelated-Bug: #1888828\n'}, {'number': 4, 'created': '2020-07-27 16:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/4cb60b7a2fd8e04e165d7387586f09f83b2f4059', 'message': 'Add ""if_exists"" parameter to ""QoSDelCommand""\n\nIf the flag is set and the Logical Switch does not exist, the command\nwill exist without raising any exception.\n\nChange-Id: Id97af258f1f7158c0593241a196dc506db7f8d9c\nRelated-Bug: #1888828\n'}, {'number': 5, 'created': '2020-07-27 16:55:21.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a31609cb69bc7625443d8ce8eba4405c2094243b', 'message': 'Add ""if_exists"" parameter to ""QoSDelCommand""\n\nIf the flag is set and the Logical Switch does not exist, the command\nwill exist without raising any exception.\n\nChange-Id: Id97af258f1f7158c0593241a196dc506db7f8d9c\nRelated-Bug: #1888828\n'}]",4,743198,a31609cb69bc7625443d8ce8eba4405c2094243b,25,5,5,16688,,,0,"Add ""if_exists"" parameter to ""QoSDelCommand""

If the flag is set and the Logical Switch does not exist, the command
will exist without raising any exception.

Change-Id: Id97af258f1f7158c0593241a196dc506db7f8d9c
Related-Bug: #1888828
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/98/743198/5 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,f6ce4a865e37eb14e8559ae64223013533579c96,bug/1888828, def test_qos_del_ls_not_present(self): self.api.qos_del('some_other_ls').execute(check_error=True) ,,20,4
openstack%2Fzaqar~master~If8b0675194aea60ed2b38620425636bf0d436466,openstack/zaqar,master,If8b0675194aea60ed2b38620425636bf0d436466,Cleanup the gate scripts after the Zuul v3 migration,MERGED,2020-08-22 21:53:20.000000000,2020-09-01 10:46:28.000000000,2020-09-01 10:44:57.000000000,"[{'_account_id': 8846}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 21:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7d2890c9b94ca0cf1672df13e4d063be96920b1b', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}, {'number': 2, 'created': '2020-08-22 23:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a8f1428d2d9f99dd19b5680329d89f2b922e0300', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}, {'number': 3, 'created': '2020-08-23 00:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/05ff23dd3d33edc9937f9e26c41596abacae1f79', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}, {'number': 4, 'created': '2020-08-23 12:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/2d3a23950321d375e3f8c00b52c2f706508d4129', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}, {'number': 5, 'created': '2020-08-23 14:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/80e3dbf30b1bc48a88da823d5a07fdb1ead83c24', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}, {'number': 6, 'created': '2020-08-23 15:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/48c6e784a70a2aa356f03455f83e112bd02dfa7f', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}, {'number': 7, 'created': '2020-08-23 17:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ab46eb64388e477989ff84b0c176e136edc8b1ca', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}, {'number': 8, 'created': '2020-08-23 18:13:23.000000000', 'files': ['devstack/gate/gate_hook.sh', 'devstack/gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/36138609f179de50d44fde9be35a92a288aa0531', 'message': 'Cleanup the gate scripts after the Zuul v3 migration\n\nThey are not used anymore, they are tasks are covered by native\nZuul functionalities and job definitions.\n\nChange-Id: If8b0675194aea60ed2b38620425636bf0d436466\n'}]",0,747547,36138609f179de50d44fde9be35a92a288aa0531,26,3,8,10459,,,0,"Cleanup the gate scripts after the Zuul v3 migration

They are not used anymore, they are tasks are covered by native
Zuul functionalities and job definitions.

Change-Id: If8b0675194aea60ed2b38620425636bf0d436466
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/47/747547/8 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/gate/gate_hook.sh', 'devstack/gate/post_test_hook.sh']",2,7d2890c9b94ca0cf1672df13e4d063be96920b1b,native-zuulv3-migration,,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This script is executed inside post_test_hook function in devstack gate. # source $BASE/new/devstack/openrc admin admin function generate_test_results { if [ -f .testrepository/0 ]; then sudo .tox/py27-gate/bin/testr last --subunit > $WORKSPACE/testrepository.subunit sudo mv $WORKSPACE/testrepository.subunit $BASE/logs/testrepository.subunit sudo .tox/py27-gate/bin/python /usr/local/jenkins/slave_scripts/subunit2html.py $BASE/logs/testrepository.subunit $BASE/logs/testr_results.html sudo gzip -9 $BASE/logs/testrepository.subunit sudo gzip -9 $BASE/logs/testr_results.html sudo chown $USER:$USER $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz sudo chmod a+r $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz fi } set -x export ZAQAR_DIR=""$BASE/new/zaqar"" sudo chown -R stack:stack $ZAQAR_DIR cd $ZAQAR_DIR # Collect and parse result generate_test_results exit $EXIT_CODE ",0,111
openstack%2Fzaqar~master~I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30,openstack/zaqar,master,I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30,Native Zuul v3 version of the grenade jobs,MERGED,2020-08-22 21:53:20.000000000,2020-09-01 10:44:05.000000000,2020-09-01 10:38:42.000000000,"[{'_account_id': 8846}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 21:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5c0d79ca5e979727542985c604a050138327319a', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}, {'number': 2, 'created': '2020-08-22 23:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c2810fb0871fc92a03e911f521315f555e7df62c', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}, {'number': 3, 'created': '2020-08-23 00:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4939ec4ca40fef88cfee3a0a4e64f15a1cefbef8', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}, {'number': 4, 'created': '2020-08-23 12:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5ac3e097026fc765b2716c2b55212b1ad3958411', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nMake sure to install mongo-tools which ships mongodump.\nThe latter is used by grenade.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}, {'number': 5, 'created': '2020-08-23 14:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/765baa342b95953ed126b4db2ed04326abf86b93', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nMake sure to install mongo-tools which ships mongodump.\nThe latter is used by grenade.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}, {'number': 6, 'created': '2020-08-23 15:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/fe6b96ea95069183b83f45cf73d701a76878e5fa', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nMake sure to install mongo-tools which ships mongodump.\nThe latter is used by grenade.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}, {'number': 7, 'created': '2020-08-23 17:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/8101f296036b1837bffc242e85ea5fe0835faa66', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nMake sure to install mongo-tools when running grenade tests,\nas they use mongodump which is part of that package.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}, {'number': 8, 'created': '2020-08-23 18:13:23.000000000', 'files': ['zaqar_upgradetests/post_test_hook.sh', '.zuul.yaml', 'devstack/upgrade/upgrade.sh', 'playbooks/legacy/grenade-devstack-zaqar-base/run.yaml', 'playbooks/legacy/grenade-devstack-zaqar-base/post.yaml', 'zaqar_upgradetests/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d8f02715c212cb9ac85eb358ec3f85efc7afa09f', 'message': ""Native Zuul v3 version of the grenade jobs\n\nThe upgrade pre/post script have been removed, because they are empty.\n\nThis change includes a few fixes for the grenade plugin:\n- make sure to install mongo-tools when running grenade tests,\n  as they use mongodump which is part of that package.\n- use sudo also when saving the redis dump file for the target\n  logs, as it already happens when the dump for the base logs\n  is copied.\n\nThe jobs have been ported separately from the tempest and rally\njobs because they can't be backported to all the older stable branches\nlike them (right now, only up to train).\n\nChange-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30\n""}]",0,747546,d8f02715c212cb9ac85eb358ec3f85efc7afa09f,23,3,8,10459,,,0,"Native Zuul v3 version of the grenade jobs

The upgrade pre/post script have been removed, because they are empty.

This change includes a few fixes for the grenade plugin:
- make sure to install mongo-tools when running grenade tests,
  as they use mongodump which is part of that package.
- use sudo also when saving the redis dump file for the target
  logs, as it already happens when the dump for the base logs
  is copied.

The jobs have been ported separately from the tempest and rally
jobs because they can't be backported to all the older stable branches
like them (right now, only up to train).

Change-Id: I73c4c4dee994f13b7411a17f0c5d95ca9c84bd30
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/46/747546/6 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar_upgradetests/post_test_hook.sh', '.zuul.yaml', 'playbooks/legacy/grenade-devstack-zaqar-base/run.yaml', 'playbooks/legacy/grenade-devstack-zaqar-base/post.yaml', 'zaqar_upgradetests/pre_test_hook.sh']",5,5c0d79ca5e979727542985c604a050138327319a,native-zuulv3-migration,,,34,112
openstack%2Fovsdbapp~master~I094dd475bb6956a3c029075ad85dbc15cf59a16c,openstack/ovsdbapp,master,I094dd475bb6956a3c029075ad85dbc15cf59a16c,Only create indices if connection is not running,MERGED,2020-06-01 03:14:16.000000000,2020-09-01 10:43:40.000000000,2020-09-01 10:38:32.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-01 03:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/07c1291c5d4444a4970ab4df23619e6973b5d4b3', 'message': 'Only create indices if connection is not running\n\nAlso adds some better debug logs when creating indexes\nChange-Id: I094dd475bb6956a3c029075ad85dbc15cf59a16c\n'}, {'number': 2, 'created': '2020-06-01 03:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/b973be25bd526afe0247a82cf44e0c5a52e4394c', 'message': 'Only create indices if connection is not running\n\nAlso adds some better debug logs when creating indexes\n\nRelated-Bug: #1881424\nChange-Id: I094dd475bb6956a3c029075ad85dbc15cf59a16c\n'}, {'number': 3, 'created': '2020-06-01 03:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/1f6a5aa343ddddba463c2d57e931a3f5c2e76e86', 'message': 'Only create indices if connection is not running\n\nAlso adds some better debug logs when creating indexes\n\nRelated-Bug: #1881424\nChange-Id: I094dd475bb6956a3c029075ad85dbc15cf59a16c\n'}, {'number': 4, 'created': '2020-06-03 17:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d8fa68030c59085d9bbd65f51d49a2a2d47ae6e7', 'message': 'Only create indices if connection is not running\n\nAlso adds some better debug logs when creating indexes\n\nRelated-Bug: #1881424\nChange-Id: I094dd475bb6956a3c029075ad85dbc15cf59a16c\n'}, {'number': 5, 'created': '2020-06-03 18:03:51.000000000', 'files': ['ovsdbapp/tests/functional/schema/open_vswitch/test_impl_idl.py', 'ovsdbapp/backend/ovs_idl/connection.py', 'ovsdbapp/backend/ovs_idl/__init__.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0320e78c2c1d04118cd10182c2e0c476950ba776', 'message': 'Only create indices if connection is not running\n\nAlso adds some better debug logs when creating indexes\n\nRelated-Bug: #1881424\nChange-Id: I094dd475bb6956a3c029075ad85dbc15cf59a16c\n'}]",3,732081,0320e78c2c1d04118cd10182c2e0c476950ba776,34,6,5,5756,,,0,"Only create indices if connection is not running

Also adds some better debug logs when creating indexes

Related-Bug: #1881424
Change-Id: I094dd475bb6956a3c029075ad85dbc15cf59a16c
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/81/732081/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/connection.py', 'ovsdbapp/backend/ovs_idl/__init__.py']",2,07c1291c5d4444a4970ab4df23619e6973b5d4b3,," if connection.is_running: LOG.info(""Connection already started, not creating indices"") else: self.autocreate_indices() LOG.info(""lookup_table index %s.%s already exists"", table, index_name) LOG.debug(""Created lookup_table index %s.%s"", table, index_name) LOG.info(""schema index %s.%s already exists"", table, index_name) LOG.debug(""Created schema index %s.%s"", table.name, index_name)"," self.autocreate_indices() # index already exists pass LOG.debug(""Created index %s"", index_name) pass # index already exists LOG.debug(""Created index %s"", index_name)",17,12
openstack%2Fcharm-gnocchi~master~I794224b5d0750e100cdb62d1b03140b87e117ea8,openstack/charm-gnocchi,master,I794224b5d0750e100cdb62d1b03140b87e117ea8,Fix storage-ceph-relation-joined error,MERGED,2020-08-29 10:23:21.000000000,2020-09-01 10:42:17.000000000,2020-09-01 10:42:17.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-29 10:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/8d45e824e23c4b4737511676177538cf5c38b669', 'message': ""Fix storage-ceph-relation-joined error\n\nTypeError: 'str' object is not callable\nAfter recent interface change\n\nChange-Id: I794224b5d0750e100cdb62d1b03140b87e117ea8\nCloses-Bug: #1893445\n""}, {'number': 2, 'created': '2020-08-29 10:53:19.000000000', 'files': ['unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/0ee741575c6a6a203c8238a50ef021607d29d00a', 'message': ""Fix storage-ceph-relation-joined error\n\nTypeError: 'str' object is not callable\nAfter recent interface change\n\nChange-Id: I794224b5d0750e100cdb62d1b03140b87e117ea8\nCloses-Bug: #1893445\n""}]",0,748806,0ee741575c6a6a203c8238a50ef021607d29d00a,12,4,2,31289,,,0,"Fix storage-ceph-relation-joined error

TypeError: 'str' object is not callable
After recent interface change

Change-Id: I794224b5d0750e100cdb62d1b03140b87e117ea8
Closes-Bug: #1893445
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/06/748806/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/gnocchi_handlers.py'],1,8d45e824e23c4b4737511676177538cf5c38b669,bug/1893445, key = ceph.key, key = ceph.key(),1,1
openstack%2Ftenks~master~I53d11a484e5e86c5adf803a62eb6fe90e646b3aa,openstack/tenks,master,I53d11a484e5e86c5adf803a62eb6fe90e646b3aa,Add skip list to ansible lint,MERGED,2020-09-01 07:58:01.000000000,2020-09-01 10:31:15.000000000,2020-09-01 10:29:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-01 07:58:01.000000000', 'files': ['.gitignore', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tenks/commit/61f45c596d9b6c72af0d149b0513790f526a5e80', 'message': 'Add skip list to ansible lint\n\nAlso modify gitignore to allow . files to be included and ignore\n.stestr dir\n\nChange-Id: I53d11a484e5e86c5adf803a62eb6fe90e646b3aa\n'}]",2,749201,61f45c596d9b6c72af0d149b0513790f526a5e80,9,3,1,23851,,,0,"Add skip list to ansible lint

Also modify gitignore to allow . files to be included and ignore
.stestr dir

Change-Id: I53d11a484e5e86c5adf803a62eb6fe90e646b3aa
",git fetch https://review.opendev.org/openstack/tenks refs/changes/01/749201/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.ansible-lint']",2,61f45c596d9b6c72af0d149b0513790f526a5e80,ansible-lint-skip,skip_list: - '106' # Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern' - '208' # File permissions not mentioned ,,7,2
openstack%2Ftripleo-upgrade~master~I78410e7d20ff3da8a6beb18767ef022efb1e522e,openstack/tripleo-upgrade,master,I78410e7d20ff3da8a6beb18767ef022efb1e522e,[ffwd] Stop retrying upgrade,MERGED,2020-08-31 10:58:42.000000000,2020-09-01 10:29:15.000000000,2020-08-31 22:06:48.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 10:58:42.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/undercloud_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7fc657c03aa684b942b1f82b5b6eace614de2e22', 'message': '[ffwd] Stop retrying upgrade\n\nRetries were introduced to help with development and also to\nvalidate idempotency of the FFWD code. At this stage we want\nto fail as fast as possible.\n\nChange-Id: I78410e7d20ff3da8a6beb18767ef022efb1e522e\n'}]",0,749028,7fc657c03aa684b942b1f82b5b6eace614de2e22,11,3,1,11166,,,0,"[ffwd] Stop retrying upgrade

Retries were introduced to help with development and also to
validate idempotency of the FFWD code. At this stage we want
to fail as fast as possible.

Change-Id: I78410e7d20ff3da8a6beb18767ef022efb1e522e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/28/749028/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/undercloud_upgrade.yaml']",2,7fc657c03aa684b942b1f82b5b6eace614de2e22,,, retries: 3,0,7
openstack%2Ftripleo-upgrade~master~Iad17835b99efd568b334955a05bfb3fd4566c7f2,openstack/tripleo-upgrade,master,Iad17835b99efd568b334955a05bfb3fd4566c7f2,[ffwd] Support for OSP14,MERGED,2020-08-20 16:06:29.000000000,2020-09-01 10:28:41.000000000,2020-08-31 22:06:49.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-20 16:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/421eb23c52f206dc06a16103f52f8815d2913a68', 'message': 'WIP OSP14\n\nChange-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2\n'}, {'number': 2, 'created': '2020-08-21 09:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3b2e2fe1958515e1d9c6207acbea21075f859985', 'message': 'WIP OSP14\n\nChange-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2\n'}, {'number': 3, 'created': '2020-08-21 15:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a071dbe7a4e3795630772d698b71b7c498dfc066', 'message': 'WIP OSP14\n\nChange-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2\n'}, {'number': 4, 'created': '2020-08-24 17:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/998d596e3bba2f1dbc059b07f3fababf34fcb8ce', 'message': 'WIP OSP14\n\nChange-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2\n'}, {'number': 5, 'created': '2020-08-31 10:58:42.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/296b4c5ecf461a4b79519f892f1c527cba8d8a62', 'message': ""[ffwd] Support for OSP14\n\nThere are extra packages present in dependancy chain on OSP14.\nWe ensure we don't remove python2-chardet before leapp.\n\nChange-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2\n""}]",0,747237,296b4c5ecf461a4b79519f892f1c527cba8d8a62,16,2,5,11166,,,0,"[ffwd] Support for OSP14

There are extra packages present in dependancy chain on OSP14.
We ensure we don't remove python2-chardet before leapp.

Change-Id: Iad17835b99efd568b334955a05bfb3fd4566c7f2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/37/747237/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,421eb23c52f206dc06a16103f52f8815d2913a68,, -python2-chardet,,1,0
openstack%2Fheat~master~I70e341c344d6254173ad4519276626230087263a,openstack/heat,master,I70e341c344d6254173ad4519276626230087263a,Lazily cache parsed value of list/json parameters,MERGED,2020-07-25 11:38:58.000000000,2020-09-01 10:28:16.000000000,2020-09-01 10:26:27.000000000,"[{'_account_id': 4257}, {'_account_id': 7130}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-25 11:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ea63b2b946b7ded530860a5c7905c90c4079dba4', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\n'}, {'number': 2, 'created': '2020-07-25 12:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e96a67623b74e5c8570a26f643960aa0a46665d1', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 3, 'created': '2020-07-25 13:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9a6b6a707cbc3b9c73a38526ae673ffc289b2141', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 4, 'created': '2020-07-26 12:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/28dcde7ffd3e8948eb4714bbfac99b2f41ce59f5', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 5, 'created': '2020-07-26 17:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4a7494aece7519066fb8184e7820d291da770899', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 6, 'created': '2020-07-26 17:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f18f72d2b187ce45e5900037ca05745abbf1c622', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 7, 'created': '2020-07-27 11:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/aa76b8ae93745a77cc65bc5418a7941d41ad0ead', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 8, 'created': '2020-07-27 11:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a1489ddeb5eec119c36c362fe77de6fccc865103', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 9, 'created': '2020-07-27 14:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fb5d4032b73e1c78debdc06512349574b9c4851f', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 10, 'created': '2020-07-27 14:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9ee2411738949b194a393757cf63f10affbc4b2c', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 11, 'created': '2020-07-27 14:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e145a8a602d6636c94514196b3996f9ac241d2ac', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 12, 'created': '2020-07-27 14:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/baf69847d6d29ece0e1ff8a9bdf2178136e8297f', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 13, 'created': '2020-07-27 20:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/47aaaa8b84d3fa37dca4bf48facffc74449cde71', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 14, 'created': '2020-07-27 20:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/11e6005a3accd5ca369ddd6a95d3daa2a5f96cb1', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 15, 'created': '2020-07-27 21:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2577d9fb3a4e8a3de47e3a2d5bf8be0b5f5c1cad', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 16, 'created': '2020-07-27 21:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0709adf080446b09a80e6ae6c24d9dfd7cc98e35', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 17, 'created': '2020-07-27 22:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3bc72560435bbf23e8965ee173d87430ab3c7a9f', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 18, 'created': '2020-07-27 22:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/aa603e680fa7464b08493d71c55a4d472b9790e0', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 19, 'created': '2020-07-27 23:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/80b8cea0e2774efe268b31521e3a737c14943d92', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 20, 'created': '2020-07-28 11:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fed25f124dc124c1966f3edb9fb1f2f2bbb5a86c', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 21, 'created': '2020-07-28 12:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a2ce93ca9c9c1dd704c01f80da6c999667a1e9d2', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 22, 'created': '2020-07-28 14:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/136900423d2bd063aaf8f3135664c7e71231b0d8', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 23, 'created': '2020-07-28 14:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9dc90f56d21bf432173897be79c0eac8882f0665', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 24, 'created': '2020-07-28 15:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0e4e60478d7188f1a2058abfea71148f7fa204ad', 'message': 'Print the json string in the trace to assist troubleshooting\n\nPrint the json string in the trace to assist troubleshooting\nas having close to 3000 json objects in the templates make this\nerror message close to impossible to troubleshoot without\nknowing which part of the template triggers this error .\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 25, 'created': '2020-07-28 16:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0d28dfff49e65c683030b985b0a314d3330ecb49', 'message': 'Lazily cache parsed value of list/json parameters\n\nParsing the value of JSON parameters at the time we create them (or\nupdate the default value) results in exceptions occurring while creating\nthe Stack object, that are then not caught and transformed. The result\nis an HTTP 500 Internal Error reported by the API, with an unhelpful\nerror message.\n\nBy not parsing the JSON until it is needed, we ensure that any errors\nwill occur during validation, where errors are appropriately transformed\n(to StackValidationFailed) and annotated with the necessary information\nto help the user determine the source.\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 26, 'created': '2020-07-28 16:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ffd76d686c6a8e543496226f2d94422c9d7f06b7', 'message': 'Lazily cache parsed value of list/json parameters\n\nParsing the value of JSON parameters at the time we create them (or\nupdate the default value) results in exceptions occurring while creating\nthe Stack object, that are then not caught and transformed. The result\nis an HTTP 500 Internal Error reported by the API, with an unhelpful\nerror message.\n\nBy not parsing the JSON until it is needed, we ensure that any errors\nwill occur during validation, where errors are appropriately transformed\n(to StackValidationFailed) and annotated with the necessary information\nto help the user determine the source.\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 27, 'created': '2020-07-28 17:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4c6f185482cac0c56b0b611d4d59b243d039533b', 'message': 'Lazily cache parsed value of list/json parameters\n\nParsing the value of JSON parameters at the time we create them (or\nupdate the default value) results in exceptions occurring while creating\nthe Stack object, that are then not caught and transformed. The result\nis an HTTP 500 Internal Error reported by the API, with an unhelpful\nerror message.\n\nBy not parsing the JSON until it is needed, we ensure that any errors\nwill occur during validation, where errors are appropriately transformed\n(to StackValidationFailed) and annotated with the necessary information\nto help the user determine the source.\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 28, 'created': '2020-07-28 17:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3f5e15ecf6b86f5f974ea63fb08720bca0c853c4', 'message': 'Lazily cache parsed value of list/json parameters\n\nParsing the value of JSON parameters at the time we create them (or\nupdate the default value) results in exceptions occurring while creating\nthe Stack object, that are then not caught and transformed. The result\nis an HTTP 500 Internal Error reported by the API, with an unhelpful\nerror message.\n\nBy not parsing the JSON until it is needed, we ensure that any errors\nwill occur during validation, where errors are appropriately transformed\n(to StackValidationFailed) and annotated with the necessary information\nto help the user determine the source.\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 29, 'created': '2020-08-07 19:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/268dddf1585f5e333b936437b6f2c8ac18fd8f88', 'message': 'Lazily cache parsed value of list/json parameters\n\nParsing the value of JSON parameters at the time we create them (or\nupdate the default value) results in exceptions occurring while creating\nthe Stack object, that are then not caught and transformed. The result\nis an HTTP 500 Internal Error reported by the API, with an unhelpful\nerror message.\n\nBy not parsing the JSON until it is needed, we ensure that any errors\nwill occur during validation, where errors are appropriately transformed\n(to StackValidationFailed) and annotated with the necessary information\nto help the user determine the source.\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 30, 'created': '2020-08-27 15:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2fb318f926617c574e11ba6ede4a1d08cc1463f5', 'message': 'Lazily cache parsed value of list/json parameters\n\nParsing the value of JSON parameters at the time we create them (or\nupdate the default value) results in exceptions occurring while creating\nthe Stack object, that are then not caught and transformed. The result\nis an HTTP 500 Internal Error reported by the API, with an unhelpful\nerror message.\n\nBy not parsing the JSON until it is needed, we ensure that any errors\nwill occur during validation, where errors are appropriately transformed\n(to StackValidationFailed) and annotated with the necessary information\nto help the user determine the source.\n\nDepends-On: I02c65065debabd6f9608169a18fe8e31dd765ca2\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}, {'number': 31, 'created': '2020-08-28 03:54:49.000000000', 'files': ['heat/tests/test_parameters.py', 'heat/engine/parameters.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b603470a1207fcbc9ee30f3a3b4b457a9f83a03a', 'message': 'Lazily cache parsed value of list/json parameters\n\nParsing the value of JSON parameters at the time we create them (or\nupdate the default value) results in exceptions occurring while creating\nthe Stack object, that are then not caught and transformed. The result\nis an HTTP 500 Internal Error reported by the API, with an unhelpful\nerror message.\n\nBy not parsing the JSON until it is needed, we ensure that any errors\nwill occur during validation, where errors are appropriately transformed\n(to StackValidationFailed) and annotated with the necessary information\nto help the user determine the source.\n\nDepends-On: https://review.opendev.org/#/c/748359/\n\nChange-Id: I70e341c344d6254173ad4519276626230087263a\nStory: 2007957\nTask: 40443\n'}]",17,743029,b603470a1207fcbc9ee30f3a3b4b457a9f83a03a,83,9,31,7130,,,0,"Lazily cache parsed value of list/json parameters

Parsing the value of JSON parameters at the time we create them (or
update the default value) results in exceptions occurring while creating
the Stack object, that are then not caught and transformed. The result
is an HTTP 500 Internal Error reported by the API, with an unhelpful
error message.

By not parsing the JSON until it is needed, we ensure that any errors
will occur during validation, where errors are appropriately transformed
(to StackValidationFailed) and annotated with the necessary information
to help the user determine the source.

Depends-On: https://review.opendev.org/#/c/748359/

Change-Id: I70e341c344d6254173ad4519276626230087263a
Story: 2007957
Task: 40443
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/743029/3 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/parameters.py'],1,ea63b2b946b7ded530860a5c7905c90c4079dba4,debugjson," message = _('Value %s must be valid JSON: %s') % ( val, err )", message = _('Value must be valid JSON: %s') % err,1,1
openstack%2Fopenstack-ansible-plugins~master~Ic725bf6e99af11bee6a4c4a5c8f409f0675ce8bf,openstack/openstack-ansible-plugins,master,Ic725bf6e99af11bee6a4c4a5c8f409f0675ce8bf,Replace deprecated imp module with importlib,MERGED,2020-08-30 08:43:37.000000000,2020-09-01 10:21:02.000000000,2020-09-01 10:19:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28182}, {'_account_id': 30356}]","[{'number': 1, 'created': '2020-08-30 08:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fee233b7a6b7c2df87e1360c648ae03edfe767d5', 'message': 'Replace deprecated imp module with importlib\n\nThe imp module is deprecated since version 3.4, so we should\nuse importlib wich is recommended replacement.\n\nChange-Id: Ic725bf6e99af11bee6a4c4a5c8f409f0675ce8bf\n'}, {'number': 2, 'created': '2020-08-31 09:35:05.000000000', 'files': ['strategy/linear.py', 'connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a695e3429c4a657bd4405628ef6d14bebe1fe007', 'message': 'Replace deprecated imp module with importlib\n\nThe imp module is deprecated since version 3.4, so we should\nuse importlib wich is recommended replacement.\n\nChange-Id: Ic725bf6e99af11bee6a4c4a5c8f409f0675ce8bf\n'}]",1,748840,a695e3429c4a657bd4405628ef6d14bebe1fe007,12,5,2,28619,,,0,"Replace deprecated imp module with importlib

The imp module is deprecated since version 3.4, so we should
use importlib wich is recommended replacement.

Change-Id: Ic725bf6e99af11bee6a4c4a5c8f409f0675ce8bf
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/40/748840/1 && git format-patch -1 --stdout FETCH_HEAD,"['strategy/linear.py', 'connection/ssh.py']",2,fee233b7a6b7c2df87e1360c648ae03edfe767d5,,"import importlib.utilimport sysdef load_module(name, path): module_spec = importlib.util.spec_from_file_location( name, path ) module = importlib.util.module_from_spec(module_spec) module_spec.loader.exec_module(module) return moduleSSH = load_module(",import impSSH = imp.load_source(,23,4
openstack%2Fzaqar~master~I31dae00091b0de7bf723c086b1c81d5500601dd3,openstack/zaqar,master,I31dae00091b0de7bf723c086b1c81d5500601dd3,Native Zuul v3 version of tempest and rally jobs,MERGED,2020-08-22 21:53:20.000000000,2020-09-01 10:20:56.000000000,2020-09-01 10:16:40.000000000,"[{'_account_id': 8846}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 21:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d337536f21b186741332005e6173e9f82fec097c', 'message': 'Native Zuul v3 version of tempest and rally jobs\n\nUse the native Zuul v3 jobs defined in the zaqar-tempest-plugin\nrepository, so that they can be used on all branches.\n\nUse the new rally-task-zaqar jobs provided by rally-openstack.\n\nClean up the legacy files, but leave the hooks which are also\nused by the grenade jobs. They will be cleaned separately.\n\nDepends-On: https://review.opendev.org/747543\nChange-Id: I31dae00091b0de7bf723c086b1c81d5500601dd3\n'}, {'number': 2, 'created': '2020-08-22 23:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/951c0200eb374c2b71da8b164718b9c361099156', 'message': 'Native Zuul v3 version of tempest and rally jobs\n\nUse the native Zuul v3 jobs defined in the zaqar-tempest-plugin\nrepository, so that they can be used on all branches.\n\nUse rally-task-zaqar provided by rally-openstack\nas base for zaqar-rally.\n\nClean up the legacy files, but leave the hooks which are also\nused by the grenade jobs. They will be cleaned separately.\n\nDepends-On: https://review.opendev.org/747543\nChange-Id: I31dae00091b0de7bf723c086b1c81d5500601dd3\n'}, {'number': 3, 'created': '2020-08-23 00:00:10.000000000', 'files': ['playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml', 'playbooks/legacy/tempest-devstack-zaqar-base/run.yaml', 'playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml', '.zuul.yaml', 'playbooks/legacy/tempest-devstack-zaqar-base/run-ipv6.yaml', 'playbooks/legacy/tempest-devstack-zaqar-base/post.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/aeb81e2274cf9ab328974ca868bada21bed03658', 'message': 'Native Zuul v3 version of tempest and rally jobs\n\nUse the native Zuul v3 jobs defined in the zaqar-tempest-plugin\nrepository, so that they can be used on all branches.\n\nUse rally-task-zaqar provided by rally-openstack\nas base for zaqar-rally.\n\nClean up the legacy files, but leave the hooks which are also\nused by the grenade jobs. They will be cleaned separately.\n\nDepends-On: https://review.opendev.org/747543\nChange-Id: I31dae00091b0de7bf723c086b1c81d5500601dd3\n'}]",0,747545,aeb81e2274cf9ab328974ca868bada21bed03658,16,3,3,10459,,,0,"Native Zuul v3 version of tempest and rally jobs

Use the native Zuul v3 jobs defined in the zaqar-tempest-plugin
repository, so that they can be used on all branches.

Use rally-task-zaqar provided by rally-openstack
as base for zaqar-rally.

Clean up the legacy files, but leave the hooks which are also
used by the grenade jobs. They will be cleaned separately.

Depends-On: https://review.opendev.org/747543
Change-Id: I31dae00091b0de7bf723c086b1c81d5500601dd3
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/45/747545/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml', 'playbooks/legacy/tempest-devstack-zaqar-base/run.yaml', 'playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml', '.zuul.yaml', 'playbooks/legacy/tempest-devstack-zaqar-base/run-ipv6.yaml', 'playbooks/legacy/tempest-devstack-zaqar-base/post.yaml']",6,d337536f21b186741332005e6173e9f82fec097c,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,9,507
openstack%2Fkayobe~master~Id636f78c61237fb27fa65fa3d4b3fc1a4cf0ba6a,openstack/kayobe,master,Id636f78c61237fb27fa65fa3d4b3fc1a4cf0ba6a,docs: Move configuration reference to subpath,MERGED,2020-08-27 19:40:29.000000000,2020-09-01 10:12:39.000000000,2020-09-01 10:09:26.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-27 19:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e1d02fa5b823f170fc8905dd404210ca706bd449', 'message': 'docs: Move configuration reference to subpath\n\nThis allows us to add configuration scenarios.\n\nChange-Id: Id636f78c61237fb27fa65fa3d4b3fc1a4cf0ba6a\nStory: 2004360\nTask: 40777\n'}, {'number': 2, 'created': '2020-08-27 19:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3855a69c134eac8d517200674a8d0f5af0d061c9', 'message': 'docs: Move configuration reference to subpath\n\nThis allows us to add configuration scenarios.\n\nChange-Id: Id636f78c61237fb27fa65fa3d4b3fc1a4cf0ba6a\nStory: 2004360\nTask: 40777\n'}, {'number': 3, 'created': '2020-08-28 07:42:16.000000000', 'files': ['doc/source/configuration/reference/nova-cells.rst', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/conf.py', 'doc/source/configuration/reference/physical-network.rst', 'doc/source/configuration/reference/hosts.rst', 'doc/source/configuration/reference/index.rst', 'doc/test/redirect-tests.txt', 'doc/source/configuration/reference/docker-registry.rst', 'doc/source/configuration/reference/network.rst', 'doc/source/configuration/index.rst', 'doc/source/configuration/reference/seed-custom-containers.rst', 'doc/source/configuration/reference/kolla.rst', 'doc/source/configuration/reference/ansible.rst', 'doc/source/configuration/reference/ironic-python-agent.rst', 'doc/requirements.txt', 'doc/source/configuration/reference/bifrost.rst', 'doc/source/configuration/reference/kayobe.rst', 'tox.ini', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/354113c20b419f478d4d6919ebde69aa8d2da6af', 'message': 'docs: Move configuration reference to subpath\n\nThis allows us to add configuration scenarios.\n\nChange-Id: Id636f78c61237fb27fa65fa3d4b3fc1a4cf0ba6a\nStory: 2004360\nTask: 40777\n'}]",0,748523,354113c20b419f478d4d6919ebde69aa8d2da6af,14,5,3,14826,,,0,"docs: Move configuration reference to subpath

This allows us to add configuration scenarios.

Change-Id: Id636f78c61237fb27fa65fa3d4b3fc1a4cf0ba6a
Story: 2004360
Task: 40777
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/748523/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/nova-cells.rst', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/conf.py', 'doc/source/configuration/reference/physical-network.rst', 'doc/source/configuration/reference/hosts.rst', 'doc/source/configuration/reference/index.rst', 'doc/test/redirect-tests.txt', 'doc/source/configuration/reference/docker-registry.rst', 'doc/source/configuration/reference/network.rst', 'doc/source/configuration/index.rst', 'doc/source/configuration/reference/seed-custom-containers.rst', 'doc/source/configuration/scenarios/index.rst', 'doc/source/configuration/reference/kolla.rst', 'doc/source/configuration/reference/ansible.rst', 'doc/source/configuration/reference/ironic-python-agent.rst', 'doc/requirements.txt', 'doc/source/configuration/reference/bifrost.rst', 'doc/source/configuration/reference/kayobe.rst', 'tox.ini', 'doc/source/_extra/.htaccess', 'doc/source/configuration/scenarios/all-in-one/index.rst']",21,e1d02fa5b823f170fc8905dd404210ca706bd449,,=================== All in one scenario =================== Prerequisites ============= Steps ===== ,,96,13
openstack%2Fnova~master~I552743286c70aa69f75880e9ccc3b896daa9115e,openstack/nova,master,I552743286c70aa69f75880e9ccc3b896daa9115e,fakelibvirt: Remove nova-network remnants,MERGED,2020-06-22 17:22:32.000000000,2020-09-01 09:55:52.000000000,2020-09-01 09:53:05.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-22 17:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48cf0f1e4a947c87b723facdee051b239dacb4a5', 'message': ""fakelibvirt: Remove nova-network remnants\n\nWe haven't used the nwfilter stuff in libvirt since we removed support\nfor firewalls in change I2dccf1610d6cbbb076fda393f1ef695d0be84b13.\nThere's no reason to keep the libvirt stubs around.\n\nChange-Id: I552743286c70aa69f75880e9ccc3b896daa9115e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-05 09:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1035b622e65c81224b241a143d4218fbe111efc', 'message': ""fakelibvirt: Remove nova-network remnants\n\nWe haven't used the nwfilter stuff in libvirt since we removed support\nfor firewalls in change I2dccf1610d6cbbb076fda393f1ef695d0be84b13.\nThere's no reason to keep the libvirt stubs around.\n\nChange-Id: I552743286c70aa69f75880e9ccc3b896daa9115e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-10 15:19:59.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b6a93ae3e3ddb99cdf3e12e59f8614a4ea5cb58', 'message': ""fakelibvirt: Remove nova-network remnants\n\nWe haven't used the nwfilter stuff in libvirt since we removed support\nfor firewalls in change I2dccf1610d6cbbb076fda393f1ef695d0be84b13.\nThere's no reason to keep the libvirt stubs around.\n\nChange-Id: I552743286c70aa69f75880e9ccc3b896daa9115e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,737329,9b6a93ae3e3ddb99cdf3e12e59f8614a4ea5cb58,31,11,3,15334,,,0,"fakelibvirt: Remove nova-network remnants

We haven't used the nwfilter stuff in libvirt since we removed support
for firewalls in change I2dccf1610d6cbbb076fda393f1ef695d0be84b13.
There's no reason to keep the libvirt stubs around.

Change-Id: I552743286c70aa69f75880e9ccc3b896daa9115e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/737329/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",3,48cf0f1e4a947c87b723facdee051b239dacb4a5,trivial,,"class NWFilter(object): def __init__(self, connection, xml): self._connection = connection self._xml = xml self._parse_xml(xml) def _parse_xml(self, xml): tree = etree.fromstring(xml) root = tree.find('.') self._name = root.get('name') def undefine(self): self._connection._remove_filter(self) self._nwfilters = {} def _add_filter(self, nwfilter): self._nwfilters[nwfilter._name] = nwfilter def _remove_filter(self, nwfilter): del self._nwfilters[nwfilter._name] def nwfilterLookupByName(self, name): try: return self._nwfilters[name] except KeyError: raise make_libvirtError( libvirtError, ""no nwfilter with matching name %s"" % name, error_code=VIR_ERR_NO_NWFILTER, error_domain=VIR_FROM_NWFILTER) def nwfilterDefineXML(self, xml): nwfilter = NWFilter(self, xml) self._add_filter(nwfilter) virNWFilter = NWFilter",0,58
openstack%2Fbifrost~master~I3293a554ad4af76b47c73fe820e1809f561aefef,openstack/bifrost,master,I3293a554ad4af76b47c73fe820e1809f561aefef,ansible-lint: fix error 602,MERGED,2020-08-28 10:05:35.000000000,2020-09-01 09:15:41.000000000,2020-09-01 09:12:16.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 10:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/725b623ea57dcaa1df82b7d15eb85aee8e523ffe', 'message': ""ansible-lint: fix error 602\n\nDon't compare to empty string\n\nChange-Id: I3293a554ad4af76b47c73fe820e1809f561aefef\n""}, {'number': 2, 'created': '2020-08-28 11:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ce51c9c2657e1a5741483cb299e4851a647f4298', 'message': ""ansible-lint: fix error 602\n\nDon't compare to empty string\n\nChange-Id: I3293a554ad4af76b47c73fe820e1809f561aefef\n""}, {'number': 3, 'created': '2020-08-28 12:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/11a495ea595017884fcb220cf98b09297dae6790', 'message': ""ansible-lint: fix error 602\n\nDon't compare to empty string\n\nChange-Id: I3293a554ad4af76b47c73fe820e1809f561aefef\n""}, {'number': 4, 'created': '2020-08-28 13:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8c4da91d6bfd075000f778723f0d205fa70911d5', 'message': ""ansible-lint: fix error 602\n\nDon't compare to empty string\n\nChange-Id: I3293a554ad4af76b47c73fe820e1809f561aefef\n""}, {'number': 5, 'created': '2020-08-31 08:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/55c0ab12981b1fdeaccde7c96797e8996afdea1f', 'message': ""ansible-lint: fix error 602\n\nDon't compare to empty string\n\nChange-Id: I3293a554ad4af76b47c73fe820e1809f561aefef\n""}, {'number': 6, 'created': '2020-08-31 12:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/da98eafad2f62389d65259b8297df09831258109', 'message': ""ansible-lint: fix error 602\n\nDon't compare to empty string\n\nChange-Id: I3293a554ad4af76b47c73fe820e1809f561aefef\n""}, {'number': 7, 'created': '2020-08-31 15:50:32.000000000', 'files': ['playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/validate.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/hw_types.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2e6ce4165e01e3fb62656b5fb3816ef8688f4aac', 'message': ""ansible-lint: fix error 602\n\nDon't compare to empty string\n\nChange-Id: I3293a554ad4af76b47c73fe820e1809f561aefef\n""}]",0,748597,2e6ce4165e01e3fb62656b5fb3816ef8688f4aac,20,3,7,23851,,,0,"ansible-lint: fix error 602

Don't compare to empty string

Change-Id: I3293a554ad4af76b47c73fe820e1809f561aefef
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/97/748597/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/validate.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/hw_types.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', '.ansible-lint']",11,725b623ea57dcaa1df82b7d15eb85aee8e523ffe,no-empty-check,, - '602' # Don't compare to empty string,37,24
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ie8e6b95f531fef9c9fe04d6d8f692d599aa5ff30,openstack/openstack-ansible-os_cloudkitty,master,Ie8e6b95f531fef9c9fe04d6d8f692d599aa5ff30,Use the utility host for db setup tasks,MERGED,2020-08-20 14:30:17.000000000,2020-09-01 08:59:21.000000000,2020-09-01 08:57:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 14:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/2a5cfb0b06a7c15ea3b7f6f2c5a96581cf455ece', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ie8e6b95f531fef9c9fe04d6d8f692d599aa5ff30\n'}, {'number': 2, 'created': '2020-08-27 15:09:16.000000000', 'files': ['tasks/main.yml', 'tests/inventory', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/18ca2f1618006ef6a3c73e448ea347b0d00f25a2', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ie8e6b95f531fef9c9fe04d6d8f692d599aa5ff30\n'}]",0,747180,18ca2f1618006ef6a3c73e448ea347b0d00f25a2,16,4,2,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ie8e6b95f531fef9c9fe04d6d8f692d599aa5ff30
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/80/747180/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,2a5cfb0b06a7c15ea3b7f6f2c5a96581cf455ece,bind-to-mgmt,"cloudkitty_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" cloudkitty_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((cloudkitty_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""cloudkitty_galera_port: 3306 mysql+pymysql://{{ cloudkitty_galera_user }}:{{ cloudkitty_container_mysql_password }}@{{ cloudkitty_galera_address }}:{{ cloudkitty_galera_port }}/{{ cloudkitty_galera_database }}?charset=utf8","cloudkitty_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}"" mysql+pymysql://{{ cloudkitty_galera_user }}:{{ cloudkitty_container_mysql_password }}@{{ cloudkitty_galera_address }}/{{ cloudkitty_galera_database }}?charset=utf8",13,2
openstack%2Fbifrost~master~I6c91afca04544e9b2b11b563cf43d5048c13cc67,openstack/bifrost,master,I6c91afca04544e9b2b11b563cf43d5048c13cc67,ansible-lint: fix error 504,MERGED,2020-08-25 13:04:41.000000000,2020-09-01 08:59:09.000000000,2020-09-01 08:56:41.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c7efb83569c4e496066b11fd52a777fff92c86b3', 'message': ""ansible-lint: fix error 206\n\nDo not use 'local_action', use 'delegate_to: localhost'\n\nChange-Id: I6c91afca04544e9b2b11b563cf43d5048c13cc67\n""}, {'number': 2, 'created': '2020-08-25 13:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1c7157fcb618f02bac26b4dfc98b1f59174680bc', 'message': ""ansible-lint: fix error 504\n\nDo not use 'local_action', use 'delegate_to: localhost'\n\nChange-Id: I6c91afca04544e9b2b11b563cf43d5048c13cc67\n""}, {'number': 3, 'created': '2020-08-28 07:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fbdc239b4f3cb11486105fb8651027a99bdaa873', 'message': ""ansible-lint: fix error 504\n\nDo not use 'local_action', use 'delegate_to: localhost'\n\nChange-Id: I6c91afca04544e9b2b11b563cf43d5048c13cc67\n""}, {'number': 4, 'created': '2020-08-31 12:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5e578b039977247c68b1a6cc0f3d0a717af0df4c', 'message': ""ansible-lint: fix error 504\n\nDo not use 'local_action', use 'delegate_to: localhost'\n\nChange-Id: I6c91afca04544e9b2b11b563cf43d5048c13cc67\n""}, {'number': 5, 'created': '2020-08-31 15:50:26.000000000', 'files': ['playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/414053634d145436e383224b689d7b76e09749ba', 'message': ""ansible-lint: fix error 504\n\nDo not use 'local_action', use 'delegate_to: localhost'\n\nChange-Id: I6c91afca04544e9b2b11b563cf43d5048c13cc67\n""}]",0,747925,414053634d145436e383224b689d7b76e09749ba,16,4,5,23851,,,0,"ansible-lint: fix error 504

Do not use 'local_action', use 'delegate_to: localhost'

Change-Id: I6c91afca04544e9b2b11b563cf43d5048c13cc67
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/25/747925/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', '.ansible-lint']",3,c7efb83569c4e496066b11fd52a777fff92c86b3,no-local-action,," - '504' # Do not use 'local_action', use 'delegate_to: localhost'",12,5
openstack%2Fbifrost~master~I7e8616e835bbbe7500b0aae5b1b985ef5d471403,openstack/bifrost,master,I7e8616e835bbbe7500b0aae5b1b985ef5d471403,ansible-lint: fix error 206,MERGED,2020-08-25 09:49:28.000000000,2020-09-01 08:52:46.000000000,2020-09-01 08:50:04.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 09:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/95d642f6cebd027da8289c0cc39ac1eceabb83b7', 'message': 'ansible-lint: fix error 206\n\nVariables should have spaces before and after: {{ var_name }}\n\nChange-Id: I7e8616e835bbbe7500b0aae5b1b985ef5d471403\n'}, {'number': 2, 'created': '2020-08-28 07:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e5957e1733786bce898b0f46521f990cdbeac9f3', 'message': 'ansible-lint: fix error 206\n\nVariables should have spaces before and after: {{ var_name }}\n\nChange-Id: I7e8616e835bbbe7500b0aae5b1b985ef5d471403\n'}, {'number': 3, 'created': '2020-08-31 12:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/446afff5d490aa571f700bed5de3921baf939769', 'message': 'ansible-lint: fix error 206\n\nVariables should have spaces before and after: {{ var_name }}\n\nChange-Id: I7e8616e835bbbe7500b0aae5b1b985ef5d471403\n'}, {'number': 4, 'created': '2020-08-31 14:59:11.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/cleanup-deployment-images.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-create-bootable-image/tasks/create_bootable_image.yml', 'playbooks/roles/bifrost-test-dhcp/tasks/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0eee2d04835a84598aca2cf8bfb5cb1025ea8b76', 'message': 'ansible-lint: fix error 206\n\nVariables should have spaces before and after: {{ var_name }}\n\nChange-Id: I7e8616e835bbbe7500b0aae5b1b985ef5d471403\n'}]",0,747883,0eee2d04835a84598aca2cf8bfb5cb1025ea8b76,17,4,4,23851,,,0,"ansible-lint: fix error 206

Variables should have spaces before and after: {{ var_name }}

Change-Id: I7e8616e835bbbe7500b0aae5b1b985ef5d471403
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/83/747883/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/cleanup-deployment-images.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-create-bootable-image/tasks/create_bootable_image.yml', 'playbooks/roles/bifrost-test-dhcp/tasks/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml']",14,95d642f6cebd027da8289c0cc39ac1eceabb83b7,space-final-frontier," nics: ""{{ nics }}"""," nics: ""{{nics}}""",72,73
openstack%2Fopenstack-ansible-lxc_container_create~master~Ib4b972a76bb63dba90d024f452724fec19411b87,openstack/openstack-ansible-lxc_container_create,master,Ib4b972a76bb63dba90d024f452724fec19411b87,Remove obosletd lxc_container_interface variable,MERGED,2020-07-01 20:28:00.000000000,2020-09-01 08:41:14.000000000,2020-09-01 08:38:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-01 20:28:00.000000000', 'files': ['vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/gentoo.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/4153583bc4f3ce399985e1275e72b00f7232c625', 'message': 'Remove obosletd lxc_container_interface variable\n\nThese variables are not used anywhere, so no need to carry them\n\nChange-Id: Ib4b972a76bb63dba90d024f452724fec19411b87\n'}]",0,738934,4153583bc4f3ce399985e1275e72b00f7232c625,10,4,1,28619,,,0,"Remove obosletd lxc_container_interface variable

These variables are not used anywhere, so no need to carry them

Change-Id: Ib4b972a76bb63dba90d024f452724fec19411b87
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/34/738934/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/gentoo.yml', 'vars/suse.yml']",5,4153583bc4f3ce399985e1275e72b00f7232c625,cleanup,,"# Note this is a used in an iterable and requires the <item.value.interface> variable # The container interface variable is a a default object that assume the # Ansible iterator type is `with_dict`. lxc_container_interface: suse-interface.j2 lxc_container_route_interface: suse-routes.j2 lxc_container_default_route_interfaces: ""/etc/sysconfig/network/ifroute-{{ item.value.interface }}"" lxc_container_default_interface: ""/etc/sysconfig/network/ifcfg-eth0"" # Note this is a used in an iterable and requires the <item.value.interface> variable lxc_container_interface_target: ""/etc/sysconfig/network/ifcfg-{{ item.value.interface }}"" ",0,36
openstack%2Fmasakari~master~I54a4f398a06c61e0f6f8f3efd3e4b6214bca756b,openstack/masakari,master,I54a4f398a06c61e0f6f8f3efd3e4b6214bca756b,Fix CA file for nova client,MERGED,2020-07-23 10:40:56.000000000,2020-09-01 08:27:30.000000000,2020-08-29 13:55:32.000000000,"[{'_account_id': 16532}, {'_account_id': 22348}, {'_account_id': 22437}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-07-23 10:40:56.000000000', 'files': ['masakari/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/3bd82c776c91bdd1caee474f3fc9cda18927da7f', 'message': 'Fix CA file for nova client\n\nIf a custom CA file is configured via nova_ca_certificates_file,\ncurrently communication with Keystone will fail, since the session is\nnot created using this CA file. The same is true for nova_api_insecure.\n\nThis change fixes the issue by using a keystoneauth session loader.\n\nCloses-Bug: #1873736\n\nChange-Id: I54a4f398a06c61e0f6f8f3efd3e4b6214bca756b\n'}]",0,742634,3bd82c776c91bdd1caee474f3fc9cda18927da7f,14,7,1,14826,,,0,"Fix CA file for nova client

If a custom CA file is configured via nova_ca_certificates_file,
currently communication with Keystone will fail, since the session is
not created using this CA file. The same is true for nova_api_insecure.

This change fixes the issue by using a keystoneauth session loader.

Closes-Bug: #1873736

Change-Id: I54a4f398a06c61e0f6f8f3efd3e4b6214bca756b
",git fetch https://review.opendev.org/openstack/masakari refs/changes/34/742634/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/compute/nova.py'],1,3bd82c776c91bdd1caee474f3fc9cda18927da7f,bug/1873736,"import keystoneauth1.loading.session session_loader = keystoneauth1.loading.session.Session() keystone_session = session_loader.load_from_options( auth=auth, cacert=CONF.nova_ca_certificates_file, insecure=CONF.nova_api_insecure)",import keystoneauth1.session keystone_session = keystoneauth1.session.Session(auth=auth),5,2
openstack%2Fkolla-ansible~master~I698f7107b286a506ce745729e3825ba72a7fd6d8,openstack/kolla-ansible,master,I698f7107b286a506ce745729e3825ba72a7fd6d8,DNM: test ironic backend TLS,ABANDONED,2020-08-24 08:22:50.000000000,2020-09-01 08:26:47.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-08-24 08:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f759df334041c440fc0dc5f28a84bae10e43fa42', 'message': 'DNM: test ironic backend TLS\n\nChange-Id: I698f7107b286a506ce745729e3825ba72a7fd6d8\n'}, {'number': 2, 'created': '2020-08-28 21:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78c0615dde3e748482e0bff16e3fef4180bc9c30', 'message': 'DNM: test ironic backend TLS\n\nChange-Id: I698f7107b286a506ce745729e3825ba72a7fd6d8\n'}, {'number': 3, 'created': '2020-08-29 15:18:31.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a457722bc91efeece6f985ca8979a5c94238ab93', 'message': 'DNM: test ironic backend TLS\n\nChange-Id: I698f7107b286a506ce745729e3825ba72a7fd6d8\n'}]",0,747639,a457722bc91efeece6f985ca8979a5c94238ab93,14,4,3,14826,,,0,"DNM: test ironic backend TLS

Change-Id: I698f7107b286a506ce745729e3825ba72a7fd6d8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/747639/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,f759df334041c440fc0dc5f28a84bae10e43fa42,,, templates: - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-victoria-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-centos8-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8-source-ceph-ansible - kolla-ansible-ubuntu-source-ceph-ansible - kolla-ansible-centos8-source-upgrade-ceph-ansible - kolla-ansible-ubuntu-source-upgrade-ceph-ansible - kolla-ansible-centos8-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,1,46
openstack%2Fcharm-rabbitmq-server~master~I04eabafcbb1000991b6ee3c8e7bc481903c3fe35,openstack/charm-rabbitmq-server,master,I04eabafcbb1000991b6ee3c8e7bc481903c3fe35,Fix blocked 'nrpe' after test bundle deployment,MERGED,2020-08-29 10:13:29.000000000,2020-09-01 08:19:06.000000000,2020-09-01 08:19:06.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-29 10:13:29.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ba5929e7330fe940f10f3b8a90d9a011c6fd300f', 'message': ""Fix blocked 'nrpe' after test bundle deployment\n\nSince https://git.launchpad.net/charm-nrpe/commit/?id=f7aa963d nrpe\nwill remain in blocked state if not related to a nagios application.\n\nChange-Id: I04eabafcbb1000991b6ee3c8e7bc481903c3fe35\n""}]",0,748805,ba5929e7330fe940f10f3b8a90d9a011c6fd300f,14,4,1,31289,,,0,"Fix blocked 'nrpe' after test bundle deployment

Since https://git.launchpad.net/charm-nrpe/commit/?id=f7aa963d nrpe
will remain in blocked state if not related to a nagios application.

Change-Id: I04eabafcbb1000991b6ee3c8e7bc481903c3fe35
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/05/748805/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml']",13,ba5929e7330fe940f10f3b8a90d9a011c6fd300f,fix-blocked-nrpe, '8': series: bionic # nagios not supported on focal yet nagios: charm: cs:nagios series: bionic # not supported on focal yet num_units: 1 to: - '8' - - 'nrpe:monitors' - 'nagios:monitors',,83,0
openstack%2Fopenstack-helm-infra~master~Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1,openstack/openstack-helm-infra,master,Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1,Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.,ABANDONED,2020-08-28 12:20:35.000000000,2020-09-01 08:14:32.000000000,,"[{'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 32353}]","[{'number': 1, 'created': '2020-08-28 12:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5479dcd2b463fe3ba9368af57f5120eeaf4a931', 'message': 'Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nAdding default reject ensures that all connection access to the database must be explicitly specified.\n\nChange-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1\n'}, {'number': 2, 'created': '2020-08-31 08:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a3077a3e4e438d10084744bdee07b57c9da5ec6e', 'message': 'Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nAdding default reject ensures that all connection access to the database must be explicitly specified.\n\nChange-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1\n'}, {'number': 3, 'created': '2020-08-31 11:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04a7771f4ffafc217cb3312feda6cef63b15f26e', 'message': 'Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nAdding default reject ensures that all connection access to the database must be explicitly specified.\n\nChange-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1\n'}, {'number': 4, 'created': '2020-08-31 13:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bacf380b7faa033ab37210cdad64f4188b42d9c', 'message': 'Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nAdding default reject ensures that all connection access to the database must be explicitly specified.\n\nChange-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1\n'}, {'number': 5, 'created': '2020-08-31 15:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18e27bca44b7c228b598cd5cc049b3a45cc1f6cc', 'message': 'Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nAdding default reject ensures that all connection access to the database must be explicitly specified.\n\nChange-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1\n'}, {'number': 6, 'created': '2020-09-01 06:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/853cfebc6f4c08228788e515d9492d9b7f09432c', 'message': 'Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nAdding default reject ensures that all connection access to the database must be explicitly specified.\n\nChange-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1\n'}, {'number': 7, 'created': '2020-09-01 07:44:49.000000000', 'files': ['postgresql/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b230aadba62ff9ffaf2bc2e09e6e52a9b33beec9', 'message': 'Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nAdding default reject ensures that all connection access to the database must be explicitly specified.\n\nChange-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1\n'}]",0,748610,b230aadba62ff9ffaf2bc2e09e6e52a9b33beec9,23,3,7,32353,,,0,"Add default reject rule at the end in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.

Adding default reject ensures that all connection access to the database must be explicitly specified.

Change-Id: Ibc0d9c3f06b6ed6b010141996b0184d3bf9347b1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/748610/2 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/values.yaml'],1,e5479dcd2b463fe3ba9368af57f5120eeaf4a931,, - host all all 0.0.0.0/0 reject - host all all 0.0.0.0/0 reject, - host all all 0.0.0.0/0 md5 - host all all 0.0.0.0/0 md5,2,2
openstack%2Fbifrost~stable%2Fussuri~Idbcc7ed583234ba5d8fd48913146e288e1096bdf,openstack/bifrost,stable/ussuri,Idbcc7ed583234ba5d8fd48913146e288e1096bdf,"Make /var/lib/ironic/{,images,master_images} readable by nginx",MERGED,2020-08-31 10:29:05.000000000,2020-09-01 08:07:59.000000000,2020-09-01 08:05:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-08-31 10:29:05.000000000', 'files': ['releasenotes/notes/images-permissions-2042490e3ca13656.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d900a761a190aa71e884f810970e7cbbec3bb498', 'message': ""Make /var/lib/ironic/{,images,master_images} readable by nginx\n\nThese directories contain images that are symlinked to /httpboot and have\nto be readable by the web server. We haven't had any problems with it only\nbecause the direct deploy does not use /var/lib/ironic with HTTP images.\n\nConflicts:\n\tplaybooks/roles/bifrost-ironic-install/tasks/bootstrap.yml\n\nChange-Id: Idbcc7ed583234ba5d8fd48913146e288e1096bdf\n(cherry picked from commit 57edf2947862bf73afd8df1162ed031af82ce35e)\n""}]",2,749022,d900a761a190aa71e884f810970e7cbbec3bb498,9,4,1,10239,,,0,"Make /var/lib/ironic/{,images,master_images} readable by nginx

These directories contain images that are symlinked to /httpboot and have
to be readable by the web server. We haven't had any problems with it only
because the direct deploy does not use /var/lib/ironic with HTTP images.

Conflicts:
	playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml

Change-Id: Idbcc7ed583234ba5d8fd48913146e288e1096bdf
(cherry picked from commit 57edf2947862bf73afd8df1162ed031af82ce35e)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/22/749022/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/images-permissions-2042490e3ca13656.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml']",2,d900a761a190aa71e884f810970e7cbbec3bb498,," group: ""{{ nginx_user }}"""," group: ""ironic""",6,1
openstack%2Fbifrost~bugfix%2F8.3~Idbcc7ed583234ba5d8fd48913146e288e1096bdf,openstack/bifrost,bugfix/8.3,Idbcc7ed583234ba5d8fd48913146e288e1096bdf,"Make /var/lib/ironic/{,images,master_images} readable by nginx",MERGED,2020-08-31 10:27:20.000000000,2020-09-01 08:07:26.000000000,2020-09-01 08:05:07.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-31 10:27:20.000000000', 'files': ['releasenotes/notes/images-permissions-2042490e3ca13656.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2055f04f3f48567913e7b4b275b5b76c3b032f10', 'message': ""Make /var/lib/ironic/{,images,master_images} readable by nginx\n\nThese directories contain images that are symlinked to /httpboot and have\nto be readable by the web server. We haven't had any problems with it only\nbecause the direct deploy does not use /var/lib/ironic with HTTP images.\n\nChange-Id: Idbcc7ed583234ba5d8fd48913146e288e1096bdf\n(cherry picked from commit 57edf2947862bf73afd8df1162ed031af82ce35e)\n""}]",0,749021,2055f04f3f48567913e7b4b275b5b76c3b032f10,8,2,1,10239,,,0,"Make /var/lib/ironic/{,images,master_images} readable by nginx

These directories contain images that are symlinked to /httpboot and have
to be readable by the web server. We haven't had any problems with it only
because the direct deploy does not use /var/lib/ironic with HTTP images.

Change-Id: Idbcc7ed583234ba5d8fd48913146e288e1096bdf
(cherry picked from commit 57edf2947862bf73afd8df1162ed031af82ce35e)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/21/749021/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/images-permissions-2042490e3ca13656.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml']",2,2055f04f3f48567913e7b4b275b5b76c3b032f10,images-permissions-bugfix/8.3," group: ""{{ nginx_user }}"""," group: ""ironic""",6,1
openstack%2Fcharm-glance~master~I2159dd32a49e4591494881bab8469f087a539d5a,openstack/charm-glance,master,I2159dd32a49e4591494881bab8469f087a539d5a,Fix misc issues with removal of ceph relation,MERGED,2020-07-24 09:53:36.000000000,2020-09-01 07:53:35.000000000,2020-09-01 07:53:35.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-24 09:53:36.000000000', 'files': ['hooks/ceph-relation-departed', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/78e7b57854fc1d9a1ddefd55f4c92e62b718ad63', 'message': 'Fix misc issues with removal of ceph relation\n\nEnsure that services are restarted when the relation is\nremoved from a model.\n\nAdd -departed hook to ensure that ceph.conf is consistent\nwith monitors in the ceph cluster during scaleback operations.\n\nChange-Id: I2159dd32a49e4591494881bab8469f087a539d5a\nCloses-Bug: 1888768\n'}]",0,742838,78e7b57854fc1d9a1ddefd55f4c92e62b718ad63,7,3,1,935,,,0,"Fix misc issues with removal of ceph relation

Ensure that services are restarted when the relation is
removed from a model.

Add -departed hook to ensure that ceph.conf is consistent
with monitors in the ceph cluster during scaleback operations.

Change-Id: I2159dd32a49e4591494881bab8469f087a539d5a
Closes-Bug: 1888768
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/38/742838/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph-relation-departed', 'hooks/glance_relations.py']",2,78e7b57854fc1d9a1ddefd55f4c92e62b718ad63,bug/1888768,@hooks.hook('ceph-relation-departed') @restart_on_change(restart_map()) def ceph_departed(): resolve_CONFIGS() CONFIGS.write_all() @restart_on_change(restart_map()),,9,0
openstack%2Fironic~master~Ia905ec5b19ec9c46d3a750767207b63730db20b0,openstack/ironic,master,Ia905ec5b19ec9c46d3a750767207b63730db20b0,ramdisk lookups/heartbeat usurpation prevention feature through source ip,NEW,2019-11-21 18:03:43.000000000,2020-09-01 07:44:13.000000000,,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-21 18:03:43.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/tests/unit/drivers/modules/network/test_common.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/tests/unit/drivers/modules/network/test_flat.py', 'ironic/drivers/modules/network/noop.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/conf/api.py', 'releasenotes/notes/heartbeat-lookup-usurpation-protection-through-source-ip-ab647530e0c15daa.yaml', 'ironic/conductor/rpcapi.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/network/common.py', 'ironic/tests/unit/drivers/modules/network/test_noop.py', 'ironic/common/release_mappings.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/07ccee44b8f55cee53872c46634f74d60554cfad', 'message': 'ramdisk lookups/heartbeat usurpation prevention feature through source ip\n\nAdds the possibility to restrict node lookup/heartbeat access\nthrough source ip, when relevant.\n\nChange-Id: Ia905ec5b19ec9c46d3a750767207b63730db20b0\nStory: 2006634\nTask: 37535\n'}]",22,695544,07ccee44b8f55cee53872c46634f74d60554cfad,6,9,1,15064,,,0,"ramdisk lookups/heartbeat usurpation prevention feature through source ip

Adds the possibility to restrict node lookup/heartbeat access
through source ip, when relevant.

Change-Id: Ia905ec5b19ec9c46d3a750767207b63730db20b0
Story: 2006634
Task: 37535
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/695544/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/tests/unit/drivers/modules/network/test_common.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/tests/unit/drivers/modules/network/test_flat.py', 'ironic/drivers/modules/network/noop.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/conf/api.py', 'releasenotes/notes/heartbeat-lookup-usurpation-protection-through-source-ip-ab647530e0c15daa.yaml', 'ironic/conductor/rpcapi.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/network/common.py', 'ironic/tests/unit/drivers/modules/network/test_noop.py', 'ironic/common/release_mappings.py']",15,07ccee44b8f55cee53872c46634f74d60554cfad,ironic_source_ip_filtering_feature," 'rpc': '1.49',"," 'rpc': '1.48',",548,16
openstack%2Fcharm-glance~master~Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd,openstack/charm-glance,master,Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd,Run tempest smoke during charm smoke test,MERGED,2020-06-12 09:24:19.000000000,2020-09-01 07:35:17.000000000,2020-09-01 07:35:17.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-12 09:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/dc4269a80cd8788eeaca82e56731efae51a929f5', 'message': 'Run tempest smoke during charm smoke test\n\nChange-Id: Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd\n'}, {'number': 2, 'created': '2020-06-12 10:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1ce72092bd44a9481248da5472ed78d279f6a1b3', 'message': 'Run tempest smoke during charm smoke test\n\nChange-Id: Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd\n'}, {'number': 3, 'created': '2020-06-12 12:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/488fb1c75d9619bac6bcb8a2bd9b709a66024261', 'message': 'Run tempest smoke during charm smoke test\n\nChange-Id: Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd\n'}, {'number': 4, 'created': '2020-08-27 16:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/e7d7eb417610d805e3ddcdd0919085b106d0faca', 'message': 'Run tempest smoke during charm smoke test\n\nChange-Id: Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd\n'}, {'number': 5, 'created': '2020-08-27 18:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/70b9a469b63b8f9d9cd3ba5f8695b165ccdc4d2c', 'message': 'Run tempest smoke during charm smoke test\n\nChange-Id: Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd\n'}, {'number': 6, 'created': '2020-08-27 18:12:38.000000000', 'files': ['tests/tests.yaml', '.gitignore', 'test-requirements.txt', 'tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1968c09af46765b77964e78327710583af03529c', 'message': 'Run tempest smoke during charm smoke test\n\nCloses-Bug: #1881140\nChange-Id: Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd\n'}]",1,735315,1968c09af46765b77964e78327710583af03529c,28,7,6,12549,,,0,"Run tempest smoke during charm smoke test

Closes-Bug: #1881140
Change-Id: Id380c052fbf7f23bd3b1c0826f953eeacd97b6fd
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/15/735315/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', '.gitignore', 'test-requirements.txt', 'tests/bundles/bionic-ussuri.yaml']",4,dc4269a80cd8788eeaca82e56731efae51a929f5,bug/1881140, constraints: mem=3072M,,19,3
openstack%2Fkuryr-kubernetes~master~I9be022526d75b15797cba1e13b7c6488cb034355,openstack/kuryr-kubernetes,master,I9be022526d75b15797cba1e13b7c6488cb034355,Update documentation for pod-annotation to KuryrPort.,MERGED,2020-07-31 13:09:25.000000000,2020-09-01 07:22:30.000000000,2020-09-01 07:19:47.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-07-31 13:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/77241f89d73160afa8f6a847e8246f268501ce5c', 'message': 'WIP: Update documentation for pod-annotation to KuryrPort\n\nChange-Id: I9be022526d75b15797cba1e13b7c6488cb034355\n'}, {'number': 2, 'created': '2020-08-18 10:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cb0d6616e2f51b99aa53d69bccafeb579b5cfa72', 'message': 'WIP: Update documentation for pod-annotation to KuryrPort\n\nChange-Id: I9be022526d75b15797cba1e13b7c6488cb034355\n'}, {'number': 3, 'created': '2020-08-20 12:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/326e7e201d406bfb6a91803524cd4fc269b29381', 'message': 'Update documentation for pod-annotation to KuryrPort.\n\nChange-Id: I9be022526d75b15797cba1e13b7c6488cb034355\n'}, {'number': 4, 'created': '2020-08-31 10:50:13.000000000', 'files': ['doc/images/pod_creation_flow_daemon.svg', 'doc/source/devref/network_policy.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/images/pod_creation_flow_daemon.png', 'doc/source/devref/index.rst', 'doc/source/devref/port_crd_usage.rst', 'doc/source/installation/network_namespace.rst', 'doc/source/installation/network_policy.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/375bee587e104641d0ef454a6b9b4a3403f214e9', 'message': 'Update documentation for pod-annotation to KuryrPort.\n\nChange-Id: I9be022526d75b15797cba1e13b7c6488cb034355\n'}]",3,744157,375bee587e104641d0ef454a6b9b4a3403f214e9,17,6,4,13692,,,0,"Update documentation for pod-annotation to KuryrPort.

Change-Id: I9be022526d75b15797cba1e13b7c6488cb034355
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/744157/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/network_policy.rst', 'doc/source/devref/vif_handler_drivers_design.rst', 'doc/source/devref/kuryr_kubernetes_design.rst', 'doc/source/devref/index.rst', 'doc/source/devref/port_crd_usage.rst']",5,77241f89d73160afa8f6a847e8246f268501ce5c,kuryrport-docs,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Convention for heading levels in Neutron devref: ======= Heading 0 (reserved for the title in a document) ------- Heading 1 ~~~~~~~ Heading 2 +++++++ Heading 3 ''''''' Heading 4 (Avoid deeper levels because they do not render well.) =============================== Kuryr Kubernetes Port CRD Usage =============================== Purpose ------- The purpose of this document is to present Kuryr Kubernetes Port and PortPool `CRD`_ usage, capturing the design decisions currently taken by the Kuryr team. The main purpose of the Port CRD is to keep Neutron resources tracking as part of K8s data model. The main idea behind is to try to minimize the amount of calls to Neutron by ensuring port and port pools consistent usage. Port and PortPool CRD will allow faster synchronization between Kuryr Controller and Kuryr CNI Daemon. Maintaining Neutron resources via K8s CRD objects will allow proper handling of Kuryr Controller restart flow. Having the details in K8s data model should also serve the case where Kuryr is used as generic SDN K8s integration framework. This means that Port CRD can be not neutron specific. Overview -------- Interactions between Kuryr and Neutron may take more time than desired from the container management perspective. To optimize this interaction and speed up both container creation and deletion, the Kuryr-Kubernetes Ports Pools were added: Neutron ports are created before container creation, and Neutron ports are deleted after container deletion. But there is still a need to keep the Ports and Port pools details and have them available in case of Kuryr Controller restart. Since Kuryr is stateless service, the details should be kept either as part of Neutron or Kubernetes data. Due to the performance costs, K8s option is more preferred. Proposed Solution ----------------- The proposal is to start relying on K8s CRD objects more and more. The first action is to create a KuryrPort CRD where the needed information about the Neutron Ports will be stored (or any other SDN). Currently, the pods are annotated with the vif information of the port assigned to it: .. code-block:: text ""kind"": ""Pod"", ""metadata"": { ""annotations"": { ""openstack.org/kuryr-vif"": ""{\""eth0\"": {\""versioned_object.data\"": {\""active\"": true, \""address\"": \""fa:16:3e:bf:84:ff\"", \""has_traffic_filtering\"": false, \""id\"": \""18f968a5-c420-4318-92d7-941eb5f9e60e\"", \""network\"": {\""versioned_object.data\"": {\""id\"": \""144164d9-8c21-4274-acec-43245de0aed0\"", \""labe l\"": \""ns/luis-net\"", \""mtu\"": 1350, \""multi_host\"": false, \""should_provide_bridge\"": false, \""should_provide_vlan\"": false, \""subnets\"": {\""versioned_object .data\"": {\""objects\"": [{\""versioned_object.data\"": {\""cidr\"": \""10.11.9.0/24\"", \""dns\"": [], \""gateway\"": \""10.11.9.1\"", \""ips\"": {\""versioned_object.data\"": {\""objects\"": [{\""versioned_object.data\"": {\""address\"": \""10.11.9.5\""}, \""versioned_object.name\"": \""FixedIP\"", \""versioned_object.namespace\"": \""os_vif\"", \""versioned_object.version\"": \""1.0\""}]}, \""versioned_object.name\"": \""FixedIPList\"", \""versioned_object.namespace\"": \""os_vif\"", \""versioned_object.version\"" : \""1.0\""}, \""routes\"": {\""versioned_object.data\"": {\""objects\"": []}, \""versioned_object.name\"": \""RouteList\"", \""versioned_object.namespace\"": \""os_vif\"", \ ""versioned_object.version\"": \""1.0\""}}, \""versioned_object.name\"": \""Subnet\"", \""versioned_object.namespace\"": \""os_vif\"", \""versioned_object.version\"": \""1.0 \""}]}, \""versioned_object.name\"": \""SubnetList\"", \""versioned_object.namespace\"": \""os_vif\"", \""versioned_object.version\"": \""1.0\""}}, \""versioned_object.name \"": \""Network\"", \""versioned_object.namespace\"": \""os_vif\"", \""versioned_object.version\"": \""1.1\""}, \""plugin\"": \""noop\"", \""preserve_on_delete\"": false, \""vi f_name\"": \""tap18f968a5-c4\"", \""vlan_id\"": 1346}, \""versioned_object.name\"": \""VIFVlanNested\"", \""versioned_object.namespace\"": \""os_vif\"", \""versioned_object .version\"": \""1.0\""}}"" }, The proposal is to store the information of the VIF in the new defined KuryrPort CRD as a new KuryrPort object, including similar information to the one we currently have on os_vif objects. Then we annotate the KuryrPort object selfLink at the pod by using oslo.versionedobject to easy identify the changes into the annotation format. Note the selfLink should contain the Neutron Port UUID if that is used as the name for the KuryrPort CRD object. In case of other SDN a unique value that represents the port should be used as the name for the KuryrPort CRD object: .. code-block:: console $ kubectl get POD_NAME -o json ""kind"": ""Pod"", ""metadata"": { ""annotations"": { ""openstack.org/kuryr-vif"": ""{""eth0"": {\""versioned_object.data\"": {\""selfLink\"": \""/apis/openstack.org/v1/kuryrports/18f968a5-c420-4318-92d7-941eb5f9e60e\""}}, \""versioned_object.name\"": \""KuryrPortCRD\"", \""versioned_object.version\"": \""1.0\""}"" }, ... $ openstack port show 18f968a5-c420-4318-92d7-941eb5f9e60e +-----------------------+---------------------------------------------------------------------------+ | Field | Value | +-----------------------+---------------------------------------------------------------------------+ | admin_state_up | UP | | allowed_address_pairs | | | binding_host_id | None | | binding_profile | None | | binding_vif_details | None | | binding_vif_type | None | | binding_vnic_type | normal | | created_at | 2018-06-18T15:58:23Z | | data_plane_status | None | | description | | | device_id | | | device_owner | trunk:subport | | dns_assignment | None | | dns_domain | None | | dns_name | None | | extra_dhcp_opts | | | fixed_ips | ip_address='10.11.9.5', subnet_id='fa660385-65f1-4677-8dc7-3f4f9cd15d7f' | | id | 18f968a5-c420-4318-92d7-941eb5f9e60e | | ip_address | None | | mac_address | fa:16:3e:bf:84:ff | | name | | | network_id | 144164d9-8c21-4274-acec-43245de0aed0 | | option_name | None | | option_value | None | | port_security_enabled | True | | project_id | d85bdba083204fe2845349a86cb87d82 | | qos_policy_id | None | | revision_number | 4 | | security_group_ids | 32704585-8cbe-43f3-a4d5-56ffe2d3ab24 | | status | ACTIVE | | subnet_id | None | | tags | | | trunk_details | None | | updated_at | 2018-06-18T15:58:30Z | +-----------------------+---------------------------------------------------------------------------+ $ kubectl get kuryrports 18f968a5-c420-4318-92d7-941eb5f9e60e -o json { ""apiVersion"": ""openstack.org/v1"", ""kind"": ""KuryrPort"", ""metadata"": { ""resourceVersion"": ""164682"", ""selfLink"": ""/apis/openstack.org/v1/kuryrports/18f968a5-c420-4318-92d7-941eb5f9e60e"", ""uid"": ""d2834c13-6e6e-11e8-8acd-fa163ed12aae"" ""name"": ""18f968a5-c420-4318-92d7-941eb5f9e60e"" ""portStatus"": ""created"" }, ""spec"": { ""active"": true"", ""address"": ""fa:16:3e:bf:84:ff"", ""id"": ""18f968a5-c420-4318-92d7-941eb5f9e60e"", ""network"": { ""id"": ""144164d9-8c21-4274-acec-43245de0aed0"", ""mtu"": 1350, ... } ... } } This allows a more standard way of annotating the pods, ensuring all needed information is there regardless of the SDN backend. In addition, in case of failures it is easier to find orphaned resources that were created but not in use anymore. As an example we could check the KuryrPorts objects that were annotated with `deleting` label at the `portStatus` field at metatdata, and remove the associated Neutron resources (e.g. ports) in case the controller crashed while deleting the Neutron (or any other SDN) associated resources. As for the Ports Pools, right now they reside on memory on the Kuryr-controller and need to be recovered every time the controller gets restarted. To perform this recovery we are relying on Neutron Port device-owner information which may not be completely waterproof in all situations (e.g., if there is another entity using the same device owner name). Consequently, by storing the information into K8s CRD objects we have the benefit of: * Calling K8s API instead of Neutron API * Being sure the recovered ports into the pools were created by kuryr-controller In addition to these advantages, moving to CRDs will easier the transition for kuryr-cni handling the ports pools as kuryr-cni has access to the K8S API but not to the Neutron API. This leads also to the idea of also having KuryrPortPool CRDs that will keep track of what ports belong to what pool. This would remove the need for recovering them upon kuryr-controller reboot completely. An example of the PortPool CRD spec is the next:: TBD Note this is similar to the approach already followed by the network per namespace subnet driver and it could be similarly applied to other SDN resources, such as LoadBalancers. .. _CRD: https://kubernetes.io/docs/concepts/api-extension/custom-resources/#custom-resources ",46,231
openstack%2Fcharm-ceph-proxy~master~Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59,openstack/charm-ceph-proxy,master,Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59,Add support for erasure coded pools,MERGED,2020-08-25 14:19:45.000000000,2020-09-01 07:20:48.000000000,2020-09-01 07:20:48.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 14:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f982fdd1567262aa739a15b456d1d86b7ec3d77a', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\n'}, {'number': 2, 'created': '2020-08-26 09:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/afcd5542e5a02ce913cb9786b13e3b1aea4395b6', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\n'}, {'number': 3, 'created': '2020-08-26 10:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/adfbab5e834c41f512df926b6a36bb2cfff39c36', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\n'}, {'number': 4, 'created': '2020-08-27 10:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f07b37ec4688b1748e8eaa842b47b6bb185942cb', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\n'}, {'number': 5, 'created': '2020-08-27 13:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/7836c2dfe9bca80f83de6c8c8b295810b8a737db', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\n'}, {'number': 6, 'created': '2020-08-28 08:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/2150f55e8e74bb782f0dc636b94d4461fac85ff0', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/396\n'}, {'number': 7, 'created': '2020-08-28 09:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/3e7874e51bc2f6b17f656830bf96bf799c91c77a', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/396\n'}, {'number': 8, 'created': '2020-08-28 10:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/d0dd7039e69a03ca93f007393b6900700a15a9da', 'message': 'Add support for erasure coded pools\n\nResync charmhelpers and charms.ceph to pickup updates to the Ceph\nbroker framework to support erasure coding profile and pool creation\nfrom consuming charms.\n\nAdd test bundle for erasure-coding with check to validate that\npools are created correctly.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/396\n'}, {'number': 9, 'created': '2020-08-28 10:16:22.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-ussuri-ec.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/a0f71f6bc8890369674a59e92c97abc914c71e51', 'message': 'Add support for erasure coded pools\n\nAdd test bundle for erasure-coding with check to validate that\npools are created correctly.\n\nChange-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/396\n'}]",0,747962,a0f71f6bc8890369674a59e92c97abc914c71e51,31,4,9,935,,,0,"Add support for erasure coded pools

Add test bundle for erasure-coding with check to validate that
pools are created correctly.

Change-Id: Ic6f959b2e598f7f9cfa13bd60fdab62a22e03b59
Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/396
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/62/747962/8 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms_ceph/broker.py', 'charmhelpers/contrib/storage/linux/ceph.py']",2,f982fdd1567262aa739a15b456d1d86b7ec3d77a,ec-support,"from charmhelpers import deprecate """"""Helper function for type validation. Used to validate these: https://docs.ceph.com/docs/master/rados/operations/pools/#set-pool-values https://docs.ceph.com/docs/master/rados/configuration/bluestore-config-ref/#inline-compression :param value: The value to validate. :type value: any :type valid_type: any :type valid_range: Optional[Union[List,Tuple]] :raises: AssertionError, ValueError assert isinstance(value, valid_type), ( ""{} is not a {}"".format(value, valid_type)) if valid_range is not None: assert isinstance( valid_range, list) or isinstance(valid_range, tuple), ( ""valid_range must be of type List or Tuple, "" ""was given {} of type {}"" .format(valid_range, type(valid_range))) assert value in valid_range, ( ""{} is not in the list {}"".format(value, valid_range)) ""Invalid valid_range list of {} for {}. "" assert value >= valid_range[0], ( ""{} is less than minimum allowed value of {}"" .format(value, valid_range[0])) assert value <= valid_range[1], ( ""{} is greater than maximum allowed value of {}"" .format(value, valid_range[1])) """"""A custom exception to inform the caller that a pool creation failed. Provides an error messageclass BasePool(object): """"""An object oriented approach to Ceph pool creation. This base class is inherited by ReplicatedPool and ErasurePool. Do not call create() on this base class as it will raise an exception. Instantiate a child class and call create(). """""" # Dictionary that maps pool operation properties to Tuples with valid type # and valid range op_validation_map = { 'compression-algorithm': (str, ('lz4', 'snappy', 'zlib', 'zstd')), 'compression-mode': (str, ('none', 'passive', 'aggressive', 'force')), 'compression-required-ratio': (float, None), 'compression-min-blob-size': (int, None), 'compression-min-blob-size-hdd': (int, None), 'compression-min-blob-size-ssd': (int, None), 'compression-max-blob-size': (int, None), 'compression-max-blob-size-hdd': (int, None), 'compression-max-blob-size-ssd': (int, None), } def __init__(self, service, name=None, percent_data=None, app_name=None, op=None): """"""Initialize BasePool object. Pool information is either initialized from individual keyword arguments or from a individual CephBrokerRq operation Dict. :param service: The Ceph user name to run commands under. :type service: str :param name: Name of pool to operate on. :type name: str :param percent_data: The expected pool size in relation to all available resources in the Ceph cluster. Will be used to set the ``target_size_ratio`` pool property. (default: 10.0) :type percent_data: Optional[float] :param app_name: Ceph application name, usually one of: ('cephfs', 'rbd', 'rgw') (default: 'unknown') :type app_name: Optional[str] :param op: Broker request Op to compile pool data from. :type op: Optional[Dict[str,any]] :raises: KeyError """""" # NOTE: Do not perform initialization steps that require live data from # a running cluster here. The *Pool classes may be used for validation. self.nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 self.op = op or {} if op: # When initializing from op the `name` attribute is required and we # will fail with KeyError if it is not provided. self.name = op['name'] self.percent_data = op.get('weight') self.app_name = op.get('app-name') else: self.name = name self.percent_data = percent_data self.app_name = app_name # Set defaults for these if they are not provided self.percent_data = self.percent_data or 10.0 self.app_name = self.app_name or 'unknown' def validate(self): """"""Check that value of supplied operation parameters are valid. :raises: ValueError """""" for op_key, op_value in self.op.items(): if op_key in self.op_validation_map and op_value is not None: valid_type, valid_range = self.op_validation_map[op_key] try: validator(op_value, valid_type, valid_range) except (AssertionError, ValueError) as e: # Normalize on ValueError, also add information about which # variable we had an issue with. raise ValueError(""'{}': {}"".format(op_key, str(e))) def _create(self): """"""Perform the pool creation, method MUST be overridden by child class. """""" raise NotImplementedError def _post_create(self): """"""Perform common post pool creation tasks. Note that pool properties subject to change during the lifetime of a pool / deployment should go into the ``update`` method. Do not add calls for a specific pool type here, those should go into one of the pool specific classes. """""" if self.nautilus_or_later: # Ensure we set the expected pool ratio update_pool( client=self.service, pool=self.name, settings={ 'target_size_ratio': str( self.percent_data / 100.0), }) try: set_app_name_for_pool(client=self.service, pool=self.name, name=self.app_name) except CalledProcessError: log('Could not set app name for pool {}' .format(self.name), level=WARNING) if 'pg_autoscaler' in enabled_manager_modules(): try: enable_pg_autoscale(self.service, self.name) except CalledProcessError as e: log('Could not configure auto scaling for pool {}: {}' .format(self.name, e), level=WARNING) def create(self): """"""Create pool and perform any post pool creation tasks. To allow for sharing of common code among pool specific classes the processing has been broken out into the private methods ``_create`` and ``_post_create``. Do not add any pool type specific handling here, that should go into one of the pool specific classes. """""" if not pool_exists(self.service, self.name): self.validate() self._create() self._post_create() self.update() def set_quota(self): """"""Set a quota if requested. :raises: CalledProcessError """""" max_bytes = self.op.get('max-bytes') max_objects = self.op.get('max-objects') if max_bytes or max_objects: set_pool_quota(service=self.service, pool_name=self.name, max_bytes=max_bytes, max_objects=max_objects) def set_compression(self): """"""Set compression properties if requested. :raises: CalledProcessError """""" compression_properties = { key.replace('-', '_'): value for key, value in self.op.items() if key in ( 'compression-algorithm', 'compression-mode', 'compression-required-ratio', 'compression-min-blob-size', 'compression-min-blob-size-hdd', 'compression-min-blob-size-ssd', 'compression-max-blob-size', 'compression-max-blob-size-hdd', 'compression-max-blob-size-ssd') and value} if compression_properties: update_pool(self.service, self.name, compression_properties) def update(self): """"""Update properties for an already existing pool. Do not add calls for a specific pool type here, those should go into one of the pool specific classes. """""" self.validate() self.set_quota() self.set_compression() """"""Adds a new cache tier to an existing pool. :param cache_pool: The cache tier pool name to add. :type cache_pool: str :param mode: The caching mode to use for this pool. valid range = [""readonly"", ""writeback""] :type mode: str validator( value=mode, valid_type=six.string_types, valid_range=[""readonly"", ""writeback""]) check_call([ 'ceph', '--id', self.service, 'osd', 'tier', 'add', self.name, cache_pool, ]) check_call([ 'ceph', '--id', self.service, 'osd', 'tier', 'cache-mode', cache_pool, mode, ]) check_call([ 'ceph', '--id', self.service, 'osd', 'tier', 'set-overlay', self.name, cache_pool, ]) check_call([ 'ceph', '--id', self.service, 'osd', 'pool', 'set', cache_pool, 'hit_set_type', 'bloom', ]) """"""Removes a cache tier from Ceph. Flushes all dirty objects from writeback pools and waits for that to complete. :param cache_pool: The cache tier pool name to remove. :type cache_pool: str check_call([ 'ceph', '--id', self.service, 'osd', 'tier', 'cache-mode', cache_pool, 'none' ]) check_call([ 'ceph', '--id', self.service, 'osd', 'tier', 'remove', self.name, cache_pool, ]) check_call([ 'rados', '--id', self.service, '-p', cache_pool, 'cache-flush-evict-all']) check_call([ 'ceph', '--id', self.service, 'osd', 'tier', 'remove-overlay', self.name]) check_call([ 'ceph', '--id', self.service, 'osd', 'tier', 'remove', self.name, cache_pool]) :param pool_size: pool_size is either the number of replicas for :type pool_size: int :param percent_data: the percentage of data that is expected to :type percent_data: float :param device_class: class of storage to use for basis of pgs :type device_class: str :returns: The number of pgs to use. :rtype: int target_pgs_per_osd = config( 'pgs-per-osd') or DEFAULT_PGS_PER_OSD_TARGETclass Pool(BasePool): """"""Compability shim for any descendents external to this library."""""" @deprecate( 'The ``Pool`` baseclass has been replaced by ``BasePool`` class.') def __init__(self, service, name): super(Pool, self).__init__(service, name=name) def create(self): pass class ReplicatedPool(BasePool): def __init__(self, service, name=None, pg_num=None, replicas=None, percent_data=None, app_name=None, op=None): """"""Initialize ReplicatedPool object. Pool information is either initialized from individual keyword arguments or from a individual CephBrokerRq operation Dict. Please refer to the docstring of the ``BasePool`` class for documentation of the common parameters. :param pg_num: Express wish for number of Placement Groups (this value is subject to validation against a running cluster prior to use to avoid creating a pool with too many PGs) :type pg_num: int :param replicas: Number of copies there should be of each object added to this replicated pool. :type replicas: int :raises: KeyError """""" # NOTE: Do not perform initialization steps that require live data from # a running cluster here. The *Pool classes may be used for validation. # The common parameters are handled in our parents initializer super(ReplicatedPool, self).__init__( service=service, name=name, percent_data=percent_data, app_name=app_name, op=op) if op: # When initializing from op `replicas` is a required attribute, and # we will fail with KeyError if it is not provided. self.replicas = op['replicas'] self.pg_num = op.get('pg_num') else: self.replicas = replicas or 2 self.pg_num = pg_num def _create(self): # Do extra validation on pg_num with data from live cluster if self.pg_num: self.pg_num = min(self.pg_num, max_pgs) else: self.pg_num = self.get_pgs(self.replicas, self.percent_data) # Create it if self.nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, self.pg_num) ), self.name, str(self.pg_num) ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(self.pg_num) ] check_call(cmd) def _post_create(self): # Set the pool replica size update_pool(client=self.service, pool=self.name, settings={'size': str(self.replicas)}) # Perform other common post pool creation tasks super(ReplicatedPool, self)._post_create() class ErasurePool(BasePool): """"""Default jerasure erasure coded pool."""""" def __init__(self, service, name=None, erasure_code_profile=None, percent_data=None, app_name=None, op=None, allow_ec_overwrites=False): """"""Initialize ReplicatedPool object. Pool information is either initialized from individual keyword arguments or from a individual CephBrokerRq operation Dict. Please refer to the docstring of the ``BasePool`` class for documentation of the common parameters. :param erasure_code_profile: EC Profile to use (default: 'default') :type erasure_code_profile: Optional[str] """""" # NOTE: Do not perform initialization steps that require live data from # a running cluster here. The *Pool classes may be used for validation. # The common parameters are handled in our parents initializer super(ErasurePool, self).__init__( service=service, name=name, percent_data=percent_data, app_name=app_name, op=op) if op: # Note that the different default when initializing from op stems # from different handling of this in the `charms.ceph` library. self.erasure_code_profile = op.get('erasure-profile', 'default-canonical') self.allow_ec_overwrites = op.get('allow-ec-overwrites') else: # We keep the class default when initialized from keyword arguments # to not break the API for any other consumers. self.erasure_code_profile = erasure_code_profile or 'default' self.allow_ec_overwrites = allow_ec_overwrites def _create(self): # Try to find the erasure profile information in order to properly # size the number of placement groups. The size of an erasure # coded placement group is calculated as k+m. erasure_profile = get_erasure_profile(self.service, self.erasure_code_profile) # Check for errors if erasure_profile is None: msg = (""Failed to discover erasure profile named "" ""{}"".format(self.erasure_code_profile)) log(msg, level=ERROR) raise PoolCreationError(msg) if 'k' not in erasure_profile or 'm' not in erasure_profile: # Error msg = (""Unable to find k (data chunks) or m (coding chunks) "" ""in erasure profile {}"".format(erasure_profile)) log(msg, level=ERROR) raise PoolCreationError(msg) k = int(erasure_profile['k']) m = int(erasure_profile['m']) pgs = self.get_pgs(k + m, self.percent_data) self.nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 # Create it if self.nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, pgs) ), self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] check_call(cmd) def _post_create(self): super(ErasurePool, self)._post_create() if self.allow_ec_overwrites: update_pool(self.service, self.name, {'allow_ec_overwrites': 'true'}) """"""Enable Ceph's PG autoscaler for the specified pool. :param service: The Ceph user name to run the command under :type service: str :param pool_name: The name of the pool to enable sutoscaling on :type pool_name: str :raises: CalledProcessError if the command fails check_call([ 'ceph', '--id', service, 'osd', 'pool', 'set', pool_name, 'pg_autoscale_mode', 'on']) """"""Return the current monitor map. :param service: The Ceph user name to run the command under :type service: str :returns: Dictionary with monitor map data :rtype: Dict[str,any] :raises: ValueError if the monmap fails to parse, CalledProcessError if our ceph command fails. """"""Get a sorted list of monitor hashes in ascending order. cluster. Hash the name of each monitor. :param service: The Ceph user name to run the command under. :type service: str :returns: a sorted list of monitor hashes in an ascending order. :rtype : List[str] :raises: CalledProcessError, ValueError """"""Delete a key and value pair from the monitor cluster. :param service: The Ceph user name to run the command under :type service: str :param key: The key to delete. :type key: str :raises: CalledProcessError log(""Monitor config-key put failed with message: {}"" .format(e.output)) """"""Set a key value pair on the monitor cluster. :param service: The Ceph user name to run the command under. :type service str :param key: The key to set. :type key: str :param value: The value to set. This will be coerced into a string. :type value: str :raises: CalledProcessError log(""Monitor config-key put failed with message: {}"" .format(e.output)) """"""Get the value of an existing key in the monitor cluster. :param service: The Ceph user name to run the command under :type service: str :param key: The key to search for. :type key: str :rtype: Optional[str] log(""Monitor config-key get failed with message: {}"" .format(e.output)) """"""Search for existence of key in the monitor cluster. :param service: The Ceph user name to run the command under. :type service: str :param key: The key to search for. :type key: str :return: Returns True if the key exists, False if not. :rtype: bool :raises: CalledProcessError if an unknown error occurs. log(""Unknown error from ceph config-get exists: {} {}"" .format(e.returncode, e.output)) """"""Get an existing erasure code profile if it exists. :param service: The Ceph user name to run the command under. :type service: str :param name: Name of profile. :type name: str :returns: Dictionary with profile data. :rtype: Optional[Dict[str]] """"""Sets a value for a RADOS pool in ceph. :param service: The Ceph user name to run the command under. :type service: str :param pool_name: Name of pool to set property on. :type pool_name: str :param key: Property key. :type key: str :param value: Value, will be coerced into str and shifted to lowercase. :type value: str :raises: CalledProcessError cmd = [ 'ceph', '--id', service, 'osd', 'pool', 'set', pool_name, key, str(value).lower()] check_call(cmd) """"""Snapshots a RADOS pool in Ceph. :param service: The Ceph user name to run the command under. :type service: str :param pool_name: Name of pool to snapshot. :type pool_name: str :param snapshot_name: Name of snapshot to create. :type snapshot_name: str :raises: CalledProcessError cmd = [ 'ceph', '--id', service, 'osd', 'pool', 'mksnap', pool_name, snapshot_name] check_call(cmd) """"""Remove a snapshot from a RADOS pool in Ceph. :param service: The Ceph user name to run the command under. :type service: str :param pool_name: Name of pool to remove snapshot from. :type pool_name: str :param snapshot_name: Name of snapshot to remove. :type snapshot_name: str :raises: CalledProcessError cmd = [ 'ceph', '--id', service, 'osd', 'pool', 'rmsnap', pool_name, snapshot_name] check_call(cmd) """"""Set byte quota on a RADOS pool in Ceph. cmd = [ 'ceph', '--id', service, 'osd', 'pool', 'set-quota', pool_name] """"""Remove byte quota on a RADOS pool in Ceph. :param service: The Ceph user name to run the command under. :type service: str :param pool_name: Name of pool to remove quota from. :type pool_name: str :raises: CalledProcessError cmd = [ 'ceph', '--id', service, 'osd', 'pool', 'set-quota', pool_name, 'max_bytes', '0'] check_call(cmd) """"""Remove erasure code profile. :param service: The Ceph user name to run the command under :type service: str :param profile_name: Name of profile to remove. :type profile_name: str :raises: CalledProcessError cmd = [ 'ceph', '--id', service, 'osd', 'erasure-code-profile', 'rm', profile_name] check_call(cmd) def create_erasure_profile(service, profile_name, erasure_plugin_name='jerasure', failure_domain=None, helper_chunks=None, scalar_mds=None, crush_locality=None, device_class=None, erasure_plugin_technique=None): """"""Create a new erasure code profile if one does not already exist for it. Updates the profile if it exists. Please refer to [0] for more details. 0: http://docs.ceph.com/docs/master/rados/operations/erasure-code-profile/ :param service: The Ceph user name to run the command under. :type service: str :param profile_name: Name of profile. :type profile_name: str :param erasure_plugin_name: Erasure code plugin. :type erasure_plugin_name: str :param failure_domain: Failure domain, one of: ('chassis', 'datacenter', 'host', 'osd', 'pdu', 'pod', 'rack', 'region', 'room', 'root', 'row'). :type failure_domain: str :param data_chunks: Number of data chunks. :type data_chunks: int :param coding_chunks: Number of coding chunks. :type coding_chunks: int :param locality: Locality. :type locality: int :param durability_estimator: Durability estimator. :type durability_estimator: int :param helper_chunks: int :type helper_chunks: int :param device_class: Restrict placement to devices of specific class. :type device_class: str :param scalar_mds: one of ['isa', 'jerasure', 'shec'] :type scalar_mds: str :param crush_locality: LRC locality faulure domain, one of: ('chassis', 'datacenter', 'host', 'osd', 'pdu', 'pod', 'rack', 'region', 'room', 'root', 'row') or unset. :type crush_locaity: str :param erasure_plugin_technique: Coding technique for EC plugin :type erasure_plugin_technique: str :return: None. Can raise CalledProcessError, ValueError or AssertionError """""" plugin_techniques = { 'jerasure': [ 'reed_sol_van', 'reed_sol_r6_op', 'cauchy_orig', 'cauchy_good', 'liberation', 'blaum_roth', 'liber8tion' ], 'lrc': [], 'isa': [ 'reed_sol_van', 'cauchy', ], 'shec': [ 'single', 'multiple' ], 'clay': [], } failure_domains = [ 'chassis', 'datacenter', 'host', 'osd', 'pdu', 'pod', 'rack', 'region', 'room', 'root', 'row', ] device_classes = [ 'ssd', 'hdd', 'nvme' ] validator(erasure_plugin_name, six.string_types, list(plugin_techniques.keys())) cmd = [ 'ceph', '--id', service, 'osd', 'erasure-code-profile', 'set', profile_name, 'plugin={}'.format(erasure_plugin_name), 'k={}'.format(str(data_chunks)), 'm={}'.format(str(coding_chunks)), ] if erasure_plugin_technique: validator(erasure_plugin_technique, six.string_types, plugin_techniques[erasure_plugin_name]) cmd.append('technique={}'.format(erasure_plugin_technique)) # Set failure domain from options if not provided in args if not failure_domain and config('customize-failure-domain'): # Defaults to 'host' so just need to deal with # setting 'rack' if feature is enabled failure_domain = 'rack' if failure_domain: validator(failure_domain, six.string_types, failure_domains) # failure_domain changed in luminous if luminous_or_later: cmd.append('crush-failure-domain={}'.format(failure_domain)) else: cmd.append('ruleset-failure-domain={}'.format(failure_domain)) validator(device_class, six.string_types, device_classes) if erasure_plugin_name == 'lrc': # LRC mandatory configuration if locality: cmd.append('l={}'.format(str(locality))) else: raise ValueError(""locality must be provided for lrc plugin"") # LRC optional configuration if crush_locality: validator(crush_locality, six.string_types, failure_domains) cmd.append('crush-locality={}'.format(crush_locality)) if erasure_plugin_name == 'shec': # SHEC optional configuration if durability_estimator: cmd.append('c={}'.format((durability_estimator))) if erasure_plugin_name == 'clay': # CLAY optional configuration if helper_chunks: cmd.append('d={}'.format(str(helper_chunks))) if scalar_mds: cmd.append('scalar-mds={}'.format(scalar_mds)) check_call(cmd) """"""Rename a Ceph pool from old_name to new_name. :param service: The Ceph user name to run the command under. :type service: str :param old_name: Name of pool subject to rename. :type old_name: str :param new_name: Name to rename pool to. :type new_name: str cmd = [ 'ceph', '--id', service, 'osd', 'pool', 'rename', old_name, new_name] """"""Check to see if an Erasure code profile already exists. :param service: The Ceph user name to run the command under :type service: str :param name: Name of profile to look for. :type name: str :returns: True if it exists, False otherwise. :rtype: bool """"""Find the current caching mode of the pool_name given. :param service: The Ceph user name to run the command under :type service: str :param pool_name: Name of pool. :type pool_name: str :returns: Current cache mode. :rtype: Optional[int] """"""Update pool properties. :param client: Client/User-name to authenticate with. :type client: str :param pool: Name of pool to operate on :type pool: str :param settings: Dictionary with key/value pairs to set. :type settings: Dict[str, str] :raises: CalledProcessError """""" check_call(cmd + [k, v]) """"""Calls `osd pool application enable` for the specified pool name """"""Add a key to a keyring. def __init__(self, api_version=1, request_id=None, raw_request_data=None): """"""Initialize CephBrokerRq object. Builds a new empty request or rebuilds a request from on-wire JSON data. :param api_version: API version for request (default: 1). :type api_version: Optional[int] :param request_id: Unique identifier for request. (default: string representation of generated UUID) :type request_id: Optional[str] :param raw_request_data: JSON-encoded string to build request from. :type raw_request_data: Optional[str] :raises: KeyError """""" if raw_request_data: request_data = json.loads(raw_request_data) self.api_version = request_data['api-version'] self.request_id = request_data['request-id'] self.set_ops(request_data['ops']) else: self.api_version = api_version if request_id: self.request_id = request_id else: self.request_id = str(uuid.uuid1()) self.ops = [] # Use function parameters and docstring to define types in a compatible # manner. # # NOTE: Our caller should always use a kwarg Dict when calling us so # no need to maintain fixed order/position for parameters. Please keep them # sorted by name when adding new ones. def _partial_build_common_op_create(self, app_name=None, compression_algorithm=None, compression_mode=None, compression_required_ratio=None, compression_min_blob_size=None, compression_min_blob_size_hdd=None, compression_min_blob_size_ssd=None, compression_max_blob_size=None, compression_max_blob_size_hdd=None, compression_max_blob_size_ssd=None, group=None, max_bytes=None, max_objects=None, namespace=None, weight=None): """"""Build common part of a create pool operation. :param app_name: Tag pool with application name. Note that there is certain protocols emerging upstream with regard to meaningful application names to use. Examples are 'rbd' and 'rgw'. :type app_name: Optional[str] :param compression_algorithm: Compressor to use, one of: ('lz4', 'snappy', 'zlib', 'zstd') :type compression_algorithm: Optional[str] :param compression_mode: When to compress data, one of: ('none', 'passive', 'aggressive', 'force') :type compression_mode: Optional[str] :param compression_required_ratio: Minimum compression ratio for data chunk, if the requested ratio is not achieved the compressed version will be thrown away and the original stored. :type compression_required_ratio: Optional[float] :param compression_min_blob_size: Chunks smaller than this are never compressed (unit: bytes). :type compression_min_blob_size: Optional[int] :param compression_min_blob_size_hdd: Chunks smaller than this are not compressed when destined to rotational media (unit: bytes). :type compression_min_blob_size_hdd: Optional[int] :param compression_min_blob_size_ssd: Chunks smaller than this are not compressed when destined to flash media (unit: bytes). :type compression_min_blob_size_ssd: Optional[int] :param compression_max_blob_size: Chunks larger than this are broken into N * compression_max_blob_size chunks before being compressed (unit: bytes). :type compression_max_blob_size: Optional[int] :param compression_max_blob_size_hdd: Chunks larger than this are broken into N * compression_max_blob_size_hdd chunks before being compressed when destined for rotational media (unit: bytes) :type compression_max_blob_size_hdd: Optional[int] :param compression_max_blob_size_ssd: Chunks larger than this are broken into N * compression_max_blob_size_ssd chunks before being compressed when destined for flash media (unit: bytes). :type compression_max_blob_size_ssd: Optional[int] :param group: Group to add pool to :type group: Optional[str] :param max_bytes: Maximum bytes quota to apply :type max_bytes: Optional[int] :param max_objects: Maximum objects quota to apply :type max_objects: Optional[int] :param namespace: Group namespace :type namespace: Optional[str] :param weight: The percentage of data that is expected to be contained in the pool from the total available space on the OSDs. Used to calculate number of Placement Groups to create for pool. :type weight: Optional[float] :returns: Dictionary with kwarg name as key. :rtype: Dict[str,any] :raises: AssertionError """""" return { 'app-name': app_name, 'compression-algorithm': compression_algorithm, 'compression-mode': compression_mode, 'compression-required-ratio': compression_required_ratio, 'compression-min-blob-size': compression_min_blob_size, 'compression-min-blob-size-hdd': compression_min_blob_size_hdd, 'compression-min-blob-size-ssd': compression_min_blob_size_ssd, 'compression-max-blob-size': compression_max_blob_size, 'compression-max-blob-size-hdd': compression_max_blob_size_hdd, 'compression-max-blob-size-ssd': compression_max_blob_size_ssd, 'group': group, 'max-bytes': max_bytes, 'max-objects': max_objects, 'group-namespace': namespace, 'weight': weight, } **kwargs): Refer to docstring for ``_partial_build_common_op_create`` for documentation of keyword arguments. :raises: AssertionError if provided data is of invalid type/range if pg_num and kwargs.get('weight'): op = { 'op': 'create-pool', 'name': name, 'replicas': replica_count, 'pg_num': pg_num, } op.update(self._partial_build_common_op_create(**kwargs)) # Initialize Pool-object to validate type and range of ops. pool = ReplicatedPool('dummy-service', op=op) pool.validate() self.add_op(op) allow_ec_overwrites=False, **kwargs): Refer to docstring for ``_partial_build_common_op_create`` for documentation of keyword arguments. :param allow_ec_overwrites: allow EC pools to be overriden :type allow_ec_overwrites: bool :raises: AssertionError if provided data is of invalid type/range op = { 'op': 'create-pool', 'name': name, 'pool-type': 'erasure', 'erasure-profile': erasure_profile, 'allow-ec-overwrites': allow_ec_overwrites, } op.update(self._partial_build_common_op_create(**kwargs)) # Initialize Pool-object to validate type and range of ops. pool = ErasurePool('dummy-service', op) pool.validate() self.add_op(op) def add_op_create_erasure_profile(self, name, erasure_type='jerasure', erasure_technique=None, k=None, m=None, failure_domain=None, lrc_locality=None, shec_durability_estimator=None, clay_helper_chunks=None, device_class=None, clay_scalar_mds=None, lrc_crush_locality=None): """"""Adds an operation to create a erasure coding profile. :param name: Name of profile to create :type name: str :param erasure_type: Which of the erasure coding plugins should be used :type erasure_type: string :param erasure_technique: EC plugin technique to use :type erasure_technique: string :param k: Number of data chunks :type k: int :param m: Number of coding chunks :type m: int :param lrc_locality: Group the coding and data chunks into sets of size locality (lrc plugin) :type lrc_locality: int :param durability_estimator: The number of parity chuncks each of which includes a data chunk in its calculation range (shec plugin) :type durability_estimator: int :param helper_chunks: The number of helper chunks to use for recovery operations (clay plugin) :type: helper_chunks: int :param failure_domain: Type of failure domain from Ceph bucket types to be used :type failure_domain: string :param device_class: Device class to use for profile (ssd, hdd) :type device_class: string :param clay_scalar_mds: Plugin to use for CLAY layered construction (jerasure|isa|shec) :type clay_scaler_mds: string :param lrc_crush_locality: Type of crush bucket in which set of chunks defined by lrc_locality will be stored. :type lrc_crush_locality: string """""" self.add_op({'op': 'create-erasure-profile', 'name': name, 'k': k, 'm': m, 'l': lrc_locality, 'c': shec_durability_estimator, 'd': clay_helper_chunks, 'erasure-type': erasure_type, 'erasure-technique': erasure_technique, 'failure-domain': failure_domain, 'device-class': device_class, 'scalar-mds': clay_scalar_mds, 'crush-locality': lrc_crush_locality}) :param rid: Relation id to query for request :type rid: str :returns: CephBrokerRq object or None if relation data not found. :rtype: Optional[CephBrokerRq] return CephBrokerRq(raw_request_data=broker_req)"," """""" Used to validate these: http://docs.ceph.com/docs/master/rados/operations/pools/#set-pool-values :param value: The value to validate :return: assert isinstance(value, valid_type), ""{} is not a {}"".format( value, valid_type) if valid_range is not None: assert isinstance(valid_range, list), \ ""valid_range must be a list, was given {}"".format(valid_range) assert value in valid_range, \ ""{} is not in the list {}"".format(value, valid_range) ""Invalid valid_range list of {} for {}. "" assert value >= valid_range[0], \ ""{} is less than minimum allowed value of {}"".format( value, valid_range[0]) assert value <= valid_range[1], \ ""{} is greater than maximum allowed value of {}"".format( value, valid_range[1]) """""" A custom error to inform the caller that a pool creation failed. Provides an error messageclass Pool(object): """""" An object oriented approach to Ceph pool creation. This base class is inherited by ReplicatedPool and ErasurePool. Do not call create() on this base class as it will not do anything. Instantiate a child class and call create(). """""" def __init__(self, service, name): self.name = name # Create the pool if it doesn't exist already # To be implemented by subclasses def create(self): pass """""" Adds a new cache tier to an existing pool. :param cache_pool: six.string_types. The cache tier pool name to add. :param mode: six.string_types. The caching mode to use for this pool. valid range = [""readonly"", ""writeback""] :return: None validator(value=mode, valid_type=six.string_types, valid_range=[""readonly"", ""writeback""]) check_call(['ceph', '--id', self.service, 'osd', 'tier', 'add', self.name, cache_pool]) check_call(['ceph', '--id', self.service, 'osd', 'tier', 'cache-mode', cache_pool, mode]) check_call(['ceph', '--id', self.service, 'osd', 'tier', 'set-overlay', self.name, cache_pool]) check_call(['ceph', '--id', self.service, 'osd', 'pool', 'set', cache_pool, 'hit_set_type', 'bloom']) """""" Removes a cache tier from Ceph. Flushes all dirty objects from writeback pools and waits for that to complete. :param cache_pool: six.string_types. The cache tier pool name to remove. :return: None check_call(['ceph', '--id', self.service, 'osd', 'tier', 'cache-mode', cache_pool, 'none']) check_call(['ceph', '--id', self.service, 'osd', 'tier', 'remove', self.name, cache_pool]) check_call(['rados', '--id', self.service, '-p', cache_pool, 'cache-flush-evict-all']) check_call(['ceph', '--id', self.service, 'osd', 'tier', 'remove-overlay', self.name]) check_call(['ceph', '--id', self.service, 'osd', 'tier', 'remove', self.name, cache_pool]) :param pool_size: int. pool_size is either the number of replicas for :param percent_data: float. the percentage of data that is expected to :param device_class: str. class of storage to use for basis of pgs :return: int. The number of pgs to use. target_pgs_per_osd = config('pgs-per-osd') or DEFAULT_PGS_PER_OSD_TARGETclass ReplicatedPool(Pool): def __init__(self, service, name, pg_num=None, replicas=2, percent_data=10.0, app_name=None): super(ReplicatedPool, self).__init__(service=service, name=name) self.replicas = replicas self.percent_data = percent_data if pg_num: self.pg_num = min(pg_num, max_pgs) else: self.pg_num = self.get_pgs(self.replicas, percent_data) if app_name: self.app_name = app_name else: self.app_name = 'unknown' def create(self): if not pool_exists(self.service, self.name): nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 # Create it if nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, self.pg_num) ), self.name, str(self.pg_num) ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(self.pg_num) ] try: check_call(cmd) # Set the pool replica size update_pool(client=self.service, pool=self.name, settings={'size': str(self.replicas)}) if nautilus_or_later: # Ensure we set the expected pool ratio update_pool(client=self.service, pool=self.name, settings={'target_size_ratio': str(self.percent_data / 100.0)}) try: set_app_name_for_pool(client=self.service, pool=self.name, name=self.app_name) except CalledProcessError: log('Could not set app name for pool {}'.format(self.name), level=WARNING) if 'pg_autoscaler' in enabled_manager_modules(): try: enable_pg_autoscale(self.service, self.name) except CalledProcessError as e: log('Could not configure auto scaling for pool {}: {}'.format( self.name, e), level=WARNING) except CalledProcessError: raise # Default jerasure erasure coded pool class ErasurePool(Pool): def __init__(self, service, name, erasure_code_profile=""default"", percent_data=10.0, app_name=None): super(ErasurePool, self).__init__(service=service, name=name) self.erasure_code_profile = erasure_code_profile self.percent_data = percent_data if app_name: self.app_name = app_name else: self.app_name = 'unknown' def create(self): if not pool_exists(self.service, self.name): # Try to find the erasure profile information in order to properly # size the number of placement groups. The size of an erasure # coded placement group is calculated as k+m. erasure_profile = get_erasure_profile(self.service, self.erasure_code_profile) # Check for errors if erasure_profile is None: msg = (""Failed to discover erasure profile named "" ""{}"".format(self.erasure_code_profile)) log(msg, level=ERROR) raise PoolCreationError(msg) if 'k' not in erasure_profile or 'm' not in erasure_profile: # Error msg = (""Unable to find k (data chunks) or m (coding chunks) "" ""in erasure profile {}"".format(erasure_profile)) log(msg, level=ERROR) raise PoolCreationError(msg) k = int(erasure_profile['k']) m = int(erasure_profile['m']) pgs = self.get_pgs(k + m, self.percent_data) nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 # Create it if nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, pgs) ), self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] try: check_call(cmd) try: set_app_name_for_pool(client=self.service, pool=self.name, name=self.app_name) except CalledProcessError: log('Could not set app name for pool {}'.format(self.name), level=WARNING) if nautilus_or_later: # Ensure we set the expected pool ratio update_pool(client=self.service, pool=self.name, settings={'target_size_ratio': str(self.percent_data / 100.0)}) if 'pg_autoscaler' in enabled_manager_modules(): try: enable_pg_autoscale(self.service, self.name) except CalledProcessError as e: log('Could not configure auto scaling for pool {}: {}'.format( self.name, e), level=WARNING) except CalledProcessError: raise """"""Get an existing erasure code profile if it already exists. Returns json formatted output"""""" """""" Enable Ceph's PG autoscaler for the specified pool. :param service: six.string_types. The Ceph user name to run the command under :param pool_name: six.string_types. The name of the pool to enable sutoscaling on :raise: CalledProcessError if the command fails check_call(['ceph', '--id', service, 'osd', 'pool', 'set', pool_name, 'pg_autoscale_mode', 'on']) """""" Returns the current monitor map. :param service: six.string_types. The Ceph user name to run the command under :return: json string. :raise: ValueError if the monmap fails to parse. Also raises CalledProcessError if our ceph command fails """""" cluster. Hash the name of each monitor. Return a sorted list of monitor hashes in an ascending order. :param service: six.string_types. The Ceph user name to run the command under :rtype : dict. json dict of monitor name, ip address and rank example: { 'name': 'ip-172-31-13-165', 'rank': 0, 'addr': '172.31.13.165:6789/0'} """""" Delete a key and value pair from the monitor cluster :param service: six.string_types. The Ceph user name to run the command under :param key: six.string_types. The key to delete. log(""Monitor config-key put failed with message: {}"".format( e.output)) """""" Sets a key value pair on the monitor cluster. :param service: six.string_types. The Ceph user name to run the command under :param key: six.string_types. The key to set. :param value: The value to set. This will be converted to a string before setting log(""Monitor config-key put failed with message: {}"".format( e.output)) """""" Gets the value of an existing key in the monitor cluster. :param service: six.string_types. The Ceph user name to run the command under :param key: six.string_types. The key to search for. log(""Monitor config-key get failed with message: {}"".format( e.output)) """""" Searches for the existence of a key in the monitor cluster. :param service: six.string_types. The Ceph user name to run the command under :param key: six.string_types. The key to search for :return: Returns True if the key exists, False if not and raises an exception if an unknown error occurs. :raise: CalledProcessError if an unknown error occurs log(""Unknown error from ceph config-get exists: {} {}"".format( e.returncode, e.output)) """""" :param service: six.string_types. The Ceph user name to run the command under :param name: :return: Sets a value for a RADOS pool in ceph. :param service: six.string_types. The Ceph user name to run the command under :param pool_name: six.string_types :param key: six.string_types :param value: :return: None. Can raise CalledProcessError """""" cmd = ['ceph', '--id', service, 'osd', 'pool', 'set', pool_name, key, str(value).lower()] try: check_call(cmd) except CalledProcessError: raise Snapshots a RADOS pool in ceph. :param service: six.string_types. The Ceph user name to run the command under :param pool_name: six.string_types :param snapshot_name: six.string_types :return: None. Can raise CalledProcessError """""" cmd = ['ceph', '--id', service, 'osd', 'pool', 'mksnap', pool_name, snapshot_name] try: check_call(cmd) except CalledProcessError: raise Remove a snapshot from a RADOS pool in ceph. :param service: six.string_types. The Ceph user name to run the command under :param pool_name: six.string_types :param snapshot_name: six.string_types :return: None. Can raise CalledProcessError """""" cmd = ['ceph', '--id', service, 'osd', 'pool', 'rmsnap', pool_name, snapshot_name] try: check_call(cmd) except CalledProcessError: raise """""" cmd = ['ceph', '--id', service, 'osd', 'pool', 'set-quota', pool_name] Set a byte quota on a RADOS pool in ceph. :param service: six.string_types. The Ceph user name to run the command under :param pool_name: six.string_types :return: None. Can raise CalledProcessError """""" cmd = ['ceph', '--id', service, 'osd', 'pool', 'set-quota', pool_name, 'max_bytes', '0'] try: check_call(cmd) except CalledProcessError: raise Create a new erasure code profile if one does not already exist for it. Updates the profile if it exists. Please see http://docs.ceph.com/docs/master/rados/operations/erasure-code-profile/ for more details :param service: six.string_types. The Ceph user name to run the command under :param profile_name: six.string_types :return: None. Can raise CalledProcessError """""" cmd = ['ceph', '--id', service, 'osd', 'erasure-code-profile', 'rm', profile_name] try: check_call(cmd) except CalledProcessError: raise def create_erasure_profile(service, profile_name, erasure_plugin_name='jerasure', failure_domain='host', device_class=None): """""" Create a new erasure code profile if one does not already exist for it. Updates the profile if it exists. Please see http://docs.ceph.com/docs/master/rados/operations/erasure-code-profile/ for more details :param service: six.string_types. The Ceph user name to run the command under :param profile_name: six.string_types :param erasure_plugin_name: six.string_types :param failure_domain: six.string_types. One of ['chassis', 'datacenter', 'host', 'osd', 'pdu', 'pod', 'rack', 'region', 'room', 'root', 'row']) :param data_chunks: int :param coding_chunks: int :param locality: int :param durability_estimator: int :param device_class: six.string_types :return: None. Can raise CalledProcessError """""" # Ensure this failure_domain is allowed by Ceph validator(failure_domain, six.string_types, ['chassis', 'datacenter', 'host', 'osd', 'pdu', 'pod', 'rack', 'region', 'room', 'root', 'row']) cmd = ['ceph', '--id', service, 'osd', 'erasure-code-profile', 'set', profile_name, 'plugin=' + erasure_plugin_name, 'k=' + str(data_chunks), 'm=' + str(coding_chunks) ] if locality is not None and durability_estimator is not None: raise ValueError(""create_erasure_profile should be called with k, m and one of l or c but not both."") # failure_domain changed in luminous if luminous_or_later: cmd.append('crush-failure-domain=' + failure_domain) else: cmd.append('ruleset-failure-domain=' + failure_domain) if locality is not None: # For local erasure codes cmd.append('l=' + str(locality)) if durability_estimator is not None: # For Shec erasure codes cmd.append('c=' + str(durability_estimator)) try: check_call(cmd) except CalledProcessError: raise """""" Rename a Ceph pool from old_name to new_name :param service: six.string_types. The Ceph user name to run the command under :param old_name: six.string_types :param new_name: six.string_types :return: None cmd = ['ceph', '--id', service, 'osd', 'pool', 'rename', old_name, new_name] """""" Check to see if an Erasure code profile already exists. :param service: six.string_types. The Ceph user name to run the command under :param name: six.string_types :return: int or None """""" Find the current caching mode of the pool_name given. :param service: six.string_types. The Ceph user name to run the command under :param pool_name: six.string_types :return: int or None cmd.append(k) cmd.append(v) check_call(cmd) """""" Calls `osd pool application enable` for the specified pool name """""" Add a key to a keyring. def __init__(self, api_version=1, request_id=None): self.api_version = api_version if request_id: self.request_id = request_id else: self.request_id = str(uuid.uuid1()) self.ops = [] weight=None, group=None, namespace=None, app_name=None, max_bytes=None, max_objects=None): :param weight: The percentage of data that is expected to be contained in the pool from the total available space on the OSDs. Used to calculate number of Placement Groups to create for pool. :type weight: float :param group: Group to add pool to :type group: str :param namespace: Group namespace :type namespace: str :param app_name: (Optional) Tag pool with application name. Note that there is certain protocols emerging upstream with regard to meaningful application names to use. Examples are ``rbd`` and ``rgw``. :type app_name: str :param max_bytes: Maximum bytes quota to apply :type max_bytes: int :param max_objects: Maximum objects quota to apply :type max_objects: int if pg_num and weight: self.add_op({'op': 'create-pool', 'name': name, 'replicas': replica_count, 'pg_num': pg_num, 'weight': weight, 'group': group, 'group-namespace': namespace, 'app-name': app_name, 'max-bytes': max_bytes, 'max-objects': max_objects}) weight=None, group=None, app_name=None, max_bytes=None, max_objects=None): :param weight: The percentage of data that is expected to be contained in the pool from the total available space on the OSDs. :type weight: float :param group: Group to add pool to :type group: str :param app_name: (Optional) Tag pool with application name. Note that there is certain protocols emerging upstream with regard to meaningful application names to use. Examples are ``rbd`` and ``rgw``. :type app_name: str :param max_bytes: Maximum bytes quota to apply :type max_bytes: int :param max_objects: Maximum objects quota to apply :type max_objects: int self.add_op({'op': 'create-pool', 'name': name, 'pool-type': 'erasure', 'erasure-profile': erasure_profile, 'weight': weight, 'group': group, 'app-name': app_name, 'max-bytes': max_bytes, 'max-objects': max_objects}) @param rid: Relation id to query for request request = None request_data = json.loads(broker_req) request = CephBrokerRq(api_version=request_data['api-version'], request_id=request_data['request-id']) request.set_ops(request_data['ops']) return request",1004,434
openstack%2Fcharm-ceph-proxy~master~I89aa0f9fc7d5d2d480ebabc1cb17a86dcbef21bf,openstack/charm-ceph-proxy,master,I89aa0f9fc7d5d2d480ebabc1cb17a86dcbef21bf,Use charms.ceph for Ceph broker,MERGED,2020-08-06 05:55:29.000000000,2020-09-01 07:20:47.000000000,2020-09-01 07:20:47.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 05:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/ae155a5916021a7366f7825c92589c3c153a205d', 'message': 'Use charms.ceph for Ceph broker\n\nDrop use of local copy of ceph_broker.py in preference to the\ncentrally maintained copy in charms.ceph.\n\nChange-Id: I89aa0f9fc7d5d2d480ebabc1cb17a86dcbef21bf\n'}, {'number': 2, 'created': '2020-08-06 13:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/d5b96e4cc09f6ecb9134c62208a44ea42c84ffd9', 'message': 'Use charms.ceph for Ceph broker\n\nDrop use of local copy of ceph_broker.py in preference to the\ncentrally maintained copy in charms.ceph.\n\nChange-Id: I89aa0f9fc7d5d2d480ebabc1cb17a86dcbef21bf\n'}, {'number': 3, 'created': '2020-08-28 10:16:22.000000000', 'files': ['lib/.keep', 'lib/charms_ceph/utils.py', 'unit_tests/test_ceph_broker.py', 'Makefile', 'charmhelpers/contrib/storage/linux/ceph.py', 'hooks/ceph_hooks.py', 'lib/charms_ceph/crush_utils.py', 'hooks/ceph_broker.py', 'lib/charms_ceph/broker.py', 'hooks/install', 'hooks/upgrade-charm', 'lib/charms_ceph/__init__.py', 'hooks/install_deps'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f84e71392c32931e2d0e5c7e4bc1b4b704d80808', 'message': 'Use charms.ceph for Ceph broker\n\nDrop use of local copy of ceph_broker.py in preference to the\ncentrally maintained copy in charms.ceph.\n\nChange-Id: I89aa0f9fc7d5d2d480ebabc1cb17a86dcbef21bf\n'}]",0,745069,f84e71392c32931e2d0e5c7e4bc1b4b704d80808,15,4,3,935,,,0,"Use charms.ceph for Ceph broker

Drop use of local copy of ceph_broker.py in preference to the
centrally maintained copy in charms.ceph.

Change-Id: I89aa0f9fc7d5d2d480ebabc1cb17a86dcbef21bf
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/69/745069/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'lib/.keep', 'lib/charms_ceph/crush_utils.py', 'lib/charms_ceph/utils.py', 'unit_tests/test_ceph_broker.py', 'Makefile', 'hooks/ceph_broker.py', 'lib/charms_ceph/broker.py', 'lib/charms_ceph/__init__.py']",9,ae155a5916021a7366f7825c92589c3c153a205d,ec-support,,,4418,711
openstack%2Fkuryr-kubernetes~master~I161aa939bef327a19bd356306038e04e5854a385,openstack/kuryr-kubernetes,master,I161aa939bef327a19bd356306038e04e5854a385,[Trivial]Add missing print parameter in log messages,MERGED,2020-08-28 08:44:47.000000000,2020-09-01 07:18:50.000000000,2020-09-01 07:16:17.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-08-28 08:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d21dbd9e74ab8b39e877c333e8addd102fb8ec0d', 'message': '[Trivial]Add missing print parameter in log messages\n\nThis is to add missing print parameter and missing white spaces\nin logs messages.\n\nChange-Id: I161aa939bef327a19bd356306038e04e5854a385\n'}, {'number': 2, 'created': '2020-08-28 09:01:14.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4cf2d3eb2497470923339e7fc94b4744a4f82cb3', 'message': '[Trivial]Add missing print parameter in log messages\n\nThis is to add missing print parameter and missing white spaces\nin logs messages.\n\nChange-Id: I161aa939bef327a19bd356306038e04e5854a385\n'}]",1,748589,4cf2d3eb2497470923339e7fc94b4744a4f82cb3,17,5,2,20190,,,0,"[Trivial]Add missing print parameter in log messages

This is to add missing print parameter and missing white spaces
in logs messages.

Change-Id: I161aa939bef327a19bd356306038e04e5854a385
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/89/748589/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py']",2,d21dbd9e74ab8b39e877c333e8addd102fb8ec0d,missing_ws, LOG.exception('Error removing kuryrloadbalancer CRD finalizer ' LOG.exception('Error removing service finalizer ', LOG.exception('Error removing kuryrloadbalancer CRD finalizer' LOG.exception('Error removing service finalizer',3,3
openstack%2Fopenstack-helm-infra~master~I03ed11282413a454062ab34b8594ba60ac2175aa,openstack/openstack-helm-infra,master,I03ed11282413a454062ab34b8594ba60ac2175aa,Patroni exclusion for Postgres,MERGED,2020-04-24 23:08:54.000000000,2020-09-01 07:05:30.000000000,2020-09-01 07:01:44.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24816}]","[{'number': 1, 'created': '2020-04-24 23:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51d5a3a410627a4a2b2f1859b5b0042aace564f1', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 2, 'created': '2020-04-27 16:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1571ae511cc43522d113855ada0034933d53d100', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 3, 'created': '2020-04-28 00:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e880986087dcee9707dc293e9c9ffc7d23da4b3b', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 4, 'created': '2020-05-04 23:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/468101e4c5f8af925aa8cd6b6270c8f7bdbba268', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 5, 'created': '2020-05-05 23:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/64990864b602cfa6749e1073f25a7e8806498ea0', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 6, 'created': '2020-05-11 23:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b337e7a34eebf9c53b6e103f9818f1ef9e9462fa', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 7, 'created': '2020-05-19 23:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/704a604de876a5d6be219389dde5ad8586206b0e', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 8, 'created': '2020-05-20 23:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/183665e31ecfa2843b505e0a94ee99e285449f0f', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 9, 'created': '2020-05-20 23:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/589960d4322de88d1a97b8d205a72b4280a91953', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 10, 'created': '2020-07-08 00:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/12faffca0623f8bcd705557f96339eab567d0b12', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 11, 'created': '2020-08-04 15:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d356bc7c7232af641b6ac8b8cf5f64d85ab09ffc', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 12, 'created': '2020-08-12 18:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce84eac5831b72fe2217649b1df5f78b268ed842', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}, {'number': 13, 'created': '2020-08-31 18:03:04.000000000', 'files': ['postgresql/templates/configmap-bin.yaml', 'tools/deployment/common/postgresql.sh', 'postgresql/templates/statefulset.yaml', 'postgresql/templates/secret-replica.yaml', 'postgresql/values.yaml', 'postgresql/templates/bin/_set_password.sh.tpl', 'postgresql/templates/secret-server.yaml', 'postgresql/templates/configmap-etc.yaml', 'postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/bin/_patroni_conversion.sh.tpl', 'postgresql/templates/bin/_readiness.sh.tpl', 'postgresql/templates/service-postgres.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96369491cbe92cb0169920342682290cbb437687', 'message': 'Patroni exclusion for Postgres\n\nThis PS removes the previously put in place HA clustering support\nPatroni provided.\n\nChange-Id: I03ed11282413a454062ab34b8594ba60ac2175aa\n'}]",0,723053,96369491cbe92cb0169920342682290cbb437687,42,4,13,24816,,,0,"Patroni exclusion for Postgres

This PS removes the previously put in place HA clustering support
Patroni provided.

Change-Id: I03ed11282413a454062ab34b8594ba60ac2175aa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/723053/5 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/configmap-bin.yaml', 'postgresql/templates/configmap-etc.yaml', 'postgresql/templates/bin/_start.sh.tpl', 'postgresql/templates/bin/_patroni_conversion.sh.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/templates/secret-replica.yaml', 'postgresql/values.yaml', 'postgresql/templates/bin/_set_password.sh.tpl', 'postgresql/templates/secret-server.yaml', 'postgresql/templates/bin/_readiness.sh.tpl', 'postgresql/templates/service-postgres.yaml']",11,51d5a3a410627a4a2b2f1859b5b0042aace564f1,patroni-remove," - name: db selector: {{ tuple $envAll ""postgresql"" ""server"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }}", - name: postgresql,35,687
openstack%2Fdevstack~master~I178d3493d62918837e8970d945a11d7cafaac0aa,openstack/devstack,master,I178d3493d62918837e8970d945a11d7cafaac0aa,[dnm] testing suspected break of setuptools 50,ABANDONED,2020-08-31 00:38:04.000000000,2020-09-01 07:01:39.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 00:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dad44c142af298f29d9df47e202cbc2447eef8c2', 'message': '[dnm] testing suspected break of setuptools 50\n\nChange-Id: I178d3493d62918837e8970d945a11d7cafaac0aa\n'}, {'number': 2, 'created': '2020-08-31 03:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fd0f19e68d3018354edbb38634c04f38d1aa0e66', 'message': '[dnm] testing suspected break of setuptools 50\n\nDepends-On: https://review.opendev.org/748943\nChange-Id: I178d3493d62918837e8970d945a11d7cafaac0aa\n'}, {'number': 3, 'created': '2020-08-31 04:21:02.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c3eb158e21f2b1539a4cdf757519dad362ba52cc', 'message': '[dnm] testing suspected break of setuptools 50\n\nthis pins setuptools\n\nDepends-On: https://review.opendev.org/748943\nChange-Id: I178d3493d62918837e8970d945a11d7cafaac0aa\n'}]",0,748934,c3eb158e21f2b1539a4cdf757519dad362ba52cc,9,2,3,7118,,,0,"[dnm] testing suspected break of setuptools 50

this pins setuptools

Depends-On: https://review.opendev.org/748943
Change-Id: I178d3493d62918837e8970d945a11d7cafaac0aa
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/748934/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,dad44c142af298f29d9df47e202cbc2447eef8c2,setuptools-50-test,# Testing ,,2,0
openstack%2Fdevstack~master~I28a5af0af374a795a81402db6c481ff31972ca1b,openstack/devstack,master,I28a5af0af374a795a81402db6c481ff31972ca1b,[dnm] Use packaged pip,ABANDONED,2020-08-31 02:48:41.000000000,2020-09-01 07:01:26.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 02:48:41.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b8ec2bfee99dd4e7717505c554246800702c1aed', 'message': '[dnm] Use packaged pip\n\nsetuptools 50.0.0 has broken compatability with debuntu.  This means\ninstalling the latest pip from upstream is broken on this distro.\nSince we use the packaged interpreter, we should use the packaged pip\ntools.\n\nChange-Id: I28a5af0af374a795a81402db6c481ff31972ca1b\n'}]",0,748942,b8ec2bfee99dd4e7717505c554246800702c1aed,4,2,1,7118,,,0,"[dnm] Use packaged pip

setuptools 50.0.0 has broken compatability with debuntu.  This means
installing the latest pip from upstream is broken on this distro.
Since we use the packaged interpreter, we should use the packaged pip
tools.

Change-Id: I28a5af0af374a795a81402db6c481ff31972ca1b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/42/748942/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,b8ec2bfee99dd4e7717505c554246800702c1aed,packaged-pip,"install_package python3-pip python3-setuptools python3-wheel #if [[ ""$OFFLINE"" != ""True"" ]]; then # PYPI_ALTERNATIVE_URL=${PYPI_ALTERNATIVE_URL:-""""} $TOP_DIR/tools/install_pip.sh #fi","if [[ ""$OFFLINE"" != ""True"" ]]; then PYPI_ALTERNATIVE_URL=${PYPI_ALTERNATIVE_URL:-""""} $TOP_DIR/tools/install_pip.sh fi",5,3
openstack%2Fopenstack-helm-infra~master~I2c0593997c663babff65a89d23ea2581c1da39d0,openstack/openstack-helm-infra,master,I2c0593997c663babff65a89d23ea2581c1da39d0,Add default reject rule in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.,ABANDONED,2020-08-27 10:41:27.000000000,2020-09-01 06:29:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 32353}]","[{'number': 1, 'created': '2020-08-27 10:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fe477f7b85e210513396885122180582565e911', 'message': 'Add default reject rule in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nChange-Id: I2c0593997c663babff65a89d23ea2581c1da39d0\n'}, {'number': 2, 'created': '2020-08-27 13:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c72fb87aff9d36f165a3767c858188da49b7d843', 'message': 'Add default reject rule in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nChange-Id: I2c0593997c663babff65a89d23ea2581c1da39d0\n'}, {'number': 3, 'created': '2020-08-28 07:23:55.000000000', 'files': ['postgresql/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3066ea1ab5fe3ac3449f609878c1d8bbf1bb8a55', 'message': 'Add default reject rule in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.\n\nChange-Id: I2c0593997c663babff65a89d23ea2581c1da39d0\n'}]",0,748409,3066ea1ab5fe3ac3449f609878c1d8bbf1bb8a55,13,2,3,32353,,,0,"Add default reject rule in Postgres pg_hba.conf to ensure all connections must be explicitly allowed.

Change-Id: I2c0593997c663babff65a89d23ea2581c1da39d0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/09/748409/2 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/values.yaml'],1,7fe477f7b85e210513396885122180582565e911,, - host all all 0.0.0.0/0 reject - host all all 0.0.0.0/0 reject, - host all all 0.0.0.0/0 md5 - host all all 0.0.0.0/0 md5,2,2
openstack%2Ftrove~master~I24f3963c32a226411af8fe3155ff7d4a8ab5a880,openstack/trove,master,I24f3963c32a226411af8fe3155ff7d4a8ab5a880,[API doc] Add more description for deleting backups,MERGED,2020-09-01 02:01:05.000000000,2020-09-01 06:14:15.000000000,2020-09-01 06:10:29.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 02:01:05.000000000', 'files': ['api-ref/source/backups.inc'], 'web_link': 'https://opendev.org/openstack/trove/commit/77ca2079a856494bc1f7be08b9a918ebe152ca7d', 'message': '[API doc] Add more description for deleting backups\n\nChange-Id: I24f3963c32a226411af8fe3155ff7d4a8ab5a880\n'}]",0,749170,77ca2079a856494bc1f7be08b9a918ebe152ca7d,7,2,1,6732,,,0,"[API doc] Add more description for deleting backups

Change-Id: I24f3963c32a226411af8fe3155ff7d4a8ab5a880
",git fetch https://review.opendev.org/openstack/trove refs/changes/70/749170/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/backups.inc'],1,77ca2079a856494bc1f7be08b9a918ebe152ca7d,api-backup,Deletes a database backup. All the child backups are deleted automatically when a parent backup is deleted.,Deletes a database backup.,2,1
openstack%2Ftrove~master~I7c77b210f5a1438739daebffea104eda3bda1a45,openstack/trove,master,I7c77b210f5a1438739daebffea104eda3bda1a45,PostgreSQL support,MERGED,2020-08-31 10:47:10.000000000,2020-09-01 06:12:36.000000000,2020-09-01 06:10:27.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 10:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/893ee66fe1cd9f95e52b8f64b832b1787399f0cb', 'message': 'PostgreSQL support\n\nChange-Id: I7c77b210f5a1438739daebffea104eda3bda1a45\n'}, {'number': 2, 'created': '2020-08-31 20:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/eca73daed92804444f16c6a6a51643c09b277c07', 'message': 'PostgreSQL support\n\nChange-Id: I7c77b210f5a1438739daebffea104eda3bda1a45\n'}, {'number': 3, 'created': '2020-09-01 01:58:15.000000000', 'files': ['trove/guestagent/datastore/postgres/__init__.py', 'test-requirements.txt', 'trove/guestagent/common/configuration.py', 'trove/instance/models.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/datastore/postgres/query.py', 'trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/templates/postgresql/config.template', 'requirements.txt', 'trove/guestagent/datastore/manager.py', 'trove/common/cfg.py', 'trove/guestagent/strategies/replication/mysql_base.py', 'trove/guestagent/guest_log.py', 'trove/instance/service_status.py', 'trove/guestagent/common/operating_system.py', 'lower-constraints.txt', 'trove/guestagent/dbaas.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/module/module_manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/guestagent_utils.py', 'trove/common/stream_codecs.py', 'trove/tests/scenario/runners/configuration_runners.py', 'trove/guestagent/volume.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/d0cfb41b25ab600fef5708c3058c8057e38689b7', 'message': 'PostgreSQL support\n\nChange-Id: I7c77b210f5a1438739daebffea104eda3bda1a45\n'}]",0,749027,d0cfb41b25ab600fef5708c3058c8057e38689b7,11,2,3,6732,,,0,"PostgreSQL support

Change-Id: I7c77b210f5a1438739daebffea104eda3bda1a45
",git fetch https://review.opendev.org/openstack/trove refs/changes/27/749027/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/__init__.py', 'trove/guestagent/common/configuration.py', 'trove/instance/models.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/datastore/postgres/query.py', 'trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/templates/postgresql/config.template', 'requirements.txt', 'trove/guestagent/datastore/manager.py', 'trove/common/cfg.py', 'trove/guestagent/strategies/replication/mysql_base.py', 'trove/guestagent/guest_log.py', 'trove/instance/service_status.py', 'trove/guestagent/common/operating_system.py', 'lower-constraints.txt', 'trove/guestagent/dbaas.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/module/module_manager.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/common/guestagent_utils.py', 'trove/common/stream_codecs.py', 'trove/tests/scenario/runners/configuration_runners.py', 'trove/guestagent/volume.py']",24,893ee66fe1cd9f95e52b8f64b832b1787399f0cb,postgres," operating_system.ensure_directory(self.mount_point, as_root=True)"," operating_system.create_directory(self.mount_point, as_root=True)",1450,490
openstack%2Fproject-config~master~I22544ca3e8f8763019f8f37d13363cd12eccd3bb,openstack/project-config,master,I22544ca3e8f8763019f8f37d13363cd12eccd3bb,Retire kolla-cli project - step 1 end project gating,ABANDONED,2020-05-23 07:31:22.000000000,2020-09-01 05:42:56.000000000,,"[{'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 30356}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-05-23 07:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/972523daa7a90809db31089df32cd48636660248', 'message': 'Retire kolla-cli project - step 1 end project gating\n\nThe kolla-cli repository have been retired.\n\nChange-Id: I22544ca3e8f8763019f8f37d13363cd12eccd3bb\nNeeded-By: https://review.opendev.org/#/c/730430/\n'}, {'number': 2, 'created': '2020-05-23 07:40:51.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7225f74a92114608de95fcbc50f6f0648ff0aad5', 'message': 'Retire kolla-cli project - step 1 end project gating\n\nThe kolla-cli repository have been retired.\n\nNeeded-By: https://review.opendev.org/#/c/730430/\nNeeded-By: https://review.opendev.org/#/c/730432/\n\nChange-Id: I22544ca3e8f8763019f8f37d13363cd12eccd3bb\n'}]",0,730431,7225f74a92114608de95fcbc50f6f0648ff0aad5,11,13,2,30356,,,0,"Retire kolla-cli project - step 1 end project gating

The kolla-cli repository have been retired.

Needed-By: https://review.opendev.org/#/c/730430/
Needed-By: https://review.opendev.org/#/c/730432/

Change-Id: I22544ca3e8f8763019f8f37d13363cd12eccd3bb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/730431/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,972523daa7a90809db31089df32cd48636660248,,, name: openstack/kolla-cli templates: - official-openstack-repo-jobs - publish-to-pypi - project:,0,6
openstack%2Fproject-config~master~Ie9d958b3974a68caf91b17fa65f73ab5150f8d09,openstack/project-config,master,Ie9d958b3974a68caf91b17fa65f73ab5150f8d09,Retire kolla-cli project - step 3 remove from infra system,ABANDONED,2020-05-23 07:40:08.000000000,2020-09-01 05:42:26.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-23 07:40:08.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/openstack/kolla-cli.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c004a39c331801b1c67187aa70225b2b5ea1e63a', 'message': 'Retire kolla-cli project - step 3 remove from infra system\n\nDepends-On: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2\nChange-Id: Ie9d958b3974a68caf91b17fa65f73ab5150f8d09\n'}]",0,730432,c004a39c331801b1c67187aa70225b2b5ea1e63a,6,4,1,30356,,,0,"Retire kolla-cli project - step 3 remove from infra system

Depends-On: Id5ea94bdb2ec18ae3bfd97cfe1fdd71439ff95f2
Change-Id: Ie9d958b3974a68caf91b17fa65f73ab5150f8d09
",git fetch https://review.opendev.org/openstack/project-config refs/changes/32/730432/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/openstack/kolla-cli.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",5,c004a39c331801b1c67187aa70225b2b5ea1e63a,,, - openstack/kolla-cli,2,34
openstack%2Fnova~master~I1f787b9a77247b1d231f6f46eb426fdeb471426d,openstack/nova,master,I1f787b9a77247b1d231f6f46eb426fdeb471426d,[PoC] Implements snapshot interface for ironic,NEW,2020-09-01 03:21:02.000000000,2020-09-01 05:11:10.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 03:21:02.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py', 'nova/virt/ironic/ironic_states.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f52df3d87aa2b953f20362252320e3df0a977016', 'message': '[PoC] Implements snapshot interface for ironic\n\nThis is the nova side change wrt the snapshot feature of ironic,\nproposed as a basis for discussion.\n\nThe spec of ironic is here: https://review.opendev.org/#/c/746935/\n\nChange-Id: I1f787b9a77247b1d231f6f46eb426fdeb471426d\n'}]",0,749174,f52df3d87aa2b953f20362252320e3df0a977016,5,4,1,24828,,,0,"[PoC] Implements snapshot interface for ironic

This is the nova side change wrt the snapshot feature of ironic,
proposed as a basis for discussion.

The spec of ironic is here: https://review.opendev.org/#/c/746935/

Change-Id: I1f787b9a77247b1d231f6f46eb426fdeb471426d
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/749174/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/ironic/utils.py', 'nova/virt/ironic/ironic_states.py']",4,f52df3d87aa2b953f20362252320e3df0a977016,snapshot,"SNAPSHOTING = 'snapshoting' """""" Node is in process of snapshoting. """""" SNAPSHOTWAIT = 'snapshot wait' """""" Node is waiting on an external callback. """""" SNAPSHOTFAIL = 'snapshot fail' """""" Node snapshot failed. """""" ",,364,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3ba96d6e4a0217d32c086f99a27e3e85db21c082,openstack/tripleo-heat-templates,stable/ussuri,I3ba96d6e4a0217d32c086f99a27e3e85db21c082,Create Container configs with a new module,MERGED,2020-08-24 12:36:25.000000000,2020-09-01 05:03:05.000000000,2020-09-01 05:03:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 12:36:25.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b54a4be78b1ab82d0509e207407ddf03e654088a', 'message': 'Create Container configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n(cherry picked from commit a266382244576d8f9758316993ce9ac23ee9fe9b)\n'}]",0,747705,b54a4be78b1ab82d0509e207407ddf03e654088a,18,4,1,3153,,,0,"Create Container configs with a new module

To avoid the repetition of the copy module in a loop for each config,
which increases deployment time at scale, replace it via a module that
will run faster to create the json files.

Change-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082
(cherry picked from commit a266382244576d8f9758316993ce9ac23ee9fe9b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/747705/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,b54a4be78b1ab82d0509e207407ddf03e654088a,config/json-stable/ussuri,"- name: Write container config json files tripleo_container_configs: config_data: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default({}, True) | from_yaml }}""","- name: Write kolla config json files no_log: True copy: content: ""{{ item[1] | to_nice_json }}"" dest: ""{{ item[0] }}"" force: yes mode: '0600' setype: container_file_t loop: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default([], True) | from_yaml | dictsort }}"" loop_control: label: ""{{ item[0] }}""",3,11
openstack%2Ftripleo-ansible~master~I9d08168015487c48d8b380a9575ba236b7fb7d0d,openstack/tripleo-ansible,master,I9d08168015487c48d8b380a9575ba236b7fb7d0d,Expose tripleo_container_manage_clean_orphans var,MERGED,2020-08-28 10:18:32.000000000,2020-09-01 04:31:59.000000000,2020-08-31 15:31:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 10:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3156d00ad916b77cfa127d54f1f34182e38eba6c', 'message': 'WIP Expose tripleo_container_manage_clean_orphans var\n\nThis exposes new var for tripleo_container_manage. Also,\nremoves the check to force set clean_orphans=True in\nneeds_delete filter, when there is one or no item in\nthe startup config.\n\nThere is a possibility when disabling services, there would\nbe one or zero container_startup_configs for a step.\n\nPartial-Bug: #1893335\nChange-Id: I9d08168015487c48d8b380a9575ba236b7fb7d0d\n'}, {'number': 2, 'created': '2020-08-31 02:33:58.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b93165288341659c956cdf71fa1903d62d61d7e', 'message': 'Expose tripleo_container_manage_clean_orphans var\n\nThis exposes new var for tripleo_container_manage. Also,\nremoves the check to force set clean_orphans=True in\nneeds_delete filter, when there is one or no item in\nthe startup config.\n\nThere is a possibility when disabling services, there would\nbe one or zero container_startup_configs for a step.\n\nPartial-Bug: #1893335\nChange-Id: I9d08168015487c48d8b380a9575ba236b7fb7d0d\n'}]",1,748598,1b93165288341659c956cdf71fa1903d62d61d7e,19,5,2,8833,,,0,"Expose tripleo_container_manage_clean_orphans var

This exposes new var for tripleo_container_manage. Also,
removes the check to force set clean_orphans=True in
needs_delete filter, when there is one or no item in
the startup config.

There is a possibility when disabling services, there would
be one or zero container_startup_configs for a step.

Partial-Bug: #1893335
Change-Id: I9d08168015487c48d8b380a9575ba236b7fb7d0d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/748598/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml']",7,3156d00ad916b77cfa127d54f1f34182e38eba6c,,tripleo_container_manage_clean_orphans: true,,13,18
openstack%2Fcyborg~master~Ibef3a5327a838b4867ed8d93951f6138c9f76a7d,openstack/cyborg,master,Ibef3a5327a838b4867ed8d93951f6138c9f76a7d,Add a new driver for Intel QAT card,MERGED,2020-05-06 10:23:31.000000000,2020-09-01 02:15:39.000000000,2020-09-01 02:14:26.000000000,"[{'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-05-06 10:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e341284a15499e5cfeb25f9efed480c17b4c44fc', 'message': 'Add a new driver for QAT card\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 2, 'created': '2020-05-06 10:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6cb87db0f76e516a51fc74c4f850cedbb48327ab', 'message': 'Add a new driver for QAT card\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 3, 'created': '2020-05-27 10:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/148d015508add122fe711b8b06f22d27c6901223', 'message': 'Add a new driver for QAT card\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 4, 'created': '2020-08-04 07:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f5f23cdb67f3000c73327f301a55cac1566281af', 'message': 'Add a new driver for QAT card\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 5, 'created': '2020-08-04 07:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/add1ed8753c5261244c426a13b6d5d2d7f45fe2e', 'message': 'Add a new driver for QAT card\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 6, 'created': '2020-08-18 06:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8fdb6ff9f4eb7cd4960ade885306dd33d5a768bb', 'message': 'Add a new driver for Intel QAT card\n\nPlease see the test report in https://etherpad.opendev.org/p/intel-qat-driver-test-report.\nThis patch implemented Intel QAT driver in Cyborg. The spec is already merged.\nPlease see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/victoria/approved/qat-driver-proposal.html\n\nStory: 2008025\nTask: 40679\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 7, 'created': '2020-08-18 06:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5eab9ff83fa7a7188ca3ffb4387a375764c54a34', 'message': 'Add a new driver for Intel QAT card\n\nPlease see the test report in https://etherpad.opendev.org/p/intel-qat-driver-test-report.\nThis patch implemented Intel QAT driver in Cyborg. The spec is already merged.\nPlease see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/victoria/approved/qat-driver-proposal.html\n\nStory: 2008025\nTask: 40679\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 8, 'created': '2020-08-27 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/81e115c2369c312efafdc97dd59de1170e86129a', 'message': 'Add a new driver for Intel QAT card\n\nPlease see the test report in https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelQAT.\nThis patch implemented Intel QAT driver in Cyborg. The spec is already merged.\nPlease see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/victoria/approved/qat-driver-proposal.html\n\nStory: 2008025\nTask: 40679\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 9, 'created': '2020-08-27 09:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b843ea62e1caaf701af6e082f9fd534115d2b7d6', 'message': 'Add a new driver for Intel QAT card\n\nPlease see the test report in https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelQAT.\nThis patch implemented Intel QAT driver in Cyborg. The spec is already merged.\nPlease see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/victoria/approved/qat-driver-proposal.html\n\nStory: 2008025\nTask: 40679\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 10, 'created': '2020-08-28 06:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/263a053e8b4b4e71dfbc0cd45cea96ddd15a7b13', 'message': 'Add a new driver for Intel QAT card\n\nPlease see the test report in https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelQAT.\nThis patch implemented Intel QAT driver in Cyborg. The spec is already merged.\nPlease see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/victoria/approved/qat-driver-proposal.html\n\nStory: 2008025\nTask: 40679\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}, {'number': 11, 'created': '2020-08-28 09:25:08.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/tests/unit/accelerator/drivers/qat/test_base.py', 'cyborg/accelerator/drivers/qat/intel/driver.py', 'cyborg/accelerator/drivers/qat/base.py', 'cyborg/accelerator/drivers/qat/intel/sysinfo.py', 'cyborg/db/sqlalchemy/alembic/versions/7e6f1f107f2b_add_qat_type.py', 'cyborg/db/sqlalchemy/models.py', 'cyborg/accelerator/drivers/qat/intel/__init__.py', 'cyborg/tests/unit/accelerator/drivers/qat/intel/__init__.py', 'cyborg/tests/unit/accelerator/drivers/qat/intel/test_driver.py', 'cyborg/tests/unit/accelerator/drivers/qat/__init__.py', 'cyborg/tests/unit/accelerator/drivers/qat/intel/prepare_test_data.py', 'setup.cfg', 'cyborg/accelerator/drivers/qat/__init__.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d560ec1fc3539e6883401b7edadaeda73d454634', 'message': 'Add a new driver for Intel QAT card\n\nPlease see the test report in https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelQAT.\nThis patch implemented Intel QAT driver in Cyborg. The spec is already merged.\nPlease see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/victoria/approved/qat-driver-proposal.html\n\nStory: 2008025\nTask: 40679\n\nChange-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d\nCo-Authored-By: Jintao Wang(jintao.wang@intel.com)\n'}]",22,725821,d560ec1fc3539e6883401b7edadaeda73d454634,59,9,11,25738,,,0,"Add a new driver for Intel QAT card

Please see the test report in https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelQAT.
This patch implemented Intel QAT driver in Cyborg. The spec is already merged.
Please see:
https://specs.openstack.org/openstack/cyborg-specs/specs/victoria/approved/qat-driver-proposal.html

Story: 2008025
Task: 40679

Change-Id: Ibef3a5327a838b4867ed8d93951f6138c9f76a7d
Co-Authored-By: Jintao Wang(jintao.wang@intel.com)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/21/725821/9 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/constants.py', 'cyborg/tests/unit/accelerator/drivers/qat/test_base.py', 'cyborg/accelerator/drivers/qat/intel/driver.py', 'cyborg/accelerator/drivers/qat/base.py', 'cyborg/accelerator/drivers/qat/intel/sysinfo.py', 'cyborg/db/sqlalchemy/alembic/versions/7e6f1f107f2b_add_qat_type.py', 'cyborg/db/sqlalchemy/models.py', 'cyborg/accelerator/drivers/qat/intel/__init__.py', 'cyborg/tests/unit/accelerator/drivers/qat/intel/__init__.py', 'cyborg/cyborg.sqlite', 'cyborg/tests/unit/accelerator/drivers/qat/intel/test_driver.py', 'cyborg/tests/unit/accelerator/drivers/qat/__init__.py', 'cyborg/tests/unit/accelerator/drivers/qat/intel/prepare_test_data.py', 'setup.cfg', 'cyborg/accelerator/drivers/qat/__init__.py']",15,e341284a15499e5cfeb25f9efed480c17b4c44fc,qat-support,,,720,5
openstack%2Ftripleo-common~stable%2Ftrain~Ibcb3e17e51d7ee9562c28145d17932e398aff6e3,openstack/tripleo-common,stable/train,Ibcb3e17e51d7ee9562c28145d17932e398aff6e3,Remove tripleo.skydive_ansible.v1 workbook,MERGED,2020-08-28 15:00:10.000000000,2020-09-01 02:08:30.000000000,2020-09-01 02:07:21.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-28 15:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c53b8e7436fa4dac2179f635da89f034716be912', 'message': ""Remove tripleo.skydive_ansible.v1 workbook\n\nIt's long been moved to ansible tasks with change\nI9b9104ab3e8631addbca4d008d9a1d868e1c20fb.\n\nChange-Id: Ibcb3e17e51d7ee9562c28145d17932e398aff6e3\n(cherry picked from commit 0fb6168a08e649714f9543019b6c06086ed6f38e)\n""}, {'number': 2, 'created': '2020-08-29 03:47:30.000000000', 'files': ['workbooks/skydive-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9b994a2e2d2fbd507c154c93c24b0dd64cdf8751', 'message': ""Remove tripleo.skydive_ansible.v1 workbook\n\nIt's long been moved to ansible tasks with change\nI9b9104ab3e8631addbca4d008d9a1d868e1c20fb.\n\nChange-Id: Ibcb3e17e51d7ee9562c28145d17932e398aff6e3\n(cherry picked from commit 0fb6168a08e649714f9543019b6c06086ed6f38e)\n""}]",0,748687,9b994a2e2d2fbd507c154c93c24b0dd64cdf8751,14,5,2,3153,,,0,"Remove tripleo.skydive_ansible.v1 workbook

It's long been moved to ansible tasks with change
I9b9104ab3e8631addbca4d008d9a1d868e1c20fb.

Change-Id: Ibcb3e17e51d7ee9562c28145d17932e398aff6e3
(cherry picked from commit 0fb6168a08e649714f9543019b6c06086ed6f38e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/748687/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/skydive-ansible.yaml'],1,c53b8e7436fa4dac2179f635da89f034716be912,skydive/removal/train,,"--- version: '2.0' name: tripleo.skydive_ansible.v1 description: TripleO manages Skydive with skydive-ansible workflows: skydive_install: # allows for additional extra_vars via workflow input input: - ansible_playbook_verbosity: 0 - ansible_extra_env_variables: ANSIBLE_ROLES_PATH: /usr/share/skydive-ansible/roles/ ANSIBLE_RETRY_FILES_ENABLED: 'False' ANSIBLE_LOG_PATH: /var/log/mistral/skydive-install-workflow.log ANSIBLE_HOST_KEY_CHECKING: 'False' - skydive_ansible_extra_vars: {} - skydive_ansible_playbook: /usr/share/skydive-ansible/playbook.yml.sample tags: - tripleo-common-managed tasks: set_blacklisted_ips: publish: blacklisted_ips: <% env().get('blacklisted_ip_addresses', []) %> on-success: set_ip_lists set_ip_lists: publish: agent_ips: <% let(root => $) -> env().get('service_ips', {}).get('skydive_agent_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> analyzer_ips: <% let(root => $) -> env().get('service_ips', {}).get('skydive_analyzer_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> on-success: enable_ssh_admin enable_ssh_admin: workflow: tripleo.access.v1.enable_ssh_admin input: ssh_servers: <% ($.agent_ips + $.analyzer_ips).toSet() %> on-success: get_private_key get_private_key: action: tripleo.validations.get_privkey publish: private_key: <% task().result %> on-success: set_fork_count set_fork_count: publish: # unique list of all IPs: make each list a set, take unions and count fork_count: <% min($.agent_ips.toSet().union($.analyzer_ips.toSet()).count(), 100) %> # don't use >100 forks on-success: set_role_vars set_role_vars: publish: # NOTE(sbaubeau): collect role settings from all tht roles agent_vars: <% env().get('role_merged_configs', {}).values().select($.get('skydive_agent_ansible_vars', {})).aggregate($1 + $2) %> analyzer_vars: <% env().get('role_merged_configs', {}).values().select($.get('skydive_analyzer_ansible_vars', {})).aggregate($1 + $2) %> on-success: build_extra_vars build_extra_vars: publish: # NOTE(sbaubeau): merge vars from all ansible roles extra_vars: <% $.agent_vars + $.analyzer_vars + $.skydive_ansible_extra_vars %> on-success: skydive_install skydive_install: action: tripleo.ansible-playbook input: inventory: agents: hosts: <% $.agent_ips.toDict($, {}) %> analyzers: hosts: <% $.analyzer_ips.toDict($, {}) %> playbook: <% $.skydive_ansible_playbook %> remote_user: tripleo-admin become: true become_user: root verbosity: <% $.ansible_playbook_verbosity %> forks: <% $.fork_count %> ssh_private_key: <% $.private_key %> extra_env_variables: <% $.ansible_extra_env_variables %> extra_vars: <% $.extra_vars %> execution_id: <% execution().id %> publish: output: <% task().result %> ",0,74
openstack%2Fdevstack~master~I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,openstack/devstack,master,I5d8aa0e58e0409c54451b51de5eb70ba9a68d849,Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs,MERGED,2020-08-31 06:23:30.000000000,2020-08-31 23:57:27.000000000,2020-08-31 23:55:01.000000000,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-31 06:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0bd725d0eb8f0c04e98ce77688a4cb7e67769eac', 'message': '[wip] Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nChange-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849\n'}, {'number': 2, 'created': '2020-08-31 13:04:59.000000000', 'files': ['inc/python', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/18b4251bf4f689923a19bf7fbc50d5c2ea422b21', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\nTemporarily make grenade jobs non-voting in order to allow this\npatch to be backported.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849\n'}]",2,748957,18b4251bf4f689923a19bf7fbc50d5c2ea422b21,21,8,2,7118,,,0,"Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs

A new setuptools release has changed the way pip installs are done,
see [0]. With this change we switch back to using the distro
method for global pip installs.

Temporarily make grenade jobs non-voting in order to allow this
patch to be backported.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html

Change-Id: I5d8aa0e58e0409c54451b51de5eb70ba9a68d849
",git fetch https://review.opendev.org/openstack/devstack refs/changes/57/748957/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,0bd725d0eb8f0c04e98ce77688a4cb7e67769eac,setuptools-distutils-env," # See # https://github.com/pypa/setuptools/issues/2232 # http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html # this makes setuptools >=50 use the platform distutils. # We only want to do this on global pip installs, not if # installing in a virtualenv local sudo_pip=""sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib """," local sudo_pip=""sudo -H LC_ALL=en_US.UTF-8""",7,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3,openstack/tripleo-ansible,stable/ussuri,I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3,Enable tripleo setup for molecule,MERGED,2020-08-31 20:01:59.000000000,2020-08-31 23:53:59.000000000,2020-08-31 23:53:59.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 20:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29ab7e7f723bbb1426f8ea99a6fd94519ab289b0', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n(cherry picked from commit 46d9960846716f9486fd671f03f42bfa9b597497)\n""}, {'number': 2, 'created': '2020-08-31 20:35:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c85083ebd01d49942b8b0f056e854cb58dc01adc', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n(cherry picked from commit 8765d31264f7bd86f1a1d68edb523093fc4578e1)\n""}]",0,749143,c85083ebd01d49942b8b0f056e854cb58dc01adc,8,2,2,14985,,,0,"Enable tripleo setup for molecule

We currently don't setup the tripleo repos for the tripleo_bootstrap
role so the required package installation is not picking up the correct
packages (e.g. puppet).

Change-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3
(cherry picked from commit 8765d31264f7bd86f1a1d68edb523093fc4578e1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/749143/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/molecule/default/prepare.yml'],1,29ab7e7f723bbb1426f8ea99a6fd94519ab289b0,fix-bootstrap, - include_role: name: test_deps vars: test_deps_setup_tripleo: true, - role: test_deps,4,1
openstack%2Ftripleo-ansible~master~I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3,openstack/tripleo-ansible,master,I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3,Enable tripleo setup for molecule,MERGED,2020-08-31 20:01:14.000000000,2020-08-31 23:53:58.000000000,2020-08-31 23:53:57.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 20:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46d9960846716f9486fd671f03f42bfa9b597497', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n""}, {'number': 2, 'created': '2020-08-31 20:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/482ec95b17ba372f2bc31f03d56d9008fa5a65c8', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n""}, {'number': 3, 'created': '2020-08-31 20:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0509ec21a389eb4fdb206f22b36c8f0c0df65821', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n(cherry picked from commit 482ec95b17ba372f2bc31f03d56d9008fa5a65c8)\n""}, {'number': 4, 'created': '2020-08-31 20:35:09.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8765d31264f7bd86f1a1d68edb523093fc4578e1', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n""}]",0,749141,8765d31264f7bd86f1a1d68edb523093fc4578e1,10,2,4,14985,,,0,"Enable tripleo setup for molecule

We currently don't setup the tripleo repos for the tripleo_bootstrap
role so the required package installation is not picking up the correct
packages (e.g. puppet).

Change-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/749141/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/molecule/default/prepare.yml'],1,46d9960846716f9486fd671f03f42bfa9b597497,fix-bootstrap, - include_role: name: test_deps vars: test_deps_setup_tripleo: true, - role: test_deps,4,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3,openstack/tripleo-ansible,stable/train,I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3,Enable tripleo setup for molecule,MERGED,2020-08-31 20:02:27.000000000,2020-08-31 23:53:56.000000000,2020-08-31 23:53:56.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 20:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aadc6acaaa305c146560568bb84f1968e0b4d081', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n(cherry picked from commit 46d9960846716f9486fd671f03f42bfa9b597497)\n""}, {'number': 2, 'created': '2020-08-31 20:36:06.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88950535c2ebf50ed3f93b12048ed9b1c7e78aa3', 'message': ""Enable tripleo setup for molecule\n\nWe currently don't setup the tripleo repos for the tripleo_bootstrap\nrole so the required package installation is not picking up the correct\npackages (e.g. puppet).\n\nChange-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3\n(cherry picked from commit 8765d31264f7bd86f1a1d68edb523093fc4578e1)\n""}]",0,749145,88950535c2ebf50ed3f93b12048ed9b1c7e78aa3,8,2,2,14985,,,0,"Enable tripleo setup for molecule

We currently don't setup the tripleo repos for the tripleo_bootstrap
role so the required package installation is not picking up the correct
packages (e.g. puppet).

Change-Id: I351f7ce8b4a2d8187a0c63f9c804d2fe97486cf3
(cherry picked from commit 8765d31264f7bd86f1a1d68edb523093fc4578e1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/749145/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-bootstrap/molecule/default/prepare.yml'],1,aadc6acaaa305c146560568bb84f1968e0b4d081,fix-bootstrap, - include_role: name: test_deps vars: test_deps_setup_tripleo: true, - role: test_deps,4,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I0c085c6c136e5d5b162feb8a1f72d906ab08502e,openstack/tripleo-ansible,stable/train,I0c085c6c136e5d5b162feb8a1f72d906ab08502e,Update containers info module from collection,MERGED,2020-08-31 09:13:47.000000000,2020-08-31 23:46:01.000000000,2020-08-31 23:46:01.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-31 09:13:47.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/playbook.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53eac4aa241f7e6557d0624620854c3a7bd1f3b4', 'message': 'Update containers info module from collection\n\nWhen container disappears between ""podman ps -a"" call and\ninspection call ""podman inspect cont1 cont2, .."", the module fails.\nTo avoid this run inspection of each container one by one if total\ninspection call failed.\nThis is update of module from collection.\nCloses-Bug: #1892701\n\nChange-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e\n(cherry picked from commit 72f0e09019ee13ad306287a8f60faba30d4fb60e)\n'}]",1,749008,53eac4aa241f7e6557d0624620854c3a7bd1f3b4,12,7,1,10969,,,0,"Update containers info module from collection

When container disappears between ""podman ps -a"" call and
inspection call ""podman inspect cont1 cont2, .."", the module fails.
To avoid this run inspection of each container one by one if total
inspection call failed.
This is update of module from collection.
Closes-Bug: #1892701

Change-Id: I0c085c6c136e5d5b162feb8a1f72d906ab08502e
(cherry picked from commit 72f0e09019ee13ad306287a8f60faba30d4fb60e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/749008/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/playbook.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py']",2,53eac4aa241f7e6557d0624620854c3a7bd1f3b4,podman_info,"DOCUMENTATION = r'''''' EXAMPLES = r"""""" RETURN = r"""""" elements: dictimport json # noqa: F402 from ansible.module_utils.basic import AnsibleModule # noqa: F402 """"""Collect containers facts for all containers or for specified in 'name'. Arguments: module {AnsibleModule} -- instance of AnsibleModule executable {string} -- binary to execute when inspecting containers name {list} -- list of names or None in case of all containers Returns: list of containers info, stdout, stderr """""" if rc != 0: module.fail_json(msg=""Unable to get list of containers: %s"" % err) if rc == 0: json_out = json.loads(out) if out else None if json_out is None: return [], out, err return json_out, out, err if rc != 0 and 'no such ' in err: if len(name) < 2: return [], out, err return cycle_over(module, executable, name) module.fail_json(msg=""Unable to gather info for %s: %s"" % ("","".join(name), err)) def cycle_over(module, executable, name): """"""Inspect each container in a cycle in case some of them don't exist. Arguments: module {AnsibleModule} -- instance of AnsibleModule executable {string} -- binary to execute when inspecting containers name {list} -- list of containers names to inspect Returns: list of containers info, stdout as empty, stderr """""" inspection = [] stderrs = [] for container in name: command = [executable, 'container', 'inspect', container] rc, out, err = module.run_command(command) if rc != 0 and 'no such ' not in err: module.fail_json(msg=""Unable to gather info for %s: %s"" % (container, err)) if rc == 0 and out: json_out = json.loads(out) if json_out: inspection += json_out stderrs.append(err) return inspection, """", ""\n"".join(stderrs) # pylint: disable=unused-variable","ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """"""version_added: '2.10'"""""" EXAMPLES = """"""RETURN = """"""import json from ansible.module_utils.basic import AnsibleModule if rc != 0: module.fail_json(msg=""Unable to gather info for %s: %s"" % (name or 'all containers', err)) if not out or json.loads(out) is None: return [], out, err return json.loads(out), out, err",60,22
openstack%2Fansible-role-lunasa-hsm~master~I92390347656e223bcfe270397d33da45fb2566da,openstack/ansible-role-lunasa-hsm,master,I92390347656e223bcfe270397d33da45fb2566da,Fix certificate file name,MERGED,2020-08-31 21:33:47.000000000,2020-08-31 22:52:26.000000000,2020-08-31 22:52:26.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-08-31 21:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-lunasa-hsm/commit/2accb225c43885fee0ec0aeb2cabd1faeeef20e7', 'message': 'Fix certificate file name\n\nThis patch fixes the file name used for the certificate\ngenerated for each client.\n\nChange-Id: I92390347656e223bcfe270397d33da45fb2566da\n'}, {'number': 2, 'created': '2020-08-31 22:12:26.000000000', 'files': ['tasks/main.yaml', 'tasks/register_client.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-lunasa-hsm/commit/99dc088753f21ff69be22526ad1ba0360eba611f', 'message': 'Fix certificate file name\n\nThis patch fixes the file name used for the certificate\ngenerated for each client.\n\nChange-Id: I92390347656e223bcfe270397d33da45fb2566da\n'}]",0,749156,99dc088753f21ff69be22526ad1ba0360eba611f,9,3,2,7973,,,0,"Fix certificate file name

This patch fixes the file name used for the certificate
generated for each client.

Change-Id: I92390347656e223bcfe270397d33da45fb2566da
",git fetch https://review.opendev.org/openstack/ansible-role-lunasa-hsm refs/changes/56/749156/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yaml', 'tasks/register_client.yaml']",2,2accb225c43885fee0ec0aeb2cabd1faeeef20e7,," msg: ""Registering client: {{ client_name }} [host: {{ client_host }}, CN: {{ client_cert_cn }}] with HSM: {{ hsm_hostname }}"" /usr/safenet/lunaclient/cert/client/{{ client_cert_cn }}.pem"," msg: ""Registering client: {{ client_name }} [{{ client_host }}] with HSM: {{ hsm_hostname }}"" /usr/safenet/lunaclient/cert/client/{{ client_host }}.pem",3,3
openstack%2Fcharm-nova-compute~master~I71c17657ca8863b3db8d4ff21edfecd10d5063a1,openstack/charm-nova-compute,master,I71c17657ca8863b3db8d4ff21edfecd10d5063a1,Add LVM storage support to nova-compute charm,ABANDONED,2017-06-23 04:11:48.000000000,2020-08-31 22:45:24.000000000,,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-06-23 04:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/3c8559fa078cbfb4d9f4470a3f3885b3a04958ec', 'message': ""Add LVM storage support to nova-compute charm\n\nLVM storage is documented as a valid type for libvirt-image-backend,\nbut the charm has no implementation support. LVM can be significantly\nfaster than qcow2 storage and is an attractive option for those\nseeking only local disk storage for instances.\n\nThis change adds the missing support, remaining consistent with the\nLVM configuration options offered to the cinder charm. The cinder\ncharm's LVM management logic has been moved into the common code\nin the charmhelpers.contrib.storage.linux.lvm module and options\nenabled inside the nova-compute charm.\n\nNew config options introduced to the charm are:\n\n * volume-group - the name of the volume group\n * block-device - the string containing block devices to include as\n                  physical volumes for the volume group\n * overwrite - whether or not to overwrite existing block devices\n               containing a partition table or LVM metadata\n * remove-missing - whether to remove missing physical volumes from\n                    the volume group\n * remove-missing-force - whether or not to forcefully remove missing\n                          physical volumes from a volume group\n                          (! may cause data loss !)\n * ephemeral-unmount - ephemeral mountpoints which should be\n                       unmounted prior to creating the LVM physical\n                       volumes\n\nThe nova.conf templates are updated for all releases available in the\ncharm (even releases which are now EOL) to allow users to enable it\nin a long term supported release in Ubuntu (such as icehouse) and\nstill be able to upgrade through the releases to currently supported\nreleases (e.g. mitaka).\n\nChange-Id: I71c17657ca8863b3db8d4ff21edfecd10d5063a1\nCloses-Bug: #1610392\n""}, {'number': 2, 'created': '2017-06-23 05:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ce54009ddba41fbeb89620fd014f0f4274a8a725', 'message': ""Add LVM storage support to nova-compute charm\n\nLVM storage is documented as a valid type for libvirt-image-backend,\nbut the charm has no implementation support. LVM can be significantly\nfaster than qcow2 storage and is an attractive option for those\nseeking only local disk storage for instances.\n\nThis change adds the missing support, remaining consistent with the\nLVM configuration options offered to the cinder charm. The cinder\ncharm's LVM management logic has been moved into the common code\nin the charmhelpers.contrib.storage.linux.lvm module and options\nenabled inside the nova-compute charm.\n\nNew config options introduced to the charm are:\n\n * volume-group - the name of the volume group\n * block-device - the string containing block devices to include as\n                  physical volumes for the volume group\n * overwrite - whether or not to overwrite existing block devices\n               containing a partition table or LVM metadata\n * remove-missing - whether to remove missing physical volumes from\n                    the volume group\n * remove-missing-force - whether or not to forcefully remove missing\n                          physical volumes from a volume group\n                          (! may cause data loss !)\n * ephemeral-unmount - ephemeral mountpoints which should be\n                       unmounted prior to creating the LVM physical\n                       volumes\n\nThe nova.conf templates are updated for all releases available in the\ncharm (even releases which are now EOL) to allow users to enable it\nin a long term supported release in Ubuntu (such as icehouse) and\nstill be able to upgrade through the releases to currently supported\nreleases (e.g. mitaka).\n\nChange-Id: I71c17657ca8863b3db8d4ff21edfecd10d5063a1\nCloses-Bug: #1610392\n""}, {'number': 3, 'created': '2017-06-23 07:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c5aa8d4672b0e2c1043e85349f2a1016c41cf3fb', 'message': ""Add LVM storage support to nova-compute charm\n\nLVM storage is documented as a valid type for libvirt-image-backend,\nbut the charm has no implementation support. LVM can be significantly\nfaster than qcow2 storage and is an attractive option for those\nseeking only local disk storage for instances.\n\nThis change adds the missing support, remaining consistent with the\nLVM configuration options offered to the cinder charm. The cinder\ncharm's LVM management logic has been moved into the common code\nin the charmhelpers.contrib.storage.linux.lvm module and options\nenabled inside the nova-compute charm.\n\nNew config options introduced to the charm are:\n\n * volume-group - the name of the volume group\n * block-device - the string containing block devices to include as\n                  physical volumes for the volume group\n * overwrite - whether or not to overwrite existing block devices\n               containing a partition table or LVM metadata\n * remove-missing - whether to remove missing physical volumes from\n                    the volume group\n * remove-missing-force - whether or not to forcefully remove missing\n                          physical volumes from a volume group\n                          (! may cause data loss !)\n * ephemeral-unmount - ephemeral mountpoints which should be\n                       unmounted prior to creating the LVM physical\n                       volumes\n\nThe nova.conf templates are updated for all releases available in the\ncharm (even releases which are now EOL) to allow users to enable it\nin a long term supported release in Ubuntu (such as icehouse) and\nstill be able to upgrade through the releases to currently supported\nreleases (e.g. mitaka).\n\nChange-Id: I71c17657ca8863b3db8d4ff21edfecd10d5063a1\nCloses-Bug: #1610392\n""}, {'number': 4, 'created': '2017-06-23 18:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/da81ffcc6b1afd9990a7eb4271fc47e852d952e6', 'message': ""Add LVM storage support to nova-compute charm\n\nLVM storage is documented as a valid type for libvirt-image-backend,\nbut the charm has no implementation support. LVM can be significantly\nfaster than qcow2 storage and is an attractive option for those\nseeking only local disk storage for instances.\n\nThis change adds the missing support, remaining consistent with the\nLVM configuration options offered to the cinder charm. The cinder\ncharm's LVM management logic has been moved into the common code\nin the charmhelpers.contrib.storage.linux.lvm module and options\nenabled inside the nova-compute charm.\n\nNew config options introduced to the charm are:\n\n * volume-group - the name of the volume group\n * block-device - the string containing block devices to include as\n                  physical volumes for the volume group\n * overwrite - whether or not to overwrite existing block devices\n               containing a partition table or LVM metadata\n * remove-missing - whether to remove missing physical volumes from\n                    the volume group\n * remove-missing-force - whether or not to forcefully remove missing\n                          physical volumes from a volume group\n                          (! may cause data loss !)\n * ephemeral-unmount - ephemeral mountpoints which should be\n                       unmounted prior to creating the LVM physical\n                       volumes\n\nThe nova.conf templates are updated for all releases available in the\ncharm (even releases which are now EOL) to allow users to enable it\nin a long term supported release in Ubuntu (such as icehouse) and\nstill be able to upgrade through the releases to currently supported\nreleases (e.g. mitaka).\n\nChange-Id: I71c17657ca8863b3db8d4ff21edfecd10d5063a1\nCloses-Bug: #1610392\n""}, {'number': 5, 'created': '2017-06-23 21:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/81c5be2e177e3a8ae12ed37715244758a225295f', 'message': ""Add LVM storage support to nova-compute charm\n\nLVM storage is documented as a valid type for libvirt-image-backend,\nbut the charm has no implementation support. LVM can be significantly\nfaster than qcow2 storage and is an attractive option for those\nseeking only local disk storage for instances.\n\nThis change adds the missing support, remaining consistent with the\nLVM configuration options offered to the cinder charm. The cinder\ncharm's LVM management logic has been moved into the common code\nin the charmhelpers.contrib.storage.linux.lvm module and options\nenabled inside the nova-compute charm.\n\nNew config options introduced to the charm are:\n\n * volume-group - the name of the volume group\n * block-device - the string containing block devices to include as\n                  physical volumes for the volume group\n * overwrite - whether or not to overwrite existing block devices\n               containing a partition table or LVM metadata\n * remove-missing - whether to remove missing physical volumes from\n                    the volume group\n * remove-missing-force - whether or not to forcefully remove missing\n                          physical volumes from a volume group\n                          (! may cause data loss !)\n * ephemeral-unmount - ephemeral mountpoints which should be\n                       unmounted prior to creating the LVM physical\n                       volumes\n\nThe nova.conf templates are updated for all releases available in the\ncharm (even releases which are now EOL) to allow users to enable it\nin a long term supported release in Ubuntu (such as icehouse) and\nstill be able to upgrade through the releases to currently supported\nreleases (e.g. mitaka).\n\nChange-Id: I71c17657ca8863b3db8d4ff21edfecd10d5063a1\nCloses-Bug: #1610392\n""}, {'number': 6, 'created': '2017-07-12 03:04:00.000000000', 'files': ['hooks/nova_compute_utils.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'templates/liberty/nova.conf', 'hooks/nova_compute_hooks.py', 'templates/juno/nova.conf', 'unit_tests/test_nova_compute_utils.py', 'config.yaml', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'templates/icehouse/nova.conf', 'README.md', 'hooks/nova_compute_context.py', 'templates/ocata/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/905d56ac17d9cfbcc78af85d799a3b41963e3419', 'message': ""Add LVM storage support to nova-compute charm\n\nLVM storage is documented as a valid type for libvirt-image-backend,\nbut the charm has no implementation support. LVM can be significantly\nfaster than qcow2 storage and is an attractive option for those\nseeking only local disk storage for instances.\n\nThis change adds the missing support, remaining consistent with the\nLVM configuration options offered to the cinder charm. The cinder\ncharm's LVM management logic has been moved into the common code\nin the charmhelpers.contrib.storage.linux.lvm module and options\nenabled inside the nova-compute charm.\n\nNew config options introduced to the charm are:\n\n * volume-group - the name of the volume group\n * block-device - the string containing block devices to include as\n                  physical volumes for the volume group\n * overwrite - whether or not to overwrite existing block devices\n               containing a partition table or LVM metadata\n * remove-missing - whether to remove missing physical volumes from\n                    the volume group\n * remove-missing-force - whether or not to forcefully remove missing\n                          physical volumes from a volume group\n                          (! may cause data loss !)\n * ephemeral-unmount - ephemeral mountpoints which should be\n                       unmounted prior to creating the LVM physical\n                       volumes\n\nThe nova.conf templates are updated for all releases available in the\ncharm (even releases which are now EOL) to allow users to enable it\nin a long term supported release in Ubuntu (such as icehouse) and\nstill be able to upgrade through the releases to currently supported\nreleases (e.g. mitaka).\n\nChange-Id: I71c17657ca8863b3db8d4ff21edfecd10d5063a1\nCloses-Bug: #1610392\n""}]",0,476769,905d56ac17d9cfbcc78af85d799a3b41963e3419,26,4,6,8992,,,0,"Add LVM storage support to nova-compute charm

LVM storage is documented as a valid type for libvirt-image-backend,
but the charm has no implementation support. LVM can be significantly
faster than qcow2 storage and is an attractive option for those
seeking only local disk storage for instances.

This change adds the missing support, remaining consistent with the
LVM configuration options offered to the cinder charm. The cinder
charm's LVM management logic has been moved into the common code
in the charmhelpers.contrib.storage.linux.lvm module and options
enabled inside the nova-compute charm.

New config options introduced to the charm are:

 * volume-group - the name of the volume group
 * block-device - the string containing block devices to include as
                  physical volumes for the volume group
 * overwrite - whether or not to overwrite existing block devices
               containing a partition table or LVM metadata
 * remove-missing - whether to remove missing physical volumes from
                    the volume group
 * remove-missing-force - whether or not to forcefully remove missing
                          physical volumes from a volume group
                          (! may cause data loss !)
 * ephemeral-unmount - ephemeral mountpoints which should be
                       unmounted prior to creating the LVM physical
                       volumes

The nova.conf templates are updated for all releases available in the
charm (even releases which are now EOL) to allow users to enable it
in a long term supported release in Ubuntu (such as icehouse) and
still be able to upgrade through the releases to currently supported
releases (e.g. mitaka).

Change-Id: I71c17657ca8863b3db8d4ff21edfecd10d5063a1
Closes-Bug: #1610392
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/69/476769/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_utils.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'templates/liberty/nova.conf', 'hooks/nova_compute_hooks.py', 'templates/juno/nova.conf', 'config.yaml', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'templates/icehouse/nova.conf', 'hooks/nova_compute_context.py', 'templates/ocata/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,3c8559fa078cbfb4d9f4470a3f3885b3a04958ec,bug/1610392,{% if libvirt_images_type and volume_group -%} images_volume_group = {{ volume_group }} {% endif -%},,400,5
openstack%2Fcharm-neutron-openvswitch~master~Ib73b8e9651bd3b0d40acce8c8f2c11df69f9b060,openstack/charm-neutron-openvswitch,master,Ib73b8e9651bd3b0d40acce8c8f2c11df69f9b060,Remove charm-helpers from tests dir and use venv instead,ABANDONED,2017-05-26 18:35:40.000000000,2020-08-31 22:45:04.000000000,,"[{'_account_id': 8992}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 18:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/b74418b23a79a6c5cb23cae1e192e512350f3a40', 'message': 'Remove charm-helpesr from tests dir and use venv instead\n\nUse the power of tox and virtualenvs to install the charmhelpers\ndependency for tests rather than the kludgy charm-helpers sync\nlogic that is used today.\n\nChange-Id: Ib73b8e9651bd3b0d40acce8c8f2c11df69f9b060\n'}, {'number': 2, 'created': '2017-05-26 18:36:23.000000000', 'files': ['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', '.gitignore', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'Makefile', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'tests/charmhelpers/core/host_factory/centos.py', 'bindep.txt', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3671c5b35058a0f0cd9077eb6ecf9f87d693c994', 'message': 'Remove charm-helpers from tests dir and use venv instead\n\nUse the power of tox and virtualenvs to install the charmhelpers\ndependency for tests rather than the kludgy charm-helpers sync\nlogic that is used today.\n\nChange-Id: Ib73b8e9651bd3b0d40acce8c8f2c11df69f9b060\n'}]",0,468513,3671c5b35058a0f0cd9077eb6ecf9f87d693c994,10,3,2,8992,,,0,"Remove charm-helpers from tests dir and use venv instead

Use the power of tox and virtualenvs to install the charmhelpers
dependency for tests rather than the kludgy charm-helpers sync
logic that is used today.

Change-Id: Ib73b8e9651bd3b0d40acce8c8f2c11df69f9b060
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/13/468513/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', '.gitignore', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'Makefile', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'tests/charmhelpers/core/host_factory/centos.py', 'bindep.txt', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py']",36,b74418b23a79a6c5cb23cae1e192e512350f3a40,tests-ch-venv,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from .base import * # NOQA from .helpers import * # NOQA ",4,6654
openstack%2Fcharm-openstack-dashboard~master~I597d702de8e811ce719b480b3d030b3773fbf9c1,openstack/charm-openstack-dashboard,master,I597d702de8e811ce719b480b3d030b3773fbf9c1,Remove charm-helpers from tests dir and use venv instead,ABANDONED,2017-05-30 21:25:48.000000000,2020-08-31 22:44:49.000000000,,"[{'_account_id': 8992}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-30 21:25:48.000000000', 'files': ['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', '.gitignore', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'Makefile', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'tests/charmhelpers/core/host_factory/centos.py', 'bindep.txt', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/d08bd8c3f5652d4046de19d04c195487f47f11fb', 'message': 'Remove charm-helpers from tests dir and use venv instead\n\nUse the power of tox and virtualenvs to install the charmhelpers\ndependency for tests rather than the kludgy charm-helpers sync\nlogic that is used today.\n\nChange-Id: I597d702de8e811ce719b480b3d030b3773fbf9c1\n'}]",0,469255,d08bd8c3f5652d4046de19d04c195487f47f11fb,9,3,1,8992,,,0,"Remove charm-helpers from tests dir and use venv instead

Use the power of tox and virtualenvs to install the charmhelpers
dependency for tests rather than the kludgy charm-helpers sync
logic that is used today.

Change-Id: I597d702de8e811ce719b480b3d030b3773fbf9c1
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/55/469255/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', '.gitignore', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'Makefile', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'tests/charmhelpers/core/host_factory/centos.py', 'bindep.txt', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py']",36,d08bd8c3f5652d4046de19d04c195487f47f11fb,tests-ch-venv,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from .base import * # NOQA from .helpers import * # NOQA ",4,6652
openstack%2Fovsdbapp~master~Ibe105bbb665aae2d62b69e2977b3fdde88962dee,openstack/ovsdbapp,master,Ibe105bbb665aae2d62b69e2977b3fdde88962dee,"Add a cause description to ""TimeoutException""",MERGED,2020-07-07 17:08:31.000000000,2020-08-31 22:38:07.000000000,2020-08-31 22:37:02.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 17:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/04be6018d9690d2cb01c1a2cf88b68260b819657', 'message': 'Add a cause description to ""TimeoutException""\n\nChange-Id: Ibe105bbb665aae2d62b69e2977b3fdde88962dee\nCloses-Bug: #1886688\n'}, {'number': 2, 'created': '2020-07-10 16:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3327a24a328fbdca4fce80ff9f4831d1fc77fcfe', 'message': 'Add a cause description to ""TimeoutException""\n\nChange-Id: Ibe105bbb665aae2d62b69e2977b3fdde88962dee\nCloses-Bug: #1886688\n'}, {'number': 3, 'created': '2020-07-28 10:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e60ed3e9a65776897903024660480a0858d526fc', 'message': 'Add a cause description to ""TimeoutException""\n\nChange-Id: Ibe105bbb665aae2d62b69e2977b3fdde88962dee\nCloses-Bug: #1886688\n'}, {'number': 4, 'created': '2020-08-06 08:26:48.000000000', 'files': ['ovsdbapp/schema/open_vswitch/impl_idl.py', 'ovsdbapp/backend/ovs_idl/transaction.py', 'ovsdbapp/backend/ovs_idl/connection.py', 'ovsdbapp/exceptions.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9f27ddf03406863b5695660fd5f2053af4a18e6f', 'message': 'Add a cause description to ""TimeoutException""\n\nChange-Id: Ibe105bbb665aae2d62b69e2977b3fdde88962dee\nCloses-Bug: #1886688\n'}]",2,739821,9f27ddf03406863b5695660fd5f2053af4a18e6f,24,5,4,16688,,,0,"Add a cause description to ""TimeoutException""

Change-Id: Ibe105bbb665aae2d62b69e2977b3fdde88962dee
Closes-Bug: #1886688
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/21/739821/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/open_vswitch/impl_idl.py', 'ovsdbapp/backend/ovs_idl/transaction.py', 'ovsdbapp/backend/ovs_idl/connection.py', 'ovsdbapp/exceptions.py']",4,04be6018d9690d2cb01c1a2cf88b68260b819657,bug/1886688," message = (""Commands %(commands)s exceeded timeout %(timeout)d seconds, "" ""cause: %(cause)s"")"," message = ""Commands %(commands)s exceeded timeout %(timeout)d seconds""",9,5
