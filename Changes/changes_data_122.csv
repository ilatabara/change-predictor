id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fsolum~master~Ia4a982cda3f3691617b2bee38f91ee6d30048e66,openstack/solum,master,Ia4a982cda3f3691617b2bee38f91ee6d30048e66,Remove the unused scripts,MERGED,2022-01-04 09:12:16.000000000,2022-01-06 10:10:07.000000000,2022-01-06 10:03:33.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 09:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/5a6efc3f2ba0f1bfdce08e471215770726a83172', 'message': 'Remove the unused scripts\n\nChange-Id: Ia4a982cda3f3691617b2bee38f91ee6d30048e66\n'}, {'number': 2, 'created': '2022-01-04 09:12:55.000000000', 'files': ['tools/migration/migrate_rev_452f34e8ea3.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/11b57e191b95f1e4b3456c836287724a358ae655', 'message': 'Remove the unused scripts\n\nChange-Id: Ia4a982cda3f3691617b2bee38f91ee6d30048e66\n'}]",2,823307,11b57e191b95f1e4b3456c836287724a358ae655,14,2,2,14107,,,0,"Remove the unused scripts

Change-Id: Ia4a982cda3f3691617b2bee38f91ee6d30048e66
",git fetch https://review.opendev.org/openstack/solum refs/changes/07/823307/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5a6efc3f2ba0f1bfdce08e471215770726a83172,,,,0,0
openstack%2Fsolum~master~Idd8ff97e8d4949ff63d729a53fd502a87c0c992c,openstack/solum,master,Idd8ff97e8d4949ff63d729a53fd502a87c0c992c,Add tools to irrelevant-files,MERGED,2022-01-04 09:21:23.000000000,2022-01-06 10:08:30.000000000,2022-01-06 10:03:31.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 09:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/7d30ab0fd671fe565b5094af95fdd2b52869c7e2', 'message': 'Add tools to irrelevant-files\n\nChange-Id: Idd8ff97e8d4949ff63d729a53fd502a87c0c992c\n'}, {'number': 2, 'created': '2022-01-04 09:22:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum/commit/80cb13cb4d91ecd782939e62f5084f2210e83e2d', 'message': 'Add tools to irrelevant-files\n\nChange-Id: Idd8ff97e8d4949ff63d729a53fd502a87c0c992c\n'}]",1,823308,80cb13cb4d91ecd782939e62f5084f2210e83e2d,11,2,2,14107,,,0,"Add tools to irrelevant-files

Change-Id: Idd8ff97e8d4949ff63d729a53fd502a87c0c992c
",git fetch https://review.opendev.org/openstack/solum refs/changes/08/823308/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,7d30ab0fd671fe565b5094af95fdd2b52869c7e2,Add tools to irrelevant-files,,,0,0
openstack%2Fproject-config~master~Ie19d41c218ba266d6174e2ddf8571f393246e4f1,openstack/project-config,master,Ie19d41c218ba266d6174e2ddf8571f393246e4f1,"Revert ""Disable nodepool temporarily""",MERGED,2022-01-04 14:23:18.000000000,2022-01-06 09:58:53.000000000,2022-01-06 09:52:12.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 11583}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 14:23:18.000000000', 'files': ['nodepool/nl04.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8509a84ddc568d119f8ceb61f6dc817efeb3b30b', 'message': 'Revert ""Disable nodepool temporarily""\n\nThis reverts commit 4f06690ce9b19170a5a3eba60bd32c5a4c9f627d.\n\nReason for revert: upgrade is done\n\nChange-Id: Ie19d41c218ba266d6174e2ddf8571f393246e4f1\n'}]",0,823357,8509a84ddc568d119f8ceb61f6dc817efeb3b30b,12,5,1,11583,,,0,"Revert ""Disable nodepool temporarily""

This reverts commit 4f06690ce9b19170a5a3eba60bd32c5a4c9f627d.

Reason for revert: upgrade is done

Change-Id: Ie19d41c218ba266d6174e2ddf8571f393246e4f1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/823357/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl04.opendev.org.yaml'],1,8509a84ddc568d119f8ceb61f6dc817efeb3b30b,, max-servers: 120, max-servers: 0,1,1
openstack%2Fbifrost~stable%2Fvictoria~I3f5fdc3f63b17b7e5ad6821eb771f62c52924225,openstack/bifrost,stable/victoria,I3f5fdc3f63b17b7e5ad6821eb771f62c52924225,[CI] Move Kolla testing to CentOS Stream,MERGED,2022-01-05 16:28:37.000000000,2022-01-06 09:46:46.000000000,2022-01-06 09:42:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-05 16:28:37.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4d1b0cae867320f8715466e83bcf348cc0e2d3f4', 'message': '[CI] Move Kolla testing to CentOS Stream\n\nRequired by the relevant Kolla Ansible change.\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823555\nChange-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225\n'}]",0,823559,4d1b0cae867320f8715466e83bcf348cc0e2d3f4,8,3,1,30491,,,0,"[CI] Move Kolla testing to CentOS Stream

Required by the relevant Kolla Ansible change.

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823555
Change-Id: I3f5fdc3f63b17b7e5ad6821eb771f62c52924225
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/59/823559/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4d1b0cae867320f8715466e83bcf348cc0e2d3f4,ci-stop-testing-non-stream-centos, - kolla-ansible-centos8s-source-bifrost:, - kolla-ansible-centos8-source-bifrost:,1,1
openstack%2Fmurano~master~Ic63588405326449bd3ae464776b58992a57f56ab,openstack/murano,master,Ic63588405326449bd3ae464776b58992a57f56ab,Fix devstack job failures,MERGED,2022-01-06 07:05:10.000000000,2022-01-06 09:25:08.000000000,2022-01-06 09:20:44.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 07:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d8464be558bcb728cd02b923011518cee70e2ea5', 'message': 'Fix devstack job failures\n\nChange-Id: Ic63588405326449bd3ae464776b58992a57f56ab\n'}, {'number': 2, 'created': '2022-01-06 07:06:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/9d0e7d5bd7847dbb7093676709b3a30f0f84cecc', 'message': 'Fix devstack job failures\n\nChange-Id: Ic63588405326449bd3ae464776b58992a57f56ab\n'}]",0,823597,9d0e7d5bd7847dbb7093676709b3a30f0f84cecc,9,2,2,14107,,,0,"Fix devstack job failures

Change-Id: Ic63588405326449bd3ae464776b58992a57f56ab
",git fetch https://review.opendev.org/openstack/murano refs/changes/97/823597/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d8464be558bcb728cd02b923011518cee70e2ea5,,,,0,0
openstack%2Ftripleo-heat-templates~master~Ib2ee7295c7fcda276e4fcf011a9e427e041f4848,openstack/tripleo-heat-templates,master,Ib2ee7295c7fcda276e4fcf011a9e427e041f4848,Fix remaining usage of internal url for www_authenticate_uri,MERGED,2022-01-06 01:34:29.000000000,2022-01-06 09:23:50.000000000,2022-01-06 09:23:50.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-06 01:34:29.000000000', 'files': ['deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b9461e97fc5c4ceb0848d1cc4484f656bb85515', 'message': 'Fix remaining usage of internal url for www_authenticate_uri\n\nThis is follow-up of 160936df134a471cfd245bd60964046027a571ea and fixes\nremaining usage of internal endpoint url for [keystone_authtoken]\nwww_authenticate_uri.\n\nRelated-Bug: #1955397\nChange-Id: Ib2ee7295c7fcda276e4fcf011a9e427e041f4848\n'}]",0,823588,2b9461e97fc5c4ceb0848d1cc4484f656bb85515,8,4,1,9816,,,0,"Fix remaining usage of internal url for www_authenticate_uri

This is follow-up of 160936df134a471cfd245bd60964046027a571ea and fixes
remaining usage of internal endpoint url for [keystone_authtoken]
www_authenticate_uri.

Related-Bug: #1955397
Change-Id: Ib2ee7295c7fcda276e4fcf011a9e427e041f4848
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/823588/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-api-container-puppet.yaml'],1,2b9461e97fc5c4ceb0848d1cc4484f656bb85515,bug/1955397," ironic::api::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}"," ironic::api::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}",1,1
openstack%2Fdevstack~stable%2Fxena~Icf6d7e1af5130689ea10b29d37cc9b188b2c9754,openstack/devstack,stable/xena,Icf6d7e1af5130689ea10b29d37cc9b188b2c9754,Fix mysqladmin failure for Fedora 34 and mariadb,MERGED,2022-01-05 15:34:58.000000000,2022-01-06 09:19:46.000000000,2022-01-06 09:15:02.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 15:34:58.000000000', 'files': ['lib/databases/mysql', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/68ef16134d5f8fcef3df25ebc4c890e86ca57d80', 'message': 'Fix mysqladmin failure for Fedora 34 and mariadb\n\nmysqladmin is incorrectly installed in Fedora 34 with mariadb. This\ncauses the failure of Zuul Fedora based jobs. The issue is a conflict\nbetween mariadb and community mysql that is described in [1] and [2].\n\nThe workaround is to explicitly install package ""mariadb""\n\nAlso configure an increased swap size like for the other platform jobs\nin order to avoid OOM issues.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2026933\n[2] https://lists.launchpad.net/maria-discuss/msg06179.html\n\nCloses-Bug: #1956116\nChange-Id: Icf6d7e1af5130689ea10b29d37cc9b188b2c9754\n(cherry picked from commit c1a75c6a504d720e9d46f924f5c3da07fddfee72)\n'}]",0,823468,68ef16134d5f8fcef3df25ebc4c890e86ca57d80,8,4,1,13252,,,0,"Fix mysqladmin failure for Fedora 34 and mariadb

mysqladmin is incorrectly installed in Fedora 34 with mariadb. This
causes the failure of Zuul Fedora based jobs. The issue is a conflict
between mariadb and community mysql that is described in [1] and [2].

The workaround is to explicitly install package ""mariadb""

Also configure an increased swap size like for the other platform jobs
in order to avoid OOM issues.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2026933
[2] https://lists.launchpad.net/maria-discuss/msg06179.html

Closes-Bug: #1956116
Change-Id: Icf6d7e1af5130689ea10b29d37cc9b188b2c9754
(cherry picked from commit c1a75c6a504d720e9d46f924f5c3da07fddfee72)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/823468/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/databases/mysql', '.zuul.yaml']",2,68ef16134d5f8fcef3df25ebc4c890e86ca57d80,fedora-mariadb-issue-stable/xena, vars: configure_swap_size: 4096 configure_swap_size: 4096,,4,1
openstack%2Fpython-muranoclient~stable%2Fxena~I6adcd8b0d7a3b4e3009b011aed75b4162d3d7db3,openstack/python-muranoclient,stable/xena,I6adcd8b0d7a3b4e3009b011aed75b4162d3d7db3,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-17 16:43:20.000000000,2022-01-06 09:15:33.000000000,2022-01-06 09:13:41.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-17 16:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/08ecf488e875fb6aca6fcec2774e47e4cad0b498', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6adcd8b0d7a3b4e3009b011aed75b4162d3d7db3\n'}, {'number': 2, 'created': '2022-01-06 01:19:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/94a38fdf87afe6161c2f75dc86c657cd49292d58', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6adcd8b0d7a3b4e3009b011aed75b4162d3d7db3\n'}]",0,809845,94a38fdf87afe6161c2f75dc86c657cd49292d58,9,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6adcd8b0d7a3b4e3009b011aed75b4162d3d7db3
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/45/809845/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,08ecf488e875fb6aca6fcec2774e47e4cad0b498,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fmurano-dashboard~master~I80a9ef336e5cf5aad64735cdb36e914eb35d332a,openstack/murano-dashboard,master,I80a9ef336e5cf5aad64735cdb36e914eb35d332a,Add py39 classifier,MERGED,2022-01-06 08:39:48.000000000,2022-01-06 09:13:53.000000000,2022-01-06 09:13:53.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 08:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/204d2c36de55dcb4a27c44523d3d93e79c8ef333', 'message': 'Add py39 classifier\n\nChange-Id: I80a9ef336e5cf5aad64735cdb36e914eb35d332a\n'}, {'number': 2, 'created': '2022-01-06 08:40:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/882a9c14b65c7df3684515978d4531ef02f7e104', 'message': 'Add py39 classifier\n\nChange-Id: I80a9ef336e5cf5aad64735cdb36e914eb35d332a\n'}]",0,823603,882a9c14b65c7df3684515978d4531ef02f7e104,8,2,2,14107,,,0,"Add py39 classifier

Change-Id: I80a9ef336e5cf5aad64735cdb36e914eb35d332a
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/03/823603/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,204d2c36de55dcb4a27c44523d3d93e79c8ef333,,,,0,0
openstack%2Fdevstack~master~I169a0017998054604a63ac6c177d0f43f8a32ba6,openstack/devstack,master,I169a0017998054604a63ac6c177d0f43f8a32ba6,openEuler 20.03 LTS SP2 support,MERGED,2020-11-02 08:27:12.000000000,2022-01-06 09:10:53.000000000,2021-12-30 12:04:44.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 26458}, {'_account_id': 29963}, {'_account_id': 30491}, {'_account_id': 31882}]","[{'number': 1, 'created': '2020-11-02 08:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d28703420c6a228fd6427c31376aad3c03fba9aa', 'message': 'openEuler 20.09 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 2, 'created': '2020-11-02 23:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e5bb0a051c2eddcbc19140a608b3f7b6ca3f1a97', 'message': 'openEuler 20.09 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 3, 'created': '2021-08-05 02:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b94189eaa7da051a0f31afdb05cbc4792feb38ca', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 4, 'created': '2021-08-11 05:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/71f974dcbda9469c59fa26622be9a1018c2cc613', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 5, 'created': '2021-08-13 02:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1acc8c05904e6f637d4edd98a0bd4b2b33615422', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 6, 'created': '2021-08-13 02:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/22f3dfff2c077931b59633428d1b0153cb735068', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 7, 'created': '2021-08-13 03:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4412920d1f9771046f3a7f3fbbc0dd685448fcf7', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 8, 'created': '2021-08-14 13:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b7a19bd683179f0158b58e30fda1f3f01318c837', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 9, 'created': '2021-10-25 09:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/813817e2e00aee1afe238885ae2f5a43abba7b2a', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 10, 'created': '2021-10-25 09:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/efbede686df0075767be8ee6a9f98956fd7c8a73', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 11, 'created': '2021-10-26 04:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0809ff39d4f734927abe1f5347493ee72c77dc5e', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 12, 'created': '2021-10-26 06:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1a09c9a7a6c8869c5bdd64f42fea60297938a39a', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 13, 'created': '2021-10-26 06:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fa682c8a56f529a9dcfd988d8a5d2295b63965e1', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 14, 'created': '2021-10-26 06:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/50fcda9748a76029dcdfb14e40675be679f51280', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 15, 'created': '2021-10-26 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/621e470fad8525b98941857d493378df46760f3b', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: Wander Way <wanderwayout@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 16, 'created': '2021-10-26 08:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/175880087607c80cec4c232b3599dea7527bfc7b', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 17, 'created': '2021-10-27 01:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b3f39a2345d6117e77c31c0e0590ea70a6e96ce3', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 18, 'created': '2021-10-27 01:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e17f9f6dbb6117acbd1048abe67337b5959b477e', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 19, 'created': '2021-10-27 01:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1d6b187169bdd8698432dcfff5375fc4fc69d1f7', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 20, 'created': '2021-12-09 01:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e45219f7f76b8ff61110cc9840054b3febee8866', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 21, 'created': '2021-12-09 01:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/11fff599f7a27eee460eabaf2c6171ce660ca6ec', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 22, 'created': '2021-12-14 08:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/79e035a9a8abdf7854905085ef313d0dd59f4e83', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 23, 'created': '2021-12-14 08:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1900626cc46a07e704b18fa0a5399b574b4d943b', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 24, 'created': '2021-12-14 09:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/425afcb7cca0907f5a025c96850280529bfa0634', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 25, 'created': '2021-12-14 09:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/edc9a5a6b68e6e0ffcabd8256c27cd904a0c980f', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 26, 'created': '2021-12-16 09:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f2a49b08da22bb7cbbdc211d7d52a6881eec0343', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 27, 'created': '2021-12-17 03:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cac20b04808b68f7c9c79c8e73951b60fd491089', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 28, 'created': '2021-12-17 07:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/961d0e747f5c7cf9d2f90e07d3e9a7af161f3fa8', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 29, 'created': '2021-12-17 14:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/29af200bf75cb83767534b7d8148182ae6d67525', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 30, 'created': '2021-12-18 10:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/94a4d61225026e6c388c6ffe6f3cc20f1ecf614e', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 31, 'created': '2021-12-18 12:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c17d308a122d99b07d819ebe74ed5c2130753ecf', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 32, 'created': '2021-12-18 16:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/59ecac4ddbb7a4c99ccce3e0c3a91498c360d0ea', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3, so that\nopenEuler needs manually install it from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 33, 'created': '2021-12-20 00:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8bddf5c0573c7ddb5a98f888182ceeecdd9d05fe', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 34, 'created': '2021-12-20 01:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d38d504f52c69f598b1644a746bbcbf9458acb1c', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 35, 'created': '2021-12-20 01:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ddf0c7039f9828bbd7fc76e235593258d5c63f3c', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand artificial intelligence (AI) scenarios. openEuler is using RPM for package\nmanagement.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 36, 'created': '2021-12-21 01:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0e31dd9ba72e7d9031da27e1b7dd2d82634e442a', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports Kunpeng and other processors\nlike X86_64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand AI scenarios. openEuler is using RPM for package management.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 37, 'created': '2021-12-22 00:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5b6ee53255f86cf3fe8555432a26fa44430a4c79', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports multi arch, such as X86_64\nand aarch64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand AI scenarios. openEuler is using RPM for package management.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://www.openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 38, 'created': '2021-12-22 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a395ee3156bb62c0271dc0c4320aac03d13d937b', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports multi arch, such as X86_64\nand aarch64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand AI scenarios. openEuler is using RPM for package management.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://www.openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 39, 'created': '2021-12-22 01:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a3a5d755f0aa32dbd480f469723aeb77dfa4908', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports multi arch, such as X86_64\nand aarch64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand AI scenarios. openEuler is using RPM for package management.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://www.openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 40, 'created': '2021-12-22 03:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/50482314cde6193ce2fa3807b99499ebd6646449', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports multi arch, such as X86_64\nand aarch64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand AI scenarios. openEuler is using RPM for package management.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://www.openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 41, 'created': '2021-12-22 06:47:47.000000000', 'files': ['roles/apache-logs-conf/tasks/main.yaml', 'files/rpms/general', 'lib/nova_plugins/functions-libvirt', '.zuul.yaml', 'doc/source/index.rst', 'files/rpms/ceph', 'functions-common', 'tools/fixup_stuff.sh', 'files/rpms/nova', 'files/rpms/swift', 'lib/apache', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7880ba665e2d594b2eabb0533e6dca52e042ca50', 'message': 'openEuler 20.03 LTS SP2 support\n\nopenEuler is an open-source Linux based operating system. The current\nopenEuler kernel is based on Linux and supports multi arch, such as X86_64\nand aarch64. It fully unleashes the potential of computing chips. As an\nefficient, stable, and secure open-source OS built by global open-source\ncontributors, openEuler applies to database, big data, cloud computing,\nand AI scenarios. openEuler is using RPM for package management.\n\nNote:\nCurrently there is no available package for uwsgi-plugin-python3 and ovn, so that\nopenEuler needs manually install them from source.\n\nWebsite: https://www.openeuler.org/en/\n\nChange-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",91,760790,7880ba665e2d594b2eabb0533e6dca52e042ca50,157,9,41,22076,,,0,"openEuler 20.03 LTS SP2 support

openEuler is an open-source Linux based operating system. The current
openEuler kernel is based on Linux and supports multi arch, such as X86_64
and aarch64. It fully unleashes the potential of computing chips. As an
efficient, stable, and secure open-source OS built by global open-source
contributors, openEuler applies to database, big data, cloud computing,
and AI scenarios. openEuler is using RPM for package management.

Note:
Currently there is no available package for uwsgi-plugin-python3 and ovn, so that
openEuler needs manually install them from source.

Website: https://www.openeuler.org/en/

Change-Id: I169a0017998054604a63ac6c177d0f43f8a32ba6
Co-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/90/760790/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ldap', 'lib/neutron_plugins/ovs_base', 'files/rpms-openeuler/openvswitch', 'lib/nova', 'lib/nova_plugins/functions-libvirt', 'files/rpms-openeuler/keystone', 'files/rpms-openeuler/n-cpu', 'lib/lvm', 'files/rpms-openeuler/horizon', 'files/rpms-openeuler/ldap', 'functions-common', 'files/rpms-openeuler/nova', 'files/rpms-openeuler/q-l3', 'files/rpms-openeuler/cinder', 'files/rpms-openeuler/neutron-l3', 'files/rpms-openeuler/ovn', 'files/rpms-openeuler/q-agt', 'lib/horizon', 'stack.sh', 'lib/databases/mysql', 'lib/cinder', 'lib/nova_plugins/hypervisor-libvirt', 'lib/databases/postgresql', 'files/rpms-openeuler/neutron-agent', 'lib/rpc_backend', 'files/rpms-openeuler/ceph', 'files/rpms-openeuler/dstat', 'files/rpms-openeuler/os-brick', 'inc/python', 'files/rpms-openeuler/neutron-common', 'tools/install_pip.sh', 'tools/install_prereqs.sh', 'lib/apache', 'files/rpms-openeuler/general', 'files/rpms-openeuler/swift']",35,d28703420c6a228fd6427c31376aad3c03fba9aa,change-760790,curl liberasurecode-devel memcached rsync-daemon sqlite xfsprogs xinetd ,,168,33
openstack%2Fpuppet-cinder~master~I33f912aeb058fd269d4a0eda57438051a2f094ff,openstack/puppet-cinder,master,I33f912aeb058fd269d4a0eda57438051a2f094ff,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 11:28:39.000000000,2022-01-06 09:03:40.000000000,2022-01-06 09:02:06.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 11:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/712bcfcb5b7eb81816c59b723750101c99556116', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I33f912aeb058fd269d4a0eda57438051a2f094ff\n'}, {'number': 2, 'created': '2021-11-25 11:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/861dff6e1d8e073825f4070f1ff97e3a5d557396', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I33f912aeb058fd269d4a0eda57438051a2f094ff\n'}, {'number': 3, 'created': '2021-11-25 13:43:25.000000000', 'files': ['manifests/keystone/service_user.pp', 'spec/classes/cinder_keystone_auth_spec.rb', 'spec/classes/cinder_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/system_scope-keystone-d9a9cc0c614cd433.yaml', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0256c26d21705d4c04dd66732e08d25db687948b', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I33f912aeb058fd269d4a0eda57438051a2f094ff\n'}]",0,819294,0256c26d21705d4c04dd66732e08d25db687948b,11,3,3,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following three items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware
 - credential parameters for service token feature

Note that the credential parameters for authtoken middleware are
used in some providers, and these providers still require a project
scope credential. This will be fixed by the subsequent change.

Depends-on: https://review.opendev.org/804325
Change-Id: I33f912aeb058fd269d4a0eda57438051a2f094ff
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/94/819294/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/service_user.pp', 'spec/classes/cinder_keystone_auth_spec.rb', 'spec/classes/cinder_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp']",5,712bcfcb5b7eb81816c59b723750101c99556116,system-scope-params,"# [*system_scope*] # (Optional) Scope for system operations used by Cinder v3 user. # Defaults to 'all' # # [*system_scope_v3*] # (Optional) Scope for system operations used by Cinder v3 user. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to Cinder user. # Defaults to [] # # [*system_roles_v3*] # (Optional) List of system roles assigned to Cinder v3 user. # Defaults to [] # $system_scope = 'all', $system_scope_v3 = 'all', $system_roles = [], $system_roles_v3 = [], Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['cinder::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['cinder::service::end'] system_scope => $system_scope, system_rols => $system_roles, system_scope => $system_scope_v3, system_rols => $system_roles_v3,"," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] -> Anchor['cinder::service::end'] } ",56,6
openstack%2Fpuppet-placement~master~I587f94d909ed393eb6aea74f7110abaece13269c,openstack/puppet-placement,master,I587f94d909ed393eb6aea74f7110abaece13269c,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 12:06:35.000000000,2022-01-06 09:02:22.000000000,2022-01-06 08:59:32.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 12:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/795ed540dc772fca0ebf75eca122cb13baaf7e74', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I587f94d909ed393eb6aea74f7110abaece13269c\n'}, {'number': 2, 'created': '2021-11-25 12:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/8cbeb96ec2639967ebf29d096d02dbd8bc14349a', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I587f94d909ed393eb6aea74f7110abaece13269c\n'}, {'number': 3, 'created': '2021-12-16 13:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/eab269d1284821777aff832e38a70d4c8818b4c6', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I587f94d909ed393eb6aea74f7110abaece13269c\n'}, {'number': 4, 'created': '2021-12-16 15:47:54.000000000', 'files': ['releasenotes/notes/system_scope-keystone-221e082242e370cb.yaml', 'spec/classes/placement_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp', 'spec/classes/placement_keystone_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/f62deec1dad453e0d3d01942646ccbea43353190', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I587f94d909ed393eb6aea74f7110abaece13269c\n'}]",1,819302,f62deec1dad453e0d3d01942646ccbea43353190,15,3,4,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I587f94d909ed393eb6aea74f7110abaece13269c
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/02/819302/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/system_scope-keystone-221e082242e370cb.yaml', 'spec/classes/placement_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp', 'spec/classes/placement_keystone_auth_spec.rb']",5,795ed540dc772fca0ebf75eca122cb13baaf7e74,system-scope-params," :roles => ['admin'], :system_scope => 'all', :system_roles => [], :roles => ['admin', 'service'], :system_scope => 'alt_all', :system_roles => ['admin', 'member', 'reader'], :roles => ['admin', 'service'], :system_scope => 'alt_all', :system_roles => ['admin', 'member', 'reader'],",,51,3
openstack%2Fpuppet-placement~master~I1bd705f42bc06233b06421df5e058ab02a3d76b4,openstack/puppet-placement,master,I1bd705f42bc06233b06421df5e058ab02a3d76b4,Add support for [oslo_middleware] enable_proxy_headers_parsing,MERGED,2021-07-13 16:49:43.000000000,2022-01-06 09:01:10.000000000,2022-01-06 08:59:30.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 16:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/7f481bcefa2e6696e11de972f9408dbc4780e9b6', 'message': 'Add support for [oslo_middleware] enable_proxy_headers_parsing\n\nDepends-on: https://review.opendev.org/800611/\nChange-Id: I1bd705f42bc06233b06421df5e058ab02a3d76b4\n'}, {'number': 2, 'created': '2021-07-14 01:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/d24714ed2d2b0e1d03a03db9c5bdde8d097582b3', 'message': 'Add support for [oslo_middleware] enable_proxy_headers_parsing\n\nDepends-on: https://review.opendev.org/800611/\nChange-Id: I1bd705f42bc06233b06421df5e058ab02a3d76b4\n'}, {'number': 3, 'created': '2021-11-29 23:07:31.000000000', 'files': ['releasenotes/notes/api-enable_proxy_headers_parsing-a4ed4b03a8277030.yaml', 'spec/classes/placement_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/3c03d66e133941ef0fda5283a3f326fb397c6592', 'message': 'Add support for [oslo_middleware] enable_proxy_headers_parsing\n\nDepends-on: https://review.opendev.org/800611/\nChange-Id: I1bd705f42bc06233b06421df5e058ab02a3d76b4\n'}]",0,800690,3c03d66e133941ef0fda5283a3f326fb397c6592,14,3,3,9816,,,0,"Add support for [oslo_middleware] enable_proxy_headers_parsing

Depends-on: https://review.opendev.org/800611/
Change-Id: I1bd705f42bc06233b06421df5e058ab02a3d76b4
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/90/800690/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/api-enable_proxy_headers_parsing-a4ed4b03a8277030.yaml', 'spec/classes/placement_api_spec.rb', 'manifests/api.pp']",3,7f481bcefa2e6696e11de972f9408dbc4780e9b6,placement-header-parsing,"# [*enable_proxy_headers_parsing*] # (Optional) Enable paste middleware to handle SSL requests through # HTTPProxyToWSGI middleware. # Defaults to $::os_service_default. # $enabled = true, $manage_service = true, $api_service_name = $::placement::params::service_name, $package_ensure = 'present', $sync_db = false, $enable_proxy_headers_parsing = $::os_service_default, $host = undef, $port = undef, oslo::middleware { 'placement_config': enable_proxy_headers_parsing => $enable_proxy_headers_parsing, }"," $enabled = true, $manage_service = true, $api_service_name = $::placement::params::service_name, $package_ensure = 'present', $sync_db = false, $host = undef, $port = undef,",36,7
openstack%2Fpython-muranoclient~stable%2Fxena~I1bb5ca73657a03d273a12d69cb278ba9bd1b6e08,openstack/python-muranoclient,stable/xena,I1bb5ca73657a03d273a12d69cb278ba9bd1b6e08,Update .gitreview for stable/xena,MERGED,2021-09-17 16:43:19.000000000,2022-01-06 08:50:05.000000000,2022-01-06 08:48:05.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-17 16:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/ecddfc6094166b8b04f47dea4cd5938a18d5d20b', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I1bb5ca73657a03d273a12d69cb278ba9bd1b6e08\n'}, {'number': 2, 'created': '2022-01-06 01:18:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/4098c769d9274bc64a7d66166838d0b79cfca6b0', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I1bb5ca73657a03d273a12d69cb278ba9bd1b6e08\n'}]",1,809844,4098c769d9274bc64a7d66166838d0b79cfca6b0,10,2,2,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I1bb5ca73657a03d273a12d69cb278ba9bd1b6e08
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/44/809844/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ecddfc6094166b8b04f47dea4cd5938a18d5d20b,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fsolum~master~I716a9ccd384f24f7e39ad433ecd38d70fb978e3a,openstack/solum,master,I716a9ccd384f24f7e39ad433ecd38d70fb978e3a,Fix devstack job failures,MERGED,2022-01-06 07:09:34.000000000,2022-01-06 08:48:32.000000000,2022-01-06 08:43:39.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 07:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/55819ea23688eb1901fcece48e37dd1dd0c3cfb7', 'message': 'Fix devstack job failures\n\nChange-Id: I716a9ccd384f24f7e39ad433ecd38d70fb978e3a\n'}, {'number': 2, 'created': '2022-01-06 07:10:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum/commit/8b5b680f6ec179acd7f8617213ef34cc86488d2a', 'message': 'Fix devstack job failures\n\nChange-Id: I716a9ccd384f24f7e39ad433ecd38d70fb978e3a\n'}]",0,823598,8b5b680f6ec179acd7f8617213ef34cc86488d2a,9,2,2,14107,,,0,"Fix devstack job failures

Change-Id: I716a9ccd384f24f7e39ad433ecd38d70fb978e3a
",git fetch https://review.opendev.org/openstack/solum refs/changes/98/823598/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,55819ea23688eb1901fcece48e37dd1dd0c3cfb7,,,,0,0
openstack%2Fironic-python-agent-builder~stable%2Fxena~I88c1ec2590d280745daa6c8b3aa9a719f5d96e72,openstack/ironic-python-agent-builder,stable/xena,I88c1ec2590d280745daa6c8b3aa9a719f5d96e72,Preliminary work to support CentOS 9 Stream,ABANDONED,2022-01-06 08:20:53.000000000,2022-01-06 08:22:04.000000000,,[{'_account_id': 10969}],"[{'number': 1, 'created': '2022-01-06 08:20:53.000000000', 'files': ['dib/ironic-python-agent-ramdisk/pkg-map'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/dfe097aa45f539e655d9ad774e09893c81e4354b', 'message': 'Preliminary work to support CentOS 9 Stream\n\nChanges package mappings to default to Python 3. Unfortunately, the\nbuild does not work yet because of some issue in DIB.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I88c1ec2590d280745daa6c8b3aa9a719f5d96e72\n(cherry picked from commit 09dcdedf001f4e06103cfbe402d5f887b24b24cc)\n'}]",0,823602,dfe097aa45f539e655d9ad774e09893c81e4354b,2,1,1,34208,,,0,"Preliminary work to support CentOS 9 Stream

Changes package mappings to default to Python 3. Unfortunately, the
build does not work yet because of some issue in DIB.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I88c1ec2590d280745daa6c8b3aa9a719f5d96e72
(cherry picked from commit 09dcdedf001f4e06103cfbe402d5f887b24b24cc)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/02/823602/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/pkg-map'],1,dfe097aa45f539e655d9ad774e09893c81e4354b,c9img-stable/xena,"<<<<<<< HEAD (8e4215 Update TOX_CONSTRAINTS_FILE for stable/xena)======= ""python-dev"": ""python-devel"", ""tgt"": ""scsi-target-utils"" >>>>>>> CHANGE (09dcde Preliminary work to support CentOS 9 Stream)<<<<<<< HEAD (8e4215 Update TOX_CONSTRAINTS_FILE for stable/xena)======= ""python-dev"": ""python-devel"", ""tgt"": ""scsi-target-utils"" >>>>>>> CHANGE (09dcde Preliminary work to support CentOS 9 Stream)<<<<<<< HEAD (8e4215 Update TOX_CONSTRAINTS_FILE for stable/xena)======= ""python-dev"": ""python3-devel"", ""qemu-utils"": ""qemu-img"", ""tgt"": ""target-restore"" >>>>>>> CHANGE (09dcde Preliminary work to support CentOS 9 Stream)",,16,0
openstack%2Fpuppet-manila~master~I3fdb61f675836f7de4d83baa0d3f45c491afbe68,openstack/puppet-manila,master,I3fdb61f675836f7de4d83baa0d3f45c491afbe68,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 13:52:29.000000000,2022-01-06 08:01:40.000000000,2022-01-06 08:00:07.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 13:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/1c511d8405c8bfb867cabf784e9b1aa597dc24af', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I3fdb61f675836f7de4d83baa0d3f45c491afbe68\n'}, {'number': 2, 'created': '2021-11-25 14:17:26.000000000', 'files': ['spec/classes/manila_keystone_authtoken_spec.rb', 'releasenotes/notes/system_scope-keystone-57f90004f977fe29.yaml', 'spec/classes/manila_keystone_auth_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/1dcb01f70af96de5268369fa2826a3ba34731d1c', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I3fdb61f675836f7de4d83baa0d3f45c491afbe68\n'}]",0,819315,1dcb01f70af96de5268369fa2826a3ba34731d1c,10,4,2,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I3fdb61f675836f7de4d83baa0d3f45c491afbe68
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/15/819315/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/system_scope-keystone-57f90004f977fe29.yaml', 'manifests/keystone/auth.pp']",2,1c511d8405c8bfb867cabf784e9b1aa597dc24af,system-scope-params,"# [*roles*] # (Optional) List of roles assigned to Manila user. # Defaults to ['admin'] # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to Manila user. # Defaults to [] # $roles = ['admin'], $system_scope = 'all', $system_roles = [], Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['manila::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['manila::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['manila::service::end'] } if $configure_endpoint_v2 { Keystone_endpoint[""${region}/${service_name_v2}::${service_type_v2}""] -> Anchor['manila::service::end'] } roles => $roles, system_scope => $system_scope, system_roles => $system_roles, roles => $roles, system_scope => $system_scope, system_roles => $system_roles,",,45,0
openstack%2Fpuppet-manila~master~I4e63f94ab752e185d22dbff303dde158323af2d2,openstack/puppet-manila,master,I4e63f94ab752e185d22dbff303dde158323af2d2,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:08:51.000000000,2022-01-06 08:00:05.000000000,2022-01-06 08:00:05.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/25cb1352c258aa458490fd7d9aa677a6d3c751ff', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I4e63f94ab752e185d22dbff303dde158323af2d2\n'}, {'number': 2, 'created': '2022-01-05 13:34:28.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5bdbf141c32945e18f6c72f1196cdd27205967ea', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I4e63f94ab752e185d22dbff303dde158323af2d2\n'}]",0,823519,5bdbf141c32945e18f6c72f1196cdd27205967ea,9,4,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I4e63f94ab752e185d22dbff303dde158323af2d2
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/19/823519/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,25cb1352c258aa458490fd7d9aa677a6d3c751ff,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-murano~master~Id544dc2bb4f8e7424b259050e44f403c68f80eb8,openstack/puppet-murano,master,Id544dc2bb4f8e7424b259050e44f403c68f80eb8,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:11:44.000000000,2022-01-06 07:13:30.000000000,2022-01-06 07:13:30.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/7e62e0c64c5c6f9d803ffd10e1455977e7b054b4', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id544dc2bb4f8e7424b259050e44f403c68f80eb8\n'}, {'number': 2, 'created': '2022-01-05 13:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/3ffe533aa7ed324125f25aff0f0f816dce46a1ab', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id544dc2bb4f8e7424b259050e44f403c68f80eb8\n'}, {'number': 3, 'created': '2022-01-05 13:39:00.000000000', 'files': ['manifests/dashboard.pp', 'spec/classes/murano_dashboard_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/37e07910a95137c8a4ab1f6c972071d975809e45', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id544dc2bb4f8e7424b259050e44f403c68f80eb8\n'}]",0,823522,37e07910a95137c8a4ab1f6c972071d975809e45,9,3,3,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Id544dc2bb4f8e7424b259050e44f403c68f80eb8
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/22/823522/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/dashboard.pp'],1,7e62e0c64c5c6f9d803ffd10e1455977e7b054b4,remove-os_package_type, if $::os['distro']['id'] == 'Ubuntu' {, if $::os_package_type == 'ubuntu' {,1,1
openstack%2Fos-net-config~master~I1d718c8d949ac04c560a726f54b64aea0b162081,openstack/os-net-config,master,I1d718c8d949ac04c560a726f54b64aea0b162081,vDPA support for CentOS9,MERGED,2021-10-23 02:03:06.000000000,2022-01-06 07:10:28.000000000,2022-01-06 07:08:48.000000000,"[{'_account_id': 6926}, {'_account_id': 11604}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-23 02:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c6294b262256ef411ac3f14d093899dfa765bb4b', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 2, 'created': '2021-10-25 23:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c4880608b894bb70c8ae8d8f32b0b4374b1a3615', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 3, 'created': '2021-10-27 10:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/44d7caa029efea8e177bfcd56bd15e20eaeb355b', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 4, 'created': '2021-10-28 01:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/554ea80453990600501f1337383dd26bb7d5998f', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 5, 'created': '2021-10-30 00:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/01b6f2fa5ea653e72403e1d48898f551812df057', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 6, 'created': '2021-10-30 00:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5d69f9fb5f5ae382591d5495516f4499a18473fd', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 7, 'created': '2021-10-30 01:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ded164f4a9e3790cec867430927d96926586a1fd', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 8, 'created': '2021-10-30 01:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/93d587eef1a3d1e44344e800453ce1d2d081643d', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 9, 'created': '2021-11-03 13:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8c1400ddd4ba2ed2dcb66ae760a6bc8721fb01d3', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 10, 'created': '2021-11-03 16:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a251df7a2fbd01d9da0df8ddda92ecbf92019bdd', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 11, 'created': '2021-11-03 16:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e6d929fd0ebbdb142008bbee44dc4bd085b9aa74', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 12, 'created': '2021-11-03 16:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5d3ceb8d62f214c93eda2a2afb3aa02c98987289', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 13, 'created': '2021-11-05 10:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d7f92ef9bb4d1df9f54693e13f65058bba79425f', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 14, 'created': '2021-11-16 17:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9c7e9e0c5105f967e9228670157b52f886a0eaae', 'message': 'DNM vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nDNM: Still need to work and test this in multiple scenarios.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n'}, {'number': 15, 'created': '2021-11-16 17:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3ad27308dd89e103bfba885b5e1cb5c9c401d0fb', 'message': ""vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nWe're also moving a few functions from utils/sriov_config to the new\ncommon library for easier maintenance.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n""}, {'number': 16, 'created': '2021-11-16 17:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/20220e075b12a0201739944252ac04c5923e742d', 'message': ""vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nWe're also moving a few functions from utils/sriov_config to the new\ncommon library for easier maintenance.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n""}, {'number': 17, 'created': '2021-11-23 14:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/392206f7b57db0ee57a3b2f4772e31c7f744d035', 'message': ""vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nWe're also moving a few functions from utils/sriov_config to the new\ncommon library for easier maintenance.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n""}, {'number': 18, 'created': '2021-11-29 19:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3c7de25e8768b52e4422dab8b5271f4a338b9e89', 'message': ""vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nWe're also moving a few functions from utils/sriov_config to the new\ncommon library for easier maintenance.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n""}, {'number': 19, 'created': '2021-11-30 12:36:21.000000000', 'files': ['os_net_config/tests/test_cli.py', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/impl_eni.py', 'os_net_config/common.py', 'os_net_config/tests/test_impl_eni.py', 'os_net_config/tests/test_sriov_config.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b30304d706cc6db7c20737ff18c2b01870b10f6b', 'message': ""vDPA support for CentOS9\n\nMultiple things changed between latest release of CentOS8 and CentOS9\nthat affects the vDPA stack:\n- The vhost devices are no longer created automatically by the kernel\n  module, we need to use the newly introduced vdpa command.\n- The naming of the interfaces has changed drastically and they are no\n  more triggering the udev rules.\n- The udev devices are lacking some easily matchable attributes so we\n  need to match by MAC address.\n\nWe're also moving a few functions from utils/sriov_config to the new\ncommon library for easier maintenance.\n\nChange-Id: I1d718c8d949ac04c560a726f54b64aea0b162081\n""}]",40,815186,b30304d706cc6db7c20737ff18c2b01870b10f6b,55,6,19,27419,,,0,"vDPA support for CentOS9

Multiple things changed between latest release of CentOS8 and CentOS9
that affects the vDPA stack:
- The vhost devices are no longer created automatically by the kernel
  module, we need to use the newly introduced vdpa command.
- The naming of the interfaces has changed drastically and they are no
  more triggering the udev rules.
- The udev devices are lacking some easily matchable attributes so we
  need to match by MAC address.

We're also moving a few functions from utils/sriov_config to the new
common library for easier maintenance.

Change-Id: I1d718c8d949ac04c560a726f54b64aea0b162081
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/86/815186/18 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,c6294b262256ef411ac3f14d093899dfa765bb4b,,"from json import loads VF_PCI_RE = re.compile(r'/[\d]{4}\:(\d+):(\d+)\.(\d+)/net/[^\/]+$')# Global variable to store link between pci/pf # for udev rule creationg when dealing with mlnx vdpa vf_to_pf = {}def _get_sriov_map(pf_name=None): if pf_name: return [pf for pf in sriov_map if pf['name'] == pf_name][0]def _norm_path(dev, suffix): return os.path.normpath(os.path.join(dev, suffix)) def _get_pf_path(device): pf_path = _norm_path(device, ""../../physfn/net"") if not os.path.isdir(pf_path): pf_path = _norm_path(device, ""physfn/net"") if not os.path.isdir(pf_path): pf_path = None return pf_path def _driver_unbind(dev): vf_pci_path = f""/sys/bus/pci/devices/{vf_pci}/driver"" if os.path.exists(vf_pci_path): logger.info(f""{vf_pci}: Unbinding driver"") with open(MLNX_UNBIND_FILE_PATH, 'w') as f: f.write(vf_pci) else: logger.info(f""{vf_pci}: No driver to unbind"") pf_config = _get_sriov_map(pf_name) vdpa = pf_config.get('vdpa', False) pf_path = _get_pf_path(event[""device""]) logger.debug(f""Got udev event for {event['device']}: {event}"") if pf_path: # event['device']: /sys/devices/pci0000:00/0000:00:02.2/0000:06:00.2/net/eth0 # pf_nic: ['enp6s0f0np0', 'enp6s0f0np0_0', 'enp6s0f0np0_7', 'enp6s0f0np0_5', 'enp6s0f0np0_3', 'enp6s0f0np0_1', 'enp6s0f0np0_6', 'enp6s0f0np0_4', 'enp6s0f0np0_2'] # pf_name: enp6s0f0np0 # pf_path: /sys/devices/pci0000:00/0000:00:02.2/0000:06:00.2/physfn/net if ((not vdpa and len(pf_nic) == 1 and pf_name == pf_nic[0]) or (vdpa and pf_name in pf_nic)): vf_to_pf[vf_name] = { 'device': event['device'], 'pf': pf_name } vf_count += 1 elif vdpa: logger.warning(f""PF {pf_name} is not in {pf_path}"") else: logger.warning( f""Unable to parse event {event['device']} for {pf_name}"" ) elif not vdpa: logger.warning(f""Unable to find PF for {event['device']}"") if any(item.get('vdpa') for item in sriov_map): vdpa_devices = get_vdpa_vhost_devices() vdpa = item.get('vdpa' ) # It has to happen before we set_numvfs if vdpa and is_mlnx: # Configure switchdev, unbind driver and configure vdpa if item.get('link_mode') == ""switchdev"" and is_mlnx: for vf_pci in vf_pcis_list: if not vdpa: # For DPDK, we need to unbind the driver _driver_unbind(vf_pci) else: if vf_pci not in vdpa_devices: configure_vdpa_vhost_device(vf_pci) else: logger.info( f""{item['name']}: vDPA device already created "" f""for {vf_pci}"" ) if not vdpa: # This is used for the sriov_bind_config mlnx_vfs_pcis_list += vf_pcis_list configure_smfs_software_steering(item['name']) # Configure switchdev mode configure_switchdev(item['name']) # Adding a udev rule to rename vf-representors trigger_udev_rule = add_udev_rule_for_vf_representors( item['name']) or trigger_udev_rule else: trigger_udev_rule = add_udev_rule_for_vdpa_representors( item['name']) or trigger_udev_rule if mlnx_vfs_pcis_list and not vdpa: logger.info(f""{pf_name}: adding udev rules for sriov"") logger.info(f""{pf_name}: adding udev rules for legacy sriov: {numvfs}"") logger.info(f""{pf_name}: adding udev rules for vf representators"") if not pf_fun_num_match: pf_fun_num = pf_fun_num_match.group(1)def add_udev_rule_for_vdpa_representors(pf_name): logger.info(f""{pf_name}: adding udev rules for vdpa representators"") udev_lines = """" for vf, att in vf_to_pf.items(): mac_path = os.path.join(_SYS_CLASS_NET, vf, 'address') mac = get_file_data(mac_path).strip() vadd = VF_PCI_RE.search(att.get('device')) if not vadd: logger.error( f""Failed to get pf/vf numbers for {vf} ({att.get('device')})\n"" ""and so failed to create a udev rule for renaming vdpa dev"" ) continue vdpa_rep = f""vdpa{vadd.group(1)}p{vadd.group(2)}vf{vadd.group(3)}"" logger.info(f""Rep: {vdpa_rep}"") udev_lines += ( 'SUBSYSTEM==""net"", ACTION==""add"", ' f'ATTR{{address}}==""{mac}"", NAME=""{vdpa_rep}""\n' ) logger.info(udev_lines) return add_udev_rule(udev_lines, _UDEV_RULE_FILE) def get_vdpa_vhost_devices(): logger.info(f""Getting list of vdpa devices"") try: stdout, stderr = processutils.execute('vdpa', '-j', 'dev') except processutils.ProcessExecutionError as exc: logger.error(f""Failed to get vdpa vhost devices: {exc}"") raise return loads(stdout)['dev'] def configure_vdpa_vhost_device(pci): logger.info(f""{pci}: Creating vdpa device"") try: processutils.execute('vdpa', 'dev', 'add', 'name', pci, 'mgmtdev', f'pci/{pci}') except processutils.ProcessExecutionError as exc: logger.error(f""Failed to create vdpa vhost device for {pci}: {exc}"") raise pf_files = os.listdir(os.path.join(_SYS_CLASS_NET, pf_name, ""device"")) for pf_file in pf_files: logger.info(""Configuring SRIOV VF #{vfid} for {pf_name}"")","def _get_sriov_map(): pf_path = os.path.normpath(os.path.join(event[""device""], ""../../physfn/net"")) if os.path.isdir(pf_path): if len(pf_nic) == 1 and pf_name == pf_nic[0]: vf_count = vf_count + 1 else: logger.warning(f""Unable to parse event {event['device']}"") else: logger.warning(f""{pf_path} is not a directory"") if item.get('vdpa') and is_mlnx: # Configure switchdev mode when not vdpa if (item.get('link_mode') == ""switchdev"" and is_mlnx and not item.get('vdpa')): mlnx_vfs_pcis_list += vf_pcis_list for vf_pci in vf_pcis_list: vf_pci_path = f""/sys/bus/pci/devices/{vf_pci}/driver"" if os.path.exists(vf_pci_path): logger.info(f""Unbinding {vf_pci}"") with open(MLNX_UNBIND_FILE_PATH, 'w') as f: f.write(vf_pci) configure_smfs_software_steering(item['name']) # Configure switchdev mode configure_switchdev(item['name']) # Adding a udev rule to rename vf-representors trigger_udev_rule = add_udev_rule_for_vf_representors( item['name']) or trigger_udev_rule if mlnx_vfs_pcis_list: logger.info(f""adding udev rules for sriov {pf_name}"") logger.info(f""adding udev rules for legacy sriov {pf_name}: {numvfs}"") logger.info(f""adding udev rules for vf representators {pf_name}"") if pf_fun_num_match: pf_fun_num = pf_fun_num_match.group(1) else: listOfPfFiles = os.listdir(os.path.join(_SYS_CLASS_NET, pf_name, ""device"")) for pf_file in listOfPfFiles:",134,38
openstack%2Fneutron~stable%2Fussuri~I87ae795b958987d0c1f1c2d87f2f9285b9078e76,openstack/neutron,stable/ussuri,I87ae795b958987d0c1f1c2d87f2f9285b9078e76,[OVN] Fix RowNotFound exception while waiting for metadata networks,ABANDONED,2022-01-06 06:33:45.000000000,2022-01-06 06:40:31.000000000,,[{'_account_id': 6773}],"[{'number': 1, 'created': '2022-01-06 06:33:45.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/03c9e9cbb6911360f6da8fe18d60b3df969ab6aa', 'message': '[OVN] Fix RowNotFound exception while waiting for metadata networks\n\nIn the set_port_status_up() the OVN driver waits for the metadata to be\nprovisioned (15 seconds) [0] prior to sending the event to Nova notifying\nthat the provisioning of the port is done (network-vif-plugged). But\nthere could be a race condition while trying to get that information\nwhich results in a RowNotFound being raise in the waiting loop.\n\nOnce that happens, the exception is bubbled up and the OVN driver end up\nnot sending the event to Nova and the instance will fail to deploy (it\nwill be stuck in BUILD state until it times out).\n\nThis patch changes the logic of the method looking for the metadata\nnetwork information to not raise RowNotFound so that the waiting loop\ncan iteract again [0] until the information is available.\n\n[0]\nhttps://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124\n\nChange-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0\nCloses-Bug: #1914394\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)\n(cherry picked from commit cbf3fe098bb44605174b8e582d56814fd36632c7)\n\nConflicts cleanly resolved by removing not relevant code added before\nthe addittion of the TestSBImplIdlOvn class.  Also added missing\novsdbapp.backend import:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py\n\nChange-Id: I87ae795b958987d0c1f1c2d87f2f9285b9078e76\n'}]",0,823627,03c9e9cbb6911360f6da8fe18d60b3df969ab6aa,2,1,1,13686,,,0,"[OVN] Fix RowNotFound exception while waiting for metadata networks

In the set_port_status_up() the OVN driver waits for the metadata to be
provisioned (15 seconds) [0] prior to sending the event to Nova notifying
that the provisioning of the port is done (network-vif-plugged). But
there could be a race condition while trying to get that information
which results in a RowNotFound being raise in the waiting loop.

Once that happens, the exception is bubbled up and the OVN driver end up
not sending the event to Nova and the instance will fail to deploy (it
will be stuck in BUILD state until it times out).

This patch changes the logic of the method looking for the metadata
network information to not raise RowNotFound so that the waiting loop
can iteract again [0] until the information is available.

[0]
https://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124

Change-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0
Closes-Bug: #1914394
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)
(cherry picked from commit cbf3fe098bb44605174b8e582d56814fd36632c7)

Conflicts cleanly resolved by removing not relevant code added before
the addittion of the TestSBImplIdlOvn class.  Also added missing
ovsdbapp.backend import:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py

Change-Id: I87ae795b958987d0c1f1c2d87f2f9285b9078e76
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/823627/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py']",3,03c9e9cbb6911360f6da8fe18d60b3df969ab6aa,bug/1914394-ovn-metadata-networks-stable/ussuri,"from ovsdbapp.backend import ovs_idl class TestSBImplIdlOvn(TestDBImplIdlOvn): fake_set = { 'chassis': [ {'name': 'fake-chassis', 'external_ids': {'neutron-metadata-proxy-networks': 'fake-id'}}], } def setUp(self): super(TestSBImplIdlOvn, self).setUp() self.chassis_table = fakes.FakeOvsdbTable.create_one_ovsdb_table() self._tables = {} self._tables['Chassis'] = self.chassis_table with mock.patch.object(impl_idl_ovn.OvsdbSbOvnIdl, 'from_worker', return_value=mock.Mock()): with mock.patch.object(ovs_idl.Backend, 'autocreate_indices', create=True): impl_idl_ovn.OvsdbSbOvnIdl.ovsdb_connection = None self.sb_ovn_idl = impl_idl_ovn.OvsdbSbOvnIdl(mock.MagicMock()) self.sb_ovn_idl.idl.tables = self._tables def _load_sb_db(self): fake_chassis = TestSBImplIdlOvn.fake_set['chassis'] self._load_ovsdb_fake_rows(self.chassis_table, fake_chassis) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks_chassis_empty(self, mock_log): chassis_name = 'fake-chassis' result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) mock_log.assert_called_once_with( ""Couldn't find Chassis named %s in OVN while looking "" ""for metadata networks"", chassis_name) self.assertEqual([], result) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks(self, mock_log): chassis_name = 'fake-chassis' self._load_sb_db() result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) self.assertFalse(mock_log.called) self.assertEqual(['fake-id'], result)",,57,1
openstack%2Fneutron~stable%2Fussuri~Ib437667c68973784c2f5964629a31ddd67ce662f,openstack/neutron,stable/ussuri,Ib437667c68973784c2f5964629a31ddd67ce662f,[OVN] Fix RowNotFound exception while waiting for metadata networks,ABANDONED,2022-01-06 06:31:50.000000000,2022-01-06 06:35:06.000000000,,[{'_account_id': 6773}],"[{'number': 1, 'created': '2022-01-06 06:31:50.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa10a6855147601a4f7bfada0ea710aba3a53320', 'message': '[OVN] Fix RowNotFound exception while waiting for metadata networks\n\nIn the set_port_status_up() the OVN driver waits for the metadata to be\nprovisioned (15 seconds) [0] prior to sending the event to Nova notifying\nthat the provisioning of the port is done (network-vif-plugged). But\nthere could be a race condition while trying to get that information\nwhich results in a RowNotFound being raise in the waiting loop.\n\nOnce that happens, the exception is bubbled up and the OVN driver end up\nnot sending the event to Nova and the instance will fail to deploy (it\nwill be stuck in BUILD state until it times out).\n\nThis patch changes the logic of the method looking for the metadata\nnetwork information to not raise RowNotFound so that the waiting loop\ncan iteract again [0] until the information is available.\n\n[0]\nhttps://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124\n\nChange-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0\nCloses-Bug: #1914394\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)\n(cherry picked from commit cbf3fe098bb44605174b8e582d56814fd36632c7)\n\nConflicts cleanly resolved by removing not relevant code added before the\naddittion of the TestSBImplIdlOvn class.  Also added missing\novsdbapp.backend import:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py\n\nChange-Id: Ib437667c68973784c2f5964629a31ddd67ce662f\n'}]",0,823626,aa10a6855147601a4f7bfada0ea710aba3a53320,2,1,1,13686,,,0,"[OVN] Fix RowNotFound exception while waiting for metadata networks

In the set_port_status_up() the OVN driver waits for the metadata to be
provisioned (15 seconds) [0] prior to sending the event to Nova notifying
that the provisioning of the port is done (network-vif-plugged). But
there could be a race condition while trying to get that information
which results in a RowNotFound being raise in the waiting loop.

Once that happens, the exception is bubbled up and the OVN driver end up
not sending the event to Nova and the instance will fail to deploy (it
will be stuck in BUILD state until it times out).

This patch changes the logic of the method looking for the metadata
network information to not raise RowNotFound so that the waiting loop
can iteract again [0] until the information is available.

[0]
https://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124

Change-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0
Closes-Bug: #1914394
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)
(cherry picked from commit cbf3fe098bb44605174b8e582d56814fd36632c7)

Conflicts cleanly resolved by removing not relevant code added before the
addittion of the TestSBImplIdlOvn class.  Also added missing
ovsdbapp.backend import:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py

Change-Id: Ib437667c68973784c2f5964629a31ddd67ce662f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/823626/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py']",3,aa10a6855147601a4f7bfada0ea710aba3a53320,bug/1914394-ovn-metadata-networks-stable/ussuri,"from ovsdbapp.backend import ovs_idl class TestSBImplIdlOvn(TestDBImplIdlOvn): fake_set = { 'chassis': [ {'name': 'fake-chassis', 'external_ids': {'neutron-metadata-proxy-networks': 'fake-id'}}], } def setUp(self): super(TestSBImplIdlOvn, self).setUp() self.chassis_table = fakes.FakeOvsdbTable.create_one_ovsdb_table() self._tables = {} self._tables['Chassis'] = self.chassis_table with mock.patch.object(impl_idl_ovn.OvsdbSbOvnIdl, 'from_worker', return_value=mock.Mock()): with mock.patch.object(ovs_idl.Backend, 'autocreate_indices', create=True): impl_idl_ovn.OvsdbSbOvnIdl.ovsdb_connection = None self.sb_ovn_idl = impl_idl_ovn.OvsdbSbOvnIdl(mock.MagicMock()) self.sb_ovn_idl.idl.tables = self._tables def _load_sb_db(self): fake_chassis = TestSBImplIdlOvn.fake_set['chassis'] self._load_ovsdb_fake_rows(self.chassis_table, fake_chassis) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks_chassis_empty(self, mock_log): chassis_name = 'fake-chassis' result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) mock_log.assert_called_once_with( ""Couldn't find Chassis named %s in OVN while looking "" ""for metadata networks"", chassis_name) self.assertEqual([], result) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks(self, mock_log): chassis_name = 'fake-chassis' self._load_sb_db() result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) self.assertFalse(mock_log.called) self.assertEqual(['fake-id'], result)",,57,1
openstack%2Fpuppet-neutron~master~I2c3e1c188c0c61d9327f009963ba1452b46ee97e,openstack/puppet-neutron,master,I2c3e1c188c0c61d9327f009963ba1452b46ee97e,Ensure neutron packages are installed before configuring apache,MERGED,2022-01-04 12:44:56.000000000,2022-01-06 06:16:18.000000000,2022-01-06 06:16:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 12:44:56.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b59c77c7b9ee694fb61a43a1bbd89e3fc3f42403', 'message': 'Ensure neutron packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available. This allows us to avoid conflicting vhosts when distro\npackages start providing the default apache vhost file.\n\nChange-Id: I2c3e1c188c0c61d9327f009963ba1452b46ee97e\n'}]",1,823387,b59c77c7b9ee694fb61a43a1bbd89e3fc3f42403,11,3,1,9816,,,0,"Ensure neutron packages are installed before configuring apache

... so that items like wsgi script, which are provided by the packages,
are available. This allows us to avoid conflicting vhosts when distro
packages start providing the default apache vhost file.

Change-Id: I2c3e1c188c0c61d9327f009963ba1452b46ee97e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/87/823387/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,b59c77c7b9ee694fb61a43a1bbd89e3fc3f42403,," require => Anchor['neutron::install::end'],",,1,0
openstack%2Ftripleo-quickstart~master~I19de45ddd89e45fb28f2c362a2130ab710dcad55,openstack/tripleo-quickstart,master,I19de45ddd89e45fb28f2c362a2130ab710dcad55,[DNM] Test network config override,ABANDONED,2021-12-21 16:31:46.000000000,2022-01-06 05:10:05.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-12-21 16:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/32a26996b5cebd662260cc9c74080ccb3f2d0099', 'message': '[DNM] Test network config override\n\nChange-Id: I19de45ddd89e45fb28f2c362a2130ab710dcad55\n'}, {'number': 2, 'created': '2021-12-22 07:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f9ad2ed4f2d91d89fe28a27028f4df282da23e60', 'message': '[DNM] Test network config override\n\nChange-Id: I19de45ddd89e45fb28f2c362a2130ab710dcad55\n'}, {'number': 3, 'created': '2021-12-22 08:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ca173a50c50d29b97985d1785bf605daa382cee4', 'message': '[DNM] Test network config override\n\nChange-Id: I19de45ddd89e45fb28f2c362a2130ab710dcad55\n'}, {'number': 4, 'created': '2021-12-22 11:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0369c0b1423b1981cd84e4668f728eb579cf19b1', 'message': '[DNM] Test network config override\n\nChange-Id: I19de45ddd89e45fb28f2c362a2130ab710dcad55\n'}, {'number': 5, 'created': '2021-12-22 12:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ae0433167f1cb0f3963901dbef47225977a5a66', 'message': '[DNM] Test network config override\n\nChange-Id: I19de45ddd89e45fb28f2c362a2130ab710dcad55\n'}, {'number': 6, 'created': '2021-12-22 16:14:43.000000000', 'files': ['roles/repo-setup/tasks/main.yml', 'config/environments/network_data.yaml', 'config/general_config/minimal.yml', 'roles/common/defaults/main.yml', 'config/nodes/3ctlr_1comp.yml', 'config/environments/network-environment-vlan.yaml', 'zuul.d/layout.yaml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3fd76703a3ca692e0077fe31d946bf6b4bc8f4ea', 'message': '[DNM] Test network config override\n\nChange-Id: I19de45ddd89e45fb28f2c362a2130ab710dcad55\n'}]",4,822533,3fd76703a3ca692e0077fe31d946bf6b4bc8f4ea,35,1,6,13861,,,0,"[DNM] Test network config override

Change-Id: I19de45ddd89e45fb28f2c362a2130ab710dcad55
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/822533/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/nodes/3ctlr_1comp.yml', 'zuul.d/layout.yaml']",2,32a26996b5cebd662260cc9c74080ccb3f2d0099,dnm, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-tox-molecule - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - config/general_config/featureset030.yml gate: queue: tripleo jobs: - openstack-tox-linters,2,29
openstack%2Ftacker~master~Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379,openstack/tacker,master,Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379,[Centos Stream8]Devstack install with kubernetes,MERGED,2021-11-30 15:17:51.000000000,2022-01-06 05:02:15.000000000,2022-01-06 05:00:21.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-11-30 15:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/eb685d0c1841a2c26e7742f403086ccf63f8560c', 'message': '[Centos Stream8]Devstack install with kubernetes\n\nDocument fix for Devstack installation with kubernetes\nin CentOS Stream8.\n\nCloses-Bug: #1951420\nChange-Id: Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379\n'}, {'number': 2, 'created': '2021-12-01 06:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/281686357aa21a12ca958160cbdf56364a38f269', 'message': '[Centos Stream8]Devstack install with kubernetes\n\nDocument fix for Devstack installation with kubernetes\nin CentOS Stream8.\n\nCloses-Bug: #1951420\nChange-Id: Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379\n'}, {'number': 3, 'created': '2021-12-01 08:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9735985abf33cc0d26e962e39f93b41008ff2868', 'message': '[Centos Stream8]Devstack install with kubernetes\n\nDocument fix for Devstack installation with kubernetes\nin CentOS Stream8.\n\nCloses-Bug: #1951420\nChange-Id: Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379\n'}, {'number': 4, 'created': '2021-12-13 07:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c510826ea4828223b205414d41b95260d46108c9', 'message': '[Centos Stream8]Devstack install with kubernetes\n\nDocument fix for Devstack installation with kubernetes\nin CentOS Stream8.\n\nCloses-Bug: #1951420\nChange-Id: Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379\n'}, {'number': 5, 'created': '2021-12-14 08:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4aa3caea06929c37fd14d3ac5eab0f4bd1e391b9', 'message': '[Centos Stream8]Devstack install with kubernetes\n\nDocument fix for Devstack installation with kubernetes\nin CentOS Stream8.\n\nCloses-Bug: #1951420\nCloses-Bug: #1951421\nChange-Id: Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379\n'}, {'number': 6, 'created': '2021-12-19 16:22:43.000000000', 'files': ['doc/source/install/kubernetes_vim_installation.rst', 'doc/source/install/devstack.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/88112654e35679358340742014e10af5b63b4331', 'message': '[Centos Stream8]Devstack install with kubernetes\n\nDocument fix for Devstack installation with kubernetes\nin CentOS Stream8.\n\nCloses-Bug: #1951420\nCloses-Bug: #1951421\nChange-Id: Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379\n'}]",16,819895,88112654e35679358340742014e10af5b63b4331,34,5,6,33558,,,0,"[Centos Stream8]Devstack install with kubernetes

Document fix for Devstack installation with kubernetes
in CentOS Stream8.

Closes-Bug: #1951420
Closes-Bug: #1951421
Change-Id: Iaae7a04fb87f54d7f9bd8fb3cc2ea49e6002d379
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/819895/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/kubernetes_vim_installation.rst'],1,eb685d0c1841a2c26e7742f403086ccf63f8560c,bug/1951420, .. note:: Start ovn sevice before executing stack.sh on CentOS Stream8 environment. Run below commands to start ovn services. sudo systemctl start ovn-northd.service sudo systemctl start ovn-controller.service sudo systemctl start ovs-vswitchd.service sudo systemctl start ovsdb-server.service ,,9,0
openstack%2Ftempest~master~Ia298e20d1db77f307c850f90741d5fb46cb87ae0,openstack/tempest,master,Ia298e20d1db77f307c850f90741d5fb46cb87ae0,Remove stable/train jobs from master gate,MERGED,2021-12-16 23:53:59.000000000,2022-01-06 03:33:33.000000000,2022-01-06 03:28:41.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-12-16 23:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2244c325c8e89b6e3c122691caeda3ec6682e648', 'message': 'Remove stable/train jobs from master gate\n\nstable/train is in EM state and tempest master\ndoes not support stable/train. depends on patch\nalso cap the tempest on stable/train testing.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816549\nChange-Id: Ia298e20d1db77f307c850f90741d5fb46cb87ae0\n'}, {'number': 2, 'created': '2021-12-16 23:59:04.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/59f6aa6a90cbe42634e63b75370b1378dd8f61fc', 'message': 'Remove stable/train jobs from master gate\n\nstable/train is in EM state and tempest master\ndoes not support stable/train. depends on patch\nalso cap the tempest on stable/train testing.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816549\nDepends-On: https://review.opendev.org/c/openstack/stackviz/+/822056\n\nChange-Id: Ia298e20d1db77f307c850f90741d5fb46cb87ae0\n'}]",9,822055,59f6aa6a90cbe42634e63b75370b1378dd8f61fc,29,2,2,8556,,,0,"Remove stable/train jobs from master gate

stable/train is in EM state and tempest master
does not support stable/train. depends on patch
also cap the tempest on stable/train testing.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/816549
Depends-On: https://review.opendev.org/c/openstack/stackviz/+/822056

Change-Id: Ia298e20d1db77f307c850f90741d5fb46cb87ae0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/822055/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",2,2244c325c8e89b6e3c122691caeda3ec6682e648,,, - tempest-full-train-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-train-py3,0,9
openstack%2Frequirements~master~I339d5e9fc1feed4dda7f1e95d6167d13b4bb57c8,openstack/requirements,master,I339d5e9fc1feed4dda7f1e95d6167d13b4bb57c8,Updated from generate-constraints,ABANDONED,2022-01-06 02:53:04.000000000,2022-01-06 02:56:09.000000000,,[],"[{'number': 1, 'created': '2022-01-06 02:53:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/57bc0511a73f8d33899b305fe193d364fb480dc5', 'message': 'Updated from generate-constraints\n\nChange-Id: I339d5e9fc1feed4dda7f1e95d6167d13b4bb57c8\n'}]",0,823617,57bc0511a73f8d33899b305fe193d364fb480dc5,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I339d5e9fc1feed4dda7f1e95d6167d13b4bb57c8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/823617/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,57bc0511a73f8d33899b305fe193d364fb480dc5,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1httpcore===0.14.4pkg_resources===0.0.0django-compressor===3.1requests===2.27.1google-api-python-client===2.34.0boto3===1.20.29pysaml2===7.1.0botocore===1.23.29dulwich===0.20.28rjsmin===1.2.0httpx===0.21.2fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0httpcore===0.14.3django-compressor===2.4.1requests===2.27.0google-api-python-client===2.33.0boto3===1.20.28pysaml2===7.0.1botocore===1.23.28dulwich===0.20.27rjsmin===1.1.0httpx===0.21.1fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.2.0;python_version=='3.8',14,15
openstack%2Faodh~master~I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100,openstack/aodh,master,I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100,Load api-paste.ini from configuration directories first,MERGED,2021-11-30 15:58:54.000000000,2022-01-06 02:36:03.000000000,2022-01-06 02:32:00.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-30 15:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/18e196eafc6cc3aa82fff99cc725b24d4f682119', 'message': 'Load api-paste.ini from configuration directories first\n\nThe api-paste.ini file defines WSGI definition of API. This file is\nregarded as one configuration file and sometimes users need to modify\nthe file, for example to enable an additional middleware.\n\nHowever currently aodh-api by default expects the file is located in\nthe aodh source directory and users should set the [api] paste_config\nparameter in addition to copy and modify the file.\n\nThis change makes the aodh-api process search the api-paste.ini file\nfrom configuration directories automatically, so that users can more\neasily customize the file by putting the modified file in /etc/aodh\n(or any other config directories).\n\nIf the paste_config parameter is defined as a full path then aodh-api\ndirectly loads the file from the specified path. If the file is not\nfound then the default file in the aodh source directory is used.\n\nChange-Id: I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100\n'}, {'number': 2, 'created': '2021-11-30 22:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/6f95035bcba1f73d1941c718608e92b0362aa9d7', 'message': 'Load api-paste.ini from configuration directories first\n\nThe api-paste.ini file defines WSGI definition of API. This file is\nregarded as one configuration file and sometimes users need to modify\nthe file, for example to enable an additional middleware.\n\nHowever currently aodh-api by default expects the file is located in\nthe aodh source directory and users should set the [api] paste_config\nparameter in addition to copy and modify the file.\n\nThis change makes the aodh-api process search the api-paste.ini file\nfrom configuration directories automatically, so that users can more\neasily customize the file by putting the modified file in /etc/aodh\n(or any other config directories).\n\nIf the paste_config parameter is defined as a full path then aodh-api\ndirectly loads the file from the specified path. If the file is not\nfound then the default file in the aodh source directory is used.\n\nChange-Id: I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100\n'}, {'number': 3, 'created': '2021-11-30 23:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/249dd2b59926122868625b0d940d650facc781ff', 'message': 'Load api-paste.ini from configuration directories first\n\nThe api-paste.ini file defines WSGI definition of API. This file is\nregarded as one configuration file and sometimes users need to modify\nthe file, for example to enable an additional middleware.\n\nHowever currently aodh-api by default expects the file is located in\nthe aodh source directory and users should set the [api] paste_config\nparameter in addition to copy and modify the file.\n\nThis change makes the aodh-api process search the api-paste.ini file\nfrom configuration directories automatically, so that users can more\neasily customize the file by putting the modified file in /etc/aodh\n(or any other config directories).\n\nIf the paste_config parameter is defined as a full path then aodh-api\ndirectly loads the file from the specified path. If the file is not\nfound then the default file in the aodh source directory is used.\n\nChange-Id: I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100\n'}, {'number': 4, 'created': '2021-11-30 23:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c2196c83d857ae6dde34b7b633be913c039b5a93', 'message': 'Load api-paste.ini from configuration directories first\n\nThe api-paste.ini file defines WSGI definition of API. This file is\nregarded as one configuration file and sometimes users need to modify\nthe file, for example to enable an additional middleware.\n\nHowever currently aodh-api by default expects the file is located in\nthe aodh source directory and users should set the [api] paste_config\nparameter in addition to copy and modify the file.\n\nThis change makes the aodh-api process search the api-paste.ini file\nfrom configuration directories automatically, so that users can more\neasily customize the file by putting the modified file in /etc/aodh\n(or any other config directories).\n\nIf the paste_config parameter is defined as a full path then aodh-api\ndirectly loads the file from the specified path. If the file is not\nfound then the default file in the aodh source directory is used.\n\nChange-Id: I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100\n'}, {'number': 5, 'created': '2021-12-01 01:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/6241369e10c165f00113d9f7ba53a52a60a67aae', 'message': 'Load api-paste.ini from configuration directories first\n\nThe api-paste.ini file defines WSGI definition of API. This file is\nregarded as one configuration file and sometimes users need to modify\nthe file, for example to enable an additional middleware.\n\nHowever currently aodh-api by default expects the file is located in\nthe aodh source directory and users should set the [api] paste_config\nparameter in addition to copy and modify the file.\n\nThis change makes the aodh-api process search the api-paste.ini file\nfrom configuration directories automatically, so that users can more\neasily customize the file by putting the modified file in /etc/aodh\n(or any other config directories).\n\nIf the paste_config parameter is defined as a full path then aodh-api\ndirectly loads the file from the specified path. If the file is not\nfound then the default file in the aodh source directory is used.\n\nChange-Id: I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100\n'}, {'number': 6, 'created': '2021-12-01 01:50:42.000000000', 'files': ['releasenotes/notes/load-api-paste-ini-from-config-dirs-69480861a9633df4.yaml', 'aodh/tests/functional/api/test_app.py', 'aodh/api/app.py', 'aodh/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/8ac7c65cffac34e412ab117f8e86b4dd2c973ac9', 'message': 'Load api-paste.ini from configuration directories first\n\nThe api-paste.ini file defines WSGI definition of API. This file is\nregarded as one configuration file and sometimes users need to modify\nthe file, for example to enable an additional middleware.\n\nHowever currently aodh-api by default expects the file is located in\nthe aodh source directory and users should set the [api] paste_config\nparameter in addition to copy and modify the file.\n\nThis change makes the aodh-api process search the api-paste.ini file\nfrom configuration directories automatically, so that users can more\neasily customize the file by putting the modified file in /etc/aodh\n(or any other config directories).\n\nIf the paste_config parameter is defined as a full path then aodh-api\ndirectly loads the file from the specified path. If the file is not\nfound then the default file in the aodh source directory is used.\n\nChange-Id: I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100\n'}]",4,819898,8ac7c65cffac34e412ab117f8e86b4dd2c973ac9,16,3,6,9816,,,0,"Load api-paste.ini from configuration directories first

The api-paste.ini file defines WSGI definition of API. This file is
regarded as one configuration file and sometimes users need to modify
the file, for example to enable an additional middleware.

However currently aodh-api by default expects the file is located in
the aodh source directory and users should set the [api] paste_config
parameter in addition to copy and modify the file.

This change makes the aodh-api process search the api-paste.ini file
from configuration directories automatically, so that users can more
easily customize the file by putting the modified file in /etc/aodh
(or any other config directories).

If the paste_config parameter is defined as a full path then aodh-api
directly loads the file from the specified path. If the file is not
found then the default file in the aodh source directory is used.

Change-Id: I4a6194fbf6a5317a523d75e3fb6bd2fd055f5100
",git fetch https://review.opendev.org/openstack/aodh refs/changes/98/819898/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/load-api-paste-ini-from-config-dirs-69480861a9633df4.yaml', 'aodh/api/app.py', 'aodh/api/__init__.py']",3,18e196eafc6cc3aa82fff99cc725b24d4f682119,paste-ini-conf," default='api-paste.ini',"," default=os.path.abspath( os.path.join( os.path.dirname(__file__), ""api-paste.ini"")),",12,5
openstack%2Fpuppet-ironic~stable%2Fussuri~I9d57299a0b0dc3acc6ddb5ef708cb17190150e69,openstack/puppet-ironic,stable/ussuri,I9d57299a0b0dc3acc6ddb5ef708cb17190150e69,Re-prepare the final stable/ussuri release,MERGED,2021-12-10 04:29:55.000000000,2022-01-06 02:36:01.000000000,2022-01-06 02:36:01.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 04:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/86a2ecd46c8135627e53be5a8b9aa46084c273ee', 'message': 'Re-prepare the final stable/ussuri release\n\nBug #1941908 was found after the previous release was created. This\nchange is to prepare the new stable/ussuri release, which is\nthe real final release before transitioning stable/ussuri to EM.\n\nChange-Id: I9d57299a0b0dc3acc6ddb5ef708cb17190150e69\n'}, {'number': 2, 'created': '2021-12-10 04:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f1df649f05491e4b453f3cdab87c70768c499e21', 'message': 'Re-prepare the final stable/ussuri release\n\nBug #1952652 was found after the previous release was created. This\nchange is to prepare the new stable/ussuri release, which is\nthe real final release before transitioning stable/ussuri to EM.\n\nChange-Id: I9d57299a0b0dc3acc6ddb5ef708cb17190150e69\n'}, {'number': 3, 'created': '2021-12-10 04:34:02.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0e1cfd2ea256b3127b5f60beccc9196b33a5b12a', 'message': 'Re-prepare the final stable/ussuri release\n\nBug #1952652 was found after the previous release was created. This\nchange is to prepare the new stable/ussuri release, which is\nthe real final release before transitioning stable/ussuri to EM.\n\nChange-Id: I9d57299a0b0dc3acc6ddb5ef708cb17190150e69\n'}]",0,821366,0e1cfd2ea256b3127b5f60beccc9196b33a5b12a,9,2,3,9816,,,0,"Re-prepare the final stable/ussuri release

Bug #1952652 was found after the previous release was created. This
change is to prepare the new stable/ussuri release, which is
the real final release before transitioning stable/ussuri to EM.

Change-Id: I9d57299a0b0dc3acc6ddb5ef708cb17190150e69
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/66/821366/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,86a2ecd46c8135627e53be5a8b9aa46084c273ee,," ""version"": ""16.5.0"""," ""version"": ""16.4.0""",1,1
openstack%2Ftripleo-common~stable%2Fwallaby~Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae,openstack/tripleo-common,stable/wallaby,Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae,Remove redhat-release only if installed,MERGED,2022-01-05 13:31:54.000000000,2022-01-06 01:59:07.000000000,2022-01-06 01:56:40.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-05 13:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/484251afe124637803bb2314d45521267cdc9acf', 'message': ""Remove redhat-release only if installed\n\nIt may happen we're running on Centos 8 and the package isn't present;\nAnd we don't want it on Centos Stream 9 either, so let's just remove it\nif present on CentOS based system.\n\nChange-Id: Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae\n(cherry picked from commit 6e0348026a43796efe18833b8e2d0113f87bed56)\n""}, {'number': 2, 'created': '2022-01-05 13:32:08.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/baf926733682e91958d1aee443a9beded2f95d46', 'message': ""Remove redhat-release only if installed\n\nIt may happen we're running on Centos 8 and the package isn't present;\nAnd we don't want it on Centos Stream 9 either, so let's just remove it\nif present on CentOS based system.\n\nChange-Id: Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae\n(cherry picked from commit 6e0348026a43796efe18833b8e2d0113f87bed56)\n""}]",0,823464,baf926733682e91958d1aee443a9beded2f95d46,9,4,2,12393,,,0,"Remove redhat-release only if installed

It may happen we're running on Centos 8 and the package isn't present;
And we don't want it on Centos Stream 9 either, so let's just remove it
if present on CentOS based system.

Change-Id: Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae
(cherry picked from commit 6e0348026a43796efe18833b8e2d0113f87bed56)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/823464/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,484251afe124637803bb2314d45521267cdc9acf,cs9-stable/wallaby-stable/wallaby," if [ -n ""$(rpm -qa redhat-release)"" ];then rpm -e --nodeps redhat-release; fi &&", if [ '{{ tcib_release }}' == '8' ];then rpm -e --nodeps redhat-release; fi &&,1,1
openstack%2Ftripleo-common~stable%2Fwallaby~I3c64b291079b968eb1462e1d37e2217e8fbe9820,openstack/tripleo-common,stable/wallaby,I3c64b291079b968eb1462e1d37e2217e8fbe9820,Add an API config image heat variable,MERGED,2022-01-05 13:44:50.000000000,2022-01-06 01:58:02.000000000,2022-01-06 01:56:34.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 13:44:50.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4576c4b778197882039303ca4821c5b54f1a1b3', 'message': 'Add an API config image heat variable\n\nThe designate API needs the API container image in order to setup the\nhttpd configuration.\n\nChange-Id: I3c64b291079b968eb1462e1d37e2217e8fbe9820\n(cherry picked from commit 9fb5649f826df2276e046b9b228e0c2b3ed45906)\n'}]",0,823532,f4576c4b778197882039303ca4821c5b54f1a1b3,8,3,1,6681,,,0,"Add an API config image heat variable

The designate API needs the API container image in order to setup the
httpd configuration.

Change-Id: I3c64b291079b968eb1462e1d37e2217e8fbe9820
(cherry picked from commit 9fb5649f826df2276e046b9b228e0c2b3ed45906)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/823532/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,f4576c4b778197882039303ca4821c5b54f1a1b3,designate-wallaby, - ContainerDesignateApiConfigImage,,1,0
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9,openstack/tripleo-puppet-elements,stable/wallaby,Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9,Add config for CentOS 9 in yum_plugin_priorities,MERGED,2022-01-04 20:37:51.000000000,2022-01-06 01:56:41.000000000,2022-01-06 01:56:41.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-04 20:37:51.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/bf8e30cfcf8c7cb5743627a695b4da388f5fc135', 'message': 'Add config for CentOS 9 in yum_plugin_priorities\n\nChange-Id: Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9\n(cherry picked from commit 4d183e9dddba39b747d44d9ca06e143e043e002c)\n'}]",0,823364,bf8e30cfcf8c7cb5743627a695b4da388f5fc135,8,4,1,34208,,,0,"Add config for CentOS 9 in yum_plugin_priorities

Change-Id: Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9
(cherry picked from commit 4d183e9dddba39b747d44d9ca06e143e043e002c)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/64/823364/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,bf8e30cfcf8c7cb5743627a695b4da388f5fc135,c9img-stable/wallaby," }, ""9"": { ""yum_plugin_priorities_package"": """", ""python_ipaddr"": """"",,4,0
openstack%2Ftripleo-common~stable%2Fwallaby~I806d596c3930c1846f7dd1941e99a38bef717b89,openstack/tripleo-common,stable/wallaby,I806d596c3930c1846f7dd1941e99a38bef717b89,Add designate dashboard to the horizon container,MERGED,2022-01-05 13:42:05.000000000,2022-01-06 01:56:38.000000000,2022-01-06 01:56:38.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 13:42:05.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2161ffcc35a68a422c1921ad3c68f22b7085a76', 'message': 'Add designate dashboard to the horizon container\n\nNeeded for enabling the designate dashboard in overcloud deployments.\n\nChange-Id: I806d596c3930c1846f7dd1941e99a38bef717b89\n(cherry picked from commit 5439651d34b1796f0568dd18d2a0b1a1de50a23a)\n'}]",0,823531,a2161ffcc35a68a422c1921ad3c68f22b7085a76,7,3,1,6681,,,0,"Add designate dashboard to the horizon container

Needed for enabling the designate dashboard in overcloud deployments.

Change-Id: I806d596c3930c1846f7dd1941e99a38bef717b89
(cherry picked from commit 5439651d34b1796f0568dd18d2a0b1a1de50a23a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/823531/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/horizon/horizon.yaml'],1,a2161ffcc35a68a422c1921ad3c68f22b7085a76,designate-wallaby, - openstack-designate-ui,,1,0
openstack%2Ftripleo-common~stable%2Fwallaby~I7867efe52609eff31fca692b5298a9eede35c239,openstack/tripleo-common,stable/wallaby,I7867efe52609eff31fca692b5298a9eede35c239,Tidy up config image declarations,MERGED,2022-01-05 13:44:50.000000000,2022-01-06 01:56:36.000000000,2022-01-06 01:56:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 13:44:50.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b580a07a9c0ed01fbd72f595c3707faf752a010d', 'message': 'Tidy up config image declarations\n\nThe API needed it\'s own config container image and the rest were ""pick\none there all the same"". This patch sets a specific config image for the\nAPI and the rest of the services according to what is really required.\n\nConflicts:\n  container-images/tripleo_containers.yaml\n\nChange-Id: I7867efe52609eff31fca692b5298a9eede35c239\n(cherry picked from commit 93b44b67d64a6116d93315cb28a67794c4d2377e)\n'}]",0,823533,b580a07a9c0ed01fbd72f595c3707faf752a010d,7,3,1,6681,,,0,"Tidy up config image declarations

The API needed it's own config container image and the rest were ""pick
one there all the same"". This patch sets a specific config image for the
API and the rest of the services according to what is really required.

Conflicts:
  container-images/tripleo_containers.yaml

Change-Id: I7867efe52609eff31fca692b5298a9eede35c239
(cherry picked from commit 93b44b67d64a6116d93315cb28a67794c4d2377e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/823533/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_containers.yaml.j2', 'container-images/tripleo_containers.yaml']",2,b580a07a9c0ed01fbd72f595c3707faf752a010d,designate-wallaby,- imagename: quay.io/tripleowallaby/openstack-designate-base:current-tripleo image_source: tripleo,,13,1
openstack%2Fdevstack~master~Iae8625dd800d30061ea3dbed9eb0dfbe16f21572,openstack/devstack,master,Iae8625dd800d30061ea3dbed9eb0dfbe16f21572,Install OVS from source when it was configured like that,MERGED,2021-07-06 10:07:41.000000000,2022-01-06 00:40:58.000000000,2022-01-06 00:39:16.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-07-06 10:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4e8eb50073b5d61ed0673f6e3fd2608a3e02a786', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}, {'number': 2, 'created': '2021-08-10 20:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab5fc49fe0050878c789c691ab3c4b25329ca079', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}, {'number': 3, 'created': '2021-09-20 07:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/52eff42e1f3ec2c9e5140e80f0c74fad5e22faea', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}, {'number': 4, 'created': '2021-10-05 13:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1056aeb3c6bba5542f2c171a1016da67c12ffc21', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}, {'number': 5, 'created': '2021-10-05 18:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b761d49c3d141cc79e968b938547135c5e87139f', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}, {'number': 6, 'created': '2021-10-06 10:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2d3f82f60615649c24bbfc23666669a335484165', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}, {'number': 7, 'created': '2021-10-14 11:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/749ae0f62c58b0beb726809e9fb71a0ac2c3c586', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}, {'number': 8, 'created': '2021-12-08 14:09:49.000000000', 'files': ['lib/neutron_plugins/ovs_base', 'lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/ovs_source'], 'web_link': 'https://opendev.org/openstack/devstack/commit/418535883763cb31e54ab3882ee3eacc42afd4f3', 'message': 'Install OVS from source when it was configured like that\n\nFunction _neutron_ovs_base_install_agent_packages always tried to\ninstall openvswitch from packages and start it using systemd units.\nThat was failing when ovs was expected to be installed from source.\nThis patch fixes that.\n\nChange-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572\n'}]",14,799621,418535883763cb31e54ab3882ee3eacc42afd4f3,35,6,8,11975,,,0,"Install OVS from source when it was configured like that

Function _neutron_ovs_base_install_agent_packages always tried to
install openvswitch from packages and start it using systemd units.
That was failing when ovs was expected to be installed from source.
This patch fixes that.

Change-Id: Iae8625dd800d30061ea3dbed9eb0dfbe16f21572
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/799621/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovs_base'],1,4e8eb50073b5d61ed0673f6e3fd2608a3e02a786,neutron-fips-compliance," if [ ""$Q_BUILD_OVS_FROM_GIT"" == ""True"" ]; then remove_ovs_packages compile_ovs False /usr /var load_conntrack_gre_module start_new_ovs else install_package $(get_packages ""openvswitch"") if is_ubuntu; then _neutron_ovs_base_install_ubuntu_dkms elif is_fedora; then restart_service openvswitch sudo systemctl enable openvswitch elif is_suse; then if [[ $DISTRO == ""sle12"" ]] && vercmp ""$os_RELEASE"" ""<"" ""12.2"" ; then restart_service openvswitch-switch else # workaround for https://bugzilla.suse.com/show_bug.cgi?id=1085971 if [[ $DISTRO =~ ""tumbleweed"" ]]; then sudo sed -i -e ""s,^OVS_USER_ID=.*,OVS_USER_ID='root:root',"" /etc/sysconfig/openvswitch fi restart_service openvswitch || { journalctl -xe || : systemctl status openvswitch }"," install_package $(get_packages ""openvswitch"") if is_ubuntu; then _neutron_ovs_base_install_ubuntu_dkms restart_service openvswitch-switch elif is_fedora; then restart_service openvswitch sudo systemctl enable openvswitch elif is_suse; then if [[ $DISTRO == ""sle12"" ]] && vercmp ""$os_RELEASE"" ""<"" ""12.2"" ; then else # workaround for https://bugzilla.suse.com/show_bug.cgi?id=1085971 if [[ $DISTRO =~ ""tumbleweed"" ]]; then sudo sed -i -e ""s,^OVS_USER_ID=.*,OVS_USER_ID='root:root',"" /etc/sysconfig/openvswitch restart_service openvswitch || { journalctl -xe || : systemctl status openvswitch }",24,17
openstack%2Fmanila~master~I0cfde1c5a18eeb6ace5bc96e728e58954d0ac046,openstack/manila,master,I0cfde1c5a18eeb6ace5bc96e728e58954d0ac046,ratelimit should not be enabled in nolimit pipeline,MERGED,2021-12-27 12:44:58.000000000,2022-01-06 00:11:08.000000000,2022-01-06 00:09:26.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 12:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6c29fbdb1ea1a287032b7e54b624fa644edfb455', 'message': 'ratelimit should not be enabled in nolimit pipeline\n\nThis change fixes the wrong instruction in admin guide which enables\nratelimit in the keystone_nolimit pipeline. To use a pipeline with\nratelimit, [DEFAULT] api_rate_limit should be set to True.\n\nChange-Id: I0cfde1c5a18eeb6ace5bc96e728e58954d0ac046\n'}, {'number': 2, 'created': '2021-12-27 12:45:13.000000000', 'files': ['doc/source/admin/shared-file-systems-quotas.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/d3c4e9c31a472173a1f5b7ecf4d2dd2be276396b', 'message': 'ratelimit should not be enabled in nolimit pipeline\n\nThis change fixes the wrong instruction in admin guide which enables\nratelimit in the keystone_nolimit pipeline. To use a pipeline with\nratelimit, [DEFAULT] api_rate_limit should be set to True.\n\nChange-Id: I0cfde1c5a18eeb6ace5bc96e728e58954d0ac046\n'}]",2,823008,d3c4e9c31a472173a1f5b7ecf4d2dd2be276396b,12,2,2,9816,,,0,"ratelimit should not be enabled in nolimit pipeline

This change fixes the wrong instruction in admin guide which enables
ratelimit in the keystone_nolimit pipeline. To use a pipeline with
ratelimit, [DEFAULT] api_rate_limit should be set to True.

Change-Id: I0cfde1c5a18eeb6ace5bc96e728e58954d0ac046
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/823008/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/shared-file-systems-quotas.rst'],1,6c29fbdb1ea1a287032b7e54b624fa644edfb455,,"Also, add the ``ratelimit`` to ``noauth`` and ``keystone`` parameters in the ``[composite:openstack_share_api]`` and keystone_nolimit = cors faultwrap ssl sizelimit authtoken keystonecontext api keystone_nolimit = cors faultwrap ssl sizelimit authtoken keystonecontext apiv2 Finally, set the ``[DEFAULT] api_rate_limit`` parameter to ``True``. .. code-block:: ini [DEFAULT] api_rate_limit=True","Also, add the ``ratelimit`` to ``noauth``, ``keystone``, ``keystone_nolimit`` parameters in the ``[composite:openstack_share_api]`` and keystone_nolimit = cors faultwrap ssl ratelimit sizelimit authtoken keystonecontext api keystone_nolimit = cors faultwrap ssl ratelimit sizelimit authtoken keystonecontext apiv2",11,4
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Iaeadf412865c059d252ffc7087db3853569b74ee,openstack/python-tripleoclient,stable/victoria,Iaeadf412865c059d252ffc7087db3853569b74ee,Don't assume json network config in validations,MERGED,2022-01-04 22:01:25.000000000,2022-01-05 23:36:49.000000000,2022-01-05 23:35:16.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 22:01:25.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/09962681fe758ff9df113efa9da1a826e20c5928', 'message': ""Don't assume json network config in validations\n\nChange I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the\nnet_config_override file to be yaml as well as json, but if\nenable_validations is true the _validate_no_ip_change assumes the\nnetwork config is json.\n\nThis change loads this file as yaml in _validate_no_ip_change.\n\nChange-Id: Iaeadf412865c059d252ffc7087db3853569b74ee\nRelated-Bug: #1927090\n(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)\n""}]",0,823435,09962681fe758ff9df113efa9da1a826e20c5928,7,2,1,4571,,,0,"Don't assume json network config in validations

Change I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the
net_config_override file to be yaml as well as json, but if
enable_validations is true the _validate_no_ip_change assumes the
network config is json.

This change loads this file as yaml in _validate_no_ip_change.

Change-Id: Iaeadf412865c059d252ffc7087db3853569b74ee
Related-Bug: #1927090
(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/823435/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,09962681fe758ff9df113efa9da1a826e20c5928,victoriabug/1927090,"import yaml with open(os_net_config_file, 'r') as f: network_config = yaml.safe_load(f)",import json with open(os_net_config_file) as f: network_config = json.loads(f.read()),3,3
openstack%2Fpython-tripleoclient~stable%2Fussuri~Iaeadf412865c059d252ffc7087db3853569b74ee,openstack/python-tripleoclient,stable/ussuri,Iaeadf412865c059d252ffc7087db3853569b74ee,Don't assume json network config in validations,MERGED,2022-01-04 22:00:55.000000000,2022-01-05 23:36:44.000000000,2022-01-05 23:35:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 22:00:55.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d717ee59030d3acc1efdb9ef2a8f0e4a59b45c89', 'message': ""Don't assume json network config in validations\n\nChange I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the\nnet_config_override file to be yaml as well as json, but if\nenable_validations is true the _validate_no_ip_change assumes the\nnetwork config is json.\n\nThis change loads this file as yaml in _validate_no_ip_change.\n\nChange-Id: Iaeadf412865c059d252ffc7087db3853569b74ee\nRelated-Bug: #1927090\n(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)\n""}]",0,823434,d717ee59030d3acc1efdb9ef2a8f0e4a59b45c89,7,2,1,4571,,,0,"Don't assume json network config in validations

Change I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the
net_config_override file to be yaml as well as json, but if
enable_validations is true the _validate_no_ip_change assumes the
network config is json.

This change loads this file as yaml in _validate_no_ip_change.

Change-Id: Iaeadf412865c059d252ffc7087db3853569b74ee
Related-Bug: #1927090
(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/823434/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,d717ee59030d3acc1efdb9ef2a8f0e4a59b45c89,ussuribug/1927090,"import yaml with open(os_net_config_file, 'r') as f: network_config = yaml.safe_load(f)",import json with open(os_net_config_file) as f: network_config = json.loads(f.read()),3,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Iaeadf412865c059d252ffc7087db3853569b74ee,openstack/python-tripleoclient,stable/wallaby,Iaeadf412865c059d252ffc7087db3853569b74ee,Don't assume json network config in validations,MERGED,2022-01-04 21:59:32.000000000,2022-01-05 23:21:57.000000000,2022-01-05 23:20:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 21:59:32.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86483150232e69ec29ae45c43012f7e494d3d09a', 'message': ""Don't assume json network config in validations\n\nChange I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the\nnet_config_override file to be yaml as well as json, but if\nenable_validations is true the _validate_no_ip_change assumes the\nnetwork config is json.\n\nThis change loads this file as yaml in _validate_no_ip_change.\n\nChange-Id: Iaeadf412865c059d252ffc7087db3853569b74ee\nRelated-Bug: #1927090\n(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)\n""}]",0,823433,86483150232e69ec29ae45c43012f7e494d3d09a,7,2,1,4571,,,0,"Don't assume json network config in validations

Change I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the
net_config_override file to be yaml as well as json, but if
enable_validations is true the _validate_no_ip_change assumes the
network config is json.

This change loads this file as yaml in _validate_no_ip_change.

Change-Id: Iaeadf412865c059d252ffc7087db3853569b74ee
Related-Bug: #1927090
(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/823433/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,86483150232e69ec29ae45c43012f7e494d3d09a,wallabybug/1927090,"import yaml with open(os_net_config_file, 'r') as f: network_config = yaml.safe_load(f)",import json with open(os_net_config_file) as f: network_config = json.loads(f.read()),3,3
openstack%2Fmanila-tempest-plugin~master~Ia69573cf246cbcfe94cd34a2b80edc540d94386c,openstack/manila-tempest-plugin,master,Ia69573cf246cbcfe94cd34a2b80edc540d94386c,Set metadata to share in any state,NEW,2021-11-19 02:10:03.000000000,2022-01-05 23:18:21.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 02:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e8ee3950d0b3cbf7368ce7c073eaefab0d21be5a', 'message': 'Set metadata to share in any state\n\nChange-Id: Ia69573cf246cbcfe94cd34a2b80edc540d94386c\n'}, {'number': 2, 'created': '2021-11-19 02:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4c23a652dc4a7786ac19f6cbbb6407b66cc63281', 'message': 'Set metadata to share in any state\n\nSet metadata to share, when share status is available\\error\\creating\\deleting\\error_deleting\n\nChange-Id: Ia69573cf246cbcfe94cd34a2b80edc540d94386c\n'}, {'number': 3, 'created': '2021-11-19 05:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b65683bb3341ef53bb12631cae1e0c5597674da0', 'message': 'Set metadata to share in any state\n\nSet metadata to share, when share status is available\\error\\creating\\deleting\\error_deleting\n\nChange-Id: Ia69573cf246cbcfe94cd34a2b80edc540d94386c\n'}, {'number': 4, 'created': '2021-11-25 02:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e614a8d6f1488974d42bb75252557f4706eebc0e', 'message': 'Set metadata to share in any state\n\nSet metadata to share, when share status is available\\error\\creating\\deleting\\error_deleting\n\nChange-Id: Ia69573cf246cbcfe94cd34a2b80edc540d94386c\n'}, {'number': 5, 'created': '2021-11-25 09:04:52.000000000', 'files': ['manila_tempest_tests/tests/api/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/124ffddb30d3a2194724d5315322ac255c86ecc4', 'message': 'Set metadata to share in any state\n\nSet metadata to share, when share status is available\\error\\creating\\deleting\\error_deleting\n\nChange-Id: Ia69573cf246cbcfe94cd34a2b80edc540d94386c\n'}]",4,818498,124ffddb30d3a2194724d5315322ac255c86ecc4,16,2,5,31280,,,0,"Set metadata to share in any state

Set metadata to share, when share status is available\error\creating\deleting\error_deleting

Change-Id: Ia69573cf246cbcfe94cd34a2b80edc540d94386c
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/98/818498/3 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_metadata.py'],1,e8ee3950d0b3cbf7368ce7c073eaefab0d21be5a,master_04,"from manila_tempest_tests.common import waiters for status in [""available"", ""error"", ""creating"", ""deleting"", ""error_deleting""]: self.shares_v2_client.reset_state(share[""id""], status=status) waiters.wait_for_resource_status(self.shares_v2_client, share[""id""], status) self.shares_client.set_metadata(share[""id""], md) # set metadata self.shares_client.set_metadata(share[""id""], md) # read metadata get_md = self.shares_client.get_metadata(share[""id""])['metadata'] # verify metadata self.assertEqual(md, get_md) # verify metadata items for key in md: get_value = self.shares_client.get_metadata_item( share[""id""], key) self.assertEqual(md[key], get_value[key]) # delete metadata for key in md.keys(): self.shares_client.delete_metadata(share[""id""], key) # verify deletion of metadata get_metadata = self.shares_client.get_metadata( share[""id""])['metadata'] self.assertEqual({}, get_metadata) @decorators.idempotent_id('2725ab8e-cc04-4032-9393-74726ba43eb7') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_set_get_delete_metadata_(self): md = {u""key"": u""value""} # create share share = self.create_share(share_type_id=self.share_type_id, cleanup_in_class=False) # set metadata for status in [""error"", ""creating"", ""deleting"", ""error_deleting""]: self.shares_v2_client.reset_state(self.share[""id""], status=status) waiters.wait_for_resource_status(self.shares_v2_client, self.share[""id""], status) self.shares_client.set_metadata(share[""id""], md) # read metadata get_md = self.shares_client.get_metadata(share[""id""])['metadata'] # verify metadata self.assertEqual(md, get_md) # delete metadata for key in md.keys(): self.shares_client.delete_metadata(share[""id""], key) # verify deletion of metadata get_metadata = self.shares_client.get_metadata( share[""id""])['metadata'] self.assertEqual({}, get_metadata)"," # set metadata self.shares_client.set_metadata(share[""id""], md) # read metadata get_md = self.shares_client.get_metadata(share[""id""])['metadata'] # verify metadata self.assertEqual(md, get_md) # verify metadata items for key in md: get_value = self.shares_client.get_metadata_item(share[""id""], key) self.assertEqual(md[key], get_value[key]) # delete metadata for key in md.keys(): self.shares_client.delete_metadata(share[""id""], key) # verify deletion of metadata get_metadata = self.shares_client.get_metadata(share[""id""])['metadata'] self.assertEqual({}, get_metadata)",58,16
openstack%2Fcharm-guide~stable%2Fxena~I61438e327b86281026eb82df942d0f5db741d6a1,openstack/charm-guide,stable/xena,I61438e327b86281026eb82df942d0f5db741d6a1,Fix a redirect for Xena,MERGED,2022-01-05 17:33:47.000000000,2022-01-05 23:02:06.000000000,2022-01-05 23:00:43.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 17:33:47.000000000', 'files': ['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e42a9845f0fa3aecad8e0f7119f017cad70c7e23', 'message': 'Fix a redirect for Xena\n\nRelated to: I7ff07d86ed7ea81993d91f0088b5ab7a5eb77ef8\n\nChange-Id: I61438e327b86281026eb82df942d0f5db741d6a1\n'}]",0,823570,e42a9845f0fa3aecad8e0f7119f017cad70c7e23,7,2,1,30561,,,0,"Fix a redirect for Xena

Related to: I7ff07d86ed7ea81993d91f0088b5ab7a5eb77ef8

Change-Id: I61438e327b86281026eb82df942d0f5db741d6a1
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/70/823570/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",2,e42a9845f0fa3aecad8e0f7119f017cad70c7e23,fix-redirect-to-admin-page_xena,RedirectMatch 301 ^/charm-guide/([^/]+)/admin/index.html$ /charm-guide/$1/howto/index.html,RedirectMatch 301 ^/charm-guide/([^/]+)/admin$ /charm-guide/$1/howto,2,2
openstack%2Ftripleo-quickstart~master~Ife4d31ecd9912b424a178cc4bbc0d6de7216e512,openstack/tripleo-quickstart,master,Ife4d31ecd9912b424a178cc4bbc0d6de7216e512,Allow multi-nic-vlans libvirt based deployment,MERGED,2021-12-22 14:22:35.000000000,2022-01-05 22:47:53.000000000,2022-01-05 22:46:22.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-12-22 14:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/48cac01ab59db65dfc0355c9ff2af90d5bae13e3', 'message': '[DNM] libvirt multi-nic deploy\n\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 2, 'created': '2021-12-22 16:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dffdfc919b3cee6ff8014482c5503e8a0c8dc159', 'message': '[DNM] libvirt multi-nic deploy\n\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 3, 'created': '2021-12-23 05:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07cb3b4bc7ff3264bb8afb40ffd02f218bfd0615', 'message': '[DNM] libvirt multi-nic deploy\n\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 4, 'created': '2021-12-23 16:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/db2dca048e37fa98ffb6c35d8d943b7d8a7b1ca3', 'message': '[DNM] libvirt multi-nic deploy\n\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 5, 'created': '2021-12-24 13:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2e28932017844f67e49e01ec6d507cc6f44759e4', 'message': '[DNM] libvirt multi-nic-vlans deploy\n\nDepends-On: I82013d33c1729619e47b633bddd1580e9efe0b55\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 6, 'created': '2021-12-27 11:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/972df821e3837694e165e6b478c91f74dbbf159f', 'message': '[DNM] libvirt multi-nic-vlans deploy\n\nDepends-On: I82013d33c1729619e47b633bddd1580e9efe0b55\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 7, 'created': '2021-12-27 11:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0865461afd4008f24f5f286910399275a83d6933', 'message': '[DNM] libvirt multi-nic-vlans deploy\n\nDepends-On: I82013d33c1729619e47b633bddd1580e9efe0b55\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 8, 'created': '2022-01-03 07:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4239382b82b1b85a24a0c232b4b88ce21b69a712', 'message': '[DNM] libvirt multi-nic-vlans deploy\n\nDepends-On: I82013d33c1729619e47b633bddd1580e9efe0b55\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 9, 'created': '2022-01-03 13:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6fbfa55f48fbdcd7013ed64393f9a5e9a314f6ca', 'message': 'Allow multi-nic-vlans libvirt based deployment\n\nCurrent config assumed deployments to be based\non single-nic, update minimal featureset to support\ndeployment with multiple-nics-vlans network_isolation.\n\nNot changing any defaults with that patch, user\nwho want to deploy with multi-nics-vlans can\npass -e network_isolation_type=multiple-nics-vlans\nto quickstart deployment command.\n\nRequired networks will be auto created and attached\nto overcloud and undercloud vms to support multi-nic-vlans.\n\nBy default 6 networks will be created with this config\neach for ctlplane, Internal, Storage, StorageMgmt,\nTenant and External.\n\nIf want to created different number of networks or\nwith different name can be done by passing\nextra_networks var like:-\n\nextra_networks:\n  - name: data\n    bridge: br-data\n  - name: tenant\n    bridge: br-tenant\n  - name: ovcexternal\n    bridge: br-external\n\nNeed to use seperate name as used by default_networks.\n\nDepends-On: I82013d33c1729619e47b633bddd1580e9efe0b55\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}, {'number': 10, 'created': '2022-01-03 16:52:16.000000000', 'files': ['config/general_config/minimal.yml', 'roles/common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f694dad02b6f00c57c133e4d1060f36a758fa8c0', 'message': 'Allow multi-nic-vlans libvirt based deployment\n\nCurrent config assumed deployments to be based\non single-nic, update minimal featureset to support\ndeployment with multiple-nics-vlans network_isolation.\n\nNot changing any defaults with that patch, user\nwho want to deploy with multi-nics-vlans can\npass -e network_isolation_type=multiple-nics-vlans\nto quickstart deployment command.\n\nRequired networks will be auto created and attached\nto overcloud and undercloud vms to support multi-nic-vlans.\n\nBy default 6 networks will be created with this config\neach for ctlplane, Internal, Storage, StorageMgmt,\nTenant and External.\n\nIf want to created different number of networks or\nwith different name can be done by passing\nextra_networks var like:-\n\nextra_networks:\n  - name: data\n    bridge: br-data\n  - name: tenant\n    bridge: br-tenant\n  - name: ovcexternal\n    bridge: br-external\n\nNeed to use seperate name as used by default_networks.\n\nDepends-On: I82013d33c1729619e47b633bddd1580e9efe0b55\nChange-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512\n'}]",15,822712,f694dad02b6f00c57c133e4d1060f36a758fa8c0,87,7,10,13861,,,0,"Allow multi-nic-vlans libvirt based deployment

Current config assumed deployments to be based
on single-nic, update minimal featureset to support
deployment with multiple-nics-vlans network_isolation.

Not changing any defaults with that patch, user
who want to deploy with multi-nics-vlans can
pass -e network_isolation_type=multiple-nics-vlans
to quickstart deployment command.

Required networks will be auto created and attached
to overcloud and undercloud vms to support multi-nic-vlans.

By default 6 networks will be created with this config
each for ctlplane, Internal, Storage, StorageMgmt,
Tenant and External.

If want to created different number of networks or
with different name can be done by passing
extra_networks var like:-

extra_networks:
  - name: data
    bridge: br-data
  - name: tenant
    bridge: br-tenant
  - name: ovcexternal
    bridge: br-external

Need to use seperate name as used by default_networks.

Depends-On: I82013d33c1729619e47b633bddd1580e9efe0b55
Change-Id: Ife4d31ecd9912b424a178cc4bbc0d6de7216e512
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/12/822712/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/minimal.yml', 'roles/common/defaults/main.yml', 'zuul.d/layout.yaml']",3,48cac01ab59db65dfc0355c9ff2af90d5bae13e3,multiple-nics-vlans, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-tox-molecule - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - config/general_config/featureset030.yml gate: queue: tripleo jobs: - openstack-tox-linters,9,31
openstack%2Fdesignate~master~I4f024ebeac001986cc56384b1f77083926d146d5,openstack/designate,master,I4f024ebeac001986cc56384b1f77083926d146d5,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-12-21 02:08:45.000000000,2022-01-05 22:27:45.000000000,2022-01-05 22:25:48.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-12-21 02:08:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/1504fbee26951af423f77b2c10f45d9e7879e103', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I4f024ebeac001986cc56384b1f77083926d146d5\n'}]",2,822371,1504fbee26951af423f77b2c10f45d9e7879e103,10,3,1,32291,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I4f024ebeac001986cc56384b1f77083926d146d5
",git fetch https://review.opendev.org/openstack/designate refs/changes/71/822371/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1504fbee26951af423f77b2c10f45d9e7879e103,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fcharm-guide~master~Ic09b43c85fc019f79db58926529912a7f5498b2c,openstack/charm-guide,master,Ic09b43c85fc019f79db58926529912a7f5498b2c,Add nova-compute-nvidia-vgpu to the release notes,MERGED,2021-12-16 11:24:48.000000000,2022-01-05 22:07:26.000000000,2022-01-05 22:05:58.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-12-16 11:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9e162c1a3fce4a8fab992325479b42cd563a70c9', 'message': 'Add nova-compute-nvidia-vgpu to the release notes\n\nChange-Id: Ic09b43c85fc019f79db58926529912a7f5498b2c\n'}, {'number': 2, 'created': '2021-12-17 09:12:27.000000000', 'files': ['doc/source/reference/openstack-charms.rst', 'doc/source/release-notes/2204.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/758b84383aadd7990f6c0f58ac2421035f7f4801', 'message': 'Add nova-compute-nvidia-vgpu to the release notes\n\nChange-Id: Ic09b43c85fc019f79db58926529912a7f5498b2c\n'}]",3,821962,758b84383aadd7990f6c0f58ac2421035f7f4801,10,2,2,31289,,,0,"Add nova-compute-nvidia-vgpu to the release notes

Change-Id: Ic09b43c85fc019f79db58926529912a7f5498b2c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/62/821962/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/openstack-charms.rst', 'doc/source/release-notes/2204.rst']",2,9e162c1a3fce4a8fab992325479b42cd563a70c9,nova-compute-nvidia-vgpu,nova-compute-nvidia-vgpu ~~~~~~~~~~~~~~~~~~~~~~~~ The nova-compute-nvidia-vgpu charm provides the NVidia vGPU support to the OpenStack Nova Compute service. It is a subordinate charm used in conjunction with the nova-compute principal charm.,<TITLE> ~~~~~~~,8,2
openstack%2Fpuppet-placement~master~Ia04ceab86e0bd889366eef4860f2d0cf0aa437c8,openstack/puppet-placement,master,Ia04ceab86e0bd889366eef4860f2d0cf0aa437c8,Stop replacing the default apache config file,MERGED,2022-01-04 12:31:35.000000000,2022-01-05 21:43:24.000000000,2022-01-05 21:41:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 12:31:35.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/default-vhost-config-ab5db0e23800971b.yaml', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/8e3c55d0a09ec0fa774aa91de2b5c8536f94908a', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in a few modules, to make implementation\nof all modules more consistent.\n\nChange-Id: Ia04ceab86e0bd889366eef4860f2d0cf0aa437c8\n'}]",0,823385,8e3c55d0a09ec0fa774aa91de2b5c8536f94908a,9,3,1,9816,,,0,"Stop replacing the default apache config file

The apache class by default purge all default vhost config files, and
the other modules expect the default files are purged by that behavior.

This change removes the logic to replace the default vhost config file,
which is implemented only in a few modules, to make implementation
of all modules more consistent.

Change-Id: Ia04ceab86e0bd889366eef4860f2d0cf0aa437c8
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/85/823385/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/default-vhost-config-ab5db0e23800971b.yaml', 'manifests/params.pp']",3,8e3c55d0a09ec0fa774aa91de2b5c8536f94908a,default-vhost,, $httpd_config_file = '/etc/httpd/conf.d/00-placement-api.conf' $httpd_config_file = '/etc/apache2/sites-available/placement-api.conf',7,17
openstack%2Fpuppet-keystone~master~Ia299314ea8ac5e34bb363b27e061d6ffbf1d7a6a,openstack/puppet-keystone,master,Ia299314ea8ac5e34bb363b27e061d6ffbf1d7a6a,Ensure keystone packages are installed before configuring apache,MERGED,2022-01-04 13:16:36.000000000,2022-01-05 21:34:02.000000000,2022-01-05 21:34:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 13:16:36.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e331df06622a704c8c81b3dadce679d9527886ff', 'message': 'Ensure keystone packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available. This is required to make sure the default vhost file,\nwhich is installed by the keystone package, is properly purged by\nthe apache class.\n\nChange-Id: Ia299314ea8ac5e34bb363b27e061d6ffbf1d7a6a\n'}]",0,823390,e331df06622a704c8c81b3dadce679d9527886ff,7,3,1,9816,,,0,"Ensure keystone packages are installed before configuring apache

... so that items like wsgi script, which are provided by the packages,
are available. This is required to make sure the default vhost file,
which is installed by the keystone package, is properly purged by
the apache class.

Change-Id: Ia299314ea8ac5e34bb363b27e061d6ffbf1d7a6a
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/90/823390/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,e331df06622a704c8c81b3dadce679d9527886ff,," require => Anchor['keystone::install::end'], # # The file should be created after the apache class is invoked, otherwise # the file is deleted because of its default behavior which removes all files # in sites-available/sites-enabled. Anchor['keystone::install::end'] File<| title == '/etc/apache2/sites-available' |> -> File<| title == '/etc/apache2/sites-available/keystone.conf' |> ~> Anchor['keystone::service::begin']", Package<| tag == 'keystone-package' |> ~> Anchor['keystone::install::end'],10,2
openstack%2Fpuppet-nova~master~I69a85a9fc5179d984325747c63b3bb52a0153b22,openstack/puppet-nova,master,I69a85a9fc5179d984325747c63b3bb52a0153b22,Add support for rootwrap.conf,MERGED,2021-12-27 01:20:15.000000000,2022-01-05 21:33:49.000000000,2022-01-05 21:32:13.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 01:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/935ac566385e22f03edad34d17c87d32ca156d6d', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I69a85a9fc5179d984325747c63b3bb52a0153b22\n'}, {'number': 2, 'created': '2021-12-27 01:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/92fb74c78a54c154553962543b3dfc7379f96230', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I69a85a9fc5179d984325747c63b3bb52a0153b22\n'}, {'number': 3, 'created': '2021-12-27 02:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d90d74ca8dcb047b64d7af4fc3b83524f3bbb4df', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I69a85a9fc5179d984325747c63b3bb52a0153b22\n'}, {'number': 4, 'created': '2021-12-27 02:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5e8cefc648c8d0fa3e9c8f690253706c25f8cd7b', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I69a85a9fc5179d984325747c63b3bb52a0153b22\n'}, {'number': 5, 'created': '2021-12-27 03:04:11.000000000', 'files': ['spec/unit/provider/nova_rootwrap_config/ini_setting_spec.rb', 'spec/unit/type/nova_rootwrap_config_spec.rb', 'releasenotes/notes/rootwrap-7376efdc78fc6fdf.yaml', 'lib/puppet/type/nova_rootwrap_config.rb', 'spec/classes/nova_config_spec.rb', 'manifests/deps.pp', 'lib/puppet/provider/nova_rootwrap_config/ini_setting.rb', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6bf4526ff13f6d521d8f6b8d0c35bb629c55125b', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I69a85a9fc5179d984325747c63b3bb52a0153b22\n'}]",0,822927,6bf4526ff13f6d521d8f6b8d0c35bb629c55125b,14,4,5,9816,,,0,"Add support for rootwrap.conf

Change-Id: I69a85a9fc5179d984325747c63b3bb52a0153b22
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/27/822927/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/nova_rootwrap_config/ini_setting_spec.rb', 'spec/unit/type/nova_rootwrap_config_spec.rb', 'releasenotes/notes/rootwrap-7376efdc78fc6fdf.yaml', 'lib/puppet/type/nova_rootwrap_config.rb', 'manifests/deps.pp', 'lib/puppet/provider/nova_rootwrap_config/ini_setting.rb', 'manifests/config.pp']",7,935ac566385e22f03edad34d17c87d32ca156d6d,rootwrap," $nova_config = {}, $nova_api_paste_ini = {}, $nova_rootwrap_config = {}, validate_legacy(Hash, 'validate_hash', $nova_rootwrap_config) create_resources('nova_rootwrap_config', $nova_rootwrap_config)"," $nova_config = {}, $nova_api_paste_ini = {},",163,2
openstack%2Fpuppet-cinder~master~I1f456b86e20f6ab3bfe34f10d191a367742a9d7f,openstack/puppet-cinder,master,I1f456b86e20f6ab3bfe34f10d191a367742a9d7f,Remove usage of custom os_package_type fact,MERGED,2022-01-05 12:53:04.000000000,2022-01-05 21:33:18.000000000,2022-01-05 21:33:18.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 12:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9a42d58d331c568cfc402a107a0a51929b6b85f7', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I1f456b86e20f6ab3bfe34f10d191a367742a9d7f\n'}, {'number': 2, 'created': '2022-01-05 13:30:48.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/7aeffaa1f5232f87be6b2a6a0dbba3f30d7f9603', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I1f456b86e20f6ab3bfe34f10d191a367742a9d7f\n'}]",0,823510,7aeffaa1f5232f87be6b2a6a0dbba3f30d7f9603,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I1f456b86e20f6ab3bfe34f10d191a367742a9d7f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/10/823510/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,9a42d58d331c568cfc402a107a0a51929b6b85f7,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-ironic~master~I22a46a85c464d935a294e2fadec46a7669f54899,openstack/puppet-ironic,master,I22a46a85c464d935a294e2fadec46a7669f54899,Ensure ironic packages are installed before configuring apache,MERGED,2022-01-04 12:27:06.000000000,2022-01-05 21:29:50.000000000,2022-01-05 21:29:50.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 12:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3eb6bd77cb2eab30abdea9efe1659ff022d44f98', 'message': 'Ensure ironic packages are installed before configuring apache\n\nIn Ubuntu, the ironic-api package provides the default vhost config\nfile, which should be removed during setting up apache. This change\nensures the apache class is invoked after the ironic packages are\ninstalled and the default file provided by the packages is purged.\n\nChange-Id: I22a46a85c464d935a294e2fadec46a7669f54899\n'}, {'number': 2, 'created': '2022-01-04 12:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/77822a1732ecf5a745a2fdb5792f36af69e38703', 'message': 'Ensure ironic packages are installed before configuring apache\n\nIn Ubuntu, the ironic-api package provides the default vhost config\nfile, which should be removed during setting up apache. This change\nensures the apache class is invoked after the ironic packages are\ninstalled and the default file provided by the packages is purged.\n\nChange-Id: I22a46a85c464d935a294e2fadec46a7669f54899\n'}, {'number': 3, 'created': '2022-01-04 12:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6518cceac75279c52d766c1517cc1e107aba95d6', 'message': 'Ensure ironic packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available.\n\nChange-Id: I22a46a85c464d935a294e2fadec46a7669f54899\n'}, {'number': 4, 'created': '2022-01-04 12:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/403c7382489e278d1b20ae761d0732563972b858', 'message': 'Ensure ironic packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available. This allows us to avoid any issue when distro packages\nstart providing the default apache vhost file.\n\nChange-Id: I22a46a85c464d935a294e2fadec46a7669f54899\n'}, {'number': 5, 'created': '2022-01-04 12:43:38.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a0989c05383e8b95961f554369c1dd68f73222e5', 'message': 'Ensure ironic packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available. This allows us to avoid conflicting vhosts when distro\npackages start providing the default apache vhost file.\n\nChange-Id: I22a46a85c464d935a294e2fadec46a7669f54899\n'}]",0,823383,a0989c05383e8b95961f554369c1dd68f73222e5,12,4,5,9816,,,0,"Ensure ironic packages are installed before configuring apache

... so that items like wsgi script, which are provided by the packages,
are available. This allows us to avoid conflicting vhosts when distro
packages start providing the default apache vhost file.

Change-Id: I22a46a85c464d935a294e2fadec46a7669f54899
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/83/823383/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,3eb6bd77cb2eab30abdea9efe1659ff022d44f98,," require => Anchor['ironic::install::end'],",,1,0
openstack%2Fpuppet-horizon~master~I6950c26caca615d93007142fcadcef0b916b2b5d,openstack/puppet-horizon,master,I6950c26caca615d93007142fcadcef0b916b2b5d,Ubuntu/Debian: Remove redundant definition of POLICY_FILES_PATH,MERGED,2022-01-05 11:58:20.000000000,2022-01-05 21:24:08.000000000,2022-01-05 21:24:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 11:58:20.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/45a422a56bbf8be969e62881f71b19d945b594fa', 'message': 'Ubuntu/Debian: Remove redundant definition of POLICY_FILES_PATH\n\nCurrently in Ubuntu and Debian, the POLICY_FILES_PATH parameter is\ndefined two times by default. This change removes the redundant\nsecond line.\n\nChange-Id: I6950c26caca615d93007142fcadcef0b916b2b5d\n'}]",0,823501,45a422a56bbf8be969e62881f71b19d945b594fa,7,3,1,9816,,,0,"Ubuntu/Debian: Remove redundant definition of POLICY_FILES_PATH

Currently in Ubuntu and Debian, the POLICY_FILES_PATH parameter is
defined two times by default. This change removes the redundant
second line.

Change-Id: I6950c26caca615d93007142fcadcef0b916b2b5d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/01/823501/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,45a422a56bbf8be969e62881f71b19d945b594fa,,,"<% else %> #POLICY_FILES_PATH = os.path.join(ROOT_PATH, ""conf"")",0,2
openstack%2Fpuppet-mistral~master~I58d787e733941302380831acb3e06de603425bfd,openstack/puppet-mistral,master,I58d787e733941302380831acb3e06de603425bfd,Ensure mistral packages are installed before configuring apache,MERGED,2022-01-04 12:42:36.000000000,2022-01-05 21:10:49.000000000,2022-01-05 21:10:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 12:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/a4ce283589fba7f012da58d50274c68d2c01346b', 'message': 'Ensure mistral packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available. This allows us to avoid any issues when distro packages\nstart providing the default apache vhost file.\n\nChange-Id: I58d787e733941302380831acb3e06de603425bfd\n'}, {'number': 2, 'created': '2022-01-04 12:43:53.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/d0c2e9feff7fb950fecab95a2695bad9e81096ed', 'message': 'Ensure mistral packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available. This allows us to avoid conflicting vhosts when distro\npackages start providing the default apache vhost file.\n\nChange-Id: I58d787e733941302380831acb3e06de603425bfd\n'}]",0,823386,d0c2e9feff7fb950fecab95a2695bad9e81096ed,8,3,2,9816,,,0,"Ensure mistral packages are installed before configuring apache

... so that items like wsgi script, which are provided by the packages,
are available. This allows us to avoid conflicting vhosts when distro
packages start providing the default apache vhost file.

Change-Id: I58d787e733941302380831acb3e06de603425bfd
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/86/823386/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,a4ce283589fba7f012da58d50274c68d2c01346b,," require => Anchor['mistral::install::end'],",,1,0
openstack%2Fdesignate~master~I726ff14f267784070f7c09b5a0d564f593cfcc70,openstack/designate,master,I726ff14f267784070f7c09b5a0d564f593cfcc70,Add dig command to devstack instructions,MERGED,2020-09-30 15:38:23.000000000,2022-01-05 21:08:20.000000000,2022-01-05 21:06:19.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-09-30 15:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cd3a852e1633734cf4e00aae26a78ee32e7fffbf', 'message': 'Add dig command to devstack instructions\n\nAfter the recordset is created, they user should verify that it is\nalso known to the DNS backend. This change adds the necessary command\nand the expected output.\n\nChange-Id: I726ff14f267784070f7c09b5a0d564f593cfcc70\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2020-10-01 15:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cde447a521bafa881ea6cdbd2961718efab1b340', 'message': 'Add dig command to devstack instructions\n\nAfter the recordset is created, they user should verify that it is\nalso known to the DNS backend. This change adds the necessary command\nand the expected output.\n\nChange-Id: I726ff14f267784070f7c09b5a0d564f593cfcc70\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 3, 'created': '2020-10-02 12:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/863cd06e36935e297965c1a63a8063a4f8a6a800', 'message': 'Add dig command to devstack instructions\n\nAfter the recordset is created, they user should verify that it is\nalso known to the DNS backend. This change adds the necessary command\nand the expected output.\n\nChange-Id: I726ff14f267784070f7c09b5a0d564f593cfcc70\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 4, 'created': '2020-10-02 12:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/003f6eeece9e323f026a3a9e968fefb01f37b7cb', 'message': 'Add dig command to devstack instructions\n\nAfter the recordset is created, they user should verify that it is\nalso known to the DNS backend. This change adds the necessary command\nand the expected output.\n\nChange-Id: I726ff14f267784070f7c09b5a0d564f593cfcc70\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 5, 'created': '2021-12-24 04:36:08.000000000', 'files': ['doc/source/contributor/devstack.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/7b28bbebc68bb7af32fae0b6703db118cb882a92', 'message': 'Add dig command to devstack instructions\n\nAfter the recordset is created, they user should verify that it is\nalso known to the DNS backend. This change adds the necessary command\nand the expected output.\n\nChange-Id: I726ff14f267784070f7c09b5a0d564f593cfcc70\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",13,755327,7b28bbebc68bb7af32fae0b6703db118cb882a92,19,5,5,19298,,,0,"Add dig command to devstack instructions

After the recordset is created, they user should verify that it is
also known to the DNS backend. This change adds the necessary command
and the expected output.

Change-Id: I726ff14f267784070f7c09b5a0d564f593cfcc70
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/27/755327/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/devstack.rst'],1,cd3a852e1633734cf4e00aae26a78ee32e7fffbf,devstack,"2. Clone DevStack inside the VM .. code-block:: console $ git clone https://opendev.org/openstack/devstack.git 3. Move to ``devstack`` directory .. code-block:: console $ cd devstack 4. Create a `local.conf` config file :language: bash 5. Run DevStack .. code-block:: console $ ./stack.sh 6. See the status of all Designate processes .. code-block:: console $ sudo systemctl status devstack@designate-*.service7. Querying Logs .. code-block:: console $ sudo journalctl -f --unit devstack@designate-*.service8. Load credentials into the shell .. code-block:: console $ source openrc admin admin # For the admin user, admin tenant $ source openrc admin demo # For the admin user, demo tenant $ source openrc demo demo # For the demo user, demo tenant 9. Try out the openstack client .. code-block:: console $ openstack zone create --email admin@example.net example.net. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | | | created_at | 2017-11-15T04:48:40.000000 | | description | None | | email | admin@example.net | | id | f34f835b-9acc-4930-b6dd-d045c15da78a | | masters | | | name | example.net. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | 9d0beaef253a4e14bd7025dc30c24f98 | | serial | 1510721320 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+ $ openstack recordset create --record '127.0.0.1' --type A example.net. www +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | action | CREATE | | created_at | 2017-11-15T04:51:27.000000 | | description | None | | id | 7861e600-8d9e-4e13-9ea2-9038a2719b41 | | name | www.example.net. | | project_id | 9d0beaef253a4e14bd7025dc30c24f98 | | records | 127.0.0.1 | | status | PENDING | | ttl | None | | type | A | | updated_at | None | | version | 1 | | zone_id | f34f835b-9acc-4930-b6dd-d045c15da78a | | zone_name | example.net. | +-------------+--------------------------------------+ $ openstack recordset list f34f835b-9acc-4930-b6dd-d045c15da78a +--------------------------------------+------------------+------+---------------------------------------------------------------------+--------+--------+ | id | name | type | records | status | action | +--------------------------------------+------------------+------+---------------------------------------------------------------------+--------+--------+ | d0630d94-94d8-43fc-93e8-973fbec7531e | example.net. | SOA | ns1.devstack.org. admin.example.net. 1510721487 3510 600 86400 3600 | ACTIVE | NONE | | 31a313dc-c322-4dc0-ba53-79c039d7f09f | example.net. | NS | ns1.devstack.org. | ACTIVE | NONE | | 7861e600-8d9e-4e13-9ea2-9038a2719b41 | www.example.net. | A | 127.0.0.1 | ACTIVE | NONE | +--------------------------------------+------------------+------+---------------------------------------------------------------------+--------+--------+ $ openstack recordset show f34f835b-9acc-4930-b6dd-d045c15da78a 7861e600-8d9e-4e13-9ea2-9038a2719b41 +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | action | NONE | | created_at | 2017-11-15T04:51:27.000000 | | description | None | | id | 7861e600-8d9e-4e13-9ea2-9038a2719b41 | | name | www.example.net. | | project_id | 9d0beaef253a4e14bd7025dc30c24f98 | | records | 127.0.0.1 | | status | ACTIVE | | ttl | None | | type | A | | updated_at | None | | version | 1 | | zone_id | f34f835b-9acc-4930-b6dd-d045c15da78a | | zone_name | example.net. | +-------------+--------------------------------------+ 10. Verify that the `recordset` is in DNS .. code-block:: console $ dig www.example.net @${SERVICE_HOST} ; <<>> DiG 9.16.1-Ubuntu <<>> www.example.net @192.168.27.100 ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 34315 ;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ; COOKIE: f10292dba9100bbf010000005f749e3586096307a693d0fe (good) ;; QUESTION SECTION: ;www.example.net. IN A ;; ANSWER SECTION: www.example.net. 3600 IN A 127.0.0.1 ;; Query time: 0 msec ;; SERVER: 192.168.27.100#53(192.168.27.100) ;; WHEN: Wed Sep 30 15:03:17 UTC 2020 ;; MSG SIZE rcvd: 88 where `SERVICE_HOST` is the IP address used in `local.conf`.","2. Clone DevStack inside the VM:: $ git clone https://opendev.org/openstack/devstack.git 3. Move to ``devstack`` directory:: $ cd devstack 4. Create a `local.conf` config file: :language: bash 5. Run DevStack:: $ ./stack.sh 6. See the status of all Designate processes :: $ sudo systemctl status devstack@designate-*.service7. Querying Logs :: $ sudo journalctl -f --unit devstack@designate-*.service8. Load credentials into the shell:: $ source openrc admin admin # For the admin user, admin tenant $ source openrc admin demo # For the admin user, demo tenant $ source openrc demo demo # For the demo user, demo tenant 9. Try out the openstack client:: $ openstack zone create --email admin@example.net example.net. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | | | created_at | 2017-11-15T04:48:40.000000 | | description | None | | email | admin@example.net | | id | f34f835b-9acc-4930-b6dd-d045c15da78a | | masters | | | name | example.net. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | 9d0beaef253a4e14bd7025dc30c24f98 | | serial | 1510721320 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+ $ openstack recordset create --record '127.0.0.1' --type A example.net. www +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | action | CREATE | | created_at | 2017-11-15T04:51:27.000000 | | description | None | | id | 7861e600-8d9e-4e13-9ea2-9038a2719b41 | | name | www.example.net. | | project_id | 9d0beaef253a4e14bd7025dc30c24f98 | | records | 127.0.0.1 | | status | PENDING | | ttl | None | | type | A | | updated_at | None | | version | 1 | | zone_id | f34f835b-9acc-4930-b6dd-d045c15da78a | | zone_name | example.net. | +-------------+--------------------------------------+ $ openstack recordset list f34f835b-9acc-4930-b6dd-d045c15da78a +--------------------------------------+------------------+------+---------------------------------------------------------------------+--------+--------+ | id | name | type | records | status | action | +--------------------------------------+------------------+------+---------------------------------------------------------------------+--------+--------+ | d0630d94-94d8-43fc-93e8-973fbec7531e | example.net. | SOA | ns1.devstack.org. admin.example.net. 1510721487 3510 600 86400 3600 | ACTIVE | NONE | | 31a313dc-c322-4dc0-ba53-79c039d7f09f | example.net. | NS | ns1.devstack.org. | ACTIVE | NONE | | 7861e600-8d9e-4e13-9ea2-9038a2719b41 | www.example.net. | A | 127.0.0.1 | ACTIVE | NONE | +--------------------------------------+------------------+------+---------------------------------------------------------------------+--------+--------+ $ openstack recordset show f34f835b-9acc-4930-b6dd-d045c15da78a 7861e600-8d9e-4e13-9ea2-9038a2719b41 +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | action | NONE | | created_at | 2017-11-15T04:51:27.000000 | | description | None | | id | 7861e600-8d9e-4e13-9ea2-9038a2719b41 | | name | www.example.net. | | project_id | 9d0beaef253a4e14bd7025dc30c24f98 | | records | 127.0.0.1 | | status | ACTIVE | | ttl | None | | type | A | | updated_at | None | | version | 1 | | zone_id | f34f835b-9acc-4930-b6dd-d045c15da78a | | zone_name | example.net. | +-------------+--------------------------------------+",128,85
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I56a99426047c065a7a61ce7e1553782f4a8a5bd7,openstack/puppet-openstack-integration,stable/wallaby,I56a99426047c065a7a61ce7e1553782f4a8a5bd7,Gnocchi: Use rados library in CentOS,MERGED,2022-01-04 16:52:43.000000000,2022-01-05 21:08:12.000000000,2022-01-05 21:08:12.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 16:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a9dfc1573ddb7885a6d2f8f2a384aa3ebddcfa57', 'message': 'Gnocchi: Use rados library in CentOS\n\nThe lados library is now preferrred over cradox even in CentOS.\nThe manage_cradox parameter is already deprecated and has no effect[1].\n\n[1] 3591bd8acc1ac49feb2f0fa33a45a09e94e08407\n\nThis is part of centos9 enablement in wallaby branch.\n\nChange-Id: I56a99426047c065a7a61ce7e1553782f4a8a5bd7\n(cherry picked from commit 2c370226927e28de55b60b97ef3cd20221d0d6a3)\n'}, {'number': 2, 'created': '2022-01-05 08:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e02161ee660005075df7ac1d1af85986821dca2b', 'message': 'Gnocchi: Use rados library in CentOS\n\nThe lados library is now preferrred over cradox even in CentOS.\nThe manage_cradox parameter is already deprecated and has no effect[1].\n\n[1] 3591bd8acc1ac49feb2f0fa33a45a09e94e08407\n\nThis is part of centos9 enablement in wallaby branch.\n\nChange-Id: I56a99426047c065a7a61ce7e1553782f4a8a5bd7\n(cherry picked from commit 2c370226927e28de55b60b97ef3cd20221d0d6a3)\n'}, {'number': 3, 'created': '2022-01-05 14:19:30.000000000', 'files': ['manifests/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5d5d31c7c331bcab03afe8a27cd83030e9841ef8', 'message': 'Gnocchi: Use rados library in CentOS\n\nThe lados library is now preferrred over cradox even in CentOS.\nThe manage_cradox parameter is already deprecated and has no effect[1].\n\n[1] 3591bd8acc1ac49feb2f0fa33a45a09e94e08407\n\nBackport note:\nThis is part of centos9 enablement in wallaby branch. In wallaby,\nthe manage_cradox parameter is still valid so this backport ensures\nthe parameter is set properly.\n\nChange-Id: I56a99426047c065a7a61ce7e1553782f4a8a5bd7\n(cherry picked from commit 2c370226927e28de55b60b97ef3cd20221d0d6a3)\n'}]",2,823359,5d5d31c7c331bcab03afe8a27cd83030e9841ef8,12,4,3,16312,,,0,"Gnocchi: Use rados library in CentOS

The lados library is now preferrred over cradox even in CentOS.
The manage_cradox parameter is already deprecated and has no effect[1].

[1] 3591bd8acc1ac49feb2f0fa33a45a09e94e08407

Backport note:
This is part of centos9 enablement in wallaby branch. In wallaby,
the manage_cradox parameter is still valid so this backport ensures
the parameter is set properly.

Change-Id: I56a99426047c065a7a61ce7e1553782f4a8a5bd7
(cherry picked from commit 2c370226927e28de55b60b97ef3cd20221d0d6a3)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/59/823359/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/gnocchi.pp'],1,a9dfc1573ddb7885a6d2f8f2a384aa3ebddcfa57,no-cradox-stable/wallaby," manage_rados => true,"," manage_cradox => ($::osfamily == 'RedHat'), manage_rados => ($::osfamily == 'Debian'),",1,2
openstack%2Fpuppet-vitrage~master~Ib28800eb595cb07a96cec38fa5480bff18f372af,openstack/puppet-vitrage,master,Ib28800eb595cb07a96cec38fa5480bff18f372af,Ensure vitrage packages are installed before configuring apache,MERGED,2022-01-04 12:46:53.000000000,2022-01-05 21:03:14.000000000,2022-01-05 21:03:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 12:46:53.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/f9d2887bbff3bd2ddd9ec433ea4d2ba247c6152c', 'message': 'Ensure vitrage packages are installed before configuring apache\n\n... so that items like wsgi script, which are provided by the packages,\nare available. This allows us to avoid conflicting vhosts when distro\npackages start providing the default apache vhost file.\n\nChange-Id: Ib28800eb595cb07a96cec38fa5480bff18f372af\n'}]",0,823388,f9d2887bbff3bd2ddd9ec433ea4d2ba247c6152c,7,3,1,9816,,,0,"Ensure vitrage packages are installed before configuring apache

... so that items like wsgi script, which are provided by the packages,
are available. This allows us to avoid conflicting vhosts when distro
packages start providing the default apache vhost file.

Change-Id: Ib28800eb595cb07a96cec38fa5480bff18f372af
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/88/823388/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,f9d2887bbff3bd2ddd9ec433ea4d2ba247c6152c,," require => Anchor['vitrage::install::end'],",,1,0
openstack%2Fpuppet-barbican~master~I0160bd0b7b8d5495031838119d401e44b3ddf7fa,openstack/puppet-barbican,master,I0160bd0b7b8d5495031838119d401e44b3ddf7fa,Stop replacing the default apache config file,MERGED,2022-01-04 12:22:47.000000000,2022-01-05 21:00:52.000000000,2022-01-05 20:59:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 12:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/246f94a650996618e2c5c2f46d5dba3c9eae5010', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in puppet-barbican, to make implementation\nof all modules more consistent.\n\nChange-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa\n'}, {'number': 2, 'created': '2022-01-04 12:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/a4f0e2eb3ab16220400ff3e76b5c1413be5ecd0c', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in puppet-barbican, to make implementation\nof all modules more consistent.\n\nChange-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa\n'}, {'number': 3, 'created': '2022-01-04 12:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/8b2d99ff6f041992ae949f4298a3b175d530958a', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in a few modules, to make implementation\nof all modules more consistent.\n\nChange-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa\n'}, {'number': 4, 'created': '2022-01-04 23:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/4784af79e44ad1188ea2a83fcbe58c8308e1cbdf', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in a few modules, to make implementation\nof all modules more consistent.\n\nChange-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa\n'}, {'number': 5, 'created': '2022-01-05 00:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d2c933ae5cdd2fba26370e8a6e44bb872a503cb3', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in a few modules, to make implementation\nof all modules more consistent.\n\nChange-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa\n'}, {'number': 6, 'created': '2022-01-05 02:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/9aef1cf27ffd3576c037d5fd86570410e556db3f', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in a few modules, to make implementation\nof all modules more consistent.\n\nChange-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa\n'}, {'number': 7, 'created': '2022-01-05 06:17:03.000000000', 'files': ['releasenotes/notes/default-vhost-config-f599feabf2230ace.yaml', 'manifests/wsgi/apache.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/f6c1a66e9d902d1cb5122c9756cc9d58f490342e', 'message': 'Stop replacing the default apache config file\n\nThe apache class by default purge all default vhost config files, and\nthe other modules expect the default files are purged by that behavior.\n\nThis change removes the logic to replace the default vhost config file,\nwhich is implemented only in a few modules, to make implementation\nof all modules more consistent.\n\nChange-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa\n'}]",0,823382,f6c1a66e9d902d1cb5122c9756cc9d58f490342e,18,3,7,9816,,,0,"Stop replacing the default apache config file

The apache class by default purge all default vhost config files, and
the other modules expect the default files are purged by that behavior.

This change removes the logic to replace the default vhost config file,
which is implemented only in a few modules, to make implementation
of all modules more consistent.

Change-Id: I0160bd0b7b8d5495031838119d401e44b3ddf7fa
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/82/823382/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/default-vhost-config-f599feabf2230ace.yaml', 'manifests/wsgi/apache.pp', 'manifests/params.pp']",3,246f94a650996618e2c5c2f46d5dba3c9eae5010,bug/1956397,, $httpd_config_file = '/etc/httpd/conf.d/barbican-api.conf' $httpd_config_file = '/etc/apache2/conf-available/barbican-api.conf',7,15
openstack%2Fpuppet-barbican~master~Iedda0e9fe7b091b510ea9033db86921e4d2b4184,openstack/puppet-barbican,master,Iedda0e9fe7b091b510ea9033db86921e4d2b4184,Install and enable keystone-listner,MERGED,2022-01-04 23:54:35.000000000,2022-01-05 20:59:14.000000000,2022-01-05 20:59:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 23:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/fb4fd130df9db740e6eddd3aa3f4c6a1f66f501c', 'message': 'Install and enable keystone-listner\n\nTo use the keystone notification feature, we need an independent\nkeyston-listner service. This change implements the missing capability\nto manage the service and its package.\n\nCloses-Bug: #1956397\nChange-Id: Iedda0e9fe7b091b510ea9033db86921e4d2b4184\n'}, {'number': 2, 'created': '2022-01-05 00:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/93da7ad4ea940c55a8b2b9aa3517b95c975a364b', 'message': 'Install and enable keystone-listner\n\nTo use the keystone notification feature, we need an independent\nkeyston-listner service. This change implements the missing capability\nto manage the service and its package.\n\nCloses-Bug: #1956397\nChange-Id: Iedda0e9fe7b091b510ea9033db86921e4d2b4184\n'}, {'number': 3, 'created': '2022-01-05 00:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/b21f6d8ad206f8f645027dfa6e7fbb3810e89c68', 'message': 'Install and enable keystone-listner\n\nTo use the keystone notification feature, we need an independent\nkeyston-listner service. This change implements the missing capability\nto manage the service and its package.\n\nCloses-Bug: #1956397\nChange-Id: Iedda0e9fe7b091b510ea9033db86921e4d2b4184\n'}, {'number': 4, 'created': '2022-01-05 02:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/c803a36021c1b5082b84a7f7e9fc4e76a803cdc3', 'message': 'Install and enable keystone-listner\n\nTo use the keystone notification feature, we need an independent\nkeyston-listner service. This change implements the missing capability\nto manage the service and its package.\n\nCloses-Bug: #1956397\nChange-Id: Iedda0e9fe7b091b510ea9033db86921e4d2b4184\n'}, {'number': 5, 'created': '2022-01-05 06:16:27.000000000', 'files': ['manifests/keystone/notification.pp', 'releasenotes/notes/bug-1956397-5286a7662b8b8cb6.yaml', 'manifests/params.pp', 'spec/classes/barbican_keystone_notification_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d6bbb2c583e9fa63a65ed253312586a83dd5a9fe', 'message': 'Install and enable keystone-listner\n\nTo use the keystone notification feature, we need an independent\nkeyston-listner service. This change implements the missing capability\nto manage the service and its package.\n\nCloses-Bug: #1956397\nChange-Id: Iedda0e9fe7b091b510ea9033db86921e4d2b4184\n'}]",0,823438,d6bbb2c583e9fa63a65ed253312586a83dd5a9fe,15,3,5,9816,,,0,"Install and enable keystone-listner

To use the keystone notification feature, we need an independent
keyston-listner service. This change implements the missing capability
to manage the service and its package.

Closes-Bug: #1956397
Change-Id: Iedda0e9fe7b091b510ea9033db86921e4d2b4184
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/38/823438/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/notification.pp', 'releasenotes/notes/bug-1956397-5286a7662b8b8cb6.yaml', 'manifests/params.pp', 'spec/classes/barbican_keystone_notification_spec.rb']",4,fb4fd130df9db740e6eddd3aa3f4c6a1f66f501c,bug/1956397," it 'configures keystone notification parameters' do it 'installs the keystone listner package' do is_expected.to contain_package('barbican-keystone-lisener').with( :ensure => 'present', :name => platform_params[:keystone_listener_package_name], :tag => ['openstack', 'barbican-package'] ) end it 'manages the keystone listener service' do if :enable_keystone_notification == true { is_expected.to contain_service('barbican-keystone-lisener').with( :ensure => 'running', :name => platform_params[:keystone_listener_service_name], :enable => true, :hasstatus => true, :hasrestart => true, :tag => 'barbican-service', ) } else { is_expected.to contain_service('barbican-keystone-lisener').with( :ensure => 'stopped', :name => platform_params[:keystone_listener_service_name], :enable => false, :hasstatus => true, :hasrestart => true, :tag => 'barbican-service', ) } end facts.merge(OSDefaults.get_facts()) end let (:platform_params) do case facts[:osfamily] when 'RedHat' { :keystone_listener_package_name => 'openstack-barbican-keystone-listener', :keystone_listener_service_name => 'openstack-barbican-keystone-listener', } when 'Debian' { :keystone_listener_package_name => 'barbican-keystone-listener', :keystone_listener_service_name => 'barbican-keystone-listener', } end"," it 'is_expected.to set keystone notification parameters' do facts.merge(OSDefaults.get_facts({ :processorcount => 8, :fqdn => 'some.host.tld', :concat_basedir => '/var/lib/puppet/concat', }))",111,20
openstack%2Fpuppet-barbican~master~Ied1d936d753658de403606d511aad7acd8adeb88,openstack/puppet-barbican,master,Ied1d936d753658de403606d511aad7acd8adeb88,Fix ineffective dependency,MERGED,2022-01-04 12:09:05.000000000,2022-01-05 20:59:12.000000000,2022-01-05 20:59:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 12:09:05.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/47729d343f0e21e7d74909d904f331dd0b4aae6c', 'message': ""Fix ineffective dependency\n\nThe 'barbican-api' tag is never used. This change replaces usage of\nthat invalid tag to ensure the relevant packages are installed.\n\nChange-Id: Ied1d936d753658de403606d511aad7acd8adeb88\n""}]",1,823381,47729d343f0e21e7d74909d904f331dd0b4aae6c,7,3,1,9816,,,0,"Fix ineffective dependency

The 'barbican-api' tag is never used. This change replaces usage of
that invalid tag to ensure the relevant packages are installed.

Change-Id: Ied1d936d753658de403606d511aad7acd8adeb88
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/81/823381/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,47729d343f0e21e7d74909d904f331dd0b4aae6c,, Anchor['barbican::install::end'] -> File[$::barbican::params::httpd_config_file], Package<| tag == 'barbican-api' |> -> File[$::barbican::params::httpd_config_file],1,1
openstack%2Frequirements~master~I1fcad2fa11d180ebbe9ede9de0c2cffa1c42960e,openstack/requirements,master,I1fcad2fa11d180ebbe9ede9de0c2cffa1c42960e,update constraint for ovsdbapp to new release 1.14.0,MERGED,2022-01-05 16:10:32.000000000,2022-01-05 20:51:20.000000000,2022-01-05 20:49:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 16:10:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f42cbf47e8afa7c5476f4e5e9f37729ca38459e8', 'message': 'update constraint for ovsdbapp to new release 1.14.0\n\nmeta: version: 1.14.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Terry Wilson <twilson@redhat.com>\nmeta: release:Commit: Terry Wilson <twilson@redhat.com>\nmeta: release:Change-Id: Iaeb9d4b96d0e76e430eb57687b8d92f74128b1a4\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I1fcad2fa11d180ebbe9ede9de0c2cffa1c42960e\n'}]",0,823556,f42cbf47e8afa7c5476f4e5e9f37729ca38459e8,8,2,1,11131,,,0,"update constraint for ovsdbapp to new release 1.14.0

meta: version: 1.14.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Terry Wilson <twilson@redhat.com>
meta: release:Commit: Terry Wilson <twilson@redhat.com>
meta: release:Change-Id: Iaeb9d4b96d0e76e430eb57687b8d92f74128b1a4
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I1fcad2fa11d180ebbe9ede9de0c2cffa1c42960e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/823556/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f42cbf47e8afa7c5476f4e5e9f37729ca38459e8,new-release,ovsdbapp===1.14.0,ovsdbapp===1.13.0,1,1
openstack%2Fkayobe~stable%2Fvictoria~Ide13ad5d39388a3d484bb0285adf49e978239515,openstack/kayobe,stable/victoria,Ide13ad5d39388a3d484bb0285adf49e978239515,Build neutron-sriov-agent image when enabled,MERGED,2022-01-05 12:00:59.000000000,2022-01-05 20:39:54.000000000,2022-01-05 20:37:44.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-05 12:00:59.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/07fd6259debf39763ddb39d53bd785dac3da93a4', 'message': 'Build neutron-sriov-agent image when enabled\n\nSet kolla_enable_neutron_sriov, and the neutron-sriov-agent image does\nnot get built. This change fixes the issue.\n\nStory: 2009275\nTask: 43530\nChange-Id: Ide13ad5d39388a3d484bb0285adf49e978239515\n(cherry picked from commit a669ccfa26c430ef634efa1f2e85a1b68b534ccd)\n'}]",0,823461,07fd6259debf39763ddb39d53bd785dac3da93a4,8,3,1,14826,,,0,"Build neutron-sriov-agent image when enabled

Set kolla_enable_neutron_sriov, and the neutron-sriov-agent image does
not get built. This change fixes the issue.

Story: 2009275
Task: 43530
Change-Id: Ide13ad5d39388a3d484bb0285adf49e978239515
(cherry picked from commit a669ccfa26c430ef634efa1f2e85a1b68b534ccd)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/61/823461/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml']",2,07fd6259debf39763ddb39d53bd785dac3da93a4,,--- fixes: - | Fixes an issue where the Neutron SR-IOV agent image is not built when the service is enabled. ,,8,0
openstack%2Fkayobe~stable%2Fxena~I025532156de831a0e7d025d61601a38202de10ff,openstack/kayobe,stable/xena,I025532156de831a0e7d025d61601a38202de10ff,ipa: Use openstack_branch instead of master,MERGED,2022-01-04 10:39:21.000000000,2022-01-05 20:38:28.000000000,2022-01-05 20:33:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 10:39:21.000000000', 'files': ['ansible/group_vars/all/ipa', 'releasenotes/notes/ipa-branch-b29c377c531013a8.yaml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/45797aa487ade0e3a71250e36a80be695f6ac8d0', 'message': ""ipa: Use openstack_branch instead of master\n\nironic-python-agent-builder has stable branches since Wallaby -\nlet's use them.\n\nAlso as per ipab docs [1] - the env vars for overriding ipa repo\nare:\n- DIB_REPOREF_ironic_python_agent\n- DIB_REPOLOCATION_ironic_python_agent\n\n[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building\n\nStory: 2009755\nTask: 44224\n\nChange-Id: I025532156de831a0e7d025d61601a38202de10ff\n(cherry picked from commit b62a9aaefc593f6d0e99d63ac36338321d364b35)\n""}]",1,823353,45797aa487ade0e3a71250e36a80be695f6ac8d0,12,3,1,22629,,,0,"ipa: Use openstack_branch instead of master

ironic-python-agent-builder has stable branches since Wallaby -
let's use them.

Also as per ipab docs [1] - the env vars for overriding ipa repo
are:
- DIB_REPOREF_ironic_python_agent
- DIB_REPOLOCATION_ironic_python_agent

[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building

Story: 2009755
Task: 44224

Change-Id: I025532156de831a0e7d025d61601a38202de10ff
(cherry picked from commit b62a9aaefc593f6d0e99d63ac36338321d364b35)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/823353/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/ipa', 'releasenotes/notes/ipa-branch-b29c377c531013a8.yaml', 'etc/kayobe/ipa.yml']",3,45797aa487ade0e3a71250e36a80be695f6ac8d0,,# Version of IPA builder source repository. Default is {{ openstack_branch }}.,# Version of IPA builder source repository. Default is master.,11,5
openstack%2Fkayobe~stable%2Fvictoria~Iff8c9c5d3b13207c25ae58fee4053426b13d62fb,openstack/kayobe,stable/victoria,Iff8c9c5d3b13207c25ae58fee4053426b13d62fb,[CI] Stop testing non-stream CentOS,MERGED,2022-01-03 11:01:12.000000000,2022-01-05 20:33:35.000000000,2022-01-05 20:33:05.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 11:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5c466c1601ebbe5abb362c349240b3fc979b9a5d', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nChange-Id: Iff8c9c5d3b13207c25ae58fee4053426b13d62fb\n'}, {'number': 2, 'created': '2022-01-03 11:24:16.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0cd50e8c2778bfe83a207b10339eaf02d7a7af12', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/823268\nChange-Id: Iff8c9c5d3b13207c25ae58fee4053426b13d62fb\n'}]",2,823266,0cd50e8c2778bfe83a207b10339eaf02d7a7af12,13,3,2,30491,,,0,"[CI] Stop testing non-stream CentOS

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/823268
Change-Id: Iff8c9c5d3b13207c25ae58fee4053426b13d62fb
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/66/823266/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",3,5c466c1601ebbe5abb362c349240b3fc979b9a5d,ci-stop-testing-non-stream-centos,, name: kayobe-overcloud-centos8 parent: kayobe-overcloud-base nodeset: kayobe-centos8 - job: name: kayobe-overcloud-tls-centos8 parent: kayobe-overcloud-tls-base nodeset: kayobe-centos8 - job: name: kayobe-overcloud-upgrade-centos8 parent: kayobe-overcloud-upgrade-base nodeset: kayobe-centos8 - job: name: kayobe-seed-centos8 parent: kayobe-seed-base nodeset: kayobe-centos8 - job: name: kayobe-overcloud-host-configure-centos8 parent: kayobe-overcloud-host-configure-base nodeset: kayobe-centos8 - job: name: kayobe-seed-upgrade-centos8 parent: kayobe-seed-upgrade-base nodeset: kayobe-centos8 - job: name: kayobe-seed-vm-centos8 parent: kayobe-seed-vm-base nodeset: kayobe-centos8 - job:,0,55
openstack%2Fkayobe-config-dev~stable%2Fvictoria~I5dbaba68e24c1dec8fa37ca312ae36cdb2d63c5a,openstack/kayobe-config-dev,stable/victoria,I5dbaba68e24c1dec8fa37ca312ae36cdb2d63c5a,[CI] Move testing to CentOS Stream,MERGED,2022-01-03 11:22:33.000000000,2022-01-05 20:33:03.000000000,2022-01-05 20:33:03.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-03 11:22:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/18cd3ed7a137195f9d1d35c1b13459e101854f8e', 'message': '[CI] Move testing to CentOS Stream\n\nRequired by the relevant Kayobe change.\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kayobe/+/823266\nChange-Id: I5dbaba68e24c1dec8fa37ca312ae36cdb2d63c5a\n'}]",0,823268,18cd3ed7a137195f9d1d35c1b13459e101854f8e,7,3,1,30491,,,0,"[CI] Move testing to CentOS Stream

Required by the relevant Kayobe change.

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Needed-By: https://review.opendev.org/c/openstack/kayobe/+/823266
Change-Id: I5dbaba68e24c1dec8fa37ca312ae36cdb2d63c5a
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/68/823268/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,18cd3ed7a137195f9d1d35c1b13459e101854f8e,ci-stop-testing-non-stream-centos, - kayobe-overcloud-centos8s - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-upgrade-centos8s - kayobe-seed-centos8s - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s - kayobe-overcloud-centos8s - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-upgrade-centos8s - kayobe-seed-centos8s - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s, - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8,14,14
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I776a7a6b036ad72ce7eaa1ab39f448b344974be6,openstack/ovn-octavia-provider,stable/wallaby,I776a7a6b036ad72ce7eaa1ab39f448b344974be6,Add Health Monitor support,MERGED,2021-07-23 16:42:13.000000000,2022-01-05 20:28:47.000000000,2021-08-16 10:53:40.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 16:42:13.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_agent.py', 'ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/config.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/schemas/ovn-sb.ovsschema', 'zuul.d/base.yaml', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/add-hm-support-2c6729d8816125a5.yaml', 'ovn_octavia_provider/agent.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/base.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/59e09f053e89eee7859e1d384ca95561a45adcdd', 'message': 'Add Health Monitor support\n\nTCP and UDP Connect health monitors are now supported by the\nprovider driver, when the underlying OVN version supports\nthem.\n\nThe health monitor uses the OVN distributed DHCP port as the\nsource IP for messages, one must exist or the create or update\noperation will fail. The list of member ports to monitor is\nupdated whenever one is created or deleted.\n\nAdded support for SBDB notifications for Service Monitor\nevents generated when the OVN health monitor code detects\nissues with connectivity. This will trigger updates to the\nOctavia objects as members go on/offline so that the Octavia\nAPI reflects the current running state of the load balancer.\n\nAdded a lot of new unit and functional tests to cover all the\nnew code, and enabled the tempest health monitor feature so\nthose tests are run as well.\n\nChange-Id: I776a7a6b036ad72ce7eaa1ab39f448b344974be6\n(cherry picked from commit 8bbd8f1b62d7811433079bff8ce940fbdd041a0c)\n'}]",8,801890,59e09f053e89eee7859e1d384ca95561a45adcdd,17,3,1,1131,,,0,"Add Health Monitor support

TCP and UDP Connect health monitors are now supported by the
provider driver, when the underlying OVN version supports
them.

The health monitor uses the OVN distributed DHCP port as the
source IP for messages, one must exist or the create or update
operation will fail. The list of member ports to monitor is
updated whenever one is created or deleted.

Added support for SBDB notifications for Service Monitor
events generated when the OVN health monitor code detects
issues with connectivity. This will trigger updates to the
Octavia objects as members go on/offline so that the Octavia
API reflects the current running state of the load balancer.

Added a lot of new unit and functional tests to cover all the
new code, and enabled the tempest health monitor feature so
those tests are run as well.

Change-Id: I776a7a6b036ad72ce7eaa1ab39f448b344974be6
(cherry picked from commit 8bbd8f1b62d7811433079bff8ce940fbdd041a0c)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/90/801890/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_agent.py', 'ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/config.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/schemas/ovn-sb.ovsschema', 'zuul.d/base.yaml', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/functional/base.py', 'releasenotes/notes/add-hm-support-2c6729d8816125a5.yaml', 'ovn_octavia_provider/agent.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/base.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",18,59e09f053e89eee7859e1d384ca95561a45adcdd,hm-support-stable/wallaby," self.octavia_driver_lib = mock.patch.object( self.helper, '_octavia_driver_lib').start() self.health_monitor = {'id': self.healthmonitor_id, 'pool_id': self.pool_id, 'type': constants.HEALTH_MONITOR_TCP, 'interval': 6, 'timeout': 7, 'failure_count': 5, 'success_count': 3, 'admin_state_up': True} self.health_mon_udp = {'id': self.healthmonitor_id, 'pool_id': self.pool_id, 'type': constants.HEALTH_MONITOR_UDP_CONNECT, 'interval': 6, 'timeout': 7, 'failure_count': 5, 'success_count': 3, 'admin_state_up': True} self.ovn_lb.health_check = [] self.ovn_hm_lb = mock.MagicMock() self.ovn_hm_lb.protocol = ['tcp'] self.ovn_hm_lb.uuid = uuidutils.generate_uuid() self.ovn_hm_lb.health_check = [] self.ovn_hm = mock.MagicMock() self.ovn_hm.uuid = self.healthmonitor_id self.ovn_hm.external_ids = { ovn_const.LB_EXT_IDS_HM_KEY: self.ovn_hm.uuid} self.ovn_hm_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: '10.22.33.99', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.99', ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_hm_port', 'enabled': True, 'pool_%s' % self.pool_id: [], 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} member2_subnet_id = uuidutils.generate_uuid() 'member_%s_%s:%s_%s,member_%s_%s:%s_%s' % self.member_subnet_id, member2_id, member2_address, member2_port, member2_subnet_id)) member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: member_line}) members = 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_hm_members') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def _test_hm_create(self, protocol, members, folbpi, uhm, net_cli): fake_subnet = fakes.FakeSubnet.create_one_subnet() pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.protocol = [protocol] folbpi.return_value = (pool_key, self.ovn_hm_lb) uhm.return_value = True net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) if members: self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) vip = (self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_KEY] + ':' + str(self.listener['protocol_port'])) options = {'interval': '6', 'timeout': '7', 'failure_count': '5', 'success_count': '3'} external_ids = {ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id} kwargs = {'vip': vip, 'options': options, 'external_ids': external_ids} self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_once_with( 'Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', mock.ANY) def test_hm_create_tcp(self): self._test_hm_create('tcp', False) def test_hm_create_udp(self): self._test_hm_create('udp', False) def test_hm_create_tcp_pool_members(self): pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = self.member_line self._test_hm_create('tcp', True) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_no_vip_port(self, folbpi): pool_key = 'pool_%s' % self.pool_id listener_key = 'listener_%s' % self.listener_id self.ovn_hm_lb.external_ids.pop(listener_key) folbpi.return_value = (pool_key, self.ovn_hm_lb) status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ONLINE) vip = [] options = {'interval': '6', 'timeout': '7', 'failure_count': '5', 'success_count': '3'} self.ovn_hm.external_ids.pop(ovn_const.LB_EXT_IDS_HM_KEY) external_ids = {ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id} kwargs = {'vip': vip, 'options': options, 'external_ids': external_ids} self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer_Health_Check', **kwargs) self.helper.ovn_nbdb_api.db_add.assert_called_once_with( 'Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', mock.ANY) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_offline(self, folbpi): pool_key = 'pool_%s' % self.pool_id folbpi.return_value = (pool_key, self.ovn_hm_lb) self.health_monitor['admin_state_up'] = False status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_lb_not_found(self, folbpi): folbpi.return_value = (None, None) status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_pool_not_found(self, folbpi): folbpi.return_value = ('pool_closed', self.ovn_hm_lb) status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_vip_not_found(self, folbpi): pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_KEY) folbpi.return_value = (pool_key, self.ovn_hm_lb) status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_lsp_not_found(self, folbpi, net_cli): pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = self.member_line folbpi.return_value = (pool_key, self.ovn_hm_lb) net_cli.return_value.show_subnet.side_effect = [n_exc.NotFound] status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_hm_port_not_found(self, folbpi, net_cli): fake_subnet = fakes.FakeSubnet.create_one_subnet() fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) member = {'id': uuidutils.generate_uuid(), 'address': fake_port['fixed_ips'][0]['ip_address'], 'protocol_port': '9999', 'subnet_id': fake_subnet['id'], 'pool_id': self.pool_id, 'admin_state_up': True, 'old_admin_state_up': True} member_line = ( 'member_%s_%s:%s_%s' % (member['id'], member['address'], member['protocol_port'], member['subnet_id'])) pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = member_line folbpi.return_value = (pool_key, self.ovn_hm_lb) net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} net_cli.return_value.list_ports.return_value = {'ports': []} fake_lsp = fakes.FakeOVNPort.from_neutron_port(fake_port) fake_ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': {}, 'ports': [fake_lsp]}) self.helper.ovn_nbdb_api.lookup.return_value = fake_ls status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ERROR) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_hm_source_ip_not_found(self, folbpi, net_cli): fake_subnet = fakes.FakeSubnet.create_one_subnet() fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) member = {'id': uuidutils.generate_uuid(), 'address': fake_port['fixed_ips'][0]['ip_address'], 'protocol_port': '9999', 'subnet_id': fake_subnet['id'], 'pool_id': self.pool_id, 'admin_state_up': True, 'old_admin_state_up': True} member_line = ( 'member_%s_%s:%s_%s' % (member['id'], member['address'], member['protocol_port'], member['subnet_id'])) pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = member_line folbpi.return_value = (pool_key, self.ovn_hm_lb) net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} fake_lsp = fakes.FakeOVNPort.from_neutron_port(fake_port) fake_ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': {}, 'ports': [fake_lsp]}) self.helper.ovn_nbdb_api.lookup.return_value = fake_ls status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_create_db_exception(self, folbpi): pool_key = 'pool_%s' % self.pool_id folbpi.return_value = (pool_key, self.ovn_hm_lb) self.helper.ovn_nbdb_api.db_create.side_effect = [RuntimeError] status = self.helper.hm_create(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create(self, get_ovn_lb, lookup_hm): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = self.ovn_hm self.ovn_hm_lb.health_check = self.ovn_hm self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) vip = (self.ovn_hm_lb.external_ids[ovn_const.LB_EXT_IDS_VIP_KEY] + ':' + str(self.listener['protocol_port'])) self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('vip', vip)) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create_no_hm(self, get_ovn_lb, lookup_hm): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = None self.ovn_hm_lb.health_check = self.ovn_hm self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_or_create_ovn_lb') def test_hm_create_then_listener_create_no_vip(self, get_ovn_lb, lookup_hm, refresh_vips): get_ovn_lb.return_value = self.ovn_hm_lb lookup_hm.return_value = self.ovn_hm self.ovn_hm_lb.health_check = self.ovn_hm self.ovn_hm_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_KEY) self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) status = self.helper.hm_update(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ONLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_no_admin_state_up(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.ovn_hm_lb.pop('admin_state_up') status = self.helper.hm_update(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ONLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_offline(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['admin_state_up'] = False status = self.helper.hm_update(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.OFFLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_hm_not_found(self, folbfhi): folbfhi.return_value = (None, None) status = self.helper.hm_update(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') def test_hm_update_lb_not_found(self, folbpi, folbfhi): folbfhi.return_value = (self.ovn_hm, None) folbpi.return_value = (None, None) status = self.helper.hm_update(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.ERROR) def test_hm_delete(self): self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) expected_clear_calls = [ mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'ip_port_mappings')] expected_remove_calls = [ mock.call('Load_Balancer', self.ovn_hm_lb.uuid, 'health_check', self.ovn_hm.uuid)] expected_destroy_calls = [ mock.call('Load_Balancer_Health_Check', self.ovn_hm.uuid)] self.helper.ovn_nbdb_api.db_clear.assert_has_calls( expected_clear_calls) self.helper.ovn_nbdb_api.db_remove.assert_has_calls( expected_remove_calls) self.helper.ovn_nbdb_api.db_destroy.assert_has_calls( expected_destroy_calls) def test_hm_delete_row_not_found(self): self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.side_effect = ( [idlutils.RowNotFound]) status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.helper.ovn_nbdb_api.db_clear.assert_not_called() def test_hm_delete_hm_not_found(self): self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] self.health_monitor['id'] = 'id_not_found' status = self.helper.hm_delete(self.health_monitor) self.assertEqual(status['healthmonitors'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['healthmonitors'][0]['operating_status'], constants.NO_MONITOR) self.helper.ovn_nbdb_api.db_clear.assert_not_called() def test_hm_update_event_offline(self): self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) src_ip = '10.22.33.4' row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': src_ip, 'port': self.member_port, 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) expected = { 'info': {'ovn_lb': self.ovn_hm_lb, 'ip': self.member_address, 'port': self.member_port, 'status': ['offline']}, 'type': 'hm_update_event'} self.mock_add_request.assert_called_once_with(expected) self.helper.ovn_nbdb_api.db_find_rows.assert_called_once_with( 'Load_Balancer', (('ip_port_mappings', '=', {self.member_address: 'a-logical-port:' + src_ip}), ('protocol', '=', self.ovn_hm_lb.protocol))) def test_hm_update_event_lb_not_found(self): self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': self.member_port, 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) self.mock_add_request.assert_not_called() def test_hm_update_event_lb_row_not_found(self): self.helper.ovn_nbdb_api.db_find_rows.\ side_effect = [idlutils.RowNotFound] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': self.member_port, 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) self.mock_add_request.assert_not_called() def test_hm_update_event_lb_protocol_not_found(self): self.helper.ovn_nbdb_api.db_find_rows.\ side_effect = [self.ovn_hm_lb, idlutils.RowNotFound] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': self.member_port, 'protocol': 'unknown', 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) self.mock_add_request.assert_not_called() def _test_hm_update_no_member(self, bad_ip, bad_port): fake_subnet = fakes.FakeSubnet.create_one_subnet() fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] member = {'id': uuidutils.generate_uuid(), 'address': ip, 'protocol_port': self.member_port, 'subnet_id': fake_subnet['id'], 'pool_id': self.pool_id, 'admin_state_up': True, 'old_admin_state_up': True} member_line = ( 'member_%s_%s:%s_%s' % (member['id'], member['address'], member['protocol_port'], member['subnet_id'])) pool_key = 'pool_%s' % self.pool_id self.ovn_hm_lb.external_ids[pool_key] = member_line if bad_ip: ip = 'bad-ip' port = self.member_port if bad_port: port = 'bad-port' info = { 'ovn_lb': self.ovn_hm_lb, 'ip': ip, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': port, 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']} status = self.helper.hm_update_event(info) self.assertIsNone(status) def test_hm_update_event_member_ip_not_found(self): self._test_hm_update_no_member(True, False) def test_hm_update_event_member_port_not_found(self): self._test_hm_update_no_member(False, True) def _test_hm_update_status(self, ip, port, member_status, lb_status=constants.ONLINE, pool_status=constants.ONLINE): fake_lb = fakes.FakeLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_lb', ext_ids={}) fake_pool = fakes.FakePool( uuid=uuidutils.generate_uuid(), admin_state_up=True, name='fake_pool') info = { 'ovn_lb': self.ovn_hm_lb, 'ip': ip, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': port, 'protocol': self.ovn_hm_lb.protocol, 'status': [member_status]} fake_lb.operating_status = lb_status fake_pool.operating_status = pool_status self.octavia_driver_lib.get_pool.return_value = fake_pool self.octavia_driver_lib.get_loadbalancer.return_value = fake_lb status = self.helper.hm_update_event(info) return status def _add_member(self, subnet, port): fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] member = {'id': uuidutils.generate_uuid(), 'address': ip, 'protocol_port': port, 'subnet_id': subnet['id'], 'pool_id': self.pool_id, 'admin_state_up': True, 'old_admin_state_up': True} member_line = ( 'member_%s_%s:%s_%s' % (member['id'], member['address'], member['protocol_port'], member['subnet_id'])) pool_key = 'pool_%s' % self.pool_id existing_members = self.ovn_hm_lb.external_ids[pool_key] if existing_members: existing_members = ','.join([existing_members, member_line]) self.ovn_hm_lb.external_ids[pool_key] = existing_members else: self.ovn_hm_lb.external_ids[pool_key] = member_line return member def test_hm_update_status_offline(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() member = self._add_member(fake_subnet, 8080) status = self._test_hm_update_status(member['address'], '8080', 'offline') self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ERROR) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) def test_hm_update_status_offline_lb_pool_offline(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() member = self._add_member(fake_subnet, 8080) status = self._test_hm_update_status(member['address'], '8080', 'offline', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) def test_hm_update_status_online(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() member = self._add_member(fake_subnet, 8080) status = self._test_hm_update_status(member['address'], '8080', 'online') self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) def test_hm_update_status_online_lb_pool_offline(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() member = self._add_member(fake_subnet, 8080) status = self._test_hm_update_status(member['address'], '8080', 'online', lb_status=constants.OFFLINE, pool_status=constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) def test_hm_update_status_offline_two_members(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() member_1 = self._add_member(fake_subnet, 8080) ip_1 = member_1['address'] member_2 = self._add_member(fake_subnet, 8081) ip_2 = member_2['address'] # This is the Octavia API version fake_member = fakes.FakeMember( uuid=member_2['id'], admin_state_up=True, name='member_2', project_id=self.project_id, address=ip_2, protocol_port=8081) # Second member ONLINE, operating_status should be DEGRADED # for Pool and Loadbalancer fake_member.operating_status = constants.ONLINE self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'offline') self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['pools'][0]['operating_status'], constants.DEGRADED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.DEGRADED) # Second member ERROR, operating_status should be ERROR # for Pool and Loadbalancer fake_member.operating_status = constants.ERROR self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'offline') self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['pools'][0]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) def test_hm_update_status_online_two_members(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() member_1 = self._add_member(fake_subnet, 8080) ip_1 = member_1['address'] member_2 = self._add_member(fake_subnet, 8081) ip_2 = member_2['address'] # This is the Octavia API version fake_member = fakes.FakeMember( uuid=member_2['id'], admin_state_up=True, name='member_2', project_id=self.project_id, address=ip_2, protocol_port=8081) # Second member ERROR, operating_status should be DEGRADED # for Pool and Loadbalancer fake_member.operating_status = constants.ERROR self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'online') self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['pools'][0]['operating_status'], constants.DEGRADED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.DEGRADED) # Second member ONLINE, operating_status should be ONLINE # for Pool and Loadbalancer fake_member.operating_status = constants.ONLINE self.octavia_driver_lib.get_member.return_value = fake_member status = self._test_hm_update_status(ip_1, '8081', 'online') self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE)"," def test_member_create_already_exists_backward_compat(self): old_member_line = ('member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_create(self.member) self.helper.ovn_nbdb_api.db_set.assert_not_called() 'member_%s_%s:%s,member_%s_%s:%s' % member2_id, member2_address, member2_port)) def test_member_delete_backward_compat(self): old_member_line = ('member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_delete(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: ''})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.has_calls(expected_calls) self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port}) members = 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)",2302,104
openstack%2Fvitrage-tempest-plugin~master~Ica73bd4bd26ade3b36aca086368e624092390339,openstack/vitrage-tempest-plugin,master,Ica73bd4bd26ade3b36aca086368e624092390339,make it voting again,MERGED,2022-01-05 15:04:44.000000000,2022-01-05 20:12:39.000000000,2022-01-05 20:07:25.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 15:04:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/251bb6d4d45ef12aa10e1e0cdf8bb9e7ea4cd998', 'message': 'make it voting again\n\nChange-Id: Ica73bd4bd26ade3b36aca086368e624092390339\n'}]",1,823549,251bb6d4d45ef12aa10e1e0cdf8bb9e7ea4cd998,11,2,1,19134,,,0,"make it voting again

Change-Id: Ica73bd4bd26ade3b36aca086368e624092390339
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/49/823549/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,251bb6d4d45ef12aa10e1e0cdf8bb9e7ea4cd998,zuul, - vitrage-tempest-plugin-api - vitrage-tempest-plugin-datasources - vitrage-tempest-plugin-api - vitrage-tempest-plugin-datasources, - vitrage-tempest-plugin-api: voting: false - vitrage-tempest-plugin-datasources: voting: false - vitrage-tempest-plugin-api: voting: false - vitrage-tempest-plugin-datasources: voting: false,4,8
openstack%2Fneutron~master~Ic4b6740671e51f0d306967013e3d500f4d0cd6a5,openstack/neutron,master,Ic4b6740671e51f0d306967013e3d500f4d0cd6a5,[Fullstack] Don't install OVN in the fullstack job,MERGED,2021-11-23 10:37:59.000000000,2022-01-05 19:09:20.000000000,2022-01-05 19:05:03.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 10:37:59.000000000', 'files': ['tools/configure_for_func_testing.sh', 'zuul.d/base.yaml', 'roles/configure_functional_tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bedd24caff476c949bbd105a558f6ad2d4c5fa89', 'message': ""[Fullstack] Don't install OVN in the fullstack job\n\nIt's not needed at all so if we avoid installation, especially from\nsources, it may save us few minutes of the job's execution time.\nIt may also save some resources on the node.\n\nTo save a bit more time in the fullstack job's execution this patch also\ndisables compilation of the OVS from source in that job. We can use OVS\ninstalled from packages provided by the distro instead.\n\nChange-Id: Ic4b6740671e51f0d306967013e3d500f4d0cd6a5\n""}]",7,818877,bedd24caff476c949bbd105a558f6ad2d4c5fa89,16,5,1,11975,,,0,"[Fullstack] Don't install OVN in the fullstack job

It's not needed at all so if we avoid installation, especially from
sources, it may save us few minutes of the job's execution time.
It may also save some resources on the node.

To save a bit more time in the fullstack job's execution this patch also
disables compilation of the OVS from source in that job. We can use OVS
installed from packages provided by the distro instead.

Change-Id: Ic4b6740671e51f0d306967013e3d500f4d0cd6a5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/818877/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/configure_for_func_testing.sh', 'zuul.d/base.yaml', 'roles/configure_functional_tests/tasks/main.yaml']",3,bedd24caff476c949bbd105a558f6ad2d4c5fa89,improve-neutron-ci, BUILD_OVS_FROM_SOURCE={{ BUILD_OVS_FROM_SOURCE }} INSTALL_OVN={{ INSTALL_OVN }},,12,2
openstack%2Frequirements~master~Ic14a38a5e792f923fbd3b551ccb0664163c964cd,openstack/requirements,master,Ic14a38a5e792f923fbd3b551ccb0664163c964cd,update constraint for neutron-lib to new release 2.18.1,MERGED,2022-01-05 15:53:16.000000000,2022-01-05 19:05:07.000000000,2022-01-05 19:03:27.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-05 15:53:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/06a0da4f33700b5894b801650fbb00d3686965be', 'message': 'update constraint for neutron-lib to new release 2.18.1\n\nmeta: version: 2.18.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Change-Id: I817a5bcaf3720603ccc1445aca4d5d4e0c88fb97\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ic14a38a5e792f923fbd3b551ccb0664163c964cd\n'}]",0,823553,06a0da4f33700b5894b801650fbb00d3686965be,9,3,1,11131,,,0,"update constraint for neutron-lib to new release 2.18.1

meta: version: 2.18.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: I817a5bcaf3720603ccc1445aca4d5d4e0c88fb97
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ic14a38a5e792f923fbd3b551ccb0664163c964cd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/823553/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,06a0da4f33700b5894b801650fbb00d3686965be,new-release,neutron-lib===2.18.1,neutron-lib===2.18.0,1,1
openstack%2Fpuppet-heat~master~If314e079f45101439751c18eddbead56d0863fbb,openstack/puppet-heat,master,If314e079f45101439751c18eddbead56d0863fbb,Support more tunable parameters of heat-engine,MERGED,2022-01-03 10:54:06.000000000,2022-01-05 18:38:03.000000000,2022-01-05 18:36:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 10:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/0b708625e75b37b7fd1e3269c00dd4a27474fa8a', 'message': 'Support more tunable parameters of heat-engine\n\nChange-Id: If314e079f45101439751c18eddbead56d0863fbb\n'}, {'number': 2, 'created': '2022-01-03 11:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/0aebe5fc7aad092a5428866757633fd9eaab9900', 'message': 'Support more tunable parameters of heat-engine\n\nChange-Id: If314e079f45101439751c18eddbead56d0863fbb\n'}, {'number': 3, 'created': '2022-01-03 14:09:17.000000000', 'files': ['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'releasenotes/notes/engine-tunables-e529aea53ad2a813.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/e0f9de35cb7e2a6534fefbd84fa7f4084416198e', 'message': 'Support more tunable parameters of heat-engine\n\nChange-Id: If314e079f45101439751c18eddbead56d0863fbb\n'}]",1,823265,e0f9de35cb7e2a6534fefbd84fa7f4084416198e,15,3,3,9816,,,0,"Support more tunable parameters of heat-engine

Change-Id: If314e079f45101439751c18eddbead56d0863fbb
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/65/823265/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'releasenotes/notes/engine-tunables-e529aea53ad2a813.yaml']",3,0b708625e75b37b7fd1e3269c00dd4a27474fa8a,,--- features: - | The following parameters have been added to the ``heat::engine`` class. - ``action_retry_limit`` - ``max_server_name_length`` - ``max_interface_check_attempts`` - ``event_purge_batch_size`` - ``max_events_per_stack`` - ``stack_action_timeout`` - ``error_wait_time`` - ``engine_life_check_timeout`` ,,99,7
openstack%2Fdesignate~master~I897d7da185c2dd246b80d1a598e9e8a5c667304e,openstack/designate,master,I897d7da185c2dd246b80d1a598e9e8a5c667304e,Modernize PTR implementation in Central,MERGED,2021-12-28 20:43:24.000000000,2022-01-05 18:28:52.000000000,2022-01-05 18:27:08.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28609}]","[{'number': 1, 'created': '2021-12-28 20:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5e438f05410612aa2e93fb8428a157f6e6de3cdb', 'message': '[WIP] PTR\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 2, 'created': '2021-12-28 21:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0a39cc24f28aaf54d20be7f30bb0bd6722968e41', 'message': '[WIP] PTR\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 3, 'created': '2021-12-28 22:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/751b0036ed26a29917fd9896357af79bfcd6068c', 'message': '[WIP] PTR\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 4, 'created': '2021-12-28 22:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d3a42a144dc71ff2ff97d383a0e2cea60f6e1c87', 'message': '[WIP] PTR\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 5, 'created': '2021-12-28 22:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4dfe82ae77837423dfde2f783ca1a9a496c458fc', 'message': '[WIP] PTR\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 6, 'created': '2021-12-28 23:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/36989ea7454f49ad7c05f491a91d8a18d9fc2ee2', 'message': '[WIP] PTR\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 7, 'created': '2021-12-28 23:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fcf7b1267e5a743819b4f32406deeaa6f4b10323', 'message': '[WIP] PTR\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 8, 'created': '2021-12-29 00:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0ee89a7144525a144136ef7d3108b06ff2be8723', 'message': 'Modernize PTR implementation in Central\n\nThe main objective of this change it to move\naway from the create/delete/update record and\nmake use of recordsets for all implementations.\n\nThe PTR code is the last code path making use of\n(create|delete|update)_record.\n\n- Fixed typos.\n- Use project_id instead of tenant_id.\n\nThe end goal is to stabilize the functional testing.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 9, 'created': '2021-12-29 08:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/99da3930a90e0e083cdf1bdd9cc22bbce5991d3a', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 10, 'created': '2021-12-29 08:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/379981aae35583b7dd5e146533091dc39d1c6035', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 11, 'created': '2021-12-29 08:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4b5cb69a3a3b88875e3d8fa357107fbfa1888f8d', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 12, 'created': '2021-12-29 18:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/75252219470d413747aa178915fa392efbb076e7', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 13, 'created': '2021-12-29 19:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c5aed6486e1881e2bf6e9c2f9d696e2914b4b58d', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 14, 'created': '2021-12-29 21:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b9079fcc5c37729f1b213d107c42aa55ff27b6d1', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 15, 'created': '2021-12-29 23:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9ef93618d043781fbd6236848296790f875e4ca3', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 16, 'created': '2021-12-30 00:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ce376c6cf219908344504778aed126238f7a11df', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 17, 'created': '2021-12-31 19:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a32f8ccefb44e8d23dec8bd03d7d5ac60b6e1727', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 18, 'created': '2022-01-01 01:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1a0e4dd84f95d5c144353abea9beed05cfd1da5e', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}, {'number': 19, 'created': '2022-01-01 01:52:52.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py', 'designate/tests/test_api/test_v2/test_floatingips.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/7ec7adc44a9914ad9492014ca0edec2341fb5de0', 'message': 'Modernize PTR implementation in Central\n\nUpdated the PTR (floating ips) code to behave closer to how we handle\nthis type of operations in designate.api.v2. This should resolve\nsome issues (e.g. race conditions) with the older floating ips code.\n\nAdditional changes.\n- Fixed minor typos in documentation.\n- Updated wording where it makes sense to use project instead of tenant.\n\nChange-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e\n'}]",27,823108,7ec7adc44a9914ad9492014ca0edec2341fb5de0,61,4,19,22623,,,0,"Modernize PTR implementation in Central

Updated the PTR (floating ips) code to behave closer to how we handle
this type of operations in designate.api.v2. This should resolve
some issues (e.g. race conditions) with the older floating ips code.

Additional changes.
- Fixed minor typos in documentation.
- Updated wording where it makes sense to use project instead of tenant.

Change-Id: I897d7da185c2dd246b80d1a598e9e8a5c667304e
",git fetch https://review.opendev.org/openstack/designate refs/changes/08/823108/17 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/storage/__init__.py', 'designate/tests/test_api/test_v2/test_floatingips.py', 'designate/tests/test_central/test_service.py']",4,5e438f05410612aa2e93fb8428a157f6e6de3cdb,," record = self.central_service.find_record(elevated_a, criterion) self.assertEqual('DELETE', record.action) self.assertEqual('PENDING', record.status)"," # Simulate the update on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Simulate the invalidation on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Simulate the invalidation on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Ensure that the old record for tenant a for the fip now owned by # tenant b is gone exc = self.assertRaises(rpc_dispatcher.ExpectedException, self.central_service.find_record, elevated_a, criterion) self.assertEqual(exceptions.RecordNotFound, exc.exc_info[0]) self.central_service.get_floatingip( context, fip['region'], fip['id']) ",103,119
openstack%2Fneutron~stable%2Fwallaby~Ie93cf3e47e09b3e5051be1ffad512251775b0492,openstack/neutron,stable/wallaby,Ie93cf3e47e09b3e5051be1ffad512251775b0492,"Check subnet in ""_remove_subnet_dhcp_options""",MERGED,2021-12-23 15:21:35.000000000,2022-01-05 18:19:01.000000000,2022-01-05 18:17:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 15:21:35.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1aba78896b6daa2a786a4445c9ea6eb46d8aa145', 'message': 'Check subnet in ""_remove_subnet_dhcp_options""\n\nSince [1], ""get_subnet_dhcp_options"" returns always a dictionary\nin ""subnet"" instead of None. This patch checks not only that ""subnet""\nis None but also the dictionary is not empty.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/807692\n\nCloses-Bug: #1948466\n\nChange-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492\n(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)\n'}]",1,822799,1aba78896b6daa2a786a4445c9ea6eb46d8aa145,17,3,1,11975,,,0,"Check subnet in ""_remove_subnet_dhcp_options""

Since [1], ""get_subnet_dhcp_options"" returns always a dictionary
in ""subnet"" instead of None. This patch checks not only that ""subnet""
is None but also the dictionary is not empty.

[1]https://review.opendev.org/c/openstack/neutron/+/807692

Closes-Bug: #1948466

Change-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492
(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/822799/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,1aba78896b6daa2a786a4445c9ea6eb46d8aa145,bug/1948466-stable/xena-stable/wallaby, if dhcp_options['subnet']:, if dhcp_options['subnet'] is not None:,1,1
openstack%2Fdevstack~stable%2Fvictoria~Ib7719cb2d48b34db70f885e0afe77d904abba3b5,openstack/devstack,stable/victoria,Ib7719cb2d48b34db70f885e0afe77d904abba3b5,Fix tempest upper-constraints,MERGED,2022-01-05 13:31:13.000000000,2022-01-05 18:18:53.000000000,2022-01-05 18:17:11.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-05 13:31:13.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3824d6eef00dae80fbc6f53a4503031f30ac648b', 'message': ""Fix tempest upper-constraints\n\nWhen deploying devstack in a stable branch, the master branch is\navailable locally only in a CI environment where Zuul prepares all\navailable branches. For a non-CI deployment we need to stick to using\nthe remote branch as was the case before [0].\n\nWhile the situation on the master branch isn't really broken, we apply\nthe fix here anyway so that future stable branches are created in a\nworking state.\n\n[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64\n\nCloses-Bug: #1956219\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5\n(cherry picked from commit 2ef4a4c8516bc6373bc7f4cafee62db715144952)\n""}]",0,823463,3824d6eef00dae80fbc6f53a4503031f30ac648b,8,3,1,30491,,,0,"Fix tempest upper-constraints

When deploying devstack in a stable branch, the master branch is
available locally only in a CI environment where Zuul prepares all
available branches. For a non-CI deployment we need to stick to using
the remote branch as was the case before [0].

While the situation on the master branch isn't really broken, we apply
the fix here anyway so that future stable branches are created in a
working state.

[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64

Closes-Bug: #1956219
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5
(cherry picked from commit 2ef4a4c8516bc6373bc7f4cafee62db715144952)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/823463/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,3824d6eef00dae80fbc6f53a4503031f30ac648b,fix-tempest-uc-stable/xena-stable/wallaby-stable/victoria, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt 2>/dev/null || git show origin/master:upper-constraints.txt) > $tmp_c, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > $tmp_c,3,1
openstack%2Ftripleo-common~stable%2Fwallaby~I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2,openstack/tripleo-common,stable/wallaby,I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2,Remove /etc/yum.repos.d/ubi.repo,MERGED,2022-01-05 05:52:38.000000000,2022-01-05 18:17:55.000000000,2022-01-05 18:16:17.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-05 05:52:38.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a5471f8c949967c13c7f16ba3641cb8df226bf21', 'message': 'Remove /etc/yum.repos.d/ubi.repo\n\nin ubi9 beta image, /etc/yum.repos.d/ubi.repo is empty so\ndisabled it via dnf fails and it breaks the container\nbuild.\n\nRemoving this file completely fixes the issue.\n\nCloses-Bug: #1956319\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2\n(cherry picked from commit 534f7f7584176fcb3a0266756281ed933bae7318)\n'}]",0,823451,a5471f8c949967c13c7f16ba3641cb8df226bf21,9,6,1,12393,,,0,"Remove /etc/yum.repos.d/ubi.repo

in ubi9 beta image, /etc/yum.repos.d/ubi.repo is empty so
disabled it via dnf fails and it breaks the container
build.

Removing this file completely fixes the issue.

Closes-Bug: #1956319

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2
(cherry picked from commit 534f7f7584176fcb3a0266756281ed933bae7318)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/823451/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,a5471f8c949967c13c7f16ba3641cb8df226bf21,cs9-stable/wallaby,"- run: if [ -f ""/etc/yum.repos.d/ubi.repo"" ]; then rm -f /etc/yum.repos.d/ubi.repo && dnf clean all && rm -rf /var/cache/dnf; fi","- run: if [ -f ""/etc/yum.repos.d/ubi.repo"" ]; then dnf config-manager --set-disabled ""ubi*"" && dnf clean all && rm -rf /var/cache/dnf; fi",1,1
openstack%2Fansible-role-collect-logs~master~I3f5c26fe6ac5c69223c12d2574ce1659755c696c,openstack/ansible-role-collect-logs,master,I3f5c26fe6ac5c69223c12d2574ce1659755c696c,Add artcl_find_* as infrared arguments,MERGED,2022-01-05 10:08:43.000000000,2022-01-05 18:16:19.000000000,2022-01-05 18:16:19.000000000,"[{'_account_id': 5803}, {'_account_id': 9976}, {'_account_id': 10459}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 10:08:43.000000000', 'files': ['infrared_plugin/plugin.spec'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0873c321879030057b5a86e43185b475550ce04c', 'message': ""Add artcl_find_* as infrared arguments\n\nAdd support for setting the artcl_find_maxdepth and artcl_find_max_size\nvariables via infrared's CLI when running the role as infrared plugin.\n\nChange-Id: I3f5c26fe6ac5c69223c12d2574ce1659755c696c\n""}]",1,823493,0873c321879030057b5a86e43185b475550ce04c,10,6,1,22873,,,0,"Add artcl_find_* as infrared arguments

Add support for setting the artcl_find_maxdepth and artcl_find_max_size
variables via infrared's CLI when running the role as infrared plugin.

Change-Id: I3f5c26fe6ac5c69223c12d2574ce1659755c696c
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/93/823493/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/plugin.spec'],1,0873c321879030057b5a86e43185b475550ce04c,," artcl_find_maxdepth: type: Value help: | Max depth passed to find via -maxdepth arg, it makes effect only when artcl_rsync_collect_list is set to False. default: 4 artcl_find_max_size: type: Value help: | Max file size passed to find via -size arg, it makes effect only when artcl_rsync_collect_list is set to False. default: 256",,12,0
openstack%2Fdevstack~stable%2Fxena~Ib7719cb2d48b34db70f885e0afe77d904abba3b5,openstack/devstack,stable/xena,Ib7719cb2d48b34db70f885e0afe77d904abba3b5,Fix tempest upper-constraints,MERGED,2022-01-03 14:22:50.000000000,2022-01-05 18:01:30.000000000,2022-01-05 17:59:40.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 34421}]","[{'number': 1, 'created': '2022-01-03 14:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/229a73909bd211d2d26fdc203617a8c78705f8d0', 'message': '[Stable-only] Fix tempest upper-constraints\n\nThe master branch is available locally only in a CI environment where\nZuul prepares all available branches. For a non-CI deployment we need to\nstick to using the remote branch as was the case before [0].\n\n[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64\n\nCloses-Bug: #1956219\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5\n'}, {'number': 2, 'created': '2022-01-05 11:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1ca013b012a93a1bb69472c1fc65b8bfc1f70370', 'message': '[Stable-only] Fix tempest upper-constraints\n\nThe master branch is available locally only in a CI environment where\nZuul prepares all available branches. For a non-CI deployment we need to\nstick to using the remote branch as was the case before [0].\n\n[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64\n\nCloses-Bug: #1956219\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5\n'}, {'number': 3, 'created': '2022-01-05 13:30:16.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f590210fd8a306fb3d3052bdf46f4f74d0bd165d', 'message': ""Fix tempest upper-constraints\n\nWhen deploying devstack in a stable branch, the master branch is\navailable locally only in a CI environment where Zuul prepares all\navailable branches. For a non-CI deployment we need to stick to using\nthe remote branch as was the case before [0].\n\nWhile the situation on the master branch isn't really broken, we apply\nthe fix here anyway so that future stable branches are created in a\nworking state.\n\n[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64\n\nCloses-Bug: #1956219\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5\n(cherry picked from commit 2ef4a4c8516bc6373bc7f4cafee62db715144952)\n""}]",8,823313,f590210fd8a306fb3d3052bdf46f4f74d0bd165d,16,4,3,13252,,,0,"Fix tempest upper-constraints

When deploying devstack in a stable branch, the master branch is
available locally only in a CI environment where Zuul prepares all
available branches. For a non-CI deployment we need to stick to using
the remote branch as was the case before [0].

While the situation on the master branch isn't really broken, we apply
the fix here anyway so that future stable branches are created in a
working state.

[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64

Closes-Bug: #1956219
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5
(cherry picked from commit 2ef4a4c8516bc6373bc7f4cafee62db715144952)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/823313/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,229a73909bd211d2d26fdc203617a8c78705f8d0,fix-tempest-uc-stable/xena, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt 2>/dev/null || git show origin/master:upper-constraints.txt) > $tmp_c, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > $tmp_c,3,1
openstack%2Fcharm-guide~master~I06b3536d087778ad1914a9eae789db0884d3f90c,openstack/charm-guide,master,I06b3536d087778ad1914a9eae789db0884d3f90c,Add operations: Replace or repair a RabbitMQ node,MERGED,2021-11-16 22:41:37.000000000,2022-01-05 17:55:10.000000000,2022-01-05 17:53:29.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-16 22:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a751c53be7b534a55e9467ee9009435a6274c32f', 'message': 'Add operation: Replace a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 2, 'created': '2021-11-30 20:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8f5041f1cfb7ba5337286e467cd315bece3e6a90', 'message': 'Add operation: Replace a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 3, 'created': '2021-11-30 23:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9de43981dd7da07debc58e8bf9d11bc4dac39544', 'message': 'Add operation: Replace a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 4, 'created': '2021-12-01 04:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c4f2aa8f583b861090f4fd01fead38e6ed44401e', 'message': 'Add operation: Replace a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 5, 'created': '2021-12-01 05:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/68250f448de19a41492967e03cc13a205d42b145', 'message': 'Add operation: Replace a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 6, 'created': '2021-12-02 20:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4e2a67560d84e7f7f6c429db5c9c4aadbf1f3fbc', 'message': 'Add operation: Replace a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 7, 'created': '2021-12-02 23:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e7b45385c19357bfa2393c0bcc0721ee9fcf82f9', 'message': 'Add operation: Replace a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 8, 'created': '2021-12-06 16:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f5db95a505d1088353e6e45b6ed1841cf0b794d2', 'message': 'Add operations: Replace or repair a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 9, 'created': '2021-12-06 17:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/051587dd293f878f11b4a9dc9589d2e4cbc8bab4', 'message': 'Add operations: Replace or repair a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}, {'number': 10, 'created': '2021-12-13 21:14:42.000000000', 'files': ['doc/source/admin/ops-replace-rabbitmq-node.rst', 'doc/source/howto/index.rst', 'doc/source/admin/ops-repair-rabbitmq-node.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8fb0c64757b73aa631f0e2738acd2a9d027ddd39', 'message': 'Add operations: Replace or repair a RabbitMQ node\n\nChange-Id: I06b3536d087778ad1914a9eae789db0884d3f90c\n'}]",9,818173,8fb0c64757b73aa631f0e2738acd2a9d027ddd39,30,2,10,30561,,,0,"Add operations: Replace or repair a RabbitMQ node

Change-Id: I06b3536d087778ad1914a9eae789db0884d3f90c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/73/818173/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/ops-replace-rabbitmq-node.rst', 'doc/source/howto/index.rst', 'doc/source/admin/ops-repair-rabbitmq-node.rst']",3,a751c53be7b534a55e9467ee9009435a6274c32f,add-op-replace-rabbitmq-node,":orphan: ====================== Repair a RabbitMQ node ====================== Introduction ~~~~~~~~~~~~ XXXXXXX Kill the rabbitmq-server BEAM process ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Connect to the unhealthy node, stop the service, and kill its leftover BEAM process: .. code-block:: none juju ssh rabbitmq-server/1 > sudo systemctl stop rabbitmq-server > sudo pkill -9 -u rabbitmq beam.smp Remove the unhealthy node from the cluster ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ On one of the healthy nodes, have the cluster ""forget"" about the unhealthy node: .. code-block:: none sudo rabbitmqctl forget_cluster_node rabbit@rabbitmq-server/1 The unhealthy rabbitmq-server unit can be identified by checking the cluster status: .. code-block:: none sudo rabbitmqctl cluster_status and copy-pasting the node that is not listed in ""running nodes"". XXXXXXXXXXX Back up the unhealthy node database ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ On the unhealthy node, back up its database: .. code-block:: none cd /var/lib/rabbitmq mv mnesia mnesia.bak Re-join the unhealthy node to the cluster ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Start the server in standalone mode: .. code-block:: none sudo rabbitmq-server -detached Stop the old erlang vm: .. code-block:: none rabbitmqctl stop_app Rejoin the cluster: .. code-block:: none rabbitmqctl join_cluster rabbit@<rmq1_ip> Start the fixed erlang vm .. code-block:: none rabbitmqctl start_app Restart the service with the startup script ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Enable the startup script and restart the service: .. code-block:: none rmq2:~# rabbitmqctl stop rmq2:~# systemctl enable rabbitmq-server rmq2:~# systemctl start rabbitmq-server Verify cluster health ~~~~~~~~~~~~~~~~~~~~~ Status should reflect the changes to the cluster: .. code-block:: none rabbitmqctl cluster_status This should complete quickly and a reasonable number of queues should be returned: .. code-block:: none time rabbitmqctl -p openstack list_queues | wc -l ",,146,0
openstack%2Fneutron~stable%2Fxena~Ie93cf3e47e09b3e5051be1ffad512251775b0492,openstack/neutron,stable/xena,Ie93cf3e47e09b3e5051be1ffad512251775b0492,"Check subnet in ""_remove_subnet_dhcp_options""",MERGED,2021-12-23 15:21:23.000000000,2022-01-05 17:46:13.000000000,2022-01-05 17:44:14.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 15:21:23.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e9dcaee50ec69fb6e71a59de4ad936e297f5a4f', 'message': 'Check subnet in ""_remove_subnet_dhcp_options""\n\nSince [1], ""get_subnet_dhcp_options"" returns always a dictionary\nin ""subnet"" instead of None. This patch checks not only that ""subnet""\nis None but also the dictionary is not empty.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/807692\n\nCloses-Bug: #1948466\n\nChange-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492\n(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)\n'}]",3,822798,3e9dcaee50ec69fb6e71a59de4ad936e297f5a4f,21,3,1,11975,,,0,"Check subnet in ""_remove_subnet_dhcp_options""

Since [1], ""get_subnet_dhcp_options"" returns always a dictionary
in ""subnet"" instead of None. This patch checks not only that ""subnet""
is None but also the dictionary is not empty.

[1]https://review.opendev.org/c/openstack/neutron/+/807692

Closes-Bug: #1948466

Change-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492
(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/822798/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,3e9dcaee50ec69fb6e71a59de4ad936e297f5a4f,bug/1948466-stable/xena, if dhcp_options['subnet']:, if dhcp_options['subnet'] is not None:,1,1
openstack%2Fvitrage-tempest-plugin~master~I4973c2560e1f826765d4db3af3e61a30dbdf3fb7,openstack/vitrage-tempest-plugin,master,I4973c2560e1f826765d4db3af3e61a30dbdf3fb7,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-12-22 03:11:21.000000000,2022-01-05 17:22:46.000000000,2022-01-05 17:21:07.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 03:11:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/49f63d2e370913a20f49bca5c929c1503f73f232', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I4973c2560e1f826765d4db3af3e61a30dbdf3fb7\n'}]",2,822580,49f63d2e370913a20f49bca5c929c1503f73f232,10,2,1,32291,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I4973c2560e1f826765d4db3af3e61a30dbdf3fb7
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/80/822580/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,49f63d2e370913a20f49bca5c929c1503f73f232,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fvitrage~master~Ief7d055c55fc8846aeed14c820cb0b2116ce264d,openstack/vitrage,master,Ief7d055c55fc8846aeed14c820cb0b2116ce264d,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-12-22 03:09:23.000000000,2022-01-05 17:17:43.000000000,2022-01-05 17:15:28.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 03:09:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3547663c234014efc84aa7c55ee081d070103132', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ief7d055c55fc8846aeed14c820cb0b2116ce264d\n'}]",2,822578,3547663c234014efc84aa7c55ee081d070103132,11,2,1,32291,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ief7d055c55fc8846aeed14c820cb0b2116ce264d
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/78/822578/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3547663c234014efc84aa7c55ee081d070103132,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fironic-python-agent~bugfix%2F8.3~Ia7bf15e98f3e036bdf30dbb55d252a67faf9832d,openstack/ironic-python-agent,bugfix/8.3,Ia7bf15e98f3e036bdf30dbb55d252a67faf9832d,Configure CI for bugfix/8.3,MERGED,2021-12-20 16:01:35.000000000,2022-01-05 17:15:02.000000000,2022-01-05 17:09:23.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-20 16:01:35.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d2d3cd64852fb0d3a64947f88042c1b3e98261ce', 'message': 'Configure CI for bugfix/8.3\n\nChange-Id: Ia7bf15e98f3e036bdf30dbb55d252a67faf9832d\n'}]",0,822338,d2d3cd64852fb0d3a64947f88042c1b3e98261ce,8,3,1,10239,,,0,"Configure CI for bugfix/8.3

Change-Id: Ia7bf15e98f3e036bdf30dbb55d252a67faf9832d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/38/822338/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,d2d3cd64852fb0d3a64947f88042c1b3e98261ce,, - name: openstack/devstack override-checkout: master - name: openstack/ironic override-checkout: bugfix/19.0 - name: openstack/ironic-inspector override-checkout: bugfix/10.9 required-projects: - name: openstack/devstack override-checkout: master - name: openstack/ironic override-checkout: bugfix/19.0 - openstack/ironic-lib - name: openstack/devstack override-checkout: master - name: openstack/metalsmith override-checkout: master - name: openstack/ironic-python-agent-builder override-checkout: master, - openstack/ironic-inspector - openstack/ironic-python-agent-builder,18,2
openstack%2Fpython-manilaclient~master~I24cd94e1744f21a75a16926b328dc7d53c142adc,openstack/python-manilaclient,master,I24cd94e1744f21a75a16926b328dc7d53c142adc,Bump max API microversion,MERGED,2021-12-20 20:51:26.000000000,2022-01-05 17:05:46.000000000,2022-01-05 17:03:57.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-20 20:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2c9c47d0bd25d136f716c7e4b31bde252feb0b0a', 'message': 'Bump max API microversion\n\nManila is now capable of successfully filter share group types\nconsidering its extra specs. This change bumps the microversion\nso clients can benefit from that change.\n\nImplements: blueprint support-group-spec-search-share-group-type-api\nChange-Id: I24cd94e1744f21a75a16926b328dc7d53c142adc\n'}, {'number': 2, 'created': '2021-12-20 20:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/187c4ec42ae3944d548f57c6dfc65af32ec134ba', 'message': 'Bump max API microversion\n\nManila is now capable of successfully filter share group types\nconsidering its extra specs. This change bumps the microversion\nso clients can benefit from that change.\n\nImplements: blueprint support-group-spec-search-share-group-type-api\nDepends-On: https://review.opendev.org/c/openstack/manila/+/821002\nChange-Id: I24cd94e1744f21a75a16926b328dc7d53c142adc\n'}, {'number': 3, 'created': '2022-01-03 17:31:11.000000000', 'files': ['manilaclient/api_versions.py', 'releasenotes/notes/bp-support-group-spec-search-share-group-type-api-d5d9a6096f084b91.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/043f34b079cdd583b18793f8a2216646c43aa322', 'message': 'Bump max API microversion\n\nManila is now capable of successfully filter share group types\nconsidering its extra specs. This change bumps the microversion\nso clients can benefit from that change.\n\nImplements: blueprint support-group-spec-search-share-group-type-api\nDepends-On: https://review.opendev.org/c/openstack/manila/+/821002\nChange-Id: I24cd94e1744f21a75a16926b328dc7d53c142adc\n'}]",5,822362,043f34b079cdd583b18793f8a2216646c43aa322,14,3,3,29632,,,0,"Bump max API microversion

Manila is now capable of successfully filter share group types
considering its extra specs. This change bumps the microversion
so clients can benefit from that change.

Implements: blueprint support-group-spec-search-share-group-type-api
Depends-On: https://review.opendev.org/c/openstack/manila/+/821002
Change-Id: I24cd94e1744f21a75a16926b328dc7d53c142adc
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/62/822362/3 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/api_versions.py'],1,2c9c47d0bd25d136f716c7e4b31bde252feb0b0a,,MAX_VERSION = '2.66',MAX_VERSION = '2.65',1,1
openstack%2Fpuppet-nova~master~Ie89388fa4d18746a0c0025997399576f61717153,openstack/puppet-nova,master,Ie89388fa4d18746a0c0025997399576f61717153,Remove deprecated nova::ironic::common::api_endpoint,MERGED,2022-01-03 03:51:20.000000000,2022-01-05 17:00:28.000000000,2022-01-05 16:58:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 03:51:20.000000000', 'files': ['manifests/ironic/common.pp', 'releasenotes/notes/remove-ironic-api_endpoint-696cf06a78d7c2ad.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/55d0903b7a1bac0616442207acb68b563e5633cf', 'message': 'Remove deprecated nova::ironic::common::api_endpoint\n\n... because this paraeter was deprecated during Ussuri cycle[1].\n\n[1] c2e40bceab81eccbb2012caf5d8c75077724c5b4\n\nChange-Id: Ie89388fa4d18746a0c0025997399576f61717153\n'}]",1,823246,55d0903b7a1bac0616442207acb68b563e5633cf,12,3,1,9816,,,0,"Remove deprecated nova::ironic::common::api_endpoint

... because this paraeter was deprecated during Ussuri cycle[1].

[1] c2e40bceab81eccbb2012caf5d8c75077724c5b4

Change-Id: Ie89388fa4d18746a0c0025997399576f61717153
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/46/823246/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ironic/common.pp', 'releasenotes/notes/remove-ironic-api_endpoint-696cf06a78d7c2ad.yaml']",2,55d0903b7a1bac0616442207acb68b563e5633cf,,--- features: - | The ``nova::ironic::common::api_endpoint`` parameter has been removed. ,,4,13
openstack%2Fkolla-ansible~master~I6c2c1a89500cad6535cadb291b7e6774d01bfb62,openstack/kolla-ansible,master,I6c2c1a89500cad6535cadb291b7e6774d01bfb62,Add multi dhcp-range support for ironic-dnsmasq.conf,ABANDONED,2021-12-31 15:20:16.000000000,2022-01-05 16:47:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-31 15:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d83dc453c5516421bf122bfeb7179bce6b71ee26', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 2, 'created': '2021-12-31 15:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5b33fa84aff4d562d2ec38e9e5a8dbdf022506b', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 3, 'created': '2021-12-31 15:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/91098b3a91a1d3ed838acca7ca923690b3174676', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 4, 'created': '2022-01-03 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8bd79580c999ae56c9ec93742a999e7c775b134c', 'message': 'Readd missing endif tag\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 5, 'created': '2022-01-03 09:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/caaf23ff0ecf8cb020ac1ee2846696174fb922ce', 'message': 'Readd missing endif tag\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 6, 'created': '2022-01-03 09:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ed934c479d547f21b8d27d39afa7c0e1e715de0', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 7, 'created': '2022-01-03 10:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28dcab8abb2fd4b0af311b58d7ad01b4835e1c60', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 8, 'created': '2022-01-03 16:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0524b40815c27c85bf52730969c42857881b436', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 9, 'created': '2022-01-05 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d414d0688433f308525cdb08f74cc38a9290860', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 10, 'created': '2022-01-05 13:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00cbf495f3fa7be095ac79d077cccfa878a94c83', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}, {'number': 11, 'created': '2022-01-05 13:12:47.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/multi-dhcp-range-ironic-9503d740bd714748.yaml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9096a239de526a210bcf8d3665c666857b484996', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nFixed reno for tox errors\n\nChange-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62\n'}]",6,823216,9096a239de526a210bcf8d3665c666857b484996,25,1,11,34391,,,0,"Add multi dhcp-range support for ironic-dnsmasq.conf

Fixed reno for tox errors

Change-Id: I6c2c1a89500cad6535cadb291b7e6774d01bfb62
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/823216/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'etc/kolla/globals.yml']",2,d83dc453c5516421bf122bfeb7179bce6b71ee26,,"# Optionally you can set the multi dhcp range variant below, the value format is: #ironic_dnsmasq_dhcp_multi: # - tag: range1 # pool_start: 10.0.0.5 # pool_end: 10.0.0.100 # pool_subnet: 255.255.255.0 # pool_default_gateway: 10.0.0.1 # - tag: range2 # pool_start: 10.0.1.5 # pool_end: 10.0.1.100 # pool_subnet: 255.255.255.0 # pool_default_gateway: 10.0.1.1",,24,6
openstack%2Fkolla~stable%2Fvictoria~I423db39e77f337a73d3d88e3dbd56469be45110b,openstack/kolla,stable/victoria,I423db39e77f337a73d3d88e3dbd56469be45110b,Fix variable name,MERGED,2022-01-05 10:12:01.000000000,2022-01-05 16:17:49.000000000,2022-01-05 16:15:50.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-01-05 10:12:01.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/464d1517534fddefc70367abd19cb0acc8c6d694', 'message': ""Fix variable name\n\nTrivialFix\n\nThe customization format of the variable name should contain the\n<image_name> [1]. This change fixes the name of the 'remote_apt_keys'\nvariable in base Dockerfile.\n\n1. https://docs.openstack.org/kolla/latest/admin/image-building.html#dockerfile-customisation\n\nChange-Id: I423db39e77f337a73d3d88e3dbd56469be45110b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit cb99f46929298f8e1d939cfca2a1d4831cd1efca)\n(cherry picked from commit c8d3709436c6bc0f9d6bc8c038f3f3fb64dd6cb1)\n""}]",0,823455,464d1517534fddefc70367abd19cb0acc8c6d694,9,4,1,14826,,,0,"Fix variable name

TrivialFix

The customization format of the variable name should contain the
<image_name> [1]. This change fixes the name of the 'remote_apt_keys'
variable in base Dockerfile.

1. https://docs.openstack.org/kolla/latest/admin/image-building.html#dockerfile-customisation

Change-Id: I423db39e77f337a73d3d88e3dbd56469be45110b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit cb99f46929298f8e1d939cfca2a1d4831cd1efca)
(cherry picked from commit c8d3709436c6bc0f9d6bc8c038f3f3fb64dd6cb1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/823455/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,464d1517534fddefc70367abd19cb0acc8c6d694,customizable-variable-fix-stable/wallaby-stable/victoria, {% set base_remote_apt_keys = [ {% set base_remote_apt_keys = [ {% for key in base_remote_apt_keys | customizable('remote_apt_keys') %}, {% set remote_apt_keys = [ {% set remote_apt_keys = [ {% for key in remote_apt_keys | customizable('remote_apt_keys') %},3,3
openstack%2Fcharm-mysql-innodb-cluster~master~I8f65f84ea6e853ad4f6c43fa7981f78620694b17,openstack/charm-mysql-innodb-cluster,master,I8f65f84ea6e853ad4f6c43fa7981f78620694b17,Adds force_quorum_using_partition_of support,ABANDONED,2021-03-09 05:29:08.000000000,2022-01-05 16:09:40.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-09 05:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/71822bf46deca5bc034d0aa21cea73186da3f55a', 'message': 'WIP: Adds force_quorum_using_partition_of support\n\nIn the case of network connectivity issues to MySQL InnoDB\ncluster, there is a possibility to lose cluster quorum.\nThere are required additional steps to restore it, hence\nprovided additional charm comand.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n'}, {'number': 2, 'created': '2021-03-09 14:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/6d029533bf6b34659ef46de4ed86f4e2c6c0804c', 'message': 'WIP: Adds force_quorum_using_partition_of support\n\nIn the case of network connectivity issues to MySQL InnoDB\ncluster, there is a possibility to lose cluster quorum.\nThere are required additional steps to restore it, hence\nprovided additional charm comand.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n'}, {'number': 3, 'created': '2021-03-10 17:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/9c3a75550b58bd54a8e8bd84a48bf6f255abe061', 'message': 'WIP: Adds force_quorum_using_partition_of support\n\nIn the case of network connectivity issues to MySQL InnoDB\ncluster, there is a possibility to lose cluster quorum.\nThere are required additional steps to restore it, hence\nprovided additional charm comand.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n'}, {'number': 4, 'created': '2021-03-19 21:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/6bb7e5208562191408c3644927910e112130b6ce', 'message': 'Adds force_quorum_using_partition_of support\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n'}, {'number': 5, 'created': '2021-03-19 22:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/2444ae5860eeca4293bcbc13c6c6fd837531d41c', 'message': 'Adds force_quorum_using_partition_of support\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n'}, {'number': 6, 'created': '2021-03-19 22:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5b0c25c7783c8c832904521372761a0dece4861f', 'message': 'Adds force_quorum_using_partition_of support\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n'}, {'number': 7, 'created': '2021-03-29 23:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b393ea62a0c44a2597333be60ed3e4bb18dbfc44', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 8, 'created': '2021-03-30 17:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7e6f7c1d67492157edb44533292b5ff457d8bba5', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 9, 'created': '2021-04-01 02:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c7e47446462ac937ea44f52f6c1c27e3055ad8d9', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 10, 'created': '2021-04-01 05:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f1bb93cc0d18a68ecbd0e560e53f616b4006af16', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 11, 'created': '2021-04-01 23:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/1d842e0868658a66efe230615d930f01ce2bdddf', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 12, 'created': '2021-04-01 23:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b71c0a405d1501ee7e926fb5d2efaa73fe467499', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 13, 'created': '2021-04-02 03:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/dde449fd9367560f9c78dceb4a8a8889bc7968b8', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/536\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 14, 'created': '2021-04-02 20:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b9f076a015f4ce7c9a824db4561bd53cc68daabf', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 15, 'created': '2021-04-06 23:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c803505a358e59e4909f9e6dfc2b697dc12d06eb', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 16, 'created': '2021-04-12 20:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5d1f74654c3809724c9a053b51ba8bbfc95586b7', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 17, 'created': '2021-04-20 14:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/70cd60d7afab69fcfdd7a046044b6a33c64c05f5', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}, {'number': 18, 'created': '2021-04-20 22:44:07.000000000', 'files': ['src/README.md', 'src/actions.yaml', 'src/actions/force-quorum-using-partition-of', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/87cadcdf0aad6304d2553b592d16565fcd45d188', 'message': ""Adds force_quorum_using_partition_of support\n\nIn case of instance fail, a cluster can lose its quorum. It means that\nit doesn't have the ability to vote for new primary instance. It might\nhappen when there is no longer a majority of the instances which make up\nthe cluster.\nDuring such an event, cluster cannot process write transactions, or\nchange its topology (adding, removing or rejoining instances).\nIt is possible to restore a cluster with quorum, if there is an instance\nonline which contains the InnoDB Cluster metadata.\n\nTo allow the Operator to recover from such a scenario, they need to\nissue a command `force_qourum_using_partition_of` and specify correct\ninstance.\n\nCloses-Bug: #1917332\nChange-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\n""}]",22,779427,87cadcdf0aad6304d2553b592d16565fcd45d188,118,6,18,14611,,,0,"Adds force_quorum_using_partition_of support

In case of instance fail, a cluster can lose its quorum. It means that
it doesn't have the ability to vote for new primary instance. It might
happen when there is no longer a majority of the instances which make up
the cluster.
During such an event, cluster cannot process write transactions, or
change its topology (adding, removing or rejoining instances).
It is possible to restore a cluster with quorum, if there is an instance
online which contains the InnoDB Cluster metadata.

To allow the Operator to recover from such a scenario, they need to
issue a command `force_qourum_using_partition_of` and specify correct
instance.

Closes-Bug: #1917332
Change-Id: I8f65f84ea6e853ad4f6c43fa7981f78620694b17
Signed-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/27/779427/18 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py']",3,71822bf46deca5bc034d0aa21cea73186da3f55a,bug/1917332,"def force_quorum_using_partition_of(args): """"""Restores the cluster from quorum loss. Execute dba.forceQuorumUsingPartitionOf() after the cluster has been affected by loss of quorum scenario. Such a scenario can occur if a group is partitioned or more crashes than tolerable occur. NOTE: This operation is dangerous. It can create split-brain if incorrectly used and should be considered a last resort. Make sure that there are no partitions of this group still operating somewhere in the network, but not accessible from this instance. :param args: sys.argv :type args: sys.argv :side effect: Calls instance.force_quorum_using_partition_of and instance.rejoin_instance on its peers. :returns: This function is called for its side effect :rtype: None :action param address: String address of the cluster leader instance to be joined with :action return: Dictionary with command output """""" leader_address = ch_core.hookenv.action_get(""address"") try: output = """" with charm.provide_charm_instance() as instance: for address in instance.cluster_peer_addresses: if leader_address == address: continue output += instance.force_quorum_using_partition_of( leader_address) output += instance.rejoin_instance(address) instance.assess_status() ch_core.hookenv.action_set({ ""output"": output, ""outcome"": ""Success""} ) except subprocess.CalledProcessError as e: ch_core.hookenv.action_set({ ""output"": e.stderr.decode(""UTF-8""), ""return-code"": e.returncode, ""traceback"": traceback.format_exc()}) ch_core.hookenv.action_fail( ""Force quorum failed."") ""cluster-rescan"": cluster_rescan, ""force-quorum-using-partition-of"": force_quorum_using_partition_of, }"," ""cluster-rescan"": cluster_rescan}",91,1
openstack%2Freleases~master~I09d6a2149f5c431841ef9e33ca7636db00be8040,openstack/releases,master,I09d6a2149f5c431841ef9e33ca7636db00be8040,Stable releases for neutron-dynamic-routing,MERGED,2021-12-19 08:59:16.000000000,2022-01-05 15:54:55.000000000,2022-01-05 15:54:55.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-19 08:59:16.000000000', 'files': ['deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/xena/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6fddacb90443f9e3db45d845945c07603ac7eb3f', 'message': 'Stable releases for neutron-dynamic-routing\n\nImportant bug fix for some users.\n\nChange-Id: I09d6a2149f5c431841ef9e33ca7636db00be8040\n'}]",2,822257,6fddacb90443f9e3db45d845945c07603ac7eb3f,10,6,1,13252,,,0,"Stable releases for neutron-dynamic-routing

Important bug fix for some users.

Change-Id: I09d6a2149f5c431841ef9e33ca7636db00be8040
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/822257/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/xena/neutron-dynamic-routing.yaml']",2,6fddacb90443f9e3db45d845945c07603ac7eb3f,ndr-stable, - version: 19.1.0 projects: - repo: openstack/neutron-dynamic-routing hash: 3d5eddd70bccc6fad048afccb35099a1648f804c,,8,0
openstack%2Freleases~master~Iaeb9d4b96d0e76e430eb57687b8d92f74128b1a4,openstack/releases,master,Iaeb9d4b96d0e76e430eb57687b8d92f74128b1a4,Release ovsdbapp 1.14.0 for yoga,MERGED,2021-12-02 21:08:22.000000000,2022-01-05 15:48:13.000000000,2022-01-05 15:48:13.000000000,"[{'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-02 21:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7f0b7f0f1f9389ea328430120e9c5b42d27c7a11', 'message': 'Release ovsdbapp 1.14.0 for yoga\n\nChange-Id: Iaeb9d4b96d0e76e430eb57687b8d92f74128b1a4\n'}, {'number': 2, 'created': '2022-01-04 22:40:00.000000000', 'files': ['deliverables/yoga/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/742dd642369f8dc69c25af42bbcdbf0074d8f2b0', 'message': 'Release ovsdbapp 1.14.0 for yoga\n\nChange-Id: Iaeb9d4b96d0e76e430eb57687b8d92f74128b1a4\n'}]",2,820264,742dd642369f8dc69c25af42bbcdbf0074d8f2b0,12,7,2,5756,,,0,"Release ovsdbapp 1.14.0 for yoga

Change-Id: Iaeb9d4b96d0e76e430eb57687b8d92f74128b1a4
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/820264/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ovsdbapp.yaml'],1,7f0b7f0f1f9389ea328430120e9c5b42d27c7a11,, - version: 1.14.0 projects: - repo: openstack/ovsdbapp hash: 2b9846301bde7d926db193eab83474be66917767,,4,0
openstack%2Fkayobe~stable%2Fxena~Ide13ad5d39388a3d484bb0285adf49e978239515,openstack/kayobe,stable/xena,Ide13ad5d39388a3d484bb0285adf49e978239515,Build neutron-sriov-agent image when enabled,MERGED,2022-01-05 11:46:44.000000000,2022-01-05 15:39:41.000000000,2022-01-05 15:37:11.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-05 11:46:44.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b89b7a7366998d5bbb91186ccabbaf67b1b6ff62', 'message': 'Build neutron-sriov-agent image when enabled\n\nSet kolla_enable_neutron_sriov, and the neutron-sriov-agent image does\nnot get built. This change fixes the issue.\n\nStory: 2009275\nTask: 43530\nChange-Id: Ide13ad5d39388a3d484bb0285adf49e978239515\n(cherry picked from commit a669ccfa26c430ef634efa1f2e85a1b68b534ccd)\n'}]",0,823459,b89b7a7366998d5bbb91186ccabbaf67b1b6ff62,8,3,1,14826,,,0,"Build neutron-sriov-agent image when enabled

Set kolla_enable_neutron_sriov, and the neutron-sriov-agent image does
not get built. This change fixes the issue.

Story: 2009275
Task: 43530
Change-Id: Ide13ad5d39388a3d484bb0285adf49e978239515
(cherry picked from commit a669ccfa26c430ef634efa1f2e85a1b68b534ccd)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/823459/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml']",2,b89b7a7366998d5bbb91186ccabbaf67b1b6ff62,,--- fixes: - | Fixes an issue where the Neutron SR-IOV agent image is not built when the service is enabled. ,,8,0
openstack%2Freleases~master~I91924fab713ecb7c082b7cdb14318200ffe37ec2,openstack/releases,master,I91924fab713ecb7c082b7cdb14318200ffe37ec2,Propose to EOL Kuryr stable branches,MERGED,2021-12-02 11:07:12.000000000,2022-01-05 15:35:40.000000000,2022-01-05 15:35:40.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-02 11:07:12.000000000', 'files': ['deliverables/rocky/kuryr.yaml', 'deliverables/queens/kuryr-libnetwork.yaml', 'deliverables/queens/kuryr.yaml', 'deliverables/stein/kuryr-libnetwork.yaml', 'deliverables/queens/kuryr-kubernetes.yaml', 'deliverables/stein/kuryr-kubernetes.yaml', 'deliverables/rocky/kuryr-kubernetes.yaml', 'deliverables/rocky/kuryr-libnetwork.yaml', 'deliverables/pike/kuryr-kubernetes.yaml', 'deliverables/stein/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c73283db04efa831a33849d467aa8d2fbb3c11a5', 'message': ""Propose to EOL Kuryr stable branches\n\nThe are multiple stable branches in all Kuryr\nrelated projects that didn't receive any backports\nfor a while. This patch proposes to create eol tags\nfor all Kuryr projects for the branches pike, queens,\nrocky and stein.\n\nChange-Id: I91924fab713ecb7c082b7cdb14318200ffe37ec2\n""}]",6,820144,c73283db04efa831a33849d467aa8d2fbb3c11a5,15,5,1,27032,,,0,"Propose to EOL Kuryr stable branches

The are multiple stable branches in all Kuryr
related projects that didn't receive any backports
for a while. This patch proposes to create eol tags
for all Kuryr projects for the branches pike, queens,
rocky and stein.

Change-Id: I91924fab713ecb7c082b7cdb14318200ffe37ec2
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/820144/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/kuryr.yaml', 'deliverables/queens/kuryr-libnetwork.yaml', 'deliverables/queens/kuryr.yaml', 'deliverables/stein/kuryr-libnetwork.yaml', 'deliverables/queens/kuryr-kubernetes.yaml', 'deliverables/stein/kuryr-kubernetes.yaml', 'deliverables/rocky/kuryr-kubernetes.yaml', 'deliverables/rocky/kuryr-libnetwork.yaml', 'deliverables/pike/kuryr-kubernetes.yaml', 'deliverables/stein/kuryr.yaml']",10,c73283db04efa831a33849d467aa8d2fbb3c11a5,eol-stale-kuryr-branches, - version: stein-eol projects: - repo: openstack/kuryr hash: 41eb5d60bbc218871da7b317513259ab6260665b,,40,0
openstack%2Freleases~master~I817a5bcaf3720603ccc1445aca4d5d4e0c88fb97,openstack/releases,master,I817a5bcaf3720603ccc1445aca4d5d4e0c88fb97,New neutron-lib release,MERGED,2022-01-03 08:24:46.000000000,2022-01-05 15:34:28.000000000,2022-01-05 15:34:28.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-03 08:24:46.000000000', 'files': ['deliverables/yoga/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c84cc6c27b7c2e02cad81d73babdc5f8d332306a', 'message': ""New neutron-lib release\n\nIt's just bugfix release as there are only 2 new patches there.\nBut one of them is [1] which is needed to make further investigation\non the gate failure bug so would be good to have it releases ASAP.\n\n[1] https://review.opendev.org/c/openstack/neutron-lib/+/822817\n\nRelated-bug: #1953478\nChange-Id: I817a5bcaf3720603ccc1445aca4d5d4e0c88fb97\n""}]",2,823253,c84cc6c27b7c2e02cad81d73babdc5f8d332306a,9,7,1,11975,,,0,"New neutron-lib release

It's just bugfix release as there are only 2 new patches there.
But one of them is [1] which is needed to make further investigation
on the gate failure bug so would be good to have it releases ASAP.

[1] https://review.opendev.org/c/openstack/neutron-lib/+/822817

Related-bug: #1953478
Change-Id: I817a5bcaf3720603ccc1445aca4d5d4e0c88fb97
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/823253/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/neutron-lib.yaml'],1,c84cc6c27b7c2e02cad81d73babdc5f8d332306a,new-neutron-lib-release, - version: 2.18.1 projects: - repo: openstack/neutron-lib hash: 76b9a095918c02fa90e1cc6f1a481b3a40938b3b,,4,0
openstack%2Ftripleo-validations~master~I79b07f1929e81cfd162f3e191287da254f88c3ae,openstack/tripleo-validations,master,I79b07f1929e81cfd162f3e191287da254f88c3ae,undercloud-debug validation documentation improvement,MERGED,2021-08-24 13:35:33.000000000,2022-01-05 15:34:19.000000000,2022-01-05 15:32:23.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-24 13:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3a53e8de160fb99d2831e6c9782dfea00de5e442', 'message': 'undercloud-debug validation refactor\n\nDepens-On: https://review.opendev.org/c/openstack/validations-common/+/805843\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 2, 'created': '2021-09-01 13:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/61804f0b27035d64b6284a8a9f157b17f752fb11', 'message': 'undercloud-debug validation refactor\n\nDepens-On: https://review.opendev.org/c/openstack/validations-common/+/805843\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 3, 'created': '2021-09-01 15:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/045fb6419ade184d5d867363f6fa7e59c539376f', 'message': 'undercloud-debug validation refactor\n\nDepens-On: https://review.opendev.org/c/openstack/validations-common/+/805843\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 4, 'created': '2021-09-02 06:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fdee4deaa16ae53ecb09f566253fcf9ead50164a', 'message': 'undercloud-debug validation refactor\n\nDepens-On: https://review.opendev.org/c/openstack/validations-common/+/805843\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 5, 'created': '2021-09-02 07:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fb4fb70afeccd0f04df30477632de25e660000ed', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 6, 'created': '2021-09-02 08:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3904f919968cc9e6b895ab407926aa8fe775ccb3', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 7, 'created': '2021-09-13 09:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cb6d16bd28dfb372688d9729dffa444bd3c38b56', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 8, 'created': '2021-09-13 10:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6bab8d50dfdf636e7348652fb4a85b55ebe30e49', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 9, 'created': '2021-09-13 10:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8d0f2b3195e0670d4c4f719dca65619bd8242a3', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 10, 'created': '2021-09-14 09:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a05e0e86058706c7f121306f0e891ee928d8cc5d', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 11, 'created': '2021-09-27 10:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bf000b49d19ef89fa6c3194df57528c9d4a495ee', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 12, 'created': '2021-10-13 20:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d0fbc459db83e5290b1470305864bf921182e05b', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 13, 'created': '2021-12-13 11:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/20fc7a102ceb83eacf4d1a4e0ec81f9919c5cdd9', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 14, 'created': '2022-01-03 09:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/794b7fdc2ce8ed7ffbe7222170d5e37bba6fa1cb', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nRelated-Bug: #1942508\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 15, 'created': '2022-01-03 11:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/19d7a84ab2b956753eedc0176bb527a1f699cba2', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nRelated-Bug: #1942508\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}, {'number': 16, 'created': '2022-01-05 06:51:58.000000000', 'files': ['roles/undercloud_debug/vars/main.yaml', 'roles/undercloud_debug/README.md', 'roles/undercloud_debug/tasks/main.yml', 'doc/source/roles/role-undercloud_debug.rst', 'roles/undercloud_debug/defaults/main.yml', 'playbooks/undercloud-debug.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6cbeeb4c2c7cd70d76b2d258cf595d86b54e0775', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nRelated-Bug: #1942508\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n'}]",9,805852,6cbeeb4c2c7cd70d76b2d258cf595d86b54e0775,44,6,16,32926,,,0,"undercloud-debug validation documentation improvement

Documentation of the validation was adjusted to reflect actual
mechanism of operation, with the goal of preventing confusion
on the side of the customer.

Related-Bug: #1942508

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/52/805852/16 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_debug/README.md', 'roles/undercloud_debug/tasks/main.yml']",2,3a53e8de160fb99d2831e6c9782dfea00de5e442,undercloud-debug," failed_when: ""debug_check|bool == config_result.value|bool"""," failed_when: ""debug_check|bool == config_result.value|bool""",5,3
openstack%2Fkayobe~stable%2Fwallaby~Ide13ad5d39388a3d484bb0285adf49e978239515,openstack/kayobe,stable/wallaby,Ide13ad5d39388a3d484bb0285adf49e978239515,Build neutron-sriov-agent image when enabled,MERGED,2022-01-05 11:51:03.000000000,2022-01-05 15:32:23.000000000,2022-01-05 15:28:38.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-05 11:51:03.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b08a2197e4e448e151e74c26e97eebc4dc8a25d0', 'message': 'Build neutron-sriov-agent image when enabled\n\nSet kolla_enable_neutron_sriov, and the neutron-sriov-agent image does\nnot get built. This change fixes the issue.\n\nStory: 2009275\nTask: 43530\nChange-Id: Ide13ad5d39388a3d484bb0285adf49e978239515\n(cherry picked from commit a669ccfa26c430ef634efa1f2e85a1b68b534ccd)\n'}]",0,823460,b08a2197e4e448e151e74c26e97eebc4dc8a25d0,8,3,1,14826,,,0,"Build neutron-sriov-agent image when enabled

Set kolla_enable_neutron_sriov, and the neutron-sriov-agent image does
not get built. This change fixes the issue.

Story: 2009275
Task: 43530
Change-Id: Ide13ad5d39388a3d484bb0285adf49e978239515
(cherry picked from commit a669ccfa26c430ef634efa1f2e85a1b68b534ccd)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/60/823460/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml']",2,b08a2197e4e448e151e74c26e97eebc4dc8a25d0,,--- fixes: - | Fixes an issue where the Neutron SR-IOV agent image is not built when the service is enabled. ,,8,0
openstack%2Fkayobe~stable%2Fwallaby~I025532156de831a0e7d025d61601a38202de10ff,openstack/kayobe,stable/wallaby,I025532156de831a0e7d025d61601a38202de10ff,ipa: Use openstack_branch instead of master,MERGED,2022-01-04 10:39:38.000000000,2022-01-05 15:30:57.000000000,2022-01-05 15:28:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 10:39:38.000000000', 'files': ['ansible/group_vars/all/ipa', 'releasenotes/notes/ipa-branch-b29c377c531013a8.yaml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/933cf53cdd75af62e93c9faebcc1464bca35bd20', 'message': ""ipa: Use openstack_branch instead of master\n\nironic-python-agent-builder has stable branches since Wallaby -\nlet's use them.\n\nAlso as per ipab docs [1] - the env vars for overriding ipa repo\nare:\n- DIB_REPOREF_ironic_python_agent\n- DIB_REPOLOCATION_ironic_python_agent\n\n[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building\n\nStory: 2009755\nTask: 44224\n\nChange-Id: I025532156de831a0e7d025d61601a38202de10ff\n(cherry picked from commit b62a9aaefc593f6d0e99d63ac36338321d364b35)\n""}]",0,823354,933cf53cdd75af62e93c9faebcc1464bca35bd20,8,3,1,22629,,,0,"ipa: Use openstack_branch instead of master

ironic-python-agent-builder has stable branches since Wallaby -
let's use them.

Also as per ipab docs [1] - the env vars for overriding ipa repo
are:
- DIB_REPOREF_ironic_python_agent
- DIB_REPOLOCATION_ironic_python_agent

[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building

Story: 2009755
Task: 44224

Change-Id: I025532156de831a0e7d025d61601a38202de10ff
(cherry picked from commit b62a9aaefc593f6d0e99d63ac36338321d364b35)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/54/823354/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/ipa', 'releasenotes/notes/ipa-branch-b29c377c531013a8.yaml', 'etc/kayobe/ipa.yml']",3,933cf53cdd75af62e93c9faebcc1464bca35bd20,,# Version of IPA builder source repository. Default is {{ openstack_branch }}.,# Version of IPA builder source repository. Default is master.,11,5
openstack%2Fcharm-vault~master~Id35d253a13df85f41ec11c8615a2d67b8fad8aa4,openstack/charm-vault,master,Id35d253a13df85f41ec11c8615a2d67b8fad8aa4,Add root-ca expiration check to Nagios vault health check,ABANDONED,2021-12-08 09:15:59.000000000,2022-01-05 15:22:41.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 09:15:59.000000000', 'files': ['test-requirements.txt', 'src/files/nagios/check_vault_health.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2ccb9f4e65fd7bff4f49c1825af9b5e3218dc437', 'message': 'Add root-ca expiration check to Nagios vault\nhealth check\n\nCurrently there is no automation in root-ca expiration check.\nThis change is to report root-ca certificate expiration to Nagios.\n\nChange-Id: Id35d253a13df85f41ec11c8615a2d67b8fad8aa4\n'}]",2,820990,2ccb9f4e65fd7bff4f49c1825af9b5e3218dc437,5,2,1,34063,,,0,"Add root-ca expiration check to Nagios vault
health check

Currently there is no automation in root-ca expiration check.
This change is to report root-ca certificate expiration to Nagios.

Change-Id: Id35d253a13df85f41ec11c8615a2d67b8fad8aa4
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/90/820990/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/files/nagios/check_vault_health.py']",2,2ccb9f4e65fd7bff4f49c1825af9b5e3218dc437,root-ca-vault-anna-savchenko,"import OpenSSL from datetime import datetime ROOT_CA_URL = 'http://127.0.0.1:8200/v1/charm-pki-local/ca/pem'def get_root_ca_expiration(verify=True): ctx = None if not verify: ctx = ssl.create_default_context() ctx.check_hostname = False ctx.verify_mode = ssl.CERT_NONE with urlopen(ROOT_CA_URL, context=ctx) as cert: root_ca_cert = cert.read().decode('utf-8') root_ca_cert_x509 = OpenSSL.crypto.load_certificate( OpenSSL.crypto.FILETYPE_PEM, root_ca_cert) notAfter = datetime.strptime( root_ca_cert_x509.get_notAfter().decode('ascii'), '%Y%m%d%H%M%SZ') now = datetime.now() diff = (notAfter - now).days return diff cert_expires_in_days = get_root_ca_expiration() if cert_expires_in_days <= 30: print('WARNING: root-ca-certificate will expire in ' '{} days'.format(cert_expires_in_days)) sys.exit(1) ",,33,0
openstack%2Fkolla-ansible~stable%2Fxena~Id454c693f570e99ea58d2a6231f01a84b80ca56a,openstack/kolla-ansible,stable/xena,Id454c693f570e99ea58d2a6231f01a84b80ca56a,Add ironic-inspector policy configuration,MERGED,2021-12-30 18:52:43.000000000,2022-01-05 15:10:36.000000000,2022-01-05 15:08:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-30 18:52:43.000000000', 'files': ['releasenotes/notes/bug-1952948-003aabe18144f569.yaml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/837a2fd4ab8e107eadd682fb8d751f09ceeea973', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n(cherry picked from commit 590cd71893b853f2ccc36a5e3cfe6be9e0702c74)\n'}]",2,823209,837a2fd4ab8e107eadd682fb8d751f09ceeea973,15,4,1,14200,,,0,"Add ironic-inspector policy configuration

Fix configuration for ironic role in order to apply custom
policies for ironic-inspector API

Closes-Bug: #1952948
Change-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a
(cherry picked from commit 590cd71893b853f2ccc36a5e3cfe6be9e0702c74)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/823209/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1952948-003aabe18144f569.yaml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2']",3,837a2fd4ab8e107eadd682fb8d751f09ceeea973,ironic-inspector-policy," }{% if ironic_inspector_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ ironic_inspector_policy_file }}"", ""dest"": ""/etc/ironic-inspector/{{ ironic_inspector_policy_file }}"", ""owner"": ""ironic-inspector"","," }{% if ironic_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ ironic_policy_file }}"", ""dest"": ""/etc/ironic/{{ ironic_policy_file }}"", ""owner"": ""ironic"",",49,7
openstack%2Fkeystone~master~I002f935b9720a69df0e05842dc9b3192d5da661d,openstack/keystone,master,I002f935b9720a69df0e05842dc9b3192d5da661d,"fix error, if two password create same time, maybe the password not correct",ABANDONED,2022-01-05 14:41:29.000000000,2022-01-05 15:01:24.000000000,,[],"[{'number': 1, 'created': '2022-01-05 14:41:29.000000000', 'files': ['keystone/identity/backends/sql_model.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed6d2230a6e459f192ae070c5e54a660cc6ed625', 'message': 'fix error, if two password create same time, maybe the password not correct\n\nChange-Id: I002f935b9720a69df0e05842dc9b3192d5da661d\n'}]",0,823541,ed6d2230a6e459f192ae070c5e54a660cc6ed625,2,0,1,34392,,,0,"fix error, if two password create same time, maybe the password not correct

Change-Id: I002f935b9720a69df0e05842dc9b3192d5da661d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/41/823541/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/sql_model.py'],1,ed6d2230a6e459f192ae070c5e54a660cc6ed625,fix_password_error," order_by='[Password.created_at_int,Password.id]')"," order_by='[Password.created_at_int,Password.id')",1,1
openstack%2Fkeystone~master~I96883936c75a568261aafe244b9c732f6644ecc0,openstack/keystone,master,I96883936c75a568261aafe244b9c732f6644ecc0,"fix error,if two password create same time, maybe use the password not right",ABANDONED,2022-01-05 14:41:29.000000000,2022-01-05 15:01:04.000000000,,[],"[{'number': 1, 'created': '2022-01-05 14:41:29.000000000', 'files': ['keystone/identity/backends/sql_model.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/da78438d3158071fea98d93533dbee26bd99a424', 'message': 'fix error,if two password create same time, maybe use the password not right\n\nChange-Id: I96883936c75a568261aafe244b9c732f6644ecc0\n'}]",0,823540,da78438d3158071fea98d93533dbee26bd99a424,2,0,1,34392,,,0,"fix error,if two password create same time, maybe use the password not right

Change-Id: I96883936c75a568261aafe244b9c732f6644ecc0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/823540/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/sql_model.py'],1,da78438d3158071fea98d93533dbee26bd99a424,fix_password_error," order_by='[Password.created_at_int,Password.id')", order_by='Password.created_at_int'),1,1
openstack%2Fvitrage~master~I8a8e7f83e156f67900fd68a02945e1749a3e3c9b,openstack/vitrage,master,I8a8e7f83e156f67900fd68a02945e1749a3e3c9b,"remove cielometer client, not used any more",MERGED,2021-12-22 07:23:49.000000000,2022-01-05 15:00:26.000000000,2022-01-05 14:57:56.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 07:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/40fc8ab4f1d60da2866225eb35bafe936d129a27', 'message': 'remove cielometer client, not used any more\n\nChange-Id: I8a8e7f83e156f67900fd68a02945e1749a3e3c9b\n'}, {'number': 2, 'created': '2021-12-22 07:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f5262c739faad498ebb6a5704b3bd4ca864d7b3f', 'message': 'remove cielometer client, not used any more\n\nDepends-On: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\nChange-Id: I8a8e7f83e156f67900fd68a02945e1749a3e3c9b\n'}, {'number': 3, 'created': '2022-01-05 12:33:46.000000000', 'files': ['vitrage/tests/unit/datasources/ceilometer/test_ceilometer_driver.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a0ee94a6c8b441c0ad98466e646dc821720c6f24', 'message': 'remove cielometer client, not used any more\n\nDepends-On: I287572e604fe86ea8a78f37a2c1b1c158d3bf8b0\nChange-Id: I8a8e7f83e156f67900fd68a02945e1749a3e3c9b\n'}]",5,822598,a0ee94a6c8b441c0ad98466e646dc821720c6f24,19,2,3,19134,,,0,"remove cielometer client, not used any more

Depends-On: I287572e604fe86ea8a78f37a2c1b1c158d3bf8b0
Change-Id: I8a8e7f83e156f67900fd68a02945e1749a3e3c9b
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/98/822598/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/tests/unit/datasources/ceilometer/test_ceilometer_driver.py', 'setup.cfg']",2,40fc8ab4f1d60da2866225eb35bafe936d129a27,ceilometerclient,, python-ceilometerclient>=2.9.0,2,2
openstack%2Fpuppet-ceilometer~master~I2a6f5c4c6a185c1bf71c4136dee425afdfc0ce56,openstack/puppet-ceilometer,master,I2a6f5c4c6a185c1bf71c4136dee425afdfc0ce56,Add support for rootwrap.conf,MERGED,2021-12-27 03:05:57.000000000,2022-01-05 14:57:59.000000000,2022-01-05 14:56:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 03:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/2125382cd86c78a210d004cc59f12897798fdd93', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I2a6f5c4c6a185c1bf71c4136dee425afdfc0ce56\n'}, {'number': 2, 'created': '2022-01-03 00:28:30.000000000', 'files': ['lib/puppet/provider/ceilometer_rootwrap_config/ini_setting.rb', 'releasenotes/notes/rootwrap-544101dc45c1220b.yaml', 'spec/unit/type/ceilometer_rootwrap_config_spec.rb', 'lib/puppet/type/ceilometer_rootwrap_config.rb', 'spec/unit/provider/ceilometer_rootwrap_config/ini_setting_spec.rb', 'manifests/deps.pp', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ddeb43dacc61a4181a5420365f1803d7cbb055c8', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I2a6f5c4c6a185c1bf71c4136dee425afdfc0ce56\n'}]",1,822981,ddeb43dacc61a4181a5420365f1803d7cbb055c8,15,4,2,9816,,,0,"Add support for rootwrap.conf

Change-Id: I2a6f5c4c6a185c1bf71c4136dee425afdfc0ce56
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/81/822981/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/ceilometer_rootwrap_config/ini_setting.rb', 'releasenotes/notes/rootwrap-544101dc45c1220b.yaml', 'spec/unit/type/ceilometer_rootwrap_config_spec.rb', 'lib/puppet/type/ceilometer_rootwrap_config.rb', 'spec/unit/provider/ceilometer_rootwrap_config/ini_setting_spec.rb', 'manifests/deps.pp', 'manifests/config.pp']",7,2125382cd86c78a210d004cc59f12897798fdd93,rootwrap,"# [*ceilometer_rootwrap_config*] # (optional) Allow configuration of rootwrap.conf. # $ceilometer_config = {}, $ceilometer_rootwrap_config = {}, validate_legacy(Hash, 'validate_hash', $ceilometer_rootwrap_config) create_resources('ceilometer_rootwrap_config', $ceilometer_rootwrap_config)"," $ceilometer_config = {},",167,1
openstack%2Fkayobe~stable%2Fxena~I7b719aeb20cc63f41280e20063785d77b0334d64,openstack/kayobe,stable/xena,I7b719aeb20cc63f41280e20063785d77b0334d64,Deploy Grafana when Monasca is enabled,MERGED,2022-01-04 09:09:28.000000000,2022-01-05 14:50:51.000000000,2022-01-05 14:48:54.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 09:09:28.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/enable-grafana-with-monasca-497d686e95d89242.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e8ca12efe4a04dfa2a9eddb36a7953b09882187e', 'message': 'Deploy Grafana when Monasca is enabled\n\nThis is necessary to deploy grafana as a replacement for the retired\nmonasca-grafana image.\n\nChange-Id: I7b719aeb20cc63f41280e20063785d77b0334d64\nStory: 2009717\nTask: 44091\n(cherry picked from commit 8ab4530f2620a35bb6049640b45de3a70176269d)\n'}]",0,823305,e8ca12efe4a04dfa2a9eddb36a7953b09882187e,9,3,1,15197,,,0,"Deploy Grafana when Monasca is enabled

This is necessary to deploy grafana as a replacement for the retired
monasca-grafana image.

Change-Id: I7b719aeb20cc63f41280e20063785d77b0334d64
Story: 2009717
Task: 44091
(cherry picked from commit 8ab4530f2620a35bb6049640b45de3a70176269d)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/823305/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/enable-grafana-with-monasca-497d686e95d89242.yaml']",2,e8ca12efe4a04dfa2a9eddb36a7953b09882187e,grafana-monasca-stable/xena,"--- fixes: - | Enables deployment of Grafana when Monasca is enabled, as a replacement for the retired ``monasca-grafana`` image. See `story 2009717 <https://storyboard.openstack.org/#!/story/2009717>`__ for details. ",,8,1
openstack%2Ftripleo-quickstart~master~Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b,openstack/tripleo-quickstart,master,Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b,Exclude libvirt/qemu from AppStream repo,MERGED,2021-11-16 05:27:28.000000000,2022-01-05 14:28:37.000000000,2021-11-16 15:50:43.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 29775}, {'_account_id': 30742}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-11-16 05:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1f0a1be9c733f9799d2892853787eb420c014cd1', 'message': ""Exclude libvirt/qemu from AppStream repo\n\nlibvirt/qemu are rebased to newer version in\nAppStream repo than advanced-virtualization, and\nlikely due to that jobs started failing. Somehow\njobs are passing in releases before wallaby even\nwith newver version.\n\nUnless it get's root caused and get fixed temporary\nexclude libvirt/qemu from AppStream repo.\n\nRelated-Bug: #1950916\nChange-Id: Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b\n""}, {'number': 2, 'created': '2021-11-16 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d666ed70d0e32fa8c94104a2dcaae00b9748bc70', 'message': ""Exclude libvirt/qemu from AppStream repo\n\nlibvirt/qemu are rebased to newer version in\nAppStream repo than advanced-virtualization, and\nlikely due to that jobs started failing. Somehow\njobs are passing in releases before wallaby even\nwith newver version.\n\nUnless it get's root caused and get fixed temporary\nexclude libvirt/qemu from AppStream repo.\n\nRelated-Bug: #1950916\nChange-Id: Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b\n""}, {'number': 3, 'created': '2021-11-16 06:21:02.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/centosci/wallaby-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/trunk/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1d5262a32a2cd8d2b6a3e4659812641f49e17658', 'message': ""Exclude libvirt/qemu from AppStream repo\n\nlibvirt/qemu are rebased to newer version in\nAppStream repo than advanced-virtualization, and\nlikely due to that jobs started failing. Somehow\njobs are passing in releases before wallaby even\nwith newver version.\n\nUnless it get's root caused and get fixed temporary\nexclude libvirt/qemu from AppStream repo.\n\nRelated-Bug: #1950916\nChange-Id: Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b\n""}]",10,818043,1d5262a32a2cd8d2b6a3e4659812641f49e17658,27,9,3,13861,,,0,"Exclude libvirt/qemu from AppStream repo

libvirt/qemu are rebased to newer version in
AppStream repo than advanced-virtualization, and
likely due to that jobs started failing. Somehow
jobs are passing in releases before wallaby even
with newver version.

Unless it get's root caused and get fixed temporary
exclude libvirt/qemu from AppStream repo.

Related-Bug: #1950916
Change-Id: Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/43/818043/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/centosci/wallaby-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/trunk/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",9,1f0a1be9c733f9799d2892853787eb420c014cd1,, exclude: - libvirt* - qemu*,,27,0
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I8d0d0cffb0a554a3322a152f5c1a6d635f14e734,openstack/puppet-openstack-integration,stable/wallaby,I8d0d0cffb0a554a3322a152f5c1a6d635f14e734,Prefetch neutron-tempest-plugin,MERGED,2022-01-03 02:36:10.000000000,2022-01-05 14:28:29.000000000,2022-01-05 14:28:29.000000000,"[{'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 02:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8558c256fb96b6be3a2efd87b904c304d66db6ef', 'message': 'Prefetch neutron-tempest-plugin\n\nThis change makes CI job use prefetched neutron-tempest-plugin codes\ninstead of cloning codes from git.\n\nConflicts:\n        run_tests.sh\n\tzuul.d/base.yaml\n\nChange-Id: I8d0d0cffb0a554a3322a152f5c1a6d635f14e734\n(cherry picked from commit 34d28336f4ccd1fa02741570a27e95d07e754d2f)\n'}, {'number': 2, 'created': '2022-01-03 02:37:24.000000000', 'files': ['run_tests.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e5cb2904c821b1e78226a8084543b14da92e2452', 'message': 'Prefetch neutron-tempest-plugin\n\nThis change makes CI job use prefetched neutron-tempest-plugin codes\ninstead of cloning codes from git.\n\nConflicts:\n        run_tests.sh\n\tzuul.d/base.yaml\n\nChange-Id: I8d0d0cffb0a554a3322a152f5c1a6d635f14e734\n(cherry picked from commit 34d28336f4ccd1fa02741570a27e95d07e754d2f)\n'}]",0,823241,e5cb2904c821b1e78226a8084543b14da92e2452,10,3,2,9816,,,0,"Prefetch neutron-tempest-plugin

This change makes CI job use prefetched neutron-tempest-plugin codes
instead of cloning codes from git.

Conflicts:
        run_tests.sh
	zuul.d/base.yaml

Change-Id: I8d0d0cffb0a554a3322a152f5c1a6d635f14e734
(cherry picked from commit 34d28336f4ccd1fa02741570a27e95d07e754d2f)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/823241/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'zuul.d/base.yaml']",2,8558c256fb96b6be3a2efd87b904c304d66db6ef,neutron-tempest-plugin,<<<<<<< HEAD - name: openstack/neutron-tempest-plugin override-checkout: 1.4.0,,12,2
openstack%2Fvitrage-tempest-plugin~master~I287572e604fe86ea8a78f37a2c1b1c158d3bf8b0,openstack/vitrage-tempest-plugin,master,I287572e604fe86ea8a78f37a2c1b1c158d3bf8b0,ignore a gnocchi test that sometime fails,MERGED,2022-01-05 12:31:59.000000000,2022-01-05 14:11:03.000000000,2022-01-05 14:08:03.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 12:31:59.000000000', 'files': ['vitrage_tempest_plugin/tests/datasources/test_aodh.py'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/89790c28fa27f1b023214e1c52d367c7d71bcff5', 'message': 'ignore a gnocchi test that sometime fails\n\nChange-Id: I287572e604fe86ea8a78f37a2c1b1c158d3bf8b0\n'}]",0,823503,89790c28fa27f1b023214e1c52d367c7d71bcff5,7,2,1,19134,,,0,"ignore a gnocchi test that sometime fails

Change-Id: I287572e604fe86ea8a78f37a2c1b1c158d3bf8b0
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/03/823503/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage_tempest_plugin/tests/datasources/test_aodh.py'],1,89790c28fa27f1b023214e1c52d367c7d71bcff5,,import testtools @testtools.skip('gnocchi sometime fails here ignore for now'),,3,0
openstack%2Fdiskimage-builder~master~Ifee362e0dade29ef074042ae68054474ae6fbe5c,openstack/diskimage-builder,master,Ifee362e0dade29ef074042ae68054474ae6fbe5c,Add oraclelinux support to pip-and-virtualenv-source-install,ABANDONED,2018-12-13 16:29:36.000000000,2022-01-05 14:03:03.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-13 16:29:36.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/31de85c46e5bbeeb3f0753a06628f9f836924708', 'message': 'Add oraclelinux support to pip-and-virtualenv-source-install\n\nChange-Id: Ifee362e0dade29ef074042ae68054474ae6fbe5c\n'}]",0,625046,31de85c46e5bbeeb3f0753a06628f9f836924708,5,3,1,1390,,,0,"Add oraclelinux support to pip-and-virtualenv-source-install

Change-Id: Ifee362e0dade29ef074042ae68054474ae6fbe5c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/46/625046/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,31de85c46e5bbeeb3f0753a06628f9f836924708,python-pip,"if [[ $DISTRO_NAME =~ (opensuse|fedora|centos|centos7|rhel7|oraclelinux) ]]; then oraclelinux) _extra_repo=""--enablerepo=ol7_software_collections"" # python27-python-virtualenv seems broken in OL repos, complains it can't find # scl-utils-build when it exists. Leave it to be pip installed below packages=""python27-python-pip python27-python-setuptools"" ;;",if [[ $DISTRO_NAME =~ (opensuse|fedora|centos|centos7|rhel7) ]]; then,7,1
openstack%2Fdiskimage-builder~master~I0cde646a074f990bb94c8bd94e70610a4d9bfa14,openstack/diskimage-builder,master,I0cde646a074f990bb94c8bd94e70610a4d9bfa14,Replace Fedora 31 functional tests with Fedora 33,ABANDONED,2020-12-21 13:33:19.000000000,2022-01-05 14:02:38.000000000,,"[{'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 13:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/90168e5f0fd330e57d82f9515b1d8f57d628229a', 'message': 'Replace Fedora 31 functional tests with Fedora 33\n\nFedora 31 is EOL, but the Fedora 33 will be available soon\nin Opendev repository [1]. It will be good to run tests with\nnew release.\n\n[1] https://review.opendev.org/c/opendev/system-config/+/767396\n\nChange-Id: I0cde646a074f990bb94c8bd94e70610a4d9bfa14\n'}, {'number': 2, 'created': '2021-01-05 07:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6e85352868c65b1482a933c4bb060d42ac9f0e37', 'message': 'Replace Fedora 31 functional tests with Fedora 33\n\nFedora 31 is EOL, but the Fedora 33 will be available soon\nin Opendev repository [1]. It will be good to run tests with\nnew release.\n\n[1] https://review.opendev.org/c/opendev/system-config/+/767396\n\nChange-Id: I0cde646a074f990bb94c8bd94e70610a4d9bfa14\n'}, {'number': 3, 'created': '2021-01-07 10:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/808cbc66a0e2e51bc4da432076f887edb5ba3753', 'message': 'Replace Fedora 31 functional tests with Fedora 33\n\nFedora 31 is EOL, but the Fedora 33 will be available soon\nin Opendev repository [1]. It will be good to run tests with\nnew release.\n\n[1] https://review.opendev.org/c/opendev/system-config/+/767396\n\nChange-Id: I0cde646a074f990bb94c8bd94e70610a4d9bfa14\n'}, {'number': 4, 'created': '2021-01-08 09:56:07.000000000', 'files': ['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', '.zuul.d/project.yaml', 'diskimage_builder/elements/fedora-minimal/environment.d/10-fedora-distro-name.bash', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e7656bd66675ee1229a4099e6839e0f7bfc7f55', 'message': 'Replace Fedora 31 functional tests with Fedora 33\n\nFedora 31 is EOL, but the Fedora 33 will be available soon\nin Opendev repository [1]. It will be good to run tests with\nnew release.\n\n[1] https://review.opendev.org/c/opendev/system-config/+/767396\n\nChange-Id: I0cde646a074f990bb94c8bd94e70610a4d9bfa14\n'}]",0,768092,1e7656bd66675ee1229a4099e6839e0f7bfc7f55,26,2,4,20676,,,0,"Replace Fedora 31 functional tests with Fedora 33

Fedora 31 is EOL, but the Fedora 33 will be available soon
in Opendev repository [1]. It will be good to run tests with
new release.

[1] https://review.opendev.org/c/opendev/system-config/+/767396

Change-Id: I0cde646a074f990bb94c8bd94e70610a4d9bfa14
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/92/768092/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,90168e5f0fd330e57d82f9515b1d8f57d628229a,, name: dib-nodepool-functional-openstack-fedora-33-src Test building and booting a Fedora 33 image with Nodepool and OpenStack release: '33', name: dib-nodepool-functional-openstack-fedora-31-src Test building and booting a Fedora 31 image with Nodepool and OpenStack release: '31',5,5
openstack%2Fdiskimage-builder~master~I969468aba238112c7dc5152f9aa08d2eb899ea92,openstack/diskimage-builder,master,I969468aba238112c7dc5152f9aa08d2eb899ea92,Adds support for Fedora 31,ABANDONED,2019-12-06 19:59:34.000000000,2022-01-05 14:01:35.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-06 19:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/13cd604a26cc6ded051ce5fce41d486f8ea437d9', 'message': 'Adds support for Fedora 31\n\nAdds support for Fedora 31, removes references to F28 which\nis EOL.\n\nChange-Id: I969468aba238112c7dc5152f9aa08d2eb899ea92\n'}, {'number': 2, 'created': '2019-12-06 21:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4f92d78df599f1365f5d2cffaebbfeae952390ac', 'message': 'Adds support for Fedora 31\n\nAdds support for Fedora 31, removes references to F28 which\nis EOL.\n\nChange-Id: I969468aba238112c7dc5152f9aa08d2eb899ea92\n'}, {'number': 3, 'created': '2019-12-17 02:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/aab6840f2a7ea071fd615175d25c3c15d02ac5ff', 'message': 'Adds support for Fedora 31\n\nAdds support for Fedora 31, removes references to F28 which\nis EOL.\n\nChange-Id: I969468aba238112c7dc5152f9aa08d2eb899ea92\n'}, {'number': 4, 'created': '2019-12-17 16:32:48.000000000', 'files': ['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/simple-init/pkg-map', '.zuul.d/project.yaml', 'diskimage_builder/elements/fedora-minimal/environment.d/10-fedora-distro-name.bash', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bcb6f1ba736c7103da00d2c4a77713f6483865cd', 'message': 'Adds support for Fedora 31\n\nAdds support for Fedora 31, removes references to F28 which\nis EOL.\n\nChange-Id: I969468aba238112c7dc5152f9aa08d2eb899ea92\n'}]",0,697713,bcb6f1ba736c7103da00d2c4a77713f6483865cd,16,3,4,290,,,0,"Adds support for Fedora 31

Adds support for Fedora 31, removes references to F28 which
is EOL.

Change-Id: I969468aba238112c7dc5152f9aa08d2eb899ea92
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/13/697713/4 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/simple-init/pkg-map', '.zuul.d/project.yaml', 'diskimage_builder/elements/fedora-minimal/environment.d/10-fedora-distro-name.bash', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image']",7,13cd604a26cc6ded051ce5fce41d486f8ea437d9,fedora_31, if [[ ${DIB_RELEASE} -ge 29 ]]; then if [[ ${DIB_RELEASE} -ge 29 ]]; then, if [[ ${DIB_RELEASE} -ge 28 ]]; then if [[ ${DIB_RELEASE} -ge 28 ]]; then,27,9
openstack%2Fkolla~stable%2Fwallaby~I423db39e77f337a73d3d88e3dbd56469be45110b,openstack/kolla,stable/wallaby,I423db39e77f337a73d3d88e3dbd56469be45110b,Fix variable name,MERGED,2022-01-05 10:10:03.000000000,2022-01-05 13:30:31.000000000,2022-01-05 13:27:44.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-01-05 10:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2938eae37d408187c60ad87a8d13c481fa7531e', 'message': ""Fix variable name\n\nTrivialFix\n\nThe customization format of the variable name should contain the\n<image_name> [1]. This change fixes the name of the 'remote_apt_keys'\nvariable in base Dockerfile.\n\n1. https://docs.openstack.org/kolla/latest/admin/image-building.html#dockerfile-customisation\n\nChange-Id: I423db39e77f337a73d3d88e3dbd56469be45110b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit cb99f46929298f8e1d939cfca2a1d4831cd1efca)\n(cherry picked from commit c8d3709436c6bc0f9d6bc8c038f3f3fb64dd6cb1)\n""}, {'number': 2, 'created': '2022-01-05 10:11:44.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/320fcbdce17c2b1f0d15114bc6f1dd9849c40324', 'message': ""Fix variable name\n\nTrivialFix\n\nThe customization format of the variable name should contain the\n<image_name> [1]. This change fixes the name of the 'remote_apt_keys'\nvariable in base Dockerfile.\n\n1. https://docs.openstack.org/kolla/latest/admin/image-building.html#dockerfile-customisation\n\nChange-Id: I423db39e77f337a73d3d88e3dbd56469be45110b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit cb99f46929298f8e1d939cfca2a1d4831cd1efca)\n(cherry picked from commit c8d3709436c6bc0f9d6bc8c038f3f3fb64dd6cb1)\n""}]",0,823454,320fcbdce17c2b1f0d15114bc6f1dd9849c40324,11,4,2,14826,,,0,"Fix variable name

TrivialFix

The customization format of the variable name should contain the
<image_name> [1]. This change fixes the name of the 'remote_apt_keys'
variable in base Dockerfile.

1. https://docs.openstack.org/kolla/latest/admin/image-building.html#dockerfile-customisation

Change-Id: I423db39e77f337a73d3d88e3dbd56469be45110b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit cb99f46929298f8e1d939cfca2a1d4831cd1efca)
(cherry picked from commit c8d3709436c6bc0f9d6bc8c038f3f3fb64dd6cb1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/823454/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,c2938eae37d408187c60ad87a8d13c481fa7531e,customizable-variable-fix-stable/wallaby,"<<<<<<< HEAD (0b4555 Ensure nvme-cli is present in nova-compute images)======= {% set base_apt_keys = [ {'name': 'erlang', 'keyid': 'F77F1EDA57EBB1CC'}, {'name': 'rabbitmq', 'keyid': 'F6609E60DC62814E'}, {'name': 'haproxy', 'keyid': 'CFFB779AADC995E4F350A060505D97A41C61B9CD'}, ] %} {# NOTE(hrw): type field defaults to 'asc' which is used for single keys #} {% set base_remote_apt_keys = [ {'name': 'elasticsearch', 'url': 'https://artifacts.elastic.co/GPG-KEY-elasticsearch'}, {'name': 'grafana', 'url': 'https://packages.grafana.com/gpg.key'}, {'name': 'influxdb', 'url': 'https://repos.influxdata.com/influxdb.key'}, {'name': 'mariadb', 'url': 'https://downloads.mariadb.com/MariaDB/mariadb-keyring-2019.gpg', 'type': 'gpg'}, {'name': 'proxysql', 'url': 'https://repo.proxysql.com/ProxySQL/repo_pub_key'}, {'name': 'treasuredata', 'url': 'https://packages.treasuredata.com/GPG-KEY-td-agent'}, ] %} >>>>>>> CHANGE (c8d370 Fix variable name)<<<<<<< HEAD (0b4555 Ensure nvme-cli is present in nova-compute images)======= {% for key in base_remote_apt_keys | customizable('remote_apt_keys') %} {%- if loop.first %} RUN mkdir -p /etc/kolla/apt-keys/ {% endif %} && curl {{ key.url }} -o /etc/kolla/apt-keys/{{ key.name }}.{{ key.type | default('asc') }} >>>>>>> CHANGE (c8d370 Fix variable name)",,23,0
openstack%2Ftripleo-common~master~Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae,openstack/tripleo-common,master,Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae,Remove redhat-release only if installed,MERGED,2022-01-04 12:27:27.000000000,2022-01-05 13:29:16.000000000,2022-01-05 13:26:41.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-04 12:27:27.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e0348026a43796efe18833b8e2d0113f87bed56', 'message': ""Remove redhat-release only if installed\n\nIt may happen we're running on Centos 8 and the package isn't present;\nAnd we don't want it on Centos Stream 9 either, so let's just remove it\nif present on CentOS based system.\n\nChange-Id: Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae\n""}]",4,823384,6e0348026a43796efe18833b8e2d0113f87bed56,15,5,1,28223,,,0,"Remove redhat-release only if installed

It may happen we're running on Centos 8 and the package isn't present;
And we don't want it on Centos Stream 9 either, so let's just remove it
if present on CentOS based system.

Change-Id: Ia1bf4609209bb4ea792182603f4dfa2b6bb1f4ae
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/823384/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,6e0348026a43796efe18833b8e2d0113f87bed56,cs9," if [ -n ""$(rpm -qa redhat-release)"" ];then rpm -e --nodeps redhat-release; fi &&", if [ '{{ tcib_release }}' == '8' ];then rpm -e --nodeps redhat-release; fi &&,1,1
openstack%2Foctavia-tempest-plugin~master~I30ecb919431d848ba6061badfb9c185822140c79,openstack/octavia-tempest-plugin,master,I30ecb919431d848ba6061badfb9c185822140c79,Adding QoS Bandwidth Limit API tests,NEW,2021-11-16 15:03:45.000000000,2022-01-05 13:07:35.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-11-16 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/35705211e14f2c54d989a1abe07f527ddc2ac1ec', 'message': 'Adding QoS Bandwidth Limit API tests\n\nAdding API tests for creating and updating a Load Balancer\nwith Quality of Service QoS policy and Bandwidth Limit rule.\n\nChange-Id: I30ecb919431d848ba6061badfb9c185822140c79\n'}, {'number': 2, 'created': '2021-12-14 10:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ac6358a615d2aa5332d184f64fc500857145206f', 'message': 'Adding QoS Bandwidth Limit API tests\n\nAdding API tests for creating and updating a Load Balancer\nwith Quality of Service QoS policy and Bandwidth Limit rule.\nAlso adding support for QoS in the Zuul gate.\n\nChange-Id: I30ecb919431d848ba6061badfb9c185822140c79\n'}, {'number': 3, 'created': '2021-12-19 12:08:15.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/test_base.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b2a41dc938cc23da118571509f8fe7f58f81e670', 'message': 'Adding QoS Bandwidth Limit API tests\n\nAdding API tests for creating and updating a Load Balancer\nwith Quality of Service QoS policy and Bandwidth Limit rule.\nAlso adding support for QoS in the Zuul gate.\n\nChange-Id: I30ecb919431d848ba6061badfb9c185822140c79\n'}]",24,818099,b2a41dc938cc23da118571509f8fe7f58f81e670,18,3,3,29681,,,0,"Adding QoS Bandwidth Limit API tests

Adding API tests for creating and updating a Load Balancer
with Quality of Service QoS policy and Bandwidth Limit rule.
Also adding support for QoS in the Zuul gate.

Change-Id: I30ecb919431d848ba6061badfb9c185822140c79
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/99/818099/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/test_base.py']",2,35705211e14f2c54d989a1abe07f527ddc2ac1ec,, cls.lb_admin_qos_client = cls.os_roles_lb_admin.qos_client cls.lb_admin_qos_limit_bw_client = ( cls.os_roles_lb_admin.qos_limit_bw_client),,99,3
openstack%2Fkolla-ansible~master~I298d75f81121527e338653682cca043805b0fe7e,openstack/kolla-ansible,master,I298d75f81121527e338653682cca043805b0fe7e,rsync package added - dependency to synchronize ansible module,ABANDONED,2021-02-11 15:09:27.000000000,2022-01-05 13:01:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-11 15:09:27.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'doc/source/user/quickstart.rst', 'tests/pre.yml', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/kolla-ansible', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7da14969c37fecfaf66f149c78443e3dbd2d9b79', 'message': 'rsync package added - dependency to synchronize ansible module\n\nrsync must be installed on both the local and remote host, therefore:\n - rsync package added to baremetal role\n - rsync package check added to prechecks\n - docs updated with rsync dependency\n - rsync check added to kolla-ansible bash script\n - rsync package added to CI\n\nChange-Id: I298d75f81121527e338653682cca043805b0fe7e\n'}]",1,775188,7da14969c37fecfaf66f149c78443e3dbd2d9b79,8,2,1,23084,,,0,"rsync package added - dependency to synchronize ansible module

rsync must be installed on both the local and remote host, therefore:
 - rsync package added to baremetal role
 - rsync package check added to prechecks
 - docs updated with rsync dependency
 - rsync check added to kolla-ansible bash script
 - rsync package added to CI

Change-Id: I298d75f81121527e338653682cca043805b0fe7e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/775188/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'doc/source/user/quickstart.rst', 'tests/pre.yml', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/kolla-ansible', 'ansible/roles/baremetal/defaults/main.yml']",6,7da14969c37fecfaf66f149c78443e3dbd2d9b79,rsync, - rsync - rsync,,25,5
openstack%2Fkayobe~master~If89bb28fa2e8cc615da21893201cc438d5b6ff05,openstack/kayobe,master,If89bb28fa2e8cc615da21893201cc438d5b6ff05,Do not fail when admin openrc file does not exist,MERGED,2021-10-25 09:15:03.000000000,2022-01-05 12:59:37.000000000,2022-01-05 12:56:59.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-10-25 09:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5ec6660ef56ce8db75b0a627cf5394d8ec8171fb', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n'}, {'number': 2, 'created': '2021-10-27 08:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4872ae27f1682b8a104a36811ce7ec745e9204e4', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n'}, {'number': 3, 'created': '2021-10-27 12:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c9b0e93aea9123609f5258b20958f8b026e3e7b3', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n'}, {'number': 4, 'created': '2021-10-27 12:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b4bc840948ea20c6b8da362176f4d7e27d20a951', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n'}, {'number': 5, 'created': '2022-01-04 16:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/52a0d793fd41261253a74aef3187a10848e6755f', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n'}, {'number': 6, 'created': '2022-01-04 18:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/11a9e5971a99adee73674d8ca931776ded589d9c', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n'}, {'number': 7, 'created': '2022-01-05 08:53:24.000000000', 'files': ['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/73cb007ab955b97fd1d64c8c842dde90d84d0c1e', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n'}]",9,815259,73cb007ab955b97fd1d64c8c842dde90d84d0c1e,26,3,7,28048,,,0,"Do not fail when admin openrc file does not exist

Change-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05
Story: 2009323
Task: 43745
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/815259/7 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/public-openrc/tasks/main.yml'],1,5ec6660ef56ce8db75b0a627cf5394d8ec8171fb,," when: ""{{ kolla_config_path ~ '/admin-openrc.sh' | exists }}"" when: admin_openrc is defined",,2,0
openstack%2Fkolla-ansible~stable%2Fxena~I7d825906edc4b78677d839942cba3a158f44b2e2,openstack/kolla-ansible,stable/xena,I7d825906edc4b78677d839942cba3a158f44b2e2,Remove Monasca Log Metrics service,MERGED,2021-12-28 07:20:01.000000000,2022-01-05 12:52:32.000000000,2022-01-05 12:50:26.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-28 07:20:01.000000000', 'files': ['ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'releasenotes/notes/remove-monasca-log-metrics-02a81671f864d1a9.yaml', 'ansible/roles/monasca/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89353bd31e96d31baec56cf7df5491df740b78d4', 'message': ""Remove Monasca Log Metrics service\n\nThis service was deprecated in the Wallaby release and we\ncan now start removing it if it hasn't already been removed.\n\nChange-Id: I7d825906edc4b78677d839942cba3a158f44b2e2\n(cherry picked from commit 31d08410e0d42bddb234e8dd58a381612cce18d0)\n""}]",1,822940,89353bd31e96d31baec56cf7df5491df740b78d4,9,3,1,30491,,,0,"Remove Monasca Log Metrics service

This service was deprecated in the Wallaby release and we
can now start removing it if it hasn't already been removed.

Change-Id: I7d825906edc4b78677d839942cba3a158f44b2e2
(cherry picked from commit 31d08410e0d42bddb234e8dd58a381612cce18d0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/822940/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-log-metrics/log-metrics.conf.j2', 'ansible/roles/monasca/templates/monasca-log-metrics/monasca-log-metrics.json.j2', 'releasenotes/notes/remove-monasca-log-metrics-02a81671f864d1a9.yaml', 'ansible/roles/monasca/defaults/main.yml']",6,89353bd31e96d31baec56cf7df5491df740b78d4,, # TODO(dszumski): We can remove log-metrics and all other references to it after # the Xena release. This is used for cleaning up the service. enabled: false," enabled: ""{{ monasca_enable_log_metrics_service | bool }}""# NOTE(dszumski): This can be removed in the Xena cycle when the # log metrics service is removed monasca_enable_log_metrics_service: False ",10,131
openstack%2Fpuppet-heat~master~I4677e89b889f416cc503719286373407a08cffc9,openstack/puppet-heat,master,I4677e89b889f416cc503719286373407a08cffc9,Add support for [DEFAULT] allow_trusts_redelegation,MERGED,2022-01-03 09:38:00.000000000,2022-01-05 12:50:20.000000000,2022-01-05 12:48:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 09:38:00.000000000', 'files': ['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'releasenotes/notes/allow_trusts_redelegation-47705d351d85b787.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/63b791ef4f7ae7044fd06d831a1e2cb51b71a0e0', 'message': 'Add support for [DEFAULT] allow_trusts_redelegation\n\nChange-Id: I4677e89b889f416cc503719286373407a08cffc9\n'}]",0,823263,63b791ef4f7ae7044fd06d831a1e2cb51b71a0e0,8,3,1,9816,,,0,"Add support for [DEFAULT] allow_trusts_redelegation

Change-Id: I4677e89b889f416cc503719286373407a08cffc9
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/63/823263/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'releasenotes/notes/allow_trusts_redelegation-47705d351d85b787.yaml']",3,63b791ef4f7ae7044fd06d831a1e2cb51b71a0e0,,--- features: - | The ``heat::engine`` class now supports the ``allow_trusts_redelegation`` parameter. ,,26,12
openstack%2Fcharm-openstack-dashboard~master~Ic4d9d75a56d133c9408c460d833234f7f6c81626,openstack/charm-openstack-dashboard,master,Ic4d9d75a56d133c9408c460d833234f7f6c81626,setup.cfg: Replace dashes with underscores,MERGED,2021-05-07 11:27:13.000000000,2022-01-05 12:43:57.000000000,2022-01-05 12:43:57.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-07 11:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/196de4dee3744b487cacd6d981189a49060fe864', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Ic4d9d75a56d133c9408c460d833234f7f6c81626\n'}, {'number': 2, 'created': '2021-05-07 11:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/23d9e19d301914a053841817f90e0fec76a0a2ce', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic4d9d75a56d133c9408c460d833234f7f6c81626\n""}, {'number': 3, 'created': '2021-05-28 08:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ebdee92dae79c4e4dbff076da295cea655ae8d71', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic4d9d75a56d133c9408c460d833234f7f6c81626\n""}, {'number': 4, 'created': '2022-01-04 15:50:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/725d7d4f41871f4a557d21038d37bcf8fa7a64ba', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic4d9d75a56d133c9408c460d833234f7f6c81626\n""}]",4,790225,725d7d4f41871f4a557d21038d37bcf8fa7a64ba,25,3,4,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic4d9d75a56d133c9408c460d833234f7f6c81626
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/25/790225/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,196de4dee3744b487cacd6d981189a49060fe864,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/charm-guide/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/charm-guide/latest/,3,3
openstack%2Fpuppet-heat~master~I9d74fac8cdc4cfe7c7c6f366dba712b8c331b269,openstack/puppet-heat,master,I9d74fac8cdc4cfe7c7c6f366dba712b8c331b269,Accept array for DEFAULT/trusts_delegated_roles,MERGED,2022-01-03 09:28:05.000000000,2022-01-05 12:41:09.000000000,2022-01-05 12:41:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 09:28:05.000000000', 'files': ['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/0f9986e566938b1f9c2e24b62309850846d59dc6', 'message': 'Accept array for DEFAULT/trusts_delegated_roles\n\nThe DEFAULT/trusts_delegated_roles parameter is a ListOpt, which\naccepts a list value in a comma-separated list format. This change\nallows usage of array to define the list value in a native manner.\n\nChange-Id: I9d74fac8cdc4cfe7c7c6f366dba712b8c331b269\n'}]",0,823260,0f9986e566938b1f9c2e24b62309850846d59dc6,7,3,1,9816,,,0,"Accept array for DEFAULT/trusts_delegated_roles

The DEFAULT/trusts_delegated_roles parameter is a ListOpt, which
accepts a list value in a comma-separated list format. This change
allows usage of array to define the list value in a native manner.

Change-Id: I9d74fac8cdc4cfe7c7c6f366dba712b8c331b269
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/60/823260/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb']",2,0f9986e566938b1f9c2e24b62309850846d59dc6,," it { is_expected.to contain_heat_config('DEFAULT/trusts_delegated_roles').with_value( [expected_params[:trusts_delegated_roles]].join(',') ) }", it { is_expected.to contain_heat_config('DEFAULT/trusts_delegated_roles').with_value( expected_params[:trusts_delegated_roles] ) },2,2
openstack%2Fpuppet-horizon~master~I005607117105a3f3bea448f4ab1c6e1716ecfb15,openstack/puppet-horizon,master,I005607117105a3f3bea448f4ab1c6e1716ecfb15,OPENSTACK_IMAGE_BACKEND: Update defaults described in comments,MERGED,2022-01-02 13:09:55.000000000,2022-01-05 12:26:19.000000000,2022-01-05 12:26:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-02 13:09:55.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6f2faa4158f5f55af151761bf2904df3e65ee7f9', 'message': 'OPENSTACK_IMAGE_BACKEND: Update defaults described in comments\n\n... to fix two missing image formats.\n\nChange-Id: I005607117105a3f3bea448f4ab1c6e1716ecfb15\n'}]",0,823239,6f2faa4158f5f55af151761bf2904df3e65ee7f9,7,3,1,9816,,,0,"OPENSTACK_IMAGE_BACKEND: Update defaults described in comments

... to fix two missing image formats.

Change-Id: I005607117105a3f3bea448f4ab1c6e1716ecfb15
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/39/823239/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,6f2faa4158f5f55af151761bf2904df3e65ee7f9,,"# ('ploop', _('PLOOP - Virtuozzo/Parallels Loopback Disk')),# ('vhdx', _('VHDX - Large Virtual Hard Disk')),",,2,0
openstack%2Fos-vif~master~I605bcdde50a3e4427af74ba616887c15c787a40a,openstack/os-vif,master,I605bcdde50a3e4427af74ba616887c15c787a40a,Fix typos,MERGED,2021-09-21 01:34:21.000000000,2022-01-05 12:26:10.000000000,2022-01-05 12:24:28.000000000,"[{'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-21 01:34:21.000000000', 'files': ['vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/linux_net.py', 'vif_plug_linux_bridge/linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4b4f2915453476dbcba1c55b9bc704b4de3f4ce9', 'message': 'Fix typos\n\nChange-Id: I605bcdde50a3e4427af74ba616887c15c787a40a\n'}]",2,810137,4b4f2915453476dbcba1c55b9bc704b4de3f4ce9,10,3,1,23950,,,0,"Fix typos

Change-Id: I605bcdde50a3e4427af74ba616887c15c787a40a
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/37/810137/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/linux_net.py', 'vif_plug_linux_bridge/linux_net.py']",4,4b4f2915453476dbcba1c55b9bc704b4de3f4ce9,fix-typo, # propagated # The bridge mtu cannot be set until after an, # propogated # The bridge mtu cannont be set until after an,10,10
openstack%2Fkayobe~stable%2Fwallaby~I7b719aeb20cc63f41280e20063785d77b0334d64,openstack/kayobe,stable/wallaby,I7b719aeb20cc63f41280e20063785d77b0334d64,Deploy Grafana when Monasca is enabled,MERGED,2022-01-04 09:09:58.000000000,2022-01-05 11:53:01.000000000,2022-01-05 11:51:03.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-01-04 09:09:58.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/enable-grafana-with-monasca-497d686e95d89242.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c68913d87dcabb7ceac0c99c10c7dbf9ae9153c3', 'message': 'Deploy Grafana when Monasca is enabled\n\nThis is necessary to deploy grafana as a replacement for the retired\nmonasca-grafana image.\n\nChange-Id: I7b719aeb20cc63f41280e20063785d77b0334d64\nStory: 2009717\nTask: 44091\n(cherry picked from commit 8ab4530f2620a35bb6049640b45de3a70176269d)\n'}]",0,823306,c68913d87dcabb7ceac0c99c10c7dbf9ae9153c3,9,4,1,15197,,,0,"Deploy Grafana when Monasca is enabled

This is necessary to deploy grafana as a replacement for the retired
monasca-grafana image.

Change-Id: I7b719aeb20cc63f41280e20063785d77b0334d64
Story: 2009717
Task: 44091
(cherry picked from commit 8ab4530f2620a35bb6049640b45de3a70176269d)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/823306/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/enable-grafana-with-monasca-497d686e95d89242.yaml']",2,c68913d87dcabb7ceac0c99c10c7dbf9ae9153c3,grafana-monasca-stable/wallaby,"--- fixes: - | Enables deployment of Grafana when Monasca is enabled, as a replacement for the retired ``monasca-grafana`` image. See `story 2009717 <https://storyboard.openstack.org/#!/story/2009717>`__ for details. ",,8,1
openstack%2Ftripleo-quickstart~master~Ie21ae9b8f37635cb15df21cc227e0d2278b6b3c2,openstack/tripleo-quickstart,master,Ie21ae9b8f37635cb15df21cc227e0d2278b6b3c2,Fix default release,MERGED,2021-12-21 11:47:50.000000000,2022-01-05 11:43:18.000000000,2022-01-05 11:41:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-21 11:47:50.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03ddd7a0bffbb0f8ea8f504f456e23136fbdf744', 'message': 'Fix default release\n\nChange-Id: Ie21ae9b8f37635cb15df21cc227e0d2278b6b3c2\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,822486,03ddd7a0bffbb0f8ea8f504f456e23136fbdf744,13,8,1,6926,,,0,"Fix default release

Change-Id: Ie21ae9b8f37635cb15df21cc227e0d2278b6b3c2
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/86/822486/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,03ddd7a0bffbb0f8ea8f504f456e23136fbdf744,,: ${OPT_RELEASE:=master},: ${OPT_RELEASE:=queens},1,1
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I92beff3ecc45fba5c12e49351dc8d9f7576777f1,openstack/puppet-openstack-integration,stable/wallaby,I92beff3ecc45fba5c12e49351dc8d9f7576777f1,Fix redis config location for centos > 8,MERGED,2022-01-04 16:37:25.000000000,2022-01-05 11:32:46.000000000,2022-01-05 11:32:46.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 16:37:25.000000000', 'files': ['manifests/redis.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e6da503f39edc08a1045c3d412b0cb5709265e55', 'message': 'Fix redis config location for centos > 8\n\nThe location of redis configuration has been moved to\n/etc/redis/redis.conf in CentOS9 [1]. This patch is fixing redis_config\nparameter to cover this new case.\n\n[1] https://gitlab.com/redhat/centos-stream/rpms/redis/-/blob/c9s/redis.spec#L332\n\nChange-Id: I92beff3ecc45fba5c12e49351dc8d9f7576777f1\n(cherry picked from commit bb97772d807925e3cd9153c252edc9a75710bd56)\n'}]",1,823358,e6da503f39edc08a1045c3d412b0cb5709265e55,7,4,1,16312,,,0,"Fix redis config location for centos > 8

The location of redis configuration has been moved to
/etc/redis/redis.conf in CentOS9 [1]. This patch is fixing redis_config
parameter to cover this new case.

[1] https://gitlab.com/redhat/centos-stream/rpms/redis/-/blob/c9s/redis.spec#L332

Change-Id: I92beff3ecc45fba5c12e49351dc8d9f7576777f1
(cherry picked from commit bb97772d807925e3cd9153c252edc9a75710bd56)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/58/823358/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/redis.pp'],1,e6da503f39edc08a1045c3d412b0cb5709265e55,c9-stable/wallaby," if versioncmp($::operatingsystemmajrelease, '8') > 0 { $redis_config = '/etc/redis/redis.conf' } else { $redis_config = '/etc/redis.conf' }", $redis_config = '/etc/redis.conf',5,1
openstack%2Fvitrage-tempest-plugin~master~I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3,openstack/vitrage-tempest-plugin,master,I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3,"Remove ceilometer client, not used anymore",MERGED,2021-12-22 06:44:24.000000000,2022-01-05 11:29:45.000000000,2022-01-05 11:23:59.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 06:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/701130d6715bcbf51ea6021f1e8c663016026d52', 'message': 'remove cielometer client, not used any more\n\nChange-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\n'}, {'number': 2, 'created': '2021-12-23 07:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/e4f187125354e00fdc13ff27ae2ea5803267d03a', 'message': 'Remove ceilometer client, not used anymore\n\nupdate jobs also\n\nChange-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\n'}, {'number': 3, 'created': '2021-12-23 08:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/634c3a086568552e602954cb67a51f029846e3da', 'message': 'Remove ceilometer client, not used anymore\n\nupdate jobs also\n\nChange-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\n'}, {'number': 4, 'created': '2022-01-05 07:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/4a320beaf24d7fc73734c918fedf43cda080998b', 'message': 'Remove ceilometer client, not used anymore\n\nupdate jobs also\n\nChange-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\n'}, {'number': 5, 'created': '2022-01-05 07:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/5e82a5e32d27aa2c0ad3570057ffebeb97a2961a', 'message': 'Remove ceilometer client, not used anymore\n\nupdate jobs also\n\nChange-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\n'}, {'number': 6, 'created': '2022-01-05 07:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/cce1070902f687c0ba7e8057f16a5b96e6377238', 'message': 'Remove ceilometer client, not used anymore\n\nupdate jobs also\n\nChange-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\n'}, {'number': 7, 'created': '2022-01-05 09:51:13.000000000', 'files': ['requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/74b71d8be2c92c0b66b24d1d16516d4c61617217', 'message': 'Remove ceilometer client, not used anymore\n\nupdate jobs also\n\nChange-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3\n'}]",3,822595,74b71d8be2c92c0b66b24d1d16516d4c61617217,27,2,7,19134,,,0,"Remove ceilometer client, not used anymore

update jobs also

Change-Id: I504922ade2897e6066c4bcdaf2a2a521c1fd4ef3
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/95/822595/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,701130d6715bcbf51ea6021f1e8c663016026d52,ceilometer,,python-ceilometerclient>=2.9.0 # Apache-2.0,0,1
openstack%2Fdevstack~master~Ib7719cb2d48b34db70f885e0afe77d904abba3b5,openstack/devstack,master,Ib7719cb2d48b34db70f885e0afe77d904abba3b5,Fix tempest upper-constraints,MERGED,2022-01-03 18:27:42.000000000,2022-01-05 10:58:56.000000000,2022-01-05 10:57:21.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-01-03 18:27:42.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2ef4a4c8516bc6373bc7f4cafee62db715144952', 'message': ""Fix tempest upper-constraints\n\nWhen deploying devstack in a stable branch, the master branch is\navailable locally only in a CI environment where Zuul prepares all\navailable branches. For a non-CI deployment we need to stick to using\nthe remote branch as was the case before [0].\n\nWhile the situation on the master branch isn't really broken, we apply\nthe fix here anyway so that future stable branches are created in a\nworking state.\n\n[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64\n\nCloses-Bug: #1956219\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5\n""}]",2,823322,2ef4a4c8516bc6373bc7f4cafee62db715144952,9,4,1,13252,,,0,"Fix tempest upper-constraints

When deploying devstack in a stable branch, the master branch is
available locally only in a CI environment where Zuul prepares all
available branches. For a non-CI deployment we need to stick to using
the remote branch as was the case before [0].

While the situation on the master branch isn't really broken, we apply
the fix here anyway so that future stable branches are created in a
working state.

[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64

Closes-Bug: #1956219
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/823322/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,2ef4a4c8516bc6373bc7f4cafee62db715144952,fix-tempest-uc, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt 2>/dev/null || git show origin/master:upper-constraints.txt) > $tmp_c, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > $tmp_c,3,1
openstack%2Fos-vif~master~I12c88a6154a0b004bd0008bf030644b25b6349f1,openstack/os-vif,master,I12c88a6154a0b004bd0008bf030644b25b6349f1,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-11-25 00:08:12.000000000,2022-01-05 10:41:07.000000000,2022-01-05 10:39:29.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 00:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/138807472ede2cecd7c4fefec155577cd0fc5a5e', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit makes other required changes in the metadata in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I12c88a6154a0b004bd0008bf030644b25b6349f1\n'}, {'number': 2, 'created': '2021-12-14 02:20:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/8fa891805c04e2760d6fc290960b50fb70d7f83b', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I12c88a6154a0b004bd0008bf030644b25b6349f1\n'}]",4,819204,8fa891805c04e2760d6fc290960b50fb70d7f83b,16,6,2,8556,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I12c88a6154a0b004bd0008bf030644b25b6349f1
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/04/819204/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,138807472ede2cecd7c4fefec155577cd0fc5a5e,yoga-python-testing, Programming Language :: Python :: 3.8 Programming Language :: Python :: 3.9, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,2,2
openstack%2Fpuppet-cinder~master~I47eb5f99377974eeb8c6fe07c4baa6b40a8af407,openstack/puppet-cinder,master,I47eb5f99377974eeb8c6fe07c4baa6b40a8af407,Add support for rootwrap.conf,MERGED,2021-12-27 02:34:57.000000000,2022-01-05 10:33:05.000000000,2022-01-05 10:31:20.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 02:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/485dbb325dda52b521499150f6826c59ee028fb4', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I47eb5f99377974eeb8c6fe07c4baa6b40a8af407\n'}, {'number': 2, 'created': '2021-12-27 02:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/30fb8d728b45cb00ba22c898c928598cb167a338', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I47eb5f99377974eeb8c6fe07c4baa6b40a8af407\n'}, {'number': 3, 'created': '2021-12-27 03:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4c2ce9b62d03c536476e8846c3fbfacb614407b9', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I47eb5f99377974eeb8c6fe07c4baa6b40a8af407\n'}, {'number': 4, 'created': '2021-12-27 05:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a3b19c4e4badaaffcfa65dc430b96e03555b3caf', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I47eb5f99377974eeb8c6fe07c4baa6b40a8af407\n'}, {'number': 5, 'created': '2021-12-27 07:02:41.000000000', 'files': ['spec/unit/provider/cinder_rootwrap_config/ini_setting_spec.rb', 'releasenotes/notes/rootwrap-528e073dd00263cb.yaml', 'lib/puppet/provider/cinder_rootwrap_config/ini_setting.rb', 'spec/unit/type/cinder_rootwrap_config_spec.rb', 'lib/puppet/type/cinder_rootwrap_config.rb', 'manifests/deps.pp', 'spec/classes/cinder_config_spec.rb', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c495536f9ae134b12cc6d74acf1b1a8894cac8e7', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I47eb5f99377974eeb8c6fe07c4baa6b40a8af407\n'}]",5,822977,c495536f9ae134b12cc6d74acf1b1a8894cac8e7,25,4,5,9816,,,0,"Add support for rootwrap.conf

Change-Id: I47eb5f99377974eeb8c6fe07c4baa6b40a8af407
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/77/822977/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/cinder_rootwrap_config/ini_setting_spec.rb', 'releasenotes/notes/rootwrap-528e073dd00263cb.yaml', 'lib/puppet/provider/cinder_rootwrap_config/ini_setting.rb', 'spec/unit/type/cinder_rootwrap_config_spec.rb', 'spec/classes/cinder_config_spec.rb', 'manifests/config.pp', 'lib/puppet/type/cinder_rootwrap_config_spec.rb']",7,485dbb325dda52b521499150f6826c59ee028fb4,rootwrap,"Puppet::Type.newtype(:cinder_rootwrap_config) do ensurable newparam(:name, :namevar => true) do desc 'Section/setting name to manage from /etc/cinder/rootwrap.conf' newvalues(/\S+\/\S+/) end newparam(:ensure_absent_val) do desc 'A value that is specified as the value property will behave as if ensure => absent was specified' defaultto('<SERVICE DEFAULT>') end newproperty(:value) do desc 'The value of the setting to be defined.' munge do |value| value = value.to_s.strip value.capitalize! if value =~ /^(true|false)$/i value end newvalues(/^[\S ]*$/) end autorequire(:anchor) do ['cinder::install::end'] end end ",,175,3
openstack%2Fswift~master~Ia04bf9a9d3f9e4888f48afce6bf04e564ef9163b,openstack/swift,master,Ia04bf9a9d3f9e4888f48afce6bf04e564ef9163b,updater rate limiter: unit test slow updates,ABANDONED,2021-12-09 15:22:12.000000000,2022-01-05 10:28:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-09 15:22:12.000000000', 'files': ['test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/acd80c1dab33358ce5481808e6b0b3ec94065758', 'message': 'updater rate limiter: unit test slow updates\n\nadd a test in which the per-bucket rate limiter does not always\n\nChange-Id: Ia04bf9a9d3f9e4888f48afce6bf04e564ef9163b\n'}]",0,821232,acd80c1dab33358ce5481808e6b0b3ec94065758,4,1,1,7847,,,0,"updater rate limiter: unit test slow updates

add a test in which the per-bucket rate limiter does not always

Change-Id: Ia04bf9a9d3f9e4888f48afce6bf04e564ef9163b
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/821232/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_updater.py'],1,acd80c1dab33358ce5481808e6b0b3ec94065758,bucket-ratelimiter,"import eventletfrom swift.common.utils import hash_path, normalize_timestamp, mkdirs @mock.patch('swift.obj.updater.dump_recon_cache') def test_per_container_rate_limit_slow_responses(self, mock_recon): conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, 'max_objects_per_container_per_second': 10, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) self.async_dir = os.path.join(self.sda1, get_async_dir(POLICIES[0])) os.mkdir(self.async_dir) # all updates for same container num_c1_files = 4 for i in range(num_c1_files): obj_name = 'o%02d' % i self._make_async_pending_pickle('a', 'c1', obj_name) expected_total = num_c1_files self.assertEqual(expected_total, len(self._find_async_pending_files())) latencies = [.11, 0, .11, 0] expected_success = 2 fake_status_codes = [200] * 3 * expected_success def fake_spawn(pool, *args, **kwargs): # make each update delay the iter being called again eventlet.sleep(latencies.pop(0)) return args[0](*args[1:], **kwargs) with mocked_http_conn(*fake_status_codes): with mock.patch('swift.obj.updater.ContextPool.spawn', fake_spawn): daemon.run_once() self.assertEqual(expected_success, daemon.stats.successes) expected_skipped = expected_total - expected_success self.assertEqual(expected_skipped, daemon.stats.skips) self.assertEqual(expected_skipped, len(self._find_async_pending_files())) ","from swift.common.utils import ( hash_path, normalize_timestamp, mkdirs, write_pickle)",39,3
openstack%2Fswift~master~I661cf7cb58a70a66de52578caf051f05e14bab97,openstack/swift,master,I661cf7cb58a70a66de52578caf051f05e14bab97,updater ratelimiting: fix tests to use the expected path,ABANDONED,2021-12-09 14:02:37.000000000,2022-01-05 10:27:59.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 14:02:37.000000000', 'files': ['swift/obj/updater.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ebe570d1a434f98d8a70a025ab5aaa2ca7c5f819', 'message': 'updater ratelimiting: fix tests to use the expected path\n\n- fix md5 pep8 violation\n- make all tests use realistic async pickles so that the expected path\n  through the rate limiter works\n- fix mock timings broken by the rate limiter also calling time()\n- mock out recon dumps to remove noise from test logs\n\nChange-Id: I661cf7cb58a70a66de52578caf051f05e14bab97\n'}]",8,821216,ebe570d1a434f98d8a70a025ab5aaa2ca7c5f819,7,2,1,7847,,,0,"updater ratelimiting: fix tests to use the expected path

- fix md5 pep8 violation
- make all tests use realistic async pickles so that the expected path
  through the rate limiter works
- fix mock timings broken by the rate limiter also calling time()
- mock out recon dumps to remove noise from test logs

Change-Id: I661cf7cb58a70a66de52578caf051f05e14bab97
",git fetch https://review.opendev.org/openstack/swift refs/changes/16/821216/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'test/unit/obj/test_updater.py']",2,ebe570d1a434f98d8a70a025ab5aaa2ca7c5f819,bucket-ratelimiter," @mock.patch('swift.obj.updater.dump_recon_cache') def test_object_sweep(self, mock_recon): def check_with_idx(policy_index, warn, should_skip): if int(policy_index) > 0: ASYNCDIR_BASE + ""-"" + policy_index) ASYNCDIR_BASE + '-' + str( int(policy_index) + 100))) expected.add((o_path, int(policy_index))) self._write_dummy_pickle(o_path, 'account', 'container', o) self._write_dummy_pickle(o_path, 'account', 'container', o) now[0] += 4 # With 10s between updates, time() advancing 4s every time we look, # lines. (time is incremented by 4 each time the update app iter yields # and each time the elapsed time is sampled) self._write_dummy_pickle(o_path, 'account', 'container', o) def _write_dummy_pickle(self, path, a, c, o): def _make_async_pending_pickle(self, a, c, o): ohash = hash_path(a, c, o) odir = os.path.join(self.async_dir, ohash[-3:]) mkdirs(odir) path = os.path.join( odir, '%s-%s' % (ohash, normalize_timestamp(time()))) self._write_dummy_pickle(path, a, c, o) @mock.patch('swift.obj.updater.dump_recon_cache') def test_per_container_rate_limit(self, mock_recon):"," def test_object_sweep(self): def check_with_idx(index, warn, should_skip): if int(index) > 0: ASYNCDIR_BASE + ""-"" + index) ASYNCDIR_BASE + '-' + str(int(index) + 100))) expected.add((o_path, int(index))) write_pickle({}, o_path) write_pickle({}, o_path) now[0] += 5 # With 10s between updates, time() advancing 5s every time we look, # lines. write_pickle({}, o_path) def _make_async_pending_pickle(self, a, c, o): ohash = hash_path(a, c, o) odir = os.path.join(self.async_dir, ohash[-3:]) mkdirs(odir) path = os.path.join( odir, '%s-%s' % (ohash, normalize_timestamp(time()))) def test_per_container_rate_limit(self):",30,24
openstack%2Fswift~master~Ic82c9ce09d154af916e20280606f4275094acc2a,openstack/swift,master,Ic82c9ce09d154af916e20280606f4275094acc2a,WIP updater: allow bursty rate limiting,ABANDONED,2021-12-08 13:59:37.000000000,2022-01-05 10:26:08.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 13:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aac01d2b5ed0dbe59caf6875705257076208b692', 'message': 'updater: allow bursty rate limiting\n\nChange-Id: Ic82c9ce09d154af916e20280606f4275094acc2a\n'}, {'number': 2, 'created': '2021-12-10 11:09:15.000000000', 'files': ['swift/obj/updater.py', 'swift/common/utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/db772983b4fcad900c6086f4b26632888bac7a6c', 'message': 'WIP updater: allow bursty rate limiting\n\nChange-Id: Ic82c9ce09d154af916e20280606f4275094acc2a\n'}]",0,821066,db772983b4fcad900c6086f4b26632888bac7a6c,8,2,2,7847,,,0,"WIP updater: allow bursty rate limiting

Change-Id: Ic82c9ce09d154af916e20280606f4275094acc2a
",git fetch https://review.opendev.org/openstack/swift refs/changes/66/821066/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'swift/common/utils.py']",2,aac01d2b5ed0dbe59caf6875705257076208b692,bucket-ratelimiter,"class RateLimiter(object): def __init__(self, items_per_second, max_burst_size): self.window_end_time = 0.0 self.max_burst_size = max_burst_size try: self.window_duration = self.max_burst_size / items_per_second except ZeroDivisionError: self.window_duration = -1 self.burst_size = 0 def is_granted(self): now = time.time() if now > self.window_end_time: self.burst_size = 1 self.window_end_time = now + self.window_duration return True elif self.burst_size < self.max_burst_size: self.burst_size += 1 return True else: return False ",,30,11
openstack%2Fdevstack~master~I695723efcf6e44459442a33d9e6e4ef5d76378e6,openstack/devstack,master,I695723efcf6e44459442a33d9e6e4ef5d76378e6,Fedora jobs are failing,ABANDONED,2021-12-30 06:37:54.000000000,2022-01-05 09:00:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-30 06:37:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4b4683d30be918edf7e43586a54ea94e4749c921', 'message': 'Fedora jobs are failing\n\nMove devstack-platform-fedora-latest to experimental until someone fixes\nit or we decide to drop it completely.\n\nChange-Id: I695723efcf6e44459442a33d9e6e4ef5d76378e6\n'}]",0,823177,4b4683d30be918edf7e43586a54ea94e4749c921,3,1,1,13252,,,0,"Fedora jobs are failing

Move devstack-platform-fedora-latest to experimental until someone fixes
it or we decide to drop it completely.

Change-Id: I695723efcf6e44459442a33d9e6e4ef5d76378e6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/77/823177/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4b4683d30be918edf7e43586a54ea94e4749c921,drop-fedora, - devstack-platform-fedora-latest, - devstack-platform-fedora-latest,1,1
openstack%2Ftripleo-quickstart-extras~master~I82013d33c1729619e47b633bddd1580e9efe0b55,openstack/tripleo-quickstart-extras,master,I82013d33c1729619e47b633bddd1580e9efe0b55,Configure network for multiple-nics-vlans,MERGED,2021-12-24 12:52:24.000000000,2022-01-05 08:34:09.000000000,2022-01-05 08:34:09.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-12-24 12:52:24.000000000', 'files': ['roles/overcloud-prep-network/defaults/main.yml', 'roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/859f2ec917784fdb21d11b9e2d13cebb61730c05', 'message': 'Configure network for multiple-nics-vlans\n\nCurrently network config for external network\nis not handled when deploying overcloud with\nmultiple-nics-vlans network_isolation.\n\nThis patch handles this case and configures the vlan\non external interface on the undercloud.\n\nChange-Id: I82013d33c1729619e47b633bddd1580e9efe0b55\n'}]",4,822907,859f2ec917784fdb21d11b9e2d13cebb61730c05,23,7,1,13861,,,0,"Configure network for multiple-nics-vlans

Currently network config for external network
is not handled when deploying overcloud with
multiple-nics-vlans network_isolation.

This patch handles this case and configures the vlan
on external interface on the undercloud.

Change-Id: I82013d33c1729619e47b633bddd1580e9efe0b55
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/822907/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-prep-network/defaults/main.yml', 'roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2']",2,859f2ec917784fdb21d11b9e2d13cebb61730c05,multiple-nics-vlans,"{% if network_isolation|bool and network_isolation_type in ['single-nic-vlans', 'single_nic_vlans', 'bond-with-vlans', 'bond_with_vlans', 'multiple-nics-vlans'] %}{% if network_isolation_type == 'multiple-nics-vlans' %} DEVICE={{ external_interface }}.{{ network.tag }} VLAN=yes {% else %} DEVICE=vlan{{ network.tag }} DEVICETYPE={{ network.device_type }} TYPE={{ network.type }}{% endif %}","{% if network_isolation|bool and network_isolation_type in ['single-nic-vlans', 'single_nic_vlans', 'bond-with-vlans', 'bond_with_vlans'] %}DEVICE=vlan{{ network.tag }}DEVICETYPE={{ network.device_type }} TYPE={{ network.type }}",10,4
openstack%2Ftripleo-puppet-elements~master~I11c58e4d9d9c431575f216346fd54daba32f10dd,openstack/tripleo-puppet-elements,master,I11c58e4d9d9c431575f216346fd54daba32f10dd,[DNM] use 9-stream instead of 9 for CS,ABANDONED,2021-12-20 14:22:15.000000000,2022-01-05 07:40:02.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-20 14:22:15.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/bab8f702e8fe4ba1da3bfb87ccc06fd8e1393eda', 'message': '[DNM] use 9-stream instead of 9 for CS\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I11c58e4d9d9c431575f216346fd54daba32f10dd\n'}]",1,822327,bab8f702e8fe4ba1da3bfb87ccc06fd8e1393eda,5,4,1,12393,,,0,"[DNM] use 9-stream instead of 9 for CS

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I11c58e4d9d9c431575f216346fd54daba32f10dd
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/27/822327/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,bab8f702e8fe4ba1da3bfb87ccc06fd8e1393eda,cs9," ""9-stream"": {"," ""9"": {",1,1
openstack%2Ftripleo-ci~master~I3bb9ca01f423e8a340e654fe7f68a7e766ab7d78,openstack/tripleo-ci,master,I3bb9ca01f423e8a340e654fe7f68a7e766ab7d78,Set dib_release to 9-stream,ABANDONED,2021-12-17 06:39:08.000000000,2022-01-05 07:39:19.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-17 06:39:08.000000000', 'files': ['roles/oooci-build-images/vars/centos-9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7de4655888f98976fcad39828ab9b5e8bb26f4bb', 'message': 'Set dib_release to 9-stream\n\nFor CS9, we need to use dib_release as 9-stream\nnot 9.\nhttps://opendev.org/openstack/diskimage-builder/src/branch/master/diskimage_builder/elements/centos/pre-install.d/00-02-set-centos-mirror#L17\n\nThe same is recommended in\nhttps://bugs.launchpad.net/tripleo/+bug/1954456/comments/15\n\nRelated-Bug: #1954456\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3bb9ca01f423e8a340e654fe7f68a7e766ab7d78\n'}]",9,822069,7de4655888f98976fcad39828ab9b5e8bb26f4bb,15,6,1,12393,,,0,"Set dib_release to 9-stream

For CS9, we need to use dib_release as 9-stream
not 9.
https://opendev.org/openstack/diskimage-builder/src/branch/master/diskimage_builder/elements/centos/pre-install.d/00-02-set-centos-mirror#L17

The same is recommended in
https://bugs.launchpad.net/tripleo/+bug/1954456/comments/15

Related-Bug: #1954456

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I3bb9ca01f423e8a340e654fe7f68a7e766ab7d78
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/822069/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/vars/centos-9.yaml'],1,7de4655888f98976fcad39828ab9b5e8bb26f4bb,cs9,"dib_release: ""9-stream""","dib_release: ""9""",1,1
openstack%2Frequirements~master~I5af9fe0a01e8b281abd8b53740dafd2968e4be43,openstack/requirements,master,I5af9fe0a01e8b281abd8b53740dafd2968e4be43,Updated from generate-constraints,MERGED,2022-01-05 02:47:09.000000000,2022-01-05 06:38:53.000000000,2022-01-05 06:37:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 02:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5f43ef1e868469d51df9b1a996b7c520c7b69911', 'message': 'Updated from generate-constraints\n\nChange-Id: I5af9fe0a01e8b281abd8b53740dafd2968e4be43\n'}, {'number': 2, 'created': '2022-01-05 03:09:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f796494ede7ff06037be733d1f5307382e7d4fce', 'message': 'Updated from generate-constraints\n\nChange-Id: I5af9fe0a01e8b281abd8b53740dafd2968e4be43\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,823447,f796494ede7ff06037be733d1f5307382e7d4fce,11,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I5af9fe0a01e8b281abd8b53740dafd2968e4be43
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/823447/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5f43ef1e868469d51df9b1a996b7c520c7b69911,openstack/requirements/constraints/noclob,rcssmin===1.1.0XStatic-Angular===1.8.2.1pyghmi===1.5.32pkg_resources===0.0.0django-compressor===3.1requests===2.27.0ruamel.yaml===0.17.20django-debreach===2.0.1;python_version=='3.6' django-debreach===2.1.0;python_version=='3.8'boto3===1.20.28pysaml2===7.1.0botocore===1.23.28directord===0.11.3Django===3.2.11dulwich===0.20.27zstd===1.5.1.0rjsmin===1.2.0charset-normalizer===2.0.10fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0pyghmi===1.5.31django-compressor===2.4.1requests===2.26.0ruamel.yaml===0.17.19django-debreach===2.0.1diskcache===5.4.0boto3===1.20.26pysaml2===7.0.1botocore===1.23.26directord===0.11.0Django===3.2.10dulwich===0.20.26zstd===1.5.0.4rjsmin===1.1.0charset-normalizer===2.0.9fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.2.0;python_version=='3.8',19,20
openstack%2Ftempest~master~I92d4d49bf5fe52f3417555260e0771397f18334d,openstack/tempest,master,I92d4d49bf5fe52f3417555260e0771397f18334d,Fix: Schema validation of volume list detail,MERGED,2022-01-04 10:53:08.000000000,2022-01-05 05:44:09.000000000,2022-01-04 19:23:57.000000000,"[{'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-01-04 10:53:08.000000000', 'files': ['tempest/lib/api_schema/response/volume/volumes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/81c91f0ec258c77cfc7ac1cec6f2f1e2feaa5efa', 'message': 'Fix: Schema validation of volume list detail\n\nWhen doing the attachment of volume with glance host, the\n""server_id"" field of volume attachment response is null which is\nnot handled in the schema validation of list volume with detail.\nThis caused a failure in one of the tempest volume test\n""test_unmanage_manage_volume"" where we do a list volume with\ndetail request and one volume (probably from other test running\nin parallel) existed with an active attachment to the glance host[2].\nWe can see that the ""server_id"" field of the attached volume is null[3].\nThe ""server_id"" field is only present when doing the attachment\nwith nova.\nThis patch allows the ""server_id"" to be ""string"" as well as ""null"" type\nto handle both nova and glance usecase.\n\n[1] https://86aa517b6cb393144dd6-d78b0c94e26e635eac828273888f290f.ssl.cf5.rackcdn.com/822731/1/check/glance-multistore-cinder-import/e52281e/testr_results.html\n\n[2] Body: b\'{""volumes"": [{""id"": ""e11beb8b-e170-4c5c-945b-e854c01f85ab"",\n""status"": ""in-use"",...\n, ""attachments"":\n[{""id"": ""e11beb8b-e170-4c5c-945b-e854c01f85ab"",\n""attachment_id"": ""5132d152-54c3-4aa6-90e8-f13d2d1d0028"",\n""volume_id"": ""e11beb8b-e170-4c5c-945b-e854c01f85ab"",\n""server_id"": null,\n""host_name"": ""ubuntu-focal-inmotion-iad3-0027876140"",\n""device"": ""glance_store"",...\n\n[3] ""server_id"": null\n\nCloses-Bug: #1956340\nChange-Id: I92d4d49bf5fe52f3417555260e0771397f18334d\n'}]",2,823375,81c91f0ec258c77cfc7ac1cec6f2f1e2feaa5efa,10,4,1,27615,,,0,"Fix: Schema validation of volume list detail

When doing the attachment of volume with glance host, the
""server_id"" field of volume attachment response is null which is
not handled in the schema validation of list volume with detail.
This caused a failure in one of the tempest volume test
""test_unmanage_manage_volume"" where we do a list volume with
detail request and one volume (probably from other test running
in parallel) existed with an active attachment to the glance host[2].
We can see that the ""server_id"" field of the attached volume is null[3].
The ""server_id"" field is only present when doing the attachment
with nova.
This patch allows the ""server_id"" to be ""string"" as well as ""null"" type
to handle both nova and glance usecase.

[1] https://86aa517b6cb393144dd6-d78b0c94e26e635eac828273888f290f.ssl.cf5.rackcdn.com/822731/1/check/glance-multistore-cinder-import/e52281e/testr_results.html

[2] Body: b'{""volumes"": [{""id"": ""e11beb8b-e170-4c5c-945b-e854c01f85ab"",
""status"": ""in-use"",...
, ""attachments"":
[{""id"": ""e11beb8b-e170-4c5c-945b-e854c01f85ab"",
""attachment_id"": ""5132d152-54c3-4aa6-90e8-f13d2d1d0028"",
""volume_id"": ""e11beb8b-e170-4c5c-945b-e854c01f85ab"",
""server_id"": null,
""host_name"": ""ubuntu-focal-inmotion-iad3-0027876140"",
""device"": ""glance_store"",...

[3] ""server_id"": null

Closes-Bug: #1956340
Change-Id: I92d4d49bf5fe52f3417555260e0771397f18334d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/75/823375/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/api_schema/response/volume/volumes.py'],1,81c91f0ec258c77cfc7ac1cec6f2f1e2feaa5efa,bug/1956340," 'server_id': {'type': ['string', 'null'], 'format': 'uuid'},"," 'server_id': {'type': 'string', 'format': 'uuid'},",1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5f5cec5a1622be4983b4d0db392453d1c489fa40,openstack/python-tripleoclient,stable/wallaby,I5f5cec5a1622be4983b4d0db392453d1c489fa40,make net_config_override of undercloud.conf work with yaml,MERGED,2021-12-15 21:41:33.000000000,2022-01-05 05:24:20.000000000,2022-01-05 05:22:50.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 33061}]","[{'number': 1, 'created': '2021-12-15 21:41:33.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/06a82e0ebf5a9e2016bf17d1c272e650e11e9fe6', 'message': 'make net_config_override of undercloud.conf work with yaml\n\nOn setting net_config_override parameter, the undercloud uses\na JSON or YAML format template to configure the networking\nwith os-net-config and ignores the network parameters set in\nundercloud.conf. We can use this parameter when we want to\nconfigure bonding or add an option to the interface.\n\nThis patch will allow net_config_override to work with a json\nor a yaml as an input.\n\nCloses-Bug: #1927090\nChange-Id: I5f5cec5a1622be4983b4d0db392453d1c489fa40\n(cherry picked from commit 253bd6e7db425f2340e8b47319cd527a5210333d)\n'}]",2,821884,06a82e0ebf5a9e2016bf17d1c272e650e11e9fe6,12,3,1,4571,,,0,"make net_config_override of undercloud.conf work with yaml

On setting net_config_override parameter, the undercloud uses
a JSON or YAML format template to configure the networking
with os-net-config and ignores the network parameters set in
undercloud.conf. We can use this parameter when we want to
configure bonding or add an option to the interface.

This patch will allow net_config_override to work with a json
or a yaml as an input.

Closes-Bug: #1927090
Change-Id: I5f5cec5a1622be4983b4d0db392453d1c489fa40
(cherry picked from commit 253bd6e7db425f2340e8b47319cd527a5210333d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/821884/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py']",2,06a82e0ebf5a9e2016bf17d1c272e650e11e9fe6,wallabybug/1927090,"import yaml net_config_json = yaml.safe_load(net_config_str) except ValueError: net_config_json = yaml.safe_load(""{%s}"" % net_config_str)","import json net_config_json = json.loads(net_config_str) except ValueError: net_config_json = json.loads(""{%s}"" % net_config_str)",4,4
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7,openstack/tripleo-heat-templates,stable/ussuri,Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7,Remove ganesha_vip extra config workaround,MERGED,2021-12-22 19:02:29.000000000,2022-01-05 05:22:47.000000000,2022-01-05 05:22:47.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-22 19:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7de892fabf713c78942b6ce04b1921b08ab99620', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nRelated-Bug: #1911022\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822681\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/822680\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n'}, {'number': 2, 'created': '2022-01-03 18:01:00.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68cc95c3aff6402e3b741cf6ad7ca2f4b2330490', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nRelated-Bug: #1911022\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n'}]",2,822682,68cc95c3aff6402e3b741cf6ad7ca2f4b2330490,16,3,2,9003,,,0,"Remove ganesha_vip extra config workaround

for scenario004

We were using extra config to set ganesha_vip because it was unset
if the isolated StorageNFS network is not deployed, as it is with
Standalone deployment in CI.

Now it is set, and set to an address on the external net where guest
VMs can reach it.

Related-Bug: #1911022
Change-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7
(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)
(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/822682/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,7de892fabf713c78942b6ce04b1921b08ab99620,,, # Workaround for https://bugs.launchpad.net/tripleo/+bug/1911022 ExtraConfig: ganesha_vip: 192.168.24.3,0,3
openstack%2Fcyborg-tempest-plugin~master~I1f47526ef27a2685eb06f7205f417c00c30f57ac,openstack/cyborg-tempest-plugin,master,I1f47526ef27a2685eb06f7205f417c00c30f57ac,delete the accelerator request by not-existent ins,NEW,2022-01-05 03:16:21.000000000,2022-01-05 04:02:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-05 03:16:21.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a3bb8476373ccc2b900a8f5517986106e008d1fa', 'message': 'delete the accelerator request by not-existent ins\n\nadd delete accelerator request by ins uuid function and testcase\n\nChange-Id: I1f47526ef27a2685eb06f7205f417c00c30f57ac\n'}]",0,823472,a3bb8476373ccc2b900a8f5517986106e008d1fa,2,1,1,30409,,,0,"delete the accelerator request by not-existent ins

add delete accelerator request by ins uuid function and testcase

Change-Id: I1f47526ef27a2685eb06f7205f417c00c30f57ac
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/72/823472/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py']",2,a3bb8476373ccc2b900a8f5517986106e008d1fa,master6," def delete_accelerator_request_by_ins_uuid(self, instance_uuid): url = self.AR_URL + ""?instance="" + instance_uuid resp, body = self.delete(url) return self._response_helper(resp, body) ",,14,0
openstack%2Fpuppet-zaqar~master~Iaa0042acb9fda198f10e6067523301bfd08bf249,openstack/puppet-zaqar,master,Iaa0042acb9fda198f10e6067523301bfd08bf249,Disable the zaqar-messaging service user,MERGED,2022-01-03 06:18:04.000000000,2022-01-05 03:10:46.000000000,2022-01-05 03:03:40.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 06:18:04.000000000', 'files': ['releasenotes/notes/websocket-auth-391e1257fe96fd02.yaml', 'manifests/keystone/auth_websocket.pp', 'spec/classes/zaqar_keystone_auth_websocket_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/7eeb46e04d61189925dbbaa06d3016a0235d6200', 'message': 'Disable the zaqar-messaging service user\n\nThe zaqar::keystone::auth_websocket class has been added to create\nan independent keystone endpoint for websocket service but the service\nuser created by the class has never been used.\nThis change disables the logic to create the user and the associated\nresources like roles and projects, so that only required resources are\ncreated.\n\nChange-Id: Iaa0042acb9fda198f10e6067523301bfd08bf249\n'}]",0,823250,7eeb46e04d61189925dbbaa06d3016a0235d6200,8,3,1,9816,,,0,"Disable the zaqar-messaging service user

The zaqar::keystone::auth_websocket class has been added to create
an independent keystone endpoint for websocket service but the service
user created by the class has never been used.
This change disables the logic to create the user and the associated
resources like roles and projects, so that only required resources are
created.

Change-Id: Iaa0042acb9fda198f10e6067523301bfd08bf249
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/50/823250/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/websocket-auth-391e1257fe96fd02.yaml', 'manifests/keystone/auth_websocket.pp', 'spec/classes/zaqar_keystone_auth_websocket_spec.rb']",3,7eeb46e04d61189925dbbaa06d3016a0235d6200,," :configure_user => false, :configure_user_role => false, { :configure_endpoint => false,"," :configure_user => true, :configure_user_role => true, :auth_name => 'zaqar-websocket', :password => 'zaqar-websocket_password', :email => 'zaqar-websocket@localhost', :tenant => 'services', { :password => 'zaqar-websocket_password', :auth_name => 'alt_zaqar-websocket', :email => 'alt_zaqar-websocket@alt_localhost', :tenant => 'alt_service', :configure_endpoint => false, :configure_user => false, :configure_user_role => false, :auth_name => 'alt_zaqar-websocket', :password => 'zaqar-websocket_password', :email => 'alt_zaqar-websocket@alt_localhost', :tenant => 'alt_service',",77,58
openstack%2Fpuppet-zaqar~master~I2a54b0d0c03a98b3fe7a3a4a28051247eea7e70a,openstack/puppet-zaqar,master,I2a54b0d0c03a98b3fe7a3a4a28051247eea7e70a,Accept system scope credentials for Keystone API request,MERGED,2022-01-03 06:02:40.000000000,2022-01-05 03:07:20.000000000,2022-01-05 03:03:38.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 06:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/b289ef28ea0bb8397e858f0b5cf0016759717996', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I2a54b0d0c03a98b3fe7a3a4a28051247eea7e70a\n'}, {'number': 2, 'created': '2022-01-03 06:28:40.000000000', 'files': ['spec/classes/zaqar_keystone_auth_spec.rb', 'spec/classes/zaqar_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/system_scope-keystone-ce89823e072150ce.yaml', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/fe7da441a6512558f13c142dabfa349fcae9770c', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I2a54b0d0c03a98b3fe7a3a4a28051247eea7e70a\n'}]",0,823249,fe7da441a6512558f13c142dabfa349fcae9770c,10,3,2,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I2a54b0d0c03a98b3fe7a3a4a28051247eea7e70a
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/49/823249/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/zaqar_keystone_auth_spec.rb', 'manifests/keystone/authtoken.pp', 'spec/classes/zaqar_keystone_authtoken_spec.rb', 'releasenotes/notes/system_scope-keystone-ce89823e072150ce.yaml', 'manifests/keystone/auth.pp']",5,b289ef28ea0bb8397e858f0b5cf0016759717996,system-scope-params,"# [*roles*] # (Optional) List of roles assigned to neutron user. # Defaults to ['admin'] # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to neutron user. # Defaults to [] # $roles = ['admin'], $system_scope = 'all', $system_roles = [], roles => $roles, system_scope => $system_scope, system_roles => $system_roles,",,49,0
openstack%2Fironic-python-agent~stable%2Ftrain~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,stable/train,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-12-15 01:58:04.000000000,2022-01-05 02:22:33.000000000,2022-01-05 02:13:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-15 01:58:04.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/df187ae25b37db02e9bc91c0b969d730ed2c4d48', 'message': ""Re-read the partition table with partx -a\n\nRe-read the partition table with 'partx -a', rather than 'partx -u'.\n\nThis should fix an timing issue where the bootloader installation\nfails to mount the EFI partition from a whole disk image since it\nis not yet aware of the new partitions (observed with both, the\niscsi and the direct deploy interface).\n\nChange-Id: If5da3075e813ae01df3decf8f0647aba111b0515\n(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)\n(cherry picked from commit ab3e8a75badf2719602b2416af9e3c19d7511c79)\n(cherry picked from commit 74389394001d3fd436ef963d60c93c2b3ee09f0d)\n""}]",1,821791,df187ae25b37db02e9bc91c0b969d730ed2c4d48,13,5,1,4571,,,0,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)
(cherry picked from commit ab3e8a75badf2719602b2416af9e3c19d7511c79)
(cherry picked from commit 74389394001d3fd436ef963d60c93c2b3ee09f0d)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/91/821791/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/fix-rescan-device-7b00c6836b687ce8.yaml']",3,df187ae25b37db02e9bc91c0b969d730ed2c4d48,train/partx-a,--- fixes: - | Fixes an issue where partitions are not visible due to a incorrect call to have the partition table re-read. ,,20,15
openstack%2Fswift~master~Ib4bee6725e9c443992a9599b8372f9b3c6dc3c00,openstack/swift,master,Ib4bee6725e9c443992a9599b8372f9b3c6dc3c00,Improve some logging when aborting workers,NEW,2022-01-05 00:12:34.000000000,2022-01-05 01:50:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-05 00:12:34.000000000', 'files': ['swift/obj/reconstructor.py', 'swift/common/daemon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ebe7c8a0b9b01df013b957d3272f012365842301', 'message': 'Improve some logging when aborting workers\n\nChange-Id: Ib4bee6725e9c443992a9599b8372f9b3c6dc3c00\n'}]",0,823439,ebe7c8a0b9b01df013b957d3272f012365842301,3,1,1,15343,,,0,"Improve some logging when aborting workers

Change-Id: Ib4bee6725e9c443992a9599b8372f9b3c6dc3c00
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/823439/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/daemon.py', 'swift/obj/reconstructor.py']",2,ebe7c8a0b9b01df013b957d3272f012365842301,," current_local_devices = self.get_local_devices() if current_local_devices == self.all_local_devices: return True else: self.logger.info('Devices changed: %r -> %r', self.all_local_devices, current_local_devices) return False", return self.get_local_devices() == self.all_local_devices,8,2
openstack%2Fcinder~stable%2Fxena~I73958099b32e44e7e4875d0eba0e2c0096a12252,openstack/cinder,stable/xena,I73958099b32e44e7e4875d0eba0e2c0096a12252,"Dell PowerVault: Fix ""cinder manageable-list""",MERGED,2021-09-27 17:49:20.000000000,2022-01-05 01:35:34.000000000,2022-01-05 01:10:58.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-09-27 17:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ede17687042b91a4054e15080dba1fc1fd0e9d3b', 'message': 'Dell PowerVault: Fix ""cinder manageable-list""\n\nThe Dell PowerVault ME driver claims support for importing volumes and\nalthough it does support ""cinder manage"", some related functions were\nmissing, so it did not support ""cinder manageable-list"" or the related\nsnapshot functions.\n\nPartial-Bug: #1922255\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/809968\n\nChange-Id: I73958099b32e44e7e4875d0eba0e2c0096a12252\n'}, {'number': 2, 'created': '2021-11-15 23:50:20.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_seagate.py', 'releasenotes/notes/bug-1922255-dell-powervault-manage-volumes.rst', 'cinder/volume/drivers/stx/client.py', 'cinder/volume/drivers/stx/common.py', 'cinder/volume/drivers/stx/fc.py', 'cinder/volume/drivers/stx/iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bebe93ef8c96db703d38349e39010a92535fd63', 'message': 'Dell PowerVault: Fix ""cinder manageable-list""\n\nThe Dell PowerVault ME driver claims support for importing volumes and\nalthough it does support ""cinder manage"", some related functions were\nmissing, so it did not support ""cinder manageable-list"" or the related\nsnapshot functions.\n\nPartial-Bug: #1922255\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/809968\n\nChange-Id: I73958099b32e44e7e4875d0eba0e2c0096a12252\n(cherry picked from commit bff1d26f6fc7c492ee9cfcde0f09868c34a5cd20)\n'}]",7,811155,5bebe93ef8c96db703d38349e39010a92535fd63,63,4,2,17042,,,0,"Dell PowerVault: Fix ""cinder manageable-list""

The Dell PowerVault ME driver claims support for importing volumes and
although it does support ""cinder manage"", some related functions were
missing, so it did not support ""cinder manageable-list"" or the related
snapshot functions.

Partial-Bug: #1922255
Depends-on: https://review.opendev.org/c/openstack/cinder/+/809968

Change-Id: I73958099b32e44e7e4875d0eba0e2c0096a12252
(cherry picked from commit bff1d26f6fc7c492ee9cfcde0f09868c34a5cd20)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/811155/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_seagate.py', 'releasenotes/notes/bug-1922255-dell-powervault-manage-volumes.rst', 'cinder/volume/drivers/stx/client.py', 'cinder/volume/drivers/stx/common.py', 'cinder/volume/drivers/stx/fc.py', 'cinder/volume/drivers/stx/iscsi.py']",6,ede17687042b91a4054e15080dba1fc1fd0e9d3b,bug/1922255-stable/xena," def manage_existing_snapshot(self, snapshot, existing_ref): return self.common.manage_existing_snapshot(snapshot, existing_ref) def manage_existing_snapshot_get_size(self, snapshot, existing_ref): return self.common.manage_existing_snapshot_get_size(snapshot, existing_ref) def unmanage_snapshot(self, snapshot): pass def get_manageable_volumes(self, cinder_volumes, marker, limit, offset, sort_keys, sort_dirs): return self.common.get_manageable_volumes(cinder_volumes, marker, limit, offset, sort_keys, sort_dirs) def get_manageable_snapshots(self, cinder_snapshots, marker, limit, offset, sort_keys, sort_dirs): return self.common.get_manageable_snapshots(cinder_snapshots, marker, limit, offset, sort_keys, sort_dirs)",,391,2
openstack%2Fvenus~master~I33c6c546bebc88eeafea47c99b0d2d6c8dae6deb,openstack/venus,master,I33c6c546bebc88eeafea47c99b0d2d6c8dae6deb,Dict get properties default is None,MERGED,2021-12-29 08:54:02.000000000,2022-01-05 00:57:20.000000000,2022-01-05 00:54:48.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}, {'_account_id': 32577}]","[{'number': 1, 'created': '2021-12-29 08:54:02.000000000', 'files': ['venus/modules/search/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/28deed28387d13bc0448d2a1c212484d8fc14ff9', 'message': 'Dict get properties default is None\n\nChange-Id: I33c6c546bebc88eeafea47c99b0d2d6c8dae6deb\n'}]",0,823154,28deed28387d13bc0448d2a1c212484d8fc14ff9,8,4,1,31412,,,0,"Dict get properties default is None

Change-Id: I33c6c546bebc88eeafea47c99b0d2d6c8dae6deb
",git fetch https://review.opendev.org/openstack/venus refs/changes/54/823154/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/search/action.py'],1,28deed28387d13bc0448d2a1c212484d8fc14ff9,," aggr = res.get(""aggregations"") search_values = aggr.get(""search_values"") buckets = search_values.get(""buckets"") aggr = res.get(""aggregations"") search_values = aggr.get(""data_count"") buckets = search_values.get(""buckets"") hits1 = res.get(""hits"") hits = hits1.get(""hits"") _source = hit.get(""_source"") aggr = res.get(""aggregations"") search_values = aggr.get(""data_count"") buckets = search_values.get(""buckets"") aggr = res.get(""aggregations"") data_group = aggr.get(""data_group"") buckets = data_group.get(""buckets"") data_count = bucket.get(""data_count"") sub_buckets = data_count.get(""buckets"") hits1 = res.get(""hits"") hits = hits1.get(""hits"") _source = hit.get(""_source"") if hostinfos.get(hostname) is None: payload = i.get(""payload"") hits1 = json_text.get(""hits"") hits = hits1.get(""hits"") _source = hit.get(""_source"") if hostinfos.get(hostname) is None: "," aggr = res.get(""aggregations"", None) search_values = aggr.get(""search_values"", None) buckets = search_values.get(""buckets"", None) aggr = res.get(""aggregations"", None) search_values = aggr.get(""data_count"", None) buckets = search_values.get(""buckets"", None) hits1 = res.get(""hits"", None) hits = hits1.get(""hits"", None) _source = hit.get(""_source"", None) aggr = res.get(""aggregations"", None) search_values = aggr.get(""data_count"", None) buckets = search_values.get(""buckets"", None) aggr = res.get(""aggregations"", None) data_group = aggr.get(""data_group"", None) buckets = data_group.get(""buckets"", None) data_count = bucket.get(""data_count"", None) sub_buckets = data_count.get(""buckets"", None) hits1 = res.get(""hits"", None) hits = hits1.get(""hits"", None) _source = hit.get(""_source"", None) if hostinfos.get(hostname, None) is None: payload = i.get(""payload"", None) hits1 = json_text.get(""hits"", None) hits = hits1.get(""hits"", None) _source = hit.get(""_source"", None) if hostinfos.get(hostname, None) is None: ",26,26
openstack%2Fvenus~master~I6eed224600398a2fdfef94b37da0d8e419e5f17e,openstack/venus,master,I6eed224600398a2fdfef94b37da0d8e419e5f17e,Add unit test for get index names,MERGED,2021-12-29 02:00:03.000000000,2022-01-05 00:56:16.000000000,2022-01-05 00:54:45.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}, {'_account_id': 32577}]","[{'number': 1, 'created': '2021-12-29 02:00:03.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/cb10a32176240cb90a79e929dea5c06b7f5c7250', 'message': 'Add unit test for get index names\n\nChange-Id: I6eed224600398a2fdfef94b37da0d8e419e5f17e\n'}]",1,823119,cb10a32176240cb90a79e929dea5c06b7f5c7250,8,4,1,31412,,,0,"Add unit test for get index names

Change-Id: I6eed224600398a2fdfef94b37da0d8e419e5f17e
",git fetch https://review.opendev.org/openstack/venus refs/changes/19/823119/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,cb10a32176240cb90a79e929dea5c06b7f5c7250,,"import datetime @mock.patch('venus.modules.search.action.SearchCore.get_all_index') def test_get_index_names_none(self, mock_get_all_index): action = SearchCore() names = [""test_index-2021.01.03"", ""test_index-2021.01.04""] mock_get_all_index.return_value = names end_time = datetime.datetime(2021, 1, 2) start_time = datetime.datetime(2021, 1, 1) index_names = action.get_index_names( 'test_index', start_time, end_time) self.assertIsNone(index_names) @mock.patch('venus.modules.search.action.SearchCore.get_all_index') def test_get_index_names(self, mock_get_all_index): action = SearchCore() names = [""test_index-2021.01.01"", ""test_index-2021.01.02""] mock_get_all_index.return_value = names end_time = datetime.datetime(2021, 1, 2) start_time = datetime.datetime(2021, 1, 1) index_names = action.get_index_names( 'test_index', start_time, end_time) self.assertEqual("","".join(names), index_names) ",,23,0
openstack%2Fwatcher~master~I11b7949de511eb00bd7e08ab33db87973522f87e,openstack/watcher,master,I11b7949de511eb00bd7e08ab33db87973522f87e,Fix copyright of the files,NEW,2021-12-30 02:07:50.000000000,2022-01-05 00:55:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 24501}]","[{'number': 1, 'created': '2021-12-30 02:07:50.000000000', 'files': ['watcher/applier/actions/base.py', 'watcher/applier/loading/default.py', 'watcher/decision_engine/audit/base.py', 'setup.py', 'watcher/decision_engine/audit/continuous.py', 'watcher/applier/actions/factory.py', 'watcher/tests/__init__.py', 'watcher/db/migration.py', 'watcher/api/config.py', 'watcher/applier/action_plan/base.py', 'watcher/applier/actions/nop.py', 'watcher/db/api.py', 'watcher/decision_engine/audit/event.py', 'watcher/api/acl.py', 'watcher/decision_engine/audit/oneshot.py', 'watcher/applier/actions/migration.py', 'watcher/applier/actions/change_node_power_state.py', 'watcher/applier/actions/change_nova_service_state.py', 'watcher/api/app.py', 'watcher/applier/action_plan/default.py', 'watcher/applier/actions/resize.py', 'watcher/api/wsgi.py', 'watcher/applier/actions/sleep.py', 'watcher/applier/actions/volume_migration.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/68a78670f3ec115fc463447b86b4a88e169bcdc6', 'message': 'Fix copyright of the files\n\nChange-Id: I11b7949de511eb00bd7e08ab33db87973522f87e\n'}]",0,823172,68a78670f3ec115fc463447b86b4a88e169bcdc6,4,2,1,33881,,,0,"Fix copyright of the files

Change-Id: I11b7949de511eb00bd7e08ab33db87973522f87e
",git fetch https://review.opendev.org/openstack/watcher refs/changes/72/823172/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/applier/actions/base.py', 'watcher/applier/loading/default.py', 'watcher/decision_engine/audit/base.py', 'setup.py', 'watcher/decision_engine/audit/continuous.py', 'watcher/applier/actions/factory.py', 'watcher/tests/__init__.py', 'watcher/db/migration.py', 'watcher/api/config.py', 'watcher/applier/action_plan/base.py', 'watcher/applier/actions/nop.py', 'watcher/db/api.py', 'watcher/decision_engine/audit/event.py', 'watcher/api/acl.py', 'watcher/decision_engine/audit/oneshot.py', 'watcher/applier/actions/migration.py', 'watcher/applier/actions/change_node_power_state.py', 'watcher/applier/actions/change_nova_service_state.py', 'watcher/api/app.py', 'watcher/applier/action_plan/default.py', 'watcher/applier/actions/resize.py', 'watcher/api/wsgi.py', 'watcher/applier/actions/sleep.py', 'watcher/applier/actions/volume_migration.py']",24,68a78670f3ec115fc463447b86b4a88e169bcdc6,,# http://www.apache.org/licenses/LICENSE-2.0,# http://www.apache.org/licenses/LICENSE-2.0,48,48
openstack%2Fvenus~master~I3dd3028920933c124832e488430ffc1027bc151c,openstack/venus,master,I3dd3028920933c124832e488430ffc1027bc151c,Add unit test for params,MERGED,2021-12-29 08:45:12.000000000,2022-01-05 00:54:47.000000000,2022-01-05 00:54:47.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}, {'_account_id': 32577}]","[{'number': 1, 'created': '2021-12-29 08:45:12.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/77e55cda7e04eec93c33bad473f7c500b06df292', 'message': 'Add unit test for params\n\nChange-Id: I3dd3028920933c124832e488430ffc1027bc151c\n'}]",1,823153,77e55cda7e04eec93c33bad473f7c500b06df292,7,4,1,31412,,,0,"Add unit test for params

Change-Id: I3dd3028920933c124832e488430ffc1027bc151c
",git fetch https://review.opendev.org/openstack/venus refs/changes/53/823153/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,77e55cda7e04eec93c33bad473f7c500b06df292,," def test_params_invalid_param(self): action = SearchCore() result = action.params('', '', None) expected = {""code"": -1, ""msg"": ""invalid param""} self.assertEqual(expected, result) result = action.params('host_name', '', '') self.assertEqual(expected, result) def test_params_no_index_data(self): action = SearchCore() result = action.params('host_name', '', None) expected = {'code': 0, 'msg': 'no data, no index'} self.assertEqual(expected, result) @mock.patch('venus.modules.search.es_template.search_params') @mock.patch('venus.modules.search.action.SearchCore.get_index_names') @mock.patch('venus.common.utils.request_es') def test_params_internal_error( self, mock_req_es, mock_get_index_names, mock_search_params): mock_get_index_names.return_value = 'flog-2021.01.03,flog-2021.01.04' mock_req_es.return_value = (400, {}) action = SearchCore() result = action.params('host_name', '', None) expected = {""code"": -1, ""msg"": ""internal error, bad request""} self.assertEqual(expected, result) @mock.patch('venus.modules.search.es_template.search_params') @mock.patch('venus.modules.search.action.SearchCore.get_index_names') @mock.patch('venus.common.utils.request_es') def test_params_no_aggregations_data( self, mock_req_es, mock_get_index_names, mock_search_params): mock_get_index_names.return_value = 'flog-2021.01.03,flog-2021.01.04' mock_req_es.return_value = (200, '{}') action = SearchCore() result = action.params('host_name', '', None) expected = {""code"": 0, ""msg"": ""no data, no aggregations""} self.assertEqual(expected, result) @mock.patch('venus.modules.search.es_template.search_params') @mock.patch('venus.modules.search.action.SearchCore.get_index_names') @mock.patch('venus.common.utils.request_es') def test_params_level_type( self, mock_req_es, mock_get_index_names, mock_search_params): mock_req_es.return_value = ( 200, '{""aggregations"": {""search_values"": ' '{""buckets"": [{""key"": ""val1""}, {""key"": ""val2""}]}}}') mock_get_index_names.return_value = 'flog-2021.01.03,flog-2021.01.04' action = SearchCore() result = action.params('level', '', None) expected = {'code': 1, 'msg': 'OK', ""values"": ['VAL1', 'VAL2', 'NO EXIST']} self.assertEqual(expected, result) @mock.patch('venus.modules.search.es_template.search_params') @mock.patch('venus.modules.search.action.SearchCore.get_index_names') @mock.patch('venus.common.utils.request_es') def test_params_not_level_type( self, mock_req_es, mock_get_index_names, mock_search_params): mock_req_es.return_value = ( 200, '{""aggregations"": {""search_values"": ' '{""buckets"": [{""key"": ""val1""}, {""key"": ""val2""}]}}}') mock_get_index_names.return_value = 'flog-2021.01.03,flog-2021.01.04' action = SearchCore() result = action.params('program_name', '', None) expected = {'code': 1, 'msg': 'OK', ""values"": ['val1', 'val2']} self.assertEqual(expected, result) ",,67,0
openstack%2Fironic-python-agent-builder~stable%2Fwallaby~Ieda04e331badf7455e25c4e51fd3f9588c692dbe,openstack/ironic-python-agent-builder,stable/wallaby,Ieda04e331badf7455e25c4e51fd3f9588c692dbe,Preliminary work to support CentOS 9 Stream,ABANDONED,2022-01-04 21:25:57.000000000,2022-01-04 22:56:36.000000000,,"[{'_account_id': 10969}, {'_account_id': 11655}]","[{'number': 1, 'created': '2022-01-04 21:25:57.000000000', 'files': ['zuul.d/ironic-python-agent-builder-jobs.yaml', 'dib/extra-hardware/pkg-map', 'zuul.d/project.yaml', 'dib/ironic-python-agent-ramdisk/pkg-map'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8691bf414a5a8436e45094e5e316c31507226bba', 'message': 'Preliminary work to support CentOS 9 Stream\n\nChanges package mappings to default to Python 3. Unfortunately, the\nbuild does not work yet because of some issue in DIB.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: Ieda04e331badf7455e25c4e51fd3f9588c692dbe\n(cherry picked from commit 09dcdedf001f4e06103cfbe402d5f887b24b24cc)\n'}]",2,823431,8691bf414a5a8436e45094e5e316c31507226bba,4,2,1,34208,,,0,"Preliminary work to support CentOS 9 Stream

Changes package mappings to default to Python 3. Unfortunately, the
build does not work yet because of some issue in DIB.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: Ieda04e331badf7455e25c4e51fd3f9588c692dbe
(cherry picked from commit 09dcdedf001f4e06103cfbe402d5f887b24b24cc)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/31/823431/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-builder-jobs.yaml', 'dib/extra-hardware/pkg-map', 'zuul.d/project.yaml', 'dib/ironic-python-agent-ramdisk/pkg-map']",4,8691bf414a5a8436e45094e5e316c31507226bba,," ""7"": { ""python"": ""python"", ""python-dev"": ""python-devel"", ""tgt"": ""scsi-target-utils"" ""7"": { ""python"": ""python"", ""python-dev"": ""python-devel"", ""tgt"": ""scsi-target-utils"" ""python-dev"": ""python3-devel"", ""tgt"": ""target-restore"" ""ironic-python-agent"": ""openstack-ironic-python-agent"", ""python"": ""python3"", ""python-dev"": ""python3-dev"""," ""8"": { ""tgt"": ""target-restore"", ""python"": ""python3"", ""python-dev"": ""python3-devel"" ""8"": { ""tgt"": ""target-restore"", ""python"": ""python3"", ""python-dev"": ""python3-devel"" } }, ""ubuntu"": { ""bionic"": { ""python"": ""python3"", ""python-dev"": ""python3-dev"" ""tgt"": ""scsi-target-utils"", ""python-dev"": ""python-devel"" }, ""debian"": { ""python"": ""python3"", ""python-dev"": ""python3-dev"" ""python"": ""python3"", ""ironic-python-agent"": ""openstack-ironic-python-agent""",46,27
openstack%2Ftripleo-common~master~I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2,openstack/tripleo-common,master,I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2,Remove /etc/yum.repos.d/ubi.repo,MERGED,2022-01-04 10:11:21.000000000,2022-01-04 22:37:59.000000000,2022-01-04 22:36:30.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-04 10:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e8c200e01c91c7acac8245f7d16a100ef3e49c6a', 'message': 'Remove /etc/yum.repos.d/ubi.repo\n\nin ubi9 beta image, /etc/yum.repos.d/ubi.repo is empty so\ndisabled it via dnf fails and it breaks the container\nbuild.\n\nRemoving this file completely fixes the issue.\n\nCloses-Bug: #1956319\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2\n'}, {'number': 2, 'created': '2022-01-04 14:05:03.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/534f7f7584176fcb3a0266756281ed933bae7318', 'message': 'Remove /etc/yum.repos.d/ubi.repo\n\nin ubi9 beta image, /etc/yum.repos.d/ubi.repo is empty so\ndisabled it via dnf fails and it breaks the container\nbuild.\n\nRemoving this file completely fixes the issue.\n\nCloses-Bug: #1956319\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2\n'}]",4,823370,534f7f7584176fcb3a0266756281ed933bae7318,14,7,2,12393,,,0,"Remove /etc/yum.repos.d/ubi.repo

in ubi9 beta image, /etc/yum.repos.d/ubi.repo is empty so
disabled it via dnf fails and it breaks the container
build.

Removing this file completely fixes the issue.

Closes-Bug: #1956319

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I0cf3313e7bfb30f0e9cae1f4b8ce265a1e8996d2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/823370/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,e8c200e01c91c7acac8245f7d16a100ef3e49c6a,cs9,"- run: if [ -f ""/etc/yum.repos.d/ubi.repo"" ]; then rm -rf /etc/yum.repos.d/ubi.repo && dnf clean all && rm -rf /var/cache/dnf; fi","- run: if [ -f ""/etc/yum.repos.d/ubi.repo"" ]; then dnf config-manager --set-disabled ""ubi*"" && dnf clean all && rm -rf /var/cache/dnf; fi",1,1
openstack%2Fgoal-tools~master~Ic2dbe0b5508f68f7d3d0748fa5adb6c4fcd54bae,openstack/goal-tools,master,Ic2dbe0b5508f68f7d3d0748fa5adb6c4fcd54bae,Add generators for secure RBAC tempest testing,ABANDONED,2020-10-30 21:55:30.000000000,2022-01-04 22:10:43.000000000,,"[{'_account_id': 8556}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-30 21:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/31a3633f895db7f5a45218ca1d662fb7670b25b9', 'message': ""Add generators for secure RBAC tempest testing\n\nI'm not sure if this is appropriate for a goal_tool but I was working on\nit locally and wanted to get some feedback.\n\nSeveral of the OpenStack projects are looking to adopt secure RBAC,\nwhich is an initiative to implement scope checking and default roles.\nThis work requires extensive testing and this patch introduces some code\ngenerators to make it easier for developers to generate tempest plugin\ntests.\n\nThe basis of these tests were pulled from an example implementation done\nby keystone:\n\n  https://review.opendev.org/#/c/686305/\n\nThe generators are not expected to generate complete code, but just lay\ndown boilerplate code. Developers can then go through and adjust the\ntest modules and test cases according to the service and resource their\ntesting.\n\nChange-Id: Ic2dbe0b5508f68f7d3d0748fa5adb6c4fcd54bae\n""}, {'number': 2, 'created': '2020-10-30 22:07:34.000000000', 'files': ['goal_tools/secure_rbac/generate.py', 'goal_tools/secure_rbac/generate_base.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/4d7fe0dbe774ac076e5abb3c04fd7e21fcd6f854', 'message': ""Add generators for secure RBAC tempest testing\n\nI'm not sure if this is appropriate for a goal_tool but I was working on\nit locally and wanted to get some feedback.\n\nSeveral of the OpenStack projects are looking to adopt secure RBAC,\nwhich is an initiative to implement scope checking and default roles.\nThis work requires extensive testing and this patch introduces some code\ngenerators to make it easier for developers to generate tempest plugin\ntests.\n\nThe basis of these tests were pulled from an example implementation done\nby keystone:\n\n  https://review.opendev.org/#/c/686305/\n\nThe generators are not expected to generate complete code, but just lay\ndown boilerplate code. Developers can then go through and adjust the\ntest modules and test cases according to the service and resource their\ntesting.\n\nChange-Id: Ic2dbe0b5508f68f7d3d0748fa5adb6c4fcd54bae\n""}]",6,760669,4d7fe0dbe774ac076e5abb3c04fd7e21fcd6f854,5,3,2,5046,,,0,"Add generators for secure RBAC tempest testing

I'm not sure if this is appropriate for a goal_tool but I was working on
it locally and wanted to get some feedback.

Several of the OpenStack projects are looking to adopt secure RBAC,
which is an initiative to implement scope checking and default roles.
This work requires extensive testing and this patch introduces some code
generators to make it easier for developers to generate tempest plugin
tests.

The basis of these tests were pulled from an example implementation done
by keystone:

  https://review.opendev.org/#/c/686305/

The generators are not expected to generate complete code, but just lay
down boilerplate code. Developers can then go through and adjust the
test modules and test cases according to the service and resource their
testing.

Change-Id: Ic2dbe0b5508f68f7d3d0748fa5adb6c4fcd54bae
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/69/760669/1 && git format-patch -1 --stdout FETCH_HEAD,"['goal_tools/secure_rbac/generate.py', 'goal_tools/secure_rbac/generate_base.py']",2,31a3633f895db7f5a45218ca1d662fb7670b25b9,,"import datetime import argparse import configparser import jinja2 year = datetime.datetime.now().year parser = argparse.ArgumentParser(description='Generate RBAC base class.') parser.add_argument('-s', '--service', help='Service type.', required=True) parser.add_argument('-n', '--service-name', help='Service name.', required=True) args = parser.parse_args() template = jinja2.Template('''# Copyright {{ year }} OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config CONF = config.CONF class {{ capital_service }}V3RbacBaseTests(object): identity_version = 'v3' @classmethod def skip_checks(cls): super({{ capital_service }}V3RbacBaseTests, cls).skip_checks() if not CONF.{{ service }}_feature_enabled.enforce_scope: raise cls.skipException(""enforce_scope is not enabled for "" ""{{ service_name }}, skipping RBAC tests"") def do_request(self, method, expected_status=200, client=None, **payload): if not client: client = self.client if isinstance(expected_status, type(Exception)): self.assertRaises(expected_status, getattr(client, method), **payload) else: response = getattr(client, method)(**payload) self.assertEqual(response.response.status, expected_status) return response ''') rendered = template.render( service=args.service, service_name=args.service_name, capital_service=args.service.capitalize(), year=year ) print(rendered) ",,234,0
openstack%2Fkeystone~stable%2Fussuri~Icad9383c8bc963843ef36fc24d745f29fc8798ed,openstack/keystone,stable/ussuri,Icad9383c8bc963843ef36fc24d745f29fc8798ed,Update amqp lower constraint,ABANDONED,2020-09-09 18:54:21.000000000,2022-01-04 22:09:36.000000000,,"[{'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-09 18:54:21.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/12891a039fb1dae7ba22884cf78ad7d1faa8569d', 'message': ""Update amqp lower constraint\n\nNewer versions of kombu rely on updated versions of amqp [0]. Keystone's\nlower-constraints job is failing consistently across multiple branches\nbecause it's referencing amqp 2.2.2 when we should be relying on a newer\nversion (5.0.0+).\n\nYou can verify this by using `pip3 check` with the lower-constraints tox\nenvironment.\n\nWithout this patch, you'll likely see the test_notifications tests fail\nwith something like:\n\n  ModuleNotFoundError: No module named 'vine.five'\n\nWhich spirals into subsequent failures mocking messaging drivers.\n\n[0] https://github.com/celery/celery/issues/3547\n\nChange-Id: Icad9383c8bc963843ef36fc24d745f29fc8798ed\n(cherry picked from commit c495defc2bd4f2ef5a38d2a9e4d5aac5653fb406)\n""}]",0,750787,12891a039fb1dae7ba22884cf78ad7d1faa8569d,3,2,1,5046,,,0,"Update amqp lower constraint

Newer versions of kombu rely on updated versions of amqp [0]. Keystone's
lower-constraints job is failing consistently across multiple branches
because it's referencing amqp 2.2.2 when we should be relying on a newer
version (5.0.0+).

You can verify this by using `pip3 check` with the lower-constraints tox
environment.

Without this patch, you'll likely see the test_notifications tests fail
with something like:

  ModuleNotFoundError: No module named 'vine.five'

Which spirals into subsequent failures mocking messaging drivers.

[0] https://github.com/celery/celery/issues/3547

Change-Id: Icad9383c8bc963843ef36fc24d745f29fc8798ed
(cherry picked from commit c495defc2bd4f2ef5a38d2a9e4d5aac5653fb406)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/87/750787/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,12891a039fb1dae7ba22884cf78ad7d1faa8569d,,amqp==5.0.0,amqp==2.2.2,1,1
openstack%2Ftempest~master~I7951f0fc19fdf231df55a6f944ca9d85423f6aad,openstack/tempest,master,I7951f0fc19fdf231df55a6f944ca9d85423f6aad,Implement system-scoping in tempest auth clients,ABANDONED,2018-09-24 21:00:20.000000000,2022-01-04 22:08:51.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11589}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26458}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-09-24 21:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6023225e35fd6741c4450ed6bda9a37c0b84ea51', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments\non something other than projects and domains. Now users can have\nauthorization on something called the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way to user a system\nadministrator client for developers to use when writing tests.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 2, 'created': '2018-09-25 20:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be93b27f2a06b24727803e0686c4c66aaa5e7bec', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments\non something other than projects and domains. Now users can have\nauthorization on something called the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way to user a system\nadministrator client for developers to use when writing tests.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 3, 'created': '2018-10-12 16:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1521be409eb8a68eb5183aef4037aeaea704e251', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments\non something other than projects and domains. Now users can have\nauthorization on something called the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way to user a system\nadministrator client for developers to use when writing tests.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 4, 'created': '2018-10-23 13:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/09e55f49c1c6f579395213eac84c2475500ded4a', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 5, 'created': '2018-10-24 22:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/937c23f023e6c8cc216353ac91e01b26230bddbe', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 6, 'created': '2018-10-25 03:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/da1e3f51148b65690a32cb672bc2d59fea7e679a', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 7, 'created': '2018-10-30 12:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5a33d2a5f1efcddb998d6ca6de2e062dfaec929f', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 8, 'created': '2018-10-31 11:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/826fc823a4acba9d37569880afb34b46b4b3270c', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 9, 'created': '2018-10-31 12:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/77d8aeec746801d15c874445b22013ed7d1c53e5', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 10, 'created': '2018-11-01 03:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aec48753fcaa25e7decb1f506f7b0a1038de84ec', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 11, 'created': '2018-11-06 06:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6553b0a857386fa385431a339ed2a7dab8b13bb4', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}, {'number': 12, 'created': '2018-11-06 06:11:50.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_roles_client.py', 'tempest/lib/common/dynamic_creds.py', 'doc/source/configuration.rst', 'tempest/lib/common/preprov_creds.py', 'tempest/tests/common/test_credentials_factory.py', 'tempest/lib/services/identity/v3/roles_client.py', 'tempest/lib/services/identity/v3/token_client.py', 'releasenotes/notes/add-system-scope-utilities-26f7e870d9f63450.yaml', 'tempest/lib/common/cred_client.py', 'tempest/api/identity/admin/v3/test_credentials.py', 'tempest/lib/auth.py', 'tempest/config.py', 'tempest/lib/common/cred_provider.py', 'tempest/common/credentials_factory.py', 'tempest/api/identity/base.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e5e93bbb9b225faa71e261a658b5d67be3db78c7', 'message': 'Implement system-scoping in tempest auth clients\n\nKeystone implemented the ability for users to have role assignments on\nsomething other than projects and domains. Now users can have\nauthorization on something known as the ""deployment system"", or just\nsystem. This is meant to be used to protect OpenStack APIs that\nshouldn\'t be exposed to end users operating within projects. Good\nexamples of system-scoped operations are creating new services or\nendpoints in keystone or querying nova for hypervisor information.\n\nEventually, other services will be adopting this new scope to protect\nAPIs that fall outside of project or domain territory. We should make\nsure the tempest clients expose an easy way for developers to write\ntests using system-scoped token.\n\nChange-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad\n'}]",82,604909,e5e93bbb9b225faa71e261a658b5d67be3db78c7,79,12,12,5046,,,0,"Implement system-scoping in tempest auth clients

Keystone implemented the ability for users to have role assignments on
something other than projects and domains. Now users can have
authorization on something known as the ""deployment system"", or just
system. This is meant to be used to protect OpenStack APIs that
shouldn't be exposed to end users operating within projects. Good
examples of system-scoped operations are creating new services or
endpoints in keystone or querying nova for hypervisor information.

Eventually, other services will be adopting this new scope to protect
APIs that fall outside of project or domain territory. We should make
sure the tempest clients expose an easy way for developers to write
tests using system-scoped token.

Change-Id: I7951f0fc19fdf231df55a6f944ca9d85423f6aad
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/604909/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_credentials.py', 'tempest/lib/common/dynamic_creds.py', 'tempest/lib/auth.py', 'tempest/lib/common/cred_provider.py', 'tempest/lib/services/identity/v3/roles_client.py', 'tempest/lib/services/identity/v3/token_client.py', 'tempest/lib/common/cred_client.py']",7,6023225e35fd6741c4450ed6bda9a37c0b84ea51,system_scope_testing," def get_credentials(self, user, project, password, use_system_admin): def get_credentials(self, user, project, password, use_system_admin): def get_credentials(self, user, project, password, use_system_admin): domain_name=self.creds_domain['name'], system=dict(all=True) if use_system_admin else None ) def assign_user_role_on_system(self, user, role_name): role = self._check_role_exists(role_name) if not role: msg = 'No ""%s"" role found' % role_name raise lib_exc.NotFound(msg) try: self.roles_client.create_user_role_on_system(user['id'], role['id']) except lib_exc.Conflict: LOG.debug(""Role %s already assigned on system for user %s"", role['id'], user['id']) "," def get_credentials(self, user, project, password): def get_credentials(self, user, project, password): def get_credentials(self, user, project, password): domain_name=self.creds_domain['name'])",73,18
openstack%2Fkeystone-specs~master~I6a62c78dca0ce505ab6923e36f0c03fd36e837d8,openstack/keystone-specs,master,I6a62c78dca0ce505ab6923e36f0c03fd36e837d8,Expose root domain as assignment target,ABANDONED,2019-05-28 20:27:42.000000000,2022-01-04 22:08:04.000000000,,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8482}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-28 20:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/3e820312aaca733ced6d271fb98ee794b27e528e', 'message': 'Expose root domain as assignment target\n\nThis topic has surfaced several times during forums and PTGs. This\ncommit attempts to document the changes required to implement a\nsolution.\n\nChange-Id: I6a62c78dca0ce505ab6923e36f0c03fd36e837d8\n'}, {'number': 2, 'created': '2019-07-09 18:59:06.000000000', 'files': ['specs/keystone/backlog/root-domain-assignments.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6af7ca69f10f57e66e121a03e6d430e76b9e48fd', 'message': 'Expose root domain as assignment target\n\nThis topic has surfaced several times during forums and PTGs. This\ncommit attempts to document the changes required to implement a\nsolution.\n\nChange-Id: I6a62c78dca0ce505ab6923e36f0c03fd36e837d8\n'}]",7,661837,6af7ca69f10f57e66e121a03e6d430e76b9e48fd,10,7,2,5046,,,0,"Expose root domain as assignment target

This topic has surfaced several times during forums and PTGs. This
commit attempts to document the changes required to implement a
solution.

Change-Id: I6a62c78dca0ce505ab6923e36f0c03fd36e837d8
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/37/661837/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/train/root-domain-assignments.rst'],1,3e820312aaca733ced6d271fb98ee794b27e528e,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= Root Domain Assignments ======================= `bug #XXXXXXX <https://bugs.launchpad.net/keystone/+bug/XXXXXXX>`_ Keystone has rich support for granting users and groups role assignments on various targets, like projects, domains, and the deployment system. Keystone also supports a method of inheriting assignments where targets form hierarchical structures. This specification combines both approaches to make it easier to inherit assignments across all domains and projects within an entire deployment. Problem Description =================== Currently, domains are treated as top-level containers for other resources likes users and projects. Domains cannot be nested, but they can contain projects that form a tree structure. Since each domain is its own top-level entity, each domain is the root of a project tree. Role assignments on domains or projects and be optionally setup to inherit ""down"" the tree, propagating from the root domain and projects in the middle of the tree to projects at the edge of the tree. This features is useful for deployments with complex project hierarchies and reduces the number of role assignments needed for a user or group to operate on all projects within a given tree, starting at the domain. Given the properties of project hierarchies and inherited role assignments as they work today, there isn't a way for a user to inherit all authorization across all project trees. This would only be accomplished by granting the user explicitly inherited role assignments on each domain in the deployment. This type of workflow will become more and more desired as users and services start consuming all scopes keystone offers, specifically for system administrators and operators. For example, today system administrators are authorized to manage resources in any project and any domain by default. Once OpenStack services start consuming system-scope to project system-level APIs, there will be a clearer separation between project, domain, and system APIs across each service. This will impact operators because they'll no longer be able to use a single ""god-like"" administrator token to do anything and everything. Instead, APIs are going to be more prescriptive about the tokens they accept for various APIs. Operators will need to have role assignments on each domain and project, in addition to the system itself, in order to maintain workflows they're used to today. Instead of requiring an explosion of role assignments for operators, we can simplify the process by allowing inherited role assignments on a top-level domain that is meant to encompass all entities in the deployment. Proposed Change =============== This use case is specific to system users, specifically people tending to and operating the OpenStack deployment. The proposed change would be to write a new system-level API that can only be access with a system-scoped token to grant users and groups role assignments on a hidden domain entity. The hidden domain is an internal construct in keystone that is a root container for all other domains and projects. Because keystone doesn't support nested domains publicly through the API, this hidden domain is never exposed to end users. Exposing the hidden root domain as a role assignment target would allow system administrators access to all resources with only two role assignments. The first assignment would be a system-level assignment and the second would be an inherited assignment on the root domain. Since the hidden domain is ultimately the root of all projects and domains, no other assignments are needed for operators to manage resources in the deployment. Alternatives ------------ Two alternatives exist that focus heavily on workflows. The first alternative would be for operators to maintain tooling that creates inherited domain assignments for system user accounts when domains are created. Role assignment cleanup wouldn't be required since role assignments are pruned when targets (e.g., projects and domains) and actors (e.g., groups and users) are deleted. A second alternative would be for operators to grant themselves access to a project or domain when they need to actually operate within that context. This would be done on demand. Since the role assignment API is a system-specific API, system users have the ability to access that API and are authorized to grant users role assignments depending on the system assignment they have (e.g., `system-admin`). After a system user finishes their support ticket, they can remove their role from the project or domain, relinquishing control back to the project or domain users. Security Impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications Impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other End User Impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-keystoneclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other Deployer Impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer Impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other backends would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in keystone, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Keystone (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to ",,255,0
openstack%2Fos-brick~stable%2Fussuri~Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,openstack/os-brick,stable/ussuri,Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,linuxscsi: Only raise and log multipathd errors when required,MERGED,2021-12-16 23:41:21.000000000,2022-01-04 21:35:40.000000000,2022-01-04 21:34:18.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 23:41:21.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/892583b388b174c83dc87e1590df146dbb057e24', 'message': ""linuxscsi: Only raise and log multipathd errors when required\n\nLogging and then ignoring multipathd errors when it isn't enforced is\nconfusing to operators investigating attach or detach issues.\n\nChange-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32\n(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)\n(cherry picked from commit d09dc9e51c783fde574f160476ed10efc21eee9a)\n(cherry picked from commit ffe0cbfc93e9d1ebe03a63976cd20e23c02aaeb4)\n""}]",3,822025,892583b388b174c83dc87e1590df146dbb057e24,26,5,1,21129,,,0,"linuxscsi: Only raise and log multipathd errors when required

Logging and then ignoring multipathd errors when it isn't enforced is
confusing to operators investigating attach or detach issues.

Change-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32
(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)
(cherry picked from commit d09dc9e51c783fde574f160476ed10efc21eee9a)
(cherry picked from commit ffe0cbfc93e9d1ebe03a63976cd20e23c02aaeb4)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/25/822025/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,892583b388b174c83dc87e1590df146dbb057e24,," except putils.ProcessExecutionError as err: if enforce_multipath: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code})"," except putils.ProcessExecutionError as err: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code}) if enforce_multipath:",44,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5804621a3081209bbae63193c1e09601826f4275,openstack/tripleo-heat-templates,stable/train,I5804621a3081209bbae63193c1e09601826f4275,GaneshaNetwork - fallback -> external -> ctlplane,MERGED,2022-01-03 17:53:36.000000000,2022-01-04 21:25:58.000000000,2022-01-04 21:25:58.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-03 17:53:36.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df133f2888f6fbb36b137041f9a53a8a5b75a9d8', 'message': 'GaneshaNetwork - fallback -> external -> ctlplane\n\nThe GaneshaNetwork attempted to fallback to the external\nnetwork in the case when storage_nfs network does not\nexists. It should also fallback to ctlplane in the case that\nthe external network does not exist.\n\nConflicts:\n  overcloud-resource-registry-puppet.j2.yaml\n\nRelated-Bug: #1946239\nChange-Id: I5804621a3081209bbae63193c1e09601826f4275\n(cherry picked from commit c0b778301fff8f069c662f382b1e93806e876bee)\n(cherry picked from commit b1c7478e06a1990c8def9183fb6e0fecc696f7f3)\n(cherry picked from commit d56cb44178e235ee49f0ec56ac9fe6cace59bd0a)\n'}]",1,823298,df133f2888f6fbb36b137041f9a53a8a5b75a9d8,10,4,1,9003,,,0,"GaneshaNetwork - fallback -> external -> ctlplane

The GaneshaNetwork attempted to fallback to the external
network in the case when storage_nfs network does not
exists. It should also fallback to ctlplane in the case that
the external network does not exist.

Conflicts:
  overcloud-resource-registry-puppet.j2.yaml

Related-Bug: #1946239
Change-Id: I5804621a3081209bbae63193c1e09601826f4275
(cherry picked from commit c0b778301fff8f069c662f382b1e93806e876bee)
(cherry picked from commit b1c7478e06a1990c8def9183fb6e0fecc696f7f3)
(cherry picked from commit d56cb44178e235ee49f0ec56ac9fe6cace59bd0a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/823298/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,df133f2888f6fbb36b137041f9a53a8a5b75a9d8,bug/1946239-stable/victoria-stable/ussuri-stable/train," GaneshaNetwork: {{ _service_nets.get('storage_nfs', _service_nets.get('external', 'ctlplane')) }}"," GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'external') }}",1,1
openstack%2Fkuryr-kubernetes~master~I950e81d3f9f23493f26d9f824d3052ed375ae62b,openstack/kuryr-kubernetes,master,I950e81d3f9f23493f26d9f824d3052ed375ae62b,Switch Amphora jobs to use clouds with nested-virt,MERGED,2021-12-22 13:13:01.000000000,2022-01-04 20:52:04.000000000,2022-01-04 20:46:47.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-22 13:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6f190e91bf274f4053df403fb531fe22227ad1fc', 'message': ""Switch Amphora jobs to use clouds with nested-virt\n\nSeems like it's now possible to request nodes from a cloud that supports\nnested virtualization. This is super cool for jobs using Amphora and\nthis commit attempts to switch these jobs to use it.\n\nDepends-On: I203773de2b8c0d1b21ef3f722df7ed7da562a892\nChange-Id: I950e81d3f9f23493f26d9f824d3052ed375ae62b\n""}, {'number': 2, 'created': '2021-12-22 14:37:06.000000000', 'files': ['.zuul.d/nodesets.yaml', '.zuul.d/tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cbda9b9b1b2080917e67e6870fb9f2793c9937b5', 'message': ""Switch Amphora jobs to use clouds with nested-virt\n\nSeems like it's now possible to request nodes from a cloud that supports\nnested virtualization. This is super cool for jobs using Amphora and\nthis commit attempts to switch these jobs to use it.\n\nDepends-On: I203773de2b8c0d1b21ef3f722df7ed7da562a892\nChange-Id: I950e81d3f9f23493f26d9f824d3052ed375ae62b\n""}]",7,822698,cbda9b9b1b2080917e67e6870fb9f2793c9937b5,21,3,2,11600,,,0,"Switch Amphora jobs to use clouds with nested-virt

Seems like it's now possible to request nodes from a cloud that supports
nested virtualization. This is super cool for jobs using Amphora and
this commit attempts to switch these jobs to use it.

Depends-On: I203773de2b8c0d1b21ef3f722df7ed7da562a892
Change-Id: I950e81d3f9f23493f26d9f824d3052ed375ae62b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/98/822698/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/nodesets.yaml', '.zuul.d/tempest-jobs.yaml']",2,6f190e91bf274f4053df403fb531fe22227ad1fc,try-nested-virt-pool, nodeset: neutron-nested-virt-ubuntu-focal nodeset: neutron-nested-virt-ubuntu-focal,,12,0
openstack%2Fswift~master~I666758fd153cf36a4a2314b5bd50f6cbdb8d7f07,openstack/swift,master,I666758fd153cf36a4a2314b5bd50f6cbdb8d7f07,common: Stop translating a bunch of printed messages and exceptions,NEW,2022-01-04 18:37:27.000000000,2022-01-04 20:41:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-04 18:37:27.000000000', 'files': ['swift/common/middleware/xprofile.py', 'swift/common/utils.py', 'swift/common/middleware/x_profile/exceptions.py', 'swift/common/middleware/x_profile/profile_model.py', 'swift/common/manager.py', 'swift/common/wsgi.py', 'swift/common/middleware/x_profile/html_viewer.py', 'swift/common/request_helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2b4503dd0939406eae8d99b8e441d6979cce7d24', 'message': 'common: Stop translating a bunch of printed messages and exceptions\n\nChange-Id: I666758fd153cf36a4a2314b5bd50f6cbdb8d7f07\n'}]",0,823424,2b4503dd0939406eae8d99b8e441d6979cce7d24,3,1,1,15343,,,0,"common: Stop translating a bunch of printed messages and exceptions

Change-Id: I666758fd153cf36a4a2314b5bd50f6cbdb8d7f07
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/823424/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/xprofile.py', 'swift/common/utils.py', 'swift/common/middleware/x_profile/exceptions.py', 'swift/common/middleware/x_profile/profile_model.py', 'swift/common/manager.py', 'swift/common/wsgi.py', 'swift/common/middleware/x_profile/html_viewer.py', 'swift/common/request_helpers.py']",8,2b4503dd0939406eae8d99b8e441d6979cce7d24,," body=""No policy with index %s"" % policy_index,","from swift import gettext_ as _ body=_(""No policy with index %s"") % policy_index,",81,91
openstack%2Fovsdbapp~master~Ie00ebdba75052e9222240084e9a1d4fae3d0dde8,openstack/ovsdbapp,master,Ie00ebdba75052e9222240084e9a1d4fae3d0dde8,Allow functional tests to pass on older OVN w/o IC,MERGED,2021-12-02 23:11:33.000000000,2022-01-04 20:36:11.000000000,2022-01-04 20:34:21.000000000,"[{'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-02 23:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9f6d472944dfdb1127d9afebd9f0d9a7599f4c5f', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 2, 'created': '2021-12-03 00:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2ffe3322fffe6872ba73a93639772e951ade2fc7', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 3, 'created': '2021-12-03 14:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9ea88da59c64c3562b86164cbb3b2d933db2dc90', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 4, 'created': '2021-12-03 18:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6f9995afbc63463b735a2db0e892f6f155c16ee9', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 5, 'created': '2021-12-03 19:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/97c10a0773eca85d9ba068de3ceabf0e4919ea99', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 6, 'created': '2021-12-03 21:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/dd3cf07c685b85b5304120896bfbf564fa42c25a', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 7, 'created': '2021-12-03 23:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8dab26611c289e137a39cb751de5c2a716f74197', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 8, 'created': '2021-12-04 01:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/fdddd8e4b5afa8f0dd911cf5e3bfce9e8079bd96', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}, {'number': 9, 'created': '2021-12-04 16:00:50.000000000', 'files': ['ovsdbapp/venv.py', 'ovsdbapp/tests/functional/base.py', 'ovsdbapp/tests/functional/schema/ovn_ic_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8a21d5f3a3ef7ad86bbde0297b1073bc0f431f6c', 'message': 'Allow functional tests to pass on older OVN w/o IC\n\nOlder versions of ovn do not have support for the OVN Interconnection\nschema. This patch fixes the running of functional tests on these older\nversions.\n\nChange-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8\n'}]",11,820275,8a21d5f3a3ef7ad86bbde0297b1073bc0f431f6c,34,3,9,5756,,,0,"Allow functional tests to pass on older OVN w/o IC

Older versions of ovn do not have support for the OVN Interconnection
schema. This patch fixes the running of functional tests on these older
versions.

Change-Id: Ie00ebdba75052e9222240084e9a1d4fae3d0dde8
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/75/820275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/venv.py', 'ovsdbapp/tests/functional/schema/ovn_ic_northbound/test_impl_idl.py']",2,9f6d472944dfdb1127d9afebd9f0d9a7599f4c5f,,"import testtools if not self.ovsvenv.has_icnb(): self.skipTest(""Installed version of OVN does not support ICNB"")",,20,9
openstack%2Fswift~master~I128a64c6126014774bf6218502e6bfdea63b783f,openstack/swift,master,I128a64c6126014774bf6218502e6bfdea63b783f,common: Stop translating log messages,NEW,2022-01-04 18:37:27.000000000,2022-01-04 20:30:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-04 18:37:27.000000000', 'files': ['swift/common/db.py', 'swift/common/middleware/recon.py', 'swift/common/utils.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/crypto/crypto_utils.py', 'swift/common/db_replicator.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/container_sync_realms.py', 'swift/common/middleware/catch_errors.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/db_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f6554b82671483bcca80561a1e517a363d7e7547', 'message': 'common: Stop translating log messages\n\nChange-Id: I128a64c6126014774bf6218502e6bfdea63b783f\nPartial-Bug: #1674543\n'}]",1,823423,f6554b82671483bcca80561a1e517a363d7e7547,4,1,1,15343,,,0,"common: Stop translating log messages

Change-Id: I128a64c6126014774bf6218502e6bfdea63b783f
Partial-Bug: #1674543
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/823423/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'swift/common/middleware/recon.py', 'swift/common/utils.py', 'swift/common/middleware/ratelimit.py', 'swift/common/db_replicator.py', 'swift/common/middleware/crypto/crypto_utils.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/container_sync_realms.py', 'swift/common/middleware/catch_errors.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/db_auditor.py']",11,f6554b82671483bcca80561a1e517a363d7e7547,," 'Since %(time)s: %(server_type)s audits: %(pass)s ' 'passed audit, %(fail)s failed audit', 'Begin %s audit pass.', self.server_type) self.logger.exception('ERROR auditing') '%(server_type)s audit pass completed: %(elapsed).02fs', 'Begin %s audit ""once"" mode', self.server_type) '%(server_type)s audit ""once"" mode completed: %(elapsed).02fs', self.logger.error('Audit Failed for %(path)s: %(err)s', 'ERROR Could not get %(server_type)s info %(path)s',","from swift import gettext_ as _ _('Since %(time)s: %(server_type)s audits: %(pass)s ' 'passed audit, %(fail)s failed audit'), _('Begin {} audit pass.').format(self.server_type)) self.logger.exception(_('ERROR auditing')) _('%(server_type)s audit pass completed: %(elapsed).02fs'), _('Begin {} audit ""once"" mode').format(self.server_type)) _('%(server_type)s audit ""once"" mode completed: %(elapsed).02fs'), self.logger.error(_('Audit Failed for %(path)s: %(err)s'), _('ERROR Could not get %(server_type)s info %(path)s'),",87,99
openstack%2Fdevstack~master~I3cdf7e87c034f7623a401e90ff50137e07956445,openstack/devstack,master,I3cdf7e87c034f7623a401e90ff50137e07956445,Use scram-sha-256 hashing for postgresql auth,ABANDONED,2021-08-04 22:10:50.000000000,2022-01-04 19:58:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-04 22:10:50.000000000', 'files': ['lib/databases/postgresql'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9d98400dabc093da4752dba7a857a2a9c4c8548e', 'message': 'Use scram-sha-256 hashing for postgresql auth\n\nThis changes the postgresql password hashing to scram-sha-256, which\nis an implementation of RFC 7677, and required for FIPS compliance.\n\nIt is proposed here as the default since it reflects what a production\nenvironment would do.\n\nChange-Id: I3cdf7e87c034f7623a401e90ff50137e07956445\n'}]",1,803519,9d98400dabc093da4752dba7a857a2a9c4c8548e,5,1,1,4571,,,0,"Use scram-sha-256 hashing for postgresql auth

This changes the postgresql password hashing to scram-sha-256, which
is an implementation of RFC 7677, and required for FIPS compliance.

It is proposed here as the default since it reflects what a production
environment would do.

Change-Id: I3cdf7e87c034f7623a401e90ff50137e07956445
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/803519/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/databases/postgresql'],1,9d98400dabc093da4752dba7a857a2a9c4c8548e,scram-sha-256," sudo sed -i '/password_encryption/s/.*/password_encryption = scram-sha-256/' $pg_conf # Do scram-sha-256 auth from all IPv4 clients sudo sed -i ""/^host/s/all\s\+127.0.0.1\/32\s\+.*/$DATABASE_USER\t0.0.0.0\/0\tscram-sha-256/"" $pg_hba # Do scram-sha-256 auth for all IPv6 clients sudo sed -i ""/^host/s/all\s\+::1\/128\s\+.*/$DATABASE_USER\t::0\/0\tscram-sha-256/"" $pg_hba"," # Do password auth from all IPv4 clients sudo sed -i ""/^host/s/all\s\+127.0.0.1\/32\s\+ident/$DATABASE_USER\t0.0.0.0\/0\tpassword/"" $pg_hba # Do password auth for all IPv6 clients sudo sed -i ""/^host/s/all\s\+::1\/128\s\+ident/$DATABASE_USER\t::0\/0\tpassword/"" $pg_hba",5,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I312f9255adbaec270d4e3379e9f8c8fdf716c190,openstack/tripleo-heat-templates,stable/wallaby,I312f9255adbaec270d4e3379e9f8c8fdf716c190,Allow configuring secure RBAC in glance,MERGED,2021-11-30 08:26:05.000000000,2022-01-04 19:47:29.000000000,2021-12-23 15:18:03.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-30 08:26:05.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/enable_secure_rbac_support_for_glance-167d53c491cd326c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32f2601c16bd691503f7c3a3fc585842d9767db6', 'message': ""Allow configuring secure RBAC in glance\n\nAdding new parameter GlanceEnforceSecureRbac to support for project\npersona of secure RBAC.\n\nTo make the secure RBAC work, 'oslo_policy/enforce_new_defaults' is\nalso required to be enabled with 'enforce_secure_rbac' in glance.\n\nDepends-On: I1db7fa2694bc9a448a47e435cfd95264504086c6\nPartially Implements: blueprint secure-rbac\n\nChange-Id: I312f9255adbaec270d4e3379e9f8c8fdf716c190\n(cherry picked from commit 9193090b1312a2fb6fe92961a3c0e29840c1b6f6)\n""}]",3,819679,32f2601c16bd691503f7c3a3fc585842d9767db6,12,8,1,19138,,,0,"Allow configuring secure RBAC in glance

Adding new parameter GlanceEnforceSecureRbac to support for project
persona of secure RBAC.

To make the secure RBAC work, 'oslo_policy/enforce_new_defaults' is
also required to be enabled with 'enforce_secure_rbac' in glance.

Depends-On: I1db7fa2694bc9a448a47e435cfd95264504086c6
Partially Implements: blueprint secure-rbac

Change-Id: I312f9255adbaec270d4e3379e9f8c8fdf716c190
(cherry picked from commit 9193090b1312a2fb6fe92961a3c0e29840c1b6f6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/819679/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/enable_secure_rbac_support_for_glance-167d53c491cd326c.yaml']",2,32f2601c16bd691503f7c3a3fc585842d9767db6,secure-rbac-stable/wallaby,"--- features: - | The new parameter ``EnforceSecureRbac`` has been added to enforce authorization based on common RBAC personas. Currently in glance the support is only available for project-admin, project-member and project-reader personas and system personas will come in a later release.",,23,0
openstack%2Fglance~master~If5b46580078eb756651ac6118f502eccdc693646,openstack/glance,master,If5b46580078eb756651ac6118f502eccdc693646,Remove six.iteritems usage,MERGED,2021-12-22 16:14:34.000000000,2022-01-04 19:31:00.000000000,2022-01-04 19:28:39.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'glance/tests/functional/v2/test_images.py', 'glance/db/simple/api.py', 'glance/db/sqlalchemy/api.py', 'glance/common/client.py', 'glance/db/sqlalchemy/metadata.py', 'glance/common/utils.py', 'glance/common/wsgi.py', 'glance/notifier.py', 'glance/common/location_strategy/store_type.py', 'glance/schema.py', 'glance/hacking/checks.py', 'glance/tests/test_hacking.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/502fa0ffc8970c087c5924742231812c0da6a114', 'message': 'Remove six.iteritems usage\n\nWe also remove hacking tests for this, along with those for iterkeys and\nitervalues (no usage of these).\n\nChange-Id: If5b46580078eb756651ac6118f502eccdc693646\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,822732,502fa0ffc8970c087c5924742231812c0da6a114,9,4,1,15334,,,0,"Remove six.iteritems usage

We also remove hacking tests for this, along with those for iterkeys and
itervalues (no usage of these).

Change-Id: If5b46580078eb756651ac6118f502eccdc693646
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/32/822732/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_wsgi.py', 'glance/tests/functional/v2/test_images.py', 'glance/db/simple/api.py', 'glance/db/sqlalchemy/api.py', 'glance/common/client.py', 'glance/db/sqlalchemy/metadata.py', 'glance/common/utils.py', 'glance/common/wsgi.py', 'glance/notifier.py', 'glance/common/location_strategy/store_type.py', 'glance/schema.py', 'glance/hacking/checks.py', 'glance/tests/test_hacking.py', 'tox.ini', 'HACKING.rst']",15,502fa0ffc8970c087c5924742231812c0da6a114,remove-six,,- [G330] Python 3: do not use dict.iteritems. - [G331] Python 3: do not use dict.iterkeys. - [G332] Python 3: do not use dict.itervalues.,21,87
openstack%2Fglance~master~If0d2ad8357ea759638c6b83c04ec7a2f3cf9f6bd,openstack/glance,master,If0d2ad8357ea759638c6b83c04ec7a2f3cf9f6bd,Remove six.add_metaclass usage,MERGED,2021-12-22 16:14:34.000000000,2022-01-04 19:29:29.000000000,2022-01-04 19:24:10.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': ['glance/common/wsgi.py', 'glance/notifier.py', 'glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0562e3335bd5ee5b51a56cfe002c1895b52ef52a', 'message': 'Remove six.add_metaclass usage\n\nChange-Id: If0d2ad8357ea759638c6b83c04ec7a2f3cf9f6bd\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,822731,0562e3335bd5ee5b51a56cfe002c1895b52ef52a,14,4,1,15334,,,0,"Remove six.add_metaclass usage

Change-Id: If0d2ad8357ea759638c6b83c04ec7a2f3cf9f6bd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/31/822731/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/wsgi.py', 'glance/notifier.py', 'glance/tests/functional/__init__.py']",3,0562e3335bd5ee5b51a56cfe002c1895b52ef52a,remove-six,class BaseServer(metaclass=abc.ABCMeta):,import six@six.add_metaclass(abc.ABCMeta) class BaseServer(object):,5,11
openstack%2Fdevstack~master~Icf6d7e1af5130689ea10b29d37cc9b188b2c9754,openstack/devstack,master,Icf6d7e1af5130689ea10b29d37cc9b188b2c9754,Fix mysqladmin failure for Fedora 34 and mariadb,MERGED,2021-12-31 22:23:04.000000000,2022-01-04 19:29:25.000000000,2022-01-04 19:23:59.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-31 22:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7b7e0a10ca0ff8aa9fc81b793da4307a81798cb', 'message': 'Fix mysqladmin failure for Fedora 34 and mariadb\n\nmysqladmin is incorrectly installed in Fedora 34 with mariadb. This\ncauses the failure of Zuul Fedora based jobs. The issue is a conflict\nbetween mariadb and community mysql that is described in [1] and [2].\n\nThe workaround is to explicitly install package ""mariadb""\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2026933\n[2] https://lists.launchpad.net/maria-discuss/msg06179.html\n\nCloses-Bug: #1956116\nChange-Id: Icf6d7e1af5130689ea10b29d37cc9b188b2c9754\n'}, {'number': 2, 'created': '2022-01-03 14:34:46.000000000', 'files': ['lib/databases/mysql', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c1a75c6a504d720e9d46f924f5c3da07fddfee72', 'message': 'Fix mysqladmin failure for Fedora 34 and mariadb\n\nmysqladmin is incorrectly installed in Fedora 34 with mariadb. This\ncauses the failure of Zuul Fedora based jobs. The issue is a conflict\nbetween mariadb and community mysql that is described in [1] and [2].\n\nThe workaround is to explicitly install package ""mariadb""\n\nAlso configure an increased swap size like for the other platform jobs\nin order to avoid OOM issues.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2026933\n[2] https://lists.launchpad.net/maria-discuss/msg06179.html\n\nCloses-Bug: #1956116\nChange-Id: Icf6d7e1af5130689ea10b29d37cc9b188b2c9754\n'}]",3,823218,c1a75c6a504d720e9d46f924f5c3da07fddfee72,18,8,2,4694,,,0,"Fix mysqladmin failure for Fedora 34 and mariadb

mysqladmin is incorrectly installed in Fedora 34 with mariadb. This
causes the failure of Zuul Fedora based jobs. The issue is a conflict
between mariadb and community mysql that is described in [1] and [2].

The workaround is to explicitly install package ""mariadb""

Also configure an increased swap size like for the other platform jobs
in order to avoid OOM issues.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2026933
[2] https://lists.launchpad.net/maria-discuss/msg06179.html

Closes-Bug: #1956116
Change-Id: Icf6d7e1af5130689ea10b29d37cc9b188b2c9754
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/823218/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/databases/mysql'],1,d7b7e0a10ca0ff8aa9fc81b793da4307a81798cb,fedora-mariadb-issue, install_package mariadb-server mariadb-devel mariadb, install_package mariadb-server mariadb-devel,1,1
openstack%2Frequirements~master~I51547efb797dae50a2a600be0c5724cf5784526d,openstack/requirements,master,I51547efb797dae50a2a600be0c5724cf5784526d,update constraint for aodhclient to new release 2.3.1,MERGED,2022-01-04 08:43:34.000000000,2022-01-04 19:29:11.000000000,2022-01-04 19:24:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 08:43:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/47499c4a52359cf58d3a869e81b4ec5bb7dc0c26', 'message': 'update constraint for aodhclient to new release 2.3.1\n\nChange-Id: I51547efb797dae50a2a600be0c5724cf5784526d\n'}]",0,823337,47499c4a52359cf58d3a869e81b4ec5bb7dc0c26,8,2,1,19134,,,0,"update constraint for aodhclient to new release 2.3.1

Change-Id: I51547efb797dae50a2a600be0c5724cf5784526d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/823337/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,47499c4a52359cf58d3a869e81b4ec5bb7dc0c26,new_release,aodhclient===2.3.1,aodhclient===2.3.0,1,1
openstack%2Fcinder~stable%2Fvictoria~Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,openstack/cinder,stable/victoria,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.,MERGED,2021-12-06 22:25:43.000000000,2022-01-04 19:29:10.000000000,2022-01-04 19:24:02.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-06 22:25:43.000000000', 'files': ['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'releasenotes/notes/hpe-3par-primera-add-iscsi-5af339643dfa0928.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a80b967ab66d0ef440eb153be8d2a12ad3bdd860', 'message': '3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.\n\nFor HPE Primera 4.2 or higher versions, now iSCSI driver is\nsupported along with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n(cherry picked from commit 6cabe11c9207376f905db3a0bcadf6d43e2c2af1)\n'}]",2,820611,a80b967ab66d0ef440eb153be8d2a12ad3bdd860,22,7,1,7130,,,0,"3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.

For HPE Primera 4.2 or higher versions, now iSCSI driver is
supported along with existing FC driver.
Accordingly updated code and documentation.

Change-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79
(cherry picked from commit 6cabe11c9207376f905db3a0bcadf6d43e2c2af1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/820611/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'releasenotes/notes/hpe-3par-primera-add-iscsi-5af339643dfa0928.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",4,a80b967ab66d0ef440eb153be8d2a12ad3bdd860,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79-stable/victoria," is_primera=False, wsapi_version=wsapi_version_latest): _m_client.getWsApiVersion.return_value = wsapi_version def test_iscsi_primera_old(self): # primera 4.0.xx.yyy wsapi_version_primera_old = {'major': 1, 'build': 40000128, 'minor': 8, 'revision': 1} is_primera=True, wsapi_version=wsapi_version_primera_old) def test_iscsi_primera_new(self, config=None, mock_conf=None): # primera 4.2.xx.yyy wsapi_version_primera_new = {'major': 1, 'build': 40202010, 'minor': 8, 'revision': 1} self.ctxt = context.get_admin_context() mock_client = self.setup_mock_client( conf=config, m_conf=mock_conf, driver=hpedriver.HPE3PARISCSIDriver, is_primera=True, wsapi_version=wsapi_version_primera_new) expected_get_cpgs = [ mock.call.getCPG(HPE3PAR_CPG), mock.call.getCPG(HPE3PAR_CPG2)] expected_get_ports = [mock.call.getPorts()] expected_primera = [ mock.call.is_primera_array(), mock.call.getWsApiVersion()] mock_client.assert_has_calls( self.standard_login + expected_get_cpgs + self.standard_logout + expected_primera + self.standard_login + expected_get_ports + self.standard_logout)", is_primera=False): _m_client.getWsApiVersion.return_value = self.wsapi_version_latest def test_iscsi_primera(self): is_primera=True),65,11
openstack%2Frequirements~stable%2Fwallaby~I0953b5c1f0b784f03c427b5670706a5211c44760,openstack/requirements,stable/wallaby,I0953b5c1f0b784f03c427b5670706a5211c44760,Update amqp version,MERGED,2022-01-04 09:53:10.000000000,2022-01-04 19:24:05.000000000,2022-01-04 19:24:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-04 09:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d5fc0337621c389f0e6fca510a95525aa70a8c55', 'message': 'Update amqp version\n\nAmqp package that is being currently used supposedly leads to\nleak of file descriptors.\n\namqp bumped to version 5.0.8 should fix the mentioned issue\n\nChange-Id: I0953b5c1f0b784f03c427b5670706a5211c44760\nRelated-Bug: #1949964\n(cherry picked from commit f243f496e015d7904b2ca1973ab484bdc02d9458)\n'}, {'number': 2, 'created': '2022-01-04 09:54:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/887d45e86550bd5ffd25692f61063f78f85d7a2c', 'message': 'Update amqp version\n\nAmqp package that is being currently used supposedly leads to\nleak of file descriptors.\n\namqp bumped to version 5.0.8 should fix the mentioned issue\n\nChange-Id: I0953b5c1f0b784f03c427b5670706a5211c44760\nRelated-Bug: #1949964\n(cherry picked from commit f243f496e015d7904b2ca1973ab484bdc02d9458)\n'}]",0,823350,887d45e86550bd5ffd25692f61063f78f85d7a2c,9,3,2,25023,,,0,"Update amqp version

Amqp package that is being currently used supposedly leads to
leak of file descriptors.

amqp bumped to version 5.0.8 should fix the mentioned issue

Change-Id: I0953b5c1f0b784f03c427b5670706a5211c44760
Related-Bug: #1949964
(cherry picked from commit f243f496e015d7904b2ca1973ab484bdc02d9458)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/823350/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d5fc0337621c389f0e6fca510a95525aa70a8c55,bug/1949964-stable/wallaby,<<<<<<< HEAD (41788b update constraint for metalsmith to new release 1.4.3)======= amqp===5.0.8 ruamel.yaml===0.17.16 websockify===0.10.0 >>>>>>> CHANGE (f243f4 Update amqp version),,6,0
openstack%2Fopenstack-ansible-os_tempest~master~I5237cb3885928154fb5e74288a96a9addecf0065,openstack/openstack-ansible-os_tempest,master,I5237cb3885928154fb5e74288a96a9addecf0065,Advancing the protocal of the website to HTTPS in project.yaml.,ABANDONED,2018-11-13 16:55:17.000000000,2022-01-04 19:03:48.000000000,,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-11-13 16:55:17.000000000', 'files': ['releasenotes/notes/neutron-network-variables-ff6d2c7f8c7c3ccd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a07a5b54651fdeb7db38b03321071d27cf249ab1', 'message': 'Advancing the protocal of the website to HTTPS in project.yaml.\n\nChange-Id: I5237cb3885928154fb5e74288a96a9addecf0065\n'}]",0,617743,a07a5b54651fdeb7db38b03321071d27cf249ab1,5,3,1,29423,,,0,"Advancing the protocal of the website to HTTPS in project.yaml.

Change-Id: I5237cb3885928154fb5e74288a96a9addecf0065
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/43/617743/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/neutron-network-variables-ff6d2c7f8c7c3ccd.yaml'],1,a07a5b54651fdeb7db38b03321071d27cf249ab1,, https://docs.openstack.org/mitaka/networking-guide/intro-basic-networking.html, http://docs.openstack.org/mitaka/networking-guide/intro-basic-networking.html,1,1
openstack%2Fopenstack-ansible-os_tempest~master~I13938e770ba305b84fdc149e36e113a250e794ac,openstack/openstack-ansible-os_tempest,master,I13938e770ba305b84fdc149e36e113a250e794ac,DNM testing tempestconf's os_interface option,ABANDONED,2021-04-26 08:43:29.000000000,2022-01-04 19:02:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-26 08:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5d74af80f2273f6666f2696392fad6c34ac90b01', 'message': ""DNM testing tempestconf's os_interface option\n\nDepends-On: https://review.opendev.org/c/osf/python-tempestconf/+/787904\nChange-Id: I13938e770ba305b84fdc149e36e113a250e794ac\n""}, {'number': 2, 'created': '2021-07-20 17:18:13.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ebb6d27f41effecc8f8c8ec9ad93b7bf71d05237', 'message': ""DNM testing tempestconf's os_interface option\n\nDepends-On: https://review.opendev.org/c/osf/python-tempestconf/+/787904\nChange-Id: I13938e770ba305b84fdc149e36e113a250e794ac\n""}]",0,787940,ebb6d27f41effecc8f8c8ec9ad93b7bf71d05237,7,1,2,22873,,,0,"DNM testing tempestconf's os_interface option

Depends-On: https://review.opendev.org/c/osf/python-tempestconf/+/787904
Change-Id: I13938e770ba305b84fdc149e36e113a250e794ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/40/787940/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,5d74af80f2273f6666f2696392fad6c34ac90b01,, os_interface: internal,,1,0
openstack%2Fopenstack-ansible-os_heat~master~Ia52f3f6e57cc8e3ee7c33ca9faaa54888f79b3c2,openstack/openstack-ansible-os_heat,master,Ia52f3f6e57cc8e3ee7c33ca9faaa54888f79b3c2,Add victoria.rst wallaby.rst,ABANDONED,2021-11-12 03:47:51.000000000,2022-01-04 19:02:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-12 03:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/83067c92c7bb35a387d5260fc58f595cbfdf61c5', 'message': 'Add victoria.rst wallaby.rst\n\nChange-Id: Ia52f3f6e57cc8e3ee7c33ca9faaa54888f79b3c2\n'}, {'number': 2, 'created': '2021-11-12 03:49:01.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/f1f7ff06574b36d236409467abbda8eb26a03361', 'message': 'Add victoria.rst wallaby.rst\n\nChange-Id: Ia52f3f6e57cc8e3ee7c33ca9faaa54888f79b3c2\n'}]",0,817693,f1f7ff06574b36d236409467abbda8eb26a03361,4,1,2,32029,,,0,"Add victoria.rst wallaby.rst

Change-Id: Ia52f3f6e57cc8e3ee7c33ca9faaa54888f79b3c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/93/817693/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/victoria.rst']",2,83067c92c7bb35a387d5260fc58f595cbfdf61c5,releasenotes,============================= Victoria Series Release Notes ============================= .. release-notes:: :branch: stable/victoria ,,12,0
openstack%2Fneutron~stable%2Fxena~I75c759ce94e027790b18411617e08ae5bb46bcef,openstack/neutron,stable/xena,I75c759ce94e027790b18411617e08ae5bb46bcef,"Add Chassis creation wait event in ""TestAgentMonitor""",MERGED,2022-01-04 04:28:21.000000000,2022-01-04 18:58:06.000000000,2022-01-04 18:50:06.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 04:28:21.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e31e5aa9cc6c220e997f23f34d1f2f81e26daec', 'message': 'Add Chassis creation wait event in ""TestAgentMonitor""\n\nAdded a wait event in ""TestAgentMonitor"" setUp method, in order to wait\nfor the Chassis register creation event. This patch also adds an active\nwait to check the number of ""AgentCache"" agents present in the local\ncache, before starting the tests.\n\nCloses-Bug: #1952508\nChange-Id: I75c759ce94e027790b18411617e08ae5bb46bcef\n(cherry picked from commit 1af63e881261ac3a160e9e6d2bea89ac65856cea)\n'}]",2,823300,8e31e5aa9cc6c220e997f23f34d1f2f81e26daec,15,6,1,13861,,,0,"Add Chassis creation wait event in ""TestAgentMonitor""

Added a wait event in ""TestAgentMonitor"" setUp method, in order to wait
for the Chassis register creation event. This patch also adds an active
wait to check the number of ""AgentCache"" agents present in the local
cache, before starting the tests.

Closes-Bug: #1952508
Change-Id: I75c759ce94e027790b18411617e08ae5bb46bcef
(cherry picked from commit 1af63e881261ac3a160e9e6d2bea89ac65856cea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/823300/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,8e31e5aa9cc6c220e997f23f34d1f2f81e26daec,bug/1952508-stable/xena,"class WaitForChassisPrivateCreateEvent(event.WaitEvent): event_name = 'WaitForChassisPrivateCreateEvent' def __init__(self, chassis_name, chassis_table): events = (self.ROW_CREATE,) conditions = (('name', '=', chassis_name),) super().__init__(events, chassis_table, conditions, timeout=15) chassis_name = uuidutils.generate_uuid() row_event = WaitForChassisPrivateCreateEvent( chassis_name, self.mech_driver.agent_chassis_table) self.mech_driver.sb_ovn.idl.notify_handler.watch_event(row_event) self.chassis_name = self.add_fake_chassis( self.FAKE_CHASSIS_HOST, external_ids={'ovn-cms-options': 'enable-chassis-as-gw'}, name=chassis_name) self.assertTrue(row_event.wait()) n_utils.wait_until_true( lambda: len(list(neutron_agent.AgentCache())) == 1)"," self.chassis_name = self.add_fake_chassis(self.FAKE_CHASSIS_HOST, external_ids={'ovn-cms-options': 'enable-chassis-as-gw'}) def test_network_agent_present(self): chassis_row = self.sb_api.db_find( 'Chassis', ('name', '=', self.chassis_name)).execute( check_error=True) self.assertTrue(chassis_row) self.assertEqual(neutron_agent.ControllerGatewayAgent, type(neutron_agent.AgentCache()[self.chassis_name]))",20,10
openstack%2Fdevstack~master~I53762f8eda6256f962cc4e1f1098406879bbcf5c,openstack/devstack,master,I53762f8eda6256f962cc4e1f1098406879bbcf5c,init_cinder() shouldn't always create DEFAULT_VOLUME_GROUP_NAME,MERGED,2018-03-23 15:43:34.000000000,2022-01-04 18:56:16.000000000,2022-01-04 18:50:10.000000000,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 15:43:34.000000000', 'files': ['lib/cinder', 'lib/nova', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/63beab524368875820db453c244468105584bc85', 'message': 'init_cinder() shouldn\'t always create DEFAULT_VOLUME_GROUP_NAME\n\nDEFAULT_VOLUME_GROUP_NAME volume group is LVM ephemeral storage used by\nNova. It is created by init_nova() if user sets NOVA_BACKEND to ""LVM"".\nHowever, init_cinder() is also hardcoded to create it, based on the\nasumption that CINDER_ENABLED_BACKENDS includes it. That assumption\ndoesn\'t hold for the current code. What\'s more important, even if user\nwants to use DEFAULT_VOLUME_GROUP_NAME as one of cinder backends and\nadds it to CINDER_ENABLED_BACKENDS, the current code in init_cinder()\nare general enough and should work fine. This change removes relevant\ncode in init_cinder(). It also moves DEFAULT_VOLUME_GROUP_NAME clean-up\ncode from unstack.sh to cleanup_nova().\n\nChange-Id: I53762f8eda6256f962cc4e1f1098406879bbcf5c\n'}]",3,555836,63beab524368875820db453c244468105584bc85,17,7,1,26861,,,0,"init_cinder() shouldn't always create DEFAULT_VOLUME_GROUP_NAME

DEFAULT_VOLUME_GROUP_NAME volume group is LVM ephemeral storage used by
Nova. It is created by init_nova() if user sets NOVA_BACKEND to ""LVM"".
However, init_cinder() is also hardcoded to create it, based on the
asumption that CINDER_ENABLED_BACKENDS includes it. That assumption
doesn't hold for the current code. What's more important, even if user
wants to use DEFAULT_VOLUME_GROUP_NAME as one of cinder backends and
adds it to CINDER_ENABLED_BACKENDS, the current code in init_cinder()
are general enough and should work fine. This change removes relevant
code in init_cinder(). It also moves DEFAULT_VOLUME_GROUP_NAME clean-up
code from unstack.sh to cleanup_nova().

Change-Id: I53762f8eda6256f962cc4e1f1098406879bbcf5c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/555836/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'lib/nova', 'unstack.sh']",3,63beab524368875820db453c244468105584bc85,bug/init_cinder,, # Using /bin/true here indicates a BUG - maybe the # DEFAULT_VOLUME_GROUP_NAME doesn't exist? We should # isolate this further down in lib/cinder cleanup. clean_lvm_volume_group $DEFAULT_VOLUME_GROUP_NAME || /bin/true,4,8
openstack%2Fneutron~master~Id83bee82e5c476395ff422dcaf89c0095e74a8ec,openstack/neutron,master,Id83bee82e5c476395ff422dcaf89c0095e74a8ec,Add wait event for metadataagent sb_idl,MERGED,2021-12-16 02:50:19.000000000,2022-01-04 18:56:15.000000000,2022-01-04 18:50:02.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24220}, {'_account_id': 30200}, {'_account_id': 30380}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-16 02:50:19.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/385b0ad203da40a2c0110948c0f46feb78ead2be', 'message': ""Add wait event for metadataagent sb_idl\n\nresolve bug:'MetadataAgent' object has no attribute 'sb_idl'\n\nCloses-Bug: #1953295\nChange-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec\n""}]",2,821927,385b0ad203da40a2c0110948c0f46feb78ead2be,25,9,1,34340,,,0,"Add wait event for metadataagent sb_idl

resolve bug:'MetadataAgent' object has no attribute 'sb_idl'

Closes-Bug: #1953295
Change-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/821927/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,385b0ad203da40a2c0110948c0f46feb78ead2be,bug/1953295,"import threading self._sb_idl = None self._post_fork_event = threading.Event() @property def sb_idl(self): if not self._sb_idl: self._post_fork_event.wait() return self._sb_idl @sb_idl.setter def sb_idl(self, val): self._sb_idl = val self._post_fork_event.clear() # Now IDL connections can be safely used. self._post_fork_event.set() ",,17,0
openstack%2Fneutron~stable%2Fxena~Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1,openstack/neutron,stable/xena,Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1,Change tobiko CI job in the periodic queue,MERGED,2022-01-04 10:29:44.000000000,2022-01-04 18:55:29.000000000,2022-01-04 18:49:58.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 10:29:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e22463d7687fd429fedb6edc1dc781b1bb9b29af', 'message': ""Change tobiko CI job in the periodic queue\n\nWe were using devstack-tobiko-faults-centos in our periodic queue\nbut this job is broken and it's better to use job\n'devstack-tobiko-neutron' which is kind of dedicated to test neutron\ncode.\nIt is also single node job, so will be faster and easier for the infra\nresources :)\n\nChange-Id: Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1\n(cherry picked from commit dea20574798e5916efddf91bf34d7b31848c1bb9)\n""}]",2,823372,e22463d7687fd429fedb6edc1dc781b1bb9b29af,13,3,1,27329,,,0,"Change tobiko CI job in the periodic queue

We were using devstack-tobiko-faults-centos in our periodic queue
but this job is broken and it's better to use job
'devstack-tobiko-neutron' which is kind of dedicated to test neutron
code.
It is also single node job, so will be faster and easier for the infra
resources :)

Change-Id: Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1
(cherry picked from commit dea20574798e5916efddf91bf34d7b31848c1bb9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/823372/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e22463d7687fd429fedb6edc1dc781b1bb9b29af,devstack-tobiko-neutron, - devstack-tobiko-neutron:, - devstack-tobiko-faults-centos:,1,1
openstack%2Fopenstack-ansible~master~I34242f5153fff9c160645a4c62100cc4e9d29569,openstack/openstack-ansible,master,I34242f5153fff9c160645a4c62100cc4e9d29569,Update pypi url to new url,MERGED,2018-07-12 08:38:33.000000000,2022-01-04 18:36:07.000000000,2022-01-04 18:32:09.000000000,"[{'_account_id': 14320}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 31749}]","[{'number': 1, 'created': '2018-07-12 08:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/24bbb87d30b4792c4842aa8469bb1fbabd6faf8d', 'message': 'Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I34242f5153fff9c160645a4c62100cc4e9d29569\n'}, {'number': 2, 'created': '2018-07-18 06:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dc3e982908d879f21000a5ee0b32aa175b78c299', 'message': 'Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I34242f5153fff9c160645a4c62100cc4e9d29569\n'}, {'number': 3, 'created': '2018-07-19 07:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/59eed365dbe88ddc774a1602a18b6cb77cce131d', 'message': 'Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I34242f5153fff9c160645a4c62100cc4e9d29569\n'}, {'number': 4, 'created': '2022-01-04 10:44:31.000000000', 'files': ['scripts/get-pypi-pkg-version.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4e7006a14b2a27e7dbf88aca7281e1811133e23c', 'message': 'Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I34242f5153fff9c160645a4c62100cc4e9d29569\n'}]",0,582096,4e7006a14b2a27e7dbf88aca7281e1811133e23c,17,6,4,28427,,,0,"Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I34242f5153fff9c160645a4c62100cc4e9d29569
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/582096/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/get-pypi-pkg-version.py'],1,24bbb87d30b4792c4842aa8469bb1fbabd6faf8d,update_pypi_url, pypi = xmlrpclib.ServerProxy('https://pypi.org/project/pypi'), pypi = xmlrpclib.ServerProxy('https://pypi.python.org/pypi'),1,1
openstack%2Fdevstack~master~I5ebf6b0280e82f2c87a63cbee7a9957c6bd26898,openstack/devstack,master,I5ebf6b0280e82f2c87a63cbee7a9957c6bd26898,Fix stacking without preconfigured DATABASE_PASSWORD,MERGED,2021-12-23 11:07:46.000000000,2022-01-04 18:35:11.000000000,2022-01-04 18:33:26.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-23 11:07:46.000000000', 'files': ['lib/database', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/353c3f9cb1e70929898116b0b6c0020c43d93aea', 'message': 'Fix stacking without preconfigured DATABASE_PASSWORD\n\nWhen we need to read a DATABASE_PASSWORD from the user, make sure we\nactually use it in our database URLs.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5ebf6b0280e82f2c87a63cbee7a9957c6bd26898\n'}]",2,822819,353c3f9cb1e70929898116b0b6c0020c43d93aea,11,4,1,13252,,,0,"Fix stacking without preconfigured DATABASE_PASSWORD

When we need to read a DATABASE_PASSWORD from the user, make sure we
actually use it in our database URLs.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I5ebf6b0280e82f2c87a63cbee7a9957c6bd26898
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/822819/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/database', 'stack.sh']",2,353c3f9cb1e70929898116b0b6c0020c43d93aea,fix-nopassword-config, define_database_baseurl,,6,2
openstack%2Fopenstack-ansible~master~I87874d62a9282f91110435e2160ab3e64a6e2397,openstack/openstack-ansible,master,I87874d62a9282f91110435e2160ab3e64a6e2397,Do not add u-c to PIP_OPTS,MERGED,2021-12-16 14:50:11.000000000,2022-01-04 18:33:58.000000000,2022-01-04 18:31:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-16 14:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca31cb8a7853403bf8b49742ce32dfdc07f7a9c5', 'message': ""Do not add u-c to PIP_OPTS\n\nAs we install ara with same PIP_OPTS and it's not compatible with U-C\nwe're dropping u-c from PIP_OPTS since they're really needed only for\nansible installation.\n\nChange-Id: I87874d62a9282f91110435e2160ab3e64a6e2397\n""}, {'number': 2, 'created': '2021-12-16 14:52:47.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e877c8bb62dad8246e4a558486f51a0365f9e185', 'message': ""Do not add u-c to PIP_OPTS\n\nAs we install ara with same PIP_OPTS and it's not compatible with U-C\nwe're dropping u-c from PIP_OPTS since they're really needed only for\nansible installation.\n\nChange-Id: I87874d62a9282f91110435e2160ab3e64a6e2397\n""}]",1,821988,e877c8bb62dad8246e4a558486f51a0365f9e185,13,4,2,28619,,,0,"Do not add u-c to PIP_OPTS

As we install ara with same PIP_OPTS and it's not compatible with U-C
we're dropping u-c from PIP_OPTS since they're really needed only for
ansible installation.

Change-Id: I87874d62a9282f91110435e2160ab3e64a6e2397
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/88/821988/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,ca31cb8a7853403bf8b49742ce32dfdc07f7a9c5,change-821476," ${PIP_COMMAND} install --isolated ${PIP_OPTS} --constraint ${TOX_CONSTRAINTS_FILE} -r requirements.txt ${ANSIBLE_PACKAGE} ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara[server]"""," PIP_OPTS+="" --constraint ${TOX_CONSTRAINTS_FILE}"" ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r requirements.txt ${ANSIBLE_PACKAGE} ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara[server]"" ""dynaconf<3.1.3""",2,3
openstack%2Fovsdbapp~master~Ic72fce11a5c16c25946f55d07d7af9e34ef283c3,openstack/ovsdbapp,master,Ic72fce11a5c16c25946f55d07d7af9e34ef283c3,Remove ovsdb_connection singleton for tests,MERGED,2021-12-03 18:17:40.000000000,2022-01-04 18:29:17.000000000,2022-01-04 18:27:16.000000000,"[{'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-03 18:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a293d219b402861203de77d179b2b74d4dc13e48', 'message': ""Remove ovsdb_connection singleton for tests\n\nSince ovsdb_connection is a class attribute, different tests can\nstep on each other's connection. This can lead to the venv setting\nup processes to connect to one server, while the test is actually\nwriting to another. In the lsp_bind tests where we wait on a port\nbinding to be created, this can be especially problematic.\n\nChange-Id: Ic72fce11a5c16c25946f55d07d7af9e34ef283c3\n""}, {'number': 2, 'created': '2021-12-03 19:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/4278c3e5b5e4a76e81bf5a11cb1a1c5915540814', 'message': ""Remove ovsdb_connection singleton for tests\n\nSince ovsdb_connection is a class attribute, different tests can\nstep on each other's connection. This can lead to the venv setting\nup processes to connect to one server, while the test is actually\nwriting to another. In the lsp_bind tests where we wait on a port\nbinding to be created, this can be especially problematic.\n\nChange-Id: Ic72fce11a5c16c25946f55d07d7af9e34ef283c3\n""}, {'number': 3, 'created': '2021-12-03 20:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9e125816aa27e44f953cab1c4adbbd5581898950', 'message': ""Remove ovsdb_connection singleton for tests\n\nSince ovsdb_connection is a class attribute, different tests can\nstep on each other's connection. This can lead to the venv setting\nup processes to connect to one server, while the test is actually\nwriting to another. In the lsp_bind tests where we wait on a port\nbinding to be created, this can be especially problematic.\n\nChange-Id: Ic72fce11a5c16c25946f55d07d7af9e34ef283c3\n""}, {'number': 4, 'created': '2021-12-03 23:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/afe5bc315f773e86c872079be6c335100c1fb4e1', 'message': ""Remove ovsdb_connection singleton for tests\n\nSince ovsdb_connection is a class attribute, different tests can\nstep on each other's connection. This can lead to the venv setting\nup processes to connect to one server, while the test is actually\nwriting to another. In the lsp_bind tests where we wait on a port\nbinding to be created, this can be especially problematic.\n\nChange-Id: Ic72fce11a5c16c25946f55d07d7af9e34ef283c3\n""}, {'number': 5, 'created': '2021-12-04 01:15:29.000000000', 'files': ['ovsdbapp/tests/functional/schema/ovn_northbound/fixtures.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py', 'ovsdbapp/tests/functional/schema/fixtures.py', 'ovsdbapp/tests/functional/schema/ovn_ic_northbound/fixtures.py', 'ovsdbapp/tests/functional/schema/ovn_southbound/fixtures.py', 'ovsdbapp/tests/functional/schema/ovn_ic_northbound/test_impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_southbound/test_impl_idl.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/358d1a5bbafcd7af9033a1a4fbca35a61f99b7cd', 'message': ""Remove ovsdb_connection singleton for tests\n\nSince ovsdb_connection is a class attribute, different tests can\nstep on each other's connection. This can lead to the venv setting\nup processes to connect to one server, while the test is actually\nwriting to another. In the lsp_bind tests where we wait on a port\nbinding to be created, this can be especially problematic.\n\nChange-Id: Ic72fce11a5c16c25946f55d07d7af9e34ef283c3\n""}]",8,820398,358d1a5bbafcd7af9033a1a4fbca35a61f99b7cd,30,3,5,5756,,,0,"Remove ovsdb_connection singleton for tests

Since ovsdb_connection is a class attribute, different tests can
step on each other's connection. This can lead to the venv setting
up processes to connect to one server, while the test is actually
writing to another. In the lsp_bind tests where we wait on a port
binding to be created, this can be especially problematic.

Change-Id: Ic72fce11a5c16c25946f55d07d7af9e34ef283c3
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/98/820398/5 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py', 'ovsdbapp/tests/functional/schema/ovn_ic_northbound/test_impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_southbound/test_impl_idl.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py']",5,a293d219b402861203de77d179b2b74d4dc13e48,,impl_idl.OvnNbApiIdlImpl.ovsdb_connection = None ,,13,14
openstack%2Fopenstack-ansible-os_neutron~master~Ia92e9c43157620bd89466d95a620898396def8b9,openstack/openstack-ansible-os_neutron,master,Ia92e9c43157620bd89466d95a620898396def8b9,Change os_region to region_name,MERGED,2021-12-29 17:13:16.000000000,2022-01-04 18:10:09.000000000,2022-01-04 18:08:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-29 17:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/65ceec0618bc984f95373b4b317803d8c56b84bb', 'message': 'Change os_region to region_name\n\nos_region is deprecated in favor of region_name. Fixes deprecation\nnotice.\n\nChange-Id: Ia92e9c43157620bd89466d95a620898396def8b9\n'}, {'number': 2, 'created': '2021-12-30 23:42:49.000000000', 'files': ['templates/plugins/ml2/ironic_neutron_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6559b1f5de1a2ef0870fc8247f3f76157b7a8830', 'message': 'Change os_region to region_name\n\nos_region is deprecated in favor of region_name. Fixes deprecation\nnotice.\n\nChange-Id: Ia92e9c43157620bd89466d95a620898396def8b9\n'}]",2,823169,6559b1f5de1a2ef0870fc8247f3f76157b7a8830,14,4,2,16011,,,0,"Change os_region to region_name

os_region is deprecated in favor of region_name. Fixes deprecation
notice.

Change-Id: Ia92e9c43157620bd89466d95a620898396def8b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/69/823169/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/plugins/ml2/ironic_neutron_agent.ini.j2'],1,65ceec0618bc984f95373b4b317803d8c56b84bb,ina-changes,region_name = RegionOne,os_region = RegionOne,1,1
openstack%2Fpython-ironicclient~master~I6edbc38353a4b2f7b0a758108bc91cc9fb72a29d,openstack/python-ironicclient,master,I6edbc38353a4b2f7b0a758108bc91cc9fb72a29d,Add node history support,MERGED,2021-11-30 23:11:11.000000000,2022-01-04 18:08:56.000000000,2022-01-04 18:05:30.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-30 23:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a1084c40ad0b9d52f3b3f6287519b3f3f1d7ea12', 'message': 'WIP: node history support\n\nChange-Id: I6edbc38353a4b2f7b0a758108bc91cc9fb72a29d\n'}, {'number': 2, 'created': '2021-12-01 15:25:19.000000000', 'files': ['ironicclient/tests/unit/osc/v1/fakes.py', 'ironicclient/v1/node.py', 'ironicclient/common/http.py', 'releasenotes/notes/add-node-history-b9b9beeb0200f185.yaml', 'setup.cfg', 'ironicclient/v1/resource_fields.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py', 'ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/2e0cef2cb0b1297788dc187fc61816408060c616', 'message': 'Add node history support\n\nAdds support for rest API version 1.78, which\ncovers the node history feature.\n\nStory: 2002980\nTask: 43319\nChange-Id: I6edbc38353a4b2f7b0a758108bc91cc9fb72a29d\n'}]",0,819929,2e0cef2cb0b1297788dc187fc61816408060c616,11,3,2,11655,,,0,"Add node history support

Adds support for rest API version 1.78, which
covers the node history feature.

Story: 2002980
Task: 43319
Change-Id: I6edbc38353a4b2f7b0a758108bc91cc9fb72a29d
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/29/819929/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/osc/v1/fakes.py', 'ironicclient/v1/node.py', 'ironicclient/common/http.py', 'setup.cfg', 'ironicclient/v1/resource_fields.py', 'ironicclient/osc/v1/baremetal_node.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py']",7,a1084c40ad0b9d52f3b3f6287519b3f3f1d7ea12,," class TestNodeHistoryEventList(TestBaremetal): def setUp(self): super(TestNodeHistoryEventList, self).setUp() self.baremetal_mock.node.get_history_list.return_value = ( baremetal_fakes.NODE_HISTORY) # Get the command object to test self.cmd = baremetal_node.NodeHistoryList(self.app, None) def test_baremetal_node_history_list(self): arglist = ['node_uuid', '--long'] verifylist = [('node', 'node_uuid'), ('long', True)] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.baremetal_mock.node.get_history_list.assert_called_once_with( 'node_uuid', True) expected_columns = ('UUID', 'Created At', 'Severity', 'Event Origin Type', 'Description of the event', 'Conductor', 'User') expected_data = (('abcdef1', 'time', 'info', 'purring', 'meow', 'lap-conductor', '0191'),) self.assertEqual(expected_columns, columns) self.assertEqual(expected_data, tuple(data)) class TestNodeHistoryEventGet(TestBaremetal): def setUp(self): super(TestNodeHistoryEventGet, self).setUp() self.baremetal_mock.node.get_history_event.return_value = ( baremetal_fakes.NODE_HISTORY[0]) # Get the command object to test self.cmd = baremetal_node.NodeHistoryEventGet(self.app, None) def test_baremetal_node_history_list(self): arglist = ['node_uuid', 'event_uuid'] verifylist = [('node', 'node_uuid'), ('event', 'event_uuid')] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.baremetal_mock.node.get_history_event.assert_called_once_with( 'node_uuid', 'event_uuid') expected_columns = ('UUID', 'Created At', 'Severity', 'Event Origin Type', 'Description of the event', 'Conductor', 'User') expected_data = ('abcdef1', 'time', 'info', 'purring', 'meow', 'lap-conductor', '0191') self.assertEqual(expected_columns, columns) self.assertEqual(expected_data, tuple(data))",,222,1
openstack%2Fopenstack-ansible-galera_server~master~I7b470df7ff45c884c8058f75a7f6a73a41f34911,openstack/openstack-ansible-galera_server,master,I7b470df7ff45c884c8058f75a7f6a73a41f34911,Allow galera_address to be FQDN,MERGED,2021-12-28 15:57:52.000000000,2022-01-04 17:48:23.000000000,2022-01-04 17:46:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-28 15:57:52.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/1aff51416e8444772784002cacfef714c417a87c', 'message': ""Allow galera_address to be FQDN\n\nWe explicitly allow setting galera_address as FQDN and define it equal\nto internal_lb_vip_address by default [1]\n\nCurrently if it's set to FQDN certificate generation fails, as we\nprovide it always as IP.\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/inventory/group_vars/all/infra.yml#L35\n\nChange-Id: I7b470df7ff45c884c8058f75a7f6a73a41f34911\n""}]",0,823101,1aff51416e8444772784002cacfef714c417a87c,9,4,1,28619,,,0,"Allow galera_address to be FQDN

We explicitly allow setting galera_address as FQDN and define it equal
to internal_lb_vip_address by default [1]

Currently if it's set to FQDN certificate generation fails, as we
provide it always as IP.

[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/inventory/group_vars/all/infra.yml#L35

Change-Id: I7b470df7ff45c884c8058f75a7f6a73a41f34911
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/01/823101/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1aff51416e8444772784002cacfef714c417a87c,," san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',' ~ ((galera_address | ansible.netcommon.ipaddr) is string) | ternary('IP', 'DNS') ~ ':' ~ galera_address }}""# Should be set to either internal VIP or VIP FQDN, depending on what is currently used in the env."," san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ galera_address }}""# Should be set to either public VIP of VIP FQDN, depending on what is currently used in the env.",2,2
openstack%2Fmanila-specs~master~I6e379661079aecc53035f329e4cc3c91fd420362,openstack/manila-specs,master,I6e379661079aecc53035f329e4cc3c91fd420362,Restore reproducibility in docs,MERGED,2021-10-14 12:55:14.000000000,2022-01-04 17:40:06.000000000,2022-01-04 17:38:24.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-10-14 12:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/84bf94e90723f29947ebee38de2f1b9bed0768dd', 'message': ""Restore reproducibility in docs\n\nThe documentation is writting the date in its copyright. This is\nconsidered bad practice, because this kills reproducibility. If\nyou don't know about reproducible build, please read on:\n\nhttps: //reproducible-builds.org/\nChange-Id: I6e379661079aecc53035f329e4cc3c91fd420362\n""}, {'number': 2, 'created': '2021-11-15 12:41:48.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/bc5657875e7c8c1ec4cd201ddd5753dc1cae3946', 'message': ""Restore reproducibility in docs\n\nThe documentation is writting the date in its copyright. This is\nconsidered bad practice, because this kills reproducibility. If\nyou don't know about reproducible build, please read on:\n\nhttps: //reproducible-builds.org/\nChange-Id: I6e379661079aecc53035f329e4cc3c91fd420362\n""}]",3,814003,bc5657875e7c8c1ec4cd201ddd5753dc1cae3946,11,4,2,28522,,,0,"Restore reproducibility in docs

The documentation is writting the date in its copyright. This is
considered bad practice, because this kills reproducibility. If
you don't know about reproducible build, please read on:

https: //reproducible-builds.org/
Change-Id: I6e379661079aecc53035f329e4cc3c91fd420362
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/03/814003/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,84bf94e90723f29947ebee38de2f1b9bed0768dd,,copyright = 'OpenStack Foundation',"copyright = '%s, OpenStack Foundation' % datetime.date.today().year",1,1
openstack%2Fopenstack-ansible-os_keystone~master~Ic46ee2a55c464be521ef79a781957633ccdae57b,openstack/openstack-ansible-os_keystone,master,Ic46ee2a55c464be521ef79a781957633ccdae57b,Drop keystone_default_role_name,MERGED,2021-12-27 11:06:00.000000000,2022-01-04 17:38:02.000000000,2022-01-04 17:36:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-27 11:06:00.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4e27667dd24c574deb3104fef623ffb350aae937', 'message': 'Drop keystone_default_role_name\n\nThis variable has no effect and not really used anywhere.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/822998\nChange-Id: Ic46ee2a55c464be521ef79a781957633ccdae57b\n'}]",0,823003,4e27667dd24c574deb3104fef623ffb350aae937,10,5,1,28619,,,0,"Drop keystone_default_role_name

This variable has no effect and not really used anywhere.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/822998
Change-Id: Ic46ee2a55c464be521ef79a781957633ccdae57b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/03/823003/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,4e27667dd24c574deb3104fef623ffb350aae937,,,keystone_default_role_name: _member_,0,2
openstack%2Fkayobe~stable%2Fvictoria~Ic8c212111301d6b144e3aa0fe124b022b0296ec6,openstack/kayobe,stable/victoria,Ic8c212111301d6b144e3aa0fe124b022b0296ec6,CI: Use correct TD agent repository version,MERGED,2021-12-09 08:57:13.000000000,2022-01-04 17:21:38.000000000,2022-01-04 17:19:48.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-12-09 08:57:13.000000000', 'files': ['playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5e444b8a39276516992eef8008d087a4a5946afb', 'message': 'CI: Use correct TD agent repository version\n\nChange-Id: Ic8c212111301d6b144e3aa0fe124b022b0296ec6\n(cherry picked from commit b5f0a17acf57e953f8a71f95747675597c22ec70)\n'}]",1,821178,5e444b8a39276516992eef8008d087a4a5946afb,12,4,1,15197,,,0,"CI: Use correct TD agent repository version

Change-Id: Ic8c212111301d6b144e3aa0fe124b022b0296ec6
(cherry picked from commit b5f0a17acf57e953f8a71f95747675597c22ec70)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/78/821178/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2'],1,5e444b8a39276516992eef8008d087a4a5946afb,, baseurl: http://packages.treasuredata.com/4/redhat/$releasever/$basearch, baseurl: http://packages.treasuredata.com/3/redhat/$releasever/$basearch,1,1
openstack%2Fkayobe~master~If8e8a5e19e870b3c91b484d3414bfa4f7b373567,openstack/kayobe,master,If8e8a5e19e870b3c91b484d3414bfa4f7b373567,Adds overcloud_dib_git_elements,ABANDONED,2022-01-04 16:56:41.000000000,2022-01-04 17:00:12.000000000,,[],"[{'number': 1, 'created': '2022-01-04 16:56:41.000000000', 'files': ['etc/kayobe/overcloud-dib.yml', 'ansible/overcloud-host-image-build.yml', 'releasenotes/notes/adds-support-for-git-elements-when-building-overcloud-host-image-723bfdefbbcfbdd3.yaml', 'ansible/group_vars/all/overcloud-dib'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/69ee070f832eec5805d9ec2e5e648aeb5c4f447f', 'message': 'Adds overcloud_dib_git_elements\n\nThis allows the use of custom disk image builder elements when\nbuilding the overcloud host image.\n\nChange-Id: If8e8a5e19e870b3c91b484d3414bfa4f7b373567\n'}]",0,823410,69ee070f832eec5805d9ec2e5e648aeb5c4f447f,2,0,1,28048,,,0,"Adds overcloud_dib_git_elements

This allows the use of custom disk image builder elements when
building the overcloud host image.

Change-Id: If8e8a5e19e870b3c91b484d3414bfa4f7b373567
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/10/823410/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/overcloud-dib.yml', 'ansible/overcloud-host-image-build.yml', 'releasenotes/notes/adds-support-for-git-elements-when-building-overcloud-host-image-723bfdefbbcfbdd3.yaml', 'ansible/group_vars/all/overcloud-dib']",4,69ee070f832eec5805d9ec2e5e648aeb5c4f447f,,# List of default git repositories containing Diskimage Builder (DIB) elements. # See stackhpc.os-images role for usage. Default is an empty list. overcloud_dib_git_elements: [] ,,16,0
openstack%2Fopenstackdocstheme~master~Ib4e13a7964d548ed6bd9da683c4b755188ae7d6a,openstack/openstackdocstheme,master,Ib4e13a7964d548ed6bd9da683c4b755188ae7d6a,Updated Nav Menu,MERGED,2021-01-06 13:14:25.000000000,2022-01-04 16:49:09.000000000,2022-01-04 16:47:06.000000000,"[{'_account_id': 5263}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 13:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/c0131c6c66e85a5410f96b4955949a8131f0c0d0', 'message': 'Updated Nav Menu\n\nUpdated Nav Menu to match https://www.openstack.org/ nav Menu\n\nSigned-off-by: smarcet <smarcet@gmail.com>\nChange-Id: Ib4e13a7964d548ed6bd9da683c4b755188ae7d6a\n'}, {'number': 2, 'created': '2021-01-06 13:54:37.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/static/css/combined.css', 'openstackdocstheme/theme/openstackdocs/header.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/3547151908b5ef83b0d1df4a87dc7d4d4bdb1751', 'message': 'Updated Nav Menu\n\nUpdated Nav Menu to match https://www.openstack.org/ nav Menu\n\nSigned-off-by: smarcet <smarcet@gmail.com>\nChange-Id: Ib4e13a7964d548ed6bd9da683c4b755188ae7d6a\n'}]",1,769541,3547151908b5ef83b0d1df4a87dc7d4d4bdb1751,13,4,2,9139,,,0,"Updated Nav Menu

Updated Nav Menu to match https://www.openstack.org/ nav Menu

Signed-off-by: smarcet <smarcet@gmail.com>
Change-Id: Ib4e13a7964d548ed6bd9da683c4b755188ae7d6a
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/41/769541/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/openstackdocs/header.html'],1,c0131c6c66e85a5410f96b4955949a8131f0c0d0,feature/update_nav_menu,"{% include 'os_search_install.html' %} {% set osf_base_url = 'https://www.openstack.org' %} <li> <!--Software --> <a href=""{{osf_base_url}}/software/"" class=""drop"" id=""dropdownMenuSoftware"">Software <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/software/"">Overview</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/software/project-navigator/openstack-components"">OpenStack Components</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/software/project-navigator/sdks"">SDKs</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/software/project-navigator/deployment-tools"">Deployment Tools</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/assets/software/projectmap/openstack-map.pdf"" target=""_blank"">OpenStack Map</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/software/sample-configs/"">Sample Configs</a></li> <li> <!-- Use Cases --> <a href=""{{osf_base_url}}/use-cases/"" class=""drop"" id=""dropdownMenuUsers"">Use Cases <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/"">Users in Production</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/bare-metal/"">Ironic Bare Metal</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/edge-computing/"">Edge Computing</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/telecoms-and-nfv/"">Telecom & NFV</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/science/"">Science and HPC</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/containers/"">Containers</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/enterprise/"">Enterprise</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/surveys/landing"">User Survey</a></li> <li> <!-- Events --> <a href=""{{osf_base_url}}/events/"" class=""drop"" id=""dropdownMenuEvents"">Events <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/summit/"">Open Infrastructure Summits</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/ptg/"">Project Teams Gathering</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/events/opendev-2020/"">OpenDev</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/events/community-events/"">Community Events</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/events/openstackdays"">OpenStack & OpenInfra Days</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/videos/"">Summit Videos</a></li> <li><!-- Community --> <a href=""{{osf_base_url}}/community/"" class=""drop"" id=""dropdownMenuCommunity"">Community <i class=""fa fa-caret-down""></i></a> <ul class=""dropdown-menu"" role=""menu"" aria-labelledby=""dropdownMenuCommunity""> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/community/"">Welcome! Start Here</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/community/tech-committee"">OpenStack Technical Committee</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/community/speakers/"">Speakers Bureau</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""http://wiki.openstack.org"">OpenStack Wiki</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/coa/"">Get Certified (COA)</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/community/jobs/"">Jobs</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketing/"">Marketing Resources</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/news/"">Community News</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""http://superuser.openstack.org"">Superuser Magazine</a></li> <li role=""presentation"" class=""divider""></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/community/supporting-organizations/"">OpenInfra Foundation Supporting Organizations</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev"">Open Infrastructure Foundation (OpenInfra Foundation)</a></li> </ul> </li> <li><!-- Marketplace --> <a href=""{{osf_base_url}}marketplace/"" class=""drop"" id=""dropdownMenuLearn"">Marketplace <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/training/"">Training</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/distros/"">Distros & Appliances</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/public-clouds/"">Public Clouds</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/hosted-private-clouds/"">Hosted Private Clouds</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/remotely-managed-private-clouds/"">Remotely Managed Private Clouds</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/consulting/"">Consulting & Integrators</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/drivers/"">Drivers</a></li> <li><!-- Blog --> <a href=""{{osf_base_url}}/blog/"">Blog</a> <li><!-- Docs --> <a href=""http://docs.openstack.org/"">Docs</a> </li> <li> <!-- Join --> <li class=""join-nav-section""> <a href=""https://openinfra.dev/join/"" id=""dropdownMenuJoin"">Join <i class=""fa fa-caret-down""></i></a> <ul class=""dropdown-menu dropdown-hover"" role=""menu"" aria-labelledby=""dropdownMenuJoin"" style=""display: none;""> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/join/"">Sign up for Foundation Membership</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev"">More about the Foundation</a></li> </ul> <li> <a href=""{{osf_base_url}}/Security/login/?BackURL=/home/"" class=""sign-in-btn"">Log In</a> </li> </li>"," {% include 'os_search_install.html' %} <li> <a href=""https://www.openstack.org/software/"" class=""drop"" id=""dropdownMenuSoftware"">Software <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/"">Overview</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/project-navigator/openstack-components"">Project Navigator</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/sample-configs/"">Sample Configs</a></li> <li role=""presentation"" class=""divider""></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/security/"">Security</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/start/"">Get Started</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/roadmap/"">Roadmap</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/latest-release/"">Latest Release</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/sourcecode/"">Source Code</a></li> <li> <a href=""https://www.openstack.org/user-stories/"" class=""drop"" id=""dropdownMenuUsers"">Users <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/user-stories/"">Overview</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/telecoms-and-nfv/"">Telecoms and NFV</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/enterprise/"">OpenStack in the Enterprise</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/appdev/"">Application Developers & ISVs</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://superuser.openstack.org/"">Superuser Magazine</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/surveys/landing"">User Survey</a></li> <li> <a href=""https://www.openstack.org/community/"" class=""drop"" id=""dropdownMenuCommunity"">Community <i class=""fa fa-caret-down""></i></a> <ul class=""dropdown-menu"" role=""menu"" aria-labelledby=""dropdownMenuCommunity""> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/community/"">Welcome! Start Here</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/"">Open Infrastructure Foundation</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://wiki.openstack.org"">OpenStack Wiki</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://groups.openstack.org"">User Groups</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/community/speakers/"">Speakers Bureau</a></li> <li role=""presentation"" class=""divider""></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/companies/"">Supporting Companies</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/community/jobs/"">Jobs</a></li> <li role=""presentation"" class=""divider""></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/join/"">Join The Community</a></li> </ul> </li> <li> <a href=""https://www.openstack.org/marketplace/"">Marketplace</a> </li> <li> <a href=""https://www.openstack.org/events/"" class=""drop"" id=""dropdownMenuEvents"">Events <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/community/events/"">Overview</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/summit/"">The OpenStack Summit</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/community/events/"">More OpenStack Events</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/community/events/openstackdays"">OpenStack Days</a></li> <li> <a href=""https://www.openstack.org/learn/"" class=""drop"" id=""dropdownMenuLearn"">Learn <i class=""fa fa-caret-down""></i></a> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/marketplace/training/"">Training</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/coa/"">Get Certified</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://superuser.openstack.org"">Superuser Magazine</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/videos/"">Summit Videos</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/analysts/"">Analyst Reports</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/news/"">News</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/blog/"">Blog</a></li> <li> <a href=""https://docs.openstack.org/"">Docs</a> <li> </li> <li> <li class=""join-nav-section""> <a href=""https://openinfra.dev/join/"" id=""dropdownMenuJoin"">Join <i class=""fa fa-caret-down""></i></a> <ul class=""dropdown-menu dropdown-hover"" role=""menu"" aria-labelledby=""dropdownMenuJoin"" style=""display: none;""> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/join/"">Sign up for Foundation Membership</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev"">More about the Foundation</a></li> </ul> </li> <li> <a href=""https://www.openstack.org/Security/login/?BackURL=/home/"" class=""sign-in-btn"">Log In</a> </li> ",70,73
openstack%2Fironic~master~Ic90c94a85c32fab19ba1a40d7d826a8a65c027e7,openstack/ironic,master,Ic90c94a85c32fab19ba1a40d7d826a8a65c027e7,Derive FakeHardware from GenericHardware,MERGED,2021-12-16 14:32:21.000000000,2022-01-04 16:47:41.000000000,2022-01-04 16:44:57.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-16 14:32:21.000000000', 'files': ['ironic/common/driver_factory.py', 'releasenotes/notes/fake-interfaces-9778071f6379227b.yaml', 'ironic/drivers/fake_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4b99401af6a4be5e30214f8bcfbe5a52239d802', 'message': 'Derive FakeHardware from GenericHardware\n\nCurrently FakeHardware supports any interfaces because of a hack in the\ndriver factory. However, when calculating the defaults we still rely on\nsupported_***_interfaces in it, which makes enabling fake-hardware\nwith non-fake interfaces harder than it should be.\n\nChange-Id: Ic90c94a85c32fab19ba1a40d7d826a8a65c027e7\n'}]",0,821984,d4b99401af6a4be5e30214f8bcfbe5a52239d802,13,4,1,10239,,,0,"Derive FakeHardware from GenericHardware

Currently FakeHardware supports any interfaces because of a hack in the
driver factory. However, when calculating the defaults we still rely on
supported_***_interfaces in it, which makes enabling fake-hardware
with non-fake interfaces harder than it should be.

Change-Id: Ic90c94a85c32fab19ba1a40d7d826a8a65c027e7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/821984/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/driver_factory.py', 'releasenotes/notes/fake-interfaces-9778071f6379227b.yaml', 'ironic/drivers/fake_hardware.py']",3,d4b99401af6a4be5e30214f8bcfbe5a52239d802,fake,"from ironic.drivers import generic class FakeHardware(generic.GenericHardware): return [fake.FakeBIOS] + super().supported_bios_interfaces return [fake.FakeBoot] + super().supported_boot_interfaces return [fake.FakeConsole] + super().supported_console_interfaces return [fake.FakeDeploy] + super().supported_deploy_interfaces return [fake.FakeInspect] + super().supported_inspect_interfaces return [fake.FakeRAID] + super().supported_raid_interfaces return [fake.FakeRescue] + super().supported_rescue_interfaces return [fake.FakeStorage] + super().supported_storage_interfaces return [ fake.FakeVendorB, fake.FakeVendorA ] + super().supported_vendor_interfaces","from ironic.drivers import hardware_typefrom ironic.drivers.modules import noop from ironic.drivers.modules.storage import noop as noop_storage class FakeHardware(hardware_type.AbstractHardwareType): return [fake.FakeBIOS, noop.NoBIOS] return [fake.FakeBoot] return [fake.FakeConsole, noop.NoConsole] return [fake.FakeDeploy] return [fake.FakeInspect, noop.NoInspect] return [fake.FakeRAID, noop.NoRAID] return [fake.FakeRescue, noop.NoRescue] return [fake.FakeStorage, noop_storage.NoopStorage] return [fake.FakeVendorB, fake.FakeVendorA, noop.NoVendor] @property def supported_network_interfaces(self): # import late to avoid circular imports from ironic.drivers.modules.network import flat from ironic.drivers.modules.network import noop return [flat.FlatNetwork, noop.NoopNetwork]",20,21
openstack%2Fpython-ironicclient~master~Ib20f6557a5b7e8bb1811cdc9903cdbca8c8e368e,openstack/python-ironicclient,master,Ib20f6557a5b7e8bb1811cdc9903cdbca8c8e368e,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-11-25 02:17:36.000000000,2022-01-04 16:47:22.000000000,2022-01-04 16:45:01.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29313}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-25 02:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ea2fab72542fe4037d9444636782bc3f09e5b7bf', 'message': 'Updating yoga tested python versions in classifier\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job and you\ncan see the updated jobs running in gate.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit updates the tested py versions in setup.cfg classifier.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ib20f6557a5b7e8bb1811cdc9903cdbca8c8e368e\n'}, {'number': 2, 'created': '2021-12-14 02:49:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bedb66b3ebd9f0d814b4c2cf812675faeb3c96cc', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ib20f6557a5b7e8bb1811cdc9903cdbca8c8e368e\n'}]",2,819241,bedb66b3ebd9f0d814b4c2cf812675faeb3c96cc,16,7,2,8556,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ib20f6557a5b7e8bb1811cdc9903cdbca8c8e368e
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/41/819241/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ea2fab72542fe4037d9444636782bc3f09e5b7bf,yoga-python-testing, Programming Language :: Python :: 3.9, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,2
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~If325bf015818c1c4dc053f44e1619cabaa815f43,openstack/openstack-ansible-os_keystone,stable/train,If325bf015818c1c4dc053f44e1619cabaa815f43,Avoid Apache conflict with haproxy on metal,MERGED,2021-12-24 16:20:47.000000000,2022-01-04 16:41:30.000000000,2022-01-04 16:35:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-24 16:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/dcb80e6a7dc96ac747cec7605342072b7559da99', 'message': ""Avoid Apache conflict with haproxy on metal\n\nCurrently if deployed on metal Apache would conflict with haproxy as\nit's listening on 0.0.0.0 which breaks bind-to-mgmt topic.\nThis is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f\n\nChange-Id: If325bf015818c1c4dc053f44e1619cabaa815f43\nCloses-Bug: #1869618\n""}, {'number': 2, 'created': '2021-12-25 09:15:50.000000000', 'files': ['templates/keystone-httpd.conf.j2', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/26dc8bdec1041165a1c2b6160273cb87231dd84c', 'message': ""Avoid Apache conflict with haproxy on metal\n\nCurrently if deployed on metal Apache would conflict with haproxy as\nit's listening on 0.0.0.0 which breaks bind-to-mgmt topic.\nThis is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f\n\nAlso set centos -7 job to NV as it fails due to old python issues.\n\nChange-Id: If325bf015818c1c4dc053f44e1619cabaa815f43\nCloses-Bug: #1869618\n""}]",0,822933,26dc8bdec1041165a1c2b6160273cb87231dd84c,10,3,2,28619,,,0,"Avoid Apache conflict with haproxy on metal

Currently if deployed on metal Apache would conflict with haproxy as
it's listening on 0.0.0.0 which breaks bind-to-mgmt topic.
This is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f

Also set centos -7 job to NV as it fails due to old python issues.

Change-Id: If325bf015818c1c4dc053f44e1619cabaa815f43
Closes-Bug: #1869618
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/33/822933/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,dcb80e6a7dc96ac747cec7605342072b7559da99,bug/1869618-stable/train,Listen {{ keystone_web_server_bind_address }}:{{ keystone_service_port }},Listen {{ keystone_service_port }},1,1
openstack%2Fbifrost~master~I78d6cbcbc408326216c6facee25ab6b0a1947905,openstack/bifrost,master,I78d6cbcbc408326216c6facee25ab6b0a1947905,Remove configuration for ironic-agent element,MERGED,2022-01-04 08:51:36.000000000,2022-01-04 16:20:17.000000000,2022-01-04 16:16:41.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-04 08:51:36.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/efe81e99fcb840889edbf460b7c37f0f4fdc7793', 'message': 'Remove configuration for ironic-agent element\n\nThis element was removed from DIB almost a year ago [1].\n\n[1] https://review.opendev.org/c/openstack/diskimage-builder/+/771808\n\nChange-Id: I78d6cbcbc408326216c6facee25ab6b0a1947905\n'}]",0,823338,efe81e99fcb840889edbf460b7c37f0f4fdc7793,8,3,1,15197,,,0,"Remove configuration for ironic-agent element

This element was removed from DIB almost a year ago [1].

[1] https://review.opendev.org/c/openstack/diskimage-builder/+/771808

Change-Id: I78d6cbcbc408326216c6facee25ab6b0a1947905
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/38/823338/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/tasks/main.yml'],1,efe81e99fcb840889edbf460b7c37f0f4fdc7793,, dib_source_repositories:," # NOTE(dtantsur): these options have two copies of the same # configuration: one for the old element in DIB (ironic-agent), the other - # for the new element in IPA-builder (ironic-python-agent). dib_source_repositories: DIB_REPOLOCATION_ironic_agent: ""{{ ipa_git_folder }}"" DIB_REPOREF_ironic_agent: HEAD",0,5
openstack%2Fbifrost~master~Idff77d96313ddbb0c2dac26666824cbf5186c805,openstack/bifrost,master,Idff77d96313ddbb0c2dac26666824cbf5186c805,Install pip package in dib based images,MERGED,2021-12-09 14:32:42.000000000,2022-01-04 16:18:34.000000000,2022-01-04 16:16:33.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 14:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6d99333056371060acba1f208c6bbe6862a684f7', 'message': '[WIP] Install pip package in dib based images\n\nSwitch to system installed pip instead of using it from source.\nThis should fix the current debian bullseye build due to DIB trying to\ninstall both python2 and python3 versions of pip when installing from\nsource, and also avoid unwanted incompatibilities in the future.\n\nChange-Id: Idff77d96313ddbb0c2dac26666824cbf5186c805\n'}, {'number': 2, 'created': '2021-12-16 08:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3b5b788f71ef7a8ee355407dd172362dae63cddd', 'message': 'Install pip package in dib based images\n\nSwitch to system installed pip instead of using it from source.\nThis should fix the current debian bullseye build due to DIB trying to\ninstall both python2 and python3 versions of pip when installing from\nsource, and also avoid unwanted incompatibilities in the future.\n\nChange-Id: Idff77d96313ddbb0c2dac26666824cbf5186c805\n'}, {'number': 3, 'created': '2021-12-23 10:09:54.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/eed8f33a281fdef93f5cd27b59fd38d5eeb45b8c', 'message': 'Install pip package in dib based images\n\nSwitch to system installed pip instead of using it from source.\nThis should fix the current debian bullseye build due to DIB trying to\ninstall both python2 and python3 versions of pip when installing from\nsource, and also avoid unwanted incompatibilities in the future.\n\nStory: 2009756\nTask: 44225\n\nChange-Id: Idff77d96313ddbb0c2dac26666824cbf5186c805\n'}]",2,821223,eed8f33a281fdef93f5cd27b59fd38d5eeb45b8c,16,4,3,23851,,,0,"Install pip package in dib based images

Switch to system installed pip instead of using it from source.
This should fix the current debian bullseye build due to DIB trying to
install both python2 and python3 versions of pip when installing from
source, and also avoid unwanted incompatibilities in the future.

Story: 2009756
Task: 44225

Change-Id: Idff77d96313ddbb0c2dac26666824cbf5186c805
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/23/821223/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/defaults/main.yml'],1,6d99333056371060acba1f208c6bbe6862a684f7,fix-dib-bullseye-build, DIB_INSTALLTYPE_pip_and_virtualenv: package,,1,0
openstack%2Fopenstack-ansible-specs~master~I9f8ed559e76ae7055df35943648581feba27128a,openstack/openstack-ansible-specs,master,I9f8ed559e76ae7055df35943648581feba27128a,Duplicate word deleted in  ipv6-project-support.rst,MERGED,2018-11-13 11:02:15.000000000,2022-01-04 16:14:36.000000000,2022-01-04 16:12:40.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 31749}]","[{'number': 1, 'created': '2018-11-13 11:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/913837dc34c7c0f294ce01c0b137af2cf9bbc099', 'message': 'Dumplicate words was deleted in  ipv6-project-support.rst\n\nChange-Id: I9f8ed559e76ae7055df35943648581feba27128a\n'}, {'number': 2, 'created': '2022-01-04 10:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/88f7a09cd65e8864de667cdee5538e304a0da2a2', 'message': 'Dumplicate words was deleted in  ipv6-project-support.rst\n\nChange-Id: I9f8ed559e76ae7055df35943648581feba27128a\n'}, {'number': 3, 'created': '2022-01-04 11:34:47.000000000', 'files': ['specs/newton/ipv6-project-support.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/f4cae325f9239dfb7439766c474bc0b693ed6c1f', 'message': 'Duplicate word deleted in  ipv6-project-support.rst\n\nChange-Id: I9f8ed559e76ae7055df35943648581feba27128a\n'}]",1,617575,f4cae325f9239dfb7439766c474bc0b693ed6c1f,21,5,3,27366,,,0,"Duplicate word deleted in  ipv6-project-support.rst

Change-Id: I9f8ed559e76ae7055df35943648581feba27128a
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/75/617575/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/ipv6-project-support.rst'],1,913837dc34c7c0f294ce01c0b137af2cf9bbc099,,Neutron currently (in kilo) has the ability to manage and route IPv6 data.,Neutron currently (in kilo) has the ability to to manage and route IPv6 data.,1,1
openstack%2Ftripleo-repos~master~I29ffd3caa481fc94995ae0ba4c914ebee219aa89,openstack/tripleo-repos,master,I29ffd3caa481fc94995ae0ba4c914ebee219aa89,Install priorities of CentOS7 only on CentOS7 host,MERGED,2021-12-15 12:24:03.000000000,2022-01-04 16:04:37.000000000,2022-01-04 16:04:37.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-15 12:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/b2f5b1a448f207a72967d6f38693610e720e4a98', 'message': 'Install priorities of CentOS7 only on CentOS7 host\n\nChange-Id: I29ffd3caa481fc94995ae0ba4c914ebee219aa89\n'}, {'number': 2, 'created': '2022-01-03 14:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d0e46edc198380620359dd41a0fcfb6efebb8d57', 'message': 'Install priorities of CentOS7 only on CentOS7 host\n\nChange-Id: I29ffd3caa481fc94995ae0ba4c914ebee219aa89\n'}, {'number': 3, 'created': '2022-01-03 14:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/58db5c9bd7018c41aaca2f3ba9ad1d8529a4d44b', 'message': 'Install priorities of CentOS7 only on CentOS7 host\n\nChange-Id: I29ffd3caa481fc94995ae0ba4c914ebee219aa89\n'}, {'number': 4, 'created': '2022-01-03 17:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5613b471d0edd14658383e10056aa7782d138ce8', 'message': 'Install priorities of CentOS7 only on CentOS7 host\n\nChange-Id: I29ffd3caa481fc94995ae0ba4c914ebee219aa89\n'}, {'number': 5, 'created': '2022-01-04 09:11:16.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py', 'tests/unit/tripleo_repos/test_main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c27cd2653571ab95611a4938be2ca5734bbf15f0', 'message': 'Install priorities of CentOS7 only on CentOS7 host\n\nChange-Id: I29ffd3caa481fc94995ae0ba4c914ebee219aa89\n'}]",2,821837,c27cd2653571ab95611a4938be2ca5734bbf15f0,16,4,5,10969,,,0,"Install priorities of CentOS7 only on CentOS7 host

Change-Id: I29ffd3caa481fc94995ae0ba4c914ebee219aa89
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/37/821837/4 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/main.py'],1,b2f5b1a448f207a72967d6f38693610e720e4a98,newrepos," if args.distro in ['centos7'] and ( distro_name.lower(), distro_major_version_id) == (""centos"", ""7""):", if args.distro in ['centos7']:,2,1
openstack%2Ftripleo-repos~master~Iafe8e461fe891482bf0e557d1088d7d31d776b59,openstack/tripleo-repos,master,Iafe8e461fe891482bf0e557d1088d7d31d776b59,DNM: Add temp testing repo for victoria,ABANDONED,2022-01-03 14:49:18.000000000,2022-01-04 16:04:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-03 14:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/c23f88c7b02026f17c7f8fb40b4e547577654aa7', 'message': 'DNM: Add temp testing repo for victoria\n\nTesting bumped version for fs039\n\nChange-Id: Iafe8e461fe891482bf0e557d1088d7d31d776b59\n'}, {'number': 2, 'created': '2022-01-03 15:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/59273ff8ba855a580c90e8a1a56a30cffb89592d', 'message': 'DNM: Add temp testing repo for victoria\n\nTesting bumped version for fs039\n\nChange-Id: Iafe8e461fe891482bf0e557d1088d7d31d776b59\n'}, {'number': 3, 'created': '2022-01-03 16:54:09.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/20eb5cf53da22e23d1ff502662224e39024067b9', 'message': 'DNM: Add temp testing repo for victoria\n\nTesting bumped version for fs039\n\nChange-Id: Iafe8e461fe891482bf0e557d1088d7d31d776b59\n'}]",1,823316,20eb5cf53da22e23d1ff502662224e39024067b9,6,1,3,9976,,,0,"DNM: Add temp testing repo for victoria

Testing bumped version for fs039

Change-Id: Iafe8e461fe891482bf0e557d1088d7d31d776b59
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/16/823316/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/main.py'],1,c23f88c7b02026f17c7f8fb40b4e547577654aa7,bug1956083,TEMP_REPO_TEMPLATE = ''' [temp-cloud8s-openstack-victoria-testing] name=temp-cloud8s-openstack-victoria-testing baseurl=https://logserver.rdoproject.org/71/37671/1/check/validate-buildsys-tags/b9fbc3c/buildset/repos/cloud8s-openstack-victoria-testing/ enabled=1 gpgcheck=0 priority=1 module_hotfixes=1 ''',,9,0
openstack%2Fkuryr-kubernetes~master~I307f09e3c47d3d44084054979be5cb554fa33d60,openstack/kuryr-kubernetes,master,I307f09e3c47d3d44084054979be5cb554fa33d60,Bump docutils version on lower constraints.,MERGED,2022-01-03 13:32:14.000000000,2022-01-04 16:01:20.000000000,2022-01-04 15:59:31.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-01-03 13:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3d125f27aa915c92f7dae87b74871e33b4c870b2', 'message': 'Bump docutils version on lower constraints.\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nNote, that 0.12 version also will fail building, since it pretty much\nancient - current version is 0.18.1.\n\nChange-Id: I307f09e3c47d3d44084054979be5cb554fa33d60\n'}, {'number': 2, 'created': '2022-01-04 07:02:50.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/00a0701ef681c4fb7a4af6b156eca18c00eb6272', 'message': 'Bump docutils version on lower constraints.\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nNote, that 0.12 version also will fail building, since it pretty much\nancient - current version is 0.18.1.\n\nChange-Id: I307f09e3c47d3d44084054979be5cb554fa33d60\n'}]",3,823285,00a0701ef681c4fb7a4af6b156eca18c00eb6272,14,3,2,13692,,,0,"Bump docutils version on lower constraints.

Because docutils 0.11 cannot be build anymore from source on python >=
3.8, and there is no wheel package available on pypi, we need to bump it
to version 0.12, since there is still wheel available.

Note, that 0.12 version also will fail building, since it pretty much
ancient - current version is 0.18.1.

Change-Id: I307f09e3c47d3d44084054979be5cb554fa33d60
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/85/823285/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,3d125f27aa915c92f7dae87b74871e33b4c870b2,docutils,docutils==0.12,docutils==0.11,1,1
openstack%2Fironic~master~Ie3950dd25a41f8381d218588c3e4a1728e5f3a60,openstack/ironic,master,Ie3950dd25a41f8381d218588c3e4a1728e5f3a60,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 01:48:42.000000000,2022-01-04 15:51:50.000000000,2022-01-04 15:44:58.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-14 01:48:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4eb79f15fbedfc3648cfe7aec2c31285412cf66e', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: Ie3950dd25a41f8381d218588c3e4a1728e5f3a60\n'}]",2,821641,4eb79f15fbedfc3648cfe7aec2c31285412cf66e,18,3,1,8556,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: Ie3950dd25a41f8381d218588c3e4a1728e5f3a60
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/821641/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4eb79f15fbedfc3648cfe7aec2c31285412cf66e,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fpython-ironicclient~master~I9ad08221b74d0ddbb800f6b56c98fdd472f0815d,openstack/python-ironicclient,master,I9ad08221b74d0ddbb800f6b56c98fdd472f0815d,Use only Yoga tests,MERGED,2021-12-03 07:57:23.000000000,2022-01-04 15:51:08.000000000,2022-01-04 15:44:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-03 07:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6e3c7291a4421e6f949d8fea0a5a25e32b559b43', 'message': 'Use only Yoga tests\n\nTC has decided to keep support for Python 3.6 during the Yoga cycle.\nFor more info see [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026164.html\n\nChange-Id: I9ad08221b74d0ddbb800f6b56c98fdd472f0815d\n'}, {'number': 2, 'created': '2021-12-14 08:01:31.000000000', 'files': ['zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6c3f20aee7a09cb64aa433c48b7dd29a1c0dbc12', 'message': 'Use only Yoga tests\n\nTC has decided to keep support for Python 3.6 during the Yoga cycle.\nFor more info see [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026164.html\n\nChange-Id: I9ad08221b74d0ddbb800f6b56c98fdd472f0815d\n'}]",2,820325,6c3f20aee7a09cb64aa433c48b7dd29a1c0dbc12,17,3,2,23851,,,0,"Use only Yoga tests

TC has decided to keep support for Python 3.6 during the Yoga cycle.
For more info see [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026164.html

Change-Id: I9ad08221b74d0ddbb800f6b56c98fdd472f0815d
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/25/820325/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6e3c7291a4421e6f949d8fea0a5a25e32b559b43,pure-yoga-tests,," # NOTE(rpittau): yoga jobs support py38 and py39 but we want to keep # testing py36 to maintain compatibility with older distributions like # CentOS Stream 8, Ubuntu Bionic, Debian 10, and openSuse Leap # Remove after Yoga - openstack-tox-py36 # NOTE(rpittau): yoga jobs support py38 and py39 but we want to keep # testing py36 to maintain compatibility with older distributions like # CentOS Stream 8, Ubuntu Bionic, Debian 10, and openSuse Leap # Remove after Yoga - openstack-tox-py36",0,10
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~If325bf015818c1c4dc053f44e1619cabaa815f43,openstack/openstack-ansible-os_keystone,stable/ussuri,If325bf015818c1c4dc053f44e1619cabaa815f43,Avoid Apache conflict with haproxy on metal,MERGED,2021-12-24 16:20:38.000000000,2022-01-04 15:36:14.000000000,2022-01-04 15:34:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-24 16:20:38.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/cb11703f18ad9d0f6e46488deab5565b9970500e', 'message': ""Avoid Apache conflict with haproxy on metal\n\nCurrently if deployed on metal Apache would conflict with haproxy as\nit's listening on 0.0.0.0 which breaks bind-to-mgmt topic.\nThis is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f\n\nChange-Id: If325bf015818c1c4dc053f44e1619cabaa815f43\nCloses-Bug: #1869618\n""}]",0,822932,cb11703f18ad9d0f6e46488deab5565b9970500e,8,3,1,28619,,,0,"Avoid Apache conflict with haproxy on metal

Currently if deployed on metal Apache would conflict with haproxy as
it's listening on 0.0.0.0 which breaks bind-to-mgmt topic.
This is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f

Change-Id: If325bf015818c1c4dc053f44e1619cabaa815f43
Closes-Bug: #1869618
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/32/822932/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,cb11703f18ad9d0f6e46488deab5565b9970500e,bug/1869618-stable/ussuri,Listen {{ keystone_web_server_bind_address }}:{{ keystone_service_port }},Listen {{ keystone_service_port }},1,1
openstack%2Fopenstack-ansible~master~Ie514d4e5d2b7f7a23d33935ae0d2649c99fca724,openstack/openstack-ansible,master,Ie514d4e5d2b7f7a23d33935ae0d2649c99fca724,Use unittest.mock instead of mock,MERGED,2020-06-09 08:51:08.000000000,2022-01-04 15:30:12.000000000,2022-01-04 15:28:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-09 08:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ac426d8069022ad06c2d5e835afd6e57e0ae936', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ie514d4e5d2b7f7a23d33935ae0d2649c99fca724\n'}, {'number': 2, 'created': '2020-06-09 17:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b5ef01c327e86c6e4dec4df48da8bb15ed7dd1c5', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ie514d4e5d2b7f7a23d33935ae0d2649c99fca724\n'}, {'number': 3, 'created': '2020-07-17 07:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a95f32894aab8fb8dd6acd98c87302a2050d514c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ie514d4e5d2b7f7a23d33935ae0d2649c99fca724\n'}, {'number': 4, 'created': '2022-01-04 10:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3ef336f85bdcdc36111ed5121011d998d75896b3', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ie514d4e5d2b7f7a23d33935ae0d2649c99fca724\n'}]",0,734452,3ef336f85bdcdc36111ed5121011d998d75896b3,22,5,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ie514d4e5d2b7f7a23d33935ae0d2649c99fca724
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/52/734452/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tests/test_filesystem.py', 'tests/test_inventory.py']",3,1ac426d8069022ad06c2d5e835afd6e57e0ae936,drop_mock,from unittest import mock,import mock,2,3
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~If325bf015818c1c4dc053f44e1619cabaa815f43,openstack/openstack-ansible-os_keystone,stable/victoria,If325bf015818c1c4dc053f44e1619cabaa815f43,Avoid Apache conflict with haproxy on metal,MERGED,2021-12-24 16:20:27.000000000,2022-01-04 15:25:07.000000000,2022-01-04 15:22:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-24 16:20:27.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9df7d79a8123f4e35b89eed9476962f0327de2b4', 'message': ""Avoid Apache conflict with haproxy on metal\n\nCurrently if deployed on metal Apache would conflict with haproxy as\nit's listening on 0.0.0.0 which breaks bind-to-mgmt topic.\nThis is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f\n\nChange-Id: If325bf015818c1c4dc053f44e1619cabaa815f43\nCloses-Bug: #1869618\n""}]",1,822931,9df7d79a8123f4e35b89eed9476962f0327de2b4,10,3,1,28619,,,0,"Avoid Apache conflict with haproxy on metal

Currently if deployed on metal Apache would conflict with haproxy as
it's listening on 0.0.0.0 which breaks bind-to-mgmt topic.
This is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f

Change-Id: If325bf015818c1c4dc053f44e1619cabaa815f43
Closes-Bug: #1869618
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/31/822931/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,9df7d79a8123f4e35b89eed9476962f0327de2b4,bug/1869618-stable/victoria,Listen {{ keystone_web_server_bind_address }}:{{ keystone_service_port }},Listen {{ keystone_service_port }},1,1
openstack%2Ftripleo-ci~master~I4d7506e544ce4f01a9e0d55247cc30fc2bb6066f,openstack/tripleo-ci,master,I4d7506e544ce4f01a9e0d55247cc30fc2bb6066f,Enable remaining CS9 jobs in tripleo,MERGED,2021-12-21 14:30:58.000000000,2022-01-04 15:11:57.000000000,2022-01-04 15:11:57.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-21 14:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d13c7e83ce92b6c30551035f37c9e209ce2354f2', 'message': 'Run multinode-oooq-container jobs in tripleo-ci\n\nThis patch adds the following jobs:\n- tripleo-ci-centos-9-scenario007-multinode-oooq-container\n- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\nto tripleo-multinode-branchful pipeline, in order to run in all\ntripleo-ci repos.\n\nChange-Id: I4d7506e544ce4f01a9e0d55247cc30fc2bb6066f\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 2, 'created': '2021-12-22 13:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7ee3a491b0df8a41b4c9499a565ba73efdbb6db3', 'message': 'Enable remaining CS9 jobs in tripleo\n\nThis patch enable the following jobs in check for tripleo projects:\n- tripleo-ci-centos-9-scenario007-multinode-oooq-container\n- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\n- tripleo-ci-centos-9-standalone-on-multinode-ipa\n\nChange-Id: I4d7506e544ce4f01a9e0d55247cc30fc2bb6066f\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 3, 'created': '2021-12-23 17:28:24.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e12cb71d28a3d64b598339576a046e062aaadd67', 'message': 'Enable remaining CS9 jobs in tripleo\n\nThis patch enable the following jobs in check for tripleo projects:\n- tripleo-ci-centos-9-scenario007-multinode-oooq-container\n- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\n- tripleo-ci-centos-9-standalone-on-multinode-ipa\n\nChange-Id: I4d7506e544ce4f01a9e0d55247cc30fc2bb6066f\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",0,822497,e12cb71d28a3d64b598339576a046e062aaadd67,14,4,3,30002,,,0,"Enable remaining CS9 jobs in tripleo

This patch enable the following jobs in check for tripleo projects:
- tripleo-ci-centos-9-scenario007-multinode-oooq-container
- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates
- tripleo-ci-centos-9-standalone-on-multinode-ipa

Change-Id: I4d7506e544ce4f01a9e0d55247cc30fc2bb6066f
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/97/822497/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,d13c7e83ce92b6c30551035f37c9e209ce2354f2,cs9, - tripleo-ci-centos-9-scenario007-multinode-oooq-container: &cs9_multinode_vars vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates: *cs9_multinode_vars ,,6,0
openstack%2Ftripleo-ci~master~I4fd774b1fc3db9a881334e6388c6403b5b637faf,openstack/tripleo-ci,master,I4fd774b1fc3db9a881334e6388c6403b5b637faf,[CS9] Add missing CS9 jobs defintion,MERGED,2021-12-21 14:30:58.000000000,2022-01-04 15:11:55.000000000,2022-01-04 15:11:55.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-21 14:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/698649efaa403ab9d6d210cb390f50640f38fe90', 'message': '[CS9] Add multinode-oooq-container jobs defintion\n\nThis patch adds definition of two jobs for CentOS9:\n- tripleo-ci-centos-9-scenario007-multinode-oooq-container\n- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\n\nChange-Id: I4fd774b1fc3db9a881334e6388c6403b5b637faf\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 2, 'created': '2021-12-22 13:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/25f5bb9ac6325186ec7de4d59a7e35c2f21ad5b0', 'message': '[CS9] Add missing CS9 jobs defintion\n\nThis patch adds definition of the following CS9 jobs:\n- tripleo-ci-centos-9-scenario007-multinode-oooq-container\n- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\n- tripleo-ci-centos-9-standalone-on-multinode-ipa\n\nChange-Id: I4fd774b1fc3db9a881334e6388c6403b5b637faf\nSigned-off-by: Douglas Viroel <dviroel@redhat.com\n'}, {'number': 3, 'created': '2021-12-23 12:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e98dbec4cd5021021ec10c3f8985c7bbef87b1df', 'message': '[CS9] Add missing CS9 jobs defintion\n\nThis patch adds definition of the following CS9 jobs:\n- tripleo-ci-centos-9-scenario007-multinode-oooq-container\n- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\n- tripleo-ci-centos-9-standalone-on-multinode-ipa\n\nChange-Id: I4fd774b1fc3db9a881334e6388c6403b5b637faf\nSigned-off-by: Douglas Viroel <dviroel@redhat.com\n'}, {'number': 4, 'created': '2021-12-23 17:28:24.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9197a68610f150cc53d45d6422ec06f97574d25d', 'message': '[CS9] Add missing CS9 jobs defintion\n\nThis patch adds definition of the following CS9 jobs:\n- tripleo-ci-centos-9-scenario007-multinode-oooq-container\n- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates\n- tripleo-ci-centos-9-standalone-on-multinode-ipa\n\nChange-Id: I4fd774b1fc3db9a881334e6388c6403b5b637faf\nSigned-off-by: Douglas Viroel <dviroel@redhat.com\n'}]",3,822496,9197a68610f150cc53d45d6422ec06f97574d25d,21,5,4,30002,,,0,"[CS9] Add missing CS9 jobs defintion

This patch adds definition of the following CS9 jobs:
- tripleo-ci-centos-9-scenario007-multinode-oooq-container
- tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates
- tripleo-ci-centos-9-standalone-on-multinode-ipa

Change-Id: I4fd774b1fc3db9a881334e6388c6403b5b637faf
Signed-off-by: Douglas Viroel <dviroel@redhat.com
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/96/822496/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,698649efaa403ab9d6d210cb390f50640f38fe90,cs9,## CentOS 9 jobs - job: name: tripleo-ci-centos-9-scenario007-multinode-oooq-container parent: tripleo-ci-centos-8-scenario007-multinode-oooq-container branches: ^(?!stable/(train|ussuri|victoria|wallaby)).*$ nodeset: two-centos-9-nodes irrelevant-files: *multinode_ignored voting: false - job: name: tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates parent: tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates branches: ^(?!stable/(train|ussuri|victoria|wallaby)).*$ nodeset: two-centos-9-nodes irrelevant-files: *multinode_ignored voting: false ,,17,0
openstack%2Fironic-inspector~master~I1600a9c56e85e8c6dcb68277f9d0e3396f92dac9,openstack/ironic-inspector,master,I1600a9c56e85e8c6dcb68277f9d0e3396f92dac9,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:17:48.000000000,2022-01-04 15:04:31.000000000,2022-01-04 14:57:12.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-14 08:17:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fe32ebdfea1434759ef5014d885d3839c9e1e08e', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: I1600a9c56e85e8c6dcb68277f9d0e3396f92dac9\n'}]",2,821659,fe32ebdfea1434759ef5014d885d3839c9e1e08e,13,5,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: I1600a9c56e85e8c6dcb68277f9d0e3396f92dac9
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/59/821659/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fe32ebdfea1434759ef5014d885d3839c9e1e08e,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fironic-lib~master~I7129bb68320a7d6de40feea571e2ac03d4b09166,openstack/ironic-lib,master,I7129bb68320a7d6de40feea571e2ac03d4b09166,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:22:44.000000000,2022-01-04 15:04:12.000000000,2022-01-04 14:57:10.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-14 08:22:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/38f00d1d7d96212635876ab9912a0950d9bc7eda', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: I7129bb68320a7d6de40feea571e2ac03d4b09166\n'}]",1,821661,38f00d1d7d96212635876ab9912a0950d9bc7eda,11,5,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: I7129bb68320a7d6de40feea571e2ac03d4b09166
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/61/821661/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,38f00d1d7d96212635876ab9912a0950d9bc7eda,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fironic-prometheus-exporter~master~I19b1182cc17aab0700e4a8a982b7cb9e63a62ecb,openstack/ironic-prometheus-exporter,master,I19b1182cc17aab0700e4a8a982b7cb9e63a62ecb,Use only Yoga tests,MERGED,2021-12-03 07:53:52.000000000,2022-01-04 15:03:08.000000000,2022-01-04 14:57:08.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-03 07:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/82a7ed21429cbd6cc220a64882c1f6896156636a', 'message': 'Use only Yoga tests\n\nTC has decided to keep support for Python 3.6 during the Yoga cycle.\nFor more info see [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026164.html\n\nChange-Id: I19b1182cc17aab0700e4a8a982b7cb9e63a62ecb\n'}, {'number': 2, 'created': '2021-12-14 07:59:27.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/fa6ce58b4301a622c33c2d8d2f1f730290f13e76', 'message': 'Use only Yoga tests\n\nTC has decided to keep support for Python 3.6 during the Yoga cycle.\nFor more info see [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026164.html\n\nChange-Id: I19b1182cc17aab0700e4a8a982b7cb9e63a62ecb\n'}]",4,820321,fa6ce58b4301a622c33c2d8d2f1f730290f13e76,21,5,2,23851,,,0,"Use only Yoga tests

TC has decided to keep support for Python 3.6 during the Yoga cycle.
For more info see [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026164.html

Change-Id: I19b1182cc17aab0700e4a8a982b7cb9e63a62ecb
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/21/820321/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,82a7ed21429cbd6cc220a64882c1f6896156636a,pure-yoga-tests,," # NOTE(rpittau): yoga jobs support py38 and py39 but we want to keep # testing py36 to maintain compatibility with older distributions like # CentOS Stream 8, Ubuntu Bionic, Debian 10, and openSuse Leap # Remove after Yoga - openstack-tox-py36 # NOTE(rpittau): yoga jobs support py38 and py39 but we want to keep # testing py36 to maintain compatibility with older distributions like # CentOS Stream 8, Ubuntu Bionic, Debian 10, and openSuse Leap # Remove after Yoga - openstack-tox-py36",0,10
openstack%2Fcharm-rabbitmq-server~master~Icbf760610ce83b9d95f48e99f6607ddf23963c97,openstack/charm-rabbitmq-server,master,Icbf760610ce83b9d95f48e99f6607ddf23963c97,Switch to enabling the managment plugin by default,MERGED,2021-11-24 15:50:01.000000000,2022-01-04 14:45:41.000000000,2022-01-04 14:45:41.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-24 15:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/0fe421420a5bedcc15148dde3132ea75be373dbd', 'message': 'Switch to enabling the managment plugin by default\n\nOver time the managment plugin has become a core part of managing\na rabbit deployment. This includes allowing tools such as nrpe to\nbe able to query the api and alert for situations such as orphaned\nqueues.\n\nChange-Id: Icbf760610ce83b9d95f48e99f6607ddf23963c97\nPartial-Bug: 1930547\n'}, {'number': 2, 'created': '2021-11-29 11:06:45.000000000', 'files': ['unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'hooks/rabbitmq_server_relations.py', 'config.yaml', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/df711c6717fffdd6d4285b5b2b318ead90fa51fa', 'message': 'Switch to enabling the managment plugin by default\n\nOver time the managment plugin has become a core part of managing\na rabbit deployment. This includes allowing tools such as nrpe to\nbe able to query the api and alert for situations such as orphaned\nqueues.\n\nChange-Id: Icbf760610ce83b9d95f48e99f6607ddf23963c97\nPartial-Bug: 1930547\n'}]",1,819134,df711c6717fffdd6d4285b5b2b318ead90fa51fa,12,3,2,12549,,,0,"Switch to enabling the managment plugin by default

Over time the managment plugin has become a core part of managing
a rabbit deployment. This includes allowing tools such as nrpe to
be able to query the api and alert for situations such as orphaned
queues.

Change-Id: Icbf760610ce83b9d95f48e99f6607ddf23963c97
Partial-Bug: 1930547
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/34/819134/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'hooks/rabbitmq_server_relations.py', 'config.yaml', 'hooks/rabbit_utils.py']",5,0fe421420a5bedcc15148dde3132ea75be373dbd,bug/1930547," lsb_release, CompareHostReleases,def management_plugin_enabled(): """"""Check if management plugin should be enabled. :returns: Whether anagement plugin should be enabled :rtype: bool """""" _release = lsb_release()['DISTRIB_CODENAME'].lower() if CompareHostReleases(_release) < ""bionic"": return False else: return config('management_plugin') is True if management_plugin_enabled(): if not management_plugin_enabled(): if management_plugin_enabled():", if config('management_plugin'): if not config('management_plugin'): if config('management_plugin'):,41,6
openstack%2Fproject-config~master~Ie002852ecb39dcdf942e132f0cb5e2e89ac2d0c0,openstack/project-config,master,Ie002852ecb39dcdf942e132f0cb5e2e89ac2d0c0,Disable nodepool temporarily,MERGED,2021-12-03 10:44:32.000000000,2022-01-04 14:42:07.000000000,2022-01-04 14:10:26.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 11583}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-03 10:44:32.000000000', 'files': ['nodepool/nl04.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f06690ce9b19170a5a3eba60bd32c5a4c9f627d', 'message': 'Disable nodepool temporarily\n\nOVH will upgrade the BHS1 region to a new OpenStack release on\n2022/01/05.\n\nDuring this operation, all API are going to be down (for few hours).\n\nA proper communication will be done, but this commit should be merged\njust before.\n\nChange-Id: Ie002852ecb39dcdf942e132f0cb5e2e89ac2d0c0\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}]",1,820369,4f06690ce9b19170a5a3eba60bd32c5a4c9f627d,11,5,1,11583,,,0,"Disable nodepool temporarily

OVH will upgrade the BHS1 region to a new OpenStack release on
2022/01/05.

During this operation, all API are going to be down (for few hours).

A proper communication will be done, but this commit should be merged
just before.

Change-Id: Ie002852ecb39dcdf942e132f0cb5e2e89ac2d0c0
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/820369/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl04.opendev.org.yaml'],1,4f06690ce9b19170a5a3eba60bd32c5a4c9f627d,, max-servers: 0, max-servers: 120,1,1
openstack%2Fbifrost~master~Ib610d689fbdabff5cf505057eb7bd586b74629d8,openstack/bifrost,master,Ib610d689fbdabff5cf505057eb7bd586b74629d8,[trivial] add python 3.9 in classifier,MERGED,2021-12-14 08:21:15.000000000,2022-01-04 14:41:02.000000000,2022-01-04 14:39:18.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 08:21:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f284b98dbb3f6a7897a79809164355eb6d126c82', 'message': '[trivial] add python 3.9 in classifier\n\nChange-Id: Ib610d689fbdabff5cf505057eb7bd586b74629d8\n'}]",1,821660,f284b98dbb3f6a7897a79809164355eb6d126c82,10,4,1,23851,,,0,"[trivial] add python 3.9 in classifier

Change-Id: Ib610d689fbdabff5cf505057eb7bd586b74629d8
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/60/821660/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f284b98dbb3f6a7897a79809164355eb6d126c82,yoga-python-testing, Programming Language :: Python :: 3.9,,1,0
openstack%2Fvirtualbmc~master~I0b1fd265bfed80b76e5eced456d80b65310b4368,openstack/virtualbmc,master,I0b1fd265bfed80b76e5eced456d80b65310b4368,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:43:40.000000000,2022-01-04 14:39:32.000000000,2022-01-04 14:37:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 08:43:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/4a8a0ae005048e2d491a286618ed624bb1211adf', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: I0b1fd265bfed80b76e5eced456d80b65310b4368\n'}]",0,821673,4a8a0ae005048e2d491a286618ed624bb1211adf,9,3,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: I0b1fd265bfed80b76e5eced456d80b65310b4368
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/73/821673/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4a8a0ae005048e2d491a286618ed624bb1211adf,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fnetworking-baremetal~master~I1e8e1c5b9daf17be3cb607eac113b0de1585d7c8,openstack/networking-baremetal,master,I1e8e1c5b9daf17be3cb607eac113b0de1585d7c8,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:37:41.000000000,2022-01-04 14:38:33.000000000,2022-01-04 14:36:35.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-14 08:37:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/33aa1033abe9c741cc6026f2297332a708784163', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: I1e8e1c5b9daf17be3cb607eac113b0de1585d7c8\n'}]",2,821667,33aa1033abe9c741cc6026f2297332a708784163,13,5,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: I1e8e1c5b9daf17be3cb607eac113b0de1585d7c8
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/67/821667/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,33aa1033abe9c741cc6026f2297332a708784163,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fcharm-rabbitmq-server~master~Ic03bbe55ea8aab8b285977a5c0f9410b5bbf35c8,openstack/charm-rabbitmq-server,master,Ic03bbe55ea8aab8b285977a5c0f9410b5bbf35c8,Use cluster strategy 'ignore' for install,MERGED,2021-11-24 10:10:24.000000000,2022-01-04 14:38:30.000000000,2022-01-04 14:38:30.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-24 10:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/a7ec67f434feb5dcd8b07fa491b3acee45c26ddb', 'message': ""Use cluster strategy 'ignore' for install\n\nUse cluster-partition-handling strategy 'ignore' during charm\ninstallation regardless of the charm config setting. Once the\nleader has checked it is clustered with peers then it sets the\ncluster-partition-handling strategy to be whatever the user set\nin charm config.\n\nChange-Id: Ic03bbe55ea8aab8b285977a5c0f9410b5bbf35c8\n""}, {'number': 2, 'created': '2021-11-24 10:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/1b3433eee476e2dce0b6e4f9d7317a4b23be764e', 'message': ""Use cluster strategy 'ignore' for install\n\nUse cluster-partition-handling strategy 'ignore' during charm\ninstallation regardless of the charm config setting. Once the\nleader has checked it is clustered with peers then it sets the\ncluster-partition-handling strategy to be whatever the user set\nin charm config.\n\nPartial-Bug: 1802315\nChange-Id: Ic03bbe55ea8aab8b285977a5c0f9410b5bbf35c8\n""}, {'number': 3, 'created': '2021-11-24 13:17:07.000000000', 'files': ['unit_tests/test_rabbit_utils.py', 'unit_tests/test_rabbitmq_context.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbitmq_context.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ab813a982d2d091e727a0d05d0305c7cfc5681c9', 'message': ""Use cluster strategy 'ignore' for install\n\nUse cluster-partition-handling strategy 'ignore' during charm\ninstallation regardless of the charm config setting. Once the\nleader has checked it is clustered with peers then it sets the\ncluster-partition-handling strategy to be whatever the user set\nin charm config.\n\nPartial-Bug: 1802315\nChange-Id: Ic03bbe55ea8aab8b285977a5c0f9410b5bbf35c8\n""}]",2,819086,ab813a982d2d091e727a0d05d0305c7cfc5681c9,13,3,3,12549,,,0,"Use cluster strategy 'ignore' for install

Use cluster-partition-handling strategy 'ignore' during charm
installation regardless of the charm config setting. Once the
leader has checked it is clustered with peers then it sets the
cluster-partition-handling strategy to be whatever the user set
in charm config.

Partial-Bug: 1802315
Change-Id: Ic03bbe55ea8aab8b285977a5c0f9410b5bbf35c8
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/86/819086/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbit_utils.py', 'unit_tests/test_rabbitmq_context.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py', 'hooks/rabbitmq_context.py']",5,a7ec67f434feb5dcd8b07fa491b3acee45c26ddb,bug/1802315,"import rabbit_utils leader_get, (leader_get(rabbit_utils.CLUSTER_MODE_KEY) or rabbit_utils.CLUSTER_MODE_FOR_INSTALL),"," config('cluster-partition-handling'),",93,12
openstack%2Fmolteniron~master~I31a3b83d4624664ec923c61ca3a64f7a2a54c887,openstack/molteniron,master,I31a3b83d4624664ec923c61ca3a64f7a2a54c887,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:28:26.000000000,2022-01-04 14:38:12.000000000,2022-01-04 14:36:16.000000000,"[{'_account_id': 8556}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 08:28:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/molteniron/commit/9db968b5904ed67a5287dd8496520c4791161352', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: I31a3b83d4624664ec923c61ca3a64f7a2a54c887\n'}]",1,821666,9db968b5904ed67a5287dd8496520c4791161352,9,3,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: I31a3b83d4624664ec923c61ca3a64f7a2a54c887
",git fetch https://review.opendev.org/openstack/molteniron refs/changes/66/821666/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9db968b5904ed67a5287dd8496520c4791161352,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fpython-ironic-inspector-client~master~Ia72ab5858443fcdf776711d615a2a346fdce66e9,openstack/python-ironic-inspector-client,master,Ia72ab5858443fcdf776711d615a2a346fdce66e9,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:41:24.000000000,2022-01-04 14:37:52.000000000,2022-01-04 14:35:57.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 08:41:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/6ac7e6ea651675e1a99212b2880a7bec2e067742', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: Ia72ab5858443fcdf776711d615a2a346fdce66e9\n'}]",2,821671,6ac7e6ea651675e1a99212b2880a7bec2e067742,12,4,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: Ia72ab5858443fcdf776711d615a2a346fdce66e9
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/71/821671/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6ac7e6ea651675e1a99212b2880a7bec2e067742,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fnetworking-generic-switch~master~I5ce09968bfa4f229866409521f0628e22eab19e9,openstack/networking-generic-switch,master,I5ce09968bfa4f229866409521f0628e22eab19e9,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:38:29.000000000,2022-01-04 14:37:13.000000000,2022-01-04 14:35:23.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-14 08:38:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/bc90e80dcfa50fa10eab1c7b44ca8ab22a30aea1', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: I5ce09968bfa4f229866409521f0628e22eab19e9\n'}]",1,821669,bc90e80dcfa50fa10eab1c7b44ca8ab22a30aea1,11,5,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: I5ce09968bfa4f229866409521f0628e22eab19e9
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/69/821669/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bc90e80dcfa50fa10eab1c7b44ca8ab22a30aea1,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I16436d23a7853afe029920b3ea2f61058c133010,openstack/puppet-openstack-integration,stable/wallaby,I16436d23a7853afe029920b3ea2f61058c133010,Clean r10k installation,MERGED,2022-01-04 09:57:07.000000000,2022-01-04 14:33:42.000000000,2022-01-04 14:33:42.000000000,"[{'_account_id': 9816}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 09:57:07.000000000', 'files': ['install_modules.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/41d34cd66d90b0c88f093f62985897d5233be120', 'message': ""Clean r10k installation\n\nIn the past we had to workaround some issues related to r10k\ninstallation and dependencies. However, apparently some of those issues\nhave been fixed and we don't need to pin to specific gem versions\nanymore.\n\nChange-Id: I16436d23a7853afe029920b3ea2f61058c133010\n(cherry picked from commit acdcae90f73e41a05ca1477bf387cfcf47f185c5)\n""}]",1,823348,41d34cd66d90b0c88f093f62985897d5233be120,7,3,1,31068,,,0,"Clean r10k installation

In the past we had to workaround some issues related to r10k
installation and dependencies. However, apparently some of those issues
have been fixed and we don't need to pin to specific gem versions
anymore.

Change-Id: I16436d23a7853afe029920b3ea2f61058c133010
(cherry picked from commit acdcae90f73e41a05ca1477bf387cfcf47f185c5)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/48/823348/1 && git format-patch -1 --stdout FETCH_HEAD,['install_modules.sh'],1,41d34cd66d90b0c88f093f62985897d5233be120,cs9-wallaby,$GEM_INSTALL_CMD r10k,# fast_gettext 1.2.0+ requires ruby 2.1.0 $GEM_INSTALL_CMD fast_gettext -v '< 1.2.0' # gettext 3.3.0+ requires ruby 2.5.0 $GEM_INSTALL_CMD gettext -v '< 3.3.0' # puppet_forge 2.2.7 has a dependency on semantic_puppet ~> 1.0 # which is not compatible with dependency of latest r10k on semantic_puppet ~> 0.1.0 $GEM_INSTALL_CMD puppet_forge -v '= 2.2.6' $GEM_INSTALL_CMD r10k -v 2.6.4,1,8
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fwallaby~Iae5c21ee0d604fb015593337815840981ab10ef9,openstack/openstack-ansible-haproxy_server,stable/wallaby,Iae5c21ee0d604fb015593337815840981ab10ef9,Describe in detail why external and internal keepalived ping addresses should be separated,MERGED,2021-12-24 14:49:19.000000000,2022-01-04 14:11:39.000000000,2022-01-04 14:09:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-24 14:49:19.000000000', 'files': ['doc/source/configure-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/d9fa4351db64dd3c7fe45414a3170732d09f041c', 'message': 'Describe in detail why external and internal keepalived ping addresses should be separated\n\nChange-Id: Iae5c21ee0d604fb015593337815840981ab10ef9\n'}]",0,822807,d9fa4351db64dd3c7fe45414a3170732d09f041c,8,3,1,31792,,,0,"Describe in detail why external and internal keepalived ping addresses should be separated

Change-Id: Iae5c21ee0d604fb015593337815840981ab10ef9
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/07/822807/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-haproxy.rst'],1,d9fa4351db64dd3c7fe45414a3170732d09f041c,doc-int-ext-keepalived-stable/wallaby,"If external connectivity fails, it is important that internal services can still access an HAProxy instance. In a situation, when ping to some external host fails and internal ping is not separated, all keepalived instances enter the fault state despite internal connectivity being still available. Separate ping check for internal and external connectivity ensures that when one instance fails the other VIP remains in operation. ",,7,0
openstack%2Fopenstack-ansible-specs~master~I694ed127dde4dcf14e399a56ed494f791ebd8c5a,openstack/openstack-ansible-specs,master,I694ed127dde4dcf14e399a56ed494f791ebd8c5a,Remove the repetition words in  developer-docs.rst,ABANDONED,2018-11-13 10:57:34.000000000,2022-01-04 13:51:57.000000000,,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 10:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/5c79fb5338d0f9465aeaecdf23ec87e8c6f1cd28', 'message': 'Remove the repetition words in  developer-docs.rst\n\nChange-Id: I694ed127dde4dcf14e399a56ed494f791ebd8c5a\n'}, {'number': 2, 'created': '2022-01-04 10:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/51d2df95e168f8528eada68f5d4cdd32aa16d716', 'message': 'Remove the repetition words in  developer-docs.rst\n\nChange-Id: I694ed127dde4dcf14e399a56ed494f791ebd8c5a\n'}]",0,617572,51d2df95e168f8528eada68f5d4cdd32aa16d716,13,2,2,27366,,,0,"Remove the repetition words in  developer-docs.rst

Change-Id: I694ed127dde4dcf14e399a56ed494f791ebd8c5a
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/72/617572/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/developer-docs.rst'],1,5c79fb5338d0f9465aeaecdf23ec87e8c6f1cd28,, file and the inventory_management.py files., file and and the inventory_management.py files.,1,1
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~I54b2d4bdf6d101cc72c92be196962902a6138757,openstack/ansible-role-python_venv_build,stable/victoria,I54b2d4bdf6d101cc72c92be196962902a6138757,Verify that wheels are built while running against multiple hosts,MERGED,2021-12-30 11:33:34.000000000,2022-01-04 13:45:36.000000000,2022-01-04 13:44:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-30 11:33:34.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/7e3459b29dd30dde489a3f1e1085a6706ad387cb', 'message': ""Verify that wheels are built while running against multiple hosts\n\nInfra team has reported that OSA deployments use to DDoS gitea.\nDuring some investigation we discovered that the potential workflow that\nlead to DDoS was incorrect order during upgrade, when\ncompute nodes were upgraded before controllers and thus\neach compute node was independently pulling same repos as no repo\nserver was available to this specific OS version.\n\nBased on that we're implementing check that allows such behaviour only\nif it's performed in a serial manner.\nUndocumented variable `venv_wheel_build_skip_check` is added for cases\nwhen local repos are used for service deployment and limitation should\nnot be applicable.\n\nChange-Id: I54b2d4bdf6d101cc72c92be196962902a6138757\n(cherry picked from commit de731e7f9e15a99e9587b42de175531bab3f401e)\n""}]",0,823139,7e3459b29dd30dde489a3f1e1085a6706ad387cb,8,3,1,28619,,,0,"Verify that wheels are built while running against multiple hosts

Infra team has reported that OSA deployments use to DDoS gitea.
During some investigation we discovered that the potential workflow that
lead to DDoS was incorrect order during upgrade, when
compute nodes were upgraded before controllers and thus
each compute node was independently pulling same repos as no repo
server was available to this specific OS version.

Based on that we're implementing check that allows such behaviour only
if it's performed in a serial manner.
Undocumented variable `venv_wheel_build_skip_check` is added for cases
when local repos are used for service deployment and limitation should
not be applicable.

Change-Id: I54b2d4bdf6d101cc72c92be196962902a6138757
(cherry picked from commit de731e7f9e15a99e9587b42de175531bab3f401e)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/39/823139/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,7e3459b29dd30dde489a3f1e1085a6706ad387cb,,"# NOTE(noonedeadpunk): If you are deploying services from local forks high load on which is not # an issue for you, you can disable this with `venv_wheel_build_skip_check: true` - name: Fail if wheels are not built for multiple hosts fail: msg: >- You are not building wheels while running role against multiple hosts. This might result in DOS-ing OpenDev infrustructure servers. In order to proceed, please ensure that you have repo servers for selected OS version and architecture. If you want to avoid building wheel on purpose, ensure that you run playbook in serial manner. In case of causing unreasonable load on the opendev.org git servers, your access may be blocked to protect other users and the OpenDev CI infrastructure which are reliant on this service. Found venv_build_targets: {{ venv_build_targets }} when: - not venv_wheel_build_enable | bool - ansible_play_batch | length > 2 - not (venv_wheel_build_skip_check | default(False)) ",,20,0
openstack%2Fopenstack-tempest-skiplist~master~I95063b22e6c3fd512370c1c6f4aeb7d8d38afa1a,openstack/openstack-tempest-skiplist,master,I95063b22e6c3fd512370c1c6f4aeb7d8d38afa1a,Move test_trunk_subport_lifecycle to skip list,MERGED,2022-01-04 06:53:31.000000000,2022-01-04 13:40:39.000000000,2022-01-04 13:38:35.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-04 06:53:31.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1356cdb8866cdc81c3fbb08ce91e965b0f1331d7', 'message': 'Move test_trunk_subport_lifecycle to skip list\n\nRelated-Bug: #1956233\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I95063b22e6c3fd512370c1c6f4aeb7d8d38afa1a\n'}]",1,823332,1356cdb8866cdc81c3fbb08ce91e965b0f1331d7,9,4,1,12393,,,0,"Move test_trunk_subport_lifecycle to skip list

Related-Bug: #1956233

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I95063b22e6c3fd512370c1c6f4aeb7d8d38afa1a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/32/823332/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,1356cdb8866cdc81c3fbb08ce91e965b0f1331d7,testskip, - test: 'neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle' deployment: - 'overcloud' releases: - name: master reason: Test timed out waiting for port <> to transition to get status DOWN installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1956233 jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-master - periodic-tripleo-ci-centos-9-standalone-full-tempest-scenario-master,,13,0
openstack%2Fansible-role-python_venv_build~stable%2Fwallaby~I54b2d4bdf6d101cc72c92be196962902a6138757,openstack/ansible-role-python_venv_build,stable/wallaby,I54b2d4bdf6d101cc72c92be196962902a6138757,Verify that wheels are built while running against multiple hosts,MERGED,2021-12-30 11:33:22.000000000,2022-01-04 13:32:56.000000000,2022-01-04 13:30:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-30 11:33:22.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5c29b66811270abb788a2e7822b7202d936ac601', 'message': ""Verify that wheels are built while running against multiple hosts\n\nInfra team has reported that OSA deployments use to DDoS gitea.\nDuring some investigation we discovered that the potential workflow that\nlead to DDoS was incorrect order during upgrade, when\ncompute nodes were upgraded before controllers and thus\neach compute node was independently pulling same repos as no repo\nserver was available to this specific OS version.\n\nBased on that we're implementing check that allows such behaviour only\nif it's performed in a serial manner.\nUndocumented variable `venv_wheel_build_skip_check` is added for cases\nwhen local repos are used for service deployment and limitation should\nnot be applicable.\n\nChange-Id: I54b2d4bdf6d101cc72c92be196962902a6138757\n(cherry picked from commit de731e7f9e15a99e9587b42de175531bab3f401e)\n""}]",0,823138,5c29b66811270abb788a2e7822b7202d936ac601,8,3,1,28619,,,0,"Verify that wheels are built while running against multiple hosts

Infra team has reported that OSA deployments use to DDoS gitea.
During some investigation we discovered that the potential workflow that
lead to DDoS was incorrect order during upgrade, when
compute nodes were upgraded before controllers and thus
each compute node was independently pulling same repos as no repo
server was available to this specific OS version.

Based on that we're implementing check that allows such behaviour only
if it's performed in a serial manner.
Undocumented variable `venv_wheel_build_skip_check` is added for cases
when local repos are used for service deployment and limitation should
not be applicable.

Change-Id: I54b2d4bdf6d101cc72c92be196962902a6138757
(cherry picked from commit de731e7f9e15a99e9587b42de175531bab3f401e)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/38/823138/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,5c29b66811270abb788a2e7822b7202d936ac601,,"# NOTE(noonedeadpunk): If you are deploying services from local forks high load on which is not # an issue for you, you can disable this with `venv_wheel_build_skip_check: true` - name: Fail if wheels are not built for multiple hosts fail: msg: >- You are not building wheels while running role against multiple hosts. This might result in DOS-ing OpenDev infrustructure servers. In order to proceed, please ensure that you have repo servers for selected OS version and architecture. If you want to avoid building wheel on purpose, ensure that you run playbook in serial manner. In case of causing unreasonable load on the opendev.org git servers, your access may be blocked to protect other users and the OpenDev CI infrastructure which are reliant on this service. Found venv_build_targets: {{ venv_build_targets }} when: - not venv_wheel_build_enable | bool - ansible_play_batch | length > 2 - not (venv_wheel_build_skip_check | default(False)) ",,20,0
openstack%2Fansible-role-python_venv_build~stable%2Fxena~I54b2d4bdf6d101cc72c92be196962902a6138757,openstack/ansible-role-python_venv_build,stable/xena,I54b2d4bdf6d101cc72c92be196962902a6138757,Verify that wheels are built while running against multiple hosts,MERGED,2021-12-30 11:33:02.000000000,2022-01-04 13:32:07.000000000,2022-01-04 13:30:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-30 11:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/a6ea641b68d3cdac902a18bce5a02f969b7462eb', 'message': ""Verify that wheels are built while running against multiple hosts\n\nInfra team has reported that OSA deployments use to DDoS gitea.\nDuring some investigation we discovered that the potential workflow that\nlead to DDoS was incorrect order during upgrade, when\ncompute nodes were upgraded before controllers and thus\neach compute node was independently pulling same repos as no repo\nserver was available to this specific OS version.\n\nBased on that we're implementing check that allows such behaviour only\nif it's performed in a serial manner.\nUndocumented variable `venv_wheel_build_skip_check` is added for cases\nwhen local repos are used for service deployment and limitation should\nnot be applicable.\n\nChange-Id: I54b2d4bdf6d101cc72c92be196962902a6138757\n(cherry picked from commit de731e7f9e15a99e9587b42de175531bab3f401e)\n""}, {'number': 2, 'created': '2021-12-30 11:33:14.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e7ba92f997adb2c17f432c7653b468262bdf132d', 'message': ""Verify that wheels are built while running against multiple hosts\n\nInfra team has reported that OSA deployments use to DDoS gitea.\nDuring some investigation we discovered that the potential workflow that\nlead to DDoS was incorrect order during upgrade, when\ncompute nodes were upgraded before controllers and thus\neach compute node was independently pulling same repos as no repo\nserver was available to this specific OS version.\n\nBased on that we're implementing check that allows such behaviour only\nif it's performed in a serial manner.\nUndocumented variable `venv_wheel_build_skip_check` is added for cases\nwhen local repos are used for service deployment and limitation should\nnot be applicable.\n\nChange-Id: I54b2d4bdf6d101cc72c92be196962902a6138757\n(cherry picked from commit de731e7f9e15a99e9587b42de175531bab3f401e)\n""}]",0,823137,e7ba92f997adb2c17f432c7653b468262bdf132d,9,3,2,28619,,,0,"Verify that wheels are built while running against multiple hosts

Infra team has reported that OSA deployments use to DDoS gitea.
During some investigation we discovered that the potential workflow that
lead to DDoS was incorrect order during upgrade, when
compute nodes were upgraded before controllers and thus
each compute node was independently pulling same repos as no repo
server was available to this specific OS version.

Based on that we're implementing check that allows such behaviour only
if it's performed in a serial manner.
Undocumented variable `venv_wheel_build_skip_check` is added for cases
when local repos are used for service deployment and limitation should
not be applicable.

Change-Id: I54b2d4bdf6d101cc72c92be196962902a6138757
(cherry picked from commit de731e7f9e15a99e9587b42de175531bab3f401e)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/37/823137/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,a6ea641b68d3cdac902a18bce5a02f969b7462eb,,"# NOTE(noonedeadpunk): If you are deploying services from local forks high load on which is not # an issue for you, you can disable this with `venv_wheel_build_skip_check: true` - name: Fail if wheels are not built for multiple hosts fail: msg: >- You are not building wheels while running role against multiple hosts. This might result in DOS-ing OpenDev infrustructure servers. In order to proceed, please ensure that you have repo servers for selected OS version and architecture. If you want to avoid building wheel on purpose, ensure that you run playbook in serial manner. In case of causing unreasonable load on the opendev.org git servers, your access may be blocked to protect other users and the OpenDev CI infrastructure which are reliant on this service. Found venv_build_targets: {{ venv_build_targets }} when: - venv_wheel_build_enable | bool - ansible_play_batch | length > 2 - not (venv_wheel_build_skip_check | default(False)) ",,20,0
openstack%2Fopenstack-ansible-galera_server~stable%2Fwallaby~I0380782a034d291fd2173c2ae59fdfb8f4468bf0,openstack/openstack-ansible-galera_server,stable/wallaby,I0380782a034d291fd2173c2ae59fdfb8f4468bf0,Fix galera_force_bootstrap behaviour,MERGED,2021-12-28 17:31:13.000000000,2022-01-04 13:25:47.000000000,2022-01-04 13:23:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-28 17:31:13.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c74c86e8a6afaae40135fc06e77d7012485b4257', 'message': ""Fix galera_force_bootstrap behaviour\n\nCurrently, ``galera_force_bootstrap`` fuctionality is eqivalent to\n``galera_ignore_cluster_state`` and not really functional.\nWe add extra conditions to cluster bootstrap handlers that allow\nto force bootstrap cluster when it's already running.\n\nThis could also be leveraged while stretching galera cluster.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/821415\nChange-Id: I0380782a034d291fd2173c2ae59fdfb8f4468bf0\n(cherry picked from commit 47d708e1612cfae7a4d0fe6dbef71f58a165d166)\n""}]",1,822943,c74c86e8a6afaae40135fc06e77d7012485b4257,10,3,1,28619,,,0,"Fix galera_force_bootstrap behaviour

Currently, ``galera_force_bootstrap`` fuctionality is eqivalent to
``galera_ignore_cluster_state`` and not really functional.
We add extra conditions to cluster bootstrap handlers that allow
to force bootstrap cluster when it's already running.

This could also be leveraged while stretching galera cluster.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/821415
Change-Id: I0380782a034d291fd2173c2ae59fdfb8f4468bf0
(cherry picked from commit 47d708e1612cfae7a4d0fe6dbef71f58a165d166)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/43/822943/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,c74c86e8a6afaae40135fc06e77d7012485b4257,," - not galera_cluster_ready | bool or galera_force_bootstrap | bool - not galera_cluster_ready | bool or galera_force_bootstrap | bool state: ""{{ (not hostvars[item]['galera_cluster_ready'] | bool or galera_force_bootstrap | bool) | ternary('started', 'restarted') }}"""," - not galera_cluster_ready | bool - not galera_cluster_ready | bool state: ""{{ (not hostvars[item]['galera_cluster_ready'] | bool) | ternary('started', 'restarted') }}""",3,3
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~If325bf015818c1c4dc053f44e1619cabaa815f43,openstack/openstack-ansible-os_keystone,stable/wallaby,If325bf015818c1c4dc053f44e1619cabaa815f43,Avoid Apache conflict with haproxy on metal,MERGED,2021-12-24 16:20:01.000000000,2022-01-04 13:25:13.000000000,2022-01-04 13:22:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-24 16:20:01.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0c7359379121e5b30078198196d45d0253735d59', 'message': ""Avoid Apache conflict with haproxy on metal\n\nCurrently if deployed on metal Apache would conflict with haproxy as\nit's listening on 0.0.0.0 which breaks bind-to-mgmt topic.\nThis is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f\n\nChange-Id: If325bf015818c1c4dc053f44e1619cabaa815f43\nCloses-Bug: #1869618\n""}]",0,822913,0c7359379121e5b30078198196d45d0253735d59,8,3,1,28619,,,0,"Avoid Apache conflict with haproxy on metal

Currently if deployed on metal Apache would conflict with haproxy as
it's listening on 0.0.0.0 which breaks bind-to-mgmt topic.
This is follow-up patch for I4824faedd1c663ac004a9e2674988c565f4cc27f

Change-Id: If325bf015818c1c4dc053f44e1619cabaa815f43
Closes-Bug: #1869618
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/13/822913/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,0c7359379121e5b30078198196d45d0253735d59,bug/1869618,Listen {{ keystone_web_server_bind_address }}:{{ keystone_service_port }},Listen {{ keystone_service_port }},1,1
openstack%2Fopenstack-ansible-galera_server~stable%2Fxena~I0380782a034d291fd2173c2ae59fdfb8f4468bf0,openstack/openstack-ansible-galera_server,stable/xena,I0380782a034d291fd2173c2ae59fdfb8f4468bf0,Fix galera_force_bootstrap behaviour,MERGED,2021-12-28 17:30:56.000000000,2022-01-04 13:24:33.000000000,2022-01-04 13:22:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-28 17:30:56.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/3f00bfaefb3eee9e020beaf917d890674f05783f', 'message': ""Fix galera_force_bootstrap behaviour\n\nCurrently, ``galera_force_bootstrap`` fuctionality is eqivalent to\n``galera_ignore_cluster_state`` and not really functional.\nWe add extra conditions to cluster bootstrap handlers that allow\nto force bootstrap cluster when it's already running.\n\nThis could also be leveraged while stretching galera cluster.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/821415\nChange-Id: I0380782a034d291fd2173c2ae59fdfb8f4468bf0\n(cherry picked from commit 47d708e1612cfae7a4d0fe6dbef71f58a165d166)\n""}]",1,822942,3f00bfaefb3eee9e020beaf917d890674f05783f,10,3,1,28619,,,0,"Fix galera_force_bootstrap behaviour

Currently, ``galera_force_bootstrap`` fuctionality is eqivalent to
``galera_ignore_cluster_state`` and not really functional.
We add extra conditions to cluster bootstrap handlers that allow
to force bootstrap cluster when it's already running.

This could also be leveraged while stretching galera cluster.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/821415
Change-Id: I0380782a034d291fd2173c2ae59fdfb8f4468bf0
(cherry picked from commit 47d708e1612cfae7a4d0fe6dbef71f58a165d166)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/42/822942/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,3f00bfaefb3eee9e020beaf917d890674f05783f,," - not galera_cluster_ready | bool or galera_force_bootstrap | bool - not galera_cluster_ready | bool or galera_force_bootstrap | bool state: ""{{ (not hostvars[item]['galera_cluster_ready'] | bool or galera_force_bootstrap | bool) | ternary('started', 'restarted') }}"""," - not galera_cluster_ready | bool - not galera_cluster_ready | bool state: ""{{ (not hostvars[item]['galera_cluster_ready'] | bool) | ternary('started', 'restarted') }}""",3,3
openstack%2Fopenstack-ansible-os_nova~stable%2Fvictoria~Iaa029ebb27cec98b51472ce4f127337fb83b8b45,openstack/openstack-ansible-os_nova,stable/victoria,Iaa029ebb27cec98b51472ce4f127337fb83b8b45,Fix usage of tags,MERGED,2021-12-24 15:52:44.000000000,2022-01-04 13:23:50.000000000,2022-01-04 13:21:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-24 15:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8edca64e5520cab2dc3cda26be4c593ce69d819b', 'message': 'Fix usage of tags\n\nTags are working differently with includes vs imports, so we should\nrespect that and use appropriently.\n\nChange-Id: Iaa029ebb27cec98b51472ce4f127337fb83b8b45\n(cherry picked from commit d354e1d1b742900b775566420feeeeb51f0c1bb7)\n'}, {'number': 2, 'created': '2021-12-24 15:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/140fe80f904702fdf8f4c24eddb20ed3cbd09185', 'message': 'Fix usage of tags\n\nTags are working differently with includes vs imports, so we should\nrespect that and use appropriently.\n\nChange-Id: Iaa029ebb27cec98b51472ce4f127337fb83b8b45\n(cherry picked from commit d354e1d1b742900b775566420feeeeb51f0c1bb7)\n'}, {'number': 3, 'created': '2021-12-24 17:13:27.000000000', 'files': ['tasks/nova_compute.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'tasks/nova_install.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ecdf0ac15826ff64118902acb269a9f6b5dea047', 'message': 'Fix usage of tags\n\nTags are working differently with includes vs imports, so we should\nrespect that and use appropriently.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/822935\nChange-Id: Iaa029ebb27cec98b51472ce4f127337fb83b8b45\n(cherry picked from commit d354e1d1b742900b775566420feeeeb51f0c1bb7)\n'}]",0,822930,ecdf0ac15826ff64118902acb269a9f6b5dea047,11,3,3,28619,,,0,"Fix usage of tags

Tags are working differently with includes vs imports, so we should
respect that and use appropriently.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/822935
Change-Id: Iaa029ebb27cec98b51472ce4f127337fb83b8b45
(cherry picked from commit d354e1d1b742900b775566420feeeeb51f0c1bb7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/30/822930/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_compute.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'tasks/nova_install.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml']",4,8edca64e5520cab2dc3cda26be4c593ce69d819b,,- import_tasks: nova_compute_kvm_install.yml args: apply: tags: - nova-config - nova-kvm - nova-libvirt tags: - always<<<<<<< HEAD (b61603 Add Virtual GPU Config to nova.conf template)======= - ansible_facts['architecture'] == 'ppc64le' args: apply: tags: - nova-config >>>>>>> CHANGE (d354e1 Fix usage of tags) tags: - always args: apply: tags: - nova-config tags: - always - import_tasks: nova_compute_kvm_virsh_net_remove.yml,- include_tasks: nova_compute_kvm_install.yml tags: - nova-config tags: - nova-config - include_tasks: nova_compute_kvm_virsh_net_remove.yml,58,12
openstack%2Fansible-role-python_venv_build~master~I0977989eb66177327abc3109234740be8db39b4d,openstack/ansible-role-python_venv_build,master,I0977989eb66177327abc3109234740be8db39b4d,Install git package on hosts building venvs,ABANDONED,2020-10-09 00:57:31.000000000,2022-01-04 13:19:18.000000000,,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-10-09 00:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/68db3978e8f365221d9677a4684521ff208fd5b1', 'message': 'Install git package on hosts building venvs\n\nWhen building virtual environments, requirements can include git\nrepositories requiring that the git package be installed.\n\nChange-Id: I0977989eb66177327abc3109234740be8db39b4d\n'}, {'number': 2, 'created': '2020-10-12 19:26:53.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/6c565c71af2ae9c05f8d684c68c659c9d41b8860', 'message': 'Install git package on hosts building venvs\n\nWhen building virtual environments, requirements can include git\nrepositories requiring that the git package be installed.\n\nDepends-On: https://review.opendev.org/756279\nChange-Id: I0977989eb66177327abc3109234740be8db39b4d\n'}]",0,756939,6c565c71af2ae9c05f8d684c68c659c9d41b8860,15,3,2,14805,,,0,"Install git package on hosts building venvs

When building virtual environments, requirements can include git
repositories requiring that the git package be installed.

Depends-On: https://review.opendev.org/756279
Change-Id: I0977989eb66177327abc3109234740be8db39b4d
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/39/756939/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,68db3978e8f365221d9677a4684521ff208fd5b1,install_git, - git - dev-vcs/git - git - git,,4,0
openstack%2Fopenstack-ansible-os_aodh~master~I7b316fb0508d021f6f2af2c074175fc0bd87e9c2,openstack/openstack-ansible-os_aodh,master,I7b316fb0508d021f6f2af2c074175fc0bd87e9c2,Remove centos-7 conditional packages,ABANDONED,2020-12-08 09:50:56.000000000,2022-01-04 13:17:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-08 09:50:56.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/ea0b2578801c1e8f996c050a40a93f3576ffbf17', 'message': ""Remove centos-7 conditional packages\n\nWe don't support centos-7 for Victoria so remove extra templating\nin package variables.\n\nChange-Id: I7b316fb0508d021f6f2af2c074175fc0bd87e9c2\n""}]",0,765934,ea0b2578801c1e8f996c050a40a93f3576ffbf17,7,1,1,25023,,,0,"Remove centos-7 conditional packages

We don't support centos-7 for Victoria so remove extra templating
in package variables.

Change-Id: I7b316fb0508d021f6f2af2c074175fc0bd87e9c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/34/765934/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,ea0b2578801c1e8f996c050a40a93f3576ffbf17,," - python3-systemd"""," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""",1,1
openstack%2Fopenstack-ansible~master~I35ccd7e189333514d0eabc713bb9dc9cae18f825,openstack/openstack-ansible,master,I35ccd7e189333514d0eabc713bb9dc9cae18f825,"Revert ""Disable ssl for rabbitmq""",ABANDONED,2021-02-01 12:27:09.000000000,2022-01-04 13:16:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-01 12:27:09.000000000', 'files': ['inventory/group_vars/all/infra.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/abb1f52a5be1d3d98396e883de694d3e82cc141b', 'message': 'Revert ""Disable ssl for rabbitmq""\n\nThis reverts commit f523a24b89eb15e9e305ea7e9006660f35c19dd7.\n\nChange-Id: I35ccd7e189333514d0eabc713bb9dc9cae18f825\n'}]",0,773378,abb1f52a5be1d3d98396e883de694d3e82cc141b,3,1,1,25023,,,0,"Revert ""Disable ssl for rabbitmq""

This reverts commit f523a24b89eb15e9e305ea7e9006660f35c19dd7.

Change-Id: I35ccd7e189333514d0eabc713bb9dc9cae18f825
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/773378/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/infra.yml'],1,abb1f52a5be1d3d98396e883de694d3e82cc141b,,rabbitmq_use_ssl: True,rabbitmq_use_ssl: False,1,1
openstack%2Fopenstack-ansible~master~I6f3c66b8ee22bf902518f023595331d66c9016af,openstack/openstack-ansible,master,I6f3c66b8ee22bf902518f023595331d66c9016af,"Revert ""Set centos8 jobs as non voting""",ABANDONED,2021-02-01 09:01:16.000000000,2022-01-04 13:16:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-01 09:01:16.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/32e9f78d31379f8f76e230866a26d55cebf913cc', 'message': 'Revert ""Set centos8 jobs as non voting""\n\nThis reverts commit c37775ec270a51817cbddc32b702383707f625cb.\n\nChange-Id: I6f3c66b8ee22bf902518f023595331d66c9016af\n'}]",0,773310,32e9f78d31379f8f76e230866a26d55cebf913cc,3,1,1,25023,,,0,"Revert ""Set centos8 jobs as non voting""

This reverts commit c37775ec270a51817cbddc32b702383707f625cb.

Change-Id: I6f3c66b8ee22bf902518f023595331d66c9016af
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/773310/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,32e9f78d31379f8f76e230866a26d55cebf913cc,,, voting: false voting: false,0,2
openstack%2Fopenstack-ansible~master~I232d89a2e2127875a2d038ae2a4aa23be3b4c8fe,openstack/openstack-ansible,master,I232d89a2e2127875a2d038ae2a4aa23be3b4c8fe,Set centos8 jobs as non voting,ABANDONED,2021-02-01 09:01:16.000000000,2022-01-04 13:15:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-02-01 09:01:16.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c37775ec270a51817cbddc32b702383707f625cb', 'message': 'Set centos8 jobs as non voting\n\nThese are failing due to SSL issues, possibly related to new eventlet version\n\nChange-Id: I232d89a2e2127875a2d038ae2a4aa23be3b4c8fe\n'}]",0,773309,c37775ec270a51817cbddc32b702383707f625cb,6,2,1,25023,,,0,"Set centos8 jobs as non voting

These are failing due to SSL issues, possibly related to new eventlet version

Change-Id: I232d89a2e2127875a2d038ae2a4aa23be3b4c8fe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/773309/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c37775ec270a51817cbddc32b702383707f625cb,, voting: false voting: false,,2,0
openstack%2Fopenstack-ansible~master~Ib523b28beab141b08b53a3ad3d453b7a92ed701f,openstack/openstack-ansible,master,Ib523b28beab141b08b53a3ad3d453b7a92ed701f,Adding openstack_service_venv_bin else symlink creation in ceph_client role fails.,ABANDONED,2017-07-30 01:16:32.000000000,2022-01-04 13:15:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-07-30 01:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91260317db851d3bfd15bd368652287a62d215b8', 'message': 'Adding openstack_service_venv_bin else symlink creation in ceph_client role fails.\n\nChange-Id: Ib523b28beab141b08b53a3ad3d453b7a92ed701f\n'}, {'number': 2, 'created': '2018-02-19 12:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a78c0e662c5a756e5435e512e9e975a42f9b5b73', 'message': 'Adding openstack_service_venv_bin else symlink creation in ceph_client role fails.\n\nChange-Id: Ib523b28beab141b08b53a3ad3d453b7a92ed701f\n'}, {'number': 3, 'created': '2018-04-01 04:11:46.000000000', 'files': ['playbooks/os-gnocchi-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b45208e0bd219a6492cabc7d425e1194fa0dd02', 'message': 'Adding openstack_service_venv_bin else symlink creation in ceph_client role fails.\n\nChange-Id: Ib523b28beab141b08b53a3ad3d453b7a92ed701f\n'}]",0,488976,2b45208e0bd219a6492cabc7d425e1194fa0dd02,13,2,3,25551,,,0,"Adding openstack_service_venv_bin else symlink creation in ceph_client role fails.

Change-Id: Ib523b28beab141b08b53a3ad3d453b7a92ed701f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/488976/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-gnocchi-install.yml'],1,91260317db851d3bfd15bd368652287a62d215b8,set_gnocchi_venv," openstack_service_venv_bin: ""/openstack/venvs/gnocchi-{{ openstack_release }}/bin"""," openstack_service_venv_bin: """"",1,1
openstack%2Fopenstack-ansible-galera_server~master~I1b42c0930d065dc7b79033ace341ae86e2c5df90,openstack/openstack-ansible-galera_server,master,I1b42c0930d065dc7b79033ace341ae86e2c5df90,Replace upgrade jobs with infra_lxc,ABANDONED,2021-02-10 20:24:22.000000000,2022-01-04 13:10:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-10 20:24:22.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/0b373fc1d564cfbe18434d3f58bd8ce19e47e2e2', 'message': 'Replace upgrade jobs with infra_lxc\n\nThis will test upgrade between OSA releases in multi container scenario\nconfiguring infra clusters. This should also decrease CI time.\n\nThe downside is that no tempest tests would be run, but probably they\nare not required as well.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/774685/\nChange-Id: I1b42c0930d065dc7b79033ace341ae86e2c5df90\n'}]",0,775011,0b373fc1d564cfbe18434d3f58bd8ce19e47e2e2,3,1,1,28619,,,0,"Replace upgrade jobs with infra_lxc

This will test upgrade between OSA releases in multi container scenario
configuring infra clusters. This should also decrease CI time.

The downside is that no tempest tests would be run, but probably they
are not required as well.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/774685/
Change-Id: I1b42c0930d065dc7b79033ace341ae86e2c5df90
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/11/775011/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0b373fc1d564cfbe18434d3f58bd8ce19e47e2e2,, - openstack-ansible-upgrade-infra_lxc-jobs, - openstack-ansible-upgrade-aio_metal-jobs,1,1
openstack%2Fopenstack-ansible-tests~master~Iee6e06660589e506d3999a73ab580c73898a6555,openstack/openstack-ansible-tests,master,Iee6e06660589e506d3999a73ab580c73898a6555,Run Centos 8 and Focal in gates,ABANDONED,2021-02-03 09:54:25.000000000,2022-01-04 13:09:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-03 09:54:25.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/dda7b9fb3ecf175acd8ffe84fec4099aec4e0b06', 'message': 'Run Centos 8 and Focal in gates\n\nChange-Id: Iee6e06660589e506d3999a73ab580c73898a6555\n'}]",0,773862,dda7b9fb3ecf175acd8ffe84fec4099aec4e0b06,5,1,1,28619,,,0,"Run Centos 8 and Focal in gates

Change-Id: Iee6e06660589e506d3999a73ab580c73898a6555
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/62/773862/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,dda7b9fb3ecf175acd8ffe84fec4099aec4e0b06,, - openstack-ansible-functional-centos-8 - openstack-ansible-functional-ubuntu-focal,,2,0
openstack%2Ftripleo-ci~master~Ib9b7d16d6e7888a16c9fae22a3035e48600519ab,openstack/tripleo-ci,master,Ib9b7d16d6e7888a16c9fae22a3035e48600519ab,Allow hash override for emit releases script for minor update,MERGED,2021-12-21 11:08:28.000000000,2022-01-04 13:09:07.000000000,2022-01-04 12:51:17.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-21 11:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e118f1e8e91ffdbc7d55b2395f8107872bd27b9a', 'message': 'Allow hash override for emit releases script for minor update\n\nIn [1] we addressed related-bug for the undercloud upgrade. This\naddresses the minor update case. WIP\n\nRelated-Bug: 1946659\nChange-Id: Ib9b7d16d6e7888a16c9fae22a3035e48600519ab\n'}, {'number': 2, 'created': '2021-12-21 12:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3d588aca94d984b4995c42ef7ee3f2c23da844ee', 'message': 'Allow hash override for emit releases script for minor update\n\nIn [1] we addressed related-bug for the undercloud upgrade. This\naddresses the minor update case. WIP\n\nRelated-Bug: 1946659\nChange-Id: Ib9b7d16d6e7888a16c9fae22a3035e48600519ab\n'}, {'number': 3, 'created': '2021-12-22 14:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/604bd98ac725375314ebbeca24acb1df30cdf593', 'message': 'Allow hash override for emit releases script for minor update\n\nIn [1] we addressed related-bug for the undercloud upgrade. This\naddresses the minor update case.\n\nTests at [2][3].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/816991\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822483\n[3] https://review.rdoproject.org/r/c/testproject/+/37144/2..3#message-f194606c5a1d3e495e65fe092673796250394437\n\nRelated-Bug: 1946659\nChange-Id: Ib9b7d16d6e7888a16c9fae22a3035e48600519ab\n'}, {'number': 4, 'created': '2021-12-23 12:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/739c6c099548e6b17ca6e25135f0e3ea94bc2742', 'message': 'Allow hash override for emit releases script for minor update\n\nIn [1] we addressed related-bug for the undercloud upgrade. This\naddresses the minor update case.\n\nTests at [2] (DNM patches on tht branches) & [3] (rdo).\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/816991\n[2] https://review.opendev.org/q/topic:lp1946659\n[3] https://review.rdoproject.org/r/c/testproject/+/37144/2..3#message-f194606c5a1d3e495e65fe092673796250394437\n\nRelated-Bug: 1946659\nChange-Id: Ib9b7d16d6e7888a16c9fae22a3035e48600519ab\n'}, {'number': 5, 'created': '2022-01-03 07:24:45.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4f84e22440f81e8a141d78cdb1d4f99d9506d0c3', 'message': 'Allow hash override for emit releases script for minor update\n\nIn [1] we addressed related-bug for the undercloud upgrade. This\naddresses the minor update case.\n\nTests at [2] (DNM patches on tht branches) & [3] (rdo).\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/816991\n[2] https://review.opendev.org/q/topic:lp1946659\n[3] https://review.rdoproject.org/r/c/testproject/+/37144/2..3#message-f194606c5a1d3e495e65fe092673796250394437\n\nRelated-Bug: 1946659\nChange-Id: Ib9b7d16d6e7888a16c9fae22a3035e48600519ab\n'}]",8,822482,4f84e22440f81e8a141d78cdb1d4f99d9506d0c3,27,8,5,8449,,,0,"Allow hash override for emit releases script for minor update

In [1] we addressed related-bug for the undercloud upgrade. This
addresses the minor update case.

Tests at [2] (DNM patches on tht branches) & [3] (rdo).

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/816991
[2] https://review.opendev.org/q/topic:lp1946659
[3] https://review.rdoproject.org/r/c/testproject/+/37144/2..3#message-f194606c5a1d3e495e65fe092673796250394437

Related-Bug: 1946659
Change-Id: Ib9b7d16d6e7888a16c9fae22a3035e48600519ab
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/822482/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-test/templates/toci_gate_test.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py']",2,e118f1e8e91ffdbc7d55b2395f8107872bd27b9a,lp1946659, if args.target_branch_override is None and args.install_branch_override is None: and args.install_branch_override not in args.content_provider_hashes, if args.target_branch_override is None or args.install_branch_override is None: or args.install_branch_override not in args.content_provider_hashes,7,2
openstack%2Fopenstack-ansible-os_trove~master~I7ac0f6b4482dd3533a8fe386cba196dd19444ca6,openstack/openstack-ansible-os_trove,master,I7ac0f6b4482dd3533a8fe386cba196dd19444ca6,[DNM] Test tempest,ABANDONED,2021-04-01 12:10:03.000000000,2022-01-04 13:08:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-01 12:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/2ad957925f787e53f473b8a30fc8749dd1f3f633', 'message': '[DNM] Test tempest\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784379\nChange-Id: I7ac0f6b4482dd3533a8fe386cba196dd19444ca6\n'}, {'number': 2, 'created': '2021-04-01 19:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/1916acd876e1b11e561975227e148dfdb3358933', 'message': '[DNM] Test tempest\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784379\nChange-Id: I7ac0f6b4482dd3533a8fe386cba196dd19444ca6\n'}, {'number': 3, 'created': '2021-04-08 09:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/ac916054dc185f8ec0dede0f9794dd2d952cebbb', 'message': '[DNM] Test tempest\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784379\nChange-Id: I7ac0f6b4482dd3533a8fe386cba196dd19444ca6\n'}, {'number': 4, 'created': '2021-04-08 14:42:42.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/ca684ca667d16c33f3bde14f37ba7050526ab697', 'message': '[DNM] Test tempest\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784379\nChange-Id: I7ac0f6b4482dd3533a8fe386cba196dd19444ca6\n'}]",0,784381,ca684ca667d16c33f3bde14f37ba7050526ab697,12,1,4,28619,,,0,"[DNM] Test tempest

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784379
Change-Id: I7ac0f6b4482dd3533a8fe386cba196dd19444ca6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/81/784381/3 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,2ad957925f787e53f473b8a30fc8749dd1f3f633,,,,0,0
openstack%2Fneutron~stable%2Fwallaby~I75c759ce94e027790b18411617e08ae5bb46bcef,openstack/neutron,stable/wallaby,I75c759ce94e027790b18411617e08ae5bb46bcef,"Add Chassis creation wait event in ""TestAgentMonitor""",MERGED,2022-01-04 04:31:38.000000000,2022-01-04 13:07:55.000000000,2022-01-04 13:05:49.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 04:31:38.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a9e52a80c7e0b94939a72701dcb84b3b7bbf637', 'message': 'Add Chassis creation wait event in ""TestAgentMonitor""\n\nAdded a wait event in ""TestAgentMonitor"" setUp method, in order to wait\nfor the Chassis register creation event. This patch also adds an active\nwait to check the number of ""AgentCache"" agents present in the local\ncache, before starting the tests.\n\nCloses-Bug: #1952508\nChange-Id: I75c759ce94e027790b18411617e08ae5bb46bcef\n(cherry picked from commit 1af63e881261ac3a160e9e6d2bea89ac65856cea)\n'}]",0,823301,6a9e52a80c7e0b94939a72701dcb84b3b7bbf637,9,6,1,13861,,,0,"Add Chassis creation wait event in ""TestAgentMonitor""

Added a wait event in ""TestAgentMonitor"" setUp method, in order to wait
for the Chassis register creation event. This patch also adds an active
wait to check the number of ""AgentCache"" agents present in the local
cache, before starting the tests.

Closes-Bug: #1952508
Change-Id: I75c759ce94e027790b18411617e08ae5bb46bcef
(cherry picked from commit 1af63e881261ac3a160e9e6d2bea89ac65856cea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/823301/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,6a9e52a80c7e0b94939a72701dcb84b3b7bbf637,bug/1952508-stable/xena-stable/wallaby,"class WaitForChassisPrivateCreateEvent(event.WaitEvent): event_name = 'WaitForChassisPrivateCreateEvent' def __init__(self, chassis_name, chassis_table): events = (self.ROW_CREATE,) conditions = (('name', '=', chassis_name),) super().__init__(events, chassis_table, conditions, timeout=15) chassis_name = uuidutils.generate_uuid() row_event = WaitForChassisPrivateCreateEvent( chassis_name, self.mech_driver.agent_chassis_table) self.mech_driver.sb_ovn.idl.notify_handler.watch_event(row_event) self.chassis_name = self.add_fake_chassis( self.FAKE_CHASSIS_HOST, external_ids={'ovn-cms-options': 'enable-chassis-as-gw'}, name=chassis_name) self.assertTrue(row_event.wait()) n_utils.wait_until_true( lambda: len(list(neutron_agent.AgentCache())) == 1)"," self.chassis_name = self.add_fake_chassis(self.FAKE_CHASSIS_HOST, external_ids={'ovn-cms-options': 'enable-chassis-as-gw'}) def test_network_agent_present(self): chassis_row = self.sb_api.db_find( 'Chassis', ('name', '=', self.chassis_name)).execute( check_error=True) self.assertTrue(chassis_row) self.assertEqual(neutron_agent.ControllerGatewayAgent, type(neutron_agent.AgentCache()[self.chassis_name]))",20,10
openstack%2Fopenstack-ansible-tests~master~Ia9c5519d0b2d70edbceb2db10b57821908313442,openstack/openstack-ansible-tests,master,Ia9c5519d0b2d70edbceb2db10b57821908313442,DNM - test,ABANDONED,2021-03-30 06:02:42.000000000,2022-01-04 13:07:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-30 06:02:42.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/bd2d2da78742de39b21328dc4d36eb333bc1cac5', 'message': 'DNM - test\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/783720\nChange-Id: Ia9c5519d0b2d70edbceb2db10b57821908313442\n'}]",0,783784,bd2d2da78742de39b21328dc4d36eb333bc1cac5,5,1,1,25023,,,0,"DNM - test

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/783720
Change-Id: Ia9c5519d0b2d70edbceb2db10b57821908313442
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/84/783784/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,bd2d2da78742de39b21328dc4d36eb333bc1cac5,,,,0,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I1ebea8971e97f52bb3534203e35e2471e861b068,openstack/openstack-ansible-openstack_hosts,master,I1ebea8971e97f52bb3534203e35e2471e861b068,Update release codename,ABANDONED,2021-06-30 15:57:04.000000000,2022-01-04 13:05:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-30 15:57:04.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/05ce943f243f4fcc0f42b1a7ea498826abc90fd7', 'message': 'Update release codename\n\nChange-Id: I1ebea8971e97f52bb3534203e35e2471e861b068\n'}]",0,798923,05ce943f243f4fcc0f42b1a7ea498826abc90fd7,3,1,1,28619,,,0,"Update release codename

Change-Id: I1ebea8971e97f52bb3534203e35e2471e861b068
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/23/798923/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,05ce943f243f4fcc0f42b1a7ea498826abc90fd7,,"openstack_distrib_code_name: ""Xena""","openstack_distrib_code_name: ""Wallaby""",1,1
openstack%2Fopenstack-ansible-os_keystone~master~I1b0df20bf60ed6f76e3c587d72b9934553d89d7f,openstack/openstack-ansible-os_keystone,master,I1b0df20bf60ed6f76e3c587d72b9934553d89d7f,DNM - test db setup with logging enabled,ABANDONED,2021-12-21 07:44:30.000000000,2022-01-04 13:01:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-21 07:44:30.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ce1ee4cd5d7ba82894030cdd3696ad419bd1a923', 'message': 'DNM - test db setup with logging enabled\n\nChange-Id: I1b0df20bf60ed6f76e3c587d72b9934553d89d7f\n'}]",0,822391,ce1ee4cd5d7ba82894030cdd3696ad419bd1a923,3,1,1,25023,,,0,"DNM - test db setup with logging enabled

Change-Id: I1b0df20bf60ed6f76e3c587d72b9934553d89d7f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/91/822391/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,ce1ee4cd5d7ba82894030cdd3696ad419bd1a923,,, no_log: true no_log: true,0,2
openstack%2Ftripleo-quickstart~master~Ib22c273f06aa298b787b9a1a6b6cc44e1f042d10,openstack/tripleo-quickstart,master,Ib22c273f06aa298b787b9a1a6b6cc44e1f042d10,DNM - Adding temp repo to test pkgs bump,ABANDONED,2022-01-03 14:48:24.000000000,2022-01-04 12:54:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-03 14:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f20fbee14996842f7a0fc5d6814dbd3688fbf2f6', 'message': 'DNM - Adding temp repo to test pkgs bump\n\nThis patch adds a temp repo to test pymemcache and dogpile-cache\npackages bump.\n\nChange-Id: Ib22c273f06aa298b787b9a1a6b6cc44e1f042d10\n'}, {'number': 2, 'created': '2022-01-03 14:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d5b34b5b7d1ae862503fa0a80e65061c4af55aaf', 'message': 'DNM - Adding temp repo to test pkgs bump\n\nThis patch adds a temp repo to test pymemcache and dogpile-cache\npackages bump.\n\nChange-Id: Ib22c273f06aa298b787b9a1a6b6cc44e1f042d10\n'}, {'number': 3, 'created': '2022-01-03 15:26:39.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/30b6850f97d2686c396326894f19f599bd5cb32c', 'message': 'DNM - Adding temp repo to test pkgs bump\n\nThis patch adds a temp repo to test pymemcache and dogpile-cache\npackages bump.\n\nChange-Id: Ib22c273f06aa298b787b9a1a6b6cc44e1f042d10\n'}]",0,823315,30b6850f97d2686c396326894f19f599bd5cb32c,12,2,3,30002,,,0,"DNM - Adding temp repo to test pkgs bump

This patch adds a temp repo to test pymemcache and dogpile-cache
packages bump.

Change-Id: Ib22c273f06aa298b787b9a1a6b6cc44e1f042d10
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/15/823315/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/victoria.yml'],1,f20fbee14996842f7a0fc5d6814dbd3688fbf2f6,testing_pkg_bump," - type: file filename: temp-cloud8s-openstack-victoria-testing.repo down_url: ""https://logserver.rdoproject.org/71/37671/1/check/validate-buildsys-tags/b9fbc3c/buildset/repos/cloud8s-openstack-victoria-testing/temp-cloud8s-openstack-victoria-testing.repo"" sudo sed -i -e ""s|priority=1|priority=20|g"" /etc/yum.repos.d/temp-cloud8s-openstack-victoria-testing.repo",,5,0
openstack%2Fneutron~stable%2Fxena~Ib5dc3133f75210af681ad08ca975aa6ebf214979,openstack/neutron,stable/xena,Ib5dc3133f75210af681ad08ca975aa6ebf214979,Change tobiko CI job in the periodic queue,ABANDONED,2022-01-04 07:40:18.000000000,2022-01-04 12:51:28.000000000,,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 07:40:18.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a686aaaedee36de2b2f42024553ff70cc189bbfd', 'message': ""Change tobiko CI job in the periodic queue\n\nWe were using devstack-tobiko-faults-centos in our periodic queue\nbut this job is broken and it's better to use job\n'devstack-tobiko-neutron' which is kind of dedicated to test neutron\ncode.\nIt is also single node job, so will be faster and easier for the infra\nresources :)\n\nThis is a back port of https://review.opendev.org/c/openstack/neutron/+/813977\nChange-Id: Ib5dc3133f75210af681ad08ca975aa6ebf214979\n""}]",5,823334,a686aaaedee36de2b2f42024553ff70cc189bbfd,9,3,1,27329,,,0,"Change tobiko CI job in the periodic queue

We were using devstack-tobiko-faults-centos in our periodic queue
but this job is broken and it's better to use job
'devstack-tobiko-neutron' which is kind of dedicated to test neutron
code.
It is also single node job, so will be faster and easier for the infra
resources :)

This is a back port of https://review.opendev.org/c/openstack/neutron/+/813977
Change-Id: Ib5dc3133f75210af681ad08ca975aa6ebf214979
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/823334/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a686aaaedee36de2b2f42024553ff70cc189bbfd,devstack-tobiko-neutron, - devstack-tobiko-neutron:, - devstack-tobiko-faults-centos:,1,1
openstack%2Ftripleo-quickstart-extras~master~Icd61c64c744a61fb9731feba6922220c71623543,openstack/tripleo-quickstart-extras,master,Icd61c64c744a61fb9731feba6922220c71623543,Install ansible-core in CentOS 9 for github PRs,MERGED,2022-01-03 06:31:55.000000000,2022-01-04 12:43:01.000000000,2022-01-04 12:43:01.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-03 06:31:55.000000000', 'files': ['roles/build-test-packages/tasks/github-pr.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12ee5046ee3e8e293daaed81a04691fb12845f50', 'message': 'Install ansible-core in CentOS 9 for github PRs\n\nChange-Id: Icd61c64c744a61fb9731feba6922220c71623543\n'}]",2,823251,12ee5046ee3e8e293daaed81a04691fb12845f50,15,9,1,10969,,,0,"Install ansible-core in CentOS 9 for github PRs

Change-Id: Icd61c64c744a61fb9731feba6922220c71623543
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/51/823251/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/github-pr.yml'],1,12ee5046ee3e8e293daaed81a04691fb12845f50,," - ""ansible{% if ansible_distribution_major_version|int >= 9 %}-core{% endif %}""", - ansible,1,1
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fxena~Iae5c21ee0d604fb015593337815840981ab10ef9,openstack/openstack-ansible-haproxy_server,stable/xena,Iae5c21ee0d604fb015593337815840981ab10ef9,Describe in detail why external and internal keepalived ping addresses should be separated,MERGED,2021-12-24 14:49:42.000000000,2022-01-04 12:02:41.000000000,2022-01-04 12:00:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-24 14:49:42.000000000', 'files': ['doc/source/configure-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/ee3fc2ad04f94374a6a711263cf67447ea705684', 'message': 'Describe in detail why external and internal keepalived ping addresses should be separated\n\nChange-Id: Iae5c21ee0d604fb015593337815840981ab10ef9\n'}]",0,822808,ee3fc2ad04f94374a6a711263cf67447ea705684,8,3,1,31792,,,0,"Describe in detail why external and internal keepalived ping addresses should be separated

Change-Id: Iae5c21ee0d604fb015593337815840981ab10ef9
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/08/822808/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-haproxy.rst'],1,ee3fc2ad04f94374a6a711263cf67447ea705684,doc-int-ext-keepalived-stable/xena,"If external connectivity fails, it is important that internal services can still access an HAProxy instance. In a situation, when ping to some external host fails and internal ping is not separated, all keepalived instances enter the fault state despite internal connectivity being still available. Separate ping check for internal and external connectivity ensures that when one instance fails the other VIP remains in operation. ",,7,0
openstack%2Fkayobe~stable%2Fwallaby~Ic8c212111301d6b144e3aa0fe124b022b0296ec6,openstack/kayobe,stable/wallaby,Ic8c212111301d6b144e3aa0fe124b022b0296ec6,CI: Use correct TD agent repository version,MERGED,2021-12-09 08:57:05.000000000,2022-01-04 12:01:24.000000000,2022-01-04 11:59:14.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-12-09 08:57:05.000000000', 'files': ['playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/43451c49d23f04d33c932db916419feca1544bf4', 'message': 'CI: Use correct TD agent repository version\n\nChange-Id: Ic8c212111301d6b144e3aa0fe124b022b0296ec6\n(cherry picked from commit b5f0a17acf57e953f8a71f95747675597c22ec70)\n'}]",2,821177,43451c49d23f04d33c932db916419feca1544bf4,14,4,1,15197,,,0,"CI: Use correct TD agent repository version

Change-Id: Ic8c212111301d6b144e3aa0fe124b022b0296ec6
(cherry picked from commit b5f0a17acf57e953f8a71f95747675597c22ec70)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/77/821177/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2'],1,43451c49d23f04d33c932db916419feca1544bf4,, baseurl: http://packages.treasuredata.com/4/redhat/$releasever/$basearch, baseurl: http://packages.treasuredata.com/3/redhat/$releasever/$basearch,1,1
openstack%2Ftripleo-quickstart~master~I689bc1feab575251724ba95aabdce5de3cbf3add,openstack/tripleo-quickstart,master,I689bc1feab575251724ba95aabdce5de3cbf3add,Sync collections requirements from tripleo-ci,MERGED,2021-12-14 11:19:21.000000000,2022-01-04 11:52:25.000000000,2022-01-04 11:50:08.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 11:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/71d768aa0362525536831b72dac38426f323efe4', 'message': 'Sync collections requirements from tripleo-ci\n\nThe collections listed in\n\nhttps://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/base.yaml\n\nmust be clonned as quickstart requirements as well. So that\nquickstart.sh, and zuul CI reproducer could pick them up and install as\nansible collections.\n\nChange-Id: I689bc1feab575251724ba95aabdce5de3cbf3add\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-12-14 11:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/152bcc56b26a8f07934f80eb8f71004221c237ae', 'message': 'Sync collections requirements from tripleo-ci\n\nThe collections listed in\n\nhttps://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/base.yaml\n\nmust be clonned/installed as quickstart requirements as well. So that\nquickstart.sh, and zuul CI reproducer could pick them up and install as\nansible collections.\n\nPartial-bug: #1954761\nChange-Id: I689bc1feab575251724ba95aabdce5de3cbf3add\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-12-14 11:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7e0880e684b53852ea59a06a5d59e0e87d656304', 'message': 'Sync collections requirements from tripleo-ci\n\nThe collections listed in\n\nhttps://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/base.yaml\n\nmust be clonned/installed as quickstart requirements as well. So that\nquickstart.sh, and zuul CI reproducer could pick them up and install as\nansible collections.\n\nPartial-bug: #1954761\nChange-Id: I689bc1feab575251724ba95aabdce5de3cbf3add\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-12-14 11:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cde1239fd921e6cc25027d95ed195578b602e2bb', 'message': 'Sync collections requirements from tripleo-ci\n\nThe collections listed in\n\nhttps://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/base.yaml\n\nmust be clonned/installed as quickstart requirements as well. So that\nquickstart.sh, and zuul CI reproducer could pick them up and install as\nansible collections.\n\nPartial-bug: #1954761\nChange-Id: I689bc1feab575251724ba95aabdce5de3cbf3add\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-12-21 09:12:02.000000000', 'files': ['ansible-role-requirements.yml', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1c01351b48ac43b1c67d623abb333e7ba9f7b08e', 'message': 'Sync collections requirements from tripleo-ci\n\nThe collections listed in\n\nhttps://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/base.yaml\n\nmust be clonned/installed as quickstart requirements as well. So that\nquickstart.sh, and zuul CI reproducer could pick them up and install as\nansible collections.\n\nPartial-bug: #1954761\nChange-Id: I689bc1feab575251724ba95aabdce5de3cbf3add\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",10,821691,1c01351b48ac43b1c67d623abb333e7ba9f7b08e,40,7,5,6926,,,0,"Sync collections requirements from tripleo-ci

The collections listed in

https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/base.yaml

must be clonned/installed as quickstart requirements as well. So that
quickstart.sh, and zuul CI reproducer could pick them up and install as
ansible collections.

Partial-bug: #1954761
Change-Id: I689bc1feab575251724ba95aabdce5de3cbf3add
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/91/821691/4 && git format-patch -1 --stdout FETCH_HEAD,['quickstart-extras-requirements.txt'],1,71d768aa0362525536831b72dac38426f323efe4,cs9-libvirt-repro,# Ansible collections for quickstart # FIXME(bogdando): keep these in sync with # https://opendev.org/openstack/tripleo-ci/src/branch/master/zuul.d/base.yaml git+https://github.com/ansible-collections/ansible.utils@2.4.2 git+https://github.com/ansible-collections/ansible.posix@1.3.0 git+https://github.com/ansible-collections/ansible.netcommon@2.4.0 git+https://github.com/ansible-collections/community.general@4.0.2 git+https://github.com/ansible-collections/community.libvirt@1.0.2 git+https://github.com/ansible-collections/openvswitch.openvswitch@2.0.2,,9,0
openstack%2Fcharm-swift-proxy~master~Ibdc49f4cbfeefd08d8e71e1755331e19071ce570,openstack/charm-swift-proxy,master,Ibdc49f4cbfeefd08d8e71e1755331e19071ce570,Allow support for Keymaster and encryption middleware,ABANDONED,2020-03-25 15:36:38.000000000,2022-01-04 11:48:01.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-25 15:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/aaf32645dc71561ee9928094d2514da2dacc44e6', 'message': 'Allow support for Keymaster and encryption middleware\n\nWith this patch will allow users to configure object encryption\nat storage level also on http headers.\nsome AWSV4 S3 Clients enforce the encryption support.\n\nChange-Id: Ibdc49f4cbfeefd08d8e71e1755331e19071ce570\nCloses-Bug: #1868912\n'}, {'number': 2, 'created': '2020-03-25 16:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/bdf4283ca52d24bca4ba13285c3b2f98f8ef3ca2', 'message': 'Allow support for Keymaster and encryption middleware\n\nWith this patch will allow users to configure object encryption\nat storage level also on http headers.\nsome AWSV4 S3 Clients enforce the encryption support.\n\nChange-Id: Ibdc49f4cbfeefd08d8e71e1755331e19071ce570\nCloses-Bug: #1868912\n'}, {'number': 3, 'created': '2020-03-25 16:26:54.000000000', 'files': ['templates/train/proxy-server.conf', 'config.yaml', 'templates/rocky/proxy-server.conf', 'templates/queens/proxy-server.conf', 'lib/swift_context.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/1f2db04ae039372113cef256608bf267085a6984', 'message': 'Allow support for Keymaster and encryption middleware\n\nWith this patch will allow users to configure object encryption\nat storage level also on http headers.\nsome AWSV4 S3 Clients enforce the encryption support.\n\nChange-Id: Ibdc49f4cbfeefd08d8e71e1755331e19071ce570\nCloses-Bug: #1868912\n'}]",0,714972,1f2db04ae039372113cef256608bf267085a6984,10,3,3,21232,,,0,"Allow support for Keymaster and encryption middleware

With this patch will allow users to configure object encryption
at storage level also on http headers.
some AWSV4 S3 Clients enforce the encryption support.

Change-Id: Ibdc49f4cbfeefd08d8e71e1755331e19071ce570
Closes-Bug: #1868912
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/72/714972/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/proxy-server.conf', 'templates/rocky/proxy-server.conf', 'templates/queens/proxy-server.conf', 'lib/swift_context.py']",4,aaf32645dc71561ee9928094d2514da2dacc44e6,bug/1868912," 'write_affinity_node_count': get_write_affinity_node_count(), 'object_encryption_root_secret': config( 'object-encryption-root-secret')}", 'write_affinity_node_count': get_write_affinity_node_count() },41,12
openstack%2Fcharm-neutron-gateway~master~I3ee53dfc20ea196d9fb5d14029eee45e2c26b296,openstack/charm-neutron-gateway,master,I3ee53dfc20ea196d9fb5d14029eee45e2c26b296,Fully manage OVS bridges and ports,ABANDONED,2019-07-31 15:29:51.000000000,2022-01-04 11:47:59.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-07-31 15:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/eb3204fab81e2446d8553db4fb5c58a4cf7119a3', 'message': ""Fully manage OVS bridges and ports\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are removed if\nthey are not represented in the config options 'bridge-mappings',\n'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are\nwhitelisted, and phy-br-ex on br-ex is also whitelisted.\n\nThe reason for this change is the linked bug.  Prior to the patchset the\ncharm only *adds* ports and bridges such that errors in initial config\nare difficult to repair and are *not* handled by the charm; manual\nintervention on the unit is requires using ovs-vsctl commands to remove\nmis-configured ports and/or bridges.\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\n[1] https://github.com/juju/charm-helpers/pull/353\n\nChange-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296\nCloses-Bug: #1809190\n""}, {'number': 2, 'created': '2019-08-05 12:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/bf96300e128fa06160d1ab655e813a46431daac2', 'message': ""Fully manage OVS bridges and ports\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are removed if\nthey are not represented in the config options 'bridge-mappings',\n'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are\nwhitelisted, and phy-br-ex on br-ex is also whitelisted.\n\nThe reason for this change is the linked bug.  Prior to the patchset the\ncharm only *adds* ports and bridges such that errors in initial config\nare difficult to repair and are *not* handled by the charm; manual\nintervention on the unit is requires using ovs-vsctl commands to remove\nmis-configured ports and/or bridges.\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\n[1] https://github.com/juju/charm-helpers/pull/353\n\nChange-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296\nCloses-Bug: #1809190\n""}, {'number': 3, 'created': '2019-08-05 13:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/4a1f87f1c6ce1a32b0807596fad7a246adb16927', 'message': ""Fully manage OVS bridges and ports\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are removed if\nthey are not represented in the config options 'bridge-mappings',\n'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are\nwhitelisted, and phy-br-ex on br-ex is also whitelisted.\n\nThe reason for this change is the linked bug.  Prior to the patchset the\ncharm only *adds* ports and bridges such that errors in initial config\nare difficult to repair and are *not* handled by the charm; manual\nintervention on the unit is requires using ovs-vsctl commands to remove\nmis-configured ports and/or bridges.\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\n[1] https://github.com/juju/charm-helpers/pull/353\n\nChange-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296\nCloses-Bug: #1809190\n""}, {'number': 4, 'created': '2019-08-05 14:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/4eeaa920feea46d7616cdf5bed567dea8fc6a0c5', 'message': ""Fully manage OVS bridges and ports\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are removed if\nthey are not represented in the config options 'bridge-mappings',\n'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are\nwhitelisted, and phy-br-ex on br-ex is also whitelisted.\n\nThe reason for this change is the linked bug.  Prior to the patchset the\ncharm only *adds* ports and bridges such that errors in initial config\nare difficult to repair and are *not* handled by the charm; manual\nintervention on the unit is requires using ovs-vsctl commands to remove\nmis-configured ports and/or bridges.\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\n[1] https://github.com/juju/charm-helpers/pull/353\n\nChange-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296\nCloses-Bug: #1809190\n""}, {'number': 5, 'created': '2019-12-10 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5b76702b06143fe9dfdee9373519ff5b1b1bdf3c', 'message': ""Fully manage OVS bridges and ports\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are removed if\nthey are not represented in the config options 'bridge-mappings',\n'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are\nwhitelisted, and phy-br-ex on br-ex is also whitelisted.\n\nThe reason for this change is the linked bug.  Prior to the patchset the\ncharm only *adds* ports and bridges such that errors in initial config\nare difficult to repair and are *not* handled by the charm; manual\nintervention on the unit is requires using ovs-vsctl commands to remove\nmis-configured ports and/or bridges.\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\n[1] https://github.com/juju/charm-helpers/pull/353\n\nChange-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296\nCloses-Bug: #1809190\n""}, {'number': 6, 'created': '2020-03-24 13:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/cd6e2b4a9afb794e6dda64d14da05b1fbd5943d2', 'message': ""Fully manage OVS bridges and ports\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are removed if\nthey are not represented in the config options 'bridge-mappings',\n'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are\nwhitelisted, and phy-br-ex on br-ex is also whitelisted.\n\nThe reason for this change is the linked bug.  Prior to the patchset the\ncharm only *adds* ports and bridges such that errors in initial config\nare difficult to repair and are *not* handled by the charm; manual\nintervention on the unit is required using ovs-vsctl commands to remove\nmis-configured ports and/or bridges.\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\nThis patch also fixes and removes a few dead links.\n\n[1] https://github.com/juju/charm-helpers/pull/353\n\nChange-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296\nCloses-Bug: #1809190\n""}, {'number': 7, 'created': '2020-03-24 15:43:23.000000000', 'files': ['unit_tests/test_neutron_utils.py', 'config.yaml', 'hooks/neutron_utils.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/854740e7711f3577647727cec11a96ed5f098038', 'message': ""Fully manage OVS bridges and ports\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are removed if\nthey are not represented in the config options 'bridge-mappings',\n'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are\nwhitelisted, and phy-br-ex on br-ex is also whitelisted.\n\nThe reason for this change is the linked bug.  Prior to the patchset the\ncharm only *adds* ports and bridges such that errors in initial config\nare difficult to repair and are *not* handled by the charm; manual\nintervention on the unit is required using ovs-vsctl commands to remove\nmis-configured ports and/or bridges.\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\nThis patch also fixes and removes a few dead links.\n\n[1] https://github.com/juju/charm-helpers/pull/353\n\nChange-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296\nCloses-Bug: #1809190\n""}]",4,673849,854740e7711f3577647727cec11a96ed5f098038,35,5,7,20870,,,0,"Fully manage OVS bridges and ports

This patchset updates the configure_ovs() function in
hooks/neutron_utils.py such that ports and bridges in OVS are removed if
they are not represented in the config options 'bridge-mappings',
'data-port' or 'ext-port'.  The caveat is that br-tun and br-int are
whitelisted, and phy-br-ex on br-ex is also whitelisted.

The reason for this change is the linked bug.  Prior to the patchset the
charm only *adds* ports and bridges such that errors in initial config
are difficult to repair and are *not* handled by the charm; manual
intervention on the unit is required using ovs-vsctl commands to remove
mis-configured ports and/or bridges.

This patchset also fully deprecates the 'ext-port' config option such
that if, and only if, 'data-port' is set, then the 'ext-port' config
option is ignored.  A message is logged and the status message is used
to indicate a mis-configuration.  The README and config.yaml are updated
to reflect this change.

This patch also fixes and removes a few dead links.

[1] https://github.com/juju/charm-helpers/pull/353

Change-Id: I3ee53dfc20ea196d9fb5d14029eee45e2c26b296
Closes-Bug: #1809190
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/49/673849/5 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/neutron_utils.py', 'README.md']",6,eb3204fab81e2446d8553db4fb5c58a4cf7119a3,fully-manage-bridge-ports,"Note: if the 'data-port' config item is set, then the 'ext-port' option is ignored. This is to prevent mis-configuration of the charm. A warning is logged and the status message is updated to indicate that the charm is misconfigured. ",,448,29
openstack%2Fcharm-openstack-dashboard~stable%2F20.02~I299f6a6388c3a2ab68cabaeb16e5104ec319e144,openstack/charm-openstack-dashboard,stable/20.02,I299f6a6388c3a2ab68cabaeb16e5104ec319e144,Add disable-password-reveal option,ABANDONED,2020-05-27 06:25:03.000000000,2022-01-04 11:47:56.000000000,,"[{'_account_id': 10086}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25817}]","[{'number': 1, 'created': '2020-05-27 06:25:03.000000000', 'files': ['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/29d2cd4e04344941b99e36baa2c5e4333021186c', 'message': ""Add disable-password-reveal option\n\nAdds config item to add HORIZON_CONFIG['disable_password_reveal'] = True\noption to Horizon's local_settings.py, from Mitaka onwards.  This\nprevents the reveal password button from being displayed.\n\nChange-Id: I299f6a6388c3a2ab68cabaeb16e5104ec319e144\nCloses-bug: #1840251\n""}]",0,731086,29d2cd4e04344941b99e36baa2c5e4333021186c,6,5,1,25817,,,0,"Add disable-password-reveal option

Adds config item to add HORIZON_CONFIG['disable_password_reveal'] = True
option to Horizon's local_settings.py, from Mitaka onwards.  This
prevents the reveal password button from being displayed.

Change-Id: I299f6a6388c3a2ab68cabaeb16e5104ec319e144
Closes-bug: #1840251
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/86/731086/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py']",6,29d2cd4e04344941b99e36baa2c5e4333021186c,bug/1840251,"{% if disable_password_reveal %} HORIZON_CONFIG[""disable_password_reveal""] = True {% endif %} ",,67,1
openstack%2Fcharm-ceph-osd~master~I26157149240413bd0e482e2e9d8f0279e4ee0589,openstack/charm-ceph-osd,master,I26157149240413bd0e482e2e9d8f0279e4ee0589,udev rules for encrypted OSDs,ABANDONED,2021-03-03 16:13:22.000000000,2022-01-04 11:47:54.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/a1741c97e7490bef114d462b66597590b41ec1d2', 'message': ""udev rules for encrypted OSDs\n\nSimilar to vault, Ceph itself provides encryption by\nstoring keys in monitors. However, this encrypted DM\ndevices' ownership permissions are wrong, so OSDs do\nnot start. This adds the udev rules for the crypt devices\nto change ownership to ceph:ceph.\n\nCloses-Bug: #1915705\n\nSigned-off-by: Ponnuvel Palaniyappan <ponnuvel.palaniyappan@canonical.com>\nChange-Id: I26157149240413bd0e482e2e9d8f0279e4ee0589\n""}, {'number': 2, 'created': '2021-04-09 09:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4c56cc374b8cec19ac32f5d73430d19459badde9', 'message': ""udev rules for encrypted OSDs\n\nSimilar to vault, Ceph itself provides encryption by\nstoring keys in monitors. However, this encrypted DM\ndevices' ownership permissions are wrong, so OSDs do\nnot start. This adds the udev rules for the crypt devices\nto change ownership to ceph:ceph.\n\nCloses-Bug: #1915705\n\nSigned-off-by: Ponnuvel Palaniyappan <ponnuvel.palaniyappan@canonical.com>\nChange-Id: I26157149240413bd0e482e2e9d8f0279e4ee0589\n""}, {'number': 3, 'created': '2021-04-09 09:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/74849ef3ee6853e313b839ad9f6f96b3f12f7fa5', 'message': ""udev rules for encrypted OSDs\n\nSimilar to vault, Ceph itself provides encryption by\nstoring keys in monitors. However, this encrypted DM\ndevices' ownership permissions are wrong, so OSDs do\nnot start. This adds the udev rules for the crypt devices\nto change ownership to ceph:ceph.\n\nCloses-Bug: #1915705\n\nSigned-off-by: Ponnuvel Palaniyappan <ponnuvel.palaniyappan@canonical.com>\nChange-Id: I26157149240413bd0e482e2e9d8f0279e4ee0589\n""}, {'number': 4, 'created': '2021-04-09 09:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8a92f913a5deadd976e2b667e5aab123ecbbb8af', 'message': ""udev rules for encrypted OSDs\n\nSimilar to vault, Ceph itself provides encryption by\nstoring keys in monitors. However, this encrypted DM\ndevices' ownership permissions are wrong, so OSDs do\nnot start. This adds the udev rules for the crypt devices\nto change ownership to ceph:ceph.\n\nCloses-Bug: #1915705\n\nSigned-off-by: Ponnuvel Palaniyappan <ponnuvel.palaniyappan@canonical.com>\nChange-Id: I26157149240413bd0e482e2e9d8f0279e4ee0589\n""}, {'number': 5, 'created': '2021-05-07 18:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e604027efa816fc73e0f2c364d05b285a9773b1b', 'message': ""udev rules for encrypted OSDs\n\nSimilar to vault, Ceph itself provides encryption by\nstoring keys in monitors. However, this encrypted DM\ndevices' ownership permissions are wrong, so OSDs do\nnot start. This adds the udev rules for the crypt devices\nto change ownership to ceph:ceph.\n\nCloses-Bug: #1915705\n\nSigned-off-by: Ponnuvel Palaniyappan <ponnuvel.palaniyappan@canonical.com>\nChange-Id: I26157149240413bd0e482e2e9d8f0279e4ee0589\n""}, {'number': 6, 'created': '2021-05-07 18:44:20.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'files/udev/ceph-osd-perms.sh', 'files/udev/95-charm-ceph-osd.rules'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/6eb063ae77dd62aa34bd12841a94af29ca2c8d3f', 'message': ""udev rules for encrypted OSDs\n\nSimilar to vault, Ceph itself provides encryption by\nstoring keys in monitors. However, this encrypted DM\ndevices' ownership permissions are wrong, so OSDs do\nnot start. This adds the udev rules for the crypt devices\nto change ownership to ceph:ceph.\n\nCloses-Bug: #1915705\n\nSigned-off-by: Ponnuvel Palaniyappan <ponnuvel.palaniyappan@canonical.com>\nChange-Id: I26157149240413bd0e482e2e9d8f0279e4ee0589\n""}]",3,778497,6eb063ae77dd62aa34bd12841a94af29ca2c8d3f,36,3,6,31959,,,0,"udev rules for encrypted OSDs

Similar to vault, Ceph itself provides encryption by
storing keys in monitors. However, this encrypted DM
devices' ownership permissions are wrong, so OSDs do
not start. This adds the udev rules for the crypt devices
to change ownership to ceph:ceph.

Closes-Bug: #1915705

Signed-off-by: Ponnuvel Palaniyappan <ponnuvel.palaniyappan@canonical.com>
Change-Id: I26157149240413bd0e482e2e9d8f0279e4ee0589
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/97/778497/6 && git format-patch -1 --stdout FETCH_HEAD,['files/udev/95-charm-ceph-osd.rules'],1,a1741c97e7490bef114d462b66597590b41ec1d2,bug/1915705,"# Encrypted OSD ACTION==""add"", SUBSYSTEM==""block"", \ ENV{DEVTYPE}==""disk"", \ ENV{DM_UUID}==""CRYPT-LUKS*"", \ OWNER:=""ceph"", GROUP:=""ceph"", MODE:=""660"" ACTION==""change"", SUBSYSTEM==""block"", \ ENV{DEVTYPE}==""disk"", \ ENV{DM_UUID}==""CRYPT-LUKS*"", \ OWNER=""ceph"", GROUP=""ceph"", MODE=""660""",,9,0
openstack%2Fcharm-mistral~master~Iba3113bede5a52717eae2347d0091c5c55809757,openstack/charm-mistral,master,Iba3113bede5a52717eae2347d0091c5c55809757,Omit the twice occured words in  mistral.conf,ABANDONED,2019-01-07 01:12:07.000000000,2022-01-04 11:44:25.000000000,,[],"[{'number': 1, 'created': '2019-01-07 01:12:07.000000000', 'files': ['src/templates/mitaka/mistral.conf'], 'web_link': 'https://opendev.org/openstack/charm-mistral/commit/8300f005869878aa47ec5de92c318754464516a7', 'message': 'Omit the twice occured words in  mistral.conf\n\nChange-Id: Iba3113bede5a52717eae2347d0091c5c55809757\n'}]",0,628798,8300f005869878aa47ec5de92c318754464516a7,2,0,1,29423,,,0,"Omit the twice occured words in  mistral.conf

Change-Id: Iba3113bede5a52717eae2347d0091c5c55809757
",git fetch https://review.opendev.org/openstack/charm-mistral refs/changes/98/628798/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/mitaka/mistral.conf'],1,8300f005869878aa47ec5de92c318754464516a7,,# Exchange name for sending notifications (string value),# Exchange name for for sending notifications (string value),1,1
openstack%2Fcharm-nova-cloud-controller~master~I776f99e4f041381eefa301d671878acab0b6f22d,openstack/charm-nova-cloud-controller,master,I776f99e4f041381eefa301d671878acab0b6f22d,Add get-capacity-info actions to nova cloud controller charm.,ABANDONED,2019-01-08 05:00:17.000000000,2022-01-04 11:44:23.000000000,,"[{'_account_id': 10068}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-08 05:00:17.000000000', 'files': ['actions/get-capacity-info', 'hooks/nova_cc_utils.py', 'actions/get_capacity_info.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f33ebbd03361429432a3a5d4cd0caacdbc9fc94e', 'message': 'Add get-capacity-info actions to nova cloud controller charm.\n\nGet-capacity-info lists the availabe capacity per flavor.\nThe output contains a summary of how many instances of each flavor, can be hosted\non each hypervisor.\n\nChange-Id: I776f99e4f041381eefa301d671878acab0b6f22d\n'}]",0,629088,f33ebbd03361429432a3a5d4cd0caacdbc9fc94e,5,3,1,29730,,,0,"Add get-capacity-info actions to nova cloud controller charm.

Get-capacity-info lists the availabe capacity per flavor.
The output contains a summary of how many instances of each flavor, can be hosted
on each hypervisor.

Change-Id: I776f99e4f041381eefa301d671878acab0b6f22d
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/88/629088/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/get-capacity-info', 'hooks/nova_cc_utils.py', 'actions/get_capacity_info.py', 'actions.yaml']",4,f33ebbd03361429432a3a5d4cd0caacdbc9fc94e,instance-capacity,get-capacity-info: description: Outputs the capacity of instances per flavor along with summary from each hypervisor. ,,152,0
openstack%2Fcharm-manila~master~I4c9991ab3e681a6a8724cec0ddc98054f1198af8,openstack/charm-manila,master,I4c9991ab3e681a6a8724cec0ddc98054f1198af8,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""",ABANDONED,2018-05-11 01:52:16.000000000,2022-01-04 11:44:21.000000000,,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-05-11 01:52:16.000000000', 'files': ['src/reactive/manila_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/72c4976d93562dc60c7e6f14012bf940492fd1c0', 'message': 'Replace deprecated ""auth_uri"" by ""www_authenticate_uri""\n\nAccording to [1], ""auth_uri"" has been deprecated.\nThis patch replace it by using ""www_authenticate_uri"" instead.\n\n[1] https://review.openstack.org/#/c/508522\n\nChange-Id: I4c9991ab3e681a6a8724cec0ddc98054f1198af8\n'}]",0,567710,72c4976d93562dc60c7e6f14012bf940492fd1c0,6,6,1,25903,,,0,"Replace deprecated ""auth_uri"" by ""www_authenticate_uri""

According to [1], ""auth_uri"" has been deprecated.
This patch replace it by using ""www_authenticate_uri"" instead.

[1] https://review.openstack.org/#/c/508522

Change-Id: I4c9991ab3e681a6a8724cec0ddc98054f1198af8
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/10/567710/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/manila_handlers.py'],1,72c4976d93562dc60c7e6f14012bf940492fd1c0,auth_uri," 'www_authenticate_uri': (""{protocol}://{host}:{port}"" .format(protocol=keystone.service_protocol(), host=keystone.service_host(), port=keystone.service_port())),"," 'auth_uri': (""{protocol}://{host}:{port}"" .format(protocol=keystone.service_protocol(), host=keystone.service_host(), port=keystone.service_port())),",4,4
openstack%2Fcharm-neutron-gateway~master~I608b7d176c80ed6fce03343b629112dea1bfa4d7,openstack/charm-neutron-gateway,master,I608b7d176c80ed6fce03343b629112dea1bfa4d7,Added Recursive DNS relation,ABANDONED,2018-08-28 08:31:47.000000000,2022-01-04 11:44:19.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 28510}]","[{'number': 1, 'created': '2018-08-28 08:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/0122303829afb49afe8f8e6f276e4a1a5be112ce', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs or\ngateway\n\nChange-Id: I608b7d176c80ed6fce03343b629112dea1bfa4d7\nPartial-Bug: #1773377\n""}, {'number': 2, 'created': '2018-08-30 14:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/85dbf326c3383312d596050e97075eed63217a36', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs or\ngateway\n\nChange-Id: I608b7d176c80ed6fce03343b629112dea1bfa4d7\nPartial-Bug: #1773377\n""}, {'number': 3, 'created': '2019-01-15 09:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ed6231105a90cb0ad8148f02b5623b6241372d13', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs or\ngateway\n\nChange-Id: I608b7d176c80ed6fce03343b629112dea1bfa4d7\nPartial-Bug: #1773377\n""}, {'number': 4, 'created': '2019-01-15 12:09:30.000000000', 'files': ['hooks/neutron-recursive-dns-relation-departed', 'hooks/neutron-recursive-dns-relation-broken', 'hooks/neutron_contexts.py', 'hooks/neutron-recursive-dns-relation-joined', 'unit_tests/test_neutron_contexts.py', 'tests/basic_deployment.py', 'metadata.yaml', 'hooks/neutron_hooks.py', 'hooks/neutron-recursive-dns-relation-changed'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/61a22ba1c9ff7074e6ac0a4cc4b509c9fa4865e9', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs or\ngateway\n\nChange-Id: I608b7d176c80ed6fce03343b629112dea1bfa4d7\nPartial-Bug: #1773377\n""}]",7,597021,61a22ba1c9ff7074e6ac0a4cc4b509c9fa4865e9,18,4,4,28510,,,0,"Added Recursive DNS relation

Once BIND is enabled for recursion, it is possible
to configure neutron gateway's and ovs's dnsmasq
automatically by relating BIND charm with ovs or
gateway

Change-Id: I608b7d176c80ed6fce03343b629112dea1bfa4d7
Partial-Bug: #1773377
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/21/597021/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron-recursive-dns-relation-departed', 'hooks/neutron-recursive-dns-relation-broken', 'hooks/neutron_contexts.py', 'hooks/neutron-recursive-dns-relation-joined', 'unit_tests/test_neutron_contexts.py', 'metadata.yaml', 'hooks/neutron-recursive-dns-relation-changed', 'hooks/neutron_hooks.py']",8,0122303829afb49afe8f8e6f276e4a1a5be112ce,bug/1773377,@hooks.hook('neutron-recursive-dns-relation-joined') @hooks.hook('neutron-recursive-dns-relation-changed') @hooks.hook('neutron-recursive-dns-relation-departed') @hooks.hook('neutron-recursive-dns-relation-broken') @restart_on_change(restart_map()) def config_recursive_dns(): CONFIGS.write_all() ,,1416,6
openstack%2Fcharm-designate-bind~master~I39efe78e65275c6adfed3389db190ea20105e2df,openstack/charm-designate-bind,master,I39efe78e65275c6adfed3389db190ea20105e2df,Added Recursive DNS relation,ABANDONED,2018-08-28 07:55:41.000000000,2022-01-04 11:44:16.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 28510}]","[{'number': 1, 'created': '2018-08-28 07:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/6092dec2dcdfec4d4b7729b77cb605b8a62b7567', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs\nor gateway\n\nChange-Id: I39efe78e65275c6adfed3389db190ea20105e2df\n""}, {'number': 2, 'created': '2018-08-28 08:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/a10471ba2430e23942cb89d06f539b4dbfad34a3', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs\nor gateway\n\nPartial-Bug: #1773377\nChange-Id: I39efe78e65275c6adfed3389db190ea20105e2df\n""}, {'number': 3, 'created': '2018-08-30 13:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/278ffb802b3b383d3bf12e930a1f016970973247', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs\nor gateway\n\nPartial-Bug: #1773377\nChange-Id: I39efe78e65275c6adfed3389db190ea20105e2df\n""}, {'number': 4, 'created': '2018-08-30 13:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/3f121c27d8c608eae2aa68eda4acdee0821afc80', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs\nor gateway\n\nPartial-Bug: #1773377\nChange-Id: I39efe78e65275c6adfed3389db190ea20105e2df\n""}, {'number': 5, 'created': '2019-01-15 07:39:11.000000000', 'files': ['src/tests/basic_deployment.py', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/07466f02428be67728cd33465dcc57bde518b991', 'message': ""Added Recursive DNS relation\n\nOnce BIND is enabled for recursion, it is possible\nto configure neutron gateway's and ovs's dnsmasq\nautomatically by relating BIND charm with ovs\nor gateway\n\nPartial-Bug: #1773377\nChange-Id: I39efe78e65275c6adfed3389db190ea20105e2df\n""}]",0,597009,07466f02428be67728cd33465dcc57bde518b991,23,4,5,28510,,,0,"Added Recursive DNS relation

Once BIND is enabled for recursion, it is possible
to configure neutron gateway's and ovs's dnsmasq
automatically by relating BIND charm with ovs
or gateway

Partial-Bug: #1773377
Change-Id: I39efe78e65275c6adfed3389db190ea20105e2df
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/09/597009/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/metadata.yaml', 'src/layer.yaml']",2,6092dec2dcdfec4d4b7729b77cb605b8a62b7567,bug/1773377,,,4,0
openstack%2Fcharm-gnocchi~master~If086c490882fd070ea4d4dc8ad2ae3bdab4d6cf0,openstack/charm-gnocchi,master,If086c490882fd070ea4d4dc8ad2ae3bdab4d6cf0,charmhelpers-sync,ABANDONED,2019-01-22 22:22:17.000000000,2022-01-04 11:44:14.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-01-22 22:22:17.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/535c2f8b78704de8d1844308f3ed9770cfe34f77', 'message': 'charmhelpers-sync\n\nPull in fix for call to ceph-authtool when updating keys.\n\nChange-Id: If086c490882fd070ea4d4dc8ad2ae3bdab4d6cf0\nCloses-Bug: #1810917\n'}]",0,632578,535c2f8b78704de8d1844308f3ed9770cfe34f77,8,4,1,26040,,,0,"charmhelpers-sync

Pull in fix for call to ceph-authtool when updating keys.

Change-Id: If086c490882fd070ea4d4dc8ad2ae3bdab4d6cf0
Closes-Bug: #1810917
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/78/632578/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,535c2f8b78704de8d1844308f3ed9770cfe34f77,bug/1810917,4dfdc076-b934-46a2-b790-cd8d7cd4615a,f992a562-03a0-11e9-8a41-af644219de17,1,1
openstack%2Fcharm-ironic~master~I2ac60632324c7b02c1b995fa50d1217913034e13,openstack/charm-ironic,master,I2ac60632324c7b02c1b995fa50d1217913034e13,Fix the conflict of urlparse between python2 and python3,ABANDONED,2018-10-30 09:51:43.000000000,2022-01-04 11:44:12.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-30 09:51:43.000000000', 'files': ['hooks/charmhelpers/fetch/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ironic/commit/934069561801e1fa0fe434fffb3558b91bb16996', 'message': 'Fix the conflict of urlparse between python2 and python3\n\nChange-Id: I2ac60632324c7b02c1b995fa50d1217913034e13\n'}]",0,614159,934069561801e1fa0fe434fffb3558b91bb16996,6,3,1,27382,,,0,"Fix the conflict of urlparse between python2 and python3

Change-Id: I2ac60632324c7b02c1b995fa50d1217913034e13
",git fetch https://review.opendev.org/openstack/charm-ironic refs/changes/59/614159/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/fetch/__init__.py'],1,934069561801e1fa0fe434fffb3558b91bb16996,fix_urlparse,"from six.moves.urllib.parse import urlparse, urlunparse","if six.PY3: from urllib.parse import urlparse, urlunparse else: from urlparse import urlparse, urlunparse",1,4
openstack%2Fcharm-neutron-openvswitch~stable%2F18.11~I2c07c4376cca5afe9fe8e636a1be051c5f63367a,openstack/charm-neutron-openvswitch,stable/18.11,I2c07c4376cca5afe9fe8e636a1be051c5f63367a,pci: fix missing update attributes,ABANDONED,2019-03-08 07:07:51.000000000,2022-01-04 11:44:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 07:07:51.000000000', 'files': ['unit_tests/test_pci.py', 'hooks/pci.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/8c227ad827ed1bb390e196ca63e32b5a7432bdf6', 'message': 'pci: fix missing update attributes\n\nWe should update state of PCIDevDevice after to have updated its\nnumvfs.\n\nRelated-to: #1817079\nChange-Id: I2c07c4376cca5afe9fe8e636a1be051c5f63367a\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n(cherry picked from commit 3957a469594eeaaaa65a12e1b694c516e6269542)\n'}]",0,641944,8c227ad827ed1bb390e196ca63e32b5a7432bdf6,4,2,1,7730,,,0,"pci: fix missing update attributes

We should update state of PCIDevDevice after to have updated its
numvfs.

Related-to: #1817079
Change-Id: I2c07c4376cca5afe9fe8e636a1be051c5f63367a
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
(cherry picked from commit 3957a469594eeaaaa65a12e1b694c516e6269542)
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/44/641944/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_pci.py', 'hooks/pci.py']",2,8c227ad827ed1bb390e196ca63e32b5a7432bdf6,bug/1817079, self.sriov_totalvfs = None self.sriov_numvfs = None self.update_attributes(),,37,0
openstack%2Fcharm-neutron-openvswitch~stable%2F18.11~I17ba3908469ab604bf5eda3528e0b50b2e5e968f,openstack/charm-neutron-openvswitch,stable/18.11,I17ba3908469ab604bf5eda3528e0b50b2e5e968f,pci: refactor set_sriov_numvfs to handle reset call,ABANDONED,2019-03-08 07:07:51.000000000,2022-01-04 11:44:07.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-08 07:07:51.000000000', 'files': ['unit_tests/test_pci.py', 'hooks/pci.py', 'hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/6b51519b6a3adc69b271b183df14d0e3bca8af0b', 'message': 'pci: refactor set_sriov_numvfs to handle reset call\n\nWe should reset PF before to be able to allocate new VFs. This commit\nis moving that part in PCIDevDevice that to refactor the code and in\norder to fix related issue #1817079 in the next commit.\n\nChange-Id: I17ba3908469ab604bf5eda3528e0b50b2e5e968f\nRelated-to: ##1817079\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n(cherry picked from commit 450cf845be7d5c1707e973d6c470aab43b550421)\n'}]",0,641945,6b51519b6a3adc69b271b183df14d0e3bca8af0b,4,2,1,7730,,,0,"pci: refactor set_sriov_numvfs to handle reset call

We should reset PF before to be able to allocate new VFs. This commit
is moving that part in PCIDevDevice that to refactor the code and in
order to fix related issue #1817079 in the next commit.

Change-Id: I17ba3908469ab604bf5eda3528e0b50b2e5e968f
Related-to: ##1817079
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
(cherry picked from commit 450cf845be7d5c1707e973d6c470aab43b550421)
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/45/641945/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_pci.py', 'hooks/pci.py', 'hooks/neutron_ovs_utils.py']",3,6b51519b6a3adc69b271b183df14d0e3bca8af0b,bug/1817079,, # NOTE(fnordahl): run-time change of numvfs is disallowed # without resetting to 0 first. device.set_sriov_numvfs(0) # NOTE(fnordahl): run-time change of numvfs is # disallowed without resetting to 0 first. device.set_sriov_numvfs(0) # NOTE(fnordahl): run-time change of numvfs is # disallowed without resetting to 0 first. device.set_sriov_numvfs(0),25,20
openstack%2Fcharm-percona-cluster~master~I0395403795b6ccff0f668ba2922a374fef2a0d2e,openstack/charm-percona-cluster,master,I0395403795b6ccff0f668ba2922a374fef2a0d2e,Use galera resource agent for clustering,ABANDONED,2018-08-30 01:31:57.000000000,2022-01-04 11:44:05.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 23969}]","[{'number': 1, 'created': '2018-08-30 01:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/ddcdee10d5fafaf1b5b407649a04487641971f18', 'message': 'Percona-cluster charm uses Galera clustering mechanism to cluster\nMysql databases in Master/Master state. To prevent manual\nintervention if possible when all nodes goes down, we can use Galera\nresource agent from resource-agents package which is able to handle\npercona-cluster databases based on the last commit and the safe_to_bootstrap\nflag present in grastate.dat.\n\nChange-Id: I0395403795b6ccff0f668ba2922a374fef2a0d2e\nCloses-Bug: #1744393\nDepends-On: #1789527\n'}, {'number': 2, 'created': '2018-08-30 01:37:19.000000000', 'files': ['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/aed1dc7017c9996ebb96a49b065cfd4de07ece49', 'message': 'Use galera resource agent for clustering\n\nPercona-cluster charm uses Galera clustering mechanism to cluster\nMysql databases in Master/Master state. To prevent manual\nintervention if possible when all nodes goes down, we can use Galera\nresource agent from resource-agents package which is able to handle\npercona-cluster databases based on the last commit and the safe_to_bootstrap\nflag present in grastate.dat.\n\nChange-Id: I0395403795b6ccff0f668ba2922a374fef2a0d2e\nCloses-Bug: #1744393\nDepends-On: #1789527\n'}]",0,597969,aed1dc7017c9996ebb96a49b065cfd4de07ece49,7,4,2,23969,,,0,"Use galera resource agent for clustering

Percona-cluster charm uses Galera clustering mechanism to cluster
Mysql databases in Master/Master state. To prevent manual
intervention if possible when all nodes goes down, we can use Galera
resource agent from resource-agents package which is able to handle
percona-cluster databases based on the last commit and the safe_to_bootstrap
flag present in grastate.dat.

Change-Id: I0395403795b6ccff0f668ba2922a374fef2a0d2e
Closes-Bug: #1744393
Depends-On: #1789527
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/69/597969/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_hooks.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py']",3,ddcdee10d5fafaf1b5b407649a04487641971f18,bug/1744393," get_hostname,def get_cluster_hostnames(): """""" Return list of all hostnames in the cluster. Essential for glaera resource agent used for percona clustering """""" ip_list = get_cluster_hosts() ip_list.append(get_cluster_host_ip()) return [get_hostname(ip).split('.')[0] for ip in ip_list] ",,64,34
openstack%2Fcharm-cloudkitty~master~I7f497a8b72d16f4b40575e8b64278ec0da909891,openstack/charm-cloudkitty,master,I7f497a8b72d16f4b40575e8b64278ec0da909891,Initialize repository,ABANDONED,2019-05-18 00:59:05.000000000,2022-01-04 11:44:03.000000000,,[{'_account_id': 20648}],"[{'number': 1, 'created': '2019-05-18 00:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cloudkitty/commit/6642a19fe9c92d35d6989a58d9374b237a007402', 'message': 'Initialize repository\n\nThis adds the source files for the CloudKitty charm for queens and\nrocky releases.\n\nChange-Id: I7f497a8b72d16f4b40575e8b64278ec0da909891\nstory: 2004199\n'}, {'number': 2, 'created': '2019-06-04 23:53:06.000000000', 'files': ['.gitignore', 'src/wsgi_file/app.wsgi', 'test-requirements.txt', 'src/tox.ini', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/layer.yaml', 'src/tests/README.md', 'src/config.yaml', 'unit_tests/test_lib_charm_openstack_cloudkitty.py', 'requirements.txt', 'src/lib/charm/openstack/cloudkitty.py', 'src/templates/queens/metrics.yml', 'src/reactive/cloudkitty_handlers.py', 'LICENSE', '.stestr.conf', 'src/lib/charm/openstack/__init__.py', 'src/templates/rocky/metrics.yml', 'src/templates/cloudkitty-api.conf', 'unit_tests/__init__.py', 'README.md', 'src/README.md', 'src/requirements.txt', 'src/copyright', 'src/templates/queens/cloudkitty.conf', '.testr.conf', 'src/templates/rocky/cloudkitty.conf', 'unit_tests/test_cloudkitty_handlers.py', 'tox.ini', 'src/lib/charm/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-cloudkitty/commit/7a6d72e6622f915e0e1854f8b81152a5c9a37bc9', 'message': 'Initialize repository\n\nThis adds the source files for the CloudKitty charm for queens and\nrocky releases.\n\nChange-Id: I7f497a8b72d16f4b40575e8b64278ec0da909891\nStory: 2004199\n'}]",0,659895,7a6d72e6622f915e0e1854f8b81152a5c9a37bc9,5,1,2,30344,,,0,"Initialize repository

This adds the source files for the CloudKitty charm for queens and
rocky releases.

Change-Id: I7f497a8b72d16f4b40575e8b64278ec0da909891
Story: 2004199
",git fetch https://review.opendev.org/openstack/charm-cloudkitty refs/changes/95/659895/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'src/wsgi_file/app.wsgi', 'test-requirements.txt', 'src/tox.ini', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/layer.yaml', 'src/tests/README.md', 'src/config.yaml', 'unit_tests/test_lib_charm_openstack_cloudkitty.py', 'requirements.txt', 'src/lib/charm/openstack/cloudkitty.py', 'src/templates/queens/metrics.yml', 'src/reactive/cloudkitty_handlers.py', 'LICENSE', 'src/lib/charm/openstack/__init__.py', 'src/templates/rocky/metrics.yml', 'src/templates/cloudkitty-api.conf', 'unit_tests/__init__.py', 'README.md', 'src/README.md', 'src/requirements.txt', 'src/copyright', 'src/templates/queens/cloudkitty.conf', '.testr.conf', 'src/templates/rocky/cloudkitty.conf', 'unit_tests/test_cloudkitty_handlers.py', 'tox.ini', 'src/lib/charm/__init__.py']",29,6642a19fe9c92d35d6989a58d9374b237a007402,Initialize,,,1367,0
openstack%2Fcharm-keystone-saml-mellon~master~I6fb069421c8d3a2623ae569632dddc8284326e28,openstack/charm-keystone-saml-mellon,master,I6fb069421c8d3a2623ae569632dddc8284326e28,Update README with the latest information,ABANDONED,2019-06-24 19:18:37.000000000,2022-01-04 11:44:01.000000000,,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-06-24 19:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/97ad0e13de69b1dd012c2894bb529eca8751dbab', 'message': 'Update README with the latest information\n\n* document auto-generated domains;\n* document federated groups;\n* provide more clarity on how SAML attributes are parsed;\n* write down common limitations when working with federated identity.\n\nChange-Id: I6fb069421c8d3a2623ae569632dddc8284326e28\n'}, {'number': 2, 'created': '2019-07-19 15:55:50.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f36bccdc7c66d847d841957b9a37460e408102ae', 'message': 'Update README with the latest information\n\n* document auto-generated domains;\n* document federated groups;\n* provide more clarity on how SAML attributes are parsed;\n* write down common limitations when working with federated identity.\n\nChange-Id: I6fb069421c8d3a2623ae569632dddc8284326e28\n'}]",2,667199,f36bccdc7c66d847d841957b9a37460e408102ae,10,6,2,24824,,,0,"Update README with the latest information

* document auto-generated domains;
* document federated groups;
* provide more clarity on how SAML attributes are parsed;
* write down common limitations when working with federated identity.

Change-Id: I6fb069421c8d3a2623ae569632dddc8284326e28
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/99/667199/2 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,97ad0e13de69b1dd012c2894bb529eca8751dbab,24062019-doc-fixes," # Create an identity provider which will trigger domain creation automatically. # Use the URL for your idP's metadata for remote-id. The name can be arbitrary. openstack identity provider create --remote-id https://samltest.id/saml/idp samlid # Get the auto-generated domain ID SAMLID_DOMAIN_ID=`openstack domain list -f json | jq -r '.[] | select(.Description | contains(""samlid"")) | .ID'` # Rename the auto-generated domain for clarity openstack domain set --name samlid $SAMLID_DOMAIN_ID openstack group create federated_users --domain $SAMLID_DOMAIN_ID # (optional) create a project for role-assignment based on group # membership at the IdP side openstack project create --domain $SAMLID_DOMAIN_ID grouptest # add a Member role for a federated group to the target project openstack role add --group federated_users --group-domain $SAMLID_DOMAIN_ID --project grouptest --project-domain $SAMLID_DOMAIN_ID Member # Create a mapping of SAML AuthnResponse attributes to objects in # Keystone. Projects are auto-provisioned if they do not exist # and roles are added directly to the federated user in the # Keystone DB. The alternative approach is to avoid the usage of the # ""projects"" section and instead using federated groups with # role assignments done to groups only. With the group-based approch # federated users will not have any direct role assignments in # Keystone. # The expectation is that the IdP will be configured to use an # attribute called ""group"" to signal that a user is a member of a # certain group and and there can be multiple attributes with the # same name that will be interpreted and passed to Keystone by # Mellon. ""groups"": ""{1}"", }, { ""type"": ""MELLON_group"" } # The protocol name (""mapped"" in this case) must match the one # configured in the charm, otherwise authentication will fail. # Otherwise, this is an arbitrary string, i.e. it could be: # 'mapped', 'saml2', 'mystring'. # validate that the protocol-name parameter matches the above juju config keystone-saml-mellon protocol-name # Known Limitations In this section some common limitations are listed: * Federated roles cannot be used to create Application Credentials; * https://bugs.launchpad.net/keystone/+bug/1773967 (group-only role assignments); * https://bugs.launchpad.net/keystone/+bug/1832092 (federated groups); * Federated roles cannot be used to create trusts via Keystone Trust API (e.g. used by Heat) * https://bugs.launchpad.net/keystone/+bug/1834009 * ECP; * The ECP implementation cannot be used with IdP-side multi-factor authentication as this requires a custom openstack client plugin to be developed (which is IdP-specific); * https://bugs.launchpad.net/ubuntu/+source/lasso/+bug/1833299 - Mellon uses Lasso library which has an ECP-related bug; * https://bugs.launchpad.net/charm-keystone-saml-mellon/+bug/1833134 ECP is not enabled due to the Lasso bug above; * If roles are assigned to users directly in OpenStack, there is no mechanism for an IdP to notify Keystone of a user removal or deactivation. This has to be done in Keystone via external automation; * similar functionality is only available with federated groups without direct role assignments to federated users at the Keystone side: groups are re-evaluated on each authentication with an IdP; * Application credentials are not tied to the IdP in any way. If a user creates one and it does not have an expiry time, a user may have access to the project until it is deactivated in Keystone explicitly. "," openstack domain create federated_domain openstack group create federated_users --domain federated_domain # Get the federated_users group id and assign the role Member GROUP_ID=$(openstack group show federated_users --domain federated_domain | grep -v domain_id | grep id |awk '{print $4}') openstack role add --group ${GROUP_ID} --domain federated_domain Member # Use the URL for your idP's metadata for remote-id. The name can be # arbitrary. openstack identity provider create --remote-id https://samltest.id/saml/idp --domain federated_domain samltest # Get the federated_domain id and add it to the rules.json map DOMAIN_ID=$(openstack domain show federated_domain |grep id |awk '{print $4}') ""group"": { ""domain"": { ""id"": ""${DOMAIN_ID}"" }, ""name"": ""federated_users"" }, } # The name should be mapped or saml here and must match the configuration # setting protocol-name. We recommend using ""mapped""",65,19
openstack%2Fcharm-mistral~master~I1e549cc40632d8a8a9c00994f44197778a1192b3,openstack/charm-mistral,master,I1e549cc40632d8a8a9c00994f44197778a1192b3,[Trivial Fix]misspelling,ABANDONED,2019-06-18 09:33:12.000000000,2022-01-04 11:43:56.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2019-06-18 09:33:12.000000000', 'files': ['src/templates/mitaka/mistral.conf'], 'web_link': 'https://opendev.org/openstack/charm-mistral/commit/a85759dd7a70ecc29671eeb09f609d4df200e2e6', 'message': '[Trivial Fix]misspelling\n\nChange-Id: I1e549cc40632d8a8a9c00994f44197778a1192b3\n'}]",0,665925,a85759dd7a70ecc29671eeb09f609d4df200e2e6,4,2,1,24061,,,0,"[Trivial Fix]misspelling

Change-Id: I1e549cc40632d8a8a9c00994f44197778a1192b3
",git fetch https://review.opendev.org/openstack/charm-mistral refs/changes/25/665925/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/mitaka/mistral.conf'],1,a85759dd7a70ecc29671eeb09f609d4df200e2e6,spelling,# Mistral only works with keystone v3 atm,# Mistal only works with keystone v3 atm,1,1
openstack%2Fcharm-nova-compute~master~Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a,openstack/charm-nova-compute,master,Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a,Expose block-device-allocate-retries and its interval counterpart,ABANDONED,2019-07-03 15:09:20.000000000,2022-01-04 11:43:54.000000000,,"[{'_account_id': 2424}, {'_account_id': 7730}, {'_account_id': 9146}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 21107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 15:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/db7fb3d4d3cc1ce4f08c589545f544d365467d1e', 'message': 'Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n'}, {'number': 2, 'created': '2019-07-03 15:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/27d7b63825bbf4e06f483d075d0e7df6aca844d0', 'message': 'Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n'}, {'number': 3, 'created': '2019-07-04 04:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7554bc77945b8a4da16f9ee029bed040081c133a', 'message': 'Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n'}, {'number': 4, 'created': '2019-07-04 05:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/330ae67713fa6fb62c943a201b11d27ab27a3503', 'message': 'Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n'}, {'number': 5, 'created': '2019-07-04 09:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0be6075dcd679f263d8e05e6a32ae2c5319d3c36', 'message': 'Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n'}, {'number': 6, 'created': '2019-07-05 07:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1c79144330cf61a364756e90fe036fbbad2e864e', 'message': ""Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nNo default value is specified in config.yaml since Nova Compute already\ncomes with its own defaults and we don't want to introduce any surprises\nto existing Nova uses. Should there be a need to customize then this\nchange makes it easier for users to accomplish.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n""}, {'number': 7, 'created': '2019-07-05 09:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2d8ccba5ed83ea88dc2ce4d4f171bb4abfa222b3', 'message': ""Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nNo default value is specified in config.yaml since Nova Compute already\ncomes with its own defaults and we don't want to introduce any surprises\nto existing Nova uses. Should there be a need to customize then this\nchange makes it easier for users to accomplish.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n""}, {'number': 8, 'created': '2019-07-18 13:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/05c954ae9a92e2ed029ae3c3a59b5cdcba1c1278', 'message': ""Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nNo default value is specified in config.yaml since Nova Compute already\ncomes with its own defaults and we don't want to introduce any surprises\nto existing Nova uses. Should there be a need to customize then this\nchange makes it easier for users to accomplish.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n""}, {'number': 9, 'created': '2019-08-20 15:29:13.000000000', 'files': ['hooks/nova_compute_context.py', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/59709555ba2e430f06057a7ca8a9b856af219bd8', 'message': ""Expose block-device-allocate-retries and its interval counterpart\n\nThis directly exposes two nova.conf configuration options that are\nnormally modified when large machine images (e.g. Windows) are expected\nto be used in the Nova cluster.\n\nNo default value is specified in config.yaml since Nova Compute already\ncomes with its own defaults and we don't want to introduce any surprises\nto existing Nova uses. Should there be a need to customize then this\nchange makes it easier for users to accomplish.\n\nChange-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a\nCloses-Bug: 1758607\n""}]",5,668933,59709555ba2e430f06057a7ca8a9b856af219bd8,49,8,9,9146,,,0,"Expose block-device-allocate-retries and its interval counterpart

This directly exposes two nova.conf configuration options that are
normally modified when large machine images (e.g. Windows) are expected
to be used in the Nova cluster.

No default value is specified in config.yaml since Nova Compute already
comes with its own defaults and we don't want to introduce any surprises
to existing Nova uses. Should there be a need to customize then this
change makes it easier for users to accomplish.

Change-Id: Ic3da07e9fd228f8b7573e4dea52bc023b7405d4a
Closes-Bug: 1758607
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/33/668933/9 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'templates/rocky/nova.conf']",2,db7fb3d4d3cc1ce4f08c589545f544d365467d1e,bug/1758607,block_device_allocate_retries = {{ block_device_allocate_retries }} block_device_allocate_retries_interval = {{ block_device_allocate_retries_interval }},,16,0
openstack%2Fcharm-nova-compute~master~I4160ebb8f2b30c19afd430d576bf6d879fec7f36,openstack/charm-nova-compute,master,I4160ebb8f2b30c19afd430d576bf6d879fec7f36,Add a friendlier config option for specifying block allocation timeout,ABANDONED,2019-07-04 06:19:01.000000000,2022-01-04 11:43:52.000000000,,"[{'_account_id': 2424}, {'_account_id': 9146}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-04 06:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ce0f51254d333a993a928a4e2c25606f5326a47a', 'message': 'Add a friendlier config option for specifying block allocation timeout\n\nThis change adds an alternative option to block_device_allocate_retries\nand block_device_allocate_retries_interval.\n\nChange-Id: I4160ebb8f2b30c19afd430d576bf6d879fec7f36\nCloses-Bug: 1758607\n'}, {'number': 2, 'created': '2019-07-04 09:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d5bb261152b5f92e45e2577c022bc488c0a959c9', 'message': 'Add a friendlier config option for specifying block allocation timeout\n\nThis change adds an alternative option to block_device_allocate_retries\nand block_device_allocate_retries_interval.\n\nChange-Id: I4160ebb8f2b30c19afd430d576bf6d879fec7f36\nCloses-Bug: 1758607\n'}, {'number': 3, 'created': '2019-07-05 07:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e7a3660923395bfc3a66935c174801faf428d8c6', 'message': 'Add a friendlier config option for specifying block allocation timeout\n\nThis change adds an alternative option to block_device_allocate_retries\nand block_device_allocate_retries_interval by simplifying them into a\nsingle time-based option named `block-device-allocate-timeout` which\nis mutually exclusive with the other two option. To avoid any surprises,\nthis new option has lower precedence than the other two and will not\ntake effect should any of the other two are defined.\n\nChange-Id: I4160ebb8f2b30c19afd430d576bf6d879fec7f36\nCloses-Bug: 1758607\n'}, {'number': 4, 'created': '2019-07-05 09:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2434c0847d5c9a59229939bbbafc22949232ce53', 'message': 'Add a friendlier config option for specifying block allocation timeout\n\nThis change adds an alternative option to block_device_allocate_retries\nand block_device_allocate_retries_interval by simplifying them into a\nsingle time-based option named `block-device-allocate-timeout` which\nis mutually exclusive with the other two option. To avoid any surprises,\nthis new option has lower precedence than the other two and will not\ntake effect should any of the other two are defined.\n\nChange-Id: I4160ebb8f2b30c19afd430d576bf6d879fec7f36\nCloses-Bug: 1758607\n'}, {'number': 5, 'created': '2019-07-18 13:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f580944353fb47b7ad9a33ee5e6ec69f91828fdc', 'message': 'Add a friendlier config option for specifying block allocation timeout\n\nThis change adds an alternative option to block_device_allocate_retries\nand block_device_allocate_retries_interval by simplifying them into a\nsingle time-based option named `block-device-allocate-timeout` which\nis mutually exclusive with the other two option. To avoid any surprises,\nthis new option has lower precedence than the other two and will not\ntake effect should any of the other two are defined.\n\nChange-Id: I4160ebb8f2b30c19afd430d576bf6d879fec7f36\nCloses-Bug: 1758607\n'}, {'number': 6, 'created': '2019-08-20 15:30:57.000000000', 'files': ['hooks/nova_compute_context.py', 'config.yaml', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f23614274bf3f97f69ac7af257b876bc59f4762d', 'message': 'Add a friendlier config option for specifying block allocation timeout\n\nThis change adds an alternative option to block_device_allocate_retries\nand block_device_allocate_retries_interval by simplifying them into a\nsingle time-based option named `block-device-allocate-timeout` which\nis mutually exclusive with the other two option. To avoid any surprises,\nthis new option has lower precedence than the other two and will not\ntake effect should any of the other two are defined.\n\nChange-Id: I4160ebb8f2b30c19afd430d576bf6d879fec7f36\nCloses-Bug: 1758607\n'}]",0,669060,f23614274bf3f97f69ac7af257b876bc59f4762d,33,6,6,9146,,,0,"Add a friendlier config option for specifying block allocation timeout

This change adds an alternative option to block_device_allocate_retries
and block_device_allocate_retries_interval by simplifying them into a
single time-based option named `block-device-allocate-timeout` which
is mutually exclusive with the other two option. To avoid any surprises,
this new option has lower precedence than the other two and will not
take effect should any of the other two are defined.

Change-Id: I4160ebb8f2b30c19afd430d576bf6d879fec7f36
Closes-Bug: 1758607
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/60/669060/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'config.yaml', 'unit_tests/test_nova_compute_contexts.py']",3,ce0f51254d333a993a928a4e2c25606f5326a47a,feature/block-allocate-timeout," def test_libvirt_context_block_device_allocate_timeout_default( self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'yakkety'} self.os_release.return_value = 'queens' libvirt = context.NovaComputeLibvirtContext() self.assertNotIn( 'block_device_allocate_timeout', libvirt().keys()) def test_libvirt_context_block_device_allocate_timeout_set(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'yakkety'} self.os_release.return_value = 'queens' timeout = random.randrange(0, 65000) self.test_config.set('block-device-allocate-timeout', timeout) libvirt = context.NovaComputeLibvirtContext() self.assertDictContainsSubset( {'block_device_allocate_retries': timeout / 3, 'block_device_allocate_retries_interval': 3}, libvirt()) ",,37,0
openstack%2Fcharm-neutron-gateway~master~Iba77bc49dc6d5f7ff787d169e866b21b7b54e22e,openstack/charm-neutron-gateway,master,Iba77bc49dc6d5f7ff787d169e866b21b7b54e22e,fixed logging.setup : Neuron-HA-Monitor is replaced with Neutron-HA-Monitor in line 94.,ABANDONED,2019-09-27 05:56:22.000000000,2022-01-04 11:43:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 05:56:22.000000000', 'files': ['files/neutron-ha-monitor.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/b28b90c71fc934aea1fef834b900959488bdeb5b', 'message': 'fixed logging.setup : Neuron-HA-Monitor is replaced with Neutron-HA-Monitor in line 94.\n\nChange-Id: Iba77bc49dc6d5f7ff787d169e866b21b7b54e22e\n'}]",0,685202,b28b90c71fc934aea1fef834b900959488bdeb5b,4,2,1,30717,,,0,"fixed logging.setup : Neuron-HA-Monitor is replaced with Neutron-HA-Monitor in line 94.

Change-Id: Iba77bc49dc6d5f7ff787d169e866b21b7b54e22e
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/02/685202/1 && git format-patch -1 --stdout FETCH_HEAD,['files/neutron-ha-monitor.py'],1,b28b90c71fc934aea1fef834b900959488bdeb5b,, logging.setup('Neutron-HA-Monitor'), logging.setup('Neuron-HA-Monitor'),1,1
openstack%2Fcharm-nova-compute~master~I184e089f62afda894553ca8165dcbdcb3d234962,openstack/charm-nova-compute,master,I184e089f62afda894553ca8165dcbdcb3d234962,Moving vnc config options under group 'vnc',ABANDONED,2019-10-08 13:44:16.000000000,2022-01-04 11:43:47.000000000,,"[{'_account_id': 7730}, {'_account_id': 14567}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 13:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4829e3d5b9ee37a360d81de7cea4f44784d0e915', 'message': ""Moving vnc config options under group 'vnc'\n\nMoving vnc config options under group 'vnc' from group ['DEFAULT']\nto group ['vnc']. Also renaming 'vnc_enabled' to 'enabled', and\n'vnc_keymap' to 'keymap' as it was renamed when moving to ['vnc'].\n\nVnc config options were registered under 'vnc' group since Liberty:\nhttps://opendev.org/openstack/nova/src/commit/380c4d750f8c53c8ab862082984079a633043b9c/nova/vnc/__init__.py#L22\n\nChange-Id: I184e089f62afda894553ca8165dcbdcb3d234962\nCloses-bug: #1837138\n""}, {'number': 2, 'created': '2019-10-10 13:35:48.000000000', 'files': ['templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/liberty/nova.conf', 'templates/pike/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8e119925abac03814da2ca8cc4c9a8fe47068d0f', 'message': ""Moving vnc config options under group 'vnc'\n\nMoving vnc config options under group 'vnc' from group ['DEFAULT']\nto group ['vnc']. The option 'novnc_enabled' was removed as redundant\nbecause there is no evidence of it's existance in nova.\nAlso renaming 'vnc_enabled' to 'enabled', and 'vnc_keymap' to\n'keymap' as it was renamed when moving to ['vnc'].\n\nVnc config options were registered under 'vnc' group since Liberty:\nhttps://opendev.org/openstack/nova/src/commit/380c4d750f8c53c8ab862082984079a633043b9c/nova/vnc/__init__.py#L22\n\nChange-Id: I184e089f62afda894553ca8165dcbdcb3d234962\nCloses-bug: #1837138\n""}]",1,687301,8e119925abac03814da2ca8cc4c9a8fe47068d0f,16,5,2,30796,,,0,"Moving vnc config options under group 'vnc'

Moving vnc config options under group 'vnc' from group ['DEFAULT']
to group ['vnc']. The option 'novnc_enabled' was removed as redundant
because there is no evidence of it's existance in nova.
Also renaming 'vnc_enabled' to 'enabled', and 'vnc_keymap' to
'keymap' as it was renamed when moving to ['vnc'].

Vnc config options were registered under 'vnc' group since Liberty:
https://opendev.org/openstack/nova/src/commit/380c4d750f8c53c8ab862082984079a633043b9c/nova/vnc/__init__.py#L22

Change-Id: I184e089f62afda894553ca8165dcbdcb3d234962
Closes-bug: #1837138
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/01/687301/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/liberty/nova.conf', 'templates/pike/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/mitaka/nova.conf']",8,4829e3d5b9ee37a360d81de7cea4f44784d0e915,bug/1837138, [vnc] {% if console_vnc_type -%} enabled = True keymap = {{ console_keymap }} vncserver_listen = {{ console_listen_addr }} vncserver_proxyclient_address = {{ console_listen_addr }} {% if console_access_protocol == 'novnc' or console_access_protocol == 'vnc' -%} novncproxy_base_url = {{ novnc_proxy_address }} {% endif -%} {% if console_access_protocol == 'xvpvnc' or console_access_protocol == 'vnc' -%} xvpvncproxy_port = {{ xvpvnc_proxy_port }} xvpvncproxy_host = {{ xvpvnc_proxy_host }} xvpvncproxy_base_url = {{ xvpvnc_proxy_address }} {% endif -%} {% else -%} enabled = False {% endif -%},{% if console_vnc_type -%} vnc_enabled = True novnc_enabled = True vnc_keymap = {{ console_keymap }} vncserver_listen = {{ console_listen_addr }} vncserver_proxyclient_address = {{ console_listen_addr }} {% if console_access_protocol == 'novnc' or console_access_protocol == 'vnc' -%} novncproxy_base_url = {{ novnc_proxy_address }} {% endif -%} {% if console_access_protocol == 'xvpvnc' or console_access_protocol == 'vnc' -%} xvpvncproxy_port = {{ xvpvnc_proxy_port }} xvpvncproxy_host = {{ xvpvnc_proxy_host }} xvpvncproxy_base_url = {{ xvpvnc_proxy_address }} {% endif -%} {% else -%} vnc_enabled = False novnc_enabled = False {% endif -%} ,144,152
openstack%2Fcharm-manila-generic~master~I650a0896c08b5de1b0876f85a76378cfedc648e9,openstack/charm-manila-generic,master,I650a0896c08b5de1b0876f85a76378cfedc648e9,fix usage of openstack versions and series for gate tests,ABANDONED,2019-10-23 15:27:04.000000000,2022-01-04 11:43:45.000000000,,"[{'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/e8342b5298375825d4c8af25ca1d41dafc1b3e07', 'message': 'fix usage of openstack versions and series for gate tests\n\nChange-Id: I650a0896c08b5de1b0876f85a76378cfedc648e9\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-10-24 15:22:59.000000000', 'files': ['src/tests/gate-basic-bionic-stein', 'src/tests/gate-basic-xenial-pike', 'src/tests/gate-basic-bionic-rocky', 'src/tests/gate-basic-xenial-queens', 'src/tests/gate-basic-xenial-ocata'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/d32ec40c40405d234357cc1ad5b2029995ad86f3', 'message': 'fix usage of openstack versions and series for gate tests\n\nChange-Id: I650a0896c08b5de1b0876f85a76378cfedc648e9\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,690606,d32ec40c40405d234357cc1ad5b2029995ad86f3,25,5,2,7730,,,0,"fix usage of openstack versions and series for gate tests

Change-Id: I650a0896c08b5de1b0876f85a76378cfedc648e9
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/06/690606/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/gate-basic-xenial-mitaka', 'src/tests/gate-basic-bionic-stein', 'src/tests/gate-basic-disco-stein', 'src/tests/gate-basic-bionic-queens', 'src/tests/gate-basic-xenial-pike', 'src/tests/gate-basic-bionic-rocky', 'src/tests/gate-basic-xenial-queens', 'src/tests/gate-basic-xenial-ocata']",8,e8342b5298375825d4c8af25ca1d41dafc1b3e07,charms-train-function-test," deployment = ManilaGenericBasicDeployment(series='xenial', keystone_version='2', openstack='cloud:xenial-ocata', source='cloud:xenial-ocata')"," deployment = ManilaGenericBasicDeployment(series='xenial', keystone_version='2')",28,12
openstack%2Fcharm-nova-cell-controller~master~I5fab0d5240c316fef64d96c29b74e993b7c72c2b,openstack/charm-nova-cell-controller,master,I5fab0d5240c316fef64d96c29b74e993b7c72c2b,DNM: Test function test overlays with juju 2.7,ABANDONED,2019-11-07 19:39:06.000000000,2022-01-04 11:43:43.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 19:39:06.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/65ed850c2ecde2ec9bc33356cccf9282f8580ed1', 'message': 'DNM: Test function test overlays with juju 2.7\n\nChange-Id: I5fab0d5240c316fef64d96c29b74e993b7c72c2b\n'}]",0,693416,65ed850c2ecde2ec9bc33356cccf9282f8580ed1,4,2,1,11805,,,0,"DNM: Test function test overlays with juju 2.7

Change-Id: I5fab0d5240c316fef64d96c29b74e993b7c72c2b
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/16/693416/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,65ed850c2ecde2ec9bc33356cccf9282f8580ed1,,b6d39c7c-9d47-4f21-8eff-f02b18712d6b,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-neutron-dynamic-routing~master~I618f35059c959a65d5ab5f88c0d60cba87e49344,openstack/charm-neutron-dynamic-routing,master,I618f35059c959a65d5ab5f88c0d60cba87e49344,Make use of default ``config.rendered`` handler,ABANDONED,2019-11-29 07:13:58.000000000,2022-01-04 11:43:40.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 07:13:58.000000000', 'files': ['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'unit_tests/test_dragent_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/add2489f060ddb5a8e6656f441d2af983e53c198', 'message': 'Make use of default ``config.rendered`` handler\n\nChange-Id: I618f35059c959a65d5ab5f88c0d60cba87e49344\n'}]",0,696646,add2489f060ddb5a8e6656f441d2af983e53c198,6,3,1,13686,,,0,"Make use of default ``config.rendered`` handler

Change-Id: I618f35059c959a65d5ab5f88c0d60cba87e49344
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/46/696646/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'unit_tests/test_dragent_handlers.py']",3,add2489f060ddb5a8e6656f441d2af983e53c198,use-config-rendered," 'config.rendered',"," 'enable_services': ('config.rendered',), 'disable_services': ('charm.installed',), 'disable_services': ('config.rendered',),",2,31
openstack%2Fcharm-nova-compute~master~I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa,openstack/charm-nova-compute,master,I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa,Refactor nova-compute ceph-broker messaging,ABANDONED,2019-08-21 20:35:46.000000000,2022-01-04 11:43:38.000000000,,"[{'_account_id': 935}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-21 20:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/88adbe52529cbd26baf03298e60fd679822d5c57', 'message': 'Refactor nova-compute ceph-broker messaging\n\nAs per the motivations in\ncommit b1701e1b3174dcb06c05684319d6c73d6b2f509c, this patch\nrefactors the ceph-broker messaging part of nova-compute\ncharm.\n\nMost logic was moved to charm-helpers (synced here as well),\nand the logic in nova-compute charm is simplified.\n\nThe main noticeable difference in this patch is that\nfunctions is_broker_action_done and mark_broker_action_done\nare invoked passing the broker_rsp directly. The broker_rsp\nis present and obtainable whenever the request is found\ncomplete. The broker_rsp is obtained as get_request_states\nfunction iterates across all remote units in the relation,\nchecking if any has a broker response for a previous equivalent\nrequest.\n\nRelated-bug: #1835045\nChange-Id: I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa\n'}, {'number': 2, 'created': '2019-09-06 21:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1e5c265967042ffe3097f48642ec06473a392db3', 'message': 'Refactor nova-compute ceph-broker messaging\n\nAs per the motivations in\ncommit b1701e1b3174dcb06c05684319d6c73d6b2f509c, this patch\nrefactors the ceph-broker messaging part of nova-compute\ncharm.\n\nMost logic was moved to charm-helpers (synced here as well),\nand the logic in nova-compute charm is simplified.\n\nThe main noticeable difference in this patch is that\nfunctions is_broker_action_done and mark_broker_action_done\nare invoked passing the broker_rsp directly. The broker_rsp\nis present and obtainable whenever the request is found\ncomplete. The broker_rsp is obtained as get_request_states\nfunction iterates across all remote units in the relation,\nchecking if any has a broker response for a previous equivalent\nrequest.\n\nRelated-bug: #1835045\nChange-Id: I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa\n'}, {'number': 3, 'created': '2019-09-09 17:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/40e6d50dee1bc95f99d8706f0a81895b8a75f65d', 'message': 'Refactor nova-compute ceph-broker messaging\n\nAs per the motivations in\ncommit b1701e1b3174dcb06c05684319d6c73d6b2f509c, this patch\nrefactors the ceph-broker messaging part of nova-compute\ncharm.\n\nMost logic was moved to charm-helpers (synced here as well),\nand the logic in nova-compute charm is simplified.\n\nThe main noticeable difference in this patch is that\nfunctions is_broker_action_done and mark_broker_action_done\nare invoked passing the broker_rsp directly. The broker_rsp\nis present and obtainable whenever the request is found\ncomplete. The broker_rsp is obtained as get_request_states\nfunction iterates across all remote units in the relation,\nchecking if any has a broker response for a previous equivalent\nrequest.\n\nRelated-bug: #1835045\nChange-Id: I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa\n'}, {'number': 4, 'created': '2019-09-09 17:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/3f837038ac0dad5a66f9b98b32b913fb857bfbcc', 'message': 'Refactor nova-compute ceph-broker messaging\n\nAs per the motivations in\ncommit b1701e1b3174dcb06c05684319d6c73d6b2f509c, this patch\nrefactors the ceph-broker messaging part of nova-compute\ncharm.\n\nMost logic was moved to charm-helpers (synced here as well),\nand the logic in nova-compute charm is simplified.\n\nThe main noticeable difference in this patch is that\nfunctions is_broker_action_done and mark_broker_action_done\nare invoked passing the broker_rsp directly. The broker_rsp\nis present and obtainable whenever the request is found\ncomplete. The broker_rsp is obtained as get_request_states\nfunction iterates across all remote units in the relation,\nchecking if any has a broker response for a previous equivalent\nrequest.\n\nRelated-bug: #1835045\nChange-Id: I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa\n'}, {'number': 5, 'created': '2019-11-15 00:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/16a61e69df2796b8002961054c263fe149c1db88', 'message': 'Refactor nova-compute ceph-broker messaging\n\nAs per the motivations in\ncommit b1701e1b3174dcb06c05684319d6c73d6b2f509c, this patch\nrefactors the ceph-broker messaging part of nova-compute\ncharm.\n\nMost logic was moved to charm-helpers (synced here as well),\nand the logic in nova-compute charm is simplified.\n\nThe main noticeable difference in this patch is that\nfunctions is_broker_action_done and mark_broker_action_done\nare invoked passing the broker_rsp directly. The broker_rsp\nis present and obtainable whenever the request is found\ncomplete. The broker_rsp is obtained as get_request_states\nfunction iterates across all remote units in the relation,\nchecking if any has a broker response for a previous equivalent\nrequest.\n\nRelated-bug: #1835045\nChange-Id: I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa\n'}, {'number': 6, 'created': '2019-11-29 14:06:34.000000000', 'files': ['unit_tests/test_nova_compute_hooks.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/nova_compute_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/32a808c685cfcc4b05ba9b3f467e963fe8602f5a', 'message': 'Refactor nova-compute ceph-broker messaging\n\nAs per the motivations in\ncommit b1701e1b3174dcb06c05684319d6c73d6b2f509c, this patch\nrefactors the ceph-broker messaging part of nova-compute\ncharm.\n\nMost logic was moved to charm-helpers (synced here as well),\nand the logic in nova-compute charm is simplified.\n\nThe main noticeable difference in this patch is that\nfunctions is_broker_action_done and mark_broker_action_done\nare invoked passing the broker_rsp directly. The broker_rsp\nis present and obtainable whenever the request is found\ncomplete. The broker_rsp is obtained as get_request_states\nfunction iterates across all remote units in the relation,\nchecking if any has a broker response for a previous equivalent\nrequest.\n\nRelated-bug: #1835045\nChange-Id: I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa\n'}]",0,677818,32a808c685cfcc4b05ba9b3f467e963fe8602f5a,28,4,6,14567,,,0,"Refactor nova-compute ceph-broker messaging

As per the motivations in
commit b1701e1b3174dcb06c05684319d6c73d6b2f509c, this patch
refactors the ceph-broker messaging part of nova-compute
charm.

Most logic was moved to charm-helpers (synced here as well),
and the logic in nova-compute charm is simplified.

The main noticeable difference in this patch is that
functions is_broker_action_done and mark_broker_action_done
are invoked passing the broker_rsp directly. The broker_rsp
is present and obtainable whenever the request is found
complete. The broker_rsp is obtained as get_request_states
function iterates across all remote units in the relation,
checking if any has a broker response for a previous equivalent
request.

Related-bug: #1835045
Change-Id: I9bc4f07ba745b80c453b5d37b69bc572e8ee34aa
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/18/677818/6 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/storage/linux/ceph.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py']",3,88adbe52529cbd26baf03298e60fd679822d5c57,bug/1835045," get_broker_rsp_from_completed_request, send_request_if_needed, is_request_complete, states = get_request_states(request) if is_request_complete(request, states=states): log('Previous request of {} was completed.'.format(request.request_id), level=DEBUG) # broker), unless specifically queried for the given unit. Therefore # we will process the broker response regardless of the remote unit # context. broker_rsp = get_broker_rsp_from_completed_request( request, states=states) not is_broker_action_done('nova_compute_restart', broker_rsp)): mark_broker_action_done('nova_compute_restart', broker_rsp) else: send_request_if_needed(request, states=states)"," CephBrokerRsp, get_broker_rsp_key, get_previous_request,# TODO: Refactor this method moving part of this logic to charmhelpers, # refacting the existing ones. states = get_request_states(request, relation='ceph') complete = True sent = True # According to existing ceph broker messaging logic, we are expecting only # 1 rid. for rid in states.keys(): if not states[rid]['complete']: complete = False if not states[rid]['sent']: sent = False if not sent and not complete: break if complete: log('Previous request complete.') # broker), unless specifically queried for the given unit. Therefore, # we iterate across all units to find which has the broker response, # and we process the response regardless of this execution context. broker_rid, broker_unit = _get_broker_rid_unit_for_previous_request() # If we cannot determine which unit has the response, then it means # there is no response yet. if (broker_rid, broker_unit) == (None, None): log(""Aborting because there is no broker response "" ""for any unit at the moment."", level=DEBUG) return not is_broker_action_done('nova_compute_restart', broker_rid, broker_unit)): mark_broker_action_done('nova_compute_restart', broker_rid, broker_unit) else: if sent: log(""Request {} already sent, not sending "" ""another."".format(request.request_id), level=DEBUG) else: log(""Request {} not sent, sending it "" ""now."".format(request.request_id), level=DEBUG) for rid in relation_ids('ceph'): log('Sending request {}'.format(request.request_id), level=DEBUG) relation_set(relation_id=rid, broker_req=request.request) # TODO: Move this method to charmhelpers while refactoring the existing ones def _get_broker_rid_unit_for_previous_request(): """"""Gets the broker rid and unit combination that has a response for the previous sent request."""""" broker_key = get_broker_rsp_key() log(""Broker key is {}."".format(broker_key), level=DEBUG) for rid in relation_ids('ceph'): previous_request = get_previous_request(rid) for unit in related_units(rid): rdata = relation_get(rid=rid, unit=unit) if rdata.get(broker_key): rsp = CephBrokerRsp(rdata.get(broker_key)) if rsp.request_id == previous_request.request_id: log(""Found broker rid/unit: {}/{}"".format(rid, unit), level=DEBUG) return rid, unit log(""There is no broker response for any unit at the moment."", level=DEBUG) return None, None",158,212
openstack%2Fcharm-neutron-dynamic-routing~master~I6f4a26f4223bdc44049ead06f9a5d08c36e4acab,openstack/charm-neutron-dynamic-routing,master,I6f4a26f4223bdc44049ead06f9a5d08c36e4acab,Enable API TLS in the functional test,ABANDONED,2019-08-27 15:46:54.000000000,2022-01-04 11:43:35.000000000,,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-27 15:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/e78f675673122adb96b7d424816be316016156da', 'message': 'Enable API TLS in the functional test\n\nAdd vault to the functional test bundle and enable TLS on all\ncharms that support it.\n\nChange-Id: I6f4a26f4223bdc44049ead06f9a5d08c36e4acab\n'}, {'number': 2, 'created': '2019-08-28 04:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/17e9d88ecb9b5d9c427e1a7b4c2a137c4cb378c9', 'message': 'Enable API TLS in the functional test\n\nAdd vault to the functional test bundle and enable TLS on all\ncharms that support it.\n\nChange-Id: I6f4a26f4223bdc44049ead06f9a5d08c36e4acab\n'}, {'number': 3, 'created': '2019-08-28 11:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/88c84c23162b9baef164aa3179c31ecc752aa924', 'message': 'Enable API TLS in the functional test\n\n__NOTE__\nThis patch set includes a layer just to point to in-review\ndependencies in ``charms.openstack`` and ``layer-openstack``.\n\nThis allows to demonstrate the functional tests of a charm built\nfrom all the necessary bits.\n\nThe end result will of course not include the layer.\n__NOTE__\n\nAdd vault to the functional test bundle and enable TLS on all\ncharms that support it.\n\nChange-Id: I6f4a26f4223bdc44049ead06f9a5d08c36e4acab\n'}, {'number': 4, 'created': '2019-08-29 12:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/e16b6abca9f2195a3470a20c038920094ce2d567', 'message': 'Enable API TLS in the functional test\n\n__NOTE__\nThis patch set includes a layer just to point to in-review\ndependencies in ``charms.openstack`` and ``layer-openstack``.\n\nThis allows to demonstrate the functional tests of a charm built\nfrom all the necessary bits.\n\nThe end result will of course not include the layer.\n__NOTE__\n\nAdd vault to the functional test bundle and enable TLS on all\ncharms that support it.\n\nChange-Id: I6f4a26f4223bdc44049ead06f9a5d08c36e4acab\n'}, {'number': 5, 'created': '2019-09-03 10:14:58.000000000', 'files': ['src/tests/bundles/overlays/xenial-ocata-functional.yaml.j2', 'src/tests/bundles/overlays/bionic-rocky-functional.yaml.j2', 'src/tests/bundles/overlays/xenial-queens-functional.yaml.j2', 'src/tests/bundles/overlays/tls.j2', 'src/tests/bundles/overlays/bionic-stein-functional.yaml.j2', 'src/tests/bundles/overlays/bionic-queens-functional.yaml.j2', 'src/tests/bundles/overlays/xenial-pike-functional.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/overlays/disco-stein-functional.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/c1a95b7af817dafef5e489a6d7790487dead2b9e', 'message': 'Enable API TLS in the functional test\n\nAdd vault to the functional test bundle and enable TLS on all\ncharms that support it.\n\nChange-Id: I6f4a26f4223bdc44049ead06f9a5d08c36e4acab\n'}]",0,678888,c1a95b7af817dafef5e489a6d7790487dead2b9e,29,4,5,13686,,,0,"Enable API TLS in the functional test

Add vault to the functional test bundle and enable TLS on all
charms that support it.

Change-Id: I6f4a26f4223bdc44049ead06f9a5d08c36e4acab
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/88/678888/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/xenial-ocata-functional.yaml.j2', 'src/tests/bundles/overlays/bionic-rocky-functional.yaml.j2', 'src/tests/bundles/overlays/xenial-queens-functional.yaml.j2', 'src/tests/bundles/overlays/tls.j2', 'src/tests/bundles/overlays/bionic-stein-functional.yaml.j2', 'src/tests/bundles/overlays/bionic-queens-functional.yaml.j2', 'src/tests/bundles/overlays/xenial-pike-functional.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/overlays/disco-stein-functional.yaml.j2']",9,e78f675673122adb96b7d424816be316016156da,test-api-tls,tls.j2,,33,1
openstack%2Fcharm-specs~master~Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd,openstack/charm-specs,master,Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd,SR-IOV Port Live Migration,ABANDONED,2019-11-12 15:01:48.000000000,2022-01-04 11:43:33.000000000,,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/ea2fd21d71cfbf7500f3025b5dba4ff96e3e8511', 'message': 'SR-IOV Port Live Migration\n\nThis is to discuss of the Nova spec merged in train.\n\nChange-Id: Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-11-12 15:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/987ebd2fc6d6fa23318657e5b76bfc0501d90382', 'message': 'SR-IOV Port Live Migration\n\nThis is to discuss of the Nova spec merged in train.\n\nChange-Id: Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-11-13 08:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/3e7e879b5966026671eca3f417e4d6c8e3ce0baa', 'message': 'SR-IOV Port Live Migration\n\nThis is to discuss of the Nova spec merged in train.\n\nChange-Id: Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 4, 'created': '2019-12-20 11:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/73b227aa2ebb5ccb6bc91f466541b5ff271f8f7f', 'message': 'SR-IOV Port Live Migration\n\nThis is to discuss of the Nova spec merged in train.\n\nChange-Id: Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 5, 'created': '2020-01-13 09:55:47.000000000', 'files': ['specs/ussuri/approved/sriov-live-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/dbfb24a22492394965c06f8c12e881fd5b33c179', 'message': 'SR-IOV Port Live Migration\n\nThis is to discuss of the Nova spec merged in train.\n\nChange-Id: Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",4,693857,dbfb24a22492394965c06f8c12e881fd5b33c179,14,3,5,7730,,,0,"SR-IOV Port Live Migration

This is to discuss of the Nova spec merged in train.

Change-Id: Ibb50d67c2aa6856fd0204c968cbd30ef721ddccd
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/57/693857/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/sriov-live-migration.rst'],1,ea2fd21d71cfbf7500f3025b5dba4ff96e3e8511,sriov-live-migration,".. Copyright 2019 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ========================== SR-IOV Port Live Migration ========================== Recent change in Nova introduced ability to live migrate instances with SR-IOV ports. This spec is to dicuss and ensure suportability of that feature in a charm deployment. Problem Description =================== As an operator, I would like the ability to live migrate instances with SR-IOV ports attached without network connectivity disruption. Proposed Change =============== In OpenStack two kinds of SR-IOV mode are proposed, `direct` and `indirect`. - For direct mode which includes to passthrough the physical devices `vnic_type=direct` or virtual functions `vnic_type=direct-physical`, The user will have to allocate an extra net-device and bond them within the guest. The purpose here is to write an understandable and production-ready documentation to explain the workflow. - For indirect mode which includes usage of mechanism like macvtap `vnic_type=macvtap` or virtio-forwarder `vnic_type=virtioforward`. The migration should be trasnparent and no disuption are expected. The support of this feature will be considered as tech-preview for Ubuntu 19.10/Train and production-ready for Ubuntu 20.04LTS/Ussuri No changes are expected to any of the charms. The aim here is to validate behavior and provide additional documentations. Alternatives ------------ For SR-IOV mode direct, net_failover [0] could have transparently resolved the network connectivity disruption. Nova does not have plan to implement it (short-term). [0] https://www.kernel.org/doc/html/latest/networking/net_failover.html Implementation ============== Assignee(s) ----------- Primary assignee: Sahid Orentino Ferdjaoui <lp:sahid-ferdjaoui> Gerrit Topic ------------ Use Gerrit topic ""sriov-live-migration"" for all patches related to this spec. .. code-block:: bash git-review -t sriov-live-migration Work Items ---------- The implementation consists of the following items: - Validate behavior using direct mode: direct/direct-physical. - Validate behavior using indirect mode: macvtap (virtio-forwared would be not supported) - Write user documentation to avoid losing network connectivity during the migration of SR-IOV mode direct, that by attaching to the instance a migratable port and create a bond within the guest. Repositories ------------ - charm-guide Documentation ------------- n/a Security -------- n/a Testing ------- n/a Dependencies ============ - See supported SR-IOV devices [0]. [0] https://docs.openstack.org/neutron/latest/admin/config-sriov ",,116,0
openstack%2Fcharm-ceph-osd~master~I1b2baf0c21a831030f8d1ce1a6cfffa46ce59fa3,openstack/charm-ceph-osd,master,I1b2baf0c21a831030f8d1ce1a6cfffa46ce59fa3,Allow a ceph-osd unit to be removed from a cluster,ABANDONED,2019-05-16 11:44:28.000000000,2022-01-04 11:43:31.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 11:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e72264e2d279aebd91f37b60bd4374796e05840d', 'message': 'Allow a ceph-osd unit to be removed from a cluster\n\nBecause of the dangerous nature of an OSD removal, this\nchange introduces a new action, prepare-for-destruction,\nthat performs most of the disk removal. The only task\nperformed in the stop hook is to disable and stop the\nceph-osd processes.\n\nChange-Id: I1b2baf0c21a831030f8d1ce1a6cfffa46ce59fa3\nCloses-Bug: #1629679\n'}, {'number': 2, 'created': '2020-01-31 07:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9ceb483b3c0b7b407c30ba61943b03d9ed3d680e', 'message': 'Allow a ceph-osd unit to be removed from a cluster\n\nBecause of the dangerous nature of an OSD removal, this\nchange introduces a new action, prepare-for-destruction,\nthat performs most of the disk removal. The only task\nperformed in the stop hook is to disable and stop the\nceph-osd processes.\n\nChange-Id: I1b2baf0c21a831030f8d1ce1a6cfffa46ce59fa3\nCloses-Bug: #1629679\nDepends-On: I62e5cff169ea1ed2c5707156f5eb035206fbd410\n'}, {'number': 3, 'created': '2020-01-31 08:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/55172b7d82ed20f6870052ccfb3ae26894832f49', 'message': 'Allow a ceph-osd unit to be removed from a cluster\n\nBecause of the dangerous nature of an OSD removal, this\nchange introduces a new action, prepare-for-destruction,\nthat performs most of the disk removal. The only task\nperformed in the stop hook is to disable and stop the\nceph-osd processes.\n\nChange-Id: I1b2baf0c21a831030f8d1ce1a6cfffa46ce59fa3\nCloses-Bug: #1629679\nDepends-On: I62e5cff169ea1ed2c5707156f5eb035206fbd410\n'}, {'number': 4, 'created': '2020-01-31 08:54:37.000000000', 'files': ['hooks/ceph_hooks.py', 'tests/tests.yaml', 'actions/prepare_for_destruction.py', 'test-requirements.txt', 'lib/ceph/utils.py', 'actions/prepare-for-destruction', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/07e02d6257b2d1eda9b03462c71cfe9407472dca', 'message': 'Allow a ceph-osd unit to be removed from a cluster\n\nBecause of the dangerous nature of an OSD removal, this\nchange introduces a new action, prepare-for-destruction,\nthat performs most of the disk removal. The only task\nperformed in the stop hook is to disable and stop the\nceph-osd processes.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/326\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/164\nChange-Id: I1b2baf0c21a831030f8d1ce1a6cfffa46ce59fa3\nCloses-Bug: #1629679\nDepends-On: I62e5cff169ea1ed2c5707156f5eb035206fbd410\nDepends-On: https://github.com/openstack-charmers/zaza/pull/326\nDepends-On: https://github.com/openstack-charmers/zaza-openstack-tests/pull/164\n'}]",0,659536,07e02d6257b2d1eda9b03462c71cfe9407472dca,15,3,4,20634,,,0,"Allow a ceph-osd unit to be removed from a cluster

Because of the dangerous nature of an OSD removal, this
change introduces a new action, prepare-for-destruction,
that performs most of the disk removal. The only task
performed in the stop hook is to disable and stop the
ceph-osd processes.

func-test-pr: https://github.com/openstack-charmers/zaza/pull/326
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/164
Change-Id: I1b2baf0c21a831030f8d1ce1a6cfffa46ce59fa3
Closes-Bug: #1629679
Depends-On: I62e5cff169ea1ed2c5707156f5eb035206fbd410
Depends-On: https://github.com/openstack-charmers/zaza/pull/326
Depends-On: https://github.com/openstack-charmers/zaza-openstack-tests/pull/164
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/36/659536/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'hooks/ceph_hooks.py', 'actions/prepare_for_destruction.py', 'lib/ceph/utils.py', 'actions/prepare-for-destruction', 'actions.yaml']",6,e72264e2d279aebd91f37b60bd4374796e05840d,bug/1629679,"prepare-for-destruction: description: | \ USE WITH CAUTION - Remove all OSDs on this machine from the crushmap, delete their authentication keys with the monitor cluster. This action is designed to ease removing a deployed ceph-osd unit from a ceph cluster and can easily result in the deletion of data, or the over-provision of remaining storage. params: i-really-mean-it: type: boolean description: | This must be toggled to enable actually performing this action required: - i-really-mean-it",,152,0
openstack%2Fcharm-openstack-dashboard~master~I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973,openstack/charm-openstack-dashboard,master,I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973,Ensure that Apache helpers handle certificates via the certificate relation,ABANDONED,2020-03-02 15:45:31.000000000,2022-01-04 11:43:29.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-03-02 15:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/680dfc8ca7967afedbd24c7d5825d7cf7da5fc3b', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nCloses-Bug: #1846189\n'}, {'number': 2, 'created': '2020-03-03 07:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f8a28c2d26bcc594c600d56d6e4aee4e1bf52824', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nCloses-Bug: #1846189\n'}, {'number': 3, 'created': '2020-03-03 08:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/a0ac8ef1c6cb87dd2f486cd7f2d136187203236c', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nCloses-Bug: #1846189\n'}, {'number': 4, 'created': '2020-03-06 10:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/643e7a0c27621f45d195642a42033f0324ad3222', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nCloses-Bug: #1846189\n'}, {'number': 5, 'created': '2020-03-06 13:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/39d0da43ae3873f7b2e22023325741d871a6c1da', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nCloses-Bug: #1846189\n'}, {'number': 6, 'created': '2020-03-06 14:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/68eda1dfd35f7b960da588f524bdd7453a94e7a6', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nCloses-Bug: #1846189\n'}, {'number': 7, 'created': '2020-04-21 12:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/1ffa48d5d1a2daf6dbc126bbb3f191391188cefc', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/244\nCloses-Bug: #1846189\n'}, {'number': 8, 'created': '2020-04-28 06:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/dd5b1ad2e1a1c38ffae2b5d97afd96279c3e24dc', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/244\nCloses-Bug: #1846189\n'}, {'number': 9, 'created': '2020-04-28 07:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f1ac41af7722bb827c4986e4043ca763df9cb27b', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/244\nCloses-Bug: #1846189\n'}, {'number': 10, 'created': '2020-04-28 07:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/64c7e55a6c33ee584ba61d2a78503687b0655d96', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/244\nCloses-Bug: #1846189\n'}, {'number': 11, 'created': '2020-04-28 11:46:08.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'charmhelpers/contrib/openstack/utils.py', 'tests/bundles/xenial-ocata.yaml', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/eoan-train.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'charmhelpers/contrib/openstack/vaultlocker.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/58059a829296af6ac2aaa652fe52d32feb62de71', 'message': 'Ensure that Apache helpers handle certificates via the certificate relation\n\nDepends-On: https://github.com/juju/charm-helpers/pull/437\nChange-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/244\nCloses-Bug: #1846189\n'}]",2,710805,58059a829296af6ac2aaa652fe52d32feb62de71,62,4,11,20634,,,0,"Ensure that Apache helpers handle certificates via the certificate relation

Depends-On: https://github.com/juju/charm-helpers/pull/437
Change-Id: I58dfd71b46d5fc4ec46eec4fe1e678ff8a5a8973
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/244
Closes-Bug: #1846189
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/05/710805/7 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/hahelpers/apache.py']",2,680dfc8ca7967afedbd24c7d5825d7cf7da5fc3b,bug/1846189,"import charmhelpers.contrib.openstack.cert_utils as cert_utils if not (cert and key): entries = cert_utils.get_requests_for_local_unit() for entry in entries: for _cn, bundle in entry['certs'].items(): return (bundle['cert'], bundle['key']) if ca_cert is None: entries = cert_utils.get_requests_for_local_unit() for entry in entries: return entry['ca']",,12,4
openstack%2Fcharm-neutron-api~master~Ib8c9f9a8cedb58edb1f272ef975460f6b4113833,openstack/charm-neutron-api,master,Ib8c9f9a8cedb58edb1f272ef975460f6b4113833,Added config 'notifications-driver' via context 'oslo_messaging_driver' to support setting notifications_driver in neutron.conf,ABANDONED,2020-05-14 19:13:02.000000000,2022-01-04 11:43:26.000000000,,"[{'_account_id': 10068}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 19:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/040d52e4b42e77d905a60b18a65e37be38a308e2', 'message': ""Added config 'notifications-driver' via context 'oslo_messaging_driver' to support setting notifications_driver in neutron.conf\n\nChange-Id: Ib8c9f9a8cedb58edb1f272ef975460f6b4113833\n""}, {'number': 2, 'created': '2020-05-14 20:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/02463b5fc8a3be82fa63ab6f56d1022fbebfda66', 'message': ""Added config 'notifications-driver' via context 'oslo_messaging_driver'\nto support setting notifications_driver in neutron.conf\n\nChange-Id: Ib8c9f9a8cedb58edb1f272ef975460f6b4113833\nCloses-Bug: #1808998\n""}, {'number': 3, 'created': '2020-05-19 16:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/479e7c4c4a52f14d84991c2f20a5d02abf72b937', 'message': ""Added config 'notifications-driver' via context 'oslo_messaging_driver'\nto support setting notifications_driver in neutron.conf\n\nChange-Id: Ib8c9f9a8cedb58edb1f272ef975460f6b4113833\nCloses-Bug: #1808998\n""}, {'number': 4, 'created': '2020-05-19 16:45:39.000000000', 'files': ['hooks/neutron_api_context.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5d2f18a7dc178c54addb8f184d8b8471038d5cf2', 'message': ""Added config 'notifications-driver' via context 'oslo_messaging_driver'\nto support setting notifications_driver in neutron.conf\n\nChange-Id: Ib8c9f9a8cedb58edb1f272ef975460f6b4113833\nCloses-Bug: #1808998\n""}]",16,728260,5d2f18a7dc178c54addb8f184d8b8471038d5cf2,13,3,4,31516,,,0,"Added config 'notifications-driver' via context 'oslo_messaging_driver'
to support setting notifications_driver in neutron.conf

Change-Id: Ib8c9f9a8cedb58edb1f272ef975460f6b4113833
Closes-Bug: #1808998
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/60/728260/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_context.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/context.py']",3,040d52e4b42e77d905a60b18a65e37be38a308e2,," 'oslo-messaging-driver', None)","DEFAULT_OSLO_MESSAGING_DRIVER = ""messagingv2"" 'oslo-messaging-driver', DEFAULT_OSLO_MESSAGING_DRIVER)",21,3
openstack%2Fcharm-nova-compute~master~I25598b5282dc1a585e1fc889ebac10810806e411,openstack/charm-nova-compute,master,I25598b5282dc1a585e1fc889ebac10810806e411,Add ceph-broker messaging functional tests,ABANDONED,2019-09-03 21:03:52.000000000,2022-01-04 11:43:24.000000000,,"[{'_account_id': 935}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-03 21:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d5e031ad0fb45f72b711d348dcca2010a6818205', 'message': '[WIP] Add ceph nodes to nova-compute CI\n\nWIP\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}, {'number': 2, 'created': '2019-09-04 12:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c7fb2538c981f8ab13c29dc69c3dd0869ac557fb', 'message': '[WIP] Add ceph nodes to nova-compute CI\n\nWIP\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}, {'number': 3, 'created': '2019-09-05 19:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4e518d8177b9c9804571a706d6a5d9ea67f54d91', 'message': 'Add ceph-broker messaging functional tests\n\nThis patch adds ceph nodes to the deployment created\nby the CI to run functional tests:\n\n- 3 ceph-mons\n- 3 ceph-osds\n\nIt also adds 3 new tests:\n\n- Test to make sure ceph broker messaging is being\n  processed correctly.\n- Test to make sure there are not additional restarts\n  caused by invoking a config-changed hook without changes.\n- Test to make sure there are not additional restarts\n  caused by invoking ceph-relation-changed without changes.\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}, {'number': 4, 'created': '2019-09-06 13:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0110c3b434c83fffd7569b53ee36e561e6969d10', 'message': 'Add ceph-broker messaging functional tests\n\nThis patch adds ceph nodes to the deployment created\nby the CI to run functional tests:\n\n- 3 ceph-mons\n- 3 ceph-osds\n\nIt also adds 3 new tests:\n\n- Test to make sure ceph broker messaging is being\n  processed correctly.\n- Test to make sure there are not additional restarts\n  caused by invoking a config-changed hook without changes.\n- Test to make sure there are not additional restarts\n  caused by invoking ceph-relation-changed without changes.\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}, {'number': 5, 'created': '2019-09-06 19:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e78921c527ab285c7e6b459a684a3fc6bd05c53f', 'message': 'Add ceph-broker messaging functional tests\n\nThis patch adds ceph nodes to the deployment created\nby the CI to run functional tests:\n\n- 3 ceph-mons\n- 3 ceph-osds\n\nIt also adds 3 new tests:\n\n- Test to make sure ceph broker messaging is being\n  processed correctly.\n- Test to make sure there are not additional restarts\n  caused by invoking a config-changed hook without changes.\n- Test to make sure there are not additional restarts\n  caused by invoking ceph-relation-changed without changes.\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}, {'number': 6, 'created': '2019-11-15 00:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d5f2e911217a55cd5e5162f929c41b19e314ddf3', 'message': 'Add ceph-broker messaging functional tests\n\nThis patch adds ceph nodes to the deployment created\nby the CI to run functional tests:\n\n- 3 ceph-mons\n- 3 ceph-osds\n\nIt also adds 3 new tests:\n\n- Test to make sure ceph broker messaging is being\n  processed correctly.\n- Test to make sure there are not additional restarts\n  caused by invoking a config-changed hook without changes.\n- Test to make sure there are not additional restarts\n  caused by invoking ceph-relation-changed without changes.\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}, {'number': 7, 'created': '2019-11-29 14:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e873029c2a593f502255d31213dabe21f441aeb4', 'message': 'Add ceph-broker messaging functional tests\n\nThis patch adds ceph nodes to the deployment created\nby the CI to run functional tests:\n\n- 3 ceph-mons\n- 3 ceph-osds\n\nIt also adds 3 new tests:\n\n- Test to make sure ceph broker messaging is being\n  processed correctly.\n- Test to make sure there are not additional restarts\n  caused by invoking a config-changed hook without changes.\n- Test to make sure there are not additional restarts\n  caused by invoking ceph-relation-changed without changes.\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}, {'number': 8, 'created': '2020-05-20 21:31:38.000000000', 'files': ['tests/bundles/bionic-queens-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ee4d9b9e176e60d225d952f496762193c5f12bbd', 'message': 'Add ceph-broker messaging functional tests\n\nThis patch adds ceph nodes to the deployment created\nby the CI to run functional tests with RBD backend:\n\n- 3 ceph-mons\n- 3 ceph-osds\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/292\n\nChange-Id: I25598b5282dc1a585e1fc889ebac10810806e411\n'}]",1,679861,ee4d9b9e176e60d225d952f496762193c5f12bbd,42,4,8,14567,,,0,"Add ceph-broker messaging functional tests

This patch adds ceph nodes to the deployment created
by the CI to run functional tests with RBD backend:

- 3 ceph-mons
- 3 ceph-osds

Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/292

Change-Id: I25598b5282dc1a585e1fc889ebac10810806e411
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/61/679861/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,d5e031ad0fb45f72b711d348dcca2010a6818205,bug/1835045," {'name': 'ceph-mon'}, {'name': 'ceph-osd'} 'glance:amqp': 'rabbitmq-server:amqp', 'cinder-ceph:ceph': 'ceph-mon:client', 'glance:ceph': 'ceph-mon:client', 'nova-compute:ceph': 'ceph-mon:client', 'nova-compute:ceph-access': 'cinder-ceph:ceph-access', 'cinder:storage-backend': 'cinder-ceph:storage-backend', 'ceph-osd:mon': 'ceph-mon:osd', ceph_mon_config = { 'loglevel': 10, 'monitor-count': 3, 'expected-osd-count': 3, 'monitor-secret': 'AQCXrnZQwI7KGBAAiPofmKEXKxu5bUzoYLVkbQ==', } ceph_osd_config = { 'loglevel': 10, 'osd-devices': '', } 'ceph-mon': ceph_mon_config, 'ceph-osd': ceph_osd_config, def test_1000_ceph_broker_message_delivered(self): nova_sentry = self.nova_compute_sentry nova_unit_name = '{service}/{unit}'.format(**nova_sentry.info) nova_sentry.relation('ceph', 'ceph-mon:mon') delivered = False for ceph_sentry in self.d.sentry['ceph-mon']: output = ceph_sentry.relation('client', 'nova-compute:ceph') if ('broker-rsp-{}'.format(nova_unit_name.replace('/', '-')) in output.keys()): delivered = True break if not delivered: msg = ""Ceph broker message was not delivered successfully"" amulet.raise_status(amulet.FAIL, msg=msg) def test_1001_ceph_config_changed_cause_restarts(self): """"""Verify service is not restarted on config-changed hook."""""" self._test_hook_cause_restarts('config-changed') def test_1002_ceph_relation_changed_cause_restarts(self): """"""Verify service is not restarted on ceph-relation-changed hook."""""" self._test_hook_cause_restarts('ceph-relation-changed') def _test_hook_cause_restarts(self, hook): sentry = self.nova_compute_sentry # Make config change, check for service restarts u.log.debug('Invoking config-changed hook on nova-compute...') mtime = u.get_sentry_time(sentry) u.run_cmd_unit(sentry, './hooks/{}'.format(hook)) self._auto_wait_for_status(exclude_services=self.exclude_services) # wait 30 seconds after idle to make sure it is not yet to restart restarted = u.service_restarted_since( sentry, mtime, 'nova-compute', sleep_time=0, retry_sleep_time=0.5, retry_count=60) if restarted: msg = ""service nova-compute restarted after config-changed"" amulet.raise_status(amulet.FAIL, msg=msg)", 'glance:amqp': 'rabbitmq-server:amqp',64,1
openstack%2Fcharm-octavia~master~I4892a0103d55fb7b4140a32c9e837408e4ed2562,openstack/charm-octavia,master,I4892a0103d55fb7b4140a32c9e837408e4ed2562,introduce sdn-subordinate relation,ABANDONED,2020-04-22 16:24:44.000000000,2022-01-04 11:43:22.000000000,,"[{'_account_id': 9312}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-22 16:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/44d26c721500cec540378039dd29fc59a5fbda8d', 'message': ""introduce sdn-subordinate relation\n\nrename specific ovsdb-subordinate relation to sdn-subordinate\nand do things that are specific to ovn only for sdn_type == 'ovn'\n\nIt will allow to relate other sdn-s like contrail. Cause other sdn-s\ndo not need to manage host with ovsctl then such things should be\nskipped. Other sdn-s can configure host as they require.\n\nChange-Id: I4892a0103d55fb7b4140a32c9e837408e4ed2562\n""}, {'number': 2, 'created': '2020-04-22 16:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e48bdb6462a8495c1b8aaff11be6e2472903aec0', 'message': ""introduce sdn-subordinate relation\n\nrename specific ovsdb-subordinate relation to sdn-subordinate\nand do things that are specific to ovn only for sdn_type == 'ovn'\n\nIt will allow to relate other sdn-s like contrail. Cause other sdn-s\ndo not need to manage host with ovsctl then such things should be\nskipped. Other sdn-s can configure host as they require.\n\nChange-Id: I4892a0103d55fb7b4140a32c9e837408e4ed2562\n""}, {'number': 3, 'created': '2020-04-22 17:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5bed17e0beef9238502d8cf5dbbeed5709faf202', 'message': ""introduce sdn-subordinate relation\n\nrename specific ovsdb-subordinate relation to sdn-subordinate\nand do things that are specific to ovn only for sdn_type == 'ovn'\n\nIt will allow to relate other sdn-s like contrail. Cause other sdn-s\ndo not need to manage host with ovsctl then such things should be\nskipped. Other sdn-s can configure host as they require.\n\nChange-Id: I4892a0103d55fb7b4140a32c9e837408e4ed2562\n""}, {'number': 4, 'created': '2020-04-23 08:45:16.000000000', 'files': ['src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/metadata.yaml', 'src/actions/actions.py', 'src/templates/ussuri/octavia.conf', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/cdda7267fc18fc8581bd4cc09cfa4045269b9a96', 'message': ""introduce sdn-subordinate relation\n\nrename specific ovsdb-subordinate relation to sdn-subordinate\nand do things that are specific to ovn only for sdn_type == 'ovn'\n\nIt will allow to relate other sdn-s like contrail. Cause other sdn-s\ndo not need to manage host with ovsctl then such things should be\nskipped. Other sdn-s can configure host as they require.\n\nChange-Id: I4892a0103d55fb7b4140a32c9e837408e4ed2562\n""}]",1,722071,cdda7267fc18fc8581bd4cc09cfa4045269b9a96,15,4,4,10234,,,0,"introduce sdn-subordinate relation

rename specific ovsdb-subordinate relation to sdn-subordinate
and do things that are specific to ovn only for sdn_type == 'ovn'

It will allow to relate other sdn-s like contrail. Cause other sdn-s
do not need to manage host with ovsctl then such things should be
skipped. Other sdn-s can configure host as they require.

Change-Id: I4892a0103d55fb7b4140a32c9e837408e4ed2562
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/71/722071/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/metadata.yaml', 'src/actions/actions.py', 'src/layer.yaml']",6,44d26c721500cec540378039dd29fc59a5fbda8d,, - interface:sdn-subordinate, - interface:ovsdb-subordinate,28,20
openstack%2Fcharm-nova-compute~master~I8bc607976bc9fd371c92ee63fac2c3adec6a4322,openstack/charm-nova-compute,master,I8bc607976bc9fd371c92ee63fac2c3adec6a4322,Add automated deployment of EC pools,ABANDONED,2020-06-01 11:33:49.000000000,2022-01-04 11:43:20.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-01 11:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/5e1e93543782c0d57b668e71a6cfff3435f8ac75', 'message': 'Add automated deployment of EC pools\n\nRight now, charm-helpers does not provide an\nend-to-end way to automate EC pool deployment.\nCharms cannot request operations such as adding\na new erasure-code-profile or allow_ec_overwrite.\n\nThis change introduces options to configure EC\npools and how that should be treated by\nget_ceph_request() method and communicated to\nCephBroker.\n\nChange-Id: I8bc607976bc9fd371c92ee63fac2c3adec6a4322\n'}, {'number': 2, 'created': '2020-06-18 08:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/5d0e996db1bd9b0036f97dad625c6ad0b4ba6302', 'message': 'Add automated deployment of EC pools\n\nRight now, charm-helpers does not provide an\nend-to-end way to automate EC pool deployment.\nCharms cannot request operations such as adding\na new erasure-code-profile or allow_ec_overwrite.\n\nThis change introduces options to configure EC\npools and how that should be treated by\nget_ceph_request() method and communicated to\nCephBroker.\n\nChange-Id: I8bc607976bc9fd371c92ee63fac2c3adec6a4322\n'}, {'number': 3, 'created': '2020-06-18 16:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/cd41b2f3fcd08be84f1463c4b1d7f19c0c9a4370', 'message': 'Add automated deployment of EC pools\n\nRight now, charm-helpers does not provide an\nend-to-end way to automate EC pool deployment.\nCharms cannot request operations such as adding\na new erasure-code-profile or allow_ec_overwrite.\n\nThis change introduces options to configure EC\npools and how that should be treated by\nget_ceph_request() method and communicated to\nCephBroker.\n\nChange-Id: I8bc607976bc9fd371c92ee63fac2c3adec6a4322\n'}, {'number': 4, 'created': '2020-06-18 16:49:13.000000000', 'files': ['hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/10.hardcore.conf', 'hooks/charmhelpers/contrib/hardening/mysql/__init__.py', 'hooks/charmhelpers/contrib/hardening/defaults/mysql.yaml', 'hooks/nova_compute_hooks.py', 'hooks/charmhelpers/core/host_factory/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/cli/commands.py', 'hooks/charmhelpers/contrib/storage/__init__.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/fetch/bzrurl.py', 'hooks/charmhelpers/contrib/openstack/ha/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/section-zeromq', 'hooks/charmhelpers/fetch/python/rpdb.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/sshd_config', 'hooks/charmhelpers/contrib/hardening/host/templates/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/contrib/hardening/host/templates/passwdqc.conf', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/tally2', 'hooks/charmhelpers/payload/execd.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/contrib/hardening/defaults/ssh.yaml', 'hooks/charmhelpers/core/decorators.py', 'hooks/charmhelpers/contrib/hardening/mysql/templates/hardening.cnf', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/__init__.py', 'hooks/charmhelpers/contrib/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/git.upstart', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/openstack/templates/section-placement', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/charmhelpers/cli/host.py', 'hooks/charmhelpers/cli/benchmark.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-juju-hardening.conf', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-legacy', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-middleware', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/logrotate', 'hooks/charmhelpers/contrib/hardening/host/templates/securetty', 'hooks/charmhelpers/contrib/openstack/templates/memcached.conf', 'hooks/charmhelpers/cli/hookenv.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/core/services/__init__.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/suid_sgid.py', 'hooks/charmhelpers/contrib/network/ufw.py', 'hooks/charmhelpers/contrib/openstack/ip.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/charmsupport/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/section-rabbitmq-oslo', 'hooks/charmhelpers/fetch/python/version.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/hardening/mysql/templates/__init__.py', 'hooks/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/__init__.py', 'hooks/charmhelpers/core/kernel.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'hooks/charmhelpers/contrib/hardening/host/templates/pinerolo_profile.sh', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/core/hugepage.py', 'hooks/charmhelpers/contrib/storage/linux/__init__.py', 'hooks/charmhelpers/core/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/files/__init__.py', 'hooks/charmhelpers/contrib/openstack/files/check_haproxy_queue_depth.sh', 'hooks/charmhelpers/fetch/python/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/charmhelpers/payload/archive.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/ssh_migrations.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/fetch/giturl.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/charmsupport/volumes.py', 'hooks/charmhelpers/core/files.py', 'hooks/charmhelpers/contrib/hardening/host/checks/apt.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/contrib/network/ovs/ovn.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'hooks/charmhelpers/contrib/hardening/defaults/ssh.yaml.schema', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/network/ovs/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/openstack/templates/ceph.conf', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/network/__init__.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/alias.conf', 'hooks/charmhelpers/contrib/hardening/host/__init__.py', 'hooks/charmhelpers/core/services/helpers.py', 'hooks/charmhelpers/payload/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/contrib/hardening/host/checks/minimize_access.py', 'hooks/charmhelpers/cli/unitdata.py', 'hooks/charmhelpers/contrib/hardening/host/checks/securetty.py', 'hooks/charmhelpers/core/kernel_factory/__init__.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/defaults/__init__.py', 'hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hardening/host/checks/limits.py', 'hooks/charmhelpers/core/fstab.py', 'hooks/charmhelpers/contrib/hardening/host/templates/login.defs', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/hardening/__init__.py', 'hooks/charmhelpers/contrib/openstack/amulet/__init__.py', 'hooks/charmhelpers/contrib/hahelpers/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-cache', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/openstack/files/check_haproxy.sh', 'hooks/charmhelpers/contrib/hardening/ssh/templates/ssh_config', 'hooks/charmhelpers/contrib/openstack/templates/vendor_data.json', 'hooks/charmhelpers/core/templating.py', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/contrib/openstack/alternatives.py', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'hooks/charmhelpers/contrib/openstack/templates/__init__.py', 'hooks/charmhelpers/contrib/hardening/defaults/mysql.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/pam.py', 'hooks/charmhelpers/contrib/openstack/__init__.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/modules', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hardening/README.hardening.md', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/bcache.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/core/kernel_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/host/checks/__init__.py', 'hooks/charmhelpers/contrib/openstack/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/fb9147040401698d6002f248e6a092a395f74023', 'message': 'Add automated deployment of EC pools\n\nRight now, charm-helpers does not provide an\nend-to-end way to automate EC pool deployment.\nCharms cannot request operations such as adding\na new erasure-code-profile or allow_ec_overwrite.\n\nThis change introduces options to configure EC\npools and how that should be treated by\nget_ceph_request() method and communicated to\nCephBroker.\n\nChange-Id: I8bc607976bc9fd371c92ee63fac2c3adec6a4322\n'}]",8,732162,fb9147040401698d6002f248e6a092a395f74023,12,3,4,28510,,,0,"Add automated deployment of EC pools

Right now, charm-helpers does not provide an
end-to-end way to automate EC pool deployment.
Charms cannot request operations such as adding
a new erasure-code-profile or allow_ec_overwrite.

This change introduces options to configure EC
pools and how that should be treated by
get_ceph_request() method and communicated to
CephBroker.

Change-Id: I8bc607976bc9fd371c92ee63fac2c3adec6a4322
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/62/732162/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_hooks.py', 'config.yaml']",2,5e1e93543782c0d57b668e71a6cfff3435f8ac75,," pool-type: default: ""replicated"" type: string description: | If set to ""erasure-coded"", nova-compute charm will create 2 pools, one for metadata (replicated) and another for actual data (with erasure code enabled). Any other value will make the charm set it as “replicated”. For EC, K+M factor is defined on the ec-profile-{k,m} configs. ec-profile-name: default: type: string description: | Name for the erasure-code-profile to be created for EC pools. If not defined, value will default to rbd pool name value and ""-profile"" appended. ec-rbd-data-pool: default: type: string description: | Name for the erasure-code-profile to be created for EC pools. Only alphanumeric characters or dashes should be inserted. If not defined, value will default to rbd pool name value and ""-data"" appended. ec-profile-k: default: 1 type: int description: | Number of data chunks that will be used for EC data pool. K+M factors should never be greater than number of available AZs for balancing. ec-profile-m: default: 2 type: int description: | Number of coding chunks that will be used for EC data pool. K+M factors should never be greater than number of available AZs for balancing. ec-profile-extra-chunk: default: 0 type: int description: | Ceph counts with multiple Erasure Coding plugins, which are used to calculate where the chunks should be placed. Most of those plugins have a third type of chunk for the purposes of its own balancing, e.g. LRC and ""l""-chunk. For jerasure and isa plugin, this value will be ignored. For lrc, this will define the l parameter, which define how many chunks are needed to read before recovering from a object loss (instead of reading from other hosts). For SHEC, this is the ""c"" parameter and corresponds to the number of OSDs that can go down before losing data. For CLAY, this is the ""d"" parameter and corresponds to the number of OSDs contacted in recovery time. ec-profile-plugin: default: jerasure type: string description: | EC plugins available for this deployment. The following list of plugins acceptable: jerasure, lrc, isa, shec, clay. ec-profile-technique: default: reed_sol_van type: string description: | EC profile technique used for this deployment.",,97,5
openstack%2Fcharm-manila-ganesha~master~I919f80e56b4a6a5e0789e2986ff41a6172542a93,openstack/charm-manila-ganesha,master,I919f80e56b4a6a5e0789e2986ff41a6172542a93,Use corosync status for service monitor,ABANDONED,2020-05-26 14:39:48.000000000,2022-01-04 11:43:17.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-26 14:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/e8f96561bd349d53a52c9e04339beb09efe835b0', 'message': 'Use corosync status for service monitor\n\nChange-Id: I919f80e56b4a6a5e0789e2986ff41a6172542a93\n'}, {'number': 2, 'created': '2020-05-27 06:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/4783b553d5a780991cafffc239351c173b313752', 'message': 'Use corosync status for service monitor\n\nChange-Id: I919f80e56b4a6a5e0789e2986ff41a6172542a93\n'}, {'number': 3, 'created': '2020-07-16 11:28:28.000000000', 'files': ['src/lib/charm/openstack/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/8dea35422b18456d9ac1ce3548cb254b5782772f', 'message': 'Use corosync status for service monitor\n\nChange-Id: I919f80e56b4a6a5e0789e2986ff41a6172542a93\n'}]",1,730839,8dea35422b18456d9ac1ce3548cb254b5782772f,12,3,3,20634,,,0,"Use corosync status for service monitor

Change-Id: I919f80e56b4a6a5e0789e2986ff41a6172542a93
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/39/730839/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila_ganesha.py'],1,e8f96561bd349d53a52c9e04339beb09efe835b0,bug/1867358,"import subprocess services = [] # services for this charm are managed by corosync def custom_assess_status_last_check(self): # crm resource status res_nfs_ganesha_nfs_ganesha svcs = [] resource = 'res_manila_share_manila_share' (_, output) = subprocess.getstatusoutput( ""crm resource status {}"".format(resource)) manila_share = output.startswith( ""resource {} is running"".format(resource)) if not manila_share: log(""manila-share is down: {}"".format(output)) svcs.append('manila-share') resource = 'res_nfs_ganesha_nfs_ganesha' (_, output) = subprocess.getstatusoutput( ""crm resource status {}"".format(resource)) ganesha = output.startswith(""resource {} is running"".format(resource)) if not ganesha: log(""ganesha is down: {}"".format(output)) svcs.append('ganesha') if not svcs: return None, None else: return ( 'blocked', 'Services not running that should be: {}'.format( ', '.join(svcs)) ) "," # ceph_key_per_unit_name = True services = [ # 'nfs-ganesha', # 'manila-share', ]",29,5
openstack%2Fcharm-specs~master~Ib280f02443d74d272a0d8ba53305bbdd75d42a6b,openstack/charm-specs,master,Ib280f02443d74d272a0d8ba53305bbdd75d42a6b,Add spec for Ceph with Cross Model Relations,ABANDONED,2020-07-17 11:12:53.000000000,2022-01-04 11:43:15.000000000,,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/3c2ad754e6aeab4c9d7e77bf1f9ede1a6bf35810', 'message': 'Add spec for Ceph with Cross Model Relations\n\nAlso fixes to gnocchi-s3 spec which was failing lint checks.\n\nChange-Id: Ib280f02443d74d272a0d8ba53305bbdd75d42a6b\n'}, {'number': 2, 'created': '2020-07-21 15:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/50534fa193ec26290567fa2df3fa7a1eb82317e0', 'message': 'Add spec for Ceph with Cross Model Relations\n\nAlso fixes to gnocchi-s3 spec which was failing lint checks.\n\nChange-Id: Ib280f02443d74d272a0d8ba53305bbdd75d42a6b\n'}, {'number': 3, 'created': '2020-07-21 19:14:17.000000000', 'files': ['specs/ussuri/approved/ceph-cmr.rst', 'specs/ussuri/approved/gnocchi-s3.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/5d2302da4f8e73aab0adbbc595dbd9d70bcc2d51', 'message': 'Add spec for Ceph with Cross Model Relations\n\nAlso fixes to gnocchi-s3 spec which was failing lint checks.\n\nChange-Id: Ib280f02443d74d272a0d8ba53305bbdd75d42a6b\n'}]",1,741615,5d2302da4f8e73aab0adbbc595dbd9d70bcc2d51,8,2,3,12549,,,0,"Add spec for Ceph with Cross Model Relations

Also fixes to gnocchi-s3 spec which was failing lint checks.

Change-Id: Ib280f02443d74d272a0d8ba53305bbdd75d42a6b
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/15/741615/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/ussuri/approved/ceph-cmr.rst', 'specs/ussuri/approved/gnocchi-s3.rst']",2,3c2ad754e6aeab4c9d7e77bf1f9ede1a6bf35810,ceph-with-cmr,"an optional one, that would be activated only when Ceph is the selected backend. The upstream documentation of Gnocchi mentions that S3 storage backends are supported, along with others, such as Swift, Redis and Ceph (https://gnocchi.xyz/install.html). The new feature would be supported on OpenStack Stein (and later) on Ubuntu 18.04 LTS. * Maximum time to wait checking data consistency when writing to S3: s3_check_consistency_timeout = 60 * The maximum number of connections to keep in a connection pool: s3_max_pool_connections = 50 * Make the Ceph relation and configuration optional, dependent on the charm optionThe goal is to implement this change in the OpenstStack Charms 20.08 release. The freeze date for this release is July 24th 2020, for a release on August 5th (see release schedule). This change should be proposed for merging at least two weeks ahead of freeze, so ideally submitted by July 10th 2020.This is possible through a Swift deployment, or with RADOS Gateway. The deployment of the storage backend with S3 capability would be independent from the OpenStack bundle, to represent a real scenario.","an optional one, that would be activated only when Ceph is the selected backend. The upstream documentation of Gnocchi mentions that S3 storage backends are supported, along with others, such as Swift, Redis and Ceph (https://gnocchi.xyz/install.html). The new feature would be supported on OpenStack Stein (and later) on Ubuntu 18.04 LTS. * Maximum time to wait checking data consistency when writing to S3: s3_check_consistency_timeout = 60 * The maximum number of connections to keep in a connection pool: s3_max_pool_connections = 50 * Make the Ceph relation and configuration optional, dependent on the charm optionThe goal is to implement this change in the OpenstStack Charms 20.08 release. The freeze date for this release is July 24th 2020, for a release on August 5th (see release schedule). This change should be proposed for merging at least two weeks ahead of freeze, so ideally submitted by July 10th 2020.This is possible through a Swift deployment, or with RADOS Gateway. The deployment of the storage backend with S3 capability would be independent from the OpenStack bundle, to represent a real scenario.",195,15
openstack%2Fcharm-masakari-monitors~master~I970faa1148d1f77dba6cb7b750ad491393b6bcdc,openstack/charm-masakari-monitors,master,I970faa1148d1f77dba6cb7b750ad491393b6bcdc,Remove inherited configuration options invalid for charm,ABANDONED,2020-05-18 07:31:12.000000000,2022-01-04 11:43:13.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-18 07:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/359edec02c5d8739037f7bbf0a7b8b897a19d51f', 'message': 'Update README and charm icon\n\nRemove inherited configuration options invalid for charm.\n\nChange-Id: I970faa1148d1f77dba6cb7b750ad491393b6bcdc\nCloses-Bug: #1879088\n'}, {'number': 2, 'created': '2020-05-18 16:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/dce34425f41f2e2651061ba7486659b7b70f78f5', 'message': 'Update README and charm icon\n\nChange-Id: I970faa1148d1f77dba6cb7b750ad491393b6bcdc\n'}, {'number': 3, 'created': '2020-05-28 05:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/3d93aa4eb15be8116478903465bbb867138be470', 'message': 'Remove inherited configuration options invalid for charm\n\nMove README to where it should be and add top level symlink.\n\nAdd charm icon.\n\nChange-Id: I970faa1148d1f77dba6cb7b750ad491393b6bcdc\nCloses-Bug: #1879088\n'}, {'number': 4, 'created': '2020-07-20 14:55:41.000000000', 'files': ['src/README.md', 'src/icon.svg', 'README.md', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/e264f97251496fe529f1fcf620f24c2f56618cba', 'message': 'Remove inherited configuration options invalid for charm\n\nMove README to where it should be and add top level symlink.\n\nAdd charm icon.\n\nChange-Id: I970faa1148d1f77dba6cb7b750ad491393b6bcdc\nCloses-Bug: #1879088\n'}]",0,728760,e264f97251496fe529f1fcf620f24c2f56618cba,22,4,4,13686,,,0,"Remove inherited configuration options invalid for charm

Move README to where it should be and add top level symlink.

Add charm icon.

Change-Id: I970faa1148d1f77dba6cb7b750ad491393b6bcdc
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/60/728760/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/icon.svg', 'README.md', 'src/layer.yaml']",4,359edec02c5d8739037f7bbf0a7b8b897a19d51f,bug/1879088,config: deletes: - ssl_ca - ssl_cert - ssl_key - use-internal-endpoints - use-syslog - verbose,,133,6
openstack%2Fcharm-ceph-mon~master~Iad61b81c2ebc70dcda9c88299380f03e31708af9,openstack/charm-ceph-mon,master,Iad61b81c2ebc70dcda9c88299380f03e31708af9,Fix admin relation hook error on xenial and bionic,ABANDONED,2020-08-11 18:15:11.000000000,2022-01-04 11:43:10.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 18:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a3edf2514f8410576771a4163c7c5b7a688b5567', 'message': ""Fix admin relation hook error on xenial and bionic\n\nThe 'mgr' cap was introduced in Nautilus but the change in\n[lp:1867795](https://bugs.launchpad.net/charm-ceph-mon/+bug/1867795)\ndidn't check the Ceph version being used, leading to a hook error.\n\nChange-Id: Iad61b81c2ebc70dcda9c88299380f03e31708af9\nCloses-Bug: #1891217\n""}, {'number': 2, 'created': '2020-08-11 18:16:33.000000000', 'files': ['hooks/ceph_hooks.py', 'lib/charms_ceph/utils.py', 'unit_tests/test_charms_ceph_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7e259a296e80678c8d447fc2aac5550ff0ec21af', 'message': ""Fix admin relation hook error on xenial and bionic\n\nThe 'mgr' cap was introduced in Nautilus but the fix for #1867795 didn't\ncheck the Ceph version being used, leading to a hook error.\n\nChange-Id: Iad61b81c2ebc70dcda9c88299380f03e31708af9\nCloses-Bug: #1891217\n""}]",0,745720,7e259a296e80678c8d447fc2aac5550ff0ec21af,8,3,2,29191,,,0,"Fix admin relation hook error on xenial and bionic

The 'mgr' cap was introduced in Nautilus but the fix for #1867795 didn't
check the Ceph version being used, leading to a hook error.

Change-Id: Iad61b81c2ebc70dcda9c88299380f03e31708af9
Closes-Bug: #1891217
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/20/745720/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'lib/charms_ceph/utils.py', 'unit_tests/test_charms_ceph_utils.py']",3,a3edf2514f8410576771a4163c7c5b7a688b5567,bug/1891217,"# Copyright 2020 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import unittest from mock import patch import charms_ceph.utils class CharmCephUtilsTestCase(unittest.TestCase): @patch('charmhelpers.contrib.openstack.utils.lsb_release') def test_get_admin_caps(self, mock_lsb_release): mock_lsb_release.return_value = {'DISTRIB_CODENAME': 'focal'} gac = charms_ceph.utils.get_admin_caps self.assertIn('mgr', gac('distro')) self.assertIn('mgr', gac('cloud:bionic-train')) self.assertNotIn('mgr', gac('cloud:bionic-stein')) mock_lsb_release.return_value = {'DISTRIB_CODENAME': 'xenial'} self.assertNotIn('mgr', gac('distro')) ",,108,35
openstack%2Fcharm-specs~master~I628989f67f195153ac55c07e9e6da19eb2566b93,openstack/charm-specs,master,I628989f67f195153ac55c07e9e6da19eb2566b93,Add a config db support spec,ABANDONED,2020-09-04 14:57:27.000000000,2022-01-04 11:43:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-04 14:57:27.000000000', 'files': ['specs/victoria/approved/ceph-config-database.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/de577945d6ec08dc07182493239cf55e02f31e8c', 'message': 'Add a config db support spec\n\nChange-Id: I628989f67f195153ac55c07e9e6da19eb2566b93\nRelated-Bug: #1891096\n'}]",0,749981,de577945d6ec08dc07182493239cf55e02f31e8c,3,1,1,24824,,,0,"Add a config db support spec

Change-Id: I628989f67f195153ac55c07e9e6da19eb2566b93
Related-Bug: #1891096
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/81/749981/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/ceph-config-database.rst'],1,de577945d6ec08dc07182493239cf55e02f31e8c,ceph-config-database,".. Copyright 2020, Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =================================== Ceph Configuration Database Support =================================== Problem Description =================== As of Mimic Ceph includes built-in centralized management of global and daemon-specific configuration a monitor-internal database. While the unit-local Ceph config files are still being parsed and have a higher priority than the values coming from the centralized database, the new feature is beneficial to operators as it offers a centralized view on all configuration from the point of view of the Ceph itself, allows for internal version control and audit of individual configuration settings and Ceph-driven distribution of configuration across daemons. Ceph charms currently manage configuration files and local runtime-only overrides and do not support the Ceph built-in centralized configuration management feature at all. The challenges of introducing this feature include: * A requirement to support older versions of Ceph and thus keep rendering Ceph configuration files for them; * The necessity of rendering a configuration file containing at least the cluster monitor addresses; * A requirement for all configuration changes to go through Ceph monitors with asynchronous application of configuration via Ceph-internal methods. The completion of an invocation of the Ceph client to perform a configuration change happens at a different time from the completion of rendering of a Ceph configuration file and a daemon restart by a Juju unit; * The lack of an ability to apply certain settings at runtime without a daemon restart; * The fact that configuration settings in Ceph are applied in a certain priority and if both the files and the centralized database provide values for the same setting, changes made centrally via monitors will be ignored, see `the Ceph documentation on configuration sources; <https://docs.ceph.com/docs/mimic/rados/configuration/ceph-conf/#config-sources>`_ * The current capability design in Ceph: there is no way to allow a cephx key to only change configuration settings related to a specific daemon so a configuration change via the centralized database is quite a privileged operation. It would be undesirable for ceph-osd units to have read-write access to the cluster configuration. For reference, see the `Ceph documentation on Authorization (Capabilities). <https://docs.ceph.com/docs/mimic/rados/operations/user-management/#authorization-capabilities>`_ Proposed Change =============== * Implementing a protocol over a mon relation where ceph-{osd, fs, radosgw} charms would send the desired settings to the monitor charm which would apply them and reply back by changing a nonce; * Upon a relation data change, client charms would assess whether configuration settings got applied to the daemon and validate if any of them are ignored due to the inability to apply them at runtime (the ``IGNORES`` column in the ``ceph config show`` output); * If there are any settings requiring a restart, the client charm units would restart the required services; * The ceph-mon charm itself would also use the configuration database commands for applying global, mon-specific and mgr-specific configuration settings. Alternatives ------------ Keep the implementation as-is considering the configuration file-based approach is not deprecated for removal and there is no indication yet that it would be. Implementation ============== Assignee(s) ----------- Primary assignee: - openstack-charmers Gerrit Topic ------------ Use Gerrit topic ""ceph-config-database"" for all patches related to this spec. .. code-block:: none git-review -t ceph-config-database Work Items ---------- - charms.ceph: Review and make the necessary changes that could be reused across the client charms; - ceph-mon: Add the required changes to support the feature for mon and mgr daemons; - ceph-osd, ceph-fs, ceph-radosgw: implement the client-side protocol support, implement an upgrade path and version-specific handling. Interfaces requiring a review and likely modification: - charm-interface-ceph-client; - ops-interface-ceph-client; - charm-interface-ceph-mds; - charm-interface-ceph-rbd-mirror. Repositories ------------ No new git repositories are required. Documentation ------------- The version-specific differences will be documented and the necessary Ceph documentation regarding the centralized configuration management will be linked. Security -------- The ceph-mon charm should not blindly accept settings from client charms without scoping to daemon-specific settings. With the configuration file-based approach settings are not sourced from the individual units and they can only override settings specific to the local daemon. Testing ------- Functional tests will be added for all Ceph charms to validate the new functionality and the upgrade-path. The upgrade path testing will involve deploying a pre-Mimic Ceph version and upgrading to Mimic followed by a validation of the applied configuration and configuration file contents. Dependencies ============ No dependencies on other specs. ",,147,0
openstack%2Fcharm-octavia~master~I5af9d80741ff1a6442db86394251778c6ff60ead,openstack/charm-octavia,master,I5af9d80741ff1a6442db86394251778c6ff60ead,[DNM] Test focal-victoria-proposed Amphora,ABANDONED,2020-09-18 14:16:04.000000000,2022-01-04 11:43:06.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-18 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4fd1a1eb01b30d43bdf1d6039c8884c9a2bd51c1', 'message': '[DNM] Test focal-victoria-proposed Amphora\n\nModified the smoke target to do focal-victoria-proposed for a\nquick read on the state of an Victoria Amphora.\n\nChange-Id: I5af9d80741ff1a6442db86394251778c6ff60ead\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/418\n'}, {'number': 2, 'created': '2020-09-18 18:46:52.000000000', 'files': ['src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/86e07e183643855d8d1a5027a3a76909bac015fc', 'message': '[DNM] Test focal-victoria-proposed Amphora\n\nModified the smoke target to do focal-victoria-proposed for a\nquick read on the state of an Victoria Amphora.\n\nChange-Id: I5af9d80741ff1a6442db86394251778c6ff60ead\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/418\n'}]",0,752700,86e07e183643855d8d1a5027a3a76909bac015fc,8,3,2,13686,,,0,"[DNM] Test focal-victoria-proposed Amphora

Modified the smoke target to do focal-victoria-proposed for a
quick read on the state of an Victoria Amphora.

Change-Id: I5af9d80741ff1a6442db86394251778c6ff60ead
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/418
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/00/752700/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml']",3,4fd1a1eb01b30d43bdf1d6039c8884c9a2bd51c1,bug/1895319,- focal-victoria-ha,- bionic-ussuri-ha-ovn - bionic-ussuri-ha,3,2
openstack%2Fcharm-designate~master~Ibb66970fd4df1f5d071bffe3f188a3e4c687f543,openstack/charm-designate,master,Ibb66970fd4df1f5d071bffe3f188a3e4c687f543,Fix spelling of zone description,ABANDONED,2020-12-03 23:46:32.000000000,2022-01-04 11:43:04.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:46:32.000000000', 'files': ['src/templates/rocky/pools.yaml', 'src/templates/mitaka/pools.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/655f001b30ae525523366470360fd42f2dd2d2bd', 'message': 'Fix spelling of zone description\n\nChange-Id: Ibb66970fd4df1f5d071bffe3f188a3e4c687f543\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,765421,655f001b30ae525523366470360fd42f2dd2d2bd,7,2,1,19298,,,0,"Fix spelling of zone description

Change-Id: Ibb66970fd4df1f5d071bffe3f188a3e4c687f543
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/21/765421/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/rocky/pools.yaml', 'src/templates/mitaka/pools.yaml']",2,655f001b30ae525523366470360fd42f2dd2d2bd,spelling, description: Pool generated by Juju, description: Pool genergated by Juju,2,2
openstack%2Fcharm-keystone~master~I4b4974a156cac3a78e75e6a0122613dccfff60cd,openstack/charm-keystone,master,I4b4974a156cac3a78e75e6a0122613dccfff60cd,Speedup endpoint updating after vault setup,ABANDONED,2020-12-04 15:26:56.000000000,2022-01-04 11:43:01.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-04 15:26:56.000000000', 'files': ['hooks/keystone_utils.py', 'hooks/manager.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7debb169996c7f9f1a971dd4c3e526c0ef221df7', 'message': 'Speedup endpoint updating after vault setup\n\nWhen vault is setup keystone does all of its endpoints and\nunfortunately, multiple calls to api.services.list() occurs in a loop\nfor each endpoint.  This speeds things up specifically in the endpoint\nupdating code for endpoints that have already been done.\n\nChange-Id: I4b4974a156cac3a78e75e6a0122613dccfff60cd\n'}]",0,765550,7debb169996c7f9f1a971dd4c3e526c0ef221df7,8,2,1,20870,,,0,"Speedup endpoint updating after vault setup

When vault is setup keystone does all of its endpoints and
unfortunately, multiple calls to api.services.list() occurs in a loop
for each endpoint.  This speeds things up specifically in the endpoint
updating code for endpoints that have already been done.

Change-Id: I4b4974a156cac3a78e75e6a0122613dccfff60cd
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/50/765550/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/keystone_utils.py', 'hooks/manager.py']",2,7debb169996c7f9f1a971dd4c3e526c0ef221df7,speed-up-endpoint-updates," def __init__(self): self._services_cache = None def _get_services_list(self, cached=False): if not cached or self._services_cache is None: self._services_cache = list(self.api.services.list()) return self._services_cache.copy() def resolve_service_id(self, name, service_type=None, cached=False): services = self._get_services_list(cached) def resolve_service_id_by_type(self, type, cached=False): services = [s._info for s in self._get_services_list(cached)] def list_services(self, cached=False): return [s.to_dict() for s in self._get_services_list(cached)] super(KeystoneManager2, self).__init__() super(KeystoneManager3, self).__init__()"," def resolve_service_id(self, name, service_type=None): services = [s._info for s in self.api.services.list()] def resolve_service_id_by_type(self, type): services = [s._info for s in self.api.services.list()] def list_services(self): return [s.to_dict() for s in self.api.services.list()]",19,9
openstack%2Fcharm-rabbitmq-server~master~I341921fe242abfb690cc8147e247cacc8a979105,openstack/charm-rabbitmq-server,master,I341921fe242abfb690cc8147e247cacc8a979105,Fix some minor spelling issues,ABANDONED,2020-11-30 22:32:09.000000000,2022-01-04 11:42:59.000000000,,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 22:32:09.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/a00101ee54732f8cde6dae3288378d7f399d0239', 'message': 'Fix some minor spelling issues\n\nChange-Id: I341921fe242abfb690cc8147e247cacc8a979105\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",2,764833,a00101ee54732f8cde6dae3288378d7f399d0239,7,3,1,19298,,,0,"Fix some minor spelling issues

Change-Id: I341921fe242abfb690cc8147e247cacc8a979105
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/33/764833/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a00101ee54732f8cde6dae3288378d7f399d0239,test,those charms that support the RabbitMQ interface. The current list of suchor after deployment. The default behavior is to use the Ubuntu package archivean application that supports the RabbitMQ interface. For instance:,those charms that support the rabbitmq interface. The current list of suchor after deployment. The default behaviour is to use the Ubuntu package archivean application that supports the rabbitmq interface. For instance:,3,3
openstack%2Fcharm-specs~master~I6be25b457563520fa86e1bddc3c3818e5a5b5002,openstack/charm-specs,master,I6be25b457563520fa86e1bddc3c3818e5a5b5002,Netapp charm spec,ABANDONED,2020-08-13 07:57:06.000000000,2022-01-04 11:42:57.000000000,,"[{'_account_id': 14567}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 07:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/13040985e5c69076b90af98bc5d0698d7e447b80', 'message': 'added te spec document to review by charm team\n\nChange-Id: I6be25b457563520fa86e1bddc3c3818e5a5b5002\n'}, {'number': 2, 'created': '2020-09-01 20:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/ba487fd7d11e742536bef69741611b2e3cf9a2fb', 'message': 'added te spec document to review by charm team\n\nChange-Id: I6be25b457563520fa86e1bddc3c3818e5a5b5002\n'}, {'number': 3, 'created': '2020-09-02 12:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/a2c9c1cb78139cca1c68b3e54e7919206bbe873e', 'message': 'This patch is to add the charm spec for cinder plugin for netapp\nIntent is to add netadd cinder plugin for next release of charms.\n\nChange-Id: I6be25b457563520fa86e1bddc3c3818e5a5b5002\n'}, {'number': 4, 'created': '2020-09-26 12:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/2c92232219501abf7cbf480948c4a58acb392d48', 'message': 'Netapp charm spec\n\nIntent is to add netapp cinder plugin for next release of charms.\n\nChange-Id: I6be25b457563520fa86e1bddc3c3818e5a5b5002\n'}, {'number': 5, 'created': '2020-09-29 11:32:43.000000000', 'files': ['specs/victoria/backlog/cinder-backend-netapp.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/b49a7830c015c9e43f22cf2d1cc152f1919a1496', 'message': 'Netapp charm spec\n\nIntent is to add netapp cinder plugin for next release of charms.\n\nChange-Id: I6be25b457563520fa86e1bddc3c3818e5a5b5002\n'}]",33,746015,b49a7830c015c9e43f22cf2d1cc152f1919a1496,19,3,5,20828,,,0,"Netapp charm spec

Intent is to add netapp cinder plugin for next release of charms.

Change-Id: I6be25b457563520fa86e1bddc3c3818e5a5b5002
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/15/746015/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/backlog/cinder-backend-netapp.rst'],1,13040985e5c69076b90af98bc5d0698d7e447b80,cinder-netapp,".. Copyright 2020 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =============================================== Enablement of Netapp storage backend for Cinder =============================================== Problem Description =================== The cinder charm does not include netapp for block storage backend. . For anyone using a Netapp storage backend, this is an issue. Proposed Change =============== The proposed solution is to make the NetAp storage backend plugin with cinder. We will create a cinder subordinate charm to make changes in the cinder.conf to support NetApp appliances. The upstream documentation of Openstack mentions that Netapp storage backends are supported with cinder (https://docs.openstack.org/cinder/pike/configuration/block-storage/drivers/netapp-volume-driver.html). The new feature would be supported on OpenStack Ussuri (and later) on Ubuntu 18.04 LTS. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: Narinder.Gupta Gerrit Topic ------------ Use Gerrit topic ""cinder-netapp"" for all patches related to this spec. .. code-block:: bash git-review -t cinder-netapp Work Items ---------- * Add a subbordinat charm for Netapp as cinder plugin * Add options for Subbordinate charm to support ontap_cluster in the cinder configuration file: * Netapp Server Hostname * Netapp Transport Type * Netapp Server Port * Netapp Storage Protocol * Netapp Storage Family * Netapp Login * Netapp Password * Netapp VServer * Netapp Lun Space Reservations * Volume Backend Name * Make the relation with cinder * Implement NetApp as backend for block device Timeline ----------- The goal is to implement this change is by August 20th 2020 Repositories ------------ Changes will be pushed to the new cinder-netapp charm repository: https://git.openstack.org/openstack/charm-cinder-netapp Documentation ------------- * Update of the charm options * Update of the charm README Security -------- No additional security concerns. The feature will be compatible with an HTTPS endpoint to allow for encryption. Testing ------- Code changes will be covered by unit tests. Functional tests would require Netapp storage hardware or software emulation. Dependencies ============ No dependencies outside of this specification. ",,121,0
openstack%2Fcharm-watcher~master~Ief4913aa54e40b832034ccd1d0eecad3046fcfb8,openstack/charm-watcher,master,Ief4913aa54e40b832034ccd1d0eecad3046fcfb8,Add Groovy support,ABANDONED,2021-01-11 14:59:07.000000000,2022-01-04 11:42:55.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 14:59:07.000000000', 'files': ['src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/1e52d3cf5314b2023f1e02f1850e3db81c2af23f', 'message': 'Add Groovy support\n\nChange-Id: Ief4913aa54e40b832034ccd1d0eecad3046fcfb8\n'}]",0,770134,1e52d3cf5314b2023f1e02f1850e3db81c2af23f,7,2,1,31289,,,0,"Add Groovy support

Change-Id: Ief4913aa54e40b832034ccd1d0eecad3046fcfb8
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/34/770134/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/metadata.yaml', 'src/tests/tests.yaml']",2,1e52d3cf5314b2023f1e02f1850e3db81c2af23f,groovy-charm-gate,- groovy-victoria,dev_bundles: - groovy-victoria,2,2
openstack%2Fcharm-trilio-dm-api~master~I8bad531050e4800db46bbeace518848d5013f4a0,openstack/charm-trilio-dm-api,master,I8bad531050e4800db46bbeace518848d5013f4a0,Remove workaround for Trilio 4.1 + Ussuri,ABANDONED,2021-03-14 16:33:41.000000000,2022-01-04 11:42:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-14 16:33:41.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/19198fdf9a93c4b77816c814624aa58d7c8ea711', 'message': 'Remove workaround for Trilio 4.1 + Ussuri\n\nChange-Id: I8bad531050e4800db46bbeace518848d5013f4a0\n'}]",0,780431,19198fdf9a93c4b77816c814624aa58d7c8ea711,10,2,1,12549,,,0,"Remove workaround for Trilio 4.1 + Ussuri

Change-Id: I8bad531050e4800db46bbeace518848d5013f4a0
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/31/780431/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,19198fdf9a93c4b77816c814624aa58d7c8ea711,remove-workaround, - bionic-ussuri-41 - focal-ussuri-41, - workaround: - zaza.openstack.charm_tests.trilio.setup.python2_workaround - zaza.openstack.charm_tests.trilio.setup.basic_setup - zaza.openstack.charm_tests.vault.setup.auto_initialize - zaza.openstack.charm_tests.glance.setup.add_cirros_image - zaza.openstack.charm_tests.glance.setup.add_lts_image - zaza.openstack.charm_tests.neutron.setup.basic_overcloud_network - zaza.openstack.charm_tests.nova.setup.create_flavors - zaza.openstack.charm_tests.nova.setup.manage_ssh_key - workaround: bionic-ussuri-41 - workaround: focal-ussuri-41,2,11
openstack%2Fcharm-magnum~master~Iaf698f6829a3188de60b28da55913c3bc3ba25e3,openstack/charm-magnum,master,Iaf698f6829a3188de60b28da55913c3bc3ba25e3,Re-enable the Zaza tests,ABANDONED,2021-03-25 14:57:18.000000000,2022-01-04 11:42:51.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-25 14:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/65bb2fda1dd5f20d5e1f4f73005a8ff0b4c5e9e9', 'message': 'Re-enable the Zaza tests\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/515\nChange-Id: Iaf698f6829a3188de60b28da55913c3bc3ba25e3\n'}, {'number': 2, 'created': '2021-03-25 16:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/8c3f056b20db30787331774caa47a1506c1fc374', 'message': 'Re-enable the Zaza tests\n\n* The PPA contains latest stable Magnum code for Ussuri / Victoria.\n* The Magnum db-sync is compatible with MySQL 8 with the updated\n  Magnum packages.\n* Update `focal-ussuri` and `focal-victoria` Zaza bundles. Use\n  `mysql-innodb-cluster` instead of `percona-cluster` for database.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/515\nChange-Id: Iaf698f6829a3188de60b28da55913c3bc3ba25e3\n'}, {'number': 3, 'created': '2021-03-26 09:57:36.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/f08aad74fdba966cadbaadbc63683a6b5099e73d', 'message': 'Re-enable the Zaza tests\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/515\nChange-Id: Iaf698f6829a3188de60b28da55913c3bc3ba25e3\n'}]",2,783023,f08aad74fdba966cadbaadbc63683a6b5099e73d,14,3,3,13178,,,0,"Re-enable the Zaza tests

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/515
Change-Id: Iaf698f6829a3188de60b28da55913c3bc3ba25e3
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/23/783023/3 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,65bb2fda1dd5f20d5e1f4f73005a8ff0b4c5e9e9,enable-zaza-tests,- zaza.openstack.charm_tests.heat.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.domain_setup - zaza.openstack.charm_tests.magnum.setup.add_image- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,# NOTE(lourot): don't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.heat.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.domain_setup #- zaza.openstack.charm_tests.magnum.setup.add_image# NOTE(lourot): doesn't exist in zaza-openstack-tests yet. Disabling for now in # order to make the gate green: #- zaza.openstack.charm_tests.magnum.tests.MagnumBasicDeployment,4,8
openstack%2Fcharm-manila-netapp~master~If9e9f46824bb5d15bd41296348c8f4dddfba2669,openstack/charm-manila-netapp,master,If9e9f46824bb5d15bd41296348c8f4dddfba2669,Re-enable the Zaza tests,ABANDONED,2021-03-30 15:07:30.000000000,2022-01-04 11:42:48.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 15:07:30.000000000', 'files': ['tests/tests.yaml', 'tox.ini', '.jujuignore'], 'web_link': 'https://opendev.org/openstack/charm-manila-netapp/commit/2d7048aca36a8fed5e3cf75b9c489abb5e9517ef', 'message': 'Re-enable the Zaza tests\n\nAlso, fixed the charm name (from the build output file) in the\n`.jujuignore`.\n\nChange-Id: If9e9f46824bb5d15bd41296348c8f4dddfba2669\n'}]",0,783892,2d7048aca36a8fed5e3cf75b9c489abb5e9517ef,5,2,1,13178,,,0,"Re-enable the Zaza tests

Also, fixed the charm name (from the build output file) in the
`.jujuignore`.

Change-Id: If9e9f46824bb5d15bd41296348c8f4dddfba2669
",git fetch https://review.opendev.org/openstack/charm-manila-netapp refs/changes/92/783892/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tox.ini', '.jujuignore']",3,2d7048aca36a8fed5e3cf75b9c489abb5e9517ef,enable-zaza-tests,manila-netapp.charm,ceph-iscsi.charm,3,9
openstack%2Fcharm-cinder~master~I0d0befed4a463b5cc37462096acab85ea49fd76e,openstack/charm-cinder,master,I0d0befed4a463b5cc37462096acab85ea49fd76e,Add systemd service file to persist loop devices,ABANDONED,2021-05-25 19:42:27.000000000,2022-01-04 11:42:46.000000000,,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 19:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/7dc30ead96bc00a776494bc324eda7b4bcff3b08', 'message': 'Add systemd service file to persist loop devices\n\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nChange-Id: I0d0befed4a463b5cc37462096acab85ea49fd76e\n'}, {'number': 2, 'created': '2021-05-25 19:57:54.000000000', 'files': ['templates/cinder-local.service', 'hooks/cinder_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/dd3d80264796d968eace983371cd27d23988e9db', 'message': 'Add systemd service file to persist loop devices\n\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nCloses-Bug: #1929605\nChange-Id: I0d0befed4a463b5cc37462096acab85ea49fd76e\n'}]",0,793056,dd3d80264796d968eace983371cd27d23988e9db,7,3,2,19298,,,0,"Add systemd service file to persist loop devices

Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
Closes-Bug: #1929605
Change-Id: I0d0befed4a463b5cc37462096acab85ea49fd76e
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/56/793056/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/cinder-local.service', 'hooks/cinder_utils.py']",2,7dc30ead96bc00a776494bc324eda7b4bcff3b08,systemd_loop, new_loop_devices = [] new_loop_devices.append(block_device),,17,0
openstack%2Fcharm-guide~master~Ib6ad2607b7fe0f35fcd18f5d3e97b072c9b0562b,openstack/charm-guide,master,Ib6ad2607b7fe0f35fcd18f5d3e97b072c9b0562b,glance charm: image-conversion support,ABANDONED,2021-05-31 16:30:23.000000000,2022-01-04 11:42:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-31 16:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2306f61c58a03002a2891a9ca80bace46fb034b2', 'message': 'glance charm: image-conversion support\n\nChange-Id: Ib6ad2607b7fe0f35fcd18f5d3e97b072c9b0562b\n'}, {'number': 2, 'created': '2021-06-01 12:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/cf99900f3da63e5cd98506cb3cc1fe79fce22340', 'message': 'glance charm: image-conversion support\n\nRelated-Bug: #1899767\nChange-Id: Ib6ad2607b7fe0f35fcd18f5d3e97b072c9b0562b\n'}, {'number': 3, 'created': '2021-06-01 13:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/fb8a9be2ebe32a002b6ecf820ad59cf9156986e1', 'message': 'glance charm: image-conversion support\n\nRelated-Bug: #1899767\nChange-Id: Ib6ad2607b7fe0f35fcd18f5d3e97b072c9b0562b\n'}, {'number': 4, 'created': '2021-06-01 13:16:28.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a9cc5f7e4f449dbd59f22523b10fe1825e03b9ba', 'message': 'glance charm: image-conversion support\n\nRelated-Bug: #1899767\nChange-Id: Ib6ad2607b7fe0f35fcd18f5d3e97b072c9b0562b\n'}]",7,793828,a9cc5f7e4f449dbd59f22523b10fe1825e03b9ba,14,3,4,33340,,,0,"glance charm: image-conversion support

Related-Bug: #1899767
Change-Id: Ib6ad2607b7fe0f35fcd18f5d3e97b072c9b0562b
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/28/793828/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,2306f61c58a03002a2891a9ca80bace46fb034b2,bug/1899767,glance charm: image-conversion support ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The glance charm has new config option: * image-conversion This option enables image conversion to raw format on server side for better image handling when using interoperable image import mechanism. ,,9,0
openstack%2Fcharm-trilio-data-mover~stable%2F21.03~I696f6f629e3faf38120b7d93ac89e03b78bade81,openstack/charm-trilio-data-mover,stable/21.03,I696f6f629e3faf38120b7d93ac89e03b78bade81,Rebuild for 21.03,ABANDONED,2021-03-16 15:54:43.000000000,2022-01-04 11:42:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 15:54:43.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/01e33c9f31dc6dbdd280f9236772d75b65732dda', 'message': 'Rebuild for 21.03\n\nChange-Id: I696f6f629e3faf38120b7d93ac89e03b78bade81\n'}]",0,780911,01e33c9f31dc6dbdd280f9236772d75b65732dda,12,2,1,12549,,,0,"Rebuild for 21.03

Change-Id: I696f6f629e3faf38120b7d93ac89e03b78bade81
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/11/780911/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,01e33c9f31dc6dbdd280f9236772d75b65732dda,stable-rebuild-21.03,9761ddf0-866f-11eb-a56e-030fbb5f7267,bed7205a-64d9-11eb-93d8-239324b1b5c0,1,1
openstack%2Fcharm-vault~master~I0f251bc920147c74bfed2d29755184fd6254bb4f,openstack/charm-vault,master,I0f251bc920147c74bfed2d29755184fd6254bb4f,add enable-ui option,ABANDONED,2021-03-02 00:35:22.000000000,2022-01-04 11:42:37.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 00:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/fd503c27d6783835352fe0c5548fcdca9008915f', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 2, 'created': '2021-03-02 02:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3f7edcc7434b9c3b7685773a5b95ad76cc560296', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 3, 'created': '2021-03-02 13:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b2bbf6975764f542ae0ff367f644fb41ad3fcc3c', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 4, 'created': '2021-03-02 13:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/757848ed79351be67a4ec544de5959fc54dee520', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 5, 'created': '2021-03-02 14:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/438ad1fa6bd4f562e002843e9f6db92bed5296fb', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 6, 'created': '2021-05-21 11:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7618cfab2333621715d16befd4c0089f2b5f9fdc', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 7, 'created': '2021-05-21 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b96e0c9ca640c35cb51c2287e07ac2823bc0328e', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 8, 'created': '2021-05-21 13:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ca58e11b53310894ff5d066c26ca87be46293b2d', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}, {'number': 9, 'created': '2021-06-28 12:50:35.000000000', 'files': ['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/templates/vault.hcl.j2', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/cb08c43b48c7bafc10e99ec5953232c96f4f6ec1', 'message': 'add enable-ui option\n\nCloses-Bug: #1876169\nChange-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f\n'}]",9,778118,cb08c43b48c7bafc10e99ec5953232c96f4f6ec1,32,3,9,32930,,,0,"add enable-ui option

Closes-Bug: #1876169
Change-Id: I0f251bc920147c74bfed2d29755184fd6254bb4f
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/18/778118/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/vault.hcl.j2', 'src/reactive/vault_handlers.py']",3,fd503c27d6783835352fe0c5548fcdca9008915f,bug/1876169, context['enable_ui'] = config('enable-ui') ,,11,0
openstack%2Fcharm-octavia~master~I7fc2ecd39bd1fc298631b3550337c7956ab29a3c,openstack/charm-octavia,master,I7fc2ecd39bd1fc298631b3550337c7956ab29a3c,[DNM] Test octavia-diskimage-retrofit edge snap,ABANDONED,2020-09-02 13:09:39.000000000,2022-01-04 11:42:35.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 13:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2273af87ea0ae749d30d0791ef5a546f5f0c78a7', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}, {'number': 2, 'created': '2020-09-07 07:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5049b3aaaca52caae38ed093124be0c2ba3630a5', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}, {'number': 3, 'created': '2020-09-16 16:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c4d4f556f4715923d17bb4ea24fcd2a24f2eaf44', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}, {'number': 4, 'created': '2021-01-06 15:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0edc4a3a43f2dd7e16c8002b1c91e29cccfa3de4', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}, {'number': 5, 'created': '2021-05-25 07:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7ced91dd2fe112bcedf33c65a2550888899cccfb', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}, {'number': 6, 'created': '2021-06-04 12:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fd4a397efc3ded3dbad26c1c3311ad732bac8857', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}, {'number': 7, 'created': '2021-06-14 16:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c8f6528ef399128fa51e1705a2b03913edbf4525', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}, {'number': 8, 'created': '2021-07-16 07:50:40.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5739958d91f72ae1517dcd4bf490cd14d782d73a', 'message': '[DNM] Test octavia-diskimage-retrofit edge snap\n\nChange-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c\n'}]",0,749498,5739958d91f72ae1517dcd4bf490cd14d782d73a,74,3,8,13686,,,0,"[DNM] Test octavia-diskimage-retrofit edge snap

Change-Id: I7fc2ecd39bd1fc298631b3550337c7956ab29a3c
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/98/749498/8 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/ha.j2'],1,2273af87ea0ae749d30d0791ef5a546f5f0c78a7,test-edge-snap, octavia-diskimage-retrofit: charm: cs:~fnordahl/octavia-diskimage-retrofit-edge,,2,0
openstack%2Fcharm-cinder-backup-swift-proxy~master~Ic1361968b168d3e3500071d9ef94a041f47fda3b,openstack/charm-cinder-backup-swift-proxy,master,Ic1361968b168d3e3500071d9ef94a041f47fda3b,Sync release-tools,ABANDONED,2021-07-22 12:53:22.000000000,2022-01-04 11:42:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:53:22.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/5a603d188074ecc541519326489d003b7334aa78', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Ic1361968b168d3e3500071d9ef94a041f47fda3b\n'}]",0,801792,5a603d188074ecc541519326489d003b7334aa78,9,2,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Ic1361968b168d3e3500071d9ef94a041f47fda3b
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/92/801792/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,5a603d188074ecc541519326489d003b7334aa78,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-manila-ganesha~master~I853b28d9f278138768cb4c3719fee714b7122c10,openstack/charm-manila-ganesha,master,I853b28d9f278138768cb4c3719fee714b7122c10,Sync release-tools,ABANDONED,2021-07-22 12:56:39.000000000,2022-01-04 11:42:31.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:56:39.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/62e8f02f812478c1eb87c4f19e1ce031502ae875', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I853b28d9f278138768cb4c3719fee714b7122c10\n'}]",0,801813,62e8f02f812478c1eb87c4f19e1ce031502ae875,6,2,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I853b28d9f278138768cb4c3719fee714b7122c10
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/13/801813/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,62e8f02f812478c1eb87c4f19e1ce031502ae875,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcharm-percona-cluster~master~I319fb9912eed14be70db62cabe95bc74e0e37265,openstack/charm-percona-cluster,master,I319fb9912eed14be70db62cabe95bc74e0e37265,Fix support for async replication,ABANDONED,2021-07-23 17:03:27.000000000,2022-01-04 11:42:29.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 17:03:27.000000000', 'files': ['unit_tests/test_percona_hooks.py', 'templates/mysqld.cnf', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/34fde7e26ab1a312f24a41164f5127f3ac7f3583', 'message': 'Fix support for async replication\n\n- increase maximum allowed packet\nAsynchronous replication fails if the data row being replicated is\nbigger thant the max_allowed_packet on the server.\n\n- server_ids should be different in source and destination clusters\nfor asynchronous replication to work.\n\nCloses-Bug: 1937373\nChange-Id: I319fb9912eed14be70db62cabe95bc74e0e37265\n'}]",3,802066,34fde7e26ab1a312f24a41164f5127f3ac7f3583,5,3,1,30110,,,0,"Fix support for async replication

- increase maximum allowed packet
Asynchronous replication fails if the data row being replicated is
bigger thant the max_allowed_packet on the server.

- server_ids should be different in source and destination clusters
for asynchronous replication to work.

Closes-Bug: 1937373
Change-Id: I319fb9912eed14be70db62cabe95bc74e0e37265
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/66/802066/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_hooks.py', 'templates/mysqld.cnf', 'hooks/percona_utils.py']",3,34fde7e26ab1a312f24a41164f5127f3ac7f3583,bug/1937373, cluster_id = 0 try: cluster_id = int(config('cluster-id')) except ValueError: pass # Get the juju unit number and shift it by cluster_id so that # 2 clusters with different cluster_id have unique server_ids server_id = int(local_unit().split('/')[-1]) + cluster_id, # Get the juju unit number server_id = int(local_unit().split('/')[-1]),30,4
openstack%2Fcharm-manila~master~I9a2fd80de1f246cc02f52696aaa69038e718020b,openstack/charm-manila,master,I9a2fd80de1f246cc02f52696aaa69038e718020b,Drop tenant_id templating from v2 endpoint,ABANDONED,2021-07-28 06:16:44.000000000,2022-01-04 11:42:26.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 06:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/fc87a22f283857d2f12eede34cfa5919492d3632', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nChange-Id: I9a2fd80de1f246cc02f52696aaa69038e718020b\n'}, {'number': 2, 'created': '2021-07-28 16:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/ac5348c96394fde5ed2d3a88f607e175c2cb7ddf', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nChange-Id: I9a2fd80de1f246cc02f52696aaa69038e718020b\n'}, {'number': 3, 'created': '2021-07-28 17:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/5c56ebfa59d01ff9d45cb2e11ef8a7232f1db8e8', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nChange-Id: I9a2fd80de1f246cc02f52696aaa69038e718020b\n'}, {'number': 4, 'created': '2021-07-30 07:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/f99fc134985efc25e758f3208a94b6a783bd2e34', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nChange-Id: I9a2fd80de1f246cc02f52696aaa69038e718020b\n'}, {'number': 5, 'created': '2021-07-30 17:45:10.000000000', 'files': ['src/lib/charm/openstack/manila.py', 'unit_tests/test_lib_charm_openstack_manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/979d13d28c717296c302d15f619d2e7140a409b5', 'message': 'Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nChange-Id: I9a2fd80de1f246cc02f52696aaa69038e718020b\n'}]",3,802658,979d13d28c717296c302d15f619d2e7140a409b5,20,3,5,16643,,,0,"Drop tenant_id templating from v2 endpoint

Manila's wallaby release [1] made it possible for
the v2 endpoint to not include a tenant_id
(project_id). This change was made to
accommodate interactions by system scoped users.

System scoped users cannot interact with an
endpoint that needs the ""tenant_id"" templating,
because system scoped tokens cannot be resolved
to a particular tenant_id by definition. More
information regarding this change is captured
in the release notes for the project [2] and
the API reference [3].

[1] https://review.opendev.org/c/openstack/manila/+/773709
[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude
[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api

Change-Id: I9a2fd80de1f246cc02f52696aaa69038e718020b
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/58/802658/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/manila.py', 'unit_tests/test_lib_charm_openstack_manila.py']",2,fc87a22f283857d2f12eede34cfa5919492d3632,secure-rbac," self.assertEqual(c.public_url_v2, 'p1/v2') self.assertEqual(c.internal_url_v2, 'i1/v2') self.assertEqual(c.admin_url_v2, 'a1/v2')"," self.assertEqual(c.public_url_v2, 'p1/v2/%(tenant_id)s') self.assertEqual(c.internal_url_v2, 'i1/v2/%(tenant_id)s') self.assertEqual(c.admin_url_v2, 'a1/v2/%(tenant_id)s')",6,6
openstack%2Fcharm-neutron-openvswitch~master~I082e7a4aab98978c46eb6d4a8f081de2148a2682,openstack/charm-neutron-openvswitch,master,I082e7a4aab98978c46eb6d4a8f081de2148a2682,CH Sync to pickup DPDK socket memory change,ABANDONED,2021-08-04 11:21:37.000000000,2022-01-04 11:42:24.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-08-04 11:21:37.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/04c3918d873a74455b9f722121862007d9c1d8e3', 'message': 'CH Sync to pickup DPDK socket memory change\n\nChange-Id: I082e7a4aab98978c46eb6d4a8f081de2148a2682\nCloses-Bug: 1938557\n'}]",0,803464,04c3918d873a74455b9f722121862007d9c1d8e3,5,3,1,12549,,,0,"CH Sync to pickup DPDK socket memory change

Change-Id: I082e7a4aab98978c46eb6d4a8f081de2148a2682
Closes-Bug: 1938557
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/64/803464/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py']",3,04c3918d873a74455b9f722121862007d9c1d8e3,bug/1938557," # Xena 'xena': 'focal-updates/xena', 'focal-xena': 'focal-updates/xena', 'focal-xena/updates': 'focal-updates/xena', 'focal-updates/xena': 'focal-updates/xena', 'xena/proposed': 'focal-proposed/xena', 'focal-xena/proposed': 'focal-proposed/xena', 'focal-proposed/xena': 'focal-proposed/xena',",,28,5
openstack%2Fcharm-ceph-radosgw~master~Ic0808b28b8d579aba25d75ffeb25837163551ca6,openstack/charm-ceph-radosgw,master,Ic0808b28b8d579aba25d75ffeb25837163551ca6,multisite: Handle error return from radosgw-admin,ABANDONED,2021-08-26 08:38:09.000000000,2022-01-04 11:42:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 08:38:09.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_multisite.py', 'hooks/multisite.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d2e55c2936af2ce1de0096b8c8e5086b8f33675e', 'message': ""multisite: Handle error return from radosgw-admin\n\nThe radosgw-admin tool may return non-zero and print a error\nmessage in the case of a resource not being initialized, for\nexample if no realms exist.  Detect this situation so that the\ncharm may continue to create the missing resources.\n\nAlso make use of subprocess.check_output's built-in decoding\ncapabilities instead of sprinkling bytes.decode() calls throughout\nthe code.\n\nRelated-Bug: #1905985\nChange-Id: Ic0808b28b8d579aba25d75ffeb25837163551ca6\n""}]",4,806114,d2e55c2936af2ce1de0096b8c8e5086b8f33675e,8,2,1,13686,,,0,"multisite: Handle error return from radosgw-admin

The radosgw-admin tool may return non-zero and print a error
message in the case of a resource not being initialized, for
example if no realms exist.  Detect this situation so that the
charm may continue to create the missing resources.

Also make use of subprocess.check_output's built-in decoding
capabilities instead of sprinkling bytes.decode() calls throughout
the code.

Related-Bug: #1905985
Change-Id: Ic0808b28b8d579aba25d75ffeb25837163551ca6
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/14/806114/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/test_multisite.py', 'hooks/multisite.py']",3,d2e55c2936af2ce1de0096b8c8e5086b8f33675e,bug/1905985," return subprocess.check_output(cmd, stderr=subprocess.PIPE, universal_newlines=True) except subprocess.CalledProcessError as e: if e.returncode == 2 and 'No such file' in e.stderr: return [] raise"," return subprocess.check_output(cmd, stderr=subprocess.PIPE).decode('UTF-8')",15,10
openstack%2Fcharm-ceph-fs~master~I99d8f425c7a8a6e3a93c14a304d16ede8780b4a6,openstack/charm-ceph-fs,master,I99d8f425c7a8a6e3a93c14a304d16ede8780b4a6,Migrate the environment variable to the latest one. Fix the DEPRECATED warning during building,ABANDONED,2021-09-07 05:59:30.000000000,2022-01-04 11:42:19.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-07 05:59:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/30622720f9972c951eb040f22f6a90a344ddf3dc', 'message': 'Migrate the environment variable to the latest one.\nFix the DEPRECATED warning during building\n\nChange-Id: I99d8f425c7a8a6e3a93c14a304d16ede8780b4a6\n'}]",0,807669,30622720f9972c951eb040f22f6a90a344ddf3dc,4,2,1,33780,,,0,"Migrate the environment variable to the latest one.
Fix the DEPRECATED warning during building

Change-Id: I99d8f425c7a8a6e3a93c14a304d16ede8780b4a6
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/69/807669/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,30622720f9972c951eb040f22f6a90a344ddf3dc,bugfix/LP1935013, CHARM_LAYERS_DIR={toxinidir}/layers CHARM_INTERFACES_DIR={toxinidir}/interfacespassenv = http_proxy https_proxy CHARM_INTERFACES_DIR CHARM_LAYERS_DIR JUJU_REPOSITORY, LAYER_PATH={toxinidir}/layers INTERFACE_PATH={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY,3,3
openstack%2Fcharm-deployment-guide~master~I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd,openstack/charm-deployment-guide,master,I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd,Add operation: Replace hyperconverged storage and compute node,ABANDONED,2021-06-29 18:45:55.000000000,2022-01-04 11:42:14.000000000,,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-06-29 18:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c0bb43723381f8f0534bf040902c935c3eada0c1', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}, {'number': 2, 'created': '2021-06-30 19:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/01be8476a1277582ea0640a216fa3d6457178ea8', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}, {'number': 3, 'created': '2021-07-06 19:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ebe5e239eaf2f831706695a3f492695af6b7219d', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}, {'number': 4, 'created': '2021-07-06 20:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/be661353c1f6550f14fa0643ab136a9b1d368e45', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}, {'number': 5, 'created': '2021-07-06 20:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/012600b8c39a1274fee66bf83894bf1f88129780', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}, {'number': 6, 'created': '2021-07-08 21:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/91451aeb8bac96110aeedc70c518a5edf6db7fb9', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}, {'number': 7, 'created': '2021-07-08 23:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/10acb249b63719ec41f7e4b3b6b10bd14cf35610', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}, {'number': 8, 'created': '2021-07-16 17:03:51.000000000', 'files': ['deploy-guide/source/ops-scale-out-nova-compute.rst', 'deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-scale-back-nova-compute.rst', 'deploy-guide/source/ops-replace-storage-compute-node.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/873e206a47f6c1a7fa1bb352ef10fa30d7da049d', 'message': 'Add operation: Replace hyperconverged storage and compute node\n\nAdd a cloud operation for replacing a hyperconverged storage\nand compute node\n\nChange-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd\n'}]",13,798736,873e206a47f6c1a7fa1bb352ef10fa30d7da049d,23,3,8,30561,,,0,"Add operation: Replace hyperconverged storage and compute node

Add a cloud operation for replacing a hyperconverged storage
and compute node

Change-Id: I4b56817a17fd2d91fdedee6008e8ebc89bdce2cd
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/36/798736/4 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-replace-storage-compute-node.rst']",2,c0bb43723381f8f0534bf040902c935c3eada0c1,cdg-ops,":orphan: ====================================================== Replace a hyperconverged Ceph storage and compute node ====================================================== Preamble -------- A common topology for Charmed OpenStack is the co-location of the nova-compute and the ceph-osd applications. This article covers the removal and redeployment of such a data plane cloud node. .. important:: For the target cloud node, only nova-compute, ceph-osd, and their subordinate applications are assumed to be deployed. .. warning:: Migration involves disabling compute services on the source host, effectively removing the hypervisor from the cloud. Procedure --------- Identify the cloud node particulars ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Identify the unit and hypervisor name of the compute node: .. code-block:: none juju status nova-compute openstack hypervisor list Identify the unit of the storage node and the IDs of the associated OSDs: .. code-block:: none juju status ceph-osd juju run -a ceph-osd mount | grep ceph juju ssh ceph-mon/leader sudo ceph osd tree In this article, * the compute node: * is hosted on unit ``nova-compute/0`` * has a hypervisor name of node2.maas * the storage node: * is hosted on unit ``ceph-osd/2`` * has two OSDs present and their IDs are 0 and 1 The Juju machine ID is expected to be common to both applications and is assumed to be 14. **Replace these values in the instructions with your actual cloud values.** Remove OSD storage devices ~~~~~~~~~~~~~~~~~~~~~~~~~~ Reweight the OSDs to zero: .. code-block:: none juju run-action --wait ceph-mon/leader change-osd-weight osd=0 weight=0 juju run-action --wait ceph-mon/leader change-osd-weight osd=1 weight=0 Monitor the resulting data movement across the cluster and **wait until it has ceased**: .. code-block:: none juju ssh ceph-mon/leader sudo ceph -w Mark the OSDs as 'out': .. code-block:: none juju run-action --wait ceph-osd/2 osd-out osds=osd.0,osd.1 juju ssh ceph-mon/leader sudo ceph osd tree down The last command's output should show the drives as 'down'. Disable nova-compute services ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Disable nova-compute services on the node: .. code-block:: none juju run-action --wait nova-compute/0 disable Respawn any Octavia VMs ~~~~~~~~~~~~~~~~~~~~~~~ Skip this section if Octavia is not deployed in the cloud. Any possible Octavia load balancer VMs (amphorae) need to be identified and respawned. .. note:: Migrating the amphorae like any other VMs (see next section) may work but the Octavia project recommends respawning (failing over) its VMs. This is because migration may take longer than expected, which may in turn cause Octavia to see its VMs as lost/stale. See `Evacuating a Specific Amphora from a Host`_ in the upstream documentation. Irrespective of the above, a charm issue is currently preventing the migration of Octavia VMs from occurring. This issue is tracked in bug `LP #1933981`_. List the amphorae hosted on the node: .. code-block:: none openstack server list --host node2.maas --all-projects | grep amphora The Amphora ID is appended to the VM name. For each VM, #. gather the load balancer ID: .. code-block:: none openstack loadbalancer amphora show <Amphora ID> #. respawn an Octavia VM and monitor its progress: .. code-block:: none openstack loadbalancer failover <LB ID> watch 'openstack loadbalancer amphora list | grep <LB ID>' The original VM will be removed from the compute node. Live migrate the node's VMs ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Evacuate the node's VMs by live migration: .. code-block:: none juju run-action --wait nova-compute/0 disable nova host-evacuate-live node2.maas See cloud operation :doc:`Live migrate VMs from a running compute node <ops-live-migrate-vms>` for in-depth coverage of live migration. Ensure that all VMs have been evacuated: .. code-block:: none juju ssh nova-compute/0 sudo virsh list --all Remove the Juju machine ~~~~~~~~~~~~~~~~~~~~~~~ .. code-block:: none juju remove-machine 14 .. LINKS .. _nova-compute charm: https://jaas.ai/nova-compute .. _lp #1933981: https://bugs.launchpad.net/charm-nova-compute/+bug/1933981 .. _Evacuating a Specific Amphora from a Host: https://docs.openstack.org/octavia/latest/admin/guides/operator-maintenance.html#evacuating-a-specific-amphora-from-a-host ",,172,0
openstack%2Fcharm-octavia~master~Ibbc0c70cd0a97414f71ed7a999c18c3d51816cd4,openstack/charm-octavia,master,Ibbc0c70cd0a97414f71ed7a999c18c3d51816cd4,Add Nova Anti-Affinity support,ABANDONED,2020-07-01 11:02:51.000000000,2022-01-04 11:42:06.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 11:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ef81194b3a1f5c2cda881593eeaaafec8448e1ad', 'message': 'Add Nova Anti-Affinity support\n\nOctavia has support for Nova anti-affinity scheduling\nhowever the charm does not configure it when topology\nis set for ACTIVE_STANDBY.\n\nChange-Id: Ibbc0c70cd0a97414f71ed7a999c18c3d51816cd4\nCloses-Bug: #1813263\nDepends-On: Ia6631a29a0bd1a4ce5b992fecf047884205cd1e1\n'}, {'number': 2, 'created': '2020-10-01 10:38:03.000000000', 'files': ['src/templates/rocky/octavia.conf', 'src/templates/ussuri/octavia.conf'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/dbb3d77c9c0dca64db8a0b79ab9f8ee25e0061f0', 'message': 'Add Nova Anti-Affinity support\n\nOctavia has support for Nova anti-affinity scheduling\nhowever the charm does not configure it when topology\nis set for ACTIVE_STANDBY.\n\nChange-Id: Ibbc0c70cd0a97414f71ed7a999c18c3d51816cd4\nCloses-Bug: #1813263\nDepends-On: Ia6631a29a0bd1a4ce5b992fecf047884205cd1e1\n'}]",0,738790,dbb3d77c9c0dca64db8a0b79ab9f8ee25e0061f0,9,3,2,28510,,,0,"Add Nova Anti-Affinity support

Octavia has support for Nova anti-affinity scheduling
however the charm does not configure it when topology
is set for ACTIVE_STANDBY.

Change-Id: Ibbc0c70cd0a97414f71ed7a999c18c3d51816cd4
Closes-Bug: #1813263
Depends-On: Ia6631a29a0bd1a4ce5b992fecf047884205cd1e1
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/90/738790/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/rocky/octavia.conf', 'src/templates/ussuri/octavia.conf']",2,ef81194b3a1f5c2cda881593eeaaafec8448e1ad,bug/1813263,{% if options.loadbalancer-topology != 'SINGLE' -%} enable_anti_affinity = true anti_affinity_policy = soft-anti-affinity {%- endif %} ,,9,0
openstack%2Fopenstack-ansible-os_keystone~master~Ib3258eb018f758edb9a6a9424a7be8266c7e9fd6,openstack/openstack-ansible-os_keystone,master,Ib3258eb018f758edb9a6a9424a7be8266c7e9fd6,Fix keystone_httpd_mpm_max_requests default value,MERGED,2022-01-02 08:48:20.000000000,2022-01-04 11:10:55.000000000,2022-01-04 11:09:12.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-02 08:48:20.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/145b219a83abd56c1bab7e2504cddb75c3ea40c4', 'message': 'Fix keystone_httpd_mpm_max_requests default value\n\nAt the moment keystone_httpd_mpm_server_limit appears as string,\nso instead of multiplication of integers we repeat value of\n`keystone_httpd_mpm_server_limit` `keystone_httpd_mpm_thread_child` times\nwhich is not what we want to do.\nSo we apply int filter to ensure we do math operation on integers.\n\nChange-Id: Ib3258eb018f758edb9a6a9424a7be8266c7e9fd6\n'}]",0,823226,145b219a83abd56c1bab7e2504cddb75c3ea40c4,8,4,1,28619,,,0,"Fix keystone_httpd_mpm_max_requests default value

At the moment keystone_httpd_mpm_server_limit appears as string,
so instead of multiplication of integers we repeat value of
`keystone_httpd_mpm_server_limit` `keystone_httpd_mpm_thread_child` times
which is not what we want to do.
So we apply int filter to ensure we do math operation on integers.

Change-Id: Ib3258eb018f758edb9a6a9424a7be8266c7e9fd6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/26/823226/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,145b219a83abd56c1bab7e2504cddb75c3ea40c4,,"keystone_httpd_mpm_max_requests: ""{{ keystone_httpd_mpm_server_limit | int * keystone_httpd_mpm_thread_child | int }}""","keystone_httpd_mpm_max_requests: ""{{ keystone_httpd_mpm_server_limit * keystone_httpd_mpm_thread_child }}""",1,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~I6194ce6bdb0c31f5d7c82337aa3b940cdd7d1a79,openstack/openstack-ansible-nspawn_container_create,master,I6194ce6bdb0c31f5d7c82337aa3b940cdd7d1a79,Replace deprecated UPPER_CONSTRAINTS_FILE variable,ABANDONED,2020-11-10 05:11:26.000000000,2022-01-04 11:01:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-10 05:11:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/eadaa69472b15accf8e135aa267041330e47405d', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nChange-Id: I6194ce6bdb0c31f5d7c82337aa3b940cdd7d1a79\n'}]",0,762037,eadaa69472b15accf8e135aa267041330e47405d,7,1,1,32067,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

Change-Id: I6194ce6bdb0c31f5d7c82337aa3b940cdd7d1a79
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/37/762037/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eadaa69472b15accf8e135aa267041330e47405d,, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~I87ae25888ade0daf5729a84bfd9d284e6b0800d3,openstack/openstack-ansible-nspawn_container_create,master,I87ae25888ade0daf5729a84bfd9d284e6b0800d3,[reno] Stop publishing release notes,ABANDONED,2021-01-22 16:23:40.000000000,2022-01-04 11:01:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-22 16:23:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/8be89462b8a82ed95fb33c7464fd792b088f8724', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I87ae25888ade0daf5729a84bfd9d284e6b0800d3'}]",0,772016,8be89462b8a82ed95fb33c7464fd792b088f8724,4,1,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I87ae25888ade0daf5729a84bfd9d284e6b0800d3",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/16/772016/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8be89462b8a82ed95fb33c7464fd792b088f8724,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-nspawn_container_create~stable%2Fvictoria~Ib95223c9ac47a7825a320466cb1cd7aff262702e,openstack/openstack-ansible-nspawn_container_create,stable/victoria,Ib95223c9ac47a7825a320466cb1cd7aff262702e,Updated from OpenStack Ansible Tests,ABANDONED,2021-12-29 10:50:29.000000000,2022-01-04 11:00:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-29 10:50:29.000000000', 'files': ['run_tests.sh', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/97f317cad81e9554a73f13431455f5947bba712e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib95223c9ac47a7825a320466cb1cd7aff262702e\n'}]",0,823158,97f317cad81e9554a73f13431455f5947bba712e,3,1,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib95223c9ac47a7825a320466cb1cd7aff262702e
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/58/823158/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Vagrantfile']",2,97f317cad81e9554a73f13431455f5947bba712e,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""centos8"" do |centos8| centos8.vm.box = ""centos/8"""," config.vm.define ""centos7"" do |centos7| centos7.vm.box = ""centos/7""",3,6
openstack%2Fopenstack-ansible-nspawn_hosts~master~I61b82788b4dbfa20e0443a557d782bbddd7c68ea,openstack/openstack-ansible-nspawn_hosts,master,I61b82788b4dbfa20e0443a557d782bbddd7c68ea,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 10:02:52.000000000,2022-01-04 11:00:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-12-24 10:02:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/8e2d0180d410302d2d1622b82762c4f31c4aa408', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I61b82788b4dbfa20e0443a557d782bbddd7c68ea\n'}]",0,768460,8e2d0180d410302d2d1622b82762c4f31c4aa408,4,2,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I61b82788b4dbfa20e0443a557d782bbddd7c68ea
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/60/768460/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8e2d0180d410302d2d1622b82762c4f31c4aa408,, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-nspawn_hosts~master~I5a4eab69aba9c8cacb4ec0d1bc95e7f691469c96,openstack/openstack-ansible-nspawn_hosts,master,I5a4eab69aba9c8cacb4ec0d1bc95e7f691469c96,Replace deprecated UPPER_CONSTRAINTS_FILE variable,ABANDONED,2020-11-10 05:11:25.000000000,2022-01-04 11:00:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-10 05:11:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/30e6fba4e2a0c620bd537c7328d37537a40330c4', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nChange-Id: I5a4eab69aba9c8cacb4ec0d1bc95e7f691469c96\n'}]",0,762036,30e6fba4e2a0c620bd537c7328d37537a40330c4,7,1,1,32067,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

Change-Id: I5a4eab69aba9c8cacb4ec0d1bc95e7f691469c96
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/36/762036/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,30e6fba4e2a0c620bd537c7328d37537a40330c4,, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-nspawn_hosts~master~I60251ee91d2f8f84310e0ef859f8ba1390e5fb1f,openstack/openstack-ansible-nspawn_hosts,master,I60251ee91d2f8f84310e0ef859f8ba1390e5fb1f,[reno] Stop publishing release notes,ABANDONED,2021-01-22 16:23:48.000000000,2022-01-04 10:59:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-22 16:23:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/a139c732a2a4f38562f279f1dcbce42c7a7f434e', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I60251ee91d2f8f84310e0ef859f8ba1390e5fb1f'}]",0,772017,a139c732a2a4f38562f279f1dcbce42c7a7f434e,4,1,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I60251ee91d2f8f84310e0ef859f8ba1390e5fb1f",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/17/772017/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a139c732a2a4f38562f279f1dcbce42c7a7f434e,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~Ib013981138209e56f1a0741d15bfe32dcd48702b,openstack/openstack-ansible-nspawn_container_create,master,Ib013981138209e56f1a0741d15bfe32dcd48702b,Fix linter errors and add lint skip list,ABANDONED,2020-09-30 15:16:33.000000000,2022-01-04 10:59:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-30 15:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/dae32aac997f15639630160aff0f65d83291088b', 'message': 'Fix linter errors and add lint skip list\n\nChange-Id: Ib013981138209e56f1a0741d15bfe32dcd48702b\n'}, {'number': 2, 'created': '2020-09-30 15:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/45387d1147b2c8170894dcbdfe7cfb09cedcbad6', 'message': 'Fix linter errors and add lint skip list\n\nChange-Id: Ib013981138209e56f1a0741d15bfe32dcd48702b\n'}, {'number': 3, 'created': '2020-10-06 13:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/e11a462fdd259f880fa254a763c42e98b3baf4f7', 'message': 'Fix linter errors and add lint skip list\n\nMake centos-8 job non voting, nspawn requries btrfs which is not\navailable on centos-8\n\nChange-Id: Ib013981138209e56f1a0741d15bfe32dcd48702b\n'}, {'number': 4, 'created': '2020-10-06 14:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/b68c977c0f416f3088b5d7d616ad85f55bfd853b', 'message': 'Fix linter errors and add lint skip list\n\nMake centos-8 job non voting, nspawn requries btrfs which is not\navailable on centos-8\n\nChange-Id: Ib013981138209e56f1a0741d15bfe32dcd48702b\n'}, {'number': 5, 'created': '2020-10-06 14:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/bedbd1d4ab1e812ec7929a9f98b3be916aad584e', 'message': 'Fix linter errors and add lint skip list\n\nMake centos-8 job non voting, nspawn requries btrfs which is not\navailable on centos-8\n\nChange-Id: Ib013981138209e56f1a0741d15bfe32dcd48702b\n'}, {'number': 6, 'created': '2020-10-06 15:47:05.000000000', 'files': ['vars/ubuntu-20.04.yml', 'zuul.d/project.yaml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/5fe1a5fdc85c0ced3b7b723321da27607d56ea4e', 'message': 'Fix linter errors and add lint skip list\n\nMake centos-8 job non voting, nspawn requries btrfs which is not\navailable on centos-8\n\nDepends-On: https://review.opendev.org/756341\nChange-Id: Ib013981138209e56f1a0741d15bfe32dcd48702b\n'}]",1,755320,5fe1a5fdc85c0ced3b7b723321da27607d56ea4e,18,3,6,25023,,,0,"Fix linter errors and add lint skip list

Make centos-8 job non voting, nspawn requries btrfs which is not
available on centos-8

Depends-On: https://review.opendev.org/756341
Change-Id: Ib013981138209e56f1a0741d15bfe32dcd48702b
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/20/755320/6 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'meta/main.yml', '.ansible-lint']",3,dae32aac997f15639630160aff0f65d83291088b,,warn_list: - '208' # File permissions unset or incorrect - '701' # meta/main.yml should contain relevant info ,,6,2
openstack%2Fopenstack-ansible-galera_server~master~Ifc4ead03ac914275a302620a67a6f9cdb7275116,openstack/openstack-ansible-galera_server,master,Ifc4ead03ac914275a302620a67a6f9cdb7275116,Remove Centos-7 support,ABANDONED,2020-07-21 08:52:38.000000000,2022-01-04 10:57:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-07-21 08:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/ec4a69b202fd42fa3b0912b057d122317a8f79af', 'message': 'Remove Centos-7 support\n\nUssuri is the last release that openstack-ansible supports Centos-7.\nRemove support for Centos-7 for Victoria.\n\nChange-Id: Ifc4ead03ac914275a302620a67a6f9cdb7275116\n'}, {'number': 2, 'created': '2020-07-21 12:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/169c24deea74cdd93b2b29e45e822b51441ba905', 'message': 'Remove Centos-7 support\n\nUssuri is the last release that openstack-ansible supports Centos-7.\nRemove support for Centos-7 for Victoria.\n\nDepends-On: https://review.opendev.org/742166\nDepends-On: https://review.opendev.org/742103\nChange-Id: Ifc4ead03ac914275a302620a67a6f9cdb7275116\n'}, {'number': 3, 'created': '2020-09-21 07:54:14.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a4d6311bcb3f208d1e6a012f9f7f5e2c382b1158', 'message': 'Remove Centos-7 support\n\nUssuri is the last release that openstack-ansible supports Centos-7.\nRemove support for Centos-7 for Victoria.\n\nDepends-On: https://review.opendev.org/742103\nChange-Id: Ifc4ead03ac914275a302620a67a6f9cdb7275116\n'}]",0,742104,a4d6311bcb3f208d1e6a012f9f7f5e2c382b1158,15,2,3,25023,,,0,"Remove Centos-7 support

Ussuri is the last release that openstack-ansible supports Centos-7.
Remove support for Centos-7 for Victoria.

Depends-On: https://review.opendev.org/742103
Change-Id: Ifc4ead03ac914275a302620a67a6f9cdb7275116
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/04/742104/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,ec4a69b202fd42fa3b0912b057d122317a8f79af,, name: openstack-ansible-functional-centos-8-ssl parent: openstack-ansible-functional-centos-8, name: openstack-ansible-functional-centos-7-ssl parent: openstack-ansible-functional-centos-7,5,5
openstack%2Fopenstack-ansible-nspawn_hosts~master~I2998a5ee363bb71c1c6009a88f883deef0837c70,openstack/openstack-ansible-nspawn_hosts,master,I2998a5ee363bb71c1c6009a88f883deef0837c70,Add functional jobs to gate as well as check,ABANDONED,2020-09-30 14:39:22.000000000,2022-01-04 10:56:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-30 14:39:22.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/049afed0496916e6334c1b3c9a454a4241f9c36f', 'message': 'Add functional jobs to gate as well as check\n\nChange-Id: I2998a5ee363bb71c1c6009a88f883deef0837c70\n'}]",0,755304,049afed0496916e6334c1b3c9a454a4241f9c36f,3,1,1,25023,,,0,"Add functional jobs to gate as well as check

Change-Id: I2998a5ee363bb71c1c6009a88f883deef0837c70
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/04/755304/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,049afed0496916e6334c1b3c9a454a4241f9c36f,,, name: openstack-ansible-nspawn-container-create-centos-7 parent: openstack-ansible-nspawn-container-create nodeset: centos-7 - job:,4,6
openstack%2Fopenstack-ansible~master~I148fb9cc47dfeefba33328b8a6f646bee3809b3c,openstack/openstack-ansible,master,I148fb9cc47dfeefba33328b8a6f646bee3809b3c,DNM test https://review.opendev.org/613078,ABANDONED,2020-07-06 16:16:50.000000000,2022-01-04 10:55:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-07-06 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0cb52a5e0fced1f000099f5077c28c18769d4b13', 'message': 'DNM test https://review.opendev.org/613078\n\nChange-Id: I148fb9cc47dfeefba33328b8a6f646bee3809b3c\n'}, {'number': 2, 'created': '2020-07-06 20:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/754b74b5c10c549453ec723a1a7b030842e93561', 'message': 'DNM test https://review.opendev.org/613078\n\nDepends-On: https://review.opendev.org/613078\nChange-Id: I148fb9cc47dfeefba33328b8a6f646bee3809b3c\n'}, {'number': 3, 'created': '2020-07-06 22:11:23.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0040e7b9c1d70480290118b732dd69440131388e', 'message': 'DNM test https://review.opendev.org/613078\n\nDepends-On: https://review.opendev.org/613078\nDepends-On: https://review.opendev.org/739428\nChange-Id: I148fb9cc47dfeefba33328b8a6f646bee3809b3c\n'}]",0,739536,0040e7b9c1d70480290118b732dd69440131388e,15,2,3,25023,,,0,"DNM test https://review.opendev.org/613078

Depends-On: https://review.opendev.org/613078
Depends-On: https://review.opendev.org/739428
Change-Id: I148fb9cc47dfeefba33328b8a6f646bee3809b3c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/739536/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,0cb52a5e0fced1f000099f5077c28c18769d4b13,,,,0,0
openstack%2Fopenstack-ansible-os_barbican~master~I3196da2a1d54317eb818c925b589c2df70c5bfb3,openstack/openstack-ansible-os_barbican,master,I3196da2a1d54317eb818c925b589c2df70c5bfb3,DNM test patch,ABANDONED,2021-02-04 19:39:12.000000000,2022-01-04 10:55:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-04 19:39:12.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/9dfdaff6289c5c1f64d6aab537e9064bd19a4c33', 'message': 'DNM test patch\n\nDepends-On: Id2c7ecdcbd276c9057816c7049dd1a25864b1a32\nChange-Id: I3196da2a1d54317eb818c925b589c2df70c5bfb3\n'}]",0,774150,9dfdaff6289c5c1f64d6aab537e9064bd19a4c33,5,1,1,25023,,,0,"DNM test patch

Depends-On: Id2c7ecdcbd276c9057816c7049dd1a25864b1a32
Change-Id: I3196da2a1d54317eb818c925b589c2df70c5bfb3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/50/774150/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,9dfdaff6289c5c1f64d6aab537e9064bd19a4c33,,,,0,0
openstack%2Fopenstack-ansible~master~Icb004eaad6de5da5fbf0d2cf0bcf94dfac2ca128,openstack/openstack-ansible,master,Icb004eaad6de5da5fbf0d2cf0bcf94dfac2ca128,DNM: Test OSA with ara on master,ABANDONED,2020-10-23 15:53:58.000000000,2022-01-04 10:55:18.000000000,,"[{'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-23 15:53:58.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9e6bf4fa19c5025ddb0d49d41b203cfbd7bac14', 'message': 'DNM: Test OSA with ara on master\n\nIn order to test that https://review.opendev.org/#/c/759439/ really\nworks.\n\nChange-Id: Icb004eaad6de5da5fbf0d2cf0bcf94dfac2ca128\n'}]",0,759464,e9e6bf4fa19c5025ddb0d49d41b203cfbd7bac14,5,2,1,9061,,,0,"DNM: Test OSA with ara on master

In order to test that https://review.opendev.org/#/c/759439/ really
works.

Change-Id: Icb004eaad6de5da5fbf0d2cf0bcf94dfac2ca128
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/759464/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,e9e6bf4fa19c5025ddb0d49d41b203cfbd7bac14,, git clone https://opendev.org/recordsansible/ara /tmp/ara ${PIP_COMMAND} install --isolated ${PIP_OPTS} /tmp/ara[server]," ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara[server]""",2,1
openstack%2Fansible-role-python_venv_build~master~I3a92178c91590c38586ad34a37a2516a4445ebb9,openstack/ansible-role-python_venv_build,master,I3a92178c91590c38586ad34a37a2516a4445ebb9,DNM do not use venv_pip_build_args when upgrading venv pip/setuptools/wheels,ABANDONED,2020-09-24 15:56:54.000000000,2022-01-04 10:55:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-24 15:56:54.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/6da0e140cc7972acb442c2b15cfd00d38e5eceaf', 'message': 'DNM do not use venv_pip_build_args when upgrading venv pip/setuptools/wheels\n\nWe are trying to pass test flags in venv_pip_build_args which are not\navailable in the version of pip present in the venv before the upgrade\n\nChange-Id: I3a92178c91590c38586ad34a37a2516a4445ebb9\n'}]",0,754125,6da0e140cc7972acb442c2b15cfd00d38e5eceaf,3,1,1,25023,,,0,"DNM do not use venv_pip_build_args when upgrading venv pip/setuptools/wheels

We are trying to pass test flags in venv_pip_build_args which are not
available in the version of pip present in the venv before the upgrade

Change-Id: I3a92178c91590c38586ad34a37a2516a4445ebb9
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/25/754125/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",2,6da0e140cc7972acb442c2b15cfd00d38e5eceaf,,# {{ venv_pip_install_args }}, {{ venv_pip_install_args }},2,2
openstack%2Fopenstack-ansible~master~Ida64755ed7424ab26294b940bb4b1e83c1433208,openstack/openstack-ansible,master,Ida64755ed7424ab26294b940bb4b1e83c1433208,DNM Test new python resolver,ABANDONED,2020-09-24 12:57:55.000000000,2022-01-04 10:54:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-24 12:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a22da80fb8de8308292e427d818692241237d8e2', 'message': 'DNM Test new python resolver\n\nEnable for the ansible-runtime venv and python_venv_build\n\nChange-Id: Ida64755ed7424ab26294b940bb4b1e83c1433208\n'}, {'number': 2, 'created': '2020-09-24 14:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7a73159b792e9cfc66235b09c2ae1d2d3f8242c3', 'message': 'DNM Test new python resolver\n\nEnable for the ansible-runtime venv and python_venv_build\n\nChange-Id: Ida64755ed7424ab26294b940bb4b1e83c1433208\n'}, {'number': 3, 'created': '2020-09-24 14:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3c2e061d5186efd86c565bd9d997cdb394275a77', 'message': 'DNM Test new python resolver\n\nEnable for the ansible-runtime venv and python_venv_build\n\nChange-Id: Ida64755ed7424ab26294b940bb4b1e83c1433208\n'}, {'number': 4, 'created': '2020-09-24 15:57:37.000000000', 'files': ['scripts/scripts-library.sh', 'inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4017332ae2917b9f42703ae770cc2abe8872f38c', 'message': 'DNM Test new python resolver\n\nEnable for the ansible-runtime venv and python_venv_build\n\nDepends-On: https://review.opendev.org/754125\nChange-Id: Ida64755ed7424ab26294b940bb4b1e83c1433208\n'}]",0,754084,4017332ae2917b9f42703ae770cc2abe8872f38c,7,1,4,25023,,,0,"DNM Test new python resolver

Enable for the ansible-runtime venv and python_venv_build

Depends-On: https://review.opendev.org/754125
Change-Id: Ida64755ed7424ab26294b940bb4b1e83c1433208
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/754084/4 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/scripts-library.sh', 'inventory/group_vars/all/all.yml']",2,a22da80fb8de8308292e427d818692241237d8e2,,pip_install_options: '--unstable-feature=2020-resolver' ,,3,1
openstack%2Fopenstack-ansible-os_ironic~master~I23d6402ade7e34d4e7732672916d0d0e0392c9f1,openstack/openstack-ansible-os_ironic,master,I23d6402ade7e34d4e7732672916d0d0e0392c9f1,[DNM] test patch,ABANDONED,2020-05-12 06:26:41.000000000,2022-01-04 10:54:23.000000000,,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-05-12 06:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/eee7e6e6e38f8807e24cfef46703fe101eb008e2', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/720705\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}, {'number': 2, 'created': '2020-06-18 08:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/ffe89626b7ad1901d8cc2a4b7ccf37c37592aaa8', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/736507\n\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}, {'number': 3, 'created': '2020-06-18 11:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/ae0dbc3793e8fd9664dbc431b18e49040a821fce', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/736507\n\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}, {'number': 4, 'created': '2020-07-09 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/bbb36f25c517c540924e0bdfc174b426d5355eed', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/736507\n\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}, {'number': 5, 'created': '2020-07-21 06:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/c7789b48119a0a8c9f9c815639b1ae73da216a75', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/736507\nDepends-On: https://review.opendev.org/#/c/720705/\nDepends-On: https://review.opendev.org/#/c/727692/\n\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}, {'number': 6, 'created': '2020-07-24 11:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/07840147a59cd3c4aa2f2700c2411925054b4b53', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/736507\nDepends-On: https://review.opendev.org/#/c/720705/\nDepends-On: https://review.opendev.org/#/c/727692/\nDepends-On: https://review.opendev.org/#/c/741445/12\n\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}, {'number': 7, 'created': '2020-07-29 09:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d83f29ee22db5c5fed7179c42d65968d4ba6d51e', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/736507\n\n\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}, {'number': 8, 'created': '2020-09-01 11:37:30.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/7945194cf318dc4a9009b9928eb184dc6a9022b0', 'message': '[DNM] test patch\n\nDepends-On: https://review.opendev.org/#/c/720705/\n\n\nChange-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1\n'}]",0,727067,7945194cf318dc4a9009b9928eb184dc6a9022b0,46,4,8,25023,,,0,"[DNM] test patch

Depends-On: https://review.opendev.org/#/c/720705/


Change-Id: I23d6402ade7e34d4e7732672916d0d0e0392c9f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/67/727067/2 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,eee7e6e6e38f8807e24cfef46703fe101eb008e2,,,,0,0
openstack%2Fopenstack-ansible-galera_server~master~Ia3e530ae2f0e8cc28656a268b1b594b0aca4e7ac,openstack/openstack-ansible-galera_server,master,Ia3e530ae2f0e8cc28656a268b1b594b0aca4e7ac,DNM,ABANDONED,2021-03-02 10:46:34.000000000,2022-01-04 10:54:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-02 10:46:34.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/ef45d497ecb7db2461dd8dd9961bf23b47297eb6', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/775684\nChange-Id: Ia3e530ae2f0e8cc28656a268b1b594b0aca4e7ac\n'}]",0,778163,ef45d497ecb7db2461dd8dd9961bf23b47297eb6,3,1,1,28619,,,0,"DNM

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/775684
Change-Id: Ia3e530ae2f0e8cc28656a268b1b594b0aca4e7ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/63/778163/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,ef45d497ecb7db2461dd8dd9961bf23b47297eb6,775893,,,0,0
openstack%2Fopenstack-ansible-galera_server~master~Ifbae45a90572463906c3ab8b7543c46311c228c9,openstack/openstack-ansible-galera_server,master,Ifbae45a90572463906c3ab8b7543c46311c228c9,[DNM] noop,ABANDONED,2020-09-01 16:07:55.000000000,2022-01-04 10:53:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-01 16:07:55.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/278794a613976d8e2dba0ba7ded8247c28551f4f', 'message': '[DNM] noop\n\nChange-Id: Ifbae45a90572463906c3ab8b7543c46311c228c9\n'}]",0,749354,278794a613976d8e2dba0ba7ded8247c28551f4f,3,1,1,28619,,,0,"[DNM] noop

Change-Id: Ifbae45a90572463906c3ab8b7543c46311c228c9
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/54/749354/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,278794a613976d8e2dba0ba7ded8247c28551f4f,,,,0,0
openstack%2Fopenstack-ansible~master~I0aa77f1573a284b8791bf43accac324a21c33634,openstack/openstack-ansible,master,I0aa77f1573a284b8791bf43accac324a21c33634,Add installation support for ceph-mds (metadata server),ABANDONED,2019-07-29 22:47:04.000000000,2022-01-04 10:52:11.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 22:47:04.000000000', 'files': ['inventory/env.d/ceph.yml', 'etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example', 'doc/source/user/ceph/full-deploy.rst', 'etc/openstack_deploy/conf.d/ceph.yml.aio', 'etc/openstack_deploy/env.d/aio_metal.yml.example', 'inventory/group_vars/all/ceph.yml', 'playbooks/ceph-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0d24f6c4e6adf18e11b098f398579c050debde2', 'message': 'Add installation support for ceph-mds (metadata server)\n\nThis patch provides support for CephFS filesystems to be used within the\nopenstack cloud.  The ceph-ansible playbooks in use currently have\nsupport for ceph-mds, this patch allows for creating a service container\nto utilize the support.\n\nChange-Id: I0aa77f1573a284b8791bf43accac324a21c33634\n'}]",4,673369,d0d24f6c4e6adf18e11b098f398579c050debde2,6,2,1,30764,,,0,"Add installation support for ceph-mds (metadata server)

This patch provides support for CephFS filesystems to be used within the
openstack cloud.  The ceph-ansible playbooks in use currently have
support for ceph-mds, this patch allows for creating a service container
to utilize the support.

Change-Id: I0aa77f1573a284b8791bf43accac324a21c33634
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/69/673369/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/env.d/ceph.yml', 'etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example', 'doc/source/user/ceph/full-deploy.rst', 'etc/openstack_deploy/conf.d/ceph.yml.aio', 'etc/openstack_deploy/env.d/aio_metal.yml.example', 'inventory/group_vars/all/ceph.yml', 'playbooks/ceph-install.yml']",7,d0d24f6c4e6adf18e11b098f398579c050debde2,ceph-mds," - name: Install ceph mdss hosts: ceph-mds user: root vars_files: - ""defaults/{{ install_method }}_install.yml"" pre_tasks: - include: common-tasks/os-log-dir-setup.yml vars: log_dirs: - src: ""/openstack/log/{{ inventory_hostname }}-ceph"" dest: ""/var/log/ceph"" - include: common-tasks/unbound-clients.yml static: no when: - hostvars['localhost']['resolvconf_enabled'] | bool #TODO: mgariepy, revisit to use include_role when https://github.com/ansible/ansible/issues/20077 is fixed - name: install the ceph stable repository key rpm_key: key: ""{{ ceph_stable_key }}"" state: present when: - ceph_origin == 'repository' - ceph_repository == 'community' - ansible_pkg_mgr in ['yum', 'dnf'] - name: add ceph stable repository package: name: http://download.ceph.com/rpm-{{ ceph_stable_release }}/{{ ceph_stable_redhat_distro }}/noarch/ceph-release-1-0.{{ ceph_stable_redhat_distro|replace('rhel', 'el') }}.noarch.rpm state: present changed_when: false when: - ceph_origin == 'repository' - ceph_repository == 'community' - ansible_pkg_mgr in ['yum', 'dnf'] - name: Purge yum/dnf cache command: ""{{ ansible_pkg_mgr }} clean all"" when: - ansible_pkg_mgr in ['yum', 'dnf'] tags: - skip_ansible_lint - name: Set default priority for Ceph repos command: > yum-config-manager --enable Ceph --setopt=""Ceph.priority=99"" --enable Ceph-noarch --setopt=""Ceph-noarch.priority=99"" when: - ansible_pkg_mgr in ['yum', 'dnf'] - name: Gather ceph-mon facts action: setup delegate_to: ""{{ item }}"" delegate_facts: yes with_items: ""{{ groups[mon_group_name] }}"" when: - inventory_hostname == ansible_play_hosts[0] tags: - ceph-mds - ceph-mon-facts # Set the priority of the ceph community apt repo either above or below that of UCA or distro sources - name: Set apt package pins include_role: name: apt_package_pinning vars: apt_package_pinning_file_name: ""ceph_community_pin.pref"" apt_package_pinning_priority: ""{{ (ceph_repository == 'community') | ternary(1000, 100) }}"" apt_pinned_packages: [{ package: '*', release: 'ceph.com' }] when: - ansible_pkg_mgr == 'apt' roles: - role: ceph-defaults tags: - skip_ansible_lint - role: ceph-common tags: - skip_ansible_lint - role: ceph-config tags: - skip_ansible_lint - role: ceph-mds tags: - skip_ansible_lint - role: system_crontab_coordination tags: - crontab post_tasks: - include_tasks: ""common-tasks/rsyslog-client.yml"" vars: rsyslog_client_log_rotate_file: ceph_log_rotate rsyslog_client_log_dir: ""/var/log/ceph"" rsyslog_client_config_name: ""99-ceph-rsyslog-client.conf"" environment: ""{{ deployment_environment_variables | default({}) }}"" tags: - ceph - ceph-mds",,129,3
openstack%2Fopenstack-ansible-tests~master~Id616c4f62f534e6e7b657e7a0374097535ca59a7,openstack/openstack-ansible-tests,master,Id616c4f62f534e6e7b657e7a0374097535ca59a7,Use latest version of ARA,ABANDONED,2020-03-01 21:54:03.000000000,2022-01-04 10:51:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-01 21:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e2c81afbeb9c1ba85e5e8beb6763632cd9d8161a', 'message': 'Use latest version of ARA\n\nChange-Id: Id616c4f62f534e6e7b657e7a0374097535ca59a7\n'}, {'number': 2, 'created': '2020-03-01 21:55:33.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/46c91c18de8b4337ac52359bfb59ae83e5c09dff', 'message': 'Use latest version of ARA\n\nChange-Id: Id616c4f62f534e6e7b657e7a0374097535ca59a7\n'}]",0,710663,46c91c18de8b4337ac52359bfb59ae83e5c09dff,4,1,2,25023,,,0,"Use latest version of ARA

Change-Id: Id616c4f62f534e6e7b657e7a0374097535ca59a7
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/63/710663/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,e2c81afbeb9c1ba85e5e8beb6763632cd9d8161a,," PIP_OPTS+="" ara"""," PIP_OPTS+="" ara<1.0.0""",1,1
openstack%2Fopenstack-ansible-lxc_container_create~master~I88999dc340729e4c095e52339e60624c922bb613,openstack/openstack-ansible-lxc_container_create,master,I88999dc340729e4c095e52339e60624c922bb613,add the project source code repository,ABANDONED,2018-09-07 01:33:10.000000000,2022-01-04 10:50:21.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 01:33:10.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/946c8609cb6fecad204666ccc80a8074556e6d36', 'message': 'add the project source code repository\n\nChange-Id: I88999dc340729e4c095e52339e60624c922bb613\n'}]",0,600600,946c8609cb6fecad204666ccc80a8074556e6d36,7,2,1,27385,,,0,"add the project source code repository

Change-Id: I88999dc340729e4c095e52339e60624c922bb613
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/00/600600/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,946c8609cb6fecad204666ccc80a8074556e6d36,update_doc,The project source code repository is located at: https://git.openstack.org/cgit/openstack/openstack-ansible-lxc_container_create/ The project home is at: https://launchpad.net/openstack-ansible/,The project home is at: https://launchpad.net/openstack-ansible,4,1
openstack%2Fopenstack-ansible-os_neutron~master~Ie886609b0d9df549c358f07987b636b570a63311,openstack/openstack-ansible-os_neutron,master,Ie886609b0d9df549c358f07987b636b570a63311,Update calico to new repository location.,ABANDONED,2020-05-27 05:35:15.000000000,2022-01-04 10:49:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-05-27 05:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9b58acc5165d15dd630b89a93b8bfcf595b31d6f', 'message': 'Update calico to new repository location.\n\nThis repo was retired https://opendev.org/openstack/networking-calico/commit/f1551c8cff66339377d72394b47d16d9bf16d980\nand moved to github.\n\nChange-Id: Ie886609b0d9df549c358f07987b636b570a63311\n'}, {'number': 2, 'created': '2020-05-27 08:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/05eb55daf23a61cb009e180f78c19d71f5f1269b', 'message': 'Update calico to new repository location.\n\nThis repo was retired https://opendev.org/openstack/networking-calico/commit/f1551c8cff66339377d72394b47d16d9bf16d980\nand moved to github.\n\nDepends-On: https://review.opendev.org/731109\nChange-Id: Ie886609b0d9df549c358f07987b636b570a63311\n'}, {'number': 3, 'created': '2020-06-29 08:55:13.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/66db044bacd19e9727c9f0d92ba1d28c15998f4a', 'message': 'Update calico to new repository location.\n\nThis repo was retired https://opendev.org/openstack/networking-calico/commit/f1551c8cff66339377d72394b47d16d9bf16d980\nand moved to github.\n\nDepends-On: https://review.opendev.org/731109\nChange-Id: Ie886609b0d9df549c358f07987b636b570a63311\n'}]",0,731080,66db044bacd19e9727c9f0d92ba1d28c15998f4a,11,2,3,25023,,,0,"Update calico to new repository location.

This repo was retired https://opendev.org/openstack/networking-calico/commit/f1551c8cff66339377d72394b47d16d9bf16d980
and moved to github.

Depends-On: https://review.opendev.org/731109
Change-Id: Ie886609b0d9df549c358f07987b636b570a63311
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/80/731080/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9b58acc5165d15dd630b89a93b8bfcf595b31d6f,,networking_calico_git_repo: https://github.com/projectcalico/networking-calico,networking_calico_git_repo: https://opendev.org/openstack/networking-calico,1,1
openstack%2Fopenstack-ansible~master~I7a6fd44553c7deebb05213a5e9d72c877d6e9cd7,openstack/openstack-ansible,master,I7a6fd44553c7deebb05213a5e9d72c877d6e9cd7,CI: Add ansible-lint to tox,ABANDONED,2020-05-17 10:41:43.000000000,2022-01-04 10:46:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-17 10:41:43.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/10df375152c6357566a3c9c549915d1537f99219', 'message': 'CI: Add ansible-lint to tox\n\nChange-Id: I7a6fd44553c7deebb05213a5e9d72c877d6e9cd7\n'}]",0,728686,10df375152c6357566a3c9c549915d1537f99219,3,1,1,30356,,,0,"CI: Add ansible-lint to tox

Change-Id: I7a6fd44553c7deebb05213a5e9d72c877d6e9cd7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/728686/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,10df375152c6357566a3c9c549915d1537f99219,, - ansible-role-jobs,,1,0
openstack%2Fopenstack-ansible-os_zun~master~I2406d92d22c90b2fcd3290d5134237b872f5f360,openstack/openstack-ansible-os_zun,master,I2406d92d22c90b2fcd3290d5134237b872f5f360,Add uwsgi role to role requirements,ABANDONED,2019-09-12 11:20:36.000000000,2022-01-04 10:45:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-12 11:20:36.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/2c964d0b002d6aa977cd0e147da449ada593690d', 'message': 'Add uwsgi role to role requirements\n\nIn order to satisfy linters we need to add uwsgi role into\ntests/ansible-role-requrements.yml\n\nChange-Id: I2406d92d22c90b2fcd3290d5134237b872f5f360\n'}]",0,681720,2c964d0b002d6aa977cd0e147da449ada593690d,6,2,1,25023,,,0,"Add uwsgi role to role requirements

In order to satisfy linters we need to add uwsgi role into
tests/ansible-role-requrements.yml

Change-Id: I2406d92d22c90b2fcd3290d5134237b872f5f360
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/20/681720/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,2c964d0b002d6aa977cd0e147da449ada593690d,,- name: uwsgi src: https://opendev.org/openstack/ansible-role-uwsgi scm: git version: master,,4,0
openstack%2Fopenstack-ansible-tests~master~Ie88b2ff0836191076fe2c21fd9bf382f9e86ddc1,openstack/openstack-ansible-tests,master,Ie88b2ff0836191076fe2c21fd9bf382f9e86ddc1,Externally set ansible_python_interpreter,ABANDONED,2020-04-29 16:28:40.000000000,2022-01-04 10:42:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-04-29 16:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3371fe5a35e7d06e1977ac3983d34424395cd78e', 'message': 'Externaly set  ansible_python_interpreter\n\nSince python2 is EOL we externaly set ansible to use python3 as\ninterpreter on hosts, as we also do install py3 only modules\n(at least aim to)\n\nChange-Id: Ie88b2ff0836191076fe2c21fd9bf382f9e86ddc1\n'}, {'number': 2, 'created': '2020-04-29 20:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/50111bc4681e4b4db2043434d5feefc62198a49a', 'message': 'Externally set ansible_python_interpreter\n\nSince python2 is EOL we externaly set ansible to use python3 as\ninterpreter on hosts, as we also do install py3 only modules\n(at least aim to)\n\nCentos7 still requires ansible to execute using python2 on the target\nhost to ensure that python libraries required by the ansible modules are\npresent.\nChange-Id: Ie88b2ff0836191076fe2c21fd9bf382f9e86ddc1\n'}, {'number': 3, 'created': '2020-04-29 21:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/01da95f7b3d6b6154c311be78b0cd87a87a575ea', 'message': 'Externally set ansible_python_interpreter\n\nSince python2 is EOL we externaly set ansible to use python3 as\ninterpreter on hosts, as we also do install py3 only modules\n(at least aim to)\n\nCentos7 still requires ansible to execute using python2 on the target\nhost to ensure that python libraries required by the ansible modules are\npresent.\nChange-Id: Ie88b2ff0836191076fe2c21fd9bf382f9e86ddc1\n'}, {'number': 4, 'created': '2020-05-15 15:34:26.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d18688513e25aff84759674ebbd5bd17de208935', 'message': 'Externally set ansible_python_interpreter\n\nSince python2 is EOL we externaly set ansible to use python3 as\ninterpreter on hosts, as we also do install py3 only modules\n(at least aim to)\n\nCentos7 still requires ansible to execute using python2 on the target\nhost to ensure that python libraries required by the ansible modules are\npresent.\nChange-Id: Ie88b2ff0836191076fe2c21fd9bf382f9e86ddc1\n'}]",0,724376,d18688513e25aff84759674ebbd5bd17de208935,11,2,4,28619,,,0,"Externally set ansible_python_interpreter

Since python2 is EOL we externaly set ansible to use python3 as
interpreter on hosts, as we also do install py3 only modules
(at least aim to)

Centos7 still requires ansible to execute using python2 on the target
host to ensure that python libraries required by the ansible modules are
present.
Change-Id: Ie88b2ff0836191076fe2c21fd9bf382f9e86ddc1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/76/724376/4 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,3371fe5a35e7d06e1977ac3983d34424395cd78e,osa/a_p_p,ansible_python_interpreter: /usr/bin/python3 ,,2,0
openstack%2Fopenstack-ansible~master~Ic3eade5c0aad523138d5fca288db1a33964482a4,openstack/openstack-ansible,master,Ic3eade5c0aad523138d5fca288db1a33964482a4,Revert ansible-playbook link to the unmodified binary,ABANDONED,2019-06-28 14:32:06.000000000,2022-01-04 10:42:08.000000000,,"[{'_account_id': 14552}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-28 14:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f003743b065c7b15d2cd87711ce39b7360e541fe', 'message': 'Revert ansible-playbook link to the unmodified binary\n\nThe ansible binary should remain unmodified as other projects\nusing ansible may be deployed from the same deployment host.\nOSA documentation expicitely describes the use of openstack-ansible\nas wrapper to run playbooks and we should continue to enforce this behavior\n\nChange-Id: Ic3eade5c0aad523138d5fca288db1a33964482a4\n'}, {'number': 2, 'created': '2019-06-28 14:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dff6c338df8aec42f06250b80fb34c286ab64fc5', 'message': 'Revert ansible-playbook link to the unmodified binary\n\nThe ansible binary should remain unmodified as other projects\nusing ansible may be deployed from the same deployment host.\nOSA documentation expicitely describes the use of openstack-ansible\nas wrapper to run playbooks and we should continue to enforce this behavior\n\nChange-Id: Ic3eade5c0aad523138d5fca288db1a33964482a4\n'}, {'number': 3, 'created': '2019-07-01 17:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61f218f553bf2814b3df47138c69992a74c593de', 'message': 'Revert ansible-playbook link to the unmodified binary\n\nThe ansible binary should remain unmodified as other projects\nusing ansible may be deployed from the same deployment host.\nOSA documentation expicitely describes the use of openstack-ansible\nas wrapper to run playbooks and we should continue to enforce this behavior\n\nChange-Id: Ic3eade5c0aad523138d5fca288db1a33964482a4\n'}, {'number': 4, 'created': '2019-08-01 15:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/df8b9c164348f1e6c99ca6f83a75e47fced58404', 'message': 'Revert ansible-playbook link to the unmodified binary\n\nThe ansible binary should remain unmodified as other projects\nusing ansible may be deployed from the same deployment host.\nOSA documentation expicitely describes the use of openstack-ansible\nas wrapper to run playbooks and we should continue to enforce this behavior\n\nChange-Id: Ic3eade5c0aad523138d5fca288db1a33964482a4\n'}, {'number': 5, 'created': '2019-08-01 15:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/51ab1e0af4364da4ffdb9643ab45b210ce992e7c', 'message': 'Revert ansible-playbook link to the unmodified binary\n\nThe ansible binary should remain unmodified as other projects\nusing ansible may be deployed from the same deployment host.\nOSA documentation expicitely describes the use of openstack-ansible\nas wrapper to run playbooks and we should continue to enforce this behavior\n\nChange-Id: Ic3eade5c0aad523138d5fca288db1a33964482a4\n'}, {'number': 6, 'created': '2019-08-01 16:08:13.000000000', 'files': ['scripts/bootstrap-aio.sh', 'scripts/bootstrap-ansible.sh', 'doc/source/admin/maintenance-tasks/ansible-modules.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9ac08baf308fcfdd17fa816261f6a9309bf3efca', 'message': 'Revert ansible-playbook link to the unmodified binary\n\nThe ansible binary should remain unmodified as other projects\nusing ansible may be deployed from the same deployment host.\nOSA documentation expicitely describes the use of openstack-ansible\nas wrapper to run playbooks and we should continue to enforce this behavior\n\nChange-Id: Ic3eade5c0aad523138d5fca288db1a33964482a4\n'}]",0,668185,9ac08baf308fcfdd17fa816261f6a9309bf3efca,16,3,6,14552,,,0,"Revert ansible-playbook link to the unmodified binary

The ansible binary should remain unmodified as other projects
using ansible may be deployed from the same deployment host.
OSA documentation expicitely describes the use of openstack-ansible
as wrapper to run playbooks and we should continue to enforce this behavior

Change-Id: Ic3eade5c0aad523138d5fca288db1a33964482a4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/668185/6 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,f003743b065c7b15d2cd87711ce39b7360e541fe,," # For any other commands, we want to link directly to the binary ln -sf /opt/ansible-runtime/bin/${ansible_bin} /usr/local/bin/${ansible_bin} /usr/local/bin/openstack-ansible get-ansible-role-requirements.yml \"," if [ ""${ansible_bin}"" == ""ansible"" ] || [ ""${ansible_bin}"" == ""ansible-playbook"" ]; then # For the 'ansible' and 'ansible-playbook' commands we want to use our wrapper ln -sf /usr/local/bin/openstack-ansible /usr/local/bin/${ansible_bin} else # For any other commands, we want to link directly to the binary ln -sf /opt/ansible-runtime/bin/${ansible_bin} /usr/local/bin/${ansible_bin} fi /opt/ansible-runtime/bin/ansible-playbook get-ansible-role-requirements.yml \",3,12
openstack%2Fneutron~master~Ib071889271f4e4d6acd83b219bf908a9ae80ce5c,openstack/neutron,master,Ib071889271f4e4d6acd83b219bf908a9ae80ce5c,Use Port_Binding up column to set Neutron port status,MERGED,2021-12-13 11:08:59.000000000,2022-01-04 10:40:07.000000000,2021-12-21 23:52:38.000000000,"[{'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-12-13 11:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f7ea3154d14a712aab904ebc4c4d403826f9ea9', 'message': '[WIP] Use Port_Binding up column to set Neutron port status\n\nChange-Id: Ib071889271f4e4d6acd83b219bf908a9ae80ce5c\n'}, {'number': 2, 'created': '2021-12-13 12:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61805505f5ceb8d0a667392077e0da77dfc6723d', 'message': '[WIP] Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nChange-Id: Ib071889271f4e4d6acd83b219bf908a9ae80ce5c\n'}, {'number': 3, 'created': '2021-12-14 13:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/761d0b69f085b2735a7fe5ebfbeb937fa4bc4e29', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nChange-Id: Ib071889271f4e4d6acd83b219bf908a9ae80ce5c\n'}, {'number': 4, 'created': '2021-12-16 17:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/783dc12eb41e302b45daefabd27d08b1989b4293', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nChange-Id: Ib071889271f4e4d6acd83b219bf908a9ae80ce5c\n'}, {'number': 5, 'created': '2021-12-17 13:57:45.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/37d4195b516f12b683b774f0561561b172dd15c6', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nChange-Id: Ib071889271f4e4d6acd83b219bf908a9ae80ce5c\n'}]",20,821544,37d4195b516f12b683b774f0561561b172dd15c6,50,7,5,23567,,,0,"Use Port_Binding up column to set Neutron port status

Currently in order to bring Neutron port to active, Neutron waits for
Logical Switch Port to become up in OVN. That means ovn-controller
changes the up status in SB DB and northd propagates it up to NB DB.
We do not need to wait and can save some time if we use the newly added
SB DB up column instead, when possible:
https://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152

Change-Id: Ib071889271f4e4d6acd83b219bf908a9ae80ce5c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/821544/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/common/ovn/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",3,0f7ea3154d14a712aab904ebc4c4d403826f9ea9,bug-1958985," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": {""key"": {""type"": ""uuid"", ""refTable"": ""Chassis"", ""refType"": ""weak""}, ""min"": 0, ""max"": 1}}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_wrong_type_event(self): row_data = {""type"": ""chassisredirect"", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_wrong_type_event(self): row_data = {""type"": ""chassisredirect"", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) "," }class TestPortBindingChassisUpdateEvent(base.BaseTestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver.nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') def _test_chassis_helper(self, event, new_row_json, old_row_json=None): table = self.chassis_table",257,239
openstack%2Fopenstack-ansible-os_zun~master~Ib1569f749152832e00afdfa49a1f7ddc6176a637,openstack/openstack-ansible-os_zun,master,Ib1569f749152832e00afdfa49a1f7ddc6176a637,Remove global python interpreter setting.,ABANDONED,2020-02-25 15:22:21.000000000,2022-01-04 10:38:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-25 15:22:21.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/b663fcd1f64b244a39ed86742dffe8ed02dc6346', 'message': 'Remove global python interpreter setting.\n\nWe now default to python3 so reduce the number of variables\n\nChange-Id: Ib1569f749152832e00afdfa49a1f7ddc6176a637\n'}]",0,709756,b663fcd1f64b244a39ed86742dffe8ed02dc6346,3,1,1,25023,,,0,"Remove global python interpreter setting.

We now default to python3 so reduce the number of variables

Change-Id: Ib1569f749152832e00afdfa49a1f7ddc6176a637
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/56/709756/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,b663fcd1f64b244a39ed86742dffe8ed02dc6346,,"zun_venv_python_executable: ""python3""","zun_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fkayobe~master~I025532156de831a0e7d025d61601a38202de10ff,openstack/kayobe,master,I025532156de831a0e7d025d61601a38202de10ff,ipa: Use openstack_branch instead of master,MERGED,2021-12-08 18:45:42.000000000,2022-01-04 10:38:17.000000000,2022-01-04 10:36:19.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 18:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b0f97738d555db31a98f0153613a840436df776', 'message': ""ipa: Use openstack_branch instead of master\n\nironic-python-agent-builder has stable branches since Wallaby -\nlet's use them.\n\nAlso as per ipab docs [1] - the env vars for overriding ipa repo\nare:\n- DIB_REPOREF_ironic_python_agent\n- DIB_REPOLOCATION_ironic_python_agent\n\n[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building\n\nChange-Id: I025532156de831a0e7d025d61601a38202de10ff\n""}, {'number': 2, 'created': '2021-12-10 11:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d2ad28b36f3105162f7767eb28bd83b25e5b7985', 'message': ""ipa: Use openstack_branch instead of master\n\nironic-python-agent-builder has stable branches since Wallaby -\nlet's use them.\n\nAlso as per ipab docs [1] - the env vars for overriding ipa repo\nare:\n- DIB_REPOREF_ironic_python_agent\n- DIB_REPOLOCATION_ironic_python_agent\n\n[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building\n\nChange-Id: I025532156de831a0e7d025d61601a38202de10ff\n""}, {'number': 3, 'created': '2021-12-22 17:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e87747e3af575f1565001d4ab43f24d1b36799d0', 'message': ""ipa: Use openstack_branch instead of master\n\nironic-python-agent-builder has stable branches since Wallaby -\nlet's use them.\n\nAlso as per ipab docs [1] - the env vars for overriding ipa repo\nare:\n- DIB_REPOREF_ironic_python_agent\n- DIB_REPOLOCATION_ironic_python_agent\n\n[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building\n\nStory: 2009755\nTask: 44224\n\nChange-Id: I025532156de831a0e7d025d61601a38202de10ff\n""}, {'number': 4, 'created': '2021-12-22 18:16:49.000000000', 'files': ['ansible/group_vars/all/ipa', 'releasenotes/notes/ipa-branch-b29c377c531013a8.yaml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b62a9aaefc593f6d0e99d63ac36338321d364b35', 'message': ""ipa: Use openstack_branch instead of master\n\nironic-python-agent-builder has stable branches since Wallaby -\nlet's use them.\n\nAlso as per ipab docs [1] - the env vars for overriding ipa repo\nare:\n- DIB_REPOREF_ironic_python_agent\n- DIB_REPOLOCATION_ironic_python_agent\n\n[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building\n\nStory: 2009755\nTask: 44224\n\nChange-Id: I025532156de831a0e7d025d61601a38202de10ff\n""}]",10,821115,b62a9aaefc593f6d0e99d63ac36338321d364b35,30,3,4,22629,,,0,"ipa: Use openstack_branch instead of master

ironic-python-agent-builder has stable branches since Wallaby -
let's use them.

Also as per ipab docs [1] - the env vars for overriding ipa repo
are:
- DIB_REPOREF_ironic_python_agent
- DIB_REPOLOCATION_ironic_python_agent

[1]: https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html#building

Story: 2009755
Task: 44224

Change-Id: I025532156de831a0e7d025d61601a38202de10ff
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/821115/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/ipa', 'etc/kayobe/ipa.yml']",2,4b0f97738d555db31a98f0153613a840436df776,,# Version of IPA builder source repository. Default is {{ openstack_branch }}.,# Version of IPA builder source repository. Default is master.,5,5
openstack%2Fopenstack-ansible-os_nova~master~I7838a7ff2e156b16cf9ca083d1a6bc43a83c5986,openstack/openstack-ansible-os_nova,master,I7838a7ff2e156b16cf9ca083d1a6bc43a83c5986,[opensuse] replace deprecated qemu-kvm with qemu-x86,ABANDONED,2019-10-18 13:50:07.000000000,2022-01-04 10:37:13.000000000,,"[{'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 13:50:07.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/eb3bb9749c6733270532c779785710f58ebb35dd', 'message': '[opensuse] replace deprecated qemu-kvm with qemu-x86\n\nqemu-kvm is the deprecated wrapper (it installs merely a compat shell\nscript), so we can install the new package instead.\n\nChange-Id: I7838a7ff2e156b16cf9ca083d1a6bc43a83c5986\n'}]",0,689465,eb3bb9749c6733270532c779785710f58ebb35dd,4,2,1,6593,,,0,"[opensuse] replace deprecated qemu-kvm with qemu-x86

qemu-kvm is the deprecated wrapper (it installs merely a compat shell
script), so we can install the new package instead.

Change-Id: I7838a7ff2e156b16cf9ca083d1a6bc43a83c5986
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/65/689465/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,eb3bb9749c6733270532c779785710f58ebb35dd,, - qemu-x86, - qemu-kvm,1,1
openstack%2Fopenstack-ansible-os_zun~master~I86c047f9d8da3d065c633ea0a72e6063e3218794,openstack/openstack-ansible-os_zun,master,I86c047f9d8da3d065c633ea0a72e6063e3218794,Stop pulling in Virtualization:containers build service repository,ABANDONED,2019-04-10 20:31:09.000000000,2022-01-04 10:36:50.000000000,,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-10 20:31:09.000000000', 'files': ['tasks/zun_compute.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/c488202ae31f7d545f7b7ffe69e846ebbe1ac2e0', 'message': 'Stop pulling in Virtualization:containers build service repository\n\nNot really clear what it is needed for, and its dangerous\nto pull in packages that are not well tested together with Leap\n\nChange-Id: I86c047f9d8da3d065c633ea0a72e6063e3218794\n'}]",0,651636,c488202ae31f7d545f7b7ffe69e846ebbe1ac2e0,5,2,1,6593,,,0,"Stop pulling in Virtualization:containers build service repository

Not really clear what it is needed for, and its dangerous
to pull in packages that are not well tested together with Leap

Change-Id: I86c047f9d8da3d065c633ea0a72e6063e3218794
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/36/651636/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/zun_compute.yml', 'vars/suse.yml']",2,c488202ae31f7d545f7b7ffe69e846ebbe1ac2e0,,,"zun_docker_repo: - name: ""OBS:Virtualization:containers"" uri: ""http://download.opensuse.org/repositories/Virtualization:/containers/openSUSE_Leap_{{ ansible_distribution_version }}/"" ",0,15
openstack%2Fopenstack-ansible-plugins~master~I342834e57e957664323794c688216ed3a8561600,openstack/openstack-ansible-plugins,master,I342834e57e957664323794c688216ed3a8561600,[WIP] Docker support in ssh connection plugin,ABANDONED,2018-03-24 05:02:53.000000000,2022-01-04 10:36:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-03-24 05:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c2b706e5fa65fa4929f9d1797f75a1cbf693425b', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 2, 'created': '2018-03-24 05:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/852a058c4227a58b21d223bc65dda07245f79838', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 3, 'created': '2018-03-24 05:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/584c44a69e9d9ed22b9c5c742cdc95c9a6dcf635', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 4, 'created': '2018-03-24 05:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/ef2b1162c0c20032604e13106c4d30a2257bdfc5', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 5, 'created': '2018-03-24 05:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/8cec66fff6422f91856a81a7ddeaf2f6b3df2cca', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 6, 'created': '2018-03-24 05:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0bcc2b40507c6511cf8bffdac609d77b599e1066', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 7, 'created': '2018-03-24 14:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/8a21e58ba98414f9b690d33197efc31d4b02e878', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 8, 'created': '2018-03-24 14:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/34f087093b774c81afea4c16e375bd3a419ce6ea', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 9, 'created': '2018-03-24 14:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/bebc2e5edfa169db5d438b7a5f91a152abbe9452', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 10, 'created': '2018-03-24 15:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/66cc921512faea8b71c57e5c39a9ad4fa53580c6', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 11, 'created': '2018-03-24 15:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/24e5843341477101e37c429a0b4561db77f3fb67', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 12, 'created': '2018-03-24 15:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c011814c86579c3f8b3d7d4a4e37cf1c01108297', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 13, 'created': '2018-03-24 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/cc31d29a3d351abf9fd51214f5ad724c36c4b90b', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 14, 'created': '2018-03-24 16:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/984cba2b8280777d74bd4fc60d7eca0741bea4d1', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 15, 'created': '2018-03-24 16:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/086809f292d7fced05e092e41f573fe6d9ed69cf', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 16, 'created': '2018-03-24 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d736e4083c5dff11c5b225c99a62de1913853fdc', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}, {'number': 17, 'created': '2018-03-24 17:51:50.000000000', 'files': ['tests/inventory', 'tests/test-connection-plugin-docker.yml', 'zuul.d/project.yaml', 'tests/group_vars/docker_containers.yml', 'connection/ssh.py', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/f8a6bfdc7a04b3b5f5afccfba5f0aaca79370065', 'message': '[WIP] Docker support in ssh connection plugin\n\nChange-Id: I342834e57e957664323794c688216ed3a8561600\n'}]",0,555987,f8a6bfdc7a04b3b5f5afccfba5f0aaca79370065,24,2,17,17799,,,0,"[WIP] Docker support in ssh connection plugin

Change-Id: I342834e57e957664323794c688216ed3a8561600
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/87/555987/16 && git format-patch -1 --stdout FETCH_HEAD,"['tests/common-tasks/docker-create.yml', 'tests/inventory', 'tests/ansible-role-requirements.yml', 'tests/test-connection-plugin-docker.yml', 'tests/test.yml', 'tests/group_vars/docker_containers.yml', 'connection/ssh.py']",7,c2b706e5fa65fa4929f9d1797f75a1cbf693425b,docker-connection," elif self.container_tech in ['nspawn', 'docker']: elif self.container_tech == 'docker': lookup_command = (u""docker inspect --format={{.State.Pid}} '%s'"" % self.container_name) if not subdir: subdir = 'cwd'", elif self.container_tech == 'nspawn':,116,1
openstack%2Fopenstack-ansible~master~I899e06314c53fa07705bb3014329739ca95508e0,openstack/openstack-ansible,master,I899e06314c53fa07705bb3014329739ca95508e0,[WIP] AIO - Create HAProxy self-signed certificates during host prep,ABANDONED,2019-03-19 12:37:36.000000000,2022-01-04 10:35:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-03-19 12:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/575c02d4aed72d19240a3ccc93f32df968e7ccb6', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 2, 'created': '2019-03-19 13:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c3d545f45c967fa0f27dd5be87de95e618f0ee1f', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 3, 'created': '2019-03-19 15:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e8fa3bbee3aca760bd6b543d8678584f4cc6c72a', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 4, 'created': '2019-03-19 15:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/932497c397a7e8457a4d25be2c1de73e0055924a', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 5, 'created': '2019-03-19 16:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63ab4aacb177057fbbf5ade058d0c14a4fb3c99b', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 6, 'created': '2019-03-21 12:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5fafae0280af47656044e9010489713a498a1a5e', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 7, 'created': '2019-03-21 12:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/da82780546ce8325ef5320116cee6898517c89e0', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 8, 'created': '2019-03-21 12:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/23bd92be1bd068888403ca49c9fc91cb8ba138ef', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 9, 'created': '2019-03-21 16:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5162a8b2c8262d0f4c21a126487b1934617b3a80', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 10, 'created': '2019-03-21 18:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b5eb5c86efcbfd701da2b640f81602e249041ad', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}, {'number': 11, 'created': '2019-05-09 13:50:42.000000000', 'files': ['scripts/bootstrap-ansible.sh', 'inventory/group_vars/all/all.yml', 'playbooks/setup-hosts.yml', 'playbooks/self-signed-certificates.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'playbooks/templates/openssl.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a26ef494bef0cae5fd750b4ecd496977fef2788d', 'message': '[WIP] AIO - Create HAProxy self-signed certificates during host prep\n\nChange-Id: I899e06314c53fa07705bb3014329739ca95508e0\n'}]",0,644555,a26ef494bef0cae5fd750b4ecd496977fef2788d,22,2,11,25023,,,0,"[WIP] AIO - Create HAProxy self-signed certificates during host prep

Change-Id: I899e06314c53fa07705bb3014329739ca95508e0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/644555/7 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_certificates.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/templates/openssl.conf.j2']",5,575c02d4aed72d19240a3ccc93f32df968e7ccb6,cert-authority,"# # OpenSSL example configuration file. # This is mostly being used for generation of certificate requests. # # This definition stops the following lines choking if HOME isn't # defined. HOME = . RANDFILE = $ENV::HOME/.rnd # Extra OBJECT IDENTIFIER info: #oid_file = $ENV::HOME/.oid oid_section = new_oids # To use this configuration file with the ""-extfile"" option of the # ""openssl x509"" utility, name here the section containing the # X.509v3 extensions to use: # extensions = # (Alternatively, use a configuration file that has only # X.509v3 extensions in its main [= default] section.) [ new_oids ] # We can add new OIDs in here for use by 'ca', 'req' and 'ts'. # Add a simple OID like this: # testoid1=1.2.3.4 # Or use config file substitution like this: # testoid2=${testoid1}.5.6 # Policies used by the TSA examples. tsa_policy1 = 1.2.3.4.1 tsa_policy2 = 1.2.3.4.5.6 tsa_policy3 = 1.2.3.4.5.7 #################################################################### [ ca ] default_ca = CA_default # The default ca section #################################################################### [ CA_default ] dir = ""{{ test_cert_dir }}"" # Where everything is kept certs = $dir/certs # Where the issued certs are kept crl_dir = $dir/crl # Where the issued crl are kept database = $dir/index.txt # database index file. #unique_subject = no # Set to 'no' to allow creation of # several ctificates with same subject. new_certs_dir = $dir/newcerts # default place for new certs. certificate = ""{{ test_cert_dir }}/ca.pem"" # The CA certificate serial = $dir/serial # The current serial number crlnumber = $dir/crlnumber # the current crl number # must be commented out to leave a V1 CRL crl = $dir/crl.pem # The current CRL private_key = ""{{ test_cert_dir }}/cakey.pem"" # The private key RANDFILE = $dir/private/.rand # private random number file x509_extensions = usr_cert # The extensions to add to the cert # Comment out the following two lines for the ""traditional"" # (and highly broken) format. name_opt = ca_default # Subject Name options cert_opt = ca_default # Certificate field options # Extension copying option: use with caution. # copy_extensions = copy # Extensions to add to a CRL. Note: Netscape communicator chokes on V2 CRLs # so this is commented out by default to leave a V1 CRL. # crlnumber must also be commented out to leave a V1 CRL. # crl_extensions = crl_ext default_days = 365 # how long to certify for default_crl_days= 30 # how long before next CRL default_md = default # use public key default MD preserve = no # keep passed DN ordering # A few difference way of specifying how similar the request should look # For type CA, the listed attributes must be the same, and the optional # and supplied fields are just that :-) policy = policy_match # For the CA policy [ policy_match ] countryName = match stateOrProvinceName = match organizationName = match organizationalUnitName = optional commonName = supplied emailAddress = optional # For the 'anything' policy # At this point in time, you must list all acceptable 'object' # types. [ policy_anything ] countryName = optional stateOrProvinceName = optional localityName = optional organizationName = optional organizationalUnitName = optional commonName = supplied emailAddress = optional #################################################################### [ req ] default_bits = 2048 default_keyfile = privkey.pem distinguished_name = req_distinguished_name attributes = req_attributes x509_extensions = v3_ca # The extensions to add to the self signed cert # Passwords for private keys if not present they will be prompted for # input_password = secret # output_password = secret # This sets a mask for permitted string types. There are several options. # default: PrintableString, T61String, BMPString. # pkix : PrintableString, BMPString (PKIX recommendation before 2004) # utf8only: only UTF8Strings (PKIX recommendation after 2004). # nombstr : PrintableString, T61String (no BMPStrings or UTF8Strings). # MASK:XXXX a literal mask value. # WARNING: ancient versions of Netscape crash on BMPStrings or UTF8Strings. string_mask = utf8only # req_extensions = v3_req # The extensions to add to a certificate request [ req_distinguished_name ] countryName = Country Name (2 letter code) countryName_default = AU countryName_min = 2 countryName_max = 2 stateOrProvinceName = State or Province Name (full name) stateOrProvinceName_default = Some-State localityName = Locality Name (eg, city) 0.organizationName = Organization Name (eg, company) 0.organizationName_default = Internet Widgits Pty Ltd # we can do this but it is not needed normally :-) #1.organizationName = Second Organization Name (eg, company) #1.organizationName_default = World Wide Web Pty Ltd organizationalUnitName = Organizational Unit Name (eg, section) #organizationalUnitName_default = commonName = Common Name (e.g. server FQDN or YOUR name) commonName_max = 64 emailAddress = Email Address emailAddress_max = 64 # SET-ex3 = SET extension number 3 [ req_attributes ] challengePassword = A challenge password challengePassword_min = 4 challengePassword_max = 20 unstructuredName = An optional company name [ usr_cert ] # These extensions are added when 'ca' signs a request. # This goes against PKIX guidelines but some CAs do it and some software # requires this to avoid interpreting an end user certificate as a CA. basicConstraints=CA:FALSE # Here are some examples of the usage of nsCertType. If it is omitted # the certificate can be used for anything *except* object signing. # This is OK for an SSL server. # nsCertType = server # For an object signing certificate this would be used. # nsCertType = objsign # For normal client use this is typical # nsCertType = client, email # and for everything including object signing: # nsCertType = client, email, objsign # This is typical in keyUsage for a client certificate. # keyUsage = nonRepudiation, digitalSignature, keyEncipherment # This will be displayed in Netscape's comment listbox. nsComment = ""OpenSSL Generated Certificate"" # PKIX recommendations harmless if included in all certificates. subjectKeyIdentifier=hash authorityKeyIdentifier=keyid,issuer # This stuff is for subjectAltName and issuerAltname. # Import the email address. # subjectAltName=email:copy # An alternative to produce certificates that aren't # deprecated according to PKIX. # subjectAltName=email:move # Copy subject details # issuerAltName=issuer:copy #nsCaRevocationUrl = http://www.domain.dom/ca-crl.pem #nsBaseUrl #nsRevocationUrl #nsRenewalUrl #nsCaPolicyUrl #nsSslServerName # This is required for TSA certificates. # extendedKeyUsage = critical,timeStamping [ v3_req ] # Extensions to add to a certificate request basicConstraints = CA:FALSE keyUsage = nonRepudiation, digitalSignature, keyEncipherment [ v3_ca ] # Extensions for a typical CA # PKIX recommendation. subjectKeyIdentifier=hash authorityKeyIdentifier=keyid:always,issuer # This is what PKIX recommends but some broken software chokes on critical # extensions. #basicConstraints = critical,CA:true # So we do this instead. basicConstraints = CA:true # Key usage: this is typical for a CA certificate. However since it will # prevent it being used as an test self-signed certificate it is best # left out by default. # keyUsage = cRLSign, keyCertSign # Some might want this also # nsCertType = sslCA, emailCA # Include email address in subject alt name: another PKIX recommendation # subjectAltName=email:copy # Copy issuer details # issuerAltName=issuer:copy # DER hex encoding of an extension: beware experts only! # obj=DER:02:03 # Where 'obj' is a standard or added object # You can even override a supported extension: # basicConstraints= critical, DER:30:03:01:01:FF [ crl_ext ] # CRL extensions. # Only issuerAltName and authorityKeyIdentifier make any sense in a CRL. # issuerAltName=issuer:copy authorityKeyIdentifier=keyid:always [ proxy_cert_ext ] # These extensions should be added when creating a proxy certificate # This goes against PKIX guidelines but some CAs do it and some software # requires this to avoid interpreting an end user certificate as a CA. basicConstraints=CA:FALSE # Here are some examples of the usage of nsCertType. If it is omitted # the certificate can be used for anything *except* object signing. # This is OK for an SSL server. # nsCertType = server # For an object signing certificate this would be used. # nsCertType = objsign # For normal client use this is typical # nsCertType = client, email # and for everything including object signing: # nsCertType = client, email, objsign # This is typical in keyUsage for a client certificate. # keyUsage = nonRepudiation, digitalSignature, keyEncipherment # This will be displayed in Netscape's comment listbox. nsComment = ""OpenSSL Generated Certificate"" # PKIX recommendations harmless if included in all certificates. subjectKeyIdentifier=hash authorityKeyIdentifier=keyid,issuer # This stuff is for subjectAltName and issuerAltname. # Import the email address. # subjectAltName=email:copy # An alternative to produce certificates that aren't # deprecated according to PKIX. # subjectAltName=email:move # Copy subject details # issuerAltName=issuer:copy #nsCaRevocationUrl = http://www.domain.dom/ca-crl.pem #nsBaseUrl #nsRevocationUrl #nsRenewalUrl #nsCaPolicyUrl #nsSslServerName # This really needs to be in place for it to be a proxy certificate. proxyCertInfo=critical,language:id-ppl-anyLanguage,pathlen:3,policy:foo #################################################################### [ tsa ] default_tsa = tsa_config1 # the default TSA section [ tsa_config1 ] # These are used by the TSA reply generation only. dir = ./demoCA # TSA root directory serial = $dir/tsaserial # The current serial number (mandatory) crypto_device = builtin # OpenSSL engine to use for signing signer_cert = $dir/tsacert.pem # The TSA signing certificate # (optional) certs = $dir/cacert.pem # Certificate chain to include in reply # (optional) signer_key = $dir/private/tsakey.pem # The TSA private key (optional) default_policy = tsa_policy1 # Policy if request did not specify it # (optional) other_policies = tsa_policy2, tsa_policy3 # acceptable policies (optional) digests = md5, sha1 # Acceptable message digests (mandatory) accuracy = secs:1, millisecs:500, microsecs:100 # (optional) clock_precision_digits = 0 # number of digits after dot. (optional) ordering = yes # Is ordering defined for timestamps? # (optional, default: no) tsa_name = yes # Must the TSA name be included in the reply? # (optional, default: no) ess_cert_id_chain = no # Must the ESS cert id chain be included? # (optional, default: no) ",,393,0
openstack%2Fopenstack-ansible~master~I1339d6b5fd6c82c02116d603e9f557c8b4564f4b,openstack/openstack-ansible,master,I1339d6b5fd6c82c02116d603e9f557c8b4564f4b,zuul: Replace openSUSE Leap 15 Ceph distro jobs with sourced based ones,ABANDONED,2018-11-09 14:12:38.000000000,2022-01-04 10:35:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-11-09 14:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c437a3f709feb5b98924f7458a6eecf8f967956', 'message': ""zuul: Replace openSUSE Leap 15 Ceph distro jobs with sourced based ones\n\nLeap 15 provides only python3 bindings for Ceph but the rest of the\nOpenStack packages are python2 so this combination can't work as is\nright now. As such, in order to test Ceph on Leap 15 we need to use\nthe sourced based jobs.\n\nChange-Id: I1339d6b5fd6c82c02116d603e9f557c8b4564f4b\nDepends-On: https://review.openstack.org/616608\n""}, {'number': 2, 'created': '2018-11-09 16:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/89b46bab0abe060998fdaa2ac9edb620c96e0de4', 'message': ""zuul: Replace openSUSE Leap 15 Ceph distro jobs with sourced based ones\n\nLeap 15 provides only python3 bindings for Ceph but the rest of the\nOpenStack packages are python2 so this combination can't work as is\nright now. As such, in order to test Ceph on Leap 15 we need to use\nthe sourced based jobs.\n\nChange-Id: I1339d6b5fd6c82c02116d603e9f557c8b4564f4b\nDepends-On: https://review.openstack.org/616608\n""}, {'number': 3, 'created': '2018-11-13 08:44:43.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f21148197a02c099e58881902fa60fbd525ef81b', 'message': ""zuul: Replace openSUSE Leap 15 Ceph distro jobs with sourced based ones\n\nLeap 15 provides only python3 bindings for Ceph but the rest of the\nOpenStack packages are python2 so this combination can't work as is\nright now. As such, in order to test Ceph on Leap 15 we need to use\nthe sourced based jobs.\n\nChange-Id: I1339d6b5fd6c82c02116d603e9f557c8b4564f4b\nDepends-On: https://review.openstack.org/616608\nDepends-On: https://review.openstack.org/617522\n""}]",0,616947,f21148197a02c099e58881902fa60fbd525ef81b,9,2,3,23163,,,0,"zuul: Replace openSUSE Leap 15 Ceph distro jobs with sourced based ones

Leap 15 provides only python3 bindings for Ceph but the rest of the
OpenStack packages are python2 so this combination can't work as is
right now. As such, in order to test Ceph on Leap 15 we need to use
the sourced based jobs.

Change-Id: I1339d6b5fd6c82c02116d603e9f557c8b4564f4b
Depends-On: https://review.openstack.org/616608
Depends-On: https://review.openstack.org/617522
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/47/616947/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,5c437a3f709feb5b98924f7458a6eecf8f967956,osa-add-leap-150, - openstack-ansible-deploy-ceph-opensuse-150 - openstack-ansible-deploy-ceph-opensuse-150 # NOTE(hwoarang) Leap 15 only provides python3 bindings for Ceph # but the rest of the openstack packages is python2 and as such # this will not work as is right now. #- openstack-ansible-deploy-distro_ceph-opensuse-150: # voting: false, - openstack-ansible-deploy-distro_ceph-opensuse-150: voting: false,7,2
openstack%2Fopenstack-ansible-tests~master~If49ec4482f87232abbfdbf249cc0ebd73c72c9ea,openstack/openstack-ansible-tests,master,If49ec4482f87232abbfdbf249cc0ebd73c72c9ea,run_test_common.sh: Ensure python3 is installed,ABANDONED,2018-08-17 12:58:46.000000000,2022-01-04 10:34:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-08-17 12:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/34acdbdab837e3f897ef2d4e9d2c7b1ea5f64d86', 'message': 'run_test_common.sh: Ensure python3 is installed\n\nCommit c44352f31baa1db70cedc3779d913e299116c24f (""fix tox python3\noverride"") switched to using python3 as default for tox tests. However,\nnothing really installs python3 on the host but we are just assuming that\nit is available for us. We should install it along with the rest of the\ntest requirements.\n\nChange-Id: If49ec4482f87232abbfdbf249cc0ebd73c72c9ea\n'}, {'number': 2, 'created': '2018-08-17 12:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fa884c4884339d5f8e26122d3a6ce5e91d3ebc8a', 'message': 'run_test_common.sh: Ensure python3 is installed\n\nCommit c44352f31baa1db70cedc3779d913e299116c24f (""fix tox python3\noverride"") switched to using python3 as default for tox tests. However,\nnothing really installs python3 on the host but we are just assuming that\nit is available for us. We should install it along with the rest of the\ntest requirements.\n\nChange-Id: If49ec4482f87232abbfdbf249cc0ebd73c72c9ea\n'}, {'number': 3, 'created': '2018-08-17 13:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/0070af9c6b1961556f99ce9d1aa98185d125be1d', 'message': 'run_test_common.sh: Ensure python3 is installed\n\nCommit c44352f31baa1db70cedc3779d913e299116c24f (""fix tox python3\noverride"") switched to using python3 as default for tox tests. However,\nnothing really installs python3 on the host but we are just assuming that\nit is available for us. We should install it along with the rest of the\ntest requirements.\n\nChange-Id: If49ec4482f87232abbfdbf249cc0ebd73c72c9ea\n'}, {'number': 4, 'created': '2018-08-17 13:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b8a3621ac08bf1dbadf1ac4869023f078ecb45c3', 'message': 'run_test_common.sh: Ensure python3 is installed\n\nCommit c44352f31baa1db70cedc3779d913e299116c24f (""fix tox python3\noverride"") switched to using python3 as default for tox tests. However,\nnothing really installs python3 on the host but we are just assuming that\nit is available for us. We should install it along with the rest of the\ntest requirements.\n\nChange-Id: If49ec4482f87232abbfdbf249cc0ebd73c72c9ea\n'}, {'number': 5, 'created': '2018-08-17 14:06:27.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/bfa3f97d2da0e7ad31284e811c83c6a08d61ac5e', 'message': 'run_test_common.sh: Ensure python3 is installed\n\nCommit c44352f31baa1db70cedc3779d913e299116c24f (""fix tox python3\noverride"") switched to using python3 as default for tox tests. However,\nnothing really installs python3 on the host but we are just assuming that\nit is available for us. We should install it along with the rest of the\ntest requirements.\n\nChange-Id: If49ec4482f87232abbfdbf249cc0ebd73c72c9ea\n'}]",0,593045,bfa3f97d2da0e7ad31284e811c83c6a08d61ac5e,9,2,5,23163,,,0,"run_test_common.sh: Ensure python3 is installed

Commit c44352f31baa1db70cedc3779d913e299116c24f (""fix tox python3
override"") switched to using python3 as default for tox tests. However,
nothing really installs python3 on the host but we are just assuming that
it is available for us. We should install it along with the rest of the
test requirements.

Change-Id: If49ec4482f87232abbfdbf249cc0ebd73c72c9ea
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/45/593045/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,34acdbdab837e3f897ef2d4e9d2c7b1ea5f64d86,fix-plugin-vagrant-test," pkg_list=""ca-certificates-mozilla python3 python-devel python-xml lsb-release ${extra_suse_deps:-}"" pkg_list=""python3 python-devel redhat-lsb-core yum-utils"" pkg_list=""python3 python-devel redhat-lsb-core redhat-rpm-config yum-utils"" pkg_list=""python3 python-dev lsb-release"""," pkg_list=""ca-certificates-mozilla python-devel python-xml lsb-release ${extra_suse_deps:-}"" pkg_list=""python-devel redhat-lsb-core yum-utils"" pkg_list=""python-devel redhat-lsb-core redhat-rpm-config yum-utils"" pkg_list=""python-dev lsb-release""",4,4
openstack%2Fopenstack-ansible-lxc_container_create~master~I06d613355fabb5ac5203aca7c206b260b19f012b,openstack/openstack-ansible-lxc_container_create,master,I06d613355fabb5ac5203aca7c206b260b19f012b,CentOS : Fix TASK lxc_container_create : Execute first script,ABANDONED,2018-08-03 23:13:12.000000000,2022-01-04 10:34:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-03 23:13:12.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/1c3390da8259693ef5b2b49b0b478e1674212606', 'message': 'CentOS : Fix TASK lxc_container_create : Execute first script\n\nyum check-update returns exit value of 100 if there are packages\navailable for an update therefore the task fails.\n\nIt may not be necessary to check-update.\n\nChange-Id: I06d613355fabb5ac5203aca7c206b260b19f012b\n'}]",0,588680,1c3390da8259693ef5b2b49b0b478e1674212606,3,1,1,24679,,,0,"CentOS : Fix TASK lxc_container_create : Execute first script

yum check-update returns exit value of 100 if there are packages
available for an update therefore the task fails.

It may not be necessary to check-update.

Change-Id: I06d613355fabb5ac5203aca7c206b260b19f012b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/80/588680/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,1c3390da8259693ef5b2b49b0b478e1674212606,Fix_centos_lxc_container_create,, timeout 90 $RHT_PKG_MGR check-update,0,1
openstack%2Fneutron~stable%2Fwallaby~I3069da527aefe57fc3b16b033439b23313ea1151,openstack/neutron,stable/wallaby,I3069da527aefe57fc3b16b033439b23313ea1151,Change tobiko CI job in the periodic queue,ABANDONED,2022-01-04 07:33:03.000000000,2022-01-04 10:33:33.000000000,,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 07:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5abdb2b1c1c255504444678126318622934e172', 'message': ""Change tobiko CI job in the periodic queue\n\nWe were using devstack-tobiko-faults-centos in our periodic queue\nbut this job is broken and it's better to use job\n'devstack-tobiko-neutron' which is kind of dedicated to test neutron\ncode.\nIt is also single node job, so will be faster and easier for the infra\nresources :)\n\nThis is a backport of https://review.opendev.org/c/x/devstack-plugin-tobiko/+/814522\n\nChange-Id: I3069da527aefe57fc3b16b033439b23313ea1151\n""}, {'number': 2, 'created': '2022-01-04 10:25:14.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f764ac5adb2a3b050b4405cc9dc73f90800f252', 'message': ""Change tobiko CI job in the periodic queue\n\nWe were using devstack-tobiko-faults-centos in our periodic queue\nbut this job is broken and it's better to use job\n'devstack-tobiko-neutron' which is kind of dedicated to test neutron\ncode.\nIt is also single node job, so will be faster and easier for the infra\nresources :)\n\nThis is a backport of https://review.opendev.org/c/openstack/neutron/+/813977\n\nChange-Id: I3069da527aefe57fc3b16b033439b23313ea1151\n""}]",1,823333,5f764ac5adb2a3b050b4405cc9dc73f90800f252,8,3,2,27329,,,0,"Change tobiko CI job in the periodic queue

We were using devstack-tobiko-faults-centos in our periodic queue
but this job is broken and it's better to use job
'devstack-tobiko-neutron' which is kind of dedicated to test neutron
code.
It is also single node job, so will be faster and easier for the infra
resources :)

This is a backport of https://review.opendev.org/c/openstack/neutron/+/813977

Change-Id: I3069da527aefe57fc3b16b033439b23313ea1151
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/823333/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e5abdb2b1c1c255504444678126318622934e172,devstack-tobiko-neutron, - devstack-tobiko-neutron:, - devstack-tobiko-faults-centos:,1,1
openstack%2Fopenstack-ansible-plugins~master~I024df5d60250ea719683b8822461cfa09b2bf61d,openstack/openstack-ansible-plugins,master,I024df5d60250ea719683b8822461cfa09b2bf61d,[DNM] Debug the gate,ABANDONED,2018-07-12 17:23:01.000000000,2022-01-04 10:33:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-12 17:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c2ced2158269950710fda8f7f1c761cc17c01cc2', 'message': '[DNM] Debug the gate\n\nChange-Id: I024df5d60250ea719683b8822461cfa09b2bf61d\n'}, {'number': 2, 'created': '2018-07-12 23:31:10.000000000', 'files': ['tests/test.yml', 'connection/ssh.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5ab70075932a5423418a46a842f46c4c8900de78', 'message': '[DNM] Debug the gate\n\nChange-Id: I024df5d60250ea719683b8822461cfa09b2bf61d\n'}]",0,582310,5ab70075932a5423418a46a842f46c4c8900de78,5,1,2,17799,,,0,"[DNM] Debug the gate

Change-Id: I024df5d60250ea719683b8822461cfa09b2bf61d
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/10/582310/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test.yml', 'connection/ssh.py', 'tox.ini']",3,c2ced2158269950710fda8f7f1c761cc17c01cc2,, ANSIBLE_PARAMETERS=-vvvvv,,8,4
openstack%2Fopenstack-ansible-os_neutron~master~I50aa821d3d9e63e2b140f2d27a1902ea5ec91b14,openstack/openstack-ansible-os_neutron,master,I50aa821d3d9e63e2b140f2d27a1902ea5ec91b14,Add var and docs for designate domain port config,ABANDONED,2018-01-23 13:24:36.000000000,2022-01-04 10:31:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-23 13:24:36.000000000', 'files': ['templates/plugins/ml2/ml2_conf.ini.j2', 'doc/source/configure-network-services.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a62691fadb6c7d4725b4bf5f52e8317882333e12', 'message': 'Add var and docs for designate domain port config\n\nChange-Id: I50aa821d3d9e63e2b140f2d27a1902ea5ec91b14\n'}]",0,536809,a62691fadb6c7d4725b4bf5f52e8317882333e12,3,1,1,26729,,,0,"Add var and docs for designate domain port config

Change-Id: I50aa821d3d9e63e2b140f2d27a1902ea5ec91b14
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/09/536809/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/plugins/ml2/ml2_conf.ini.j2', 'doc/source/configure-network-services.rst']",2,a62691fadb6c7d4725b4bf5f52e8317882333e12,dns-domain-ports,"DNS as a Service (DNSaaS) Provides the automatic creation of A- and PTR-Records for tennant networks. Designate (DNSaaS) (optional) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following procedure describes how to set specific options for Designate DNSaaS. Configure DNS Port Support ------------------------------- The networking service is able to let deployers control names assigned to ports by the internal DNS. Neutron uses the the the module ``dns_domain_ports`` instead of the ``dns`` module. Review the documentation on `DNS Integration`_ for more details. .. _DNS Integration: https://docs.openstack.org/neutron/latest/admin/config-dns-int.html The following procedure describes how to modify the ``/etc/openstack_deploy/user_variables.yml`` file to enable DNS Port Support. #. Set the ``neutron_designate_enabled`` to ``True`` to configure designate as neutrons external DNS driver. #. Configure the neutron plugins to include ``dns_domain_ports`` instead of the ``dns`` module: .. code-block:: yaml neutron_plugin_base: - router - metering - dns #. ``neutron_plugin_base`` is as follows: .. code-block:: yaml neutron_plugin_base: - router - metering - dns_domain_ports For further configuration options, please have a look at the `designate role documentation`_. .. _designate role documentation: https://docs.openstack.org/openstack-ansible-os_designate/latest/",,50,1
openstack%2Fopenstack-ansible-os_nova~master~I6f1dedd12c7bb24ef1a5881b0e82c94621724dea,openstack/openstack-ansible-os_nova,master,I6f1dedd12c7bb24ef1a5881b0e82c94621724dea,[TEST] Test neutron-server uwsgi patch /w Nova,ABANDONED,2017-07-24 13:08:01.000000000,2022-01-04 10:28:17.000000000,,"[{'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-24 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2adb35b2539ef758c87a7a956636b9d23d4e9616', 'message': '[TEST] Test neutron-server uwsgi patch /w Nova\n\nChange-Id: I6f1dedd12c7bb24ef1a5881b0e82c94621724dea\nDepends-On: Ia7ebd13be9ce7834679d439b7bda242805768ef8\n'}, {'number': 2, 'created': '2017-07-24 14:34:41.000000000', 'files': ['tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/90f60b8100c311caea09ff27a4a9e1fc2d6188e9', 'message': '[TEST] Test neutron-server uwsgi patch /w Nova\n\nChange-Id: I6f1dedd12c7bb24ef1a5881b0e82c94621724dea\nDepends-On: Ia7ebd13be9ce7834679d439b7bda242805768ef8\n'}]",0,486604,90f60b8100c311caea09ff27a4a9e1fc2d6188e9,8,2,2,2799,,,0,"[TEST] Test neutron-server uwsgi patch /w Nova

Change-Id: I6f1dedd12c7bb24ef1a5881b0e82c94621724dea
Depends-On: Ia7ebd13be9ce7834679d439b7bda242805768ef8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/04/486604/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/test.yml'],1,2adb35b2539ef758c87a7a956636b9d23d4e9616,test_neutron,# Comment for gating,,1,0
openstack%2Ftripleo-repos~master~If6911737bf423806d1ec84ee4a5d147e74521719,openstack/tripleo-repos,master,If6911737bf423806d1ec84ee4a5d147e74521719,Limit stream validation for CentOS 8 only,MERGED,2021-12-15 12:15:16.000000000,2022-01-04 10:14:56.000000000,2022-01-04 10:14:56.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-15 12:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/27e3ed759f25bcc3d35ffb11c26cceb43fed44aa', 'message': ""Limit stream validation for CentOS 8 only\n\nWhen preparing repos it doesn't make sense to validate 'stream'\nfor any distro except centos 8. Centos 9 is stream only and all\nbefore 8 don't have a stream.\n\nChange-Id: If6911737bf423806d1ec84ee4a5d147e74521719\n""}, {'number': 2, 'created': '2022-01-03 07:32:49.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py', 'tests/unit/tripleo_repos/test_main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5ee86bdd9aa063635c598b495867fc656a453f80', 'message': ""Limit stream validation for CentOS 8 only\n\nWhen preparing repos it doesn't make sense to validate 'stream'\nfor any distro except centos 8. Centos 9 is stream only and all\nbefore 8 don't have a stream.\n\nChange-Id: If6911737bf423806d1ec84ee4a5d147e74521719\n""}]",5,821834,5ee86bdd9aa063635c598b495867fc656a453f80,11,6,2,10969,,,0,"Limit stream validation for CentOS 8 only

When preparing repos it doesn't make sense to validate 'stream'
for any distro except centos 8. Centos 9 is stream only and all
before 8 don't have a stream.

Change-Id: If6911737bf423806d1ec84ee4a5d147e74521719
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/34/821834/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/main.py'],1,27e3ed759f25bcc3d35ffb11c26cceb43fed44aa,newrepos,"def _validate_distro_stream(args, distro_name, distro_major_version_id): if 'centos' not in distro_name.lower(): return True if distro_name.lower() == 'centos' and distro_major_version_id != '8': return Truedef _validate_args(args, distro_name, distro_major_version_id): _validate_distro_stream(args, distro_name, distro_major_version_id) _validate_args(args, distro_name, distro_major_version_id)","def _validate_distro_stream(args, distro_name):def _validate_args(args, distro_name): _validate_distro_stream(args, distro_name) _validate_args(args, distro_name)",8,4
openstack%2Fceilometer~stable%2Fxena~I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981,openstack/ceilometer,stable/xena,I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981,Update compute.discovery to get nova domain meta,MERGED,2021-11-29 09:46:39.000000000,2022-01-04 10:08:58.000000000,2022-01-04 10:07:17.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29500}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-29 09:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a823478a29a9be97b6e9465e5950e6c468999d96', 'message': 'Update compute.discovery to get nova domain meta\n\nNova changed the namespace for nova specific\ndata to version 1.1 for the wallaby cycle .\n\nCloses-Bug: #1930446\nChange-Id: I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n(cherry picked from commit 252698de6a3ebdae0b2793c941b6117868e5574e)\n'}, {'number': 2, 'created': '2022-01-03 08:56:35.000000000', 'files': ['ceilometer/compute/discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5140c3a5be0609963cec19733975feed9451d217', 'message': 'Update compute.discovery to get nova domain meta\n\nNova changed the namespace for nova specific\ndata to version 1.1 for the wallaby cycle .\n\nCloses-Bug: #1930446\nChange-Id: I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n(cherry picked from commit 252698de6a3ebdae0b2793c941b6117868e5574e)\n'}]",4,819576,5140c3a5be0609963cec19733975feed9451d217,17,5,2,4264,,,0,"Update compute.discovery to get nova domain meta

Nova changed the namespace for nova specific
data to version 1.1 for the wallaby cycle .

Closes-Bug: #1930446
Change-Id: I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981
(cherry picked from commit 252698de6a3ebdae0b2793c941b6117868e5574e)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/76/819576/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/discovery.py'],1,a823478a29a9be97b6e9465e5950e6c468999d96,bug/1930446-stable/xena," ""http://openstack.org/xmlns/libvirt/nova/1.1"")"," ""http://openstack.org/xmlns/libvirt/nova/1.0"")",1,1
openstack%2Fovsdbapp~master~I7cc4b779c68fe21d6ca50b6c76cdd2b6edaa7ea2,openstack/ovsdbapp,master,I7cc4b779c68fe21d6ca50b6c76cdd2b6edaa7ea2,Move linters dependencies to tox.ini,MERGED,2021-12-24 17:40:52.000000000,2022-01-04 09:57:35.000000000,2022-01-04 09:55:49.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-24 17:40:52.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/dfc2c0ef9e1b5ed25d05f1222742fd9cf42e5062', 'message': 'Move linters dependencies to tox.ini\n\nThat fixes some dependency clashes in py36 job when installing\n""pylint"" with ""astroid"" library.\n\nCloses-Bug: #1955724\nChange-Id: I7cc4b779c68fe21d6ca50b6c76cdd2b6edaa7ea2\n'}]",0,822916,dfc2c0ef9e1b5ed25d05f1222742fd9cf42e5062,8,4,1,16688,,,0,"Move linters dependencies to tox.ini

That fixes some dependency clashes in py36 job when installing
""pylint"" with ""astroid"" library.

Closes-Bug: #1955724
Change-Id: I7cc4b779c68fe21d6ca50b6c76cdd2b6edaa7ea2
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/16/822916/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,dfc2c0ef9e1b5ed25d05f1222742fd9cf42e5062,bug/1955724," hacking>=3.0.1,<3.1.0 # Apache-2.0deps = {[testenv]deps} pylint==2.5.3 # GPLv2",,4,3
openstack%2Fneutron~master~Ide37b3c1f8a2e2dcdcac0a2b0631cb197eca5baf,openstack/neutron,master,Ide37b3c1f8a2e2dcdcac0a2b0631cb197eca5baf,remove unicode from code,MERGED,2021-12-24 02:03:03.000000000,2022-01-04 09:40:44.000000000,2022-01-04 09:38:50.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-12-24 02:03:03.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_managers.py', 'neutron/tests/unit/agent/l2/extensions/test_fdb_population.py', 'neutron/tests/unit/api/v2/test_resource.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/tests/unit/test_wsgi.py', 'doc/source/conf.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/tests/unit/notifiers/test_nova.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e6257606a44dad2b793374235836c6cb4e09e86', 'message': 'remove unicode from code\n\nremove unicode from code\n\nChange-Id: Ide37b3c1f8a2e2dcdcac0a2b0631cb197eca5baf\n'}]",0,822868,0e6257606a44dad2b793374235836c6cb4e09e86,12,5,1,34340,,,0,"remove unicode from code

remove unicode from code

Change-Id: Ide37b3c1f8a2e2dcdcac0a2b0631cb197eca5baf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/822868/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_managers.py', 'neutron/tests/unit/agent/l2/extensions/test_fdb_population.py', 'neutron/tests/unit/api/v2/test_resource.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/tests/unit/test_wsgi.py', 'doc/source/conf.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/notifiers/test_nova.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'releasenotes/source/conf.py']",11,0e6257606a44dad2b793374235836c6cb4e09e86,,"project = 'Neutron Release Notes' copyright = '2015, Neutron Developers' 'Neutron Release Notes Documentation', 'Neutron Developers', 'manual'), ('index', 'neutronreleasenotes', 'Neutron Release Notes Documentation', ['Neutron Developers'], 1) ('index', 'NeutronReleaseNotes', 'Neutron Release Notes Documentation', 'Neutron Developers', 'NeutronReleaseNotes',","project = u'Neutron Release Notes' copyright = u'2015, Neutron Developers' u'Neutron Release Notes Documentation', u'Neutron Developers', 'manual'), ('index', 'neutronreleasenotes', u'Neutron Release Notes Documentation', [u'Neutron Developers'], 1) ('index', 'NeutronReleaseNotes', u'Neutron Release Notes Documentation', u'Neutron Developers', 'NeutronReleaseNotes',",52,52
openstack%2Fneutron~stable%2Fussuri~I42a8a767a6ef9454419b26f80339394759644faf,openstack/neutron,stable/ussuri,I42a8a767a6ef9454419b26f80339394759644faf,[OVN] Accept OVS system-id as non UUID formatted string,MERGED,2021-12-22 12:14:53.000000000,2022-01-04 09:40:33.000000000,2022-01-04 09:38:45.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-22 12:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b077a93cfa16b7717ef47e76e049eaadcaf3dcd4', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n\tneutron/tests/unit/agent/ovn/metadata/test_agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n(cherry picked from commit 9e4784704f3ad9f76b59e89a048133b77e497a5e)\n(cherry picked from commit 2b8327f638a27a64c9a0fb430057b484cee33276)\n'}, {'number': 2, 'created': '2021-12-24 10:08:58.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/162b02195c41d93f3ef8af77dafd460877d1bb2c', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n        neutron/tests/unit/agent/ovn/metadata/test_agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n(cherry picked from commit 6da4432fed255f3bcf3831f5d0520ab389ce36e5)\n(cherry picked from commit b07eeb2789abc79c0fa86db0bdf7bc111ea725ac)\n(cherry picked from commit 4bf531448eac151b53b05cae0a5ca51060ca38c3)\n'}]",3,822691,162b02195c41d93f3ef8af77dafd460877d1bb2c,13,4,2,16688,,,0,"[OVN] Accept OVS system-id as non UUID formatted string

Accept OVS system-id non UUID formatted strings. The OVN metadata
agent will generate a unique UUID from the OVS system-id. If this
string is a UUID, this value will be used. If not, the OVN metadata
agent will generate a UUID based on the provided string.

This patch amends [1].

[1]https://review.opendev.org/c/openstack/neutron/+/819634

Closes-Bug: #1952550

Conflicts:
	neutron/agent/ovn/metadata/agent.py
        neutron/tests/unit/agent/ovn/metadata/test_agent.py

Change-Id: I42a8a767a6ef9454419b26f80339394759644faf
(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)
(cherry picked from commit 6da4432fed255f3bcf3831f5d0520ab389ce36e5)
(cherry picked from commit b07eeb2789abc79c0fa86db0bdf7bc111ea725ac)
(cherry picked from commit 4bf531448eac151b53b05cae0a5ca51060ca38c3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/822691/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,b077a93cfa16b7717ef47e76e049eaadcaf3dcd4,bug/1952550,"import uuidfrom oslo_utils import uuidutils def test__load_config(self): # Chassis name UUID formatted string. OVN bridge ""br-ovn"". valid_uuid_str = uuidutils.generate_uuid() self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': valid_uuid_str}, {'ovn-bridge': 'br-ovn'}] self.agent._load_config() self.assertEqual(valid_uuid_str, self.agent.chassis) self.assertEqual(uuid.UUID(valid_uuid_str), self.agent.chassis_id) self.assertEqual('br-ovn', self.agent.ovn_bridge) # Chassis name non UUID formatted string. OVN bridge not defined, # ""br-int"" assigned by default. self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': 'RandomName1'}, {}] self.agent._load_config() generated_uuid = uuid.uuid5(agent.OVN_METADATA_UUID_NAMESPACE, 'RandomName1') self.assertEqual('RandomName1', self.agent.chassis) self.assertEqual(generated_uuid, self.agent.chassis_id) self.assertEqual('br-int', self.agent.ovn_bridge)",,34,2
openstack%2Fsolum~master~Id4f96845d6fed200de055ba8d35353bbfbe45d4d,openstack/solum,master,Id4f96845d6fed200de055ba8d35353bbfbe45d4d,Add py39 classifier,MERGED,2022-01-04 08:51:43.000000000,2022-01-04 09:16:31.000000000,2022-01-04 09:14:52.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 08:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/dc0ba39c558851d324d825f344acfbcf83562e10', 'message': 'Add py39 classifier\n\nChange-Id: Id4f96845d6fed200de055ba8d35353bbfbe45d4d\n'}, {'number': 2, 'created': '2022-01-04 08:52:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/solum/commit/71c002a8c39ff8894dfb81570ff92fc93e2ad845', 'message': 'Add py39 classifier\n\nChange-Id: Id4f96845d6fed200de055ba8d35353bbfbe45d4d\n'}]",0,823304,71c002a8c39ff8894dfb81570ff92fc93e2ad845,9,2,2,14107,,,0,"Add py39 classifier

Change-Id: Id4f96845d6fed200de055ba8d35353bbfbe45d4d
",git fetch https://review.opendev.org/openstack/solum refs/changes/04/823304/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,dc0ba39c558851d324d825f344acfbcf83562e10,Add py39 classifier,,,0,0
openstack%2Fneutron~stable%2Fvictoria~I42a8a767a6ef9454419b26f80339394759644faf,openstack/neutron,stable/victoria,I42a8a767a6ef9454419b26f80339394759644faf,[OVN] Accept OVS system-id as non UUID formatted string,MERGED,2021-12-22 12:13:46.000000000,2022-01-04 09:08:47.000000000,2022-01-04 09:07:01.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-22 12:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f84afb9512a218e8c6d309f3475eea75339f076', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n\tneutron/tests/unit/agent/ovn/metadata/test_agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n(cherry picked from commit 9e4784704f3ad9f76b59e89a048133b77e497a5e)\n(cherry picked from commit 2b8327f638a27a64c9a0fb430057b484cee33276)\n'}, {'number': 2, 'created': '2021-12-24 10:07:40.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bf531448eac151b53b05cae0a5ca51060ca38c3', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n        neutron/tests/unit/agent/ovn/metadata/test_agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n(cherry picked from commit 6da4432fed255f3bcf3831f5d0520ab389ce36e5)\n(cherry picked from commit b07eeb2789abc79c0fa86db0bdf7bc111ea725ac)\n'}]",3,822669,4bf531448eac151b53b05cae0a5ca51060ca38c3,13,4,2,16688,,,0,"[OVN] Accept OVS system-id as non UUID formatted string

Accept OVS system-id non UUID formatted strings. The OVN metadata
agent will generate a unique UUID from the OVS system-id. If this
string is a UUID, this value will be used. If not, the OVN metadata
agent will generate a UUID based on the provided string.

This patch amends [1].

[1]https://review.opendev.org/c/openstack/neutron/+/819634

Closes-Bug: #1952550

Conflicts:
	neutron/agent/ovn/metadata/agent.py
        neutron/tests/unit/agent/ovn/metadata/test_agent.py

Change-Id: I42a8a767a6ef9454419b26f80339394759644faf
(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)
(cherry picked from commit 6da4432fed255f3bcf3831f5d0520ab389ce36e5)
(cherry picked from commit b07eeb2789abc79c0fa86db0bdf7bc111ea725ac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/822669/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,8f84afb9512a218e8c6d309f3475eea75339f076,bug/1952550,"import uuidfrom oslo_utils import uuidutils def test__load_config(self): # Chassis name UUID formatted string. OVN bridge ""br-ovn"". valid_uuid_str = uuidutils.generate_uuid() self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': valid_uuid_str}, {'ovn-bridge': 'br-ovn'}] self.agent._load_config() self.assertEqual(valid_uuid_str, self.agent.chassis) self.assertEqual(uuid.UUID(valid_uuid_str), self.agent.chassis_id) self.assertEqual('br-ovn', self.agent.ovn_bridge) # Chassis name non UUID formatted string. OVN bridge not defined, # ""br-int"" assigned by default. self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': 'RandomName1'}, {}] self.agent._load_config() generated_uuid = uuid.uuid5(agent.OVN_METADATA_UUID_NAMESPACE, 'RandomName1') self.assertEqual('RandomName1', self.agent.chassis) self.assertEqual(generated_uuid, self.agent.chassis_id) self.assertEqual('br-int', self.agent.ovn_bridge)",,34,2
openstack%2Fdesignate~master~Ia6851f3047a0153bcf913a482e9e69fd2740bfa8,openstack/designate,master,Ia6851f3047a0153bcf913a482e9e69fd2740bfa8,DNM: More testing,ABANDONED,2022-01-04 06:40:12.000000000,2022-01-04 08:56:14.000000000,,[],"[{'number': 1, 'created': '2022-01-04 06:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dea203678eab9d777d24fdae5357a19c91a4aa83', 'message': 'DNM: More testing\n\nChange-Id: Ia6851f3047a0153bcf913a482e9e69fd2740bfa8\n'}, {'number': 2, 'created': '2022-01-04 07:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/58cfbba617d19a8bc5406e1aa41f3d810acca9da', 'message': 'DNM: More testing\n\nChange-Id: Ia6851f3047a0153bcf913a482e9e69fd2740bfa8\n'}, {'number': 3, 'created': '2022-01-04 07:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/862e64a6626feb9d4497c7bac6a29fd7441cc3bc', 'message': 'DNM: More testing\n\nChange-Id: Ia6851f3047a0153bcf913a482e9e69fd2740bfa8\n'}, {'number': 4, 'created': '2022-01-04 08:05:10.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/aa9b786d051ae9e9d02f10d8816bcbe10b044879', 'message': 'DNM: More testing\n\nChange-Id: Ia6851f3047a0153bcf913a482e9e69fd2740bfa8\n'}]",0,823331,aa9b786d051ae9e9d02f10d8816bcbe10b044879,5,0,4,22623,,,0,"DNM: More testing

Change-Id: Ia6851f3047a0153bcf913a482e9e69fd2740bfa8
",git fetch https://review.opendev.org/openstack/designate refs/changes/31/823331/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py', 'designate/utils.py', 'designate/tests/test_central/test_service.py']",4,dea203678eab9d777d24fdae5357a19c91a4aa83,testing_more," self.admin_context, zone['id'], ""SUCCESS"", utils.estimate_new_serial(zone_serial))"," self.admin_context, zone['id'], ""SUCCESS"", zone_serial)",34,11
openstack%2Fdevstack~master~Ide186fb53b3f9826ff602cb7fb797f245a15033a,openstack/devstack,master,Ide186fb53b3f9826ff602cb7fb797f245a15033a,Add option to set chap algorithms for iscsid for FIPS,MERGED,2021-08-06 18:28:40.000000000,2022-01-04 08:03:22.000000000,2021-12-30 10:28:57.000000000,"[{'_account_id': 5263}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-06 18:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e1f99844a6db453c8dad8f24beccce84f969c7be', 'message': 'Add option to set chap algoorithms for iscsid\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We need an option to set the chap algorighms to something\nother than md5 to allow fips testing on devstack nodes.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 2, 'created': '2021-08-06 19:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/993f276ab863db7aaef57fb632d2cbfbf932988c', 'message': 'Add option to set chap algoorithms for iscsid\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We need an option to set the chap algorighms to something\nother than md5 to allow fips testing on devstack nodes.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 3, 'created': '2021-08-06 22:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0cae07ca06952c01fe85e1f063b73418f2d0c2d', 'message': 'Add option to set chap algoorithms for iscsid\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We need an option to set the chap algorighms to something\nother than md5 to allow fips testing on devstack nodes.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 4, 'created': '2021-08-23 13:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8101e4e280b3db2f4c6b52221a9700490dde5d98', 'message': 'Add option to set chap algoorithms for iscsid\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We need an option to set the chap algorighms to something\nother than md5 to allow fips testing on devstack nodes.\n\nThe new environment paramter is ISCSI_CHAP_ALGORITHMS\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 5, 'created': '2021-10-15 16:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b3c5eccc88d334fd4393aeb8b95a6d803c03428c', 'message': 'Add option to set chap algoorithms for iscsid for FIPS\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We need an option to set the chap algorighms to something\nother than md5 to allow fips testing on devstack nodes.\n\nThe new environment paramter is ISCSID_ENABLE_FIPS.  When this\nis ""True"", then the iscsid chap algorithms will be set to\n""SHA3-256,SHA256"", which works under FIPS.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 6, 'created': '2021-10-15 16:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/00aaff97da3e84b64cff60d6cf0dabf80d1e1716', 'message': 'Add option to set chap algoorithms for iscsid for FIPS\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We need an option to set the chap algorithms to\nsomething other than md5 to allow fips testing on devstack nodes.\n\nThe new environment paramter is ISCSID_ENABLE_FIPS.  When this\nis ""True"", then the iscsid chap algorithms will be set to\n""SHA3-256,SHA256"", which works under FIPS.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 7, 'created': '2021-10-15 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6c8348645d71e9141f6a04b79c4c74d1f77c2c91', 'message': 'Add option to set chap algorithms for iscsid for FIPS\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We need an option to set the chap algorithms to\nsomething other than md5 to allow fips testing on devstack nodes.\n\nThe new environment paramter is ISCSID_ENABLE_FIPS.  When this\nis ""True"", then the iscsid chap algorithms will be set to\n""SHA3-256,SHA256"", which works under FIPS.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 8, 'created': '2021-12-07 22:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b9588af88e7ebe7f465ec82854ff98078d9e6d08', 'message': 'Add option to set chap algorithms for iscsid for FIPS\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We will set the chap algorithm to ""SHA3-256,SHA256"",\nwhich should work under all configurations.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}, {'number': 9, 'created': '2021-12-09 00:22:43.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c3b7051387d4332f956148c5676383499fa31859', 'message': 'Add option to set chap algorithms for iscsid for FIPS\n\nThe default CHAP algorithm for iscsid is md5, which is disallowed\nunder fips.  We will set the chap algorithm to ""SHA3-256,SHA256"",\nwhich should work under all configurations.\n\nChange-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a\n'}]",10,803800,c3b7051387d4332f956148c5676383499fa31859,36,6,9,9914,,,0,"Add option to set chap algorithms for iscsid for FIPS

The default CHAP algorithm for iscsid is md5, which is disallowed
under fips.  We will set the chap algorithm to ""SHA3-256,SHA256"",
which should work under all configurations.

Change-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/00/803800/3 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,e1f99844a6db453c8dad8f24beccce84f969c7be,add_fips_job,"# Configure iscscid chap algorithms if needed # ------------------------------------------- if [[ -z $ISCI_CHAP_ALGORITHMS ]]; then if [[ -f /etc/iscsi/iscsid.conf ]]; then iniset --sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" $ISCI_CHAP_ALGORITHMS restart_service iscsid fi fi",,9,0
openstack%2Fneutron~stable%2Fxena~Ic4621dfaedb83287845e3336ba846b054230f087,openstack/neutron,stable/xena,Ic4621dfaedb83287845e3336ba846b054230f087,ovn: update ACL actions on stateful field change,MERGED,2021-12-10 18:30:10.000000000,2022-01-04 07:34:55.000000000,2022-01-04 07:33:27.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-12-10 18:30:10.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72b9bee2b06b557180c737de1d1afeedb2eb80f1', 'message': ""ovn: update ACL actions on stateful field change\n\nWhen SG 'stateful' field changes its value, all 'allow-related' /\n'allow-stateless' ACLs that belong to the group should flip their\naction value in OVN nbdb accordingly.\n\nCloses-Bug: #1952653\nReported-At: https://bugzilla.redhat.com/show_bug.cgi?id=2017048\nChange-Id: Ic4621dfaedb83287845e3336ba846b054230f087\n(cherry picked from commit 278af8512374dcc75bb4884bd364ac20f2bb9e69)\n""}]",4,821440,72b9bee2b06b557180c737de1d1afeedb2eb80f1,25,4,1,9656,,,0,"ovn: update ACL actions on stateful field change

When SG 'stateful' field changes its value, all 'allow-related' /
'allow-stateless' ACLs that belong to the group should flip their
action value in OVN nbdb accordingly.

Closes-Bug: #1952653
Reported-At: https://bugzilla.redhat.com/show_bug.cgi?id=2017048
Change-Id: Ic4621dfaedb83287845e3336ba846b054230f087
(cherry picked from commit 278af8512374dcc75bb4884bd364ac20f2bb9e69)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/821440/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,72b9bee2b06b557180c737de1d1afeedb2eb80f1,," old_state, new_state = payload.states is_allow_stateless_supported = ( self._ovn_client.is_allow_stateless_supported() ) old_stateful = ovn_acl.is_sg_stateful( old_state, is_allow_stateless_supported) new_stateful = ovn_acl.is_sg_stateful( new_state, is_allow_stateless_supported) if old_stateful != new_stateful: for rule in self._plugin.get_security_group_rules( context, {'security_group_id': [security_group['id']]}): self._ovn_client.delete_security_group_rule(context, rule) self._ovn_client.create_security_group_rule(context, rule) "," # OVN doesn't care about updates to security groups, only if they # exist or not. We are bumping the revision number here so it # doesn't show as inconsistent to the maintenance periodic task",79,12
openstack%2Ftripleo-puppet-elements~master~Ia42d809ebca6c1a32eaa12459081f2918f49d234,openstack/tripleo-puppet-elements,master,Ia42d809ebca6c1a32eaa12459081f2918f49d234,Install supported fence agents explicitely,ABANDONED,2021-11-19 15:51:13.000000000,2022-01-04 07:33:05.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 12371}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-19 15:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/7740bd2c32abca6f0e1784a4bf40e3ee844057c5', 'message': ""Install supported fence agents explicitely\n\nPackage fence-agents-all has dependencies on packages\nwhich get auto-removed when building hardened images.\nSince we don't support all fence agents, include\nonly the one we care about in the image.\n\nCloses-Bug: #1951604\nChange-Id: Ia42d809ebca6c1a32eaa12459081f2918f49d234\n""}, {'number': 2, 'created': '2021-11-24 10:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/5c7aacd57cd467c930fb4aeae85c1cad7eb188a3', 'message': ""Install supported fence agents explicitely\n\nPackage fence-agents-all has dependencies on packages\nwhich get auto-removed when building hardened images.\nSince we don't support all fence agents, include\nonly the one we care about in the image.\n\nCloses-Bug: #1951604\nChange-Id: Ia42d809ebca6c1a32eaa12459081f2918f49d234\n""}, {'number': 3, 'created': '2021-11-25 22:48:21.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/eedf9cebd5f839197eb6ede2d91fe96476d2d784', 'message': ""Install supported fence agents explicitely\n\nPackage fence-agents-all has dependencies on packages\nwhich get auto-removed when building hardened images\nbecause of some unwanted dependencies (e.g. telnet).\n\nSince we don't support all fence agents, include\nonly the one we care about in the image.\n\nNewer supported agents (like e.g. fence-kubevirt)\nwill be added as soon as they can be consumed in CentOS.\n\nCloses-Bug: #1951604\nChange-Id: Ia42d809ebca6c1a32eaa12459081f2918f49d234\n""}]",5,818566,eedf9cebd5f839197eb6ede2d91fe96476d2d784,20,8,3,20778,,,0,"Install supported fence agents explicitely

Package fence-agents-all has dependencies on packages
which get auto-removed when building hardened images
because of some unwanted dependencies (e.g. telnet).

Since we don't support all fence agents, include
only the one we care about in the image.

Newer supported agents (like e.g. fence-kubevirt)
will be added as soon as they can be consumed in CentOS.

Closes-Bug: #1951604
Change-Id: Ia42d809ebca6c1a32eaa12459081f2918f49d234
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/66/818566/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-controller/package-installs.yaml', 'elements/overcloud-controller/pkg-map']",2,7740bd2c32abca6f0e1784a4bf40e3ee844057c5,bug/1951604," ""fence_agents_ipmilan"": ""fence-agents-ipmilan"", ""fence_agents_kdump"": ""fence-agents-kdump"", ""fence_agents_kubevirt"": ""fence-agents-kubevirt"", ""fence_agents_redfish"": ""fence-agents-redfish"", ""fence_agents_rhevm"": ""fence-agents-rhevm"","," ""fence_agents_package"": ""fence-agents-all"",",10,2
openstack%2Fcyborg-tempest-plugin~master~Icd697521c26add1b5023dfc64b237566763504b1,openstack/cyborg-tempest-plugin,master,Icd697521c26add1b5023dfc64b237566763504b1,create device profile resource number is negative,NEW,2022-01-04 05:51:33.000000000,2022-01-04 07:21:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-04 05:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/2056935008b1f776f52b28ff2ee8f402494666bc', 'message': 'create device profile resource number is zero\n\ncreate device profile resource number is zero for cyborg\n\nChange-Id: Icd697521c26add1b5023dfc64b237566763504b1\n'}, {'number': 2, 'created': '2022-01-04 05:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/9bfb8593b932249217460fcef5ced377b2cd0516', 'message': 'create device profile resource number is zero\n\ncreate device profile resource number is zero for cyborg\n\nChange-Id: Icd697521c26add1b5023dfc64b237566763504b1\n'}, {'number': 3, 'created': '2022-01-04 06:36:19.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/813d622d83dca96024e18203ab05f5a110772172', 'message': 'create device profile resource number is negative\n\ncreate device profile resource number is negative for cyborg\n\nChange-Id: Icd697521c26add1b5023dfc64b237566763504b1\n'}]",0,823329,813d622d83dca96024e18203ab05f5a110772172,5,1,3,30409,,,0,"create device profile resource number is negative

create device profile resource number is negative for cyborg

Change-Id: Icd697521c26add1b5023dfc64b237566763504b1
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/29/823329/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py'],1,2056935008b1f776f52b28ff2ee8f402494666bc,master4," @test.attr(type=['negative', 'gate']) def test_create_device_profile_number_is_zero(self): # create device profile number is zero dp = [{ ""name"": ""test-num-zero"", ""groups"": [ { ""resources:FPGA"": ""0"", ""trait:CUSTOM_FAKE_DEVICE"": ""required"" }], ""description"": ""null"" }] # create device profile with name null self.assertRaises(lib_exc.ServerFault, self.os_admin.cyborg_client.create_device_profile, dp)",,18,0
openstack%2Fneutron~stable%2Fxena~I42a8a767a6ef9454419b26f80339394759644faf,openstack/neutron,stable/xena,I42a8a767a6ef9454419b26f80339394759644faf,[OVN] Accept OVS system-id as non UUID formatted string,MERGED,2021-12-22 12:10:47.000000000,2022-01-04 06:37:43.000000000,2022-01-04 06:36:01.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 34394}]","[{'number': 1, 'created': '2021-12-22 12:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e4784704f3ad9f76b59e89a048133b77e497a5e', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n'}, {'number': 2, 'created': '2021-12-24 09:58:36.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6da4432fed255f3bcf3831f5d0520ab389ce36e5', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n'}]",6,822667,6da4432fed255f3bcf3831f5d0520ab389ce36e5,30,5,2,16688,,,0,"[OVN] Accept OVS system-id as non UUID formatted string

Accept OVS system-id non UUID formatted strings. The OVN metadata
agent will generate a unique UUID from the OVS system-id. If this
string is a UUID, this value will be used. If not, the OVN metadata
agent will generate a UUID based on the provided string.

This patch amends [1].

[1]https://review.opendev.org/c/openstack/neutron/+/819634

Closes-Bug: #1952550

Conflicts:
	neutron/agent/ovn/metadata/agent.py

Change-Id: I42a8a767a6ef9454419b26f80339394759644faf
(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/822667/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,9e4784704f3ad9f76b59e89a048133b77e497a5e,bug/1952550,"import uuidfrom oslo_utils import uuidutils def test__load_config(self): # Chassis name UUID formatted string. OVN bridge ""br-ovn"". valid_uuid_str = uuidutils.generate_uuid() self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': valid_uuid_str}, {'ovn-bridge': 'br-ovn'}] self.agent._load_config() self.assertEqual(valid_uuid_str, self.agent.chassis) self.assertEqual(uuid.UUID(valid_uuid_str), self.agent.chassis_id) self.assertEqual('br-ovn', self.agent.ovn_bridge) # Chassis name non UUID formatted string. OVN bridge not defined, # ""br-int"" assigned by default. self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': 'RandomName1'}, {}] self.agent._load_config() generated_uuid = uuid.uuid5(agent.OVN_METADATA_UUID_NAMESPACE, 'RandomName1') self.assertEqual('RandomName1', self.agent.chassis) self.assertEqual(generated_uuid, self.agent.chassis_id) self.assertEqual('br-int', self.agent.ovn_bridge)",,34,2
openstack%2Ftripleo-heat-templates~master~I30165c8ee5aa4b777b73ad89ac709e2c8a375382,openstack/tripleo-heat-templates,master,I30165c8ee5aa4b777b73ad89ac709e2c8a375382,Use public endpoint for [keystone_authtoken] www_authenticate_uri,MERGED,2021-12-20 10:48:06.000000000,2022-01-04 05:34:39.000000000,2022-01-04 05:34:39.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-20 10:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b2ba5dafda9c724f38116bbce7ddd98a89ed50f', 'message': 'Use public endpoint for [authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n'}, {'number': 2, 'created': '2021-12-20 10:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d1b8aaa9fb8452ed339b8844c53b33adda6cce2', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n'}, {'number': 3, 'created': '2021-12-20 10:51:05.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/160936df134a471cfd245bd60964046027a571ea', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n'}]",15,822306,160936df134a471cfd245bd60964046027a571ea,38,6,3,9816,,,0,"Use public endpoint for [keystone_authtoken] www_authenticate_uri

According to the parameter description, www_authenticate_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.

Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/822306/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",18,8b2ba5dafda9c724f38116bbce7ddd98a89ed50f,bug/1955397," aodh::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix] }"," aodh::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] }",18,18
openstack%2Fglance~master~I3bda332d148a2a024248552d95dade1a6c2b5bba,openstack/glance,master,I3bda332d148a2a024248552d95dade1a6c2b5bba,Update metadata_encryption_key support,ABANDONED,2016-05-22 12:26:33.000000000,2022-01-04 04:34:49.000000000,,"[{'_account_id': 2537}, {'_account_id': 6484}, {'_account_id': 8122}, {'_account_id': 14676}, {'_account_id': 21423}, {'_account_id': 21538}]","[{'number': 1, 'created': '2016-05-22 12:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d19e55dbe3aa32362fc1cb7e860ca9354aa648e9', 'message': 'Update metadata_encryption_key support\n\nCloses-Bug: #1569937\nChange-Id: I3bda332d148a2a024248552d95dade1a6c2b5bba\n'}, {'number': 2, 'created': '2016-05-23 08:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/77f0d29e906965af8aecf3936c062aa8aeb4c618', 'message': 'Update metadata_encryption_key support\n\nCloses-Bug: #1569937\nChange-Id: I3bda332d148a2a024248552d95dade1a6c2b5bba\n'}, {'number': 3, 'created': '2016-05-23 12:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/54a27ac11a09487d5313b99aacbda3980c605642', 'message': 'Update metadata_encryption_key support\n\nCloses-Bug: #1569937\nChange-Id: I3bda332d148a2a024248552d95dade1a6c2b5bba\n'}, {'number': 4, 'created': '2016-05-29 09:59:13.000000000', 'files': ['glance/common/crypt.py', 'glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py', 'glance/db/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8d08a85ec3ea660fd5d338cec7f580e9a9467e24', 'message': 'Update metadata_encryption_key support\n\nThis is prevent TypeError or ValueError, which occurs when\nmetadata_encryption_key is set, with database already containing\nunencrypted data.\n\nThe approach marks encrypted data with a dummy\nstring (AES),  which is used to identify encrypted data.It also\nencrypts all unencrypted data which is found\nif metadata_encryption_key is set, when trying to retrieve data\nand vice-versa.\n\nCloses-Bug: #1569937\nChange-Id: I3bda332d148a2a024248552d95dade1a6c2b5bba\n'}]",1,319659,8d08a85ec3ea660fd5d338cec7f580e9a9467e24,17,6,4,21538,,,0,"Update metadata_encryption_key support

This is prevent TypeError or ValueError, which occurs when
metadata_encryption_key is set, with database already containing
unencrypted data.

The approach marks encrypted data with a dummy
string (AES),  which is used to identify encrypted data.It also
encrypts all unencrypted data which is found
if metadata_encryption_key is set, when trying to retrieve data
and vice-versa.

Closes-Bug: #1569937
Change-Id: I3bda332d148a2a024248552d95dade1a6c2b5bba
",git fetch https://review.opendev.org/openstack/glance refs/changes/59/319659/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/crypt.py', 'glance/db/__init__.py']",2,d19e55dbe3aa32362fc1cb7e860ca9354aa648e9,bug/1569937," key = CONF.metadata_encryption_key locations = crypt.parse_locations(self, db_image['id'], key, locations) "," if CONF.metadata_encryption_key: key = CONF.metadata_encryption_key for l in locations: l['url'] = crypt.urlsafe_decrypt(key, l['url'])",66,4
openstack%2Fglance~master~Id84b45f6f0cd5a64008f67fb8a0febcc232945e2,openstack/glance,master,Id84b45f6f0cd5a64008f67fb8a0febcc232945e2,Add Events page to Glance docs and create Bug day,ABANDONED,2016-09-07 19:32:50.000000000,2022-01-04 04:33:49.000000000,,"[{'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 12000}]","[{'number': 1, 'created': '2016-09-07 19:32:50.000000000', 'files': ['doc/source/events/index.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/8a1bc2d0423f8f3db334b472cf3eda28928f6f68', 'message': 'Add Events page to Glance docs and create Bug day\n\nThis commit introduces a new Events page to the Glance developer\ndocumentation pages and proposes a Newton Bug Day event.\n\nChange-Id: Id84b45f6f0cd5a64008f67fb8a0febcc232945e2\n'}]",1,366923,8a1bc2d0423f8f3db334b472cf3eda28928f6f68,15,3,1,2537,,,0,"Add Events page to Glance docs and create Bug day

This commit introduces a new Events page to the Glance developer
documentation pages and proposes a Newton Bug Day event.

Change-Id: Id84b45f6f0cd5a64008f67fb8a0febcc232945e2
",git fetch https://review.opendev.org/openstack/glance refs/changes/23/366923/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/events/index.rst', 'doc/source/index.rst']",2,8a1bc2d0423f8f3db334b472cf3eda28928f6f68,newton-bug-day,Events Related To Glance ======================== .. toctree:: :maxdepth: 1 events/index ,,33,0
openstack%2Fglance~master~I900a6ecd57f34f6bda4d35b5174b7f043e0493a6,openstack/glance,master,I900a6ecd57f34f6bda4d35b5174b7f043e0493a6,Improve tests for status checks on location add,ABANDONED,2016-09-07 21:12:07.000000000,2022-01-04 04:32:59.000000000,,"[{'_account_id': 21722}, {'_account_id': 22834}]","[{'number': 1, 'created': '2016-09-07 21:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d6063cf3ef5a330d77c3884cc74581fe45f0a5cf', 'message': 'Improve tests for status checks on location add\n\nAs per comments on change Ie463e2f30db94cde7716c83a94ec2fb0c0658c91 PS4,\nwe can improve the tests code for tests that check image status during\nlocation addition process. This commit merely refactors the tests to\ngive a cleaner look.\n\nChange-Id: I900a6ecd57f34f6bda4d35b5174b7f043e0493a6\nCo-Authored-By: Li Wei <wei.li@easystack.cn>\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\n'}, {'number': 2, 'created': '2016-09-07 21:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/94f799fe94b82fa8b3ccea3808d9ef9750a76f11', 'message': 'Improve tests for status checks on location add\n\nAs per comments on change Ie463e2f30db94cde7716c83a94ec2fb0c0658c91 PS4,\nwe can improve the tests code for tests that check image status during\nlocation addition process. This commit merely refactors the tests to\ngive a cleaner look.\n\nChange-Id: I900a6ecd57f34f6bda4d35b5174b7f043e0493a6\nCo-Authored-By: Li Wei <wei.li@easystack.cn>\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\n'}, {'number': 3, 'created': '2016-09-08 02:06:35.000000000', 'files': ['glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0a7121d66f5d696b6e3792e1cb3858850508a259', 'message': 'Improve tests for status checks on location add\n\nAs per comments on change Ie463e2f30db94cde7716c83a94ec2fb0c0658c91 PS4,\nwe can improve the tests code for tests that check image status during\nlocation addition process. This commit merely refactors the tests to\ngive a cleaner look.\n\nChange-Id: I900a6ecd57f34f6bda4d35b5174b7f043e0493a6\nCo-Authored-By: Li Wei <wei.li@easystack.cn>\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\n'}]",0,366990,0a7121d66f5d696b6e3792e1cb3858850508a259,12,2,3,2537,,,0,"Improve tests for status checks on location add

As per comments on change Ie463e2f30db94cde7716c83a94ec2fb0c0658c91 PS4,
we can improve the tests code for tests that check image status during
location addition process. This commit merely refactors the tests to
give a cleaner look.

Change-Id: I900a6ecd57f34f6bda4d35b5174b7f043e0493a6
Co-Authored-By: Li Wei <wei.li@easystack.cn>
Co-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/90/366990/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/v2/test_images_resource.py'],1,d6063cf3ef5a330d77c3884cc74581fe45f0a5cf,update-location-tests," def _test_update_add_locations_status(self, image_status): self.config(show_multiple_locations=True) self.images = [ _db_fixture('1', owner=TENANT1, checksum=CHKSUM, name='1', disk_format='raw', container_format='bare', status=image_status), ] self.db.image_create(None, self.images[0]) new_location = {'url': '%s/fake_location' % BASE_URI, 'metadata': {}} request = unit_test_utils.get_fake_request() changes = [{'op': 'add', 'path': ['locations', '-'], 'value': new_location}] self.assertRaises(webob.exc.HTTPConflict, self.controller.update, request, '1', changes) def test_update_add_locations_status_saving(self): self._test_update_add_locations_status('saving') self._test_update_add_locations_status('deactivated') self._test_update_add_locations_status('deleted') self._test_update_add_locations_status('pending_delete') self._test_update_add_locations_status('killed')"," def test_update_add_locations_status_saving(self): self.config(show_multiple_locations=True) self.images = [ _db_fixture('1', owner=TENANT1, checksum=CHKSUM, name='1', disk_format='raw', container_format='bare', status='saving'), ] self.db.image_create(None, self.images[0]) new_location = {'url': '%s/fake_location' % BASE_URI, 'metadata': {}} request = unit_test_utils.get_fake_request() changes = [{'op': 'add', 'path': ['locations', '-'], 'value': new_location}] self.assertRaises(webob.exc.HTTPConflict, self.controller.update, request, '1', changes) self.config(show_multiple_locations=True) self.images = [ _db_fixture('1', owner=TENANT1, checksum=CHKSUM, name='1', disk_format='raw', container_format='bare', status='deactivated'), ] request = unit_test_utils.get_fake_request() self.db.image_create(request.context, self.images[0]) new_location = {'url': '%s/fake_location' % BASE_URI, 'metadata': {}} changes = [{'op': 'add', 'path': ['locations', '-'], 'value': new_location}] self.assertRaises(webob.exc.HTTPConflict, self.controller.update, request, '1', changes) self.config(show_multiple_locations=True) self.images = [ _db_fixture('1', owner=TENANT1, checksum=CHKSUM, name='1', disk_format='raw', container_format='bare', status='deleted'), ] self.db.image_create(None, self.images[0]) new_location = {'url': '%s/fake_location' % BASE_URI, 'metadata': {}} request = unit_test_utils.get_fake_request() changes = [{'op': 'add', 'path': ['locations', '-'], 'value': new_location}] self.assertRaises(webob.exc.HTTPConflict, self.controller.update, request, '1', changes) self.config(show_multiple_locations=True) self.images = [ _db_fixture('1', owner=TENANT1, checksum=CHKSUM, name='1', disk_format='raw', container_format='bare', status='pending_delete'), ] self.db.image_create(None, self.images[0]) new_location = {'url': '%s/fake_location' % BASE_URI, 'metadata': {}} request = unit_test_utils.get_fake_request() changes = [{'op': 'add', 'path': ['locations', '-'], 'value': new_location}] self.assertRaises(webob.exc.HTTPConflict, self.controller.update, request, '1', changes) self.config(show_multiple_locations=True) self.images = [ _db_fixture('1', owner=TENANT1, checksum=CHKSUM, name='1', disk_format='raw', container_format='bare', status='killed'), ] self.db.image_create(None, self.images[0]) new_location = {'url': '%s/fake_location' % BASE_URI, 'metadata': {}} request = unit_test_utils.get_fake_request() changes = [{'op': 'add', 'path': ['locations', '-'], 'value': new_location}] self.assertRaises(webob.exc.HTTPConflict, self.controller.update, request, '1', changes)",22,75
openstack%2Fglance~master~I0263c1f4d5e6a20fd8dcfebd5ab9fd2eb47c881f,openstack/glance,master,I0263c1f4d5e6a20fd8dcfebd5ab9fd2eb47c881f,Add barbican options to glance-api.conf,ABANDONED,2016-09-06 15:12:55.000000000,2022-01-04 04:32:13.000000000,,"[{'_account_id': 455}, {'_account_id': 2537}, {'_account_id': 7973}, {'_account_id': 17116}, {'_account_id': 23272}]","[{'number': 1, 'created': '2016-09-06 15:12:55.000000000', 'files': ['requirements.txt', 'etc/glance-api.conf', 'etc/oslo-config-generator/glance-api.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/c84fbfc37a336041589c418e692c0d830934cff2', 'message': 'Add barbican options to glance-api.conf\n\nGlance image signing requires Barbican. By default Barbican\ntries to connect to Keystone at http://localhost:5000/v3 but\nthis can be configured in glance-api.conf.\n\nAdding the Barbican options to the sample glance.conf makes\nit more clear to users how to change the auth_endpoint if\nKeystone is not on localhost.\n\nChange-Id: I0263c1f4d5e6a20fd8dcfebd5ab9fd2eb47c881f\n'}]",6,366193,c84fbfc37a336041589c418e692c0d830934cff2,11,5,1,23272,,,0,"Add barbican options to glance-api.conf

Glance image signing requires Barbican. By default Barbican
tries to connect to Keystone at http://localhost:5000/v3 but
this can be configured in glance-api.conf.

Adding the Barbican options to the sample glance.conf makes
it more clear to users how to change the auth_endpoint if
Keystone is not on localhost.

Change-Id: I0263c1f4d5e6a20fd8dcfebd5ab9fd2eb47c881f
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/366193/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'etc/glance-api.conf', 'etc/oslo-config-generator/glance-api.conf']",3,c84fbfc37a336041589c418e692c0d830934cff2,,namespace = castellan.config,,510,412
openstack%2Fglance~master~I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5,openstack/glance,master,I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5,[WIP] Image import: prototype /stage implementation,ABANDONED,2016-04-20 14:50:59.000000000,2022-01-04 04:31:22.000000000,,"[{'_account_id': 455}, {'_account_id': 2537}, {'_account_id': 8158}]","[{'number': 1, 'created': '2016-04-20 14:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e8bbf0ba3b3c953f4df6c6a5e3193e3c6fbf0705', 'message': ""[WIP] Image import: prototype /stage implementation\n\nThis is an initial implementation of /stage to get things\nstarted.\n\n+------------------+--------------------------------------+\n| Property         | Value                                |\n+------------------+--------------------------------------+\n| checksum         | 34698d6e92cc3197d1055ce32108e5a7     |\n| container_format | bare                                 |\n| created_at       | 2016-04-20T14:48:12Z                 |\n| disk_format      | raw                                  |\n| id               | a9dc9d0c-dfd7-46f1-a7c8-0c86f1c18f9c |\n| min_disk         | 0                                    |\n| min_ram          | 0                                    |\n| name             | image1                               |\n| owner            | 5b0dd156a4b042d3afd720719b97b669     |\n| protected        | False                                |\n| size             | 36                                   |\n| status           | staged                               |\n| tags             | []                                   |\n| updated_at       | 2016-04-20T14:48:14Z                 |\n| virtual_size     | None                                 |\n| visibility       | private                              |\n+------------------+--------------------------------------+\n\nWhat works:\n\n* you can PUT bytes to v2/<id>/stage\n* the image state changes from queued->saving->staged\n* the size/checksum etc are set.\n* you (correctly) cannot download the bytes.\n* you can upload bytes to /stage when the image_upload\n  policy is restricted to admin only.\n* you can show the image\n* you can delete the image\n\nWhat's still needed:\n\n* more/better tests\n* consideration of v1 impact\n* disable this API if glance-direct is not enabled\n* win the argument that we need a new state such as 'staged'\n  to indicate that the image has been ... staged.\n* image_stage policy\n\nChange-Id: I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5\n""}, {'number': 2, 'created': '2016-04-20 17:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a0dbcb60edd0d6ef41a2cfd535456dc9d2d494dc', 'message': ""[WIP] Image import: prototype /stage implementation\n\nThis is an initial implementation of /stage to get things\nstarted.\n\n+------------------+--------------------------------------+\n| Property         | Value                                |\n+------------------+--------------------------------------+\n| checksum         | 34698d6e92cc3197d1055ce32108e5a7     |\n| container_format | bare                                 |\n| created_at       | 2016-04-20T14:48:12Z                 |\n| disk_format      | raw                                  |\n| id               | a9dc9d0c-dfd7-46f1-a7c8-0c86f1c18f9c |\n| min_disk         | 0                                    |\n| min_ram          | 0                                    |\n| name             | image1                               |\n| owner            | 5b0dd156a4b042d3afd720719b97b669     |\n| protected        | False                                |\n| size             | 36                                   |\n| status           | staged                               |\n| tags             | []                                   |\n| updated_at       | 2016-04-20T14:48:14Z                 |\n| virtual_size     | None                                 |\n| visibility       | private                              |\n+------------------+--------------------------------------+\n\nWhat works:\n\n* you can PUT bytes to v2/<id>/stage\n* the image state changes from queued->saving->staged\n* the size/checksum etc are set.\n* you (correctly) cannot download the bytes.\n* you can upload bytes to /stage when the image_upload\n  policy is restricted to admin only.\n* you can show the image\n* you can delete the image\n\nWhat's still needed:\n\n* more/better tests\n* consideration of v1 impact\n* disable this API if glance-direct is not enabled\n* win the argument that we need a new state such as 'staged'\n  to indicate that the image has been ... staged.\n* image_stage policy\n\nChange-Id: I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5\n""}, {'number': 3, 'created': '2016-04-21 17:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/75f1154e0da108964599bf83e7ded7807106e152', 'message': ""[WIP] Image import: prototype /stage implementation\n\nThis is an initial implementation of /stage to get things\nstarted.\n\n+------------------+--------------------------------------+\n| Property         | Value                                |\n+------------------+--------------------------------------+\n| checksum         | 34698d6e92cc3197d1055ce32108e5a7     |\n| container_format | bare                                 |\n| created_at       | 2016-04-20T14:48:12Z                 |\n| disk_format      | raw                                  |\n| id               | a9dc9d0c-dfd7-46f1-a7c8-0c86f1c18f9c |\n| min_disk         | 0                                    |\n| min_ram          | 0                                    |\n| name             | image1                               |\n| owner            | 5b0dd156a4b042d3afd720719b97b669     |\n| protected        | False                                |\n| size             | 36                                   |\n| status           | staged                               |\n| tags             | []                                   |\n| updated_at       | 2016-04-20T14:48:14Z                 |\n| virtual_size     | None                                 |\n| visibility       | private                              |\n+------------------+--------------------------------------+\n\nWhat works:\n\n* you can PUT bytes to v2/<id>/stage\n* the image state changes from queued->saving->staged\n* the size/checksum etc are set.\n* you (correctly) cannot download the bytes.\n* you can upload bytes to /stage when the image_upload\n  policy is restricted to admin only.\n* you can show the image\n* you can delete the image\n* image_stage policy\n\nWhat's still needed:\n\n* more/better tests\n* consideration of v1 impact\n* disable this API if glance-direct is not enabled\n* win the argument that we need a new state such as 'staged'\n  to indicate that the image has been ... staged.\n* use import specific size limit (not image_size_cap)\n* included staged images in listing\n\nChange-Id: I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5\n""}, {'number': 4, 'created': '2016-04-22 15:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f9dd6644a0f347d50c3fcd765ecce9607947d066', 'message': '[WIP] Image import: prototype /stage implementation\n\nThis is an initial implementation of /stage to get things\nstarted.\n\nIt enables ""PUT /v2/images/<id>/stage"".\n\n+------------------+--------------------------------------+\n| Property         | Value                                |\n+------------------+--------------------------------------+\n| checksum         | 34698d6e92cc3197d1055ce32108e5a7     |\n| container_format | bare                                 |\n| created_at       | 2016-04-20T14:48:12Z                 |\n| disk_format      | raw                                  |\n| id               | a9dc9d0c-dfd7-46f1-a7c8-0c86f1c18f9c |\n| min_disk         | 0                                    |\n| min_ram          | 0                                    |\n| name             | image1                               |\n| owner            | 5b0dd156a4b042d3afd720719b97b669     |\n| protected        | False                                |\n| size             | 36                                   |\n| status           | staged                               |\n| tags             | []                                   |\n| updated_at       | 2016-04-20T14:48:14Z                 |\n| virtual_size     | None                                 |\n| visibility       | private                              |\n+------------------+--------------------------------------+\n\nWhat works:\n\n* you can PUT bytes to v2/<id>/stage\n* the image state changes from queued->saving->staged\n* the size/checksum etc are set.\n* you (correctly) cannot download the bytes.\n* you can upload bytes to /stage when the image_upload\n  policy is restricted to admin only.\n* you can show the image\n* you can delete the image\n* image_stage policy\n* listing staged images\n\nWhat\'s still needed:\n\n* consideration of v1 impact\n* disable this API if glance-direct is not enabled\n* win the argument that we need a new state such as \'staged\'\n  to indicate that the image has been ... staged.\n* use import specific size limit (not image_size_cap)\n* verify image bits are actually being deleted\n* more tests. (Can you share a staged/publicize etc.)\n\nChange-Id: I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5\n'}, {'number': 5, 'created': '2016-04-22 16:49:03.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/location.py', 'glance/tests/functional/v2/test_images.py', 'glance/db/sqlalchemy/api.py', 'doc/source/policies.rst', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_notifier.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/api/v2/images.py', 'glance/notifier.py', 'glance/api/v2/router.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/bf899ec601194a1041ce6e23da8b10c57fffb96a', 'message': '[WIP] Image import: prototype /stage implementation\n\nThis is an initial implementation of /stage to get things\nstarted.\n\nIt enables ""PUT /v2/images/<id>/stage"".\n\n+------------------+--------------------------------------+\n| Property         | Value                                |\n+------------------+--------------------------------------+\n| checksum         | 34698d6e92cc3197d1055ce32108e5a7     |\n| container_format | bare                                 |\n| created_at       | 2016-04-20T14:48:12Z                 |\n| disk_format      | raw                                  |\n| id               | a9dc9d0c-dfd7-46f1-a7c8-0c86f1c18f9c |\n| min_disk         | 0                                    |\n| min_ram          | 0                                    |\n| name             | image1                               |\n| owner            | 5b0dd156a4b042d3afd720719b97b669     |\n| protected        | False                                |\n| size             | 36                                   |\n| status           | staged                               |\n| tags             | []                                   |\n| updated_at       | 2016-04-20T14:48:14Z                 |\n| virtual_size     | None                                 |\n| visibility       | private                              |\n+------------------+--------------------------------------+\n\nWhat works:\n\n* you can PUT bytes to v2/<id>/stage\n* the image state changes from queued->saving->staged\n* the size/checksum etc are set.\n* you (correctly) cannot download the bytes.\n* you can upload bytes to /stage when the image_upload\n  policy is restricted to admin only.\n* you can show the image\n* you can delete the image (the image data is deleted)\n* image_stage policy\n* listing staged images\n\nWhat\'s still needed:\n\n* consideration of v1 impact\n* disable this API if glance-direct is not enabled\n* win the argument that we need a new state such as \'staged\'\n  to indicate that the image has been ... staged.\n* use import specific size limit (not image_size_cap)\n* more tests. (Can you share a staged/publicize etc.)\n\nChange-Id: I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5\n'}]",3,308386,bf899ec601194a1041ce6e23da8b10c57fffb96a,18,3,5,455,,,0,"[WIP] Image import: prototype /stage implementation

This is an initial implementation of /stage to get things
started.

It enables ""PUT /v2/images/<id>/stage"".

+------------------+--------------------------------------+
| Property         | Value                                |
+------------------+--------------------------------------+
| checksum         | 34698d6e92cc3197d1055ce32108e5a7     |
| container_format | bare                                 |
| created_at       | 2016-04-20T14:48:12Z                 |
| disk_format      | raw                                  |
| id               | a9dc9d0c-dfd7-46f1-a7c8-0c86f1c18f9c |
| min_disk         | 0                                    |
| min_ram          | 0                                    |
| name             | image1                               |
| owner            | 5b0dd156a4b042d3afd720719b97b669     |
| protected        | False                                |
| size             | 36                                   |
| status           | staged                               |
| tags             | []                                   |
| updated_at       | 2016-04-20T14:48:14Z                 |
| virtual_size     | None                                 |
| visibility       | private                              |
+------------------+--------------------------------------+

What works:

* you can PUT bytes to v2/<id>/stage
* the image state changes from queued->saving->staged
* the size/checksum etc are set.
* you (correctly) cannot download the bytes.
* you can upload bytes to /stage when the image_upload
  policy is restricted to admin only.
* you can show the image
* you can delete the image (the image data is deleted)
* image_stage policy
* listing staged images

What's still needed:

* consideration of v1 impact
* disable this API if glance-direct is not enabled
* win the argument that we need a new state such as 'staged'
  to indicate that the image has been ... staged.
* use import specific size limit (not image_size_cap)
* more tests. (Can you share a staged/publicize etc.)

Change-Id: I8b4a7c9427df51b0aa20ac7fe2652ffec4b23cd5
",git fetch https://review.opendev.org/openstack/glance refs/changes/86/308386/5 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/location.py', 'glance/api/policy.py', 'glance/api/v2/images.py', 'glance/notifier.py', 'glance/api/v2/router.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_image_data_resource.py']",11,e8bbf0ba3b3c953f4df6c6a5e3193e3c6fbf0705,import-refactor-newton," def set_data(self, data, size=None, target_status='active'): def test_stage(self): request = unit_test_utils.get_fake_request() image = FakeImage('abcd') self.image_repo.result = image self.controller.stage(request, unit_test_utils.UUID2, 'YYYY', 4) self.assertEqual('YYYY', image.data) self.assertEqual(4, image.size) "," def set_data(self, data, size=None):",45,17
openstack%2Fglance~master~I418cfba08263868a181b7dd3f10251ee886cc4ce,openstack/glance,master,I418cfba08263868a181b7dd3f10251ee886cc4ce,[WIP] Image import: prototype /import implementation,ABANDONED,2016-05-04 17:36:19.000000000,2022-01-04 04:31:03.000000000,,"[{'_account_id': 455}, {'_account_id': 2537}]","[{'number': 1, 'created': '2016-05-04 17:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7315fe8cd72b2e24e8418347fdbf461965923d7d', 'message': '[WIP] Image import: prototype /import implementation\n\nThis is really just some initial boilerplate.\n\nThe intention is that it can be used to gather some feedback/discussion\non the several ways that we could implement this.\n\nFor example glance/api/v2/tasks.py seems to create a new task right\nat the outset. So, if no ""plugins"" were present we would still create\na task. Alternatively, we could choose to only create a task/tasks to\nexecute any plugins and implement the common bits as an Image method\n(image.image_import()).\n\nHow much of the existing task stuff should we re-use?  Do we need all\nthe TaskFactory/TaskFactoryProxy stuff for example, or could we reuse\nthe image factory/proxy and plug more directly into task flow?\n\nMore generally, did folks have any expectations/preferences on how we\'d\nimplement this?\n\nChange-Id: I418cfba08263868a181b7dd3f10251ee886cc4ce\n'}, {'number': 2, 'created': '2016-05-06 14:58:16.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/api/policy.py', 'glance/api/v2/router.py', 'glance/domain/proxy.py', 'glance/domain/__init__.py', 'glance/api/v2/image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2bbd66921fa99b66497aed421e2d2f2546d90acd', 'message': '[WIP] Image import: prototype /import implementation\n\nThis is really just some initial boilerplate.\n\nThe intention is that it can be used to gather some feedback/discussion\non the several ways that we could implement this.\n\nFor example glance/api/v2/tasks.py seems to create a new task right\nat the outset. So, if no ""plugins"" were present we would still create\na task. Alternatively, we could choose to only create a task/tasks to\nexecute any plugins and implement the common bits as an Image method\n(image.image_import()).\n\nHow much of the existing task stuff should we re-use?  Do we need all\nthe TaskFactory/TaskFactoryProxy stuff for example, or could we reuse\nthe image factory/proxy and plug more directly into task flow?\n\nMore generally, did folks have any expectations/preferences on how we\'d\nimplement this?\n\nChange-Id: I418cfba08263868a181b7dd3f10251ee886cc4ce\n'}]",1,312653,2bbd66921fa99b66497aed421e2d2f2546d90acd,13,2,2,455,,,0,"[WIP] Image import: prototype /import implementation

This is really just some initial boilerplate.

The intention is that it can be used to gather some feedback/discussion
on the several ways that we could implement this.

For example glance/api/v2/tasks.py seems to create a new task right
at the outset. So, if no ""plugins"" were present we would still create
a task. Alternatively, we could choose to only create a task/tasks to
execute any plugins and implement the common bits as an Image method
(image.image_import()).

How much of the existing task stuff should we re-use?  Do we need all
the TaskFactory/TaskFactoryProxy stuff for example, or could we reuse
the image factory/proxy and plug more directly into task flow?

More generally, did folks have any expectations/preferences on how we'd
implement this?

Change-Id: I418cfba08263868a181b7dd3f10251ee886cc4ce
",git fetch https://review.opendev.org/openstack/glance refs/changes/53/312653/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/policy.py', 'glance/api/v2/router.py', 'glance/domain/proxy.py', 'glance/domain/__init__.py', 'glance/api/v2/image_import.py']",5,7315fe8cd72b2e24e8418347fdbf461965923d7d,import-refactor-newton,"# Copyright 2015 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import glance_store from oslo_log import log as logging import webob.exc from glance.api import policy from glance.common import exception from glance.common import wsgi import glance.db import glance.gateway import glance.notifier LOG = logging.getLogger(__name__) class ImageImportController(object): def __init__(self, db_api=None, policy_enforcer=None, notifier=None, store_api=None): self.db_api = db_api or glance.db.get_api() self.policy = policy_enforcer or policy.Enforcer() self.notifier = notifier or glance.notifier.Notifier() self.store_api = store_api or glance_store self.gateway = glance.gateway.Gateway(self.db_api, self.store_api, self.notifier, self.policy) def image_import(self, req, body, image_id): image_repo = self.gateway.get_repo(req.context) try: image = image_repo.get(image_id) image.image_import() except exception.NotFound as e: raise webob.exc.HTTPNotFound(explanation=e.msg) except exception.Forbidden as e: LOG.debug(""User not permitted to access image '%s'"", image_id) raise webob.exc.HTTPForbidden(explanation=e.msg) class ResponseSerializer(wsgi.JSONResponseSerializer): def image_import(self, response, result): response.status_int = 202 def create_resource(): """"""Image data resource factory method"""""" deserializer = None serializer = ResponseSerializer() controller = ImageImportController() return wsgi.Resource(controller, deserializer, serializer) ",,79,0
openstack%2Ftripleo-quickstart-extras~master~I88b6570d5593e301fe60842bc1dceff22901e037,openstack/tripleo-quickstart-extras,master,I88b6570d5593e301fe60842bc1dceff22901e037,Add NtpServer to standalone_config.yaml,MERGED,2021-12-23 22:07:13.000000000,2022-01-04 04:16:34.000000000,2022-01-03 23:13:38.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-23 22:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b1afae78dd32b3e7f20b80c3fe0fae216ef7881', 'message': 'Add NtpServer to standalone_config.yaml\n\nNtpServer should be able to be defined in the\nstandalone config and allowed to be overridden\nper environment via zuul parameters.\n\nChange-Id: I88b6570d5593e301fe60842bc1dceff22901e037\nRelated-Bug: #1955508\n'}, {'number': 2, 'created': '2021-12-23 22:09:03.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/70dce41a11a083f0e6c89815a4a7c9fd75fce1ec', 'message': 'Add NtpServer to standalone_config.yaml\n\nNtpServer should be able to be defined in the\nstandalone config and allowed to be overridden\nper environment via zuul parameters.\n\nChange-Id: I88b6570d5593e301fe60842bc1dceff22901e037\nRelated-Bug: #1955508\n'}]",8,822858,70dce41a11a083f0e6c89815a4a7c9fd75fce1ec,32,8,2,9976,,,0,"Add NtpServer to standalone_config.yaml

NtpServer should be able to be defined in the
standalone config and allowed to be overridden
per environment via zuul parameters.

Change-Id: I88b6570d5593e301fe60842bc1dceff22901e037
Related-Bug: #1955508
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/58/822858/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,0b1afae78dd32b3e7f20b80c3fe0fae216ef7881,bug1955508," NtpServer: {{ job.standalone_ntp_servers|default(""['0.pool.ntp.org', '1.pool.ntp.org', '2.pool.ntp.org', '3.pool.ntp.org']"") }}",,1,0
openstack%2Frequirements~master~Ie36eab52d4e01345a8caa6d844caf82e524a6f9d,openstack/requirements,master,Ie36eab52d4e01345a8caa6d844caf82e524a6f9d,Updated from generate-constraints,ABANDONED,2022-01-04 02:50:24.000000000,2022-01-04 03:22:10.000000000,,[],"[{'number': 1, 'created': '2022-01-04 02:50:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a6312890ba2430ed764fc5d7bd5ed5f248d95c3d', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie36eab52d4e01345a8caa6d844caf82e524a6f9d\n'}]",0,823328,a6312890ba2430ed764fc5d7bd5ed5f248d95c3d,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ie36eab52d4e01345a8caa6d844caf82e524a6f9d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/823328/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a6312890ba2430ed764fc5d7bd5ed5f248d95c3d,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1pkg_resources===0.0.0django-compressor===3.1requests===2.27.0ruamel.yaml===0.17.20aodhclient===2.3.1boto3===1.20.27pysaml2===7.1.0botocore===1.23.27zstd===1.5.1.0rjsmin===1.2.0fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0django-compressor===2.4.1requests===2.26.0ruamel.yaml===0.17.19aodhclient===2.3.0boto3===1.20.26pysaml2===7.0.1botocore===1.23.26zstd===1.5.0.4rjsmin===1.1.0fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.2.0;python_version=='3.8',13,14
openstack%2Fkayobe~stable%2Fvictoria~Id789dede2d1886ef5ec66ebc86968d6cf62fa2de,openstack/kayobe,stable/victoria,Id789dede2d1886ef5ec66ebc86968d6cf62fa2de,Document that extra kernel parameters are important for inspection,MERGED,2021-11-30 08:45:06.000000000,2022-01-03 21:58:25.000000000,2022-01-03 21:57:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-30 08:45:06.000000000', 'files': ['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst', 'ansible/group_vars/all/bifrost'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/be1d6adbb105c2995888497181264ba44b89c394', 'message': 'Document that extra kernel parameters are important for inspection\n\nWhen customising kolla_bifrost_inspector_extra_kernel_options, for\nexample to define which console to use, operators should note that\nKayobe defines extra kernel parameters that are important for\ninspection, such as ipa-collect-lldp=1.\n\nChange-Id: Id789dede2d1886ef5ec66ebc86968d6cf62fa2de\n(cherry picked from commit 7ed91dd06613b36889597df0cd4a8792b43f1b61)\n'}]",3,819683,be1d6adbb105c2995888497181264ba44b89c394,16,3,1,15197,,,0,"Document that extra kernel parameters are important for inspection

When customising kolla_bifrost_inspector_extra_kernel_options, for
example to define which console to use, operators should note that
Kayobe defines extra kernel parameters that are important for
inspection, such as ipa-collect-lldp=1.

Change-Id: Id789dede2d1886ef5ec66ebc86968d6cf62fa2de
(cherry picked from commit 7ed91dd06613b36889597df0cd4a8792b43f1b61)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/83/819683/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst', 'ansible/group_vars/all/bifrost']",3,be1d6adbb105c2995888497181264ba44b89c394,inspector-options-doc-stable/victoria,"# Default is {{ inspector_extra_kernel_options }}, defined in inspector.yml. # When customising this variable, the default extra kernel parameters should be # kept to retain full node inspection capabilities.",,9,1
openstack%2Frequirements~master~I7911d252e71147f026c43df62a41d3569bb1278c,openstack/requirements,master,I7911d252e71147f026c43df62a41d3569bb1278c,Updated from generate-constraints,MERGED,2022-01-01 02:51:38.000000000,2022-01-03 19:31:59.000000000,2022-01-03 19:30:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-01 02:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8d36f43417ba57bc0f2757637962afe7c0a17297', 'message': 'Updated from generate-constraints\n\nChange-Id: I7911d252e71147f026c43df62a41d3569bb1278c\n'}, {'number': 2, 'created': '2022-01-02 02:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2bcedcd7bbde572c65c3f9a04dda5cf4b791bcaa', 'message': 'Updated from generate-constraints\n\nChange-Id: I7911d252e71147f026c43df62a41d3569bb1278c\n'}, {'number': 3, 'created': '2022-01-03 02:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1019af74e4fb24b49c315ef847939726de82b413', 'message': 'Updated from generate-constraints\n\nChange-Id: I7911d252e71147f026c43df62a41d3569bb1278c\n'}, {'number': 4, 'created': '2022-01-03 15:52:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8473e174791f2b3a8a693de0c6ffcdbacfc22431', 'message': 'Updated from generate-constraints\n\nChange-Id: I7911d252e71147f026c43df62a41d3569bb1278c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,823219,8473e174791f2b3a8a693de0c6ffcdbacfc22431,18,2,4,11131,,,0,"Updated from generate-constraints

Change-Id: I7911d252e71147f026c43df62a41d3569bb1278c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/823219/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8d36f43417ba57bc0f2757637962afe7c0a17297,openstack/requirements/constraints/noclob,rcssmin===1.1.0XStatic-Angular===1.8.2.1pkg_resources===0.0.0django-compressor===3.1Pygments===2.11.1diskcache===5.4.0pysaml2===7.1.0numpy===1.22.0;python_version=='3.8'rjsmin===1.2.0zipp===3.6.0;python_version=='3.6' zipp===3.7.0;python_version=='3.8'fasteners===0.16.3virtualenv===20.12.0,rcssmin===1.0.6XStatic-Angular===1.5.8.0django-compressor===2.4.1Pygments===2.10.0diskcache===5.3.0pysaml2===7.0.1numpy===1.21.5;python_version=='3.8'rjsmin===1.1.0zipp===3.6.0fasteners===0.14.1virtualenv===20.11.2setuptools===59.6.0;python_version=='3.6' setuptools===60.2.0;python_version=='3.8',13,13
openstack%2Fneutron~stable%2Fwallaby~I42a8a767a6ef9454419b26f80339394759644faf,openstack/neutron,stable/wallaby,I42a8a767a6ef9454419b26f80339394759644faf,[OVN] Accept OVS system-id as non UUID formatted string,MERGED,2021-12-22 12:13:16.000000000,2022-01-03 18:52:02.000000000,2022-01-03 18:50:10.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-22 12:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b8327f638a27a64c9a0fb430057b484cee33276', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n\tneutron/tests/unit/agent/ovn/metadata/test_agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n(cherry picked from commit 9e4784704f3ad9f76b59e89a048133b77e497a5e)\n'}, {'number': 2, 'created': '2021-12-24 10:00:41.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b07eeb2789abc79c0fa86db0bdf7bc111ea725ac', 'message': '[OVN] Accept OVS system-id as non UUID formatted string\n\nAccept OVS system-id non UUID formatted strings. The OVN metadata\nagent will generate a unique UUID from the OVS system-id. If this\nstring is a UUID, this value will be used. If not, the OVN metadata\nagent will generate a UUID based on the provided string.\n\nThis patch amends [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/819634\n\nCloses-Bug: #1952550\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n        neutron/tests/unit/agent/ovn/metadata/test_agent.py\n\nChange-Id: I42a8a767a6ef9454419b26f80339394759644faf\n(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)\n(cherry picked from commit 6da4432fed255f3bcf3831f5d0520ab389ce36e5)\n'}]",0,822668,b07eeb2789abc79c0fa86db0bdf7bc111ea725ac,17,4,2,16688,,,0,"[OVN] Accept OVS system-id as non UUID formatted string

Accept OVS system-id non UUID formatted strings. The OVN metadata
agent will generate a unique UUID from the OVS system-id. If this
string is a UUID, this value will be used. If not, the OVN metadata
agent will generate a UUID based on the provided string.

This patch amends [1].

[1]https://review.opendev.org/c/openstack/neutron/+/819634

Closes-Bug: #1952550

Conflicts:
	neutron/agent/ovn/metadata/agent.py
        neutron/tests/unit/agent/ovn/metadata/test_agent.py

Change-Id: I42a8a767a6ef9454419b26f80339394759644faf
(cherry picked from commit 79037c951637dc06d47b6d354776d116a1d2a9ad)
(cherry picked from commit 6da4432fed255f3bcf3831f5d0520ab389ce36e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/822668/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,2b8327f638a27a64c9a0fb430057b484cee33276,bug/1952550,"import uuidfrom oslo_utils import uuidutils def test__load_config(self): # Chassis name UUID formatted string. OVN bridge ""br-ovn"". valid_uuid_str = uuidutils.generate_uuid() self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': valid_uuid_str}, {'ovn-bridge': 'br-ovn'}] self.agent._load_config() self.assertEqual(valid_uuid_str, self.agent.chassis) self.assertEqual(uuid.UUID(valid_uuid_str), self.agent.chassis_id) self.assertEqual('br-ovn', self.agent.ovn_bridge) # Chassis name non UUID formatted string. OVN bridge not defined, # ""br-int"" assigned by default. self.agent.ovs_idl.db_get.return_value.execute.side_effect = [ {'system-id': 'RandomName1'}, {}] self.agent._load_config() generated_uuid = uuid.uuid5(agent.OVN_METADATA_UUID_NAMESPACE, 'RandomName1') self.assertEqual('RandomName1', self.agent.chassis) self.assertEqual(generated_uuid, self.agent.chassis_id) self.assertEqual('br-int', self.agent.ovn_bridge)",,34,2
openstack%2Fopenstacksdk~feature%2Fr1~Ibde213f047d8c8cac8f54c418713703c3e6a40ee,openstack/openstacksdk,feature/r1,Ibde213f047d8c8cac8f54c418713703c3e6a40ee,Add QoS min pps rule object and CRUD operations,MERGED,2021-09-22 08:06:44.000000000,2022-01-03 18:51:54.000000000,2022-01-03 18:50:14.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 16688}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-09-22 08:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cb8372789e776a7ec6f119b5ee0bac2582ce7355', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}, {'number': 2, 'created': '2021-09-29 10:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b46fc55473b0f8020f0234854a7fc2bd719ae877', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}, {'number': 3, 'created': '2021-09-29 11:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6a1e20e7ea175c7fbabf0a3e76dd841c4a1d347d', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}, {'number': 4, 'created': '2021-09-29 12:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1626ea7ac47c3b3b2173861392512be169caa5d1', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}, {'number': 5, 'created': '2021-11-15 15:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/68ed9eec44abd79b9afd99c083c6597203dae1a6', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}, {'number': 6, 'created': '2021-11-15 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3401cd12514054411d88f7f4b1337c2331de16d3', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}, {'number': 7, 'created': '2021-11-25 13:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b6b82cab3c140d6dc06918ab2e3b4b3c9981dc4e', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}, {'number': 8, 'created': '2021-12-31 14:38:38.000000000', 'files': ['openstack/tests/unit/network/v2/test_qos_minimum_packet_rate_rule.py', 'doc/source/user/resources/network/index.rst', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'releasenotes/notes/qos-min-pps-rule-52df1b150b1d3f68.yaml', 'doc/source/user/resources/network/v2/qos_minimum_packet_rate_rule.rst', 'openstack/network/v2/qos_minimum_packet_rate_rule.py', 'openstack/tests/functional/network/v2/test_qos_minimum_packet_rate_rule.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3e84351cb8a4904bc1a3eeb1fd2e967bc79d76b1', 'message': 'Add QoS min pps rule object and CRUD operations\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\n\nChange-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee\n'}]",13,810364,3e84351cb8a4904bc1a3eeb1fd2e967bc79d76b1,29,8,8,33652,,,0,"Add QoS min pps rule object and CRUD operations

Partial-Bug: #1922237
See-Also: https://review.opendev.org/785236

Change-Id: Ibde213f047d8c8cac8f54c418713703c3e6a40ee
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/810364/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_qos_minimum_packet_rate_rule.py', 'openstack/tests/unit/cloud/test_qos_minimum_packet_rate_rule.py', 'doc/source/user/resources/network/index.rst', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/tests/functional/cloud/test_qos_minimum_packet_rate_rule.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/resources/network/v2/qos_minimum_packet_rate_rule.rst', 'openstack/network/v2/qos_minimum_packet_rate_rule.py', 'doc/source/user/proxies/network.rst', 'releasenotes/notes/qos-min-pps-rule-52df1b150b1d3f68.yaml', 'openstack/tests/functional/network/v2/test_qos_minimum_packet_rate_rule.py', 'openstack/cloud/_network.py']",12,cb8372789e776a7ec6f119b5ee0bac2582ce7355,bp/qos-minimum-guaranteed-packet-rate," def search_qos_minimum_packet_rate_rules(self, policy_name_or_id, rule_id=None, filters=None): """"""Search QoS minimum packet rate rules :param string policy_name_or_id: Name or ID of the QoS policy from which rules should be searched. :param string rule_id: ID of searched rule. :param filters: A dict containing additional filters to use. e.g. {'min_kpps': 1000} :returns: A list of ``munch.Munch`` containing the minimum packet rate rule descriptions. :raises: ``OpenStackCloudException`` if something goes wrong during the OpenStack API call. """""" rules = self.list_qos_minimum_packet_rate_rules( policy_name_or_id, filters) return _utils._filter_list(rules, rule_id, filters) def list_qos_minimum_packet_rate_rules(self, policy_name_or_id, filters=None): """"""List all available QoS minimum packet rate rules. :param string policy_name_or_id: Name or ID of the QoS policy from which rules should be listed. :param filters: (optional) dict of filter conditions to push down :returns: A list of ``munch.Munch`` containing rule info. :raises: ``OpenStackCloudResourceNotFound`` if QoS policy will not be found. """""" if not self._has_neutron_extension('qos-pps-minimum'): raise exc.OpenStackCloudUnavailableExtension( 'qos-pps-minimum extension is not available on target cloud') policy = self.network.find_qos_policy(policy_name_or_id) if not policy: raise exc.OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) # Translate None from search interface to empty {} for kwargs below if not filters: filters = {} return list( self.network.qos_minimum_packet_rate_rules(policy, **filters)) def get_qos_minimum_packet_rate_rule(self, policy_name_or_id, rule_id): """"""Get a QoS minimum packet rate rule by name or ID. :param string policy_name_or_id: Name or ID of the QoS policy from which rule should be retrieved. :param rule_id: ID of the rule. :returns: A minimum bandwidth rule ``munch.Munch`` or None if no matching rule is found. """""" if not self._has_neutron_extension('qos-pps-minimum'): raise exc.OpenStackCloudUnavailableExtension( 'qos-pps-minimum extension is not available on target cloud') policy = self.network.find_qos_policy(policy_name_or_id) if not policy: raise exc.OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) return self.network.get_qos_minimum_packet_rate_rule(rule_id, policy) @_utils.valid_kwargs(""direction"") def create_qos_minimum_packet_rate_rule(self, policy_name_or_id, min_kpps, **kwargs): """"""Create a QoS minimum packet rate rule. :param string policy_name_or_id: Name or ID of the QoS policy to which rule should be associated. :param int min_kpps: Minimum packet rate value (in kilo packet per second). :param string direction: The direction in which the traffic will be available. Valid values are 'ingress', 'egress' or 'any'. :returns: The QoS minimum packet rate rule. :raises: OpenStackCloudException on operation error. """""" if not self._has_neutron_extension('qos-pps-minimum'): raise exc.OpenStackCloudUnavailableExtension( 'qos-pps-minimum extension is not available on target cloud') policy = self.network.find_qos_policy(policy_name_or_id) if not policy: raise exc.OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) kwargs['min_kpps'] = min_kpps return self.network.create_qos_minimum_packet_rate_rule( policy, **kwargs) @_utils.valid_kwargs(""min_kpps"", ""direction"") def update_qos_minimum_packet_rate_rule(self, policy_name_or_id, rule_id, **kwargs): """"""Update a QoS minimum packet rate rule. :param string policy_name_or_id: Name or ID of the QoS policy to which rule is associated. :param string rule_id: ID of rule to update. :param int min_kpps: Minimum packet rate value (in kilo packet per second). :param string direction: The direction in which the traffic will be available. Valid values are 'ingress', 'egress' or 'any'. :returns: The updated QoS minimum packet rate rule. :raises: OpenStackCloudException on operation error. """""" if not self._has_neutron_extension('qos-pps-minimum'): raise exc.OpenStackCloudUnavailableExtension( 'qos-pps-minimum extension is not available on target cloud') policy = self.network.find_qos_policy(policy_name_or_id) if not policy: raise exc.OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) if not kwargs: self.log.debug(""No QoS minimum packet rate rule data to update"") return curr_rule = self.network.get_qos_minimum_packet_rate_rule( rule_id, policy) if not curr_rule: raise exc.OpenStackCloudException( ""QoS minimum_packet_rate_rule {rule_id} not found in policy "" ""{policy_id}"".format(rule_id=rule_id, policy_id=policy['id'])) return self.network.update_qos_minimum_packet_rate_rule( curr_rule, policy, **kwargs) def delete_qos_minimum_packet_rate_rule(self, policy_name_or_id, rule_id): """"""Delete a QoS minimum packet rate rule. :param string policy_name_or_id: Name or ID of the QoS policy to which rule is associated. :param string rule_id: ID of rule to delete. :raises: OpenStackCloudException on operation error. """""" if not self._has_neutron_extension('qos-pps-minimum'): raise exc.OpenStackCloudUnavailableExtension( 'qos-pps-minimum extension is not available on target cloud') policy = self.network.find_qos_policy(policy_name_or_id) if not policy: raise exc.OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) try: self.network.delete_qos_minimum_packet_rate_rule( rule_id, policy, ignore_missing=False) except exceptions.ResourceNotFound: self.log.debug( ""QoS minimum packet rate rule {rule_id} not found in policy "" ""{policy_id}. Ignoring."".format(rule_id=rule_id, policy_id=policy['id'])) return False return True ",,939,0
openstack%2Frequirements~stable%2Fxena~Ief1b9bef9f1b309910f1c4b16fb3082c723abb35,openstack/requirements,stable/xena,Ief1b9bef9f1b309910f1c4b16fb3082c723abb35,update constraint for aodhclient to new release 2.3.1,MERGED,2022-01-03 10:25:00.000000000,2022-01-03 18:50:17.000000000,2022-01-03 18:50:17.000000000,"[{'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 10:25:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4e8983fc1ad9d96202791ec7ab93128191061926', 'message': 'update constraint for aodhclient to new release 2.3.1\n\nmeta: version: 2.3.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Eyal <eyalb1@gmail.com>\nmeta: release:Commit: Eyal <eyalb1@gmail.com>\nmeta: release:Change-Id: I5db4ddba7a6ffbc6ddd95dcb62d3f9cea3198ba1\nmeta: release:Code-Review+1: Eyal <eyalb1@gmail.com>\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ief1b9bef9f1b309910f1c4b16fb3082c723abb35\n'}]",1,823264,4e8983fc1ad9d96202791ec7ab93128191061926,9,3,1,11131,,,0,"update constraint for aodhclient to new release 2.3.1

meta: version: 2.3.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Eyal <eyalb1@gmail.com>
meta: release:Commit: Eyal <eyalb1@gmail.com>
meta: release:Change-Id: I5db4ddba7a6ffbc6ddd95dcb62d3f9cea3198ba1
meta: release:Code-Review+1: Eyal <eyalb1@gmail.com>
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ief1b9bef9f1b309910f1c4b16fb3082c723abb35
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/823264/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4e8983fc1ad9d96202791ec7ab93128191061926,new-release,aodhclient===2.3.1,aodhclient===2.3.0,1,1
openstack%2Ftripleo-quickstart-extras~master~If2cbcab21b3a5a3826cf076205dd3222f5893078,openstack/tripleo-quickstart-extras,master,If2cbcab21b3a5a3826cf076205dd3222f5893078,Drop ipa custom ntp server,MERGED,2021-12-21 22:43:26.000000000,2022-01-03 18:09:03.000000000,2022-01-03 18:09:03.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-21 22:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1fcb9d96ea5eaee181e54d30350b436a06086740', 'message': ""Fix TLS ntp servers\n\nThere are two issues with the current configuration.\n\n  1) clock.redhat.com is not publicly accessible so we need an\n     alternative.\n  2) the line server setting is being configured as ['clock.redhat.com']\n     which is not a valid server\n\nThis change adds a publicly ntp server in while leaving the existing\nconfiguration and fixes the formatting of the value so it's properly\nhandled.\n\nIt should be noted that this hackery of a CI environment file from THT\nis not a good solution. This bit should get fixed so these values end up\nin the standalone parameters rather than editing\nTHT/ci/environments/standalone-ipa.yaml.\n\nCloses-Bug: #1955508\n\nChange-Id: If2cbcab21b3a5a3826cf076205dd3222f5893078\n""}, {'number': 2, 'created': '2021-12-21 22:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f44d30ce141c869e1f57b6e32479a4113db95bbd', 'message': 'Fix TLS ntp servers\n\nThere are two issues with the current configuration.\n\n  1) clock.redhat.com is not publicly accessible so we need an\n     alternative.\n  2) the line server setting is being configured as\n     ""[\'clock.redhat.com\']""  which is not a valid server\n\nThis change adds a publicly ntp server in while leaving the existing\nconfiguration and fixes the formatting of the value so it\'s properly\nhandled.\n\nIt should be noted that this hackery of a CI environment file from THT\nis not a good solution. This bit should get fixed so these values end up\nin the standalone parameters rather than editing\nTHT/ci/environments/standalone-ipa.yaml.\n\nCloses-Bug: #1955508\n\nChange-Id: If2cbcab21b3a5a3826cf076205dd3222f5893078\n'}, {'number': 3, 'created': '2021-12-22 22:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b84a865acf03224f6b7cc5a8b29e62154428ad4a', 'message': 'Fix TLS ntp servers\n\nThere are two issues with the current configuration.\n\n  1) clock.redhat.com is not publicly accessible so we need an\n     alternative.\n  2) the line server setting is being configured as\n     ""[\'clock.redhat.com\']""  which is not a valid server\n\nThis change adds a publicly ntp servers in using the same list we use in\nTHT for the chrony service.\n\nIt should be noted that this hackery of a CI environment file from THT\nis not a good solution. This bit should get fixed so these values end up\nin the standalone parameters rather than editing\nTHT/ci/environments/standalone-ipa.yaml.\n\nCloses-Bug: #1955508\n\nChange-Id: If2cbcab21b3a5a3826cf076205dd3222f5893078\n'}, {'number': 4, 'created': '2021-12-23 16:32:07.000000000', 'files': ['roles/standalone/tasks/containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/86b0dd0841950c2e81f22f75cd9e380c4a583fb7', 'message': 'Drop ipa custom ntp server\n\nThere are two issues with the current configuration.\n\n  1) clock.redhat.com is not publicly accessible so we need an\n     alternative.\n  2) the line server setting is being configured as\n     ""[\'clock.redhat.com\']""  which is not a valid server\n\nIt should be noted that this hackery of a CI environment file from THT\nis not a good solution. This bit should get fixed so these values end up\nin the standalone parameters rather than editing\nTHT/ci/environments/standalone-ipa.yaml.\n\nCloses-Bug: #1955508\n\nChange-Id: If2cbcab21b3a5a3826cf076205dd3222f5893078\n'}]",17,822566,86b0dd0841950c2e81f22f75cd9e380c4a583fb7,68,10,4,14985,,,0,"Drop ipa custom ntp server

There are two issues with the current configuration.

  1) clock.redhat.com is not publicly accessible so we need an
     alternative.
  2) the line server setting is being configured as
     ""['clock.redhat.com']""  which is not a valid server

It should be noted that this hackery of a CI environment file from THT
is not a good solution. This bit should get fixed so these values end up
in the standalone parameters rather than editing
THT/ci/environments/standalone-ipa.yaml.

Closes-Bug: #1955508

Change-Id: If2cbcab21b3a5a3826cf076205dd3222f5893078
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/66/822566/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/containers.yml'],1,1fcb9d96ea5eaee181e54d30350b436a06086740,bug/1955508," NtpServer: {{ job.standalone_ntp_servers|default(""['pool.ntp.org', 'clock.redhat.com']"") }}"," NtpServer: ""{{ job.standalone_ntp_servers|default(['clock.redhat.com']) }}""",1,1
openstack%2Fdevstack~master~I32ef8038e21c818623db9389588b3c6d3f98dcad,openstack/devstack,master,I32ef8038e21c818623db9389588b3c6d3f98dcad,Don't enable the dstat service in CI jobs,MERGED,2021-12-23 11:29:44.000000000,2022-01-03 18:05:14.000000000,2022-01-03 18:00:28.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-23 11:29:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/134205c1388ac69169698ff2fe36cba23044ff62', 'message': ""Don't enable the dstat service in CI jobs\n\nWe still are seeing regular job failures because the pcp package fails\nto install. Assume that we can still enable it on demand when someone\nneeds to debug specific job issues, let us just disable it by default.\n\nRelated-Bug: 1943184\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I32ef8038e21c818623db9389588b3c6d3f98dcad\n""}]",1,822824,134205c1388ac69169698ff2fe36cba23044ff62,9,3,1,13252,,,0,"Don't enable the dstat service in CI jobs

We still are seeing regular job failures because the pcp package fails
to install. Assume that we can still enable it on demand when someone
needs to debug specific job issues, let us just disable it by default.

Related-Bug: 1943184
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I32ef8038e21c818623db9389588b3c6d3f98dcad
",git fetch https://review.opendev.org/openstack/devstack refs/changes/24/822824/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,134205c1388ac69169698ff2fe36cba23044ff62,no-dstat, dstat: false dstat: false dstat: false dstat: false, dstat: true dstat: true dstat: true dstat: true,4,4
openstack%2Fneutron~stable%2Fwallaby~I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd,openstack/neutron,stable/wallaby,I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd,Fix ObjectChangeHandler thread usage,MERGED,2021-12-21 21:13:30.000000000,2022-01-03 17:13:47.000000000,2022-01-03 17:11:23.000000000,"[{'_account_id': 12825}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 21:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1b8fe771338f95b418b05eed60479439950e1e8', 'message': 'Fix ObjectChangeHandler thread usage\n\nInstead of spawning new thread for each OVO change,\nkeep one long running thread fetching changes\nfrom queue.\n\nConflicts:\n    neutron/plugins/ml2/ovo_rpc.py\n\nCloses-Bug: #1926417\nChange-Id: I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd\n(cherry picked from commit 9ae22b1fefabe8bf18d5dd26f49821b673bd39d4)\n'}, {'number': 2, 'created': '2021-12-22 07:55:32.000000000', 'files': ['neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf87e8e231448f3ef46caafe4cf3429e995c1f30', 'message': 'Fix ObjectChangeHandler thread usage\n\nInstead of spawning new thread for each OVO change,\nkeep one long running thread fetching changes\nfrom queue.\n\nConflicts:\n    neutron/plugins/ml2/ovo_rpc.py\n\nCloses-Bug: #1926417\nChange-Id: I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd\n(cherry picked from commit 9ae22b1fefabe8bf18d5dd26f49821b673bd39d4)\n'}]",3,822561,bf87e8e231448f3ef46caafe4cf3429e995c1f30,26,4,2,11975,,,0,"Fix ObjectChangeHandler thread usage

Instead of spawning new thread for each OVO change,
keep one long running thread fetching changes
from queue.

Conflicts:
    neutron/plugins/ml2/ovo_rpc.py

Closes-Bug: #1926417
Change-Id: I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd
(cherry picked from commit 9ae22b1fefabe8bf18d5dd26f49821b673bd39d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/822561/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/ovo_rpc.py'],1,a1b8fe771338f95b418b05eed60479439950e1e8,bug/1926417-stable/wallaby,"import atexit import queue import signal import threadingimport weakref MAX_IDLE_FOR = 1 _TO_CLEAN = weakref.WeakSet() self._resources_to_push = queue.Queue() self._stop = threading.Event() self._worker = threading.Thread( target=self.dispatch_events, name='ObjectChangeHandler[%s]' % self._resource, daemon=True) self._worker.start() self._TO_CLEAN.add(self) def stop(self): self._stop.set() self._resources_to_push.join() self._resources_to_push.put((resource_id, context.to_dict())) def dispatch_events(self): LOG.debug('Thread %(name)s started', {'name': self._worker.name}) while not self._stop.is_set(): try: resource_id, context_dict = self._resources_to_push.get( timeout=self.MAX_IDLE_FOR) context = n_ctx.Context.from_dict(context_dict) # attempt to get regardless of event type so concurrent delete # after create/update is the same code-path as a delete event with db_api.get_context_manager().independent.reader.using( context): obj = self._obj_class.get_object(context, id=resource_id) # CREATE events are always treated as UPDATE events to ensure # listeners are written to handle out-of-order messages if obj is None: rpc_event = rpc_events.DELETED # construct a fake object with the right ID so we can # have a payload for the delete message. obj = self._obj_class(id=resource_id) else: rpc_event = rpc_events.UPDATED self._resource_push_api.push(context, [obj], rpc_event) self._resources_to_push.task_done() except queue.Empty: pass except Exception as e: LOG.exception( ""Exception while dispatching %(res)s events: %(e)s"", {'res': self._resource, 'e': e}) LOG.debug('Thread %(name)s finished with %(msgs)s unsent messages', {'name': self._worker.name, 'msgs': self._resources_to_push.unfinished_tasks}) @classmethod def clean_up(cls, *args, **kwargs): """"""Ensure all threads that were created were destroyed cleanly."""""" while cls._TO_CLEAN: worker = cls._TO_CLEAN.pop() worker.stop() atexit.register(_ObjectChangeHandler.clean_up) signal.signal(signal.SIGINT, _ObjectChangeHandler.clean_up) signal.signal(signal.SIGTERM, _ObjectChangeHandler.clean_up)"," import futurist from futurist import waitersfrom oslo_concurrency import lockutils self._resources_to_push = {} # NOTE(annp): uWSGI seems not happy with eventlet.GreenPool. # So switching to ThreadPool self._worker_pool = futurist.ThreadPoolExecutor() self.fts = [] done, not_done = waiters.wait_for_all(self.fts) if not not_done: del self.fts[:] self._resources_to_push[resource_id] = context.to_dict() # spawn worker so we don't block main AFTER_UPDATE thread self.fts.append(self._worker_pool.submit(self.dispatch_events)) @lockutils.synchronized('event-dispatch') def dispatch_events(self): # this is guarded by a lock to ensure we don't get too many concurrent # dispatchers hitting the database simultaneously. to_dispatch, self._resources_to_push = self._resources_to_push, {} for resource_id, context_dict in to_dispatch.items(): context = n_ctx.Context.from_dict(context_dict) # attempt to get regardless of event type so concurrent delete # after create/update is the same code-path as a delete event with db_api.get_context_manager().independent.reader.using( context): obj = self._obj_class.get_object(context, id=resource_id) # CREATE events are always treated as UPDATE events to ensure # listeners are written to handle out-of-order messages if obj is None: rpc_event = rpc_events.DELETED # construct a fake object with the right ID so we can # have a payload for the delete message. obj = self._obj_class(id=resource_id) else: rpc_event = rpc_events.UPDATED self._resource_push_api.push(context, [obj], rpc_event)",63,38
openstack%2Fneutron~stable%2Fussuri~Ic0727ffdbd1f60574b6d5397177a58172cbd60f0,openstack/neutron,stable/ussuri,Ic0727ffdbd1f60574b6d5397177a58172cbd60f0,Missing OvS DPDK nodes in ovn-controllers,MERGED,2021-12-22 04:01:05.000000000,2022-01-03 17:13:29.000000000,2022-01-03 17:11:27.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18575}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30229}]","[{'number': 1, 'created': '2021-12-22 04:01:05.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5d6b92edb3738ffb4c8095e5ec440a499e10a91', 'message': 'Missing OvS DPDK nodes in ovn-controllers\n\nThis change is to include missing OvS DPDK nodes also as part of\novn-controllers group in hosts_for_migration file.\n\nChange-Id: Ic0727ffdbd1f60574b6d5397177a58172cbd60f0\n(cherry picked from commit 10bb1baf66abdeb44241040e91f2405757fc7e84)\n'}]",3,822526,c5d6b92edb3738ffb4c8095e5ec440a499e10a91,18,7,1,22865,,,0,"Missing OvS DPDK nodes in ovn-controllers

This change is to include missing OvS DPDK nodes also as part of
ovn-controllers group in hosts_for_migration file.

Change-Id: Ic0727ffdbd1f60574b6d5397177a58172cbd60f0
(cherry picked from commit 10bb1baf66abdeb44241040e91f2405757fc7e84)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/822526/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,c5d6b92edb3738ffb4c8095e5ec440a499e10a91,neutron_os_dpdk_agent_changes-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," OVN_CONTROLLERS=$(get_group_hosts ""$inventory_file"" neutron_ovs_agent; get_group_hosts ""$inventory_file"" neutron_ovs_dpdk_agent)"," OVN_CONTROLLERS=$(get_group_hosts ""$inventory_file"" neutron_ovs_agent)",1,1
openstack%2Fneutron~stable%2Fvictoria~Iba90b44331fdc63273fd3d19c583a24b5295c0ac,openstack/neutron,stable/victoria,Iba90b44331fdc63273fd3d19c583a24b5295c0ac,Don't fail subnet validation if gw_ip is actually not changed,MERGED,2021-12-21 15:50:50.000000000,2022-01-03 17:13:17.000000000,2022-01-03 17:11:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 15:50:50.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/83bfef7e70b8ea23c3ce58b18d4f3e9ae9886299', 'message': ""Don't fail subnet validation if gw_ip is actually not changed\n\nIn subnet update API call Neutron checks if gateway_ip was send to be\nupdated and if so, it checkes if old gateway_ip isn't already allocated\nto some router port. If it's already used, Neutron returns 409 response.\nThis is valid behaviour but sometimes, some automation tools may do\nsubnet update request and pass the same gateway ip as already used by\nthe subnet. In such case, as gateway_ip is actually not changed Neutron\nshould not raise exception in that validation.\n\nCloses-Bug: #1955121\nChange-Id: Iba90b44331fdc63273fd3d19c583a24b5295c0ac\n(cherry picked from commit 6809bed632b1c155bf370b78353e6b0fe059b3f0)\n(cherry picked from commit 7ab37e92b8ab901b1e0cd99676a2181b6eaa4183)\n""}]",3,822508,83bfef7e70b8ea23c3ce58b18d4f3e9ae9886299,17,3,1,11975,,,0,"Don't fail subnet validation if gw_ip is actually not changed

In subnet update API call Neutron checks if gateway_ip was send to be
updated and if so, it checkes if old gateway_ip isn't already allocated
to some router port. If it's already used, Neutron returns 409 response.
This is valid behaviour but sometimes, some automation tools may do
subnet update request and pass the same gateway ip as already used by
the subnet. In such case, as gateway_ip is actually not changed Neutron
should not raise exception in that validation.

Closes-Bug: #1955121
Change-Id: Iba90b44331fdc63273fd3d19c583a24b5295c0ac
(cherry picked from commit 6809bed632b1c155bf370b78353e6b0fe059b3f0)
(cherry picked from commit 7ab37e92b8ab901b1e0cd99676a2181b6eaa4183)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/822508/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,83bfef7e70b8ea23c3ce58b18d4f3e9ae9886299,bug/1955121-stable/victoria, s_gateway_ip = netaddr.IPAddress(s['gateway_ip']) if (cur_subnet and s_gateway_ip != cur_subnet['gateway_ip'] and not ipv6_utils.is_ipv6_pd_enabled(s)): alloc = port_obj.IPAllocation.get_alloc_routerports( if alloc and alloc.port_id: port_id=alloc.port_id), if cur_subnet and not ipv6_utils.is_ipv6_pd_enabled(s): allocated = port_obj.IPAllocation.get_alloc_routerports( if allocated and allocated.port_id: port_id=allocated.port_id),71,4
openstack%2Fneutron~stable%2Fussuri~Ie93cf3e47e09b3e5051be1ffad512251775b0492,openstack/neutron,stable/ussuri,Ie93cf3e47e09b3e5051be1ffad512251775b0492,"Check subnet in ""_remove_subnet_dhcp_options""",MERGED,2021-12-23 15:21:58.000000000,2022-01-03 17:11:17.000000000,2022-01-03 17:09:11.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 15:21:58.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9151f4a3966e7416b8449945e9b4735dd92b2a60', 'message': 'Check subnet in ""_remove_subnet_dhcp_options""\n\nSince [1], ""get_subnet_dhcp_options"" returns always a dictionary\nin ""subnet"" instead of None. This patch checks not only that ""subnet""\nis None but also the dictionary is not empty.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/807692\n\nCloses-Bug: #1948466\n\nChange-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492\n(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)\n'}]",2,822801,9151f4a3966e7416b8449945e9b4735dd92b2a60,14,3,1,11975,,,0,"Check subnet in ""_remove_subnet_dhcp_options""

Since [1], ""get_subnet_dhcp_options"" returns always a dictionary
in ""subnet"" instead of None. This patch checks not only that ""subnet""
is None but also the dictionary is not empty.

[1]https://review.opendev.org/c/openstack/neutron/+/807692

Closes-Bug: #1948466

Change-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492
(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/822801/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,9151f4a3966e7416b8449945e9b4735dd92b2a60,bug/1948466-stable/xena-stable/wallaby-stable/victoria-stable/ussuri, if dhcp_options['subnet']:, if dhcp_options['subnet'] is not None:,1,1
openstack%2Fneutron~stable%2Fvictoria~Ie93cf3e47e09b3e5051be1ffad512251775b0492,openstack/neutron,stable/victoria,Ie93cf3e47e09b3e5051be1ffad512251775b0492,"Check subnet in ""_remove_subnet_dhcp_options""",MERGED,2021-12-23 15:21:45.000000000,2022-01-03 17:11:10.000000000,2022-01-03 17:09:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 15:21:45.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/79cdace512307c9b0c92f56af9abc656371a6f31', 'message': 'Check subnet in ""_remove_subnet_dhcp_options""\n\nSince [1], ""get_subnet_dhcp_options"" returns always a dictionary\nin ""subnet"" instead of None. This patch checks not only that ""subnet""\nis None but also the dictionary is not empty.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/807692\n\nCloses-Bug: #1948466\n\nChange-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492\n(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)\n'}]",0,822800,79cdace512307c9b0c92f56af9abc656371a6f31,10,3,1,11975,,,0,"Check subnet in ""_remove_subnet_dhcp_options""

Since [1], ""get_subnet_dhcp_options"" returns always a dictionary
in ""subnet"" instead of None. This patch checks not only that ""subnet""
is None but also the dictionary is not empty.

[1]https://review.opendev.org/c/openstack/neutron/+/807692

Closes-Bug: #1948466

Change-Id: Ie93cf3e47e09b3e5051be1ffad512251775b0492
(cherry picked from commit 95c2801da855cada741693b0dc31192e7baa111c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/822800/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,79cdace512307c9b0c92f56af9abc656371a6f31,bug/1948466-stable/xena-stable/wallaby-stable/victoria, if dhcp_options['subnet']:, if dhcp_options['subnet'] is not None:,1,1
openstack%2Fneutron~stable%2Fqueens~Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614,openstack/neutron,stable/queens,Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614,"Populate self.floating_ips_dict using ""ip rule"" information",MERGED,2021-09-22 13:12:30.000000000,2022-01-03 17:09:15.000000000,2022-01-03 17:09:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-22 13:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2e7ae357229f2611deb047934e821582a8168ec', 'message': 'Populate self.floating_ips_dict using ""ip rule"" information\n\nWhen the L3 agent starts, reads the floating IP rule priority from\na state file created by ""FipRulePriorityAllocator"". In case of not\nhaving all floating IPs registers in this file, the method:\n- Creates a new priority for this floating IP.\n- Creates the ""ip rule"" in the namespace.\n- Adds a new entry in ""self.floating_ips_dict"".\n\nAll ""ip rules"" present in the namespace that do not match the\nregistered fixed IP address (""from"") and the priority assigned\nare deleted.\n\nCloses-Bug: #1891673\nCloses-Bug: #1929821\n\nConflicts:\n    neutron/tests/unit/agent/l3/test_agent.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614\n(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)\n(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)\n(cherry picked from commit 34ec42df9fb2c1ee662928ee14be8986acd9f15b)\n'}, {'number': 2, 'created': '2021-10-08 07:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4e2da4c95656e991ee5b86f93ba6a3a68a15f90', 'message': 'Populate self.floating_ips_dict using ""ip rule"" information\n\nWhen the L3 agent starts, reads the floating IP rule priority from\na state file created by ""FipRulePriorityAllocator"". In case of not\nhaving all floating IPs registers in this file, the method:\n- Creates a new priority for this floating IP.\n- Creates the ""ip rule"" in the namespace.\n- Adds a new entry in ""self.floating_ips_dict"".\n\nAll ""ip rules"" present in the namespace that do not match the\nregistered fixed IP address (""from"") and the priority assigned\nare deleted.\n\nCloses-Bug: #1891673\nCloses-Bug: #1929821\n\nConflicts:\n    neutron/tests/unit/agent/l3/test_agent.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614\n(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)\n(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)\n(cherry picked from commit 34ec42df9fb2c1ee662928ee14be8986acd9f15b)\n'}, {'number': 3, 'created': '2021-10-27 10:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd39d3640073e87811765b5c78e104d3fc5b459b', 'message': 'Populate self.floating_ips_dict using ""ip rule"" information\n\nWhen the L3 agent starts, reads the floating IP rule priority from\na state file created by ""FipRulePriorityAllocator"". In case of not\nhaving all floating IPs registers in this file, the method:\n- Creates a new priority for this floating IP.\n- Creates the ""ip rule"" in the namespace.\n- Adds a new entry in ""self.floating_ips_dict"".\n\nAll ""ip rules"" present in the namespace that do not match the\nregistered fixed IP address (""from"") and the priority assigned\nare deleted.\n\nCloses-Bug: #1891673\nCloses-Bug: #1929821\n\nConflicts:\n    neutron/tests/unit/agent/l3/test_agent.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nThat patch additionally changes to use old IpRuleCommand.add() method\nfrom the ip_lib module as in that branch it\'s not yet moved to use\npyroute2 library. Additional changes are in the\nneutron/agent/l3/dvr_local_router.py file.\n\nChange-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614\n(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)\n(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)\n(cherry picked from commit 34ec42df9fb2c1ee662928ee14be8986acd9f15b)\n'}, {'number': 4, 'created': '2021-12-13 09:04:45.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/fip_rule_priority_allocator.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b950fff6700bdfaacbf64415b322525ddcab85ef', 'message': 'Populate self.floating_ips_dict using ""ip rule"" information\n\nWhen the L3 agent starts, reads the floating IP rule priority from\na state file created by ""FipRulePriorityAllocator"". In case of not\nhaving all floating IPs registers in this file, the method:\n- Creates a new priority for this floating IP.\n- Creates the ""ip rule"" in the namespace.\n- Adds a new entry in ""self.floating_ips_dict"".\n\nAll ""ip rules"" present in the namespace that do not match the\nregistered fixed IP address (""from"") and the priority assigned\nare deleted.\n\nCloses-Bug: #1891673\nCloses-Bug: #1929821\n\nConflicts:\n    neutron/agent/l3/dvr_local_router.py\n    neutron/tests/unit/agent/l3/test_agent.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nThat patch additionally changes to use old IpRuleCommand.add() method\nfrom the ip_lib module as in that branch it\'s not yet moved to use\npyroute2 library. Additional changes are in the\nneutron/agent/l3/dvr_local_router.py file.\n\nChange-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614\n(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)\n(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)\n(cherry picked from commit 34ec42df9fb2c1ee662928ee14be8986acd9f15b)\n'}]",11,810397,b950fff6700bdfaacbf64415b322525ddcab85ef,26,3,4,11975,,,0,"Populate self.floating_ips_dict using ""ip rule"" information

When the L3 agent starts, reads the floating IP rule priority from
a state file created by ""FipRulePriorityAllocator"". In case of not
having all floating IPs registers in this file, the method:
- Creates a new priority for this floating IP.
- Creates the ""ip rule"" in the namespace.
- Adds a new entry in ""self.floating_ips_dict"".

All ""ip rules"" present in the namespace that do not match the
registered fixed IP address (""from"") and the priority assigned
are deleted.

Closes-Bug: #1891673
Closes-Bug: #1929821

Conflicts:
    neutron/agent/l3/dvr_local_router.py
    neutron/tests/unit/agent/l3/test_agent.py
    neutron/tests/unit/agent/l3/test_dvr_local_router.py

That patch additionally changes to use old IpRuleCommand.add() method
from the ip_lib module as in that branch it's not yet moved to use
pyroute2 library. Additional changes are in the
neutron/agent/l3/dvr_local_router.py file.

Change-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614
(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)
(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)
(cherry picked from commit 34ec42df9fb2c1ee662928ee14be8986acd9f15b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/810397/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/fip_rule_priority_allocator.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_pd.py']",6,a2e7ae357229f2611deb047934e821582a8168ec,bug/1929821-stable/rocky-stable/queens," '_load_used_fip_information') def test_add_update_dvr_edge_router(self, *args): '_load_used_fip_information') def test_add_update_dvr_local_router(self, *args):"," 'load_used_fip_information') def test_add_update_dvr_edge_router(self, load_used_fip_info): 'load_used_fip_information') def test_add_update_dvr_local_router(self, load_used_fip_info):",116,58
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6c520f31c8f7d720f090596faac0277faa00f90d,openstack/tripleo-ansible,stable/wallaby,I6c520f31c8f7d720f090596faac0277faa00f90d,Sync vars from redhat.yml to redhat-9.yml,MERGED,2021-12-31 05:16:41.000000000,2022-01-03 16:52:12.000000000,2022-01-03 16:52:12.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-31 05:16:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c64593022f9df03efcab29192dce7194a4c1e06', 'message': 'Sync vars from redhat.yml to redhat-9.yml\n\nIn terms of EL9, it first loads redhat-9.yaml var and ignores\nthe redhat.yaml var.\nIt ignores the installation of podman packages and which further\nleads to missing directories.\n\nBy syncing the required vars from redhat.yml to redhat-9.yml\nfixes the issue.\n\nCloses-Bug: #1955962\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I6c520f31c8f7d720f090596faac0277faa00f90d\n(cherry picked from commit 50b181ccf8ee2fd01580db3fdb1dbc18e546b21c)\n'}]",1,823147,8c64593022f9df03efcab29192dce7194a4c1e06,10,6,1,12393,,,0,"Sync vars from redhat.yml to redhat-9.yml

In terms of EL9, it first loads redhat-9.yaml var and ignores
the redhat.yaml var.
It ignores the installation of podman packages and which further
leads to missing directories.

By syncing the required vars from redhat.yml to redhat-9.yml
fixes the issue.

Closes-Bug: #1955962

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I6c520f31c8f7d720f090596faac0277faa00f90d
(cherry picked from commit 50b181ccf8ee2fd01580db3fdb1dbc18e546b21c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/47/823147/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml'],1,8c64593022f9df03efcab29192dce7194a4c1e06,cs9-stable/wallaby,_tripleo_podman_packages: - podman _tripleo_buildah_packages: - buildah,,5,0
openstack%2Fkuryr-tempest-plugin~master~Id1eb72c294abd6a2e5111bd0c7f97e311969b698,openstack/kuryr-tempest-plugin,master,Id1eb72c294abd6a2e5111bd0c7f97e311969b698,Remove LB_TIMEOUT in favor of lb_build_timeout,MERGED,2021-12-15 21:06:15.000000000,2022-01-03 16:49:03.000000000,2022-01-03 16:46:53.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-15 21:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a8696d1a83e75657e2f8ef86517d21a44fbfbc79', 'message': '[WIP] Reduce LB and namespace creation timeouts\n\nThe timeouts can be reduced to a more ""realistic"" value, reducing the test\nexecution time when the timeouts are reached.\n\nChange-Id: Id1eb72c294abd6a2e5111bd0c7f97e311969b698\n'}, {'number': 2, 'created': '2021-12-16 05:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/bdb491534dd5d1a044d93ea5e0176458560d5d21', 'message': '[WIP] Reduce LB and namespace creation timeouts\n\nThe timeouts can be reduced to a more ""realistic"" value, reducing the test\nexecution time when the timeouts are reached.\n\nChange-Id: Id1eb72c294abd6a2e5111bd0c7f97e311969b698\n'}, {'number': 3, 'created': '2021-12-22 12:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8f0a2b58292a39ddfb1eed910288f60d22334a39', 'message': 'Remove LB_TIMEOUT in favor of lb_build_timeout\n\nUsing the CONF.kuryr_kubernetes.lb_build_timeout config option instead\nof the LB_TIMEOUT constant allows modifing the LB creation timeout for\ndifferent environments where the LB creation time can vary\nsignificantly.\n\nChange-Id: Id1eb72c294abd6a2e5111bd0c7f97e311969b698\n'}, {'number': 4, 'created': '2021-12-22 12:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b5a19ed55849d7e4ebadd1195bb3c34f51a3d831', 'message': 'Remove LB_TIMEOUT in favor of lb_build_timeout\n\nUsing the CONF.kuryr_kubernetes.lb_build_timeout config option instead\nof the LB_TIMEOUT constant allows modifing the LB creation timeout for\ndifferent environments where the LB creation time can vary\nsignificantly.\n\nChange-Id: Id1eb72c294abd6a2e5111bd0c7f97e311969b698\n'}, {'number': 5, 'created': '2021-12-23 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b2159bd6e771ab7980fcd16790b6af3afb2c344e', 'message': 'Remove LB_TIMEOUT in favor of lb_build_timeout\n\nUsing the CONF.kuryr_kubernetes.lb_build_timeout config option instead\nof the LB_TIMEOUT constant allows modifing the LB creation timeout for\ndifferent environments where the LB creation time can vary\nsignificantly.\n\nRemove LB_RECONCILE_TIMEOUT as well in favor of a new config option\nCONF.kuryr_kubernetes.lb_reconcile_timeout.\n\nChange-Id: Id1eb72c294abd6a2e5111bd0c7f97e311969b698\n'}, {'number': 6, 'created': '2021-12-23 12:30:28.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/consts.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8501f18e61f951883fe4bfa63a66adcd4086782d', 'message': 'Remove LB_TIMEOUT in favor of lb_build_timeout\n\nUsing the CONF.kuryr_kubernetes.lb_build_timeout config option instead\nof the LB_TIMEOUT constant allows modifing the LB creation timeout for\ndifferent environments where the LB creation time can vary\nsignificantly.\n\nRemove LB_RECONCILE_TIMEOUT as well in favor of a new config option\nCONF.kuryr_kubernetes.lb_reconcile_timeout.\n\nChange-Id: Id1eb72c294abd6a2e5111bd0c7f97e311969b698\n'}]",10,821879,8501f18e61f951883fe4bfa63a66adcd4086782d,26,6,6,27086,,,0,"Remove LB_TIMEOUT in favor of lb_build_timeout

Using the CONF.kuryr_kubernetes.lb_build_timeout config option instead
of the LB_TIMEOUT constant allows modifing the LB creation timeout for
different environments where the LB creation time can vary
significantly.

Remove LB_RECONCILE_TIMEOUT as well in favor of a new config option
CONF.kuryr_kubernetes.lb_reconcile_timeout.

Change-Id: Id1eb72c294abd6a2e5111bd0c7f97e311969b698
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/79/821879/6 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/consts.py'],1,a8696d1a83e75657e2f8ef86517d21a44fbfbc79,timeouts,NS_TIMEOUT = 120 LB_TIMEOUT = 480,NS_TIMEOUT = 600 LB_TIMEOUT = 1200,2,2
openstack%2Fopenstack-ansible-os_glance~stable%2Fxena~I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa,openstack/openstack-ansible-os_glance,stable/xena,I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa,Add boto3 module for s3 backend,MERGED,2021-12-28 17:34:12.000000000,2022-01-03 16:23:02.000000000,2022-01-03 16:20:16.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-12-28 17:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/32889a565ac2d3b4c6ecc6e941b2357f071b1c54', 'message': 'Add boto3 module for s3 backend\n\nThis patch adds the boto3 python module, which is a dependency\nfor the s3 glance backend.\n\nCloses-Bug: #1955683\nChange-Id: I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa\n(cherry picked from commit a2694d31479beb57336af2d7880db9722a4be582)\n'}, {'number': 2, 'created': '2021-12-28 17:34:28.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/b5305adfcef6956036f90262e5cf42cc6fd59be4', 'message': 'Add boto3 module for s3 backend\n\nThis patch adds the boto3 python module, which is a dependency\nfor the s3 glance backend.\n\nCloses-Bug: #1955683\nChange-Id: I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa\n(cherry picked from commit a2694d31479beb57336af2d7880db9722a4be582)\n'}]",2,822944,b5305adfcef6956036f90262e5cf42cc6fd59be4,13,3,2,28619,,,0,"Add boto3 module for s3 backend

This patch adds the boto3 python module, which is a dependency
for the s3 glance backend.

Closes-Bug: #1955683
Change-Id: I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa
(cherry picked from commit a2694d31479beb57336af2d7880db9722a4be582)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/44/822944/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,32889a565ac2d3b4c6ecc6e941b2357f071b1c54,," - ""{{ ('s3' in _glance_available_stores) | ternary('boto3', '') }}""",,1,0
openstack%2Ftripleo-ansible~master~If339f5615bb0c52b149dbdd376b11dabd8d85a53,openstack/tripleo-ansible,master,If339f5615bb0c52b149dbdd376b11dabd8d85a53,"Revert ""Revert ""Remove execpost and align systemd timeouts""""",ABANDONED,2021-10-21 07:27:46.000000000,2022-01-03 14:46:39.000000000,,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-21 07:27:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ed70a628c32360c57b5dc6956dcd75a7239e525', 'message': 'Revert ""Revert ""Remove execpost and align systemd timeouts""""\n\nThis reverts commit 22d2773ddfb1aa23820b4a21982f3f244d3c2a1a.\n\nReason for revert: let\'s test it more\n\nChange-Id: If339f5615bb0c52b149dbdd376b11dabd8d85a53\n'}]",2,814764,0ed70a628c32360c57b5dc6956dcd75a7239e525,11,6,1,10969,,,0,"Revert ""Revert ""Remove execpost and align systemd timeouts""""

This reverts commit 22d2773ddfb1aa23820b4a21982f3f244d3c2a1a.

Reason for revert: let's test it more

Change-Id: If339f5615bb0c52b149dbdd376b11dabd8d85a53
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/814764/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,0ed70a628c32360c57b5dc6956dcd75a7239e525,,"ExecStop=/usr/bin/podman stop -t {{ lookup('dict', container_data_unit).value.stop_grace_period | default(50) | int }} {{ lookup('dict', container_data_unit).key }}TimeoutStopSec={{ 2*lookup('dict', container_data_unit).value.stop_grace_period | default(60) | int }}","ExecStop=/usr/bin/podman stop -t {{ lookup('dict', container_data_unit).value.stop_grace_period | default(42) | int }} {{ lookup('dict', container_data_unit).key }} ExecStopPost=/usr/bin/podman stop -t {{ lookup('dict', container_data_unit).value.stop_grace_period | default(42) | int }} {{ lookup('dict', container_data_unit).key }}TimeoutStopSec={{ 2*lookup('dict', container_data_unit).value.stop_grace_period | default(42) | int }}",2,3
openstack%2Fansible-collections-openstack~master~Ia8081437521645781e371725a47e41fc90568fad,openstack/ansible-collections-openstack,master,Ia8081437521645781e371725a47e41fc90568fad,Add Ironic nodes info module,ABANDONED,2020-07-28 13:12:41.000000000,2022-01-03 14:45:35.000000000,,"[{'_account_id': 2}, {'_account_id': 9592}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-07-28 13:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/200edfa52c8e046476bace6883d6e9abb142c938', 'message': 'WIP add Ironic modules\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 2, 'created': '2020-07-28 13:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ab7d3900993a0e4f42ad99cfbb911de0393b3240', 'message': 'WIP add Ironic modules\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 3, 'created': '2020-07-28 16:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/677cb7cabca0387ab184336d95f6149a17624540', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 4, 'created': '2020-07-28 17:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7f86fd74160d2e8dec7d5815a44b90e73e3677e8', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 5, 'created': '2020-07-28 17:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6fd3b39afc0ec055b793043d3a20a91696215e2b', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 6, 'created': '2020-07-28 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c57826410f40319cacc97ac14ae10cf2e28acba7', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 7, 'created': '2020-07-28 19:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/89bc5e05c350f47738ca4cdf03073742509bce5c', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 8, 'created': '2020-07-28 21:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/46336f507fde5f33909b4b6c9676eca6d6256a7e', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 9, 'created': '2020-07-28 22:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/106275b3e7af8d360a50a399f8a0bfe73b7089b5', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 10, 'created': '2020-09-29 13:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/84957c47ac4c64115f481c5aa6d0227c780f4db7', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}, {'number': 11, 'created': '2020-09-30 20:23:42.000000000', 'files': ['meta/runtime.yml', 'plugins/modules/baremetal_node_info.py', 'plugins/module_utils/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7ae9811a1dd82106d8a9a3c873d52f62d799fcc5', 'message': 'Add Ironic nodes info module\n\nChange-Id: Ia8081437521645781e371725a47e41fc90568fad\n'}]",28,743533,7ae9811a1dd82106d8a9a3c873d52f62d799fcc5,28,6,11,10969,,,0,"Add Ironic nodes info module

Change-Id: Ia8081437521645781e371725a47e41fc90568fad
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/33/743533/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/baremetal_node_info.py', 'plugins/modules/baremetal_node_introspection.py']",2,200edfa52c8e046476bace6883d6e9abb142c938,ironic1,"#!/usr/bin/python # Copyright (c) 2019 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type ANSIBLE_METADATA = {'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community'} DOCUMENTATION = ''' --- module: os_tripleo_baremetal_node_introspection short_description: Introspect Ironic nodes extends_documentation_fragment: openstack author: - ""Dougal Matthews"" - ""Sagi Shnaidman"" version_added: ""2.10"" description: - Requests Ironic for nodes info. options: ironic_url: description: - If noauth mode is utilized, this is required to be set to the endpoint URL for the Ironic API. Use with ""auth"" and ""auth_type"" settings set to None. type: str required: False node_uuids: description: - node_uuids type: list required: True concurrency: description: - concurrency type: int default: 20 max_retries: description: - max_retries type: int default: 2 node_timeout: description: - node_timeout type: int default: 1200 retry_timeout: description: - How much time to wait for node to be unlocked before introspection retry type: int default: 120 quiet: description: - Don't provide instrospection info in output of the module type: bool default: False ''' RETURN = ''' introspection_data: description: Dictionary of new facts representing introspection data of nodes. returned: changed type: dict sample: { ""400b3cd0-d134-417b-8f0e-63e273e01e5a"": { ""failed"": false, ""retries"": 0, ""status"": { ""error"": null, ""finished_at"": ""2019-11-22T01:09:07"", ""id"": ""400b3cd0-d134-417b-8f0e-63e273e01e5a"", ""is_finished"": true, ""links"": [ { ""href"": ""http://192.168.24.2:13050 .... "", ""rel"": ""self"" } ], ""location"": { ""cloud"": ""undercloud"", ""project"": { ""domain_id"": null, ""domain_name"": ""Default"", ""id"": ""......"", ""name"": ""admin"" }, ""region_name"": ""regionOne"", ""zone"": null }, ""name"": null, ""started_at"": ""2019-11-22T01:07:32"", ""state"": ""finished"" } } } ''' EXAMPLES = ''' # Invoke node introspection - os_tripleo_baremetal_node_introspection: cloud: undercloud auth: password node_uuids: - uuid1 - uuid2 concurrency: 10 max_retries: 1 node_timeout: 1000 ''' import time import yaml from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_full_argument_spec from ansible.module_utils.openstack import openstack_module_kwargs from ansible.module_utils.openstack import openstack_cloud_from_module class IntrospectionManagement(object): def __init__(self, cloud, module, concurrency, max_retries, node_timeout, retry_timeout): self.client = cloud.baremetal_introspection self.cloud = cloud self.module = module self.concurrency = concurrency self.max_retries = max_retries self.node_timeout = node_timeout self.retry_timeout = retry_timeout def log(self, msg): self.module.log(""os_tripleo_baremetal_node_introspection: %s"" % msg) def push_next(self, pool, queue): try: next_introspection = next(queue) pool.append(next_introspection) except StopIteration: pass return pool def introspect(self, node_uuids): result = {} queue = (NodeIntrospection( uuid, self.client, self.cloud, self.node_timeout, self.max_retries, self.retry_timeout, self.log) for uuid in node_uuids) pool = [] for i in range(self.concurrency): pool = self.push_next(pool, queue) while len(pool) > 0: finished = [] for intro in pool: if not intro.started: try: intro.start_introspection() continue except Exception as e: self.log(""ERROR Node %s can't start introspection"" "" because: %s"" % (intro.node_id, str(e))) result[intro.node_id] = { ""error"": ""Error for introspection node %s: %s "" % ( intro.node_id, str(e)), ""failed"": True, ""status"": '' } finished.append(intro) continue status = intro.get_introspection() if (not status.is_finished and intro.timeouted()) or ( status.is_finished and status.error is not None ): if status.is_finished: self.log(""ERROR Introspection of node %s "" ""failed: %s"" % ( status.id, str(status.error)) ) if intro.last_retry(): result[status.id] = (intro.error_msg() if status.is_finished else intro.timeout_msg()) finished.append(intro) else: intro.restart_introspection() if status.is_finished and status.error is None: result[status.id] = { 'status': intro.get_introspection_data(), 'failed': False, 'error': None} finished.append(intro) for i in finished: pool.remove(i) pool = self.push_next(pool, queue) # Let's not DDOS Ironic service if pool: time.sleep(min(10, self.node_timeout)) return result class NodeIntrospection: started = False def __init__( self, node_id, os_client, os_cloud, timeout, max_retries, retry_timeout, log): self.node_id = node_id self.os_client = os_client self.os_cloud = os_cloud self.timeout = timeout self.max_retries = max_retries self.log = log self.start = int(time.time()) self.retries = 0 self.retry_timeout = retry_timeout self.last_status = None def restart_introspection(self): self.retries += 1 try: self.os_client.abort_introspection(self.node_id) except Exception as e: # Node is locked self.log(""ERROR Node %s can't abort introspection: %s"" % ( self.node_id, str(e))) return # need to wait before restarting introspection till it's aborted # to prevent hanging let's use introspect timeout for that try: self.os_client.wait_for_introspection( self.node_id, timeout=self.timeout, ignore_error=True) # Wait until node is unlocked self.os_cloud.baremetal.wait_for_node_reservation( self.node_id, timeout=self.retry_timeout) except Exception as e: self.log(""ERROR Node %s can't restart introspection because can't "" ""abort and unlock it: %s"" % (self.node_id, str(e))) return self.start = int(time.time()) return self.start_introspection(restart=True) def start_introspection(self, restart=False): self.started = True if restart: self.log(""INFO Restarting (try %s of %s) introspection of "" ""node %s"" % ( self.retries, self.max_retries, self.node_id)) else: self.log(""INFO Starting introspection of node %s"" % (self.node_id)) return self.os_client.start_introspection(self.node_id) def get_introspection(self): self.last_status = self.os_client.get_introspection(self.node_id) return self.last_status def get_introspection_data(self): self.log( ""Instrospection of node %s finished successfully!"" % self.node_id) return self.os_client.get_introspection_data(self.node_id) def time_elapsed(self): return int(time.time()) - self.start def timeouted(self): return self.time_elapsed() > self.timeout def last_retry(self): return self.retries >= self.max_retries def timeout_msg(self): self.log( ""ERROR Retry limit %s reached for introspection "" ""node %s: exceeded timeout"" % ( self.max_retries, self.node_id)) return {""error"": ""Timeout error for introspection node %s: %s "" ""sec exceeded max timeout of %s sec"" % ( self.node_id, self.time_elapsed(), self.timeout), ""failed"": True, ""status"": self.last_status } def error_msg(self): self.log( ""ERROR Retry limit %s reached for introspection "" ""node %s: %s"" % ( self.max_retries, self.node_id, self.last_status.error)) return {""error"": ""Error for introspection node %s: %s "" % ( self.node_id, self.last_status.error), ""failed"": True, ""status"": self.last_status } def main(): argument_spec = openstack_full_argument_spec( **yaml.safe_load(DOCUMENTATION)['options'] ) module_kwargs = openstack_module_kwargs() module = AnsibleModule( argument_spec, supports_check_mode=False, **module_kwargs ) auth_type = module.params.get('auth_type') ironic_url = module.params.get('ironic_url') if auth_type in (None, 'None'): if not ironic_url: module.fail_json( msg=""Authentication appears to be disabled,"" "" Please define an ironic_url parameter"" ) else: module.params['auth'] = {'endpoint': ironic_url} _, cloud = openstack_cloud_from_module(module) introspector = IntrospectionManagement( cloud, module, module.params[""concurrency""], module.params[""max_retries""], module.params[""node_timeout""], module.params[""retry_timeout""] ) module_results = {""changed"": True} result = introspector.introspect(module.params[""node_uuids""]) failed_nodes = [k for k, v in result.items() if v['failed']] passed_nodes = [k for k, v in result.items() if not v['failed']] failed = len(failed_nodes) if failed > 0: message = (""Introspection completed with failures. %s node(s) failed."" % failed) module.log(""os_tripleo_baremetal_node_introspection ERROR %s"" % message) module_results.update({'failed': True}) else: message = ""Introspection completed successfully: %s nodes"" % len( module.params[""node_uuids""]) module.log(""os_tripleo_baremetal_node_introspection INFO %s"" % message) module_results.update({ ""introspection_data"": result if not module.params['quiet'] else {}, ""failed_nodes"": failed_nodes, ""passed_nodes"": passed_nodes, ""msg"": message }) module.exit_json(**module_results) if __name__ == ""__main__"": main() ",,776,0
openstack%2Ftripleo-quickstart-extras~master~Ic42421c036c8abcdd5c6e6c7c0338f035ec46440,openstack/tripleo-quickstart-extras,master,Ic42421c036c8abcdd5c6e6c7c0338f035ec46440,Run TripleO jobs on Ansible 2.11,ABANDONED,2021-06-24 09:04:25.000000000,2022-01-03 14:45:06.000000000,,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-24 09:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a881afd5231cf4364707e9bc55173e37da74fd0', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 2, 'created': '2021-06-24 09:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/48a948b0f2c82e2a063d6f7d9e7721e5b6b2a3ff', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 3, 'created': '2021-06-24 13:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf24579b1b1b80d3fbe5a4ba76d28b36d69761d6', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 4, 'created': '2021-07-08 09:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fcead87c713c6ff52afcb864f784fc385c172e41', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 5, 'created': '2021-07-12 13:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7ff3546ee4f5bc99ed239bf0f455cd2ed26a54ee', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 6, 'created': '2021-07-21 14:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d3d207be23666c3b34b768acdf0ce17131073cc9', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 7, 'created': '2021-07-22 14:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6ec327e304e03d12b3261d04436a98ff72a7a025', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 8, 'created': '2021-07-26 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/84d6c5221c8c4480d0bdc8ed0ac2a95b4ca55bec', 'message': 'DNM try ansible 2.11\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802212\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802310\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 9, 'created': '2021-07-27 14:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/37af22da8a8ef6db3a04fb0a5729f84d5ea73c89', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 10, 'created': '2021-08-04 15:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b4ebe787310892bd8bd6fa0aae4003c19d96e614', 'message': 'DNM try ansible 2.11\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 11, 'created': '2021-08-05 10:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8e480f9e687c5951a11db2d68e7132ee56e1f252', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 12, 'created': '2021-08-05 11:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6d3ddbaaba153edba743c8ea44575a191e4f1541', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 13, 'created': '2021-08-05 14:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7da5affd45b2929aded0cb5ac4d250221b782b62', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 14, 'created': '2021-08-05 18:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ffef9abfa24c4ccbc7e384b0fa1ed46033ea8287', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 15, 'created': '2021-08-05 21:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64a833197c443f1af63874761f0cc3457cfa4c84', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 16, 'created': '2021-08-06 07:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2e3c63c223d172974e938b993c6255143d9ae713', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 17, 'created': '2021-08-06 13:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c472bc9981a5aa0354240c1b326de84304a848ae', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-tripleo-modify-image/+/803750\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 18, 'created': '2021-08-08 09:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4b83ebdf4818676aa4c1fed8ccac6dfe66319a4a', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-tripleo-modify-image/+/803750\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 19, 'created': '2021-08-10 14:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ebf05c56662b53a92914a274e10a5061d69cbf7', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 20, 'created': '2021-09-01 13:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31cc1f2d2bff6564fa7bba1d37262e94863515a0', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 21, 'created': '2021-10-04 14:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/481e47d86b4b19286276849596812a4b9a975160', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\nUse pip install for C8, because C9 has an RPM.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 22, 'created': '2021-10-25 09:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b9a191d3281ef661d836e18efc7803f6dd00ec80', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\nUse pip install for C8, because C9 has an RPM.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}, {'number': 23, 'created': '2021-11-03 11:00:39.000000000', 'files': ['roles/undercloud-setup/tasks/package_installs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/55f5e07a6ee67e6506b86347b81a36d44c1d7857', 'message': 'Run TripleO jobs on Ansible 2.11\n\nInstall currently 2.11 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\nUse pip install for C8, because C9 has an RPM.\n\nChange-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440\n'}]",14,797823,55f5e07a6ee67e6506b86347b81a36d44c1d7857,184,4,23,10969,,,0,"Run TripleO jobs on Ansible 2.11

Install currently 2.11 version with pip until we have an RPM.
Remove totally installed 2.9 version and install with pip a new
one.
Use pip install for C8, because C9 has an RPM.

Change-Id: Ic42421c036c8abcdd5c6e6c7c0338f035ec46440
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/797823/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/tasks/package_installs.yml'],1,9a881afd5231cf4364707e9bc55173e37da74fd0,ci-2.11," - name: Install ansible-core 2.11 to override the default Ansible become: true shell: ANSIBLE_SKIP_CONFLICT_CHECK=1 pip3 install ansible-core changed_when: true when: release not in ['queens', 'rocky', 'stein', 'train', 'ussuri', 'victoria']",,6,0
openstack%2Ftripleo-ci~master~Ie727d35c8944ee3520219dcfdb3c42bd7762bc75,openstack/tripleo-ci,master,Ie727d35c8944ee3520219dcfdb3c42bd7762bc75,DNM run c9 job with patch,ABANDONED,2021-12-15 12:55:25.000000000,2022-01-03 14:43:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-15 12:55:25.000000000', 'files': ['playbooks/tripleo-ci/run-v3.yaml', 'roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d0cffece731565c8668f3cabf0bd9ed448948dbf', 'message': 'DNM run c9 job with patch\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/821841\nChange-Id: Ie727d35c8944ee3520219dcfdb3c42bd7762bc75\n'}]",1,821842,d0cffece731565c8668f3cabf0bd9ed448948dbf,7,2,1,10969,,,0,"DNM run c9 job with patch

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/821841
Change-Id: Ie727d35c8944ee3520219dcfdb3c42bd7762bc75
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/42/821842/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-ci/run-v3.yaml', 'roles/run-test/tasks/main.yaml']",2,d0cffece731565c8668f3cabf0bd9ed448948dbf,runc9,# test,,2,1
openstack%2Ftripleo-quickstart~master~I1c0ffb2002728decd6798f862b773d7570be38c6,openstack/tripleo-quickstart,master,I1c0ffb2002728decd6798f862b773d7570be38c6,WIP use xfs in quickstart,ABANDONED,2021-12-26 00:45:15.000000000,2022-01-03 14:42:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-26 00:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b4cb16427cec0c617642a27b045c689a3ff62545', 'message': 'WIP use xfs in quickstart\n\nChange-Id: I1c0ffb2002728decd6798f862b773d7570be38c6\n'}, {'number': 2, 'created': '2021-12-26 01:39:08.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2b9457187e16f017b108f934262b4246e8d00262', 'message': 'WIP use xfs in quickstart\n\nChange-Id: I1c0ffb2002728decd6798f862b773d7570be38c6\n'}]",0,822923,2b9457187e16f017b108f934262b4246e8d00262,9,2,2,10969,,,0,"WIP use xfs in quickstart

Change-Id: I1c0ffb2002728decd6798f862b773d7570be38c6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/23/822923/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'],1,b4cb16427cec0c617642a27b045c689a3ff62545,, --run-command 'xfs_growfs /'," --run-command 'FS_TYPE=`findmnt -o FSTYPE -fn /`; if [ ""$FS_TYPE"" = ""xfs"" ]; then xfs_growfs /; elif [ ""$FS_TYPE"" = ""ext4"" ]; then resize2fs /dev/sda1; else echo ""ERROR: Unknown filesystem $FSTYPE, cannot resize.""; exit 1; fi'",1,5
openstack%2Ftripleo-quickstart~master~I9053f267ed0a72a864858de795cc79e757ba8834,openstack/tripleo-quickstart,master,I9053f267ed0a72a864858de795cc79e757ba8834,DNM debug CI,ABANDONED,2021-12-28 21:13:56.000000000,2022-01-03 14:41:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-28 21:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4f6b8ab0b0b0d8cefaaa2beb824710d736d0f93a', 'message': 'DNM debug CI\n\nChange-Id: I9053f267ed0a72a864858de795cc79e757ba8834\n'}, {'number': 2, 'created': '2021-12-28 21:15:24.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/51529917f455d7fe6cc40cc364fdf357210785ac', 'message': 'DNM debug CI\n\nChange-Id: I9053f267ed0a72a864858de795cc79e757ba8834\n'}]",1,823109,51529917f455d7fe6cc40cc364fdf357210785ac,14,2,2,10969,,,0,"DNM debug CI

Change-Id: I9053f267ed0a72a864858de795cc79e757ba8834
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/09/823109/2 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,4f6b8ab0b0b0d8cefaaa2beb824710d736d0f93a,addlog," echo ""Listing roles..."" ls ~/workspace/.quickstart/usr/local/share/ansible/roles/",,2,0
openstack%2Ftripleo-quickstart-extras~master~I0271452b47efaf21fd3fb0e2dff251e81fc25021,openstack/tripleo-quickstart-extras,master,I0271452b47efaf21fd3fb0e2dff251e81fc25021,[2.12] Run TripleO jobs on Ansible 2.12,ABANDONED,2021-11-24 08:15:04.000000000,2022-01-03 14:36:35.000000000,,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-24 08:15:04.000000000', 'files': ['roles/undercloud-setup/tasks/package_installs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aea1b72aa551b2920a5126cc5650b954babd954a', 'message': '[2.12] Run TripleO jobs on Ansible 2.12\n\nInstall currently 2.12 version with pip until we have an RPM.\nRemove totally installed 2.9 version and install with pip a new\none.\nUse pip install for C8, because C9 has an RPM.\n\nChange-Id: I0271452b47efaf21fd3fb0e2dff251e81fc25021\n'}]",2,819064,aea1b72aa551b2920a5126cc5650b954babd954a,14,4,1,10969,,,0,"[2.12] Run TripleO jobs on Ansible 2.12

Install currently 2.12 version with pip until we have an RPM.
Remove totally installed 2.9 version and install with pip a new
one.
Use pip install for C8, because C9 has an RPM.

Change-Id: I0271452b47efaf21fd3fb0e2dff251e81fc25021
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/64/819064/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/tasks/package_installs.yml'],1,aea1b72aa551b2920a5126cc5650b954babd954a,ansible-2.12," - name: Install ansible-core 2.11 to override the default Ansible become: true when: - release not in ['train', 'ussuri', 'victoria'] - ansible_distribution_major_version is version(""8"", ""=="") # C9 has an RPM block: - name: Remove existing RPM and PIP modules shell: | rpm -e ansible --nodeps $(command -v pip3 || command -v pip) uninstall ansible ansible-base ansible-core || true failed_when: false # ignore when pip can't find changed_when: true tags: - skip_ansible_lint - name: Install Ansible 2.12 shell: ANSIBLE_SKIP_CONFLICT_CHECK=1 pip3 install ""ansible-core<2.13"" changed_when: true tags: - skip_ansible_lint - name: Create a link to /usr/bin/ansible-playbook command: ln -s /usr/local/bin/ansible-playbook /usr/bin/ansible-playbook changed_when: true # When removing ansible RPM we remove also /etc/ansible/ansible.cfg which is not # installed with PIP. Download it from github 2.11 branch. # We use it for generation a basic ansible.cfg for TripleO # Will be removed when we have ansible-core 2.11 RPM - name: Create /etc/ansible file: path: /etc/ansible state: directory - name: Get ansible.cfg get_url: url: https://raw.githubusercontent.com/ansible/ansible/stable-2.11/examples/ansible.cfg dest: /etc/ansible/ansible.cfg",,40,0
openstack%2Fneutron~stable%2Ftrain~I736fef3a10bc2887efb26c95e9fc1eea14969ccf,openstack/neutron,stable/train,I736fef3a10bc2887efb26c95e9fc1eea14969ccf,"[stable-only] ""_clean_logs_by_target_id"" to use old notifications",MERGED,2021-12-13 13:57:52.000000000,2022-01-03 14:02:16.000000000,2022-01-03 14:00:12.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 13:57:52.000000000', 'files': ['neutron/services/logapi/logging_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72c00f108ed45289ae75e53685bf2250d898a397', 'message': '[stable-only] ""_clean_logs_by_target_id"" to use old notifications\n\n""LoggingPlugin._clean_logs_by_resource_id"" method receives PORT,\nAFTER_DELETE events, in the old format (not using payloads but\nkwargs). New implementation was added in Xena release.\n\nCloses-Bug: #1954666\nChange-Id: I736fef3a10bc2887efb26c95e9fc1eea14969ccf\n(cherry picked from commit aaa0e99bacabe8d97f7090f42c21b3a80bf6d384)\n'}]",10,821566,72c00f108ed45289ae75e53685bf2250d898a397,38,3,1,16688,,,0,"[stable-only] ""_clean_logs_by_target_id"" to use old notifications

""LoggingPlugin._clean_logs_by_resource_id"" method receives PORT,
AFTER_DELETE events, in the old format (not using payloads but
kwargs). New implementation was added in Xena release.

Closes-Bug: #1954666
Change-Id: I736fef3a10bc2887efb26c95e9fc1eea14969ccf
(cherry picked from commit aaa0e99bacabe8d97f7090f42c21b3a80bf6d384)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/821566/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/logapi/logging_plugin.py'],1,72c00f108ed45289ae75e53685bf2250d898a397,bug/1954666," def _clean_logs_by_target_id(self, resource, event, trigger, **kwargs): context = kwargs['context'] port_id = kwargs['port']['id'] self._clean_logs(context.elevated(), port_id=port_id)"," def _clean_logs_by_target_id(self, resource, event, trigger, payload): self._clean_logs(payload.context.elevated(), port_id=payload.resource_id)",4,3
openstack%2Fkayobe~master~Ide13ad5d39388a3d484bb0285adf49e978239515,openstack/kayobe,master,Ide13ad5d39388a3d484bb0285adf49e978239515,Build neutron-sriov-agent image when enabled,MERGED,2021-10-06 11:44:01.000000000,2022-01-03 13:58:26.000000000,2022-01-03 13:56:16.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-10-06 11:44:01.000000000', 'files': ['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a669ccfa26c430ef634efa1f2e85a1b68b534ccd', 'message': 'Build neutron-sriov-agent image when enabled\n\nSet kolla_enable_neutron_sriov, and the neutron-sriov-agent image does\nnot get built. This change fixes the issue.\n\nStory: 2009275\nTask: 43530\nChange-Id: Ide13ad5d39388a3d484bb0285adf49e978239515\n'}]",1,812667,a669ccfa26c430ef634efa1f2e85a1b68b534ccd,12,3,1,14826,,,0,"Build neutron-sriov-agent image when enabled

Set kolla_enable_neutron_sriov, and the neutron-sriov-agent image does
not get built. This change fixes the issue.

Story: 2009275
Task: 43530
Change-Id: Ide13ad5d39388a3d484bb0285adf49e978239515
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/812667/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'releasenotes/notes/build-neutron-sriov-836acf378bae0b48.yaml']",2,a669ccfa26c430ef634efa1f2e85a1b68b534ccd,,--- fixes: - | Fixes an issue where the Neutron SR-IOV agent image is not built when the service is enabled. ,,8,0
openstack%2Ftripleo-heat-templates~master~I972fce006c787f91e4a56b1a560d202aa9db46c9,openstack/tripleo-heat-templates,master,I972fce006c787f91e4a56b1a560d202aa9db46c9,Fix killscript regex match for libpod-conmon-*,MERGED,2021-12-22 08:01:34.000000000,2022-01-03 13:56:49.000000000,2022-01-03 13:56:49.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-12-22 08:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ffb4835eaba73db3baca793b03b3f0e92c0dbe5', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-12-22 08:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/947b18cf44f2755b260104f4207add70111e5116', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-12-22 08:26:36.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f7e4fd18997c597d57b1ca398a4f55737d68847', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nCloses-bug: #1955491\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,822604,4f7e4fd18997c597d57b1ca398a4f55737d68847,17,6,3,6926,,,0,"Fix killscript regex match for libpod-conmon-*

Whenever a process belongs to libpod-conmon-* scope
instead of libpod-*, wrong container name ""conmon"" is matched as
the container ID.

That increases memory footprint for neutron-dhcp-agent as it puts
sidecars in an endless loop, since the killscript fails with code 125.
That mostly affects higly loaded systems.

Closes-bug: #1955491
Change-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9
Related: rhbz#2032010
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/822604/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,4ffb4835eaba73db3baca793b03b3f0e92c0dbe5,," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /0::|:pids:/{print $(NF-1)}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /0::|:pids:/{print $3; exit}' /proc/$PID/cgroup)",1,1
openstack%2Fnetworking-odl~stable%2Frocky~I698caa93a188f7be206c18d79152dd81eb4029d3,openstack/networking-odl,stable/rocky,I698caa93a188f7be206c18d79152dd81eb4029d3,"Blacklist bandit, bump neutron-lib and retire neutron-lbaas",MERGED,2021-11-18 13:34:13.000000000,2022-01-03 13:47:50.000000000,2022-01-03 13:41:43.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-18 13:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f1331eeabb01b2491966ab8fed6c2e425dfb16cb', 'message': 'Blacklist bandit, bump neutron-lib and retire neutron-lbaas\n\nBandit 1.6.0 introduces a regression[0] with the -x option,\na fix is expected to be included in 1.6.1 soon. (Original commit is\nbased on Id944054deedd545c34fc28ccf043dd72e5f31220)\n\nneutron-lbaas is retired [2], so networking-odl dependencies must be\nremoved.\nTrunk constants were moved to neutron-lib from neutron with [3] from\n1.25.0, and were removed from neutron with [4], thus lower-constraints\nmust point to at least 1.25.0.\nTo pass the gate fix sphinx requirements for python>3.4\n(Original Change-Id: I6e709385fefe12123ecab150237956297cc7e09f)\n\nConflicts:\n.zuul.d/project.yaml\n.zuul.d/jobs.yaml\ndoc/requirements.txt\nrequirements.txt\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n[3] https://review.opendev.org/636989\n[4] https://review.opendev.org/649672\n\nChange-Id: I698caa93a188f7be206c18d79152dd81eb4029d3\n'}, {'number': 2, 'created': '2021-11-24 12:54:27.000000000', 'files': ['networking_odl/tests/unit/journal/test_full_sync.py', 'networking_odl/lbaas/lbaasv2_driver_v2.py', '.zuul.d/jobs.yaml', 'devstack/README.rst', 'doc/source/contributor/drivers_architecture.rst', 'requirements.txt', 'networking_odl/tests/unit/lbaas/test_lbaasv2_odl_v2.py', '.zuul.d/project.yaml', 'networking_odl/tests/unit/common/test_utils.py', 'networking_odl/tests/unit/lbaas/__init__.py', 'networking_odl/lbaas/__init__.py', 'releasenotes/notes/remove-neutron-lbaas-6afe0b0f7b61290a.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9ac3fa97d6bb6551f830ad2ca5b881dec6dcd39f', 'message': 'Blacklist bandit, bump neutron-lib and retire neutron-lbaas\n\nBandit 1.6.0 introduces a regression[0] with the -x option,\na fix is expected to be included in 1.6.1 soon. (Original commit is\nbased on Id944054deedd545c34fc28ccf043dd72e5f31220)\n\nneutron-lbaas is retired [2], so networking-odl dependencies must be\nremoved.\nTrunk constants were moved to neutron-lib from neutron with [3] from\n1.25.0, and were removed from neutron with [4], thus lower-constraints\nmust point to at least 1.25.0.\nTo pass the gate fix sphinx requirements for python>3.4\n(Original Change-Id: I6e709385fefe12123ecab150237956297cc7e09f)\n\nConflicts:\n.zuul.d/project.yaml\n.zuul.d/jobs.yaml\ndoc/requirements.txt\nrequirements.txt\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n[3] https://review.opendev.org/636989\n[4] https://review.opendev.org/649672\n\nChange-Id: I698caa93a188f7be206c18d79152dd81eb4029d3\n'}]",5,818384,9ac3fa97d6bb6551f830ad2ca5b881dec6dcd39f,15,3,2,8313,,,0,"Blacklist bandit, bump neutron-lib and retire neutron-lbaas

Bandit 1.6.0 introduces a regression[0] with the -x option,
a fix is expected to be included in 1.6.1 soon. (Original commit is
based on Id944054deedd545c34fc28ccf043dd72e5f31220)

neutron-lbaas is retired [2], so networking-odl dependencies must be
removed.
Trunk constants were moved to neutron-lib from neutron with [3] from
1.25.0, and were removed from neutron with [4], thus lower-constraints
must point to at least 1.25.0.
To pass the gate fix sphinx requirements for python>3.4
(Original Change-Id: I6e709385fefe12123ecab150237956297cc7e09f)

Conflicts:
.zuul.d/project.yaml
.zuul.d/jobs.yaml
doc/requirements.txt
requirements.txt

[0] https://github.com/PyCQA/bandit/issues/488
[1] https://github.com/PyCQA/bandit/pull/489
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html
[3] https://review.opendev.org/636989
[4] https://review.opendev.org/649672

Change-Id: I698caa93a188f7be206c18d79152dd81eb4029d3
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/84/818384/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/journal/test_full_sync.py', 'networking_odl/lbaas/lbaasv2_driver_v2.py', '.zuul.d/jobs.yaml', 'devstack/README.rst', 'doc/source/contributor/drivers_architecture.rst', 'requirements.txt', 'networking_odl/tests/unit/lbaas/test_lbaasv2_odl_v2.py', '.zuul.d/project.yaml', 'networking_odl/tests/unit/common/test_utils.py', 'networking_odl/tests/unit/lbaas/__init__.py', 'networking_odl/lbaas/__init__.py', 'releasenotes/notes/remove-neutron-lbaas-6afe0b0f7b61290a.yaml', 'tox.ini']",13,f1331eeabb01b2491966ab8fed6c2e425dfb16cb,rocky_remove_lbaas,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky},13,390
openstack%2Fkuryr-kubernetes~master~I40921f81ba35e0ade2c8329664351a45f86dd031,openstack/kuryr-kubernetes,master,I40921f81ba35e0ade2c8329664351a45f86dd031,DO NOT MERGE,ABANDONED,2022-01-03 12:48:15.000000000,2022-01-03 13:40:07.000000000,,[{'_account_id': 13692}],"[{'number': 1, 'created': '2022-01-03 12:48:15.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3f64dea5cea834dcfce6cfa4b09b8b418f4813f3', 'message': 'DO NOT MERGE\n\nChange-Id: I40921f81ba35e0ade2c8329664351a45f86dd031\n'}]",0,823280,3f64dea5cea834dcfce6cfa4b09b8b418f4813f3,3,1,1,13692,,,0,"DO NOT MERGE

Change-Id: I40921f81ba35e0ade2c8329664351a45f86dd031
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/80/823280/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,3f64dea5cea834dcfce6cfa4b09b8b418f4813f3,test, #- kuryr-kubernetes-tempest #- kuryr-kubernetes-tempest-docker #- kuryr-kubernetes-tempest-defaults #- kuryr-kubernetes-tempest-systemd #- kuryr-kubernetes-tempest-multinode #- kuryr-kubernetes-tempest-multinode-ovs #- kuryr-kubernetes-tempest-ipv6 #- kuryr-kubernetes-tempest-ipv6-ovs #- kuryr-kubernetes-tempest-amphora #- kuryr-kubernetes-tempest-amphora-ovs #- kuryr-kubernetes-e2e-np, - kuryr-kubernetes-tempest - kuryr-kubernetes-tempest-docker - kuryr-kubernetes-tempest-defaults - kuryr-kubernetes-tempest-systemd - kuryr-kubernetes-tempest-multinode - kuryr-kubernetes-tempest-multinode-ovs - kuryr-kubernetes-tempest-ipv6 - kuryr-kubernetes-tempest-ipv6-ovs - kuryr-kubernetes-tempest-amphora - kuryr-kubernetes-tempest-amphora-ovs - kuryr-kubernetes-e2e-np,11,11
openstack%2Ftripleo-validations~master~Icd86e8897da6908747c39940c2150d236360aeef,openstack/tripleo-validations,master,Icd86e8897da6908747c39940c2150d236360aeef,Change ansible_hostname to use ansible_facts,MERGED,2021-08-02 07:55:38.000000000,2022-01-03 13:07:43.000000000,2021-10-30 00:27:39.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 26343}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31324}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-08-02 07:55:38.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4512793bd31ee85a1fe9908c11ea541cb7c454f0', 'message': ""Change ansible_hostname to use ansible_facts\n\nThe tasks fail with 'ansible_hostname' is undefined\n\nChange-Id: Icd86e8897da6908747c39940c2150d236360aeef\nResolves: rhbz#1988392\n""}]",3,803147,4512793bd31ee85a1fe9908c11ea541cb7c454f0,19,13,1,14250,,,0,"Change ansible_hostname to use ansible_facts

The tasks fail with 'ansible_hostname' is undefined

Change-Id: Icd86e8897da6908747c39940c2150d236360aeef
Resolves: rhbz#1988392
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/47/803147/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tls_everywhere/tasks/common.yaml'],1,4512793bd31ee85a1fe9908c11ea541cb7c454f0,rhbz#1988392," - name: Check all relevant ports for IdM/FreeIPA are accessible from {{ ansible_facts['hostname'] }} firewall_reason: ""The host {{ ansible_facts['hostname'] }} can access FreeIPA through all relevant ports"" firewall_reason: ""The host {{ ansible_facts['hostname'] }} could NOT access IdM/FreeIPA on some ports"" firewall_reason: ""skipped {{ ansible_facts['hostname'] }} firewall checks because DNS wasn't set correctly."""," - name: Check all relevant ports for IdM/FreeIPA are accessible from {{ ansible_hostname }} firewall_reason: ""The host {{ ansible_hostname }} can access FreeIPA through all relevant ports"" firewall_reason: ""The host {{ ansible_hostname }} could NOT access IdM/FreeIPA on some ports"" firewall_reason: ""skipped {{ ansible_hostname }} firewall checks because DNS wasn't set correctly.""",4,4
openstack%2Fnetworking-ovn~stable%2Ftrain~I80da0b691cf0e6daa07589fb02228dfb08e94e53,openstack/networking-ovn,stable/train,I80da0b691cf0e6daa07589fb02228dfb08e94e53,Use Port_Binding up column to set Neutron port status,ABANDONED,2022-01-03 12:31:42.000000000,2022-01-03 12:39:05.000000000,,[],"[{'number': 1, 'created': '2022-01-03 12:31:42.000000000', 'files': ['networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3c9a4090665e1eca8d847a74404ac5b83f6a7f1d', 'message': 'Use Port_Binding up column to set Neutron port status\n\nCurrently in order to bring Neutron port to active, Neutron waits for\nLogical Switch Port to become up in OVN. That means ovn-controller\nchanges the up status in SB DB and northd propagates it up to NB DB.\nWe do not need to wait and can save some time if we use the newly added\nSB DB up column instead, when possible:\nhttps://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152\n\nChange-Id: I0e1f462d90603bdc240a5f97adca8e7f11b5d82b\n(manually cherry picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)\n\nChange-Id: I80da0b691cf0e6daa07589fb02228dfb08e94e53\n'}]",0,823278,3c9a4090665e1eca8d847a74404ac5b83f6a7f1d,2,0,1,23567,,,0,"Use Port_Binding up column to set Neutron port status

Currently in order to bring Neutron port to active, Neutron waits for
Logical Switch Port to become up in OVN. That means ovn-controller
changes the up status in SB DB and northd propagates it up to NB DB.
We do not need to wait and can save some time if we use the newly added
SB DB up column instead, when possible:
https://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152

Change-Id: I0e1f462d90603bdc240a5f97adca8e7f11b5d82b
(manually cherry picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)

Change-Id: I80da0b691cf0e6daa07589fb02228dfb08e94e53
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/78/823278/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py']",4,3c9a4090665e1eca8d847a74404ac5b83f6a7f1d,," }, ""Port_Binding"": { ""columns"": { ""logical_port"": {""type"": ""string""}, ""type"": {""type"": ""string""}, ""chassis"": {""type"": {""key"": {""type"": ""uuid"", ""refTable"": ""Chassis"", ""refType"": ""weak""}, ""min"": 0, ""max"": 1}}, ""up"": {""type"": {""key"": ""boolean"", ""min"": 0, ""max"": 1}}}, ""indexes"": [[""logical_port""]], ""isRoot"": True}, sb_helper.register_table('Port_Binding') self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_helper(self, event, table, new_row_json, old_row_json=None): def _test_chassis_helper(self, event, new_row_json, old_row_json=None, table=None): self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') if not table: table = self.chassis_table self._test_helper(event, table, new_row_json, old_row_json) def _test_port_binding_helper(self, event, new_row_json, old_row_json=None, table=None): self.port_binding_table = self.sb_idl.tables.get('Port_Binding') if not table: table = self.port_binding_table self._test_helper(event, table, new_row_json, old_row_json) def test_port_binding_up_create_event(self): row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_create_patch_type_event(self): # Note(ltomasbo): This will behave the same for up = True|False # as the port needs to transition to up anyway row_data = {""type"": ""patch"", ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) row_data = {""type"": ""patch"", ""logical_port"": ""lrp-foo-name""} self._test_port_binding_helper('create', row_data) self.assertEqual(1, self.driver.set_port_status_up.call_count) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_create_event(self): row_data = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_down_create_virtual_type_event(self): row_data = {""type"": ""virtual"", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_up_update_event(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} old_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} old_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_port_binding_up_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_down_update_event_no_old_data(self): new_row_json = {""type"": """", ""up"": False, ""logical_port"": ""foo-name""} self._test_port_binding_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_port_binding_other_column_update_event(self): new_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""type"": """", ""up"": True, ""name"": ""foo-name"", ""addresses"": [""10.0.0.3""]} self._test_port_binding_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper( 'create', new_row_json, table=self.sb_idl.tables.get(""Chassis"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_port_binding_create_events(self): self.sb_idl.unwatch_port_binding_create_events() row_data = {""type"": """", ""up"": True, ""logical_port"": ""foo-name""} self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_port_binding_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.assertIsNotNone(self.sb_idl._pb_create_up_event) self.assertIsNotNone(self.sb_idl._pb_create_down_event) self.sb_idl.post_connect() self.assertIsNone(self.sb_idl._pb_create_up_event) self.assertIsNone(self.sb_idl._pb_create_down_event) "," } self.driver.set_port_status_up = mock.Mock() self.driver.set_port_status_down = mock.Mock() def _test_lsp_helper(self, event, new_row_json, old_row_json=None, table=None): row_uuid = uuidutils.generate_uuid() if not table: table = self.lp_table lp_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, new_row_json) if old_row_json: old_row = ovs_idl.Row.from_json(self.idl, table, row_uuid, old_row_json) else: old_row = None self.idl.notify(event, lp_row, updates=old_row) # Add a STOP EVENT to the queue self.idl.notify_handler.shutdown() # Execute the notifications queued self.idl.notify_handler.notify_loop() def test_lsp_up_create_event(self): row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_create_event(self): row_data = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_not_set_event(self): row_data = {""up"": ['set', []], ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_unwatch_logical_switch_port_create_events(self): self.idl.unwatch_logical_switch_port_create_events() row_data = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) row_data[""up""] = False self._test_lsp_helper('create', row_data) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_post_connect(self): self.idl.post_connect() self.assertIsNone(self.idl._lsp_create_up_event) self.assertIsNone(self.idl._lsp_create_down_event) def test_lsp_up_update_event(self): new_row_json = {""up"": True, ""name"": ""foo-name""} old_row_json = {""up"": False} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_up.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name""} old_row_json = {""up"": True} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.driver.set_port_status_down.assert_called_once_with(""foo-name"") self.assertFalse(self.driver.set_port_status_up.called) def test_lsp_up_update_event_no_old_data(self): new_row_json = {""up"": True, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_down_update_event_no_old_data(self): new_row_json = {""up"": False, ""name"": ""foo-name""} self._test_lsp_helper('update', new_row_json, old_row_json=None) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_lsp_other_column_update_event(self): new_row_json = {""up"": False, ""name"": ""foo-name"", ""addresses"": [""10.0.0.2""]} old_row_json = {""addresses"": [""10.0.0.3""]} self._test_lsp_helper('update', new_row_json, old_row_json=old_row_json) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) def test_notify_other_table(self): new_row_json = {""name"": ""foo-name""} self._test_lsp_helper('create', new_row_json, table=self.idl.tables.get(""Logical_Switch"")) self.assertFalse(self.driver.set_port_status_up.called) self.assertFalse(self.driver.set_port_status_down.called) self.sb_idl.post_connect() self.chassis_table = self.sb_idl.tables.get('Chassis') def _test_chassis_helper(self, event, new_row_json, old_row_json=None):class TestPortBindingChassisUpdateEvent(base.TestCase): def setUp(self): super(TestPortBindingChassisUpdateEvent, self).setUp() self.driver = mock.Mock() self.event = ovsdb_monitor.PortBindingChassisUpdateEvent(self.driver) def _test_event(self, event, row, old): if self.event.matches(event, row, old): self.event.run(event, row, old) self.driver.set_port_status_up.assert_called() else: self.driver.set_port_status_up.assert_not_called() def test_event_matches(self): # NOTE(twilson) This primarily tests implementation details. If a # scenario test is written that handles shutting down a compute # node uncleanly and performing a 'host-evacuate', this can be removed pbtable = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'Port_Binding'}) ovsdb_row = fakes.FakeOvsdbRow.create_one_ovsdb_row self.driver._nb_ovn.lookup.return_value = ovsdb_row(attrs={'up': True}) self._test_event( self.event.ROW_UPDATE, ovsdb_row(attrs={'_table': pbtable, 'chassis': 'one', 'type': '_fake_', 'logical_port': 'foo'}), ovsdb_row(attrs={'_table': pbtable, 'chassis': 'two', 'type': '_fake_'})) ",307,237
openstack%2Fglance_store~master~Ifa909a67c76b897f2ab4b1ee5926046bc7045d3d,openstack/glance_store,master,Ifa909a67c76b897f2ab4b1ee5926046bc7045d3d,nit: Correct debug log,MERGED,2021-11-22 10:17:46.000000000,2022-01-03 12:38:31.000000000,2022-01-03 12:36:52.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-22 10:17:46.000000000', 'files': ['glance_store/common/attachment_state_manager.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5677ae3cba836f30cdd7e3ec3ede60dbd9db2aac', 'message': 'nit: Correct debug log\n\nCorrect debug log when initializing _AttachmentStateManager.\n\nChange-Id: Ifa909a67c76b897f2ab4b1ee5926046bc7045d3d\n'}]",2,818728,5677ae3cba836f30cdd7e3ec3ede60dbd9db2aac,11,2,1,27615,,,0,"nit: Correct debug log

Correct debug log when initializing _AttachmentStateManager.

Change-Id: Ifa909a67c76b897f2ab4b1ee5926046bc7045d3d
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/28/818728/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/common/attachment_state_manager.py'],1,5677ae3cba836f30cdd7e3ec3ede60dbd9db2aac,, LOG.debug('Initialising _AttachmentStateManager'), LOG.debug('Initialising _HostMountState'),1,1
openstack%2Fkayobe~master~I16d721539e5956f0d86503dd5b01ea608b129873,openstack/kayobe,master,I16d721539e5956f0d86503dd5b01ea608b129873,Use net_mask filter instead of ansible's ipaddr,MERGED,2021-10-08 22:47:00.000000000,2022-01-03 12:02:37.000000000,2022-01-03 12:00:41.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-10-08 22:47:00.000000000', 'files': ['ansible/kolla-bifrost-hostvars.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0751a316f4ef093221ae3bab2d6514689cd980de', 'message': ""Use net_mask filter instead of ansible's ipaddr\n\nFor a long time [1] we have net_mask filter, so no need to use ugly\ncombination of the net_cidr filter together with ansible's ipaddr\nfilter.\n\n1. https://opendev.org/openstack/kayobe/commit/dc45036c92cb28fd4e9f2d9c84a03438bf7ad26f\n\nTrivialFix\n\nChange-Id: I16d721539e5956f0d86503dd5b01ea608b129873\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",1,813265,0751a316f4ef093221ae3bab2d6514689cd980de,13,4,1,14200,,,0,"Use net_mask filter instead of ansible's ipaddr

For a long time [1] we have net_mask filter, so no need to use ugly
combination of the net_cidr filter together with ansible's ipaddr
filter.

1. https://opendev.org/openstack/kayobe/commit/dc45036c92cb28fd4e9f2d9c84a03438bf7ad26f

TrivialFix

Change-Id: I16d721539e5956f0d86503dd5b01ea608b129873
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/813265/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-bifrost-hostvars.yml'],1,0751a316f4ef093221ae3bab2d6514689cd980de,bifrost-netmask-filter," ipv4_subnet_mask: ""{{ admin_oc_net_name | net_mask }}"""," ipv4_subnet_mask: ""{{ admin_oc_net_name | net_cidr | ipaddr('netmask') }}""",1,1
openstack%2Fironic~master~Ie5c4db176814ef8b6de3182a2310b3a7c9e1cd13,openstack/ironic,master,Ie5c4db176814ef8b6de3182a2310b3a7c9e1cd13,Sync rootwrap.conf from oslo.rootwrap,NEW,2022-01-02 12:25:21.000000000,2022-01-03 11:56:16.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-02 12:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b05eafab0388b74492420897cc5d1c14e07b6b03', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: Ie5c4db176814ef8b6de3182a2310b3a7c9e1cd13\n""}, {'number': 2, 'created': '2022-01-03 00:26:26.000000000', 'files': ['requirements.txt', 'etc/ironic/rootwrap.conf', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf082d69d3e99fbb3b2a72e1986a1399c2acaf72', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: Ie5c4db176814ef8b6de3182a2310b3a7c9e1cd13\n""}]",1,823231,cf082d69d3e99fbb3b2a72e1986a1399c2acaf72,10,3,2,9816,,,0,"Sync rootwrap.conf from oslo.rootwrap

The current rootwrap.conf file is outdated and doesn't include some
parameters. This change updates the content to make it consistent with
the latest example file in oslo.rootwrap.

Change-Id: Ie5c4db176814ef8b6de3182a2310b3a7c9e1cd13
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/823231/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ironic/rootwrap.conf'],1,b05eafab0388b74492420897cc5d1c14e07b6b03,rootwrap, # Rootwrap daemon exits after this seconds of inactivity daemon_timeout=600 # Rootwrap daemon limits itself to that many file descriptors (Linux only) rlimit_nofile=1024,,6,0
openstack%2Fpython-manilaclient~master~Ieca3db027dea37dfd0dd9cb46e900d4bd9e1eed7,openstack/python-manilaclient,master,Ieca3db027dea37dfd0dd9cb46e900d4bd9e1eed7,Update python testing classifier,MERGED,2021-12-21 10:03:57.000000000,2022-01-03 11:40:06.000000000,2022-01-03 11:34:37.000000000,"[{'_account_id': 6413}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-12-21 10:03:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e59bd63628d76d3a5fef8b7814df1ce21e43cfb1', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ieca3db027dea37dfd0dd9cb46e900d4bd9e1eed7\n'}]",4,822459,e59bd63628d76d3a5fef8b7814df1ce21e43cfb1,11,4,1,31827,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ieca3db027dea37dfd0dd9cb46e900d4bd9e1eed7
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/59/822459/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e59bd63628d76d3a5fef8b7814df1ce21e43cfb1,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fpython-manilaclient~stable%2Fvictoria~I4a7de404bd02887e7a7b37fff8ce449846109cbb,openstack/python-manilaclient,stable/victoria,I4a7de404bd02887e7a7b37fff8ce449846109cbb,[CI] Fix CI jobs,MERGED,2021-12-23 16:47:38.000000000,2022-01-03 11:39:40.000000000,2022-01-03 11:34:35.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-23 16:47:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0', 'message': ""[CI] Fix CI jobs\n\nrally-dsvm-manila-multibackend and\nrally-dsvm-manila-multibackend-no-ss were old\njobs whose definition was removed a while ago, however,\nthe check pipeline on this repo had these jobs\nand this config error was not surfaced until\nrecently [1]. Replace these older jobs with the\ncorrect ones.\n\nThe lower constraints job should only be run on\nmaster, since it provides little value to stable branches\nwe've already shipped. We do not allow requirements\nchanges in these branches lightly. [2][3][4]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\nChange-Id: I4a7de404bd02887e7a7b37fff8ce449846109cbb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 1f72195d316d8fc4fafad107c81d134aae2210b7)\n(cherry picked from commit 406ae1c65e63c30bdf68ee613ca753a5bd3e94ca)\n(cherry picked from commit 1412265e0a957ecb6462bbfc00e1dcc790e7fc28)\n""}]",3,822849,3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0,9,4,1,16643,,,0,"[CI] Fix CI jobs

rally-dsvm-manila-multibackend and
rally-dsvm-manila-multibackend-no-ss were old
jobs whose definition was removed a while ago, however,
the check pipeline on this repo had these jobs
and this config error was not surfaced until
recently [1]. Replace these older jobs with the
correct ones.

The lower constraints job should only be run on
master, since it provides little value to stable branches
we've already shipped. We do not allow requirements
changes in these branches lightly. [2][3][4]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[4] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html
Change-Id: I4a7de404bd02887e7a7b37fff8ce449846109cbb
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 1f72195d316d8fc4fafad107c81d134aae2210b7)
(cherry picked from commit 406ae1c65e63c30bdf68ee613ca753a5bd3e94ca)
(cherry picked from commit 1412265e0a957ecb6462bbfc00e1dcc790e7fc28)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/49/822849/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0,ci-fixes-stable/victoria, - manila-rally-ss: - manila-rally-no-ss:, - openstack-lower-constraints-jobs - rally-dsvm-manila-multibackend: - rally-dsvm-manila-multibackend-no-ss:,2,3
openstack%2Fneutron~stable%2Fstein~Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614,openstack/neutron,stable/stein,Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614,"Populate self.floating_ips_dict using ""ip rule"" information",MERGED,2021-09-22 13:09:30.000000000,2022-01-03 11:30:06.000000000,2022-01-03 11:27:23.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-22 13:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34ec42df9fb2c1ee662928ee14be8986acd9f15b', 'message': 'Populate self.floating_ips_dict using ""ip rule"" information\n\nWhen the L3 agent starts, reads the floating IP rule priority from\na state file created by ""FipRulePriorityAllocator"". In case of not\nhaving all floating IPs registers in this file, the method:\n- Creates a new priority for this floating IP.\n- Creates the ""ip rule"" in the namespace.\n- Adds a new entry in ""self.floating_ips_dict"".\n\nAll ""ip rules"" present in the namespace that do not match the\nregistered fixed IP address (""from"") and the priority assigned\nare deleted.\n\nCloses-Bug: #1891673\nCloses-Bug: #1929821\n\nConflicts:\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614\n(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)\n(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)\n'}, {'number': 2, 'created': '2021-10-08 07:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c68b4c5e0cab4f07538ae86063d8494bb286877', 'message': 'Populate self.floating_ips_dict using ""ip rule"" information\n\nWhen the L3 agent starts, reads the floating IP rule priority from\na state file created by ""FipRulePriorityAllocator"". In case of not\nhaving all floating IPs registers in this file, the method:\n- Creates a new priority for this floating IP.\n- Creates the ""ip rule"" in the namespace.\n- Adds a new entry in ""self.floating_ips_dict"".\n\nAll ""ip rules"" present in the namespace that do not match the\nregistered fixed IP address (""from"") and the priority assigned\nare deleted.\n\nCloses-Bug: #1891673\nCloses-Bug: #1929821\n\nConflicts:\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614\n(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)\n(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)\n'}, {'number': 3, 'created': '2021-11-10 14:44:37.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/fip_rule_priority_allocator.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d863a1cb7c88caf1eb63aa1c06c19e41aea7c581', 'message': 'Populate self.floating_ips_dict using ""ip rule"" information\n\nWhen the L3 agent starts, reads the floating IP rule priority from\na state file created by ""FipRulePriorityAllocator"". In case of not\nhaving all floating IPs registers in this file, the method:\n- Creates a new priority for this floating IP.\n- Creates the ""ip rule"" in the namespace.\n- Adds a new entry in ""self.floating_ips_dict"".\n\nAll ""ip rules"" present in the namespace that do not match the\nregistered fixed IP address (""from"") and the priority assigned\nare deleted.\n\nCloses-Bug: #1891673\nCloses-Bug: #1929821\n\nConflicts:\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614\n(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)\n(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)\n'}]",13,810396,d863a1cb7c88caf1eb63aa1c06c19e41aea7c581,38,3,3,11975,,,0,"Populate self.floating_ips_dict using ""ip rule"" information

When the L3 agent starts, reads the floating IP rule priority from
a state file created by ""FipRulePriorityAllocator"". In case of not
having all floating IPs registers in this file, the method:
- Creates a new priority for this floating IP.
- Creates the ""ip rule"" in the namespace.
- Adds a new entry in ""self.floating_ips_dict"".

All ""ip rules"" present in the namespace that do not match the
registered fixed IP address (""from"") and the priority assigned
are deleted.

Closes-Bug: #1891673
Closes-Bug: #1929821

Conflicts:
    neutron/tests/unit/agent/l3/test_dvr_local_router.py

Change-Id: Ia3fbde3304ab5f3c309dc62dbf58274afbcf4614
(cherry picked from commit a03c240ef4ea1d4b874b618dbd0163a3a2f7024c)
(cherry picked from commit b4ad1a2775d00cd6d14bd4766a0a1c5c41332d89)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/810396/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/fip_rule_priority_allocator.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_pd.py']",6,34ec42df9fb2c1ee662928ee14be8986acd9f15b,bug/1929821-stable/ussuri-stable/train-stable/stein," '_load_used_fip_information') def test_add_update_dvr_edge_router(self, *args): '_load_used_fip_information') def test_add_update_dvr_local_router(self, *args):"," 'load_used_fip_information') def test_add_update_dvr_edge_router(self, load_used_fip_info): 'load_used_fip_information') def test_add_update_dvr_local_router(self, load_used_fip_info):",116,58
openstack%2Fmanila~master~I10caed1d524614a74a75e8f856b0579ab11dc4b5,openstack/manila,master,I10caed1d524614a74a75e8f856b0579ab11dc4b5,Support group specs search for share group type API,MERGED,2021-12-08 11:10:34.000000000,2022-01-03 11:25:33.000000000,2021-12-21 23:26:46.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-12-08 11:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/83aeefd26635af3a54c871ad985308fc4f1ecd96', 'message': 'Support group specs search for share group type API\n\nAdd support for group_specs filter search in share group type list API.\n\nImplements: blueprint support-group-spec-search-share-group-type-api\nChange-Id: I10caed1d524614a74a75e8f856b0579ab11dc4b5\n'}, {'number': 2, 'created': '2021-12-08 15:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2c6d3b9eb0ce9862c3fe18caef14f497b1204ae1', 'message': 'Support group specs search for share group type API\n\nAdd support for group_specs filter search in share group type list API.\n\nImplements: blueprint support-group-spec-search-share-group-type-api\nChange-Id: I10caed1d524614a74a75e8f856b0579ab11dc4b5\n'}, {'number': 3, 'created': '2021-12-08 16:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/56f406ab998d9d586f8aa16f9b605cc000968baf', 'message': 'Support group specs search for share group type API\n\nAdd support for group_specs filter search in share group type list API.\n\nImplements: blueprint support-group-spec-search-share-group-type-api\nChange-Id: I10caed1d524614a74a75e8f856b0579ab11dc4b5\n'}, {'number': 4, 'created': '2021-12-09 17:24:25.000000000', 'files': ['api-ref/source/parameters.yaml', 'manila/tests/api/test_common.py', 'manila/api/common.py', 'manila/api/v2/share_group_types.py', 'releasenotes/notes/bp-support-group-spec-search-share-group-type-api-df55d056b622ced7.yaml', 'manila/tests/api/v2/test_share_types.py', 'manila/api/openstack/api_version_request.py', 'manila/tests/share_group/test_share_group_types.py', 'manila/api/v2/share_types.py', 'manila/api/openstack/rest_api_version_history.rst', 'api-ref/source/share-group-types.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/3a1e23801fb3a0682101af3f1cc965b1ae7e0379', 'message': 'Support group specs search for share group type API\n\nAdd support for group_specs filter search in share group type list API.\n\nImplements: blueprint support-group-spec-search-share-group-type-api\nChange-Id: I10caed1d524614a74a75e8f856b0579ab11dc4b5\n'}]",11,821002,3a1e23801fb3a0682101af3f1cc965b1ae7e0379,25,3,4,6413,,,0,"Support group specs search for share group type API

Add support for group_specs filter search in share group type list API.

Implements: blueprint support-group-spec-search-share-group-type-api
Change-Id: I10caed1d524614a74a75e8f856b0579ab11dc4b5
",git fetch https://review.opendev.org/openstack/manila refs/changes/02/821002/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'manila/api/common.py', 'manila/api/v2/share_group_types.py', 'releasenotes/notes/bp-support-group-spec-search-share-group-type-api-df55d056b622ced7.yaml', 'manila/api/openstack/api_version_request.py', 'manila/api/v2/share_types.py', 'manila/tests/share_group/test_share_group_types.py', 'manila/api/openstack/rest_api_version_history.rst', 'api-ref/source/share-group-types.inc']",9,83aeefd26635af3a54c871ad985308fc4f1ecd96,bp/support-group-spec-search-share-group-type-api, - is_public: is_public_query - group_specs: group_specs_query,,74,48
openstack%2Fkayobe~stable%2Ftrain~I6acd7bc29ec002c68eb7a3e3883cdc8e38502e84,openstack/kayobe,stable/train,I6acd7bc29ec002c68eb7a3e3883cdc8e38502e84,Disable failing Python 2 jobs,MERGED,2021-12-06 21:57:12.000000000,2022-01-03 11:13:29.000000000,2022-01-03 11:08:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-06 21:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/71d504d19b578b626fb4732d4f8cb6525797814f', 'message': 'Make broken Python 2 jobs non-voting\n\nChange-Id: I6acd7bc29ec002c68eb7a3e3883cdc8e38502e84\n'}, {'number': 2, 'created': '2021-12-07 08:37:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d8f66ea0791c1bdb903a46b78a38378b6eed99b4', 'message': 'Disable failing Python 2 jobs\n\nChange-Id: I6acd7bc29ec002c68eb7a3e3883cdc8e38502e84\n'}]",1,820601,d8f66ea0791c1bdb903a46b78a38378b6eed99b4,10,3,2,15197,,,0,"Disable failing Python 2 jobs

Change-Id: I6acd7bc29ec002c68eb7a3e3883cdc8e38502e84
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/01/820601/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,71d504d19b578b626fb4732d4f8cb6525797814f,, - kayobe-overcloud-centos7: voting: false - kayobe-overcloud-upgrade-centos7: voting: false - kayobe-seed-centos7: voting: false - kayobe-seed-upgrade-centos7: voting: false, - kayobe-overcloud-centos7 - kayobe-overcloud-upgrade-centos7 - kayobe-seed-centos7 - kayobe-seed-upgrade-centos7 - kayobe-overcloud-centos7 - kayobe-overcloud-upgrade-centos7 - kayobe-seed-centos7 - kayobe-seed-upgrade-centos7,8,8
openstack%2Fheat~master~If57d3d2b8180ec1336fea2e0622daf4c72af77b6,openstack/heat,master,If57d3d2b8180ec1336fea2e0622daf4c72af77b6,Remove ineffective and deprecated [DEFAULT] onready,NEW,2022-01-03 09:32:17.000000000,2022-01-03 11:11:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-03 09:32:17.000000000', 'files': ['heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/66395c067173c416e055773cb7c12388a5f57c45', 'message': 'Remove ineffective and deprecated [DEFAULT] onready\n\n... because this parameter was deprecated a long ago[1] and has had no\neffect since then.\n\n[1] 46d6b9306c26f36bc2d490afd9fcab30aa4725f5\n\nChange-Id: If57d3d2b8180ec1336fea2e0622daf4c72af77b6\n'}]",0,823262,66395c067173c416e055773cb7c12388a5f57c45,3,1,1,9816,,,0,"Remove ineffective and deprecated [DEFAULT] onready

... because this parameter was deprecated a long ago[1] and has had no
effect since then.

[1] 46d6b9306c26f36bc2d490afd9fcab30aa4725f5

Change-Id: If57d3d2b8180ec1336fea2e0622daf4c72af77b6
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/823262/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/config.py'],1,66395c067173c416e055773cb7c12388a5f57c45,,," cfg.StrOpt('onready', help=_('Deprecated.')),",0,2
openstack%2Fopenstacksdk~feature%2Fr1~Ic7b494c24d26e0ff51ba26a6fb2b6b7c064d4759,openstack/openstacksdk,feature/r1,Ic7b494c24d26e0ff51ba26a6fb2b6b7c064d4759,Functional tests for vpn ike policy resource,MERGED,2021-07-08 13:03:33.000000000,2022-01-03 11:03:38.000000000,2022-01-03 11:01:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-08 13:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7c57a7618ee831c45fb860ff184b8e99756d9962', 'message': 'Functional tests for vpn ike policy resource\n\nChange-Id: Ic7b494c24d26e0ff51ba26a6fb2b6b7c064d4759\n'}, {'number': 2, 'created': '2021-09-10 12:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8916f5063f82818abd0902473dfe96b9a626ef49', 'message': 'Functional tests for vpn ike policy resource\n\nChange-Id: Ic7b494c24d26e0ff51ba26a6fb2b6b7c064d4759\n'}, {'number': 3, 'created': '2021-12-25 09:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6f8b651bb7e55b3e8e2ff4c5280e0079174d260e', 'message': 'Functional tests for vpn ike policy resource\n\nChange-Id: Ic7b494c24d26e0ff51ba26a6fb2b6b7c064d4759\n'}, {'number': 4, 'created': '2021-12-31 14:44:06.000000000', 'files': ['openstack/tests/functional/network/v2/test_ikepolicy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cadee6fa12653bb27fc929d3653aa57a329fbdd9', 'message': 'Functional tests for vpn ike policy resource\n\nChange-Id: Ic7b494c24d26e0ff51ba26a6fb2b6b7c064d4759\n'}]",0,800033,cadee6fa12653bb27fc929d3653aa57a329fbdd9,13,2,4,32787,,,0,"Functional tests for vpn ike policy resource

Change-Id: Ic7b494c24d26e0ff51ba26a6fb2b6b7c064d4759
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/800033/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/network/v2/test_ikepolicy.py'],1,7c57a7618ee831c45fb860ff184b8e99756d9962,ike-policy-func-tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.network.v2 import ikepolicy from openstack.tests.functional import base class TestIkePolicy(base.BaseFunctionalTest): ID = None def setUp(self): super(TestIkePolicy, self).setUp() self.IKEPOLICY_NAME = self.getUniqueString('ikepolicy') self.UPDATE_NAME = self.getUniqueString('ikepolicy-updated') policy = self.conn.network.create_vpn_ikepolicy( name=self.IKEPOLICY_NAME) assert isinstance(policy, ikepolicy.IkePolicy) self.assertEqual(self.IKEPOLICY_NAME, policy.name) self.ID = policy.id def tearDown(self): ikepolicy = self.conn.network.\ delete_vpn_ikepolicy(self.ID, ignore_missing=True) self.assertIsNone(ikepolicy) super(TestIkePolicy, self).tearDown() def test_list(self): policies = [f.name for f in self.conn.network.vpn_ikepolicies()] self.assertIn(self.IKEPOLICY_NAME, policies) def test_find(self): policy = self.conn.network.find_vpn_ikepolicy(self.IKEPOLICY_NAME) self.assertEqual(self.ID, policy.id) def test_get(self): policy = self.conn.network.get_vpn_ikepolicy(self.ID) self.assertEqual(self.IKEPOLICY_NAME, policy.name) self.assertEqual(self.ID, policy.id) def test_update(self): policy = self.conn.network.update_vpn_ikepolicy( self.ID, name=self.UPDATE_NAME) self.assertEqual(self.UPDATE_NAME, policy.name) ",,53,0
openstack%2Ftripleo-heat-templates~master~I20beaf5e820aaca4436d4769bea1784a2472cd8d,openstack/tripleo-heat-templates,master,I20beaf5e820aaca4436d4769bea1784a2472cd8d,nova-metadata: Use consistent www_authenticate_uri,ABANDONED,2021-12-20 10:12:00.000000000,2022-01-03 10:54:42.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-12-20 10:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8b6b95dd06065801d5bc5650a40fda4aaa87798', 'message': 'Nova: Use internal endpoint for Keystone request\n\n... instead of admin endpoint which is deployed in provisioning network\nby default.\n\nChange-Id: I20beaf5e820aaca4436d4769bea1784a2472cd8d\n'}, {'number': 2, 'created': '2021-12-20 10:34:51.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e06a3613e192c90ca7966a63e33178e33cfe767', 'message': 'nova-metadata: Use consistent www_authenticate_uri\n\nIn TripleO, internal endpoint is widely used for www_authenticate_uri\nwhile admin endpoint is used only for nova-metadata-api. This change\nreplaces the only one usage of admin endpoint to make all usage\nconsistent.\n\nChange-Id: I20beaf5e820aaca4436d4769bea1784a2472cd8d\n'}]",1,822301,1e06a3613e192c90ca7966a63e33178e33cfe767,7,6,2,9816,,,0,"nova-metadata: Use consistent www_authenticate_uri

In TripleO, internal endpoint is widely used for www_authenticate_uri
while admin endpoint is used only for nova-metadata-api. This change
replaces the only one usage of admin endpoint to make all usage
consistent.

Change-Id: I20beaf5e820aaca4436d4769bea1784a2472cd8d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/822301/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-metadata-container-puppet.yaml'],1,d8b6b95dd06065801d5bc5650a40fda4aaa87798,," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}"," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}",1,1
openstack%2Fcharm-nova-cloud-controller~master~Ie6cbd61ca848c4ffee0140921df3054b7c5ea3c7,openstack/charm-nova-cloud-controller,master,Ie6cbd61ca848c4ffee0140921df3054b7c5ea3c7,Update compute services after OpenStack upgrade,ABANDONED,2021-12-17 15:13:00.000000000,2022-01-03 10:52:08.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-12-17 15:13:00.000000000', 'files': ['tests/README.md', 'actions/openstack_upgrade.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/2e14504ec2e34d28cb739655d5f022d313f5c5d0', 'message': 'Update compute services after OpenStack upgrade\n\nAlso fixed dead link.\n\nChange-Id: Ie6cbd61ca848c4ffee0140921df3054b7c5ea3c7\nCloses-Bug: #1951863\n'}]",1,822105,2e14504ec2e34d28cb739655d5f022d313f5c5d0,5,3,1,31289,,,0,"Update compute services after OpenStack upgrade

Also fixed dead link.

Change-Id: Ie6cbd61ca848c4ffee0140921df3054b7c5ea3c7
Closes-Bug: #1951863
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/05/822105/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/README.md', 'actions/openstack_upgrade.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/nova_cc_hooks.py']",5,2e14504ec2e34d28cb739655d5f022d313f5c5d0,bug/1951863," compute_services_restart_required = False # NOTE(lourot): after an OpenStack upgrade, the compute services # may need to be restarted, see lp:1951863 compute_services_restart_required = True update_nova_relation(remote_restart=compute_services_restart_required)", update_nova_relation(),24,10
openstack%2Fpython-neutronclient~master~Iedb1c345df99ae9be5cce22ab930c6de7a5e7832,openstack/python-neutronclient,master,Iedb1c345df99ae9be5cce22ab930c6de7a5e7832,Update python testing classifier,MERGED,2021-12-21 09:34:45.000000000,2022-01-03 10:29:57.000000000,2022-01-03 10:28:19.000000000,"[{'_account_id': 5948}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 09:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2a75f0c935c9792eaffa1b28a540aa75705a4300', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Iedb1c345df99ae9be5cce22ab930c6de7a5e7832\n'}, {'number': 2, 'created': '2021-12-24 01:37:22.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/517bef2c5454dde2eba5cc2194ee857be6be7164', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Iedb1c345df99ae9be5cce22ab930c6de7a5e7832\n'}]",2,822446,517bef2c5454dde2eba5cc2194ee857be6be7164,15,4,2,31827,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Iedb1c345df99ae9be5cce22ab930c6de7a5e7832
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/46/822446/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2a75f0c935c9792eaffa1b28a540aa75705a4300,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fneutron~master~Iae53ccf077796eb0d2518b41d0e262d564e7af10,openstack/neutron,master,Iae53ccf077796eb0d2518b41d0e262d564e7af10,Use TOX_CONSTRAINTS_FILE,MERGED,2021-12-24 02:45:17.000000000,2022-01-03 10:22:10.000000000,2022-01-03 10:18:20.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-24 02:45:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/374aac1cbd211a7d6f6c803a47a12a7312b07876', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Iae53ccf077796eb0d2518b41d0e262d564e7af10\n'}]",3,822869,374aac1cbd211a7d6f6c803a47a12a7312b07876,15,9,1,34340,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Iae53ccf077796eb0d2518b41d0e262d564e7af10
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/822869/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,374aac1cbd211a7d6f6c803a47a12a7312b07876,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fneutron~master~I0b40b0bea4bbcbc78490dbfa3877cdd3a26ac298,openstack/neutron,master,I0b40b0bea4bbcbc78490dbfa3877cdd3a26ac298,Sync rootwrap.conf from oslo.rootwrap,MERGED,2022-01-02 12:22:45.000000000,2022-01-03 10:20:12.000000000,2022-01-03 10:18:15.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-01-02 12:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e21ddcbc8580b9d8f46159f599c5d24148c08d8', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: I0b40b0bea4bbcbc78490dbfa3877cdd3a26ac298\n""}, {'number': 2, 'created': '2022-01-03 00:17:13.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'etc/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eee92f5eaf96c945bedb77e55b09167b41ee2e9e', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: I0b40b0bea4bbcbc78490dbfa3877cdd3a26ac298\n""}]",0,823228,eee92f5eaf96c945bedb77e55b09167b41ee2e9e,14,5,2,9816,,,0,"Sync rootwrap.conf from oslo.rootwrap

The current rootwrap.conf file is outdated and doesn't include some
parameters. This change updates the content to make it consistent with
the latest example file in oslo.rootwrap.

Change-Id: I0b40b0bea4bbcbc78490dbfa3877cdd3a26ac298
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/823228/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/rootwrap.conf'],1,7e21ddcbc8580b9d8f46159f599c5d24148c08d8,rootwrap, # Rootwrap daemon limits itself to that many file descriptors (Linux only) rlimit_nofile=1024,,3,0
openstack%2Freleases~master~Iefd2d81e7b6ac2956bbd4b53fdfadee089aefa35,openstack/releases,master,Iefd2d81e7b6ac2956bbd4b53fdfadee089aefa35,Release Kolla projects on maintained stable branches,MERGED,2021-12-22 15:52:30.000000000,2022-01-03 10:17:42.000000000,2022-01-03 10:17:42.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 15:52:30.000000000', 'files': ['deliverables/victoria/kayobe.yaml', 'deliverables/xena/kolla.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml', 'deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/xena/kayobe.yaml', 'deliverables/xena/kolla-ansible.yaml', 'deliverables/wallaby/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff5aa2827795bc801d58a1eb4499126b28870ee8', 'message': 'Release Kolla projects on maintained stable branches\n\nChange-Id: Iefd2d81e7b6ac2956bbd4b53fdfadee089aefa35\n'}]",1,822727,ff5aa2827795bc801d58a1eb4499126b28870ee8,9,3,1,14826,,,0,"Release Kolla projects on maintained stable branches

Change-Id: Iefd2d81e7b6ac2956bbd4b53fdfadee089aefa35
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/822727/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/kayobe.yaml', 'deliverables/xena/kolla.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml', 'deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/xena/kayobe.yaml', 'deliverables/xena/kolla-ansible.yaml', 'deliverables/wallaby/kolla-ansible.yaml']",9,ff5aa2827795bc801d58a1eb4499126b28870ee8,, - version: 12.3.0 projects: - repo: openstack/kolla-ansible hash: 619fd2cea0baa30f67f2b1bc5c4e519ad334a862,,40,0
openstack%2Freleases~master~I5db4ddba7a6ffbc6ddd95dcb62d3f9cea3198ba1,openstack/releases,master,I5db4ddba7a6ffbc6ddd95dcb62d3f9cea3198ba1,Release aodh client for xena,MERGED,2021-12-22 13:24:48.000000000,2022-01-03 10:07:20.000000000,2022-01-03 10:07:20.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 13:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b72e247d2ec9eccda98e79182642c929eac85d68', 'message': 'Release aodh client for xena\n\nFix aodhclient for pyparse 3.0.6\n\nChange-Id: I5db4ddba7a6ffbc6ddd95dcb62d3f9cea3198ba1\n'}, {'number': 2, 'created': '2021-12-22 13:25:37.000000000', 'files': ['deliverables/xena/python-aodhclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb38ad50fe9e4fd88b7e459a007fbfe7e1fabc42', 'message': 'Release aodh client for xena\n\nFix aodhclient for pyparse 3.0.6\n\nChange-Id: I5db4ddba7a6ffbc6ddd95dcb62d3f9cea3198ba1\n'}]",2,822700,cb38ad50fe9e4fd88b7e459a007fbfe7e1fabc42,12,5,2,19134,,,0,"Release aodh client for xena

Fix aodhclient for pyparse 3.0.6

Change-Id: I5db4ddba7a6ffbc6ddd95dcb62d3f9cea3198ba1
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/822700/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-aodhclient.yaml'],1,b72e247d2ec9eccda98e79182642c929eac85d68,release, - version: 2.3.1 projects: - repo: openstack/python-aodhclient hash: 90067b600a5ad485ce2d731d8657f6c614a3461d,,4,0
openstack%2Fcharm-trilio-wlm~master~Iefd65d2af579b51db27d89303e147c19712b24e8,openstack/charm-trilio-wlm,master,Iefd65d2af579b51db27d89303e147c19712b24e8,Fix white space in config files,MERGED,2021-12-22 19:56:34.000000000,2022-01-03 09:27:15.000000000,2022-01-03 09:27:15.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-12-22 19:56:34.000000000', 'files': ['src/templates/tvault-object-store.conf'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/84523ed0b7ce01aace295e5a45aaddd8b7a49f41', 'message': 'Fix white space in config files\n\nThe tvault-object-store.conf file has jinja templating which removes too\nmuch white space and leads to invalid ini style config files.\n\nCloses-Bug: 1949608\nChange-Id: Iefd65d2af579b51db27d89303e147c19712b24e8\n'}]",0,822763,84523ed0b7ce01aace295e5a45aaddd8b7a49f41,9,3,1,8992,,,0,"Fix white space in config files

The tvault-object-store.conf file has jinja templating which removes too
much white space and leads to invalid ini style config files.

Closes-Bug: 1949608
Change-Id: Iefd65d2af579b51db27d89303e147c19712b24e8
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/63/822763/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/tvault-object-store.conf'],1,84523ed0b7ce01aace295e5a45aaddd8b7a49f41,bug/1949608,{% endif %},{%- endif -%},1,1
openstack%2Fcharm-trilio-data-mover~master~Id6634fb3825b9d6b9e003f8c477e21d798dfe046,openstack/charm-trilio-data-mover,master,Id6634fb3825b9d6b9e003f8c477e21d798dfe046,Fix white space in config files,MERGED,2021-11-03 22:53:57.000000000,2022-01-03 09:22:09.000000000,2022-01-03 09:22:09.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-03 22:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/3778285ec351892807a47912adf9b0a0be3711b5', 'message': 'Fix white space in config files\n\nThe tvault-contego.conf and tvault-object-store.conf files have jinja\ntemplating to remove whitespace before and after the endif control\nsegments, which lead to invalid ini style config files. Correct the\nwhite space removal directives.\n\nCloses-Bug: 1949608\nChange-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046\n'}, {'number': 2, 'created': '2021-11-04 02:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/205329a54438f063d0650884a072968405a3d540', 'message': 'Fix white space in config files\n\nThe tvault-contego.conf and tvault-object-store.conf files have jinja\ntemplating to remove whitespace before and after the endif control\nsegments, which lead to invalid ini style config files. Correct the\nwhite space removal directives.\n\nCloses-Bug: 1949608\nChange-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046\n'}, {'number': 3, 'created': '2021-11-04 02:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/c454ce49d47d81d8c181e8424ad7961dfac041aa', 'message': 'Fix white space in config files\n\nThe tvault-contego.conf and tvault-object-store.conf files have jinja\ntemplating to remove whitespace before and after the endif control\nsegments, which lead to invalid ini style config files. Correct the\nwhite space removal directives.\n\nCloses-Bug: 1949608\nChange-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046\n'}, {'number': 4, 'created': '2021-11-18 22:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/088b110f37081bfb50b4e9aa48844d81c41a140d', 'message': 'Fix white space in config files\n\nThe tvault-contego.conf and tvault-object-store.conf files have jinja\ntemplating to remove whitespace before and after the endif control\nsegments, which lead to invalid ini style config files. Correct the\nwhite space removal directives.\n\nCloses-Bug: 1949608\nChange-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046\n'}, {'number': 5, 'created': '2021-11-18 22:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/705693bd2d8c114d440840f4d75a8eb2764fc7d4', 'message': 'Fix white space in config files\n\nThe tvault-contego.conf and tvault-object-store.conf files have jinja\ntemplating to remove whitespace before and after the endif control\nsegments, which lead to invalid ini style config files. Correct the\nwhite space removal directives.\n\nCloses-Bug: 1949608\nChange-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046\n'}, {'number': 6, 'created': '2021-12-14 20:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/6ed4b2643f2c41f43187db2bf51a34c5c64ba9f9', 'message': 'Fix white space in config files\n\nThe tvault-contego.conf and tvault-object-store.conf files have jinja\ntemplating to remove whitespace before and after the endif control\nsegments, which lead to invalid ini style config files. Correct the\nwhite space removal directives.\n\nCloses-Bug: 1949608\nChange-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046\n'}, {'number': 7, 'created': '2021-12-22 19:55:18.000000000', 'files': ['src/templates/tvault-contego.conf', 'src/templates/tvault-object-store.conf'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/c9d4c4d368f3a3f9d3b52ab6982785ddaa4dacbe', 'message': 'Fix white space in config files\n\nThe tvault-contego.conf and tvault-object-store.conf files have jinja\ntemplating to remove whitespace before and after the endif control\nsegments, which lead to invalid ini style config files. Correct the\nwhite space removal directives.\n\nCloses-Bug: 1949608\nChange-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046\n'}]",3,816588,c9d4c4d368f3a3f9d3b52ab6982785ddaa4dacbe,27,4,7,8992,,,0,"Fix white space in config files

The tvault-contego.conf and tvault-object-store.conf files have jinja
templating to remove whitespace before and after the endif control
segments, which lead to invalid ini style config files. Correct the
white space removal directives.

Closes-Bug: 1949608
Change-Id: Id6634fb3825b9d6b9e003f8c477e21d798dfe046
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/88/816588/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/tvault-contego.conf', 'src/templates/tvault-object-store.conf']",2,3778285ec351892807a47912adf9b0a0be3711b5,bug/1949608,{%+ endif %},{%- endif -%},2,2
openstack%2Fcharms.ceph~master~I1d409043eec980982fc6fc472524c562f908d402,openstack/charms.ceph,master,I1d409043eec980982fc6fc472524c562f908d402,Spelling fixes from codespell with additional consistency cleanups.,MERGED,2021-12-20 13:13:52.000000000,2022-01-03 09:15:52.000000000,2022-01-03 09:15:52.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-12-20 13:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/35e5212a2fe62325321a89ab533e6ea29585fd48', 'message': 'Spelling fixes from codespell with additional consistency cleanups.\n\nChange-Id: I1d409043eec980982fc6fc472524c562f908d402\n'}, {'number': 2, 'created': '2021-12-20 13:54:37.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_mon_upgrade_roll.py', 'unit_tests/test_osd_upgrade_roll.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/0dec5c0188f527e384c0cadf3e88cd03524074a2', 'message': 'Spelling fixes from codespell with additional consistency cleanups.\n\nChange-Id: I1d409043eec980982fc6fc472524c562f908d402\n'}]",0,822316,0dec5c0188f527e384c0cadf3e88cd03524074a2,8,2,2,30028,,,0,"Spelling fixes from codespell with additional consistency cleanups.

Change-Id: I1d409043eec980982fc6fc472524c562f908d402
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/16/822316/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,35e5212a2fe62325321a89ab533e6ea29585fd48,spelling-fixes,"# Copyright 2017-2021 Canonical Ltd """"""This will persist the hard drive settings to the /etc/hdparm.conf file :raises: CalledProcessError if our Ceph command fails. # Make sure children are present in the JSON """"""Returns the current OSD map in JSON. Also raises CalledProcessError if our Ceph command fails Parses a string in the form of 'ceph-{osd#}' and returns the OSD number :return int: the OSD number the directory name corresponds to :raises ValueError: if the OSD number cannot be parsed from the provided :returns: list. A list of OSD identifiers '89C57F98-2FE5-4DC0-89C1-5EC00CEFF2BE', # Ceph encrypted disk in creation '45B0969E-9B03-4F30-B4C6-5EC00CEFF106', # Ceph encrypted journal '4FBD7E29-9D25-41B8-AFD0-5EC00CEFF05D', # Ceph encrypted OSD data '4FBD7E29-9D25-41B8-AFD0-062C0CEFF05D', # Ceph OSD data '45B0969E-9B03-4F30-B4C6-B4B80CEFF106', # Ceph OSD journal '89C57F98-2FE5-4DC0-89C1-F3AD0CEFF2BE', # Ceph disk in creation # Scan for Ceph block devices """"""Upgrade key to have capabilities caps"""""" """"""Bootstrap local Ceph mon into the Ceph cluster :raises: Exception if Ceph mon cannot be bootstrapped :param path: full path to Ceph mon directory :param done: full path to 'done' marker for Ceph mon :param init_marker: full path to 'init' marker for Ceph mon # NOTE(jamespage): Later Ceph releases require explicit # Ceph releases too. This improves bootstrap """"""Merge config and Juju storage based devices :name: The name of the device type, e.g.: wal, osd, journal :param: bluestore: Use bluestore native Ceph block device format :param variable: Ceph configuration variable # lv_type -> Ceph configuration option # conversion of Ceph config units to MB Initialize a raw block device consuming 100% of the available """"""Ask ceph-disk to prepare a directory to become an OSD. :param service: The service name to run the Ceph command under :returns: list. Returns a list of the Ceph filesystems # This command wasn't introduced until 0.86 Ceph # A sorted list of OSD unit names """"""Upgrade the current Ceph monitor to the new version log(""Current Ceph version is {}"".format(current_version)) log(""Adding the Ceph source failed with message: {}"".format( """"""Create a lock on the Ceph monitor cluster and upgrade. simply waits for the compatibility timer. """"""Return the upgrade position for the given OSD. :param osd_sorted_list: OSDs sorted :param match_name: The OSD name to match raise ValueError(""OSD name '{}' not found in get_upgrade_position list""# 2. This assumes that the OSD failure domain is not set to OSD. and test to see if the previous OSD is upgraded yet. # A sorted list of OSD unit names """"""Upgrades the current OSD status_set(""maintenance"", ""Upgrading OSD"") log(""Current Ceph version is {}"".format(current_version)) log(""Adding the Ceph sources failed with message: {}"".format( # directories in the OSD service directory, then simply restart # and done before mon/OSD. log('Could not parse OSD directory %s: %s' % (osd_dir, ex), log(""Stopping Ceph and upgrading packages failed "" :param osd_num: the OSD number to stop :param osd_num: the OSD number to start. Ensures that the specified OSD will not be automatically started at the this method cannot make any guarantees that the specified OSD cannot be :param osd_num: the OSD id which should be disabled. :raises IOError: if the attempt to write the ready file in an upstart # upstart script which will only start the OSD if it has a 'ready' :param osd_num: the OSD id to get state for :param osd_num: the OSD id to maintain state for :param client: (Optional) client id for Ceph key to use :type client: str :param client: (Optional) client id for Ceph key to use :type client: str :param client: (Optional) client id for Ceph key to use :type client: str :param client: (Optional) client id for Ceph key to use :type client: str :param client: (Optional) client id for Ceph key to use :type client: str :param service: the name of the service folder to check (e.g. OSD, mon)# A dict of valid Ceph upgrade paths. Mapping is old -> new# Map UCA codenames to Ceph codenames """"""Pretty print supported upgrade paths for Ceph"""""" """"""Resolves a version of Ceph based on source configuration :returns: Ceph release codename or None if not resolvable """"""Returns the result of 'ceph pg stat'. # Make sure children are present in the JSON :param osd_num: the OSD id which should be changed :returns: list of Ceph packages """"""Error occurred applying OSD settings."""""" """"""Applies the provided OSD settings log(""Error retrieving OSD setting: {}"".format(out['error']), log(""Error applying OSD setting: {}"".format(out['error']), """"""Set a Ceph config option """"""Retrieve the value of a Ceph config option","# Copyright 2017 Canonical Ltd """""" This will persist the hard drive settings to the /etc/hdparm.conf file :raises: CalledProcessError if our ceph command fails. # Make sure children are present in the json """"""Returns the current osd map in JSON. Also raises CalledProcessError if our ceph command fails Parses a string in the form of 'ceph-{osd#}' and returns the osd number :return int: the osd number the directory name corresponds to :raises ValueError: if the osd number cannot be parsed from the provided :returns: list. A list of osd identifiers '89C57F98-2FE5-4DC0-89C1-5EC00CEFF2BE', # ceph encrypted disk in creation '45B0969E-9B03-4F30-B4C6-5EC00CEFF106', # ceph encrypted journal '4FBD7E29-9D25-41B8-AFD0-5EC00CEFF05D', # ceph encrypted osd data '4FBD7E29-9D25-41B8-AFD0-062C0CEFF05D', # ceph osd data '45B0969E-9B03-4F30-B4C6-B4B80CEFF106', # ceph osd journal '89C57F98-2FE5-4DC0-89C1-F3AD0CEFF2BE', # ceph disk in creation # Scan for ceph block devices """""" Upgrade key to have capabilities caps """""" """"""Bootstrap local ceph mon into the ceph cluster :raises: Exception if ceph mon cannot be bootstrapped :param path: full path to ceph mon directory :param done: full path to 'done' marker for ceph mon :param init_marker: full path to 'init' marker for ceph mon # NOTE(jamespage): Later ceph releases require explicit # ceph releases too. This improves bootstrap """""" Merge config and juju storage based devices :name: THe name of the device type, eg: wal, osd, journal :param: bluestore: Use bluestore native ceph block device format :param variable: ceph configuration variable # lv_type -> ceph configuration option # conversion of ceph config units to MB Initialize a raw block device consuming 100% of the avaliable """"""Ask ceph-disk to prepare a directory to become an osd. :param service: The service name to run the ceph command under :returns: list. Returns a list of the ceph filesystems # This command wasn't introduced until 0.86 ceph # A sorted list of osd unit names """"""Upgrade the current ceph monitor to the new version log(""Current ceph version is {}"".format(current_version)) log(""Adding the ceph source failed with message: {}"".format( """"""Create a lock on the ceph monitor cluster and upgrade. simply waits for the compatability timer. """"""Return the upgrade position for the given osd. :param osd_sorted_list: Osds sorted :param match_name: The osd name to match raise ValueError(""osd name '{}' not found in get_upgrade_position list""# 2. This assumes that the osd failure domain is not set to osd. and test to see if the previous osd is upgraded yet. # A sorted list of osd unit names """"""Upgrades the current osd status_set(""maintenance"", ""Upgrading osd"") log(""Current ceph version is {}"".format(current_version)) log(""Adding the ceph sources failed with message: {}"".format( # directories in the osd service directory, then simply restart # and done before mon/osd. log('Could not parse osd directory %s: %s' % (osd_dir, ex), log(""Stopping ceph and upgrading packages failed "" :param osd_num: the osd number to stop :param osd_num: the osd number to start. Ensures that the specified osd will not be automatically started at the this method cannot make any guarantees that the specified osd cannot be :param osd_num: the osd id which should be disabled. :raises IOError: if the attempt to write the ready file in an usptart # upstart script which will only start the osd if it has a 'ready' :param osd_num: the osd id to get state for :param osd_num: the osd id to maintain state for :param client: (Optional) client id for ceph key to use :type cilent: str :param client: (Optional) client id for ceph key to use :type cilent: str :param client: (Optional) client id for ceph key to use :type cilent: str :param client: (Optional) client id for ceph key to use :type cilent: str :param client: (Optional) client id for ceph key to use :type cilent: str :param service: the name of the service folder to check (e.g. osd, mon)# A dict of valid ceph upgrade paths. Mapping is old -> new# Map UCA codenames to ceph codenames """"""Pretty print supported upgrade paths for ceph"""""" """"""Resolves a version of ceph based on source configuration :returns: ceph release codename or None if not resolvable """"""Returns the result of ceph pg stat. # Make sure children are present in the json :param osd_num: the osd id which should be changed :returns: list of ceph packages """"""Error occured applying OSD settings."""""" """"""Applies the provided osd settings log(""Error retrieving osd setting: {}"".format(out['error']), log(""Error applying osd setting: {}"".format(out['error']), """"""Set a ceph config option """"""Retrieve the value of a ceph config option",92,92
openstack%2Fpuppet-ironic~master~I95a20233f16d652131f398b50ba0da3146e8129e,openstack/puppet-ironic,master,I95a20233f16d652131f398b50ba0da3146e8129e,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 14:13:35.000000000,2022-01-03 08:30:17.000000000,2022-01-03 08:27:14.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 14:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0f47d2b207fb91382ebfc136bc5e0ad66d785c8a', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I95a20233f16d652131f398b50ba0da3146e8129e\n'}, {'number': 2, 'created': '2021-11-25 14:18:07.000000000', 'files': ['spec/classes/ironic_keystone_auth_spec.rb', 'spec/classes/ironic_api_authtoken_spec.rb', 'spec/classes/ironic_inspector_authtoken_spec.rb', 'manifests/inspector/authtoken.pp', 'manifests/keystone/auth_inspector.pp', 'spec/classes/ironic_keystone_auth_inspector_spec.rb', 'manifests/api/authtoken.pp', 'releasenotes/notes/system_scope-keystone-0ba98f21e99fd283.yaml', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2757d7d333b010576b7366553bbb3765ed514052', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I95a20233f16d652131f398b50ba0da3146e8129e\n'}]",1,819320,2757d7d333b010576b7366553bbb3765ed514052,11,3,2,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I95a20233f16d652131f398b50ba0da3146e8129e
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/20/819320/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_keystone_auth_spec.rb', 'spec/classes/ironic_api_authtoken_spec.rb', 'spec/classes/ironic_inspector_authtoken_spec.rb', 'manifests/inspector/authtoken.pp', 'manifests/keystone/auth_inspector.pp', 'spec/classes/ironic_keystone_auth_inspector_spec.rb', 'manifests/api/authtoken.pp', 'releasenotes/notes/system_scope-keystone-0ba98f21e99fd283.yaml', 'manifests/keystone/auth.pp']",9,0f47d2b207fb91382ebfc136bc5e0ad66d785c8a,system-scope-params,"# (Optional) List of roles assigned to ironic user# [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to ironic user. # Defaults to [] # $system_scope = 'all', $system_roles = [], Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['ironic::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['ironic::service::end'] system_scope => $system_scope, system_roles => $system_roles,","# (Optional) List of roles assigned to the ironic service user if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] -> Anchor['ironic::service::end'] }",90,8
openstack%2Fneutron~stable%2Ftrain~I0003bd566dc769436ad1342351ad058394bd52da,openstack/neutron,stable/train,I0003bd566dc769436ad1342351ad058394bd52da,[Stable only] Fix callback function arguments,MERGED,2021-12-22 07:51:35.000000000,2022-01-03 07:43:38.000000000,2022-01-03 07:41:58.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-12-22 07:51:35.000000000', 'files': ['neutron/services/logapi/logging_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/65310eb566f82258847c08d8f48725a47152b053', 'message': '[Stable only] Fix callback function arguments\n\nFixes [1] and [2] for bug [3] are using new callabacks mechanism and\nexpects payload as one of the arguments passed to the callback functions.\nThis works fine in Xena+ releases but not in Wallaby and olders where\nold callbacks mechanism is still used, at least for the security group\nAFTER_DELETE events.\nSo this patch fixes that by changing to the old callbacks mechanism in\nthe logging service plugin in stable/wallaby and older branches only.\n\nCloses-Bug: #1955546\n\n[1] https://review.opendev.org/c/openstack/neutron/+/804237\n[2] https://review.opendev.org/c/openstack/neutron/+/812459\n[3] https://bugs.launchpad.net/neutron/+bug/1939558\n\nChange-Id: I0003bd566dc769436ad1342351ad058394bd52da\n'}]",11,822612,65310eb566f82258847c08d8f48725a47152b053,51,5,1,11975,,,0,"[Stable only] Fix callback function arguments

Fixes [1] and [2] for bug [3] are using new callabacks mechanism and
expects payload as one of the arguments passed to the callback functions.
This works fine in Xena+ releases but not in Wallaby and olders where
old callbacks mechanism is still used, at least for the security group
AFTER_DELETE events.
So this patch fixes that by changing to the old callbacks mechanism in
the logging service plugin in stable/wallaby and older branches only.

Closes-Bug: #1955546

[1] https://review.opendev.org/c/openstack/neutron/+/804237
[2] https://review.opendev.org/c/openstack/neutron/+/812459
[3] https://bugs.launchpad.net/neutron/+bug/1939558

Change-Id: I0003bd566dc769436ad1342351ad058394bd52da
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/822612/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/logapi/logging_plugin.py'],1,65310eb566f82258847c08d8f48725a47152b053,bug/1955546-stable/victoria-stable/ussuri-stable/train," def _clean_logs_by_resource_id(self, resource, event, trigger, **kwargs): context = kwargs['context'] sg_id = kwargs['security_group_id'] self._clean_logs(context.elevated(), sg_id=sg_id)"," def _clean_logs_by_resource_id(self, resource, event, trigger, payload): self._clean_logs(payload.context.elevated(), sg_id=payload.resource_id)",4,2
openstack%2Ftripleo-quickstart-extras~master~I1e6fd86850f4bf72b642800a70d713de3931cdc7,openstack/tripleo-quickstart-extras,master,I1e6fd86850f4bf72b642800a70d713de3931cdc7,Setting NeutronL3HA: false,ABANDONED,2021-12-10 11:26:55.000000000,2022-01-03 07:35:47.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-10 11:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4804008319e1375e6ec62492fb69da7eec688632', 'message': 'Setting NeutronL3HA: true\n\nl3_ha=True is set here [1].\nIt is overridden here [2].\nChanging it to false in this patch for ansible version>=9\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1953738\nChange-Id: I1e6fd86850f4bf72b642800a70d713de3931cdc7\n'}, {'number': 2, 'created': '2021-12-10 12:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/910c415336c31a8cc70844a03bbfdf53bd8692ed', 'message': 'Setting NeutronL3HA: true\n\nl3_ha=True is set here [1].\nIt is overridden here [2].\nChanging it to false in this patch for ansible version>=9 following comment [3]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/ci/environments/scenario007-standalone.yaml#L33\n[2] https://opendev.org/openstack/puppet-tripleo/src/branch/master/manifests/profile/base/neutron/server.pp#L112\n[3] https://bugs.launchpad.net/tripleo/+bug/1953738/comments/2\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1953738\nChange-Id: I1e6fd86850f4bf72b642800a70d713de3931cdc7\n'}, {'number': 3, 'created': '2021-12-13 08:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d15e6806a90112f8389106f61702fe4d78bad9d', 'message': 'Setting NeutronL3HA: false\n\nl3_ha=True is set here [1].\nIt is overridden here [2].\nChanging it to false in this patch for ansible version>=9 following comment [3]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/ci/environments/scenario007-standalone.yaml#L33\n[2] https://opendev.org/openstack/puppet-tripleo/src/branch/master/manifests/profile/base/neutron/server.pp#L112\n[3] https://bugs.launchpad.net/tripleo/+bug/1953738/comments/2\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1953738\nChange-Id: I1e6fd86850f4bf72b642800a70d713de3931cdc7\n'}, {'number': 4, 'created': '2021-12-13 08:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c2a93092c99a381f0d0e6041bca9c11d1c45d84f', 'message': 'Setting NeutronL3HA: false\n\nl3_ha=True is set here [1].\nIt is overridden here [2].\nChanging it to false in this patch for ansible version>=9 following comment [3]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/ci/environments/scenario007-standalone.yaml#L33\n[2] https://opendev.org/openstack/puppet-tripleo/src/branch/master/manifests/profile/base/neutron/server.pp#L112\n[3] https://bugs.launchpad.net/tripleo/+bug/1953738/comments/2\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1953738\nChange-Id: I1e6fd86850f4bf72b642800a70d713de3931cdc7\n'}, {'number': 5, 'created': '2021-12-13 08:21:35.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d0e4534d8aff0e614f2ae255380b1c3a366a297', 'message': 'Setting NeutronL3HA: false\n\nl3_ha=True is set here [1].\nIt is overridden here [2].\nChanging it to false in this patch for ansible version>=9 following comment [3]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/ci/environments/scenario007-standalone.yaml#L33\n[2] https://opendev.org/openstack/puppet-tripleo/src/branch/master/manifests/profile/base/neutron/server.pp#L112\n[3] https://bugs.launchpad.net/tripleo/+bug/1953738/comments/2\n\nRelated-Bug: 1953738\nChange-Id: I1e6fd86850f4bf72b642800a70d713de3931cdc7\n'}]",21,821392,0d0e4534d8aff0e614f2ae255380b1c3a366a297,42,8,5,32458,,,0,"Setting NeutronL3HA: false

l3_ha=True is set here [1].
It is overridden here [2].
Changing it to false in this patch for ansible version>=9 following comment [3]

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/ci/environments/scenario007-standalone.yaml#L33
[2] https://opendev.org/openstack/puppet-tripleo/src/branch/master/manifests/profile/base/neutron/server.pp#L112
[3] https://bugs.launchpad.net/tripleo/+bug/1953738/comments/2

Related-Bug: 1953738
Change-Id: I1e6fd86850f4bf72b642800a70d713de3931cdc7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/92/821392/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,4804008319e1375e6ec62492fb69da7eec688632,ansible_dependency_pipeline, NeutronL3HA: false,,1,0
openstack%2Fcyborg~master~I00a38c91c6ad195b38b43da47bce2ac5bff319fe,openstack/cyborg,master,I00a38c91c6ad195b38b43da47bce2ac5bff319fe,Fix some typos,MERGED,2022-01-01 09:38:32.000000000,2022-01-03 06:36:47.000000000,2022-01-03 06:35:18.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-01-01 09:38:32.000000000', 'files': ['cyborg/objects/extarq/ext_arq_job.py', 'cyborg/accelerator/drivers/fpga/intel/driver.py', 'cyborg/api/controllers/v2/deployables.py', 'cyborg/image/api.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/725c512da6609c90818d309c28d56b355156232a', 'message': 'Fix some typos\n\nChange-Id: I00a38c91c6ad195b38b43da47bce2ac5bff319fe\n'}]",0,823221,725c512da6609c90818d309c28d56b355156232a,7,2,1,23950,,,0,"Fix some typos

Change-Id: I00a38c91c6ad195b38b43da47bce2ac5bff319fe
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/21/823221/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/objects/extarq/ext_arq_job.py', 'cyborg/accelerator/drivers/fpga/intel/driver.py', 'cyborg/api/controllers/v2/deployables.py', 'cyborg/image/api.py']",4,725c512da6609c90818d309c28d56b355156232a,fix-typos,Main abstraction layer for retrieving and storing information about accelerator modules in Cyborg to retrieve information about accelerator images.,Main abstraction layer for retrieving and storing information about acclerator modules in Cyborg to retrieve information about acclerator images.,5,5
openstack%2Fpuppet-neutron~master~I3bf7b285383ab4494cfa21440d9dd3fe26dd23df,openstack/puppet-neutron,master,I3bf7b285383ab4494cfa21440d9dd3fe26dd23df,Accept system scope credential for Ironic API request,MERGED,2021-12-16 16:21:26.000000000,2022-01-03 05:54:39.000000000,2022-01-03 05:53:03.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 16:21:26.000000000', 'files': ['spec/classes/neutron_server_notifications_ironic_spec.rb', 'manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'manifests/server/notifications/ironic.pp', 'releasenotes/notes/system_scope-ironic-6fabfa5afe2150cf.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7f226bf52c28934c4a392f62f3bf0de2d7d818ac', 'message': 'Accept system scope credential for Ironic API request\n\nCurrently Neutron uses the user credential in [ironic] section to use\nExternal Event API in Ironic but this API is available only for system\nadmin when SRBAC is enforced.\n\nAlso, networking-baremetal uses the user credentials in [ironic]\nsection to list all ports, which is available only for system reader\nwhen SRBAC is enforced.\n\nThis change allows usage of system-scoped credential instead of\nproject-scoped one for these two features.\n\nChange-Id: I3bf7b285383ab4494cfa21440d9dd3fe26dd23df\n'}]",2,822000,7f226bf52c28934c4a392f62f3bf0de2d7d818ac,16,3,1,9816,,,0,"Accept system scope credential for Ironic API request

Currently Neutron uses the user credential in [ironic] section to use
External Event API in Ironic but this API is available only for system
admin when SRBAC is enforced.

Also, networking-baremetal uses the user credentials in [ironic]
section to list all ports, which is available only for system reader
when SRBAC is enforced.

This change allows usage of system-scoped credential instead of
project-scoped one for these two features.

Change-Id: I3bf7b285383ab4494cfa21440d9dd3fe26dd23df
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/00/822000/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_notifications_ironic_spec.rb', 'manifests/agents/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'manifests/server/notifications/ironic.pp', 'releasenotes/notes/system_scope-ironic-6fabfa5afe2150cf.yaml']",5,7f226bf52c28934c4a392f62f3bf0de2d7d818ac,system-scope-params,--- features: - | The ``system_scope`` parameter has been added to the following two classes. - ``neutron::server::notifications::ironic`` - ``neutron::agents::ml2::networking_baremetal`` ,,97,28
openstack%2Fpuppet-neutron~master~I3f90e59f1daa06e41b1f29434feb0b8d85ac6753,openstack/puppet-neutron,master,I3f90e59f1daa06e41b1f29434feb0b8d85ac6753,Accept system scope credential for Nova API request,MERGED,2021-11-26 13:27:34.000000000,2022-01-03 05:45:29.000000000,2022-01-03 05:43:58.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 13:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4c0c2b8c863b402330c5fbd1043446c7182eb5fb', 'message': 'Accept system scope credential for Nova API request\n\nCurrently Neutron uses the user credential in [nova] section to use\nExternal Event API in Nova but this API is available only for system\nadmin when SRBAC is enforced.\n\nThis change allows usage of system-scoped credential instead of\nproject-scoped one.\n\nChange-Id: I3f90e59f1daa06e41b1f29434feb0b8d85ac6753\n'}, {'number': 2, 'created': '2021-11-26 14:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/321ace64e56bce4af1fd16159fb530df6c4e7071', 'message': 'Accept system scope credential for Nova API request\n\nCurrently Neutron uses the user credential in [nova] section to use\nExternal Event API in Nova but this API is available only for system\nadmin when SRBAC is enforced.\n\nThis change allows usage of system-scoped credential instead of\nproject-scoped one.\n\nChange-Id: I3f90e59f1daa06e41b1f29434feb0b8d85ac6753\n'}, {'number': 3, 'created': '2021-12-16 16:21:26.000000000', 'files': ['spec/classes/neutron_server_notifications_nova_spec.rb', 'releasenotes/notes/system_scope-nova-c5fd722cf46244bb.yaml', 'manifests/server/notifications/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0d92d0a9d6417af12802f589fdce4d2a1d947c50', 'message': 'Accept system scope credential for Nova API request\n\nCurrently Neutron uses the user credential in [nova] section to use\nExternal Event API in Nova but this API is available only for system\nadmin when SRBAC is enforced.\n\nThis change allows usage of system-scoped credential instead of\nproject-scoped one.\n\nChange-Id: I3f90e59f1daa06e41b1f29434feb0b8d85ac6753\n'}]",3,819449,0d92d0a9d6417af12802f589fdce4d2a1d947c50,22,3,3,9816,,,0,"Accept system scope credential for Nova API request

Currently Neutron uses the user credential in [nova] section to use
External Event API in Nova but this API is available only for system
admin when SRBAC is enforced.

This change allows usage of system-scoped credential instead of
project-scoped one.

Change-Id: I3f90e59f1daa06e41b1f29434feb0b8d85ac6753
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/49/819449/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_notifications_nova_spec.rb', 'releasenotes/notes/system_scope-nova-c5fd722cf46244bb.yaml', 'manifests/server/notifications/nova.pp']",3,4c0c2b8c863b402330c5fbd1043446c7182eb5fb,system-scope-params,"# [*system_scope*] # (Optional) Scope for system operations # Defaults to $::os_service_default # $system_scope = $::os_service_default, if is_service_default($system_scope) { $project_name_real = $project_name $project_domain_name_real = $project_domain_name } else { $project_name_real = $::os_service_default $project_domain_name_real = $::os_service_default } 'nova/project_domain_name': value => $project_domain_name_real; 'nova/project_name': value => $project_name_real; 'nova/system_scope': value => $system_scope;", 'nova/project_domain_name': value => $project_domain_name; 'nova/project_name': value => $project_name;,41,9
openstack%2Fpuppet-openstack-integration~master~I10de759f3be1c3915b8256ab780bfaa5874e28c4,openstack/puppet-openstack-integration,master,I10de759f3be1c3915b8256ab780bfaa5874e28c4,Remove sysctl module dependency,MERGED,2021-12-23 08:46:54.000000000,2022-01-03 04:30:56.000000000,2022-01-03 04:30:56.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-23 08:46:54.000000000', 'files': ['Puppetfile', 'external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/667fae861f2a73b367257fc1a25ca86fe04b1059', 'message': 'Remove sysctl module dependency\n\nThis is not needed when [1] is merged.\n\n[1] https://review.opendev.org/c/openstack/puppet-ceph/+/822784\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-ceph/+/822784\nChange-Id: I10de759f3be1c3915b8256ab780bfaa5874e28c4\n'}]",0,822785,667fae861f2a73b367257fc1a25ca86fe04b1059,10,4,1,16137,,,0,"Remove sysctl module dependency

This is not needed when [1] is merged.

[1] https://review.opendev.org/c/openstack/puppet-ceph/+/822784

Depends-On: https://review.opendev.org/c/openstack/puppet-ceph/+/822784
Change-Id: I10de759f3be1c3915b8256ab780bfaa5874e28c4
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/85/822785/1 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'external_modules.txt']",2,667fae861f2a73b367257fc1a25ca86fe04b1059,,,duritong/puppet-sysctl,0,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0e075153e99876ddf613caecc92b4442e8b6ca03,openstack/tripleo-heat-templates,stable/train,I0e075153e99876ddf613caecc92b4442e8b6ca03,Fix IPv6 router on UC re-install,MERGED,2021-12-23 09:12:40.000000000,2022-01-03 04:10:17.000000000,2022-01-03 04:10:17.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-23 09:12:40.000000000', 'files': ['extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31a431d35178427a00ce03c7661aa3550a0180e4', 'message': ""Fix IPv6 router on UC re-install\n\nRunning 'openstack undercloud install' a second\ntime failed with a ConflictException because a subnet\nwith a router port cannot have the gateway_ip updated.\n\nEnsure that the router port is always deleted prior to\nthe subnet update and then add the router port again\nafter updating the subnet\n\nCloses-Bug: #1955417\nChange-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03\n(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)\n""}]",3,822790,31a431d35178427a00ce03c7661aa3550a0180e4,16,3,1,24245,,,0,"Fix IPv6 router on UC re-install

Running 'openstack undercloud install' a second
time failed with a ConflictException because a subnet
with a router port cannot have the gateway_ip updated.

Ensure that the router port is always deleted prior to
the subnet update and then add the router port again
after updating the subnet

Closes-Bug: #1955417
Change-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03
(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/822790/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_ctlplane_network.py'],1,31a431d35178427a00ce03c7661aa3550a0180e4,bug/1955417-stable/train,"def _ensure_neutron_router(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) if router is None: sdk.network.create_router(name=subnet.name, admin_state_up='true') except Exception: print('ERROR: Create router for subnet %s failed.' % subnet.name) raise def _add_router_port(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) sdk.network.add_interface_to_router(router.id, subnet_id=subnet.id) except Exception: print('ERROR: Add router port for subnet %s failed.' % subnet.name) raise def _remove_router_port(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) if router is None: return router_port = next(sdk.network.ports( network_id=subnet.network_id, device_owner='network:router_interface')) sdk.network.remove_interface_from_router(router.id, subnet.id, router_port.id) except StopIteration: # There is no router port pass except Exception: print('ERROR: Delete router %s failed.' % subnet.name) # If the subnet is IPv6 we need to start a router so that router # advertisements are sent out for stateless IP addressing to work. # NOTE(hjensas): Don't do this for routed networks. The router will # use the address defined as gateway for the subnet, and in a # deployment with routed networks this will conflict with the router # in the infrastructure. The router in the infrastructure must be # configured to send router advertisements. enable_ipv6_router = (CONF['enable_routed_networks'] is False and netaddr.IPNetwork(s['NetworkCidr']).version == 6) # The router interface must be removed prior to updating the subnet # in case the gateway_ip of the subnet changed. if enable_ipv6_router: _remove_router_port(sdk, subnet) if enable_ipv6_router: _ensure_neutron_router(sdk, subnet) _add_router_port(sdk, subnet) ","def _ensure_neutron_router(sdk, name, subnet_id): # If the router already exist, don't try to create it again. if list(sdk.network.routers(name=name)): return try: router = sdk.network.create_router(name=name, admin_state_up='true') sdk.network.add_interface_to_router(router.id, subnet_id=subnet_id) except Exception: print('ERROR: Create router for subnet %s failed.' % name) # If the subnet is IPv6 we need to start a router so that router # advertisments are sent out for stateless IP addressing to work. # NOTE(hjensas): Don't do this for routed networks. The router will # use the address defined as gateway for the subnet, and in a # deployment with routed networks this will conflict with the router # in the infrastructure. The router in the infrastucture must be # configured to send router advertisements. if not CONF['enable_routed_networks']: if netaddr.IPNetwork(s['NetworkCidr']).version == 6: _ensure_neutron_router(sdk, name, subnet.id)",56,19
openstack%2Fpuppet-vswitch~master~I85ea444e39033545dec82704d39952295f16d171,openstack/puppet-vswitch,master,I85ea444e39033545dec82704d39952295f16d171,Make sure ovs options are cleared instead of unmanaged,ABANDONED,2021-08-22 09:27:30.000000000,2022-01-03 03:35:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-22 09:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/53f3fba41785e9557d018bcd57119e5dee31766d', 'message': 'Make sure ovs options are cleared instead of unmanaged\n\n... so that the change in some parameters like vlan_limit are reflected\nproperly.\n\nChange-Id: I85ea444e39033545dec82704d39952295f16d171\n'}, {'number': 2, 'created': '2021-08-22 09:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e16fc741607e7376a58b54ec008d97dc6911b322', 'message': 'Make sure ovs options are cleared instead of unmanaged\n\n... so that the change in some parameters like vlan_limit are reflected\nproperly.\n\nChange-Id: I85ea444e39033545dec82704d39952295f16d171\n'}, {'number': 3, 'created': '2021-08-22 11:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/21896589d3cee8b72d203582bb5b1fa590d52f6e', 'message': 'Make sure ovs options are cleared instead of unmanaged\n\n... so that the change in some parameters like vlan_limit are reflected\nproperly.\n\nChange-Id: I85ea444e39033545dec82704d39952295f16d171\n'}, {'number': 4, 'created': '2021-08-22 23:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/1c5c1526da15b9c72632072f19b71a7e0c4c8fd0', 'message': 'Make sure ovs options are cleared instead of unmanaged\n\n... so that the change in some parameters like vlan_limit are reflected\nproperly.\n\nChange-Id: I85ea444e39033545dec82704d39952295f16d171\n'}, {'number': 5, 'created': '2021-08-23 22:16:44.000000000', 'files': ['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/29b38bbd6b1fca4c441cc9116822644492a4ba12', 'message': 'Make sure ovs options are cleared instead of unmanaged\n\n... so that the change in some parameters like vlan_limit are reflected\nproperly.\n\nChange-Id: I85ea444e39033545dec82704d39952295f16d171\n'}]",0,805507,29b38bbd6b1fca4c441cc9116822644492a4ba12,12,1,5,9816,,,0,"Make sure ovs options are cleared instead of unmanaged

... so that the change in some parameters like vlan_limit are reflected
properly.

Change-Id: I85ea444e39033545dec82704d39952295f16d171
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/07/805507/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",4,53f3fba41785e9557d018bcd57119e5dee31766d,,"# Default to undef $vlan_limit = undef, if $enable_hw_offload { # lint:ignore:quoted_booleans # lint:endignore } else { vs_config { 'other_config:hw-offload': ensure => absent, notify => Service['openvswitch'], wait => true, } } } else { vs_config { 'other_config:emc-insert-inv-prob': ensure => absent, wait => false, } } if is_service_default($vlan_limit) { warning('Usage of $::os_service_default for vlan_limit is deprecated. Use undef instead.') vs_config { 'other_config:vlan-limit': ensure => absent, wait => true, } } elsif $vlan_limit == undef { vs_config { 'other_config:vlan-limit': ensure => absent, wait => true, } } else {","# Default to $::os_service_default $vlan_limit = $::os_service_default, # lint:ignore:quoted_booleans if $enable_hw_offload { } # lint:endignore } if ! is_service_default($vlan_limit) {",105,35
openstack%2Fpuppet-vswitch~master~I15e3095bbeab2ad86ef96283df915c0b98436ed1,openstack/puppet-vswitch,master,I15e3095bbeab2ad86ef96283df915c0b98436ed1,WIP: Use os_service_default,ABANDONED,2021-04-25 12:38:32.000000000,2022-01-03 03:35:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-25 12:38:32.000000000', 'files': ['lib/puppet/type/vs_config.rb', 'spec/classes/vswitch_dpdk_spec.rb', 'lib/puppet/provider/vs_config/ovs.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e114ec1d5b9d7e3860c6ee41c64ff6d9887ccb0f', 'message': 'WIP: Use os_service_default\n\nChange-Id: I15e3095bbeab2ad86ef96283df915c0b98436ed1\n'}]",0,787879,e114ec1d5b9d7e3860c6ee41c64ff6d9887ccb0f,3,1,1,9816,,,0,"WIP: Use os_service_default

Change-Id: I15e3095bbeab2ad86ef96283df915c0b98436ed1
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/79/787879/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/vs_config.rb', 'lib/puppet/provider/vs_config/ovs.rb', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",6,e114ec1d5b9d7e3860c6ee41c64ff6d9887ccb0f,service_default," $memory_channels = $::os_service_default, $host_core_list = $::os_service_default, $pmd_core_list = $::os_service_default, $socket_mem = $::os_service_default, $enable_hw_offload = $::os_service_default, $revalidator_cores = $::os_service_default, $handler_cores = $::os_service_default, if is_service_default($pmd_core_list) { $pmd_core_mask = $::os_service_default } else { $pmd_core_mask = range_to_mask($pmd_core_list) } if is_service_default($host_core_list) { $dpdk_lcore_mask = $::os_service_default } else { $dpdk_lcore_mask = range_to_mask($host_core_list) } if is_service_default($memory_channels) { $memory_channels_conf = $::os_service_default } else { if $memory_channels and !empty($memory_channels) { $memory_channels_conf = ""-n ${memory_channels}"" } else { $memory_channels_conf = undef } vs_config { 'other_config:hw-offload': value => ""${enable_hw_offload}"", notify => Service['openvswitch'], wait => true, } $emc_insert_inv_prob = '0' } else { $emc_insert_inv_prob = $::os_service_default } vs_config { 'other_config:emc-insert-inv-prob': value => $emc_insert_inv_prob, notify => Service['openvswitch'], wait => false, } vs_config { 'other_config:vlan-limit': value => ""${vlan_limit}"", wait => true,"," $memory_channels = undef, $host_core_list = undef, $pmd_core_list = undef, $socket_mem = undef, $enable_hw_offload = false, $revalidator_cores = undef, $handler_cores = undef, $pmd_core_mask = range_to_mask($pmd_core_list) $dpdk_lcore_mask = range_to_mask($host_core_list) if $memory_channels and !empty($memory_channels) { $memory_channels_conf = ""-n ${memory_channels}"" } else { $memory_channels_conf = undef # lint:ignore:quoted_booleans if $enable_hw_offload { vs_config { 'other_config:hw-offload': value => 'true', notify => Service['openvswitch'], wait => true, } } # lint:endignore vs_config { 'other_config:emc-insert-inv-prob': value => '0', notify => Service['openvswitch'], wait => false, } } if ! is_service_default($vlan_limit) { vs_config { 'other_config:vlan-limit': value => ""${vlan_limit}"", wait => true, }",130,61
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0e075153e99876ddf613caecc92b4442e8b6ca03,openstack/tripleo-heat-templates,stable/victoria,I0e075153e99876ddf613caecc92b4442e8b6ca03,Fix IPv6 router on UC re-install,MERGED,2021-12-23 09:12:09.000000000,2022-01-03 02:56:34.000000000,2022-01-03 02:56:34.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-23 09:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45588987b897e8eddf1b48816b7e2a36b2c9127f', 'message': ""Fix IPv6 router on UC re-install\n\nRunning 'openstack undercloud install' a second\ntime failed with a ConflictException because a subnet\nwith a router port cannot have the gateway_ip updated.\n\nEnsure that the router port is always deleted prior to\nthe subnet update and then add the router port again\nafter updating the subnet\n\nCloses-Bug: #1955417\nChange-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03\n(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)\n""}, {'number': 2, 'created': '2021-12-27 05:52:08.000000000', 'files': ['extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fc83dd713d88d16d81175a1ef13bfbdbbdc9498', 'message': ""Fix IPv6 router on UC re-install\n\nRunning 'openstack undercloud install' a second\ntime failed with a ConflictException because a subnet\nwith a router port cannot have the gateway_ip updated.\n\nEnsure that the router port is always deleted prior to\nthe subnet update and then add the router port again\nafter updating the subnet\n\nCloses-Bug: #1955417\nChange-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03\n(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)\n""}]",2,822688,6fc83dd713d88d16d81175a1ef13bfbdbbdc9498,17,3,2,24245,,,0,"Fix IPv6 router on UC re-install

Running 'openstack undercloud install' a second
time failed with a ConflictException because a subnet
with a router port cannot have the gateway_ip updated.

Ensure that the router port is always deleted prior to
the subnet update and then add the router port again
after updating the subnet

Closes-Bug: #1955417
Change-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03
(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/822688/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_ctlplane_network.py'],1,45588987b897e8eddf1b48816b7e2a36b2c9127f,bug/1955417-stable/victoria,"def _ensure_neutron_router(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) if router is None: sdk.network.create_router(name=subnet.name, admin_state_up='true') except Exception: print('ERROR: Create router for subnet %s failed.' % subnet.name) raise def _add_router_port(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) sdk.network.add_interface_to_router(router.id, subnet_id=subnet.id) except Exception: print('ERROR: Add router port for subnet %s failed.' % subnet.name) raise def _remove_router_port(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) if router is None: return router_port = next(sdk.network.ports( network_id=subnet.network_id, device_owner='network:router_interface')) sdk.network.remove_interface_from_router(router.id, subnet.id, router_port.id) except StopIteration: # There is no router port pass except Exception: print('ERROR: Delete router %s failed.' % subnet.name) # If the subnet is IPv6 we need to start a router so that router # advertisements are sent out for stateless IP addressing to work. # NOTE(hjensas): Don't do this for routed networks. The router will # use the address defined as gateway for the subnet, and in a # deployment with routed networks this will conflict with the router # in the infrastructure. The router in the infrastructure must be # configured to send router advertisements. enable_ipv6_router = (CONF['enable_routed_networks'] is False and netaddr.IPNetwork(s['NetworkCidr']).version == 6) # The router interface must be removed prior to updating the subnet # in case the gateway_ip of the subnet changed. if enable_ipv6_router: _remove_router_port(sdk, subnet) if enable_ipv6_router: _ensure_neutron_router(sdk, subnet) _add_router_port(sdk, subnet) ","def _ensure_neutron_router(sdk, name, subnet_id): # If the router already exist, don't try to create it again. if list(sdk.network.routers(name=name)): return try: router = sdk.network.create_router(name=name, admin_state_up='true') sdk.network.add_interface_to_router(router.id, subnet_id=subnet_id) except Exception: print('ERROR: Create router for subnet %s failed.' % name) # If the subnet is IPv6 we need to start a router so that router # advertisments are sent out for stateless IP addressing to work. # NOTE(hjensas): Don't do this for routed networks. The router will # use the address defined as gateway for the subnet, and in a # deployment with routed networks this will conflict with the router # in the infrastructure. The router in the infrastucture must be # configured to send router advertisements. if not CONF['enable_routed_networks']: if netaddr.IPNetwork(s['NetworkCidr']).version == 6: _ensure_neutron_router(sdk, name, subnet.id)",56,19
openstack%2Fironic~master~Iab289401abd089969a1fc94ccca5dd69ea8b6ca8,openstack/ironic,master,Iab289401abd089969a1fc94ccca5dd69ea8b6ca8,WIP: Bump oslo.rootwrap,ABANDONED,2022-01-02 12:33:42.000000000,2022-01-03 00:26:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-02 12:33:42.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c468b31c02d54b9bcb1304f7f75be748a1eef28', 'message': 'WIP: Bump oslo.rootwrap\n\nChange-Id: Iab289401abd089969a1fc94ccca5dd69ea8b6ca8\n'}]",0,823236,8c468b31c02d54b9bcb1304f7f75be748a1eef28,5,1,1,9816,,,0,"WIP: Bump oslo.rootwrap

Change-Id: Iab289401abd089969a1fc94ccca5dd69ea8b6ca8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/823236/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,8c468b31c02d54b9bcb1304f7f75be748a1eef28,rootwrap,oslo.rootwrap==5.15.0,oslo.rootwrap==5.8.0,2,2
openstack%2Fdesignate~master~I7b2f9ef125c8fa1c3538067759e1192dc0c032a1,openstack/designate,master,I7b2f9ef125c8fa1c3538067759e1192dc0c032a1,WIP: Bump oslo.rootwrap,ABANDONED,2022-01-02 12:32:54.000000000,2022-01-03 00:25:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-02 12:32:54.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/12bc3ae3f5caf5db589cbf091e897f02d0695617', 'message': 'WIP: Bump oslo.rootwrap\n\nChange-Id: I7b2f9ef125c8fa1c3538067759e1192dc0c032a1\n'}]",0,823235,12bc3ae3f5caf5db589cbf091e897f02d0695617,3,1,1,9816,,,0,"WIP: Bump oslo.rootwrap

Change-Id: I7b2f9ef125c8fa1c3538067759e1192dc0c032a1
",git fetch https://review.opendev.org/openstack/designate refs/changes/35/823235/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,12bc3ae3f5caf5db589cbf091e897f02d0695617,rootwrap,oslo.rootwrap==5.15.0,oslo.rootwrap==5.8.0,2,2
openstack%2Fnova~master~I3c5aff9a05558859d0a775247ff4d64cb23e02fd,openstack/nova,master,I3c5aff9a05558859d0a775247ff4d64cb23e02fd,WIP: Bump oslo.rootwrap,ABANDONED,2022-01-02 12:34:13.000000000,2022-01-03 00:18:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-02 12:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/180a75c6707eb81757d29580ac781ef41bb41c1c', 'message': 'WIP: Bump oslo.rootwrap\n\nChange-Id: I3c5aff9a05558859d0a775247ff4d64cb23e02fd\n'}, {'number': 2, 'created': '2022-01-03 00:18:03.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/a70b10f7888ca21589ea2a57d7151ac75224d095', 'message': 'WIP: Bump oslo.rootwrap\n\nChange-Id: I3c5aff9a05558859d0a775247ff4d64cb23e02fd\n'}]",0,823237,a70b10f7888ca21589ea2a57d7151ac75224d095,6,1,2,9816,,,0,"WIP: Bump oslo.rootwrap

Change-Id: I3c5aff9a05558859d0a775247ff4d64cb23e02fd
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/823237/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,180a75c6707eb81757d29580ac781ef41bb41c1c,rootwrap,oslo.rootwrap==5.15.0,oslo.rootwrap==5.8.0,2,2
openstack%2Fneutron~master~Ied11007ec97fd7d91bb8b2612324281ce8925857,openstack/neutron,master,Ied11007ec97fd7d91bb8b2612324281ce8925857,WIP: Bump oslo.rootwrap,ABANDONED,2022-01-02 12:31:58.000000000,2022-01-03 00:17:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-02 12:31:58.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8383d453ce2b805872625f746c657494142e579', 'message': 'WIP: Bump oslo.rootwrap\n\nChange-Id: Ied11007ec97fd7d91bb8b2612324281ce8925857\n'}]",0,823234,b8383d453ce2b805872625f746c657494142e579,4,1,1,9816,,,0,"WIP: Bump oslo.rootwrap

Change-Id: Ied11007ec97fd7d91bb8b2612324281ce8925857
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/823234/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,b8383d453ce2b805872625f746c657494142e579,rootwrap,oslo.rootwrap==5.15.0,oslo.rootwrap==5.8.0,2,2
openstack%2Fironic-inspector~master~I0284ba77afc45ff3862156c4d461e0756f590658,openstack/ironic-inspector,master,I0284ba77afc45ff3862156c4d461e0756f590658,WIP: Bump oslo.rootwrap,ABANDONED,2022-01-02 12:30:52.000000000,2022-01-03 00:16:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-02 12:30:52.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3ba3cfcf5f7d3881c2924113afb700d1eb22b35f', 'message': 'WIP: Bump oslo.rootwrap\n\nChange-Id: I0284ba77afc45ff3862156c4d461e0756f590658\n'}]",0,823233,3ba3cfcf5f7d3881c2924113afb700d1eb22b35f,3,1,1,9816,,,0,"WIP: Bump oslo.rootwrap

Change-Id: I0284ba77afc45ff3862156c4d461e0756f590658
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/33/823233/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,3ba3cfcf5f7d3881c2924113afb700d1eb22b35f,rootwrap,oslo.rootwrap==5.15.0tooz==2.5.1 ,oslo.rootwrap==5.8.0tooz==2.5.1,3,3
openstack%2Ftripleo-ansible~stable%2Fussuri~Ic7743e7cd640703d166aecd97f59cbaf11c65500,openstack/tripleo-ansible,stable/ussuri,Ic7743e7cd640703d166aecd97f59cbaf11c65500,Use service_net_map for ganesha_vip,MERGED,2021-12-22 18:53:19.000000000,2022-01-03 00:03:16.000000000,2022-01-03 00:03:16.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-12-22 18:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/facb09b5fd1f1a28ea4b90919acba6bf0cb374ae', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nDepends-On: I5804621a3081209bbae63193c1e09601826f4275\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n""}, {'number': 2, 'created': '2021-12-22 19:00:04.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcb25bd25606a92393845406b93376c47501dd43', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822681\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n""}]",1,822680,fcb25bd25606a92393845406b93376c47501dd43,14,4,2,9003,,,0,"Use service_net_map for ganesha_vip

Instead of if conditionals on hard-coded network names, use the
ServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a
fallback to 'external' and then to 'ctlplane' in the ServiceNetMap.

This will allow custom network names to be used,
either via overriding GaneshaNetwork in ServiceNetMap or using the
service_net_map_replace in network data.

Related-Bug: #1946239
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822681
Change-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500
(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)
(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/822680/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'],1,facb09b5fd1f1a28ea4b90919acba6bf0cb374ae,,"{% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[service_net_map['ganesha_network']])) %}","{% for network in enabled_networks %} {% if network == 'StorageNFS' %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['StorageNFS']['name_lower']])) %} {% endif %} {% if not vip_data.ganesha_vip is defined %} {% if 'External' in enabled_networks %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['External']['name_lower']])) %} {% endif %} {% endif %} {% endfor %}",1,10
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7,openstack/tripleo-heat-templates,stable/victoria,Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7,Remove ganesha_vip extra config workaround,MERGED,2021-10-27 22:21:33.000000000,2022-01-03 00:03:12.000000000,2022-01-03 00:03:12.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-27 22:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fb66a0db11a94631a6285cdb80b62192c6d75b4', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nRelated-Bug: #1911022\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n'}, {'number': 2, 'created': '2021-12-15 15:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8332562dd3c8d042612da89bbb89f1fd51456e88', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nRelated-Bug: #1911022\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n'}, {'number': 3, 'created': '2021-12-16 20:37:46.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e59be96fa5936ed4c5af343fa62eb38716ada3aa', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nRelated-Bug: #1911022\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822022\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/822045\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n'}]",5,815761,e59be96fa5936ed4c5af343fa62eb38716ada3aa,23,5,3,9003,,,0,"Remove ganesha_vip extra config workaround

for scenario004

We were using extra config to set ganesha_vip because it was unset
if the isolated StorageNFS network is not deployed, as it is with
Standalone deployment in CI.

Now it is set, and set to an address on the external net where guest
VMs can reach it.

Related-Bug: #1911022
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822022
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/822045
Change-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7
(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)
(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/815761/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,4fb66a0db11a94631a6285cdb80b62192c6d75b4,,, # Workaround for https://bugs.launchpad.net/tripleo/+bug/1911022 ExtraConfig: ganesha_vip: 192.168.24.3,0,3
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ic7743e7cd640703d166aecd97f59cbaf11c65500,openstack/tripleo-ansible,stable/victoria,Ic7743e7cd640703d166aecd97f59cbaf11c65500,Use service_net_map for ganesha_vip,MERGED,2021-12-16 20:35:06.000000000,2022-01-03 00:03:10.000000000,2022-01-03 00:03:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-12-16 20:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a292688b72967c5c25b39ce80bb4756fead65b10', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nDepends-On: I5804621a3081209bbae63193c1e09601826f4275\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n""}, {'number': 2, 'created': '2021-12-31 18:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16555c7645fb299bd2f199cf6f2ea0c6657fe698', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nDepends-On: I5804621a3081209bbae63193c1e09601826f4275\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n""}, {'number': 3, 'created': '2021-12-31 18:56:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fc91a9657cb734ebb1249b4713ed6957c955d31', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n""}]",7,822045,6fc91a9657cb734ebb1249b4713ed6957c955d31,22,5,3,9003,,,0,"Use service_net_map for ganesha_vip

Instead of if conditionals on hard-coded network names, use the
ServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a
fallback to 'external' and then to 'ctlplane' in the ServiceNetMap.

This will allow custom network names to be used,
either via overriding GaneshaNetwork in ServiceNetMap or using the
service_net_map_replace in network data.

Related-Bug: #1946239
Change-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500
(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)
(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/822045/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'],1,a292688b72967c5c25b39ce80bb4756fead65b10,,"{% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[service_net_map['ganesha_network']])) %}","{% for network in enabled_networks %} {% if network == 'StorageNFS' %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['StorageNFS']['name_lower']])) %} {% endif %} {% if not vip_data.ganesha_vip is defined %} {% if 'External' in enabled_networks %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['External']['name_lower']])) %} {% endif %} {% endif %} {% endfor %}",1,10
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I5804621a3081209bbae63193c1e09601826f4275,openstack/tripleo-heat-templates,stable/ussuri,I5804621a3081209bbae63193c1e09601826f4275,GaneshaNetwork - fallback -> external -> ctlplane,MERGED,2021-12-22 18:54:32.000000000,2022-01-02 23:01:15.000000000,2022-01-02 23:01:15.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-12-22 18:54:32.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d56cb44178e235ee49f0ec56ac9fe6cace59bd0a', 'message': 'GaneshaNetwork - fallback -> external -> ctlplane\n\nThe GaneshaNetwork attempted to fallback to the external\nnetwork in the case when storage_nfs network does not\nexists. It should also fallback to ctlplane in the case that\nthe external network does not exist.\n\nConflicts:\n  overcloud-resource-registry-puppet.j2.yaml\n\nRelated-Bug: #1946239\nChange-Id: I5804621a3081209bbae63193c1e09601826f4275\n(cherry picked from commit c0b778301fff8f069c662f382b1e93806e876bee)\n(cherry picked from commit b1c7478e06a1990c8def9183fb6e0fecc696f7f3)\n'}]",0,822681,d56cb44178e235ee49f0ec56ac9fe6cace59bd0a,7,4,1,9003,,,0,"GaneshaNetwork - fallback -> external -> ctlplane

The GaneshaNetwork attempted to fallback to the external
network in the case when storage_nfs network does not
exists. It should also fallback to ctlplane in the case that
the external network does not exist.

Conflicts:
  overcloud-resource-registry-puppet.j2.yaml

Related-Bug: #1946239
Change-Id: I5804621a3081209bbae63193c1e09601826f4275
(cherry picked from commit c0b778301fff8f069c662f382b1e93806e876bee)
(cherry picked from commit b1c7478e06a1990c8def9183fb6e0fecc696f7f3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/822681/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,d56cb44178e235ee49f0ec56ac9fe6cace59bd0a,bug/1946239-stable/victoria-stable/ussuri," GaneshaNetwork: {{ _service_nets.get('storage_nfs', _service_nets.get('external', 'ctlplane')) }}"," GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'external') }}",1,1
openstack%2Fneutron~stable%2Ftrain~I2f8d974d6644657aea95302d94ca0095d70a7e62,openstack/neutron,stable/train,I2f8d974d6644657aea95302d94ca0095d70a7e62,bw-limit: Pass int parameters to Open vSwitch,MERGED,2021-12-24 16:27:44.000000000,2022-01-02 23:01:05.000000000,2022-01-02 22:59:38.000000000,"[{'_account_id': 6062}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-24 16:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3df555129332cc13ff6cdd04cf88044f6a08b84', 'message': 'bw-limit: Pass int parameters to Open vSwitch\n\nMake sure we pass integer values to ovs when configuring bandwidth\nlimit. This was likely working properly with Python2, and we may have\nmissed this when migrating to Python3:\n\nhttps://www.python.org/dev/peps/pep-0238/\n\nChange-Id: I2f8d974d6644657aea95302d94ca0095d70a7e62\nCloses-Bug: #1936839\nCo-Authored-By: Tamás Trásy <tamas.trasy@ericsson.com>\n(cherry picked from commit 8261b67b6e6248c5cc1a4426544188e5bd9bfa03)\n(cherry picked from commit 38551777e027847e67e00b0bbcc920be98ab5d57)\n(cherry picked from commit 82e2a3d3620feda0804bdf1af42c977f3d981435)\n'}, {'number': 2, 'created': '2021-12-24 16:37:42.000000000', 'files': ['neutron/agent/common/ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d77a0596e28ee2bd3176279662331e44eb713cb', 'message': 'bw-limit: Pass int parameters to Open vSwitch\n\nMake sure we pass integer values to ovs when configuring bandwidth\nlimit. This was likely working properly with Python2, and we may have\nmissed this when migrating to Python3:\n\nhttps://www.python.org/dev/peps/pep-0238/\n\nChange-Id: I2f8d974d6644657aea95302d94ca0095d70a7e62\nCloses-Bug: #1936839\nCo-Authored-By: Tamás Trásy <tamas.trasy@ericsson.com>\n(cherry picked from commit 8261b67b6e6248c5cc1a4426544188e5bd9bfa03)\n(cherry picked from commit 38551777e027847e67e00b0bbcc920be98ab5d57)\n(cherry picked from commit 82e2a3d3620feda0804bdf1af42c977f3d981435)\n(cherry picked from commit 7687cf128030539f054b5719643f12dbf152e3b2)\n'}]",6,822934,3d77a0596e28ee2bd3176279662331e44eb713cb,26,6,2,4694,,,0,"bw-limit: Pass int parameters to Open vSwitch

Make sure we pass integer values to ovs when configuring bandwidth
limit. This was likely working properly with Python2, and we may have
missed this when migrating to Python3:

https://www.python.org/dev/peps/pep-0238/

Change-Id: I2f8d974d6644657aea95302d94ca0095d70a7e62
Closes-Bug: #1936839
Co-Authored-By: Tamás Trásy <tamas.trasy@ericsson.com>
(cherry picked from commit 8261b67b6e6248c5cc1a4426544188e5bd9bfa03)
(cherry picked from commit 38551777e027847e67e00b0bbcc920be98ab5d57)
(cherry picked from commit 82e2a3d3620feda0804bdf1af42c977f3d981435)
(cherry picked from commit 7687cf128030539f054b5719643f12dbf152e3b2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/822934/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovs_lib.py'],1,c3df555129332cc13ff6cdd04cf88044f6a08b84,bug/1936839-stable/ussuri-stable/train," 'max-rate': str(int(max_bw_in_bits)) 'max-rate': str(int(max_bw_in_bits)), 'burst': str(int(max_burst_in_bits)), 'cir': str(max_bw_in_bits // 8), 'cbs': str(max_burst_in_bits // 8)"," 'max-rate': str(max_bw_in_bits) 'max-rate': str(max_bw_in_bits), 'burst': str(max_burst_in_bits), 'cir': str(max_bw_in_bits / 8), 'cbs': str(max_burst_in_bits / 8)",5,5
openstack%2Fneutron~stable%2Fussuri~I2f8d974d6644657aea95302d94ca0095d70a7e62,openstack/neutron,stable/ussuri,I2f8d974d6644657aea95302d94ca0095d70a7e62,bw-limit: Pass int parameters to Open vSwitch,MERGED,2021-12-21 09:03:31.000000000,2022-01-02 22:33:19.000000000,2022-01-02 22:31:43.000000000,"[{'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 09:03:31.000000000', 'files': ['neutron/agent/common/ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7687cf128030539f054b5719643f12dbf152e3b2', 'message': 'bw-limit: Pass int parameters to Open vSwitch\n\nMake sure we pass integer values to ovs when configuring bandwidth\nlimit. This was likely working properly with Python2, and we may have\nmissed this when migrating to Python3:\n\nhttps://www.python.org/dev/peps/pep-0238/\n\nChange-Id: I2f8d974d6644657aea95302d94ca0095d70a7e62\nCloses-Bug: #1936839\nCo-Authored-By: Tamás Trásy <tamas.trasy@ericsson.com>\n(cherry picked from commit 8261b67b6e6248c5cc1a4426544188e5bd9bfa03)\n(cherry picked from commit 38551777e027847e67e00b0bbcc920be98ab5d57)\n(cherry picked from commit 82e2a3d3620feda0804bdf1af42c977f3d981435)\n'}]",2,822413,7687cf128030539f054b5719643f12dbf152e3b2,15,4,1,9816,,,0,"bw-limit: Pass int parameters to Open vSwitch

Make sure we pass integer values to ovs when configuring bandwidth
limit. This was likely working properly with Python2, and we may have
missed this when migrating to Python3:

https://www.python.org/dev/peps/pep-0238/

Change-Id: I2f8d974d6644657aea95302d94ca0095d70a7e62
Closes-Bug: #1936839
Co-Authored-By: Tamás Trásy <tamas.trasy@ericsson.com>
(cherry picked from commit 8261b67b6e6248c5cc1a4426544188e5bd9bfa03)
(cherry picked from commit 38551777e027847e67e00b0bbcc920be98ab5d57)
(cherry picked from commit 82e2a3d3620feda0804bdf1af42c977f3d981435)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/822413/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovs_lib.py'],1,7687cf128030539f054b5719643f12dbf152e3b2,bug/1936839-stable/ussuri," 'max-rate': str(int(max_bw_in_bits)) 'max-rate': str(int(max_bw_in_bits)), 'burst': str(int(max_burst_in_bits)), 'cir': str(max_bw_in_bits // 8), 'cbs': str(max_burst_in_bits // 8)"," 'max-rate': str(max_bw_in_bits) 'max-rate': str(max_bw_in_bits), 'burst': str(max_burst_in_bits), 'cir': str(max_bw_in_bits / 8), 'cbs': str(max_burst_in_bits / 8)",5,5
openstack%2Fpuppet-ironic~stable%2Fwallaby~I944af54f9788a722dee51aab40153a761fe02079,openstack/puppet-ironic,stable/wallaby,I944af54f9788a722dee51aab40153a761fe02079,pxe: Create tftp_root directory before starting dnsmasq,MERGED,2021-12-22 11:19:00.000000000,2022-01-02 21:49:24.000000000,2022-01-02 21:49:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 11:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e4c5464671d1609819b5acd24ac86769ea1305a9', 'message': 'pxe: Create tftp_root directory before starting dnsmasq\n\n... otherwise the service fails to start because of missing directory.\n\nTFTP directory /tftpboot inaccessible: No such file or directory\n\nChange-Id: I944af54f9788a722dee51aab40153a761fe02079\n(cherry picked from commit 46bff5456a39f346d3911a73b2434955eadf7b26)\n(cherry picked from commit e9a55081d17938c472a8d2a188c8605a6266305f)\n'}, {'number': 2, 'created': '2021-12-22 15:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/fce28073c251eaf9281935bab030fdb85548947c', 'message': 'pxe: Create tftp_root directory before starting dnsmasq\n\n... otherwise the service fails to start because of missing directory.\n\nTFTP directory /tftpboot inaccessible: No such file or directory\n\nChange-Id: I944af54f9788a722dee51aab40153a761fe02079\n(cherry picked from commit 46bff5456a39f346d3911a73b2434955eadf7b26)\n(cherry picked from commit e9a55081d17938c472a8d2a188c8605a6266305f)\n'}, {'number': 3, 'created': '2021-12-24 16:36:09.000000000', 'files': ['manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b50e1d4d3be17551276c0a2fb7a5fcb3d0dd0bb1', 'message': 'pxe: Create tftp_root directory before starting dnsmasq\n\n... otherwise the service fails to start because of missing directory.\n\nTFTP directory /tftpboot inaccessible: No such file or directory\n\nChange-Id: I944af54f9788a722dee51aab40153a761fe02079\n(cherry picked from commit 46bff5456a39f346d3911a73b2434955eadf7b26)\n(cherry picked from commit e9a55081d17938c472a8d2a188c8605a6266305f)\n'}]",0,822670,b50e1d4d3be17551276c0a2fb7a5fcb3d0dd0bb1,12,3,3,9816,,,0,"pxe: Create tftp_root directory before starting dnsmasq

... otherwise the service fails to start because of missing directory.

TFTP directory /tftpboot inaccessible: No such file or directory

Change-Id: I944af54f9788a722dee51aab40153a761fe02079
(cherry picked from commit 46bff5456a39f346d3911a73b2434955eadf7b26)
(cherry picked from commit e9a55081d17938c472a8d2a188c8605a6266305f)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/70/822670/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/pxe.pp'],1,e4c5464671d1609819b5acd24ac86769ea1305a9,, File[$tftp_root_real] -> Service['dnsmasq-tftp-server'],,1,0
openstack%2Fpuppet-ironic~stable%2Fwallaby~I5d388acfb96fa3e3a555a119ff72feabdd1cdf87,openstack/puppet-ironic,stable/wallaby,I5d388acfb96fa3e3a555a119ff72feabdd1cdf87,Support use of dnsmasq as tftp service,MERGED,2021-12-22 11:17:49.000000000,2022-01-02 21:48:56.000000000,2022-01-02 21:47:33.000000000,"[{'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 11:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3855acbb829216cf07dd87f53a553cd89d78d986', 'message': ""Support use of dnsmasq as tftp service\n\nSwitches to using the new ironic-dnsmasq-tftp-server service[1], which\nmanages the dnsmasq process in order to facilitate standalone usage and\ntesting of puppet-ironic outside with Centos-Stream 9 where package\nchanges are anticipated.\n\nOn Centos-Stream 9, users should effectively be forced over to using\ndnsmasq automatically.\n\nThe higher level controls for defaults can also be changed for\nthe purpose of backporting such that prior releases are not\nautomatically switch to using dnsmasq unless they have to be run with\ndnsmasq based upon known package availability.\n\nNote that just setting tftp_use_xinetd=false in an existing deployment\ndoesn't remove the xinetd service completely, because of limitation\ncaused by current implementation of puppet-xinetd, and users are\nresponsible to remove service, package and etc properly before\nswitching to the new service.\n\n[1] https://review.rdoproject.org/r/c/openstack/ironic-distgit/+/34691\n\nConflicts:\n\tmanifests/pxe.pp\n\nChange-Id: I5d388acfb96fa3e3a555a119ff72feabdd1cdf87\n(cherry picked from commit f2dd0d3cc50fb1fdfc0dd9df8bb16c0d6429e5be)\n(cherry picked from commit a51fce3bbe3c7716eb5616c601e2749bfa52872e)\n""}, {'number': 2, 'created': '2021-12-22 15:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/15d7d098c7f5811d8ec9ee14b9b089b1fe697b1f', 'message': ""Support use of dnsmasq as tftp service\n\nSwitches to using the new ironic-dnsmasq-tftp-server service[1], which\nmanages the dnsmasq process in order to facilitate standalone usage and\ntesting of puppet-ironic outside with Centos-Stream 9 where package\nchanges are anticipated.\n\nOn Centos-Stream 9, users should effectively be forced over to using\ndnsmasq automatically.\n\nThe higher level controls for defaults can also be changed for\nthe purpose of backporting such that prior releases are not\nautomatically switch to using dnsmasq unless they have to be run with\ndnsmasq based upon known package availability.\n\nNote that just setting tftp_use_xinetd=false in an existing deployment\ndoesn't remove the xinetd service completely, because of limitation\ncaused by current implementation of puppet-xinetd, and users are\nresponsible to remove service, package and etc properly before\nswitching to the new service.\n\n[1] https://review.rdoproject.org/r/c/openstack/ironic-distgit/+/34691\n\nConflicts:\n\tmanifests/pxe.pp\n\nChange-Id: I5d388acfb96fa3e3a555a119ff72feabdd1cdf87\n(cherry picked from commit f2dd0d3cc50fb1fdfc0dd9df8bb16c0d6429e5be)\n(cherry picked from commit a51fce3bbe3c7716eb5616c601e2749bfa52872e)\n""}, {'number': 3, 'created': '2021-12-24 10:19:20.000000000', 'files': ['releasenotes/notes/tftp_use_xinetd-710c4eb59d3b0501.yaml', 'templates/dnsmasq_tftp_server.erb', 'manifests/params.pp', 'manifests/pxe.pp', 'spec/classes/ironic_pxe_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/94c93477487a2ece655d87106015be89b19d7c23', 'message': ""Support use of dnsmasq as tftp service\n\nSwitches to using the new ironic-dnsmasq-tftp-server service[1], which\nmanages the dnsmasq process in order to facilitate standalone usage and\ntesting of puppet-ironic outside with Centos-Stream 9 where package\nchanges are anticipated.\n\nOn Centos-Stream 9, users should effectively be forced over to using\ndnsmasq automatically.\n\nThe higher level controls for defaults can also be changed for\nthe purpose of backporting such that prior releases are not\nautomatically switch to using dnsmasq unless they have to be run with\ndnsmasq based upon known package availability.\n\nNote that just setting tftp_use_xinetd=false in an existing deployment\ndoesn't remove the xinetd service completely, because of limitation\ncaused by current implementation of puppet-xinetd, and users are\nresponsible to remove service, package and etc properly before\nswitching to the new service.\n\n[1] https://review.rdoproject.org/r/c/openstack/ironic-distgit/+/34691\n\nConflicts:\n\tmanifests/pxe.pp\n\nChange-Id: I5d388acfb96fa3e3a555a119ff72feabdd1cdf87\n(cherry picked from commit f2dd0d3cc50fb1fdfc0dd9df8bb16c0d6429e5be)\n(cherry picked from commit a51fce3bbe3c7716eb5616c601e2749bfa52872e)\n""}]",0,822653,94c93477487a2ece655d87106015be89b19d7c23,14,4,3,9816,,,0,"Support use of dnsmasq as tftp service

Switches to using the new ironic-dnsmasq-tftp-server service[1], which
manages the dnsmasq process in order to facilitate standalone usage and
testing of puppet-ironic outside with Centos-Stream 9 where package
changes are anticipated.

On Centos-Stream 9, users should effectively be forced over to using
dnsmasq automatically.

The higher level controls for defaults can also be changed for
the purpose of backporting such that prior releases are not
automatically switch to using dnsmasq unless they have to be run with
dnsmasq based upon known package availability.

Note that just setting tftp_use_xinetd=false in an existing deployment
doesn't remove the xinetd service completely, because of limitation
caused by current implementation of puppet-xinetd, and users are
responsible to remove service, package and etc properly before
switching to the new service.

[1] https://review.rdoproject.org/r/c/openstack/ironic-distgit/+/34691

Conflicts:
	manifests/pxe.pp

Change-Id: I5d388acfb96fa3e3a555a119ff72feabdd1cdf87
(cherry picked from commit f2dd0d3cc50fb1fdfc0dd9df8bb16c0d6429e5be)
(cherry picked from commit a51fce3bbe3c7716eb5616c601e2749bfa52872e)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/53/822653/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/tftp_use_xinetd-710c4eb59d3b0501.yaml', 'templates/dnsmasq_tftp_server.erb', 'manifests/params.pp', 'manifests/pxe.pp', 'spec/classes/ironic_pxe_spec.rb']",5,3855acbb829216cf07dd87f53a553cd89d78d986,," it 'should setup tftp xinetd service' do is_expected.to contain_class('xinetd') is_expected.to contain_xinetd__service('tftp').with( 'port' => '69', 'protocol' => 'udp', 'server_args' => '--map-file /var/lib/tftpboot/map-file /var/lib/tftpboot', 'server' => '/usr/sbin/in.tftpd', 'socket_type' => 'dgram', 'cps' => '100 2', 'per_source' => '11', 'wait' => 'yes', 'subscribe' => 'Anchor[ironic::install::end]', ) end shared_examples_for 'ironic pxe in RedHat' do let :p do default_params.merge(params) end context 'when xinetd is disabled' do before :each do params.merge!( :tftp_use_xinetd => false, ) end it 'should configure dnsmasq-tftp-server' do is_expected.to contain_file('/etc/ironic/dnsmasq-tftp-server.conf').with( 'ensure' => 'present', 'mode' => '0644', 'owner' => 'root', 'group' => 'root', ) is_expected.to contain_package('dnsmasq-tftp-server').with( 'ensure' => 'present', 'name' => platform_params[:dnsmasq_tftp_package], 'tag' => ['openstack', 'ironic-ipxe', 'ironic-support-package'], ) is_expected.to contain_service('dnsmasq-tftp-server').with( 'ensure' => 'running', 'name' => platform_params[:dnsmasq_tftp_service], 'enable' => true, 'hasstatus' => true, ) end it 'should not enable xinetd' do is_expected.to_not contain_package('tftp-server') is_expected.to_not contain_class('xinetd') is_expected.to_not contain_xinetd__service('tftp') is_expected.to contain_file('/tftpboot/map-file').with_ensure('absent') end end end let(:platform_params) do case facts[:osfamily] when 'Debian' {} when 'RedHat' { :dnsmasq_tftp_package => 'openstack-ironic-dnsmasq-tftp-server', :dnsmasq_tftp_service => 'openstack-ironic-dnsmasq-tftp-server' } end end # TODO(tkajinam): This should be refactored before we add support for # CentOS9, because xinetd is not available in CentOS9 if facts[:osfamily] == 'RedHat' it_behaves_like 'ironic pxe in RedHat' end",,178,28
openstack%2Fpuppet-ironic~stable%2Fwallaby~I549d2217668d84f170b5c7a989c2acf2b9a0e16a,openstack/puppet-ironic,stable/wallaby,I549d2217668d84f170b5c7a989c2acf2b9a0e16a,Ensure tftp root directory is created,MERGED,2021-12-22 11:15:30.000000000,2022-01-02 21:47:31.000000000,2022-01-02 21:47:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 11:15:30.000000000', 'files': ['manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c94502c5fe6b8aff0e0f2f353140838338a89df7', 'message': 'Ensure tftp root directory is created\n\n... before creating any file under the directory.\n\nChange-Id: I549d2217668d84f170b5c7a989c2acf2b9a0e16a\n(cherry picked from commit 01124971611486a8cc255bd8cde6423a8c44f427)\n'}]",0,822629,c94502c5fe6b8aff0e0f2f353140838338a89df7,9,3,1,9816,,,0,"Ensure tftp root directory is created

... before creating any file under the directory.

Change-Id: I549d2217668d84f170b5c7a989c2acf2b9a0e16a
(cherry picked from commit 01124971611486a8cc255bd8cde6423a8c44f427)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/29/822629/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/pxe.pp'],1,c94502c5fe6b8aff0e0f2f353140838338a89df7,ensure-tftp-root-stable/wallaby," tag => 'ironic-tftp-file', ensure => 'directory', seltype => 'tftpdir_t', owner => 'ironic', group => 'ironic', require => Anchor['ironic::install::end'], tag => 'ironic-tftp-file', tag => 'ironic-tftp-file', tag => 'ironic-tftp-file', tag => 'ironic-tftp-file', } File[""${tftp_root_real}""] -> File<| tag == 'ironic-tftp-file' |> "," ensure => 'directory', seltype => 'tftpdir_t', owner => 'ironic', group => 'ironic', require => Anchor['ironic::install::end'], } ",12,5
openstack%2Fpuppet-neutron~master~I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e,openstack/puppet-neutron,master,I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e,Accept system scope credential for Placement API request,MERGED,2021-11-26 03:15:48.000000000,2022-01-02 17:48:09.000000000,2022-01-02 17:46:53.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 03:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/68bf1d095d2bbabae58ac0b3ee2fb2e8665d3804', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API request system admin role for\n(almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e\n'}, {'number': 2, 'created': '2021-11-26 03:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7a9c03e87ec7af482fed745b5caef0743b0f20cf', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API requires system admin/reader role\nfor (almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e\n'}, {'number': 3, 'created': '2021-11-26 13:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2a1ece0aa0141faae624810da0606e6242301731', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API requires system admin/reader role\nfor (almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e\n'}, {'number': 4, 'created': '2021-11-26 13:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/deec8e873f7baea1b476988a9aa49e3246e85481', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API requires system admin/reader role\nfor (almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e\n'}, {'number': 5, 'created': '2021-12-16 16:21:26.000000000', 'files': ['spec/classes/neutron_server_placement_spec.rb', 'releasenotes/notes/system_scope-placement-4508da4997e8ce10.yaml', 'manifests/server/placement.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8decdbaeff60ec13fb7978fd79626d25214fd73f', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API requires system admin/reader role\nfor (almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e\n'}]",3,819392,8decdbaeff60ec13fb7978fd79626d25214fd73f,23,3,5,9816,,,0,"Accept system scope credential for Placement API request

When SRBAC is enforced, Placement API requires system admin/reader role
for (almost) all operations. This change allows usage of system-scoped
credential for access to Placement API.

Change-Id: I51f2cf770dc53b88bc5842cc72e855be2c0cdc1e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/92/819392/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_placement_spec.rb', 'releasenotes/notes/system_scope-placement-4508da4997e8ce10.yaml', 'manifests/server/placement.pp']",3,68bf1d095d2bbabae58ac0b3ee2fb2e8665d3804,system-scope-params,"# [*system_scope*] # (Optional) Scope for system operations # Defaults to $::os_service_default ## [*username*] # (optional) Username when talking to placement. # Defaults to 'nova' # $system_scope = $::os_service_default, $username = 'nova', if is_service_default($system_scope) { $project_name_real = $project_name $project_domain_name_real = $project_domain_name } else { $project_name_real = $::os_service_default $project_domain_name_real = $::os_service_default } 'placement/project_domain_name': value => $project_domain_name_real; 'placement/project_name': value => $project_name_real; 'placement/system_scope': value => $system_scope; 'placement/username': value => $username;","# [*username*] # (optional) Username when talking to placement. # Defaults to 'nova' # $username = 'nova', 'placement/username': value => $username; 'placement/project_domain_name': value => $project_domain_name; 'placement/project_name': value => $project_name;",49,17
openstack%2Ftempest~master~I8b2775829813b5a7b0531f46cbe68f3fbee6f111,openstack/tempest,master,I8b2775829813b5a7b0531f46cbe68f3fbee6f111,Test test_fix_argument_yes fix,ABANDONED,2021-11-23 17:43:23.000000000,2022-01-02 14:21:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-23 17:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4c8970ee40ed94453a9c1336885b0cbef474d8ae', 'message': 'Fixing test_fix_argument_yes unit test again\n\nFixing test_fix_argument_yes unit test again\n\nChange-Id: I8b2775829813b5a7b0531f46cbe68f3fbee6f111\n'}, {'number': 2, 'created': '2021-12-21 10:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c9540485729d6ec2c26225dc11649b3584b571d8', 'message': ""Test test_fix_argument_yes fix\n\nTesting out whether unit jobs really don't fail this time\n(verifying a fix this patch depends on).\n\nChange-Id: I8b2775829813b5a7b0531f46cbe68f3fbee6f111\n""}, {'number': 3, 'created': '2021-12-21 10:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/92fe2036c638623a79d0e6b277065aa87873bd05', 'message': ""Test test_fix_argument_yes fix\n\nTesting out whether unit jobs really don't fail this time\n(verifying a fix this patch depends on).\n\nChange-Id: I8b2775829813b5a7b0531f46cbe68f3fbee6f111\n""}, {'number': 4, 'created': '2021-12-21 10:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/97eda831c0a547ea21fcfd858c1ed645e88360f4', 'message': ""Test test_fix_argument_yes fix\n\nTesting out whether unit jobs really don't fail this time\n(verifying a fix this patch depends on).\n\nChange-Id: I8b2775829813b5a7b0531f46cbe68f3fbee6f111\n""}, {'number': 5, 'created': '2021-12-21 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd938934e44cd6201495f2a8a4f05d47becf1d04', 'message': ""Test test_fix_argument_yes fix\n\nTesting out whether unit jobs really don't fail this time\n(verifying a fix this patch depends on).\n\nChange-Id: I8b2775829813b5a7b0531f46cbe68f3fbee6f111\n""}, {'number': 6, 'created': '2021-12-21 10:36:57.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a33af14d5887413d1ea5fc27951ef3e0741208a', 'message': ""Test test_fix_argument_yes fix\n\nTesting out whether unit jobs really don't fail this time\n(verifying a fix this patch depends on).\n\nChange-Id: I8b2775829813b5a7b0531f46cbe68f3fbee6f111\n""}]",12,819002,4a33af14d5887413d1ea5fc27951ef3e0741208a,37,1,6,22873,,,0,"Test test_fix_argument_yes fix

Testing out whether unit jobs really don't fail this time
(verifying a fix this patch depends on).

Change-Id: I8b2775829813b5a7b0531f46cbe68f3fbee6f111
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/819002/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/cmd/check_uuid.py', 'zuul.d/project.yaml', 'tempest/tests/lib/cmd/test_check_uuid.py']",3,4c8970ee40ed94453a9c1336885b0cbef474d8ae,qe_bootcamp_bugfix,"import argparse argv = {""fix_tests"": False, ""package"": os.path.relpath(self.directory)} args = argparse.Namespace(**argv) self.assertRaises(SystemExit, check_uuid.check_uuid, args) argv = {""fix_tests"": ""True"", ""package"": os.path.relpath(self.directory)} args = argparse.Namespace(**argv) check_uuid.check_uuid(args)","import sys sys.argv = [sys.argv[0]] + [""--package"", os.path.relpath(self.directory)] self.assertRaises(SystemExit, check_uuid.run) sys.argv = [sys.argv[0]] + [""--fix"", ""--package"", os.path.relpath(self.directory)] check_uuid.run()",27,101
openstack%2Fdesignate~master~Idb608345478d9e4af20b7ded8902304c1d66c6a5,openstack/designate,master,Idb608345478d9e4af20b7ded8902304c1d66c6a5,Default unset record.action to NONE,ABANDONED,2022-01-02 04:52:42.000000000,2022-01-02 04:57:33.000000000,,[],"[{'number': 1, 'created': '2022-01-02 04:52:42.000000000', 'files': ['designate/objects/recordset.py', 'designate/tests/unit/objects/test_recordset.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/27c39d369c3cf6fe3aeef275bd1fbc63503b73d1', 'message': 'Default unset record.action to NONE\n\nChange-Id: Idb608345478d9e4af20b7ded8902304c1d66c6a5\n'}]",0,823225,27c39d369c3cf6fe3aeef275bd1fbc63503b73d1,2,0,1,22623,,,0,"Default unset record.action to NONE

Change-Id: Idb608345478d9e4af20b7ded8902304c1d66c6a5
",git fetch https://review.opendev.org/openstack/designate refs/changes/25/823225/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/recordset.py', 'designate/tests/unit/objects/test_recordset.py']",2,27c39d369c3cf6fe3aeef275bd1fbc63503b73d1,improve_logic," self.assertEqual('NONE', record_set.action)",,3,1
openstack%2Fpuppet-designate~master~I29d51b4607a457bac91c68be57629e77b86c8651,openstack/puppet-designate,master,I29d51b4607a457bac91c68be57629e77b86c8651,Accept string for enabled_notification_handlers,MERGED,2021-12-27 09:00:04.000000000,2022-01-01 23:53:17.000000000,2022-01-01 23:53:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 09:00:04.000000000', 'files': ['manifests/sink.pp', 'spec/classes/designate_sink_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/a71236859cafc4102a37ab4a6547f9834b3f4a43', 'message': 'Accept string for enabled_notification_handlers\n\n... in addition to array.\n\nChange-Id: I29d51b4607a457bac91c68be57629e77b86c8651\n'}]",1,823001,a71236859cafc4102a37ab4a6547f9834b3f4a43,9,3,1,9816,,,0,"Accept string for enabled_notification_handlers

... in addition to array.

Change-Id: I29d51b4607a457bac91c68be57629e77b86c8651
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/01/823001/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/sink.pp', 'spec/classes/designate_sink_spec.rb']",2,a71236859cafc4102a37ab4a6547f9834b3f4a43,," end context 'with enabled_notification_handlers (array)' do before do params.merge!( :enabled_notification_handlers => ['nova_fixed', 'neutron_floatingip'] ) end it 'configures designate-sink with enabled_notification_handlers' do is_expected.to contain_designate_config('service:sink/enabled_notification_handlers').with_value('nova_fixed,neutron_floatingip') end end context 'with enabled_notification_handlers (string)' do before do params.merge!( :enabled_notification_handlers => 'nova_fixed,neutron_floatingip' ) end it 'configures designate-sink with enabled_notification_handlers' do is_expected.to contain_designate_config('service:sink/enabled_notification_handlers').with_value('nova_fixed,neutron_floatingip')"," context 'when using enabled_notification_handlers' do before { params.merge!(:enabled_notification_handlers => ['nova_fixed','neutron_floatingip']) } it 'configures designate-sink with enabled_notification_handlers' do is_expected.to contain_designate_config('service:sink/enabled_notification_handlers').with_value(['nova_fixed,neutron_floatingip']) end",22,7
openstack%2Fpuppet-openstack-integration~stable%2Fxena~I6924120c8a3ee27490e9d6e4d0ba99086e2e27cc,openstack/puppet-openstack-integration,stable/xena,I6924120c8a3ee27490e9d6e4d0ba99086e2e27cc,Bump puppetlabs-rsync to 1.2.0,MERGED,2021-12-30 13:28:44.000000000,2022-01-01 23:40:39.000000000,2022-01-01 23:40:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-30 13:28:44.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/02eb0d42aface68ac2c6bf9f64424335a575609f', 'message': ""Bump puppetlabs-rsync to 1.2.0\n\nIt's required to get scenario002 working on\nCentOS 9-stream. On master it was bumped with[1].\n\nRequired for CentOS 9-stream promotion jobs in RDO[2].\n\n[1] https://review.opendev.org/c/openstack/puppet-openstack-integration/+/818499\n[2] https://review.rdoproject.org/r/c/rdo-jobs/+/37370\n\nChange-Id: I6924120c8a3ee27490e9d6e4d0ba99086e2e27cc\n""}]",0,823207,02eb0d42aface68ac2c6bf9f64424335a575609f,7,3,1,13861,,,0,"Bump puppetlabs-rsync to 1.2.0

It's required to get scenario002 working on
CentOS 9-stream. On master it was bumped with[1].

Required for CentOS 9-stream promotion jobs in RDO[2].

[1] https://review.opendev.org/c/openstack/puppet-openstack-integration/+/818499
[2] https://review.rdoproject.org/r/c/rdo-jobs/+/37370

Change-Id: I6924120c8a3ee27490e9d6e4d0ba99086e2e27cc
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/07/823207/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,02eb0d42aface68ac2c6bf9f64424335a575609f,cs9, :ref => '1.2.0', :ref => '1.1.3',1,1
openstack%2Fpuppet-ceilometer~master~I2fd3ecdefc0181dd47e23f125d887e86228a99b6,openstack/puppet-ceilometer,master,I2fd3ecdefc0181dd47e23f125d887e86228a99b6,Remove deprecated ceilometer::agent::auth,MERGED,2021-12-27 12:25:24.000000000,2022-01-01 21:26:31.000000000,2022-01-01 21:25:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 12:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/cbb9b1fb3fc5846b24bddfce3b240e8c21195111', 'message': 'Remove deprecated ceilometer::agent::auth\n\n... because it was deprecated during Wallaby cycle[1].\n\n[1] 9a5323ad18b9bc0e15b514ea98449a3ea5d58b68\n\nChange-Id: I2fd3ecdefc0181dd47e23f125d887e86228a99b6\n'}, {'number': 2, 'created': '2021-12-27 12:27:07.000000000', 'files': ['manifests/agent/service_credentials.pp', 'spec/classes/ceilometer_agent_auth_spec.rb', 'releasenotes/notes/remove-auth-7d9ed7c16e0856e9.yaml', 'manifests/agent/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/e25e6bd483b613ca35bb657706398900f8a8cbfd', 'message': 'Remove deprecated ceilometer::agent::auth\n\n... because it was deprecated during Wallaby cycle[1].\n\n[1] 9a5323ad18b9bc0e15b514ea98449a3ea5d58b68\n\nChange-Id: I2fd3ecdefc0181dd47e23f125d887e86228a99b6\n'}]",0,823006,e25e6bd483b613ca35bb657706398900f8a8cbfd,9,3,2,9816,,,0,"Remove deprecated ceilometer::agent::auth

... because it was deprecated during Wallaby cycle[1].

[1] 9a5323ad18b9bc0e15b514ea98449a3ea5d58b68

Change-Id: I2fd3ecdefc0181dd47e23f125d887e86228a99b6
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/06/823006/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agent/service_credentials.pp', 'releasenotes/notes/remove-auth-7d9ed7c16e0856e9.yaml', 'manifests/agent/auth.pp']",3,cbb9b1fb3fc5846b24bddfce3b240e8c21195111,,,"# == Class: ceilometer::agent::auth # # DEPRECATED ! # The ceilometer::agent::auth class helps configure common # auth settings for the agents. # # === Parameters: # # [*auth_url*] # (Optional) the keystone public endpoint # Defaults to undef. # # [*auth_region*] # (Optional) the keystone region of this node # Defaults to undef. # # [*auth_user*] # (Optional) the keystone user for ceilometer services # Defaults to undef. # # [*auth_password*] # (Required) the keystone password for ceilometer services # # [*auth_tenant_name*] # (Optional) the keystone tenant name for ceilometer services # Defaults to undef. # # [*auth_tenant_id*] # (Optional) the keystone tenant id for ceilometer services. # Defaults to undef. # # [*auth_cacert*] # (Optional) Certificate chain for SSL validation. # Defaults to 'None'. # # [*auth_endpoint_type*] # (Optional) Type of endpoint in Identity service catalog to use for # communication with OpenStack services. # Defaults to undef. # # [*auth_user_domain_name*] # (Optional) domain name for auth user. # Defaults to undef. # # [*auth_project_domain_name*] # (Optional) domain name for auth project. # Defaults to undef. # # [*auth_type*] # (Optional) Authentication type to load. # Defaults to undef. # class ceilometer::agent::auth ( $auth_password, $auth_url = undef, $auth_region = undef, $auth_user = undef, $auth_tenant_name = undef, $auth_tenant_id = undef, $auth_cacert = undef, $auth_endpoint_type = undef, $auth_user_domain_name = undef, $auth_project_domain_name = undef, $auth_type = undef ) { include ceilometer::deps warning('The ceilometer::agent::auth class has been deprecated. \ Use the ceilometer::agent::service_credentials classs instead') include ceilometer::agent::service_credentials # Since we use names instead of ids for keystone credentials in most of # our modules, we'll just deprecated this feature and don't migrate this # to the new service_credentials class. if $auth_tenant_id { ceilometer_config { 'service_credentials/project_id' : value => $auth_tenant_id; } } } ",19,111
openstack%2Fkayobe~stable%2Fvictoria~I35788e69eeace41d5bcbf89922145f1c35f58ff2,openstack/kayobe,stable/victoria,I35788e69eeace41d5bcbf89922145f1c35f58ff2,Limit ip-routing and snat to seed hosts only,MERGED,2021-11-25 19:29:57.000000000,2022-01-01 18:23:49.000000000,2022-01-01 18:22:28.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-25 19:29:57.000000000', 'files': ['ansible/snat.yml', 'ansible/ip-routing.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c048c257ef1e8c7c17eb1287c7ac3f9cddbd0c7a', 'message': 'Limit ip-routing and snat to seed hosts only\n\nEven if kayobe itself limit [1] ip-routing and snat playbooks to the\nseed hosts only the playbooks should have same hosts specified.\n\nTrivialFix\n\n1. https://github.com/openstack/kayobe/blob/52d7523c0c3e6a6f7f321459b9d7fc055282057f/kayobe/cli/commands.py#L610\n\nChange-Id: I35788e69eeace41d5bcbf89922145f1c35f58ff2\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 8986173237a8491847ea4292a57384c8b4371c80)\n'}]",6,819372,c048c257ef1e8c7c17eb1287c7ac3f9cddbd0c7a,24,4,1,14200,,,0,"Limit ip-routing and snat to seed hosts only

Even if kayobe itself limit [1] ip-routing and snat playbooks to the
seed hosts only the playbooks should have same hosts specified.

TrivialFix

1. https://github.com/openstack/kayobe/blob/52d7523c0c3e6a6f7f321459b9d7fc055282057f/kayobe/cli/commands.py#L610

Change-Id: I35788e69eeace41d5bcbf89922145f1c35f58ff2
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 8986173237a8491847ea4292a57384c8b4371c80)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/819372/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/snat.yml', 'ansible/ip-routing.yml']",2,c048c257ef1e8c7c17eb1287c7ac3f9cddbd0c7a,limit-seed-playbooks, hosts: seed, hosts: seed:overcloud,2,2
openstack%2Fcyborg~master~Ida000615c1c86222657e67f384eb3ba9c584d6c3,openstack/cyborg,master,Ida000615c1c86222657e67f384eb3ba9c584d6c3,Update error codes in getting device API,MERGED,2021-12-24 13:27:43.000000000,2022-01-01 06:25:44.000000000,2022-01-01 06:24:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-12-24 13:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7b4eeffb5056d131ff2ebf34c5f748a7b88caf83', 'message': 'Update error codes in getting device API\n\nRemove the error code 403, increase the error code 404 (notfound).\nAlso increase the response of the device.\n\nCloses-Bug: #1955705\nChange-Id: Ida000615c1c86222657e67f384eb3ba9c584d6c3\n'}, {'number': 2, 'created': '2021-12-30 13:15:59.000000000', 'files': ['api-ref/source/devices.inc'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/92a5bb8109157831d32b911b11a78eec8dc2e290', 'message': 'Update error codes in getting device API\n\nAdd the error code 404 (notfound) and the response of the device.\n\nCloses-Bug: #1955705\nChange-Id: Ida000615c1c86222657e67f384eb3ba9c584d6c3\n'}]",5,822908,92a5bb8109157831d32b911b11a78eec8dc2e290,13,4,2,23950,,,0,"Update error codes in getting device API

Add the error code 404 (notfound) and the response of the device.

Closes-Bug: #1955705
Change-Id: Ida000615c1c86222657e67f384eb3ba9c584d6c3
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/08/822908/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/devices.inc'],1,7b4eeffb5056d131ff2ebf34c5f748a7b88caf83,bug/1955705,"Error response codes: badRequest(400), unauthorized(401), notfound(404) Response ======== .. rest_parameters:: parameters.yaml - uuid: device_uuid_resp - type: device_type_resp - vendor: device_vendor_resp - model: device_model_resp - std_board_info: device_std_board_info_resp - vendor_board_info: device_vendor_board_info_resp - hostname: hostname_resp - created_at: created - updated_at: updated - links: links ","Error response codes: badRequest(400), unauthorized(401), forbidden(403) ",16,1
openstack%2Fkayobe~stable%2Fvictoria~I9488a72db588e31289907668f1997596a8ccdec6,openstack/kayobe,stable/victoria,I9488a72db588e31289907668f1997596a8ccdec6,Add support for Ironic inspection through DHCP-relay,MERGED,2021-11-25 23:52:42.000000000,2022-01-01 00:45:46.000000000,2022-01-01 00:44:18.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-25 23:52:42.000000000', 'files': ['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'releasenotes/notes/inspector-dhcp-range-netmask-bb46eb7df77587a4.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d4717fe11c5d079374a90d146513297c6761f31b', 'message': ""Add support for Ironic inspection through DHCP-relay\n\nThis change fix the issue when inspection didn't work corrctly in\ncase of L3-routed Ironic networks when DHCP packets received via a\nDHCP-relay. The dnsmasq optional netmask part in the dhcp-range\nparameter should be specified [1] in this case.\n\n[1] https://thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html\n\nChange-Id: I9488a72db588e31289907668f1997596a8ccdec6\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/813268\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 02e01e983bc35193a5fcfe367a492c798cff0c80)\n""}]",3,819385,d4717fe11c5d079374a90d146513297c6761f31b,17,4,1,14200,,,0,"Add support for Ironic inspection through DHCP-relay

This change fix the issue when inspection didn't work corrctly in
case of L3-routed Ironic networks when DHCP packets received via a
DHCP-relay. The dnsmasq optional netmask part in the dhcp-range
parameter should be specified [1] in this case.

[1] https://thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html

Change-Id: I9488a72db588e31289907668f1997596a8ccdec6
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/813268
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 02e01e983bc35193a5fcfe367a492c798cff0c80)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/819385/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'releasenotes/notes/inspector-dhcp-range-netmask-bb46eb7df77587a4.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml']",5,d4717fe11c5d079374a90d146513297c6761f31b,inspector-dhcp-range-netmask,# The inspection network netmask. kolla_inspector_netmask: ,,11,2
openstack%2Fkayobe~stable%2Fwallaby~I35788e69eeace41d5bcbf89922145f1c35f58ff2,openstack/kayobe,stable/wallaby,I35788e69eeace41d5bcbf89922145f1c35f58ff2,Limit ip-routing and snat to seed hosts only,MERGED,2021-11-25 19:29:14.000000000,2021-12-31 21:56:21.000000000,2021-12-31 21:54:47.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-25 19:29:14.000000000', 'files': ['ansible/snat.yml', 'ansible/ip-routing.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c92a97ce0ca0253062d04e54be7fa87eafdc57bb', 'message': 'Limit ip-routing and snat to seed hosts only\n\nEven if kayobe itself limit [1] ip-routing and snat playbooks to the\nseed hosts only the playbooks should have same hosts specified.\n\nTrivialFix\n\n1. https://github.com/openstack/kayobe/blob/52d7523c0c3e6a6f7f321459b9d7fc055282057f/kayobe/cli/commands.py#L610\n\nChange-Id: I35788e69eeace41d5bcbf89922145f1c35f58ff2\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 8986173237a8491847ea4292a57384c8b4371c80)\n'}]",4,819371,c92a97ce0ca0253062d04e54be7fa87eafdc57bb,19,4,1,14200,,,0,"Limit ip-routing and snat to seed hosts only

Even if kayobe itself limit [1] ip-routing and snat playbooks to the
seed hosts only the playbooks should have same hosts specified.

TrivialFix

1. https://github.com/openstack/kayobe/blob/52d7523c0c3e6a6f7f321459b9d7fc055282057f/kayobe/cli/commands.py#L610

Change-Id: I35788e69eeace41d5bcbf89922145f1c35f58ff2
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 8986173237a8491847ea4292a57384c8b4371c80)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/819371/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/snat.yml', 'ansible/ip-routing.yml']",2,c92a97ce0ca0253062d04e54be7fa87eafdc57bb,limit-seed-playbooks, hosts: seed, hosts: seed:overcloud,2,2
openstack%2Fkayobe~stable%2Fwallaby~I9488a72db588e31289907668f1997596a8ccdec6,openstack/kayobe,stable/wallaby,I9488a72db588e31289907668f1997596a8ccdec6,Add support for Ironic inspection through DHCP-relay,MERGED,2021-11-25 23:52:02.000000000,2021-12-31 19:38:48.000000000,2021-12-31 19:37:26.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}]","[{'number': 1, 'created': '2021-11-25 23:52:02.000000000', 'files': ['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'releasenotes/notes/inspector-dhcp-range-netmask-bb46eb7df77587a4.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/679fa2a75b623687c74c819724384a0e8724ba3b', 'message': ""Add support for Ironic inspection through DHCP-relay\n\nThis change fix the issue when inspection didn't work corrctly in\ncase of L3-routed Ironic networks when DHCP packets received via a\nDHCP-relay. The dnsmasq optional netmask part in the dhcp-range\nparameter should be specified [1] in this case.\n\n[1] https://thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html\n\nChange-Id: I9488a72db588e31289907668f1997596a8ccdec6\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/813268\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 02e01e983bc35193a5fcfe367a492c798cff0c80)\n""}]",4,819384,679fa2a75b623687c74c819724384a0e8724ba3b,20,5,1,14200,,,0,"Add support for Ironic inspection through DHCP-relay

This change fix the issue when inspection didn't work corrctly in
case of L3-routed Ironic networks when DHCP packets received via a
DHCP-relay. The dnsmasq optional netmask part in the dhcp-range
parameter should be specified [1] in this case.

[1] https://thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html

Change-Id: I9488a72db588e31289907668f1997596a8ccdec6
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/813268
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 02e01e983bc35193a5fcfe367a492c798cff0c80)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/84/819384/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'releasenotes/notes/inspector-dhcp-range-netmask-bb46eb7df77587a4.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml']",5,679fa2a75b623687c74c819724384a0e8724ba3b,inspector-dhcp-range-netmask,# The inspection network netmask. kolla_inspector_netmask: ,,11,2
openstack%2Fkolla-ansible~master~Ia600438ec7b7141d12ae7ee0b647e8ab28a8d5f6,openstack/kolla-ansible,master,Ia600438ec7b7141d12ae7ee0b647e8ab28a8d5f6,Added removed jinja endif,ABANDONED,2021-12-31 15:21:56.000000000,2021-12-31 15:22:38.000000000,,[],"[{'number': 1, 'created': '2021-12-31 15:21:56.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d96f294d088f5aee944bb8ffabdaaba887d0313', 'message': 'Added removed jinja endif\n\nChange-Id: Ia600438ec7b7141d12ae7ee0b647e8ab28a8d5f6\n'}]",0,823217,4d96f294d088f5aee944bb8ffabdaaba887d0313,2,0,1,34391,,,0,"Added removed jinja endif

Change-Id: Ia600438ec7b7141d12ae7ee0b647e8ab28a8d5f6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/823217/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'],1,4d96f294d088f5aee944bb8ffabdaaba887d0313,,{% endif %},,1,0
openstack%2Fkolla-ansible~master~I3d8c31a440e62fdf1b7ea428459ba7292d03f575,openstack/kolla-ansible,master,I3d8c31a440e62fdf1b7ea428459ba7292d03f575,Add multi dhcp-range support for ironic-dnsmasq.conf,ABANDONED,2021-12-31 15:06:47.000000000,2021-12-31 15:07:41.000000000,,[],"[{'number': 1, 'created': '2021-12-31 15:06:47.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fa7f6e2c6af786bde3a987450e4d0e9ecbcd4ad', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I3d8c31a440e62fdf1b7ea428459ba7292d03f575\n'}]",0,823214,7fa7f6e2c6af786bde3a987450e4d0e9ecbcd4ad,2,0,1,34391,,,0,"Add multi dhcp-range support for ironic-dnsmasq.conf

Change-Id: I3d8c31a440e62fdf1b7ea428459ba7292d03f575
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/823214/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'],1,7fa7f6e2c6af786bde3a987450e4d0e9ecbcd4ad,multi-dhcp-change-ironic,,,1,0
openstack%2Fkolla-ansible~master~I0a938ae3a52526de27398a44ad84c57e40484e2a,openstack/kolla-ansible,master,I0a938ae3a52526de27398a44ad84c57e40484e2a,Add multi dhcp-range support for ironic-dnsmasq.conf,ABANDONED,2021-12-31 15:00:11.000000000,2021-12-31 15:05:15.000000000,,[],"[{'number': 1, 'created': '2021-12-31 15:00:11.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ec21e75ef033127feef54362da0dd73a7caf68d', 'message': 'Add multi dhcp-range support for ironic-dnsmasq.conf\n\nChange-Id: I0a938ae3a52526de27398a44ad84c57e40484e2a\n'}]",0,823212,8ec21e75ef033127feef54362da0dd73a7caf68d,2,0,1,34391,,,0,"Add multi dhcp-range support for ironic-dnsmasq.conf

Change-Id: I0a938ae3a52526de27398a44ad84c57e40484e2a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/823212/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'etc/kolla/globals.yml']",2,8ec21e75ef033127feef54362da0dd73a7caf68d,,"# Optionally you can set the multi dhcp range variant below, the value format is: #ironic_dnsmasq_dhcp_multi: # - tag: range1 # pool_start: 10.0.0.5 # pool_end: 10.0.0.100 # pool_subnet: 255.255.255.0 # pool_default_gateway: 10.0.0.1 # - tag: range2 # pool_start: 10.0.1.5 # pool_end: 10.0.1.100 # pool_subnet: 255.255.255.0 # pool_default_gateway: 10.0.1.1",,24,9
openstack%2Fkolla-ansible~master~I92efe42317839b7f9852b6e6e9ff6c40277decae,openstack/kolla-ansible,master,I92efe42317839b7f9852b6e6e9ff6c40277decae,Re-add log-* lines to config,ABANDONED,2021-12-31 15:04:39.000000000,2021-12-31 15:05:02.000000000,,[],"[{'number': 1, 'created': '2021-12-31 15:04:39.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/811bc7c957f210b017eb746c2dafb356249789b4', 'message': 'Re-add log-* lines to config\n\nChange-Id: I92efe42317839b7f9852b6e6e9ff6c40277decae\n'}]",0,823213,811bc7c957f210b017eb746c2dafb356249789b4,2,0,1,34391,,,0,"Re-add log-* lines to config

Change-Id: I92efe42317839b7f9852b6e6e9ff6c40277decae
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/823213/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'],1,811bc7c957f210b017eb746c2dafb356249789b4,,log-async log-facility=/var/log/kolla/ironic/dnsmasq.log {% if ironic_logging_debug | bool %} log-dhcp,,4,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2,openstack/kolla-ansible,stable/wallaby,I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2,Add ovn_sb_connection to octavia.conf,MERGED,2021-12-30 20:46:12.000000000,2021-12-31 12:55:06.000000000,2021-12-31 12:53:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32523}]","[{'number': 1, 'created': '2021-12-30 20:46:12.000000000', 'files': ['releasenotes/notes/bug-1950111-8e477fb6a5b58822.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/918397c0885498f8e5f71728337958358a113b86', 'message': 'Add ovn_sb_connection to octavia.conf\n\nThis commit added ovn_sb_connection to octavia.conf otherwise it will\ntry to connect to ovn-sb-db using the default address which is\n127.0.0.1 while the ovn-sb-db listen on the IP address of the\napi_interface.\n\nCloses-Bug: #1950111\n\nChange-Id: I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2\n(cherry picked from commit 1077a9a4e70eb8c1e11aea8c7cf223a301ca449b)\n'}]",0,823145,918397c0885498f8e5f71728337958358a113b86,9,4,1,30491,,,0,"Add ovn_sb_connection to octavia.conf

This commit added ovn_sb_connection to octavia.conf otherwise it will
try to connect to ovn-sb-db using the default address which is
127.0.0.1 while the ovn-sb-db listen on the IP address of the
api_interface.

Closes-Bug: #1950111

Change-Id: I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2
(cherry picked from commit 1077a9a4e70eb8c1e11aea8c7cf223a301ca449b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/823145/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1950111-8e477fb6a5b58822.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2']",2,918397c0885498f8e5f71728337958358a113b86,bug/1950111-stable/xena-stable/wallaby,ovn_sb_connection = {{ ovn_sb_connection }},,7,0
openstack%2Fkolla-ansible~stable%2Fxena~I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2,openstack/kolla-ansible,stable/xena,I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2,Add ovn_sb_connection to octavia.conf,MERGED,2021-12-30 20:45:59.000000000,2021-12-31 12:55:05.000000000,2021-12-31 12:53:29.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32523}]","[{'number': 1, 'created': '2021-12-30 20:45:59.000000000', 'files': ['releasenotes/notes/bug-1950111-8e477fb6a5b58822.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f00e54be752bef6fd318bafb7733e680f6147c94', 'message': 'Add ovn_sb_connection to octavia.conf\n\nThis commit added ovn_sb_connection to octavia.conf otherwise it will\ntry to connect to ovn-sb-db using the default address which is\n127.0.0.1 while the ovn-sb-db listen on the IP address of the\napi_interface.\n\nCloses-Bug: #1950111\n\nChange-Id: I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2\n(cherry picked from commit 1077a9a4e70eb8c1e11aea8c7cf223a301ca449b)\n'}]",0,823144,f00e54be752bef6fd318bafb7733e680f6147c94,9,4,1,30491,,,0,"Add ovn_sb_connection to octavia.conf

This commit added ovn_sb_connection to octavia.conf otherwise it will
try to connect to ovn-sb-db using the default address which is
127.0.0.1 while the ovn-sb-db listen on the IP address of the
api_interface.

Closes-Bug: #1950111

Change-Id: I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2
(cherry picked from commit 1077a9a4e70eb8c1e11aea8c7cf223a301ca449b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/823144/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1950111-8e477fb6a5b58822.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2']",2,f00e54be752bef6fd318bafb7733e680f6147c94,bug/1950111-stable/xena,ovn_sb_connection = {{ ovn_sb_connection }},,7,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2,openstack/kolla-ansible,stable/victoria,I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2,Add ovn_sb_connection to octavia.conf,MERGED,2021-12-30 20:46:30.000000000,2021-12-31 12:55:03.000000000,2021-12-31 12:53:33.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32523}]","[{'number': 1, 'created': '2021-12-30 20:46:30.000000000', 'files': ['releasenotes/notes/bug-1950111-8e477fb6a5b58822.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f14caa1e68f033a141846631a3d836894826d0f3', 'message': 'Add ovn_sb_connection to octavia.conf\n\nThis commit added ovn_sb_connection to octavia.conf otherwise it will\ntry to connect to ovn-sb-db using the default address which is\n127.0.0.1 while the ovn-sb-db listen on the IP address of the\napi_interface.\n\nCloses-Bug: #1950111\n\nChange-Id: I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2\n(cherry picked from commit 1077a9a4e70eb8c1e11aea8c7cf223a301ca449b)\n'}]",0,823146,f14caa1e68f033a141846631a3d836894826d0f3,9,4,1,30491,,,0,"Add ovn_sb_connection to octavia.conf

This commit added ovn_sb_connection to octavia.conf otherwise it will
try to connect to ovn-sb-db using the default address which is
127.0.0.1 while the ovn-sb-db listen on the IP address of the
api_interface.

Closes-Bug: #1950111

Change-Id: I9cb9a0365d00ffd70562b4b3e83493ec09bd52c2
(cherry picked from commit 1077a9a4e70eb8c1e11aea8c7cf223a301ca449b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/823146/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1950111-8e477fb6a5b58822.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2']",2,f14caa1e68f033a141846631a3d836894826d0f3,bug/1950111-stable/xena-stable/wallaby-stable/victoria,ovn_sb_connection = {{ ovn_sb_connection }},,7,0
openstack%2Fopenstacksdk~feature%2Fr1~I9c674242f6da87923fc8a4adc9a2428030094f00,openstack/openstacksdk,feature/r1,I9c674242f6da87923fc8a4adc9a2428030094f00,Get rid of normalization in orchestration CL,MERGED,2021-12-28 14:43:08.000000000,2021-12-31 12:49:27.000000000,2021-12-31 12:47:49.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-28 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b5602d450bb10d3b4597f9451eb2c5d19c79983f', 'message': 'Get rid of normalization in orchestration CL\n\nStop using normalization in the orchestration cloud layer methods.\n\nChange-Id: I9c674242f6da87923fc8a4adc9a2428030094f00\n'}, {'number': 2, 'created': '2021-12-28 16:24:26.000000000', 'files': ['openstack/tests/unit/cloud/test_stack.py', 'openstack/cloud/_orchestration.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f34ea0d13f6e782d2b010473af8127b583d7908f', 'message': 'Get rid of normalization in orchestration CL\n\nStop using normalization in the orchestration cloud layer methods.\n\nChange-Id: I9c674242f6da87923fc8a4adc9a2428030094f00\n'}]",1,823095,f34ea0d13f6e782d2b010473af8127b583d7908f,13,2,2,27900,,,0,"Get rid of normalization in orchestration CL

Stop using normalization in the orchestration cloud layer methods.

Change-Id: I9c674242f6da87923fc8a4adc9a2428030094f00
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/823095/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_stack.py', 'openstack/cloud/_orchestration.py']",2,b5602d450bb10d3b4597f9451eb2c5d19c79983f,,class OrchestrationCloudMixin: :returns: a list of :class:`openstack.orchestration.v1.stack.Stack` objects containing the stack description. return list(self.orchestration.stacks(**query)) :returns: a :class:`openstack.orchestration.v1.stack.Stack` containing the stack description,from openstack.cloud import _normalizeclass OrchestrationCloudMixin(_normalize.Normalizer): :returns: a list of ``munch.Munch`` containing the stack description. data = self.orchestration.stacks(**query) return self._normalize_stacks(data) :returns: a ``munch.Munch`` containing the stack description stack = self._normalize_stack(stack),18,29
openstack%2Fkolla-ansible~master~I1fc4e2a24fe096a49434d7e16851e63efd25d74c,openstack/kolla-ansible,master,I1fc4e2a24fe096a49434d7e16851e63efd25d74c,horizon: move horizon_enable_tls_backend to group_vars,MERGED,2021-12-21 15:32:45.000000000,2021-12-31 11:12:39.000000000,2021-12-31 11:11:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-21 15:32:45.000000000', 'files': ['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c6d777868e3b12e7fde9e1f29868c38277bfc6d', 'message': 'horizon: move horizon_enable_tls_backend to group_vars\n\nThis variable is referenced by horizon_listen_port, which becomes\nundefined outside of the horizon role. One symptom of this is that\nthe hostvars variable becomes undefined when referenced for debugging\npurposes.\n\nThis issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,\nwhich has been backported to Victoria.\n\nThis change fixes the issue by moving horizon_enable_tls_backend to\ngroup_vars.\n\nTrivialFix\n\nChange-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c\n'}]",1,822505,4c6d777868e3b12e7fde9e1f29868c38277bfc6d,8,2,1,14826,,,0,"horizon: move horizon_enable_tls_backend to group_vars

This variable is referenced by horizon_listen_port, which becomes
undefined outside of the horizon role. One symptom of this is that
the hostvars variable becomes undefined when referenced for debugging
purposes.

This issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,
which has been backported to Victoria.

This change fixes the issue by moving horizon_enable_tls_backend to
group_vars.

TrivialFix

Change-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/822505/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml']",2,4c6d777868e3b12e7fde9e1f29868c38277bfc6d,,"horizon_enable_tls_backend: ""{{ kolla_enable_tls_backend }}"" ",,2,5
openstack%2Fopenstacksdk~feature%2Fr1~I9fe3e991a77d0ab223ca4a18b9ce4314f87b887d,openstack/openstacksdk,feature/r1,I9fe3e991a77d0ab223ca4a18b9ce4314f87b887d,Get rid of normalization in network CL,MERGED,2021-12-28 14:43:08.000000000,2021-12-31 10:32:52.000000000,2021-12-31 10:29:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-28 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6a9ec6e0ed3767f061a7349e7803533204d44e17', 'message': 'Get rid of normalization in network CL\n\nStop using normalization for the network cloud layer methods.\n\nChange-Id: I9fe3e991a77d0ab223ca4a18b9ce4314f87b887d\n'}, {'number': 2, 'created': '2021-12-28 16:24:59.000000000', 'files': ['openstack/cloud/_network_common.py', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f54021ed06efba035089055ecd1654fbd5e0860', 'message': 'Get rid of normalization in network CL\n\nStop using normalization for the network cloud layer methods.\n\nChange-Id: I9fe3e991a77d0ab223ca4a18b9ce4314f87b887d\n'}]",0,823099,4f54021ed06efba035089055ecd1654fbd5e0860,9,2,2,27900,,,0,"Get rid of normalization in network CL

Stop using normalization for the network cloud layer methods.

Change-Id: I9fe3e991a77d0ab223ca4a18b9ce4314f87b887d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/99/823099/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_network_common.py', 'openstack/cloud/_network.py']",2,6a9ec6e0ed3767f061a7349e7803533204d44e17,,class NetworkCloudMixin:,from openstack.cloud import _normalizeclass NetworkCloudMixin(_normalize.Normalizer):,2,4
openstack%2Fopenstacksdk~feature%2Fr1~Ida8b39cdaf984cffbe96ae8105ed3b4d333968e5,openstack/openstacksdk,feature/r1,Ida8b39cdaf984cffbe96ae8105ed3b4d333968e5,Get rid of normalization in further CL services,MERGED,2021-12-28 14:43:08.000000000,2021-12-31 10:31:43.000000000,2021-12-31 10:29:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-28 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/072c2c8a27b1642071bed76e0c4366ab95107d58', 'message': 'Get rid of normalization in further CL services\n\nStop using normalization in next bunch of services.\n\nChange-Id: Ida8b39cdaf984cffbe96ae8105ed3b4d333968e5\n'}, {'number': 2, 'created': '2021-12-28 16:24:44.000000000', 'files': ['openstack/cloud/_accelerator.py', 'openstack/cloud/_clustering.py', 'openstack/cloud/_baremetal.py', 'openstack/cloud/_shared_file_system.py', 'openstack/cloud/_object_store.py', 'openstack/cloud/_dns.py', 'openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ed86ffbf8382404bf8df98975da33de169597658', 'message': 'Get rid of normalization in further CL services\n\nStop using normalization in next bunch of services.\n\nChange-Id: Ida8b39cdaf984cffbe96ae8105ed3b4d333968e5\n'}]",0,823097,ed86ffbf8382404bf8df98975da33de169597658,9,2,2,27900,,,0,"Get rid of normalization in further CL services

Stop using normalization in next bunch of services.

Change-Id: Ida8b39cdaf984cffbe96ae8105ed3b4d333968e5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/823097/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_accelerator.py', 'openstack/cloud/_clustering.py', 'openstack/cloud/_baremetal.py', 'openstack/cloud/_shared_file_system.py', 'openstack/cloud/_dns.py', 'openstack/cloud/_object_store.py', 'openstack/cloud/_block_storage.py']",7,072c2c8a27b1642071bed76e0c4366ab95107d58,,class BlockStorageCloudMixin: return self.block_storage.get_type_access(volume_type),from openstack.cloud import _normalizeclass BlockStorageCloudMixin(_normalize.Normalizer): return self._normalize_volume_type_accesses( self.block_storage.get_type_access(volume_type)),8,19
openstack%2Fopenstacksdk~feature%2Fr1~Id64199794214f282165836a76725b606c1a6947b,openstack/openstacksdk,feature/r1,Id64199794214f282165836a76725b606c1a6947b,Get rid of normalization for image service,MERGED,2021-12-28 14:12:51.000000000,2021-12-31 10:23:58.000000000,2021-12-31 10:21:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-28 14:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3195a50fa9bef746702c28f060727e89a7bdbe51', 'message': 'Get rid of normalization for image service\n\nStop using any normalization in the image service.\n\nChange-Id: Id64199794214f282165836a76725b606c1a6947b\n'}, {'number': 2, 'created': '2021-12-28 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fe2f51c672c71f4507659fc70566615a7fa4535c', 'message': 'Get rid of normalization for image service\n\nStop using any normalization in the image service.\n\nChange-Id: Id64199794214f282165836a76725b606c1a6947b\n'}, {'number': 3, 'created': '2021-12-28 16:24:06.000000000', 'files': ['openstack/tests/unit/cloud/test_caching.py', 'openstack/cloud/_image.py', 'openstack/tests/unit/cloud/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6c905301def9e3842ac07d38effdb0f71dce99f2', 'message': 'Get rid of normalization for image service\n\nStop using any normalization in the image service.\n\nChange-Id: Id64199794214f282165836a76725b606c1a6947b\n'}]",0,823092,6c905301def9e3842ac07d38effdb0f71dce99f2,10,2,3,27900,,,0,"Get rid of normalization for image service

Stop using any normalization in the image service.

Change-Id: Id64199794214f282165836a76725b606c1a6947b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/92/823092/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_image.py', 'openstack/tests/unit/cloud/test_image.py']",2,3195a50fa9bef746702c28f060727e89a7bdbe51,,"from openstack.image.v1 import image as image_v1 from openstack.image.v2 import image def _compare_images(self, exp, real): self.assertDictEqual( image.Image(**exp).to_dict(computed=False), real.to_dict(computed=False)) def _compare_images_v1(self, exp, real): self.assertDictEqual( image_v1.Image(**exp).to_dict(computed=False), real.to_dict(computed=False)) self._compare_images( self.fake_image_dict, self.cloud.get_image_by_id(self.image_id) ) [self._compare_images(a, b) for a, b in zip( [self.fake_image_dict], self.cloud.list_images())] [self._compare_images(a, b) for a, b in zip( [self.fake_image_dict], self.cloud.list_images(show_all=True))] [self._compare_images(a, b) for a, b in zip( [self.fake_image_dict], self.cloud.list_images(show_all=True))] [self._compare_images(a, b) for a, b in zip( [self.fake_image_dict], self.cloud.list_images(filter_deleted=False))] [self._compare_images(a, b) for a, b in zip( [self.fake_image_dict], self.cloud.list_images())] [self._compare_images(a, b) for a, b in zip( [image_dict], images)] [self._compare_images(a, b) for a, b in zip( [self.fake_image_dict], self.cloud.list_images())] [self._compare_images_v1(b, a) for a, b in zip( self.cloud.list_images(), [ret])] [self._compare_images(b, a) for a, b in zip( self.cloud.list_images(), [self.fake_image_dict])] [self._compare_images(b, a) for a, b in zip( self.cloud.list_images(), [self.fake_image_dict, self.fake_image_dict])]"," self.assertDictEqual( self.cloud._normalize_image(self.fake_image_dict), self.cloud.get_image_by_id(self.image_id)) self.assertEqual( self.cloud._normalize_images([self.fake_image_dict]), self.cloud.list_images()) self.assertEqual( self.cloud._normalize_images([self.fake_image_dict]), self.cloud.list_images(show_all=True)) self.assertEqual( self.cloud._normalize_images([ self.fake_image_dict, deleted_image]), self.cloud.list_images(show_all=True)) self.assertEqual( self.cloud._normalize_images([ self.fake_image_dict, deleted_image]), self.cloud.list_images(filter_deleted=False)) self.assertEqual( self.cloud._normalize_images([self.fake_image_dict]), self.cloud.list_images()) self.assertEqual( self.cloud._normalize_images([image_dict]), images) self.assertEqual( self.cloud._normalize_images([ self.fake_image_dict, self.fake_image_dict]), self.cloud.list_images()) self.assertEqual(self._munch_images(ret), self.cloud.list_images()) self.assertEqual( self.cloud._normalize_images([self.fake_image_dict]), self.cloud.list_images()) self.assertEqual( self.cloud._normalize_images([ self.fake_image_dict, self.fake_image_dict]), self.cloud.list_images())",55,47
openstack%2Fopenstacksdk~feature%2Fr1~Ia6c24590d6f12258be6c27fcf45c944a771083fc,openstack/openstacksdk,feature/r1,Ia6c24590d6f12258be6c27fcf45c944a771083fc,Get rid of normalization in identity CL,MERGED,2021-12-28 14:43:08.000000000,2021-12-31 10:22:45.000000000,2021-12-31 10:21:14.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-28 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4531c3ce14a6792e9aaecf04e9ea5a7438ee2238', 'message': 'Get rid of normalization in identity CL\n\nStop using normalization in the identity cloud layer.\n\nChange-Id: Ia6c24590d6f12258be6c27fcf45c944a771083fc\n'}, {'number': 2, 'created': '2021-12-28 16:24:35.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_identity_roles.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e910e6eae236bd051258d134a4701cfeb9b9e7f3', 'message': 'Get rid of normalization in identity CL\n\nStop using normalization in the identity cloud layer.\n\nChange-Id: Ia6c24590d6f12258be6c27fcf45c944a771083fc\n'}]",0,823096,e910e6eae236bd051258d134a4701cfeb9b9e7f3,9,2,2,27900,,,0,"Get rid of normalization in identity CL

Stop using normalization in the identity cloud layer.

Change-Id: Ia6c24590d6f12258be6c27fcf45c944a771083fc
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/96/823096/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_identity_roles.py']",2,4531c3ce14a6792e9aaecf04e9ea5a7438ee2238,," self.assertThat(ret[0].user['id'], matchers.Equals(user_data.user_id)) self.assertThat(ret[0].role['id'], matchers.Equals(role_data.role_id)) self.assertThat( ret[0].scope['domain']['id'], matchers.Equals(domain_data.domain_id)) self.assertThat( ret[1].group['id'], matchers.Equals(group_data.group_id)) self.assertThat(ret[1].role['id'], matchers.Equals(role_data.role_id)) self.assertThat( ret[1].scope['project']['id'], matchers.Equals(project_data.project_id)) self.assertThat(ret[0].user['id'], matchers.Equals(user_data.user_id)) self.assertThat(ret[0].role['id'], matchers.Equals(role_data.role_id)) self.assertThat( ret[0].scope['domain']['id'], matchers.Equals(domain_data.domain_id))"," self.assertThat(ret[0].user, matchers.Equals(user_data.user_id)) self.assertThat(ret[0].id, matchers.Equals(role_data.role_id)) self.assertThat(ret[0].domain, matchers.Equals(domain_data.domain_id)) self.assertThat(ret[1].group, matchers.Equals(group_data.group_id)) self.assertThat(ret[1].id, matchers.Equals(role_data.role_id)) self.assertThat(ret[1].project, matchers.Equals(project_data.project_id)) self.assertThat(ret[0].user, matchers.Equals(user_data.user_id)) self.assertThat(ret[0].id, matchers.Equals(role_data.role_id)) self.assertThat(ret[0].domain, matchers.Equals(domain_data.domain_id))",24,19
openstack%2Fkolla-ansible~master~I417ab0ba0d865c3bcb56ba46c7b2ebefdb381264,openstack/kolla-ansible,master,I417ab0ba0d865c3bcb56ba46c7b2ebefdb381264,Use Docker healthchecks for storm services,MERGED,2021-03-11 13:06:44.000000000,2021-12-31 10:17:44.000000000,2021-12-31 10:16:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-11 13:06:44.000000000', 'files': ['releasenotes/notes/implement-docker-healthchecks-for-storm-10d460e9b8f08a74.yaml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/storm/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/225a0e861e1488e04ea7c276ab2d30a041b408f5', 'message': 'Use Docker healthchecks for storm services\n\nThis change enables the use of Docker healthchecks for storm services.\nImplements: blueprint container-health-check\n\nChange-Id: I417ab0ba0d865c3bcb56ba46c7b2ebefdb381264\n'}]",1,779999,225a0e861e1488e04ea7c276ab2d30a041b408f5,14,4,1,31506,,,0,"Use Docker healthchecks for storm services

This change enables the use of Docker healthchecks for storm services.
Implements: blueprint container-health-check

Change-Id: I417ab0ba0d865c3bcb56ba46c7b2ebefdb381264
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/779999/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/implement-docker-healthchecks-for-storm-10d460e9b8f08a74.yaml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/storm/tasks/check-containers.yml']",4,225a0e861e1488e04ea7c276ab2d30a041b408f5,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,38,0
openstack%2Fcyborg~master~Id546e59974a65b4121705979ed2bd34633daaae2,openstack/cyborg,master,Id546e59974a65b4121705979ed2bd34633daaae2,Add ut for getting by non-existed id,MERGED,2021-12-24 16:24:05.000000000,2021-12-31 07:53:40.000000000,2021-12-31 07:52:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-12-24 16:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5fed1211e9b52a3754b40f352423de8122504d5d', 'message': 'Add ut for getting by non-existed id\n\nThis patch adds one ut that get the device by non-existed id.\n\nChange-Id: Id546e59974a65b4121705979ed2bd34633daaae2\n'}, {'number': 2, 'created': '2021-12-30 13:26:29.000000000', 'files': ['cyborg/tests/unit/objects/test_device.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cbea482e1c701c0798f56c89a2234318d709374d', 'message': 'Add ut for getting by non-existed id\n\nThis patch adds one ut that get the device by non-existed id.\n\nChange-Id: Id546e59974a65b4121705979ed2bd34633daaae2\n'}]",4,822914,cbea482e1c701c0798f56c89a2234318d709374d,12,4,2,23950,,,0,"Add ut for getting by non-existed id

This patch adds one ut that get the device by non-existed id.

Change-Id: Id546e59974a65b4121705979ed2bd34633daaae2
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/14/822914/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/objects/test_device.py'],1,5fed1211e9b52a3754b40f352423de8122504d5d,add-device-ut,"from cyborg.common import exception def test_get_by_non_existed_id(self): device_id = '0ffd4dd8-7e66-4d12-91d6-327394bf88cf' with mock.patch.object(self.dbapi, 'device_get_by_id', autospec=True) as mock_device_get_by_id: mock_device_get_by_id.side_effect = exception.ResourceNotFound( resource='Device', msg='with uuid=%s' % device_id) self.assertRaises(exception.ResourceNotFound, objects.Device.get_by_device_id, self.context, device_id)", # TODO(chenke) add testcase dbapi.device_get_by_id raise exception.,11,1
openstack%2Ftripleo-ansible~master~I9bd0e4f2b67daec0672b0e40d589aa6b5609ca58,openstack/tripleo-ansible,master,I9bd0e4f2b67daec0672b0e40d589aa6b5609ca58,Make python3 as default python prefix for clients,MERGED,2021-12-30 12:40:24.000000000,2021-12-31 06:24:56.000000000,2021-12-31 06:24:56.000000000,"[{'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-30 12:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3786ce380d1c4407de82c927c27a5952c5d8aa4', 'message': 'Add redhat-9 vars for tripleo clients\n\nChange-Id: I9bd0e4f2b67daec0672b0e40d589aa6b5609ca58\n'}, {'number': 2, 'created': '2021-12-30 12:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/580e7468133d152f305624308a19bd8ede663dd6', 'message': 'Make python3 as default python prefix for clients\n\nLeave ""python"" prefix for CentOS/RHEL-7 hosts only.\nChange-Id: I9bd0e4f2b67daec0672b0e40d589aa6b5609ca58\n'}, {'number': 3, 'created': '2021-12-30 12:51:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_clients_install/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_clients_install/vars/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/105be3fd6bd81c9053b1bdb24620737b0f9b9c8e', 'message': 'Make python3 as default python prefix for clients\n\nRemove leftovers from previous releases.\nChange-Id: I9bd0e4f2b67daec0672b0e40d589aa6b5609ca58\n'}]",1,823204,105be3fd6bd81c9053b1bdb24620737b0f9b9c8e,14,6,3,10969,,,0,"Make python3 as default python prefix for clients

Remove leftovers from previous releases.
Change-Id: I9bd0e4f2b67daec0672b0e40d589aa6b5609ca58
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/823204/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_clients_install/vars/redhat-9.yml'],1,e3786ce380d1c4407de82c927c27a5952c5d8aa4,,"# While options found within the vars/ path can be overridden using extra # vars, items within this path are considered part of the role and not # intended to be modified. # All variables within this role should have a prefix of ""tripleo_clients_install_"" tripleo_clients_install_python_prefix: python3 ",,7,0
openstack%2Fdesignate~master~Ia502bdf69650b0ac24fda657b849a061f1172086,openstack/designate,master,Ia502bdf69650b0ac24fda657b849a061f1172086,Always reset CONF when starting the wsgi app,ABANDONED,2020-06-04 09:28:47.000000000,2021-12-31 06:16:32.000000000,,"[{'_account_id': 6928}, {'_account_id': 6994}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-04 09:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/495c5706fef8f3d5c2e68b687b92512f1db75a63', 'message': 'Always reset conf.CONF when starting the wsgi app\n\nThis ensures that options loaded during any prior run of the\napplication are dropped before being added again during init_application.\n\nChange-Id: Ia502bdf69650b0ac24fda657b849a061f1172086\n'}, {'number': 2, 'created': '2020-06-04 09:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5823ce3f4d0a81e4c4f1b5d1f4b24db213202e2c', 'message': 'Always reset CONF when starting the wsgi app\n\nThis ensures that options loaded during any prior run of the\napplication are dropped before being added again during init_application.\n\nChange-Id: Ia502bdf69650b0ac24fda657b849a061f1172086\n'}, {'number': 3, 'created': '2020-06-08 14:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2a4c19c0f0fc1506ab7afa459654509f669e0e6e', 'message': 'Always reset CONF when starting the wsgi app\n\nThis ensures that options loaded during any prior run of the\napplication are dropped before being added again during init_application.\n\nChange-Id: Ia502bdf69650b0ac24fda657b849a061f1172086\n'}, {'number': 4, 'created': '2021-12-24 04:33:29.000000000', 'files': ['designate/api/wsgi.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/6221a8bd2f8552f8b4ff605ef24cf8c3f647ed97', 'message': 'Always reset CONF when starting the wsgi app\n\nThis ensures that options loaded during any prior run of the\napplication are dropped before being added again during init_application.\n\nChange-Id: Ia502bdf69650b0ac24fda657b849a061f1172086\n'}]",3,733506,6221a8bd2f8552f8b4ff605ef24cf8c3f647ed97,30,7,4,28522,,,0,"Always reset CONF when starting the wsgi app

This ensures that options loaded during any prior run of the
application are dropped before being added again during init_application.

Change-Id: Ia502bdf69650b0ac24fda657b849a061f1172086
",git fetch https://review.opendev.org/openstack/designate refs/changes/06/733506/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/api/wsgi.py'],1,495c5706fef8f3d5c2e68b687b92512f1db75a63,reset_conf, # NOTE(hberaud): Call reset to ensure the ConfigOpts object doesn't # already contain registered options if the app is reloaded. CONF.reset(),,3,0
openstack%2Ftripleo-ci~master~I2b1807cb2e8c0bc31142a071cde87a700d34996d,openstack/tripleo-ci,master,I2b1807cb2e8c0bc31142a071cde87a700d34996d,Changed minversion in tox to 3.18.0,MERGED,2021-09-18 03:58:46.000000000,2021-12-31 04:15:29.000000000,2021-12-31 04:15:29.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2021-09-18 03:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/26926d9c4de2b1bab254d648a6f8c88b03e4e879', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I2b1807cb2e8c0bc31142a071cde87a700d34996d\n""}, {'number': 2, 'created': '2021-11-08 06:23:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e65064ebff69982e365b155cdf2a4ff0eaced75', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I2b1807cb2e8c0bc31142a071cde87a700d34996d\n""}]",0,809923,4e65064ebff69982e365b155cdf2a4ff0eaced75,10,4,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I2b1807cb2e8c0bc31142a071cde87a700d34996d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/23/809923/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26926d9c4de2b1bab254d648a6f8c88b03e4e879,,minversion = 3.18.0allowlist_externals =,minversion = 3.4.0whitelist_externals =,2,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0e075153e99876ddf613caecc92b4442e8b6ca03,openstack/tripleo-heat-templates,stable/ussuri,I0e075153e99876ddf613caecc92b4442e8b6ca03,Fix IPv6 router on UC re-install,MERGED,2021-12-23 09:12:24.000000000,2021-12-31 04:15:26.000000000,2021-12-31 04:15:26.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-23 09:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ab358932c8970c115d3be6fb4cb301c44a250d1', 'message': ""Fix IPv6 router on UC re-install\n\nRunning 'openstack undercloud install' a second\ntime failed with a ConflictException because a subnet\nwith a router port cannot have the gateway_ip updated.\n\nEnsure that the router port is always deleted prior to\nthe subnet update and then add the router port again\nafter updating the subnet\n\nCloses-Bug: #1955417\nChange-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03\n(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)\n""}, {'number': 2, 'created': '2021-12-27 05:50:18.000000000', 'files': ['extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fadecc206ecb5469b03bf6ee17a85997da80a96', 'message': ""Fix IPv6 router on UC re-install\n\nRunning 'openstack undercloud install' a second\ntime failed with a ConflictException because a subnet\nwith a router port cannot have the gateway_ip updated.\n\nEnsure that the router port is always deleted prior to\nthe subnet update and then add the router port again\nafter updating the subnet\n\nCloses-Bug: #1955417\nChange-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03\n(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)\n""}]",1,822689,4fadecc206ecb5469b03bf6ee17a85997da80a96,12,3,2,24245,,,0,"Fix IPv6 router on UC re-install

Running 'openstack undercloud install' a second
time failed with a ConflictException because a subnet
with a router port cannot have the gateway_ip updated.

Ensure that the router port is always deleted prior to
the subnet update and then add the router port again
after updating the subnet

Closes-Bug: #1955417
Change-Id: I0e075153e99876ddf613caecc92b4442e8b6ca03
(cherry picked from commit 62ded067d53f8e12591f5ef7392b472cb8e9e985)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/822689/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_ctlplane_network.py'],1,3ab358932c8970c115d3be6fb4cb301c44a250d1,bug/1955417-stable/ussuri,"def _ensure_neutron_router(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) if router is None: sdk.network.create_router(name=subnet.name, admin_state_up='true') except Exception: print('ERROR: Create router for subnet %s failed.' % subnet.name) raise def _add_router_port(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) sdk.network.add_interface_to_router(router.id, subnet_id=subnet.id) except Exception: print('ERROR: Add router port for subnet %s failed.' % subnet.name) raise def _remove_router_port(sdk, subnet): try: router = sdk.network.find_router(name_or_id=subnet.name) if router is None: return router_port = next(sdk.network.ports( network_id=subnet.network_id, device_owner='network:router_interface')) sdk.network.remove_interface_from_router(router.id, subnet.id, router_port.id) except StopIteration: # There is no router port pass except Exception: print('ERROR: Delete router %s failed.' % subnet.name) # If the subnet is IPv6 we need to start a router so that router # advertisements are sent out for stateless IP addressing to work. # NOTE(hjensas): Don't do this for routed networks. The router will # use the address defined as gateway for the subnet, and in a # deployment with routed networks this will conflict with the router # in the infrastructure. The router in the infrastructure must be # configured to send router advertisements. enable_ipv6_router = (CONF['enable_routed_networks'] is False and netaddr.IPNetwork(s['NetworkCidr']).version == 6) # The router interface must be removed prior to updating the subnet # in case the gateway_ip of the subnet changed. if enable_ipv6_router: _remove_router_port(sdk, subnet) if enable_ipv6_router: _ensure_neutron_router(sdk, subnet) _add_router_port(sdk, subnet) ","def _ensure_neutron_router(sdk, name, subnet_id): # If the router already exist, don't try to create it again. if list(sdk.network.routers(name=name)): return try: router = sdk.network.create_router(name=name, admin_state_up='true') sdk.network.add_interface_to_router(router.id, subnet_id=subnet_id) except Exception: print('ERROR: Create router for subnet %s failed.' % name) # If the subnet is IPv6 we need to start a router so that router # advertisments are sent out for stateless IP addressing to work. # NOTE(hjensas): Don't do this for routed networks. The router will # use the address defined as gateway for the subnet, and in a # deployment with routed networks this will conflict with the router # in the infrastructure. The router in the infrastucture must be # configured to send router advertisements. if not CONF['enable_routed_networks']: if netaddr.IPNetwork(s['NetworkCidr']).version == 6: _ensure_neutron_router(sdk, name, subnet.id)",56,19
openstack%2Fdiskimage-builder~master~I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76,openstack/diskimage-builder,master,I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76,Introduce openEuler distro,MERGED,2021-04-01 10:13:50.000000000,2021-12-31 03:58:56.000000000,2021-08-11 04:57:01.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 15054}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2021-04-01 10:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c746f99f80be6422ab76a1413c41664a5e840fe3', 'message': 'Introduce openEuler distro\n\nAdd openeuler-minimal element and add CI functional tests for both x86_64\nand arm64.\n\nOpenEuler is a YUM/DNF distro like CentOS. It references Fedora and CentOS\na lot for the rpm packages building. So somewhat it can be treated as a\nredhat family distro and reuse the yum related elements to help build\nopenEuler images.\n\nFor more info about openEuler, see: https://openeuler.org\n\nChange-Id: I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76\n'}, {'number': 2, 'created': '2021-04-01 10:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/75469e8aa24094197ab5d0a32af8fd1e5078819e', 'message': 'Introduce openEuler distro\n\nAdd openeuler-minimal element and add CI functional tests for both\nx86_64 and arm64.\n\nOpenEuler is an open source YUM/DNF distro like CentOS. It references\nFedora and CentOS a lot for the rpm packages building. So somewhat it\ncan be treated as a redhat family distro and reuse the yum related\nelements to help build openEuler images.\n\nFor more info about openEuler, see: https://openeuler.org\n\nChange-Id: I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76\n'}, {'number': 3, 'created': '2021-04-02 01:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2af7863df651c30d4c8a63727ef50fe91a05b449', 'message': 'Introduce openEuler distro\n\nAdd openeuler-minimal element and add CI functional tests for both\nx86_64 and arm64.\n\nOpenEuler is an open source YUM/DNF distro like CentOS. It references\nFedora and CentOS a lot for the rpm packages building. So somewhat it\ncan be treated as a redhat family distro and reuse the yum related\nelements to help build openEuler images.\n\nFor more info about openEuler, see: https://openeuler.org\n\nChange-Id: I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76\n'}, {'number': 4, 'created': '2021-04-02 03:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ca9489c293e2c229b4a561914c4f07f4aae9a8c5', 'message': 'Introduce openEuler distro\n\nAdd openeuler-minimal element and add CI functional tests for both\nx86_64 and arm64.\n\nOpenEuler is an open source community driven YUM/DNF distro like\nFedora. It references Fedora and CentOS a lot for the rpm packages\nbuilding. So somewhat it can be treated as a redhat family distro\nand reuse the YUM/DNF related elements to help build openEuler images.\n\nFor more info about openEuler, see: https://openeuler.org\n\nChange-Id: I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76\n'}, {'number': 5, 'created': '2021-08-03 08:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ea6360b129615c4660fbd0bca12b92950417f2f2', 'message': 'Introduce openEuler distro\n\nAdd openeuler-minimal element and add CI functional tests for both\nx86_64 and arm64.\n\nOpenEuler is an open source community driven YUM/DNF distro like\nFedora. It references Fedora and CentOS a lot for the rpm packages\nbuilding. So somewhat it can be treated as a redhat family distro\nand reuse the YUM/DNF related elements to help build openEuler images.\n\nFor more info about openEuler, see: https://openeuler.org/en\n\nChange-Id: I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76\n'}, {'number': 6, 'created': '2021-08-04 03:08:30.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/yum-minimal/pkg-map', 'diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'roles/dib-setup-gate-mirrors/templates/openeuler-minimal/20.03-LTS-SP2/openEuler.repo.j2', 'diskimage_builder/elements/openeuler-minimal/root.d/00-00-generate-repo', 'diskimage_builder/elements/pkg-map/README.rst', 'diskimage_builder/elements/openeuler-minimal/element-deps', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash', 'diskimage_builder/elements/openeuler-minimal/package-installs.yaml', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/openeuler-minimal/environment.d/10-openeuler-distro-name.bash', 'diskimage_builder/elements/openeuler-minimal/environment.d/11-yum-dnf.bash', 'roles/dib-setup-gate-mirrors/tasks/main.yaml', 'diskimage_builder/elements/redhat-common/README.rst', 'diskimage_builder/elements/openeuler-minimal/element-provides', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP2-build-succeeds/README.rst', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP2-build-succeeds/test-output-formats', 'diskimage_builder/elements/openeuler-minimal/README.rst', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP2-build-succeeds/element-deps', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP2-build-succeeds/environment.d/10-set-distro.bash', 'releasenotes/notes/add-openeuler-minimal-element-068dc7d9d94e5098.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a6ee4d0c217335cf83ca9a42de78263d085ab839', 'message': 'Introduce openEuler distro\n\nAdd openeuler-minimal element and add CI functional tests for both\nx86_64 and arm64.\n\nOpenEuler is an open source community driven YUM/DNF distro like\nFedora. It references Fedora and CentOS a lot for the rpm packages\nbuilding. So somewhat it can be treated as a redhat family distro\nand reuse the YUM/DNF related elements to help build openEuler images.\n\nFor more info about openEuler, see: https://openeuler.org/en\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/803413\nChange-Id: I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76\n'}]",4,784363,a6ee4d0c217335cf83ca9a42de78263d085ab839,52,6,6,22997,,,0,"Introduce openEuler distro

Add openeuler-minimal element and add CI functional tests for both
x86_64 and arm64.

OpenEuler is an open source community driven YUM/DNF distro like
Fedora. It references Fedora and CentOS a lot for the rpm packages
building. So somewhat it can be treated as a redhat family distro
and reuse the YUM/DNF related elements to help build openEuler images.

For more info about openEuler, see: https://openeuler.org/en

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/803413
Change-Id: I3e06e49b524364c3a4edeba8bce7a8c06b9c7b76
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/63/784363/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP1-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/yum-minimal/pkg-map', 'diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/pkg-map/README.rst', 'diskimage_builder/elements/openeuler-minimal/element-deps', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP1-build-succeeds/README.rst', 'diskimage_builder/elements/openeuler-minimal/package-installs.yaml', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/openeuler-minimal/environment.d/10-openeuler-distro-name.bash', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP1-build-succeeds/element-deps', 'diskimage_builder/elements/openeuler-minimal/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/openeuler-minimal/root.d/00-generate-repo', 'diskimage_builder/elements/redhat-common/README.rst', '.zuul.d/project.yaml', 'diskimage_builder/elements/openeuler-minimal/element-provides', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/yum-minimal/package-installs.yaml', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP1-build-succeeds/test-output-formats', 'diskimage_builder/elements/openeuler-minimal/README.rst', 'releasenotes/notes/add-openeuler-minimal-element-068dc7d9d94e5098.yaml']",22,c746f99f80be6422ab76a1413c41664a5e840fe3,add-openeuler-minimal-element,"--- features: - | Add ``openeuler-minimal`` element. OpenEuler is a YUM/DNF distro like CentOS. It references Fedora and CentOS a lot for the rpm package building. For more info about openEuler, see: https://openeuler.org. ",,127,5
openstack%2Frequirements~master~I973688cd7337b4d5aaac6e29a9403e151c7420bd,openstack/requirements,master,I973688cd7337b4d5aaac6e29a9403e151c7420bd,Updated from generate-constraints,ABANDONED,2021-12-31 02:43:25.000000000,2021-12-31 03:05:09.000000000,,[],"[{'number': 1, 'created': '2021-12-31 02:43:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4e4506ce4fd564343b38ecae7d2caf32dafec484', 'message': 'Updated from generate-constraints\n\nChange-Id: I973688cd7337b4d5aaac6e29a9403e151c7420bd\n'}]",0,823211,4e4506ce4fd564343b38ecae7d2caf32dafec484,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I973688cd7337b4d5aaac6e29a9403e151c7420bd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/823211/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4e4506ce4fd564343b38ecae7d2caf32dafec484,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1pkg_resources===0.0.0django-compressor===3.1Pygments===2.11.0pysaml2===7.1.0rjsmin===1.2.0zipp===3.6.0;python_version=='3.6' zipp===3.7.0;python_version=='3.8'fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0django-compressor===2.4.1Pygments===2.10.0pysaml2===7.0.1rjsmin===1.1.0zipp===3.6.0fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.2.0;python_version=='3.8',10,10
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic72dd8df3053241a707b16be2fab706d2762984d,openstack/tripleo-heat-templates,stable/wallaby,Ic72dd8df3053241a707b16be2fab706d2762984d,[Wallaby] Fix wrong resource name for ovs-dpdk service,MERGED,2021-12-27 09:05:49.000000000,2021-12-31 01:14:57.000000000,2021-12-31 01:14:57.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-12-27 09:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3857004ef1b986d7ffc8184fae39a6f8468a9e15', 'message': '[Wallaby] Fix wrong resource name for ovs-dpdk service\n\nBackport If8958c414c400026c66187261d8fff439aad6388 has\nwrongly named used the resource name. Correct the value\nto the RoleParametersDpdk as defined in the stack.\n\nChange-Id: Ic72dd8df3053241a707b16be2fab706d2762984d\n'}, {'number': 2, 'created': '2021-12-27 09:07:27.000000000', 'files': ['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15d572f6891febf7071b257243c39fb9acbdd893', 'message': '[Wallaby] Fix wrong resource name for ovs-dpdk service\n\nBackport If8958c414c400026c66187261d8fff439aad6388 has\nwrong resource name in the template. Correct the value\nto the RoleParametersDpdk as defined in the stack.\n\nChange-Id: Ic72dd8df3053241a707b16be2fab706d2762984d\n'}]",0,823002,15d572f6891febf7071b257243c39fb9acbdd893,8,4,2,18575,,,0,"[Wallaby] Fix wrong resource name for ovs-dpdk service

Backport If8958c414c400026c66187261d8fff439aad6388 has
wrong resource name in the template. Correct the value
to the RoleParametersDpdk as defined in the stack.

Change-Id: Ic72dd8df3053241a707b16be2fab706d2762984d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/823002/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'],1,3857004ef1b986d7ffc8184fae39a6f8468a9e15,wallaby_ovs_dpdk_error," - {get_attr: [RoleParametersDpdk, value, nova_postcopy]}"," - {get_attr: [RoleParametersValue, value, nova_postcopy]}",1,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I0f005146ae75e85b428061eeb30864767f546fff,openstack/puppet-tripleo,stable/ussuri,I0f005146ae75e85b428061eeb30864767f546fff,Horizon: Enable manila-dashboard configurations,MERGED,2021-12-14 15:39:05.000000000,2021-12-31 01:14:54.000000000,2021-12-31 01:14:54.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 15:39:05.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6bbc9473729cce429c4cd8a859c13e8a4a75cf9d', 'message': 'Horizon: Enable manila-dashboard configurations\n\nDepends-on: https://review.opendev.org/802204\nChange-Id: I0f005146ae75e85b428061eeb30864767f546fff\n(cherry picked from commit 8966029af1445c09891bf8864bf5b00991a98ca0)\n(cherry picked from commit f52ae4c055ded84cc30571f05ded9583a0d7572a)\n(cherry picked from commit 02f31798101e7430c2ddc720171fcda6831057e1)\n'}]",0,821717,6bbc9473729cce429c4cd8a859c13e8a4a75cf9d,9,3,1,9816,,,0,"Horizon: Enable manila-dashboard configurations

Depends-on: https://review.opendev.org/802204
Change-Id: I0f005146ae75e85b428061eeb30864767f546fff
(cherry picked from commit 8966029af1445c09891bf8864bf5b00991a98ca0)
(cherry picked from commit f52ae4c055ded84cc30571f05ded9583a0d7572a)
(cherry picked from commit 02f31798101e7430c2ddc720171fcda6831057e1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/821717/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,6bbc9473729cce429c4cd8a859c13e8a4a75cf9d,puppet-horizon-dashboards-stable/ussuri," is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and manila enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :manila_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to contain_class('horizon::dashboards::manila')",,32,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~Idcb1aa7c496c6d158791c6d499069d919b9d363a,openstack/puppet-tripleo,stable/ussuri,Idcb1aa7c496c6d158791c6d499069d919b9d363a,Horizon: Enable octavia-dashboard configurations,MERGED,2021-12-14 15:39:05.000000000,2021-12-31 00:41:46.000000000,2021-12-31 00:41:46.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 15:39:05.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9cab6d703e6df6cbef391a58aafab27e69d42d33', 'message': 'Horizon: Enable octavia-dashboard configurations\n\nDepends-on: https://review.opendev.org/802203\nChange-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a\n(cherry picked from commit 8a00edfa0b46440910a20b86fbfedeb377c87bd5)\n(cherry picked from commit 34712a303fc3f5be4f91601aae4177fa72502827)\n(cherry picked from commit d30b18cdb62ef4706d3dba34fe20a271287359d9)\n'}]",0,821716,9cab6d703e6df6cbef391a58aafab27e69d42d33,9,3,1,9816,,,0,"Horizon: Enable octavia-dashboard configurations

Depends-on: https://review.opendev.org/802203
Change-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a
(cherry picked from commit 8a00edfa0b46440910a20b86fbfedeb377c87bd5)
(cherry picked from commit 34712a303fc3f5be4f91601aae4177fa72502827)
(cherry picked from commit d30b18cdb62ef4706d3dba34fe20a271287359d9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/16/821716/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,9cab6d703e6df6cbef391a58aafab27e69d42d33,puppet-horizon-dashboards-stable/ussuri," is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and octavia enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :octavia_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to contain_class('horizon::dashboards::octavia')",,30,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I05f9a8e4332be9bea2c623202c01b1c133045852,openstack/puppet-tripleo,stable/ussuri,I05f9a8e4332be9bea2c623202c01b1c133045852,Horizon: Enable heat-dashboard configurations,MERGED,2021-12-14 15:39:05.000000000,2021-12-31 00:26:26.000000000,2021-12-31 00:26:26.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 15:39:05.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f39d49bdcfbd6a9ccd7e9c315d8e2dfb23613411', 'message': 'Horizon: Enable heat-dashboard configurations\n\nDepends-on: https://review.opendev.org/802202\nChange-Id: I05f9a8e4332be9bea2c623202c01b1c133045852\n(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)\n(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)\n(cherry picked from commit e61d0d1b06b252ae226bbcb2b427e6a4ec65d752)\n'}]",0,821715,f39d49bdcfbd6a9ccd7e9c315d8e2dfb23613411,9,3,1,9816,,,0,"Horizon: Enable heat-dashboard configurations

Depends-on: https://review.opendev.org/802202
Change-Id: I05f9a8e4332be9bea2c623202c01b1c133045852
(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)
(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)
(cherry picked from commit e61d0d1b06b252ae226bbcb2b427e6a4ec65d752)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/821715/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,f39d49bdcfbd6a9ccd7e9c315d8e2dfb23613411,puppet-horizon-dashboards-stable/ussuri," is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and heat enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :heat_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to contain_class('horizon::dashboards::heat')",,28,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fwallaby~If4103a28235b0127b5e2220577a7cd2451154c1d,openstack/openstack-ansible-os_gnocchi,stable/wallaby,If4103a28235b0127b5e2220577a7cd2451154c1d,Do not provide ceph_alternative extra for ceph,MERGED,2021-12-23 13:51:51.000000000,2021-12-31 00:24:26.000000000,2021-12-31 00:23:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-23 13:51:51.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/a33a5b02b9f8ce9c456ab7f2c731ad2be506f2e6', 'message': 'Do not provide ceph_alternative extra for ceph\n\nWhen adding ceph_alternative in pip extras, pip tries to install\npython-rados which is not available from pypi and this fails installation\nWe symlink all required packages inside venv with ceph_client role so\nproviding ceph_alternative as extras makes no sense.\n\nChange-Id: If4103a28235b0127b5e2220577a7cd2451154c1d\n(cherry picked from commit 2938fadcf3bc662495c5a135ba3fcd63b1e2040b)\n'}]",1,822793,a33a5b02b9f8ce9c456ab7f2c731ad2be506f2e6,10,3,1,28619,,,0,"Do not provide ceph_alternative extra for ceph

When adding ceph_alternative in pip extras, pip tries to install
python-rados which is not available from pypi and this fails installation
We symlink all required packages inside venv with ceph_client role so
providing ceph_alternative as extras makes no sense.

Change-Id: If4103a28235b0127b5e2220577a7cd2451154c1d
(cherry picked from commit 2938fadcf3bc662495c5a135ba3fcd63b1e2040b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/93/822793/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,a33a5b02b9f8ce9c456ab7f2c731ad2be506f2e6,,"# NOTE(noonedeadpunk): We prefer using ceph_alternative when storage driver is ceph. # However, if we define ceph_alternative here, gnocchi with setup.cfg # will attempt to install python-rados which is not available from pypi # anyway. We symlink required package with ceph_client role. {% if gnocchi_storage_driver not in ['ceph', 'file'] %} {{ extra_package | default('') }}", {% if gnocchi_storage_driver == 'ceph' %} {% set extra_package = 'ceph_alternative' %} {% elif gnocchi_storage_driver == 'file' %} {% set extra_package = '' %} {% else %} {{ extra_package }},6,6
openstack%2Fansible-role-python_venv_build~master~I3c3547c3fa6df2bef6834e0cec4d43ef03b82f5f,openstack/ansible-role-python_venv_build,master,I3c3547c3fa6df2bef6834e0cec4d43ef03b82f5f,Fix wheel build alert condition,MERGED,2021-12-30 11:28:09.000000000,2021-12-31 00:11:54.000000000,2021-12-31 00:10:37.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-12-30 11:28:09.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/4d826ad133fcd5c6ad924dac565672f5267c33d8', 'message': 'Fix wheel build alert condition\n\nCurrently alert is raised when wheels are built while it should be triggered only\nwhen they are not.\n\nChange-Id: I3c3547c3fa6df2bef6834e0cec4d43ef03b82f5f\nCloses-Bug: #1956026\n'}]",0,823199,4d826ad133fcd5c6ad924dac565672f5267c33d8,8,3,1,28619,,,0,"Fix wheel build alert condition

Currently alert is raised when wheels are built while it should be triggered only
when they are not.

Change-Id: I3c3547c3fa6df2bef6834e0cec4d43ef03b82f5f
Closes-Bug: #1956026
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/99/823199/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,4d826ad133fcd5c6ad924dac565672f5267c33d8,bug/1956026, - not venv_wheel_build_enable | bool, - venv_wheel_build_enable | bool,1,1
openstack%2Fpuppet-tripleo~master~I001da64e0166775aa3ca72938cf5434e8e2260a7,openstack/puppet-tripleo,master,I001da64e0166775aa3ca72938cf5434e8e2260a7,Remove leftover of keepalived support,MERGED,2021-11-15 03:47:21.000000000,2021-12-30 23:51:05.000000000,2021-12-30 23:51:05.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-15 03:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3e2a056a14776ae248d85209549df780fba6c731', 'message': 'Remove keepalived manifest\n\n... because support for keepalived was already removed from t-h-t.\n\nDepends-on: https://review.opendev.org/788095\nChange-Id: I001da64e0166775aa3ca72938cf5434e8e2260a7\n'}, {'number': 2, 'created': '2021-11-15 03:48:48.000000000', 'files': ['manifests/profile/base/keepalived.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/751c6f016466b3b3c51c5bad5ce21e5e5733c592', 'message': 'Remove leftover of keepalived support\n\nThis removes one remaining manifest file for keepalived service which\nshould have been deleted by [1].\n\n[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73\n\nChange-Id: I001da64e0166775aa3ca72938cf5434e8e2260a7\n'}]",1,817883,751c6f016466b3b3c51c5bad5ce21e5e5733c592,12,4,2,9816,,,0,"Remove leftover of keepalived support

This removes one remaining manifest file for keepalived service which
should have been deleted by [1].

[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73

Change-Id: I001da64e0166775aa3ca72938cf5434e8e2260a7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/817883/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/keepalived.pp'],1,3e2a056a14776ae248d85209549df780fba6c731,,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::keepalived # # Loadbalancer profile for tripleo # # === Parameters # # [*enable_load_balancer*] # (Optional) Whether or not loadbalancer is enabled. # Defaults to hiera('enable_load_balancer', true). # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # # [*control_virtual_interface*] # (Optional) Interface specified for control plane network # Defaults to hiera('tripleo::keepalived::control_virtual_interface', false) # # [*control_virtual_ip*] # Virtual IP address used for control plane network # Defaults to hiera('tripleo::keepalived::controller_virtual_ip') # # [*public_virtual_interface*] # (Optional) Interface specified for public/external network # Defaults to hiera('tripleo::keepalived::public_virtual_interface', false) # # [*public_virtual_ip*] # Virtual IP address used for public/ network # Defaults to hiera('tripleo::keepalived::public_virtual_ip') # class tripleo::profile::base::keepalived ( $enable_load_balancer = hiera('enable_load_balancer', true), $control_virtual_interface = hiera('tripleo::keepalived::control_virtual_interface', false), $control_virtual_ip = hiera('tripleo::keepalived::controller_virtual_ip'), $public_virtual_interface = hiera('tripleo::keepalived::public_virtual_interface', false), $public_virtual_ip = hiera('tripleo::keepalived::public_virtual_ip'), $step = Integer(hiera('step')), ) { if $step >= 1 { if $enable_load_balancer and hiera('enable_keepalived', true){ if ! $control_virtual_interface { $control_detected_interface = interface_for_ip($control_virtual_ip) if ! $control_detected_interface { fail('Unable to find interface for control plane network') } } else { $control_detected_interface = $control_virtual_interface } if ! $public_virtual_interface { $public_detected_interface = interface_for_ip($public_virtual_ip) if ! $public_detected_interface { fail('Unable to find interface for public network') } } else { $public_detected_interface = $public_virtual_interface } class { 'tripleo::keepalived': control_virtual_interface => $control_detected_interface, public_virtual_interface => $public_detected_interface, } } } } ",0,81
openstack%2Fpuppet-glance~master~I82cd7f006f9c85513ee8781e6e1a526816188844,openstack/puppet-glance,master,I82cd7f006f9c85513ee8781e6e1a526816188844,Re-add support for S3 backend,MERGED,2021-12-21 12:48:41.000000000,2021-12-30 22:41:52.000000000,2021-12-30 22:40:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 12:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/dbb8e61e1144c58c6d41e4c2e2512e729e9f3fc7', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 2, 'created': '2021-12-21 13:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/bab20e5efe4dc741711db0c36a4ef6461a46ab6f', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 3, 'created': '2021-12-21 23:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9c55487935e11f8ef7b630085a36c60a9feb1ed4', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 4, 'created': '2021-12-22 00:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f64819abbd294bb658484794ab265296f6bda2c7', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 5, 'created': '2021-12-22 04:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f5f7fd7ee3ad8cba5f9d48feeb808af23b519bc1', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 6, 'created': '2021-12-22 15:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a81dfc003fbcbe46a8a23e0badd10ea23685e339', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 7, 'created': '2021-12-23 23:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/ea2f4a2821fcf18652984047662f0b59195cd9ce', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 8, 'created': '2021-12-26 23:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d83b33353e60a9fa2488b4647944ddd2b7dad0c6', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}, {'number': 9, 'created': '2021-12-27 02:52:19.000000000', 'files': ['manifests/backend/multistore/s3.pp', 'spec/defines/glance_backend_multistore_s3_spec.rb', 'manifests/backend/s3.pp', 'manifests/params.pp', 'releasenotes/notes/restore-s3-support-82e63d83b1184cdf.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/40315729bc455bfb3dee4abde09e0d8556d96984', 'message': 'Re-add support for S3 backend\n\nSupport for S3 backend was removed from glance_store during Newton\nrelease[1] but it was restored during Ussuri release[2].\n\nThis change re-introduces support for S3 backend.\n\n[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd\n[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432\n\nChange-Id: I82cd7f006f9c85513ee8781e6e1a526816188844\n'}]",14,822490,40315729bc455bfb3dee4abde09e0d8556d96984,30,4,9,9816,,,0,"Re-add support for S3 backend

Support for S3 backend was removed from glance_store during Newton
release[1] but it was restored during Ussuri release[2].

This change re-introduces support for S3 backend.

[1] 4432e60af2a2bdbfc456d8d99d93d1157fc86dcd
[2] 261bad3e433860742ecdaf93a9ff5609dcbfa432

Change-Id: I82cd7f006f9c85513ee8781e6e1a526816188844
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/90/822490/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/multistore/s3.pp', 'spec/defines/glance_backend_multistore_s3_spec.rb', 'releasenotes/notes/restore-s3-support-82e63d83b1184cdf.yaml']",3,dbb8e61e1144c58c6d41e4c2e2512e729e9f3fc7,s3,"--- features: - | Support for S3 backent has been re-inroduced, because s3 backend support was restored in glance_store. ",,215,0
openstack%2Fpuppet-glance~master~Ibe5bac7978012c5bb3a6528047b0787b9636bce3,openstack/puppet-glance,master,Ibe5bac7978012c5bb3a6528047b0787b9636bce3,Enable DB purge cron job after database is initialized,MERGED,2021-12-27 13:26:32.000000000,2021-12-30 22:40:36.000000000,2021-12-30 22:40:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 13:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/dd7d8c7898b475607fa9ec2abc73cb4f67a6f080', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nChange-Id: Ibe5bac7978012c5bb3a6528047b0787b9636bce3\n'}, {'number': 2, 'created': '2021-12-27 13:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c4e67e0aa05ac24a28478f57023379ae4ddf9211', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: Ibe5bac7978012c5bb3a6528047b0787b9636bce3\n'}, {'number': 3, 'created': '2021-12-27 14:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f916a7b9bb8fdbf10dd0a21093bf4b179ed95f91', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: Ibe5bac7978012c5bb3a6528047b0787b9636bce3\n'}, {'number': 4, 'created': '2021-12-28 02:46:44.000000000', 'files': ['spec/classes/glance_cron_db_purge_spec.rb', 'manifests/cron/db_purge_images_table.pp', 'spec/classes/glance_cron_db_purge_images_table_spec.rb', 'manifests/cron/db_purge.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a3a8c94430950dfd02aa677c7f6975d5ea9f8c5f', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: Ibe5bac7978012c5bb3a6528047b0787b9636bce3\n'}]",1,823013,a3a8c94430950dfd02aa677c7f6975d5ea9f8c5f,14,3,4,9816,,,0,"Enable DB purge cron job after database is initialized

The DB purge operation expects the target database is already
initialized. This change ensures db sync is completed before cron job
is enabled.

Closes-Bug: #1955829
Change-Id: Ibe5bac7978012c5bb3a6528047b0787b9636bce3
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/13/823013/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/db_purge_images_table.pp', 'manifests/cron/db_purge.pp']",2,dd7d8c7898b475607fa9ec2abc73cb4f67a6f080,bug/1955829," require => Anchor['glance::dbsync::end'],"," require => Anchor['glance::install::end'],",2,2
openstack%2Fpuppet-heat~master~I742ea262bde8b9412627a475c53b27d25e132787,openstack/puppet-heat,master,I742ea262bde8b9412627a475c53b27d25e132787,Enable DB purge cron job after database is initialized,MERGED,2021-12-27 13:24:40.000000000,2021-12-30 22:27:55.000000000,2021-12-30 22:27:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 13:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/767ae764d80785995ce4a08975076aa5b093d9f7', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nChange-Id: I742ea262bde8b9412627a475c53b27d25e132787\n'}, {'number': 2, 'created': '2021-12-27 13:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/f66301f03399e1c5e551a245da6b7543cf2b70a4', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: I742ea262bde8b9412627a475c53b27d25e132787\n'}, {'number': 3, 'created': '2021-12-27 14:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/c433134b9c682db141c9304bc7028e75f163193e', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: I742ea262bde8b9412627a475c53b27d25e132787\n'}, {'number': 4, 'created': '2021-12-27 23:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/e90e45a6e9d1e3bb0716f17013827cbcb8de3f38', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: I742ea262bde8b9412627a475c53b27d25e132787\n'}, {'number': 5, 'created': '2021-12-27 23:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/fb5e03b74ac2dca6df537a2106800975f23905eb', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: I742ea262bde8b9412627a475c53b27d25e132787\n'}, {'number': 6, 'created': '2021-12-28 01:39:31.000000000', 'files': ['spec/classes/heat_cron_purge_deleted_spec.rb', 'manifests/cron/purge_deleted.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/67139207a9e8d3752280c3dcc78c264a3ff1eaa7', 'message': 'Enable DB purge cron job after database is initialized\n\nThe DB purge operation expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug: #1955829\nChange-Id: I742ea262bde8b9412627a475c53b27d25e132787\n'}]",0,823011,67139207a9e8d3752280c3dcc78c264a3ff1eaa7,14,3,6,9816,,,0,"Enable DB purge cron job after database is initialized

The DB purge operation expects the target database is already
initialized. This change ensures db sync is completed before cron job
is enabled.

Closes-Bug: #1955829
Change-Id: I742ea262bde8b9412627a475c53b27d25e132787
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/11/823011/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cron/purge_deleted.pp'],1,767ae764d80785995ce4a08975076aa5b093d9f7,bug/1955829," require => Anchor['cinder::dbsync::end'], }", } Package<| tag == 'heat-package' |> -> Cron['heat-manage purge_deleted'],1,2
openstack%2Fpuppet-mistral~master~I35a471f48a35a8466445e402cfcd93efa1f377f9,openstack/puppet-mistral,master,I35a471f48a35a8466445e402cfcd93efa1f377f9,Load libraries in a single place,MERGED,2021-12-27 01:43:11.000000000,2021-12-30 22:26:00.000000000,2021-12-30 22:26:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 01:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/ca9aa4f64cd28cc730cc53b6fcf93ddd5ebf73c2', 'message': 'Load libraries in a single place\n\nThis change refactors how the dependent libraries are loaded during\nunit tests, and load the libraries in the base spec_helper to avoid\nduplicate and redundant implementations.\n\nChange-Id: I35a471f48a35a8466445e402cfcd93efa1f377f9\n'}, {'number': 2, 'created': '2021-12-27 07:29:41.000000000', 'files': ['spec/spec_helper.rb', 'spec/unit/provider/mistral_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/789b8f107f2fccc1a6092060c43369a82c4f799e', 'message': 'Load libraries in a single place\n\nThis change refactors how the dependent libraries are loaded during\nunit tests, and load the libraries in the base spec_helper to avoid\nduplicate and redundant implementations.\n\nChange-Id: I35a471f48a35a8466445e402cfcd93efa1f377f9\n'}]",1,822962,789b8f107f2fccc1a6092060c43369a82c4f799e,13,3,2,9816,,,0,"Load libraries in a single place

This change refactors how the dependent libraries are loaded during
unit tests, and load the libraries in the base spec_helper to avoid
duplicate and redundant implementations.

Change-Id: I35a471f48a35a8466445e402cfcd93efa1f377f9
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/62/822962/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/mistral_config/ini_setting_spec.rb', 'spec/spec_helper.rb']",2,ca9aa4f64cd28cc730cc53b6fcf93ddd5ebf73c2,ut-load-lib,"# Load libraries here to simulate how they live together in a real puppet run (for provider unit tests) $LOAD_PATH.push(File.join(File.dirname(__FILE__), 'fixtures', 'modules', 'inifile', 'lib')) $LOAD_PATH.push(File.join(File.dirname(__FILE__), 'fixtures', 'modules', 'openstacklib', 'lib'))",,3,27
openstack%2Fpuppet-mistral~master~I15d8ef17d3fc876b87890b067ca2ea705646f124,openstack/puppet-mistral,master,I15d8ef17d3fc876b87890b067ca2ea705646f124,Add support for MultiStrOpt,MERGED,2021-12-27 07:29:41.000000000,2021-12-30 22:25:58.000000000,2021-12-30 22:25:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 07:29:41.000000000', 'files': ['lib/puppet/provider/mistral_config/ini_setting.rb', 'spec/unit/provider/mistral_config/openstackconfig_spec.rb', 'spec/unit/type/mistral_config_spec.rb', 'lib/puppet/type/mistral_config.rb', 'lib/puppet/provider/mistral_config/openstackconfig.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/400a933a8ce25231c9b94b4159449b5b8effd533', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of aodh_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nare handled correctly.\n\nChange-Id: I15d8ef17d3fc876b87890b067ca2ea705646f124\n'}]",0,822995,400a933a8ce25231c9b94b4159449b5b8effd533,7,3,1,9816,,,0,"Add support for MultiStrOpt

This replaces the provider implementation of aodh_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
are handled correctly.

Change-Id: I15d8ef17d3fc876b87890b067ca2ea705646f124
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/95/822995/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/mistral_config/ini_setting.rb', 'spec/unit/provider/mistral_config/openstackconfig_spec.rb', 'spec/unit/type/mistral_config_spec.rb', 'lib/puppet/type/mistral_config.rb', 'lib/puppet/provider/mistral_config/openstackconfig.rb']",5,400a933a8ce25231c9b94b4159449b5b8effd533,multistropt,"Puppet::Type.type(:mistral_config).provide( :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby) ) do def self.file_path '/etc/mistral/mistral.conf' end end ",,23,15
openstack%2Fpuppet-keystone~master~I71380611c0075bd0d5a1dcedca621066559e1e9d,openstack/puppet-keystone,master,I71380611c0075bd0d5a1dcedca621066559e1e9d,Enable trust flush cron job after database is initialized,MERGED,2021-12-27 13:27:50.000000000,2021-12-30 22:24:56.000000000,2021-12-30 22:24:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 13:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4b9520599b3180f2629bbeabc6a3d90606b73513', 'message': 'Enable trust flush cron job after database is initialized\n\nThe trust flush operation expects the keystone database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nChange-Id: I71380611c0075bd0d5a1dcedca621066559e1e9d\n'}, {'number': 2, 'created': '2021-12-27 13:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/57ddf8f0b9467fab8336e763efa31fd7345cc1b0', 'message': 'Enable trust flush cron job after database is initialized\n\nThe trust flush operation expects the keystone database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug #1955829\nChange-Id: I71380611c0075bd0d5a1dcedca621066559e1e9d\n'}, {'number': 3, 'created': '2021-12-27 14:56:33.000000000', 'files': ['manifests/cron/trust_flush.pp', 'spec/classes/keystone_cron_trust_flush_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/258bd8c5e91ca3bc570c7be943b5f39959fbf75f', 'message': 'Enable trust flush cron job after database is initialized\n\nThe trust flush operation expects the keystone database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug #1955829\nChange-Id: I71380611c0075bd0d5a1dcedca621066559e1e9d\n'}]",0,823014,258bd8c5e91ca3bc570c7be943b5f39959fbf75f,10,3,3,9816,,,0,"Enable trust flush cron job after database is initialized

The trust flush operation expects the keystone database is already
initialized. This change ensures db sync is completed before cron job
is enabled.

Closes-Bug #1955829
Change-Id: I71380611c0075bd0d5a1dcedca621066559e1e9d
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/14/823014/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cron/trust_flush.pp'],1,4b9520599b3180f2629bbeabc6a3d90606b73513,bug/1955829," require => Anchor['keystone::dbsync::end'],"," require => Anchor['keystone::install::end'],",1,1
openstack%2Fpuppet-vswitch~master~Ibfe94720e28f5ce46977b2db2afa82a6888c28cb,openstack/puppet-vswitch,master,Ibfe94720e28f5ce46977b2db2afa82a6888c28cb,Use undef instead of $::os_service_default,MERGED,2021-12-28 04:27:28.000000000,2021-12-30 22:18:11.000000000,2021-12-30 22:16:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-28 04:27:28.000000000', 'files': ['releasenotes/notes/replace-os_service_default-25185711be0702a9.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/fb9a08d9726b79d2dcca34dab00150a1b62ef529', 'message': 'Use undef instead of $::os_service_default\n\n$::os_service_default is not used in puppet-vswitch. This change\ndeprecates usage of it to prepare replacing it by undef, which is\ncommonly used instead.\n\nChange-Id: Ibfe94720e28f5ce46977b2db2afa82a6888c28cb\n'}]",0,823036,fb9a08d9726b79d2dcca34dab00150a1b62ef529,8,3,1,9816,,,0,"Use undef instead of $::os_service_default

$::os_service_default is not used in puppet-vswitch. This change
deprecates usage of it to prepare replacing it by undef, which is
commonly used instead.

Change-Id: Ibfe94720e28f5ce46977b2db2afa82a6888c28cb
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/36/823036/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/replace-os_service_default-25185711be0702a9.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",5,fb9a08d9726b79d2dcca34dab00150a1b62ef529,,"# Default to undef $vlan_limit = undef, if is_service_default($vlan_limit) { warning('Usage of $::os_service_default for vlan_limit is deprecated. Use undef instead') $vlan_limit_real = undef } else { $vlan_limit_real = $vlan_limit } if is_service_default($vlan_limit) { warning('Usage of $::os_service_default for vlan_limit is deprecated. Use undef instead') vs_config { 'other_config:vlan-limit': ensure => absent, wait => true, } } elsif $vlan_limit == undef { vs_config { 'other_config:vlan-limit': ensure => absent, wait => true, } } else {","# Default to $::os_service_default $vlan_limit = $::os_service_default, if ! is_service_default($vlan_limit) {",50,9
openstack%2Fpuppet-zaqar~master~I11995afc7bcd88f365e4127983916f538f9133b8,openstack/puppet-zaqar,master,I11995afc7bcd88f365e4127983916f538f9133b8,Load libraries in a single place,MERGED,2021-12-27 02:09:05.000000000,2021-12-30 22:17:40.000000000,2021-12-30 22:17:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 02:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/e9f6b7036e03a40cdf637393cda3df66038697b9', 'message': 'Load libraries in a single place\n\nThis change refactors how the dependent libraries are loaded during\nunit tests, and load the libraries in the base spec_helper to avoid\nduplicate and redundant implementations.\n\nChange-Id: I11995afc7bcd88f365e4127983916f538f9133b8\n'}, {'number': 2, 'created': '2021-12-27 07:24:00.000000000', 'files': ['spec/spec_helper.rb', 'spec/unit/provider/zaqar_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/07822ab838fbfb595b0293ddb392109f69cd38cb', 'message': 'Load libraries in a single place\n\nThis change refactors how the dependent libraries are loaded during\nunit tests, and load the libraries in the base spec_helper to avoid\nduplicate and redundant implementations.\n\nChange-Id: I11995afc7bcd88f365e4127983916f538f9133b8\n'}]",0,822975,07822ab838fbfb595b0293ddb392109f69cd38cb,11,3,2,9816,,,0,"Load libraries in a single place

This change refactors how the dependent libraries are loaded during
unit tests, and load the libraries in the base spec_helper to avoid
duplicate and redundant implementations.

Change-Id: I11995afc7bcd88f365e4127983916f538f9133b8
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/75/822975/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/spec_helper.rb', 'spec/unit/provider/zaqar_config/ini_setting_spec.rb']",2,e9f6b7036e03a40cdf637393cda3df66038697b9,ut-load-lib,,"# these tests are a little concerning b/c they are hacking around the # modulepath, so these tests will not catch issues that may eventually arise # related to loading these plugins. # I could not, for the life of me, figure out how to programmatically set the modulepath $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'inifile', 'lib') ) $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'openstacklib', 'lib') ) ",3,27
openstack%2Fpuppet-zaqar~master~I4cea52da9531b68598c0d7429fb2ed581ab6c4f7,openstack/puppet-zaqar,master,I4cea52da9531b68598c0d7429fb2ed581ab6c4f7,Add support for MultiStrOpt,MERGED,2021-12-27 07:24:00.000000000,2021-12-30 22:17:38.000000000,2021-12-30 22:17:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 07:24:00.000000000', 'files': ['spec/unit/type/zaqar_config_spec.rb', 'lib/puppet/type/zaqar_config.rb', 'lib/puppet/provider/zaqar_config/ini_setting.rb', 'spec/unit/provider/zaqar_config/openstackconfig_spec.rb', 'lib/puppet/provider/zaqar_config/openstackconfig.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/553f60ab1038ed21c0051e66d0e351687d96ebda', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of aodh_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nare handled correctly.\n\nChange-Id: I4cea52da9531b68598c0d7429fb2ed581ab6c4f7\n'}]",3,822994,553f60ab1038ed21c0051e66d0e351687d96ebda,13,3,1,9816,,,0,"Add support for MultiStrOpt

This replaces the provider implementation of aodh_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
are handled correctly.

Change-Id: I4cea52da9531b68598c0d7429fb2ed581ab6c4f7
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/94/822994/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/type/zaqar_config_spec.rb', 'lib/puppet/type/zaqar_config.rb', 'lib/puppet/provider/zaqar_config/ini_setting.rb', 'spec/unit/provider/zaqar_config/openstackconfig_spec.rb', 'lib/puppet/provider/zaqar_config/openstackconfig.rb']",5,553f60ab1038ed21c0051e66d0e351687d96ebda,multistropt,"Puppet::Type.type(:zaqar_config).provide( :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby) ) do def self.file_path '/etc/zaqar/zaqar.conf' end end ",,23,15
openstack%2Fpuppet-vswitch~master~I654c0f7f5a5efb845484cb610ff07effd4f33aa9,openstack/puppet-vswitch,master,I654c0f7f5a5efb845484cb610ff07effd4f33aa9,Ensure hardware offload is disabled,MERGED,2021-12-28 04:33:17.000000000,2021-12-30 22:16:41.000000000,2021-12-30 22:16:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-28 04:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f8af6f79e40370d5a77af1323278763dae264e91', 'message': ""Ensure hardware offload is disabled\n\nThis change ensures hardware offload is disabled. Previously when\nhw_offload is false, puppet-vswitch didn't manage the configuration,\nthus offload is kept enabled if it is enabled in advance.\n\nChange-Id: I654c0f7f5a5efb845484cb610ff07effd4f33aa9\n""}, {'number': 2, 'created': '2021-12-28 04:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/4e6320c00a81e10962e34ffb6a392c6d7b845d54', 'message': ""Ensure hardware offload is disabled\n\nThis change ensures hardware offload is disabled. Previously when\nhw_offload is false, puppet-vswitch didn't manage the configuration,\nthus offload was kept enabled if it was enabled in advance.\n\nChange-Id: I654c0f7f5a5efb845484cb610ff07effd4f33aa9\n""}, {'number': 3, 'created': '2021-12-28 08:30:09.000000000', 'files': ['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/c801c6e97be5054c696da727a9d36bd42142b0cc', 'message': ""Ensure hardware offload is disabled\n\nThis change ensures hardware offload is disabled. Previously when\nhw_offload is false, puppet-vswitch didn't manage the configuration,\nthus offload was kept enabled if it was enabled in advance.\n\nChange-Id: I654c0f7f5a5efb845484cb610ff07effd4f33aa9\n""}]",0,823037,c801c6e97be5054c696da727a9d36bd42142b0cc,10,3,3,9816,,,0,"Ensure hardware offload is disabled

This change ensures hardware offload is disabled. Previously when
hw_offload is false, puppet-vswitch didn't manage the configuration,
thus offload was kept enabled if it was enabled in advance.

Change-Id: I654c0f7f5a5efb845484cb610ff07effd4f33aa9
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/37/823037/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",3,f8af6f79e40370d5a77af1323278763dae264e91,," } else { vs_config { 'other_config:hw-offload': ensure => absent, restart => true, wait => true, }",,16,2
openstack%2Fpuppet-vswitch~master~I7989bb4ad27f7d3c438962516c42950008c53fa6,openstack/puppet-vswitch,master,I7989bb4ad27f7d3c438962516c42950008c53fa6,Remove deprecated ovs::dpdk::driver_type,MERGED,2021-12-28 04:13:12.000000000,2021-12-30 22:15:41.000000000,2021-12-30 22:14:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-28 04:13:12.000000000', 'files': ['releasenotes/notes/remove-dpdk-driver_type-81f749f31a0501bd.yaml', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/41f864f2e15a6294fb260ed9f81b859a5e61441f', 'message': 'Remove deprecated ovs::dpdk::driver_type\n\n... because it was deprecated during Rocky cycle[1].\n\n[1] 3d91514806a1bb32aa2ac0fed90ced23162ccc32\n\nChange-Id: I7989bb4ad27f7d3c438962516c42950008c53fa6\n'}]",0,823035,41f864f2e15a6294fb260ed9f81b859a5e61441f,8,3,1,9816,,,0,"Remove deprecated ovs::dpdk::driver_type

... because it was deprecated during Rocky cycle[1].

[1] 3d91514806a1bb32aa2ac0fed90ced23162ccc32

Change-Id: I7989bb4ad27f7d3c438962516c42950008c53fa6
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/35/823035/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-dpdk-driver_type-81f749f31a0501bd.yaml', 'manifests/dpdk.pp']",2,41f864f2e15a6294fb260ed9f81b859a5e61441f,,,"# DEPRECATED PARAMETERS # # [*driver_type*] # (Optional) The DPDK Driver type # Defaults to 'vfio-pci' # This parameter is required only for OVS versions <= 2.5. # # DEPRECATED PARAMETERS $driver_type = 'vfio-pci',",4,9
openstack%2Fpuppet-trove~master~Ib8964d869fda8968bd894b19487c38e73255746a,openstack/puppet-trove,master,Ib8964d869fda8968bd894b19487c38e73255746a,Load libraries in a single place,MERGED,2021-12-27 02:05:36.000000000,2021-12-30 22:04:03.000000000,2021-12-30 22:04:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 02:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/64c10a47015a135bf6de1c2f7d541881616333f1', 'message': 'Load libraries in a single place\n\nThis change refactors how the dependent libraries are loaded during\nunit tests, and load the libraries in the base spec_helper to avoid\nduplicate and redundant implementations.\n\nChange-Id: Ib8964d869fda8968bd894b19487c38e73255746a\n'}, {'number': 2, 'created': '2021-12-27 07:26:14.000000000', 'files': ['spec/unit/provider/trove_guestagent_config/openstackconfig_spec.rb', 'spec/spec_helper.rb', 'spec/unit/provider/trove_taskmanager_config/openstackconfig_spec.rb', 'spec/unit/provider/trove_conductor_config/openstackconfig_spec.rb', 'spec/unit/provider/trove_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/d3dc5a0ba78c286d16ea9c59a5ae7da4caaf09cd', 'message': 'Load libraries in a single place\n\nThis change refactors how the dependent libraries are loaded during\nunit tests, and load the libraries in the base spec_helper to avoid\nduplicate and redundant implementations.\n\nChange-Id: Ib8964d869fda8968bd894b19487c38e73255746a\n'}]",0,822972,d3dc5a0ba78c286d16ea9c59a5ae7da4caaf09cd,11,3,2,9816,,,0,"Load libraries in a single place

This change refactors how the dependent libraries are loaded during
unit tests, and load the libraries in the base spec_helper to avoid
duplicate and redundant implementations.

Change-Id: Ib8964d869fda8968bd894b19487c38e73255746a
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/72/822972/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/spec_helper.rb', 'spec/unit/provider/trove_config/ini_setting_spec.rb']",2,64c10a47015a135bf6de1c2f7d541881616333f1,ut-load-lib,,"# these tests are a little concerning b/c they are hacking around the # modulepath, so these tests will not catch issues that may eventually arise # related to loading these plugins. # I could not, for the life of me, figure out how to programatcally set the modulepath $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'inifile', 'lib') ) $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'openstacklib', 'lib') )",3,26
openstack%2Fpuppet-trove~master~I4baeeb5f8f65743a3edc01db69909cec5cd9b8e6,openstack/puppet-trove,master,I4baeeb5f8f65743a3edc01db69909cec5cd9b8e6,Add support for MultiStrOpt,MERGED,2021-12-27 04:23:25.000000000,2021-12-30 22:04:01.000000000,2021-12-30 22:04:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 04:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/74409126a2ca161033950c387e9b7b5ec3aee729', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of aodh_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nare handled correctly.\n\nChange-Id: I4baeeb5f8f65743a3edc01db69909cec5cd9b8e6\n'}, {'number': 2, 'created': '2021-12-27 04:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/053b7ba5be3661fc5249082e47f3bd2c88b33154', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of aodh_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nare handled correctly.\n\nChange-Id: I4baeeb5f8f65743a3edc01db69909cec5cd9b8e6\n'}, {'number': 3, 'created': '2021-12-27 06:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/a758988a6c32fe1dcfa9a1f45d8f3282bbd3e699', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of aodh_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nare handled correctly.\n\nChange-Id: I4baeeb5f8f65743a3edc01db69909cec5cd9b8e6\n'}, {'number': 4, 'created': '2021-12-27 07:26:14.000000000', 'files': ['spec/unit/type/trove_conductor_config_spec.rb', 'lib/puppet/provider/trove_guestagent_config/ini_setting.rb', 'lib/puppet/type/trove_config.rb', 'lib/puppet/type/trove_taskmanager_config.rb', 'spec/unit/type/trove_taskmanager_config_spec.rb', 'lib/puppet/provider/trove_taskmanager_config/ini_setting.rb', 'spec/unit/provider/trove_taskmanager_config/openstackconfig_spec.rb', 'spec/unit/provider/trove_conductor_config/openstackconfig_spec.rb', 'spec/unit/provider/trove_config/openstackconfig_spec.rb', 'lib/puppet/provider/trove_config/openstackconfig.rb', 'spec/unit/provider/trove_guestagent_config/openstackconfig_spec.rb', 'lib/puppet/type/trove_conductor_config.rb', 'spec/unit/type/trove_config_spec.rb', 'lib/puppet/type/trove_guestagent_config.rb', 'spec/unit/type/trove_guestagent_config_spec.rb', 'lib/puppet/provider/trove_guestagent_config/openstackconfig.rb', 'lib/puppet/provider/trove_conductor_config/ini_setting.rb', 'lib/puppet/provider/trove_config/ini_setting.rb', 'lib/puppet/provider/trove_taskmanager_config/openstackconfig.rb', 'lib/puppet/provider/trove_conductor_config/openstackconfig.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/700c7dac77231ba3a096a280daad3f7fb8e0e7e7', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of aodh_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nare handled correctly.\n\nChange-Id: I4baeeb5f8f65743a3edc01db69909cec5cd9b8e6\n'}]",0,822984,700c7dac77231ba3a096a280daad3f7fb8e0e7e7,11,3,4,9816,,,0,"Add support for MultiStrOpt

This replaces the provider implementation of aodh_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
are handled correctly.

Change-Id: I4baeeb5f8f65743a3edc01db69909cec5cd9b8e6
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/84/822984/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/type/trove_conductor_config_spec.rb', 'lib/puppet/provider/trove_guestagent_config/ini_setting.rb', 'lib/puppet/type/trove_config.rb', 'lib/puppet/type/trove_taskmanager_config.rb', 'spec/unit/type/trove_taskmanager_config_spec.rb', 'lib/puppet/provider/trove_taskmanager_config/ini_setting.rb', 'spec/unit/provider/trove_config/openstackconfig_spec.rb', 'lib/puppet/provider/trove_config/openstackconfig.rb', 'lib/puppet/type/trove_conductor_config.rb', 'spec/unit/type/trove_config_spec.rb', 'lib/puppet/type/trove_guestagent_config.rb', 'spec/unit/type/trove_guestagent_config_spec.rb', 'lib/puppet/provider/trove_guestagent_config/openstackconfig.rb', 'lib/puppet/provider/trove_conductor_config/ini_setting.rb', 'lib/puppet/provider/trove_config/ini_setting.rb', 'lib/puppet/provider/trove_taskmanager_config/openstackconfig.rb', 'lib/puppet/provider/trove_conductor_config/openstackconfig.rb']",17,74409126a2ca161033950c387e9b7b5ec3aee729,multistropt,"Puppet::Type.type(:trove_conductor_config).provide( :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby) ) do def self.file_path '/etc/trove/trove-conductor.conf' end end ",,254,51
openstack%2Fpuppet-aodh~master~Ieff011ca2bd415d25df227fb7287c0878ec72220,openstack/puppet-aodh,master,Ieff011ca2bd415d25df227fb7287c0878ec72220,Enable aodh-expirer cron job after database is initialized,MERGED,2021-12-28 04:06:46.000000000,2021-12-30 21:56:32.000000000,2021-12-30 21:56:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-28 04:06:46.000000000', 'files': ['spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0f02d2408ad75e2aa78b85af883e5f3550e9f55c', 'message': 'Enable aodh-expirer cron job after database is initialized\n\nThe aodh-expirer command expects the target database is already\ninitialized. This change ensures db sync is completed before cron job\nis enabled.\n\nCloses-Bug #1955829\nChange-Id: Ieff011ca2bd415d25df227fb7287c0878ec72220\n'}]",0,823034,0f02d2408ad75e2aa78b85af883e5f3550e9f55c,7,3,1,9816,,,0,"Enable aodh-expirer cron job after database is initialized

The aodh-expirer command expects the target database is already
initialized. This change ensures db sync is completed before cron job
is enabled.

Closes-Bug #1955829
Change-Id: Ieff011ca2bd415d25df227fb7287c0878ec72220
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/34/823034/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp']",2,0f02d2408ad75e2aa78b85af883e5f3550e9f55c,bug/1955829," require => Anchor['aodh::dbsync::end'],"," require => Anchor['aodh::install::end'],",3,3
openstack%2Fpuppet-aodh~master~I81833bb36737cfdf2372a02c798e1b60832af9f1,openstack/puppet-aodh,master,I81833bb36737cfdf2372a02c798e1b60832af9f1,Remove deprecated aodh::auth,MERGED,2021-12-27 12:22:56.000000000,2021-12-30 21:55:12.000000000,2021-12-30 21:53:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 12:22:56.000000000', 'files': ['spec/classes/aodh_auth_spec.rb', 'manifests/service_credentials.pp', 'manifests/auth.pp', 'releasenotes/notes/remove-auth-a6bc72e8a060d33a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0b9c0368ed1bd00310549edc6733a35481213832', 'message': 'Remove deprecated aodh::auth\n\n... because it was deprecated during Wallaby cycle[1].\n\n[1] e05af2b3f1dbb5ba74e5428ef3e74e4bfc096531\n\nChange-Id: I81833bb36737cfdf2372a02c798e1b60832af9f1\n'}]",0,823004,0b9c0368ed1bd00310549edc6733a35481213832,8,3,1,9816,,,0,"Remove deprecated aodh::auth

... because it was deprecated during Wallaby cycle[1].

[1] e05af2b3f1dbb5ba74e5428ef3e74e4bfc096531

Change-Id: I81833bb36737cfdf2372a02c798e1b60832af9f1
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/04/823004/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_auth_spec.rb', 'manifests/service_credentials.pp', 'manifests/auth.pp', 'releasenotes/notes/remove-auth-a6bc72e8a060d33a.yaml']",4,0b9c0368ed1bd00310549edc6733a35481213832,,--- upgrade: - | The deprecated ``aodh::auth`` class has been removed. Use the ``aodh::service_credentials`` class instead. ,,21,149
openstack%2Fpuppet-designate~master~I91c2b828d7cf8f8fe9883009faf4d8f9d8a0b4dd,openstack/puppet-designate,master,I91c2b828d7cf8f8fe9883009faf4d8f9d8a0b4dd,Remove redundant message to notify configuration change,MERGED,2021-12-27 08:28:14.000000000,2021-12-30 21:54:29.000000000,2021-12-30 21:54:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 08:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/a10dad96073d5b8bd0b0800988aebf255ec5f858', 'message': 'Remove redundant message to notify configuration change\n\n... because puppet shows its built-in messages notifying the same.\n\nChange-Id: I91c2b828d7cf8f8fe9883009faf4d8f9d8a0b4dd\n'}, {'number': 2, 'created': '2021-12-27 12:08:07.000000000', 'files': ['manifests/generic_service.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/2d759aa912057da377a59cc7198a1ffae406eb00', 'message': 'Remove redundant message to notify configuration change\n\n... because puppet shows its built-in messages notifying the same.\n\nChange-Id: I91c2b828d7cf8f8fe9883009faf4d8f9d8a0b4dd\n'}]",2,822999,2d759aa912057da377a59cc7198a1ffae406eb00,13,3,2,9816,,,0,"Remove redundant message to notify configuration change

... because puppet shows its built-in messages notifying the same.

Change-Id: I91c2b828d7cf8f8fe9883009faf4d8f9d8a0b4dd
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/99/822999/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,a10dad96073d5b8bd0b0800988aebf255ec5f858,,," exec { 'post-designate_config': command => '/bin/echo ""designate config has changed""', refreshonly => true, } Anchor['designate::config::end'] ~> Exec['post-designate_config'] ",0,7
openstack%2Fkolla-ansible~master~Ie2a53028802ecde628bc9fe0b4e3236bdb588cf9,openstack/kolla-ansible,master,Ie2a53028802ecde628bc9fe0b4e3236bdb588cf9,CI: future-proof return semantics in check-failure.sh,MERGED,2021-10-04 08:08:26.000000000,2021-12-30 21:51:18.000000000,2021-12-30 21:49:15.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-04 08:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e011ef1a8aec80f4e08c821ed32a52f553d003aa', 'message': 'CI: future-proof return semantics in check-failure.sh\n\nIn case we add further check functions, use a return rather than exit.\n\nChange-Id: Ie2a53028802ecde628bc9fe0b4e3236bdb588cf9\n'}, {'number': 2, 'created': '2021-12-30 14:42:37.000000000', 'files': ['tests/check-failure.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/613b00cccf5d1a9c795ae8ec3b0604c052d9dbff', 'message': 'CI: future-proof return semantics in check-failure.sh\n\nIn case we add further check functions, use a return rather than exit.\n\nChange-Id: Ie2a53028802ecde628bc9fe0b4e3236bdb588cf9\n'}]",1,812289,613b00cccf5d1a9c795ae8ec3b0604c052d9dbff,13,3,2,14826,,,0,"CI: future-proof return semantics in check-failure.sh

In case we add further check functions, use a return rather than exit.

Change-Id: Ie2a53028802ecde628bc9fe0b4e3236bdb588cf9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/812289/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-failure.sh'],1,e011ef1a8aec80f4e08c821ed32a52f553d003aa,, return 0, exit 0,1,1
openstack%2Fpuppet-magnum~master~I65e79b5637a5f3bb3d4c4758227b1231dd035094,openstack/puppet-magnum,master,I65e79b5637a5f3bb3d4c4758227b1231dd035094,Load libraries in a single place,MERGED,2021-12-27 01:42:16.000000000,2021-12-30 21:50:22.000000000,2021-12-30 21:50:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 01:42:16.000000000', 'files': ['spec/unit/provider/magnum_config/ini_setting_spec.rb', 'spec/spec_helper.rb', 'spec/unit/provider/magnum_api_paste_ini/ini_setting_spec.rb', 'spec/unit/provider/magnum_api_uwsgi_config/ini_setting_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/ccf21e45348a0050fd3376d7bb4f446d1da8d902', 'message': 'Load libraries in a single place\n\nThis change refactors how the dependent libraries are loaded during\nunit tests, and load the libraries in the base spec_helper to avoid\nduplicate and redundant implementations.\n\nChange-Id: I65e79b5637a5f3bb3d4c4758227b1231dd035094\n'}]",0,822960,ccf21e45348a0050fd3376d7bb4f446d1da8d902,7,3,1,9816,,,0,"Load libraries in a single place

This change refactors how the dependent libraries are loaded during
unit tests, and load the libraries in the base spec_helper to avoid
duplicate and redundant implementations.

Change-Id: I65e79b5637a5f3bb3d4c4758227b1231dd035094
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/60/822960/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/magnum_config/ini_setting_spec.rb', 'spec/spec_helper.rb', 'spec/unit/provider/magnum_api_paste_ini/ini_setting_spec.rb', 'spec/unit/provider/magnum_api_uwsgi_config/ini_setting_spec.rb']",4,ccf21e45348a0050fd3376d7bb4f446d1da8d902,ut-load-lib,,"# # these tests are a little concerning b/c they are hacking around the # modulepath, so these tests will not catch issues that may eventually arise # related to loading these plugins. # I could not, for the life of me, figure out how to programatcally set the modulepath $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'inifile', 'lib') ) $LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'openstacklib', 'lib') )",3,70
openstack%2Fpuppet-magnum~master~Ic25219bcdb068fd223c59acd527dd9ef7d62af02,openstack/puppet-magnum,master,Ic25219bcdb068fd223c59acd527dd9ef7d62af02,Remove unnecessary +x from _spec.rb,MERGED,2021-12-23 10:18:15.000000000,2021-12-30 21:50:20.000000000,2021-12-30 21:50:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 10:18:15.000000000', 'files': ['spec/acceptance/basic_magnum_spec.rb', 'spec/classes/magnum_keystone_authtoken_spec.rb', 'spec/classes/magnum_api_spec.rb', 'spec/classes/magnum_keystone_keystone_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/18867738f6b636692bcda58926e8f7b5cded475b', 'message': 'Remove unnecessary +x from _spec.rb\n\nChange-Id: Ic25219bcdb068fd223c59acd527dd9ef7d62af02\n'}]",0,822810,18867738f6b636692bcda58926e8f7b5cded475b,7,3,1,9816,,,0,"Remove unnecessary +x from _spec.rb

Change-Id: Ic25219bcdb068fd223c59acd527dd9ef7d62af02
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/10/822810/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/basic_magnum_spec.rb', 'spec/classes/magnum_keystone_authtoken_spec.rb', 'spec/classes/magnum_api_spec.rb', 'spec/classes/magnum_keystone_keystone_auth_spec.rb']",4,18867738f6b636692bcda58926e8f7b5cded475b,,,,0,0
openstack%2Fpuppet-magnum~master~Id18b54f34c4ad42c62bbb77315a42bbf844493d2,openstack/puppet-magnum,master,Id18b54f34c4ad42c62bbb77315a42bbf844493d2,Clean up direct dependencies on puppetlabs-apache,MERGED,2021-12-08 13:32:25.000000000,2021-12-30 21:50:18.000000000,2021-12-30 21:50:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 13:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/00e57b6b677b101241b6d4c1c75c10796a8bc53d', 'message': ""Clean up direct dependencies on puppetlabs-apache\n\nThis change removes direct reference to some classes in\npuppetlabs-apache. Details are explained below.\n\n- The api class doesn't need access to anything defined in\n  apache::params\n\n- The following classes are included by the openstacklib::wsgi::apache\n  resource type, and current inclusions are just redundant.\n\nChange-Id: Id18b54f34c4ad42c62bbb77315a42bbf844493d2\n""}, {'number': 2, 'created': '2021-12-23 10:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/03b711e3cfea9b4ac3b25ede3390b02e3a92bf3f', 'message': ""Clean up direct dependencies on puppetlabs-apache\n\nThis change removes direct reference to some classes in\npuppetlabs-apache. Details are explained below.\n\n- The api class doesn't need access to anything defined in\n  apache::params\n\n- The following classes are included by the openstacklib::wsgi::apache\n  resource type, and current inclusions are just redundant.\n\nChange-Id: Id18b54f34c4ad42c62bbb77315a42bbf844493d2\n""}, {'number': 3, 'created': '2021-12-23 11:36:15.000000000', 'files': ['manifests/wsgi/apache.pp', 'manifests/api.pp', 'spec/classes/magnum_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/c1d494adfa7a2edafcf6036a4747b279e8898c34', 'message': ""Clean up direct dependencies on puppetlabs-apache\n\nThis change removes direct reference to some classes in\npuppetlabs-apache. Details are explained below.\n\n- The api class doesn't need access to anything defined in\n  apache::params\n\n- The following classes are included by the openstacklib::wsgi::apache\n  resource type, and current inclusions are just redundant.\n\nChange-Id: Id18b54f34c4ad42c62bbb77315a42bbf844493d2\n""}]",0,821053,c1d494adfa7a2edafcf6036a4747b279e8898c34,11,3,3,9816,,,0,"Clean up direct dependencies on puppetlabs-apache

This change removes direct reference to some classes in
puppetlabs-apache. Details are explained below.

- The api class doesn't need access to anything defined in
  apache::params

- The following classes are included by the openstacklib::wsgi::apache
  resource type, and current inclusions are just redundant.

Change-Id: Id18b54f34c4ad42c62bbb77315a42bbf844493d2
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/53/821053/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'manifests/api.pp', 'spec/classes/magnum_wsgi_apache_spec.rb']",3,00e57b6b677b101241b6d4c1c75c10796a8bc53d,puppetlabs-apache,, it { is_expected.to contain_class('apache') } it { is_expected.to contain_class('apache::mod::wsgi') } it { is_expected.to_not contain_class('apache::mod::ssl') } it { is_expected.to contain_class('apache') } it { is_expected.to contain_class('apache::mod::wsgi') } it { is_expected.to contain_class('apache::mod::ssl') },1,12
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Id97dd8e3840dc8f58780ecb78853919d81daed33,openstack/puppet-openstack-integration,stable/train,Id97dd8e3840dc8f58780ecb78853919d81daed33,[Train-only] Switch integration jobs to CentOS 8 Stream,MERGED,2021-12-23 00:46:57.000000000,2021-12-30 21:46:24.000000000,2021-12-30 21:46:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 00:46:57.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0fe56b66ec6e0e7131128888c4e25a999ba1d30b', 'message': '[Train-only] Switch integration jobs to CentOS 8 Stream\n\nChange-Id: Id97dd8e3840dc8f58780ecb78853919d81daed33\n'}]",0,822771,0fe56b66ec6e0e7131128888c4e25a999ba1d30b,7,3,1,9816,,,0,"[Train-only] Switch integration jobs to CentOS 8 Stream

Change-Id: Id97dd8e3840dc8f58780ecb78853919d81daed33
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/822771/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,0fe56b66ec6e0e7131128888c4e25a999ba1d30b,,, - puppet-openstack-integration-5-scenario001-tempest-centos-8 - puppet-openstack-integration-5-scenario002-tempest-centos-8 - puppet-openstack-integration-5-scenario003-tempest-centos-8 - puppet-openstack-integration-5-scenario004-tempest-centos-8 - puppet-openstack-integration-5-scenario001-tempest-centos-8 - puppet-openstack-integration-5-scenario002-tempest-centos-8 - puppet-openstack-integration-5-scenario003-tempest-centos-8 - puppet-openstack-integration-5-scenario004-tempest-centos-8,0,46
openstack%2Fneutron~master~I49923958d1d602e3af4e02fadbec1b17798c49c8,openstack/neutron,master,I49923958d1d602e3af4e02fadbec1b17798c49c8,Add Local IP L2 extension flows,MERGED,2021-10-22 09:37:24.000000000,2021-12-30 21:45:10.000000000,2021-12-30 21:43:21.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-10-22 09:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9cec6366642c2fd245d541a356074ecca30b4a9', 'message': 'Local IP: OVS agent part\n\nOVS agent will collect Local IP associations updates\nvia push notifications mechanism and handle them during port update:\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (and from real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 2, 'created': '2021-10-22 09:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce782361abb134629a71fb9646ed95646e5fe973', 'message': 'Local IP: OVS agent part\n\nOVS agent will collect Local IP associations updates\nvia push notifications mechanism and handle them during port update:\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (and from real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 3, 'created': '2021-10-28 13:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46e7dd4d0c889c2350dd202ff67d51cf7836529f', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 4, 'created': '2021-11-01 15:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4097b076ff88d4a614d79b52b214994c0cd446f', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 5, 'created': '2021-11-02 07:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1e198e9b138951aab9d4e6b11b4c2927bbe93a8', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 6, 'created': '2021-11-02 12:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21a77ef116aed10d00e8f371419e3827a3509f3f', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 7, 'created': '2021-11-03 10:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/208fc58675ca49318fad681aca6288b52883cab2', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 8, 'created': '2021-11-03 11:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f8031d5f6f3a6b7975d4e1f390860b7063b5dc4', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 9, 'created': '2021-11-03 13:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbd13cb08e3ea3ee32c915c09bd9e40cafb50eea', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 10, 'created': '2021-11-03 13:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33ad88ea487fd29eef25aba43d7953719490e75c', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 11, 'created': '2021-11-03 15:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88441faa85eabb8d4a7d2f14ed939ef2dd75a93a', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 12, 'created': '2021-11-10 13:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4136fe2f7b670a005088ae3cb79dc7660c8aac8', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 13, 'created': '2021-11-12 08:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/945c8d90756770f7dafd741680334e771bbad955', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 14, 'created': '2021-11-22 14:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ae073e9a1ce5b773cf18b99710fb6ad79c98cf7', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}, {'number': 15, 'created': '2021-11-26 13:06:22.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/l2/extensions/test_local_ip.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_tun.py', 'neutron/agent/l2/extensions/local_ip.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b51d6958f3c93e72a720fcef77ff55e0d5d10277', 'message': 'Add Local IP L2 extension flows\n\n- setup local ARP responder\n- setup local ip translation flows (nat via conntrack)\n- setup local gARP blocker to prevent undesired Local IP ARP updates\n  from other nodes (including real IP address owner)\n\n2 new OF tables added for br-int:\n\n- LOCAL_EGRESS_TABLE - to save local ports vlans\n- LOCAL_IP_TABLE - for local ip handling\n\nPartial-Bug: #1930200\nChange-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8\n'}]",44,815102,b51d6958f3c93e72a720fcef77ff55e0d5d10277,137,12,15,5948,,,0,"Add Local IP L2 extension flows

- setup local ARP responder
- setup local ip translation flows (nat via conntrack)
- setup local gARP blocker to prevent undesired Local IP ARP updates
  from other nodes (including real IP address owner)

2 new OF tables added for br-int:

- LOCAL_EGRESS_TABLE - to save local ports vlans
- LOCAL_IP_TABLE - for local ip handling

Partial-Bug: #1930200
Change-Id: I49923958d1d602e3af4e02fadbec1b17798c49c8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/815102/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/local_ip_db.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/resource_cache.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/agent/rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",8,e9cec6366642c2fd245d541a356074ecca30b4a9,bug/1930200," self.install_goto(dest_table_id=constants.TRANSIENT_TABLE, table_id=constants.LOCAL_EGRESS_TABLE) self.install_goto(dest_table_id=constants.TRANSIENT_TABLE, table_id=constants.LOCAL_IP_TABLE) dest_table_id=constants.LOCAL_EGRESS_TABLE) def setup_local_egress_flows(self, in_port, vlan): # Setting priority to 8 to give advantage to ARP/MAC spoofing rules self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=8, in_port=in_port, dest_table_id=constants.LOCAL_EGRESS_TABLE) self.add_flow( table=constants.LOCAL_EGRESS_TABLE, priority=10, in_port=in_port, actions='set_field:{:d}->reg6,' 'resubmit(,{:d})'.format( vlan, constants.LOCAL_IP_TABLE)) @staticmethod def _arp_responder_match(ofp, ofpp, vlan, ip): return ofpp.OFPMatch(reg6=vlan, eth_type=ether_types.ETH_TYPE_ARP, arp_tpa=ip) def install_garp_blocker(self, vlan, ip, table_id=constants.LOCAL_SWITCHING): (dp, ofp, ofpp) = self._get_dp() match = ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_type=ether_types.ETH_TYPE_ARP, arp_spa=ip) self.install_drop(table_id=table_id, priority=10, match=match) def delete_garp_blocker(self, vlan, ip, table_id=constants.LOCAL_SWITCHING): (_dp, ofp, ofpp) = self._get_dp() match = ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_type=ether_types.ETH_TYPE_ARP, arp_spa=ip) self.uninstall_flows(table_id=table_id, priority=10, match=match) def install_garp_blocker_exception(self, vlan, ip, except_ip, table_id=constants.LOCAL_SWITCHING): (dp, ofp, ofpp) = self._get_dp() match = ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_type=ether_types.ETH_TYPE_ARP, arp_spa=ip, arp_tpa=except_ip) self.install_goto(dest_table_id=constants.TRANSIENT_TABLE, table_id=table_id, priority=11, match=match) def setup_local_ip_translation(self, vlan, local_ip, dest_ip, mac): self.add_flow( table=constants.LOCAL_IP_TABLE, priority=10, nw_dst=local_ip, reg6=vlan, dl_type=""0x{:04x}"".format(ether_types.ETH_TYPE_IP), actions='ct(commit,table={:d},zone={:d},nat(dst={:s}))'.format( constants.TRANSIENT_TABLE, vlan, dest_ip) ) # avoid NAT to self and let VM with local IP access ""true"" IP owner self.add_flow( table=constants.LOCAL_IP_TABLE, priority=11, nw_src=dest_ip, nw_dst=local_ip, reg6=vlan, dl_type=""0x{:04x}"".format(ether_types.ETH_TYPE_IP), actions='resubmit(,{:d})'.format(constants.TRANSIENT_TABLE) ) self.add_flow( table=constants.LOCAL_IP_TABLE, priority=10, dl_src=mac, nw_src=dest_ip, reg6=vlan, ct_state=""-trk"", dl_type=""0x{:04x}"".format(ether_types.ETH_TYPE_IP), actions='ct(table={:d},zone={:d},nat'.format( constants.TRANSIENT_TABLE, vlan) ) def delete_local_ip_translation(self, vlan, local_ip, dest_ip, mac): self.uninstall_flows( table_id=constants.LOCAL_IP_TABLE, priority=10, ipv4_dst=local_ip, reg6=vlan, eth_type=ether_types.ETH_TYPE_IP ) self.uninstall_flows( table_id=constants.LOCAL_IP_TABLE, priority=11, ipv4_src=dest_ip, ipv4_dst=local_ip, reg6=vlan, eth_type=ether_types.ETH_TYPE_IP ) self.uninstall_flows( table_id=constants.LOCAL_IP_TABLE, priority=10, eth_src=mac, ipv4_src=dest_ip, reg6=vlan, eth_type=ether_types.ETH_TYPE_IP )", dest_table_id=constants.TRANSIENT_TABLE),266,34
