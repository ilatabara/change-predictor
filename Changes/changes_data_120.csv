id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-tempest-plugin~master~I925160de2254bb712a953ba46b21d70604d3b724,openstack/neutron-tempest-plugin,master,I925160de2254bb712a953ba46b21d70604d3b724,Add 'port-device-profile' to the API extensions list,MERGED,2021-10-07 09:50:51.000000000,2022-01-14 15:43:01.000000000,2022-01-14 15:43:01.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-07 09:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/04d6f9b32b3506f5e968d17aad6fe3e451fda7be', 'message': ""Add 'port-device-profile' to the API extensions list\n\nIt's added for master and xena jobs. This extension was added\nto neutron-lib in [1].\n\n[1] https://github.com/openstack/neutron-lib/commit/a4987c747c2171111a5abca11316832ade07a83b\n\nChange-Id: I925160de2254bb712a953ba46b21d70604d3b724\n""}, {'number': 2, 'created': '2021-12-20 07:44:14.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/xena_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ada162235e358012f574af07002f221c1d647543', 'message': ""Add 'port-device-profile' to the API extensions list\n\nIt's added for master and xena jobs. This extension was added\nto neutron-lib in [1].\n\n[1] https://github.com/openstack/neutron-lib/commit/a4987c747c2171111a5abca11316832ade07a83b\n\nChange-Id: I925160de2254bb712a953ba46b21d70604d3b724\n""}]",2,812945,ada162235e358012f574af07002f221c1d647543,15,4,2,11975,,,0,"Add 'port-device-profile' to the API extensions list

It's added for master and xena jobs. This extension was added
to neutron-lib in [1].

[1] https://github.com/openstack/neutron-lib/commit/a4987c747c2171111a5abca11316832ade07a83b

Change-Id: I925160de2254bb712a953ba46b21d70604d3b724
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/45/812945/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/xena_jobs.yaml']",2,04d6f9b32b3506f5e968d17aad6fe3e451fda7be,xena-release, - port-device-profile,,2,0
openstack%2Fkolla-ansible~master~I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123,openstack/kolla-ansible,master,I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123,Add logrotate to libvirt service,MERGED,2021-12-02 06:35:17.000000000,2022-01-14 15:40:24.000000000,2021-12-20 15:00:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-12-02 06:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c6982afcc97ebb9f6859231b49b2abc783720e2', 'message': 'Add logrotate to libvirt service\n\nChange-Id: I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123\n'}, {'number': 2, 'created': '2021-12-20 11:50:26.000000000', 'files': ['ansible/roles/common/templates/cron-logrotate-nova-libvirt.conf.j2', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f17bd2db7714571830f6604986e2b157806868a7', 'message': 'Add logrotate to libvirt service\n\nChange-Id: I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123\n'}]",3,820115,f17bd2db7714571830f6604986e2b157806868a7,15,3,2,32029,,,0,"Add logrotate to libvirt service

Change-Id: I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/820115/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron-logrotate-nova-libvirt.conf.j2', 'ansible/roles/common/tasks/config.yml']",2,2c6982afcc97ebb9f6859231b49b2abc783720e2,cron," - { name: ""nova-libvirt"", enabled: ""{{ nova_compute_virt_type in ['kvm', 'qemu'] }}"" }",,4,0
openstack%2Foslo.utils~stable%2Fwallaby~I941750b4d49d2d75f0831b24d6dd17f4040f70a2,openstack/oslo.utils,stable/wallaby,I941750b4d49d2d75f0831b24d6dd17f4040f70a2,Fix regex used to mask password,MERGED,2022-01-14 12:19:21.000000000,2022-01-14 15:39:26.000000000,2022-01-14 15:37:03.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-14 12:19:21.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/143d3fbfa1e04778884de5acc08fa6f7fdabb265', 'message': 'Fix regex used to mask password\n\nSome use cases are poorly handled by the regex used\nto mask password. Indeed when the password contains\nquotes or double quotes in the middle such as `pass""word`,\nthe mask_password method will return `***""word`.\n\nFor more details please see\nhttps://bugs.launchpad.net/oslo.utils/+bug/1949623\n\nCloses-Bug: #1949623\nChange-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2\n(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)\n(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)\n'}]",1,824703,143d3fbfa1e04778884de5acc08fa6f7fdabb265,9,3,1,31245,,,0,"Fix regex used to mask password

Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass""word`,
the mask_password method will return `***""word`.

For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623

Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/03/824703/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py']",3,143d3fbfa1e04778884de5acc08fa6f7fdabb265,,"_SANITIZE_PATTERNS_WILDCARD = {}_FORMAT_PATTERNS_WILDCARD = [r'([\'\""][^\""\']*%(key)s[0-9]*[\'\""]\s*:\s*u?[\'\""].*[\'\""])[^\""\']*([\'\""])'] # noqa: E501 _SANITIZE_PATTERNS_WILDCARD[key] = [] for pattern in _FORMAT_PATTERNS_WILDCARD: reg_ex = re.compile(pattern % {'key': key}, re.DOTALL | re.IGNORECASE) _SANITIZE_PATTERNS_WILDCARD[key].append(reg_ex) substitute_wildcard = r'\g<1>' # NOTE(hberaud): Those case are poorly handled by previous # patterns. They are passwords with quotes or double quotes. # They also needs a different way to substitute group this is why # they aren't fix in the pattern 1 or 2. for pattern in _SANITIZE_PATTERNS_WILDCARD[key]: message = re.sub(pattern, substitute_wildcard, message)",,35,1
openstack%2Fmanila~master~I603434cac246e2c0946672d3f0fe469ed5423fa4,openstack/manila,master,I603434cac246e2c0946672d3f0fe469ed5423fa4,OnlyHostFilter allows user to specify host during share create.,MERGED,2021-10-10 08:18:56.000000000,2022-01-14 15:32:36.000000000,2022-01-14 04:38:59.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}, {'_account_id': 32291}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-10-10 08:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4f2e796cf84c5ded96123278ff932c648db15135', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create SVM in manila, we can use a workaround\nof creating first share on specific host (e.g. host@backend#pool). This\nwill then create the SVM/(Share server) automatically on that host and\nadmin can use idle host when other hosts are overloaded.\n\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 2, 'created': '2021-10-19 09:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/410adbf6a20d9c42d3c21edaf722bc86d205eabb', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create SVM in manila, we can use a workaround\nof creating first share on specific host (e.g. host@backend#pool). This\nwill then create the SVM/(Share server) automatically on that host and\nadmin can use idle host when other hosts are overloaded.\n\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 3, 'created': '2021-10-20 12:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c326bc4d8e20bdcb0764566a1026ffeb67ac7979', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 4, 'created': '2021-11-01 12:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8c6c765454f4f7c56319aeb110948956bbc6ae62', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 5, 'created': '2021-11-10 07:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1d3f6a2b86679e870c88536f21b5486439e58d93', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 6, 'created': '2021-11-10 10:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/68a6fe1bfbca3b3b8899df67199bbc4a4f535ec6', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 7, 'created': '2021-11-25 18:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/07692bbafecdfbf268a7864b4ff0ac47465db847', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 8, 'created': '2021-11-25 18:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac3bd5b2b2b9d99a8478ea7f7dedaf3c03966d14', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 9, 'created': '2021-12-07 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ab9e170b42746bccc1dfd590f3d356d4e7d9eacf', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 10, 'created': '2021-12-16 09:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3eb21cdd2fee355c2c5615408307d1979f286c9d', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 11, 'created': '2021-12-16 20:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ae19df63839d84432e94e7ab00ef14bd5e05fb2d', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nNew microversion 2.66 introduced.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 12, 'created': '2021-12-16 20:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dec900de20d89513eb0473a4af130febeda0bf58', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nNew microversion 2.66 introduced.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 13, 'created': '2021-12-16 20:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2e72c0a8ab9827f288613d5f9a72bfc15a695f79', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nNew microversion 2.66 introduced.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 14, 'created': '2021-12-17 08:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b6733cbe8af41140e449db1ed8d2176b4fe38b40', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nNew microversion 2.66 introduced.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 15, 'created': '2021-12-23 17:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/126db0d8994e7054eea69bc4ff2341de3c9009e7', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nNew microversion 2.67 introduced.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 16, 'created': '2021-12-23 20:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3427ff9c7e5ed796fa0d872376bb625d769ece7e', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nNew microversion 2.67 introduced.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}, {'number': 17, 'created': '2022-01-10 10:47:36.000000000', 'files': ['api-ref/source/parameters.yaml', 'manila/scheduler/filters/host.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/scheduler/drivers/filter.py', 'manila/scheduler/host_manager.py', 'releasenotes/notes/hostonly-filter-1a17a70dd0aafb86.yaml', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/scheduler/filters/test_host.py', 'setup.cfg', 'manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/746fb7e2df142ba490dc5457ac6a0f47c1d5cc8e', 'message': 'OnlyHostFilter allows user to specify host during share create.\n\ne.g. manila create NFS 1 --name Share1 --share-network net1 \\\n--scheduler_hint=""only_host=host1@generic1#GENERIC1""\n\nSince there is no way to create share server in manila, we can use a\nworkaround of creating first share on specific host\n(e.g. host@backend#pool). This will then create the share server\nautomatically on that host and admin can use idle host when other\nhosts are overloaded.\n\nNew microversion 2.67 introduced.\n\nDocImpact\n\nCloses-Bug: #1946462\nChange-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4\n'}]",64,813293,746fb7e2df142ba490dc5457ac6a0f47c1d5cc8e,131,10,17,32919,,,0,"OnlyHostFilter allows user to specify host during share create.

e.g. manila create NFS 1 --name Share1 --share-network net1 \
--scheduler_hint=""only_host=host1@generic1#GENERIC1""

Since there is no way to create share server in manila, we can use a
workaround of creating first share on specific host
(e.g. host@backend#pool). This will then create the share server
automatically on that host and admin can use idle host when other
hosts are overloaded.

New microversion 2.67 introduced.

DocImpact

Closes-Bug: #1946462
Change-Id: I603434cac246e2c0946672d3f0fe469ed5423fa4
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/813293/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/scheduler/filters/test_host.py', 'manila/scheduler/filters/host.py', 'manila/scheduler/drivers/filter.py', 'manila/scheduler/host_manager.py', 'releasenotes/notes/hostonly-filter-1a17a70dd0aafb86.yaml', 'setup.cfg']",6,4f2e796cf84c5ded96123278ff932c648db15135,bug/1946462, OnlyHostFilter = manila.scheduler.filters.host:OnlyHostFilter,,135,22
openstack%2Fcinder~master~If21f7e9dc585ae407f4ee4c187da4c1eb2def135,openstack/cinder,master,If21f7e9dc585ae407f4ee4c187da4c1eb2def135,Imported Translations from Zanata,MERGED,2021-11-16 02:36:01.000000000,2022-01-14 15:15:54.000000000,2021-12-20 16:05:48.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32266}]","[{'number': 1, 'created': '2021-11-16 02:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb6f8cc1aad78a24e665daba17423b520ea732a1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 2, 'created': '2021-11-17 02:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c53cd18e5e5106823cf72744bb4483e35c0e21f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 3, 'created': '2021-11-18 02:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3d781cfa2135ca14a369e6d7eef70a670b7eb1b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 4, 'created': '2021-11-19 02:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/382943384fb537d80e7c7109b3ade3f75c045105', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 5, 'created': '2021-11-20 02:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4985cbbbe242e6f0883d0732b63aca31a375d9e6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 6, 'created': '2021-11-24 02:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9821a2f32a72c6c501765fb2dfd8b414ab637eb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 7, 'created': '2021-12-03 02:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62413d85c162855b8dae50181fb38dd597112369', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 8, 'created': '2021-12-14 02:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/45c93e2243dd2560e3054c4954a90ca29ed66ad4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 9, 'created': '2021-12-15 02:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/764f4e588efa546ce20e52c49b3520183864c2fe', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 10, 'created': '2021-12-18 02:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c501d339c0492f767cd42f8dedfbf80cf4e2e0c7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}, {'number': 11, 'created': '2021-12-20 02:29:45.000000000', 'files': ['cinder/locale/ko_KR/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3cd45453fe6033a7eb83577530fa25056eade70', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135\n'}]",4,818037,d3cd45453fe6033a7eb83577530fa25056eade70,214,5,11,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If21f7e9dc585ae407f4ee4c187da4c1eb2def135
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/818037/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/locale/ko_KR/LC_MESSAGES/cinder.po'],1,bb6f8cc1aad78a24e665daba17423b520ea732a1,zanata/translations,"# HYUNGBAI PARK <openstack.make@gmail.com>, 2021. #zanata""POT-Creation-Date: 2021-11-09 18:34+0000\n""""PO-Revision-Date: 2021-11-15 05:16+0000\n"" ""Last-Translator: HYUNGBAI PARK <openstack.make@gmail.com>\n""#, python-format msgid ""Volume type is only supported in these availability zones: %(az)s"" msgstr ""이 가용성 구역에서만 볼륨 종류가 지원됩니다: %(az)s"" ","""POT-Creation-Date: 2021-10-14 17:26+0000\n""""PO-Revision-Date: 2021-10-12 02:25+0000\n"" ""Last-Translator: Jinseok Kim <wlstjr112@naver.com>\n""",8,3
openstack%2Fos-ken~stable%2Ftrain~If616980b2c6d7303cdc5d4f5e7247d63e4c34939,openstack/os-ken,stable/train,If616980b2c6d7303cdc5d4f5e7247d63e4c34939,Fix sockaddr lib with python 3,MERGED,2022-01-07 12:43:15.000000000,2022-01-14 15:05:41.000000000,2022-01-14 15:03:17.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 12:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/448b3a46ed30d26968ac0b309e03cb9b3868d26f', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n(cherry picked from commit 9a5aa8b7209308a44e463632132c2173216379a6)\n""}, {'number': 2, 'created': '2022-01-11 10:20:43.000000000', 'files': ['os_ken/tests/unit/lib/__init__.py', 'os_ken/tests/unit/lib/test_sockaddr.py', 'os_ken/lib/sockaddr.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/44701d3ba40e0307bc070209c4d242855a05f844', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n(cherry picked from commit 9a5aa8b7209308a44e463632132c2173216379a6)\n""}]",4,823759,44701d3ba40e0307bc070209c4d242855a05f844,13,4,2,21798,,,0,"Fix sockaddr lib with python 3

Padding did not work and this lib did not have tests

Sample failure seen in neutron-dynamic-routing:
neutron-bgp-dragent[29325]: TypeError: can't concat str to bytes

Story: 2007910
Task: 40311
Change-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939
(cherry picked from commit 9a5aa8b7209308a44e463632132c2173216379a6)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/59/823759/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/tests/unit/lib/__init__.py', 'os_ken/tests/unit/lib/test_sockaddr.py', 'os_ken/lib/sockaddr.py']",3,448b3a46ed30d26968ac0b309e03cb9b3868d26f,python3_sockaddr-stable/train, return data + pad_len * b'\0', return data + pad_len * '\0',55,1
openstack%2Ftripleo-ci~master~Id8315415faece50a7eacb4054fded163c6e599bf,openstack/tripleo-ci,master,Id8315415faece50a7eacb4054fded163c6e599bf,WIP - Enabling fips on all multinode jobs,ABANDONED,2021-10-19 20:50:12.000000000,2022-01-14 14:57:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-19 20:50:12.000000000', 'files': ['zuul.d/content-provider.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/85324bfac9674cbf5b3d356a1118c392ec7a67d5', 'message': 'WIP - Enabling fips on all multinode jobs\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/813253\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/810783\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nDepends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782\n\nChange-Id: Id8315415faece50a7eacb4054fded163c6e599bf\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",0,814648,85324bfac9674cbf5b3d356a1118c392ec7a67d5,4,2,1,30002,,,0,"WIP - Enabling fips on all multinode jobs

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/813253
Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/810783
Depends-On: https://review.opendev.org/c/openstack/tempest/+/810809
Depends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782

Change-Id: Id8315415faece50a7eacb4054fded163c6e599bf
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/48/814648/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/content-provider.yaml', 'zuul.d/base.yaml']",2,85324bfac9674cbf5b3d356a1118c392ec7a67d5,add_fips_job, parent: multinode-fips, parent: multinode,3,1
openstack%2Fopenstack-ansible~master~I1686c74566c30332e271f066a7ec5a2b3287edfc,openstack/openstack-ansible,master,I1686c74566c30332e271f066a7ec5a2b3287edfc,Do not duplicate packages installed with the venv build role,MERGED,2022-01-11 13:22:09.000000000,2022-01-14 14:39:46.000000000,2022-01-14 14:37:41.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 13:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e164b99abc6fe655fc46093a49c23b02b9c8bc22', 'message': 'Do not duplicate packages installed with the venv build role\n\nToolchain and python dev packages are installed as required by\npython_venv_build, so it should not be necessary to pre-install\nthem into the utility container.\n\nChange-Id: I1686c74566c30332e271f066a7ec5a2b3287edfc\n'}, {'number': 2, 'created': '2022-01-11 14:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1334f19c2004112f30e21e1ed1911fe6e53e86ae', 'message': 'Do not duplicate packages installed with the venv build role\n\nToolchain and python dev packages are installed as required by\npython_venv_build, so it should not be necessary to pre-install\nthem into the utility container.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/824189\nChange-Id: I1686c74566c30332e271f066a7ec5a2b3287edfc\n'}, {'number': 3, 'created': '2022-01-13 10:26:39.000000000', 'files': ['inventory/group_vars/utility_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f77d930c852c8aab30130b9df396f249df98a5b', 'message': 'Do not duplicate packages installed with the venv build role\n\nToolchain and python dev packages are installed as required by\npython_venv_build, so it should not be necessary to pre-install\nthem into the utility container.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/824189\nChange-Id: I1686c74566c30332e271f066a7ec5a2b3287edfc\n'}]",1,824179,5f77d930c852c8aab30130b9df396f249df98a5b,16,3,3,25023,,,0,"Do not duplicate packages installed with the venv build role

Toolchain and python dev packages are installed as required by
python_venv_build, so it should not be necessary to pre-install
them into the utility container.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/824189
Change-Id: I1686c74566c30332e271f066a7ec5a2b3287edfc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/824179/2 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/utility_all.yml'],1,e164b99abc6fe655fc46093a49c23b02b9c8bc22,osa/centos-9,_utility_devel_distro_packages_debian: [], - git_utility_devel_distro_packages_debian: - gcc - python3-dev - gcc - python36-devel,1,6
openstack%2Fopenstack-ansible-tests~stable%2Fussuri~I0e7229b4d256ca7c3759048f96f2cd3043dd10f8,openstack/openstack-ansible-tests,stable/ussuri,I0e7229b4d256ca7c3759048f96f2cd3043dd10f8,Remove opensuse jobs,MERGED,2022-01-11 16:24:09.000000000,2022-01-14 13:56:22.000000000,2022-01-14 13:50:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 16:24:09.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cefb77ceef895e5d95d4e478f32a40500fd0d7da', 'message': 'Remove opensuse jobs\n\nThese are failing for a very long time and we have no maintainers for\nopensuse. Remove the jobs to conserve CI resources.\n\nChange-Id: I0e7229b4d256ca7c3759048f96f2cd3043dd10f8\n'}]",0,824207,cefb77ceef895e5d95d4e478f32a40500fd0d7da,8,3,1,25023,,,0,"Remove opensuse jobs

These are failing for a very long time and we have no maintainers for
opensuse. Remove the jobs to conserve CI resources.

Change-Id: I0e7229b4d256ca7c3759048f96f2cd3043dd10f8
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/07/824207/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,cefb77ceef895e5d95d4e478f32a40500fd0d7da,,,- job: name: openstack-ansible-upgrade-opensuse-15 parent: openstack-ansible-upgrade nodeset: opensuse-15 voting: false - job: name: openstack-ansible-functional-opensuse-15 parent: openstack-ansible-functional nodeset: opensuse-15 voting: false - job: name: openstack-ansible-functional-distro_install-opensuse-15 parent: openstack-ansible-functional nodeset: opensuse-15 voting: false vars: tox_env: distro_install,0,22
openstack%2Fopenstack-ansible-plugins~master~Ie5647c0afe602b23c6e58735cef8f9abc82956b5,openstack/openstack-ansible-plugins,master,Ie5647c0afe602b23c6e58735cef8f9abc82956b5,Move system_crontab_role to collection,MERGED,2022-01-13 14:58:05.000000000,2022-01-14 13:37:50.000000000,2022-01-14 13:36:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 14:58:05.000000000', 'files': ['roles/system_crontab_coordination/README.md', 'roles/system_crontab_coordination/meta/main.yml', 'roles/system_crontab_coordination/templates/crontab.j2', 'roles/system_crontab_coordination/LICENSE', 'roles/system_crontab_coordination/defaults/main.yml', 'roles/system_crontab_coordination/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c0b90a4d74c4f862d0e49f80eb5b53014f314752', 'message': 'Move system_crontab_role to collection\n\nChange-Id: Ie5647c0afe602b23c6e58735cef8f9abc82956b5\n'}]",0,824590,c0b90a4d74c4f862d0e49f80eb5b53014f314752,8,3,1,28619,,,0,"Move system_crontab_role to collection

Change-Id: Ie5647c0afe602b23c6e58735cef8f9abc82956b5
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/90/824590/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/system_crontab_coordination/README.md', 'roles/system_crontab_coordination/meta/main.yml', 'roles/system_crontab_coordination/templates/crontab.j2', 'roles/system_crontab_coordination/LICENSE', 'roles/system_crontab_coordination/defaults/main.yml', 'roles/system_crontab_coordination/tasks/main.yml']",6,c0b90a4d74c4f862d0e49f80eb5b53014f314752,osa/plugins_collection,"--- # Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create crontab template: src: ""crontab.j2"" dest: ""/etc/crontab"" owner: ""root"" group: ""root"" mode: ""0644"" when: - ansible_facts['os_family'] == 'Debian' ",,374,0
openstack%2Fgovernance~master~I25f5c4e5a209e77352a449129895cd33935190cc,openstack/governance,master,I25f5c4e5a209e77352a449129895cd33935190cc,Add the cinder-nimblestorage charm to Openstack charms,MERGED,2022-01-13 14:36:09.000000000,2022-01-14 13:32:50.000000000,2022-01-14 13:31:09.000000000,"[{'_account_id': 15993}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-13 14:36:09.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/4450e822fb4afe1a5aca15601b78ce42a20bd53d', 'message': 'Add the cinder-nimblestorage charm to Openstack charms\n\nThis charm implements a nimblestorage backend for cinder, acting as\na subordinate charm.\n\nDepends-On: I93aa9fe3ab089bbeae2b87881bfc931f4ddf0204\nChange-Id: I25f5c4e5a209e77352a449129895cd33935190cc\n'}]",4,824585,4450e822fb4afe1a5aca15601b78ce42a20bd53d,14,4,1,33741,,,0,"Add the cinder-nimblestorage charm to Openstack charms

This charm implements a nimblestorage backend for cinder, acting as
a subordinate charm.

Depends-On: I93aa9fe3ab089bbeae2b87881bfc931f4ddf0204
Change-Id: I25f5c4e5a209e77352a449129895cd33935190cc
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/824585/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,4450e822fb4afe1a5aca15601b78ce42a20bd53d,project-update, charm-cinder-nimblestorage: release-management: external repos: - openstack/charm-cinder-nimblestorage,,4,0
openstack%2Fansible-role-python_venv_build~master~I3c2164ca8f610fbef88744d9acfca4e926059c81,openstack/ansible-role-python_venv_build,master,I3c2164ca8f610fbef88744d9acfca4e926059c81,Add per-distro vars files,MERGED,2022-01-11 13:28:25.000000000,2022-01-14 13:18:16.000000000,2022-01-14 13:14:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 13:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/817ffb409db40010c15bfcaaa59398b89487d1fe', 'message': 'Add per-distro vars files\n\nThe conditionals for packge installation are getting more complex\nthan can be handled with the ternary operator, so create per distro\nvars files to describe these differences.\n\nChange-Id: I3c2164ca8f610fbef88744d9acfca4e926059c81\n'}, {'number': 2, 'created': '2022-01-12 10:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/fdbbbd5380723da48ac376d49d117afbc5018cfd', 'message': 'Add per-distro vars files\n\nThe conditionals for packge installation are getting more complex\nthan can be handled with the ternary operator, so create per distro\nvars files to describe these differences.\n\nChange-Id: I3c2164ca8f610fbef88744d9acfca4e926059c81\n'}, {'number': 3, 'created': '2022-01-13 12:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/840aea1d1c26fc34c3ab87657e54c5c7ead4b9c8', 'message': 'Add per-distro vars files\n\nThe conditionals for packge installation are getting more complex\nthan can be handled with the ternary operator, so create per distro\nvars files to describe these differences.\n\nChange-Id: I3c2164ca8f610fbef88744d9acfca4e926059c81\n'}, {'number': 4, 'created': '2022-01-14 08:50:03.000000000', 'files': ['tasks/main.yml', 'vars/redhat-9.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/c42eb3c13189b503d1e8b428046795ec9b0fafa6', 'message': 'Add per-distro vars files\n\nThe conditionals for packge installation are getting more complex\nthan can be handled with the ternary operator, so create per distro\nvars files to describe these differences.\n\nChange-Id: I3c2164ca8f610fbef88744d9acfca4e926059c81\n'}]",5,824180,c42eb3c13189b503d1e8b428046795ec9b0fafa6,20,3,4,25023,,,0,"Add per-distro vars files

The conditionals for packge installation are getting more complex
than can be handled with the ternary operator, so create per distro
vars files to describe these differences.

Change-Id: I3c2164ca8f610fbef88744d9acfca4e926059c81
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/80/824180/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat-9.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/main.yml']",7,817ffb409db40010c15bfcaaa59398b89487d1fe,osa/centos-9,,"_venv_build_base_distro_package_list: debian: - cmake - g++ - ""{{ (venv_python_executable == 'python2') | ternary('pkg-config', 'python3-pkgconfig') }}"" - ""{{ (venv_python_executable == 'python2') | ternary('python-dev', 'python3-dev') }}"" - python3-venv - python3-setuptools redhat: - autoconf - cmake - gcc - gcc-c++ - ""{{ (venv_python_executable == 'python2') | ternary('python2-devel', 'python3-devel') }}"" _venv_install_base_distro_package_list: debian: - python3-venv - python3-setuptools redhat: [] ",110,23
openstack%2Ftripleo-ci~master~Ia46842e68d0196af6a3a4dd5af51424fc2f6c32b,openstack/tripleo-ci,master,Ia46842e68d0196af6a3a4dd5af51424fc2f6c32b,Add C9 deployment image build jobs to gate queue and voting,MERGED,2022-01-11 12:49:23.000000000,2022-01-14 13:15:12.000000000,2022-01-14 13:15:12.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-11 12:49:23.000000000', 'files': ['zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/034f1a939cf8b994d81d9dc31f7d17de09d955f3', 'message': 'Add C9 deployment image build jobs to gate queue and voting\n\nMakes buildimage-overcloud-full-centos-9 & IPA & hardened-uefi\nimage build jobs vote and gate.\n\nChange-Id: Ia46842e68d0196af6a3a4dd5af51424fc2f6c32b\n'}]",4,824177,034f1a939cf8b994d81d9dc31f7d17de09d955f3,24,7,1,8449,,,0,"Add C9 deployment image build jobs to gate queue and voting

Makes buildimage-overcloud-full-centos-9 & IPA & hardened-uefi
image build jobs vote and gate.

Change-Id: Ia46842e68d0196af6a3a4dd5af51424fc2f6c32b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/77/824177/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,034f1a939cf8b994d81d9dc31f7d17de09d955f3,cs9, - tripleo-buildimage-overcloud-full-centos-9: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-9: files: *build_images_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-9: files: *build_images_hardened_uefi_files - tripleo-buildimage-overcloud-full-centos-9: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-9: files: *build_images_files - tripleo-buildimage-overcloud-hardened-uefi-full-centos-9: files: *build_images_hardened_uefi_files, voting: false voting: false voting: false voting: false voting: false voting: false,12,7
openstack%2Ftripleo-ci~master~I7f1f96ec7b452c1468b49291c627a6077483f68c,openstack/tripleo-ci,master,I7f1f96ec7b452c1468b49291c627a6077483f68c,Add C9 multinode jobs to gate queue and voting,MERGED,2022-01-11 12:49:23.000000000,2022-01-14 13:15:09.000000000,2022-01-14 13:15:09.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-11 12:49:23.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/739b45d3b772841904425ec6b580dc7d057d5846', 'message': 'Add C9 multinode jobs to gate queue and voting\n\nMakes the tripleo-ci-centos-9-containers-multinode\nscenario007-multinode + scenario000-multinode-oooq-container-updates\njobs voting and moves them to the gate queue. The parent patch at [1]\ndeals with the content provider.\n\n[1] Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d\n\nChange-Id: I7f1f96ec7b452c1468b49291c627a6077483f68c\n'}]",5,824176,739b45d3b772841904425ec6b580dc7d057d5846,25,7,1,8449,,,0,"Add C9 multinode jobs to gate queue and voting

Makes the tripleo-ci-centos-9-containers-multinode
scenario007-multinode + scenario000-multinode-oooq-container-updates
jobs voting and moves them to the gate queue. The parent patch at [1]
deals with the content provider.

[1] Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d

Change-Id: I7f1f96ec7b452c1468b49291c627a6077483f68c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/76/824176/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,739b45d3b772841904425ec6b580dc7d057d5846,cs9, - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-containers-multinode: *cs9_multinode_all - tripleo-ci-centos-9-containers-multinode: *cs9_multinode_all - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-containers-multinode: *cs9_multinode_all - tripleo-ci-centos-9-scenario007-multinode-oooq-container: *cs9_multinode_all - tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates: *cs9_multinode_all, - tripleo-ci-centos-9-containers-multinode: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-9-content-provider voting: false voting: false voting: false,7,8
openstack%2Fansible-role-qdrouterd~stable%2Fussuri~I2991e5f58f086ace6e5238b28450a5503129e49c,openstack/ansible-role-qdrouterd,stable/ussuri,I2991e5f58f086ace6e5238b28450a5503129e49c,Remove centos-8 job and tidy role metadata,MERGED,2022-01-13 13:31:00.000000000,2022-01-14 13:03:27.000000000,2022-01-14 12:58:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 13:31:00.000000000', 'files': ['zuul.d/project.yaml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/911f5340184c9c2e7c5a87fe2ceff673f30bf69a', 'message': 'Remove centos-8 job and tidy role metadata\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}]",0,824539,911f5340184c9c2e7c5a87fe2ceff673f30bf69a,9,3,1,25023,,,0,"Remove centos-8 job and tidy role metadata

Change-Id: I2991e5f58f086ace6e5238b28450a5503129e49c
(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/39/824539/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'meta/main.yml']",2,911f5340184c9c2e7c5a87fe2ceff673f30bf69a,osa/remove-centos8, - focal, - xenial,1,3
openstack%2Ftripleo-validations~master~I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0,openstack/tripleo-validations,master,I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0,Make sure fact is available to find hostname,MERGED,2022-01-07 04:32:01.000000000,2022-01-14 12:31:27.000000000,2022-01-14 12:29:28.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 34120}]","[{'number': 1, 'created': '2022-01-07 04:32:01.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/995bf8c4760b4dc0ffa5d2f536c5e218d02bc058', 'message': 'Make sure fact is available to find hostname\n\nThis is related to the fix for BZ# 1988392.  In the fix in\nhttps://review.opendev.org/803147, we changed ansible_hostname to\nuse an ansible fact without making sure the fact was available.\n\nChange-Id: I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0\n'}]",0,823746,995bf8c4760b4dc0ffa5d2f536c5e218d02bc058,9,6,1,9914,,,0,"Make sure fact is available to find hostname

This is related to the fix for BZ# 1988392.  In the fix in
https://review.opendev.org/803147, we changed ansible_hostname to
use an ansible fact without making sure the fact was available.

Change-Id: I75ecbb974e32f8cbec3748cc1eaeea17f6fce7c0
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/46/823746/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tls_everywhere/tasks/common.yaml'],1,995bf8c4760b4dc0ffa5d2f536c5e218d02bc058,fix-tls-e-validations-master,- name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - network ,,8,0
openstack%2Fkuryr-kubernetes~master~I453b04e97b556033e3f30a7406ccb6e4870f2d3c,openstack/kuryr-kubernetes,master,I453b04e97b556033e3f30a7406ccb6e4870f2d3c,Raise kubernetes tests version to 1.22.5 and fix legacy tests.,MERGED,2021-11-22 17:44:43.000000000,2022-01-14 12:24:53.000000000,2022-01-14 12:19:38.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-11-22 17:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1bd6d0c63f34e3ed1e6c6ca6c367e10e1e425742', 'message': 'Raise kubernetes tests version to 1.20.13.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 2, 'created': '2021-12-20 10:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f633192c0118c8b64fa41062388910cb6f85f180', 'message': 'Raise kubernetes tests version to 1.20.13.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 3, 'created': '2021-12-21 05:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/17a656258faf3ffb960c5b8ecf22287a9cb43a3b', 'message': 'Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 4, 'created': '2021-12-21 12:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3ae2b0f8f6f3c659bef760008e23de75472a51cc', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 5, 'created': '2021-12-23 07:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c20f9b3d9f9b3212b2ca4403f702a57d3bb837f1', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 6, 'created': '2021-12-23 10:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6b66a56bc7236ba1d0fb6ef541dbb9ab353f2d42', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 7, 'created': '2021-12-23 15:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/49d67f19edc0a05e321e21ca3a09a186c10454ea', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 8, 'created': '2021-12-24 16:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/706c02b3e9e43037af065ee5ac8209d5fe49d8f7', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 9, 'created': '2021-12-25 08:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4f1a2d38039f91720747506e2bd5dc7d4b2cd790', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 10, 'created': '2022-01-03 09:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/00f34ae52bd877fcf3be7c586435b3cc951ec17f', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 11, 'created': '2022-01-03 12:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c882519660638475324838f9731784941acffb2d', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 12, 'created': '2022-01-05 05:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d566e70fb9b1d9c4b68bfeec7e7acad8481e2512', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 13, 'created': '2022-01-05 05:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4d7d20df4b7cb017b06268476631f2c488ed1114', 'message': '[WIP] Raise kubernetes tests version to 1.22.5.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}, {'number': 14, 'created': '2022-01-12 13:12:45.000000000', 'files': ['.zuul.d/k8s-np-e2e.yaml', 'playbooks/e2e-tests.patch', 'playbooks/run_k8s_e2e_tests.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2ac0190bfaf68f9423a25c6a6d8304d3a5fa795c', 'message': 'Raise kubernetes tests version to 1.22.5 and fix legacy tests.\n\nAlso, there is a need to bump golang version to 1.16.x.\n\nChange-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c\n'}]",25,818814,2ac0190bfaf68f9423a25c6a6d8304d3a5fa795c,58,3,14,13692,,,0,"Raise kubernetes tests version to 1.22.5 and fix legacy tests.

Also, there is a need to bump golang version to 1.16.x.

Change-Id: I453b04e97b556033e3f30a7406ccb6e4870f2d3c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/818814/9 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/k8s-np-e2e.yaml'],1,1bd6d0c63f34e3ed1e6c6ca6c367e10e1e425742,k8s-np-tests, kubetest_version: v1.20.13, kubetest_version: v1.20.2,1,1
openstack%2Fopenstack-ansible-os_neutron~master~If18e22d49dbb143864b4f4e45433fc3af4464eef,openstack/openstack-ansible-os_neutron,master,If18e22d49dbb143864b4f4e45433fc3af4464eef,Use provider_networks from collection,MERGED,2022-01-13 21:28:35.000000000,2022-01-14 12:19:44.000000000,2022-01-14 12:16:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 21:28:35.000000000', 'files': ['tasks/main.yml', 'library/provider_networks'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/58198515d9112cddacc8e4f6f0c7fb2ec219eaae', 'message': 'Use provider_networks from collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824646\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/824184\nChange-Id: If18e22d49dbb143864b4f4e45433fc3af4464eef\n'}]",0,824650,58198515d9112cddacc8e4f6f0c7fb2ec219eaae,9,3,1,28619,,,0,"Use provider_networks from collection

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824646
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/824184
Change-Id: If18e22d49dbb143864b4f4e45433fc3af4464eef
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/50/824650/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'library/provider_networks']",2,58198515d9112cddacc8e4f6f0c7fb2ec219eaae,osa/plugins_collection,,"#!/usr/bin/python # (c) 2014, Kevin Carter <kevin.carter@rackspace.com> # # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # import module snippets from ansible.module_utils.basic import AnsibleModule DOCUMENTATION = """""" --- module: provider_networks version_added: ""1.8.7"" short_description: - Parse a list of networks and return data that Ansible can use description: - Parse a list of networks and return data that Ansible can use options: provider_networks: description: - List of networks to parse required: true is_metal: description: - Enable handling of on metal hosts required: false bind_prefix: description: - Add a prefix to all network interfaces. required: false author: Kevin Carter """""" EXAMPLES = """""" ## This is what the provider_networks list should look like. # provider_networks: # - network: # container_bridge: ""br-mgmt"" # container_type: ""veth"" # container_interface: ""eth1"" # ip_from_q: ""container"" # type: ""raw"" # group_binds: # - all_containers # - hosts # is_container_address: true # is_ssh_address: true # - network: # container_bridge: ""br-vxlan"" # container_type: ""veth"" # container_interface: ""eth10"" # ip_from_q: ""tunnel"" # type: ""vxlan"" # range: ""1:1000"" # net_name: ""vxlan"" # group_binds: # - neutron_linuxbridge_agent # - network: # container_bridge: ""br-vxlan"" # container_type: ""veth"" # container_interface: ""eth10"" # ip_from_q: ""tunnel"" # type: ""geneve"" # range: ""1:1000"" # net_name: ""geneve"" # group_binds: # - neutron_ovn_northd # - neutron_ovn_controller # - network: # container_bridge: ""br-vlan"" # container_type: ""veth"" # container_interface: ""eth12"" # host_bind_override: ""eth12"" # type: ""flat"" # net_name: ""flat"" # group_binds: # - neutron_linuxbridge_agent # - network: # container_bridge: ""br-vlan"" # container_type: ""veth"" # container_interface: ""eth11"" # host_bind_override: ""eth11"" # sriov_host_interfaces: ""p1p1,p1p2"" # type: ""vlan"" # range: ""1:1, 101:101"" # net_name: ""vlan"" # group_binds: # - neutron_linuxbridge_agent # - network: # host_bind_override: ""bond1"" # type: ""vlan"" # net_name: ""physnet1"" # group_binds: # - neutron_linuxbridge_agent # - network: # container_bridge: ""br-provider"" # container_type: ""veth"" # container_interface: ""eth11"" # network_interface: ""bond1"" # type: ""vlan"" # range: ""1:1, 101:101"" # net_name: ""physnet1"" # group_binds: # - neutron_openvswitch_agent # - network: # container_bridge: ""br-provider"" # container_type: ""veth"" # container_interface: ""eth11"" # network_bond_interfaces: # - ""0000:02:00.0"" # - ""0000:02:00.1"" # bond_mode: balance-tcp # bond_updelay: 100 # bond_downdelay: 100 # lacp: active # type: ""vlan"" # range: ""1:1, 101:101"" # net_name: ""physnet1"" # group_binds: # - neutron_openvswitch_agent # - network: # container_bridge: ""br-storage"" # container_type: ""veth"" # container_interface: ""eth2"" # ip_from_q: ""storage"" # type: ""raw"" # group_binds: # - glance_api # - cinder_api # - cinder_volume # - nova_compute # - swift_proxy - name: Test provider networks provider_networks: provider_networks: ""{{ provider_networks }}"" register: pndata1 - name: Test provider networks is metal provider_networks: provider_networks: ""{{ provider_networks }}"" is_metal: true register: pndata2 - name: Test provider networks with prfix provider_networks: provider_networks: ""{{ provider_networks }}"" bind_prefix: ""brx"" is_metal: true register: pndata3 ## Module output: # { # ""network_flat_networks"": ""flat"", # ""network_flat_networks_list"": [ # ""flat"" # ], # ""network_mappings"": ""flat:brx-eth12,vlan:brx-eth11"", # ""network_mappings_list"": [ # ""flat:brx-eth12"", # ""vlan:brx-eth11"" # ], # ""network_bond_interfaces_mappings"": [{ # 'bridge': 'br-provider', # 'interfaces': ['0000:02:00.0', '0000:02:00.1'], # 'bond_mode': 'balance-tcp', # 'lacp': 'active', # 'bond_updelay': 100, # 'bond_downdelay': 100 # }], # ""network_sriov_mappings"": ""physnet1:p1p1,physnet1:p1p2"", # ""network_sriov_mappings_list"": [ # ""physnet1:p1p1"" # ""physnet1:p1p2"" # ], # ""network_types"": ""vxlan,flat,vlan,geneve"", # ""network_types_list"": [ # ""vxlan"", # ""flat"", # ""vlan"", # ""geneve"" # ], # ""network_vlan_ranges"": ""vlan:1:1,vlan:1024:1025"", # ""network_vlan_ranges_list"": [ # ""vlan:1:1"", # ""vlan:1024:1025"" # ], # ""network_vxlan_ranges"": ""1:1000"", # ""network_vxlan_ranges_list"": [ # ""1:1000"" # ] # ""network_geneve_ranges"": ""1:1000"", # ""network_geneve_ranges_list"": [ # ""1:1000"" # ] # } """""" class ProviderNetworksParsing(object): def __init__(self, module): """"""Generate an integer from a name. :param module: Load the ansible module :type module: ``object`` """""" self.module = module self.network_vlan_ranges = list() self.network_vxlan_ranges = list() self.network_geneve_ranges = list() self.network_flat_networks = list() self.network_mappings = list() self.network_types = list() self.network_sriov_mappings = list() self.network_interface_mappings = list() self.network_bond_interfaces_mappings = list() def load_networks(self, provider_networks, is_metal=False, bind_prefix=None, group_names=None): """"""Load the lists of network and network data types. :param provider_networks: list of networks defined in user_config :type provider_networks: ``list`` :param is_metal: Enable of disable handling of on metal nodes :type is_metal: ``bol`` :param bind_prefix: Pre-interface prefix forced within the network map :type bind_prefix: ``str`` :param group_names: list of groups associated with node :type group_names: ``list`` """""" for net in provider_networks: if net['network']['type'] == ""vlan"": if ( set( net[""network""][""group_binds""] ).intersection(group_names) or ""neutron_server"" in group_names # noqa W503 ): if ""vlan"" not in self.network_types: self.network_types.append('vlan') if ""range"" in net['network']: for vlan_range in net['network']['range'].split(','): self.network_vlan_ranges.append( '%s:%s' % ( net['network']['net_name'], vlan_range.strip() ) ) else: self.network_vlan_ranges.append( net['network']['net_name'] ) elif net['network']['type'] == ""vxlan"": if ""vxlan"" not in self.network_types: self.network_types.append('vxlan') self.network_vxlan_ranges.append(net['network']['range']) elif net['network']['type'] == ""geneve"": if ""geneve"" not in self.network_types: self.network_types.append('geneve') self.network_geneve_ranges.append(net['network']['range']) elif net['network']['type'] == ""flat"": if ( set( net[""network""][""group_binds""] ).intersection(group_names) or ""neutron_server"" in group_names # noqa W503 ): if ""flat"" not in self.network_types: self.network_types.append('flat') self.network_flat_networks.append( net['network']['net_name'] ) # Create the network mappings if net['network']['type'] not in ['raw', 'vxlan', 'geneve']: if ( set( net[""network""][""group_binds""] ).intersection(group_names) ): if 'net_name' in net['network']: if is_metal: if 'host_bind_override' in net['network']: bind_device = \ net['network']['host_bind_override'] else: bind_device = \ net['network']['container_bridge'] else: bind_device = net['network']['container_interface'] if bind_prefix: bind_device = '%s-%s' % (bind_prefix, bind_device) self.network_mappings.append( '%s:%s' % ( net['network']['net_name'], bind_device ) ) # Builds a list of provider bridge to physical # interface mappings and is used when adding OVS # ports to bridges if 'network_interface' in net['network']: self.network_interface_mappings.append( '%s:%s' % ( net['network']['container_bridge'], net['network']['network_interface'] ) ) # Builds a list of provider bridge to physical # interface (bond member) mappings and is used # when constructing OVS bonds if 'network_bond_interfaces' in net['network']: self.network_bond_interfaces_mappings.append({ 'bridge': net['network'][ 'container_bridge' ], 'interfaces': net['network'][ 'network_bond_interfaces' ], 'bond_mode': net['network'].get( 'bond_mode', 'active-backup' ), 'lacp': net['network'].get('lacp', 'off'), 'bond_updelay': net['network'].get( 'bond_updelay', 100 ), 'bond_downdelay': net['network'].get( 'bond_downdelay', 100 ) }) # SR-IOV interface mappings if 'sriov_host_interfaces' in net['network']: host_interfaces = \ net['network']['sriov_host_interfaces'] for interface in host_interfaces.split(','): self.network_sriov_mappings.append( '%s:%s' % ( net['network']['net_name'], interface ) ) def main(): module = AnsibleModule( argument_spec=dict( provider_networks=dict( type='list', required=True ), is_metal=dict( type='bool', default='false' ), bind_prefix=dict( type='str', required=False, default=None ), group_names=dict( type='list', required=False, default=None ) ), supports_check_mode=False ) try: pnp = ProviderNetworksParsing(module=module) pnp.load_networks( provider_networks=module.params.get('provider_networks'), is_metal=module.params.get('is_metal'), bind_prefix=module.params.get('bind_prefix'), group_names=module.params.get('group_names') ) # Response dictionary, this adds commas to all list items in string # format as well as preserves the list functionality for future data # processing. resp = { 'network_vlan_ranges': ','.join(pnp.network_vlan_ranges), 'network_vlan_ranges_list': pnp.network_vlan_ranges, 'network_vxlan_ranges': ','.join(pnp.network_vxlan_ranges), 'network_vxlan_ranges_list': pnp.network_vxlan_ranges, 'network_geneve_ranges': ','.join(pnp.network_geneve_ranges), 'network_geneve_ranges_list': pnp.network_geneve_ranges, 'network_flat_networks': ','.join(pnp.network_flat_networks), 'network_flat_networks_list': pnp.network_flat_networks, 'network_mappings': ','.join(list(set(pnp.network_mappings))), 'network_mappings_list': pnp.network_mappings, 'network_types': ','.join(pnp.network_types), 'network_sriov_mappings': ','.join(pnp.network_sriov_mappings), 'network_sriov_mappings_list': pnp.network_sriov_mappings, 'network_interface_mappings': ','.join( pnp.network_interface_mappings ), 'network_interface_mappings_list': pnp.network_interface_mappings, 'network_bond_interfaces_mappings': ','.join( map(str, pnp.network_bond_interfaces_mappings) ), 'network_bond_interfaces_mappings_list': pnp.network_bond_interfaces_mappings } module.exit_json(changed=True, **resp) except Exception as exp: resp = {'stderr': exp} module.fail_json(msg='Failed Process', **resp) if __name__ == '__main__': main() ",1,434
openstack%2Fopenstack-ansible-os_zun~stable%2Fxena~Id93a3efd4b43bb9770a83d6e23e5736935002922,openstack/openstack-ansible-os_zun,stable/xena,Id93a3efd4b43bb9770a83d6e23e5736935002922,Remove testing on Centos-8,MERGED,2022-01-13 13:21:20.000000000,2022-01-14 12:17:05.000000000,2022-01-14 12:11:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 13:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/a0b7e395c1a404e561dc68d1428950f761ba2166', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n(cherry picked from commit 81c24da82298f735170e516fe436d6582f527d52)\n'}, {'number': 2, 'created': '2022-01-13 13:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f4bd09cefcf071ac43f0911a869305667f5b5750', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n(cherry picked from commit 81c24da82298f735170e516fe436d6582f527d52)\n'}, {'number': 3, 'created': '2022-01-13 13:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/30334ff6d452be131ab717c2845b8959838867e6', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n(cherry picked from commit 81c24da82298f735170e516fe436d6582f527d52)\n'}, {'number': 4, 'created': '2022-01-13 13:35:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/8eebde41e3b7db4339293b805850a65ea0ac280c', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n(cherry picked from commit 81c24da82298f735170e516fe436d6582f527d52)\n'}]",2,824535,8eebde41e3b7db4339293b805850a65ea0ac280c,15,3,4,25023,,,0,"Remove testing on Centos-8

This is EOL so we now use centos-8-stream instead

Change-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922
(cherry picked from commit 81c24da82298f735170e516fe436d6582f527d52)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/35/824535/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a0b7e395c1a404e561dc68d1428950f761ba2166,osa/remove-centos8,<<<<<<< HEAD (1c9a93 Update TOX_CONSTRAINTS_FILE for stable/xena)======= jobs: [] #- openstack-ansible-deploy-aio_metal-centos-8-stream #- openstack-ansible-deploy-aio_metal-ubuntu-focal #- openstack-ansible-upgrade-aio_metal-centos-8-stream #- openstack-ansible-upgrade-aio_metal-ubuntu-focal >>>>>>> CHANGE (81c24d Remove testing on Centos-8) gate: <<<<<<< HEAD (1c9a93 Update TOX_CONSTRAINTS_FILE for stable/xena)======= jobs: [] #- openstack-ansible-deploy-aio_metal-centos-8-stream #- openstack-ansible-deploy-aio_metal-ubuntu-focal >>>>>>> CHANGE (81c24d Remove testing on Centos-8), gate:,14,0
openstack%2Foslo.utils~stable%2Fxena~I941750b4d49d2d75f0831b24d6dd17f4040f70a2,openstack/oslo.utils,stable/xena,I941750b4d49d2d75f0831b24d6dd17f4040f70a2,Fix regex used to mask password,MERGED,2022-01-13 08:25:19.000000000,2022-01-14 12:01:39.000000000,2022-01-14 11:59:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-13 08:25:19.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba', 'message': 'Fix regex used to mask password\n\nSome use cases are poorly handled by the regex used\nto mask password. Indeed when the password contains\nquotes or double quotes in the middle such as `pass""word`,\nthe mask_password method will return `***""word`.\n\nFor more details please see\nhttps://bugs.launchpad.net/oslo.utils/+bug/1949623\n\nCloses-Bug: #1949623\nChange-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2\n(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)\n'}]",1,824510,5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba,8,3,1,31245,,,0,"Fix regex used to mask password

Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass""word`,
the mask_password method will return `***""word`.

For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623

Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/10/824510/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py']",3,5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba,,"_SANITIZE_PATTERNS_WILDCARD = {}_FORMAT_PATTERNS_WILDCARD = [r'([\'\""][^\""\']*%(key)s[0-9]*[\'\""]\s*:\s*u?[\'\""].*[\'\""])[^\""\']*([\'\""])'] # noqa: E501 _SANITIZE_PATTERNS_WILDCARD[key] = [] for pattern in _FORMAT_PATTERNS_WILDCARD: reg_ex = re.compile(pattern % {'key': key}, re.DOTALL | re.IGNORECASE) _SANITIZE_PATTERNS_WILDCARD[key].append(reg_ex) substitute_wildcard = r'\g<1>' # NOTE(hberaud): Those case are poorly handled by previous # patterns. They are passwords with quotes or double quotes. # They also needs a different way to substitute group this is why # they aren't fix in the pattern 1 or 2. for pattern in _SANITIZE_PATTERNS_WILDCARD[key]: message = re.sub(pattern, substitute_wildcard, message)",,35,1
openstack%2Ftripleo-common~master~I26129ad0bf40275b6ad580793e071937e3e61b8c,openstack/tripleo-common,master,I26129ad0bf40275b6ad580793e071937e3e61b8c,Remove remove-machine-id element,MERGED,2022-01-11 08:17:58.000000000,2022-01-14 11:57:10.000000000,2022-01-14 11:55:04.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-11 08:17:58.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8df691d0f781bf4d2c95b1925a135f8e1fecab51', 'message': 'Remove remove-machine-id element\n\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/818851\nadds the same in DIB and\nwe no longer need this hack\nhttps://bugs.launchpad.net/tripleo/+bug/1954456/comments/22\n\nRelated-Bug: #1954456\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I26129ad0bf40275b6ad580793e071937e3e61b8c\n'}]",3,824092,8df691d0f781bf4d2c95b1925a135f8e1fecab51,22,5,1,12393,,,0,"Remove remove-machine-id element

https://review.opendev.org/c/openstack/diskimage-builder/+/818851
adds the same in DIB and
we no longer need this hack
https://bugs.launchpad.net/tripleo/+bug/1954456/comments/22

Related-Bug: #1954456

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I26129ad0bf40275b6ad580793e071937e3e61b8c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/824092/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml']",4,8df691d0f781bf4d2c95b1925a135f8e1fecab51,cs9,, - remove-machine-id,0,4
openstack%2Fmanila-tempest-plugin~master~Ib463a38cb731f1a61c5eee185343304ee991956e,openstack/manila-tempest-plugin,master,Ib463a38cb731f1a61c5eee185343304ee991956e,"Pre-existing metadata items, set new share metadata",MERGED,2021-09-16 07:48:44.000000000,2022-01-14 11:52:29.000000000,2022-01-06 00:09:24.000000000,"[{'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-09-16 07:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f9804b1e52c1031e963a82616e69078997388a0f', 'message': 'Pre-existing metadata items, set new share metadata\n\nChange-Id: Ib463a38cb731f1a61c5eee185343304ee991956e\n'}, {'number': 2, 'created': '2021-09-16 11:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f823aa18abd4efad2ad2155c856ddb151c3ed116', 'message': 'Pre-existing metadata items, set new share metadata\n\nChange-Id: Ib463a38cb731f1a61c5eee185343304ee991956e\n'}, {'number': 3, 'created': '2021-12-31 06:13:49.000000000', 'files': ['manila_tempest_tests/tests/api/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/032a8fbeed4684b03de98fcc3c40c8376dc57188', 'message': 'Pre-existing metadata items, set new share metadata\n\nAdding new metadata items will not delete pre-existing metadata items, if items already exist, they will be updated with new values.\n\nChange-Id: Ib463a38cb731f1a61c5eee185343304ee991956e\n'}]",22,809330,032a8fbeed4684b03de98fcc3c40c8376dc57188,25,4,3,31280,,,0,"Pre-existing metadata items, set new share metadata

Adding new metadata items will not delete pre-existing metadata items, if items already exist, they will be updated with new values.

Change-Id: Ib463a38cb731f1a61c5eee185343304ee991956e
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/30/809330/2 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_metadata.py'],1,f9804b1e52c1031e963a82616e69078997388a0f,manila_01," @decorators.idempotent_id('4e5f8159-62b6-4d5c-f729-d8b1f029d7de') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_set_metadata_not_delete_pre_metadata(self): md1 = {u""key9"": u""value9"", u""key10"": u""value10"", } md2 = {u""key11"": u""value11"", u""key12"": u""value12"", } # create share share = self.create_share(share_type_id=self.share_type_id, cleanup_in_class=False) # set metadata self.shares_client.set_metadata(share[""id""], md1) # read metadata get_md1 = self.shares_client.get_metadata(share[""id""])['metadata'] # verify metadata self.assertEqual(md1, get_md1) # verify metadata items for key in md1: get_value = self.shares_client.get_metadata_item(share[""id""], key) self.assertEqual(md1[key], get_value[key]) # set metadata again self.shares_client.set_metadata(share[""id""], md2) # read metadata get_md2 = self.shares_client.get_metadata(share[""id""])['metadata'] # verify metadata md1.update(md2) md = md1 self.assertEqual(md, get_md2) # verify metadata items for key in md: get_value = self.shares_client.get_metadata_item(share[""id""], key) self.assertEqual(md[key], get_value[key]) # delete metadata for key in md.keys(): self.shares_client.delete_metadata(share[""id""], key) # verify deletion of metadata get_metadata = self.shares_client.get_metadata(share[""id""])['metadata'] self.assertEqual({}, get_metadata) @decorators.idempotent_id('2ec70ba5-050b-3b17-c862-c149e53543c0') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_set_metadata_key_already_exist(self): md1 = {u""key9"": u""value9"", u""key10"": u""value10"", } md2 = {u""key9"": u""value13"", u""key11"": u""value11"", } # create share share = self.create_share(share_type_id=self.share_type_id, cleanup_in_class=False) # set metadata self.shares_client.set_metadata(share[""id""], md1) # read metadata get_md1 = self.shares_client.get_metadata(share[""id""])['metadata'] # verify metadata self.assertEqual(md1, get_md1) # verify metadata items for key in md1: get_value = self.shares_client.get_metadata_item(share[""id""], key) self.assertEqual(md1[key], get_value[key]) # set metadata again self.shares_client.set_metadata(share[""id""], md2) # read metadata get_md2 = self.shares_client.get_metadata(share[""id""])['metadata'] # verify metadata md1.update(md2) md = {u""key9"": u""value13"", u""key10"": u""value10"", u""key11"": u""value11""} self.assertEqual(md, get_md2) # verify metadata items for key in md: get_value = self.shares_client.get_metadata_item(share[""id""], key) self.assertEqual(md[key], get_value[key]) # delete metadata for key in md.keys(): self.shares_client.delete_metadata(share[""id""], key) # verify deletion of metadata get_metadata = self.shares_client.get_metadata(share[""id""])['metadata'] self.assertEqual({}, get_metadata) ",,97,0
openstack%2Foslo.metrics~stable%2Fxena~I009ffbc10d3400881c6f8b2178494ba180d6549f,openstack/oslo.metrics,stable/xena,I009ffbc10d3400881c6f8b2178494ba180d6549f,Limit metrics_socket_file permissions,MERGED,2021-10-18 11:59:08.000000000,2022-01-14 11:51:06.000000000,2022-01-14 11:48:56.000000000,"[{'_account_id': 11805}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-10-18 11:59:08.000000000', 'files': ['oslo_metrics/__main__.py'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/b90433530d1b0349b9952a43c85b80b9d6fb631e', 'message': 'Limit metrics_socket_file permissions\n\nThis limits the metrics_socket_file permissions to 0o660. Prior\nto this change, symbolic constants were used, resulting in\n0o707 permissions.\n\nCloses-Bug: #1945533\nChange-Id: I009ffbc10d3400881c6f8b2178494ba180d6549f\n(cherry picked from commit b23fb97c97d02615c0eef428ebd223b6baced952)\n'}]",1,814265,b90433530d1b0349b9952a43c85b80b9d6fb631e,10,4,1,28522,,,0,"Limit metrics_socket_file permissions

This limits the metrics_socket_file permissions to 0o660. Prior
to this change, symbolic constants were used, resulting in
0o707 permissions.

Closes-Bug: #1945533
Change-Id: I009ffbc10d3400881c6f8b2178494ba180d6549f
(cherry picked from commit b23fb97c97d02615c0eef428ebd223b6baced952)
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/65/814265/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_metrics/__main__.py'],1,b90433530d1b0349b9952a43c85b80b9d6fb631e,," os.chmod(socket_path, 0o660)","import stat os.chmod(socket_path, stat.S_IRWXU | stat.S_IRWXO)",1,2
openstack%2Fkolla~stable%2Fvictoria~I080ad3bbc0e53cec2ac11bfd485c97d88388ef79,openstack/kolla,stable/victoria,I080ad3bbc0e53cec2ac11bfd485c97d88388ef79,[CI] Stop testing non-stream CentOS,MERGED,2022-01-05 16:17:28.000000000,2022-01-14 11:48:16.000000000,2022-01-14 11:39:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-01-05 16:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a79c520e81e7ec56431b8c9bcef80fe41596a1e6', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\nThis continues building non-stream images but using stream on\nthe host.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823555\nChange-Id: I080ad3bbc0e53cec2ac11bfd485c97d88388ef79\n'}, {'number': 2, 'created': '2022-01-05 16:21:58.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bfc4c8e3c5a73bbd0130c0a4328914ee80072b2d', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\nThis continues building non-stream images but using stream on\nthe host.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823555\nChange-Id: I080ad3bbc0e53cec2ac11bfd485c97d88388ef79\n'}]",4,823557,bfc4c8e3c5a73bbd0130c0a4328914ee80072b2d,12,3,2,30491,,,0,"[CI] Stop testing non-stream CentOS

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

This continues building non-stream images but using stream on
the host.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/823555
Change-Id: I080ad3bbc0e53cec2ac11bfd485c97d88388ef79
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/823557/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/base.yaml']",2,a79c520e81e7ec56431b8c9bcef80fe41596a1e6,ci-stop-testing-non-stream-centos, label: centos-8-stream label: centos-8-stream-arm64, label: centos-8 label: centos-8-arm64,2,32
openstack%2Fkolla~stable%2Fussuri~Ia1ece3b74bd9bc1b0b8cc123abb23048bc50894d,openstack/kolla,stable/ussuri,Ia1ece3b74bd9bc1b0b8cc123abb23048bc50894d,[CI] Stop testing non-stream CentOS,MERGED,2022-01-07 18:28:23.000000000,2022-01-14 11:47:20.000000000,2022-01-14 11:39:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-01-07 18:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d7584c9433bca9dd3ff6846dc2d6e4946caac68f', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\nThis continues building non-stream images but using Ubuntu on\nthe host (as that is the most reliable we have left here).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nChange-Id: Ia1ece3b74bd9bc1b0b8cc123abb23048bc50894d\n'}, {'number': 2, 'created': '2022-01-07 18:29:32.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/15226bf473798aa28db99978ab3a4fbbbd8be1e3', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\nThis continues building non-stream images but using Ubuntu on\nthe host (as that is the most reliable we have left here).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nChange-Id: Ia1ece3b74bd9bc1b0b8cc123abb23048bc50894d\n'}]",0,823855,15226bf473798aa28db99978ab3a4fbbbd8be1e3,10,3,2,30491,,,0,"[CI] Stop testing non-stream CentOS

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

This continues building non-stream images but using Ubuntu on
the host (as that is the most reliable we have left here).

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Change-Id: Ia1ece3b74bd9bc1b0b8cc123abb23048bc50894d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/823855/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/base.yaml']",2,d7584c9433bca9dd3ff6846dc2d6e4946caac68f,ci-stop-testing-non-stream-centos,, name: kolla-centos8 nodes: - name: primary label: centos-8 - nodeset: name: kolla-centos8-aarch64 nodes: - name: primary label: centos-8-arm64 - nodeset:,3,15
openstack%2Fkolla~stable%2Ftrain~I6bbd4c574db190bea2603ce0761dbc31f8745242,openstack/kolla,stable/train,I6bbd4c574db190bea2603ce0761dbc31f8745242,[CI] Stop testing non-stream CentOS,MERGED,2022-01-07 19:28:40.000000000,2022-01-14 11:47:12.000000000,2022-01-14 11:39:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-01-07 19:28:40.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9cfe6e99a09d26ca6a202b329e0e28e8b817ee8', 'message': '[CI] Stop testing non-stream CentOS\n\nPer [1].\nIt was agreed on during a Kolla IRC meeting. [2]\n\nThis continues building non-stream images as they are built on\nCentOS 7.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53\n\nChange-Id: I6bbd4c574db190bea2603ce0761dbc31f8745242\n'}]",0,823862,c9cfe6e99a09d26ca6a202b329e0e28e8b817ee8,8,3,1,30491,,,0,"[CI] Stop testing non-stream CentOS

Per [1].
It was agreed on during a Kolla IRC meeting. [2]

This continues building non-stream images as they are built on
CentOS 7.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html
[2] https://meetings.opendev.org/meetings/kolla/2021/kolla.2021-12-22-15.01.log.html#l-53

Change-Id: I6bbd4c574db190bea2603ce0761dbc31f8745242
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/823862/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,c9cfe6e99a09d26ca6a202b329e0e28e8b817ee8,ci-stop-testing-non-stream-centos,, - kolla-ansible-centos8-source - kolla-ansible-centos8-binary - kolla-ansible-centos8-source - kolla-ansible-centos8-source-bifrost: files: ^docker\/(base|bifrost|openstack-base)\/.* - kolla-ansible-centos8-source-zun: files: ^docker\/(base|cinder|etcd|iscsid|kuryr|openstack-base|zun)\/.* - kolla-ansible-centos8-source-scenario-nfv: files: ^docker\/(base|barbican|heat|mistral|openstack-base|redis|tacker)\/.* - kolla-ansible-centos8-source-ironic: files: ^docker\/(base|dnsmasq|ironic|ironic-inspector|iscsid|openstack-base)\/.*,0,11
openstack%2Fansible-config_template~master~Ied7219f215cbbd7c2eb131234d59992a68f59e81,openstack/ansible-config_template,master,Ied7219f215cbbd7c2eb131234d59992a68f59e81,Copy refactor of code quality issues,MERGED,2022-01-13 16:05:15.000000000,2022-01-14 11:34:39.000000000,2022-01-14 11:32:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 16:05:15.000000000', 'files': ['plugins/action/config_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/461379169dbcc83cdc73fc7465f7d94c99a06c8e', 'message': 'Copy refactor of code quality issues\n\nThe following commit copy implemented by ceph-ansible [1] code quality\nissues detected by DeepSource:\n- Use literals instead of function calls to create data structure.\n- Refactor useless else block in the loop.\n\n[1] https://github.com/ceph/ceph-ansible/commit/a0bc5afe26b29c7d1dd9e3102d2c7cfcc6613d87#diff-ee824655f36c314a50f7dfe3f4c5ed7b41d4168ce17ec243139c6913192c6d66\n\nChange-Id: Ied7219f215cbbd7c2eb131234d59992a68f59e81\n'}]",0,824601,461379169dbcc83cdc73fc7465f7d94c99a06c8e,8,3,1,28619,,,0,"Copy refactor of code quality issues

The following commit copy implemented by ceph-ansible [1] code quality
issues detected by DeepSource:
- Use literals instead of function calls to create data structure.
- Refactor useless else block in the loop.

[1] https://github.com/ceph/ceph-ansible/commit/a0bc5afe26b29c7d1dd9e3102d2c7cfcc6613d87#diff-ee824655f36c314a50f7dfe3f4c5ed7b41d4168ce17ec243139c6913192c6d66

Change-Id: Ied7219f215cbbd7c2eb131234d59992a68f59e81
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/01/824601/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/action/config_template.py'],1,461379169dbcc83cdc73fc7465f7d94c99a06c8e,," fp.write(""\n"") config_object.close() config_overrides=self._task.args.get('config_overrides', {}),"," else: fp.write(""\n"") else: config_object.close() config_overrides=self._task.args.get('config_overrides', dict()),",5,5
openstack%2Fpython-tripleoclient~master~I09413d8b17657e9aeb38bc5a2d9ed44182ddf539,openstack/python-tripleoclient,master,I09413d8b17657e9aeb38bc5a2d9ed44182ddf539,Guard against NoneType,MERGED,2022-01-13 14:59:05.000000000,2022-01-14 11:15:31.000000000,2022-01-14 11:13:54.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 14:59:05.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/51695e284b71e4670c8dcb737f263b08fe3b25d2', 'message': 'Guard against NoneType\n\nIf the resource registry data from a loaded file is None the method will\nstacktrace resulting in a deployment failure. This change will ensure\nthat the data is loaded and in the event the resource_registry option is\nNone, it will set an empty set and carry on.\n\nChange-Id: I09413d8b17657e9aeb38bc5a2d9ed44182ddf539\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,824591,51695e284b71e4670c8dcb737f263b08fe3b25d2,8,3,1,7353,,,0,"Guard against NoneType

If the resource registry data from a loaded file is None the method will
stacktrace resulting in a deployment failure. This change will ensure
that the data is loaded and in the event the resource_registry option is
None, it will set an empty set and carry on.

Change-Id: I09413d8b17657e9aeb38bc5a2d9ed44182ddf539
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/824591/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,51695e284b71e4670c8dcb737f263b08fe3b25d2,," _resource_registry = data.get('resource_registry') if isinstance(_resource_registry, dict): registry = set(_resource_registry.keys()) else: registry = set()"," registry = set(data.get('resource_registry', {}).keys())",6,1
openstack%2Fneutron~master~Id8302bf23f48b227d05f1ec2a7136935b7b1c2fb,openstack/neutron,master,Id8302bf23f48b227d05f1ec2a7136935b7b1c2fb,Fix call to the compile_ovn function from Devstack,MERGED,2021-12-22 15:04:30.000000000,2022-01-14 10:58:42.000000000,2022-01-14 10:23:05.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 6062}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-22 15:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3365366f444518d50ca5524d18f8ba21dfc84a81', 'message': 'Fix call to the compile_ovn function from Devstack\n\nIt was accepting 3 arguments where first one was ""build_modules"".\nIt wasn\'t used anywhere in that function so it was removed from\nit.\nThis patch reflects that Devstack change in the Neutron\'s functional\ntests script too.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/822717\nChange-Id: Id8302bf23f48b227d05f1ec2a7136935b7b1c2fb\n'}, {'number': 2, 'created': '2022-01-14 08:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84e19454397db228f71b99277ca97db707d8c959', 'message': 'Fix call to the compile_ovn function from Devstack\n\nIt was accepting 3 arguments where first one was ""build_modules"".\nIt wasn\'t used anywhere in that function so it was removed from\nit.\nThis patch reflects that Devstack change in the Neutron\'s functional\ntests script too.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/822717\nChange-Id: Id8302bf23f48b227d05f1ec2a7136935b7b1c2fb\n'}, {'number': 3, 'created': '2022-01-14 08:53:35.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc0c60d3d8404300a0148654022eb2c5e5fdc033', 'message': 'Fix call to the compile_ovn function from Devstack\n\nIt was accepting 3 arguments where first one was ""build_modules"".\nIt wasn\'t used anywhere in that function so it was removed from\nit.\nThis patch reflects that Devstack change in the Neutron\'s functional\ntests script too.\n\nCloses-Bug: #1957887\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/822717\nChange-Id: Id8302bf23f48b227d05f1ec2a7136935b7b1c2fb\n'}]",2,822719,cc0c60d3d8404300a0148654022eb2c5e5fdc033,25,10,3,11975,,,0,"Fix call to the compile_ovn function from Devstack

It was accepting 3 arguments where first one was ""build_modules"".
It wasn't used anywhere in that function so it was removed from
it.
This patch reflects that Devstack change in the Neutron's functional
tests script too.

Closes-Bug: #1957887

Depends-On: https://review.opendev.org/c/openstack/devstack/+/822717
Change-Id: Id8302bf23f48b227d05f1ec2a7136935b7b1c2fb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/822719/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,3365366f444518d50ca5524d18f8ba21dfc84a81,clean-compile-ovn-function, compile_ovn /usr /var, compile_ovn False /usr /var,1,1
openstack%2Ftempest~master~I986f1b76274322b2a3e3a675190aa7acbe4ef952,openstack/tempest,master,I986f1b76274322b2a3e3a675190aa7acbe4ef952,do not check transfer-encoding nor content-lengh for DELETE RFC doesn't say it must send transfer-encoding for DELETE 200 uwsgi decided not to send it doesn't thus breaks the test object_storage.test_object_slo.ObjectSloTest.test_delete_large_object,ABANDONED,2022-01-13 15:22:26.000000000,2022-01-14 10:42:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-13 15:22:26.000000000', 'files': ['tempest/common/custom_matchers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fcef58b5957cf5fbc309baf1144e2718af50cfcd', 'message': ""do not check transfer-encoding nor content-lengh for DELETE\nRFC doesn't say it must send transfer-encoding for DELETE 200\nuwsgi decided not to send it doesn't thus breaks the test\nobject_storage.test_object_slo.ObjectSloTest.test_delete_large_object\n\nChange-Id: I986f1b76274322b2a3e3a675190aa7acbe4ef952\n""}]",1,824594,fcef58b5957cf5fbc309baf1144e2718af50cfcd,5,1,1,29422,,,0,"do not check transfer-encoding nor content-lengh for DELETE
RFC doesn't say it must send transfer-encoding for DELETE 200
uwsgi decided not to send it doesn't thus breaks the test
object_storage.test_object_slo.ObjectSloTest.test_delete_large_object

Change-Id: I986f1b76274322b2a3e3a675190aa7acbe4ef952
",git fetch https://review.opendev.org/openstack/tempest refs/changes/94/824594/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/custom_matchers.py'],1,fcef58b5957cf5fbc309baf1144e2718af50cfcd,objects, self.method != 'DELETE' and,,1,0
openstack%2Fopenstack-ansible-os_keystone~master~I09f9fda3699ece3300a666d0c103da4e022d70e2,openstack/openstack-ansible-os_keystone,master,I09f9fda3699ece3300a666d0c103da4e022d70e2,Use common service setup tasks from a collection rather than in-role,MERGED,2021-12-08 10:41:56.000000000,2022-01-14 10:32:05.000000000,2022-01-14 10:30:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-08 10:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6ea2e4d23e861649f61226a28537bf1b7fd833c0', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 2, 'created': '2021-12-08 11:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1e5f7caeccb88b22c2c314eeaad59564be1dfff8', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 3, 'created': '2022-01-11 09:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ce61079572e37a1bec054128c53803c3b76faf34', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 4, 'created': '2022-01-11 10:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/06c48e51d91a3278bd71b2327dd2b7f9d359c4f5', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821093/7\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 5, 'created': '2022-01-11 12:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/aef1ab9cf50df20564ded70616304fd38fa1e584', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824115\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821093/7\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 6, 'created': '2022-01-12 17:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7964da47be040240d2e269e2d05dfb9beb45dcd4', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824115\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821093/7\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 7, 'created': '2022-01-12 17:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9233d4ba316d2ad944e2d8af186aac4e4c04cac8', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824115\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821093/7\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 8, 'created': '2022-01-12 17:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/092567426f89b42fa9a92f0b68816ed2a266ccc9', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824115\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821093/7\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}, {'number': 9, 'created': '2022-01-13 11:26:37.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0985cfa47d25c09e1bd63d8da5950e6e568ebbc1', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824115\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821093/7\nChange-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2\n'}]",3,820999,0985cfa47d25c09e1bd63d8da5950e6e568ebbc1,34,3,9,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824115
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821093/7
Change-Id: I09f9fda3699ece3300a666d0c103da4e022d70e2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/99/820999/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,6ea2e4d23e861649f61226a28537bf1b7fd833c0,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fneutron~stable%2Fussuri~I74a2ca9a344a93219deb94d60247478ee3200659,openstack/neutron,stable/ussuri,I74a2ca9a344a93219deb94d60247478ee3200659,[OVN] Allow only one physical network per bridge,MERGED,2022-01-12 08:48:37.000000000,2022-01-14 10:25:09.000000000,2022-01-14 10:23:01.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 08:48:37.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02a986a01f3701695a78b3392920fd0dd6b7b789', 'message': '[OVN] Allow only one physical network per bridge\n\nSame as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver\nshould allow only one physical network per bridge. The rule ""one\nnetwork, one bridge"" should be present in OVN too.\n\nBy allowing only one physical network per bridge, Neutron prevents\nhaving two networks with subnets with the same CIDR in the same bridge.\nCurrently is possible and this CIDR clash is not prevented (shouldn\'t be\nby the API). This architectural limitation prevents this situation.\n\nThis limitation is already present in deployment tools as TripleO.\n\nConflicts:\n  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n\nCloses-Bug: #1956476\nChange-Id: I74a2ca9a344a93219deb94d60247478ee3200659\n(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)\n(cherry picked from commit eddb3a79025b8936292c0b89ca498d5d4899860c)\n'}]",0,824348,02a986a01f3701695a78b3392920fd0dd6b7b789,9,3,1,16688,,,0,"[OVN] Allow only one physical network per bridge

Same as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver
should allow only one physical network per bridge. The rule ""one
network, one bridge"" should be present in OVN too.

By allowing only one physical network per bridge, Neutron prevents
having two networks with subnets with the same CIDR in the same bridge.
Currently is possible and this CIDR clash is not prevented (shouldn't be
by the API). This architectural limitation prevents this situation.

This limitation is already present in deployment tools as TripleO.

Conflicts:
  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py

Closes-Bug: #1956476
Change-Id: I74a2ca9a344a93219deb94d60247478ee3200659
(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)
(cherry picked from commit eddb3a79025b8936292c0b89ca498d5d4899860c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/824348/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",4,02a986a01f3701695a78b3392920fd0dd6b7b789,bug/1956476," 'public:br-ex,public2:br-ex2'}}, def test_multiple_physnets_in_one_bridge(self): self.data = { 'chassis': [ {'external_ids': {'ovn-bridge-mappings': 'p1:br-ex,p2:br-ex'}} ] } self.load_test_data() self.assertRaises(ValueError, self.api.get_chassis_and_physnets) "," 'public:br-ex,public2:br-ex'}},",16,5
openstack%2Fneutron~stable%2Fvictoria~I74a2ca9a344a93219deb94d60247478ee3200659,openstack/neutron,stable/victoria,I74a2ca9a344a93219deb94d60247478ee3200659,[OVN] Allow only one physical network per bridge,MERGED,2022-01-12 08:48:02.000000000,2022-01-14 10:25:08.000000000,2022-01-14 10:22:57.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 08:48:02.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb67856d9f4c2e46991a713da33cd4a8c197e86a', 'message': '[OVN] Allow only one physical network per bridge\n\nSame as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver\nshould allow only one physical network per bridge. The rule ""one\nnetwork, one bridge"" should be present in OVN too.\n\nBy allowing only one physical network per bridge, Neutron prevents\nhaving two networks with subnets with the same CIDR in the same bridge.\nCurrently is possible and this CIDR clash is not prevented (shouldn\'t be\nby the API). This architectural limitation prevents this situation.\n\nThis limitation is already present in deployment tools as TripleO.\n\nConflicts:\n  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n\nCloses-Bug: #1956476\nChange-Id: I74a2ca9a344a93219deb94d60247478ee3200659\n(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)\n(cherry picked from commit eddb3a79025b8936292c0b89ca498d5d4899860c)\n'}]",0,824347,cb67856d9f4c2e46991a713da33cd4a8c197e86a,9,3,1,16688,,,0,"[OVN] Allow only one physical network per bridge

Same as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver
should allow only one physical network per bridge. The rule ""one
network, one bridge"" should be present in OVN too.

By allowing only one physical network per bridge, Neutron prevents
having two networks with subnets with the same CIDR in the same bridge.
Currently is possible and this CIDR clash is not prevented (shouldn't be
by the API). This architectural limitation prevents this situation.

This limitation is already present in deployment tools as TripleO.

Conflicts:
  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py

Closes-Bug: #1956476
Change-Id: I74a2ca9a344a93219deb94d60247478ee3200659
(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)
(cherry picked from commit eddb3a79025b8936292c0b89ca498d5d4899860c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/824347/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",4,cb67856d9f4c2e46991a713da33cd4a8c197e86a,bug/1956476," 'public:br-ex,public2:br-ex2'}}, def test_multiple_physnets_in_one_bridge(self): self.data = { 'chassis': [ {'external_ids': {'ovn-bridge-mappings': 'p1:br-ex,p2:br-ex'}} ] } self.load_test_data() self.assertRaises(ValueError, self.api.get_chassis_and_physnets) "," 'public:br-ex,public2:br-ex'}},",16,5
openstack%2Fneutron~stable%2Fwallaby~I74a2ca9a344a93219deb94d60247478ee3200659,openstack/neutron,stable/wallaby,I74a2ca9a344a93219deb94d60247478ee3200659,[OVN] Allow only one physical network per bridge,MERGED,2022-01-12 08:47:29.000000000,2022-01-14 10:11:46.000000000,2022-01-14 10:09:41.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 08:47:29.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eddb3a79025b8936292c0b89ca498d5d4899860c', 'message': '[OVN] Allow only one physical network per bridge\n\nSame as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver\nshould allow only one physical network per bridge. The rule ""one\nnetwork, one bridge"" should be present in OVN too.\n\nBy allowing only one physical network per bridge, Neutron prevents\nhaving two networks with subnets with the same CIDR in the same bridge.\nCurrently is possible and this CIDR clash is not prevented (shouldn\'t be\nby the API). This architectural limitation prevents this situation.\n\nThis limitation is already present in deployment tools as TripleO.\n\nConflicts:\n  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n\nCloses-Bug: #1956476\nChange-Id: I74a2ca9a344a93219deb94d60247478ee3200659\n(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)\n'}]",0,824346,eddb3a79025b8936292c0b89ca498d5d4899860c,10,3,1,16688,,,0,"[OVN] Allow only one physical network per bridge

Same as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver
should allow only one physical network per bridge. The rule ""one
network, one bridge"" should be present in OVN too.

By allowing only one physical network per bridge, Neutron prevents
having two networks with subnets with the same CIDR in the same bridge.
Currently is possible and this CIDR clash is not prevented (shouldn't be
by the API). This architectural limitation prevents this situation.

This limitation is already present in deployment tools as TripleO.

Conflicts:
  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py

Closes-Bug: #1956476
Change-Id: I74a2ca9a344a93219deb94d60247478ee3200659
(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/824346/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",4,eddb3a79025b8936292c0b89ca498d5d4899860c,bug/1956476," 'public:br-ex,public2:br-ex2'}}, def test_multiple_physnets_in_one_bridge(self): self.data = { 'chassis': [ {'external_ids': {'ovn-bridge-mappings': 'p1:br-ex,p2:br-ex'}} ] } self.load_test_data() self.assertRaises(ValueError, self.api.get_chassis_and_physnets) "," 'public:br-ex,public2:br-ex'}},",16,5
openstack%2Fos-ken~stable%2Ftrain~Iffa8f8da017364a3b471475a4123356e2030dba5,openstack/os-ken,stable/train,Iffa8f8da017364a3b471475a4123356e2030dba5,Avoid missing key 'password' for neighbor_add,MERGED,2022-01-13 15:23:34.000000000,2022-01-14 09:53:57.000000000,2022-01-14 09:48:41.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 15:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/f065137a20078269dbe0750b34453c3539f960bd', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n""}, {'number': 2, 'created': '2022-01-13 15:40:58.000000000', 'files': ['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/be95603476f62e6196748ec7fef3b17bfe0b671b', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)\n""}]",0,824610,be95603476f62e6196748ec7fef3b17bfe0b671b,9,3,2,8313,,,0,"Avoid missing key 'password' for neighbor_add

Change-Id: Iffa8f8da017364a3b471475a4123356e2030dba5
Story: 2009779
Task: 44260
(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/10/824610/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py']",2,f065137a20078269dbe0750b34453c3539f960bd,story/2009779-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," if 'password' in kwargs: log_str = str( dict(kwargs.items() - {'password': kwargs['password']}.items())) else: log_str = str(kwargs) ""API method %s called with args: %s"", symbol, log_str)"," ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))",10,3
openstack%2Fos-ken~stable%2Fussuri~Iffa8f8da017364a3b471475a4123356e2030dba5,openstack/os-ken,stable/ussuri,Iffa8f8da017364a3b471475a4123356e2030dba5,Avoid missing key 'password' for neighbor_add,MERGED,2022-01-13 15:22:11.000000000,2022-01-14 09:53:56.000000000,2022-01-14 09:48:33.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 15:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/bd361324d9cbbcbe9e382ea660b86d5be4293f3f', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n""}, {'number': 2, 'created': '2022-01-13 15:40:29.000000000', 'files': ['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/308d371c1bd9a3c2b8e73f2d776741f95af8fea6', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)\n""}]",0,824549,308d371c1bd9a3c2b8e73f2d776741f95af8fea6,9,3,2,8313,,,0,"Avoid missing key 'password' for neighbor_add

Change-Id: Iffa8f8da017364a3b471475a4123356e2030dba5
Story: 2009779
Task: 44260
(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/49/824549/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py']",2,bd361324d9cbbcbe9e382ea660b86d5be4293f3f,story/2009779-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," if 'password' in kwargs: log_str = str( dict(kwargs.items() - {'password': kwargs['password']}.items())) else: log_str = str(kwargs) ""API method %s called with args: %s"", symbol, log_str)"," ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))",10,3
openstack%2Fos-ken~stable%2Fvictoria~Iffa8f8da017364a3b471475a4123356e2030dba5,openstack/os-ken,stable/victoria,Iffa8f8da017364a3b471475a4123356e2030dba5,Avoid missing key 'password' for neighbor_add,MERGED,2022-01-13 15:11:44.000000000,2022-01-14 09:53:41.000000000,2022-01-14 09:48:25.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 15:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/27f091ad2e3928b7ead463f2d2fef3b55df525ff', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n""}, {'number': 2, 'created': '2022-01-13 15:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/d1c6bad4760ca3ab6439b3346fc9b5f533b9dc0d', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n""}, {'number': 3, 'created': '2022-01-13 15:39:48.000000000', 'files': ['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/5e9a961cbb865ee29b41155bbea20f6f4dcb4350', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)\n""}]",0,824548,5e9a961cbb865ee29b41155bbea20f6f4dcb4350,12,3,3,8313,,,0,"Avoid missing key 'password' for neighbor_add

Change-Id: Iffa8f8da017364a3b471475a4123356e2030dba5
Story: 2009779
Task: 44260
(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/48/824548/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py']",2,27f091ad2e3928b7ead463f2d2fef3b55df525ff,story/2009779-stable/xena-stable/wallaby-stable/victoria," if 'password' in kwargs: log_str = str( dict(kwargs.items() - {'password': kwargs['password']}.items())) else: log_str = str(kwargs) ""API method %s called with args: %s"", symbol, log_str)"," ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))",16,3
openstack%2Fos-ken~stable%2Fwallaby~Iffa8f8da017364a3b471475a4123356e2030dba5,openstack/os-ken,stable/wallaby,Iffa8f8da017364a3b471475a4123356e2030dba5,Avoid missing key 'password' for neighbor_add,MERGED,2022-01-13 15:11:13.000000000,2022-01-14 09:53:41.000000000,2022-01-14 09:48:16.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 15:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/b4f694fb0b431a3568492d6c943f8ea27e22211b', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n""}, {'number': 2, 'created': '2022-01-13 15:37:43.000000000', 'files': ['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/018d755fd7426902256891f39cb21b51d52b7f17', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)\n""}]",0,824547,018d755fd7426902256891f39cb21b51d52b7f17,9,3,2,8313,,,0,"Avoid missing key 'password' for neighbor_add

Change-Id: Iffa8f8da017364a3b471475a4123356e2030dba5
Story: 2009779
Task: 44260
(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/47/824547/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py']",2,b4f694fb0b431a3568492d6c943f8ea27e22211b,story/2009779-stable/xena-stable/wallaby," if 'password' in kwargs: log_str = str( dict(kwargs.items() - {'password': kwargs['password']}.items())) else: log_str = str(kwargs) ""API method %s called with args: %s"", symbol, log_str)"," ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))",7,3
openstack%2Fos-ken~stable%2Fxena~Iffa8f8da017364a3b471475a4123356e2030dba5,openstack/os-ken,stable/xena,Iffa8f8da017364a3b471475a4123356e2030dba5,Avoid missing key 'password' for neighbor_add,MERGED,2022-01-13 14:58:41.000000000,2022-01-14 09:47:47.000000000,2022-01-14 09:42:57.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 14:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/1c0a82d1a1d6931646c6a5a1e5770fb75e39664f', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n""}, {'number': 2, 'created': '2022-01-13 15:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/7366eea7eb96905d7e30cd5b52f63174f67b5245', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n(cherry picked from commit ffa8f8da017364a3b471475a4123356e2030dba5)\n""}, {'number': 3, 'created': '2022-01-13 15:36:29.000000000', 'files': ['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/32c3cac164da0ef0759f8fc0f35b78ecbaa8148a', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)\n""}]",2,824546,32c3cac164da0ef0759f8fc0f35b78ecbaa8148a,12,3,3,8313,,,0,"Avoid missing key 'password' for neighbor_add

Change-Id: Iffa8f8da017364a3b471475a4123356e2030dba5
Story: 2009779
Task: 44260
(cherry picked from commit 58a39392397cd01e174c4736fa31a9a5617f1ff0)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/46/824546/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py']",2,1c0a82d1a1d6931646c6a5a1e5770fb75e39664f,story/2009779-stable/xena," if 'password' in kwargs: log_str = str( dict(kwargs.items() - {'password': kwargs['password']}.items())) else: log_str = str(kwargs) ""API method %s called with args: %s"", symbol, log_str)"," ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))",7,3
openstack%2Ftripleo-heat-templates~master~I90be98d67ede06933bbcf3ad5448365ea220f1a9,openstack/tripleo-heat-templates,master,I90be98d67ede06933bbcf3ad5448365ea220f1a9,Enable policy rule management in nova-compute,MERGED,2021-12-27 06:59:22.000000000,2022-01-14 09:45:59.000000000,2022-01-14 09:45:59.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-12-27 06:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a097aa589b8dd0c232be9b21fd85d0ccd6de40e', 'message': 'Enable policy rule management in nova-compute\n\nThere are some features in nova-compute which validate policy rules.\nFor example when connecting an instance to an external network,\nnova-compute checks ``network:attach_external_network`` to determine\nwhether the operation is permitted.\n\nThis change migrates definition of nova::policy hieradata from nova-api\nto nova-base so that the hieradata can be used by both nova-api and\nnova-compute.\n\nCloses-Bug: #1955786\nDepends-on: https://review.opendev.org/822991\nChange-Id: I90be98d67ede06933bbcf3ad5448365ea220f1a9\n'}, {'number': 2, 'created': '2022-01-08 06:38:18.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a27e8bdbb5655851a65163ff968546233ce0e60', 'message': 'Enable policy rule management in nova-compute\n\nThere are some features in nova-compute which validate policy rules.\nFor example when connecting an instance to an external network,\nnova-compute checks ``network:attach_external_network`` to determine\nwhether the operation is permitted.\n\nThis change migrates definition of nova::policy hieradata from nova-api\nto nova-base so that the hieradata can be used by both nova-api and\nnova-compute.\n\nCloses-Bug: #1955786\nDepends-on: https://review.opendev.org/822991\nChange-Id: I90be98d67ede06933bbcf3ad5448365ea220f1a9\n'}]",0,822992,2a27e8bdbb5655851a65163ff968546233ce0e60,13,6,2,9816,,,0,"Enable policy rule management in nova-compute

There are some features in nova-compute which validate policy rules.
For example when connecting an instance to an external network,
nova-compute checks ``network:attach_external_network`` to determine
whether the operation is permitted.

This change migrates definition of nova::policy hieradata from nova-api
to nova-base so that the hieradata can be used by both nova-api and
nova-compute.

Closes-Bug: #1955786
Depends-on: https://review.opendev.org/822991
Change-Id: I90be98d67ede06933bbcf3ad5448365ea220f1a9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/822992/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml']",2,9a097aa589b8dd0c232be9b21fd85d0ccd6de40e,bug/1955786," NovaApiPolicies: description: | A hash of policies to configure for Nova API. e.g. { nova-context_is_admin: { key: context_is_admin, value: 'role:admin' } } default: {} type: json EnforceSecureRbac: type: boolean default: false description: >- Setting this option to True will configure each OpenStack service to enforce Secure RBAC by setting `[oslo_policy] enforce_new_defaults` and `[oslo_policy] enforce_scope` to True. This introduces a consistent set of RBAC personas across OpenStack services that include support for system and project scope, as well as keystone's default roles, admin, member, and reader. Do not enable this functionality until all services in your deployment actually support secure RBAC. NovaRestrictLiveMigration: type: boolean description: | Restrict live migration by limit access to 'os_compute_api:os-migrate-server:migrate_live' api policy to the NovaLiveMigrationRole role. This can be used to disallow the default admin role use live migration. Additional policies specified using NovaApiPolicies get merged with this policy. default: false NovaRestrictLiveMigrationRole: description: | Name of the user role which gets set to limit live migration when NovaRestrictLiveMigration is enabled. default: 'live-migration' type: string nova::policy::enforce_new_defaults: {get_param: EnforceSecureRbac} nova::policy::enforce_scope: {get_param: EnforceSecureRbac} nova::policy::policies: map_merge: - {get_param: NovaApiPolicies} - if: - {get_param: NovaRestrictLiveMigration} - limit_live_migration: key: 'os_compute_api:os-migrate-server:migrate_live' value: str_replace: template: 'role:LMROLENAME' params: LMROLENAME: {get_param: NovaRestrictLiveMigrationRole} - {} nova::policy::purge_config: true",,48,48
openstack%2Fmagnum~master~I507247d102a28542727d2725dcf0ddc64a6514a8,openstack/magnum,master,I507247d102a28542727d2725dcf0ddc64a6514a8,WIP: CI: Add functional devstack job,NEW,2022-01-13 11:12:15.000000000,2022-01-14 09:45:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-13 11:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/eaad4c57306d884381095426e755f3ba69aaf061', 'message': 'WIP: CI: Add functional devstack job\n\nChange-Id: I507247d102a28542727d2725dcf0ddc64a6514a8\n'}, {'number': 2, 'created': '2022-01-13 11:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/834bf3fb9b830efde7f78bd4e64ec90963044eea', 'message': 'WIP: CI: Add functional devstack job\n\nChange-Id: I507247d102a28542727d2725dcf0ddc64a6514a8\n'}, {'number': 3, 'created': '2022-01-13 12:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d6d6742d77b9f746c850cf3cb86434a467743407', 'message': 'WIP: CI: Add functional devstack job\n\nChange-Id: I507247d102a28542727d2725dcf0ddc64a6514a8\n'}, {'number': 4, 'created': '2022-01-13 15:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fd2439c61c89721139c42a94b0d615044b58efbe', 'message': 'WIP: CI: Add functional devstack job\n\nChange-Id: I507247d102a28542727d2725dcf0ddc64a6514a8\n'}, {'number': 5, 'created': '2022-01-13 16:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/80bc66a5950aa947de3b8ef7021a9e5df1dd0fe9', 'message': 'WIP: CI: Add functional devstack job\n\nChange-Id: I507247d102a28542727d2725dcf0ddc64a6514a8\n'}, {'number': 6, 'created': '2022-01-14 07:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/88afba98d9bedecbca88803010b577e80e4cd356', 'message': 'WIP: CI: Add functional devstack job\n\nChange-Id: I507247d102a28542727d2725dcf0ddc64a6514a8\n'}, {'number': 7, 'created': '2022-01-14 09:03:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e5b0aa0e18b69156ea8067a80782ad42fcdbe709', 'message': 'WIP: CI: Add functional devstack job\n\nChange-Id: I507247d102a28542727d2725dcf0ddc64a6514a8\n'}]",1,824528,e5b0aa0e18b69156ea8067a80782ad42fcdbe709,14,1,7,22629,,,0,"WIP: CI: Add functional devstack job

Change-Id: I507247d102a28542727d2725dcf0ddc64a6514a8
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/824528/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eaad4c57306d884381095426e755f3ba69aaf061,,- job: name: magnum-functional-devstack parent: devstack description: | Magnum functional tests job based on devstack (single-node). pre-run: playbooks/devstack/pre.yaml run: - playbooks/devstack/run-devstack.yaml - playbooks/devstack/run-tox.yaml post-run: playbooks/devstack/post.yaml required-projects: - openstack/magnum - openstack/magnum-tempest-plugin irrelevant-files: - ^api-ref/ - ^doc/ - ^magnum/tests/unit/ - ^releasenotes/ - ^\.coveragerc$ - ^\.gitignore$ - ^\.gitreview$ - ^\.mailmap$ - ^\.zuul\.yaml$ - ^LICENSE$ - ^.*[^/]+\.rst$ - ^bindep\.txt$ vars: devstack_plugins: magnum: https://opendev.org/openstack/magnum devstack_services: # NOTE(mnasiadka): Disable controller's swift (s-* services). # It is enabled by default by the parent job (devstack) definition. swift: false #- openstack-cover-jobs #- openstack-python3-victoria-jobs #- check-requirements #- publish-openstack-docs-pti #- release-notes-jobs-python3 - magnum-functional-devstack #- magnum-tempest-plugin-tests-api-temporary #- magnum-container-build, - openstack-cover-jobs - openstack-python3-victoria-jobs - check-requirements - publish-openstack-docs-pti - release-notes-jobs-python3 - magnum-tempest-plugin-tests-api-temporary - magnum-container-build,42,7
openstack%2Fopenstack-ansible-tests~stable%2Fxena~I7ad62182178dd1eb285d6002b2852b457f678c7b,openstack/openstack-ansible-tests,stable/xena,I7ad62182178dd1eb285d6002b2852b457f678c7b,Fix rich version for ansible-lint,MERGED,2022-01-13 14:34:20.000000000,2022-01-14 09:25:00.000000000,2022-01-14 09:23:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 14:34:20.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/64221e9a31d99ca1fdc2413838137fb07fb0aeaf', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: I7ad62182178dd1eb285d6002b2852b457f678c7b\n(cherry picked from commit 57c07c0199e014f6aa0d6879085c427e74ac388e)\n""}]",0,824540,64221e9a31d99ca1fdc2413838137fb07fb0aeaf,8,3,1,25023,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: I7ad62182178dd1eb285d6002b2852b457f678c7b
(cherry picked from commit 57c07c0199e014f6aa0d6879085c427e74ac388e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/40/824540/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,64221e9a31d99ca1fdc2413838137fb07fb0aeaf,," PIP_OPTS+="" --requirement ${WORKING_DIR}/test-requirements.txt rich>=9.5.1,<11.0.0"""," PIP_OPTS+="" --requirement ${WORKING_DIR}/test-requirements.txt""",1,1
openstack%2Fcyborg~master~I5108d44a9e04e75604d6f65d704b57fa7109d595,openstack/cyborg,master,I5108d44a9e04e75604d6f65d704b57fa7109d595,Add missing error codes for deployables APIs,MERGED,2022-01-01 09:11:33.000000000,2022-01-14 09:19:23.000000000,2022-01-14 09:17:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-01-01 09:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/554abc84dba08e5e05df675dd3ce476c2de8ad4f', 'message': 'Add 400 and 500 error codes for deployables List API\n\nCloses-Bug: #1956134\nChange-Id: I5108d44a9e04e75604d6f65d704b57fa7109d595\n'}, {'number': 2, 'created': '2022-01-01 09:20:50.000000000', 'files': ['api-ref/source/deployables.inc'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dbeb7793c4ea4d3199c0f10b7e1fe5e54ec2fa79', 'message': 'Add missing error codes for deployables APIs\n\nCloses-Bug: #1956134\nChange-Id: I5108d44a9e04e75604d6f65d704b57fa7109d595\n'}]",0,823220,dbeb7793c4ea4d3199c0f10b7e1fe5e54ec2fa79,9,4,2,23950,,,0,"Add missing error codes for deployables APIs

Closes-Bug: #1956134
Change-Id: I5108d44a9e04e75604d6f65d704b57fa7109d595
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/20/823220/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/deployables.inc'],1,554abc84dba08e5e05df675dd3ce476c2de8ad4f,bug/1956134,"Error response codes: badRequest(400), unauthorized(401), forbidden(403), internalServerError(500)","Error response codes: unauthorized(401), forbidden(403)",1,1
openstack%2Fopenstack-ansible-plugins~master~I631a1990f85745bdde24a5983c021480e0362801,openstack/openstack-ansible-plugins,master,I631a1990f85745bdde24a5983c021480e0362801,Move git_requirements to plugins collection,MERGED,2022-01-13 13:15:23.000000000,2022-01-14 09:06:23.000000000,2022-01-14 09:03:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 13:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5dfcf5b7e1cc50a10393e8572fae1ac268c04a9a', 'message': 'Move git_requirements to plugins collection\n\nChange-Id: I631a1990f85745bdde24a5983c021480e0362801\n'}, {'number': 2, 'created': '2022-01-13 16:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5f4adeeefca397c668224df0017179de5b3d3ba6', 'message': 'Move git_requirements to plugins collection\n\nChange-Id: I631a1990f85745bdde24a5983c021480e0362801\n'}, {'number': 3, 'created': '2022-01-13 20:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/417719570e4e8c3893f58c9ce56691a6ef181095', 'message': 'Move git_requirements to plugins collection\n\nChange-Id: I631a1990f85745bdde24a5983c021480e0362801\n'}, {'number': 4, 'created': '2022-01-13 21:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/077fde4fef16921a7cbbb44914cf586167b79640', 'message': 'Move git_requirements to plugins collection\n\nChange-Id: I631a1990f85745bdde24a5983c021480e0362801\n'}, {'number': 5, 'created': '2022-01-13 21:20:39.000000000', 'files': ['plugins/modules/git_requirements'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7f08549573194ac813ecd0eb0e105e3ecac3fa36', 'message': 'Move git_requirements to plugins collection\n\nChange-Id: I631a1990f85745bdde24a5983c021480e0362801\n'}]",3,824563,7f08549573194ac813ecd0eb0e105e3ecac3fa36,19,3,5,28619,,,0,"Move git_requirements to plugins collection

Change-Id: I631a1990f85745bdde24a5983c021480e0362801
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/63/824563/5 && git format-patch -1 --stdout FETCH_HEAD,['plugins/action/ git_requirements.py'],1,5dfcf5b7e1cc50a10393e8572fae1ac268c04a9a,osa/plugins_collection,"#!/usr/bin/python # -*- coding: utf-8 -*- from ansible.module_utils.basic import AnsibleModule import git import itertools import multiprocessing import os import signal import time DOCUMENTATION = """""" --- module: git_requirements short_description: Module to run a multithreaded git clone options: repo_info: description: - List of repo information dictionaries containing at a minimum a key entry ""src"" with the source git URL to clone for each repo. In these dictionaries, one can further specify: ""path"" - destination clone location ""version"" - git version to checkout ""refspec"" - git refspec to checkout ""depth"" - clone depth level ""shallow_since"" - get repo history starting from that date ""force"" - require git clone uses ""--force"" default_path: description: Default git clone path (str) in case not specified on an individual repo basis in repo_info. Defaults to ""master"". Not required. default_version: description: Default git version (str) in case not specified on an individual repo basis in repo_info. Defaults to ""master"". Not required. default_refspec: description: Default git repo refspec (str) in case not specified on an individual repo basis in repo_info. Defaults to """". Not required. default_depth: description: Default clone depth (int) in case not specified on an individual repo basis. Defaults to None. Not required. default_shallow_since: description: Default shallow date (str) strating from which git history will be fetched. Defaults to None. Has prescedence over depth. Not required. retries: description: Integer number of retries allowed in case of git clone failure. Defaults to 1. Not required. delay: description: Integer time delay (seconds) between git clone retries in case of failure. Defaults to 0. Not required. force: description: Boolean. Apply --force flags to git clones wherever possible. Defaults to False. Not required. core_multiplier: description: Integer multiplier on the number of cores present on the machine to use for multithreading. For example, on a 2 core machine, a multiplier of 4 would use 8 threads. Defaults to 4. Not required. """""" EXAMPLES = r"""""" - name: Clone repos git_requirements: repo_info: ""[{'src':'https://github.com/ansible/', 'name': 'ansible' 'dest': '/etc/opt/ansible'}]"" """""" def init_signal(): signal.signal(signal.SIGINT, signal.SIG_IGN) def check_out_version(repo, version, pull=False, fetch=True, force=False, refspec=None, tag=False, depth=None, shallow_since=None): if fetch: try: if shallow_since: depth = None repo.git.fetch(tags=tag, force=force, refspec=refspec, depth=depth, shallow_since=shallow_since) except Exception as e: return [""Failed to fetch %s\n%s"" % (repo.working_dir, str(e))] try: repo.git.checkout(version, force=force) except Exception as e: return [ ""Failed to check out version %s for %s\n%s"" % (version, repo.working_dir, str(e))] if repo.is_dirty(untracked_files=True) and force: try: repo.git.clean(force=force) except Exception as e: return [ ""Failed to clean up repository% s\n%s"" % (repo.working_dir, str(e))] if pull: try: repo.git.pull(force=force, refspec=refspec, depth=depth) except Exception as e: return [""Failed to pull repo %s\n%s"" % (repo.working_dir, str(e))] return [] def pull_wrapper(info): role_info = info retries = info[1][""retries""] delay = info[1][""delay""] for i in range(retries): success = pull_role(role_info) if success: return True else: time.sleep(delay) info[2].append([""Role {0} failed after {1} retries\n"".format(role_info[0], retries)]) return False def pull_role(info): role, config, failures = info required_version = role[""version""] version_hash = False if 'version' in role: # If the version is the length of a hash then treat is as one if len(required_version) == 40: version_hash = True def get_repo(dest): try: return git.Repo(dest) except Exception: failtxt = ""Role in {0} is broken/not a git repo."".format( role[""dest""]) failtxt += ""Please delete or fix it manually"" failures.append(failtxt) return False # if repo exists if os.path.exists(role[""dest""]): repo = get_repo(role[""dest""]) if not repo: return False # go to next role repo_url = list(repo.remote().urls)[0] if repo_url != role[""src""]: repo.remote().set_url(role[""src""]) # if they want master then fetch, checkout and pull to stay at latest # master if required_version == ""master"": fail = check_out_version(repo, required_version, pull=True, force=config[""force""], refspec=role[""refspec""], depth=role[""depth""], shallow_since=role[""shallow_since""]) # If we have a hash then reset it to elif version_hash: fail = check_out_version(repo, required_version, force=config[""force""], refspec=role[""refspec""], depth=role[""depth""], shallow_since=role[""shallow_since""]) else: # describe can fail in some cases so be careful: try: current_version = repo.git.describe(tags=True) except Exception: current_version = """" if current_version == required_version and not config[""force""]: fail = [] pass else: fail = check_out_version(repo, required_version, force=config[""force""], refspec=role[""refspec""], depth=role[""depth""], shallow_since=role[""shallow_since""], tag=True) else: try: # If we have a hash id then treat this a little differently shallow_since = role.get('shallow_since') if shallow_since: depth = None else: depth = role.get('depth') if version_hash: repo = git.Repo.clone_from(role[""src""], role[""dest""], branch='master', no_single_branch=True, depth=depth, shallow_since=shallow_since,) if not repo: return False # go to next role fail = check_out_version(repo, required_version, force=config[""force""], refspec=role[""refspec""], depth=depth, fetch=False, shallow_since=shallow_since,) else: git.Repo.clone_from(role[""src""], role[""dest""], branch=required_version, depth=depth, shallow_since=shallow_since, no_single_branch=True) fail = [] except Exception as e: fail = ('Failed cloning repo %s\n%s' % (role[""dest""], str(e))) if fail == []: return True else: failures.append(fail) return False def set_default(dictionary, key, defaults): if key not in dictionary.keys(): dictionary[key] = defaults[key] def main(): # Define variables failures = multiprocessing.Manager().list() # Data we can pass in to the module fields = { ""repo_info"": {""required"": True, ""type"": ""list""}, ""default_path"": {""required"": True, ""type"": ""str""}, ""default_version"": {""required"": False, ""type"": ""str"", ""default"": ""master""}, ""default_refspec"": {""required"": False, ""type"": ""str"", ""default"": None}, ""default_depth"": {""required"": False, ""type"": ""int"", ""default"": None}, ""default_shallow_since"": {""required"": False, ""type"": str, ""default"": None}, ""retries"": {""required"": False, ""type"": ""int"", ""default"": 1}, ""delay"": {""required"": False, ""type"": ""int"", ""default"": 0}, ""force"": {""required"": False, ""type"": ""bool"", ""default"": False}, ""core_multiplier"": {""required"": False, ""type"": ""int"", ""default"": 4}, } # Pull in module fields and pass into variables module = AnsibleModule(argument_spec=fields) git_repos = module.params['repo_info'] defaults = { ""path"": module.params[""default_path""], ""depth"": module.params[""default_depth""], ""shallow_since"": module.params[""default_shallow_since""], ""version"": module.params[""default_version""], ""refspec"": module.params[""default_refspec""] } config = { ""retries"": module.params[""retries""], ""delay"": module.params[""delay""], ""force"": module.params[""force""], ""core_multiplier"": module.params[""core_multiplier""] } # Set up defaults for repo in git_repos: for key in [""path"", ""refspec"", ""version"", ""depth"", ""shallow_since""]: set_default(repo, key, defaults) if ""name"" not in repo.keys(): repo[""name""] = os.path.basename(repo[""src""]) repo[""dest""] = os.path.join(repo[""path""], repo[""name""]) # Define varibles failures = multiprocessing.Manager().list() core_count = multiprocessing.cpu_count() * config[""core_multiplier""] # Load up process and pass in interrupt and core process count p = multiprocessing.Pool(core_count, init_signal) clone_success = p.map(pull_wrapper, zip(git_repos, itertools.repeat(config), itertools.repeat(failures)), chunksize=1) p.close() success = all(i for i in clone_success) if success: module.exit_json(msg=str(git_repos), changed=True) else: module.fail_json(msg=(""Module failed""), meta=failures) if __name__ == '__main__': main() ",,335,0
openstack%2Fopenstack-ansible-plugins~master~Ia499739fe3e803546b4aa65af715242bff571412,openstack/openstack-ansible-plugins,master,Ia499739fe3e803546b4aa65af715242bff571412,Update provider_networks with latest changes,MERGED,2022-01-13 20:41:35.000000000,2022-01-14 09:05:00.000000000,2022-01-14 09:02:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 20:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/062b9a4955be6e633418b26f96f213ca7d741690', 'message': ""Update provider_networks with latest changes\n\nprovider_networks module was used from os_neutron role and\nlatest changes were not reflected in this repo.\n\nWe sync state as we're going to use module as collection only.\n\nChange-Id: Ia499739fe3e803546b4aa65af715242bff571412\n""}, {'number': 2, 'created': '2022-01-13 21:22:34.000000000', 'files': ['plugins/modules/provider_networks'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9afa5d8d1503efd67d70b3959627302431ac6a55', 'message': ""Update provider_networks with latest changes\n\nprovider_networks module was used from os_neutron role and\nlatest changes were not reflected in this repo.\n\nWe sync state as we're going to use module as collection only.\n\nChange-Id: Ia499739fe3e803546b4aa65af715242bff571412\n""}]",0,824646,9afa5d8d1503efd67d70b3959627302431ac6a55,11,3,2,28619,,,0,"Update provider_networks with latest changes

provider_networks module was used from os_neutron role and
latest changes were not reflected in this repo.

We sync state as we're going to use module as collection only.

Change-Id: Ia499739fe3e803546b4aa65af715242bff571412
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/46/824646/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/action/provider_networks'],1,062b9a4955be6e633418b26f96f213ca7d741690,osa/plugins_collection,"from ansible.module_utils.basic import AnsibleModuleversion_added: ""1.8.7""# host_bind_override: ""bond1"" # type: ""vlan"" # net_name: ""physnet1"" # group_binds: # - neutron_linuxbridge_agent # - network:# container_bridge: ""br-provider"" # container_type: ""veth"" # container_interface: ""eth11"" # network_bond_interfaces: # - ""0000:02:00.0"" # - ""0000:02:00.1"" # bond_mode: balance-tcp # bond_updelay: 100 # bond_downdelay: 100 # lacp: active # type: ""vlan"" # range: ""1:1, 101:101"" # net_name: ""physnet1"" # group_binds: # - neutron_openvswitch_agent # - network:# ""network_bond_interfaces_mappings"": [{ # 'bridge': 'br-provider', # 'interfaces': ['0000:02:00.0', '0000:02:00.1'], # 'bond_mode': 'balance-tcp', # 'lacp': 'active', # 'bond_updelay': 100, # 'bond_downdelay': 100 # }], self.network_bond_interfaces_mappings = list() or ""neutron_server"" in group_names # noqa W503 if ""range"" in net['network']: for vlan_range in net['network']['range'].split(','): self.network_vlan_ranges.append( '%s:%s' % ( net['network']['net_name'], vlan_range.strip() ) else: self.network_vlan_ranges.append( net['network']['net_name'] or ""neutron_server"" in group_names # noqa W503 # Builds a list of provider bridge to physical # interface (bond member) mappings and is used # when constructing OVS bonds if 'network_bond_interfaces' in net['network']: self.network_bond_interfaces_mappings.append({ 'bridge': net['network'][ 'container_bridge' ], 'interfaces': net['network'][ 'network_bond_interfaces' ], 'bond_mode': net['network'].get( 'bond_mode', 'active-backup' ), 'lacp': net['network'].get('lacp', 'off'), 'bond_updelay': net['network'].get( 'bond_updelay', 100 ), 'bond_downdelay': net['network'].get( 'bond_downdelay', 100 ) }) 'network_interface_mappings_list': pnp.network_interface_mappings, 'network_bond_interfaces_mappings': ','.join( map(str, pnp.network_bond_interfaces_mappings) ), 'network_bond_interfaces_mappings_list': pnp.network_bond_interfaces_mappings","from ansible.module_utils.basic import *version_added: ""1.8.6"" or ""neutron_server"" in group_names for vlan_range in net['network']['range'].split(','): self.network_vlan_ranges.append( '%s:%s' % ( net['network']['net_name'], vlan_range.strip() or ""neutron_server"" in group_names 'network_interface_mappings_list': pnp.network_interface_mappings",74,9
openstack%2Fopenstack-ansible-plugins~master~I12ad4f7f925b22f64bfc5acd9c6368eaaaa0a9cf,openstack/openstack-ansible-plugins,master,I12ad4f7f925b22f64bfc5acd9c6368eaaaa0a9cf,Fix modules location,MERGED,2022-01-13 21:19:52.000000000,2022-01-14 09:03:33.000000000,2022-01-14 09:01:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 21:19:52.000000000', 'files': ['library', 'plugins/modules/keystone', 'plugins/modules/provider_networks', 'plugins/modules/memcached'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7a4c8f72e861d184119323149ff0aa9d8c76ef8d', 'message': 'Fix modules location\n\nIn previous commit error has been made since all plugins that were\nbased in the library were modules and not action plugins.\n\nBased on that we fix issue by simply renaming folder.\n\nChange-Id: I12ad4f7f925b22f64bfc5acd9c6368eaaaa0a9cf\n'}]",0,824649,7a4c8f72e861d184119323149ff0aa9d8c76ef8d,9,3,1,28619,,,0,"Fix modules location

In previous commit error has been made since all plugins that were
based in the library were modules and not action plugins.

Based on that we fix issue by simply renaming folder.

Change-Id: I12ad4f7f925b22f64bfc5acd9c6368eaaaa0a9cf
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/49/824649/1 && git format-patch -1 --stdout FETCH_HEAD,"['library', 'plugins/modules/keystone', 'plugins/modules/provider_networks', 'plugins/modules/memcached']",4,7a4c8f72e861d184119323149ff0aa9d8c76ef8d,osa/plugins_collection,,,1,1
openstack%2Fcyborg-tempest-plugin~master~Ie0a2f82a5dd7282bb9f6b8fb6519c8758fb48d66,openstack/cyborg-tempest-plugin,master,Ie0a2f82a5dd7282bb9f6b8fb6519c8758fb48d66,Fix pygments style,ABANDONED,2020-05-20 01:56:46.000000000,2022-01-14 09:02:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-20 01:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/79683b800aef608e7c7f66b003d169275f09e8b5', 'message': 'Fix pygments style\n\nChange-Id: Ie0a2f82a5dd7282bb9f6b8fb6519c8758fb48d66\n'}, {'number': 2, 'created': '2020-05-20 07:37:23.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a0bde53dbe875dadd80375ed32a35eab72207bfd', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: Ie0a2f82a5dd7282bb9f6b8fb6519c8758fb48d66\n'}]",1,729474,a0bde53dbe875dadd80375ed32a35eab72207bfd,7,1,2,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: Ie0a2f82a5dd7282bb9f6b8fb6519c8758fb48d66
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/74/729474/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,79683b800aef608e7c7f66b003d169275f09e8b5,,pygments_style = 'native',pygments_style = 'sphinx',1,1
openstack%2Fcyborg-tempest-plugin~master~I726b4979e45459a7d8e8dad114cb8bc5aa8387cc,openstack/cyborg-tempest-plugin,master,I726b4979e45459a7d8e8dad114cb8bc5aa8387cc,Update contributor documentation,ABANDONED,2021-06-09 03:04:26.000000000,2022-01-14 09:01:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-09 03:04:26.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/9cf2585fd28d643a1d3263a31ac2be9da15821de', 'message': 'Update contributor documentation\n\nChange-Id: I726b4979e45459a7d8e8dad114cb8bc5aa8387cc\n'}]",0,795440,9cf2585fd28d643a1d3263a31ac2be9da15821de,3,1,1,31412,,,0,"Update contributor documentation

Change-Id: I726b4979e45459a7d8e8dad114cb8bc5aa8387cc
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/40/795440/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,9cf2585fd28d643a1d3263a31ac2be9da15821de,,"The source repository for this project can be found at: https://opendev.org/openstack/cyborg-tempest-plugin Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/openstack-cyborg For more specific information about contributing to this repository, see the Cyborg contributor guide: https://docs.openstack.org/cyborg/latest/contributor/contributing.html ","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: http://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: http://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Storyboardhttps://storyboard.openstack.org/#!/project/968",14,10
openstack%2Fcyborg-tempest-plugin~master~I3b43235b88e4428131319a3a756298c1e6395977,openstack/cyborg-tempest-plugin,master,I3b43235b88e4428131319a3a756298c1e6395977,Only one device profile allowed to create per POST request,ABANDONED,2020-09-27 01:17:17.000000000,2022-01-14 08:43:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-27 01:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/4ca2e16b41900d02fccd855c469ce38212d48f58', 'message': 'Only one device profile allowed to create per POST request\n\nChange-Id: I3b43235b88e4428131319a3a756298c1e6395977\n'}, {'number': 2, 'created': '2020-09-27 06:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/85cbf7730e387d379cc907690c2ec2ef2eef48f4', 'message': 'Only one device profile allowed to create per POST request\n\nChange-Id: I3b43235b88e4428131319a3a756298c1e6395977\n'}, {'number': 3, 'created': '2020-09-28 01:07:21.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/services/cyborg_data.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/7399b7a0ac17a1c9ef39c2d9b4505a95342c3ae4', 'message': 'Only one device profile allowed to create per POST request\n\nDepends-On: 0af86a1f958b4ee9d0432fc16d2914c2e6f4d577\nChange-Id: I3b43235b88e4428131319a3a756298c1e6395977\n'}]",0,754577,7399b7a0ac17a1c9ef39c2d9b4505a95342c3ae4,7,1,3,31412,,,0,"Only one device profile allowed to create per POST request

Depends-On: 0af86a1f958b4ee9d0432fc16d2914c2e6f4d577
Change-Id: I3b43235b88e4428131319a3a756298c1e6395977
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/77/754577/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/scenario/manager.py'],1,4ca2e16b41900d02fccd855c469ce38212d48f58,, dp = { }, dp = [{ }],2,2
openstack%2Fsecurity-doc~master~Ifdcb8fe550386a8406eddaaa03124c13bb862085,openstack/security-doc,master,Ifdcb8fe550386a8406eddaaa03124c13bb862085,Updated from openstack-manuals,MERGED,2022-01-14 07:45:57.000000000,2022-01-14 08:35:20.000000000,2022-01-14 08:33:40.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 07:45:57.000000000', 'files': ['common/source/locale/ja/LC_MESSAGES/common.po', 'common/source/locale/tr_TR/LC_MESSAGES/common.po', 'common/source/locale/de/LC_MESSAGES/common.po', 'common/source/locale/id/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/06aeaae4bbf1d4408d7674616bbcb08bee604872', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ifdcb8fe550386a8406eddaaa03124c13bb862085\n'}]",0,824675,06aeaae4bbf1d4408d7674616bbcb08bee604872,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ifdcb8fe550386a8406eddaaa03124c13bb862085
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/75/824675/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/source/locale/ja/LC_MESSAGES/common.po', 'common/source/locale/tr_TR/LC_MESSAGES/common.po', 'common/source/locale/de/LC_MESSAGES/common.po', 'common/source/locale/id/LC_MESSAGES/common.po']",4,06aeaae4bbf1d4408d7674616bbcb08bee604872,openstack/openstack-manuals,"""POT-Creation-Date: 2022-01-12 09:54+0000\n""","""POT-Creation-Date: 2021-06-05 07:46+0000\n""msgid """" ""An official OpenStack service defined as core by DefCore Committee. "" ""Currently, consists of Block Storage service (cinder), Compute service "" ""(nova), Identity service (keystone), Image service (glance), Networking "" ""service (neutron), and Object Storage service (swift)."" msgstr """" ""Layanan OpenStack resmi didefinisikan sebagai inti oleh Komite DefCore. Saat "" ""ini, terdiri dari layanan Block Storage (cinder), Compute layanan (nova), "" ""layanan Identity (keystone), layanan Image (glance), layanan Networking "" ""(neutron), dan layanan Object Storage (swift)."" msgid """" ""An official OpenStack service defined as optional by DefCore Committee. "" ""Currently, consists of Dashboard (horizon), Telemetry service (Telemetry), "" ""Orchestration service (heat), Database service (trove), Bare Metal service "" ""(ironic), and so on."" msgstr """" ""Layanan OpenStack resmi didefinisikan sebagai opsional oleh DefCore "" ""Committee. Saat ini, terdiri dari Dashboard (horizon), layanan telemetri "" ""(Telemetry), layanan Orchestration (heat), layanan Database (trove), layanan "" ""Bare Metal (ironic), dan sebagainya."" ""Each OpenStack release has a code name. Code names ascend in alphabetical "" ""order: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, Train, Ussuri, Victoria, and Wallaby."" msgstr """" ""Setiap rilis OpenStack memiliki nama kode. Nama kode naik dalam urutan "" ""abjad: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, Train, Ussuri, Victoria , dan Wallaby."" msgid """"",4,114
openstack%2Ftripleo-ci~master~If7666a15861078fbffe262eb1abc7013f38f15e1,openstack/tripleo-ci,master,If7666a15861078fbffe262eb1abc7013f38f15e1,Removing c8 stream specific nodesets,ABANDONED,2021-03-16 19:05:51.000000000,2022-01-14 08:32:53.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-16 19:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a59119721dd7ca9e4ac5f3bf749288dd7abc3318', 'message': 'Removing c8 stream specific nodesets\n\nRemoving c8 stream specific nodesets from definitions\nas we changed labels in existing c8 release nodes\nto make them c8 stream nodes in https://review.opendev.org/c/openstack/tripleo-ci/+/780654\n\nChange-Id: If7666a15861078fbffe262eb1abc7013f38f15e1\n'}, {'number': 2, 'created': '2021-12-14 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6a40cd2a13d482b1c6b2db9c4145366215250d68', 'message': 'Removing c8 stream specific nodesets\n\nRemoving c8 stream specific nodesets from definitions\nas we changed labels in existing c8 release nodes\nto make them c8 stream nodes in https://review.opendev.org/c/openstack/tripleo-ci/+/780654\n\nChange-Id: If7666a15861078fbffe262eb1abc7013f38f15e1\n'}]",2,780950,6a40cd2a13d482b1c6b2db9c4145366215250d68,27,8,2,32458,,,0,"Removing c8 stream specific nodesets

Removing c8 stream specific nodesets from definitions
as we changed labels in existing c8 release nodes
to make them c8 stream nodes in https://review.opendev.org/c/openstack/tripleo-ci/+/780654

Change-Id: If7666a15861078fbffe262eb1abc7013f38f15e1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/780950/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,a59119721dd7ca9e4ac5f3bf749288dd7abc3318,,, # To be deleted after centos-8 nodes are switched # to stream labels - nodeset: name: single-centos-8-stream-node nodes: - name: primary label: centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: [] - nodeset: name: two-centos-8-stream-nodes nodes: - name: primary label: centos-8-stream - name: secondary label: centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: - secondary - name: subnodes nodes: - secondary - nodeset: name: three-centos-8-stream-nodes nodes: - name: primary label: centos-8-stream - name: secondary-1 label: centos-8-stream - name: secondary-2 label: centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: - secondary-1 - secondary-2 - name: subnodes nodes: - secondary-1 - secondary-2,0,55
openstack%2Fcyborg~master~I7006d6484aca8dfc3c96812d564f1a385f339f0d,openstack/cyborg,master,I7006d6484aca8dfc3c96812d564f1a385f339f0d,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-11-25 01:11:14.000000000,2022-01-14 08:12:16.000000000,2022-01-14 08:09:38.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-11-25 01:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/17cf4df95bf58c478264d1219b10758a67c40e01', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit makes other required changes in setup.cfg metadata.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I7006d6484aca8dfc3c96812d564f1a385f339f0d\n'}, {'number': 2, 'created': '2021-12-14 02:40:41.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/669991906953d146120326c7c1f06bf08f9821ca', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I7006d6484aca8dfc3c96812d564f1a385f339f0d\n'}]",2,819216,669991906953d146120326c7c1f06bf08f9821ca,12,5,2,8556,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I7006d6484aca8dfc3c96812d564f1a385f339f0d
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/16/819216/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,17cf4df95bf58c478264d1219b10758a67c40e01,yoga-python-testing,"envlist = py39,pep8","envlist = py38,pep8",2,3
openstack%2Fopenstack-manuals~master~Ib4016faa64c9bb0b41a5c612d947d48dc3acf179,openstack/openstack-manuals,master,Ib4016faa64c9bb0b41a5c612d947d48dc3acf179,Imported Translations from Zanata,MERGED,2022-01-14 03:59:17.000000000,2022-01-14 07:53:49.000000000,2022-01-14 07:39:37.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-14 03:59:17.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/tr_TR/LC_MESSAGES/common.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/common/source/locale/ja/LC_MESSAGES/common.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a85f513e115d0c757a6aca2cb90f57e854784cc8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib4016faa64c9bb0b41a5c612d947d48dc3acf179\n'}]",0,824672,a85f513e115d0c757a6aca2cb90f57e854784cc8,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib4016faa64c9bb0b41a5c612d947d48dc3acf179
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/72/824672/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/tr_TR/LC_MESSAGES/common.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/common/source/locale/ja/LC_MESSAGES/common.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/en_GB/LC_MESSAGES/install-guide.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po']",24,a85f513e115d0c757a6aca2cb90f57e854784cc8,zanata/translations,"# Jongwon Lee <tothebinaryworld@gmail.com>, 2022. #zanata""POT-Creation-Date: 2022-01-12 09:55+0000\n""""PO-Revision-Date: 2022-01-13 02:36+0000\n"" ""Last-Translator: Jongwon Lee <tothebinaryworld@gmail.com>\n""msgid ""1234"" msgstr ""1234"" msgid ""15868"" msgstr ""15868"" msgid ""5050"" msgstr ""5050"" msgid ""8042"" msgstr ""8042"" msgid ""8779"" msgstr ""8779"" msgid ""8786"" msgstr ""8786"" msgid ""8889"" msgstr ""8889"" msgid ""8977"" msgstr ""8977"" msgid ""9001"" msgstr ""9001"" msgid ""9090"" msgstr ""9090"" msgid ""9311"" msgstr ""9311"" msgid ""9511"" msgstr ""9511"" msgid ""9517"" msgstr ""9517"" msgid ""9876"" msgstr ""9876"" msgid ""9890"" msgstr ""9890"" msgid ""Archive Enablement"" msgstr ""아카이브 활성화"" msgid ""As of Ubuntu 18.04 or 16.04, install the packages:"" msgstr ""Ubuntu 18.04 or 16.04 환경에서, 다음 패키지를 설치하십시오:"" msgid ""As of Ubuntu 20.04, install the packages:"" msgstr ""Ubuntu 20.04 환경에서 , 다음 패키지를 설치하십시오:"" msgid ""Client Installation"" msgstr ""클라이언트 설치"" msgid ""Container Infrastructure Management (``Magnum``)"" msgstr ""컨테이너 인프라 관리 (``Magnum``)"" msgid ""Container Service (``Zun``)"" msgstr ""컨테이터 서비스 (``Zun``)"" msgid ""DNS service (``Designate``)"" msgstr ""DNS 서비스 (``Designate``)"" msgid ""Database service (``Trove``)"" msgstr ""데이터베이스 서비스 (``Trove``)"" msgid ""High Availability Service (``Masakari``)"" msgstr ""고 가용성 서비스 (``Masakari``)"" msgid ""Install the appropriate OpenStack client for your version."" msgstr ""버전에 맞는 적합한 오픈스택 클라이언트를 설치하십시오"" msgid ""Key Manager service (``Barbican``)"" msgstr ""키 관리 서비스 (``Barbican``)"" msgid ""Loadbalancer service (``Octavia``)"" msgstr ""로드밸런서 서비스 (``Octavia``)"" msgid ""NFV Orchestration service (``tacker``)"" msgstr ""NFV 조정 서비스 (``tacker``)"" msgid ""Operating systems"" msgstr ""운영체제"" msgid ""Registration service (``Adjutant``)"" msgstr ""등록 서비스 (``Adjutant``)"" msgid ""Resource Reservation service (``Blazar``)"" msgstr ""자원 예약 서비스 (``Blazar``)"" msgid ""Shared File Systems service (``Manila``)"" msgstr ""공유 파일 시스템 서비스 (``Manila``)"" msgid ""Telemetry event service (``Panko``)"" msgstr ""원격측정 이벤트 서비스 (``Panko``)"" ","""POT-Creation-Date: 2021-04-20 13:53+0000\n""""PO-Revision-Date: 2020-05-06 12:19+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""""The Training Labs scripts provide an automated way of deploying the cluster "" ""described in this Installation Guide into VirtualBox or KVM VMs. You will "" ""need a desktop computer or a laptop with at least 8 GB memory and 20 GB free "" ""storage running Linux, MacOS, or Windows. Please see the `OpenStack Training "" ""Labs <https://docs.openstack.org/training_labs/>`_."" msgstr """" ""Training Labs 스크립트는 해당 설치 가이드에서 설명하는 내용을 기반으로 클러스"" ""터를 VirtualBox 또는 KVM VM에 배포하는 자동화된 방법을 제공합니다. 최소 8 GB "" ""메모리 및 20 GB 사용 가능한 스토리지 공간을 가진 Linux, MacOS, 또는 Windows"" ""를 실행하는 데스크탑 컴퓨터 또는 랩탑을 필요로 합니다. 자세한 내용은 "" ""`OpenStack Training Labs <https://docs.openstack.org/training_labs/>`_ 를 살"" ""펴봅니다."" msgid """"",132,396
openstack%2Fvenus~master~Ia4d9952e5687fed63ced98ca2803358180aea139,openstack/venus,master,Ia4d9952e5687fed63ced98ca2803358180aea139,add apscheduler,MERGED,2022-01-14 01:42:54.000000000,2022-01-14 07:53:14.000000000,2022-01-14 07:51:54.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2022-01-14 01:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/2faad053ba5353524c9c1d907f19047f9a1ad1d6', 'message': 'add apscheduler\n\nadd spscheduler for MIT License\n\nChange-Id: Ia4d9952e5687fed63ced98ca2803358180aea139\n'}, {'number': 2, 'created': '2022-01-14 07:16:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/venus/commit/a351c3ac51d1fc225338b52571aa8302bddc7dca', 'message': 'add apscheduler\n\nadd spscheduler for MIT License\n\nChange-Id: Ia4d9952e5687fed63ced98ca2803358180aea139\n'}]",2,824663,a351c3ac51d1fc225338b52571aa8302bddc7dca,11,2,2,34017,,,0,"add apscheduler

add spscheduler for MIT License

Change-Id: Ia4d9952e5687fed63ced98ca2803358180aea139
",git fetch https://review.opendev.org/openstack/venus refs/changes/63/824663/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2faad053ba5353524c9c1d907f19047f9a1ad1d6,,"elasticsearch>=2.0.0,<3.0.0 # Apache-2.0 apscheduler # MIT License ","elasticsearch>=2.0.0,<3.0.0 # Apache-2.0",2,1
openstack%2Ftripleo-ci~master~If1662f84665608b1afa2097e97ae22af632c201d,openstack/tripleo-ci,master,If1662f84665608b1afa2097e97ae22af632c201d,Set ping_group_range,MERGED,2022-01-13 17:40:37.000000000,2022-01-14 05:58:51.000000000,2022-01-14 05:58:51.000000000,"[{'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-13 17:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/136ba410eb8b7c93ad17cbce47cde9165a768f90', 'message': 'Set ping_group_range\n\nAn update to iputils has make ping unprivileged which breaks ping due to\nthe default setting of net.ipv4.ping_group_range = ""0 1"". This change\nincreases the range to fix this issues.\n\nSee rhbz#2030107\n\nChange-Id: If1662f84665608b1afa2097e97ae22af632c201d\nRelated-Bug: #1955792\n'}, {'number': 2, 'created': '2022-01-13 20:45:49.000000000', 'files': ['roles/prepare-node/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c59d284eeb550ed9eabea0c903cba2c309c7d89d', 'message': 'Set ping_group_range\n\nAn update to iputils has make ping unprivileged which breaks ping due to\nthe default setting of net.ipv4.ping_group_range = ""0 1"". This change\nincreases the range to fix this issues.\n\nSee rhbz#2030107\n\nChange-Id: If1662f84665608b1afa2097e97ae22af632c201d\nRelated-Bug: #1955792\n'}]",0,824635,c59d284eeb550ed9eabea0c903cba2c309c7d89d,14,5,2,14985,,,0,"Set ping_group_range

An update to iputils has make ping unprivileged which breaks ping due to
the default setting of net.ipv4.ping_group_range = ""0 1"". This change
increases the range to fix this issues.

See rhbz#2030107

Change-Id: If1662f84665608b1afa2097e97ae22af632c201d
Related-Bug: #1955792
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/35/824635/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-node/tasks/main.yaml'],1,136ba410eb8b7c93ad17cbce47cde9165a768f90,bug/1957792, - name: Workaround for LP1955792/RHBZ2030107 become: true block: - name: Set net.ipv4.ping_group_range sysctl: name: net.ipv4.ping_group_range value: '0 2147483647' state: present reload: yes sysctl_file: /etc/sysctl.d/99-workarounds.conf,,11,0
openstack%2Fproject-config~master~Ib3ff09e43ecf6d361963983ece068cb1d833381b,openstack/project-config,master,Ib3ff09e43ecf6d361963983ece068cb1d833381b,Normalize projects.yaml,MERGED,2022-01-14 02:33:30.000000000,2022-01-14 05:39:15.000000000,2022-01-14 05:11:22.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 02:33:30.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f8ff3d3f2db017c37184087f066330904d12ee16', 'message': 'Normalize projects.yaml\n\nChange-Id: Ib3ff09e43ecf6d361963983ece068cb1d833381b\n'}]",0,824666,f8ff3d3f2db017c37184087f066330904d12ee16,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ib3ff09e43ecf6d361963983ece068cb1d833381b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/824666/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,f8ff3d3f2db017c37184087f066330904d12ee16,project-yaml-normalization,, upstream: https://github.com/gustavosr98/charm-cinder-nimblestorage upstream: https://github.com/gustavosr98/charm-cinder-solidfire,0,2
openstack%2Fswift~master~I1e6ccc8ec4a54375b5817498c4ac7f995656a794,openstack/swift,master,I1e6ccc8ec4a54375b5817498c4ac7f995656a794,Do not fetch content of container/object to retrieve S3 ACLs,MERGED,2021-10-25 15:07:57.000000000,2022-01-14 05:11:14.000000000,2022-01-14 05:09:23.000000000,"[{'_account_id': 597}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 15:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/38a7c464c5f15ebfb846f50511137d26025527f3', 'message': 'Do not fetch content of container/object to retrieve S3 ACLs\n\nBucket ACLs:\nThe contents of the container are unnecessarily listed.\n\nObject ACLs:\nThe content of the object is unnecessarily fetched.\nAdditionally, because the data is skipped, a 499 error is returned on a subrequest.\n\nChange-Id: I1e6ccc8ec4a54375b5817498c4ac7f995656a794\n'}, {'number': 2, 'created': '2021-10-25 23:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8d1966453c9975445b4eaf2f9f98f6443273df24', 'message': 'Do not fetch content of container/object to retrieve S3 ACLs\n\nBucket ACLs:\nThe contents of the container are unnecessarily listed.\n\nObject ACLs:\nThe content of the object is unnecessarily fetched.\nAdditionally, because the data is skipped, a 499 error is returned on a subrequest.\n\nChange-Id: I1e6ccc8ec4a54375b5817498c4ac7f995656a794\n'}, {'number': 3, 'created': '2022-01-13 14:07:19.000000000', 'files': ['swift/common/middleware/s3api/controllers/s3_acl.py', 'swift/common/middleware/s3api/acl_handlers.py', 'test/unit/common/middleware/s3api/test_acl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b8d7c3dcb817504dcc0959ba52cc4ed2cf66c100', 'message': 'Do not fetch content of container/object to retrieve S3 ACLs\n\nBucket ACLs:\nThe contents of the container are unnecessarily listed.\n\nObject ACLs:\nThe content of the object is unnecessarily fetched.\nAdditionally, because the data is skipped, a 499 error is returned on a subrequest.\n\nChange-Id: I1e6ccc8ec4a54375b5817498c4ac7f995656a794\n'}]",7,815322,b8d7c3dcb817504dcc0959ba52cc4ed2cf66c100,21,3,3,32333,,,0,"Do not fetch content of container/object to retrieve S3 ACLs

Bucket ACLs:
The contents of the container are unnecessarily listed.

Object ACLs:
The content of the object is unnecessarily fetched.
Additionally, because the data is skipped, a 499 error is returned on a subrequest.

Change-Id: I1e6ccc8ec4a54375b5817498c4ac7f995656a794
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/815322/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/s3_acl.py', 'swift/common/middleware/s3api/acl_handlers.py']",2,38a7c464c5f15ebfb846f50511137d26025527f3,do-not-fetch-content-of-container-object-to-retrieve-S3-ACLs," def HEAD(self, app): self._handle_acl(app, 'HEAD', permission='READ_ACP') ",,4,1
openstack%2Ftripleo-validations~master~I1a5740c0431796ac7286229753e61cd1ecf8ec8f,openstack/tripleo-validations,master,I1a5740c0431796ac7286229753e61cd1ecf8ec8f,Remove pre-deployment validation,MERGED,2021-12-03 05:44:20.000000000,2022-01-14 04:31:05.000000000,2022-01-14 04:29:05.000000000,"[{'_account_id': 6926}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-12-03 05:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/446885aba49991e68027870dc54ce6695264d2e1', 'message': 'Remove pre-deployment validation\n\nValidation collect-flavors-and-verify-profiles fails in pre-deployment\nstage with exception from swiftclient code in stable train.\n\nAlso as swift is removed from undercloud in latest releases, we can\nremove this validation check for pre-deployment stage.\n\nCloses-Bug: #1953102\nChange-Id: I1a5740c0431796ac7286229753e61cd1ecf8ec8f\n'}, {'number': 2, 'created': '2021-12-08 11:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4e79977fd796a1f7b6cfd1ee735beef7d03aec0a', 'message': 'Remove pre-deployment validation\n\nValidation collect-flavors-and-verify-profiles fails in pre-deployment\nstage with exception from swiftclient code in stable train.\n\nAlso as swift is removed from undercloud in latest releases, we can\nremove this validation check for pre-deployment stage.\n\nPartial-Bug: #1953102\nChange-Id: I1a5740c0431796ac7286229753e61cd1ecf8ec8f\n'}, {'number': 3, 'created': '2022-01-11 12:26:11.000000000', 'files': ['roles/collect_flavors_and_verify_profiles/vars/main.yml', 'playbooks/collect-flavors-and-verify-profiles.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/23890fcee497a4343c69f39d4161943456bb461c', 'message': 'Remove pre-deployment validation\n\nValidation collect-flavors-and-verify-profiles fails in pre-deployment\nstage with exception from swiftclient code in stable train.\n\nAlso as swift is removed from undercloud in latest releases, we can\nremove this validation check for pre-deployment stage.\n\nPartial-Bug: #1953102\nChange-Id: I1a5740c0431796ac7286229753e61cd1ecf8ec8f\n'}]",8,820314,23890fcee497a4343c69f39d4161943456bb461c,25,10,3,20733,,,0,"Remove pre-deployment validation

Validation collect-flavors-and-verify-profiles fails in pre-deployment
stage with exception from swiftclient code in stable train.

Also as swift is removed from undercloud in latest releases, we can
remove this validation check for pre-deployment stage.

Partial-Bug: #1953102
Change-Id: I1a5740c0431796ac7286229753e61cd1ecf8ec8f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/14/820314/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/collect-flavors-and-verify-profiles.yaml'],1,446885aba49991e68027870dc54ce6695264d2e1,bz_1988407,, - pre-deployment,0,1
openstack%2Frequirements~master~I3e8184ae5fcb14ca251924304fd8379d51af7818,openstack/requirements,master,I3e8184ae5fcb14ca251924304fd8379d51af7818,Updated from generate-constraints,ABANDONED,2022-01-14 02:49:31.000000000,2022-01-14 03:17:13.000000000,,[],"[{'number': 1, 'created': '2022-01-14 02:49:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9fdcbe3a7b95142fd504df1d2db1b5d280019073', 'message': 'Updated from generate-constraints\n\nChange-Id: I3e8184ae5fcb14ca251924304fd8379d51af7818\n'}]",0,824667,9fdcbe3a7b95142fd504df1d2db1b5d280019073,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I3e8184ae5fcb14ca251924304fd8379d51af7818
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/824667/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9fdcbe3a7b95142fd504df1d2db1b5d280019073,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1paramiko===2.9.2task-core===0.2.1pkg_resources===0.0.0django-compressor===3.1google-api-python-client===2.35.0gabbi===2.5.0boto3===1.20.35botocore===1.23.35wsgi-intercept===1.9.3rjsmin===1.2.0,rcssmin===1.0.6XStatic-Angular===1.5.8.0paramiko===2.8.1task-core===0.1.2django-compressor===2.4.1google-api-python-client===2.34.0gabbi===2.4.0boto3===1.20.34botocore===1.23.34wsgi-intercept===1.9.2rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',12,13
openstack%2Fgovernance~master~Ia0b48d3e399965a6e138ea18c447eafd6009385c,openstack/governance,master,Ia0b48d3e399965a6e138ea18c447eafd6009385c,Add the cinder-solidfire charm to Openstack charms,MERGED,2022-01-07 14:04:51.000000000,2022-01-14 03:07:18.000000000,2022-01-14 03:03:37.000000000,"[{'_account_id': 8556}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-07 14:04:51.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1170b571bd11994d1e406e8e1cc289286f2861d5', 'message': 'Add the cinder-solidfire charm to Openstack charms\n\nThis charm implements a solidfire backend for cinder, acting as\na subordinate charm.\n\nDepends-On: I523074a9578bf5f327608de0a4144a0597a65287\nChange-Id: Ia0b48d3e399965a6e138ea18c447eafd6009385c\n'}]",4,823805,1170b571bd11994d1e406e8e1cc289286f2861d5,14,4,1,33741,,,0,"Add the cinder-solidfire charm to Openstack charms

This charm implements a solidfire backend for cinder, acting as
a subordinate charm.

Depends-On: I523074a9578bf5f327608de0a4144a0597a65287
Change-Id: Ia0b48d3e399965a6e138ea18c447eafd6009385c
",git fetch https://review.opendev.org/openstack/governance refs/changes/05/823805/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,1170b571bd11994d1e406e8e1cc289286f2861d5,project-update, charm-cinder-solidfire: release-management: external repos: - openstack/charm-cinder-solidfire,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I13270a4866f9b339cb31ebba223121978e52b499,openstack/tripleo-heat-templates,stable/wallaby,I13270a4866f9b339cb31ebba223121978e52b499,Move ephemeral heat upgrade to the service,MERGED,2022-01-13 11:35:26.000000000,2022-01-14 02:56:28.000000000,2022-01-14 02:44:22.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-13 11:35:26.000000000', 'files': ['scripts/undercloud-upgrade-ephemeral-heat.py', 'environments/lifecycle/undercloud-upgrade-prepare.yaml', 'releasenotes/notes/undercloud-upgrade-ephemeral-heat-c838a9c61fc742a3.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/heat/heat-ephemeral-container-ansible.yaml', 'roles_data_undercloud.yaml', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d36dfedac2666adb6243806a9401379b8072f133', 'message': 'Move ephemeral heat upgrade to the service\n\nRather than using a new service, we can use the existing HeatEphemeral\nservice we added to ensure the undercloud is prepared for the overcloud\ndeployment usage of the ephemeral heat version.  Additionally this will\nproperly tear down the previous containered heat services once the data\nhas been extracted from the existing databases.\n\nChange-Id: I13270a4866f9b339cb31ebba223121978e52b499\n(cherry picked from commit 4da03adefe09005bcac245a6c4a61eaac14d26f6)\n'}]",0,824532,d36dfedac2666adb6243806a9401379b8072f133,9,6,1,26343,,,0,"Move ephemeral heat upgrade to the service

Rather than using a new service, we can use the existing HeatEphemeral
service we added to ensure the undercloud is prepared for the overcloud
deployment usage of the ephemeral heat version.  Additionally this will
properly tear down the previous containered heat services once the data
has been extracted from the existing databases.

Change-Id: I13270a4866f9b339cb31ebba223121978e52b499
(cherry picked from commit 4da03adefe09005bcac245a6c4a61eaac14d26f6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/824532/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/undercloud-upgrade-ephemeral-heat.py', 'environments/lifecycle/undercloud-upgrade-prepare.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/undercloud-upgrade-ephemeral-heat-c838a9c61fc742a3.yaml', 'deployment/heat/heat-ephemeral-container-ansible.yaml', 'roles_data_undercloud.yaml', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml', 'roles/Undercloud.yaml']",8,d36dfedac2666adb6243806a9401379b8072f133,change-797522-1-stable/wallaby,, - OS::TripleO::Services::UndercloudUpgradeEphemeralHeat,57,83
openstack%2Ftripleo-upgrade~master~Ie454fdbbb1eb637316b340f199bb631264644496,openstack/tripleo-upgrade,master,Ie454fdbbb1eb637316b340f199bb631264644496,Fast and furious upgrade,MERGED,2022-01-13 11:57:43.000000000,2022-01-14 02:44:27.000000000,2022-01-14 02:44:27.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-01-13 11:57:43.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'infrared_plugin/main.yml', 'defaults/main.yml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a315ac3ed489b2f87a177c518c2c283cb466eefd', 'message': 'Fast and furious upgrade\n\nIntroduce ability to test upgrade of all nodes at once with outage.\nThe Fast and furious upgrades performs and upgrade of all the\novercloud nodes at the same time. This allows saving time on the\nupgrade when there is possibility of outage time.\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n(cherry picked from commit bac8bd18909724cf4bdf20045b5d3183ae5d884e)\n'}]",0,824533,a315ac3ed489b2f87a177c518c2c283cb466eefd,6,2,1,11166,,,0,"Fast and furious upgrade

Introduce ability to test upgrade of all nodes at once with outage.
The Fast and furious upgrades performs and upgrade of all the
overcloud nodes at the same time. This allows saving time on the
upgrade when there is possibility of outage time.

Change-Id: Ie454fdbbb1eb637316b340f199bb631264644496
(cherry picked from commit bac8bd18909724cf4bdf20045b5d3183ae5d884e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/33/824533/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2']",8,a315ac3ed489b2f87a177c518c2c283cb466eefd,,"{% if fast_and_furious -%} if [ ! -f .system_upgrade_stop_services ]; then EXTERNAL_ANSWER="""" if openstack overcloud external-upgrade run --help | grep -qe ""--yes""; then EXTERNAL_ANSWER=""--yes"" fi echo ""[$(date)] Started system_upgrade_stop_services for {{ hosts }}"" openstack overcloud external-upgrade run ${EXTERNAL_ANSWER} \ --stack {{ overcloud_stack_name }} \ --tags system_upgrade_stop_services 2>&1 && touch .system_upgrade_stop_services if [ $? -ne 0 ]; then echo ""[$(date)] Failed upgrade system_upgrade_stop_services for {{ hosts }}"" exit 1 else echo ""[$(date)] Finished upgrade system_upgrade_stop_services for {{ hosts }}"" fi fi RUN_ANSWER="""" if openstack overcloud upgrade run --help | grep -qe ""--yes""; then RUN_ANSWER=""--yes"" fi echo ""[$(date)] Started system upgrade step for {{ hosts }}"" openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --tags system_upgrade \ --limit ""{{ hosts }}"" 2>&1 | tee -a ""RHEL_upgrade_{{ hosts }}"" if [ $? -ne 0 ]; then echo ""[$(date)] Failed in system upgrade step for {{ hosts }}"" exit 1 else echo ""[$(date)] Finished system upgrade step for {{ hosts }}"" fi {% else -%} {% endif -%}",,148,44
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I18900708cc7f667443b68690e47f97a1f49faa68,openstack/tripleo-heat-templates,stable/wallaby,I18900708cc7f667443b68690e47f97a1f49faa68,Add ephemeral Heat entry to clouds.yaml,MERGED,2022-01-13 11:31:59.000000000,2022-01-14 02:44:24.000000000,2022-01-14 02:44:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-13 11:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df6c849158bb1272839b34829991ce0e841543e2', 'message': 'Add ephemeral Heat entry to clouds.yaml\n\nAdds an external_deploy_tasks to the ephemeral heat service used during\nthe undercloud install so that clouds.yaml gets configured with a cloud\nconfig that can be used with ephemeral Heat. When configured, it can be\nused as:\n\nOS_CLOUD=heat openstack stack list\n\nDepends-On: Id9992ee242d381c02cb530838fef21e60d10dfa6\nChange-Id: I18900708cc7f667443b68690e47f97a1f49faa68\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 3a0b86e4e2bd624ffca99789cf00fce421316ebf)\n'}, {'number': 2, 'created': '2022-01-13 11:39:54.000000000', 'files': ['deployment/heat/heat-ephemeral-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91bf7b11aae5514438baaed5ce1d4d3dc5d95054', 'message': 'Add ephemeral Heat entry to clouds.yaml\n\nAdds an external_deploy_tasks to the ephemeral heat service used during\nthe undercloud install so that clouds.yaml gets configured with a cloud\nconfig that can be used with ephemeral Heat. When configured, it can be\nused as:\n\nOS_CLOUD=heat openstack stack list\n\nDepends-On: Id9992ee242d381c02cb530838fef21e60d10dfa6\nChange-Id: I18900708cc7f667443b68690e47f97a1f49faa68\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 3a0b86e4e2bd624ffca99789cf00fce421316ebf)\n'}]",0,824531,91bf7b11aae5514438baaed5ce1d4d3dc5d95054,9,6,2,26343,,,0,"Add ephemeral Heat entry to clouds.yaml

Adds an external_deploy_tasks to the ephemeral heat service used during
the undercloud install so that clouds.yaml gets configured with a cloud
config that can be used with ephemeral Heat. When configured, it can be
used as:

OS_CLOUD=heat openstack stack list

Depends-On: Id9992ee242d381c02cb530838fef21e60d10dfa6
Change-Id: I18900708cc7f667443b68690e47f97a1f49faa68
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 3a0b86e4e2bd624ffca99789cf00fce421316ebf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/824531/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-ephemeral-container-ansible.yaml'],1,df6c849158bb1272839b34829991ce0e841543e2,change-797522-1-stable/wallaby,"<<<<<<< HEAD (53f454 Merge ""Use public endpoint for [keystone_authtoken] www_auth) ======= external_deploy_tasks: - name: Manage clouds.yaml file for ephemeral Heat when: - step|int == 1 - not ansible_check_mode|bool block: - name: Create /etc/openstack directory if it does not exist become: true file: mode: '0755' owner: root path: /etc/openstack state: directory - name: Configure /etc/openstack/clouds.yaml for ephemeral Heat include_role: name: tripleo_keystone_resources tasks_from: clouds vars: tripleo_keystone_resources_cloud_name: heat tripleo_keystone_resources_cloud_config: auth_type: none endpoint: http://127.0.0.1:8006/v1/admin upgrade_tasks: - name: Convert to Ephemeral Heat when: - step|int == 1 block: - name: Create /var/lib/tripleo-config/scripts dir file: path: /var/lib/tripleo-config/scripts state: directory recurse: true - name: Copy undercloud-upgrade-ephemeral-heat.py to /var/lib/tripleo-config/scripts copy: dest: /var/lib/tripleo-config/scripts/undercloud-upgrade-ephemeral-heat.py content: {get_file: ../../scripts/undercloud-upgrade-ephemeral-heat.py} mode: 0755 - name: Check if heat engine is still running shell: systemctl is-active tripleo_heat_engine.service || systemctl is-enabled tripleo_heat_engine.service failed_when: false become: true register: heat_engine_enabled - name: Store OvercloudStackRoleDataFileMap on file vars: role_data_file_map: {get_param: OvercloudStackRoleDataFileMap} copy: dest: /var/lib/tripleo-config/overcloud-stack-role-data-file-map.yaml content: ""{{ role_data_file_map | to_nice_yaml }}"" - name: Run undercloud-upgrade-ephemeral-heat.py shell: /var/lib/tripleo-config/scripts/undercloud-upgrade-ephemeral-heat.py register: upgrade_ephemeral_result when: - heat_engine_enabled.rc is defined - heat_engine_enabled.rc == 0 - name: Tear down previous Heat containers include_role: name: tripleo_container_rm vars: tripleo_container_cli: ""{{ container_cli }}"" tripleo_containers_to_rm: - heat_api - heat_api_cfn - heat_engine when: - upgrade_ephemeral_result.rc is defined - upgrade_ephemeral_result.rc == 0 >>>>>>> CHANGE (3a0b86 Add ephemeral Heat entry to clouds.yaml)",,69,0
openstack%2Ftripleo-ci~master~I816467550b37646ad0724f362eedfbea2517efbb,openstack/tripleo-ci,master,I816467550b37646ad0724f362eedfbea2517efbb,Makes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check,MERGED,2022-01-12 09:44:48.000000000,2022-01-14 02:44:19.000000000,2022-01-14 02:44:19.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-12 09:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ed95a16e51ff013f620766dad6035ead1d73a3ca', 'message': 'Makes tripleo-ci-centos-9-standalone-on-multinode-ipa voting and adds to gate queue\n\nMakes tripleo-ci-centos-9-standalone-on-multinode-ipa voting and adds to gate queue\n\nChange-Id: I816467550b37646ad0724f362eedfbea2517efbb\n'}, {'number': 2, 'created': '2022-01-12 09:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5c2beadc7a214f5c70dcd9cb23687f95ed40c76', 'message': 'Makes tripleo-ci-centos-9-standalone-on-multinode-ipa voting\n\nMakes tripleo-ci-centos-9-standalone-on-multinode-ipa voting\n\nChange-Id: I816467550b37646ad0724f362eedfbea2517efbb\n'}, {'number': 3, 'created': '2022-01-12 15:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61605dc72e1be54014e9aceb192a07034beb7587', 'message': 'Makes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check\n\nMakes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check.\nSeperate patch [1] will make it voting in job level and add to gate queue\n\n[1] TBD\n\nChange-Id: I816467550b37646ad0724f362eedfbea2517efbb\n'}, {'number': 4, 'created': '2022-01-12 15:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db46e516100db659ed2d58f9dff86d8abd4074cc', 'message': 'Makes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check\n\nMakes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check.\nSeperate patch [1] will make it voting in job level and add to gate queue\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/824447\n\nChange-Id: I816467550b37646ad0724f362eedfbea2517efbb\n'}, {'number': 5, 'created': '2022-01-12 15:17:05.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/73b7488ab8cc14700d8cc4a51921ca0fe1401b0c', 'message': 'Makes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check\n\nMakes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check.\nSeperate patch [1] will make it voting in job level and add to gate queue\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/824447\n\nChange-Id: I816467550b37646ad0724f362eedfbea2517efbb\n'}]",9,824364,73b7488ab8cc14700d8cc4a51921ca0fe1401b0c,27,4,5,32458,,,0,"Makes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check

Makes tripleo-ci-centos-9-standalone-on-multinode-ipa non voting in check.
Seperate patch [1] will make it voting in job level and add to gate queue

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/824447

Change-Id: I816467550b37646ad0724f362eedfbea2517efbb
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/64/824364/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,ed95a16e51ff013f620766dad6035ead1d73a3ca,, - tripleo-ci-centos-9-standalone-on-multinode-ipa voting: true, voting: false,2,1
openstack%2Fkuryr-tempest-plugin~master~I41cec1ea1db43e2fbeb0bf6d5fafb84c87e77d1c,openstack/kuryr-tempest-plugin,master,I41cec1ea1db43e2fbeb0bf6d5fafb84c87e77d1c,Add wait until active LB in NP test,MERGED,2022-01-11 12:35:31.000000000,2022-01-14 02:30:52.000000000,2022-01-14 02:26:36.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-01-11 12:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/e9956cd28df96f1cb39e8e1e755df66f4992e611', 'message': 'Add wait until active LB in NP test\n\nThe test test_egress_np_to_service_wo_selector is failing in some environments\nwhen checking the connectivity to services (before the NP is applied). The\nendpoints are defined in kuryrloadbalancers objects but the connectivity is\nnot working.\n\nThis change adds the method wait_until_service_LB_is_active() and its used in\nthat test before checking the connectivity to the services.\n\nChange-Id: I41cec1ea1db43e2fbeb0bf6d5fafb84c87e77d1c\n'}, {'number': 2, 'created': '2022-01-11 12:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/3e3524e7cd3ad9f31df2b8cdf99c7d3e4f9da720', 'message': 'Add wait until active LB in NP test\n\nThe test test_egress_np_to_service_wo_selector is failing in some\nenvironments when checking the connectivity to services (before\nthe NP is applied). Theendpoints are defined in kuryrloadbalancers\nobjects but the connectivity is not working.\n\nThis change adds the method wait_until_service_LB_is_active() and\nits used in that test before checking the connectivity to the\nservices.\n\nChange-Id: I41cec1ea1db43e2fbeb0bf6d5fafb84c87e77d1c\n'}, {'number': 3, 'created': '2022-01-11 12:39:39.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7a63c928e72dfe2afdd6ef10643fc56df8b9e40f', 'message': 'Add wait until active LB in NP test\n\nThe test test_egress_np_to_service_wo_selector is failing in some\nenvironments when checking the connectivity to services (before\nthe NP is applied). The endpoints are defined in kuryrloadbalancers\nobjects but the connectivity is not working.\n\nThis change adds the method wait_until_service_LB_is_active() and\ncalls it in that test before checking the connectivity to the\nservices.\n\nChange-Id: I41cec1ea1db43e2fbeb0bf6d5fafb84c87e77d1c\n'}]",0,824171,7a63c928e72dfe2afdd6ef10643fc56df8b9e40f,10,4,3,27086,,,0,"Add wait until active LB in NP test

The test test_egress_np_to_service_wo_selector is failing in some
environments when checking the connectivity to services (before
the NP is applied). The endpoints are defined in kuryrloadbalancers
objects but the connectivity is not working.

This change adds the method wait_until_service_LB_is_active() and
calls it in that test before checking the connectivity to the
services.

Change-Id: I41cec1ea1db43e2fbeb0bf6d5fafb84c87e77d1c
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/71/824171/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,e9956cd28df96f1cb39e8e1e755df66f4992e611,np_wait_rule," self.wait_until_service_LB_is_active(service_name, namespace) self.assert_backend_amount_from_pod( clusterip_svc_ip, pod_num, pod_name, service_port, protocol, namespace_name=namespace) return pod_name def wait_until_service_LB_is_active(self, service_name, namespace='default', poll_interval=5): time.sleep(poll_interval)"," time.sleep(10) self.assert_backend_amount_from_pod( clusterip_svc_ip, pod_num, pod_name, service_port, protocol, namespace_name=namespace) return pod_name ",21,12
openstack%2Frequirements~stable%2Fxena~Ida7e410ae68caa5558e4fe5cf48d2fc76d701673,openstack/requirements,stable/xena,Ida7e410ae68caa5558e4fe5cf48d2fc76d701673,update constraint for neutron-lib to new release 2.15.1,MERGED,2022-01-10 09:28:11.000000000,2022-01-14 02:04:13.000000000,2022-01-14 02:04:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-10 09:28:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/26b828012d5e7544e6cb793fbb574f2e0d8ffa39', 'message': 'update constraint for neutron-lib to new release 2.15.1\n\nmeta: version: 2.15.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: Ic8e28e858579e14ebbf98f4564b7566baca081eb\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ida7e410ae68caa5558e4fe5cf48d2fc76d701673\n'}]",0,823952,26b828012d5e7544e6cb793fbb574f2e0d8ffa39,14,3,1,11131,,,0,"update constraint for neutron-lib to new release 2.15.1

meta: version: 2.15.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: Ic8e28e858579e14ebbf98f4564b7566baca081eb
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ida7e410ae68caa5558e4fe5cf48d2fc76d701673
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/823952/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,26b828012d5e7544e6cb793fbb574f2e0d8ffa39,new-release,neutron-lib===2.15.1,neutron-lib===2.15.0,1,1
openstack%2Ftripleo-heat-templates~master~Ic81d11ba43ed58d0f015c1728c9855b9c2442fbc,openstack/tripleo-heat-templates,master,Ic81d11ba43ed58d0f015c1728c9855b9c2442fbc,"Add support for RbdStoreChunkSize configuration, defaults to 8MB",NEW,2022-01-13 10:46:34.000000000,2022-01-13 23:09:03.000000000,,"[{'_account_id': 4523}, {'_account_id': 5202}, {'_account_id': 6796}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-13 10:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba659b0f297b277e726d577398e11b3b1f3832ae', 'message': ""Add support for RbdStoreChunkSize configuration, defaults to 8MB\n\nUsing the same chunk_size for RBD backend in both Cinder and Glance\nis especially important when the Ceph cluster is at the Pacific level,\nbecause if they aren't the cluster will return error, also see:\nhttps://review.opendev.org/c/openstack/cinder/+/804265\n\nChange-Id: Ic81d11ba43ed58d0f015c1728c9855b9c2442fbc\nCloses-Bug: 1957759\n""}, {'number': 2, 'created': '2022-01-13 10:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c9e85c45a72cf547699a86e8b5fed060b57ee8e', 'message': ""Add support for RbdStoreChunkSize configuration, defaults to 8MB\n\nUsing the same chunk_size for RBD backend in both Cinder and Glance\nis especially important when the Ceph cluster is at the Pacific level,\nbecause if they aren't the cluster will return error, also see:\nhttps://review.opendev.org/c/openstack/cinder/+/804265\n\nChange-Id: Ic81d11ba43ed58d0f015c1728c9855b9c2442fbc\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824520\nCloses-Bug: 1957759\n""}, {'number': 3, 'created': '2022-01-13 16:40:42.000000000', 'files': ['deployment/nova/nova-libvirt-common.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59cd5e707c19ebb8ee52fe084f5d7474802b5df2', 'message': ""Add support for RbdStoreChunkSize configuration, defaults to 8MB\n\nUsing the same chunk_size for RBD backend in both Cinder and Glance\nis especially important when the Ceph cluster is at the Pacific level,\nbecause if they aren't the cluster will return error, also see:\nhttps://review.opendev.org/c/openstack/cinder/+/804265\n\nChange-Id: Ic81d11ba43ed58d0f015c1728c9855b9c2442fbc\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824520\nCloses-Bug: 1957759\n""}]",8,824525,59cd5e707c19ebb8ee52fe084f5d7474802b5df2,13,7,3,6796,,,0,"Add support for RbdStoreChunkSize configuration, defaults to 8MB

Using the same chunk_size for RBD backend in both Cinder and Glance
is especially important when the Ceph cluster is at the Pacific level,
because if they aren't the cluster will return error, also see:
https://review.opendev.org/c/openstack/cinder/+/804265

Change-Id: Ic81d11ba43ed58d0f015c1728c9855b9c2442fbc
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824520
Closes-Bug: 1957759
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/824525/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml']",2,ba659b0f297b277e726d577398e11b3b1f3832ae,," RbdStoreChunkSize: default: 8 description: > Chunk size, in megabytes, to use for RBD cloning operations. type: number glance::backend::rbd::rbd_store_chunk_size: {get_param: RbdStoreChunkSize}",,13,0
openstack%2Fopenstack-ansible~master~Ic22ffe8e450bc11602749cdb36dffac7f7ac3721,openstack/openstack-ansible,master,Ic22ffe8e450bc11602749cdb36dffac7f7ac3721,Use plugins repo as collection,MERGED,2022-01-11 14:01:30.000000000,2022-01-13 23:00:20.000000000,2022-01-13 22:58:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 14:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6cbbecb3071a75f9cb1f33c0879e2f83c8df8687', 'message': '[WIP] Use plugins as collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183\nChange-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721\n'}, {'number': 2, 'created': '2022-01-11 14:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/637e78957f56cf6116c6eab9a73310deda52869c', 'message': '[WIP] Use plugins as collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183\nChange-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721\n'}, {'number': 3, 'created': '2022-01-11 15:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4a79a4d13d0c4b2191d14f3d674f67d00bbeeb7', 'message': '[WIP] Use plugins as collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/824195\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/824198\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824197\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_mount/+/824196\nChange-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721\n'}, {'number': 4, 'created': '2022-01-11 20:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/382e854f50aa2d4f57f5fd276a7be0a270262703', 'message': '[WIP] Use plugins as collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/824195\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/824198\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824197\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_mount/+/824196\nChange-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721\n'}, {'number': 5, 'created': '2022-01-11 20:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1fb44269256027370ec7119ede748e9fa9251b7c', 'message': 'Use plugins repo as collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/824195\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/824198\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824197\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_mount/+/824196\nChange-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721\n'}, {'number': 6, 'created': '2022-01-12 09:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7bedf61101323a363bf12ad501a185eb4ad37dcd', 'message': 'Use plugins repo as collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/824195\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/824198\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824197\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_mount/+/824196\nChange-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721\n'}, {'number': 7, 'created': '2022-01-13 16:48:31.000000000', 'files': ['playbooks/galera-install.yml', 'scripts/run-upgrade.sh', 'scripts/openstack-ansible.rc', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db1555018a0906b8fa743b782023d448fd72beb4', 'message': 'Use plugins repo as collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/824195\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/824198\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824197\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_mount/+/824196\nChange-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721\n'}]",5,824184,db1555018a0906b8fa743b782023d448fd72beb4,36,4,7,28619,,,0,"Use plugins repo as collection

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/824183
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_container_create/+/824195
Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_networkd/+/824198
Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824197
Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_mount/+/824196
Change-Id: Ic22ffe8e450bc11602749cdb36dffac7f7ac3721
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/824184/7 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/galera-install.yml', 'scripts/openstack-ansible.rc', 'ansible-role-requirements.yml']",3,6cbbecb3071a75f9cb1f33c0879e2f83c8df8687,osa/plugins_collection,,- name: plugins scm: git src: https://opendev.org/openstack/openstack-ansible-plugins version: master trackbranch: master,7,16
openstack%2Fmanila~master~I16110ec46c25be65760b15d7fbed67cd005f3873,openstack/manila,master,I16110ec46c25be65760b15d7fbed67cd005f3873,Force share server selection on nondisruptive migration,MERGED,2021-12-01 21:18:25.000000000,2022-01-13 22:23:34.000000000,2022-01-13 18:47:28.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 31721}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-01 21:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bf82ed08748fc7e814d0b94299c492d24f22aab1', 'message': 'Force share server selection on nondisruptive migration\n\nWhile performing nondisruptive migrations, share servers can not\nchange, because such thing will cause the migration to be\ndisruptive, since share servers have different network allocations\nand it will cause the destination share to change its export\nlocations.\nThis change fixes an issue that allowed manila/the share driver\nto chose where a share instance is going to land in case of a\nnondisruptive migration. Now, when such migration is required,\nmanila will automatically place the destination share instance in\nthe same share server that the source instance is located at.\n\nCloses-Bug: #1920942\nChange-Id: I16110ec46c25be65760b15d7fbed67cd005f3873\n'}, {'number': 2, 'created': '2021-12-03 14:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8ce2373bc4e6f8fc21b4ccccb3810cf8d39ff76a', 'message': 'Force share server selection on nondisruptive migration\n\nWhile performing nondisruptive migrations, share servers can not\nchange, because such thing will cause the migration to be\ndisruptive, since share servers have different network allocations\nand it will cause the destination share to change its export\nlocations.\nThis change fixes an issue that allowed manila/the share driver\nto chose where a share instance is going to land in case of a\nnondisruptive migration. Now, when such migration is required,\nmanila will automatically place the destination share instance in\nthe same share server that the source instance is located at.\n\nCloses-Bug: #1920942\nChange-Id: I16110ec46c25be65760b15d7fbed67cd005f3873\n'}, {'number': 3, 'created': '2021-12-06 18:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/281e9240c54ec34b52b9190fa340d81fa4b53616', 'message': 'Force share server selection on nondisruptive migration\n\nWhile performing nondisruptive migrations, share servers can not\nchange, because such thing will cause the migration to be\ndisruptive, since share servers have different network allocations\nand it will cause the destination share to change its export\nlocations.\nThis change fixes an issue that allowed manila/the share driver\nto chose where a share instance is going to land in case of a\nnondisruptive migration. Now, when such migration is required,\nmanila will automatically place the destination share instance in\nthe same share server that the source instance is located at.\n\nCloses-Bug: #1920942\nChange-Id: I16110ec46c25be65760b15d7fbed67cd005f3873\n'}, {'number': 4, 'created': '2021-12-16 14:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/464f2c403f4298973214083480c25a6c70275b8f', 'message': 'Force share server selection on nondisruptive migration\n\nWhile performing nondisruptive migrations, share servers can not\nchange, because such thing will cause the migration to be\ndisruptive, since share servers have different network allocations\nand it will cause the destination share to change its export\nlocations.\nThis change fixes an issue that allowed manila/the share driver\nto chose where a share instance is going to land in case of a\nnondisruptive migration. Now, when such migration is required,\nmanila will automatically place the destination share instance in\nthe same share server that the source instance is located at.\n\nCloses-Bug: #1920942\nChange-Id: I16110ec46c25be65760b15d7fbed67cd005f3873\n'}, {'number': 5, 'created': '2021-12-17 14:12:17.000000000', 'files': ['manila/share/manager.py', 'releasenotes/notes/bug-1920942-fix-migration-server-selection-3ad50e6c73ae03df.yaml', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/af3513d2b0f7bbcc968a4c445243de40d94714aa', 'message': 'Force share server selection on nondisruptive migration\n\nWhile performing nondisruptive migrations, share servers can not\nchange, because such thing will cause the migration to be\ndisruptive, since share servers have different network allocations\nand it will cause the destination share to change its export\nlocations.\nThis change fixes an issue that allowed manila/the share driver\nto chose where a share instance is going to land in case of a\nnondisruptive migration. Now, when such migration is required,\nmanila will automatically place the destination share instance in\nthe same share server that the source instance is located at.\n\nCloses-Bug: #1920942\nChange-Id: I16110ec46c25be65760b15d7fbed67cd005f3873\n'}]",36,820071,af3513d2b0f7bbcc968a4c445243de40d94714aa,55,6,5,29632,,,0,"Force share server selection on nondisruptive migration

While performing nondisruptive migrations, share servers can not
change, because such thing will cause the migration to be
disruptive, since share servers have different network allocations
and it will cause the destination share to change its export
locations.
This change fixes an issue that allowed manila/the share driver
to chose where a share instance is going to land in case of a
nondisruptive migration. Now, when such migration is required,
manila will automatically place the destination share instance in
the same share server that the source instance is located at.

Closes-Bug: #1920942
Change-Id: I16110ec46c25be65760b15d7fbed67cd005f3873
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/820071/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/tests/share/drivers/dummy.py', 'manila/tests/share/test_manager.py']",3,bf82ed08748fc7e814d0b94299c492d24f22aab1,bug/1920942," self.mock_object(self.share_manager.db, 'share_instance_update', mock.Mock(return_value=migrating_instance)) nondisruptive, not has_snapshots, 'fake_net_id', 'fake_az_id', if not nondisruptive: (rpcapi.ShareAPI.provide_share_server. assert_called_once_with( self.context, migrating_instance, 'fake_net_id')) rpcapi.ShareAPI.create_share_server.assert_called_once_with( self.context, migrating_instance, 'fake_dest_share_server_id') (migration_api.ShareMigrationHelper.wait_for_share_server. assert_called_once_with('fake_dest_share_server_id')) else: self.share_manager.db.share_instance_update.assert_called_with( self.context, migrating_instance['id'], {'share_server_id': src_server['id']}, with_share_data=True )"," True, not has_snapshots, 'fake_net_id', 'fake_az_id', (rpcapi.ShareAPI.provide_share_server. assert_called_once_with( self.context, migrating_instance, 'fake_net_id')) rpcapi.ShareAPI.create_share_server.assert_called_once_with( self.context, migrating_instance, 'fake_dest_share_server_id') (migration_api.ShareMigrationHelper.wait_for_share_server. assert_called_once_with('fake_dest_share_server_id'))",62,29
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id9992ee242d381c02cb530838fef21e60d10dfa6,openstack/python-tripleoclient,stable/wallaby,Id9992ee242d381c02cb530838fef21e60d10dfa6,Use 127.0.0.1 for ephemeral Heat server instead of ctlplane ip,MERGED,2022-01-13 11:31:14.000000000,2022-01-13 22:21:39.000000000,2022-01-13 22:18:34.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-01-13 11:31:14.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60ce1c06c2c3b38f7b54a1260cd457d383a574db', 'message': ""Use 127.0.0.1 for ephemeral Heat server instead of ctlplane ip\n\n127.0.0.1 should be used for the ephemeral Heat api endpoint IP instead\nof the ctlplane IP. There is no need for the api to be listening\nexternally, and it's more secure if it isn't.\n\nChange-Id: Id9992ee242d381c02cb530838fef21e60d10dfa6\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit f1fd9d0982927a7eeeaf5cc684ac70bb3b699c24)\n""}]",0,824530,60ce1c06c2c3b38f7b54a1260cd457d383a574db,10,6,1,26343,,,0,"Use 127.0.0.1 for ephemeral Heat server instead of ctlplane ip

127.0.0.1 should be used for the ephemeral Heat api endpoint IP instead
of the ctlplane IP. There is no need for the api to be listening
externally, and it's more secure if it isn't.

Change-Id: Id9992ee242d381c02cb530838fef21e60d10dfa6
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit f1fd9d0982927a7eeeaf5cc684ac70bb3b699c24)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/824530/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,60ce1c06c2c3b38f7b54a1260cd457d383a574db,ephemeral-heat-full-stable/wallaby," self.host = ""127.0.0.1""", self.host = self._get_ctlplane_ip(),1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I24d76d72aa291262a85a861a8109dde3d4d90e2e,openstack/python-tripleoclient,stable/wallaby,I24d76d72aa291262a85a861a8109dde3d4d90e2e,overcloud node extract provisioned - fixed_ips,MERGED,2021-12-21 09:48:46.000000000,2022-01-13 22:20:17.000000000,2022-01-13 22:18:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-21 09:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/240a4517aecbd7feb8de1b611765da6385ae8d66', 'message': 'overcloud node extract provisioned - fixed_ips\n\nIn the overcloud node extract provisioned command, check\nfor predictable IPs usage. If used, add networks to the\ninstance section and set the fixed_ip value by using\nRoleNetIpMap stack output as the source.\n\nCloses-Bug: #1951410\nChange-Id: I24d76d72aa291262a85a861a8109dde3d4d90e2e\n(cherry picked from commit 59eae4b3a90d714e93bd6c9e043c0481ba7a5dae)\n'}, {'number': 2, 'created': '2021-12-21 20:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f77a6298fdd8c4478e53caff9af32f78954c95de', 'message': 'overcloud node extract provisioned - fixed_ips\n\nIn the overcloud node extract provisioned command, check\nfor predictable IPs usage. If used, add networks to the\ninstance section and set the fixed_ip value by using\nRoleNetIpMap stack output as the source.\n\nCloses-Bug: #1951410\nChange-Id: I24d76d72aa291262a85a861a8109dde3d4d90e2e\n(cherry picked from commit 59eae4b3a90d714e93bd6c9e043c0481ba7a5dae)\n'}, {'number': 3, 'created': '2022-01-07 22:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6246666ab6612f5bfe9bbc262b5478a4bf500647', 'message': 'overcloud node extract provisioned - fixed_ips\n\nIn the overcloud node extract provisioned command, check\nfor predictable IPs usage. If used, add networks to the\ninstance section and set the fixed_ip value by using\nRoleNetIpMap stack output as the source.\n\nCloses-Bug: #1951410\nChange-Id: I24d76d72aa291262a85a861a8109dde3d4d90e2e\n(cherry picked from commit 59eae4b3a90d714e93bd6c9e043c0481ba7a5dae)\n'}, {'number': 4, 'created': '2022-01-10 10:01:03.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2e4b487e5d3ccc0978b7a67b6fe4644af5cb45c', 'message': 'overcloud node extract provisioned - fixed_ips\n\nIn the overcloud node extract provisioned command, check\nfor predictable IPs usage. If used, add networks to the\ninstance section and set the fixed_ip value by using\nRoleNetIpMap stack output as the source.\n\nCloses-Bug: #1951410\nChange-Id: I24d76d72aa291262a85a861a8109dde3d4d90e2e\n(cherry picked from commit 59eae4b3a90d714e93bd6c9e043c0481ba7a5dae)\n'}]",1,822416,c2e4b487e5d3ccc0978b7a67b6fe4644af5cb45c,21,3,4,24245,,,0,"overcloud node extract provisioned - fixed_ips

In the overcloud node extract provisioned command, check
for predictable IPs usage. If used, add networks to the
instance section and set the fixed_ip value by using
RoleNetIpMap stack output as the source.

Closes-Bug: #1951410
Change-Id: I24d76d72aa291262a85a861a8109dde3d4d90e2e
(cherry picked from commit 59eae4b3a90d714e93bd6c9e043c0481ba7a5dae)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/822416/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,240a4517aecbd7feb8de1b611765da6385ae8d66,bug/1951410-stable/wallaby,"import copy parameter_defaults = stack.environment().get('parameter_defaults', {}) ips_from_pool = parameter_defaults.get( '{}IPs'.format(role_name), {}) for idx, entry in enumerate(sorted(entries)): if ips_from_pool: instance['networks'] = copy.deepcopy(role_networks) for net in instance['networks']: net['fixed_ip'] = ( role_net_ip_map[role_name][net['network']][idx]) ", for entry in sorted(entries):,216,78
openstack%2Ftripleo-ci~master~I92d6f34817789c9352a4b3513a14467acc2a7621,openstack/tripleo-ci,master,I92d6f34817789c9352a4b3513a14467acc2a7621,Set strict versions of molecule and its deps,MERGED,2022-01-13 11:41:48.000000000,2022-01-13 22:18:32.000000000,2022-01-13 22:18:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-13 11:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8867e43f278250a7cbf8c2c5277acf6d3335c1d', 'message': 'Set strict versions of molecule and its deps\n\nIn order to prevent future bugs with new molecule and its deps\nversions set strict versions in requirements.\nChange-Id: I92d6f34817789c9352a4b3513a14467acc2a7621\n'}, {'number': 2, 'created': '2022-01-13 11:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/719981764d7f88b6060bc9f316417cc5588175e3', 'message': 'Set strict versions of molecule and its deps\n\nIn order to prevent future bugs with new molecule and its deps\nversions set strict versions in requirements.\nChange-Id: I92d6f34817789c9352a4b3513a14467acc2a7621\n'}, {'number': 3, 'created': '2022-01-13 12:12:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc1849b3e36e88f0a4d2369a3d1cfe301ce6dbb5', 'message': 'Set strict versions of molecule and its deps\n\nIn order to prevent future bugs with new molecule and its deps\nversions set strict versions in requirements.\nChange-Id: I92d6f34817789c9352a4b3513a14467acc2a7621\n'}]",0,824529,bc1849b3e36e88f0a4d2369a3d1cfe301ce6dbb5,10,5,3,10969,,,0,"Set strict versions of molecule and its deps

In order to prevent future bugs with new molecule and its deps
versions set strict versions in requirements.
Change-Id: I92d6f34817789c9352a4b3513a14467acc2a7621
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/29/824529/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c8867e43f278250a7cbf8c2c5277acf6d3335c1d,mmm,identify molecule==3.5.2 molecule-docker==1.1.0pytest-molecule==1.3.6 # MIT (reference: https://launchpad.net/bugs/1900033),"identify<=2.4.2 # (reference: https://bugs.launchpad.net/tripleo/+bug/1957116) molecule>=3.5.2 molecule-docker>=1.1.0pytest-molecule>=1.3.3,<1.4.0 # MIT (reference: https://launchpad.net/bugs/1900033)",4,4
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I3d52e17400d4c7b7a7ac8878eb289e8a84df5459,openstack/python-tripleoclient,stable/wallaby,I3d52e17400d4c7b7a7ac8878eb289e8a84df5459,node extract provisioned - use network_config_update,MERGED,2022-01-10 09:54:18.000000000,2022-01-13 22:11:33.000000000,2022-01-13 22:09:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 09:54:18.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e2ba687a43559be9db9e78f2e171883bc6ff152', 'message': 'node extract provisioned - use network_config_update\n\nIn change If53577a26edcb2dc67458603286471dfb87f0bda\nnetwork_deployment_actions was replaced with\nnetwork_config_update in the baremetal YAML definition.\n\nUpdate the overcloud node extract provisioned command\nto set network_config_update instead of the removed\nnetwork_deployment_actions parameter.\n\nRelated-Bug: #1951458\nChange-Id: I3d52e17400d4c7b7a7ac8878eb289e8a84df5459\n(cherry picked from commit 9ad9323b0adc50c15ce274b5921f527e38757c47)\n'}]",3,823840,4e2ba687a43559be9db9e78f2e171883bc6ff152,14,3,1,24245,,,0,"node extract provisioned - use network_config_update

In change If53577a26edcb2dc67458603286471dfb87f0bda
network_deployment_actions was replaced with
network_config_update in the baremetal YAML definition.

Update the overcloud node extract provisioned command
to set network_config_update instead of the removed
network_deployment_actions parameter.

Related-Bug: #1951458
Change-Id: I3d52e17400d4c7b7a7ac8878eb289e8a84df5459
(cherry picked from commit 9ad9323b0adc50c15ce274b5921f527e38757c47)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/40/823840/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,4e2ba687a43559be9db9e78f2e171883bc6ff152,bug/1951458-stable/wallaby, network_deployment_actions = parameters.get( network_deployment_actions = parameters.get( net_conf['network_config_update'] = ( 'UPDATE' in network_deployment_actions)," net_conf['network_deployment_actions'] = parameters.get( net_conf['network_deployment_actions'] = parameters.get( if isinstance(net_conf['network_deployment_actions'], str): net_conf['network_deployment_actions'] = net_conf[ 'network_deployment_actions'].split(',')",6,7
openstack%2Frequirements~master~Ia5a273c625f78fc7a5e28d4815b5f64a060b4ab9,openstack/requirements,master,Ia5a273c625f78fc7a5e28d4815b5f64a060b4ab9,update constraint for validations-libs to new release 1.5.0,MERGED,2022-01-10 09:15:28.000000000,2022-01-13 22:10:42.000000000,2022-01-13 22:08:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-10 09:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/31c6f9d407ce250c1d7124b81b168209e961bb4a', 'message': 'update constraint for validations-libs to new release 1.5.0\n\nmeta: version: 1.5.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: matbu <mat.bultel@gmail.com>\nmeta: release:Commit: matbu <mat.bultel@gmail.com>\nmeta: release:Change-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2\nmeta: release:Code-Review+1: Gael Chamoulaud <gchamoul@redhat.com>\nmeta: release:Code-Review+1: James Slagle <jslagle@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ia5a273c625f78fc7a5e28d4815b5f64a060b4ab9\n'}, {'number': 2, 'created': '2022-01-13 12:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/382c647def0307d5fad17185cf121dfbcc9ff9a7', 'message': 'update constraint for validations-libs to new release 1.5.0\n\nmeta: version: 1.5.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: matbu <mat.bultel@gmail.com>\nmeta: release:Commit: matbu <mat.bultel@gmail.com>\nmeta: release:Change-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2\nmeta: release:Code-Review+1: Gael Chamoulaud <gchamoul@redhat.com>\nmeta: release:Code-Review+1: James Slagle <jslagle@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ia5a273c625f78fc7a5e28d4815b5f64a060b4ab9\n'}]",1,823949,382c647def0307d5fad17185cf121dfbcc9ff9a7,15,3,2,11131,,,0,"update constraint for validations-libs to new release 1.5.0

meta: version: 1.5.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: matbu <mat.bultel@gmail.com>
meta: release:Commit: matbu <mat.bultel@gmail.com>
meta: release:Change-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2
meta: release:Code-Review+1: Gael Chamoulaud <gchamoul@redhat.com>
meta: release:Code-Review+1: James Slagle <jslagle@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ia5a273c625f78fc7a5e28d4815b5f64a060b4ab9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/823949/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,31c6f9d407ce250c1d7124b81b168209e961bb4a,new-release,validations-libs===1.5.0,validations-libs===1.4.0,1,1
openstack%2Ftripleo-validations~stable%2Ftrain~I12dd7958dd782afe5c70c240b51b6515ab2763e4,openstack/tripleo-validations,stable/train,I12dd7958dd782afe5c70c240b51b6515ab2763e4,Override log directory for CI train jobs,ABANDONED,2021-06-24 09:33:22.000000000,2022-01-13 21:52:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 09:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ca1a3b98f2d2c21af8f94c8054e748ddda61fd9e', 'message': 'Override log directory for CI train jobs\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 2, 'created': '2021-06-24 12:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f66eacd9d3fd47fafbac6776ec573bea5e21bd56', 'message': 'Override log directory for CI train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/797895\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 3, 'created': '2021-06-25 07:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4934dd4f11522a6e55ac1f30cc5cd77ee6504f70', 'message': 'Override log directory for CI train jobs\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 4, 'created': '2021-06-25 07:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2abfb68dcf93abfe166747e5037dccb838dc4832', 'message': 'Override log directory for CI train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/797860\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 5, 'created': '2021-06-25 10:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6bf039f7f290bee895f6620f75cb88aaa5cda111', 'message': 'Override log directory for CI train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/797860\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 6, 'created': '2021-06-25 14:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e1a693abb57ea48a1d4dad0232d410017b17c40a', 'message': 'Override log directory for CI train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/797860\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 7, 'created': '2021-06-28 11:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f226d073bd54942b832c1c9fc70f8fd36b93d051', 'message': 'Override log directory for CI train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/797860\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 8, 'created': '2021-06-28 11:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dda52606580301c42f8c5d6fdd49cdb7a26ad5f1', 'message': 'Override log directory for CI train jobs\n\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}, {'number': 9, 'created': '2021-06-28 13:07:41.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c7d29ba88a11cfee0b7dd7dc5404df4bf2f3dd7e', 'message': 'Override log directory for CI train jobs\n\nCloses-Bug: #1933515\nChange-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4\n'}]",0,797859,c7d29ba88a11cfee0b7dd7dc5404df4bf2f3dd7e,21,2,9,16515,,,0,"Override log directory for CI train jobs

Closes-Bug: #1933515
Change-Id: I12dd7958dd782afe5c70c240b51b6515ab2763e4
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/59/797859/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,ca1a3b98f2d2c21af8f94c8054e748ddda61fd9e,ci/backward/compat, vf_log_dir: /var/log/validations,,1,0
openstack%2Fpython-openstackclient~master~I0f626882716c21ac200c1b929ea04664d21874d8,openstack/python-openstackclient,master,I0f626882716c21ac200c1b929ea04664d21874d8,Add --security-group to port list,MERGED,2021-10-26 13:51:00.000000000,2022-01-13 20:15:59.000000000,2022-01-13 20:13:30.000000000,"[{'_account_id': 1131}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-10-26 13:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7e028412d60017bc7e701cc9617ecb6a42223ef1', 'message': 'Add --security-group to port list\n\nThe neutron API supports filtering ports by security group.\n\nCloses-Bug: #1405057\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804979\nChange-Id: I0f626882716c21ac200c1b929ea04664d21874d8\n'}, {'number': 2, 'created': '2021-11-26 11:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7459fb4eb90aa868b99a0577e55a5fa727ea8004', 'message': 'Add --security-group to port list\n\nThe neutron API supports filtering ports by security group.\n\nCloses-Bug: #1405057\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804979\nChange-Id: I0f626882716c21ac200c1b929ea04664d21874d8\n'}, {'number': 3, 'created': '2021-11-26 12:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e355d027f47eb57d0f0ff0e25a79b1a364a697a', 'message': 'Add --security-group to port list\n\nThe neutron API supports filtering ports by security group.\n\nCloses-Bug: #1405057\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804979\nChange-Id: I0f626882716c21ac200c1b929ea04664d21874d8\n'}, {'number': 4, 'created': '2021-11-26 18:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b4efb3d5af782bd17340107b58349c1dcf066763', 'message': 'Add --security-group to port list\n\nThe neutron API supports filtering ports by security group.\n\nCloses-Bug: #1405057\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804979\nChange-Id: I0f626882716c21ac200c1b929ea04664d21874d8\n'}, {'number': 5, 'created': '2021-12-02 11:12:47.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_port.py', 'releasenotes/notes/port-list-security-group-4af5d2e789174ff9.yaml', 'openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c8c4f76498de3380c7cbf80c5dc800a588bed649', 'message': 'Add --security-group to port list\n\nThe neutron API supports filtering ports by security group.\n\nCloses-Bug: #1405057\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804979\nChange-Id: I0f626882716c21ac200c1b929ea04664d21874d8\n'}]",21,815506,c8c4f76498de3380c7cbf80c5dc800a588bed649,29,4,5,16688,,,0,"Add --security-group to port list

The neutron API supports filtering ports by security group.

Closes-Bug: #1405057

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804979
Change-Id: I0f626882716c21ac200c1b929ea04664d21874d8
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/815506/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py']",2,7e028412d60017bc7e701cc9617ecb6a42223ef1,bug/1405057," parser.add_argument( '--security-group', metavar='<security-group>', help=_(""List only ports associated to this security group"") ) if parsed_args.security_group: filters['security_groups'] = [parsed_args.security_group]",,26,0
openstack%2Fmanila~stable%2Fxena~I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b,openstack/manila,stable/xena,I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b,early return for _share_replica_update() if there is no active replica,MERGED,2021-12-14 20:01:18.000000000,2022-01-13 19:29:48.000000000,2022-01-13 19:27:25.000000000,"[{'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 32919}]","[{'number': 1, 'created': '2021-12-14 20:01:18.000000000', 'files': ['manila/share/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/31f7c97205bb6a408a5c2fe5607c0e6e1d115ea1', 'message': 'early return for _share_replica_update() if there is no active replica\n\nIf the parent share of the replica has no active replica,\nthis is an error situation where _share_replica_update() simply\nreturns and logs a warning if the replica being acted on has not\nbeen already in error state itself before.\n\nChange-Id: I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b\nPartial-Bug: #1924230\n(cherry picked from commit 7b7d18e14243c82c20b49f134a5a007f5f21fcdd)\n'}]",2,821753,31f7c97205bb6a408a5c2fe5607c0e6e1d115ea1,14,5,1,16643,,,0,"early return for _share_replica_update() if there is no active replica

If the parent share of the replica has no active replica,
this is an error situation where _share_replica_update() simply
returns and logs a warning if the replica being acted on has not
been already in error state itself before.

Change-Id: I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b
Partial-Bug: #1924230
(cherry picked from commit 7b7d18e14243c82c20b49f134a5a007f5f21fcdd)
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/821753/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/manager.py'],1,31f7c97205bb6a408a5c2fe5607c0e6e1d115ea1,bug/1924230," _active_replica = next((x for x in replica_list if x['replica_state'] == constants.REPLICA_STATE_ACTIVE), None) if _active_replica is None: if share_replica['replica_state'] != constants.STATUS_ERROR: # only log warning if replica_state was not already in error msg = ((""Replica parent share %(id)s has no active "" ""replica."") % {'id': share_replica['share_id']}) LOG.warning(msg) self.db.share_replica_update(context, share_replica['id'], {'replica_state': constants.STATUS_ERROR}) # without a related active replica, we cannot act on any # non-active replica return", _active_replica = [x for x in replica_list if x['replica_state'] == constants.REPLICA_STATE_ACTIVE][0],16,3
openstack%2Fcharm-ceilometer~master~I2045fb2437a2d29c01fe14c1b9a3cf59fd1444c2,openstack/charm-ceilometer,master,I2045fb2437a2d29c01fe14c1b9a3cf59fd1444c2,Fix syntax error in the juju-run command,MERGED,2022-01-10 14:18:09.000000000,2022-01-13 19:29:41.000000000,2022-01-13 19:29:41.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 14:18:09.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/0b067893a859d1085f26c8ff88e6b2d26a72d527', 'message': 'Fix syntax error in the juju-run command\n\nThis change fixes the syntax of juju-run command in the README file.\nThe command requires a <unit> parameter to work, otherwise it fails\nwith the error ""no unit specified"".\n\nChange-Id: I2045fb2437a2d29c01fe14c1b9a3cf59fd1444c2\n'}]",4,823999,0b067893a859d1085f26c8ff88e6b2d26a72d527,14,3,1,19690,,,0,"Fix syntax error in the juju-run command

This change fixes the syntax of juju-run command in the README file.
The command requires a <unit> parameter to work, otherwise it fails
with the error ""no unit specified"".

Change-Id: I2045fb2437a2d29c01fe14c1b9a3cf59fd1444c2
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/99/823999/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0b067893a859d1085f26c8ff88e6b2d26a72d527,, juju run-action ceilometer/0 ceilometer-upgrade, juju run-action ceilometer-upgrade,1,1
openstack%2Fopenstack-ansible~stable%2Fxena~Ic92d520b86e958c2c257895af0d26db40a00503b,openstack/openstack-ansible,stable/xena,Ic92d520b86e958c2c257895af0d26db40a00503b,Add Ironic-related bridges to AIO,MERGED,2022-01-12 01:23:17.000000000,2022-01-13 19:16:09.000000000,2022-01-13 19:13:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-12 01:23:17.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_ironic.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/20d2ba99061fb55b39c2bd0178447cf1f9645598', 'message': 'Add Ironic-related bridges to AIO\n\nThis patchset sets the foundation for Ironic and Inspector AIO testing\nby setting up respective bridges and IPs.\n\nChange-Id: Ic92d520b86e958c2c257895af0d26db40a00503b\n(cherry picked from commit ebf871f65f6efff9b84ebabc389a45ec793cff13)\n'}]",2,824169,20d2ba99061fb55b39c2bd0178447cf1f9645598,16,3,1,16011,,,0,"Add Ironic-related bridges to AIO

This patchset sets the foundation for Ironic and Inspector AIO testing
by setting up respective bridges and IPs.

Change-Id: Ic92d520b86e958c2c257895af0d26db40a00503b
(cherry picked from commit ebf871f65f6efff9b84ebabc389a45ec793cff13)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/69/824169/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_ironic.yml.j2']",5,20d2ba99061fb55b39c2bd0178447cf1f9645598,inspector-setup-stable/xena, # (jamesdenton) Set defaults for AIO ironic_inspector_dhcp_pool_range: 172.29.229.50 172.29.229.255 ironic_inspector_dhcp_subnet: 172.29.228.0/22 ironic_inspector_dhcp_subnet_mask: 255.255.252.0 ironic_inspector_dhcp_gateway: 172.29.228.1 ironic_inspector_dhcp_nameservers: 172.29.228.1,,68,1
openstack%2Frequirements~stable%2Fwallaby~I2aa610b1c82c33d4264df1285fd1a782ba0f0cb2,openstack/requirements,stable/wallaby,I2aa610b1c82c33d4264df1285fd1a782ba0f0cb2,update constraint for neutron to new release 18.2.0,MERGED,2022-01-13 12:13:19.000000000,2022-01-13 19:06:12.000000000,2022-01-13 19:06:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 12:13:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0e20ed40e0034ad711f1feced1a6fe2c2626a08a', 'message': 'update constraint for neutron to new release 18.2.0\n\nmeta: version: 18.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2aa610b1c82c33d4264df1285fd1a782ba0f0cb2\n'}]",0,824556,0e20ed40e0034ad711f1feced1a6fe2c2626a08a,7,2,1,11131,,,0,"update constraint for neutron to new release 18.2.0

meta: version: 18.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I5da83c078a107c0040ec28cbd303afb1941690ca
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2aa610b1c82c33d4264df1285fd1a782ba0f0cb2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/824556/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0e20ed40e0034ad711f1feced1a6fe2c2626a08a,new-release,neutron===18.2.0,neutron===18.1.1,1,1
openstack%2Fmanila~stable%2Fwallaby~I719c670416c06f8eb9228a3537034285ae3733b4,openstack/manila,stable/wallaby,I719c670416c06f8eb9228a3537034285ae3733b4,Don't run periodic_share_replica_update() on active replicas,MERGED,2021-11-08 22:00:35.000000000,2022-01-13 19:05:00.000000000,2022-01-13 19:01:12.000000000,"[{'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-11-08 22:00:35.000000000', 'files': ['manila/share/manager.py', 'releasenotes/notes/bug-1924230-skip-periodic-task-for-active-replica-030a982af92f8a62.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/c44108f9ce8b9b7fc632ae6c6386fd6a5e584ff1', 'message': ""Don't run periodic_share_replica_update() on active replicas\n\nSimilarly to periodic_share_replica_snapshot_update() skip active\nreplicas and do what the comment above says.\n\nChange-Id: I719c670416c06f8eb9228a3537034285ae3733b4\nPartial-Bug: #1924230\n(cherry picked from commit 5ba3117f20261d6a49a0ee0131c3c01c2bfb4d2d)\n""}]",5,817112,c44108f9ce8b9b7fc632ae6c6386fd6a5e584ff1,16,5,1,16643,,,0,"Don't run periodic_share_replica_update() on active replicas

Similarly to periodic_share_replica_snapshot_update() skip active
replicas and do what the comment above says.

Change-Id: I719c670416c06f8eb9228a3537034285ae3733b4
Partial-Bug: #1924230
(cherry picked from commit 5ba3117f20261d6a49a0ee0131c3c01c2bfb4d2d)
",git fetch https://review.opendev.org/openstack/manila refs/changes/12/817112/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'releasenotes/notes/bug-1924230-skip-periodic-task-for-active-replica-030a982af92f8a62.yaml']",2,c44108f9ce8b9b7fc632ae6c6386fd6a5e584ff1,bug/1924230,"--- fixes: - Fixed periodic_share_replica_update() to skip active replicas similarly to periodic_share_replica_snapshot_update(). The intention is to check on non-active replicas, that can be 'in_sync', 'out_of_sync' or in 'error' state. ",,8,1
openstack%2Frequirements~stable%2Fvictoria~Ia046e4913eb266f0cc539fa380289bae93c62271,openstack/requirements,stable/victoria,Ia046e4913eb266f0cc539fa380289bae93c62271,update constraint for neutron to new release 17.3.0,MERGED,2022-01-13 12:04:43.000000000,2022-01-13 19:01:08.000000000,2022-01-13 19:01:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 12:04:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d44f078076454da6b7c340814879442cee086354', 'message': 'update constraint for neutron to new release 17.3.0\n\nmeta: version: 17.3.0\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ia046e4913eb266f0cc539fa380289bae93c62271\n'}]",0,824552,d44f078076454da6b7c340814879442cee086354,7,2,1,11131,,,0,"update constraint for neutron to new release 17.3.0

meta: version: 17.3.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I5da83c078a107c0040ec28cbd303afb1941690ca
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ia046e4913eb266f0cc539fa380289bae93c62271
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/824552/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d44f078076454da6b7c340814879442cee086354,new-release,neutron===17.3.0,neutron===17.2.1,1,1
openstack%2Ftripleo-ansible~master~I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72,openstack/tripleo-ansible,master,I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72,Create nova flavor for Octavia,MERGED,2021-12-08 09:28:37.000000000,2022-01-13 19:01:04.000000000,2022-01-13 19:01:04.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-08 09:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75a236d9877deb51d8c8dfdb646a2232d812eb30', 'message': ""Create nova flavor for Octavia\n\nThe nova flavor for Octavia was previously created from puppet-octavia\nbut it didn't offer a convenient way to select the type of the API\nendpoint (it uses public API endpoint by default while some deployments\ndon't have access to the external network from their controllers).\n\nMoving the creation of the flavor to a tripleo-ansible role helps us to\nuse the existing configuration (the roles use the internal endpoints)\nand centralizes the creation of all the resources required by Octavia in\na single place.\n\nChange-Id: I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72\n""}, {'number': 2, 'created': '2021-12-10 10:31:02.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/flavor.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9cdfe2980e7ed6ba79b3c23acea461b57d263e1', 'message': ""Create nova flavor for Octavia\n\nThe nova flavor for Octavia was previously created from puppet-octavia\nbut it didn't offer a convenient way to select the type of the API\nendpoint (it uses public API endpoint by default while some deployments\ndon't have access to the external network from their controllers).\n\nMoving the creation of the flavor to a tripleo-ansible role helps us to\nuse the existing configuration (the roles use the internal endpoints)\nand centralizes the creation of all the resources required by Octavia in\na single place.\n\nChange-Id: I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72\n""}]",18,820992,a9cdfe2980e7ed6ba79b3c23acea461b57d263e1,33,7,2,29244,,,0,"Create nova flavor for Octavia

The nova flavor for Octavia was previously created from puppet-octavia
but it didn't offer a convenient way to select the type of the API
endpoint (it uses public API endpoint by default while some deployments
don't have access to the external network from their controllers).

Moving the creation of the flavor to a tripleo-ansible role helps us to
use the existing configuration (the roles use the internal endpoints)
and centralizes the creation of all the resources required by Octavia in
a single place.

Change-Id: I6cbb9a50f4bf952e927f6eba7fdb993cfbb9cb72
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/820992/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/flavor.yml']",2,75a236d9877deb51d8c8dfdb646a2232d812eb30,octavia_flavor,--- - name: create nova flavor for Octavia shell: | if ! openstack flavor show octavia_{{ octavia_flavor_id }} > /dev/null; then openstack flavor create -vv \ --id {{ octavia_flavor_id }} \ --ram {{ octavia_flavor_properties.ram }} \ --disk {{ octavia_flavor_properties.disk }} \ --vcpus {{ octavia_flavor_properties.vcpus }} \ --private \ octavia_{{ octavia_flavor_id }} fi when: octavia_manage_nova_flavor | default(false) | bool ,,16,0
openstack%2Ftripleo-heat-templates~master~I987e093fc1ebb8dc47b39b914483936b6e7e4d6b,openstack/tripleo-heat-templates,master,I987e093fc1ebb8dc47b39b914483936b6e7e4d6b,Handle ping test ips when not available,MERGED,2022-01-05 06:13:57.000000000,2022-01-13 19:01:00.000000000,2022-01-13 19:01:00.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 06:13:57.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e078fc42de7a97d42e95301ccb0c68d5b0fb7bb', 'message': 'Handle ping test ips when not available\n\nDeploy without gateway in the network data, the ping test fails\nbecause no valid ip address. Added default value when not present.\n\nping_test_ips is a space separated string. Added default value as\nempty string. Also removed space (\' \') from split as by default\nsplit will work based on space. Adding space string creates list\nwith empty string [""""].\n\nping_test_gateway_ips is a list of ips. Added default value as [].\n\nChange-Id: I987e093fc1ebb8dc47b39b914483936b6e7e4d6b\n'}]",0,823478,4e078fc42de7a97d42e95301ccb0c68d5b0fb7bb,8,4,1,18575,,,0,"Handle ping test ips when not available

Deploy without gateway in the network data, the ping test fails
because no valid ip address. Added default value when not present.

ping_test_ips is a space separated string. Added default value as
empty string. Also removed space (' ') from split as by default
split will work based on space. Adding space string creates list
with empty string [""""].

ping_test_gateway_ips is a list of ips. Added default value as [].

Change-Id: I987e093fc1ebb8dc47b39b914483936b6e7e4d6b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/823478/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,4e078fc42de7a97d42e95301ccb0c68d5b0fb7bb,gateway_empty," tripleo_nodes_validation_ping_test_ips: ""{{ ping_test_ips.get(tripleo_role_name, '').split() | list | unique }}"" tripleo_nodes_validation_ping_test_gateway_ips: ""{{ ping_test_gateway_ips.get(tripleo_role_name, []) }}"""," tripleo_nodes_validation_ping_test_ips: ""{{ ping_test_ips.get(tripleo_role_name).split(' ') | list | unique }}"" tripleo_nodes_validation_ping_test_gateway_ips: ""{{ ping_test_gateway_ips.get(tripleo_role_name) }}""",2,2
openstack%2Ftripleo-operator-ansible~master~Ie2eb2c220fef9284bf5fa6ef6908a00839589649,openstack/tripleo-operator-ansible,master,Ie2eb2c220fef9284bf5fa6ef6908a00839589649,Add tripleo_upgrade role.,MERGED,2021-11-08 10:06:18.000000000,2022-01-13 18:55:06.000000000,2022-01-13 18:55:06.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 10:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a20ca393008040d534472804aaa8b5371ffc8e29', 'message': 'WIP: Add tripleo_upgrade role.\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}, {'number': 2, 'created': '2021-11-16 16:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/06de85fe56f717b5287b6fcd9f5f7075a2d7f5c9', 'message': 'WIP: Add tripleo_upgrade role.\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}, {'number': 3, 'created': '2021-11-24 11:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2ea72e8e4e77ba7f03c5275fb00452fab6758c17', 'message': 'Add tripleo_upgrade role.\n\nIncludes the role to automate the execution of the openstack\ntripleo upgrade command. As most of the code is shared with\ntripleo-deploy this role is mostly based on tripleo-deploy.\nThe only appreciable difference is that the --upgrade parameter\nis not being passed (as that is being passed to true when\ninvoking the Deploy class [0].\n\n[0] - https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/v1/tripleo_upgrade.py#L41\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}, {'number': 4, 'created': '2021-11-29 06:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7a75dd257f6bfdbb26fec1f7f2c4a315d6933e63', 'message': 'Add tripleo_upgrade role.\n\nIncludes the role to automate the execution of the openstack\ntripleo upgrade command. As most of the code is shared with\ntripleo-deploy this role is mostly based on tripleo-deploy.\nThe only appreciable difference is that the --upgrade parameter\nis not being passed (as that is being passed to true when\ninvoking the Deploy class [0].\n\n[0] - https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/v1/tripleo_upgrade.py#L41\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}, {'number': 5, 'created': '2021-12-13 13:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f4f2cf574fdba6a232bba16a4d078e0a45132777', 'message': 'Add tripleo_upgrade role.\n\nIncludes the role to automate the execution of the openstack\ntripleo upgrade command. As most of the code is shared with\ntripleo-deploy this role is mostly based on tripleo-deploy.\nThe only appreciable difference is that the --upgrade parameter\nis not being passed (as that is being passed to true when\ninvoking the Deploy class [0].\n\n[0] - https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/v1/tripleo_upgrade.py#L41\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}, {'number': 6, 'created': '2021-12-22 07:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/cf91c313086692952d546034e7d04cbc41fd81c3', 'message': 'Add tripleo_upgrade role.\n\nIncludes the role to automate the execution of the openstack\ntripleo upgrade command. As most of the code is shared with\ntripleo-deploy this role is mostly based on tripleo-deploy.\nThe only appreciable difference is that the --upgrade parameter\nis not being passed (as that is being passed to true when\ninvoking the Deploy class [0]).\n\n[0] - https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/v1/tripleo_upgrade.py#L41\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}, {'number': 7, 'created': '2021-12-22 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a2b371a5c1e8378ba024206a614a731268ef7887', 'message': 'Add tripleo_upgrade role.\n\nIncludes the role to automate the execution of the openstack\ntripleo upgrade command. As most of the code is shared with\ntripleo-deploy this role is mostly based on tripleo-deploy.\nThe only appreciable difference is that the --upgrade parameter\nis not being passed (as that is being passed to true when\ninvoking the Deploy class [0]).\n\n[0] - https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/v1/tripleo_upgrade.py#L41\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}, {'number': 8, 'created': '2022-01-13 09:03:36.000000000', 'files': ['roles/tripleo_upgrade/defaults/main.yml', 'roles/tripleo_upgrade/README.md', 'roles/tripleo_upgrade/molecule/default/molecule.yml', 'roles/tripleo_upgrade/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_upgrade/meta/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_upgrade/tests/test.yml', 'roles/tripleo_upgrade/tests/inventory', 'zuul.d/layout.yaml', 'roles/tripleo_upgrade/molecule/default/converge.yml', 'roles/tripleo_upgrade/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/1d330c9996fdd0086525539fc0a0e142b6af7994', 'message': 'Add tripleo_upgrade role.\n\nIncludes the role to automate the execution of the openstack\ntripleo upgrade command. As most of the code is shared with\ntripleo-deploy this role is mostly based on tripleo-deploy.\nThe only appreciable difference is that the --upgrade parameter\nis not being passed (as that is being passed to true when\ninvoking the Deploy class [0]).\n\n[0] - https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/v1/tripleo_upgrade.py#L41\n\nChange-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649\n'}]",7,816979,1d330c9996fdd0086525539fc0a0e142b6af7994,32,7,8,26343,,,0,"Add tripleo_upgrade role.

Includes the role to automate the execution of the openstack
tripleo upgrade command. As most of the code is shared with
tripleo-deploy this role is mostly based on tripleo-deploy.
The only appreciable difference is that the --upgrade parameter
is not being passed (as that is being passed to true when
invoking the Deploy class [0]).

[0] - https://github.com/openstack/python-tripleoclient/blob/master/tripleoclient/v1/tripleo_upgrade.py#L41

Change-Id: Ie2eb2c220fef9284bf5fa6ef6908a00839589649
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/79/816979/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_upgrade/defaults/main.yml', 'roles/tripleo_upgrade/defaults/.main.yml.un~', 'roles/tripleo_upgrade/molecule/default/prepare.yml', 'roles/tripleo_upgrade/meta/main.yml', 'roles/tripleo_upgrade/tests/test.yml', 'roles/tripleo_upgrade/README.md', 'roles/tripleo_upgrade/tests/inventory', 'roles/tripleo_upgrade/molecule/default/converge.yml', 'roles/tripleo_upgrade/molecule/default/molecule.yml', 'roles/tripleo_upgrade/tasks/main.yml']",10,a20ca393008040d534472804aaa8b5371ffc8e29,,"--- # tasks file for tripleo_deploy - name: Validate local ip is set fail: msg: ""tripleo_deploy_local_ip must be configured"" when: not tripleo_deploy_local_ip - name: Setup standalone deploy facts set_fact: _deploy_cmd: >- {{ openstack_bin }} tripleo deploy {{ tripleo_deploy_debug_arg | ternary('--debug', '') }} {{ tripleo_deploy_templates | ternary('--templates $DEPLOY_TEMPLATES', '') }} {{ tripleo_deploy_standalone | ternary('--standalone', '') }} {{ tripleo_deploy_upgrade | ternary('--upgrade', '') }} {{ tripleo_deploy_yes | ternary('--yes', '') }} {{ tripleo_deploy_output_dir | ternary('--output-dir $DEPLOY_OUTPUT_DIR', '') }} {{ tripleo_deploy_output_only | ternary('--output-only', '') }} {{ tripleo_deploy_stack | ternary('--stack $DEPLOY_STACK', '') }} {{ tripleo_deploy_standalone_role | ternary('--standalone-role $DEPLOY_STANDALONE_ROLE', '') }} {{ tripleo_deploy_timeout_arg | ternary('--timeout $DEPLOY_TIMEOUT_ARG', '') }} {{ tripleo_deploy_environment_files | tripleo.operator.shell_arg_list(parameter='-e') }} {{ tripleo_deploy_roles_file | ternary('-r $DEPLOY_ROLES_FILE', '') }} {{ tripleo_deploy_networks_file | ternary('-n $DEPLOY_NETWORKS_FILE', '') }} {{ tripleo_deploy_plan_environment_file | ternary('-p $DEPLOY_PLAN_ENV_FILE', '') }} {{ tripleo_deploy_heat_api_port | ternary('--heat-api-port $DEPLOY_HEAT_API_PORT', '') }} {{ tripleo_deploy_heat_container_image | ternary('--heat-container-image $DEPLOY_HEAT_CONTAINER_IMAGE', '') }} {{ tripleo_deploy_heat_user | ternary('--heat-user $DEPLOY_HEAT_USER', '') }} {{ tripleo_deploy_deployment_user | ternary('--deployment-user $DEPLOY_DEPLOYMENT_USER', '') }} {{ tripleo_deploy_deployment_python_interpreter | ternary('--deployment-python-interpreter $DEPLOY_PYTHON_INTERPRETER', '') }} {{ tripleo_deploy_local_ip | ternary('--local-ip $DEPLOY_LOCAL_IP', '') }} {{ tripleo_deploy_control_virtual_ip | ternary('--control-virtual-ip $DEPLOY_CONTROL_VIP', '') }} {{ tripleo_deploy_public_virtual_ip | ternary('--public-virtual-ip $DEPLOY_PUBLIC_VIP', '') }} {{ tripleo_deploy_local_domain | ternary('--local-domain $DEPLOY_LOCAL_DOMAIN', '') }} {{ tripleo_deploy_cleanup | ternary('--cleanup', '') }} {{ tripleo_deploy_hieradata_override | ternary('--hieradata-override $DEPLOY_HIERADATA_OVERRIDE', '') }} {{ tripleo_deploy_keep_running | ternary('--keep-running', '') }} {{ tripleo_deploy_inflight_validations | ternary('--inflight-validations', '') }} {{ tripleo_deploy_force_stack_create | ternary('--force-stack-create', '') }} {{ tripleo_deploy_force_stack_update | ternary('--force-stack-update', '') }} {{ tripleo_deploy_reproducer_command | ternary('--reproduce-command', '') }} {{ tripleo_deploy_log_output | ternary(("">"" ~ tripleo_deploy_log), '') }} {{ tripleo_deploy_log_combine | ternary(""2>&1"", '') }} _deploy_env: DEPLOY_CONTROL_VIP: ""{{ tripleo_deploy_control_virtual_ip }}"" DEPLOY_DEPLOYMENT_USER: ""{{ tripleo_deploy_deployment_user }}"" DEPLOY_HEAT_API_PORT: ""{{ tripleo_deploy_heat_api_port }}"" DEPLOY_HEAT_CONTAINER_IMAGE: ""{{ tripleo_deploy_heat_container_image }}"" DEPLOY_HEAT_USER: ""{{ tripleo_deploy_heat_user }}"" DEPLOY_HIERADATA_OVERRIDE: ""{{ tripleo_deploy_hieradata_override }}"" DEPLOY_LOCAL_DOMAIN: ""{{ tripleo_deploy_local_domain }}"" DEPLOY_LOCAL_IP: ""{{ tripleo_deploy_local_ip }}"" DEPLOY_NETWORKS_FILE: ""{{ tripleo_deploy_networks_file }}"" DEPLOY_OUTPUT_DIR: ""{{ tripleo_deploy_output_dir }}"" DEPLOY_PLAN_ENV_FILE: ""{{ tripleo_deploy_plan_environment_file }}"" DEPLOY_PUBLIC_VIP: ""{{ tripleo_deploy_public_virtual_ip }}"" DEPLOY_PYTHON_INTERPRETER: ""{{ tripleo_deploy_deployment_python_interpreter }}"" DEPLOY_ROLES_FILE: ""{{ tripleo_deploy_roles_file }}"" DEPLOY_STACK: ""{{ tripleo_deploy_stack }}"" DEPLOY_STANDALONE_ROLE: ""{{ tripleo_deploy_standalone_role }}"" DEPLOY_TEMPLATES: ""{{ tripleo_deploy_templates }}"" DEPLOY_TIMEOUT_ARG: ""{{ tripleo_deploy_timeout_arg }}"" - name: Preserve existing log file if exists timestamp_file: path: ""{{ tripleo_deploy_log }}"" when: tripleo_deploy_log_output|bool - name: Show debug information when: tripleo_deploy_debug|bool block: - name: Show the standalone deploy command debug: var: _deploy_cmd - name: Show the standalone deploy environment debug: var: _deploy_env - name: Write reproducer script tripleo_shell_script: dest: ""{{ tripleo_deploy_home_dir }}/tripleo_deploy.sh"" shell_command: ""{{ _deploy_cmd }}"" shell_environment: ""{{ _deploy_env }}"" when: tripleo_deploy_generate_scripts|bool - name: Standalone deploy shell: ""{{ _deploy_cmd }}"" # noqa 305 environment: ""{{ _deploy_env }}"" args: executable: /bin/bash chdir: ""{{ tripleo_deploy_home_dir }}"" warn: false become: ""{{ tripleo_deploy_become }}"" register: tripleo_deploy_result async: ""{{ tripleo_deploy_timeout }}"" poll: ""{{ tripleo_deploy_poll }}"" changed_when: false when: - not ansible_check_mode|bool - not tripleo_deploy_generate_scripts_only|bool - name: Set output fact when: - tripleo_deploy_result.stdout is defined set_fact: tripleo_deploy_output: ""{{ tripleo_deploy_result.stdout }}"" ",,750,0
openstack%2Fironic~stable%2Fvictoria~I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,openstack/ironic,stable/victoria,I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,Ensure 'port' is up2date after binding:host_id,MERGED,2022-01-12 00:45:45.000000000,2022-01-13 18:53:08.000000000,2022-01-13 18:50:28.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-12 00:45:45.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/87f15ec6e7ea14b5a1192f66ec75fb4c5d6633d8', 'message': ""Ensure 'port' is up2date after binding:host_id\n\nOn neutron routed provider networks IP allocation is\ndeferred until 'binding:host_id' is set. When ironic\ncreates neutron ports it first creates the port, then\nupdates the port setting binding information.\n\nWhen using IPv6 networking ironic adds additional address\nallocations to ensure network chain-booting will succeed.\nWhen address allocation is deferred on port create ironic\ncannot detect that IPv6 is used and does not add the\nrequired additional addresses.\n\nThis change ensures the 'port' object is updated after the\nport update setting the port binding required for neutron\nto allocate the address. This allows ironic to correctly\ndetect IPv6 is used, and it will add the required IP\naddress allocations.\n\nStory: 2009773\nTask: 44254\nChange-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2\n(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)\n""}]",1,824165,87f15ec6e7ea14b5a1192f66ec75fb4c5d6633d8,14,3,1,24245,,,0,"Ensure 'port' is up2date after binding:host_id

On neutron routed provider networks IP allocation is
deferred until 'binding:host_id' is set. When ironic
creates neutron ports it first creates the port, then
updates the port setting binding information.

When using IPv6 networking ironic adds additional address
allocations to ensure network chain-booting will succeed.
When address allocation is deferred on port create ironic
cannot detect that IPv6 is used and does not add the
required additional addresses.

This change ensures the 'port' object is updated after the
port update setting the port binding required for neutron
to allocate the address. This allows ironic to correctly
detect IPv6 is used, and it will add the required IP
address allocations.

Story: 2009773
Task: 44254
Change-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2
(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/824165/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml']",3,87f15ec6e7ea14b5a1192f66ec75fb4c5d6633d8,story/2009773-stable/victoria,--- fixes: - | Fixed an issue where provisioning/cleaning would fail on IPv6 routed provider networks. See bug: `2009773 <https://storyboard.openstack.org/#!/story/2009773>`_. ,,13,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~If6513d299bc3efd9316dd76c06ff9145257b8ea9,openstack/tripleo-upgrade,stable/train,If6513d299bc3efd9316dd76c06ff9145257b8ea9,[FFWD upgrade] Adding support of live/cold migration with external workload,MERGED,2021-08-02 16:54:09.000000000,2022-01-13 18:43:59.000000000,2022-01-13 18:43:59.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 10034}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 26343}, {'_account_id': 29455}, {'_account_id': 31033}, {'_account_id': 34334}]","[{'number': 1, 'created': '2021-08-02 16:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/849d60002b0f0609d51e6da1c96fc7d66085406b', 'message': '[stable/train][FFWD upgrade] Adding support of live/cold migration with external workload\n\nCherry pick of 802524\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}, {'number': 2, 'created': '2021-08-02 16:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3a3990ac97e528b8ea1b3a1bb636ee334115bc21', 'message': '[FFWD upgrade] Adding support of live/cold migration with external workload\n\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}, {'number': 3, 'created': '2021-10-07 14:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3c70fefc4aa6712fa6f08bf30d0d4928b3f51daf', 'message': '[FFWD upgrade] Adding support of live/cold migration with external workload\n\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}, {'number': 4, 'created': '2021-10-09 08:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/67a08bb1a12f58d453388deb1ea3246cebd0ee98', 'message': '[FFWD upgrade] Adding support of live/cold migration with external workload\n\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}, {'number': 5, 'created': '2021-10-11 09:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/513a2b7dfa3ecf966368285daf169c7c86074cc0', 'message': '[FFWD upgrade] Adding support of live/cold migration with external workload\n\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nAnother fix for the cold_migration in node_upgrade_pre.sh.j2\nEntered in the following patch\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/793113\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}, {'number': 6, 'created': '2021-10-11 15:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2a13b5e45987554800143346ed3f35bc36fc7f62', 'message': '[FFWD upgrade] Adding support of live/cold migration with external workload\n\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nAnother fix for the cold_migration in node_upgrade_pre.sh.j2\nEntered in the following patch\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/793113\n\nAdding the following patch\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/813445\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}, {'number': 7, 'created': '2021-10-11 16:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c03f8a9f421293729e63cc1c207d2034840abe94', 'message': '[FFWD upgrade] Adding support of live/cold migration with external workload\n\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nAnother fix for the cold_migration in node_upgrade_pre.sh.j2\nEntered in the following patch\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/793113\n\nAdding the following patch\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/813445\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}, {'number': 8, 'created': '2021-11-29 13:03:36.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/537582fa5511a8748e1c1d8255bacbc4c24b7b38', 'message': '[FFWD upgrade] Adding support of live/cold migration with external workload\n\nThe follwoing merged patch broke migration script creation for external\nworkload support, workload not run by tripleo-upgrade.\n\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/797334\n\nNew parameter workload_external introduced to support workload\nnot generated by tripleo-upgrade project, to support script creation & run\nof overcloud vm migration during compute upgrade.\n\nAnother fix for the cold_migration in node_upgrade_pre.sh.j2\nEntered in the following patch\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/793113\n\nAdding the following patch\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/813445\n\nChange-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9\n'}]",10,803236,537582fa5511a8748e1c1d8255bacbc4c24b7b38,29,12,8,20171,,,0,"[FFWD upgrade] Adding support of live/cold migration with external workload

The follwoing merged patch broke migration script creation for external
workload support, workload not run by tripleo-upgrade.

https://review.opendev.org/c/openstack/tripleo-upgrade/+/797334

New parameter workload_external introduced to support workload
not generated by tripleo-upgrade project, to support script creation & run
of overcloud vm migration during compute upgrade.

Another fix for the cold_migration in node_upgrade_pre.sh.j2
Entered in the following patch
https://review.opendev.org/c/openstack/tripleo-upgrade/+/793113

Adding the following patch
https://review.opendev.org/c/openstack/tripleo-upgrade/+/813445

Change-Id: If6513d299bc3efd9316dd76c06ff9145257b8ea9
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/36/803236/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'defaults/main.yml']",4,849d60002b0f0609d51e6da1c96fc7d66085406b,add-ext-workload-var-train,# workload exist prior to upgrade workload_external: false,,9,2
openstack%2Fnova-specs~master~Iaa03fad3e749e9d018d0806e4f6ec32521219bd5,openstack/nova-specs,master,Iaa03fad3e749e9d018d0806e4f6ec32521219bd5,lightos- fix blueprint url,MERGED,2022-01-13 17:34:20.000000000,2022-01-13 18:23:06.000000000,2022-01-13 18:20:35.000000000,"[{'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 17:34:20.000000000', 'files': ['specs/yoga/approved/lightos_volume_driver.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/793dd029b6afe9956432f3cc42ea89f4d5e458eb', 'message': 'lightos- fix blueprint url\n\nChange-Id: Iaa03fad3e749e9d018d0806e4f6ec32521219bd5\n'}]",1,824633,793dd029b6afe9956432f3cc42ea89f4d5e458eb,7,2,1,33612,,,0,"lightos- fix blueprint url

Change-Id: Iaa03fad3e749e9d018d0806e4f6ec32521219bd5
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/33/824633/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/lightos_volume_driver.rst'],1,793dd029b6afe9956432f3cc42ea89f4d5e458eb,bp/url,https://blueprints.launchpad.net/nova/+spec/nova-support-lightos-driver,https://blueprints.launchpad.net/nova/spec/nova-support-lightos-driver,1,1
openstack%2Fkayobe~stable%2Fvictoria~I65631db4c4fd2a3248cfb182d78f4c71683dc150,openstack/kayobe,stable/victoria,I65631db4c4fd2a3248cfb182d78f4c71683dc150,Pin rich to <11 due to breaking ansible-lint in kayobe-tox-molecule,MERGED,2022-01-11 09:17:47.000000000,2022-01-13 18:17:22.000000000,2022-01-13 18:15:01.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-11 09:17:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e2605a2f0bce4b64702cda7332aa356af18148e4', 'message': ""Pin rich to <11 due to breaking ansible-lint in kayobe-tox-molecule\n\nWith rich 11+ we see the following issue when linting in the molecule job:\n\nImportError: cannot import name 'render_group' from 'rich.console'\n\nChange-Id: I65631db4c4fd2a3248cfb182d78f4c71683dc150\n""}]",7,824103,e2605a2f0bce4b64702cda7332aa356af18148e4,22,3,1,14826,,,0,"Pin rich to <11 due to breaking ansible-lint in kayobe-tox-molecule

With rich 11+ we see the following issue when linting in the molecule job:

ImportError: cannot import name 'render_group' from 'rich.console'

Change-Id: I65631db4c4fd2a3248cfb182d78f4c71683dc150
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/824103/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e2605a2f0bce4b64702cda7332aa356af18148e4,,# rich 11 introduced a change that breaks ansible-lint. rich<11,,2,0
openstack%2Fdevstack~master~I5c57b9116338a63b7bfb170c02e33bb4eae725da,openstack/devstack,master,I5c57b9116338a63b7bfb170c02e33bb4eae725da,Clean up compile_ovn function's parameters,MERGED,2021-12-22 15:02:21.000000000,2022-01-13 17:53:51.000000000,2022-01-13 17:43:51.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-12-22 15:02:21.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/588894753971c32f6fff9b2158c3427b012cf9ec', 'message': 'Clean up compile_ovn function\'s parameters\n\nThat function was accepting 3 positional arguments and first\nof them was boolean value ""build_modules"" which isn\'t used anywhere in\nthat function.\nSo this patch cleans it a bit by removing that not used parameter.\n\nChange-Id: I5c57b9116338a63b7bfb170c02e33bb4eae725da\n'}]",6,822717,588894753971c32f6fff9b2158c3427b012cf9ec,16,7,1,11975,,,0,"Clean up compile_ovn function's parameters

That function was accepting 3 positional arguments and first
of them was boolean value ""build_modules"" which isn't used anywhere in
that function.
So this patch cleans it a bit by removing that not used parameter.

Change-Id: I5c57b9116338a63b7bfb170c02e33bb4eae725da
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/822717/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,588894753971c32f6fff9b2158c3427b012cf9ec,clean-compile-ovn-function,# - first optional parameter defines prefix for# - second optional parameter defines localstatedir for local prefix=$1 local localstatedir=$2 compile_ovn,# - first optional is False by default and means that # modules are built and installed. # - second optional parameter defines prefix for# - third optional parameter defines localstatedir for local build_modules=${1:-False} local prefix=$2 local localstatedir=$3 compile_ovn $OVN_BUILD_MODULES,5,8
openstack%2Fneutron~master~If313ec090919206e7de7492c7b82c44be3eceff0,openstack/neutron,master,If313ec090919206e7de7492c7b82c44be3eceff0,doc: Change availability of QoS policy change,MERGED,2021-09-17 09:03:22.000000000,2022-01-13 17:53:39.000000000,2022-01-13 17:44:55.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-09-17 09:03:22.000000000', 'files': ['doc/source/admin/config-qos-min-bw.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f546c11b331b5c5827648c35f6a63f69537a6ebd', 'message': 'doc: Change availability of QoS policy change\n\n[1] allowed to change QoS policy of a bound port, but finally got only\nmerged during Wallaby cycle. The documentation (see [2]) says that it is\navailable from Victoria.\nFix this to avoid misunderstandings.\n\n[1]: https://review.opendev.org/c/openstack/neutron/+/747774\n[2]: https://docs.openstack.org/neutron/xena/admin/config-qos-min-bw.html#limitations\n\nChange-Id: If313ec090919206e7de7492c7b82c44be3eceff0\n'}]",0,809579,f546c11b331b5c5827648c35f6a63f69537a6ebd,10,5,1,8313,,,0,"doc: Change availability of QoS policy change

[1] allowed to change QoS policy of a bound port, but finally got only
merged during Wallaby cycle. The documentation (see [2]) says that it is
available from Victoria.
Fix this to avoid misunderstandings.

[1]: https://review.opendev.org/c/openstack/neutron/+/747774
[2]: https://docs.openstack.org/neutron/xena/admin/config-qos-min-bw.html#limitations

Change-Id: If313ec090919206e7de7492c7b82c44be3eceff0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/809579/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos-min-bw.rst'],1,f546c11b331b5c5827648c35f6a63f69537a6ebd,qos_update_release, changes placement ``allocations`` from Wallaby release., changes placement ``allocations`` from Victoria release.,1,1
openstack%2Fdevstack~stable%2Fvictoria~I36751569d92fbc5084b8308d423a75318ae7d406,openstack/devstack,stable/victoria,I36751569d92fbc5084b8308d423a75318ae7d406,Drop CentOS8 job and nodeset,MERGED,2022-01-12 02:26:21.000000000,2022-01-13 17:51:25.000000000,2022-01-13 17:43:40.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-01-12 02:26:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3602e4349b9dcdea1865465342b192cfae3ca377', 'message': 'Drop CentOS8 job and nodeset\n\nCentOS8 is going to be EOL soon and opendev\nis planning to drop the centOS8 image from CI\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDevstack stable/wallaby and onwards has replaced the\ncentOS testing with centOS Stream. For older stable branches\n(<= stable/victoria) we can either replace it with centOS Steam\nor do the removal of CentOS8 and adding CentOS Stream testing\nin two steps 1. drop the centOS8 testing as it cannot\nbe supported in CI 2. add centOS Stream job if possible.\n\nThis commit propose the step 1 as required by opendev image removal.\n\n[Stable only]\n\nChange-Id: I36751569d92fbc5084b8308d423a75318ae7d406\n'}]",1,824275,3602e4349b9dcdea1865465342b192cfae3ca377,8,3,1,8556,,,0,"Drop CentOS8 job and nodeset

CentOS8 is going to be EOL soon and opendev
is planning to drop the centOS8 image from CI
- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Devstack stable/wallaby and onwards has replaced the
centOS testing with centOS Stream. For older stable branches
(<= stable/victoria) we can either replace it with centOS Steam
or do the removal of CentOS8 and adding CentOS Stream testing
in two steps 1. drop the centOS8 testing as it cannot
be supported in CI 2. add centOS Stream job if possible.

This commit propose the step 1 as required by opendev image removal.

[Stable only]

Change-Id: I36751569d92fbc5084b8308d423a75318ae7d406
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/824275/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3602e4349b9dcdea1865465342b192cfae3ca377,remove-centos-8,, name: devstack-single-node-centos-8 nodes: - name: controller label: centos-8 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-centos-8 parent: tempest-full-py3 description: Centos 8 platform test nodeset: devstack-single-node-centos-8 voting: false timeout: 9000 - job: - devstack-platform-centos-8,0,19
openstack%2Fproject-config~master~I93aa9fe3ab089bbeae2b87881bfc931f4ddf0204,openstack/project-config,master,I93aa9fe3ab089bbeae2b87881bfc931f4ddf0204,Add the cinder-nimblestorage charm to Openstack charms,MERGED,2022-01-13 14:34:46.000000000,2022-01-13 17:31:48.000000000,2022-01-13 16:08:38.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 14:34:46.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6da447e2b2165055a1aa19ce4812e76087c27b73', 'message': 'Add the cinder-nimblestorage charm to Openstack charms\n\nThis charm implements a nimblestorage backend for cinder, acting as\na subordinate charm.\n\nChange-Id: I93aa9fe3ab089bbeae2b87881bfc931f4ddf0204\n'}]",0,824584,6da447e2b2165055a1aa19ce4812e76087c27b73,9,3,1,33741,,,0,"Add the cinder-nimblestorage charm to Openstack charms

This charm implements a nimblestorage backend for cinder, acting as
a subordinate charm.

Change-Id: I93aa9fe3ab089bbeae2b87881bfc931f4ddf0204
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/824584/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,6da447e2b2165055a1aa19ce4812e76087c27b73,, - openstack/charm-cinder-nimblestorage,,7,0
openstack%2Fmanila~stable%2Fussuri~I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47,openstack/manila,stable/ussuri,I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47,handle replica state on migration complete,MERGED,2021-10-26 23:44:24.000000000,2022-01-13 17:10:35.000000000,2022-01-13 16:56:43.000000000,"[{'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-10-26 23:44:24.000000000', 'files': ['manila/share/manager.py', 'manila/tests/share/test_manager.py', 'releasenotes/notes/bug-1927060-fix-replica-state-on-migration-complete-4fb4d8ba59b58505.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/9e05f681e8f21b7133308187738db3199615b6ad', 'message': ""handle replica state on migration complete\n\nSet share instance replica_state to 'active' after successful migration\nif the share is involved in a replication setup.\n\nChange-Id: I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47\nCloses-Bug: #1927060\n(cherry picked from commit 68e3783522d363bdc6f21b9940a12ea36fc79375)\n(cherry picked from commit 9749a0a9a8ce21f4616f844114056cdb1ee8249f)\n(cherry picked from commit 4f45cd00e083373045ee6ff993ca78a255fe36fe)\n""}]",5,815569,9e05f681e8f21b7133308187738db3199615b6ad,15,4,1,16643,,,0,"handle replica state on migration complete

Set share instance replica_state to 'active' after successful migration
if the share is involved in a replication setup.

Change-Id: I6cf8a08379b2f2b0fd1bcada4cd20c39adc01f47
Closes-Bug: #1927060
(cherry picked from commit 68e3783522d363bdc6f21b9940a12ea36fc79375)
(cherry picked from commit 9749a0a9a8ce21f4616f844114056cdb1ee8249f)
(cherry picked from commit 4f45cd00e083373045ee6ff993ca78a255fe36fe)
",git fetch https://review.opendev.org/openstack/manila refs/changes/69/815569/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/tests/share/test_manager.py', 'releasenotes/notes/bug-1927060-fix-replica-state-on-migration-complete-4fb4d8ba59b58505.yaml']",3,9e05f681e8f21b7133308187738db3199615b6ad,bug/1927060,"--- fixes: - | Fixed an issue that made migrated shares with replication support to do not have a share instance with its `replica_state` set to active. Now, when the share supports replication, the destination share instance will have its replica state set as active right after the migration gets completed. For more details, please refer to `bug 1927060 <https://bugs.launchpad.net/manila/+bug/1927060>`_ ",,63,27
openstack%2Fopenstack-ansible-os_murano~master~I86ca88111d3acfe506d91db09183396276b0891e,openstack/openstack-ansible-os_murano,master,I86ca88111d3acfe506d91db09183396276b0891e,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:53:00.000000000,2022-01-13 17:09:31.000000000,2022-01-13 17:05:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/068eeafb6ab5dc3f8d13224899c366990db6d5a7', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I86ca88111d3acfe506d91db09183396276b0891e\n'}, {'number': 2, 'created': '2022-01-12 17:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/ee72b811f498eb5327bd32b7adc27cc817f17a93', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I86ca88111d3acfe506d91db09183396276b0891e\n'}, {'number': 3, 'created': '2022-01-12 18:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/c01f67e5a302c00ae95bb0741fdc5b16ac5015b0', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I86ca88111d3acfe506d91db09183396276b0891e\n'}, {'number': 4, 'created': '2022-01-13 11:15:54.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/6d4cb8cbf1b8ba28d9b77af2e58092a6f2ca6b5a', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I86ca88111d3acfe506d91db09183396276b0891e\n'}]",2,824382,6d4cb8cbf1b8ba28d9b77af2e58092a6f2ca6b5a,16,3,4,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I86ca88111d3acfe506d91db09183396276b0891e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/82/824382/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,068eeafb6ab5dc3f8d13224899c366990db6d5a7,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Ftripleo-heat-templates~master~I28343f260a8b9b1d4515ccd7e9e621cddac448b3,openstack/tripleo-heat-templates,master,I28343f260a8b9b1d4515ccd7e9e621cddac448b3,Add ironic-inspector TLS endpoint port to be reachable,MERGED,2022-01-11 22:37:00.000000000,2022-01-13 17:09:31.000000000,2022-01-13 17:05:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-11 22:37:00.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'releasenotes/notes/add-ironic-inspector-tls-port-4e59d0c2b2922f68.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d57f9a87782f12e8cc1736d8700d3bd251ea61f5', 'message': ""Add ironic-inspector TLS endpoint port to be reachable\n\nIn BMaaS configs, such as where one may use an undercloud or a remote host,\none may use the legacy means of invoking introspection of a baremetal node,\nwhich is to call the inspector API directly.\n\nWhile ironic's API also supports this capability through a state change,\npeople still do it, and it is easy to miss on an undercloud as your typically\ndirectly interacting with the software running locally. But when the API\nendpoint is remote, you cannot connect to it if it is not permitted via the\nfirewall.\n\nChange-Id: I28343f260a8b9b1d4515ccd7e9e621cddac448b3\n""}]",0,824251,d57f9a87782f12e8cc1736d8700d3bd251ea61f5,9,4,1,11655,,,0,"Add ironic-inspector TLS endpoint port to be reachable

In BMaaS configs, such as where one may use an undercloud or a remote host,
one may use the legacy means of invoking introspection of a baremetal node,
which is to call the inspector API directly.

While ironic's API also supports this capability through a state change,
people still do it, and it is easy to miss on an undercloud as your typically
directly interacting with the software running locally. But when the API
endpoint is remote, you cannot connect to it if it is not permitted via the
firewall.

Change-Id: I28343f260a8b9b1d4515ccd7e9e621cddac448b3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/824251/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'releasenotes/notes/add-ironic-inspector-tls-port-4e59d0c2b2922f68.yaml']",2,d57f9a87782f12e8cc1736d8700d3bd251ea61f5,,"--- fixes: - | Adds the port used for directly accessing Ironic-Inspector using TLS, 13050, to the list of ports to permit inbound connections on. ",,6,0
openstack%2Fproject-config~master~I523074a9578bf5f327608de0a4144a0597a65287,openstack/project-config,master,I523074a9578bf5f327608de0a4144a0597a65287,Add the cinder-solidfire charm to Openstack charms,MERGED,2022-01-07 14:00:49.000000000,2022-01-13 16:56:55.000000000,2022-01-13 16:02:38.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 14:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0bef6d32b6eb4a1ddc3e7ac85f5ec17fac5d27d7', 'message': 'Add the cinder-solidfire charm to Openstack charms\n\nThis charm implements a solidfire backend for cinder, acting as\na subordinate charm.\n\nChange-Id: I523074a9578bf5f327608de0a4144a0597a65287\n'}, {'number': 2, 'created': '2022-01-07 14:08:32.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c8b25b94227cc9fff2f0c4092ab28a3e64ed1459', 'message': 'Add the cinder-solidfire charm to Openstack charms\n\nThis charm implements a solidfire backend for cinder, acting as\na subordinate charm.\n\nChange-Id: I523074a9578bf5f327608de0a4144a0597a65287\n'}]",6,823803,c8b25b94227cc9fff2f0c4092ab28a3e64ed1459,16,5,2,33741,,,0,"Add the cinder-solidfire charm to Openstack charms

This charm implements a solidfire backend for cinder, acting as
a subordinate charm.

Change-Id: I523074a9578bf5f327608de0a4144a0597a65287
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/823803/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,0bef6d32b6eb4a1ddc3e7ac85f5ec17fac5d27d7,,- project: openstack/charm-cinder-solidfire description: Juju Charm - Cinder SolidFire backend acl-config: /home/gerrit2/acls/openstack/charm.config upstream: https://github.com/gustavosr98/charm-cinder-solidfire options: - delay-release ,,6,0
openstack%2Fopenstack-ansible-os_keystone~master~I178b287a604755c0001084e8693afb9a1f080e9b,openstack/openstack-ansible-os_keystone,master,I178b287a604755c0001084e8693afb9a1f080e9b,Use memcached plugin from collection,MERGED,2022-01-11 13:57:15.000000000,2022-01-13 16:47:08.000000000,2022-01-13 16:44:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 13:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e25505df96b7f44227d417fd025060f0e6f9c605', 'message': 'Use memcached plugin from collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nChange-Id: I178b287a604755c0001084e8693afb9a1f080e9b\n'}, {'number': 2, 'created': '2022-01-11 14:03:01.000000000', 'files': ['tasks/keystone_idp_sp_setup.yml', 'tasks/keystone_idp_self_signed_distribute.yml', 'tasks/keystone_idp_self_signed_store.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d5bb4643b020bf23fbf877e3d95e06cbcdcc66fa', 'message': 'Use memcached plugin from collection\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148\nChange-Id: I178b287a604755c0001084e8693afb9a1f080e9b\n'}]",0,824183,d5bb4643b020bf23fbf877e3d95e06cbcdcc66fa,11,4,2,28619,,,0,"Use memcached plugin from collection

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/824148
Change-Id: I178b287a604755c0001084e8693afb9a1f080e9b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/83/824183/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_idp_self_signed_distribute.yml', 'tasks/keystone_idp_self_signed_store.yml']",2,e25505df96b7f44227d417fd025060f0e6f9c605,osa/plugins_collection, openstack.osa.memcached:, memcached:,2,2
openstack%2Fopenstack-ansible~master~I271cb363682946f11fbd106fe068493b5ec566da,openstack/openstack-ansible,master,I271cb363682946f11fbd106fe068493b5ec566da,Enable senlin tempest plugin when senlin is deployed,NEW,2020-09-24 14:06:08.000000000,2022-01-13 16:38:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-24 14:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/921e8bd7b198bd81b4a8a50b19e2e09211e670e6', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 2, 'created': '2020-09-24 16:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/73c152d57039920ffac80b410972d2ddbfa61811', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 3, 'created': '2021-04-29 15:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/23cfea6d46deff202e019be29dce7f5b91c47fa1', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 4, 'created': '2021-05-03 12:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bc871f64080b8e9cbf3a67aed99b1111b86a1ede', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 5, 'created': '2021-05-03 15:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/709f8077f9a02604ff00646af05a823537a8d8df', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 6, 'created': '2021-06-16 09:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4fd24cca6c5380c9114dbf380981a1fa2c04054f', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 7, 'created': '2021-06-25 10:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00a16a968af005c737855d83c9a00fdf0f7ed1ed', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 8, 'created': '2021-06-25 12:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a640ae340b3f60811447f95a88b4d947230ea37', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 9, 'created': '2021-06-25 12:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33b95830f805f81e39a64293d0d80e663256f713', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 10, 'created': '2021-06-27 10:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a44bbd9a7cc9ca3aa57856689bd29897736b4fd3', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}, {'number': 11, 'created': '2022-01-13 13:02:47.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_senlin.yml.j2', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/38fe0a389105cf31081b6e9aa67eefcb93d6282f', 'message': 'Enable senlin tempest plugin when senlin is deployed\n\nChange-Id: I271cb363682946f11fbd106fe068493b5ec566da\n'}]",2,754105,38fe0a389105cf31081b6e9aa67eefcb93d6282f,31,2,11,25023,,,0,"Enable senlin tempest plugin when senlin is deployed

Change-Id: I271cb363682946f11fbd106fe068493b5ec566da
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/754105/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_senlin.j2']",2,921e8bd7b198bd81b4a8a50b19e2e09211e670e6,754105,"--- # Copyright 2020, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. tempest_test_whitelist: - senlin_tempest_plugin.tests ",,20,1
openstack%2Fopenstack-ansible~master~I75886544804b4a2d5b72a5b6adcfdf5b876f8ce2,openstack/openstack-ansible,master,I75886544804b4a2d5b72a5b6adcfdf5b876f8ce2,[doc] Document usage of the user-collection-requirements,MERGED,2021-02-18 08:41:09.000000000,2022-01-13 16:15:02.000000000,2022-01-13 16:05:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-18 08:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4cc136eac223c0202122266ce4329a069c6665d', 'message': '[doc] Document usage of the user-collection-requirements\n\nChange-Id: I75886544804b4a2d5b72a5b6adcfdf5b876f8ce2\n'}, {'number': 2, 'created': '2022-01-04 13:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5e7a87992c0589813fe54b05b6cff98beb820191', 'message': '[doc] Document usage of the user-collection-requirements\n\nChange-Id: I75886544804b4a2d5b72a5b6adcfdf5b876f8ce2\n'}, {'number': 3, 'created': '2022-01-04 13:49:43.000000000', 'files': ['doc/source/reference/configuration/extending-osa.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5872ee43ecdd34630f7205b080ee70831714fc5c', 'message': '[doc] Document usage of the user-collection-requirements\n\nChange-Id: I75886544804b4a2d5b72a5b6adcfdf5b876f8ce2\n'}]",0,776405,5872ee43ecdd34630f7205b080ee70831714fc5c,12,3,3,28619,,,0,"[doc] Document usage of the user-collection-requirements

Change-Id: I75886544804b4a2d5b72a5b6adcfdf5b876f8ce2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/776405/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/configuration/extending-osa.rst'],1,b4cc136eac223c0202122266ce4329a069c6665d,,Adding new collections in your OpenStack-Ansible installation ------------------------------------------------------------- The Victoria release of openstack-ansible adds an optional new config file which defaults to ``/etc/openstack_deploy/user-collection-requirements.yml``. It should be in the native format of the _ansible-galaxy requirements file and can be used to add new collections to the deploy host. You can override location of the ``user-collection-requirements.yml`` by setting ``USER_COLLECTION_FILE`` environment variable before running the ``bootstrap-ansible.sh`` script. .. _ansible-galaxy: https://docs.ansible.com/ansible/latest/galaxy/user_guide.html#install-multiple-collections-with-a-requirements-file,,13,1
openstack%2Fopenstack-ansible-os_senlin~master~I2661b19bc410bd5691cbc57d522acf81582dd5af,openstack/openstack-ansible-os_senlin,master,I2661b19bc410bd5691cbc57d522acf81582dd5af,DNM - test patch for senlin tempest testing,NEW,2020-09-24 09:34:47.000000000,2022-01-13 16:10:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-09-24 09:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/0644d4c6c1d079b5dc2e3fedec38509f05ec8f57', 'message': 'DNM - test patch for senlin tempest testing\n\nDepends-On: https://review.opendev.org/754044\nDepends-On: https://review.opendev.org/749874\nChange-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af\n'}, {'number': 2, 'created': '2020-09-24 14:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/457de01b2e0e19e4f118360c4745370f9ed24b18', 'message': 'DNM - test patch for senlin tempest testing\n\nDepends-On: https://review.opendev.org/754044\nDepends-On: https://review.opendev.org/749874\nDepends-On: https://review.opendev.org/754105\nChange-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af\n'}, {'number': 3, 'created': '2021-01-15 14:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/fa89408f8d1cee1499f95fbf6a67144ae068fa7f', 'message': 'DNM - test patch for senlin tempest testing\n\nDepends-On: https://review.opendev.org/754044\nDepends-On: https://review.opendev.org/749874\nDepends-On: https://review.opendev.org/754105\nChange-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af\n'}, {'number': 4, 'created': '2021-04-27 18:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/baced81b51ea2be12503e6660793f19a4cded38b', 'message': 'DNM - test patch for senlin tempest testing\n\nDepends-On: https://review.opendev.org/754044\nDepends-On: https://review.opendev.org/749874\nDepends-On: https://review.opendev.org/754105\nChange-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af\n'}, {'number': 5, 'created': '2021-05-13 09:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/016c78ff79d8c380d60d29d77aceba6002b9bf11', 'message': 'DNM - test patch for senlin tempest testing\n\nDepends-On: https://review.opendev.org/754105\nDepends-On: https://review.opendev.org/788031\nChange-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af\n'}, {'number': 6, 'created': '2021-06-16 09:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/40cc53c9c8c7e8dbf9c2b8335f43f9ad8e952dcb', 'message': 'DNM - test patch for senlin tempest testing\n\nDepends-On: https://review.opendev.org/754105\nChange-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af\n'}, {'number': 7, 'created': '2022-01-13 13:03:23.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/138320bc03a14b68265ed3989c1aa21224bf57ab', 'message': 'DNM - test patch for senlin tempest testing\n\nDepends-On: https://review.opendev.org/754105\nChange-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af\n'}]",0,754045,138320bc03a14b68265ed3989c1aa21224bf57ab,45,2,7,25023,,,0,"DNM - test patch for senlin tempest testing

Depends-On: https://review.opendev.org/754105
Change-Id: I2661b19bc410bd5691cbc57d522acf81582dd5af
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/45/754045/7 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,0644d4c6c1d079b5dc2e3fedec38509f05ec8f57,,,,0,0
openstack%2Fopenstack-ansible~master~Idb16b1f8600bac5fdb5e08c9cdad9a7edd05717e,openstack/openstack-ansible,master,Idb16b1f8600bac5fdb5e08c9cdad9a7edd05717e,Disable zun volume test,MERGED,2022-01-05 13:07:43.000000000,2022-01-13 16:10:19.000000000,2022-01-13 16:05:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-05 13:07:43.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_zun.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/de0e7e7cde4241ea09bc568cedc993ded694b8e9', 'message': 'Disable zun volume test\n\nThis is blocking removal of centos-8 testing from the zun repo\n\nChange-Id: Idb16b1f8600bac5fdb5e08c9cdad9a7edd05717e\n'}]",0,823517,de0e7e7cde4241ea09bc568cedc993ded694b8e9,8,3,1,25023,,,0,"Disable zun volume test

This is blocking removal of centos-8 testing from the zun repo

Change-Id: Idb16b1f8600bac5fdb5e08c9cdad9a7edd05717e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/823517/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_zun.yml.j2'],1,de0e7e7cde4241ea09bc568cedc993ded694b8e9,, - test: zun_tempest_plugin.tests.tempest.api.test_containers.TestContainer.test_run_container_with_cinder_volume_dynamic_created reason: Cinder volume error,,2,0
openstack%2Fopenstack-ansible~master~I11ee0789c615714186edbf281b8654da379d998e,openstack/openstack-ansible,master,I11ee0789c615714186edbf281b8654da379d998e,docs: indicate how to override upper constraints,MERGED,2022-01-04 13:32:02.000000000,2022-01-13 16:05:46.000000000,2022-01-13 16:05:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-04 13:32:02.000000000', 'files': ['doc/source/reference/configuration/using-overrides.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a749517ffbb511fb51c76d46da39a64a72d78805', 'message': 'docs: indicate how to override upper constraints\n\nOpenStack requirements can be overridden by defining your own\ngit repo and constraints file. This documentation indicates how\nto make use of this in a similar way to other repo overrides.\n\nChange-Id: I11ee0789c615714186edbf281b8654da379d998e\n'}]",3,823393,a749517ffbb511fb51c76d46da39a64a72d78805,10,3,1,31542,,,0,"docs: indicate how to override upper constraints

OpenStack requirements can be overridden by defining your own
git repo and constraints file. This documentation indicates how
to make use of this in a similar way to other repo overrides.

Change-Id: I11ee0789c615714186edbf281b8654da379d998e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/823393/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/configuration/using-overrides.rst'],1,a749517ffbb511fb51c76d46da39a64a72d78805,," Overriding OpenStack upper constraints ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Each OpenStack release uses an ``upper-constraints.txt`` file to define the maximum permitted version of each Python package. In some cases it may be necessary to override this file, for example when your local deployment needs to take advantage of a bug fix. Care should be taken when modifying this file as OpenStack services may not have been tested against more recent package versions. To override the upper constraints for a deployment, clone the OpenStack requirements git repository, either storing it as a fork at a URL of your choice, or within the local filesystem of the host you are using to deploy OpenStack Ansible from. Once cloned, switch to the branch which matches the name of your deployed OpenStack version, and modify the upper constraints as required. Next, edit your ``/etc/openstack_deploy/user_variables.yml`` file to indicate the path to the requirements git repository, and the git hash of the commit containing your changes using the ``requirements_git_repo`` and ``requirements_git_install_branch`` variables. When using the local filesystem, the ``requirements_git_repo`` should start with ``file://``. Finally, run the ``repo-install.yml`` playbook to upload these modified constraints to your repo host(s).",,26,0
openstack%2Fopenstack-ansible~master~I843a951a59307b193e056478c097b56c1fb9d4e1,openstack/openstack-ansible,master,I843a951a59307b193e056478c097b56c1fb9d4e1,Fix ceph example,MERGED,2019-01-04 17:03:27.000000000,2022-01-13 16:05:44.000000000,2022-01-13 16:05:44.000000000,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-01-04 17:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c747f6211249504cfd885b6f9300ba5a2ac017bc', 'message': 'Fix ceph example\n\nceph-mon containers require access to the storage network for proper\noperation. ceph-osds seem to run on bare metal anyway, hence the\ncontainer config is unneeded\n\nChange-Id: I843a951a59307b193e056478c097b56c1fb9d4e1\n'}, {'number': 2, 'created': '2022-01-13 12:38:12.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/58fa77fd1c053b788f45813d7ddeb68e868ca148', 'message': 'Fix ceph example\n\nceph-mon containers require access to the storage network for proper\noperation. ceph-osds seem to run on bare metal anyway, hence the\ncontainer config is unneeded\n\nChange-Id: I843a951a59307b193e056478c097b56c1fb9d4e1\n'}]",0,628625,58fa77fd1c053b788f45813d7ddeb68e868ca148,10,4,2,28331,,,0,"Fix ceph example

ceph-mon containers require access to the storage network for proper
operation. ceph-osds seem to run on bare metal anyway, hence the
container config is unneeded

Change-Id: I843a951a59307b193e056478c097b56c1fb9d4e1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/628625/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example'],1,c747f6211249504cfd885b6f9300ba5a2ac017bc,fix-ceph-example, - ceph-mon, - ceph-osd,1,1
openstack%2Fopenstack-ansible~master~I2ba12ece8e765a6c409d50c95f4cfbe1f314180f,openstack/openstack-ansible,master,I2ba12ece8e765a6c409d50c95f4cfbe1f314180f,Use local repositories for ansible collections in CI,MERGED,2021-12-08 15:34:36.000000000,2022-01-13 16:05:41.000000000,2022-01-13 16:05:41.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-08 15:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f0b60903f30ace8bbab74652f0ec74bce3afe733', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 2, 'created': '2021-12-08 15:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a4c270523317cd83105a13eec5fbb8b25fb03be', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 3, 'created': '2021-12-09 08:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/178983d1cc38e4b4e825af9dc7a89392c3d96a48', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 4, 'created': '2021-12-09 09:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/16798d5b4389d33669c501d02860454891b7e4f9', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 5, 'created': '2021-12-15 13:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/96962d6a9e33e2f92eaef09752d0e65f7d3a4998', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 6, 'created': '2022-01-04 09:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c2aa99f63dabbe7935b30edad401573c6cfd1a9', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 7, 'created': '2022-01-05 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2514e97192be251c5dfc4eaadd4f4e865a14baf8', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 8, 'created': '2022-01-11 13:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/748e903be240d225c17075d91ad7d6d67b18484a', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}, {'number': 9, 'created': '2022-01-11 13:52:32.000000000', 'files': ['scripts/get-ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d3ae5e0036f61e29277632ac357fe7a1bdf2e01', 'message': ""Use local repositories for ansible collections in CI\n\nThis patch will search for repositories in the zuul git cache which\nmatch the names of ansible collections, for example\n'openstack/ansible-collections-openstack`, and rewrite the collections\nrequirement file to point to the local copies.\n\nThis reduces the number of external git clones, and permits the use\nof depends-on to validate changes to collections.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f\n""}]",4,821093,3d3ae5e0036f61e29277632ac357fe7a1bdf2e01,26,3,9,25023,,,0,"Use local repositories for ansible collections in CI

This patch will search for repositories in the zuul git cache which
match the names of ansible collections, for example
'openstack/ansible-collections-openstack`, and rewrite the collections
requirement file to point to the local copies.

This reduces the number of external git clones, and permits the use
of depends-on to validate changes to collections.

Depends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1
Change-Id: I2ba12ece8e765a6c409d50c95f4cfbe1f314180f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/821093/5 && git format-patch -1 --stdout FETCH_HEAD,['scripts/get-ansible-collection-requirements.yml'],1,f0b60903f30ace8bbab74652f0ec74bce3afe733,," path: ""{{ item }}"" with_items: - ""{{ collection_path_default }}"" - ""{{ collection_path_default }}/ansible_collections"" - name: Get Zuul cloned repos path in CI set_fact: zuul_src_path: ""{{ lookup('env', 'ZUUL_SRC_PATH') }}"" galaxy_collections_list : ""{{ (galaxy_collections_list | default([])) + [ item ] }}"" - name: Check the Zuul src dir for cloned roles stat: path: ""{{ zuul_src_path }}/{{ item.name.split('/')[-2:] | join('/') }}"" get_attributes: no get_checksum: no get_mime: no register: zuul_collections with_items: ""{{ galaxy_collections_list }}"" - name: Override paths for zuul hosted collections in CI vars: zuul_item: name: ""git+file://{{ zuul_src_path }}/{{ item.item.name.split('/')[-2:] | join('/') }}"" version: ""{{ item.item.version }}"" type: ""{{ item.item.type | default('') }}"" set_fact: galaxy_collections_list_ci: ""{{ galaxy_collections_list_ci + [ (item.stat.exists | ternary(zuul_item, item.item)) ] }}"" with_items: ""{{ zuul_collections.results }}"" galaxy_collections_list_ci: [] galaxy_collections: collections: ""{{ galaxy_collections_list_ci }}"""," path: ""{{ collection_path_default }}"" galaxy_collections_list : ""{{ galaxy_collections_list + [ item ] }}"" galaxy_collections_list: [] galaxy_collections: collections: ""{{ galaxy_collections_list }}""",30,4
openstack%2Fopenstack-ansible-os_blazar~master~Ib6b44ea47b092463994f1a44e70113cad1d00687,openstack/openstack-ansible-os_blazar,master,Ib6b44ea47b092463994f1a44e70113cad1d00687,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:50:17.000000000,2022-01-13 16:02:18.000000000,2022-01-13 15:59:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/34276f4d0ce86cc9a11cf559d1c371c0d2e3ad52', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ib6b44ea47b092463994f1a44e70113cad1d00687\n'}, {'number': 2, 'created': '2022-01-12 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/14ee50a418d0cda1bfb264f1fe45c59a04d181bc', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ib6b44ea47b092463994f1a44e70113cad1d00687\n'}, {'number': 3, 'created': '2022-01-13 11:24:30.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/5e30d71adef37fb3290532075ce0aaa18e5d6051', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ib6b44ea47b092463994f1a44e70113cad1d00687\n'}]",1,824403,5e30d71adef37fb3290532075ce0aaa18e5d6051,15,3,3,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: Ib6b44ea47b092463994f1a44e70113cad1d00687
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/03/824403/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,34276f4d0ce86cc9a11cf559d1c371c0d2e3ad52,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible~master~I945d117cc2b1545b31efc921188950b1dd9fe509,openstack/openstack-ansible,master,I945d117cc2b1545b31efc921188950b1dd9fe509,Ensure bash completions directory is present,MERGED,2022-01-13 10:26:03.000000000,2022-01-13 15:56:57.000000000,2022-01-13 15:52:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-13 10:26:03.000000000', 'files': ['playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/26d9ac41d834b3d416187bfa4d97deea43419071', 'message': 'Ensure bash completions directory is present\n\nThis is not present by default on debian/ubuntu and was only created\nas a side effect of installing other packages (such as git). Cleaning\nup these package installs makes creation of the bash completions fail\nas the destination directory is absent.\n\nChange-Id: I945d117cc2b1545b31efc921188950b1dd9fe509\n'}]",0,824522,26d9ac41d834b3d416187bfa4d97deea43419071,9,4,1,25023,,,0,"Ensure bash completions directory is present

This is not present by default on debian/ubuntu and was only created
as a side effect of installing other packages (such as git). Cleaning
up these package installs makes creation of the bash completions fail
as the destination directory is absent.

Change-Id: I945d117cc2b1545b31efc921188950b1dd9fe509
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/824522/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/utility-install.yml'],1,26d9ac41d834b3d416187bfa4d97deea43419071,," - name: Ensure bash completions directory is present file: path: ""/etc/bash_completion.d"" state: ""directory"" mode: ""0755"" listen: - ""venv changed""",,7,0
openstack%2Fmanila-tempest-plugin~master~Ib5f20982155029e9a3c0183eae218ae6d1b88e49,openstack/manila-tempest-plugin,master,Ib5f20982155029e9a3c0183eae218ae6d1b88e49,Added test test_create_snapshot_over_quota_limit,MERGED,2021-02-02 19:17:07.000000000,2022-01-13 15:54:51.000000000,2022-01-13 15:54:51.000000000,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-02-02 19:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/38a9436b3dc20130fbf7b07a319a07b78ed6339a', 'message': 'Adding test test_create_snapshot_over_quota_limit\n\nThis test case validates the condition of creating a share\nfrom napshot with quota over limit.\n\nChange-Id: Ib5f20982155029e9a3c0183eae218ae6d1b88e49\n'}, {'number': 2, 'created': '2021-02-02 21:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e8d092f95b21a48132fe9197fb623dfdf2271179', 'message': '[WIP]Added test test_create_snapshot_over_quota_limit\n\nThis test case validates the condition of creating a share\nfrom napshot with quota over limit.\n\nChange-Id: Ib5f20982155029e9a3c0183eae218ae6d1b88e49\n'}, {'number': 3, 'created': '2021-02-04 10:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5582982720bcec96b1425b88ef026693ec47f2ef', 'message': 'Added test test_create_snapshot_over_quota_limit\n\nThis test case validates the  case of creating a share\nfrom napshot with quota over limit.\n\nChange-Id: Ib5f20982155029e9a3c0183eae218ae6d1b88e49\n'}, {'number': 4, 'created': '2022-01-02 08:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7c09b6984334eca1b32a34a19e4de20cfa7e901c', 'message': 'Added test test_create_snapshot_over_quota_limit\n\nThis test case validates the  case of creating a share\nfrom napshot with quota over limit.\n\nChange-Id: Ib5f20982155029e9a3c0183eae218ae6d1b88e49\n'}, {'number': 5, 'created': '2022-01-11 19:36:25.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_quotas_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4b20d449fff58ca62ee1c94ab491a0d7e53b6851', 'message': 'Added test test_create_snapshot_over_quota_limit\n\nThis test case validates the  case of creating a share\nfrom napshot with quota over limit.\n\nChange-Id: Ib5f20982155029e9a3c0183eae218ae6d1b88e49\n'}]",7,773786,4b20d449fff58ca62ee1c94ab491a0d7e53b6851,29,3,5,30025,,,0,"Added test test_create_snapshot_over_quota_limit

This test case validates the  case of creating a share
from napshot with quota over limit.

Change-Id: Ib5f20982155029e9a3c0183eae218ae6d1b88e49
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/86/773786/4 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_quotas_negative.py'],1,38a9436b3dc20130fbf7b07a319a07b78ed6339a,change-773786," @decorators.idempotent_id('a2267f4d-63ef-4631-a01d-3723707e5516') @testtools.skipUnless( CONF.share.run_snapshot_tests, 'Snapshot tests are disabled.') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_create_snapshot_over_quota_limit(self): share = self.create_share(share_type_id=self.share_type_id) # Update snapshot quota self.update_quotas(self.tenant_id, snapshots=1) # Create share from updated snapshot, wait for status 'available' self.create_snapshot_wait_for_active(share['id']) self.assertRaises(lib_exc.OverLimit, self.create_snapshot_wait_for_active, share['id']) ",,17,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ic6789d97b4f86af43b60456fbc792c660bde9487,openstack/python-tripleoclient,stable/train,Ic6789d97b4f86af43b60456fbc792c660bde9487,"Revert ""Don't assume json network config in validations""",ABANDONED,2022-01-13 15:31:12.000000000,2022-01-13 15:46:12.000000000,,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 15:31:12.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/37c9ce615f707a619508e1d5b89e487e65be1c79', 'message': 'Revert ""Don\'t assume json network config in validations""\n\nThis reverts commit bd45a745da1ef95718a5a6893f510ef02937f1b5.\n\nReason for revert: Testing failure on undercloud install\n\nChange-Id: Ic6789d97b4f86af43b60456fbc792c660bde9487\n'}]",0,824611,37c9ce615f707a619508e1d5b89e487e65be1c79,3,4,1,9976,,,0,"Revert ""Don't assume json network config in validations""

This reverts commit bd45a745da1ef95718a5a6893f510ef02937f1b5.

Reason for revert: Testing failure on undercloud install

Change-Id: Ic6789d97b4f86af43b60456fbc792c660bde9487
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/11/824611/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,37c9ce615f707a619508e1d5b89e487e65be1c79,trainbug/1927090,import json with open(os_net_config_file) as f: network_config = json.loads(f.read()),"import yaml with open(os_net_config_file, 'r') as f: network_config = yaml.safe_load(f)",3,3
openstack%2Fneutron~master~Ib3b6dd68009ab635627168b11626d7e7c548ee2f,openstack/neutron,master,Ib3b6dd68009ab635627168b11626d7e7c548ee2f,[OVN] Check if OVN NB supports stateless NAT rules,MERGED,2021-11-02 17:12:37.000000000,2022-01-13 15:42:40.000000000,2022-01-13 15:38:45.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-11-02 17:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e68eb0bf59040ddc9ed9d23a37b7198bf87583d', 'message': '[OVN] Check if OVN NB supports stateless NAT rules\n\nAdded a check for OVN NB schema, looking for ""options"" field in ""NAT""\ntable (added in OVN NB schema 5.17).\n\nThis patch removes the code to support OVN without stateless NAT rules.\nIt is assumed that ""options"" field in ""NAT"" table is always present.\n\nCloses-Bug: #1949494\nChange-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f\n'}, {'number': 2, 'created': '2021-11-02 17:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20a5134bb5e52e168d631a1c7dc942fca56b4c4c', 'message': '[OVN] Check if OVN NB supports stateless NAT rules\n\nAdded a check for OVN NB schema, looking for ""options"" field in ""NAT""\ntable (added in OVN NB schema 5.17).\n\nThis patch removes the code to support OVN without stateless NAT rules.\nIt is assumed that ""options"" field in ""NAT"" table is always present.\n\nCloses-Bug: #1949494\nChange-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f\n'}, {'number': 3, 'created': '2021-11-03 08:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9e67580c730a53ed1301a74321d08bbfe175065', 'message': '[OVN] Check if OVN NB supports stateless NAT rules\n\nAdded a check for OVN NB schema, looking for ""options"" field in ""NAT""\ntable (added in OVN NB schema 5.17).\n\nThis patch removes the code to support OVN without stateless NAT rules.\nIt is assumed that ""options"" field in ""NAT"" table is always present.\n\nCloses-Bug: #1949494\nChange-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f\n'}, {'number': 4, 'created': '2021-11-15 08:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05718763d225feb8e34d3411f95792449df9cc0f', 'message': '[OVN] Check if OVN NB supports stateless NAT rules\n\nAdded a check for OVN NB schema, looking for ""options"" field in ""NAT""\ntable (added in OVN NB schema 5.17).\n\nThis patch removes the code to support OVN without stateless NAT rules.\nIt is assumed that ""options"" field in ""NAT"" table is always present.\n\nCloses-Bug: #1949494\nChange-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f\n'}, {'number': 5, 'created': '2021-12-24 09:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1b72f5ac5cf11768bef25033f7e161845b316c1', 'message': '[OVN] Check if OVN NB supports stateless NAT rules\n\nAdded a check for OVN NB schema, looking for ""options"" field in ""NAT""\ntable (added in OVN NB schema 5.17).\n\nThis patch removes the code to support OVN without stateless NAT rules.\nIt is assumed that ""options"" field in ""NAT"" table is always present.\n\nCloses-Bug: #1949494\nChange-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f\n'}, {'number': 6, 'created': '2022-01-05 11:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c41c0b625301b389937fac5ce8405459590bf2a', 'message': '[OVN] Check if OVN NB supports stateless NAT rules\n\nAdded a check for OVN NB schema, looking for ""options"" field in ""NAT""\ntable (added in OVN NB schema 5.17).\n\nThis patch removes the code to support OVN without stateless NAT rules.\nIt is assumed that ""options"" field in ""NAT"" table is always present.\n\nCloses-Bug: #1949494\nChange-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f\n'}, {'number': 7, 'created': '2022-01-11 08:44:41.000000000', 'files': ['releasenotes/notes/ovn-support-stateless-sg-mandatory-bdeb1bc626decc51.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/cmd/sanity_check.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce1a87057a12c4f27bb4eb2d2a6f2b29d2709d65', 'message': '[OVN] Check if OVN NB supports stateless NAT rules\n\nAdded a check for OVN NB schema, looking for ""options"" field in ""NAT""\ntable (added in OVN NB schema 5.17).\n\nThis patch removes the code to support OVN without stateless NAT rules.\nIt is assumed that ""options"" field in ""NAT"" table is always present.\n\nCloses-Bug: #1949494\nChange-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f\n'}]",6,816376,ce1a87057a12c4f27bb4eb2d2a6f2b29d2709d65,49,7,7,16688,,,0,"[OVN] Check if OVN NB supports stateless NAT rules

Added a check for OVN NB schema, looking for ""options"" field in ""NAT""
table (added in OVN NB schema 5.17).

This patch removes the code to support OVN without stateless NAT rules.
It is assumed that ""options"" field in ""NAT"" table is always present.

Closes-Bug: #1949494
Change-Id: Ib3b6dd68009ab635627168b11626d7e7c548ee2f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/816376/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/cmd/sanity_check.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",5,2e68eb0bf59040ddc9ed9d23a37b7198bf87583d,bug/1949494,, if not self._ovn_client.is_stateless_nat_supported(): raise periodics.NeverAgain() ,32,21
openstack%2Fopenstack-ansible-os_neutron~stable%2Fxena~Ida06b0843a25f69f6ec15d256f025dc032a2afc0,openstack/openstack-ansible-os_neutron,stable/xena,Ida06b0843a25f69f6ec15d256f025dc032a2afc0,Enable recursion in combine() filter,MERGED,2022-01-12 11:56:25.000000000,2022-01-13 15:39:47.000000000,2022-01-13 15:36:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:56:25.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0362c51f8f1f627f57a3fada34d60eb919e4c261', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: Ida06b0843a25f69f6ec15d256f025dc032a2afc0\n""}]",1,824415,0362c51f8f1f627f57a3fada34d60eb919e4c261,10,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: Ida06b0843a25f69f6ec15d256f025dc032a2afc0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/15/824415/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,0362c51f8f1f627f57a3fada34d60eb919e4c261,cherrypick-combine-filter-recursion-b4njjwtez2," init_config_overrides: ""{{ _neutron_l3_agent_init_defaults | combine(neutron_l3_agent_init_overrides, recursive=True) }}"""," init_config_overrides: ""{{ _neutron_l3_agent_init_defaults | combine(neutron_l3_agent_init_overrides) }}""",1,1
openstack%2Fansible-role-systemd_service~master~I7d95378f393c8b8cc729cc9b3a30dfe4208393b2,openstack/ansible-role-systemd_service,master,I7d95378f393c8b8cc729cc9b3a30dfe4208393b2,Add 'load' boolean for services.,MERGED,2022-01-11 08:27:31.000000000,2022-01-13 15:31:16.000000000,2022-01-13 15:25:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 08:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/cab6ac9e986911b5107699b595240aa23476847c', 'message': ""Add 'load' boolean for services.\n\nSome services, such as socket activated ones with '@' naming cannot be\nloaded.\n\nChange-Id: I7d95378f393c8b8cc729cc9b3a30dfe4208393b2\n""}, {'number': 2, 'created': '2022-01-13 10:01:32.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/0589c8138676406993bbaf95b5908f7e93f0413d', 'message': ""Add 'load' boolean for services.\n\nSome services, such as socket activated ones with '@' naming cannot be\nloaded.\n\nChange-Id: I7d95378f393c8b8cc729cc9b3a30dfe4208393b2\n""}]",1,824096,0589c8138676406993bbaf95b5908f7e93f0413d,13,3,2,25023,,,0,"Add 'load' boolean for services.

Some services, such as socket activated ones with '@' naming cannot be
loaded.

Change-Id: I7d95378f393c8b8cc729cc9b3a30dfe4208393b2
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/96/824096/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,cab6ac9e986911b5107699b595240aa23476847c,osa/centos-9,# `load` -- (optional) Boolean to set if the service is loaded. Socket activated services with '@' may not need to be loaded.,,3,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Iaeadf412865c059d252ffc7087db3853569b74ee,openstack/python-tripleoclient,stable/train,Iaeadf412865c059d252ffc7087db3853569b74ee,Don't assume json network config in validations,MERGED,2022-01-04 22:02:03.000000000,2022-01-13 15:31:12.000000000,2022-01-06 08:28:35.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 22:02:03.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd45a745da1ef95718a5a6893f510ef02937f1b5', 'message': ""Don't assume json network config in validations\n\nChange I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the\nnet_config_override file to be yaml as well as json, but if\nenable_validations is true the _validate_no_ip_change assumes the\nnetwork config is json.\n\nThis change loads this file as yaml in _validate_no_ip_change.\n\nChange-Id: Iaeadf412865c059d252ffc7087db3853569b74ee\nRelated-Bug: #1927090\n(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)\n""}]",1,823436,bd45a745da1ef95718a5a6893f510ef02937f1b5,12,2,1,4571,,,0,"Don't assume json network config in validations

Change I5f5cec5a1622be4983b4d0db392453d1c489fa40 allowed the
net_config_override file to be yaml as well as json, but if
enable_validations is true the _validate_no_ip_change assumes the
network config is json.

This change loads this file as yaml in _validate_no_ip_change.

Change-Id: Iaeadf412865c059d252ffc7087db3853569b74ee
Related-Bug: #1927090
(cherry picked from commit f8ee246464c387a9733de3f0ea245d523098e42a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/823436/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,bd45a745da1ef95718a5a6893f510ef02937f1b5,trainbug/1927090,"import yaml with open(os_net_config_file, 'r') as f: network_config = yaml.safe_load(f)",import json with open(os_net_config_file) as f: network_config = json.loads(f.read()),3,3
openstack%2Fansible-role-systemd_service~master~Icf43a8421f4d52570ea89f5db0722c0d99bafd85,openstack/ansible-role-systemd_service,master,Icf43a8421f4d52570ea89f5db0722c0d99bafd85,Suppress 'Service' directive if ListenStream is specified,MERGED,2022-01-10 17:50:40.000000000,2022-01-13 15:29:09.000000000,2022-01-13 15:25:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-10 17:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/8481d5a6c663170b6c53a43b9e0e67d62c1ef99a', 'message': ""Suppress 'Service' directive if ListenStream is specified\n\nThis is mutually exclusive configuration\n\nChange-Id: Icf43a8421f4d52570ea89f5db0722c0d99bafd85\n""}, {'number': 2, 'created': '2022-01-11 08:27:31.000000000', 'files': ['templates/systemd-socket.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/abbc5c8ab83037eea9a6d9acb926bfb4fe9b6de1', 'message': ""Suppress 'Service' directive if ListenStream is specified\n\nThis is mutually exclusive configuration\n\nChange-Id: Icf43a8421f4d52570ea89f5db0722c0d99bafd85\n""}]",2,824041,abbc5c8ab83037eea9a6d9acb926bfb4fe9b6de1,14,3,2,25023,,,0,"Suppress 'Service' directive if ListenStream is specified

This is mutually exclusive configuration

Change-Id: Icf43a8421f4d52570ea89f5db0722c0d99bafd85
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/41/824041/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-socket.j2'],1,8481d5a6c663170b6c53a43b9e0e67d62c1ef99a,osa/centos-9,{% if 'ListenStream' not in item.1.options %}{% endif %} ,,3,0
openstack%2Fneutron~stable%2Fxena~I74a2ca9a344a93219deb94d60247478ee3200659,openstack/neutron,stable/xena,I74a2ca9a344a93219deb94d60247478ee3200659,[OVN] Allow only one physical network per bridge,MERGED,2022-01-12 08:45:17.000000000,2022-01-13 15:26:50.000000000,2022-01-13 15:22:56.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 08:45:17.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/795a19bf35175e75dfffd7ba6c349b74f0ff3815', 'message': '[OVN] Allow only one physical network per bridge\n\nSame as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver\nshould allow only one physical network per bridge. The rule ""one\nnetwork, one bridge"" should be present in OVN too.\n\nBy allowing only one physical network per bridge, Neutron prevents\nhaving two networks with subnets with the same CIDR in the same bridge.\nCurrently is possible and this CIDR clash is not prevented (shouldn\'t be\nby the API). This architectural limitation prevents this situation.\n\nThis limitation is already present in deployment tools as TripleO.\n\nCloses-Bug: #1956476\nChange-Id: I74a2ca9a344a93219deb94d60247478ee3200659\n(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)\n'}]",1,824344,795a19bf35175e75dfffd7ba6c349b74f0ff3815,10,3,1,16688,,,0,"[OVN] Allow only one physical network per bridge

Same as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver
should allow only one physical network per bridge. The rule ""one
network, one bridge"" should be present in OVN too.

By allowing only one physical network per bridge, Neutron prevents
having two networks with subnets with the same CIDR in the same bridge.
Currently is possible and this CIDR clash is not prevented (shouldn't be
by the API). This architectural limitation prevents this situation.

This limitation is already present in deployment tools as TripleO.

Closes-Bug: #1956476
Change-Id: I74a2ca9a344a93219deb94d60247478ee3200659
(cherry picked from commit 55afd9bc923f55bc8f621316a080ad4271182ebc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/824344/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",4,795a19bf35175e75dfffd7ba6c349b74f0ff3815,bug/1956476," 'public:br-ex,public2:br-ex2'}}, def test_multiple_physnets_in_one_bridge(self): self.data = { 'chassis': [ {'external_ids': {'ovn-bridge-mappings': 'p1:br-ex,p2:br-ex'}} ] } self.load_test_data() self.assertRaises(ValueError, self.api.get_chassis_and_physnets) "," 'public:br-ex,public2:br-ex'}},",16,5
openstack%2Fneutron~master~If2d56eb680da521e79cec176bf5c4e6959f1fcf5,openstack/neutron,master,If2d56eb680da521e79cec176bf5c4e6959f1fcf5,Add Local IP policy rules,MERGED,2021-11-03 07:48:31.000000000,2022-01-13 15:26:31.000000000,2022-01-13 15:22:51.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-03 07:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ec6721aed15c222c5852cadc089ec3b98f9c580', 'message': 'Add Local IP Association policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 2, 'created': '2021-11-03 08:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e35b9883ab42cf4f3cd69acac18d834267dc501c', 'message': 'Add Local IP Association policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 3, 'created': '2021-11-03 10:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/551b0998d43540a3750dddfe56d4814822933a18', 'message': 'Add Local IP Association policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 4, 'created': '2021-11-03 11:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dbed9bfa9bd22c6bf023acd07060ab3a9de04b1', 'message': 'Add Local IP Association policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 5, 'created': '2021-11-03 13:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90f291996a8d9fdf23fc99d14ebf694d3028d30b', 'message': 'Add Local IP Association policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 6, 'created': '2021-11-03 13:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9d5bafdf1064d9691bc621a5a81e7a8c233875f', 'message': 'Add Local IP Association policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 7, 'created': '2021-11-03 15:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ff8429f07143543eaad909b296e5b47e9b627b0', 'message': 'Add Local IP Association policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 8, 'created': '2021-11-12 12:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3270408cf19eb983cd36fec950e5e2a3daf9846', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 9, 'created': '2021-11-12 14:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5726c907e01c09f4d79ebf747658de3c33ed5e06', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 10, 'created': '2021-11-17 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/293330cc49fe94c56179c3507e32f06c48fc5352', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 11, 'created': '2021-11-23 11:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b652fb2612bd74bcb66d87df0a2d8fa7f0370aaa', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 12, 'created': '2021-11-30 09:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9311289a00b07c57da15ec3d30dfab64c4782103', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 13, 'created': '2021-11-30 11:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc9c69b3961f188c689343a3836f439c4733ac0c', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 14, 'created': '2021-11-30 12:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6a00db12ab7f4fbf96c075dc4e7d5095ee9e4c0', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 15, 'created': '2021-12-27 14:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3250211def11a6612e1e327215d6c4dc9991f26', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 16, 'created': '2022-01-10 14:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/961eaa2a00facb612e02e0ad506189a9bdaef33b', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 17, 'created': '2022-01-11 11:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1eaf1f403c78ef5351605bf683529dc44da948fe', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}, {'number': 18, 'created': '2022-01-12 14:34:57.000000000', 'files': ['neutron/conf/policies/local_ip_association.py', 'neutron/tests/unit/conf/policies/test_local_ip_association.py', 'neutron/conf/policies/local_ip.py', 'neutron/tests/unit/extensions/test_local_ip.py', 'neutron/conf/policies/__init__.py', 'neutron/tests/unit/conf/policies/test_local_ip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/200b345429b0d91246a9b5671dcc621c1e262c37', 'message': 'Add Local IP policy rules\n\nPartial-Bug: #1930200\nChange-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5\n'}]",13,816435,200b345429b0d91246a9b5671dcc621c1e262c37,106,8,18,5948,,,0,"Add Local IP policy rules

Partial-Bug: #1930200
Change-Id: If2d56eb680da521e79cec176bf5c4e6959f1fcf5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/816435/15 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/local_ip.py', 'neutron/conf/policies/__init__.py']",2,2ec6721aed15c222c5852cadc089ec3b98f9c580,bug/1930200,"from neutron.conf.policies import local_ip local_ip.list_rules(),",,75,0
openstack%2Fopenstack-ansible-os_swift~stable%2Fxena~I3f3048a7540ac04c749ccb99e20d6ba521175b99,openstack/openstack-ansible-os_swift,stable/xena,I3f3048a7540ac04c749ccb99e20d6ba521175b99,Enable recursion in combine() filter,MERGED,2022-01-12 11:56:25.000000000,2022-01-13 15:23:11.000000000,2022-01-13 15:19:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:56:25.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/9a75a8b235dda49ed7eb54d71abf8bcef5dadd6e', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: I3f3048a7540ac04c749ccb99e20d6ba521175b99\n""}]",0,824413,9a75a8b235dda49ed7eb54d71abf8bcef5dadd6e,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: I3f3048a7540ac04c749ccb99e20d6ba521175b99
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/13/824413/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,9a75a8b235dda49ed7eb54d71abf8bcef5dadd6e,cherrypick-combine-filter-recursion-b4njjwtez2," 'config_overrides': swift_service_defaults | combine(service.init_config_overrides, recursive=True)", 'config_overrides': swift_service_defaults | combine(service.init_config_overrides),1,1
openstack%2Fansible-role-uwsgi~stable%2Fxena~Ifda8ecff5baab4b09e278600181781fd13c8c24e,openstack/ansible-role-uwsgi,stable/xena,Ifda8ecff5baab4b09e278600181781fd13c8c24e,Enable recursion in combine() filter,MERGED,2022-01-12 11:56:25.000000000,2022-01-13 15:17:08.000000000,2022-01-13 15:14:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:56:25.000000000', 'files': ['tasks/uwsgi_post_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/4b690977984b8735c17a04a7e84f6b32235cce7d', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: Ifda8ecff5baab4b09e278600181781fd13c8c24e\n""}]",0,824414,4b690977984b8735c17a04a7e84f6b32235cce7d,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: Ifda8ecff5baab4b09e278600181781fd13c8c24e
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/14/824414/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/uwsgi_post_install.yml'],1,4b690977984b8735c17a04a7e84f6b32235cce7d,cherrypick-combine-filter-recursion-b4njjwtez2," config_overrides: ""{{ item.value.uwsgi_overrides | default({}) | combine(uwsgi_ini_overrides, recursive=True) }}"" config_overrides: ""{{ service_var.value.init_config_overrides | default({}) | combine(uwsgi_init_config_overrides, recursive=True) }}"""," config_overrides: ""{{ item.value.uwsgi_overrides | default({}) | combine(uwsgi_ini_overrides) }}"" config_overrides: ""{{ service_var.value.init_config_overrides | default({}) | combine(uwsgi_init_config_overrides) }}""",2,2
openstack%2Fopenstack-ansible-os_tempest~stable%2Fxena~I804bf03f7e459a5e572fc55d1d40c3ba45d2d736,openstack/openstack-ansible-os_tempest,stable/xena,I804bf03f7e459a5e572fc55d1d40c3ba45d2d736,Enable recursion in combine() filter,MERGED,2022-01-12 11:56:27.000000000,2022-01-13 15:15:56.000000000,2022-01-13 15:13:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:56:27.000000000', 'files': ['tasks/tempestconf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/88b36985380e5ab592ab7a8d19a5c92f97661d13', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: I804bf03f7e459a5e572fc55d1d40c3ba45d2d736\n""}]",0,824417,88b36985380e5ab592ab7a8d19a5c92f97661d13,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: I804bf03f7e459a5e572fc55d1d40c3ba45d2d736
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/17/824417/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempestconf.yml'],1,88b36985380e5ab592ab7a8d19a5c92f97661d13,cherrypick-combine-filter-recursion-b4njjwtez2," content: ""{{ tempest_tempestconf_profile | combine(tempest_tempestconf_profile_extras, recursive=True) | to_nice_yaml }}"""," content: ""{{ tempest_tempestconf_profile | combine(tempest_tempestconf_profile_extras) | to_nice_yaml }}""",1,1
openstack%2Fopenstack-ansible-os_nova~master~I7d09f6f5f5d66ecbe29fd3969d586eb416c98589,openstack/openstack-ansible-os_nova,master,I7d09f6f5f5d66ecbe29fd3969d586eb416c98589,Replace genisoimage with xorriso for centos-9,MERGED,2022-01-11 17:15:38.000000000,2022-01-13 15:15:11.000000000,2022-01-13 15:09:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 17:15:38.000000000', 'files': ['vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/119104a9dba7cdde45d79d5723fbf93bbf1c0e67', 'message': 'Replace genisoimage with xorriso for centos-9\n\nChange-Id: I7d09f6f5f5d66ecbe29fd3969d586eb416c98589\n'}]",0,824217,119104a9dba7cdde45d79d5723fbf93bbf1c0e67,9,3,1,25023,,,0,"Replace genisoimage with xorriso for centos-9

Change-Id: I7d09f6f5f5d66ecbe29fd3969d586eb416c98589
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/17/824217/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,119104a9dba7cdde45d79d5723fbf93bbf1c0e67,osa/centos-9,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. nova_qemu_user: qemu nova_qemu_group: qemu libvirt_group: libvirt libvirt_service_name: libvirtd # Common yum packages nova_distro_packages: - git - iptables - libxml2 nova_devel_distro_packages: - libxml2-devel - systemd-devel nova_service_distro_packages: - openstack-nova-api - openstack-nova-conductor - openstack-nova-scheduler - python3-memcached - python3-PyMySQL - python3-systemd nova_service_extra_distro_packages: kvm: - openstack-nova-compute - openstack-nova-migration novnc: - openstack-nova-novncproxy spice: - openstack-nova-spicehtml5proxy serialconsole: - openstack-nova-serialproxy nova_compute_packages: - dosfstools - xorriso - kpartx - nc - python3-libguestfs - sysfsutils nova_compute_barbican_distro_packages: - cryptsetup nova_compute_kvm_distro_packages: - libvirt-daemon-kvm - qemu-kvm - libvirt-client - python3-libvirt - nfs-utils - python3-libguestfs - qemu-img - ""{{ (ansible_facts['architecture'] == 'aarch64') | ternary('AAVMF', 'OVMF') }}"" nova_compute_kvm_packages_to_symlink: - python3-libvirt - python3-libguestfs nova_compute_kvm_pip_packages: - http://download.libguestfs.org/python/guestfs-1.40.2.tar.gz - libvirt-python==6.6.0 nova_compute_ksm_packages: - ksmtuned nova_compute_oslomsg_amqp1_distro_packages: - cyrus-sasl-plain - cyrus-sasl-md5 ",,84,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fxena~I2e84c0370c04336c124e5b6549b638483f107601,openstack/openstack-ansible-os_nova,stable/xena,I2e84c0370c04336c124e5b6549b638483f107601,Enable recursion in combine() filter,MERGED,2022-01-12 11:56:25.000000000,2022-01-13 15:14:54.000000000,2022-01-13 15:09:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:56:25.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4ad1ab9749814ee3de88674efa43c75c50b3d86b', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: I2e84c0370c04336c124e5b6549b638483f107601\n""}]",0,824410,4ad1ab9749814ee3de88674efa43c75c50b3d86b,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: I2e84c0370c04336c124e5b6549b638483f107601
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/10/824410/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4ad1ab9749814ee3de88674efa43c75c50b3d86b,cherrypick-combine-filter-recursion-b4njjwtez2," init_config_overrides: ""{{ {'Install': {'Alias': 'nova-api.service'}} | combine(nova_api_os_compute_init_overrides, recursive=True) }}"" init_config_overrides: ""{{ {'Install': {'Alias': 'nova-spiceproxy.service'}} | combine(nova_spicehtml5proxy_init_overrides, recursive=True) }}"""," init_config_overrides: ""{{ {'Install': {'Alias': 'nova-api.service'}} | combine(nova_api_os_compute_init_overrides) }}"" init_config_overrides: ""{{ {'Install': {'Alias': 'nova-spiceproxy.service'}} | combine(nova_spicehtml5proxy_init_overrides) }}""",2,2
openstack%2Fos-ken~master~Iffa8f8da017364a3b471475a4123356e2030dba5,openstack/os-ken,master,Iffa8f8da017364a3b471475a4123356e2030dba5,Avoid missing key 'password' for neighbor_add,MERGED,2022-01-12 18:17:29.000000000,2022-01-13 15:12:18.000000000,2022-01-13 15:04:19.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33176}]","[{'number': 1, 'created': '2022-01-12 18:17:29.000000000', 'files': ['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/58a39392397cd01e174c4736fa31a9a5617f1ff0', 'message': ""Avoid missing key 'password' for neighbor_add\n\nChange-Id: Iffa8f8da017364a3b471475a4123356e2030dba5\nStory: 2009779\nTask: 44260\n""}]",2,824476,58a39392397cd01e174c4736fa31a9a5617f1ff0,12,5,1,8313,,,0,"Avoid missing key 'password' for neighbor_add

Change-Id: Iffa8f8da017364a3b471475a4123356e2030dba5
Story: 2009779
Task: 44260
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/76/824476/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'os_ken/services/protocols/bgp/api/base.py']",2,58a39392397cd01e174c4736fa31a9a5617f1ff0,story/2009779," if 'password' in kwargs: log_str = str( dict(kwargs.items() - {'password': kwargs['password']}.items())) else: log_str = str(kwargs) ""API method %s called with args: %s"", symbol, log_str)"," ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))",7,3
openstack%2Fansible-role-systemd_networkd~master~Ia6f9cc3222ecd467c3a52e25e1cb74f267aea836,openstack/ansible-role-systemd_networkd,master,Ia6f9cc3222ecd467c3a52e25e1cb74f267aea836,Add centos-9 support,MERGED,2022-01-04 18:23:16.000000000,2022-01-13 15:09:39.000000000,2022-01-13 15:03:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-04 18:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/65409619e57baf1b5396c3c2e4657f430bfbc9d7', 'message': 'Add centos-9 support\n\nChange-Id: Ia6f9cc3222ecd467c3a52e25e1cb74f267aea836\n'}, {'number': 2, 'created': '2022-01-11 14:14:55.000000000', 'files': ['vars/redhat-9.yml', 'files/gpg/3228467C'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/d8af1100af773211b172f941f9058c20ee77d914', 'message': 'Add centos-9 support\n\nChange-Id: Ia6f9cc3222ecd467c3a52e25e1cb74f267aea836\n'}]",0,823419,d8af1100af773211b172f941f9058c20ee77d914,11,3,2,25023,,,0,"Add centos-9 support

Change-Id: Ia6f9cc3222ecd467c3a52e25e1cb74f267aea836
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/19/823419/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-9.yml', 'files/gpg/3228467C']",2,65409619e57baf1b5396c3c2e4657f430bfbc9d7,osa/centos-9,-----BEGIN PGP PUBLIC KEY BLOCK----- mQINBGE3mOsBEACsU+XwJWDJVkItBaugXhXIIkb9oe+7aadELuVo0kBmc3HXt/Yp CJW9hHEiGZ6z2jwgPqyJjZhCvcAWvgzKcvqE+9i0NItV1rzfxrBe2BtUtZmVcuE6 2b+SPfxQ2Hr8llaawRjt8BCFX/ZzM4/1Qk+EzlfTcEcpkMf6wdO7kD6ulBk/tbsW DHX2lNcxszTf+XP9HXHWJlA2xBfP+Dk4gl4DnO2Y1xR0OSywE/QtvEbN5cY94ieu n7CBy29AleMhmbnx9pw3NyxcFIAsEZHJoU4ZW9ulAJ/ogttSyAWeacW7eJGW31/Z 39cS+I4KXJgeGRI20RmpqfH0tuT+X5Da59YpjYxkbhSK3HYBVnNPhoJFUc2j5iKy XLgkapu1xRnEJhw05kr4LCbud0NTvfecqSqa+59kuVc+zWmfTnGTYc0PXZ6Oa3rK 44UOmE6eAT5zd/ToleDO0VesN+EO7CXfRsm7HWGpABF5wNK3vIEF2uRr2VJMvgqS 9eNwhJyOzoca4xFSwCkc6dACGGkV+CqhufdFBhmcAsUotSxe3zmrBjqA0B/nxIvH DVgOAMnVCe+Lmv8T0mFgqZSJdIUdKjnOLu/GRFhjDKIak4jeMBMTYpVnU+HhMHLq uDiZkNEvEEGhBQmZuI8J55F/a6UURnxUwT3piyi3Pmr2IFD7ahBxPzOBCQARAQAB tCdGZWRvcmEgKGVwZWw5KSA8ZXBlbEBmZWRvcmFwcm9qZWN0Lm9yZz6JAk4EEwEI ADgWIQT/itE0RZcQbs6BO5GKOHK/MihGfAUCYTeY6wIbDwULCQgHAgYVCgkICwIE FgIDAQIeAQIXgAAKCRCKOHK/MihGfFX/EACBPWv20+ttYu1A5WvtHJPzwbj0U4yF 3zTQpBglQ2UfkRpYdipTlT3Ih6j5h2VmgRPtINCc/ZE28adrWpBoeFIS2YAKOCLC nZYtHl2nCoLq1U7FSttUGsZ/t8uGCBgnugTfnIYcmlP1jKKA6RJAclK89evDQX5n R9ZD+Cq3CBMlttvSTCht0qQVlwycedH8iWyYgP/mF0W35BIn7NuuZwWhgR00n/VG 4nbKPOzTWbsP45awcmivdrS74P6mL84WfkghipdmcoyVb1B8ZP4Y/Ke0RXOnLhNe CfrXXvuW+Pvg2RTfwRDtehGQPAgXbmLmz2ZkV69RGIr54HJv84NDbqZovRTMr7gL 9k3ciCzXCiYQgM8yAyGHV0KEhFSQ1HV7gMnt9UmxbxBE2pGU7vu3CwjYga5DpwU7 w5wu1TmM5KgZtZvuWOTDnqDLf0cKoIbW8FeeCOn24elcj32bnQDuF9DPey1mqcvT /yEo/Ushyz6CVYxN8DGgcy2M9JOsnmjDx02h6qgWGWDuKgb9jZrvRedpAQCeemEd fhEs6ihqVxRFl16HxC4EVijybhAL76SsM2nbtIqW1apBQJQpXWtQwwdvgTVpdEtE r4ArVJYX5LrswnWEQMOelugUG6S3ZjMfcyOa/O0364iY73vyVgaYK+2XtT2usMux VL469Kj5m13T6w== =Mjs/ -----END PGP PUBLIC KEY BLOCK----- ,,57,0
openstack%2Fopenstack-ansible-galera_server~stable%2Fxena~Id98cabad0d8288fedc1be10a93fb64de402f4cd0,openstack/openstack-ansible-galera_server,stable/xena,Id98cabad0d8288fedc1be10a93fb64de402f4cd0,Enable recursion in combine() filter,MERGED,2022-01-12 11:56:25.000000000,2022-01-13 15:03:28.000000000,2022-01-13 15:00:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:56:25.000000000', 'files': ['tasks/galera_server_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/10732b957e5e356411bc2dea4a39636488c68b2b', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: Id98cabad0d8288fedc1be10a93fb64de402f4cd0\n""}]",0,824412,10732b957e5e356411bc2dea4a39636488c68b2b,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: Id98cabad0d8288fedc1be10a93fb64de402f4cd0
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/12/824412/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_server_post_install.yml'],1,10732b957e5e356411bc2dea4a39636488c68b2b,cherrypick-combine-filter-recursion-b4njjwtez2," systemd_overrides: ""{{ galera_init_defaults | combine(galera_init_overrides, recursive=True) }}"""," systemd_overrides: ""{{ galera_init_defaults | combine(galera_init_overrides) }}""",1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I5f3b678b30f6375844c0a4b094432c9be9d8e444,openstack/tripleo-heat-templates,stable/ussuri,I5f3b678b30f6375844c0a4b094432c9be9d8e444,Disable metrics_qdr binding in HAProxyEdge,MERGED,2022-01-11 22:38:11.000000000,2022-01-13 15:00:20.000000000,2022-01-13 15:00:20.000000000,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-11 22:38:11.000000000', 'files': ['deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9afc3b34b5bcfb9cbd413fa4151b88ee472b314', 'message': 'Disable metrics_qdr binding in HAProxyEdge\n\nHAProxyEdge disables most haproxy bindings.\nThe metrics_qdr binding is missing, likely due to the fact it was\ncreated after the HAProxyEdge service.\n\nChange-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444\n(cherry picked from commit 4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888)\n(cherry picked from commit 14b042826fef08a04e188c9d9af35acf1a92f057)\n(cherry picked from commit 401883388ccb1cf8823d41c2d903ac85dd6ccbea)\n'}]",1,824253,d9afc3b34b5bcfb9cbd413fa4151b88ee472b314,7,5,1,23811,,,0,"Disable metrics_qdr binding in HAProxyEdge

HAProxyEdge disables most haproxy bindings.
The metrics_qdr binding is missing, likely due to the fact it was
created after the HAProxyEdge service.

Change-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444
(cherry picked from commit 4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888)
(cherry picked from commit 14b042826fef08a04e188c9d9af35acf1a92f057)
(cherry picked from commit 401883388ccb1cf8823d41c2d903ac85dd6ccbea)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/824253/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-edge-container-puppet.yaml'],1,d9afc3b34b5bcfb9cbd413fa4151b88ee472b314,ussuri, tripleo::haproxy::metrics_qdr: false,,1,0
openstack%2Fnova-specs~master~Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8,openstack/nova-specs,master,Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8,Adds Pick guest CPU architecture based on host arch in libvirt driver support,MERGED,2022-01-10 18:19:31.000000000,2022-01-13 14:46:18.000000000,2022-01-13 14:40:57.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 18:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4ed9e3fbc26b50224740a2503934711bf63d9b99', 'message': 'Adds Pick guest CPU architecture based on host arch in libvirt driver support\n\nImplement new image meta property that allows for the selection of the\ncorrect QEMU binary, cpu architecture, and machine type for a guest\narchitecture that is different than the host architecture; An x86_64\nguest running on an AArch64 host, and vice versa.\n\nImplements: blueprint pick-guest-arch-based-on-host-arch-in-libvirt-driver\nCloses-Bug: 1863728\nSigned-off-by: Jonathan Race <jrace@augusta.edu>\nChange-Id: Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8\n'}, {'number': 2, 'created': '2022-01-11 18:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/34f32834dd9a0110c322e85eddc1e0c28e25075b', 'message': 'Adds Pick guest CPU architecture based on host arch in libvirt driver support\n\nImplement new image meta property that allows for the selection of the\ncorrect QEMU binary, cpu architecture, and machine type for a guest\narchitecture that is different than the host architecture; An x86_64\nguest running on an AArch64 host, and vice versa.\n\nExpanded and added content for nova scheduler and os-traits to\nbe leveraged by the prefilter.\n\nImplements: blueprint pick-guest-arch-based-on-host-arch-in-libvirt-driver\nCloses-Bug: 1863728\nSigned-off-by: Jonathan Race <jrace@augusta.edu>\nChange-Id: Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8\n'}, {'number': 3, 'created': '2022-01-12 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/22312555920739e301f5c7560232559798d46aaa', 'message': 'Adds Pick guest CPU architecture based on host arch in libvirt driver support\n\nImplement new image meta property that allows for the selection of the\ncorrect QEMU binary, cpu architecture, and machine type for a guest\narchitecture that is different than the host architecture; An x86_64\nguest running on an AArch64 host, and vice versa.\n\nExpanded and added content for nova scheduler and os-traits to\nbe leveraged by the prefilter, and added current support for proposed\narchitectures.\n\nImplements: blueprint pick-guest-arch-based-on-host-arch-in-libvirt-driver\nCloses-Bug: 1863728\nSigned-off-by: Jonathan Race <jrace@augusta.edu>\nChange-Id: Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8\n'}, {'number': 4, 'created': '2022-01-12 16:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1cbba68eb7509c0dc4a32836ba69d5b9ee50ffde', 'message': 'Adds Pick guest CPU architecture based on host arch in libvirt driver support\n\nImplement new image meta property that allows for the selection of the\ncorrect QEMU binary, cpu architecture, and machine type for a guest\narchitecture that is different than the host architecture; An x86_64\nguest running on an AArch64 host, and vice versa.\n\nExpanded and added content for nova scheduler and os-traits to\nbe leveraged by the prefilter, and added current support for proposed\narchitectures.\n\nImplements: blueprint pick-guest-arch-based-on-host-arch-in-libvirt-driver\nCloses-Bug: 1863728\nSigned-off-by: Jonathan Race <jrace@augusta.edu>\nChange-Id: Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8\n'}, {'number': 5, 'created': '2022-01-12 19:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ad31ed54d1a6ea91151032d6c4d8dd5c6960d9b3', 'message': 'Adds Pick guest CPU architecture based on host arch in libvirt driver support\n\nImplement new image meta property that allows for the selection of the\ncorrect QEMU binary, cpu architecture, and machine type for a guest\narchitecture that is different than the host architecture; An x86_64\nguest running on an AArch64 host, and vice versa.\n\nExpanded and added content for nova scheduler and os-traits to\nbe leveraged by the prefilter, and added current support for proposed\narchitectures.\n\nImplements: blueprint pick-guest-arch-based-on-host-arch-in-libvirt-driver\nCloses-Bug: 1863728\nSigned-off-by: Jonathan Race <jrace@augusta.edu>\nChange-Id: Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8\n'}, {'number': 6, 'created': '2022-01-13 13:23:52.000000000', 'files': ['specs/yoga/approved/pick-guest-arch-based-on-host-arch-in-libvirt-driver.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/69ddbf090ef8c3c26aeb471a5c60bbf64536aa44', 'message': 'Adds Pick guest CPU architecture based on host arch in libvirt driver support\n\nImplement new image meta property that allows for the selection of the\ncorrect QEMU binary, cpu architecture, and machine type for a guest\narchitecture that is different than the host architecture; An x86_64\nguest running on an AArch64 host, and vice versa.\n\nExpanded and added content for nova scheduler and os-traits to\nbe leveraged by the prefilter, and added current support for proposed\narchitectures.\n\nImplements: blueprint pick-guest-arch-based-on-host-arch-in-libvirt-driver\nCloses-Bug: 1863728\nSigned-off-by: Jonathan Race <jrace@augusta.edu>\nChange-Id: Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8\n'}]",49,824044,69ddbf090ef8c3c26aeb471a5c60bbf64536aa44,33,4,6,34141,,,0,"Adds Pick guest CPU architecture based on host arch in libvirt driver support

Implement new image meta property that allows for the selection of the
correct QEMU binary, cpu architecture, and machine type for a guest
architecture that is different than the host architecture; An x86_64
guest running on an AArch64 host, and vice versa.

Expanded and added content for nova scheduler and os-traits to
be leveraged by the prefilter, and added current support for proposed
architectures.

Implements: blueprint pick-guest-arch-based-on-host-arch-in-libvirt-driver
Closes-Bug: 1863728
Signed-off-by: Jonathan Race <jrace@augusta.edu>
Change-Id: Iccfa53e06b44be3f8a70de6082fe0990b2ed23e8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/44/824044/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/implemented/pick-guest-arch-based-on-host-arch-in-libvirt-driver.rst'],1,4ed9e3fbc26b50224740a2503934711bf63d9b99,bp/pick-guest-arch-based-on-host-arch-in-libvirt-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================ Pick guest CPU architecture based on host arch in libvirt driver ================================================================ https://blueprints.launchpad.net/nova/+spec/pick-guest-arch-based-on-host-arch-in-libvirt-driver Implement new image meta property that allows for the selection of the correct QEMU binary, cpu architecture, and machine type for a guest architecture that is different than the host architecture; An x86_64 guest running on an AArch64 host, and vice versa. Problem description =================== Currently, in many places, Nova's libvirt driver makes decisions on how to configure guest XML based on *host* CPU architecture ``caps.host.cpu.arch``. That is not optimal in all cases where physical hardware support is limited for non-traditional architectures. So all of the said code needs to be reworked to make those decisions based on ``guest`` CPU architecture (i.e. ``guest.arch``, which should be set based on the image metadata property, ``hw_emualtion_architecture``). A related piece of work is to distinguish between hosts that can do AArch64, PPC64, Etc. via KVM (which is hardware-accelerated) vs. those that can only do it via plain emulation ``TCG`` — this is to ensure that guests are not arbitrarily scheduled on hosts that are incapable of hardware acceleration, thus losing out on performance-related benefits. Use Cases --------- * As an admin/operator I want to allow for architecture emulation due to constraints with physical hardware. * As an admin/operator I want to deploy AArch64, PPC64, MIPs, and s390x as an emulated architecture on x86_64. * As an admin/operator I want to deploy x86_64 as an emulated architecture on AArch64. Proposed change =============== To enable this new cpu architecture spec, an image property will be introduced and an additional function which allows for checks and comparisions between the host architecture and desired emulation architecture .. note:: The following ``hw_architecture`` image property relates to the physical architecture of the compute hosts. If physical nodes are not present for the desired architecture then the instance will not be provisioned. Allow alternate architecture to be defined by image property ------------------------------------------------------------ To enable defining the guest architecture the following string based image property will be introduced: * ``hw_emulation_Architecture`` When this image property is not defined then instance provisioning will occur as normal. Update os-traits ---------------- The below demonstrates the supported compute architectures for emulatation, wher as the hw architecture has only ``X86_64``, and ``AARCH64`` defined. .. code-block:: python TRAITS = [ 'AARCH64', 'PPC64LE', 'MIPSEL', 'S390X', 'X86_64', ] Retrieve OS architecture for LibvirtConfigGuest ----------------------------------------------- To pull the required host capability in to the guest config for libvirt. .. code-block:: python if self.os_arch is not None: type_node.set(""arch"", self.os_arch) Perform architecture test against emulation ------------------------------------------- To facilitate a simple check throughout the virt libvirt driver the following function does a check and will will set the appropriate guest architecture based on emulation, if defined. .. code-block:: python def _check_emulation_arch(self, image_meta): emulation_arch = image_meta.properties.get(""hw_emulation_architecture"") if emulation_arch: arch = emulation_arch else: arch = libvirt_utils.get_arch(image_meta) return arch Utilization of the actual check performed through processing the image_meta dictionary values. .. code-block:: python arch = self._check_emulation_arch(image_meta) Alternatives ------------ Other attempts have been made leverage existing image meta properties such as ``hw_architecture`` only; however, this opens various other issues with conflicting check and alterations of core code. This also runs into issues during the scheduling of instances as there will be no matching physical host architectures, which is what this spec aims to solves. While the best option is providing actual physical support for the cpu architectures you want to test, this opens the ability to a wider audience to perform the same type of local emulation they can with QEMU within an openstack environment. Data model impact ----------------- * Adds a new set of standard traits to os-traits. * Adds new property to image_meta objects. * The OS arch value will be pulled into the ``LibvirtConfigGuest``. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ This is expected to improve boot performance in a heterogeneous cloud by reducing reschedules. By passing a more constrained request to placement this feature should also reduce the resulting set of allocation_candidates that are returned. This will also ensure that native support is handled first over emulation as it requires a specific protperty to be set in order to perform the required checks. Other deployer impact --------------------- Ensure that all the desired QEMU binaries are installed on the physical nodes for the cpu architectures that you would like to support. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: chateaulav - Jonathan Race Feature Liaison --------------- Feature liaison: Liaison Needed Work Items ---------- - Add new traits - Update prefilter - Modify libvirt virt driver to perform checks for emulation architecture - Add new property to image_meta objects - Modify libvirt virt config to pull OS arch into LibvirtConfigGuest - Tests Dependencies ============ Adds the ``re`` python library to ``test_uefi.py`` to allow for the test to function properly against any cpu architecture. no specifc version is is required as it is the most basic of regex, ``.*``. Testing ======= This can be tested entirely in the gate. Unit tests will be added. The additional unit tests added to virt libvirt driver demonstrates that if ``hw_emulation_architecture`` is set, that it will take precedence and be selected over the OS architecture. Documentation Impact ==================== A release note will be added. As there is enduser impact, user facing documentation will be required for the supported emulation architecture types and the required image meta properties to need to be set. References ========== * http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026544.html * https://blueprints.launchpad.net/nova/+spec/pick-guest-arch-based-on-host-arch-in-libvirt-driver History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced ",,262,0
openstack%2Fskyline-console~master~I9da4178175c3cc5eec9dccab24d1db543ca62821,openstack/skyline-console,master,I9da4178175c3cc5eec9dccab24d1db543ca62821,feature: update to support configuration,MERGED,2022-01-13 08:32:46.000000000,2022-01-13 14:32:44.000000000,2022-01-13 14:32:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-01-13 08:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7aab95fb404bc6c7685460984980c62a4ff24740', 'message': 'feature: update to support configuration\n\nupdate to support configuration\n\nChange-Id: I9da4178175c3cc5eec9dccab24d1db543ca62821\n'}, {'number': 2, 'created': '2022-01-13 08:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f8f9a631fdda7ed005c0fdef39a711de8a7b0977', 'message': 'feature: update to support configuration\n\nupdate to support configuration\n\nChange-Id: I9da4178175c3cc5eec9dccab24d1db543ca62821\n'}, {'number': 3, 'created': '2022-01-13 09:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/01b4eb3dc2a6f7fabfadec5b8574bbefa0189377', 'message': 'feature: update to support configuration\n\nupdate to support configuration\n\nChange-Id: I9da4178175c3cc5eec9dccab24d1db543ca62821\n'}, {'number': 4, 'created': '2022-01-13 10:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/75e4240f968e9b5d0ce44797a7bdb98608e58da3', 'message': 'feature: update to support configuration\n\nupdate to support configuration\n\nChange-Id: I9da4178175c3cc5eec9dccab24d1db543ca62821\n'}, {'number': 5, 'created': '2022-01-13 11:44:26.000000000', 'files': ['src/layouts/Auth/index.jsx', '.zuul.yaml', 'src/pages/auth/containers/Login/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/937a17062b3a58d60ebb72f1d8e6531693968648', 'message': 'feature: update to support configuration\n\nupdate to support configuration\n\nChange-Id: I9da4178175c3cc5eec9dccab24d1db543ca62821\n'}]",0,824511,937a17062b3a58d60ebb72f1d8e6531693968648,10,2,5,33636,,,0,"feature: update to support configuration

update to support configuration

Change-Id: I9da4178175c3cc5eec9dccab24d1db543ca62821
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/11/824511/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/layouts/Auth/index.jsx', 'src/pages/auth/containers/Login/index.jsx']",2,7aab95fb404bc6c7685460984980c62a4ff24740,, <h1 className={styles.welcome}>{this.productName}</h1>," <h1 className={styles.welcome}> {t('Welcome, {name}', { name: this.productName })} </h1>",7,4
openstack%2Fcharm-rabbitmq-server~master~Iba83aebdb00d136b7e57e271d51980ea231ab5e7,openstack/charm-rabbitmq-server,master,Iba83aebdb00d136b7e57e271d51980ea231ab5e7,Create actions to manage queue policies,NEW,2021-08-12 13:09:07.000000000,2022-01-13 14:29:59.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24890}, {'_account_id': 30028}]","[{'number': 1, 'created': '2021-08-12 13:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/8d5ad6bd3362658faf751bffd09ee089fd99f413', 'message': 'Create actions to manage queue policies\n\nSet a maximum length to a queue, exchange or both by limiting\nnumber or size of messages. This is a feature that allows rabbitmq\nto prevent an over-accumulation of unprocessed messages.\n\nList and clear policies in a vhost\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619\n\nCloses-Bug: #1908260\nChange-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7\n'}, {'number': 2, 'created': '2021-08-12 14:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/b0138fa488696aa8997fb77e11fedb2b37f3a7bf', 'message': 'Create actions to manage queue policies\n\nSet a maximum length to a queue, exchange or both by limiting\nnumber or size of messages. This is a feature that allows rabbitmq\nto prevent an over-accumulation of unprocessed messages.\n\nList and clear policies in a vhost\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619\n\nCloses-Bug: #1908260\nChange-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7\n'}, {'number': 3, 'created': '2021-08-12 15:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/3260473d813a4e2bb0a6ecf4c2add22ddb777303', 'message': 'Create actions to manage queue policies\n\nSet a maximum length to a queue, exchange or both by limiting\nnumber or size of messages. This is a feature that allows rabbitmq\nto prevent an over-accumulation of unprocessed messages.\n\nList and clear policies in a vhost\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619\n\nCloses-Bug: #1908260\nChange-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7\n'}, {'number': 4, 'created': '2021-08-13 20:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/479a0368a13fa8f7f97644457e2dd20228d05fef', 'message': 'Create actions to manage queue policies\n\nSet a maximum length to a queue, exchange or both by limiting\nnumber or size of messages. This is a feature that allows rabbitmq\nto prevent an over-accumulation of unprocessed messages.\n\nList and clear policies in a vhost\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619\n\nCloses-Bug: #1908260\nChange-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7\n'}, {'number': 5, 'created': '2021-08-23 15:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/92ed7fb5cde4cbc7acd776113661d67a4fbc589b', 'message': 'Create actions to manage queue policies\n\nSet a maximum length to a queue, exchange or both by limiting\nnumber or size of messages. This is a feature that allows rabbitmq\nto prevent an over-accumulation of unprocessed messages.\n\nList and clear policies in a vhost\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619\n\nCloses-Bug: #1908260\nChange-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7\n'}, {'number': 6, 'created': '2021-09-07 19:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/0f47f6c64854a0faf6c32dc67f114641f9710da2', 'message': 'Create actions to manage queue policies\n\nSet a maximum length to a queue, exchange or both by limiting\nnumber or size of messages. This is a feature that allows rabbitmq\nto prevent an over-accumulation of unprocessed messages.\n\nList and clear policies in a vhost\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619\n\nCloses-Bug: #1908260\nChange-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7\n'}, {'number': 7, 'created': '2021-09-17 15:19:58.000000000', 'files': ['actions/clear-policy', 'unit_tests/test_rabbit_utils.py', 'actions/actions.py', 'actions/set-policy-max-length', 'unit_tests/test_actions.py', 'actions/show-policies', 'hooks/rabbit_utils.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/407eb2d023ffb37160860daa31343a6a55d6d8bb', 'message': 'Create actions to manage queue policies\n\nSet a maximum length to a queue, exchange or both by limiting\nnumber or size of messages. This is a feature that allows rabbitmq\nto prevent an over-accumulation of unprocessed messages.\n\nList and clear policies in a vhost\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619\n\nCloses-Bug: #1908260\nChange-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7\n'}]",44,804383,407eb2d023ffb37160860daa31343a6a55d6d8bb,36,5,7,33536,,,0,"Create actions to manage queue policies

Set a maximum length to a queue, exchange or both by limiting
number or size of messages. This is a feature that allows rabbitmq
to prevent an over-accumulation of unprocessed messages.

List and clear policies in a vhost

Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/619

Closes-Bug: #1908260
Change-Id: Iba83aebdb00d136b7e57e271d51980ea231ab5e7
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/83/804383/6 && git format-patch -1 --stdout FETCH_HEAD,"['actions/clear-policy', 'actions/actions.py', 'unit_tests/test_rabbit_utils.py', 'test-requirements.txt', 'actions/check-policies', 'actions/set-max-lenght', 'unit_tests/test_actions.py', 'hooks/rabbit_utils.py', 'actions.yaml']",9,8d5ad6bd3362658faf751bffd09ee089fd99f413,bug/1908260,"clear-policy: description: Clears a policy params: vhost: type: string default: ""/"" description: Clear policy from the specified vhost. Eg; ""openstack"". name: type: string default: description: Name of the policy.check-policies: description: | Show current policies from specified vhost params: vhost: type: string default: ""/"" description: Show policies from the specified vhost. Eg; ""openstack"".set-max-lenght: description: | Set a maximum length to a queue, exchange or both by limiting number or size of messages. This is a feature that allows rabbitmq to prevent an over-accumulation of unprocessed messages. params: apply_to: type: string default: ""queues"" description: apply-to should be ""queues"", ""exchanges"" or ""all"" vhost: type: string default: ""/"" description: Set policies to a specified vhost. Eg; ""openstack"". pattern: type: string default: description: Regular expression pattern that will be used to match queues. priority: type: integer default: 0 description: Policy priority size: type: integer default: 100 description: Number of messages or length in bytes. lenght_type: type: string default: ""max-length"" description: | To specify a maximum length using policy, add the key ""max-length"" or ""max-length-bytes"" to a policy definition overflow: type: string default: ""reject-publish-dlx"" description: | If overflow is set to ""reject-publish"" or ""reject-publish-dlx"", the most recently published messages will be discarded. The difference between reject-publish and reject-publish-dlx is that reject-publish-dlx also dead-letters rejected messages. More informations can be found at https://www.rabbitmq.com/maxlength.html#overflow-behaviour",,307,1
openstack%2Fansible-role-python_venv_build~master~Iadedc5b35f1919058c9971b3ef03d403d153ed62,openstack/ansible-role-python_venv_build,master,Iadedc5b35f1919058c9971b3ef03d403d153ed62,Fix conditional for installing required wheel build packages,MERGED,2022-01-11 14:28:31.000000000,2022-01-13 14:28:17.000000000,2022-01-13 14:25:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 14:28:31.000000000', 'files': ['tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/c46feec5c604879db5979cd2ee1710dec895f4e5', 'message': 'Fix conditional for installing required wheel build packages\n\nPreviously the build base package list was ignored, and the\ncondition included the install package list which was not relevant.\n\nChange-Id: Iadedc5b35f1919058c9971b3ef03d403d153ed62\n'}]",0,824189,c46feec5c604879db5979cd2ee1710dec895f4e5,9,3,1,25023,,,0,"Fix conditional for installing required wheel build packages

Previously the build base package list was ignored, and the
condition included the install package list which was not relevant.

Change-Id: Iadedc5b35f1919058c9971b3ef03d403d153ed62
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/89/824189/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_wheel_build.yml'],1,c46feec5c604879db5979cd2ee1710dec895f4e5,osa/centos-9," vars: _package_list: ""{{ venv_build_base_distro_package_list | union(venv_build_distro_package_list) }}"" package: name: ""{{ _package_list }}"" - _package_list | length > 0"," package: name: ""{{ venv_build_base_distro_package_list | union(venv_build_distro_package_list) }}"" - (venv_build_distro_package_list | length > 0) or (venv_install_distro_package_list | length > 0)",4,3
openstack%2Fopenstack-ansible-openstack_hosts~master~Iaeef7639871dc6a9c8d54d0bfbf74dbc9e483b37,openstack/openstack-ansible-openstack_hosts,master,Iaeef7639871dc6a9c8d54d0bfbf74dbc9e483b37,Remove use of advanced-virtualisation repo for centos,MERGED,2022-01-11 15:20:56.000000000,2022-01-13 14:27:54.000000000,2022-01-13 14:24:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 15:20:56.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b13adf0bef950449d33a69f7cd62fb5baab99605', 'message': 'Remove use of advanced-virtualisation repo for centos\n\nWe see no packages installed from this repo in CI, and it will\ngo away with the EOL of centos-8\n\nChange-Id: Iaeef7639871dc6a9c8d54d0bfbf74dbc9e483b37\n'}]",0,824202,b13adf0bef950449d33a69f7cd62fb5baab99605,8,3,1,25023,,,0,"Remove use of advanced-virtualisation repo for centos

We see no packages installed from this repo in CI, and it will
go away with the EOL of centos-8

Change-Id: Iaeef7639871dc6a9c8d54d0bfbf74dbc9e483b37
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/02/824202/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,b13adf0bef950449d33a69f7cd62fb5baab99605,,," - name: advanced-virtualization file: virt description: Advanced Virtualization mirror baseurl: ""{{ openstack_hosts_centos_mirror_url }}/8/virt/$basearch/advanced-virtualization/"" gpgcheck: no module_hotfixes: yes",0,6
openstack%2Fneutron~master~I34424a271f6c66cd99852c6109a96a4dcf374913,openstack/neutron,master,I34424a271f6c66cd99852c6109a96a4dcf374913,"Remove ""PortBindingMixin"" class and related DB table",MERGED,2022-01-10 16:25:29.000000000,2022-01-13 14:19:12.000000000,2022-01-13 14:11:16.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 16:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd146e96646488044a191111e08537153ef2061d', 'message': 'Remove ""PortBindingMixin"" class and related DB table\n\nNot Neutron nor other active projects use ""PortBindingMixin"" class or\nthe table ""portbindingports"" anymore.\n\nCloses-Bug: # TODO\nChange-Id: I34424a271f6c66cd99852c6109a96a4dcf374913\n'}, {'number': 2, 'created': '2022-01-10 16:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80064837d3a1e0f555911fbee7f68fa9f18e502e', 'message': 'Remove ""PortBindingMixin"" class and related DB table\n\nNot Neutron nor other active projects use ""PortBindingMixin"" class or\nthe table ""portbindingports"" anymore.\n\nCloses-Bug: #1956980\nChange-Id: I34424a271f6c66cd99852c6109a96a4dcf374913\n'}, {'number': 3, 'created': '2022-01-11 12:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78fdf5a3ce378e111f622ea537640407e2b8dff9', 'message': 'Remove ""PortBindingMixin"" class and related DB table\n\nNot Neutron nor other active projects use ""PortBindingMixin"" class or\nthe table ""portbindingports"" anymore.\n\nCloses-Bug: #1956980\nChange-Id: I34424a271f6c66cd99852c6109a96a4dcf374913\n'}, {'number': 4, 'created': '2022-01-12 08:42:44.000000000', 'files': ['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/db/migration/alembic_migrations/versions/yoga/expand/8160f7a9cebb_drop_portbindingports_table.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/portbindings_base.py', 'neutron/db/models/portbinding.py', 'neutron/tests/unit/extensions/test_segment.py', 'releasenotes/notes/drop-portbindingports-table-575c6d059c698bf0.yaml', 'neutron/db/portbindings_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e1ec521180bebe4a01298bc8cdec765cc1ec796', 'message': 'Remove ""PortBindingMixin"" class and related DB table\n\nNot Neutron nor other active projects use ""PortBindingMixin"" class or\nthe table ""portbindingports"" anymore.\n\nCloses-Bug: #1956980\nChange-Id: I34424a271f6c66cd99852c6109a96a4dcf374913\n'}]",9,824009,0e1ec521180bebe4a01298bc8cdec765cc1ec796,27,5,4,16688,,,0,"Remove ""PortBindingMixin"" class and related DB table

Not Neutron nor other active projects use ""PortBindingMixin"" class or
the table ""portbindingports"" anymore.

Closes-Bug: #1956980
Change-Id: I34424a271f6c66cd99852c6109a96a4dcf374913
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/824009/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/db/migration/alembic_migrations/versions/yoga/expand/8160f7a9cebb_drop_portbindingports_table.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/portbindings_base.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/db/portbindings_db.py']",6,bd146e96646488044a191111e08537153ef2061d,bug/1956980,,"# Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import port as port_def from neutron_lib.api.definitions import portbindings from neutron_lib.api import validators from neutron_lib.db import api as db_api from neutron_lib.db import model_query from neutron_lib.db import resource_extend from neutron_lib.plugins import directory from neutron.db.models import portbinding as pmodels from neutron.db import models_v2 from neutron.db import portbindings_base def _port_model_hook(context, original_model, query): query = query.outerjoin( pmodels.PortBindingPort, (original_model.id == pmodels.PortBindingPort.port_id)) return query def _port_result_filter_hook(query, filters): values = filters and filters.get(portbindings.HOST_ID, []) if not values: return query query = query.filter(pmodels.PortBindingPort.host.in_(values)) return query @resource_extend.has_resource_extenders class PortBindingMixin(portbindings_base.PortBindingBaseMixin): def __new__(cls, *args, **kwargs): model_query.register_hook( models_v2.Port, ""portbindings_port"", query_hook=_port_model_hook, filter_hook=None, result_filters=_port_result_filter_hook) return super(PortBindingMixin, cls).__new__(cls, *args, **kwargs) def _process_portbindings_create_and_update(self, context, port_data, port): binding_profile = port.get(portbindings.PROFILE) binding_profile_set = validators.is_attr_set(binding_profile) if not binding_profile_set and binding_profile is not None: del port[portbindings.PROFILE] binding_vnic = port.get(portbindings.VNIC_TYPE) binding_vnic_set = validators.is_attr_set(binding_vnic) if not binding_vnic_set and binding_vnic is not None: del port[portbindings.VNIC_TYPE] # REVISIT(irenab) Add support for vnic_type for plugins that # can handle more than one type. # Currently implemented for ML2 plugin that does not use # PortBindingMixin. host = port_data.get(portbindings.HOST_ID) host_set = validators.is_attr_set(host) with db_api.CONTEXT_WRITER.using(context): bind_port = context.session.query( pmodels.PortBindingPort).filter_by(port_id=port['id']).first() if host_set: if not bind_port: context.session.add( pmodels.PortBindingPort(port_id=port['id'], host=host)) else: bind_port.host = host else: host = bind_port.host if bind_port else None self._extend_port_dict_binding_host(port, host) def get_port_host(self, context, port_id): with db_api.CONTEXT_READER.using(context): bind_port = ( context.session.query(pmodels.PortBindingPort.host). filter_by(port_id=port_id). first() ) return bind_port.host if bind_port else None def _extend_port_dict_binding_host(self, port_res, host): super(PortBindingMixin, self).extend_port_dict_binding( port_res, None) port_res[portbindings.HOST_ID] = host def extend_port_dict_binding(self, port_res, port_db): host = port_db.portbinding.host if port_db.portbinding else None self._extend_port_dict_binding_host(port_res, host) @staticmethod @resource_extend.extends([port_def.COLLECTION_NAME]) def _extend_port_dict_binding(port_res, port_db): plugin = directory.get_plugin() if not isinstance(plugin, PortBindingMixin): return plugin.extend_port_dict_binding(port_res, port_db) ",34,157
openstack%2Fnova-specs~master~I076c88a68c358933c013ce32dfa26a4ded9aa653,openstack/nova-specs,master,I076c88a68c358933c013ce32dfa26a4ded9aa653,"Repropose ""CPU selection with guest hypervisor consideration""",MERGED,2022-01-10 19:35:34.000000000,2022-01-13 14:17:30.000000000,2022-01-13 14:07:20.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 19:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/85820ea1e65cc4ffb0ace268a70d54b1e9fa6e2d', 'message': 'Repropose ""CPU selection with guest hypervisor consideration""\n\nFor ""Yoga"" release.\n\nChange-Id: I076c88a68c358933c013ce32dfa26a4ded9aa653\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2022-01-13 11:08:38.000000000', 'files': ['specs/yoga/approved/cpu-selection-with-hypervisor-consideration.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8ac8abd38ed0ad13f2de166595ae5bdb03a7bf65', 'message': 'Repropose ""CPU selection with guest hypervisor consideration""\n\nFor ""Yoga"" release.\n\nPreviously-approved: Xena\n\nBlueprint: cpu-selection-with-hypervisor-consideration\n\nChange-Id: I076c88a68c358933c013ce32dfa26a4ded9aa653\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",4,824053,8ac8abd38ed0ad13f2de166595ae5bdb03a7bf65,12,3,2,6962,,,0,"Repropose ""CPU selection with guest hypervisor consideration""

For ""Yoga"" release.

Previously-approved: Xena

Blueprint: cpu-selection-with-hypervisor-consideration

Change-Id: I076c88a68c358933c013ce32dfa26a4ded9aa653
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/53/824053/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/cpu-selection-with-hypervisor-consideration.rst'],1,85820ea1e65cc4ffb0ace268a70d54b1e9fa6e2d,bp/cpu-selection-with-hypervisor-consideration,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Guest CPU selection with hypervisor consideration ================================================= https://blueprints.launchpad.net/nova/+spec/cpu-selection-with-hypervisor-consideration Make Nova's guest CPU selection approach more effective and reliable by introducing two new QEMU- and libvirt-based CPU configuration APIs: ``baselineHypervisorCPU()`` and ``compareHypervisorCPU()``. These new APIs are more ""hypervisor-literate"" compared to the existing libvirt APIs that Nova uses. As in, the new APIs take into account what the ""host hypervisor"" (meaning: KVM, QEMU, and what libvirt knows about the host) is capable of. Taking advantage of these newer APIs will allow Nova to make more well-informed decisions when determining CPU models that are compatible across different hosts. Problem description =================== The current guest CPU config libvirt APIs that Nova uses, ``compareCPU()`` and ``baselineCPU()``, are ""not very useful"" (quoting the cover letter [1]_ of the libvirt patch series that introduced the newer APIs), because they don't consider the capabilities of the ""host hypervisor"" (KVM, QEMU and details libvirt knows about the host). More concretely, with the existing APIs, ``compareCPU()`` and ``baselineCPU()``, there is no way to ask if a given CPU model plus CPU flags combination is supported by KVM and a specific QEMU binary on the host. For example, today operators have to be careful about how they configure the libvirt driver with regard to `cpu_model` and `cpu_model_extra_flags`, because the wrong combination (e.g. an invalid CPU flag that is not supported by the host hypervisor) can lead to an instance failing to spawn. I.e. operators have to manually validate the extra CPU flags they're supplying to Nova are actually supported by the given compute host. This spec will allow Nova [2]_ to do fine-grained validation of a given CPU model plus CPU flags against a specific QEMU binary (and KVM) to allow well-informed guest CPU configuration decisions. And taking advantage of the said two new libvirt APIs will also allow computing a more accurate baseline guest CPU that permits live migration across several compute nodes. And provides a clearer picture of what CPU features are required to get mitigations from Meltdown and Spectre. Use Cases --------- By taking advantage of the two CPU configuration APIs, ``baselineHypervisorCPU()`` and ``compareHypervisorCPU()``, Nova will now be able to make meaningful decisions when determining guest CPU models and their features: - While determining guest CPU models, Nova can take into account several other aspects, e.g. the type of virtualization (pure emulation vs. hardware-accelerated), QEMU binary's capabilities, guest machine type, and CPU architcture to construct a better-informed guest CPU. - Nova will be able to do more fine-grained validation of CPU models and flags, i.e. answer questions like: ""Is the combination of Intel's ``IvyBridge`` CPU model plus the CPU flags ``pcid`` and ``ssbd`` supported by the host hypervisor?"" - Armed with the above two points, Nova will also be positioned to better report more accurate CPU traits. (I.e. improve the ``_get_cpu_traits()`` method.) - Operators can get a more accurate view on what guest CPU models and features their guests can realistically expect. Proposed change =============== Make Nova's CPU selection strategy more effective by taking advantage of the two new libvirt APIs: ``baselineHypervisorCPU()`` and ``compareHypervisorCPU()`` [3]_. These APIs provide more useful ways to determine compatible models among CPU variants, and elimiates bugs in the older CPU config libvirt APIs along the way. With this change, the libvirt driver will automatically validate if a certain combination of CPU model + flags can work on a given compute host — e.g. Nova will now be able to answer: ""Is this combination of 'IvyBridge' plus CPU flags 'pcid' & 'pdpe1gb' supported by KVM, QEMU and libvirt on the host?"". And, if the given combination of CPU model plus flags are invalid, the ``nova-compute`` service will refuse to start, with an actionable log message. This will let the operator set the CPU model plus flags, and let Nova handle the validation. A quick description of the two APIs: ``baselineHypervisorCPU()`` Purpose: This API computes the most feature-rich ""baseline"" CPU (which includes CPU model plus additional features) that is (a) compatible with all given host CPUs (as described in an XML document), so that one can live migrate across the said hosts; and (b) is supported by the host hypervisor. It is a more useful version of the older ``baselinCPU()``, which does not consider any hypervisor capabilities when computing the baseline CPU. A comparison of ``baselineCPU()`` and ``baselineHypervisorCPU()`` APIs, in terms of what parameters they take into account: .. code-block:: text +-----------+--------------------+-----------------------------+ | | baselineCPU() | baselineHypervisorCPU() | +-----------+--------------------+-----------------------------+ | | XML document | XML document describing | | | describing one | one or more host CPUs | | | or more host CPUs | | | +--------------------+-----------------------------+ | | | path to the QEMU binary | | | +-----------------------------+ |Parameters | | the type of virtualization | | | | (e.g. KVM, QEMU) | | | +-----------------------------+ | | | guest machine type | | | +-----------------------------+ | | | CPU architecture | +-----------+--------------------+-----------------------------+ ``compareHypervisorCPU()`` Purpose: This API compares a given CPU description with the CPU capabilities the host hypervisor is able to provide. It is a more useful version of the existing ``compareCPU()``, which compares the CPU definition with the host CPU without considering any specific hypervisor and its abilities. A comparison of ``compareCPU()`` and ``compareHypervisorCPU()`` APIs, in terms of what parameters they take into account: .. code-block:: text +-----------+--------------------+-----------------------------+ | | compareCPU() | compareHypervisorCPU() | +-----------+--------------------+-----------------------------+ | | XML describing the | XML describing the CPU | | | CPU to be compared | to be compared | | +--------------------+-----------------------------+ | | | path to the QEMU binary | | | +-----------------------------+ |Parameters | | the type of virtualization | | | | (e.g. KVM, QEMU) | | | +-----------------------------+ | | | guest machine type | | | +-----------------------------+ | | | CPU architecture | +-----------+--------------------+-----------------------------+ By making Nova use the above two APIs, it can now do more advanced validation of CPU model plus flags compatibility, which ensures an instance cannot be launched with CPU features that don't exist in the host CPU. Alternatives ------------ We could just ""stay put"" and keep chugging along with the existing older libvirt APIs, ``baselineCPU()`` and ``compareCPU()``. But that would be doing a disservice to our users, as we have more reliable APIs that provide a more well-informed guest CPU configuration. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- This implicitly improves security -- as in, with these new APIs, you should be able to get a better sense of what CPU features are required to get mitigations from Meltdown and Spectre. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- The following libvirt and QEMU versions: - For ``x86_64``: QEMU >= 2.9, libvirt >= 4.4.0 - For ``s390x``: QEMU >= 2.9, libvirt work is actively in progress upstream [4]_) Developer impact ---------------- None. Upgrade impact -------------- For ``x86_64``, users should have the minimum-required verisons of libvirt and QEMU to be 4.4.0 and 2.9, respectively. Implementation ============== Assignee(s) ----------- Primary assignee: <chengsheng> <kashyapc> Work Items ---------- - Introduce a Nova wrapper method, baseline_hypervisor_cpu(), for libvirt's baselineHypervisorCPU() API. - Introduce a Nova wrapper method, compare_hypervisor_cpu(), for libvirt's compareHypervisorCPU() API. - Rework the _get_guest_cpu_model_config() method in the libvirt driver to take advantage of the fine-grained validation of CPU model plus features (against a given QEMU binary), if available on the given compute host. - Rewrite the _compare_cpu() method's the logic in the libvirt driver to take advantage of compareHypervisorCPU(). (While at it, rename it to _compare_hypervisor_cpu(). - Update the check_can_live_migrate_destination() method in the libvirt driver to use the newer wrapper API. - Update the get_capabilities() method in nova/virt/libvirt/host.py to take advantage of baseline_hypervisor_cpu(), if available on the given compute host. - This can be done separately, but noting for completeness' sake: Update _get_cpu_traits() method to use baselineHypervisorCPU(). (Support for s390x shouldn't be a blocker to get started on this.) Dependencies ============ This is not a strict dependency, but as noted earlier, support for s390x for libvirt's compareHypervisorCPU() and baselineHypervisorCPU() is still in progress upstream. Testing ======= - Introduce ""fake libvirt"" methods for baselineHypervisorCPU() and compareHypervisorCPU() APIs with minimum-required functionanlity (because duplicating libvirt's logic is complicated and doesn't add much value to replicate it). - Unit tests. - Potentially a couple of functional tests. Documentation Impact ==================== Consider adding a section in the Nova admin guide on how the newer APIs allow more reliable guest CPU configuration. Also note explicitly that we recommend to stick to ``host-model``, which is the the default CPU mode for the libvirt driver. References ========== .. [1] ""New CPU related APIs"" -- https://www.redhat.com/archives/libvir-list/2018-May/msg01204.html .. [2] ""[RFE] Fine-grained API to validate if a given CPU model and flags are supported by QEMU / KVM"" -- https://bugzilla.redhat.com/show_bug.cgi?id=1559832 .. [3] Refer to slide-28 here: https://kashyapc.fedorapeople.org/Effective-Virtual-CPU-Configuration-in-Nova-Berlin2018.pdf .. [4] libvirt work for s390x: https://www.redhat.com/archives/libvir-list/2019-January/msg00310.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Reproposed * - Yoga ",,321,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~I11950830fada6c4c22b313136f4a2aa067df8a86,openstack/openstack-ansible,stable/victoria,I11950830fada6c4c22b313136f4a2aa067df8a86,Fix rich version for ansible-lint,MERGED,2022-01-12 16:29:19.000000000,2022-01-13 14:17:03.000000000,2022-01-13 14:07:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 16:29:19.000000000', 'files': ['global-requirement-pins.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0c181a02869516032644623c15b2cec0ebd67581', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nChange-Id: I11950830fada6c4c22b313136f4a2aa067df8a86\n""}]",0,824456,0c181a02869516032644623c15b2cec0ebd67581,8,3,1,28619,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

Change-Id: I11950830fada6c4c22b313136f4a2aa067df8a86
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/824456/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirement-pins.txt'],1,0c181a02869516032644623c15b2cec0ebd67581,,"rich>=9.5.1,<11.0.0 # required for ansible-lint",,1,0
openstack%2Fopenstack-ansible~stable%2Fussuri~Ie8bb51e68519482ae0276948183a8254ad9c5a96,openstack/openstack-ansible,stable/ussuri,Ie8bb51e68519482ae0276948183a8254ad9c5a96,Remove opensuse jobs,MERGED,2022-01-11 16:21:17.000000000,2022-01-13 14:15:05.000000000,2022-01-13 14:06:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 16:21:17.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5538ee431acb295a138049280fffe3180f23055', 'message': 'Remove opensuse jobs\n\nThese are failing for a very long time and we have no maintainers for\nopensuse. Remove the jobs to conserve CI resources.\n\nChange-Id: Ie8bb51e68519482ae0276948183a8254ad9c5a96\n'}]",1,824206,c5538ee431acb295a138049280fffe3180f23055,10,3,1,25023,,,0,"Remove opensuse jobs

These are failing for a very long time and we have no maintainers for
opensuse. Remove the jobs to conserve CI resources.

Change-Id: Ie8bb51e68519482ae0276948183a8254ad9c5a96
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/06/824206/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,c5538ee431acb295a138049280fffe3180f23055,,, # opensuse - job: name: openstack-ansible-deploy-aio_lxc-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_distro_lxc-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_ceph-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_distro_ceph-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_telemetry_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_distro_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_nspawn-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15,0,59
openstack%2Ftripleo-quickstart-extras~master~Iaec8c01e61d24165cb83227c767099d37e11de1e,openstack/tripleo-quickstart-extras,master,Iaec8c01e61d24165cb83227c767099d37e11de1e,Generate scripts for network/vip/node provisions,MERGED,2022-01-12 11:26:24.000000000,2022-01-13 14:02:54.000000000,2022-01-13 14:02:54.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-12 11:26:24.000000000', 'files': ['roles/overcloud-deploy/tasks/deploy-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/66a0628921333b66b77605e507b4763c0e8a8efb', 'message': ""Generate scripts for network/vip/node provisions\n\nThese will be useful when there is need to reprovision\nthese along with overcloud.\n\nIn CI jobs these are already generated, this patch is to\nmake normal quickstart.sh deploy's to have these\nscripts generated.\n\nChange-Id: Iaec8c01e61d24165cb83227c767099d37e11de1e\n""}]",1,824391,66a0628921333b66b77605e507b4763c0e8a8efb,10,6,1,13861,,,0,"Generate scripts for network/vip/node provisions

These will be useful when there is need to reprovision
these along with overcloud.

In CI jobs these are already generated, this patch is to
make normal quickstart.sh deploy's to have these
scripts generated.

Change-Id: Iaec8c01e61d24165cb83227c767099d37e11de1e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/824391/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/deploy-overcloud.yml'],1,66a0628921333b66b77605e507b4763c0e8a8efb,generate_scripts, tripleo_overcloud_network_provision_generate_scripts: true tripleo_overcloud_network_vip_provision_generate_scripts: true tripleo_overcloud_node_provision_generate_scripts: true,,3,0
openstack%2Fopenstack-ansible-plugins~master~I15b4a9f50910794c11b57457f9f4fbb34f321654,openstack/openstack-ansible-plugins,master,I15b4a9f50910794c11b57457f9f4fbb34f321654,Make plugins usable as part of collection,MERGED,2022-01-11 12:18:08.000000000,2022-01-13 14:01:49.000000000,2022-01-13 13:59:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 12:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b53d5dfba17a75d38cc9aa5a565e4cb73dfb79c0', 'message': ""Make plugins usable as part of collection\n\nSince we're converting plugins repo to collection, we make plugins\nusable from collection. For that we change repo structure.\n\nSymlinks to old destinations are created for backwards compatability\n\nChange-Id: I15b4a9f50910794c11b57457f9f4fbb34f321654\n""}, {'number': 2, 'created': '2022-01-11 12:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/47a5bdf58148784c634c5b77459c2b0b019cbcbc', 'message': ""Make plugins usable as part of collection\n\nSince we're converting plugins repo to collection, we make plugins\nusable from collection. For that we change repo structure.\n\nSymlinks to old destinations are created for backwards compatability\n\nChange-Id: I15b4a9f50910794c11b57457f9f4fbb34f321654\n""}, {'number': 3, 'created': '2022-01-11 19:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/812baa19d4e7fc0317279106dc8768932398de91', 'message': ""Make plugins usable as part of collection\n\nSince we're converting plugins repo to collection, we make plugins\nusable from collection. For that we change repo structure.\n\nSymlinks to old destinations are created for backwards compatability\n\nChange-Id: I15b4a9f50910794c11b57457f9f4fbb34f321654\n""}, {'number': 4, 'created': '2022-01-12 09:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/759993c56bff8be66a62b08624deb2cdeb855619', 'message': ""Make plugins usable as part of collection\n\nSince we're converting plugins repo to collection, we make plugins\nusable from collection. For that we change repo structure.\n\nSymlinks to old destinations are created for backwards compatability\n\nChange-Id: I15b4a9f50910794c11b57457f9f4fbb34f321654\n""}, {'number': 5, 'created': '2022-01-12 13:41:12.000000000', 'files': ['plugins/action/memcached', 'filter', 'plugins/action/provider_networks', 'library', 'plugins/filter/osa_filters.py', 'plugins/strategy/linear.py', 'plugins/connection/ssh.py', 'plugins/strategy/tagfilter.py', 'connection', 'strategy', 'plugins/action/keystone'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/4ce9e713cea1460436380128c7707c7445602343', 'message': ""Make plugins usable as part of collection\n\nSince we're converting plugins repo to collection, we make plugins\nusable from collection. For that we change repo structure.\n\nSymlinks to old destinations are created for backwards compatability\n\nChange-Id: I15b4a9f50910794c11b57457f9f4fbb34f321654\n""}]",0,824148,4ce9e713cea1460436380128c7707c7445602343,19,4,5,28619,,,0,"Make plugins usable as part of collection

Since we're converting plugins repo to collection, we make plugins
usable from collection. For that we change repo structure.

Symlinks to old destinations are created for backwards compatability

Change-Id: I15b4a9f50910794c11b57457f9f4fbb34f321654
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/48/824148/4 && git format-patch -1 --stdout FETCH_HEAD,"['filter', 'plugins/action/memcached', 'plugins/action/provider_networks', 'plugins/filter/osa-filters.py', 'library', 'plugins/connection/ssh.py', 'connection', 'plugins/action/keystone']",8,b53d5dfba17a75d38cc9aa5a565e4cb73dfb79c0,osa/plugins_collection,,,3,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I6eb4ba4ef9969e2c69dba586b1e28f0662e3c79d,openstack/openstack-ansible-lxc_hosts,master,I6eb4ba4ef9969e2c69dba586b1e28f0662e3c79d,Use only supported functional jobs,MERGED,2022-01-12 11:20:14.000000000,2022-01-13 13:59:31.000000000,2022-01-13 13:52:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:20:14.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d7489a08f1e2532f8d0c4bcdf4af26fd5e75d4ec', 'message': 'Use only supported functional jobs\n\nThis drops jobs for unsupported Ubuntu Bionic and CentOS 8\n\nChange-Id: I6eb4ba4ef9969e2c69dba586b1e28f0662e3c79d\n'}]",0,824390,d7489a08f1e2532f8d0c4bcdf4af26fd5e75d4ec,8,3,1,28619,,,0,"Use only supported functional jobs

This drops jobs for unsupported Ubuntu Bionic and CentOS 8

Change-Id: I6eb4ba4ef9969e2c69dba586b1e28f0662e3c79d
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/90/824390/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,d7489a08f1e2532f8d0c4bcdf4af26fd5e75d4ec,, name: openstack-ansible-lxc-dir-centos-8-stream nodeset: centos-8-stream, name: openstack-ansible-lxc-dir-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: dir - job: name: openstack-ansible-lxc-dir-centos-8 nodeset: centos-8 name: openstack-ansible-lxc-btrfs-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: btrfs - job: - job: name: openstack-ansible-lxc-overlayfs-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: ofs name: openstack-ansible-lxc-zfs-ubuntu-bionic parent: openstack-ansible-lxc-container-create nodeset: ubuntu-bionic vars: tox_env: zfs - job:,3,36
openstack%2Fpython-dracclient~stable%2Ftrain~If34d96fab4249f466f63b3740d1ff5eb68012462,openstack/python-dracclient,stable/train,If34d96fab4249f466f63b3740d1ff5eb68012462,Set iDRACCard attributes as nullable,MERGED,2021-12-17 11:37:25.000000000,2022-01-13 13:57:41.000000000,2022-01-13 13:57:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-12-17 11:37:25.000000000', 'files': ['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/b4a6f0fc199a710fedf6d1606ad242e1f6cc4c47', 'message': 'Set iDRACCard attributes as nullable\n\nThe iDRACCard attribute GroupID is empty for 15th Generation servers,\ne.g., Dell EMC PowerEdge R750 and R650, which triggered the error\n""attribute GroupID is not nullable"".\n\nA similar error message has been observed when processing the\niDRACCardInteger attributes LowerBound and UpperBound read\nfrom a PowerEdge XE2420 server.\n\nThis change sets those attributes as nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)\n'}]",2,822110,b4a6f0fc199a710fedf6d1606ad242e1f6cc4c47,8,3,1,33121,,,0,"Set iDRACCard attributes as nullable

The iDRACCard attribute GroupID is empty for 15th Generation servers,
e.g., Dell EMC PowerEdge R750 and R650, which triggered the error
""attribute GroupID is not nullable"".

A similar error message has been observed when processing the
iDRACCardInteger attributes LowerBound and UpperBound read
from a PowerEdge XE2420 server.

This change sets those attributes as nullable.

Change-Id: If34d96fab4249f466f63b3740d1ff5eb68012462
(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/10/822110/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml']",6,b4a6f0fc199a710fedf6d1606ad242e1f6cc4c47,change-816353-stable/train,"<s:Envelope xmlns:n1=""http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_iDRACCardString"" xmlns:s=""http://www.w3.org/2003/05/soap-envelope"" xmlns:wsa=""http://schemas.xmlsoap.org/ws/2004/08/addressing"" xmlns:wsen=""http://schemas.xmlsoap.org/ws/2004/09/enumeration"" xmlns:wsman=""http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""> <s:Header> <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To> <wsa:Action>http://schemas.xmlsoap.org/ws/2004/09/enumeration/EnumerateResponse</wsa:Action> <wsa:RelatesTo>uuid:437c3101-0e6a-41f5-ad49-8a09b3ee5589</wsa:RelatesTo> <wsa:MessageID>uuid:a8ddc513-40aa-10aa-821d-de7e4e771814</wsa:MessageID> </s:Header> <s:Body> <wsen:EnumerateResponse> <wsman:Items> <n1:DCIM_iDRACCardString> <n1:AttributeDisplayName>iDRAC Product Information</n1:AttributeDisplayName> <n1:AttributeName>Product</n1:AttributeName> <n1:CurrentValue>Integrated Dell Remote Access Controller</n1:CurrentValue> <n1:DefaultValue xsi:nil=""true""/> <n1:Dependency xsi:nil=""true""/> <n1:DisplayOrder>1</n1:DisplayOrder> <n1:FQDD>iDRAC.Embedded.1</n1:FQDD> <n1:GroupDisplayName>RAC Information</n1:GroupDisplayName> <n1:GroupID xsi:nil=""true""/> <n1:InstanceID>iDRAC.Embedded.1#Info.1#Product</n1:InstanceID> <n1:IsReadOnly>true</n1:IsReadOnly> <n1:MaxLength>63</n1:MaxLength> <n1:MinLength>0</n1:MinLength> <n1:PendingValue xsi:nil=""true""/> </n1:DCIM_iDRACCardString> </wsman:Items> <wsen:EnumerationContext/> <wsman:EndOfSequence/> </wsen:EnumerateResponse> </s:Body> </s:Envelope> ",,169,5
openstack%2Fpython-dracclient~stable%2Fussuri~If34d96fab4249f466f63b3740d1ff5eb68012462,openstack/python-dracclient,stable/ussuri,If34d96fab4249f466f63b3740d1ff5eb68012462,Set iDRACCard attributes as nullable,MERGED,2021-12-17 11:36:40.000000000,2022-01-13 13:56:00.000000000,2022-01-13 13:56:00.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-12-17 11:36:40.000000000', 'files': ['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/8bec36936373b257181c16c797705afce21c4c25', 'message': 'Set iDRACCard attributes as nullable\n\nThe iDRACCard attribute GroupID is empty for 15th Generation servers,\ne.g., Dell EMC PowerEdge R750 and R650, which triggered the error\n""attribute GroupID is not nullable"".\n\nA similar error message has been observed when processing the\niDRACCardInteger attributes LowerBound and UpperBound read\nfrom a PowerEdge XE2420 server.\n\nThis change sets those attributes as nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)\n'}]",2,822029,8bec36936373b257181c16c797705afce21c4c25,8,3,1,33121,,,0,"Set iDRACCard attributes as nullable

The iDRACCard attribute GroupID is empty for 15th Generation servers,
e.g., Dell EMC PowerEdge R750 and R650, which triggered the error
""attribute GroupID is not nullable"".

A similar error message has been observed when processing the
iDRACCardInteger attributes LowerBound and UpperBound read
from a PowerEdge XE2420 server.

This change sets those attributes as nullable.

Change-Id: If34d96fab4249f466f63b3740d1ff5eb68012462
(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/29/822029/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml']",6,8bec36936373b257181c16c797705afce21c4c25,change-816353-stable/ussuri,"<s:Envelope xmlns:n1=""http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_iDRACCardString"" xmlns:s=""http://www.w3.org/2003/05/soap-envelope"" xmlns:wsa=""http://schemas.xmlsoap.org/ws/2004/08/addressing"" xmlns:wsen=""http://schemas.xmlsoap.org/ws/2004/09/enumeration"" xmlns:wsman=""http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""> <s:Header> <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To> <wsa:Action>http://schemas.xmlsoap.org/ws/2004/09/enumeration/EnumerateResponse</wsa:Action> <wsa:RelatesTo>uuid:437c3101-0e6a-41f5-ad49-8a09b3ee5589</wsa:RelatesTo> <wsa:MessageID>uuid:a8ddc513-40aa-10aa-821d-de7e4e771814</wsa:MessageID> </s:Header> <s:Body> <wsen:EnumerateResponse> <wsman:Items> <n1:DCIM_iDRACCardString> <n1:AttributeDisplayName>iDRAC Product Information</n1:AttributeDisplayName> <n1:AttributeName>Product</n1:AttributeName> <n1:CurrentValue>Integrated Dell Remote Access Controller</n1:CurrentValue> <n1:DefaultValue xsi:nil=""true""/> <n1:Dependency xsi:nil=""true""/> <n1:DisplayOrder>1</n1:DisplayOrder> <n1:FQDD>iDRAC.Embedded.1</n1:FQDD> <n1:GroupDisplayName>RAC Information</n1:GroupDisplayName> <n1:GroupID xsi:nil=""true""/> <n1:InstanceID>iDRAC.Embedded.1#Info.1#Product</n1:InstanceID> <n1:IsReadOnly>true</n1:IsReadOnly> <n1:MaxLength>63</n1:MaxLength> <n1:MinLength>0</n1:MinLength> <n1:PendingValue xsi:nil=""true""/> </n1:DCIM_iDRACCardString> </wsman:Items> <wsen:EnumerationContext/> <wsman:EndOfSequence/> </wsen:EnumerateResponse> </s:Body> </s:Envelope> ",,169,5
openstack%2Fpython-dracclient~stable%2Fvictoria~If34d96fab4249f466f63b3740d1ff5eb68012462,openstack/python-dracclient,stable/victoria,If34d96fab4249f466f63b3740d1ff5eb68012462,Set iDRACCard attributes as nullable,MERGED,2021-12-17 11:33:50.000000000,2022-01-13 13:55:59.000000000,2022-01-13 13:55:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-12-17 11:33:50.000000000', 'files': ['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/5f7b1ba5b8b153e8f04779671e97a2a62b2da57c', 'message': 'Set iDRACCard attributes as nullable\n\nThe iDRACCard attribute GroupID is empty for 15th Generation servers,\ne.g., Dell EMC PowerEdge R750 and R650, which triggered the error\n""attribute GroupID is not nullable"".\n\nA similar error message has been observed when processing the\niDRACCardInteger attributes LowerBound and UpperBound read\nfrom a PowerEdge XE2420 server.\n\nThis change sets those attributes as nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)\n'}]",2,822028,5f7b1ba5b8b153e8f04779671e97a2a62b2da57c,8,3,1,33121,,,0,"Set iDRACCard attributes as nullable

The iDRACCard attribute GroupID is empty for 15th Generation servers,
e.g., Dell EMC PowerEdge R750 and R650, which triggered the error
""attribute GroupID is not nullable"".

A similar error message has been observed when processing the
iDRACCardInteger attributes LowerBound and UpperBound read
from a PowerEdge XE2420 server.

This change sets those attributes as nullable.

Change-Id: If34d96fab4249f466f63b3740d1ff5eb68012462
(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/28/822028/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml']",6,5f7b1ba5b8b153e8f04779671e97a2a62b2da57c,change-816353-stable/victoria,"<s:Envelope xmlns:n1=""http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_iDRACCardString"" xmlns:s=""http://www.w3.org/2003/05/soap-envelope"" xmlns:wsa=""http://schemas.xmlsoap.org/ws/2004/08/addressing"" xmlns:wsen=""http://schemas.xmlsoap.org/ws/2004/09/enumeration"" xmlns:wsman=""http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""> <s:Header> <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To> <wsa:Action>http://schemas.xmlsoap.org/ws/2004/09/enumeration/EnumerateResponse</wsa:Action> <wsa:RelatesTo>uuid:437c3101-0e6a-41f5-ad49-8a09b3ee5589</wsa:RelatesTo> <wsa:MessageID>uuid:a8ddc513-40aa-10aa-821d-de7e4e771814</wsa:MessageID> </s:Header> <s:Body> <wsen:EnumerateResponse> <wsman:Items> <n1:DCIM_iDRACCardString> <n1:AttributeDisplayName>iDRAC Product Information</n1:AttributeDisplayName> <n1:AttributeName>Product</n1:AttributeName> <n1:CurrentValue>Integrated Dell Remote Access Controller</n1:CurrentValue> <n1:DefaultValue xsi:nil=""true""/> <n1:Dependency xsi:nil=""true""/> <n1:DisplayOrder>1</n1:DisplayOrder> <n1:FQDD>iDRAC.Embedded.1</n1:FQDD> <n1:GroupDisplayName>RAC Information</n1:GroupDisplayName> <n1:GroupID xsi:nil=""true""/> <n1:InstanceID>iDRAC.Embedded.1#Info.1#Product</n1:InstanceID> <n1:IsReadOnly>true</n1:IsReadOnly> <n1:MaxLength>63</n1:MaxLength> <n1:MinLength>0</n1:MinLength> <n1:PendingValue xsi:nil=""true""/> </n1:DCIM_iDRACCardString> </wsman:Items> <wsen:EnumerationContext/> <wsman:EndOfSequence/> </wsen:EnumerateResponse> </s:Body> </s:Envelope> ",,169,5
openstack%2Fpuppet-tripleo~master~I490cc558238719d4c9585e2a57497d1b1787a9ed,openstack/puppet-tripleo,master,I490cc558238719d4c9585e2a57497d1b1787a9ed,Enable policy rule management in nova-compute,MERGED,2021-12-27 06:52:09.000000000,2022-01-13 13:55:55.000000000,2022-01-13 13:55:55.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-12-27 06:52:09.000000000', 'files': ['manifests/profile/base/nova/compute.pp', 'spec/classes/tripleo_profile_base_nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6cc58e8ac46ec0d4a0b3208b05eaccb289905e31', 'message': 'Enable policy rule management in nova-compute\n\nThere are some features in nova-compute which validate policy rules.\nFor example when connecting an instance to an external network,\nnova-compute checks ``network:attach_external_network`` to determine\nwhether the operation is permitted.\n\nThis change makes sure that the nova policy file in compute nodes are\nalso managed by puppet-tripleo.\n\nPartial-Bug: #1955786\nChange-Id: I490cc558238719d4c9585e2a57497d1b1787a9ed\n'}]",0,822991,6cc58e8ac46ec0d4a0b3208b05eaccb289905e31,8,5,1,9816,,,0,"Enable policy rule management in nova-compute

There are some features in nova-compute which validate policy rules.
For example when connecting an instance to an external network,
nova-compute checks ``network:attach_external_network`` to determine
whether the operation is permitted.

This change makes sure that the nova policy file in compute nodes are
also managed by puppet-tripleo.

Partial-Bug: #1955786
Change-Id: I490cc558238719d4c9585e2a57497d1b1787a9ed
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/91/822991/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/compute.pp', 'spec/classes/tripleo_profile_base_nova_compute_spec.rb']",2,6cc58e8ac46ec0d4a0b3208b05eaccb289905e31,bug/1955786, is_expected.to_not contain_class('nova::policy') is_expected.to contain_class('nova::policy') is_expected.to contain_class('nova::policy') is_expected.to contain_class('nova::policy'),,9,0
openstack%2Fpython-dracclient~stable%2Fwallaby~If34d96fab4249f466f63b3740d1ff5eb68012462,openstack/python-dracclient,stable/wallaby,If34d96fab4249f466f63b3740d1ff5eb68012462,Set iDRACCard attributes as nullable,MERGED,2021-12-17 10:27:25.000000000,2022-01-13 13:50:02.000000000,2022-01-13 13:50:02.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-12-17 10:27:25.000000000', 'files': ['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f23f125d8f8be3094cc1a41c9fd1e117a834fa57', 'message': 'Set iDRACCard attributes as nullable\n\nThe iDRACCard attribute GroupID is empty for 15th Generation servers,\ne.g., Dell EMC PowerEdge R750 and R650, which triggered the error\n""attribute GroupID is not nullable"".\n\nA similar error message has been observed when processing the\niDRACCardInteger attributes LowerBound and UpperBound read\nfrom a PowerEdge XE2420 server.\n\nThis change sets those attributes as nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)\n'}]",2,822027,f23f125d8f8be3094cc1a41c9fd1e117a834fa57,8,3,1,33121,,,0,"Set iDRACCard attributes as nullable

The iDRACCard attribute GroupID is empty for 15th Generation servers,
e.g., Dell EMC PowerEdge R750 and R650, which triggered the error
""attribute GroupID is not nullable"".

A similar error message has been observed when processing the
iDRACCardInteger attributes LowerBound and UpperBound read
from a PowerEdge XE2420 server.

This change sets those attributes as nullable.

Change-Id: If34d96fab4249f466f63b3740d1ff5eb68012462
(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/27/822027/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml']",6,f23f125d8f8be3094cc1a41c9fd1e117a834fa57,change-816353-stable/wallaby,"<s:Envelope xmlns:n1=""http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_iDRACCardString"" xmlns:s=""http://www.w3.org/2003/05/soap-envelope"" xmlns:wsa=""http://schemas.xmlsoap.org/ws/2004/08/addressing"" xmlns:wsen=""http://schemas.xmlsoap.org/ws/2004/09/enumeration"" xmlns:wsman=""http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""> <s:Header> <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To> <wsa:Action>http://schemas.xmlsoap.org/ws/2004/09/enumeration/EnumerateResponse</wsa:Action> <wsa:RelatesTo>uuid:437c3101-0e6a-41f5-ad49-8a09b3ee5589</wsa:RelatesTo> <wsa:MessageID>uuid:a8ddc513-40aa-10aa-821d-de7e4e771814</wsa:MessageID> </s:Header> <s:Body> <wsen:EnumerateResponse> <wsman:Items> <n1:DCIM_iDRACCardString> <n1:AttributeDisplayName>iDRAC Product Information</n1:AttributeDisplayName> <n1:AttributeName>Product</n1:AttributeName> <n1:CurrentValue>Integrated Dell Remote Access Controller</n1:CurrentValue> <n1:DefaultValue xsi:nil=""true""/> <n1:Dependency xsi:nil=""true""/> <n1:DisplayOrder>1</n1:DisplayOrder> <n1:FQDD>iDRAC.Embedded.1</n1:FQDD> <n1:GroupDisplayName>RAC Information</n1:GroupDisplayName> <n1:GroupID xsi:nil=""true""/> <n1:InstanceID>iDRAC.Embedded.1#Info.1#Product</n1:InstanceID> <n1:IsReadOnly>true</n1:IsReadOnly> <n1:MaxLength>63</n1:MaxLength> <n1:MinLength>0</n1:MinLength> <n1:PendingValue xsi:nil=""true""/> </n1:DCIM_iDRACCardString> </wsman:Items> <wsen:EnumerationContext/> <wsman:EndOfSequence/> </wsen:EnumerateResponse> </s:Body> </s:Envelope> ",,169,5
openstack%2Fpython-dracclient~stable%2Fxena~If34d96fab4249f466f63b3740d1ff5eb68012462,openstack/python-dracclient,stable/xena,If34d96fab4249f466f63b3740d1ff5eb68012462,Set iDRACCard attributes as nullable,MERGED,2021-12-17 10:12:17.000000000,2022-01-13 13:48:27.000000000,2022-01-13 13:48:27.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-12-17 10:12:17.000000000', 'files': ['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/382ba1c9772828fc66f9bc00c89fa6df2a163f64', 'message': 'Set iDRACCard attributes as nullable\n\nThe iDRACCard attribute GroupID is empty for 15th Generation servers,\ne.g., Dell EMC PowerEdge R750 and R650, which triggered the error\n""attribute GroupID is not nullable"".\n\nA similar error message has been observed when processing the\niDRACCardInteger attributes LowerBound and UpperBound read\nfrom a PowerEdge XE2420 server.\n\nThis change sets those attributes as nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)\n'}]",2,822026,382ba1c9772828fc66f9bc00c89fa6df2a163f64,8,3,1,33121,,,0,"Set iDRACCard attributes as nullable

The iDRACCard attribute GroupID is empty for 15th Generation servers,
e.g., Dell EMC PowerEdge R750 and R650, which triggered the error
""attribute GroupID is not nullable"".

A similar error message has been observed when processing the
iDRACCardInteger attributes LowerBound and UpperBound read
from a PowerEdge XE2420 server.

This change sets those attributes as nullable.

Change-Id: If34d96fab4249f466f63b3740d1ff5eb68012462
(cherry picked from commit 1488d904e2ad19e1b6455f66e23cdb03243f6912)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/26/822026/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml']",6,382ba1c9772828fc66f9bc00c89fa6df2a163f64,change-816353-stable/xena,"<s:Envelope xmlns:n1=""http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_iDRACCardString"" xmlns:s=""http://www.w3.org/2003/05/soap-envelope"" xmlns:wsa=""http://schemas.xmlsoap.org/ws/2004/08/addressing"" xmlns:wsen=""http://schemas.xmlsoap.org/ws/2004/09/enumeration"" xmlns:wsman=""http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""> <s:Header> <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To> <wsa:Action>http://schemas.xmlsoap.org/ws/2004/09/enumeration/EnumerateResponse</wsa:Action> <wsa:RelatesTo>uuid:437c3101-0e6a-41f5-ad49-8a09b3ee5589</wsa:RelatesTo> <wsa:MessageID>uuid:a8ddc513-40aa-10aa-821d-de7e4e771814</wsa:MessageID> </s:Header> <s:Body> <wsen:EnumerateResponse> <wsman:Items> <n1:DCIM_iDRACCardString> <n1:AttributeDisplayName>iDRAC Product Information</n1:AttributeDisplayName> <n1:AttributeName>Product</n1:AttributeName> <n1:CurrentValue>Integrated Dell Remote Access Controller</n1:CurrentValue> <n1:DefaultValue xsi:nil=""true""/> <n1:Dependency xsi:nil=""true""/> <n1:DisplayOrder>1</n1:DisplayOrder> <n1:FQDD>iDRAC.Embedded.1</n1:FQDD> <n1:GroupDisplayName>RAC Information</n1:GroupDisplayName> <n1:GroupID xsi:nil=""true""/> <n1:InstanceID>iDRAC.Embedded.1#Info.1#Product</n1:InstanceID> <n1:IsReadOnly>true</n1:IsReadOnly> <n1:MaxLength>63</n1:MaxLength> <n1:MinLength>0</n1:MinLength> <n1:PendingValue xsi:nil=""true""/> </n1:DCIM_iDRACCardString> </wsman:Items> <wsen:EnumerationContext/> <wsman:EndOfSequence/> </wsen:EnumerateResponse> </s:Body> </s:Envelope> ",,169,5
openstack%2Fopenstack-ansible-os_neutron~master~I7adb46e29c19fae84e277c9a1cc174e039cdbc03,openstack/openstack-ansible-os_neutron,master,I7adb46e29c19fae84e277c9a1cc174e039cdbc03,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:51:43.000000000,2022-01-13 13:45:46.000000000,2022-01-13 13:42:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c24847aa0fe744ef33c6758cec7e87972f4e7b95', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I7adb46e29c19fae84e277c9a1cc174e039cdbc03\n'}, {'number': 2, 'created': '2022-01-12 18:00:32.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8bc2af5657ad9546e98579d6dfa81de19900ac1c', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I7adb46e29c19fae84e277c9a1cc174e039cdbc03\n'}]",0,824381,8bc2af5657ad9546e98579d6dfa81de19900ac1c,13,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I7adb46e29c19fae84e277c9a1cc174e039cdbc03
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/81/824381/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,c24847aa0fe744ef33c6758cec7e87972f4e7b95,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fsushy-oem-idrac~master~Id5424ec2742b7fdd1c96185ee0164468a4c0768e,openstack/sushy-oem-idrac,master,Id5424ec2742b7fdd1c96185ee0164468a4c0768e,Migrate constants to enums,MERGED,2021-11-08 14:32:34.000000000,2022-01-13 13:43:33.000000000,2022-01-13 13:43:33.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-11-08 14:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/004a967dfb5e04ccfb39b8fb96c96a0360623346', 'message': 'Migrate constants to enums\n\nFollowing sushy change at Ic950a35bb9fc603e5c4b943ac19dba982bdf7212\n\nChange-Id: Id5424ec2742b7fdd1c96185ee0164468a4c0768e\n'}, {'number': 2, 'created': '2021-12-06 10:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/6c596892e66d34cc3f8dab95905ce9318fd959cd', 'message': 'Migrate constants to enums\n\nFollowing sushy change at Ic950a35bb9fc603e5c4b943ac19dba982bdf7212\n\nChange-Id: Id5424ec2742b7fdd1c96185ee0164468a4c0768e\n'}, {'number': 3, 'created': '2021-12-07 15:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/2905e2b09ccd5b1c98eaabaddee1919083b292a0', 'message': 'Migrate constants to enums\n\nFollowing sushy change at Ic950a35bb9fc603e5c4b943ac19dba982bdf7212\n\nChange-Id: Id5424ec2742b7fdd1c96185ee0164468a4c0768e\n'}, {'number': 4, 'created': '2022-01-04 14:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/13a0cc90d28ea7500393e8db9fc2ea5c3a3b83a2', 'message': 'Migrate constants to enums\n\nFollowing sushy change at Ic950a35bb9fc603e5c4b943ac19dba982bdf7212\n\nChange-Id: Id5424ec2742b7fdd1c96185ee0164468a4c0768e\n'}, {'number': 5, 'created': '2022-01-06 15:59:17.000000000', 'files': ['sushy_oem_idrac/resources/system/constants.py', 'sushy_oem_idrac/tests/unit/resources/taskservice/test_task.py', 'sushy_oem_idrac/resources/manager/idrac_card_service.py', 'sushy_oem_idrac/resources/manager/manager.py', 'sushy_oem_idrac/resources/taskservice/mappings.py', 'sushy_oem_idrac/resources/manager/constants.py', 'requirements.txt', 'sushy_oem_idrac/resources/manager/mappings.py', 'sushy_oem_idrac/resources/taskservice/constants.py', 'sushy_oem_idrac/resources/system/system.py', 'sushy_oem_idrac/tests/unit/resources/system/test_system.py', 'sushy_oem_idrac/resources/taskservice/task.py', 'sushy_oem_idrac/tests/unit/resources/manager/test_idrac_card_service.py', 'sushy_oem_idrac/tests/unit/resources/manager/test_manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/48e17f3c40704d7cc9982c7e3a544cf519a10262', 'message': 'Migrate constants to enums\n\nFollowing sushy change at Ic950a35bb9fc603e5c4b943ac19dba982bdf7212\n\nChange-Id: Id5424ec2742b7fdd1c96185ee0164468a4c0768e\n'}]",11,817028,48e17f3c40704d7cc9982c7e3a544cf519a10262,23,4,5,27909,,,0,"Migrate constants to enums

Following sushy change at Ic950a35bb9fc603e5c4b943ac19dba982bdf7212

Change-Id: Id5424ec2742b7fdd1c96185ee0164468a4c0768e
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/28/817028/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/resources/system/constants.py', 'sushy_oem_idrac/tests/unit/resources/taskservice/test_task.py', 'sushy_oem_idrac/resources/manager/idrac_card_service.py', 'sushy_oem_idrac/resources/manager/manager.py', 'sushy_oem_idrac/resources/taskservice/mappings.py', 'sushy_oem_idrac/resources/manager/constants.py', 'requirements.txt', 'sushy_oem_idrac/resources/manager/mappings.py', 'sushy_oem_idrac/resources/taskservice/constants.py', 'sushy_oem_idrac/resources/system/system.py', 'sushy_oem_idrac/tests/unit/resources/system/test_system.py', 'sushy_oem_idrac/resources/taskservice/task.py', 'sushy_oem_idrac/tests/unit/resources/manager/test_idrac_card_service.py', 'sushy_oem_idrac/tests/unit/resources/manager/test_manager.py']",14,004a967dfb5e04ccfb39b8fb96c96a0360623346,enums," expected_values = {mgr_cons.ExportTarget.IDRAC, mgr_cons.ExportTarget.RAID, mgr_cons.ExportTarget.ALL, mgr_cons.ExportTarget.BIOS, mgr_cons.ExportTarget.NIC} expected_values = {mgr_cons.ExportTarget.IDRAC, mgr_cons.ExportTarget.RAID, mgr_cons.ExportTarget.ALL, mgr_cons.ExportTarget.BIOS, mgr_cons.ExportTarget.NIC} target=mgr_cons.ExportTarget.ALL) include_in_export = mgr_cons.IncludeInExport.READ_ONLY_PASSWORD_HASHES target=mgr_cons.ExportTarget.RAID, export_use=mgr_cons.ExportUse.CLONE, include_in_export = mgr_cons.IncludeInExport.READ_ONLY_PASSWORD_HASHES include_in_export = mgr_cons.IncludeInExport.READ_ONLY_PASSWORD_HASHES target=mgr_cons.ExportTarget.RAID, export_use=mgr_cons.ExportUse.CLONE, expected_values = {mgr_cons.ExportUse.DEFAULT, mgr_cons.ExportUse.CLONE, mgr_cons.ExportUse.REPLACE} expected_values = {mgr_cons.ExportUse.DEFAULT, mgr_cons.ExportUse.CLONE, mgr_cons.ExportUse.REPLACE} expected_values = {mgr_cons.IncludeInExport.DEFAULT, mgr_cons.IncludeInExport.READ_ONLY, mgr_cons.IncludeInExport.PASSWORD_HASHES} expected_values = {mgr_cons.IncludeInExport.DEFAULT, mgr_cons.IncludeInExport.READ_ONLY, mgr_cons.IncludeInExport.PASSWORD_HASHES, mgr_cons.IncludeInExport.READ_ONLY_PASSWORD_HASHES} include_in_export = mgr_cons.IncludeInExport.READ_ONLY_PASSWORD_HASHES mgr_cons.ExportTarget.ALL, export_use=mgr_cons.ExportUse.CLONE, expected_values = {mgr_cons.ShutdownType.GRACEFUL, mgr_cons.ShutdownType.FORCED, mgr_cons.ShutdownType.NO_REBOOT} expected_values = {mgr_cons.ShutdownType.GRACEFUL, mgr_cons.ShutdownType.FORCED, mgr_cons.ShutdownType.NO_REBOOT}"," expected_values = {mgr_cons.EXPORT_TARGET_IDRAC, mgr_cons.EXPORT_TARGET_RAID, mgr_cons.EXPORT_TARGET_ALL, mgr_cons.EXPORT_TARGET_BIOS, mgr_cons.EXPORT_TARGET_NIC} expected_values = {mgr_cons.EXPORT_TARGET_IDRAC, mgr_cons.EXPORT_TARGET_RAID, mgr_cons.EXPORT_TARGET_ALL, mgr_cons.EXPORT_TARGET_BIOS, mgr_cons.EXPORT_TARGET_NIC} target=mgr_cons.EXPORT_TARGET_ALL) include_in_export = mgr_cons.INCLUDE_EXPORT_READ_ONLY_PASSWORD_HASHES target=mgr_cons.EXPORT_TARGET_RAID, export_use=mgr_cons.EXPORT_USE_CLONE, include_in_export = mgr_cons.INCLUDE_EXPORT_READ_ONLY_PASSWORD_HASHES include_in_export = mgr_cons.INCLUDE_EXPORT_READ_ONLY_PASSWORD_HASHES target=mgr_cons.EXPORT_TARGET_RAID, export_use=mgr_cons.EXPORT_USE_CLONE, expected_values = {mgr_cons.EXPORT_USE_DEFAULT, mgr_cons.EXPORT_USE_CLONE, mgr_cons.EXPORT_USE_REPLACE} expected_values = {mgr_cons.EXPORT_USE_DEFAULT, mgr_cons.EXPORT_USE_CLONE, mgr_cons.EXPORT_USE_REPLACE} expected_values = {mgr_cons.INCLUDE_EXPORT_DEFAULT, mgr_cons.INCLUDE_EXPORT_READ_ONLY, mgr_cons.INCLUDE_EXPORT_PASSWORD_HASHES} expected_values = {mgr_cons.INCLUDE_EXPORT_DEFAULT, mgr_cons.INCLUDE_EXPORT_READ_ONLY, mgr_cons.INCLUDE_EXPORT_PASSWORD_HASHES, mgr_cons.INCLUDE_EXPORT_READ_ONLY_PASSWORD_HASHES} include_in_export = mgr_cons.INCLUDE_EXPORT_READ_ONLY_PASSWORD_HASHES mgr_cons.EXPORT_TARGET_ALL, export_use=mgr_cons.EXPORT_USE_CLONE, expected_values = {mgr_cons.IMPORT_SHUTDOWN_GRACEFUL, mgr_cons.IMPORT_SHUTDOWN_FORCED, mgr_cons.IMPORT_SHUTDOWN_NO_REBOOT} expected_values = {mgr_cons.IMPORT_SHUTDOWN_GRACEFUL, mgr_cons.IMPORT_SHUTDOWN_FORCED, mgr_cons.IMPORT_SHUTDOWN_NO_REBOOT}",410,441
openstack%2Fansible-collections-openstack~master~Ia93e0c9ad892cafabfa43de1578800c099cb5804,openstack/ansible-collections-openstack,master,Ia93e0c9ad892cafabfa43de1578800c099cb5804,Release 1.6.0 version,MERGED,2022-01-13 12:46:26.000000000,2022-01-13 13:42:47.000000000,2022-01-13 13:42:47.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 12:46:26.000000000', 'files': ['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f3b12fed68d9c7273b89da9e612deca2b0c810a2', 'message': 'Release 1.6.0 version\n\nChange-Id: Ia93e0c9ad892cafabfa43de1578800c099cb5804\n'}]",0,824559,f3b12fed68d9c7273b89da9e612deca2b0c810a2,6,2,1,10969,,,0,"Release 1.6.0 version

Change-Id: Ia93e0c9ad892cafabfa43de1578800c099cb5804
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/59/824559/1 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst']",3,f3b12fed68d9c7273b89da9e612deca2b0c810a2,,v1.6.0 ====== Release Summary --------------- New modules for RBAC and Nova services Minor Changes ------------- - quota - Adds metadata_items parameter New Modules ----------- - openstack.cloud.compute_service_info - Retrieve information about one or more OpenStack compute services - openstack.cloud.neutron_rbac_policies_info - Fetch Neutron policies. - openstack.cloud.neutron_rbac_policy - Create or delete a Neutron policy to apply a RBAC rule against an object. ,,38,1
openstack%2Fopenstack-ansible-os_aodh~master~I6e1931e55c3b492ea0b5eb6e093c7cb5f5e826ac,openstack/openstack-ansible-os_aodh,master,I6e1931e55c3b492ea0b5eb6e093c7cb5f5e826ac,Refactor use of include_vars,MERGED,2022-01-12 08:42:37.000000000,2022-01-13 13:40:55.000000000,2022-01-13 13:37:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/e1138164f95a8bac64782da2809b330595f79ac9', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I6e1931e55c3b492ea0b5eb6e093c7cb5f5e826ac\n""}, {'number': 2, 'created': '2022-01-12 08:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/426657bf8b96027d5da49304498a5fe5f5cc347d', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I6e1931e55c3b492ea0b5eb6e093c7cb5f5e826ac\n""}, {'number': 3, 'created': '2022-01-12 11:17:20.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/88c914ac6b9c763172dc9b2dc5ccb25ee6f509e3', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I6e1931e55c3b492ea0b5eb6e093c7cb5f5e826ac\n""}]",1,824342,88c914ac6b9c763172dc9b2dc5ccb25ee6f509e3,14,3,3,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I6e1931e55c3b492ea0b5eb6e093c7cb5f5e826ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/42/824342/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e1138164f95a8bac64782da2809b330595f79ac9,osa/include_vars,"t--- include_vars: ""{{ lookup('first_found', params) }}"" when: uwsgi_services | length > 0 vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars""","--- include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",14,8
openstack%2Fopenstack-ansible-os_manila~master~Ia350d1da1043513eefad6806813dcf1dc7fcd005,openstack/openstack-ansible-os_manila,master,Ia350d1da1043513eefad6806813dcf1dc7fcd005,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:57:02.000000000,2022-01-13 13:38:51.000000000,2022-01-13 13:35:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/b2bddd1c611168c958eda5464ae998a9fd116cf0', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ia350d1da1043513eefad6806813dcf1dc7fcd005\n'}, {'number': 2, 'created': '2022-01-12 17:30:13.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/91da6dbee7f527bb67e0796e8dd66c2a143de1ba', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ia350d1da1043513eefad6806813dcf1dc7fcd005\n'}]",0,824385,91da6dbee7f527bb67e0796e8dd66c2a143de1ba,11,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: Ia350d1da1043513eefad6806813dcf1dc7fcd005
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/85/824385/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,b2bddd1c611168c958eda5464ae998a9fd116cf0,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fironic~bugfix%2F19.0~I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,openstack/ironic,bugfix/19.0,I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,Ensure 'port' is up2date after binding:host_id,MERGED,2022-01-12 00:46:04.000000000,2022-01-13 13:38:05.000000000,2022-01-13 13:35:10.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-12 00:46:04.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa5aa83b1efe65cddcc0f9bf97571ddf05c09b73', 'message': ""Ensure 'port' is up2date after binding:host_id\n\nOn neutron routed provider networks IP allocation is\ndeferred until 'binding:host_id' is set. When ironic\ncreates neutron ports it first creates the port, then\nupdates the port setting binding information.\n\nWhen using IPv6 networking ironic adds additional address\nallocations to ensure network chain-booting will succeed.\nWhen address allocation is deferred on port create ironic\ncannot detect that IPv6 is used and does not add the\nrequired additional addresses.\n\nThis change ensures the 'port' object is updated after the\nport update setting the port binding required for neutron\nto allocate the address. This allows ironic to correctly\ndetect IPv6 is used, and it will add the required IP\naddress allocations.\n\nStory: 2009773\nTask: 44254\nChange-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2\n(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)\n""}]",1,824166,fa5aa83b1efe65cddcc0f9bf97571ddf05c09b73,16,3,1,24245,,,0,"Ensure 'port' is up2date after binding:host_id

On neutron routed provider networks IP allocation is
deferred until 'binding:host_id' is set. When ironic
creates neutron ports it first creates the port, then
updates the port setting binding information.

When using IPv6 networking ironic adds additional address
allocations to ensure network chain-booting will succeed.
When address allocation is deferred on port create ironic
cannot detect that IPv6 is used and does not add the
required additional addresses.

This change ensures the 'port' object is updated after the
port update setting the port binding required for neutron
to allocate the address. This allows ironic to correctly
detect IPv6 is used, and it will add the required IP
address allocations.

Story: 2009773
Task: 44254
Change-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2
(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/824166/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml']",3,fa5aa83b1efe65cddcc0f9bf97571ddf05c09b73,story/2009773-bugfix/19.0,--- fixes: - | Fixed an issue where provisioning/cleaning would fail on IPv6 routed provider networks. See bug: `2009773 <https://storyboard.openstack.org/#!/story/2009773>`_. ,,13,1
openstack%2Fopenstack-ansible-os_senlin~master~Ic21ba175efe81bc8e78920420522145bb5c6c6a8,openstack/openstack-ansible-os_senlin,master,Ic21ba175efe81bc8e78920420522145bb5c6c6a8,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:42:56.000000000,2022-01-13 13:29:10.000000000,2022-01-13 13:26:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/97f5baf573c6876c8ed9ac6e40dd39d3b8b05052', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ic21ba175efe81bc8e78920420522145bb5c6c6a8\n'}, {'number': 2, 'created': '2022-01-12 10:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/dacaa7cf6e8b9317b2bbee95ef0bd7b39bd80fda', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ic21ba175efe81bc8e78920420522145bb5c6c6a8\n'}, {'number': 3, 'created': '2022-01-12 18:12:57.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/b225cca255d6775b552095cf5f8c0bfa55243bd8', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ic21ba175efe81bc8e78920420522145bb5c6c6a8\n'}]",0,824377,b225cca255d6775b552095cf5f8c0bfa55243bd8,14,3,3,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: Ic21ba175efe81bc8e78920420522145bb5c6c6a8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/77/824377/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,97f5baf573c6876c8ed9ac6e40dd39d3b8b05052,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible-os_barbican~master~Icbb2be9eda5d53c4262a36d7849defc3bf8fffad,openstack/openstack-ansible-os_barbican,master,Icbb2be9eda5d53c4262a36d7849defc3bf8fffad,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:51:42.000000000,2022-01-13 13:26:49.000000000,2022-01-13 13:22:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/2fe180edfa6c9ba9b8658e6d9bf668e43f791cbb', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Icbb2be9eda5d53c4262a36d7849defc3bf8fffad\n'}, {'number': 2, 'created': '2022-01-12 18:27:42.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/4c2980de6ccd9f5f47cd54e0a46801e14ed92720', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Icbb2be9eda5d53c4262a36d7849defc3bf8fffad\n'}]",0,824404,4c2980de6ccd9f5f47cd54e0a46801e14ed92720,11,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: Icbb2be9eda5d53c4262a36d7849defc3bf8fffad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/04/824404/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,2fe180edfa6c9ba9b8658e6d9bf668e43f791cbb,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible-os_masakari~master~I5bc0f6928b3b26ed4dbe13482a34bee6eb38c7ba,openstack/openstack-ansible-os_masakari,master,I5bc0f6928b3b26ed4dbe13482a34bee6eb38c7ba,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:55:48.000000000,2022-01-13 13:23:33.000000000,2022-01-13 13:20:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/d665f13814fb0bd938717934f84b482929a27fb3', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I5bc0f6928b3b26ed4dbe13482a34bee6eb38c7ba\n'}, {'number': 2, 'created': '2022-01-12 17:27:31.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/961c07ebd8cf61edf6c725ef2b611a6f6a1da9ae', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I5bc0f6928b3b26ed4dbe13482a34bee6eb38c7ba\n'}]",0,824384,961c07ebd8cf61edf6c725ef2b611a6f6a1da9ae,11,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I5bc0f6928b3b26ed4dbe13482a34bee6eb38c7ba
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/84/824384/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,d665f13814fb0bd938717934f84b482929a27fb3,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fneutron~master~I567036470b7256275f67e8ef3546ed780c81b5ae,openstack/neutron,master,I567036470b7256275f67e8ef3546ed780c81b5ae,[Functional] Add extra logs to the L3 HA router transitions,MERGED,2022-01-11 08:59:42.000000000,2022-01-13 13:20:22.000000000,2022-01-13 12:54:56.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-01-11 08:59:42.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3e836217c2dd84b96938d292a3fe94f346ccdc8', 'message': '[Functional] Add extra logs to the L3 HA router transitions\n\nThis patch adds extra logs to log current and expected ha state of the\nrouters on various fake agents during the functional tests, log on which\nagent router is ""primary"" and where it is ""backup"" and when failover of\nthe router should happen.\nThose logs should allow us better understand what happens during those\nfunctional tests and why some of them are failing from time to time.\n\nRelated-Bug: #1956958\nChange-Id: I567036470b7256275f67e8ef3546ed780c81b5ae\n'}]",3,824098,f3e836217c2dd84b96938d292a3fe94f346ccdc8,27,7,1,11975,,,0,"[Functional] Add extra logs to the L3 HA router transitions

This patch adds extra logs to log current and expected ha state of the
routers on various fake agents during the functional tests, log on which
agent router is ""primary"" and where it is ""backup"" and when failover of
the router should happen.
Those logs should allow us better understand what happens during those
functional tests and why some of them are failing from time to time.

Related-Bug: #1956958
Change-Id: I567036470b7256275f67e8ef3546ed780c81b5ae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/824098/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",3,f3e836217c2dd84b96938d292a3fe94f346ccdc8,bug/1956958," self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router, 'backup') self.wait_until_ha_router_has_state(router1, 'backup') self.wait_until_ha_router_has_state(router2, 'primary') self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router, 'backup') self.wait_until_ha_router_has_state(router1, 'primary') self.wait_until_ha_router_has_state(router1, 'backup') self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router, 'backup') self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router1, 'backup') self.wait_until_ha_router_has_state(router1, 'primary') self.wait_until_ha_router_has_state(router, 'backup') self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(router, 'backup') self.wait_until_ha_router_has_state(router, 'primary') self.wait_until_ha_router_has_state(primary_router, 'primary') self.wait_until_ha_router_has_state(backup_router, 'backup') self.wait_until_ha_router_has_state(primary_router, 'primary') self.wait_until_ha_router_has_state(backup_router, 'primary')", common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'backup') common_utils.wait_until_true(lambda: router1.ha_state == 'backup') common_utils.wait_until_true(lambda: router2.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'backup') common_utils.wait_until_true(lambda: router1.ha_state == 'primary') common_utils.wait_until_true(lambda: router1.ha_state == 'backup') common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'backup') common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true(lambda: router1.ha_state == 'backup') common_utils.wait_until_true(lambda: router1.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'backup') common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true(lambda: router.ha_state == 'backup') common_utils.wait_until_true(lambda: router.ha_state == 'primary') common_utils.wait_until_true( lambda: primary_router.ha_state == 'primary') common_utils.wait_until_true( lambda: backup_router.ha_state == 'backup') common_utils.wait_until_true( lambda: primary_router.ha_state == 'primary') common_utils.wait_until_true( lambda: backup_router.ha_state == 'primary'),50,37
openstack%2Fopenstack-ansible-os_trove~master~I02152618bd19800316b875f04da9e907f3446510,openstack/openstack-ansible-os_trove,master,I02152618bd19800316b875f04da9e907f3446510,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:36:21.000000000,2022-01-13 13:19:28.000000000,2022-01-13 13:16:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/5c56be38120dc9b0751ce2da2b646bba907d9182', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I02152618bd19800316b875f04da9e907f3446510\n'}, {'number': 2, 'created': '2022-01-12 17:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/5b14da1ed15b7ce2eeae081c4c1dd63e18f2a82c', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I02152618bd19800316b875f04da9e907f3446510\n'}, {'number': 3, 'created': '2022-01-12 17:21:39.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/a0710f538ead2606ddb8f21ce9cb64520e2f2014', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I02152618bd19800316b875f04da9e907f3446510\n'}]",0,824373,a0710f538ead2606ddb8f21ce9cb64520e2f2014,14,3,3,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I02152618bd19800316b875f04da9e907f3446510
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/73/824373/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,5c56be38120dc9b0751ce2da2b646bba907d9182,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible-os_magnum~master~Ie906228e6613d8453835ae8c52c3c4dce1adfae2,openstack/openstack-ansible-os_magnum,master,Ie906228e6613d8453835ae8c52c3c4dce1adfae2,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:59:18.000000000,2022-01-13 13:19:28.000000000,2022-01-13 13:16:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2cb229f60773a50c9abec7301acc0dd6c709931a', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ie906228e6613d8453835ae8c52c3c4dce1adfae2\n'}, {'number': 2, 'created': '2022-01-12 17:53:58.000000000', 'files': ['tasks/magnum_service_setup.yml', 'tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2604f534a849e552782258cfd8c07d3de4cf0fe8', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ie906228e6613d8453835ae8c52c3c4dce1adfae2\n'}]",0,824386,2604f534a849e552782258cfd8c07d3de4cf0fe8,13,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: Ie906228e6613d8453835ae8c52c3c4dce1adfae2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/86/824386/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/magnum_service_setup.yml', 'tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",5,2cb229f60773a50c9abec7301acc0dd6c709931a,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fvalidations-common~master~I3e3c7b1f700ebf48f9a9638855560629d47f5415,openstack/validations-common,master,I3e3c7b1f700ebf48f9a9638855560629d47f5415,Add feature tests for VF RFE,NEW,2021-12-09 23:16:55.000000000,2022-01-13 13:19:23.000000000,,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-12-09 23:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/dacf76537819d8eb3c8c4458862386b1b4b8230f', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 2, 'created': '2021-12-09 23:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fead97f726f8034c226b3a780d071c40c647cbc6', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 3, 'created': '2021-12-09 23:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6a57c2a4e59bc06c9780b997d6423e2e202cef4a', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 4, 'created': '2021-12-09 23:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/36561fbc2eb4a85e982e657630555f5feb10c575', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 5, 'created': '2021-12-10 07:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/84f756e633881217fc6423188df133d434016eba', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 6, 'created': '2021-12-10 07:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e156148239ceff3a1b94976e70d93a7b5b0f8c07', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 7, 'created': '2021-12-10 08:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/618e7adcf166e7946f57c596959ea2ed3064d440', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 8, 'created': '2021-12-10 08:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1d3bf1be78cc7442ed7fc34e5ede1a32caaec22a', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 9, 'created': '2021-12-10 09:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/630b1435c0699ad8c10ba109ed737935e38a6bbc', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 10, 'created': '2021-12-10 09:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/358275da39e6aeff8c015a0ec14e894e9a742b4a', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 11, 'created': '2021-12-10 10:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ef904b7f11ca7cf646e93eee3abaf4e401868a31', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 12, 'created': '2021-12-10 10:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8c3c3b57d263429942a8b4b74bfdb7d2c1d5bf0b', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 13, 'created': '2021-12-10 10:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/161c012637dbb45bd91d64e20d840878a31e1487', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 14, 'created': '2021-12-10 11:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5b78e1e72323f7da6f4ae9150100e9b30e52557a', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 15, 'created': '2021-12-10 11:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3d8ef927440bdb3e51b14ce541044b50eee17491', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 16, 'created': '2021-12-10 12:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3f81f7e799ac50f75c50bb7051039243d4a6df78', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 17, 'created': '2021-12-10 12:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9335057bf49a6d014f2027b379197ea89ac61c64', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 18, 'created': '2021-12-10 12:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b46fcd034118d59476da4402dead656b4de44001', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 19, 'created': '2021-12-10 12:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bbc2f1998f6dfb9303a3f2543f23edc9133ebc9b', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 20, 'created': '2021-12-10 13:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d90dffb4cc0bea5a9e6659563c7c9798fe9e983a', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 21, 'created': '2021-12-10 14:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8ffcc7b9b084aa7c3b7ea4b3cae89d041eea8bef', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 22, 'created': '2021-12-10 15:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e941bf03efad788f368abdc542c379df9a19c645', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 23, 'created': '2021-12-10 15:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9172e6fa7b8c86e4c5be6197cf7abd20f7876e07', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 24, 'created': '2021-12-10 17:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4edbf1f8e986e5dc9fc18be0d3f01a4e59b7867e', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 25, 'created': '2021-12-10 18:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ae2218d223497c8821f6ed7ac611f3ad2bd67c7f', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 26, 'created': '2021-12-13 08:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ef5b38788d5475241b7493ffd648022805b2362b', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 27, 'created': '2021-12-13 08:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6496fac3e3bd943869573a7344834baa4d9ace66', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 28, 'created': '2021-12-14 14:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a307c732e53f42572a17b0ae9cbee8eac5f5477f', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 29, 'created': '2021-12-14 14:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/03aaf8632a890699d87e7df498abc7aa2b6b2ded', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the VF:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 30, 'created': '2021-12-20 13:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f92d8c2c7e971167c465a72a4eeef44a4deb0b1f', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 31, 'created': '2021-12-22 08:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/954752ff81617d938b853a3c00ae8370e0f3168c', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 32, 'created': '2021-12-22 11:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/475919f2d8de6b372370d90376a6ab17fa2bf146', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 33, 'created': '2021-12-22 22:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bb01a45e5fb37c00633cde99b1c3b763359afadf', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 34, 'created': '2021-12-23 07:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d7fce672e117ec6e0001455bb8f912343559fa11', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 35, 'created': '2021-12-23 09:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/36a2458e025dd8023bd3e4c9116046935372a1e6', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 36, 'created': '2021-12-23 12:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/68db27b1c9585935aee4a100510b6fc8428d513c', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}, {'number': 37, 'created': '2021-12-24 08:45:58.000000000', 'files': ['roles/validations/tasks/main.yaml', 'roles/validations/tasks/community_validations_tests.yaml', 'roles/validations/templates/community_role_test_tasks.yaml', 'roles/validations/defaults/main.yaml', 'roles/validations/tasks/list_validation_history.yaml', '.zuul.yaml', 'roles/validations/tasks/config_file_tests.yaml', 'roles/validations/tasks/metadata_tests.yaml', 'roles/validations/tasks/features.yaml', 'roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/859ff0be48461ccf962f29a8b8ac0c6b209f2a0e', 'message': 'Add feature tests for VF RFE\n\nThis patch introduce automation for the new features of the Validation Framework:\n* Metadate evolution\n* Community Validations\n* List history\n* Validation Config file\n\nChange-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415\n'}]",50,821333,859ff0be48461ccf962f29a8b8ac0c6b209f2a0e,78,5,37,16515,,,0,"Add feature tests for VF RFE

This patch introduce automation for the new features of the Validation Framework:
* Metadate evolution
* Community Validations
* List history
* Validation Config file

Change-Id: I3e3c7b1f700ebf48f9a9638855560629d47f5415
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/33/821333/23 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validations/tasks/main.yaml', 'roles/validations/tasks/community_validations_tests.yaml', 'roles/validations/templates/community_role_test_tasks.yaml', 'roles/validations/defaults/main.yaml', '.zuul.yaml', 'roles/validations/tasks/metadata_tests.yaml', 'roles/validations/tasks/features.yaml', 'roles/validations/vars/main.yaml']",8,dacf76537819d8eb3c8c4458862386b1b4b8230f,functionnal/tests,common_product_list: - 512e - check-cpu - check-disk-space-pre-upgrade - check-disk-space - check-ftype - check-latest-packages-version - check-ram - check-selinux-mode - dns - no-op - ntp - service-status - validate-selinux - check-ram common_os_category_list: - check-cpu - check-ram - ntp - pacemaker-status - package-version - check-kernel-version - tripleo-haproxy - check-rhsm-version - tripleo-latest-packages-version - compute-tsx - undercloud-disk-space - undercloud-heat-purge-deleted - controller-ulimits - undercloud-process-count - undercloud-service-status - undercloud-tokenflush - healthcheck-service-status - repos - stonith-exists - system-encoding - undercloud-disk-space-pre-upgrade - check-ram ,,291,8
openstack%2Fopenstack-ansible-galera_server~stable%2Fxena~I7b470df7ff45c884c8058f75a7f6a73a41f34911,openstack/openstack-ansible-galera_server,stable/xena,I7b470df7ff45c884c8058f75a7f6a73a41f34911,Allow galera_address to be FQDN,MERGED,2022-01-10 08:38:31.000000000,2022-01-13 13:19:17.000000000,2022-01-13 13:15:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-10 08:38:31.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/84ebaeb1d451fe3e89583d6b87c045b8d12bc9f1', 'message': ""Allow galera_address to be FQDN\n\nWe explicitly allow setting galera_address as FQDN and define it equal\nto internal_lb_vip_address by default [1]\n\nCurrently if it's set to FQDN certificate generation fails, as we\nprovide it always as IP.\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/inventory/group_vars/all/infra.yml#L35\n\nChange-Id: I7b470df7ff45c884c8058f75a7f6a73a41f34911\n(cherry picked from commit 1aff51416e8444772784002cacfef714c417a87c)\n""}]",1,823839,84ebaeb1d451fe3e89583d6b87c045b8d12bc9f1,10,3,1,28619,,,0,"Allow galera_address to be FQDN

We explicitly allow setting galera_address as FQDN and define it equal
to internal_lb_vip_address by default [1]

Currently if it's set to FQDN certificate generation fails, as we
provide it always as IP.

[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/inventory/group_vars/all/infra.yml#L35

Change-Id: I7b470df7ff45c884c8058f75a7f6a73a41f34911
(cherry picked from commit 1aff51416e8444772784002cacfef714c417a87c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/39/823839/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,84ebaeb1d451fe3e89583d6b87c045b8d12bc9f1,," san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',' ~ ((galera_address | ansible.netcommon.ipaddr) is string) | ternary('IP', 'DNS') ~ ':' ~ galera_address }}""# Should be set to either internal VIP or VIP FQDN, depending on what is currently used in the env."," san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ galera_address }}""# Should be set to either public VIP of VIP FQDN, depending on what is currently used in the env.",2,2
openstack%2Fopenstack-ansible-os_ceilometer~master~Id23cddf14b94a8a6c04d90092e23d0cc322d026c,openstack/openstack-ansible-os_ceilometer,master,Id23cddf14b94a8a6c04d90092e23d0cc322d026c,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:48:39.000000000,2022-01-13 13:19:00.000000000,2022-01-13 13:15:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/3e7e8d6ab6a5e36ca54271fb1c7faa08651c385f', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Id23cddf14b94a8a6c04d90092e23d0cc322d026c\n'}, {'number': 2, 'created': '2022-01-12 16:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/f6364cd88364832a5ba3d339422adc6c7e08262a', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Id23cddf14b94a8a6c04d90092e23d0cc322d026c\n'}, {'number': 3, 'created': '2022-01-12 17:38:52.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/a7d7cd0184dfa990b9f98b871b1b66b88a078813', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Id23cddf14b94a8a6c04d90092e23d0cc322d026c\n'}]",0,824401,a7d7cd0184dfa990b9f98b871b1b66b88a078813,12,3,3,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: Id23cddf14b94a8a6c04d90092e23d0cc322d026c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/01/824401/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",3,3e7e8d6ab6a5e36ca54271fb1c7faa08651c385f,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",4,279
openstack%2Fopenstack-ansible-os_swift~master~I04531583a731d02a011f72f6d79eced434a66eaa,openstack/openstack-ansible-os_swift,master,I04531583a731d02a011f72f6d79eced434a66eaa,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:40:33.000000000,2022-01-13 13:18:11.000000000,2022-01-13 13:15:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/69039537267b874e74d1e9c7bfb45b504a772bba', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I04531583a731d02a011f72f6d79eced434a66eaa\n'}, {'number': 2, 'created': '2022-01-12 10:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/db4d0ec574ca08ac1995f943b8696166cd6d81c4', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I04531583a731d02a011f72f6d79eced434a66eaa\n'}, {'number': 3, 'created': '2022-01-12 18:15:20.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/6202a5500ae9c5ae649abac44647e53ad2ccb726', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I04531583a731d02a011f72f6d79eced434a66eaa\n'}]",0,824376,6202a5500ae9c5ae649abac44647e53ad2ccb726,14,3,3,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I04531583a731d02a011f72f6d79eced434a66eaa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/76/824376/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",3,69039537267b874e74d1e9c7bfb45b504a772bba,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",4,279
openstack%2Fopenstack-ansible-os_tacker~master~I3f49bc1ad684755a9e591e3bf079493415a908c1,openstack/openstack-ansible-os_tacker,master,I3f49bc1ad684755a9e591e3bf079493415a908c1,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:38:07.000000000,2022-01-13 13:15:56.000000000,2022-01-13 13:12:20.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/174eba26711ecca29b401554551f5c0f12edaa7b', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I3f49bc1ad684755a9e591e3bf079493415a908c1\n'}, {'number': 2, 'created': '2022-01-12 12:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/38747210771daa11432fe028b0bbd9a6319e6b82', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I3f49bc1ad684755a9e591e3bf079493415a908c1\n'}, {'number': 3, 'created': '2022-01-12 17:47:33.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/94a6ea79b0213469ffc626fe05e4f101a35d96c3', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I3f49bc1ad684755a9e591e3bf079493415a908c1\n'}]",0,824374,94a6ea79b0213469ffc626fe05e4f101a35d96c3,15,3,3,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I3f49bc1ad684755a9e591e3bf079493415a908c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/74/824374/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,174eba26711ecca29b401554551f5c0f12edaa7b,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible-os_heat~master~I53c6d9cc38f5765c88c8eb2606cfe38a17ed8325,openstack/openstack-ansible-os_heat,master,I53c6d9cc38f5765c88c8eb2606cfe38a17ed8325,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:03:22.000000000,2022-01-13 13:15:56.000000000,2022-01-13 13:12:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/248a0f306d81c055be7abeeeb9253cacb77acae1', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I53c6d9cc38f5765c88c8eb2606cfe38a17ed8325\n'}, {'number': 2, 'created': '2022-01-12 17:50:49.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/heat_service_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/a6d2dc414ce8e81315f8b2df76aaad790058d96d', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I53c6d9cc38f5765c88c8eb2606cfe38a17ed8325\n'}]",0,824389,a6d2dc414ce8e81315f8b2df76aaad790058d96d,13,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I53c6d9cc38f5765c88c8eb2606cfe38a17ed8325
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/89/824389/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/heat_service_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",5,248a0f306d81c055be7abeeeb9253cacb77acae1,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible-os_ironic~master~I402a6f894b5b4b582afbd7892bc1e48ea03490ce,openstack/openstack-ansible-os_ironic,master,I402a6f894b5b4b582afbd7892bc1e48ea03490ce,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:01:27.000000000,2022-01-13 13:10:40.000000000,2022-01-13 13:07:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/fd9be8b90f5e73ef6a37795f378c901efcc5af29', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I402a6f894b5b4b582afbd7892bc1e48ea03490ce\n'}, {'number': 2, 'created': '2022-01-12 17:57:56.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/e74e58c0e2e33f4f6ee8a6b78e6ae47cab5e7c9b', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I402a6f894b5b4b582afbd7892bc1e48ea03490ce\n'}]",0,824388,e74e58c0e2e33f4f6ee8a6b78e6ae47cab5e7c9b,13,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I402a6f894b5b4b582afbd7892bc1e48ea03490ce
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/88/824388/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,fd9be8b90f5e73ef6a37795f378c901efcc5af29,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",8,329
openstack%2Fopenstack-ansible-os_cinder~master~I4ffa85e918e515dde2fcae86ff5cf872e65a82c4,openstack/openstack-ansible-os_cinder,master,I4ffa85e918e515dde2fcae86ff5cf872e65a82c4,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:46:06.000000000,2022-01-13 13:04:32.000000000,2022-01-13 13:01:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/26c3e78726a12b33bb5cc4a37062cfb9d6646fc3', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I4ffa85e918e515dde2fcae86ff5cf872e65a82c4\n'}, {'number': 2, 'created': '2022-01-12 18:30:09.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/ef8fa2b3588b26d40c9679a6eae366890c1dfe47', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I4ffa85e918e515dde2fcae86ff5cf872e65a82c4\n'}]",0,824400,ef8fa2b3588b26d40c9679a6eae366890c1dfe47,11,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I4ffa85e918e515dde2fcae86ff5cf872e65a82c4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/00/824400/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,26c3e78726a12b33bb5cc4a37062cfb9d6646fc3,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible-os_designate~master~I58a0edd3890ac7ef3d3aaed342bf44cb4a169a35,openstack/openstack-ansible-os_designate,master,I58a0edd3890ac7ef3d3aaed342bf44cb4a169a35,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:43:19.000000000,2022-01-13 13:00:22.000000000,2022-01-13 12:57:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/6cfbc4a548baae740ac7e21e3ad8ab292512203c', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I58a0edd3890ac7ef3d3aaed342bf44cb4a169a35\n'}, {'number': 2, 'created': '2022-01-12 18:36:04.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/859de5f930dff21eac8508f20ae00a080d403a35', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I58a0edd3890ac7ef3d3aaed342bf44cb4a169a35\n'}]",0,824398,859de5f930dff21eac8508f20ae00a080d403a35,11,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I58a0edd3890ac7ef3d3aaed342bf44cb4a169a35
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/98/824398/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,6cfbc4a548baae740ac7e21e3ad8ab292512203c,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible~master~Ic4a5f9a16b8502844e6fa2a9e2fd548bc17b27dc,openstack/openstack-ansible,master,Ic4a5f9a16b8502844e6fa2a9e2fd548bc17b27dc,Remove centos-8 support,MERGED,2021-12-07 11:34:12.000000000,2022-01-13 12:50:47.000000000,2022-01-13 12:46:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-07 11:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/85d68acb04ae98535c6e037f6ee8768da0303704', 'message': 'Remove centos-8 support\n\nThis becomes EOL during the Yoga cycle so we remove support for\nthis OS.\n\nDepends-On: Id93a3efd4b43bb9770a83d6e23e5736935002922\nChange-Id: Ic4a5f9a16b8502844e6fa2a9e2fd548bc17b27dc\n'}, {'number': 2, 'created': '2021-12-08 07:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/42de9b17018c2b37aba60b53534f654d02668ca3', 'message': 'Remove centos-8 support\n\nThis becomes EOL during the Yoga cycle so we remove support for\nthis OS.\n\nChange-Id: Ic4a5f9a16b8502844e6fa2a9e2fd548bc17b27dc\n'}, {'number': 3, 'created': '2021-12-15 13:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f07b47a706004abfce4718aaeae4e39b2daf3db4', 'message': 'Remove centos-8 support\n\nThis becomes EOL during the Yoga cycle so we remove support for\nthis OS.\n\nChange-Id: Ic4a5f9a16b8502844e6fa2a9e2fd548bc17b27dc\n'}, {'number': 4, 'created': '2021-12-18 18:39:07.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'deploy-guide/source/deploymenthost.rst', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'scripts/scripts-library.sh', 'deploy-guide/source/overview-requirements.rst', 'releasenotes/notes/drop-centos-8-537ef0f11cd90916.yaml', 'playbooks/utility-install.yml', 'deploy-guide/source/targethosts-prepare.rst', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ba47de1198f7f8e4b1148cba76b9650d34bbb03', 'message': 'Remove centos-8 support\n\nThis becomes EOL during the Yoga cycle so we remove support for\nthis OS.\n\nChange-Id: Ic4a5f9a16b8502844e6fa2a9e2fd548bc17b27dc\n'}]",4,820854,2ba47de1198f7f8e4b1148cba76b9650d34bbb03,21,4,4,25023,,,0,"Remove centos-8 support

This becomes EOL during the Yoga cycle so we remove support for
this OS.

Change-Id: Ic4a5f9a16b8502844e6fa2a9e2fd548bc17b27dc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/820854/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/user/aio/quickstart.rst', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'scripts/scripts-library.sh', 'deploy-guide/source/overview-requirements.rst', 'releasenotes/notes/drop-centos-8-537ef0f11cd90916.yaml', 'playbooks/utility-install.yml', 'deploy-guide/source/targethosts-prepare.rst', 'playbooks/openstack-hosts-setup.yml']",11,85d68acb04ae98535c6e037f6ee8768da0303704,, Ubuntu 20.04 LTS (Focal) and CentOS 8 Stream.," Ubuntu 20.04 LTS (Focal), CentOS 8 and CentOS 8 Stream.",12,78
openstack%2Fopenstack-ansible-os_nova~master~I01fdeb2cca9d5315fd486500cc8d6330cb23ce84,openstack/openstack-ansible-os_nova,master,I01fdeb2cca9d5315fd486500cc8d6330cb23ce84,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:50:23.000000000,2022-01-13 12:50:00.000000000,2022-01-13 12:47:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/595bd3e75744f4a7257a1bf0469d9da24dc95926', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I01fdeb2cca9d5315fd486500cc8d6330cb23ce84\n'}, {'number': 2, 'created': '2022-01-12 18:09:59.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/925d2a367ae05e0abe0f563ff4543d4e6f1e33ca', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I01fdeb2cca9d5315fd486500cc8d6330cb23ce84\n'}]",1,824380,925d2a367ae05e0abe0f563ff4543d4e6f1e33ca,15,3,2,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I01fdeb2cca9d5315fd486500cc8d6330cb23ce84
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/80/824380/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,595bd3e75744f4a7257a1bf0469d9da24dc95926,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Foslo.utils~master~I9f5505dbb716b4cfe7890eee064b555b58d7b673,openstack/oslo.utils,master,I9f5505dbb716b4cfe7890eee064b555b58d7b673,Raise exeception if we try to use md5 with FIPS mode,ABANDONED,2021-06-24 14:57:55.000000000,2022-01-13 12:48:52.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 14:57:55.000000000', 'files': ['oslo_utils/secretutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c80a68365fc2323fb4e9e289da242b681d5d8e6a', 'message': ""Raise exeception if we try to use md5 with FIPS mode\n\nIn FIPS mode it's not possible to use md5 for any purposes.\n\nChange-Id: I9f5505dbb716b4cfe7890eee064b555b58d7b673\n""}]",3,797914,c80a68365fc2323fb4e9e289da242b681d5d8e6a,5,2,1,28522,,,0,"Raise exeception if we try to use md5 with FIPS mode

In FIPS mode it's not possible to use md5 for any purposes.

Change-Id: I9f5505dbb716b4cfe7890eee064b555b58d7b673
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/14/797914/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/secretutils.py'],1,c80a68365fc2323fb4e9e289da242b681d5d8e6a,fips,"if 'md5' not in hashlib.algorithms_available: raise ValueError('md5 is not supported on this ' 'system, supported are %s' % ', '.join(hashlib.algorithms_available)) ",,5,0
openstack%2Fopenstack-ansible-os_blazar~master~I922703869b334bff303725cc55c1ff2db1707019,openstack/openstack-ansible-os_blazar,master,I922703869b334bff303725cc55c1ff2db1707019,"missing document start ""---""",ABANDONED,2018-10-30 07:34:59.000000000,2022-01-13 12:31:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-30 07:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/05393a1d70b4e7d85ac779c734b68c08b8195435', 'message': 'missing document start ""---""\n\nChange-Id: I922703869b334bff303725cc55c1ff2db1707019\n'}, {'number': 2, 'created': '2019-03-27 20:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/1a86d93bf4ceb31b528653ec3eeeb4bb92988c07', 'message': 'missing document start ""---""\n\nChange-Id: I922703869b334bff303725cc55c1ff2db1707019\n'}, {'number': 3, 'created': '2022-01-04 13:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/69e0f06c2e917dac5c038d209c4371ec2941e27a', 'message': 'missing document start ""---""\n\nChange-Id: I922703869b334bff303725cc55c1ff2db1707019\n'}]",0,614097,69e0f06c2e917dac5c038d209c4371ec2941e27a,13,1,3,21486,,,0,"missing document start ""---""

Change-Id: I922703869b334bff303725cc55c1ff2db1707019
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/97/614097/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,05393a1d70b4e7d85ac779c734b68c08b8195435,,---,,1,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ib351d93d47b8bcc24b025a8598e8b2d0d39d47ec,openstack/openstack-ansible-os_cloudkitty,master,Ib351d93d47b8bcc24b025a8598e8b2d0d39d47ec,"missing document start ""---""",ABANDONED,2018-10-30 07:36:47.000000000,2022-01-13 12:30:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-30 07:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/2545d5cb8f5fb1cdc97fea65374a80dafc27710a', 'message': 'missing document start ""---""\n\nChange-Id: Ib351d93d47b8bcc24b025a8598e8b2d0d39d47ec\n'}, {'number': 2, 'created': '2019-03-28 13:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/51875c47884dc766eeee4523b4b2a2e280428b73', 'message': 'missing document start ""---""\n\nChange-Id: Ib351d93d47b8bcc24b025a8598e8b2d0d39d47ec\n'}, {'number': 3, 'created': '2022-01-04 13:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/53f821b4499c82a422ce8d0caaa70bb54dca0a4b', 'message': 'missing document start ""---""\n\nChange-Id: Ib351d93d47b8bcc24b025a8598e8b2d0d39d47ec\n'}]",0,614100,53f821b4499c82a422ce8d0caaa70bb54dca0a4b,15,1,3,21486,,,0,"missing document start ""---""

Change-Id: Ib351d93d47b8bcc24b025a8598e8b2d0d39d47ec
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/00/614100/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2545d5cb8f5fb1cdc97fea65374a80dafc27710a,,---,,1,0
openstack%2Fopenstack-ansible-tests~master~I6096506967d288d67b47b442bbb13c31f6ccde63,openstack/openstack-ansible-tests,master,I6096506967d288d67b47b442bbb13c31f6ccde63,Do not syncronise DB/MQ/Service setup tasks to other roles,MERGED,2022-01-12 11:56:50.000000000,2022-01-13 12:26:54.000000000,2022-01-13 12:23:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4b36effc92b1df89ef5512d023218b502174a234', 'message': 'Do not syncronise DB/MQ/Service setup tasks to other roles\n\nThese tasks are now available as roles in the openstack.osa collection.\n\nChange-Id: I6096506967d288d67b47b442bbb13c31f6ccde63\n'}, {'number': 2, 'created': '2022-01-13 10:02:47.000000000', 'files': ['sync/tasks/service_setup.yml', 'sync/tasks/db_setup.yml', 'sync/tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/439619bb28bade5227b38a9da498283b53dca439', 'message': 'Do not syncronise DB/MQ/Service setup tasks to other roles\n\nThese tasks are now available as roles in the openstack.osa collection.\n\nChange-Id: I6096506967d288d67b47b442bbb13c31f6ccde63\n'}]",0,824407,439619bb28bade5227b38a9da498283b53dca439,10,3,2,25023,,,0,"Do not syncronise DB/MQ/Service setup tasks to other roles

These tasks are now available as roles in the openstack.osa collection.

Change-Id: I6096506967d288d67b47b442bbb13c31f6ccde63
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/07/824407/2 && git format-patch -1 --stdout FETCH_HEAD,"['sync/tasks/service_setup.yml', 'sync/tasks/db_setup.yml', 'sync/tasks/mq_setup.yml']",3,4b36effc92b1df89ef5512d023218b502174a234,,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",0,325
openstack%2Fovn-bgp-agent~master~If9af96c6c7c30887e864c715ae87d7e107576163,openstack/ovn-bgp-agent,master,If9af96c6c7c30887e864c715ae87d7e107576163,Lower the neutron-lib version requirement,MERGED,2022-01-13 09:38:10.000000000,2022-01-13 12:24:16.000000000,2022-01-13 12:24:16.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-01-13 09:38:10.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/0762a31e8e0b000463741d487df4898553345674', 'message': ""Lower the neutron-lib version requirement\n\nThe OpenStack Wallaby release ships neutron-lib 2.10.1 at\nthe moment. There's no reason for us to depend on a newer\nversion and this way the ovn-bgp-agent can run on Wallaby\nas well.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: If9af96c6c7c30887e864c715ae87d7e107576163\n""}]",2,824518,0762a31e8e0b000463741d487df4898553345674,7,2,1,23804,,,0,"Lower the neutron-lib version requirement

The OpenStack Wallaby release ships neutron-lib 2.10.1 at
the moment. There's no reason for us to depend on a newer
version and this way the ovn-bgp-agent can run on Wallaby
as well.

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: If9af96c6c7c30887e864c715ae87d7e107576163
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/18/824518/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0762a31e8e0b000463741d487df4898553345674,,neutron-lib>=2.10.1 # Apache-2.0,neutron-lib>=2.12.0 # Apache-2.0,1,1
openstack%2Fnova-specs~master~I463273d35050116933b4e6bad44b6bddedf02fa3,openstack/nova-specs,master,I463273d35050116933b4e6bad44b6bddedf02fa3,lightos volume driver spec,MERGED,2022-01-11 14:36:30.000000000,2022-01-13 12:23:21.000000000,2022-01-13 12:20:32.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/682c81f5d0b60ba9f8b17cca7f8dd00ad16b9c0a', 'message': 'lightos volume driver spec\n\nChange-Id: I463273d35050116933b4e6bad44b6bddedf02fa3\n'}, {'number': 2, 'created': '2022-01-12 08:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9b6d768249a82053cefd5d4178fc2d513581d083', 'message': 'lightos volume driver spec\n\nChange-Id: I463273d35050116933b4e6bad44b6bddedf02fa3\n'}, {'number': 3, 'created': '2022-01-12 12:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3ace207f2689627b313367b524b51d5c43df27f', 'message': 'lightos volume driver spec\n\nChange-Id: I463273d35050116933b4e6bad44b6bddedf02fa3\n'}, {'number': 4, 'created': '2022-01-12 14:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/eac4f80c3868a6899583c072d73a27ccb55be608', 'message': 'lightos volume driver spec\n\nChange-Id: I463273d35050116933b4e6bad44b6bddedf02fa3\n'}, {'number': 5, 'created': '2022-01-12 15:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8e839ef178c1f443ff2cbc069c5cb3e95b51ef04', 'message': 'lightos volume driver spec\n\nChange-Id: I463273d35050116933b4e6bad44b6bddedf02fa3\n'}, {'number': 6, 'created': '2022-01-12 17:01:44.000000000', 'files': ['specs/yoga/approved/lightos_volume_driver.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f752ed139783416e2cefa53bda08d8100d685355', 'message': 'lightos volume driver spec\n\nChange-Id: I463273d35050116933b4e6bad44b6bddedf02fa3\n'}]",78,824191,f752ed139783416e2cefa53bda08d8100d685355,37,4,6,33612,,,0,"lightos volume driver spec

Change-Id: I463273d35050116933b4e6bad44b6bddedf02fa3
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/91/824191/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/lightos_volume_driver.rst'],1,682c81f5d0b60ba9f8b17cca7f8dd00ad16b9c0a,nova-support-lightos-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/nova-support-lightos-driver Lightbits Lab creating a storage cluster solution running on nvme over tcp. Lightbits would like to join the openstack community and connect the product with openstack. Problem description =================== Nova does not support lightos cluster as backend storage. A volume created throughCinder api is not exposed to Nova nodes and they can not consume it. Use Cases --------- 1. Attach a volume created by Cinder to a Nova node. 2. Detach a volume created by Cinder to a Nova node. 3. Extend an attached volume to provide higher capacity. Proposed change =============== We add a new plugin to Nova that will provide functionalities of attach, detach and extend to a lightos cluster volume. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Lightos cluster must be installed and configured. Lightbits labs discoverey-client service must run on compute nodes. Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Yuval Brave (yuval@lightbitslabs.com) Feature Liaison --------------- None Work Items ---------- None Dependencies ============ None Testing ======= Unittests were added to the patch. third party ci hosted by lightbits. Documentation Impact ==================== None References ========== None History ======= None ",,140,0
openstack%2Fopenstack-tempest-skiplist~master~I58367bd355fad7c89ec31b00805511d44d4c03d9,openstack/openstack-tempest-skiplist,master,I58367bd355fad7c89ec31b00805511d44d4c03d9,Adding periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master to existing compute tests,MERGED,2022-01-13 11:11:30.000000000,2022-01-13 12:20:08.000000000,2022-01-13 12:17:55.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 11:11:30.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2e3d0c171dbba9ce9be508bb0d4734a35281c085', 'message': 'Adding periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master to existing compute tests\n\nAdding periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master to:\n- tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_rebuild_server_with_volume_attached\n- tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_detach_volume\n- tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume\n- tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1957031\nChange-Id: I58367bd355fad7c89ec31b00805511d44d4c03d9\n'}]",0,824527,2e3d0c171dbba9ce9be508bb0d4734a35281c085,7,2,1,32458,,,0,"Adding periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master to existing compute tests

Adding periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master to:
- tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_rebuild_server_with_volume_attached
- tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_detach_volume
- tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume
- tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1957031
Change-Id: I58367bd355fad7c89ec31b00805511d44d4c03d9
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/27/824527/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,2e3d0c171dbba9ce9be508bb0d4734a35281c085,, - periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master - periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master - periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master - periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master,,4,0
openstack%2Fneutron~master~Ib85959fbc06928a49df7ea104eae3aca3f04e091,openstack/neutron,master,Ib85959fbc06928a49df7ea104eae3aca3f04e091,ml2 ovs: Deprecate unused [agent] veth_mtu,MERGED,2022-01-12 14:41:43.000000000,2022-01-13 12:15:00.000000000,2022-01-13 12:11:51.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-01-12 14:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9aef8314ce0daa2e02abb927a6cdcbb376cff1ee', 'message': 'ml2 ovs: Deprecate unused [agent] veth_mtu\n\nThe [agent] veth_mtu parameter has had unused since the [ovs]\nuse_veth_interconnection parameter was removed by [1] during Wallaby.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/759947\n\nThis change formally deprecate the parameter so that we can remove it\nin a next cycle.\n\nChange-Id: Ib85959fbc06928a49df7ea104eae3aca3f04e091\nCloses-Bug: #1957180\n'}, {'number': 2, 'created': '2022-01-13 07:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c64e6888473ef7a075a324cecc7d8b34414fd9c8', 'message': 'ml2 ovs: Deprecate unused [agent] veth_mtu\n\nThe [agent] veth_mtu parameter has had unused since the [ovs]\nuse_veth_interconnection parameter was removed by [1] during Wallaby.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/759947\n\nThis change formally deprecate the parameter so that we can remove it\nin a next cycle.\n\nChange-Id: Ib85959fbc06928a49df7ea104eae3aca3f04e091\nCloses-Bug: #1957180\n'}, {'number': 3, 'created': '2022-01-13 08:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b49fa11e431e05dea81c28fcff1ed07f01665ae7', 'message': 'ml2 ovs: Deprecate unused [agent] veth_mtu\n\nThe [agent] veth_mtu parameter has had unused since the [ovs]\nuse_veth_interconnection parameter was removed by [1] during Wallaby.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/759947\n\nThis change formally deprecate the parameter so that we can remove it\nin a next cycle.\n\nChange-Id: Ib85959fbc06928a49df7ea104eae3aca3f04e091\nCloses-Bug: #1957180\n'}, {'number': 4, 'created': '2022-01-13 08:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/731a3bf5bfaa18ef55d5fa908ca979c8a4086d91', 'message': 'ml2 ovs: Deprecate unused [agent] veth_mtu\n\nThe [agent] veth_mtu parameter has had unused since the [ovs]\nuse_veth_interconnection parameter was removed by [1] during Wallaby.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/759947\n\nThis change formally deprecate the parameter so that we can remove it\nin a next cycle.\n\nChange-Id: Ib85959fbc06928a49df7ea104eae3aca3f04e091\nCloses-Bug: #1957180\n'}, {'number': 5, 'created': '2022-01-13 09:00:14.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/deprecate-agent-veth_mtu-748ca450e32ea192.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/930ec1eca3356cc4e003b5f044b6f7ca65a0bca4', 'message': 'ml2 ovs: Deprecate unused [agent] veth_mtu\n\nThe [agent] veth_mtu parameter has had unused since the [ovs]\nuse_veth_interconnection parameter was removed by [1] during Wallaby.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/759947\n\nThis change formally deprecate the parameter so that we can remove it\nin a next cycle.\n\nChange-Id: Ib85959fbc06928a49df7ea104eae3aca3f04e091\nCloses-Bug: #1957180\n'}]",5,824446,930ec1eca3356cc4e003b5f044b6f7ca65a0bca4,31,5,5,9816,,,0,"ml2 ovs: Deprecate unused [agent] veth_mtu

The [agent] veth_mtu parameter has had unused since the [ovs]
use_veth_interconnection parameter was removed by [1] during Wallaby.

[1] https://review.opendev.org/c/openstack/neutron/+/759947

This change formally deprecate the parameter so that we can remove it
in a next cycle.

Change-Id: Ib85959fbc06928a49df7ea104eae3aca3f04e091
Closes-Bug: #1957180
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/824446/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/plugins/ml2/drivers/ovs_conf.py'],1,9aef8314ce0daa2e02abb927a6cdcbb376cff1ee,bug/1957180," deprecated_for_removal=True, deprecated_since=""Yoga"", deprecated_reason=""This parameter has had no effect since "" ""the Wallaby release."",",,4,0
openstack%2Fironic~bugfix%2F18.1~I50d4381e11da96cb7ae0ee8cbda18534380bd471,openstack/ironic,bugfix/18.1,I50d4381e11da96cb7ae0ee8cbda18534380bd471,Clarify driver load error message,MERGED,2021-11-30 08:12:04.000000000,2022-01-13 12:14:11.000000000,2022-01-13 12:03:41.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-30 08:12:04.000000000', 'files': ['ironic/common/exception.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f561d1ccb451bb3a3f3ee9134f312f2c023628ed', 'message': ""Clarify driver load error message\n\nThe NoValidDefaultForInterface exception is a little misleading\nin that if one doesn't have the base interface enabled, and they\nattempt to enable a hardware type which requires or only supports\ndisabled interfaces, they will also get an exeption. The reality\nis we need to suggest for them to look at enabling the interfaces\nbefore looking at the default interface overrides, because logically\nthe brain jumps to setting a default before checking the interface\nsettings.\n\nChange-Id: I50d4381e11da96cb7ae0ee8cbda18534380bd471\n(cherry picked from commit fdc6424de3ad4beeeb95d348f422af00e03d1892)\n""}]",5,819678,f561d1ccb451bb3a3f3ee9134f312f2c023628ed,29,3,1,23851,,,0,"Clarify driver load error message

The NoValidDefaultForInterface exception is a little misleading
in that if one doesn't have the base interface enabled, and they
attempt to enable a hardware type which requires or only supports
disabled interfaces, they will also get an exeption. The reality
is we need to suggest for them to look at enabling the interfaces
before looking at the default interface overrides, because logically
the brain jumps to setting a default before checking the interface
settings.

Change-Id: I50d4381e11da96cb7ae0ee8cbda18534380bd471
(cherry picked from commit fdc6424de3ad4beeeb95d348f422af00e03d1892)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/819678/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/exception.py'],1,f561d1ccb451bb3a3f3ee9134f312f2c023628ed,," ""value found for %(interface_type)s interface could be "" ""determined. Please ensure the interfaces are enabled."")"," ""value found for %(interface_type)s interface."")",2,1
openstack%2Fopenstack-ansible~master~I8346990908a5d4c949246a50afc5461464df9dab,openstack/openstack-ansible,master,I8346990908a5d4c949246a50afc5461464df9dab,Remove CI jobs for centos-8,MERGED,2021-12-08 07:43:03.000000000,2022-01-13 12:13:18.000000000,2022-01-13 12:03:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-08 07:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6744b6b2dceae744f85aaea2c7f44340c2565977', 'message': 'Remove CI jobs for centos-8\n\nCentos-8 is becoming EOL so we remove the CI jobs.\n\nDepends-On: Id93a3efd4b43bb9770a83d6e23e5736935002922\nChange-Id: I8346990908a5d4c949246a50afc5461464df9dab\n'}, {'number': 2, 'created': '2021-12-15 13:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/062283aac554ce977b543d59db450f9f5452b6da', 'message': 'Remove CI jobs for centos-8\n\nCentos-8 is becoming EOL so we remove the CI jobs.\n\nDepends-On: Id93a3efd4b43bb9770a83d6e23e5736935002922\nChange-Id: I8346990908a5d4c949246a50afc5461464df9dab\n'}, {'number': 3, 'created': '2021-12-18 18:38:32.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a867922f207d975c2388174b869dee0d5c3b5a4', 'message': 'Remove CI jobs for centos-8\n\nCentos-8 is becoming EOL so we remove the CI jobs.\n\nDepends-On: Id93a3efd4b43bb9770a83d6e23e5736935002922\nChange-Id: I8346990908a5d4c949246a50afc5461464df9dab\n'}]",1,820982,5a867922f207d975c2388174b869dee0d5c3b5a4,21,5,3,25023,,,0,"Remove CI jobs for centos-8

Centos-8 is becoming EOL so we remove the CI jobs.

Depends-On: Id93a3efd4b43bb9770a83d6e23e5736935002922
Change-Id: I8346990908a5d4c949246a50afc5461464df9dab
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/82/820982/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml']",3,6744b6b2dceae744f85aaea2c7f44340c2565977,,,# centos 8 - job: name: openstack-ansible-deploy-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-infra_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-hosts_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-hosts_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-upgrade-infra_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-deploy-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_telemetry_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_metal-centos-8 parent: openstack-ansible-deploy-aio-distro nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-upgrade-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 ,0,89
openstack%2Fcinder~stable%2Fxena~Ie925e1886c508d840cd68caa7ebd031f3a89822d,openstack/cinder,stable/xena,Ie925e1886c508d840cd68caa7ebd031f3a89822d,Update rbd warning message,NEW,2021-11-03 02:48:47.000000000,2022-01-13 12:08:37.000000000,,"[{'_account_id': 20813}, {'_account_id': 34095}]","[{'number': 1, 'created': '2021-11-03 02:48:47.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b86e3a255205a453d5deba2644429cb6e784d330', 'message': 'Update rbd warning message\n\nReplace --pool with --dest-pool\n\nCloses-bug: 1934823\nChange-Id: Ie925e1886c508d840cd68caa7ebd031f3a89822d\n(cherry picked from commit b7e294599047188a04f91dda53537b262d2b3f8d)\n'}]",1,816342,b86e3a255205a453d5deba2644429cb6e784d330,11,2,1,30858,,,0,"Update rbd warning message

Replace --pool with --dest-pool

Closes-bug: 1934823
Change-Id: Ie925e1886c508d840cd68caa7ebd031f3a89822d
(cherry picked from commit b7e294599047188a04f91dda53537b262d2b3f8d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/816342/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,b86e3a255205a453d5deba2644429cb6e784d330,bug/1934823-stable/xena," 'rbd', 'import', '--dest-pool', 'rbd', '--order', 22,"," 'rbd', 'import', '--pool', 'rbd', '--order', 22,",2,2
openstack%2Fironic~stable%2Fwallaby~I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,openstack/ironic,stable/wallaby,I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,Ensure 'port' is up2date after binding:host_id,MERGED,2022-01-12 00:45:27.000000000,2022-01-13 11:59:35.000000000,2022-01-13 11:56:30.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-12 00:45:27.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5385e013274917b3bc7edb54363d3da5644f1996', 'message': ""Ensure 'port' is up2date after binding:host_id\n\nOn neutron routed provider networks IP allocation is\ndeferred until 'binding:host_id' is set. When ironic\ncreates neutron ports it first creates the port, then\nupdates the port setting binding information.\n\nWhen using IPv6 networking ironic adds additional address\nallocations to ensure network chain-booting will succeed.\nWhen address allocation is deferred on port create ironic\ncannot detect that IPv6 is used and does not add the\nrequired additional addresses.\n\nThis change ensures the 'port' object is updated after the\nport update setting the port binding required for neutron\nto allocate the address. This allows ironic to correctly\ndetect IPv6 is used, and it will add the required IP\naddress allocations.\n\nStory: 2009773\nTask: 44254\nChange-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2\n(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)\n""}]",0,824164,5385e013274917b3bc7edb54363d3da5644f1996,11,3,1,24245,,,0,"Ensure 'port' is up2date after binding:host_id

On neutron routed provider networks IP allocation is
deferred until 'binding:host_id' is set. When ironic
creates neutron ports it first creates the port, then
updates the port setting binding information.

When using IPv6 networking ironic adds additional address
allocations to ensure network chain-booting will succeed.
When address allocation is deferred on port create ironic
cannot detect that IPv6 is used and does not add the
required additional addresses.

This change ensures the 'port' object is updated after the
port update setting the port binding required for neutron
to allocate the address. This allows ironic to correctly
detect IPv6 is used, and it will add the required IP
address allocations.

Story: 2009773
Task: 44254
Change-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2
(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/824164/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml']",3,5385e013274917b3bc7edb54363d3da5644f1996,story/2009773-stable/wallaby,--- fixes: - | Fixed an issue where provisioning/cleaning would fail on IPv6 routed provider networks. See bug: `2009773 <https://storyboard.openstack.org/#!/story/2009773>`_. ,,13,1
openstack%2Fironic~stable%2Fxena~I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,openstack/ironic,stable/xena,I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,Ensure 'port' is up2date after binding:host_id,MERGED,2022-01-12 00:45:08.000000000,2022-01-13 11:51:41.000000000,2022-01-13 11:48:57.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-12 00:45:08.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a7bc058218ea01008e2632303b092701c73d327', 'message': ""Ensure 'port' is up2date after binding:host_id\n\nOn neutron routed provider networks IP allocation is\ndeferred until 'binding:host_id' is set. When ironic\ncreates neutron ports it first creates the port, then\nupdates the port setting binding information.\n\nWhen using IPv6 networking ironic adds additional address\nallocations to ensure network chain-booting will succeed.\nWhen address allocation is deferred on port create ironic\ncannot detect that IPv6 is used and does not add the\nrequired additional addresses.\n\nThis change ensures the 'port' object is updated after the\nport update setting the port binding required for neutron\nto allocate the address. This allows ironic to correctly\ndetect IPv6 is used, and it will add the required IP\naddress allocations.\n\nStory: 2009773\nTask: 44254\nChange-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2\n(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)\n""}]",0,824163,9a7bc058218ea01008e2632303b092701c73d327,11,3,1,24245,,,0,"Ensure 'port' is up2date after binding:host_id

On neutron routed provider networks IP allocation is
deferred until 'binding:host_id' is set. When ironic
creates neutron ports it first creates the port, then
updates the port setting binding information.

When using IPv6 networking ironic adds additional address
allocations to ensure network chain-booting will succeed.
When address allocation is deferred on port create ironic
cannot detect that IPv6 is used and does not add the
required additional addresses.

This change ensures the 'port' object is updated after the
port update setting the port binding required for neutron
to allocate the address. This allows ironic to correctly
detect IPv6 is used, and it will add the required IP
address allocations.

Story: 2009773
Task: 44254
Change-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2
(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/824163/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml']",3,9a7bc058218ea01008e2632303b092701c73d327,story/2009773-stable/xena,--- fixes: - | Fixed an issue where provisioning/cleaning would fail on IPv6 routed provider networks. See bug: `2009773 <https://storyboard.openstack.org/#!/story/2009773>`_. ,,13,1
openstack%2Ftripleo-quickstart-extras~master~Ic646163c70b06a386f51be4384a8ee9882281c33,openstack/tripleo-quickstart-extras,master,Ic646163c70b06a386f51be4384a8ee9882281c33,DNM - Testing DLRN config filename change,ABANDONED,2022-01-07 12:42:57.000000000,2022-01-13 11:41:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-07 12:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f6b575626472f82d33528a3581f0dea2a9599c7f', 'message': 'DNM - Reverting DLRN config filename\n\nTesting if recent config filename change is affecting DLRN build for\nCS9 compose dependency job.\n\nChange-Id: Ic646163c70b06a386f51be4384a8ee9882281c33\n'}, {'number': 2, 'created': '2022-01-07 17:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/92a3804be03811aa447486c7031583bfdf793327', 'message': 'DNM - Testing DLRN config filename change\n\nTesting if recent config filename change is affecting DLRN build for\nCS9 compose dependency job.\n\nChange-Id: Ic646163c70b06a386f51be4384a8ee9882281c33\n'}, {'number': 3, 'created': '2022-01-07 18:24:23.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7bff365db944be1054e381cdada65589a67649d3', 'message': 'DNM - Testing DLRN config filename change\n\nTesting if recent config filename change is affecting DLRN build for\nCS9 compose dependency job.\n\nChange-Id: Ic646163c70b06a386f51be4384a8ee9882281c33\n'}]",0,823793,7bff365db944be1054e381cdada65589a67649d3,14,2,3,30002,,,0,"DNM - Testing DLRN config filename change

Testing if recent config filename change is affecting DLRN build for
CS9 compose dependency job.

Change-Id: Ic646163c70b06a386f51be4384a8ee9882281c33
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/93/823793/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,f6b575626472f82d33528a3581f0dea2a9599c7f,compose_repos_dep, centos8-local centos8 centos8 https://trunk.rdoproject.org/centos8/, centos{{ ansible_distribution_major_version }}-local centos{{ ansible_distribution_major_version }} centos{{ ansible_distribution_major_version }} https://trunk.rdoproject.org/centos{{ ansible_distribution_major_version }}/,4,4
openstack%2Freleases~master~I5da83c078a107c0040ec28cbd303afb1941690ca,openstack/releases,master,I5da83c078a107c0040ec28cbd303afb1941690ca,New stable releases for Neutron,MERGED,2022-01-07 10:02:52.000000000,2022-01-13 11:35:32.000000000,2022-01-13 11:35:32.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 10:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d4763a04a4711ca8b222c3d79307fe3a94842a40', 'message': 'New stable releases for Neutron\n\nstable/wallaby: 18.1.2 ebf1bd3f03ebf61ef8bc64bb152a9979231caa6c\nstable/victoria: 17.2.2 bdf3ba10e1bbc7bf9c9fccf9f402545aeef12dd7\nstable/ussuri: 16.4.3 7fa72530b120aa19518eb56c08d84a5c4015e817\n\nChange-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\n'}, {'number': 2, 'created': '2022-01-11 10:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/735d3f574df2be0ddadd00187542ea049c01abb3', 'message': 'New stable releases for Neutron\n\nstable/wallaby: 18.1.2 ebf1bd3f03ebf61ef8bc64bb152a9979231caa6c\nstable/victoria: 17.2.2 bdf3ba10e1bbc7bf9c9fccf9f402545aeef12dd7\nstable/ussuri: 16.4.3 7fa72530b120aa19518eb56c08d84a5c4015e817\n\nChange-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\n'}, {'number': 3, 'created': '2022-01-11 10:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1decb39520d0690c23adf06834a3fa57ac31b213', 'message': 'New stable releases for Neutron\n\nstable/wallaby: 18.1.2 ebf1bd3f03ebf61ef8bc64bb152a9979231caa6c\nstable/victoria: 17.2.2 cf18c3e2e55a8a2d41b040c25a62279fb87e7457\n\nChange-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\n'}, {'number': 4, 'created': '2022-01-11 15:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/929f7c134a0382820ca92e9d5949ac4eab7c7dd4', 'message': 'New stable releases for Neutron\n\nstable/wallaby: 18.1.2 ebf1bd3f03ebf61ef8bc64bb152a9979231caa6c\nstable/victoria: 17.2.2 cf18c3e2e55a8a2d41b040c25a62279fb87e7457\n\nChange-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\n'}, {'number': 5, 'created': '2022-01-11 15:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f077fff148dcd791468ab9937a2cb502d7da4526', 'message': 'New stable releases for Neutron\n\nstable/wallaby: 18.2.0 ebf1bd3f03ebf61ef8bc64bb152a9979231caa6c\nstable/victoria: 17.3.0 cf18c3e2e55a8a2d41b040c25a62279fb87e7457\n\nChange-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\n'}, {'number': 6, 'created': '2022-01-11 16:21:13.000000000', 'files': ['deliverables/victoria/neutron.yaml', 'deliverables/wallaby/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c0d4fab7b80612d03764721289dc8330cdb845ef', 'message': 'New stable releases for Neutron\n\nstable/wallaby: 18.2.0 65eca44310f0dde8e9c0f47ce33b6a8b61fe96fa\nstable/victoria: 17.3.0 cf18c3e2e55a8a2d41b040c25a62279fb87e7457\n\nChange-Id: I5da83c078a107c0040ec28cbd303afb1941690ca\n'}]",14,823779,c0d4fab7b80612d03764721289dc8330cdb845ef,30,7,6,8313,,,0,"New stable releases for Neutron

stable/wallaby: 18.2.0 65eca44310f0dde8e9c0f47ce33b6a8b61fe96fa
stable/victoria: 17.3.0 cf18c3e2e55a8a2d41b040c25a62279fb87e7457

Change-Id: I5da83c078a107c0040ec28cbd303afb1941690ca
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/823779/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/neutron.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/ussuri/neutron.yaml']",3,d4763a04a4711ca8b222c3d79307fe3a94842a40,stable_neutron, - version: 16.4.3 projects: - repo: openstack/neutron hash: 7fa72530b120aa19518eb56c08d84a5c4015e817,,12,0
openstack%2Ftripleo-ci~master~Id8b24b24e9540f2aa20128e2ce40837e4e525bd2,openstack/tripleo-ci,master,Id8b24b24e9540f2aa20128e2ce40837e4e525bd2,Bump ansible version to fix molecule job,MERGED,2022-01-12 13:34:19.000000000,2022-01-13 11:31:58.000000000,2022-01-13 11:31:58.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-12 13:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7eac380eb71888ce03b7ef8a920e2241f25bcf3f', 'message': 'DNM test tox\n\nChange-Id: Id8b24b24e9540f2aa20128e2ce40837e4e525bd2\n'}, {'number': 2, 'created': '2022-01-13 07:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/95d3568d7b5b1e1ae91e5624c0242dd002b3ef90', 'message': 'DNM test tox\n\nChange-Id: Id8b24b24e9540f2aa20128e2ce40837e4e525bd2\n'}, {'number': 3, 'created': '2022-01-13 08:49:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4f5f287f27ddc3429a020a257a573cafe631f5c3', 'message': 'Bump ansible version to fix molecule job\n\nInstall ansible which contains all required collections, since\nit failed with new ansible-compat module.\nCloses-Bug: #1957116\n\nChange-Id: Id8b24b24e9540f2aa20128e2ce40837e4e525bd2\n'}]",1,824441,4f5f287f27ddc3429a020a257a573cafe631f5c3,12,4,3,10969,,,0,"Bump ansible version to fix molecule job

Install ansible which contains all required collections, since
it failed with new ansible-compat module.
Closes-Bug: #1957116

Change-Id: Id8b24b24e9540f2aa20128e2ce40837e4e525bd2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/824441/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7eac380eb71888ce03b7ef8a920e2241f25bcf3f,,,ansible-compat<=0.5.0 # (reference: https://bugs.launchpad.net/tripleo/+bug/1957116),0,1
openstack%2Ftripleo-ci~master~I3178c9cfba3f730fdea9cd9a56774ad62134bb43,openstack/tripleo-ci,master,I3178c9cfba3f730fdea9cd9a56774ad62134bb43,Add C9 undercloud jobs to gate queue and voting,MERGED,2022-01-11 12:49:23.000000000,2022-01-13 11:31:52.000000000,2022-01-13 11:31:52.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 32029}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-11 12:49:23.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/72260900eb3f0d30bf5902ea5aa0670cec1cb2d3', 'message': 'Add C9 undercloud jobs to gate queue and voting\n\nMakes tripleo-ci-centos-9-undercloud-containers vote and adds to\ngate queue. The parent patch at [1] deals with the content provider\n\n[1] Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d\n\nChange-Id: I3178c9cfba3f730fdea9cd9a56774ad62134bb43\n'}]",1,824175,72260900eb3f0d30bf5902ea5aa0670cec1cb2d3,14,7,1,8449,,,0,"Add C9 undercloud jobs to gate queue and voting

Makes tripleo-ci-centos-9-undercloud-containers vote and adds to
gate queue. The parent patch at [1] deals with the content provider

[1] Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d

Change-Id: I3178c9cfba3f730fdea9cd9a56774ad62134bb43
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/75/824175/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,72260900eb3f0d30bf5902ea5aa0670cec1cb2d3,cs9, - tripleo-ci-centos-9-undercloud-containers: &c9_vars - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-undercloud-containers: *c9_vars, - tripleo-ci-centos-9-undercloud-containers: voting: false,3,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I5f3b678b30f6375844c0a4b094432c9be9d8e444,openstack/tripleo-heat-templates,stable/victoria,I5f3b678b30f6375844c0a4b094432c9be9d8e444,Disable metrics_qdr binding in HAProxyEdge,MERGED,2022-01-11 22:37:25.000000000,2022-01-13 11:31:48.000000000,2022-01-13 11:31:48.000000000,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-11 22:37:25.000000000', 'files': ['deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/401883388ccb1cf8823d41c2d903ac85dd6ccbea', 'message': 'Disable metrics_qdr binding in HAProxyEdge\n\nHAProxyEdge disables most haproxy bindings.\nThe metrics_qdr binding is missing, likely due to the fact it was\ncreated after the HAProxyEdge service.\n\nChange-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444\n(cherry picked from commit 4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888)\n(cherry picked from commit 14b042826fef08a04e188c9d9af35acf1a92f057)\n'}]",2,824252,401883388ccb1cf8823d41c2d903ac85dd6ccbea,16,5,1,23811,,,0,"Disable metrics_qdr binding in HAProxyEdge

HAProxyEdge disables most haproxy bindings.
The metrics_qdr binding is missing, likely due to the fact it was
created after the HAProxyEdge service.

Change-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444
(cherry picked from commit 4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888)
(cherry picked from commit 14b042826fef08a04e188c9d9af35acf1a92f057)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/824252/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-edge-container-puppet.yaml'],1,401883388ccb1cf8823d41c2d903ac85dd6ccbea,victoria, tripleo::haproxy::metrics_qdr: false,,1,0
openstack%2Freleases~master~Ifaeac58b3f2a37fd0647e4f98868166ca1f9d599,openstack/releases,master,Ifaeac58b3f2a37fd0647e4f98868166ca1f9d599,Release octavia 7.1.2 for victoria,MERGED,2022-01-11 08:23:41.000000000,2022-01-13 11:30:40.000000000,2022-01-13 11:30:40.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 08:23:41.000000000', 'files': ['deliverables/victoria/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e68465a4a5cdd997b0da307364cf8a21279deefb', 'message': 'Release octavia 7.1.2 for victoria\n\nIncluded commits:\nde20868a Fix LB set in ERROR too early in MapLoadbalancerToAmphora\n17f2c674 Fix LB set in ERROR too early in the revert flow\ne3026d35 Fix failover of az-specific loadbalancers\n4703bebd Fix management network selection when calculating deltas\n061ca287 Fix using host_routes in VIP subnet with amphorav2\nc0ad3b34 Disable conntrack for TCP flows in the amphora\nf7dde919 Fix duplicate SG creation for listener peer port\nb94493eb Fix MAX_TIMEOUT value for listener\n80ff90e3 Fix periodic image builder jobs\nbf012c2c Fix PlugVIPAmphora revert function in amphorav2\nc177987f Update nr_open limit value in the amphora\n18413fab Add caps for pip-extra-reqs/pip-missing-reqs\n739be788 Fix race conditions between API and worker DB calls\n74c0ff2a Enable lo interface in the amphora-haproxy netns\nee7b2621 Add amphora_id in store params for failover_amphora\nd69d0666 Fix comment for the ca_certificates_file opt\n37b15da4 Optimize CountPoolChildrenForQuota task in amphorav2\nbbb203a2 Fix task_flow.max_workers with persistence in amphorav2\n2195a45a Fix rsyslog configuration when disabling logs\n93ec146a Fix jobboard_enabled setting in devstack\n5d49484e Fix devstack cleanup when using amphorav2\na139d2f9 Fix using subnets with host_routes in amphorav2 driver\n582b4bab Make /healthcheck cache results\n7ab43edc Cap hacking\n1cb53e14 Fix empty Batch Member Update to unlock objects\nc7640b90 Fix weighted round-robin about UDP listener\ne3b68219 Fix LB failover for amphorav2: set security group\n8b210bb5 Fix incorrect ERROR status with IPv6 UDP members\n0a8254e0 Fix provider driver quota handling\n\nChange-Id: Ifaeac58b3f2a37fd0647e4f98868166ca1f9d599\n'}]",2,824094,e68465a4a5cdd997b0da307364cf8a21279deefb,9,5,1,29244,,,0,"Release octavia 7.1.2 for victoria

Included commits:
de20868a Fix LB set in ERROR too early in MapLoadbalancerToAmphora
17f2c674 Fix LB set in ERROR too early in the revert flow
e3026d35 Fix failover of az-specific loadbalancers
4703bebd Fix management network selection when calculating deltas
061ca287 Fix using host_routes in VIP subnet with amphorav2
c0ad3b34 Disable conntrack for TCP flows in the amphora
f7dde919 Fix duplicate SG creation for listener peer port
b94493eb Fix MAX_TIMEOUT value for listener
80ff90e3 Fix periodic image builder jobs
bf012c2c Fix PlugVIPAmphora revert function in amphorav2
c177987f Update nr_open limit value in the amphora
18413fab Add caps for pip-extra-reqs/pip-missing-reqs
739be788 Fix race conditions between API and worker DB calls
74c0ff2a Enable lo interface in the amphora-haproxy netns
ee7b2621 Add amphora_id in store params for failover_amphora
d69d0666 Fix comment for the ca_certificates_file opt
37b15da4 Optimize CountPoolChildrenForQuota task in amphorav2
bbb203a2 Fix task_flow.max_workers with persistence in amphorav2
2195a45a Fix rsyslog configuration when disabling logs
93ec146a Fix jobboard_enabled setting in devstack
5d49484e Fix devstack cleanup when using amphorav2
a139d2f9 Fix using subnets with host_routes in amphorav2 driver
582b4bab Make /healthcheck cache results
7ab43edc Cap hacking
1cb53e14 Fix empty Batch Member Update to unlock objects
c7640b90 Fix weighted round-robin about UDP listener
e3b68219 Fix LB failover for amphorav2: set security group
8b210bb5 Fix incorrect ERROR status with IPv6 UDP members
0a8254e0 Fix provider driver quota handling

Change-Id: Ifaeac58b3f2a37fd0647e4f98868166ca1f9d599
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/824094/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/octavia.yaml'],1,e68465a4a5cdd997b0da307364cf8a21279deefb,, - version: 7.1.2 projects: - repo: openstack/octavia hash: de20868ab74e5d0b3b24e254b8c4cefae7b78fb6,,4,0
openstack%2Freleases~master~I678456f59038e5088c2a3f43f5e6c5721ee025c5,openstack/releases,master,I678456f59038e5088c2a3f43f5e6c5721ee025c5,Add ansible-collection-kolla deliverable file for Yoga,MERGED,2022-01-10 17:00:41.000000000,2022-01-13 11:25:40.000000000,2022-01-13 11:25:40.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-10 17:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2ac479728273ba7355c779cb2a97965ce28fe0cd', 'message': 'Add ansible-collection-kolla deliverable file for Yoga\n\nThis is a new deliverable in the Yoga cycle.\n\nChange-Id: I678456f59038e5088c2a3f43f5e6c5721ee025c5\n'}, {'number': 2, 'created': '2022-01-10 17:08:36.000000000', 'files': ['deliverables/yoga/ansible-collection-kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ae59e0b17917b19e707f5e5a94dff309a7350c6c', 'message': 'Add ansible-collection-kolla deliverable file for Yoga\n\nThis is a new deliverable in the Yoga cycle.\n\nChange-Id: I678456f59038e5088c2a3f43f5e6c5721ee025c5\n'}]",2,824032,ae59e0b17917b19e707f5e5a94dff309a7350c6c,11,4,2,14826,,,0,"Add ansible-collection-kolla deliverable file for Yoga

This is a new deliverable in the Yoga cycle.

Change-Id: I678456f59038e5088c2a3f43f5e6c5721ee025c5
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/824032/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ansible-collection-kolla.yml'],1,2ac479728273ba7355c779cb2a97965ce28fe0cd,,--- launchpad: ansible-collection-kolla release-model: cycle-with-rc team: kolla type: trailing repository-settings: openstack/ansible-collection-kolla: {} ,,7,0
openstack%2Fironic~bugfix%2F18.0~I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,openstack/ironic,bugfix/18.0,I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,Ensure 'port' is up2date after binding:host_id,ABANDONED,2022-01-12 00:46:54.000000000,2022-01-13 11:24:48.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 00:46:54.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b455a90bf15f93c6bbb5e5f5b70559712cc4daa8', 'message': ""Ensure 'port' is up2date after binding:host_id\n\nOn neutron routed provider networks IP allocation is\ndeferred until 'binding:host_id' is set. When ironic\ncreates neutron ports it first creates the port, then\nupdates the port setting binding information.\n\nWhen using IPv6 networking ironic adds additional address\nallocations to ensure network chain-booting will succeed.\nWhen address allocation is deferred on port create ironic\ncannot detect that IPv6 is used and does not add the\nrequired additional addresses.\n\nThis change ensures the 'port' object is updated after the\nport update setting the port binding required for neutron\nto allocate the address. This allows ironic to correctly\ndetect IPv6 is used, and it will add the required IP\naddress allocations.\n\nStory: 2009773\nTask: 44254\nChange-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2\n(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)\n""}]",0,824168,b455a90bf15f93c6bbb5e5f5b70559712cc4daa8,7,2,1,24245,,,0,"Ensure 'port' is up2date after binding:host_id

On neutron routed provider networks IP allocation is
deferred until 'binding:host_id' is set. When ironic
creates neutron ports it first creates the port, then
updates the port setting binding information.

When using IPv6 networking ironic adds additional address
allocations to ensure network chain-booting will succeed.
When address allocation is deferred on port create ironic
cannot detect that IPv6 is used and does not add the
required additional addresses.

This change ensures the 'port' object is updated after the
port update setting the port binding required for neutron
to allocate the address. This allows ironic to correctly
detect IPv6 is used, and it will add the required IP
address allocations.

Story: 2009773
Task: 44254
Change-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2
(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/824168/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml']",3,b455a90bf15f93c6bbb5e5f5b70559712cc4daa8,story/2009773-bugfix/18.0,--- fixes: - | Fixed an issue where provisioning/cleaning would fail on IPv6 routed provider networks. See bug: `2009773 <https://storyboard.openstack.org/#!/story/2009773>`_. ,,13,1
openstack%2Fironic~bugfix%2F18.0~I8bef819dc3101f88f4e04ea986e1039e34d917ed,openstack/ironic,bugfix/18.0,I8bef819dc3101f88f4e04ea986e1039e34d917ed,Add dhcp options for each ip_version once,ABANDONED,2022-01-10 17:31:46.000000000,2022-01-13 11:24:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-10 17:31:46.000000000', 'files': ['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b3392a5d7b94d01b05310b0cf967c83829ff95c', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)\n'}]",1,824016,8b3392a5d7b94d01b05310b0cf967c83829ff95c,7,2,1,24245,,,0,"Add dhcp options for each ip_version once

Currently duplicate DHCP options are added when a port have
multiple address in the same address familiy. The duplicate
entries cause an internal server error in neutron.

This fixes the issue by only adding DHCP options for each
IP-version.

Story: 2009774
Task: 44255
Change-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed
(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/824016/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py']",3,8b3392a5d7b94d01b05310b0cf967c83829ff95c,story/2009774-bugfix/18.0," ""ip_address"": ""192.168.1.4"", }, { }, { ""ip_address"": ""2001:db8::202"",",,17,3
openstack%2Fcinder~stable%2Fxena~I8676446d2712306a0e59328418a1f979fe1808c0,openstack/cinder,stable/xena,I8676446d2712306a0e59328418a1f979fe1808c0,"test commit, will be abandoned after testing",NEW,2021-10-28 07:06:34.000000000,2022-01-13 10:50:32.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 07:06:34.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2eab1ac3c939bdef0604bb70cdf6976e2fcd318b', 'message': 'test commit, will be abandoned after testing\n\nChange-Id: I8676446d2712306a0e59328418a1f979fe1808c0\n'}]",5,815780,2eab1ac3c939bdef0604bb70cdf6976e2fcd318b,26,2,1,32036,,,0,"test commit, will be abandoned after testing

Change-Id: I8676446d2712306a0e59328418a1f979fe1808c0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/815780/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,2eab1ac3c939bdef0604bb70cdf6976e2fcd318b,Xena, LOG.debug('Entered run_consistgrp_snapshots'),,1,0
openstack%2Fkolla-ansible~master~Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,openstack/kolla-ansible,master,Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,Access to zun container fails when tls_external enabled.,MERGED,2022-01-11 23:00:58.000000000,2022-01-13 10:48:43.000000000,2022-01-13 10:45:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 23:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68b595b90bc2ebd65d8a74b34fa3279c0d15bf24', 'message': 'Access to console of zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to the value of nova_serialproxy_protocol,\nwhich is set to \'wss\' if kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 2, 'created': '2022-01-11 23:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97e5a7fc4297ff5be5703e60f9652d3b225558ea', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 3, 'created': '2022-01-12 06:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70e1632f9e4d89e9bfb7f1b2802053b560de2baf', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 4, 'created': '2022-01-12 06:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/929d29d9eedacb96b7ab3b894aeff18c1a4a09cc', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 5, 'created': '2022-01-12 08:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e89bf691f9c87c597ad34c384180ff21ead2af45', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 6, 'created': '2022-01-12 09:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0eaabca35ad059184f17d7b8a99bac5667b93901', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 7, 'created': '2022-01-12 09:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fcabdb0b9a2964fb6ab98c4785bbb8b117d5d4fd', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 8, 'created': '2022-01-12 13:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98deb2333f7b8a687350930ba70ef61b4394cc9a', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 9, 'created': '2022-01-12 13:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c64265de8bdf811fb004727fd6dfd44c5f022e4', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}, {'number': 10, 'created': '2022-01-12 13:30:41.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8c73aa2064767f3cfe6090daf3503f369ec1bd1', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n'}]",21,824259,d8c73aa2064767f3cfe6090daf3503f369ec1bd1,32,3,10,28295,,,0,"Access to zun container fails when tls_external enabled.

Access to console of any zun container fails when
kolla_enable_tls_external is true.
This is due to the protocol of the base_url of the websocket_proxy
section in zun.conf is hardcoded to 'ws'.
[base_url = ws://<external_fqdn>:<port>]

This fix adds a new variable zun_wsproxy_protocol
and sets it's value to 'wss' when kolla_enable_tls_external is true
or to 'ws' otherwise

Then the base url's protocol of the websocket_proxy section
in zun.conf is set by zun_wsproxy_protocol
[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]

Closes-Bug: 1957117
Change-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/824259/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml']",3,68b595b90bc2ebd65d8a74b34fa3279c0d15bf24,,"zun_wsproxy_protocol: ""{{ nova_serialproxy_protocol }}""",,20,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I30165c8ee5aa4b777b73ad89ac709e2c8a375382,openstack/tripleo-heat-templates,stable/wallaby,I30165c8ee5aa4b777b73ad89ac709e2c8a375382,Use public endpoint for [keystone_authtoken] www_authenticate_uri,MERGED,2022-01-05 00:16:33.000000000,2022-01-13 10:45:31.000000000,2022-01-13 10:45:31.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 00:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3b674c3591da3ce2e38c751a50a540761baffbf', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nConflicts:\n\tdeployment/ironic/ironic-conductor-container-puppet.yaml\n\tdeployment/swift/swift-proxy-container-puppet.yaml\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)\n'}, {'number': 2, 'created': '2022-01-06 01:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0ef6f9d6e837a60d72a18e1199f5f8a8ba26dbc', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nConflicts:\n\tdeployment/ironic/ironic-conductor-container-puppet.yaml\n\tdeployment/swift/swift-proxy-container-puppet.yaml\n\nBackport note:\nThis change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515\nwhich fixes the remaining usage of internal endpoint.\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)\n'}, {'number': 3, 'created': '2022-01-06 01:43:08.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58129434ac1269b0da306371e28a2cb2f8a05b12', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nConflicts:\n\tdeployment/ironic/ironic-conductor-container-puppet.yaml\n\tdeployment/swift/swift-proxy-container-puppet.yaml\n\nBackport note:\nThis change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515\nwhich fixes the remaining usage of internal endpoint. Also, commit\n02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included\nto remove the following ineffective puppet parameter.\n neutron::server::placement::www_authenticate_uri\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)\n'}]",2,823440,58129434ac1269b0da306371e28a2cb2f8a05b12,20,4,3,9816,,,0,"Use public endpoint for [keystone_authtoken] www_authenticate_uri

According to the parameter description, www_authenticate_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.

Conflicts:
	deployment/ironic/ironic-conductor-container-puppet.yaml
	deployment/swift/swift-proxy-container-puppet.yaml

Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
 neutron::server::placement::www_authenticate_uri

Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/823440/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",17,b3b674c3591da3ce2e38c751a50a540761baffbf,bug/1955397," aodh::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix] }"," aodh::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] }",17,17
openstack%2Fopenstack-ansible-tests~master~Ia01458f1f6183dd7d68e64645ad3829f2969e33b,openstack/openstack-ansible-tests,master,Ia01458f1f6183dd7d68e64645ad3829f2969e33b,Update ansible lint version,MERGED,2022-01-12 16:12:59.000000000,2022-01-13 10:38:03.000000000,2022-01-13 10:34:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b40ebbd00762ddda644081f0d5ef2d9f9ba37b80', 'message': 'Update ansible lint version\n\nChange-Id: Ia01458f1f6183dd7d68e64645ad3829f2969e33b\n'}, {'number': 2, 'created': '2022-01-13 07:20:08.000000000', 'files': ['test-ansible-env-prep.sh', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9aa9119a6a3b32c7dae6e5d275c6d07390fa9753', 'message': 'Update ansible lint version\n\nChange-Id: Ia01458f1f6183dd7d68e64645ad3829f2969e33b\n'}]",0,824454,9aa9119a6a3b32c7dae6e5d275c6d07390fa9753,11,3,2,25023,,,0,"Update ansible lint version

Change-Id: Ia01458f1f6183dd7d68e64645ad3829f2969e33b
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/54/824454/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b40ebbd00762ddda644081f0d5ef2d9f9ba37b80,,ansible-lint==5.3.2 # MIT,ansible-lint==5.0.10 # MIT,1,1
openstack%2Fopenstack-ansible-tests~master~I7ad62182178dd1eb285d6002b2852b457f678c7b,openstack/openstack-ansible-tests,master,I7ad62182178dd1eb285d6002b2852b457f678c7b,Fix rich version for ansible-lint,MERGED,2022-01-12 16:12:59.000000000,2022-01-13 10:36:22.000000000,2022-01-13 10:34:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 16:12:59.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/57c07c0199e014f6aa0d6879085c427e74ac388e', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: I7ad62182178dd1eb285d6002b2852b457f678c7b\n""}]",0,824453,57c07c0199e014f6aa0d6879085c427e74ac388e,8,3,1,25023,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: I7ad62182178dd1eb285d6002b2852b457f678c7b
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/53/824453/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,57c07c0199e014f6aa0d6879085c427e74ac388e,," PIP_OPTS+="" --requirement ${WORKING_DIR}/test-requirements.txt rich>=9.5.1,<11.0.0"""," PIP_OPTS+="" --requirement ${WORKING_DIR}/test-requirements.txt""",1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I30c2ad2bf2957ac544942aefae8898cdc8a61ec6,openstack/kolla-ansible,stable/wallaby,I30c2ad2bf2957ac544942aefae8898cdc8a61ec6,ironic: always enable conductor HTTP server,MERGED,2022-01-11 14:15:56.000000000,2022-01-13 10:27:10.000000000,2022-01-13 10:25:10.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 14:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21aa82c60bbc75f4bdff2f6c435a98fe946b6050', 'message': 'ironic: always enable conductor HTTP server\n\nIn the Xena release, Ironic removed the iSCSI driver [1]. The\nrecommended driver is direct, which uses HTTP to transfer the disk\nimage. This requires an HTTP server, and the simplest option is to use\nthe one currently deployed when enable_ironic_ipxe is set to true. For\nthis reason, this patch always enables the HTTP server running on the\nconductor.\n\niPXE is still enabled separately, since it cannot currently be used at\nthe same time as PXE.\n\nBackport note: Ironic made direct the default in Wallaby. This Wallaby backport ensures that the defaults in Kolla & Ironic may work together.\n\n[1] https://review.opendev.org/c/openstack/ironic/+/789382\n\nChange-Id: I30c2ad2bf2957ac544942aefae8898cdc8a61ec6\n(cherry picked from commit 411668ea5a05e8182d80be63501e2f7fa1882345)\n'}, {'number': 2, 'created': '2022-01-11 14:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed8182d4abf638b876dd5f54d45e7b8a43c026b7', 'message': 'ironic: always enable conductor HTTP server\n\nIn the Xena release, Ironic removed the iSCSI driver [1]. The\nrecommended driver is direct, which uses HTTP to transfer the disk\nimage. This requires an HTTP server, and the simplest option is to use\nthe one currently deployed when enable_ironic_ipxe is set to true. For\nthis reason, this patch always enables the HTTP server running on the\nconductor.\n\niPXE is still enabled separately, since it cannot currently be used at\nthe same time as PXE.\n\nBackport note: Ironic made direct the default in Wallaby. This Wallaby backport ensures that the defaults in Kolla & Ironic may work together.\n\n[1] https://review.opendev.org/c/openstack/ironic/+/789382\n\nChange-Id: I30c2ad2bf2957ac544942aefae8898cdc8a61ec6\n(cherry picked from commit 411668ea5a05e8182d80be63501e2f7fa1882345)\n'}, {'number': 3, 'created': '2022-01-11 14:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd97e2e45a2c46ee9a411496350d0517d2856453', 'message': 'ironic: always enable conductor HTTP server\n\nIn the Xena release, Ironic removed the iSCSI driver [1]. The\nrecommended driver is direct, which uses HTTP to transfer the disk\nimage. This requires an HTTP server, and the simplest option is to use\nthe one currently deployed when enable_ironic_ipxe is set to true. For\nthis reason, this patch always enables the HTTP server running on the\nconductor.\n\niPXE is still enabled separately, since it cannot currently be used at\nthe same time as PXE.\n\nBackport note: Ironic made direct the default in Wallaby. This Wallaby\nbackport ensures that the defaults in Kolla & Ironic may work together.\n\n[1] https://review.opendev.org/c/openstack/ironic/+/789382\n\nChange-Id: I30c2ad2bf2957ac544942aefae8898cdc8a61ec6\n(cherry picked from commit 411668ea5a05e8182d80be63501e2f7fa1882345)\n'}, {'number': 4, 'created': '2022-01-11 14:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e87188868dd98672dde81d1351bc00a6b4a942a', 'message': 'ironic: always enable conductor HTTP server\n\nIn the Xena release, Ironic removed the iSCSI driver [1]. The\nrecommended driver is direct, which uses HTTP to transfer the disk\nimage. This requires an HTTP server, and the simplest option is to use\nthe one currently deployed when enable_ironic_ipxe is set to true. For\nthis reason, this patch always enables the HTTP server running on the\nconductor.\n\niPXE is still enabled separately, since it cannot currently be used at\nthe same time as PXE.\n\nBackport note: Ironic made direct the default in Wallaby. This Wallaby\nbackport ensures that the defaults in Kolla & Ironic may work together.\n\n[1] https://review.opendev.org/c/openstack/ironic/+/789382\n\nChange-Id: I30c2ad2bf2957ac544942aefae8898cdc8a61ec6\n(cherry picked from commit 411668ea5a05e8182d80be63501e2f7fa1882345)\n'}, {'number': 5, 'created': '2022-01-11 14:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bfd17e1af32ae74af61203978a27b1e9555bf12', 'message': 'ironic: always enable conductor HTTP server\n\nIn the Xena release, Ironic removed the iSCSI driver [1]. The\nrecommended driver is direct, which uses HTTP to transfer the disk\nimage. This requires an HTTP server, and the simplest option is to use\nthe one currently deployed when enable_ironic_ipxe is set to true. For\nthis reason, this patch always enables the HTTP server running on the\nconductor.\n\niPXE is still enabled separately, since it cannot currently be used at\nthe same time as PXE.\n\nBackport note: Ironic made direct the default in Wallaby. This Wallaby\nbackport ensures that the defaults in Kolla & Ironic may work together.\n\n[1] https://review.opendev.org/c/openstack/ironic/+/789382\n\nChange-Id: I30c2ad2bf2957ac544942aefae8898cdc8a61ec6\n(cherry picked from commit 411668ea5a05e8182d80be63501e2f7fa1882345)\n'}, {'number': 6, 'created': '2022-01-12 09:16:38.000000000', 'files': ['ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/ironic/defaults/main.yml', 'releasenotes/notes/enable-ipxe-cf461344bdb99881.yaml', 'doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7c13ad8bf08e98e86bd2861411b9504029cab82', 'message': 'ironic: always enable conductor HTTP server\n\nIn the Xena release, Ironic removed the iSCSI driver [1]. The\nrecommended driver is direct, which uses HTTP to transfer the disk\nimage. This requires an HTTP server, and the simplest option is to use\nthe one currently deployed when enable_ironic_ipxe is set to true. For\nthis reason, this patch always enables the HTTP server running on the\nconductor.\n\niPXE is still enabled separately, since it cannot currently be used at\nthe same time as PXE.\n\nBackport note: Ironic made direct the default in Wallaby. This Wallaby\nbackport ensures that the defaults in Kolla & Ironic may work together.\n\n[1] https://review.opendev.org/c/openstack/ironic/+/789382\n\nChange-Id: I30c2ad2bf2957ac544942aefae8898cdc8a61ec6\n(cherry picked from commit 411668ea5a05e8182d80be63501e2f7fa1882345)\n'}]",3,824155,a7c13ad8bf08e98e86bd2861411b9504029cab82,21,4,6,14826,,,0,"ironic: always enable conductor HTTP server

In the Xena release, Ironic removed the iSCSI driver [1]. The
recommended driver is direct, which uses HTTP to transfer the disk
image. This requires an HTTP server, and the simplest option is to use
the one currently deployed when enable_ironic_ipxe is set to true. For
this reason, this patch always enables the HTTP server running on the
conductor.

iPXE is still enabled separately, since it cannot currently be used at
the same time as PXE.

Backport note: Ironic made direct the default in Wallaby. This Wallaby
backport ensures that the defaults in Kolla & Ironic may work together.

[1] https://review.opendev.org/c/openstack/ironic/+/789382

Change-Id: I30c2ad2bf2957ac544942aefae8898cdc8a61ec6
(cherry picked from commit 411668ea5a05e8182d80be63501e2f7fa1882345)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/824155/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/ironic/defaults/main.yml', 'releasenotes/notes/enable-ipxe-cf461344bdb99881.yaml', 'doc/source/reference/bare-metal/ironic-guide.rst']",4,21aa82c60bbc75f4bdff2f6c435a98fe946b6050,," enable_ironic_ipxe: ""yes"" When iPXE booting is enabled, the ``ironic_ipxe`` container is used to serve the iPXE boot images as described below. Regardless of the setting above, the same container is used to support the ``direct`` deploy interface.<<<<<<< HEAD (9ef252 Merge ""CI: check-logs - add another exception"" into stable/w)======= Note that due to a limitation in Kolla Ansible, PXE and iPXE cannot be used together in a single deployment. In order to enable the iPXE driver in Ironic, set the ``[DEFAULT] enabled_boot_interfaces`` option in ``/etc/kolla/config/ironic.conf``: .. code-block:: yaml [DEFAULT] enabled_boot_interfaces = ipxe >>>>>>> CHANGE (411668 ironic: always enable conductor HTTP server)"," enable_ironic_ipxe: ""yes"" This will enable deployment of a docker container, called ironic_ipxe, running the web server which iPXE uses to obtain it's boot images.",35,6
openstack%2Fsahara~master~I3bb41f86713facba2fa3811b1e4420e68d0f355a,openstack/sahara,master,I3bb41f86713facba2fa3811b1e4420e68d0f355a,Make unclear code clear in user guide,MERGED,2021-12-30 08:22:15.000000000,2022-01-13 10:21:32.000000000,2022-01-13 10:18:23.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}, {'_account_id': 33353}]","[{'number': 1, 'created': '2021-12-30 08:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/9ff7c34870ad78d481889ce25a92ff02b382921c', 'message': 'Remove the suffix of *console*\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}, {'number': 2, 'created': '2021-12-30 08:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/2e31f4eafb518f55c869a052cf76884d8087ec15', 'message': 'Remove the suffix of *console*\n\nhttps://docs.openstack.org/sahara/latest/user/quickstart.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}, {'number': 3, 'created': '2021-12-30 11:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a87c14a6cf1ace1467803ed3f58cd1d640e80c1b', 'message': 'Remove the suffix of *console*\n\nhttps://docs.openstack.org/sahara/latest/user/quickstart.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}, {'number': 4, 'created': '2021-12-30 11:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6e3c54a883c0e161f482ea7cf924c8b2b029b655', 'message': 'Make unclear code clear\n\nhttps://docs.openstack.org/sahara/latest/user/quickstart.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}, {'number': 5, 'created': '2021-12-30 11:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/90c46b01b85723854aa922ef33105633f1199f0d', 'message': 'Make unclear code clear\n\nhttps://docs.openstack.org/sahara/latest/user/quickstart.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}, {'number': 6, 'created': '2021-12-30 11:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/cd44df3d0fbe4ef91eadcd402b9aea88e78a1733', 'message': 'Make unclear code clear\n\nhttps://docs.openstack.org/sahara/latest/user/quickstart.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}, {'number': 7, 'created': '2021-12-30 11:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/84479b3f3acdcb5f31e532b0f1e246b96542580c', 'message': 'Make unclear code clear in user guide\n\nhttps://docs.openstack.org/sahara/latest/user/quickstart.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}, {'number': 8, 'created': '2022-01-13 07:06:50.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/user/plugins.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f0a0946c495598764fd5f1f683aea283af304056', 'message': 'Make unclear code clear in user guide\n\nhttps://docs.openstack.org/sahara/latest/user/quickstart.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a\n'}]",5,823191,f0a0946c495598764fd5f1f683aea283af304056,21,4,8,34375,,,0,"Make unclear code clear in user guide

https://docs.openstack.org/sahara/latest/user/quickstart.html
cannot show the CLI commend, this patch fix that issue.

Change-Id: I3bb41f86713facba2fa3811b1e4420e68d0f355a
",git fetch https://review.opendev.org/openstack/sahara refs/changes/91/823191/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,9ff7c34870ad78d481889ce25a92ff02b382921c,,.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::.. code-block::,.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console.. code-block:: console,12,12
openstack%2Fsahara~master~I7467e3a3665f882587adbaa8e6c50042bc00739c,openstack/sahara,master,I7467e3a3665f882587adbaa8e6c50042bc00739c,Solve the problem that the code in the xml file is not clear,MERGED,2021-12-30 11:56:43.000000000,2022-01-13 10:20:04.000000000,2022-01-13 10:13:57.000000000,"[{'_account_id': 22348}, {'_account_id': 30077}, {'_account_id': 33353}]","[{'number': 1, 'created': '2021-12-30 11:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f8248d1d50b662948eda5408b5d73a74d1a0f09c', 'message': 'Solve the problem that the code in the xml file is not clear\n\nChange-Id: I7467e3a3665f882587adbaa8e6c50042bc00739c\n'}, {'number': 2, 'created': '2021-12-30 11:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/cb7ca51134d07bfcbad2188d7fd590ff8a519eb0', 'message': 'Solve the problem that the code in the xml file is not clear\n\nhttps://docs.openstack.org/sahara/latest/user/hadoop-swift.html\ncannot show the code clear in xml file, this patch fix that issue.\n\nChange-Id: I7467e3a3665f882587adbaa8e6c50042bc00739c\n'}, {'number': 3, 'created': '2022-01-13 07:21:32.000000000', 'files': ['doc/source/user/hadoop-swift.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/4a7f7b462ae95e824b0fe3b5a7280cd4307c7580', 'message': 'Solve the problem that the code in the xml file is not clear\n\nhttps://docs.openstack.org/sahara/latest/user/hadoop-swift.html\ncannot show the code clear in xml file, this patch fix that issue.\n\nChange-Id: I7467e3a3665f882587adbaa8e6c50042bc00739c\n'}]",1,823202,4a7f7b462ae95e824b0fe3b5a7280cd4307c7580,10,3,3,34375,,,0,"Solve the problem that the code in the xml file is not clear

https://docs.openstack.org/sahara/latest/user/hadoop-swift.html
cannot show the code clear in xml file, this patch fix that issue.

Change-Id: I7467e3a3665f882587adbaa8e6c50042bc00739c
",git fetch https://review.opendev.org/openstack/sahara refs/changes/02/823202/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/hadoop-swift.rst'],1,f8248d1d50b662948eda5408b5d73a74d1a0f09c,,.. code-block::,.. sourcecode:: xml,1,1
openstack%2Fsahara~master~Ie4f8add7e464c454c41d6c4084ec64d6b7cca3ee,openstack/sahara,master,Ie4f8add7e464c454c41d6c4084ec64d6b7cca3ee,Let the code in the json file be displayed,MERGED,2021-12-30 11:49:48.000000000,2022-01-13 10:17:53.000000000,2022-01-13 10:13:53.000000000,"[{'_account_id': 22348}, {'_account_id': 30077}, {'_account_id': 33353}]","[{'number': 1, 'created': '2021-12-30 11:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5bf723448471eb941bf5a1cbdc604dba3afb49ff', 'message': 'Let the code in the json file be displayed\n\nChange-Id: Ie4f8add7e464c454c41d6c4084ec64d6b7cca3ee\n'}, {'number': 2, 'created': '2021-12-30 11:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fe6aa565086730919f860b2b4b8a21351bb84ea5', 'message': 'Let the code in the json file be displayed\n\nhttps://docs.openstack.org/sahara/latest/user/edp.html\ncannot show the code clear, this patch fix that issue.\n\nChange-Id: Ie4f8add7e464c454c41d6c4084ec64d6b7cca3ee\n'}, {'number': 3, 'created': '2022-01-13 07:20:21.000000000', 'files': ['doc/source/user/edp.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/e9e50bede6bf68adb434b7ad57e8dac164acd6ea', 'message': 'Let the code in the json file be displayed\n\nhttps://docs.openstack.org/sahara/latest/user/edp.html\ncannot show the code clear, this patch fix that issue.\n\nChange-Id: Ie4f8add7e464c454c41d6c4084ec64d6b7cca3ee\n'}]",1,823201,e9e50bede6bf68adb434b7ad57e8dac164acd6ea,11,3,3,34375,,,0,"Let the code in the json file be displayed

https://docs.openstack.org/sahara/latest/user/edp.html
cannot show the code clear, this patch fix that issue.

Change-Id: Ie4f8add7e464c454c41d6c4084ec64d6b7cca3ee
",git fetch https://review.opendev.org/openstack/sahara refs/changes/01/823201/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/edp.rst'],1,5bf723448471eb941bf5a1cbdc604dba3afb49ff,,.. code-block::.. code-block::.. code-block::,.. sourcecode:: json.. sourcecode:: json.. sourcecode:: json,3,3
openstack%2Fsahara~master~I26b44442279e9a9b067ff3fd6e78d3d079dad919,openstack/sahara,master,I26b44442279e9a9b067ff3fd6e78d3d079dad919,Make hidden code appear in admin guide,MERGED,2021-12-30 08:29:49.000000000,2022-01-13 10:13:55.000000000,2022-01-13 10:13:55.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}, {'_account_id': 33353}]","[{'number': 1, 'created': '2021-12-30 08:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f15a4a5c692aab0c3f1f9e77ad599de61ad95b21', 'message': 'Remove the suffix of *console*\n\nChange-Id: I26b44442279e9a9b067ff3fd6e78d3d079dad919\n'}, {'number': 2, 'created': '2021-12-30 08:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b8a96e77822e5e9c533ce21be4466f70a2da1ae0', 'message': 'Remove the suffix of *console*\n\nhttps://docs.openstack.org/sahara/latest/admin/advanced-configuration-guide.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I26b44442279e9a9b067ff3fd6e78d3d079dad919\n'}, {'number': 3, 'created': '2021-12-30 12:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/753594e262380e613267a2e30905a9ad4ec8edbf', 'message': 'Make hidden code appear in admin guide\n\nhttps://docs.openstack.org/sahara/latest/admin/advanced-configuration-guide.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I26b44442279e9a9b067ff3fd6e78d3d079dad919\n'}, {'number': 4, 'created': '2022-01-13 07:18:53.000000000', 'files': ['doc/source/admin/advanced-configuration-guide.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/257c58ef814f5bd9ca985c83b4eac42a93b69586', 'message': 'Make hidden code appear in admin guide\n\nhttps://docs.openstack.org/sahara/latest/admin/advanced-configuration-guide.html\ncannot show the CLI commend, this patch fix that issue.\n\nChange-Id: I26b44442279e9a9b067ff3fd6e78d3d079dad919\n'}]",2,823193,257c58ef814f5bd9ca985c83b4eac42a93b69586,13,4,4,34375,,,0,"Make hidden code appear in admin guide

https://docs.openstack.org/sahara/latest/admin/advanced-configuration-guide.html
cannot show the CLI commend, this patch fix that issue.

Change-Id: I26b44442279e9a9b067ff3fd6e78d3d079dad919
",git fetch https://review.opendev.org/openstack/sahara refs/changes/93/823193/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration-guide.rst'],1,f15a4a5c692aab0c3f1f9e77ad599de61ad95b21,, .. sourcecode::.. sourcecode::, .. sourcecode:: console.. sourcecode:: console,2,2
openstack%2Fironic~bugfix%2F18.1~I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,openstack/ironic,bugfix/18.1,I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,Ensure 'port' is up2date after binding:host_id,MERGED,2022-01-12 00:46:34.000000000,2022-01-13 09:55:53.000000000,2022-01-13 09:52:01.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-12 00:46:34.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e6932b4a4681288e950d1ae4e4d156e6055cc062', 'message': ""Ensure 'port' is up2date after binding:host_id\n\nOn neutron routed provider networks IP allocation is\ndeferred until 'binding:host_id' is set. When ironic\ncreates neutron ports it first creates the port, then\nupdates the port setting binding information.\n\nWhen using IPv6 networking ironic adds additional address\nallocations to ensure network chain-booting will succeed.\nWhen address allocation is deferred on port create ironic\ncannot detect that IPv6 is used and does not add the\nrequired additional addresses.\n\nThis change ensures the 'port' object is updated after the\nport update setting the port binding required for neutron\nto allocate the address. This allows ironic to correctly\ndetect IPv6 is used, and it will add the required IP\naddress allocations.\n\nStory: 2009773\nTask: 44254\nChange-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2\n(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)\n""}]",1,824167,e6932b4a4681288e950d1ae4e4d156e6055cc062,13,2,1,24245,,,0,"Ensure 'port' is up2date after binding:host_id

On neutron routed provider networks IP allocation is
deferred until 'binding:host_id' is set. When ironic
creates neutron ports it first creates the port, then
updates the port setting binding information.

When using IPv6 networking ironic adds additional address
allocations to ensure network chain-booting will succeed.
When address allocation is deferred on port create ironic
cannot detect that IPv6 is used and does not add the
required additional addresses.

This change ensures the 'port' object is updated after the
port update setting the port binding required for neutron
to allocate the address. This allows ironic to correctly
detect IPv6 is used, and it will add the required IP
address allocations.

Story: 2009773
Task: 44254
Change-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2
(cherry picked from commit 3404dc913e0a0a595c3696454b878b716833d612)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/824167/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml']",3,e6932b4a4681288e950d1ae4e4d156e6055cc062,story/2009773-bugfix/18.1,--- fixes: - | Fixed an issue where provisioning/cleaning would fail on IPv6 routed provider networks. See bug: `2009773 <https://storyboard.openstack.org/#!/story/2009773>`_. ,,13,1
openstack%2Fironic~bugfix%2F18.1~I8bef819dc3101f88f4e04ea986e1039e34d917ed,openstack/ironic,bugfix/18.1,I8bef819dc3101f88f4e04ea986e1039e34d917ed,Add dhcp options for each ip_version once,MERGED,2022-01-10 17:31:25.000000000,2022-01-13 09:54:01.000000000,2022-01-13 09:51:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-10 17:31:25.000000000', 'files': ['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1aa0d4c2a576140c094d9d6a41a7ac8ebd1915d', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)\n'}]",1,824015,b1aa0d4c2a576140c094d9d6a41a7ac8ebd1915d,13,2,1,24245,,,0,"Add dhcp options for each ip_version once

Currently duplicate DHCP options are added when a port have
multiple address in the same address familiy. The duplicate
entries cause an internal server error in neutron.

This fixes the issue by only adding DHCP options for each
IP-version.

Story: 2009774
Task: 44255
Change-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed
(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/824015/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py']",3,b1aa0d4c2a576140c094d9d6a41a7ac8ebd1915d,story/2009774-bugfix/18.1," ""ip_address"": ""192.168.1.4"", }, { }, { ""ip_address"": ""2001:db8::202"",",,17,3
openstack%2Fkeystonemiddleware~master~I8dddde9cbf7f028666d50985b95adf7175138858,openstack/keystonemiddleware,master,I8dddde9cbf7f028666d50985b95adf7175138858,support sasl for memcached,ABANDONED,2020-07-29 09:18:10.000000000,2022-01-13 09:36:11.000000000,,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 26458}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 31827}]","[{'number': 1, 'created': '2020-07-29 09:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/59d3225329415df24e2fbc8b3d781fab77ee1c7b', 'message': 'support sasl\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 2, 'created': '2020-07-29 09:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f7fffa5af2abf302b89226e67cd0c4735d07d80c', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 3, 'created': '2020-07-29 09:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/49173b146449293e49749a7b1142a8121ce40f3f', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 4, 'created': '2020-07-29 14:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6428d1eef14beba5c37abc95ebe1b11043de1cee', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 5, 'created': '2020-07-30 01:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cb93c9aa66ed12acc18724b617ac93324f2fd8a1', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 6, 'created': '2020-07-30 02:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1b261d9523e3b875f63ec573a0799abf522747ba', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 7, 'created': '2020-07-30 06:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9207630b1d7830341b8ebb9e8792f4dd7b107a58', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 8, 'created': '2020-08-18 05:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c3cef616dd987b1b7f9fcb4a633361d588b90834', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 9, 'created': '2020-08-18 05:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/174637e288b6270f85dc181a518af872967bb546', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 10, 'created': '2020-08-24 08:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e8c4de4a30ccc03c43f16ac8bd04e5214fcd87d9', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 11, 'created': '2022-01-13 08:36:38.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'releasenotes/notes/enable-sasl-protocol-946149083f604216.yaml', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ad136362eecb7701b8ddb6e2bbfbadd849db4291', 'message': 'support sasl for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\nChange-Id: I8dddde9cbf7f028666d50985b95adf7175138858\nImplements: blueprint enable-sasl-protocol\n'}]",2,743703,ad136362eecb7701b8ddb6e2bbfbadd849db4291,30,10,11,31827,,,0,"support sasl for memcached

Add the SASL protocol for memcached, to improve the security of
authority when keystonemiddleware accessing the memcached servers.

Depends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841
Change-Id: I8dddde9cbf7f028666d50985b95adf7175138858
Implements: blueprint enable-sasl-protocol
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/03/743703/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'releasenotes/notes/enable-sasl-protocol-946149083f604216.yaml', 'keystonemiddleware/auth_token/__init__.py']",4,59d3225329415df24e2fbc8b3d781fab77ee1c7b,bp/enable-sasl-protocol," sasl_enable=self._conf.get('memcache_sasl_enable'), usrname=self._conf.get('memcache_usrname'), password=self._conf.get('memcache_password'),",,49,9
openstack%2Fopenstack-ansible-os_zun~master~Id93a3efd4b43bb9770a83d6e23e5736935002922,openstack/openstack-ansible-os_zun,master,Id93a3efd4b43bb9770a83d6e23e5736935002922,Remove testing on Centos-8,MERGED,2021-12-07 09:29:49.000000000,2022-01-13 09:33:41.000000000,2022-01-13 09:27:48.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 31749}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-07 09:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/bb4c80ed6be154e09e8dd80a221724e798a46d77', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}, {'number': 2, 'created': '2021-12-08 07:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3ae558728900abd84d41f26e92e7a6f9afe2a91f', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}, {'number': 3, 'created': '2021-12-08 07:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/0d2438ba088a4d6ed82a8f53293472604a9f8116', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}, {'number': 4, 'created': '2021-12-17 15:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f64c08a87fc9b7875a2d06b2c9a73ca8245fd21d', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/822108\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}, {'number': 5, 'created': '2021-12-20 15:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3f7295318a284459a33f1875f93fe189b2a18c2c', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}, {'number': 6, 'created': '2022-01-05 13:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/26892af29ee1a94625afa758ec1059a7f94692b0', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823517\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}, {'number': 7, 'created': '2022-01-12 16:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/435d633b71cac74597e1ca803906477713fb0a68', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nRemove check jobs and gate jobs to merge anything as\nthe upstream etcd role is broken.\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}, {'number': 8, 'created': '2022-01-12 16:57:59.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/81c24da82298f735170e516fe436d6582f527d52', 'message': 'Remove testing on Centos-8\n\nThis is EOL so we now use centos-8-stream instead\n\nRemove check jobs and gate jobs to merge anything as\nthe upstream etcd role is broken.\n\nChange-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922\n'}]",7,820679,81c24da82298f735170e516fe436d6582f527d52,38,6,8,25023,,,0,"Remove testing on Centos-8

This is EOL so we now use centos-8-stream instead

Remove check jobs and gate jobs to merge anything as
the upstream etcd role is broken.

Change-Id: Id93a3efd4b43bb9770a83d6e23e5736935002922
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/79/820679/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bb4c80ed6be154e09e8dd80a221724e798a46d77,,, - openstack-ansible-deploy-aio_metal-centos-8 - openstack-ansible-deploy-aio_metal-centos-8,0,2
openstack%2Fvenus~master~I65e8f8de096a73a10053246d017d24806db8f160,openstack/venus,master,I65e8f8de096a73a10053246d017d24806db8f160,Fix manage to manager,MERGED,2022-01-13 09:01:38.000000000,2022-01-13 09:23:53.000000000,2022-01-13 09:22:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2022-01-13 09:01:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/b9fad2b2f39fca327707dacde66e21c054cc45ba', 'message': 'Fix manage to manager\n\nOtherwise, relevant commands are missing in the container\n\nChange-Id: I65e8f8de096a73a10053246d017d24806db8f160\n'}]",1,824515,b9fad2b2f39fca327707dacde66e21c054cc45ba,7,2,1,34017,,,0,"Fix manage to manager

Otherwise, relevant commands are missing in the container

Change-Id: I65e8f8de096a73a10053246d017d24806db8f160
",git fetch https://review.opendev.org/openstack/venus refs/changes/15/824515/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b9fad2b2f39fca327707dacde66e21c054cc45ba,, venus-manager = venus.cmd.manage:main, venus-manage = venus.cmd.manage:main,1,1
openstack%2Fmasakari~master~Ie41f66aa3eed13126f3d468b5233ad0ebd69acda,openstack/masakari,master,Ie41f66aa3eed13126f3d468b5233ad0ebd69acda,[DNM] Turn off taskflow persistence in the functional tests job,ABANDONED,2021-02-01 20:06:02.000000000,2022-01-13 08:43:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-01 20:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0bd9caaa15251e4fcf393ad2e51438fac2ee17f6', 'message': '[DNM] Turn off taskflow persistence in the functional tests job\n\nI wonder what will happen. :-)\n\ndo not merge\n\nChange-Id: Ie41f66aa3eed13126f3d468b5233ad0ebd69acda\n'}, {'number': 2, 'created': '2021-02-03 16:52:29.000000000', 'files': ['masakari/engine/drivers/taskflow/driver.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/cb333d89e02fe2057d00f4d6adca23aa5e371736', 'message': '[DNM] Turn off taskflow persistence in the functional tests job\n\nI wonder what will happen. :-)\n\ndo not merge\n\nChange-Id: Ie41f66aa3eed13126f3d468b5233ad0ebd69acda\n'}]",0,773478,cb333d89e02fe2057d00f4d6adca23aa5e371736,12,1,2,30491,,,0,"[DNM] Turn off taskflow persistence in the functional tests job

I wonder what will happen. :-)

do not merge

Change-Id: Ie41f66aa3eed13126f3d468b5233ad0ebd69acda
",git fetch https://review.opendev.org/openstack/masakari refs/changes/78/773478/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,0bd9caaa15251e4fcf393ad2e51438fac2ee17f6,dnm-functional-taskflow-persistence-off, # iniset $MASAKARI_CONF taskflow connection `database_connection_url masakari`, iniset $MASAKARI_CONF taskflow connection `database_connection_url masakari`,1,1
openstack%2Fmasakari~master~I61b7267bea9ec60e8a293c6f482964fd44f0a42a,openstack/masakari,master,I61b7267bea9ec60e8a293c6f482964fd44f0a42a,[DNM] [CI] Simplify endpoint,ABANDONED,2021-03-01 08:07:57.000000000,2022-01-13 08:43:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 08:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/545d646eb0370c01a7f02d1e9e2e2665dd8c3b9f', 'message': '[DNM] [CI] Simplify endpoint\n\nChange-Id: I61b7267bea9ec60e8a293c6f482964fd44f0a42a\n'}, {'number': 2, 'created': '2021-03-01 10:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d90061ebab4645a2fd9a56812a9dac77c725b6b1', 'message': '[DNM] [CI] Simplify endpoint\n\nChange-Id: I61b7267bea9ec60e8a293c6f482964fd44f0a42a\n'}, {'number': 3, 'created': '2021-03-01 16:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/dcbd54725d7749e5e127b72432d93a087247e210', 'message': '[DNM] [CI] Simplify endpoint\n\nChange-Id: I61b7267bea9ec60e8a293c6f482964fd44f0a42a\n'}, {'number': 4, 'created': '2021-03-01 18:14:33.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/d152dd6916f0f41f656803e9bb1491a9f34b56a5', 'message': '[DNM] [CI] Simplify endpoint\n\nChange-Id: I61b7267bea9ec60e8a293c6f482964fd44f0a42a\n'}]",0,777937,d152dd6916f0f41f656803e9bb1491a9f34b56a5,13,1,4,30491,,,0,"[DNM] [CI] Simplify endpoint

Change-Id: I61b7267bea9ec60e8a293c6f482964fd44f0a42a
",git fetch https://review.opendev.org/openstack/masakari refs/changes/37/777937/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,545d646eb0370c01a7f02d1e9e2e2665dd8c3b9f,ci-simplify-endpoint," ""$MASAKARI_SERVICE_PROTOCOL://$SERVICE_HOST:$MASAKARI_SERVICE_PORT"" ""$MASAKARI_SERVICE_PROTOCOL://$SERVICE_HOST/instance-ha"""," ""$MASAKARI_SERVICE_PROTOCOL://$SERVICE_HOST:$MASAKARI_SERVICE_PORT/v1/\$(tenant_id)s"" ""$MASAKARI_SERVICE_PROTOCOL://$SERVICE_HOST/instance-ha/v1/\$(tenant_id)s""",2,2
openstack%2Fmasakari-specs~master~I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e,openstack/masakari-specs,master,I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e,evacuate instances in order,NEW,2019-07-12 08:54:47.000000000,2022-01-13 08:36:48.000000000,,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-12 08:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/c8578f1f336660a6dd844837626fc8170f2b7867', 'message': ""evacuate instances in order when host failure\n\nIf one compute node failed, Masakari will evacuate the instances\nfrom the failure host.\n\nGenerally, the compute resource is decreased when one or more\ncompute nodes have failure. The users want their important\napplications to recovery as quickly as possible.\n\nWhat's worse, there would not be enough resource to reactive\nthe instances from the failure nodes.In such case, the user\nmay want to evacuate the instances which are most important\nand highest valuable.\n\nChange-Id: I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e\nImplements: bp evacuate-instances-in-order-when-host-failure\n""}, {'number': 2, 'created': '2019-07-12 08:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/cb2baaaac75ecb57d69e15af3bec7ee58932a278', 'message': ""evacuate instances in order when host failure\n\nIf one compute node failed, Masakari will evacuate the instances\nfrom the failure host.\n\nGenerally, the compute resource is decreased when one or more\ncompute nodes have failure. The users want their important\napplications to recovery as quickly as possible.\n\nWhat's worse, there would not be enough resource to reactive\nthe instances from the failure nodes. In such case, the user\nmay want to evacuate the instances which are most important\nand highest valuable firstly.\n\nChange-Id: I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e\nImplements: bp evacuate-instances-in-order-when-host-failure\n""}, {'number': 3, 'created': '2019-07-15 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/81714461859a5e1d2f4cdf26d9f8a4f3e26a8d2f', 'message': ""evacuate instances in order when host failure\n\nIf one compute node failed, Masakari will evacuate the instances\nfrom the failure host.\n\nGenerally, the compute resource is decreased when one or more\ncompute nodes have failure. The users want their important\napplications to recovery as quickly as possible.\n\nWhat's worse, there would not be enough resource to reactive\nthe instances from the failure nodes. In such case, the user\nmay want to evacuate the instances which are most important\nand highest valuable firstly.\n\nChange-Id: I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e\nImplements: bp evacuate-instances-in-order-when-host-failure\n""}, {'number': 4, 'created': '2019-07-19 01:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/3b7eda32fd631ab4ac457e79a7fcfbd90ad886e2', 'message': ""evacuate instances in order when host failure\n\nIf one compute node failed, Masakari will evacuate the instances\nfrom the failure host.\n\nGenerally, the compute resource is decreased when one or more\ncompute nodes have failure. The users want their important\napplications to recovery as quickly as possible.\n\nWhat's worse, there would not be enough resource to reactive\nthe instances from the failure nodes. In such case, the user\nmay want to evacuate the instances which are most important\nand highest valuable firstly.\n\nChange-Id: I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e\nImplements: bp evacuate-instances-in-order-when-host-failure\n""}, {'number': 5, 'created': '2021-12-22 11:47:15.000000000', 'files': ['specs/yoga/approved/evacuate-instances-in-order-when-host-failure.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e07d38e400c3686153d98077685c30b1cb21e2ec', 'message': ""evacuate instances in order\n\nIf one compute node failed, Masakari will evacuate the instances\nfrom the failure host.\n\nGenerally, the compute resource is decreased when one or more\ncompute nodes have failure. The users want their important\napplications to recovery as quickly as possible.\n\nWhat's worse, there would not be enough resource to reactive\nthe instances from the failure nodes. In such case, the user\nmay want to evacuate the instances which are most important\nor have highest valuable firstly.\n\nChange-Id: I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e\nImplements: bp evacuate-instances-in-order-when-host-failure\n""}]",4,670476,e07d38e400c3686153d98077685c30b1cb21e2ec,20,9,5,24501,,,0,"evacuate instances in order

If one compute node failed, Masakari will evacuate the instances
from the failure host.

Generally, the compute resource is decreased when one or more
compute nodes have failure. The users want their important
applications to recovery as quickly as possible.

What's worse, there would not be enough resource to reactive
the instances from the failure nodes. In such case, the user
may want to evacuate the instances which are most important
or have highest valuable firstly.

Change-Id: I8e1c8ee10da3b0fa291cd2307f7ff3ef223ea45e
Implements: bp evacuate-instances-in-order-when-host-failure
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/76/670476/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/evacuate-instances-in-order-when-host-failure.rst'],1,c8578f1f336660a6dd844837626fc8170f2b7867,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== evacuate instances in order =========================== https://blueprints.launchpad.net/masakari/+spec/evacuate-instances-in-order-when-host-failure Problem description =================== If one compute node failed, Masakari will try to evacuate instances from the failure node. Generally, the compute resource is decreased when one or more compute nodes have failure. The users want their most important applications to recovery as quickly as possible. What is worse, there would not be enough resource to evacuate all instances from the failure nodes. In such case, it needs to firstly evacuate the instances which are most important and highest valuable to the users. Use Cases --------- As an administator or user, when one compute node or an instance failed, I want to: * recovery my applications as quickly as possible * the vital applications to recovery firstly Proposed change =============== There will be many instances in one platform based on Openstack, which carry on diffrent applications. Thea dministator or user can give their instances a priority level to mark the importance and value. The instances will have a ""priority_level"" metadata key, which value is one of ""high"", ""middle"", ""low"" or not set. Example - .. code-block:: none ""metadata"": {""priority_level"": ""high""} We add a configuration option ""evacuate_by_priority"" to enable or disable this feature. If the configuration option ""evacuate_by_priority"" is enabled, when a compute host has failure, the instances on the failure node evacuate in this order： high > middle > low If the instance doesn't have the ""priority_level"" metadata key, it will be treated with as a ""low"" ""priority_level"" instance. By default the configuration option ""evacuate_by_priority"" will be disabled. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * suzhengwei <sugar-2008@163.com> Work Items ---------- None Dependencies ============ None Testing ======= Unit tests are sufficient Documentation Impact ==================== Update user documentations and reference to configuration options. References ========== None History ======= None ",,153,0
openstack%2Fmasakari-specs~master~Ia526d5816db2ff6fdc5a50800caecf7c99ba9c9c,openstack/masakari-specs,master,Ia526d5816db2ff6fdc5a50800caecf7c99ba9c9c,promotion for large scale hosts failure,NEW,2020-06-02 04:51:01.000000000,2022-01-13 08:29:01.000000000,,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 16532}, {'_account_id': 22348}, {'_account_id': 22437}, {'_account_id': 25267}, {'_account_id': 30696}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-06-02 04:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/9c35e1e6eec92ab7f4ec64838bc4cd6a52ef5156', 'message': 'promotion for large scale hosts failure\n\nChange-Id: Ia526d5816db2ff6fdc5a50800caecf7c99ba9c9c\n'}, {'number': 2, 'created': '2020-06-08 01:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/36b04175f795d4b738a9231db5a06bca582c068a', 'message': ""promotion for large scale hosts failure\n\nWhen large scale hosts failure in the same time, the resources are\ndecreasing. What's worse, there is not enough resources to recovery all\nfailed instances. If unrestricted, the cloud platform would chaotically\nrecovery and lost stability.\n\nImplements: bp large-scale-hosts-failure\nChange-Id: Ia526d5816db2ff6fdc5a50800caecf7c99ba9c9c\n""}, {'number': 3, 'created': '2020-06-08 02:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/f5d0aebb607f1c1cef027751998c32c2a3987204', 'message': ""promotion for large scale hosts failure\n\nWhen large scale hosts failure in the same time, the resources are\ndecreasing. What's worse, there is not enough resources to recovery all\nfailed instances. If unrestricted, the cloud platform would chaotically\nrecovery and lost stability.\n\nImplements: bp large-scale-hosts-failure\nChange-Id: Ia526d5816db2ff6fdc5a50800caecf7c99ba9c9c\n""}, {'number': 4, 'created': '2020-10-19 02:35:06.000000000', 'files': ['specs/wallaby/approved/promotion-for-large-scale-hosts-failure.rst', 'doc/images/host-failure-workflow.png'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/3357184b87c57e397cbb645a0d6673dd0976e4b5', 'message': ""promotion for large scale hosts failure\n\nWhen large scale hosts failure in the same time, the resources are\ndecreasing. What's worse, there is not enough resources to recovery all\nfailed instances. If unrestricted, the cloud platform would chaotically\nrecovery and lost stability.\n\nImplements: bp large-scale-hosts-failure\nChange-Id: Ia526d5816db2ff6fdc5a50800caecf7c99ba9c9c\n""}]",3,732477,3357184b87c57e397cbb645a0d6673dd0976e4b5,15,10,4,24501,,,0,"promotion for large scale hosts failure

When large scale hosts failure in the same time, the resources are
decreasing. What's worse, there is not enough resources to recovery all
failed instances. If unrestricted, the cloud platform would chaotically
recovery and lost stability.

Implements: bp large-scale-hosts-failure
Change-Id: Ia526d5816db2ff6fdc5a50800caecf7c99ba9c9c
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/77/732477/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/images/host-failure-workflow.png', 'specs/victoria/approved/promotion-for-large-scale-hosts-failure.rst']",2,9c35e1e6eec92ab7f4ec64838bc4cd6a52ef5156,bp/large-scale-hosts-failure,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= promotion for large scale hosts failure ======================================= https://blueprints.launchpad.net/masakari/+spec/large-scale-hosts-failure Problem description =================== According to the workload, some instances may have a low value, while other instances have a high value to the operator or end users. When large scale hosts failed in the same time, the reouses is decreasing. What's worse, there is not enough resources to recovery all the instances. Proposed change =============== We should make sure the instances recovery in order, while instances with high value should recovery at first. We also need to bring some mechanism, in case that the cloud platform chaotically recovery and lost stability. As shown in the figure. The main solutions is made up of queue up, circuit breaker, current limiting and degrade retry. .. image:: ../../doc/images/host-failure-workflow.png There are two models, HostRecoveryEvaluator and VmEvacuateEvaluator. HostRecoveryEvaluator is composed of three logical units, such as score, circuit breaker and current limiting. 1)score unit It gives a score to all the failure hosts, and rank them in the failure hosts priority queue. 2)circuit breaker unit In a failover segment, if the number of the hosts failed to recovery in the last statistical period is not less than the preset threshold value, it means the cloud platform may can't automatically recovery by itself. So all untreated failure hosts in this failover segment will be dropped. 3)current limiting unit In a failover segment, if the number of failure hosts under processing is not less than the preset threshold value, the untreated failure hosts will wait. Utill the number of failure hosts under processing is less than the threshold value, it selects one untreated failure hosts with the highest priority to recovery. Then the failure host is pass to the VmEvacuateEvaluator, which is responsible for the instances evacuation. VmEvacuateEvaluator is also composed of three logical units, such as score, circuit breaker and current limiting. 1)score unit It gives a score to all instances of the failure host, and rank them in the failure vms priority queue. 2)circuit breaker unit To the failure host, if the number of the instances failed to evacuate is not less than the preset threshold value, it means the rest instances on the failure host would mostly evacuate failed. So the instances waiting for evacuation will be dropped. 3)current limiting unit To the failure host, If the number of the instances during evacuation is not less than the preset threshold value, other instances waiting for evacuation will wait. Utill the number of the instances during evacuation is less than the threshold value, it selects the instance with the highest priority to evacuate. The priority for one host or instance is decided by its score. The higher score, the higher priority. How to score one instance? In the cloud platform, some instances are not support evacuation, for example, the instances with accelerate or other devices. Such instances will be added 'ha_enable' metedata with value 'False' automatically when creating. Usually, the operator or users don't want to evacuate the specific instances. Just add 'ha_enable' metedata with value 'False' manually to the instances. According to the workload, the instances have diffrent values. The operator or users can even give the instances a HA priority by set the value of 'ha_priority' metedata. It give the instance a score jointly by 'ha_enable' and 'ha_priority' value in its metedata. The value of 'ha_enable' is 'True' or 'False', if not set, default 'True'. The value of 'ha_priority' is high, middle or low, if not set, default 'low'. Instance with 'ha_enable' value 'False' has a score 0. Instance with 'ha_enable' value 'True' and 'ha_priority' value 'low' has a score 1. Instance with 'ha_enable' value 'True' and 'ha_priority' value 'middle' has a score 2. Instance with 'ha_enable' value 'True' and 'ha_priority' value 'high' has a score 3. Instances with score 3 evacuate firstly, while instances with score 1 evacuate in the last, and instances with score 0 will not evacuate. How to score one failure host? One failure host's score is weighted arithmetic mean of all instances score on the host. For example, there are number a of instances which scored 3, number b of instances which scored 2, number c of instances which scored 1, number d of instances which scored 0. Then the failure host gets a score (a*3+b*2+c*1)/(a+b+c+d). The higher score the failure host with, the earlier recovery it executes. There is an optional procedure, degrade retry. When instance evacuates failed or host recovery failed, the score of the instance or host decrements by 1. Then it is back to priority queue, wait for next retry. If the score decreases below 0(configurable), stop to retry. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * suzhengwei <sugar-2008@163.com> Work Items ---------- None Dependencies ============ None Testing ======= None Documentation Impact ==================== None References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Victoria - Introduced ",,221,0
openstack%2Fmasakari-monitors~master~Ia1f9e22a8d69119803444d0b1866c2444a4d63db,openstack/masakari-monitors,master,Ia1f9e22a8d69119803444d0b1866c2444a4d63db,[TrivialFix] Improve class names of monitors,NEW,2021-08-17 10:10:27.000000000,2022-01-13 08:28:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-17 10:10:27.000000000', 'files': ['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/instancemonitor/instance.py', 'masakarimonitors/processmonitor/process.py', 'masakarimonitors/tests/unit/instancemonitor/test_instance.py', 'masakarimonitors/tests/unit/hostmonitor/test_host.py', 'masakarimonitors/conf/service.py', 'masakarimonitors/hostmonitor/host.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/cf3ee7cfb6777effb32b9aa1132103822abef522', 'message': '[TrivialFix] Improve class names of monitors\n\nChange-Id: Ia1f9e22a8d69119803444d0b1866c2444a4d63db\n'}]",0,804840,cf3ee7cfb6777effb32b9aa1132103822abef522,4,1,1,32722,,,0,"[TrivialFix] Improve class names of monitors

Change-Id: Ia1f9e22a8d69119803444d0b1866c2444a4d63db
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/40/804840/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/instancemonitor/instance.py', 'masakarimonitors/processmonitor/process.py', 'masakarimonitors/tests/unit/instancemonitor/test_instance.py', 'masakarimonitors/tests/unit/hostmonitor/test_host.py', 'masakarimonitors/conf/service.py', 'masakarimonitors/hostmonitor/host.py']",7,cf3ee7cfb6777effb32b9aa1132103822abef522,,"class HostMonitorManager(manager.Manager): super(HostMonitorManager, self).__init__(","class HostmonitorManager(manager.Manager): super(HostmonitorManager, self).__init__(",38,38
openstack%2Fmasakari-monitors~master~Icfa855376594c818d9652e602b095693684cfe67,openstack/masakari-monitors,master,Icfa855376594c818d9652e602b095693684cfe67,Add operator guide documentation,NEW,2017-07-31 05:55:17.000000000,2022-01-13 08:28:28.000000000,,"[{'_account_id': 3}, {'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 16006}, {'_account_id': 19741}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23226}, {'_account_id': 24501}, {'_account_id': 26026}, {'_account_id': 26991}, {'_account_id': 27302}, {'_account_id': 28619}]","[{'number': 1, 'created': '2017-07-31 05:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/7c66fc4b6272fb985e8f0034cb35755057794eab', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 2, 'created': '2017-07-31 07:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/393ee8e83cd20e798543c9aaeeb4b83238df5490', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 3, 'created': '2017-08-02 09:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/ae391ee052ac20980d89b7773f43ad3dcf18b696', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 4, 'created': '2017-09-06 02:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/a9642b61b83f4594b74179bc1cf511cb38b0c476', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 5, 'created': '2017-11-14 07:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/24a14f6c394a085c69eae177c7a747064aa3b3c0', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 6, 'created': '2017-11-20 02:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9d54b10cce9973b68b64ef704202b901c22c5fb4', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 7, 'created': '2019-08-05 10:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/e1210c44cb911acd3cd0963d72cecf120969d818', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 8, 'created': '2019-09-10 14:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/58044f65bba17717b809d453b26172977ce379e0', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 9, 'created': '2019-09-11 15:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/d3fc43ffe5e2cd476ecb84b35beff06978236891', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 10, 'created': '2019-09-18 15:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/85b3c23d720be1eded228d6d0fb2b6419511f428', 'message': ""Masakari-monitors operator's documentation\n\nThis patch adds documentations of masakari-monitors oprators guide.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n""}, {'number': 11, 'created': '2019-09-20 06:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/98ec631b89dbbbe6973d9d5f3132fd11e24f9a88', 'message': 'Add operator guide documentation\n\nAdded operator guide documentation to setup all supported masakari-monitors.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n'}, {'number': 12, 'created': '2019-10-09 09:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/fb2d29311dededbc5c3a5bf02d4d2932356b7e77', 'message': 'Add operator guide documentation\n\nAdded operator guide documentation to setup all supported masakari-monitors.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n'}, {'number': 13, 'created': '2021-05-03 11:39:29.000000000', 'files': ['doc/source/contributing.rst', '.gitignore', 'doc/source/install/index.rst', 'doc/source/install/overview.rst', 'doc/source/usage.rst', 'doc/source/conf.py', 'doc/source/installation.rst', 'doc/source/configuration/index.rst', 'doc/source/configuration/process-list.rst', 'doc/source/index.rst', 'doc/source/configuration/sample-config.rst', 'doc/source/install/verify.rst', 'doc/source/_static/images/masakari-monitors.jpg', 'doc/source/configuration/config.rst', 'doc/source/user/architecture.rst', 'doc/source/install/install_and_configure_ubuntu.rst', 'doc/source/install/install_and_configure.rst', 'doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/c4b5da6c122939f38e7558f202f9780643518cd1', 'message': 'Add operator guide documentation\n\nAdded operator guide documentation to setup all supported masakari-monitors.\n\nChange-Id: Icfa855376594c818d9652e602b095693684cfe67\n'}]",35,489095,c4b5da6c122939f38e7558f202f9780643518cd1,47,14,13,23226,,,0,"Add operator guide documentation

Added operator guide documentation to setup all supported masakari-monitors.

Change-Id: Icfa855376594c818d9652e602b095693684cfe67
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/95/489095/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/process_list.yaml', 'doc/source/sample_config.rst', 'doc/source/contributing.rst', 'doc/source/operators_guide.rst', 'doc/source/masakarimonitors_overview.rst', 'doc/source/usage.rst', 'doc/source/sample_process_list.rst', 'doc/source/install_and_configure_rdo.rst', 'doc/source/installation.rst', 'doc/source/install_and_configure_ubuntu.rst', 'doc/source/index.rst', 'doc/source/install_and_configure.rst', 'doc/source/install_and_configure_debian.rst', 'doc/source/readme.rst', 'doc/source/_static/masakarimonitors.conf.sample', 'tox.ini']",16,7c66fc4b6272fb985e8f0034cb35755057794eab,add-docs,basepython = python2.7,,1090,37
openstack%2Fmasakari~master~Ie36064d5cf19c28a9cdb79fb0ad5760210cdc441,openstack/masakari,master,Ie36064d5cf19c28a9cdb79fb0ad5760210cdc441,not wait if nova-compute already down,NEW,2021-04-28 01:45:57.000000000,2022-01-13 08:28:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-04-28 01:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4ed23c1848dfdced2c49b22e1f587c7dd002529c', 'message': 'not wait if nova-compute already down\n\nNova evacuates instances only when the nova-compute is down, rather than disabled.\nSo if nova-compute already down, unnecessary to wait before instances evacuate.\n\nChange-Id: Ie36064d5cf19c28a9cdb79fb0ad5760210cdc441\n'}, {'number': 2, 'created': '2021-05-18 01:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/defb99da1a61d1a174a171dd60a9e079a976ad60', 'message': 'not wait if nova-compute already down\n\nNova evacuates instances only when the nova-compute is down, rather than disabled.\nSo if nova-compute already down, unnecessary to wait before instances evacuate.\n\nChange-Id: Ie36064d5cf19c28a9cdb79fb0ad5760210cdc441\n'}, {'number': 3, 'created': '2021-05-19 02:11:11.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'releasenotes/notes/bug-1928793-a86240a5945e4a0.yaml', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/conf/engine.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/69c6ffd221133391e8e4f2e3c85a4524eb95005e', 'message': 'not wait if nova-compute already down\n\nNova evacuates instances only when the nova-compute is down, rather than disabled.\nSo if nova-compute already down, unnecessary to wait before instances evacuate.\n\nMoreover, Nova service default heartbeat is 60 seconds, so default 60\nsecons at most to wait after service update is more reasonable.\n\nCloses-Bug: #1928793\n\nChange-Id: Ie36064d5cf19c28a9cdb79fb0ad5760210cdc441\n'}]",6,788382,69c6ffd221133391e8e4f2e3c85a4524eb95005e,21,2,3,24501,,,0,"not wait if nova-compute already down

Nova evacuates instances only when the nova-compute is down, rather than disabled.
So if nova-compute already down, unnecessary to wait before instances evacuate.

Moreover, Nova service default heartbeat is 60 seconds, so default 60
secons at most to wait after service update is more reasonable.

Closes-Bug: #1928793

Change-Id: Ie36064d5cf19c28a9cdb79fb0ad5760210cdc441
",git fetch https://review.opendev.org/openstack/masakari refs/changes/82/788382/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py']",4,4ed23c1848dfdced2c49b22e1f587c7dd002529c,bug/1928793," def is_service_down(self, context, host_name, binary='nova-compute'): """"""Check whether service is up or down on given host."""""" nova = novaclient(context) service = nova.services.list(host=host_name, binary=binary)[0] return service.state == 'down' @translate_nova_exception",,43,7
openstack%2Fmasakari~master~I8cb34bae5855ab4a5a5be89598ae59d327780869,openstack/masakari,master,I8cb34bae5855ab4a5a5be89598ae59d327780869,Change method name is_service_down to is_service_disabled,NEW,2020-06-04 06:23:52.000000000,2022-01-13 08:28:12.000000000,,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 30744}]","[{'number': 1, 'created': '2020-06-04 06:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8a1dc423c1395165845794f79fd43c0cef6408b4', 'message': 'Change method name is_service_down to is_service_disabled\n\nIn masakari/compute/nova.py, the method is_service_down checks whether service\nstatus is enabled or not, rather than service up or down, so we fix it\nfirst.\n\nChange-Id: I8cb34bae5855ab4a5a5be89598ae59d327780869\nRelated-Bug: #1882005\n'}, {'number': 2, 'created': '2020-06-04 07:28:18.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/tests/unit/engine/drivers/taskflow/test_process_failure_flow.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py', 'masakari/engine/drivers/taskflow/process_failure.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/b98db03151756012ca04110825c3423d50eba8ef', 'message': 'Change method name is_service_down to is_service_disabled\n\nIn masakari/compute/nova.py, the method is_service_down checks whether service\nstatus is enabled or not, rather than service up or down. we changed the\nmethod name to is_service_disabled and add new methods is_service_down\nand force_down_service\n\nChange-Id: I8cb34bae5855ab4a5a5be89598ae59d327780869\nRelated-Bug: #1882005\n'}]",3,733438,b98db03151756012ca04110825c3423d50eba8ef,7,3,2,30744,,,0,"Change method name is_service_down to is_service_disabled

In masakari/compute/nova.py, the method is_service_down checks whether service
status is enabled or not, rather than service up or down. we changed the
method name to is_service_disabled and add new methods is_service_down
and force_down_service

Change-Id: I8cb34bae5855ab4a5a5be89598ae59d327780869
Related-Bug: #1882005
",git fetch https://review.opendev.org/openstack/masakari refs/changes/38/733438/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/tests/unit/engine/drivers/taskflow/test_process_failure_flow.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py', 'masakari/engine/drivers/taskflow/process_failure.py']",5,8a1dc423c1395165845794f79fd43c0cef6408b4,fixbug-#1882005," if not self.novaclient.is_service_disabled(self.context, host_name, service_disabled = self.novaclient.is_service_disabled("," if not self.novaclient.is_service_down(self.context, host_name, service_disabled = self.novaclient.is_service_down(",13,15
openstack%2Fkuryr-tempest-plugin~master~Id9e6389bfafc89a4d407952ee0625a932b51ef38,openstack/kuryr-tempest-plugin,master,Id9e6389bfafc89a4d407952ee0625a932b51ef38,Tune curl repetitions value,MERGED,2021-12-22 17:53:49.000000000,2022-01-13 08:04:46.000000000,2022-01-13 08:02:15.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-22 17:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/18c5649329b8d870d32ced3edf320a541b6f5db7', 'message': '[WIP] Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tunned to be relative to the expected number\nof different endpoint responses.\n\nFor each expected different backend 6 repetitions seems to be enough\nand it will safe significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 2, 'created': '2021-12-22 22:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ed6ca8d6933bc3a2a56e69880c34d78b812f5e09', 'message': '[WIP] Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 6 repetitions seems to be enough\nand it will safe significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 3, 'created': '2021-12-23 13:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/83cd1bc8c120bf4f9839ef8d31ceb65b49b5c5de', 'message': '[WIP] Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 6 repetitions seems to be enough\nand it will safe significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 4, 'created': '2022-01-03 11:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/570c3d6443672b7d3b7e2ee6b71d9d78a78f09a0', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 6 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 5, 'created': '2022-01-03 15:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7fe3abf1978d1c86ce341cf49c43b158d1b5e01f', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 8 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 6, 'created': '2022-01-04 07:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c10e0a8ccd02dfd70ccb3f69c71fc1d04bb89fbc', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 10 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 7, 'created': '2022-01-05 17:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5564833296540458938ad4f21ec7b65ff7f0f3ed', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 10 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 8, 'created': '2022-01-06 23:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6ce2822320fcdd9ebcbcaa873bea24b5e070f7e1', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 10 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 9, 'created': '2022-01-07 02:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/30ed4ccd0febe1bdcc83fafb35f56b674d9124a3', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 10 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 10, 'created': '2022-01-07 12:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2023af8e657a4c9654690326a884cae2c8008e20', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 10 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}, {'number': 11, 'created': '2022-01-07 12:50:52.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/consts.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/3408ab72d7ef0aff0d4f0d9a041e6ae260f2ad6d', 'message': 'Tune curl repetitions value\n\nFor svc and route endpoint connectivity checks there is a repetition\nparameter that can be tuned to be proportional to the expected number\nof different endpoint responses.\n\nFor each expected different backend 10 repetitions seems to be enough\nand it will save significant tests execution time.\n\nChange-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38\n'}]",30,822754,3408ab72d7ef0aff0d4f0d9a041e6ae260f2ad6d,37,6,11,27086,,,0,"Tune curl repetitions value

For svc and route endpoint connectivity checks there is a repetition
parameter that can be tuned to be proportional to the expected number
of different endpoint responses.

For each expected different backend 10 repetitions seems to be enough
and it will save significant tests execution time.

Change-Id: Id9e6389bfafc89a4d407952ee0625a932b51ef38
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/54/822754/9 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,18c5649329b8d870d32ced3edf320a541b6f5db7,curl_repetitions," self._run_and_assert(req, pred, retry_repetitions=5*amount)) self._run_and_assert(req, pred, retry_repetitions=5*amount) def _run_and_assert(self, fn, predicate, retry_repetitions=20): self._run_and_assert(req, pred, retry_repetitions=5*amount))"," self._run_and_assert(req, pred) self._run_and_assert(req, pred) def _run_and_assert(self, fn, predicate, retry_repetitions=100): self._run_and_assert(req, pred)",4,4
openstack%2Fkuryr-tempest-plugin~master~I935cc510d8d96ca031f30c4a3dbdfec6a6238e92,openstack/kuryr-tempest-plugin,master,I935cc510d8d96ca031f30c4a3dbdfec6a6238e92,Ensure lb is active before checking connectivity,MERGED,2022-01-07 12:37:09.000000000,2022-01-13 08:03:41.000000000,2022-01-13 08:02:13.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27086}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-07 12:37:09.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/46ddd75cf7d32987f08cbb9de2ef0f7b56142337', 'message': 'Ensure lb is active before checking connectivity\n\nThis commit ensures the load-balancer is active before checking\nconnectivity to it for the scenario of test_pod_service_curl.\n\nChange-Id: I935cc510d8d96ca031f30c4a3dbdfec6a6238e92\n'}]",1,823792,46ddd75cf7d32987f08cbb9de2ef0f7b56142337,12,7,1,27032,,,0,"Ensure lb is active before checking connectivity

This commit ensures the load-balancer is active before checking
connectivity to it for the scenario of test_pod_service_curl.

Change-Id: I935cc510d8d96ca031f30c4a3dbdfec6a6238e92
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/92/823792/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_service.py'],1,46ddd75cf7d32987f08cbb9de2ef0f7b56142337,ensure-lb-active,"from tempest.lib.common.utils import data_utils name = data_utils.rand_name(prefix='pod-service-curl') cls.create_setup_for_service_test(service_name=name) LOG.info(""Trying to curl the service IP %s"" % self.service_ip) self.check_service_internal_connectivity()"," cls.create_setup_for_service_test() pod_name, pod = self.create_pod() self.addCleanup(self.delete_pod, pod_name) self.assert_backend_amount_from_pod( self.service_ip, self.pod_num, pod_name)",5,7
openstack%2Ftripleo-ci~master~Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d,openstack/tripleo-ci,master,Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d,Add C9 content provider and standalone scenarios to gate queue,MERGED,2022-01-11 12:49:23.000000000,2022-01-13 07:23:19.000000000,2022-01-13 07:23:19.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 31075}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-11 12:49:23.000000000', 'files': ['zuul.d/content-provider.yaml', 'zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0a8bb26b091709eaaf5d36a7ff046e7a7a434ddf', 'message': 'Add C9 content provider and standalone scenarios to gate queue\n\nMakes the c9 content provider and standalone scenario jobs vote\nand adds them to gate queue\n\nChange-Id: Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d\n'}]",6,824174,0a8bb26b091709eaaf5d36a7ff046e7a7a434ddf,21,11,1,8449,,,0,"Add C9 content provider and standalone scenarios to gate queue

Makes the c9 content provider and standalone scenario jobs vote
and adds them to gate queue

Change-Id: Id3f4f9876602bd51d6ac6d2464b98ecb23528f8d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/74/824174/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/content-provider.yaml', 'zuul.d/standalone-jobs.yaml']",2,0a8bb26b091709eaaf5d36a7ff046e7a7a434ddf,cs9, - tripleo-ci-centos-9-content-provider # CentOS 9 jobs - tripleo-ci-centos-9-standalone: *cs9_vars - tripleo-ci-centos-9-scenario001-standalone: *cs9_vars - tripleo-ci-centos-9-scenario002-standalone: *cs9_vars - tripleo-ci-centos-9-scenario003-standalone: *cs9_vars - tripleo-ci-centos-9-scenario004-standalone: *cs9_vars - tripleo-ci-centos-9-scenario007-standalone: *cs9_vars - tripleo-ci-centos-9-scenario010-standalone: *cs9_vars - tripleo-ci-centos-9-scenario010-ovn-provider-standalone: *cs9_vars - tripleo-ci-centos-9-scenario012-standalone: *cs9_vars, voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false,11,10
openstack%2Ftripleo-ansible~master~I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6,openstack/tripleo-ansible,master,I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6,Set the ansible-lint version to v5.3.2,MERGED,2022-01-12 21:10:54.000000000,2022-01-13 07:15:58.000000000,2022-01-13 07:15:58.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-12 21:10:54.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n'}]",0,824484,60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3,9,6,1,22954,,,0,"Set the ansible-lint version to v5.3.2

The ansible-lint version used is v5.0.2. This path increases the version
of the ansible-lint on the .pre-commit-config.yaml

Related-bug: #1956902
Change-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/824484/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3,bug/1956902, rev: v5.3.2, rev: v5.0.7,1,1
openstack%2Fdesignate-tempest-plugin~master~I2bf2fcc1ddb5fbda4486da439773e4c275376a27,openstack/designate-tempest-plugin,master,I2bf2fcc1ddb5fbda4486da439773e4c275376a27,Update the constraints url,MERGED,2019-09-25 07:13:07.000000000,2022-01-13 06:49:18.000000000,2022-01-13 06:47:48.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-25 07:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/75400ccf09abd2b3012debafc383f9618c9a50e6', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I2bf2fcc1ddb5fbda4486da439773e4c275376a27\n'}, {'number': 2, 'created': '2021-06-14 21:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/28530da38d7f1fd1f1552300ed2cac4559a1bc34', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I2bf2fcc1ddb5fbda4486da439773e4c275376a27\n'}, {'number': 3, 'created': '2021-06-16 13:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3f5fddf3dee95b84fd4f2f04e0edada60ad57170', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I2bf2fcc1ddb5fbda4486da439773e4c275376a27\n'}, {'number': 4, 'created': '2021-12-27 07:02:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/11abda00b1421bb264bd88dc70290e0c2b1dbdf7', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I2bf2fcc1ddb5fbda4486da439773e4c275376a27\n'}]",1,684539,11abda00b1421bb264bd88dc70290e0c2b1dbdf7,24,4,4,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I2bf2fcc1ddb5fbda4486da439773e4c275376a27
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/39/684539/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,75400ccf09abd2b3012debafc383f9618c9a50e6,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fwatcher~master~Ifa0f2493aa8414a29dc2722b6636a33bc5808be6,openstack/watcher,master,Ifa0f2493aa8414a29dc2722b6636a33bc5808be6,Remove ceilometerclient dependecy,MERGED,2022-01-06 11:20:26.000000000,2022-01-13 06:34:09.000000000,2022-01-13 06:32:42.000000000,"[{'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 26461}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30623}, {'_account_id': 32349}]","[{'number': 1, 'created': '2022-01-06 11:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1935f20f1e7ae542461b59ae5cae34cf09b90092', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 2, 'created': '2022-01-06 11:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/73aee15272ab409308e53fb330806002860e7b17', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 3, 'created': '2022-01-06 11:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/474cbf6674c1e7f5a6c11b3bbf29cba95020da55', 'message': 'Add py39 classifier\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 4, 'created': '2022-01-06 11:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f5535170a24b9784ee5a4d71eaec30edfd0fbe79', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 5, 'created': '2022-01-06 11:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/de807dc71834dd24a4e605be7d451a7049aef5ca', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 6, 'created': '2022-01-06 11:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e94ad022417692c62f6532e2ddce0d13027390d7', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 7, 'created': '2022-01-07 00:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/44c7b5f03499a38166be610f686ce3758430a443', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 8, 'created': '2022-01-07 01:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0277925829334ac05f44170f975a3956cd707280', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 9, 'created': '2022-01-07 02:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/463ad968ca07a6c0b4d9f21fd48db474e5569f7d', 'message': 'TEST\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}, {'number': 10, 'created': '2022-01-07 05:48:23.000000000', 'files': ['watcher/tests/decision_engine/datasources/test_ceilometer_helper.py', 'requirements.txt', 'watcher/tests/common/test_clients.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/01d74d0a87abe7d89a6ce14ca18c9fc40ae188ef', 'message': 'Remove ceilometerclient dependecy\n\nChange-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6\n'}]",4,823606,01d74d0a87abe7d89a6ce14ca18c9fc40ae188ef,26,10,10,14107,,,0,"Remove ceilometerclient dependecy

Change-Id: Ifa0f2493aa8414a29dc2722b6636a33bc5808be6
",git fetch https://review.opendev.org/openstack/watcher refs/changes/06/823606/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,1935f20f1e7ae542461b59ae5cae34cf09b90092,,,,0,0
openstack%2Fdesignate-tempest-plugin~master~Ib4cfd1221f128ec4e37ba32e9118b2f88d924561,openstack/designate-tempest-plugin,master,Ib4cfd1221f128ec4e37ba32e9118b2f88d924561,Adds an API test for list transfer requests sudo,MERGED,2021-08-20 00:39:35.000000000,2022-01-13 06:31:21.000000000,2022-01-13 06:29:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}]","[{'number': 1, 'created': '2021-08-20 00:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1d96674100749bff3542f278b711c97e9fc1a499', 'message': 'Adds an API test for list transfer requests sudo\n\nThis patch adds an API test the lists transfer requests using the\nx-auth-sudo-project-id header and validates that the correct transfer\nrequest is returned.\n\nChange-Id: Ib4cfd1221f128ec4e37ba32e9118b2f88d924561\n'}, {'number': 2, 'created': '2021-08-20 19:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1e5a6fe9f7d357a57b962f2191e5f546919851c9', 'message': 'Adds an API test for list transfer requests sudo\n\nThis patch adds an API test the lists transfer requests using the\nx-auth-sudo-project-id header and validates that the correct transfer\nrequest is returned.\n\nChange-Id: Ib4cfd1221f128ec4e37ba32e9118b2f88d924561\n'}, {'number': 3, 'created': '2021-09-02 21:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/05d3e28783cc1529fe589308fc92aa3b0688b457', 'message': 'Adds an API test for list transfer requests sudo\n\nThis patch adds an API test the lists transfer requests using the\nx-auth-sudo-project-id header and validates that the correct transfer\nrequest is returned.\n\nChange-Id: Ib4cfd1221f128ec4e37ba32e9118b2f88d924561\n'}, {'number': 4, 'created': '2021-09-23 21:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3fd82491e9640b33de1221ba21e3b07a5ada02f5', 'message': 'Adds an API test for list transfer requests sudo\n\nThis patch adds an API test the lists transfer requests using the\nx-auth-sudo-project-id header and validates that the correct transfer\nrequest is returned.\n\nChange-Id: Ib4cfd1221f128ec4e37ba32e9118b2f88d924561\n'}, {'number': 5, 'created': '2021-11-16 23:59:23.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0182365e0bba68b9b07fe72c302c339b324634b9', 'message': 'Adds an API test for list transfer requests sudo\n\nThis patch adds an API test the lists transfer requests using the\nx-auth-sudo-project-id header and validates that the correct transfer\nrequest is returned.\n\nChange-Id: Ib4cfd1221f128ec4e37ba32e9118b2f88d924561\n'}]",2,805320,0182365e0bba68b9b07fe72c302c339b324634b9,23,3,5,11628,,,0,"Adds an API test for list transfer requests sudo

This patch adds an API test the lists transfer requests using the
x-auth-sudo-project-id header and validates that the correct transfer
request is returned.

Change-Id: Ib4cfd1221f128ec4e37ba32e9118b2f88d924561
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/20/805320/4 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_transfer_request.py'],1,1d96674100749bff3542f278b711c97e9fc1a499,secure-rbac," @decorators.idempotent_id('bee42f38-e666-4b85-a710-01f40ea1e56a') def test_list_transfer_requests_impersonate_another_project(self): LOG.info('Create a Primary zone') primary_zone = self.zone_client.create_zone()[1] self.addCleanup(self.wait_zone_delete, self.zone_client, primary_zone['id']) LOG.info('Create an Alt zone') alt_zone = self.alt_zone_client.create_zone()[1] self.addCleanup(self.wait_zone_delete, self.alt_zone_client, alt_zone['id']) LOG.info('Create a zone transfer_request using Primary client') primary_transfer_request = self.client.create_transfer_request( primary_zone['id'])[1] self.addCleanup(self.client.delete_transfer_request, primary_transfer_request['id']) LOG.info('Create a zone transfer_request using Alt client') alt_transfer_request = self.alt_client.create_transfer_request( alt_zone['id'])[1] self.addCleanup(self.alt_client.delete_transfer_request, alt_transfer_request['id']) request_ids = [ item['id'] for item in self.admin_client.list_transfer_requests( headers={'x-auth-sudo-project-id': self.alt_client.project_id}, params={'limit': 1000})[1]['transfer_requests']] self.assertEqual(1, len(request_ids)) self.assertIn(alt_transfer_request['id'], request_ids, ""Failed, transfer request ID:{} wasn't found in "" ""listed IDs{}"".format(alt_transfer_request['id'], request_ids)) ",,34,0
openstack%2Frequirements~master~I330717690b8b805c14d1b0f38471dccf2fbc6c5f,openstack/requirements,master,I330717690b8b805c14d1b0f38471dccf2fbc6c5f,Updated from generate-constraints,MERGED,2022-01-13 02:45:24.000000000,2022-01-13 06:06:22.000000000,2022-01-13 06:04:53.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 02:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/262da1ca5cd866b0ff58cddfb6de3831082e7f73', 'message': 'Updated from generate-constraints\n\nChange-Id: I330717690b8b805c14d1b0f38471dccf2fbc6c5f\n'}, {'number': 2, 'created': '2022-01-13 02:48:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/78244ba6fbb1a72d979851a09ce1007ccca63db6', 'message': 'Updated from generate-constraints\n\nChange-Id: I330717690b8b805c14d1b0f38471dccf2fbc6c5f\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,824499,78244ba6fbb1a72d979851a09ce1007ccca63db6,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I330717690b8b805c14d1b0f38471dccf2fbc6c5f
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/824499/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,262da1ca5cd866b0ff58cddfb6de3831082e7f73,openstack/requirements/constraints/noclob,rcssmin===1.1.0XStatic-Angular===1.8.2.1paramiko===2.9.2validations-libs===1.5.0pkg_resources===0.0.0django-compressor===3.1boto3===1.20.34botocore===1.23.34rjsmin===1.2.0,rcssmin===1.0.6XStatic-Angular===1.5.8.0paramiko===2.8.1validations-libs===1.4.0django-compressor===2.4.1boto3===1.20.33botocore===1.23.33rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',9,10
openstack%2Fskyline-apiserver~master~Ia9e49bf284bfaae12536eadeb780005636027cb1,openstack/skyline-apiserver,master,Ia9e49bf284bfaae12536eadeb780005636027cb1,fix: Remove skyline_console when rename whl files,MERGED,2022-01-12 13:17:16.000000000,2022-01-13 05:22:13.000000000,2022-01-13 05:22:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-01-12 13:17:16.000000000', 'files': ['playbooks/python-tarball/run.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/e646bd65fe547fb294505d9d2185b30d92d5a518', 'message': 'fix: Remove skyline_console when rename whl files\n\nRemove skyline_console when rename whl files\n\nChange-Id: Ia9e49bf284bfaae12536eadeb780005636027cb1\n'}]",2,824433,e646bd65fe547fb294505d9d2185b30d92d5a518,12,2,1,28706,,,0,"fix: Remove skyline_console when rename whl files

Remove skyline_console when rename whl files

Change-Id: Ia9e49bf284bfaae12536eadeb780005636027cb1
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/33/824433/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/python-tarball/run.yaml'],1,e646bd65fe547fb294505d9d2185b30d92d5a518,,," - ""skyline_console""",0,1
openstack%2Fpuppet-octavia~stable%2Fwallaby~Ib4077b4c89234b024d027a4195c40b7b2d71acaa,openstack/puppet-octavia,stable/wallaby,Ib4077b4c89234b024d027a4195c40b7b2d71acaa,DNM: Test litmus job,ABANDONED,2021-04-14 14:47:27.000000000,2022-01-13 05:03:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-14 14:47:27.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a6af4b323ffbdfe4291b46c51eb2f51198722bbe', 'message': 'DNM: Test litmus job\n\nChange-Id: Ib4077b4c89234b024d027a4195c40b7b2d71acaa\n'}]",0,786223,a6af4b323ffbdfe4291b46c51eb2f51198722bbe,3,1,1,9816,,,0,"DNM: Test litmus job

Change-Id: Ib4077b4c89234b024d027a4195c40b7b2d71acaa
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/23/786223/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,a6af4b323ffbdfe4291b46c51eb2f51198722bbe,dnm-stable/wallaby,,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I4ac9210f6533e6826b2814f72b7271b43fdca267,openstack/tripleo-heat-templates,stable/victoria,I4ac9210f6533e6826b2814f72b7271b43fdca267,Add chrony waitsync back in,MERGED,2021-12-21 14:38:02.000000000,2022-01-13 03:36:17.000000000,2022-01-13 03:36:17.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-12-21 14:38:02.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc293280c25e57d778bd79be1e95c76309ef2a3f', 'message': 'Add chrony waitsync back in\n\nThis is a revert of 373a27163e0365919f707604df5b61863029d2e4 because\nmakestep does not fail if the ntp servers are unavailable. This change\nadds waitsync back in so it fails if the servers are unavilable but\nleaves the makestep in place which should force the sync.  If the\nservers are unavailable, the waitsync should catch it. If they are\navailable waitsync should be a relative noop because the makestep would\nsync the system.  The waitsync has been increased to 5 minutes (from 200\nseconds). waitsync will wait 30 times with an interval of 10 seconds\nbetween checks.\n\nCloses-Bug: #1955414\nChange-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267\n(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)\n'}]",0,822429,fc293280c25e57d778bd79be1e95c76309ef2a3f,16,5,1,14985,,,0,"Add chrony waitsync back in

This is a revert of 373a27163e0365919f707604df5b61863029d2e4 because
makestep does not fail if the ntp servers are unavailable. This change
adds waitsync back in so it fails if the servers are unavilable but
leaves the makestep in place which should force the sync.  If the
servers are unavailable, the waitsync should catch it. If they are
available waitsync should be a relative noop because the makestep would
sync the system.  The waitsync has been increased to 5 minutes (from 200
seconds). waitsync will wait 30 times with an interval of 10 seconds
between checks.

Closes-Bug: #1955414
Change-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267
(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/822429/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml']",2,fc293280c25e57d778bd79be1e95c76309ef2a3f,bug/1955414-stable/victoria, chronyc waitsync 30,,4,1
openstack%2Fironic~master~I3c0f0dd1d0c204134bc0aa75add72b04af254bd7,openstack/ironic,master,I3c0f0dd1d0c204134bc0aa75add72b04af254bd7,Use driver_internal_info methods for drac driver,MERGED,2021-11-19 04:22:35.000000000,2022-01-13 02:42:01.000000000,2022-01-13 02:38:39.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 27909}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-19 04:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3e0937522a11072c703cee3f4bbafe9576fdf1e', 'message': 'Use driver_internal_info methods for drac driver\n\nThis change switches the drac driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I3c0f0dd1d0c204134bc0aa75add72b04af254bd7\n'}, {'number': 2, 'created': '2021-12-03 01:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd95d4cc277a7bffb56d7f96ddd16d6a64fcc98f', 'message': 'Use driver_internal_info methods for drac driver\n\nThis change switches the drac driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I3c0f0dd1d0c204134bc0aa75add72b04af254bd7\n'}, {'number': 3, 'created': '2021-12-14 02:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f565a57ce9d2094f6e30ee665a8f74294f3c2ec', 'message': 'Use driver_internal_info methods for drac driver\n\nThis change switches the drac driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I3c0f0dd1d0c204134bc0aa75add72b04af254bd7\n'}, {'number': 4, 'created': '2021-12-21 21:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29a2a45fb7eef641333223dc06066183653e7984', 'message': 'Use driver_internal_info methods for drac driver\n\nThis change switches the drac driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I3c0f0dd1d0c204134bc0aa75add72b04af254bd7\n'}, {'number': 5, 'created': '2022-01-05 03:06:20.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/modules/drac/bios.py', 'ironic/drivers/modules/drac/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2d98c2294979114c702b2a662a768af0c29fadf', 'message': 'Use driver_internal_info methods for drac driver\n\nThis change switches the drac driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I3c0f0dd1d0c204134bc0aa75add72b04af254bd7\n'}]",10,818506,c2d98c2294979114c702b2a662a768af0c29fadf,46,5,5,4571,,,0,"Use driver_internal_info methods for drac driver

This change switches the drac driver classes to using
set_driver_internal_info, del_driver_internal_info,
timestamp_driver_internal_info node methods for modifying
driver_internal_info.

Change-Id: I3c0f0dd1d0c204134bc0aa75add72b04af254bd7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/818506/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/modules/drac/bios.py', 'ironic/drivers/modules/drac/power.py']",4,c3e0937522a11072c703cee3f4bbafe9576fdf1e,story/2008301," node.set_driver_internal_info('drac_boot_device', None)", driver_internal_info = node.driver_internal_info driver_internal_info['drac_boot_device'] = None node.driver_internal_info = driver_internal_info,68,95
openstack%2Fironic~master~I11284858b490be0287fa803856bb2dfe76b3cb38,openstack/ironic,master,I11284858b490be0287fa803856bb2dfe76b3cb38,Use driver_internal_info methods for ilo driver,MERGED,2021-11-19 04:22:35.000000000,2022-01-13 02:38:52.000000000,2022-01-13 02:35:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 04:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/55d650ef88eb56f9a6236fb9c659134a638f0d18', 'message': 'Use driver_internal_info methods for ilo driver\n\nThis change switches the ilo driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I11284858b490be0287fa803856bb2dfe76b3cb38\n'}, {'number': 2, 'created': '2021-12-03 01:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33e59c18ca60d07de68ed5ec732e263629e0cc37', 'message': 'Use driver_internal_info methods for ilo driver\n\nThis change switches the ilo driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I11284858b490be0287fa803856bb2dfe76b3cb38\n'}, {'number': 3, 'created': '2021-12-14 02:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbe30f058718ac403e94815702226dee8b463583', 'message': 'Use driver_internal_info methods for ilo driver\n\nThis change switches the ilo driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I11284858b490be0287fa803856bb2dfe76b3cb38\n'}, {'number': 4, 'created': '2021-12-21 21:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed56705d4872fe86862cb73667915469d901b5c5', 'message': 'Use driver_internal_info methods for ilo driver\n\nThis change switches the ilo driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I11284858b490be0287fa803856bb2dfe76b3cb38\n'}, {'number': 5, 'created': '2022-01-05 03:06:20.000000000', 'files': ['ironic/drivers/modules/ilo/bios.py', 'ironic/drivers/modules/ilo/raid.py', 'ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/drivers/modules/ilo/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b7ede028b55e5ef43baa272cec06c4bca028e14', 'message': 'Use driver_internal_info methods for ilo driver\n\nThis change switches the ilo driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: I11284858b490be0287fa803856bb2dfe76b3cb38\n'}]",6,818507,6b7ede028b55e5ef43baa272cec06c4bca028e14,51,3,5,4571,,,0,"Use driver_internal_info methods for ilo driver

This change switches the ilo driver classes to using
set_driver_internal_info, del_driver_internal_info,
timestamp_driver_internal_info node methods for modifying
driver_internal_info.

Change-Id: I11284858b490be0287fa803856bb2dfe76b3cb38
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/818507/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/bios.py', 'ironic/drivers/modules/ilo/raid.py', 'ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/drivers/modules/ilo/boot.py']",5,55d650ef88eb56f9a6236fb9c659134a638f0d18,story/2008301," task.node.set_driver_internal_info('deploy_boot_mode', 'uefi') task.node.set_driver_internal_info('ilo_uefi_iscsi_boot', True) task.node.del_driver_internal_info('ilo_uefi_iscsi_boot') task.node.set_driver_internal_info('ilo_uefi_iscsi_boot', True) task.node.del_driver_internal_info('ilo_uefi_iscsi_boot') task.node.set_driver_internal_info('ilo_uefi_iscsi_boot', True) task.node.del_driver_internal_info('ilo_uefi_iscsi_boot')"," driver_internal_info = task.node.driver_internal_info driver_internal_info['deploy_boot_mode'] = 'uefi' task.node.driver_internal_info = driver_internal_info driver_internal_info = task.node.driver_internal_info driver_internal_info['ilo_uefi_iscsi_boot'] = True task.node.driver_internal_info = driver_internal_info driver_internal_info = task.node.driver_internal_info driver_internal_info.pop('ilo_uefi_iscsi_boot', None) task.node.driver_internal_info = driver_internal_info driver_internal_info = task.node.driver_internal_info driver_internal_info['ilo_uefi_iscsi_boot'] = True task.node.driver_internal_info = driver_internal_info driver_internal_info = task.node.driver_internal_info driver_internal_info.pop('ilo_uefi_iscsi_boot', None) task.node.driver_internal_info = driver_internal_info driver_internal_info = task.node.driver_internal_info driver_internal_info['ilo_uefi_iscsi_boot'] = True task.node.driver_internal_info = driver_internal_info driver_internal_info = task.node.driver_internal_info driver_internal_info.pop('ilo_uefi_iscsi_boot', None) task.node.driver_internal_info = driver_internal_info",32,70
openstack%2Fopenstacksdk~master~I2525601539e123ee46316dbd8767381658f08f38,openstack/openstacksdk,master,I2525601539e123ee46316dbd8767381658f08f38,Identity: Add support for system role assignment,ABANDONED,2022-01-05 23:36:45.000000000,2022-01-13 02:08:27.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-01-05 23:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6820bd8b89c62a1ecfd7beec58c927fbb37d0411', 'message': 'Identity: Add support for system role assignment\n\nAllow granting and revoking system role assignment to a user or group.\n\nhttps: //docs.openstack.org/api-ref/identity/v3/#system-role-assignments\nChange-Id: I2525601539e123ee46316dbd8767381658f08f38\n'}, {'number': 2, 'created': '2022-01-05 23:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/58dd76e69a836473ea5e722c8e1c482f59c0e8d8', 'message': 'Identity: Add support for system role assignment\n\nAllow granting and revoking system role assignment to a user or group.\n\nhttps://docs.openstack.org/api-ref/identity/v3/#system-role-assignments\n\nChange-Id: I2525601539e123ee46316dbd8767381658f08f38\n'}, {'number': 3, 'created': '2022-01-06 23:28:22.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_role_assignment.py', 'openstack/tests/functional/cloud/test_identity.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/27f9b28c904f783aa49848901fcf8e56c3c7ccb2', 'message': 'Identity: Add support for system role assignment\n\nAllow granting and revoking system role assignment to a user or group.\n\nhttps: //docs.openstack.org/api-ref/identity/v3/#system-role-assignments\nChange-Id: I2525601539e123ee46316dbd8767381658f08f38\n'}]",12,823586,27f9b28c904f783aa49848901fcf8e56c3c7ccb2,10,3,3,30810,,,0,"Identity: Add support for system role assignment

Allow granting and revoking system role assignment to a user or group.

https: //docs.openstack.org/api-ref/identity/v3/#system-role-assignments
Change-Id: I2525601539e123ee46316dbd8767381658f08f38
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/86/823586/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/tests/functional/cloud/test_identity.py']",2,6820bd8b89c62a1ecfd7beec58c927fbb37d0411,," def test_grant_revoke_role_user_system(self): if self.identity_version in ('2', '2.0'): self.skipTest(""Identity service does not support system"") user_name = self.user_prefix + '_user_system' user_email = 'nobody@nowhere.com' role_name = self.role_prefix + '_grant_user_system' role = self.operator_cloud.create_role(role_name) user = self._create_user(name=user_name, email=user_email) self.assertTrue(self.operator_cloud.grant_role( role_name, user=user['id'], system=True, wait=True)) assignments = self.operator_cloud.list_role_assignments({ 'role': role['id'], 'user': user['id'], 'system': 'all' }) self.assertIsInstance(assignments, list) self.assertEqual(1, len(assignments)) self.assertTrue(self.operator_cloud.revoke_role( role_name, user=user['id'], system=True, wait=True)) assignments = self.operator_cloud.list_role_assignments({ 'role': role['id'], 'user': user['id'], 'system': 'all' }) self.assertIsInstance(assignments, list) self.assertEqual(0, len(assignments)) def test_grant_revoke_role_group_system(self): if self.identity_version in ('2', '2.0'): self.skipTest(""Identity service does not support system group"") role_name = self.role_prefix + '_grant_group_system' role = self.operator_cloud.create_role(role_name) group_name = self.group_prefix + '_group_system' group = self.operator_cloud.create_group( name=group_name, description='test group', domain='default') self.assertTrue(self.operator_cloud.grant_role( role_name, group=group['id'], system=True)) assignments = self.operator_cloud.list_role_assignments({ 'role': role['id'], 'group': group['id'], 'system': 'all' }) self.assertIsInstance(assignments, list) self.assertEqual(1, len(assignments)) self.assertTrue(self.operator_cloud.revoke_role( role_name, group=group['id'], system=True)) assignments = self.operator_cloud.list_role_assignments({ 'role': role['id'], 'group': group['id'], 'system': 'all' }) self.assertIsInstance(assignments, list) self.assertEqual(0, len(assignments))",,85,15
openstack%2Frequirements~master~I6970bd998a515cd1116e7fe7265d75436215f6a9,openstack/requirements,master,I6970bd998a515cd1116e7fe7265d75436215f6a9,Updated from generate-constraints,MERGED,2022-01-11 02:52:04.000000000,2022-01-13 00:32:19.000000000,2022-01-13 00:30:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 02:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/76382ddca4ab6ae4cbd6ede8b6549e0db1a21301', 'message': 'Updated from generate-constraints\n\nChange-Id: I6970bd998a515cd1116e7fe7265d75436215f6a9\n'}, {'number': 2, 'created': '2022-01-12 02:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2da2be70368fff63bea9bc71c90364319ed088ed', 'message': 'Updated from generate-constraints\n\nChange-Id: I6970bd998a515cd1116e7fe7265d75436215f6a9\n'}, {'number': 3, 'created': '2022-01-12 04:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3736ce6f7dd31d934e783c2b7b18cefd8b31b5bd', 'message': 'Updated from generate-constraints\n\nChange-Id: I6970bd998a515cd1116e7fe7265d75436215f6a9\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2022-01-12 06:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/448085eaf63d97a591122621d811565679f65972', 'message': 'Updated from generate-constraints\n\nChange-Id: I6970bd998a515cd1116e7fe7265d75436215f6a9\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2022-01-12 21:09:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9427e10ed9039d11c527bf933dfbd34d9e55bcd8', 'message': 'Updated from generate-constraints\n\nChange-Id: I6970bd998a515cd1116e7fe7265d75436215f6a9\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,824083,9427e10ed9039d11c527bf933dfbd34d9e55bcd8,29,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: I6970bd998a515cd1116e7fe7265d75436215f6a9
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/83/824083/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,76382ddca4ab6ae4cbd6ede8b6549e0db1a21301,openstack/requirements/constraints/noclob,rcssmin===1.1.0XStatic-Angular===1.8.2.1types-paramiko===2.8.9responses===0.17.0pyghmi===1.5.33paramiko===2.9.2validations-libs===1.5.0pkg_resources===0.0.0django-compressor===3.1boto3===1.20.32exabgp===4.2.17protobuf===3.19.2botocore===1.23.32types-cryptography===3.3.12GitPython===3.1.26;python_version=='3.8'rjsmin===1.2.0fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0types-paramiko===2.8.7responses===0.16.0pyghmi===1.5.32paramiko===2.8.1validations-libs===1.4.0django-compressor===2.4.1boto3===1.20.31exabgp===4.2.16protobuf===3.19.1botocore===1.23.31types-cryptography===3.3.11GitPython===3.1.25;python_version=='3.8'rjsmin===1.1.0fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.3.1;python_version=='3.8',17,18
openstack%2Ftripleo-ci~master~I234861ff8822c47e0b08fb7fb729573b3d6eb16e,openstack/tripleo-ci,master,I234861ff8822c47e0b08fb7fb729573b3d6eb16e,Collect logs for the tripleo-upgrade directory when existing.,MERGED,2021-11-19 11:53:19.000000000,2022-01-13 00:27:01.000000000,2022-01-13 00:27:01.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-19 11:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5edfaa266384e79b27e73a423a9058b30a08cc4e', 'message': 'Collect logs for the tripleo-upgrade directory when existing.\n\nChange-Id: I234861ff8822c47e0b08fb7fb729573b3d6eb16e\n'}, {'number': 2, 'created': '2021-11-23 14:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/761ddb18ea851ccf1c03c743b79829853142bf3a', 'message': 'Collect logs for the tripleo-upgrade directory when existing.\n\nChange-Id: I234861ff8822c47e0b08fb7fb729573b3d6eb16e\n'}, {'number': 3, 'created': '2021-12-02 15:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/733588f8f5b436aebb08309e474bb57dcb679a3d', 'message': 'Collect logs for the tripleo-upgrade directory when existing.\n\nChange-Id: I234861ff8822c47e0b08fb7fb729573b3d6eb16e\n'}, {'number': 4, 'created': '2021-12-09 08:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0dbee8e39b9164b28605bd88bd555f4436eef2c2', 'message': 'Collect logs for the tripleo-upgrade directory when existing.\n\nChange-Id: I234861ff8822c47e0b08fb7fb729573b3d6eb16e\n'}, {'number': 5, 'created': '2021-12-13 13:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50641eed34f0bd3376e32ed08aaa83400f5baf72', 'message': 'Collect logs for the tripleo-upgrade directory when existing.\n\nChange-Id: I234861ff8822c47e0b08fb7fb729573b3d6eb16e\n'}, {'number': 6, 'created': '2022-01-12 12:55:49.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/35655ceca793de2a8ca87eeb75e6d9d66d699c34', 'message': 'Collect logs for the tripleo-upgrade directory when existing.\n\nChange-Id: I234861ff8822c47e0b08fb7fb729573b3d6eb16e\n'}]",2,818542,35655ceca793de2a8ca87eeb75e6d9d66d699c34,34,9,6,26343,,,0,"Collect logs for the tripleo-upgrade directory when existing.

Change-Id: I234861ff8822c47e0b08fb7fb729573b3d6eb16e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/42/818542/6 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,5edfaa266384e79b27e73a423a9058b30a08cc4e,, - /home/{{ undercloud_user }}/tripleo-upgrade/,,1,0
openstack%2Fcinderlib~master~I5867be3e61121891a66f076c922a32bd586dc428,openstack/cinderlib,master,I5867be3e61121891a66f076c922a32bd586dc428,Migrate jobs from CentOS 8 to CentOS 8 Stream,MERGED,2022-01-12 00:48:50.000000000,2022-01-13 00:07:45.000000000,2022-01-12 19:32:28.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 00:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/982e74aa16410dfacd469f65c940b0240c8a3bc5', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\n... because CentOS 8 has reached its EOL.\n\nChange-Id: I5867be3e61121891a66f076c922a32bd586dc428\n'}, {'number': 2, 'created': '2022-01-12 00:50:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/40b290fd5890f2f8d16480f6875f3d41113a8588', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I5867be3e61121891a66f076c922a32bd586dc428\n'}]",4,824261,40b290fd5890f2f8d16480f6875f3d41113a8588,19,3,2,9816,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: I5867be3e61121891a66f076c922a32bd586dc428
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/61/824261/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,982e74aa16410dfacd469f65c940b0240c8a3bc5,remove-centos-8, nodeset: centos-8-stream, nodeset: centos-8,1,1
openstack%2Fironic~master~I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce,openstack/ironic,master,I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce,WIP use privsep to copy for loader_file_paths,ABANDONED,2021-12-10 03:00:42.000000000,2022-01-13 00:07:08.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 03:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e1b5a45575420535f8ec08bf5aa26516ff073b1', 'message': 'WIP use privsep to copy for loader_file_paths\n\nValidate by adding back Red Hat family root-only-read shim and grub\nfile copy operations.\n\nChange-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce\n'}, {'number': 2, 'created': '2021-12-12 22:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3bb4882bf8486ebb07e69a8df352f1e129df3b6', 'message': 'WIP use privsep to copy for loader_file_paths\n\nValidate by adding back Red Hat family root-only-read shim and grub\nfile copy operations.\n\nChange-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce\n'}, {'number': 3, 'created': '2021-12-12 23:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca7b025b6404023447e246cb833103c279325ed1', 'message': 'WIP use privsep to copy for loader_file_paths\n\nValidate by adding back Red Hat family root-only-read shim and grub\nfile copy operations.\n\nChange-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce\n'}, {'number': 4, 'created': '2021-12-13 00:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/811df770bea0d5809de9e0f4af513e96c3fe40b3', 'message': 'WIP use privsep to copy for loader_file_paths\n\nValidate by adding back Red Hat family root-only-read shim and grub\nfile copy operations.\n\nChange-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce\n'}, {'number': 5, 'created': '2021-12-13 03:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bdfb13cd3454a063e7301b3739ce308fb4053666', 'message': 'WIP use privsep to copy for loader_file_paths\n\nValidate by adding back Red Hat family root-only-read shim and grub\nfile copy operations.\n\nChange-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce\n'}, {'number': 6, 'created': '2021-12-20 00:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64a7205f5ce08d4cd471cf6fd6cfeb18bc0a23d6', 'message': 'WIP use privsep to copy for loader_file_paths\n\nValidate by adding back Red Hat family root-only-read shim and grub\nfile copy operations.\n\nChange-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce\n'}, {'number': 7, 'created': '2021-12-20 03:40:01.000000000', 'files': ['ironic/privsep/__init__.py', 'etc/ironic/rootwrap.d/ironic-utils.filters', 'etc/ironic/ironic-dist-rhel.conf', 'lower-constraints.txt', 'requirements.txt', 'etc/ironic/ironic-dist-fedora.conf', 'ironic/tests/base.py', 'ironic/conf/opts.py', 'ironic/privsep/utils.py', 'ironic/common/pxe_utils.py', 'ironic/conductor/base_manager.py', 'etc/ironic/ironic-dist-centos.conf', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/16413c9084bf1b588e62efea62d41faea99ec6e9', 'message': 'WIP use privsep to copy for loader_file_paths\n\nValidate by adding back Red Hat family root-only-read shim and grub\nfile copy operations.\n\nChange-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce\n'}]",2,821363,16413c9084bf1b588e62efea62d41faea99ec6e9,33,2,7,4571,,,0,"WIP use privsep to copy for loader_file_paths

Validate by adding back Red Hat family root-only-read shim and grub
file copy operations.

Change-Id: I42ed53abf1e0ab56bcbefffe45ea4caec256e7ce
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/821363/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'etc/ironic/ironic-dist-fedora.conf', 'ironic/tests/base.py', 'ironic/privsep/__init__.py', 'etc/ironic/rootwrap.d/ironic-utils.filters', 'ironic/privsep/utils.py', 'etc/ironic/ironic-dist-rhel.conf', 'ironic/common/pxe_utils.py', 'etc/ironic/ironic-dist-centos.conf', 'ironic/tests/unit/common/test_pxe_utils.py']",10,2e1b5a45575420535f8ec08bf5aa26516ff073b1,loader_file_paths,"import ironic.privsep.utils@mock.patch.object(ironic.privsep.utils, 'priv_copy', autospec=True) def test_place_loaders_for_boot_default_noop(self, mock_copy, mock_makedirs): self.assertFalse(mock_copy.called) def test_place_loaders_for_boot_no_source(self, mock_copy, mock_makedirs): mock_copy.side_effect = FileNotFoundError('No such file or directory') self.assertTrue(mock_copy.called) def test_place_loaders_for_boot_two_files(self, mock_copy, mock_makedirs): mock_copy.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/bootx64.efi', permissions=0o644, user=os.getuid(), group=os.getgid()), mock.call('/path/to/grubx64.efi', '/tftpboot/grubx64.efi', permissions=0o644, user=os.getuid(), group=os.getgid()) self, mock_copy, mock_makedirs): mock_copy.side_effect = PermissionError('Permission denied') mock_copy.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/bootx64.efi', permissions=0o644, user=os.getuid(), group=os.getgid()), self, mock_copy, mock_makedirs): mock_copy.side_effect = OSError('Chmod not permitted') mock_copy.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/bootx64.efi', permissions=0o644, user=os.getuid(), group=os.getgid()), self, mock_copy, mock_makedirs): self, mock_copy, mock_makedirs): mock_copy.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/grub/bootx64.efi', permissions=0o644, user=os.getuid(), group=os.getgid()), mock.call('/path/to/grubx64.efi', '/tftpboot/grub/grubx64.efi', permissions=0o644, user=os.getuid(), group=os.getgid())","import shutil@mock.patch.object(os, 'chmod', autospec=True) @mock.patch.object(shutil, 'copy2', autospec=True) def test_place_loaders_for_boot_default_noop(self, mock_copy2, mock_chmod, mock_makedirs): self.assertFalse(mock_copy2.called) self.assertFalse(mock_chmod.called) def test_place_loaders_for_boot_no_source(self, mock_copy2, mock_chmod, mock_makedirs): mock_copy2.side_effect = FileNotFoundError('No such file or directory') self.assertTrue(mock_copy2.called) self.assertFalse(mock_chmod.called) def test_place_loaders_for_boot_two_files(self, mock_copy2, mock_chmod, mock_makedirs): mock_copy2.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/bootx64.efi'), mock.call('/path/to/grubx64.efi', '/tftpboot/grubx64.efi') ]) mock_chmod.assert_has_calls([ mock.call('/tftpboot/bootx64.efi', CONF.pxe.file_permission), mock.call('/tftpboot/grubx64.efi', CONF.pxe.file_permission) self, mock_copy2, mock_chmod, mock_makedirs): mock_copy2.side_effect = PermissionError('Permission denied') mock_copy2.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/bootx64.efi'), mock_chmod.assert_not_called() self, mock_copy2, mock_chmod, mock_makedirs): mock_chmod.side_effect = OSError('Chmod not permitted') mock_copy2.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/bootx64.efi'), ]) mock_chmod.assert_has_calls([ mock.call('/tftpboot/bootx64.efi', CONF.pxe.file_permission), self, mock_copy2, mock_chmod, mock_makedirs): self, mock_copy2, mock_chmod, mock_makedirs): mock_copy2.assert_has_calls([ mock.call('/path/to/shimx64.efi', '/tftpboot/grub/bootx64.efi'), mock.call('/path/to/grubx64.efi', '/tftpboot/grub/grubx64.efi') ]) mock_chmod.assert_has_calls([ mock.call('/tftpboot/grub/bootx64.efi', CONF.pxe.file_permission), mock.call('/tftpboot/grub/grubx64.efi', CONF.pxe.file_permission)",150,49
openstack%2Fneutron~stable%2Ftrain~Id25ca8a67b52393a1c24c9d659189adc9c16a011,openstack/neutron,stable/train,Id25ca8a67b52393a1c24c9d659189adc9c16a011,Fix privileged create_netns function,MERGED,2022-01-10 11:01:26.000000000,2022-01-12 23:58:37.000000000,2022-01-12 21:29:18.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 11:01:26.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc18fb1888a959e3befae1df266cef4a26954030', 'message': 'Fix privileged create_netns function\n\nIn the patch [1] create_netns function from the Neutron\'s\nprivileged ip_lib module was changed in the way that it was\nimplemented in the same way like original pyroute2\'s create_netns\nfunction.\nUnfortunately during backporing that patch to stable/ussuri and\nstable/train branches, we probably made mistake and instead of\ncalling pyroute2\'s private function _netns() we still called\npublic function netns() (which we tried to ""reimplement"" really).\n\nSo this patch updates it and changes to use private _netns() function\nfrom pyroute2, in the same way like it is done in the branches newer\nthan stable/ussuri.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/778735\n\nRelated-Bug: #1917487\nChange-Id: Id25ca8a67b52393a1c24c9d659189adc9c16a011\n(cherry picked from commit abe24c27056020f47f14d2bb40ea0f27bede90cc)\n'}]",6,823963,dc18fb1888a959e3befae1df266cef4a26954030,24,4,1,11975,,,0,"Fix privileged create_netns function

In the patch [1] create_netns function from the Neutron's
privileged ip_lib module was changed in the way that it was
implemented in the same way like original pyroute2's create_netns
function.
Unfortunately during backporing that patch to stable/ussuri and
stable/train branches, we probably made mistake and instead of
calling pyroute2's private function _netns() we still called
public function netns() (which we tried to ""reimplement"" really).

So this patch updates it and changes to use private _netns() function
from pyroute2, in the same way like it is done in the branches newer
than stable/ussuri.

[1] https://review.opendev.org/c/openstack/neutron/+/778735

Related-Bug: #1917487
Change-Id: Id25ca8a67b52393a1c24c9d659189adc9c16a011
(cherry picked from commit abe24c27056020f47f14d2bb40ea0f27bede90cc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/823963/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,dc18fb1888a959e3befae1df266cef4a26954030,bug/1917487-stable/train," netns._create(name, libc=_get_cdll())"," netns.create(name, libc=_get_cdll())",1,1
openstack%2Fneutron~master~Ic6f7e741b24c463620b3f4e541ca538c5db54fc2,openstack/neutron,master,Ic6f7e741b24c463620b3f4e541ca538c5db54fc2,DEBUG router ports in dead vlan,ABANDONED,2022-01-12 11:00:52.000000000,2022-01-12 23:49:08.000000000,,[],"[{'number': 1, 'created': '2022-01-12 11:00:52.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dffef7b6fb90d2af0ba8dfc55870893e37323e7', 'message': 'DEBUG router ports in dead vlan\n\nChange-Id: Ic6f7e741b24c463620b3f4e541ca538c5db54fc2\n'}]",0,824387,9dffef7b6fb90d2af0ba8dfc55870893e37323e7,3,0,1,15554,,,0,"DEBUG router ports in dead vlan

Change-Id: Ic6f7e741b24c463620b3f4e541ca538c5db54fc2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/824387/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py']",2,9dffef7b6fb90d2af0ba8dfc55870893e37323e7,bug/1930414," LOG.debug( 'XXX add_flow ofport=%s port_name=%s', self.get_port_ofport(port_name), port_name, )",,10,0
openstack%2Fopenstack-ansible-os_glance~stable%2Fwallaby~I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa,openstack/openstack-ansible-os_glance,stable/wallaby,I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa,Add boto3 module for s3 backend,MERGED,2021-12-28 17:34:40.000000000,2022-01-12 23:46:19.000000000,2022-01-12 23:40:29.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-28 17:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/19549a8bef5c7ee3516b437f1ff09f2ffd86eff1', 'message': 'Add boto3 module for s3 backend\n\nThis patch adds the boto3 python module, which is a dependency\nfor the s3 glance backend.\n\nCloses-Bug: #1955683\nChange-Id: I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa\n(cherry picked from commit a2694d31479beb57336af2d7880db9722a4be582)\n'}, {'number': 2, 'created': '2022-01-04 13:56:19.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/5e4850477d7a2a0b63dc11b9b2ee2a9a9a26e98b', 'message': 'Add boto3 module for s3 backend\n\nThis patch adds the boto3 python module, which is a dependency\nfor the s3 glance backend.\n\nCloses-Bug: #1955683\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/823352\nChange-Id: I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa\n(cherry picked from commit a2694d31479beb57336af2d7880db9722a4be582)\n'}]",3,822945,5e4850477d7a2a0b63dc11b9b2ee2a9a9a26e98b,16,4,2,28619,,,0,"Add boto3 module for s3 backend

This patch adds the boto3 python module, which is a dependency
for the s3 glance backend.

Closes-Bug: #1955683
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/823352
Change-Id: I5f5a921d8a08d5dfb09e2bca71d49c85115a60aa
(cherry picked from commit a2694d31479beb57336af2d7880db9722a4be582)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/45/822945/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,19549a8bef5c7ee3516b437f1ff09f2ffd86eff1,," - ""{{ ('s3' in [ glance_default_store ] + glance_additional_stores) | ternary('boto3', '') }}""",,1,0
openstack%2Fopenstack-ansible-os_glance~stable%2Fwallaby~Icf8f2eb3b27033597cb75a6c990b7492706f1d05,openstack/openstack-ansible-os_glance,stable/wallaby,Icf8f2eb3b27033597cb75a6c990b7492706f1d05,Replace NFS test with integrated one,MERGED,2022-01-04 10:21:19.000000000,2022-01-12 23:44:39.000000000,2022-01-12 23:40:27.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-04 10:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/1aec9ab4cf1c2cdb762eea1f7dd9b75c3295125b', 'message': 'Replace NFS test with integrated one\n\nThis also adds ceph integrated test usecase.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821096\nChange-Id: Icf8f2eb3b27033597cb75a6c990b7492706f1d05\n(cherry picked from commit ebe439abb44e3759f502649919e5567dedb874ec)\n'}, {'number': 2, 'created': '2022-01-04 10:21:55.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/c0a6e62d1e645bab14d20620e94e23081f6f1b7e', 'message': 'Replace NFS test with integrated one\n\nThis also adds ceph integrated test usecase.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823351\nChange-Id: Icf8f2eb3b27033597cb75a6c990b7492706f1d05\n(cherry picked from commit ebe439abb44e3759f502649919e5567dedb874ec)\n'}]",0,823352,c0a6e62d1e645bab14d20620e94e23081f6f1b7e,10,4,2,25023,,,0,"Replace NFS test with integrated one

This also adds ceph integrated test usecase.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823351
Change-Id: Icf8f2eb3b27033597cb75a6c990b7492706f1d05
(cherry picked from commit ebe439abb44e3759f502649919e5567dedb874ec)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/52/823352/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,1aec9ab4cf1c2cdb762eea1f7dd9b75c3295125b,,,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-nfs_glance parent: openstack-ansible-functional nodeset: ubuntu-bionic vars: tox_env: nfs ",2,27
openstack%2Fopenstack-helm~master~I63cb35798b82460f7addd4ec719c157e2c1c4fd9,openstack/openstack-helm,master,I63cb35798b82460f7addd4ec719c157e2c1c4fd9,Added cluster/temp_cache_dir,MERGED,2021-12-02 08:43:42.000000000,2022-01-12 23:28:17.000000000,2022-01-12 23:26:10.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-12-02 08:43:42.000000000', 'files': ['releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/templates/statefulset-conductor.yaml', 'magnum/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/859647060900e3524a424a37b145b2506f7d2f4d', 'message': ""Added cluster/temp_cache_dir\n\nWhen using Barbican with a large number of clusters, this option can\nallow Magnum to cache the certificates locally to avoid hitting\nthe API excessively. It is enabled out of the box however since\nwe don't have that folder, it is not working.\n\nChange-Id: I63cb35798b82460f7addd4ec719c157e2c1c4fd9\n""}]",1,820118,859647060900e3524a424a37b145b2506f7d2f4d,11,5,1,1004,,,0,"Added cluster/temp_cache_dir

When using Barbican with a large number of clusters, this option can
allow Magnum to cache the certificates locally to avoid hitting
the API excessively. It is enabled out of the box however since
we don't have that folder, it is not working.

Change-Id: I63cb35798b82460f7addd4ec719c157e2c1c4fd9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/820118/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/templates/statefulset-conductor.yaml', 'magnum/values.yaml']",4,859647060900e3524a424a37b145b2506f7d2f4d,, cluster: temp_cache_dir: /var/lib/magnum/certificate-cache,,8,1
openstack%2Fansible-collections-openstack~master~I0f9cac27a7a91727ba1d005e04431e8f83c46fa8,openstack/ansible-collections-openstack,master,I0f9cac27a7a91727ba1d005e04431e8f83c46fa8,Add compute services list module,MERGED,2022-01-07 23:42:40.000000000,2022-01-12 23:24:56.000000000,2022-01-12 10:58:25.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 23:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ce65e2d1f9630fbf258f0ae856278979e02134f0', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 2, 'created': '2022-01-10 16:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bbced2196a67c44a2d25e4feb515f80736f9dc2d', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 3, 'created': '2022-01-10 17:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4173cfe25497b3bceef5f8787742f5696bee1bef', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 4, 'created': '2022-01-10 18:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/95b66316ba1e66e5ae2febec36ed973e8a06004f', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 5, 'created': '2022-01-10 19:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/64c94c398b9ed2560a072868f8913794f6f5719c', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 6, 'created': '2022-01-10 19:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/014b6892b5c7ce7013c593c006e2699693a38b36', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 7, 'created': '2022-01-10 22:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/71852bd9dbe36fcff15b104e3d26f64a6fb47982', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 8, 'created': '2022-01-10 22:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8a71c28a08d96de6b5d71623708411f8eb5d0af7', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 9, 'created': '2022-01-10 23:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f2cd5e2b24512a1712c16dc5f93e2efe7e748844', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 10, 'created': '2022-01-10 23:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ed282d05e314dd5227346976aacafb0e1e701111', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 11, 'created': '2022-01-10 23:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/41c968025033763806e0ad87ecc0b474df6496c7', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 12, 'created': '2022-01-11 02:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/62bba820b3197a3e77091f24ba397a04ff43732c', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 13, 'created': '2022-01-11 02:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/074d050828f1a9e722825bdc82fbaa5b71b534a0', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 14, 'created': '2022-01-11 06:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/09bf02f5bdca2e721c0985bc273853132b464bab', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 15, 'created': '2022-01-11 15:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/86ff05a112bf90e2d27701d48c50fb28883deb0b', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}, {'number': 16, 'created': '2022-01-11 17:14:49.000000000', 'files': ['meta/runtime.yml', 'ci/roles/nova_services/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/compute_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4eb7c4353982f4decaa3ba1410a7cf89f1e745da', 'message': 'Add compute services list module\n\nThe module retrieve the nova compute services info\nfilters by\n * host\n * binary ( nova-compute, nova-conductor, ... )\n\nCloses-Bug: 2009775\nChange-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8\n'}]",18,823868,4eb7c4353982f4decaa3ba1410a7cf89f1e745da,38,2,16,31039,,,0,"Add compute services list module

The module retrieve the nova compute services info
filters by
 * host
 * binary ( nova-compute, nova-conductor, ... )

Closes-Bug: 2009775
Change-Id: I0f9cac27a7a91727ba1d005e04431e8f83c46fa8
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/68/823868/16 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/compute_service_info.py'],1,ce65e2d1f9630fbf258f0ae856278979e02134f0,2009775,"#!/usr/bin/python # Copyright (c) 2016 Hewlett-Packard Enterprise Corporation # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = ''' --- module: compute_service_info short_description: Retrieve information about one or more OpenStack compute services author: OpenStack Ansible SIG description: - Retrieve information about nova compute services options: binary: description: - Filter by service binary type type: str host: description: - Filter by service host type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' # Gather information about compute services - openstack.cloud.nova_compute_info: cloud: awesomecloud binary: ""nova-compute"" host: ""localhost"" register: result - openstack.cloud.nova_compute_info: cloud: awesomecloud register: result - debug: msg: ""{{ result.openstack_users }}"" ''' RETURN = ''' openstack_compute_services: description: has all the OpenStack information about compute services returned: always, but can be null type: complex contains: id: description: Unique UUID. returned: success type: str binary: description: The binary name of the service. returned: success type: str host: description: The name of the host. returned: success type: str zone: description: The availability zone name. returned: success type: str status: description: The status of the service. One of enabled or disabled. returned: success type: str state: description: The state of the service. One of up or down. returned: success type: str update: description: The date and time when the resource was updated returned: success type: str ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class ComputeServiceInfoModule(OpenStackModule): argument_spec = dict( binary=dict(required=False, default=None), host=dict(required=False, default=None), ) module_kwargs = dict( supports_check_mode=True ) def run(self): binary = self.params['binary'] host = self.params['host'] filters = {} if binary: filters['binary'] = binary if host: filters['host'] = host services = self.conn.compute.services(**filters) services = [service for service in services] self.exit_json(changed=False, openstack_compute_services=services) def main(): module = ComputeServiceInfoModule() module() if __name__ == '__main__': main() ",,111,0
openstack%2Fswift~master~Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed,openstack/swift,master,Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed,Finer grained ratelimit for update,MERGED,2021-12-07 23:21:46.000000000,2022-01-12 22:44:17.000000000,2022-01-12 22:42:25.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-07 23:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/36fadb2ac356816736288567e678cc6837fae54f', 'message': ""Finer grained ratelimit for updater\n\nThrow our stream of async_pendings through a hash ring; if the virtual\nbucket gets hot just start leaving the updates on the floor and move on.\n\nIt's off by default; and if you use it you're probably going to leave a\nbunch of async updates pointed at a small set of containers in the queue\nfor the next sweep every sweep (so maybe turn it off at some point)\n\nChange-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed\n""}, {'number': 2, 'created': '2021-12-08 22:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e02b5c3f737a53c3075f511da0a5381968716b98', 'message': ""Finer grained ratelimit for updater\n\nThrow our stream of async_pendings through a hash ring; if the virtual\nbucket gets hot just start leaving the updates on the floor and move on.\n\nIt's off by default; and if you use it you're probably going to leave a\nbunch of async updates pointed at a small set of containers in the queue\nfor the next sweep every sweep (so maybe turn it off at some point)\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed\n""}, {'number': 3, 'created': '2021-12-09 21:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fdd83a1f6ec621614a8eb0001994706b4c041d0a', 'message': ""Finer grained ratelimit for updater\n\nThrow our stream of async_pendings through a hash ring; if the virtual\nbucket gets hot just start leaving the updates on the floor and move on.\n\nIt's off by default; and if you use it you're probably going to leave a\nbunch of async updates pointed at a small set of containers in the queue\nfor the next sweep every sweep (so maybe turn it off at some point)\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed\n""}, {'number': 4, 'created': '2021-12-10 20:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/db0379712ef9f335f83d758612b32360fcbe27ef', 'message': ""Finer grained ratelimit for updater\n\nThrow our stream of async_pendings through a hash ring; if the virtual\nbucket gets hot just start leaving the updates on the floor and move on.\n\nIt's off by default; and if you use it you're probably going to leave a\nbunch of async updates pointed at a small set of containers in the queue\nfor the next sweep every sweep (so maybe turn it off at some point)\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed\n""}, {'number': 5, 'created': '2021-12-10 21:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d777c3aa9b7cb20377c463e4d4d6a6fa0596d5bc', 'message': ""Finer grained ratelimit for updater\n\nThrow our stream of async_pendings through a hash ring; if the virtual\nbucket gets hot just start leaving the updates on the floor and move on.\n\nIt's off by default; and if you use it you're probably going to leave a\nbunch of async updates pointed at a small set of containers in the queue\nfor the next sweep every sweep (so maybe turn it off at some point)\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed\n""}, {'number': 6, 'created': '2022-01-06 00:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/631dc4f0ff98ab82bcca3a05c4849b1f3ba2e703', 'message': ""Finer grained ratelimit for update\n\nThrow our stream of async_pendings through a hash ring; if the virtual\nbucket gets hot just start leaving the updates on the floor and move on.\n\nIt's off by default; and if you use it you're probably going to leave a\nbunch of async updates pointed at a small set of containers in the queue\nfor the next sweep every sweep (so maybe turn it off at some point)\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed\n""}, {'number': 7, 'created': '2022-01-06 20:47:22.000000000', 'files': ['swift/obj/updater.py', 'test/unit/obj/test_updater.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/de888629817a2a326b6e8dc66edb0ce3168818a7', 'message': ""Finer grained ratelimit for update\n\nThrow our stream of async_pendings through a hash ring; if the virtual\nbucket gets hot just start leaving the updates on the floor and move on.\n\nIt's off by default; and if you use it you're probably going to leave a\nbunch of async updates pointed at a small set of containers in the queue\nfor the next sweep every sweep (so maybe turn it off at some point)\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed\n""}]",54,820962,de888629817a2a326b6e8dc66edb0ce3168818a7,51,5,7,1179,,,0,"Finer grained ratelimit for update

Throw our stream of async_pendings through a hash ring; if the virtual
bucket gets hot just start leaving the updates on the floor and move on.

It's off by default; and if you use it you're probably going to leave a
bunch of async updates pointed at a small set of containers in the queue
for the next sweep every sweep (so maybe turn it off at some point)

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: Idef25cd6026b02c1b5c10a9816c8c6cbe505e7ed
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/820962/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'test/unit/obj/test_updater.py']",2,36fadb2ac356816736288567e678cc6837fae54f,bucket-ratelimiter," def process_object_update(self, update): seen.add((update['path'], int(update['policy']))) os.unlink(update['path']) def process_object_update(self, update): os.unlink(update['path']) def process_object_update(self, update): os.unlink(update['path']) daemon.process_object_update({ 'path': op_path, 'device': self.sda1, 'policy': policies[0], })"," def process_object_update(self, update_path, device, policy): seen.add((update_path, int(policy))) os.unlink(update_path) def process_object_update(self, update_path, device, policy): os.unlink(update_path) def process_object_update(self, update_path, device, policy): os.unlink(update_path) daemon.process_object_update(op_path, self.sda1, policies[0])",98,19
openstack%2Ftripleo-heat-templates~master~I5ad0e14e85c94616acb504ad06fcef23a46c383e,openstack/tripleo-heat-templates,master,I5ad0e14e85c94616acb504ad06fcef23a46c383e,Cinder: Remove support for deprecated Dell EMC volume drivers,MERGED,2022-01-09 11:58:25.000000000,2022-01-12 22:44:03.000000000,2022-01-12 22:42:04.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-09 11:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4a486e326411783c0ecb476d1f6c0bfea692dc0', 'message': 'Remove support for ScaleIO\n\nScaleIO was rebranded to PowerFlex and the old driver was deprecated\nduring past cycle[1].\n\n[1] 5e4f319edca2d9ee567c94794a47d6516ea1db26\n\nChange-Id: I5ad0e14e85c94616acb504ad06fcef23a46c383e\n'}, {'number': 2, 'created': '2022-01-09 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/642f2331ab5541146c3913001d38d1ceaa9f0689', 'message': 'Cinder: Remove support for ScaleIO\n\nScaleIO was rebranded to PowerFlex and the old driver was deprecated\nduring past cycle[1].\n\n[1] 5e4f319edca2d9ee567c94794a47d6516ea1db26\n\nChange-Id: I5ad0e14e85c94616acb504ad06fcef23a46c383e\n'}, {'number': 3, 'created': '2022-01-09 13:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e336ae3e51705c7f6288efac7c9f1b86181c1e0c', 'message': 'Cinder: Remove support for ScaleIO\n\nScaleIO was rebranded to PowerFlex and the old driver was deprecated\nduring past cycle[1].\n\n[1] 5e4f319edca2d9ee567c94794a47d6516ea1db26\n\nChange-Id: I5ad0e14e85c94616acb504ad06fcef23a46c383e\n'}, {'number': 4, 'created': '2022-01-11 23:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9110b9e34c68275a4d345d2ec9027d74de23ba72', 'message': 'Cinder: Remove support for deprecated Dell EMC volume drivers\n\nThis change removes the following three volume drivers which were\ndeprecated during past cycle because of rebranding.\n - Dell EMC ScaleIO\n - Dell EMC VxFlexOS\n - Dell EMC VMAX\n\nChange-Id: I5ad0e14e85c94616acb504ad06fcef23a46c383e\n'}, {'number': 5, 'created': '2022-01-12 03:09:49.000000000', 'files': ['environments/cinder-dellemc-vxflexos-config.yaml', 'roles/Standalone.yaml', 'deployment/deprecated/cinder/cinder-backend-scaleio-puppet.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/deprecated/cinder/cinder-backend-dellemc-vxflexos-puppet.yaml', 'environments/cinder-dellemc-vmax-iscsi-config.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'environments/containerized-control-plane-dellemc-scaleio.yaml', 'releasenotes/notes/dellemc-driver-cleanup-4a1febdc51ec674c.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/cinder-scaleio-config.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b5dba49eea5e357d399153c4cc05fdf0fd9b29d', 'message': 'Cinder: Remove support for deprecated Dell EMC volume drivers\n\nThis change removes the following three volume drivers which were\ndeprecated during past cycle because of rebranding.\n - Dell EMC ScaleIO\n - Dell EMC VxFlexOS\n - Dell EMC VMAX\n\nChange-Id: I5ad0e14e85c94616acb504ad06fcef23a46c383e\n'}]",0,823908,9b5dba49eea5e357d399153c4cc05fdf0fd9b29d,18,4,5,9816,,,0,"Cinder: Remove support for deprecated Dell EMC volume drivers

This change removes the following three volume drivers which were
deprecated during past cycle because of rebranding.
 - Dell EMC ScaleIO
 - Dell EMC VxFlexOS
 - Dell EMC VMAX

Change-Id: I5ad0e14e85c94616acb504ad06fcef23a46c383e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/823908/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/Standalone.yaml', 'deployment/deprecated/cinder/cinder-backend-scaleio-puppet.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'releasenotes/notes/dellemc-driver-cleanup-scaleio-06475e3f360bf72d.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/cinder-scaleio-config.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/containerized-control-plane-dellemc-powerflex.yaml', 'roles/ControllerSriov.yaml']",13,e4a486e326411783c0ecb476d1f6c0bfea692dc0,dellemc-driver-cleanup,, - OS::TripleO::Services::CinderBackendScaleIO,8,201
openstack%2Ftripleo-upgrade~master~I269d1bbd5e248d22b3caa21b84ba7e41cc3b6667,openstack/tripleo-upgrade,master,I269d1bbd5e248d22b3caa21b84ba7e41cc3b6667,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:47:26.000000000,2022-01-12 22:42:12.000000000,2022-01-12 22:42:12.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:47:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/898db61035c614fe3cdb977e0097b23ce2d4410d', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I269d1bbd5e248d22b3caa21b84ba7e41cc3b6667\n""}]",0,788194,898db61035c614fe3cdb977e0097b23ce2d4410d,10,4,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I269d1bbd5e248d22b3caa21b84ba7e41cc3b6667
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/94/788194/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,898db61035c614fe3cdb977e0097b23ce2d4410d,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/tripleo-upgrade,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/tripleo-upgrade,3,3
openstack%2Ftripleo-upgrade~master~Icadb984d51742d728c2e9c5c5672e6c5193b60ef,openstack/tripleo-upgrade,master,Icadb984d51742d728c2e9c5c5672e6c5193b60ef,[fix] remove condition of migration.timeout,MERGED,2021-10-18 06:18:18.000000000,2022-01-12 22:42:10.000000000,2022-01-12 22:42:10.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-10-18 06:18:18.000000000', 'files': ['infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/644885dd51323a4414c4b4b739f8acacef6b201e', 'message': '[fix] remove condition of migration.timeout\n\nFixed proposed due to the following review\n<a href=""https://review.opendev.org/c/openstack/tripleo-upgrade/+/\n   813445/1/infrared_plugin/main.yml#142"">patch#813445</a>\ninstall.upgrade.compute.migration.timeout\n\nChange-Id: Icadb984d51742d728c2e9c5c5672e6c5193b60ef\n'}]",0,814355,644885dd51323a4414c4b4b739f8acacef6b201e,9,6,1,20171,,,0,"[fix] remove condition of migration.timeout

Fixed proposed due to the following review
<a href=""https://review.opendev.org/c/openstack/tripleo-upgrade/+/
   813445/1/infrared_plugin/main.yml#142"">patch#813445</a>
install.upgrade.compute.migration.timeout

Change-Id: Icadb984d51742d728c2e9c5c5672e6c5193b60ef
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/814355/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/main.yml'],1,644885dd51323a4414c4b4b739f8acacef6b201e,compute-host-migrate-fix, # install.upgrade.compute.migration.timeout default to 120 by infrared-plugin, - install.upgrade.compute.migration.timeout,1,1
openstack%2Fpuppet-tripleo~master~I192addeda1550bfe29c3d8522081b708b38910ce,openstack/puppet-tripleo,master,I192addeda1550bfe29c3d8522081b708b38910ce,Cinder: Clean up deprecated Dell EMC volume drivers,MERGED,2022-01-09 12:12:32.000000000,2022-01-12 22:42:08.000000000,2022-01-12 22:42:08.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 12:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5a7f5b645b33fbc3663c5263c9170d91a8fc56a4', 'message': 'Cinder: Clean up deprecated Delle EMC volume drivers\n\nDepends-on: https://review.opendev.org/823910\nChange-Id: I192addeda1550bfe29c3d8522081b708b38910ce\n'}, {'number': 2, 'created': '2022-01-09 12:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/da4d714079a4b4792bb5289340ed05262c68a9a9', 'message': 'Cinder: Clean up deprecated Delle EMC volume drivers\n\nDepends-on: https://review.opendev.org/823910\nChange-Id: I192addeda1550bfe29c3d8522081b708b38910ce\n'}, {'number': 3, 'created': '2022-01-11 23:26:53.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_vmax_spec.rb', 'manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/scaleio.pp', 'manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'spec/classes/tripleo_profile_base_cinder_vxflexos_spec.rb', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_vmax_iscsi.pp', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_cinder_scaleio_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8fe2e2c95a69ab1c0de4e9585fce0e4ff75d2d4a', 'message': 'Cinder: Clean up deprecated Dell EMC volume drivers\n\nDepends-on: https://review.opendev.org/823908\nChange-Id: I192addeda1550bfe29c3d8522081b708b38910ce\n'}]",0,823911,8fe2e2c95a69ab1c0de4e9585fce0e4ff75d2d4a,10,3,3,9816,,,0,"Cinder: Clean up deprecated Dell EMC volume drivers

Depends-on: https://review.opendev.org/823908
Change-Id: I192addeda1550bfe29c3d8522081b708b38910ce
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/11/823911/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_vmax_spec.rb', 'manifests/profile/base/cinder/volume/scaleio.pp', 'manifests/profile/base/cinder/volume/dellemc_powerflex.pp', 'spec/classes/tripleo_profile_base_cinder_vxflexos_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_vmax_iscsi.pp', 'spec/classes/tripleo_profile_base_cinder_scaleio_spec.rb']",7,5a7f5b645b33fbc3663c5263c9170d91a8fc56a4,dellemc-driver-cleanup,,"# # Copyright (C) 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::cinder::volume::scaleio' do shared_examples_for 'tripleo::profile::base::cinder::volume::scaleio' do before :each do facts.merge!({ :step => params[:step] }) end context 'with step less than 4' do let(:params) { { :step => 3 } } it 'should do nothing' do is_expected.to contain_class('tripleo::profile::base::cinder::volume::scaleio') is_expected.to contain_class('tripleo::profile::base::cinder::volume') is_expected.to contain_class('tripleo::profile::base::cinder') is_expected.to_not contain_cinder__backend__scaleio('tripleo_scaleio') end end context 'with step 4' do let(:params) { { :step => 4, } } it 'should trigger complete configuration' do # TODO(aschultz): check hiera parameters is_expected.to contain_cinder__backend__scaleio('tripleo_scaleio') end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'tripleo::profile::base::cinder::volume::scaleio' end end end ",0,373
openstack%2Fos-net-config~stable%2Fussuri~I0e6ee35e327d36ddc1b792de1ee48bad609bc3ad,openstack/os-net-config,stable/ussuri,I0e6ee35e327d36ddc1b792de1ee48bad609bc3ad,The default max/min tx rates shall not halt deployment,MERGED,2021-12-08 12:41:34.000000000,2022-01-12 21:11:08.000000000,2022-01-12 21:09:03.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 12:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1bd2cfcc60575226d410b8295b3008de387f18b6', 'message': 'The default max/min tx rates shall not halt deployment\n\nThe default configuration of max_tx_rate and min_tx_rate is 0.\nSome of the SR-IOV driver implementation throws up the error for\nthe default values and the errors shall be safely handled instead\nof raising an exception.\n\nChange-Id: I0e6ee35e327d36ddc1b792de1ee48bad609bc3ad\n(cherry picked from commit 44eab2297f4db36ede6d29a18be60da800266f01)\n'}, {'number': 2, 'created': '2021-12-08 12:42:36.000000000', 'files': ['os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e15af3bbb52fefea63fc72381b82a3d12ac04819', 'message': 'The default max/min tx rates shall not halt deployment\n\nThe default configuration of max_tx_rate and min_tx_rate is 0.\nSome of the SR-IOV driver implementation throws up the error for\nthe default values and the errors shall be safely handled instead\nof raising an exception.\n\nChange-Id: I0e6ee35e327d36ddc1b792de1ee48bad609bc3ad\n(cherry picked from commit 44eab2297f4db36ede6d29a18be60da800266f01)\n'}]",2,821030,e15af3bbb52fefea63fc72381b82a3d12ac04819,16,4,2,18904,,,0,"The default max/min tx rates shall not halt deployment

The default configuration of max_tx_rate and min_tx_rate is 0.
Some of the SR-IOV driver implementation throws up the error for
the default values and the errors shall be safely handled instead
of raising an exception.

Change-Id: I0e6ee35e327d36ddc1b792de1ee48bad609bc3ad
(cherry picked from commit 44eab2297f4db36ede6d29a18be60da800266f01)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/30/821030/2 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,1bd2cfcc60575226d410b8295b3008de387f18b6,,"<<<<<<< HEAD (8b87e5 Merge ""Fix upper constraints"" into stable/ussuri)======= def run_ip_config_cmd_safe(raise_error, *cmd, **kwargs): try: run_ip_config_cmd(*cmd) except processutils.ProcessExecutionError: if raise_error: raise >>>>>>> CHANGE (44eab2 The default max/min tx rates shall not halt deployment) raise_error = True raise_error = True if item['max_tx_rate'] == 0: raise_error = False run_ip_config_cmd_safe(raise_error, *cmd) if item['min_tx_rate'] == 0: raise_error = False run_ip_config_cmd_safe(raise_error, *cmd)", run_ip_config_cmd(*cmd) run_ip_config_cmd(*cmd),17,2
openstack%2Ftripleo-validations~stable%2Ftrain~I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,openstack/tripleo-validations,stable/train,I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,[Train-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure,MERGED,2022-01-11 09:54:19.000000000,2022-01-12 21:09:09.000000000,2022-01-12 21:09:09.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-11 09:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c3b1ab9b8b2e9e3671a10effeb14272fd131d853', 'message': '[Train-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)\n(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)\n(cherry picked from commit 5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943)\n(cherry picked from commit 8afc404335f70230b5fcb158def991874b4563b4)\n'}, {'number': 2, 'created': '2022-01-11 10:29:10.000000000', 'files': ['.ansible-lint_rules/RoleNames.py', '.ansible-lint_rules/ValidationHasMetadataRule.py', '.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fef7cf7ce35f310ffd090d862bc105e20c64e481', 'message': ""[Train-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nRemove RoleNames ansible-lint custom rule\n\nAs this rule has been merged upstream, we don't need it anymore locally.\n\nThis patch also bumps the ansible-lint release from v4.3.5 to v5.0.3\n\nIt also mocks the following modules and roles coming from\nvalidations-common to pass the --syntax-check:\n- hiera, validations_read_ini and warn customs libs\n- check_latest_packages_version role\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)\n(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)\n(cherry picked from commit 5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943)\n(cherry picked from commit 8afc404335f70230b5fcb158def991874b4563b4)\n(cherry picked from commit 980865086400a86e106c08da24603ffd330c538d)\n""}]",0,824125,fef7cf7ce35f310ffd090d862bc105e20c64e481,8,5,2,32926,,,0,"[Train-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure

Remove RoleNames ansible-lint custom rule

As this rule has been merged upstream, we don't need it anymore locally.

This patch also bumps the ansible-lint release from v4.3.5 to v5.0.3

It also mocks the following modules and roles coming from
validations-common to pass the --syntax-check:
- hiera, validations_read_ini and warn customs libs
- check_latest_packages_version role

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac
(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)
(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)
(cherry picked from commit 5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943)
(cherry picked from commit 8afc404335f70230b5fcb158def991874b4563b4)
(cherry picked from commit 980865086400a86e106c08da24603ffd330c538d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/25/824125/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,c3b1ab9b8b2e9e3671a10effeb14272fd131d853,ansiblelintbump, - repo: https://github.com/ansible-community/ansible-lint rev: v5.3.2, - repo: https://github.com/ansible/ansible-lint.git rev: v4.3.5,3,2
openstack%2Ftripleo-validations~stable%2Fussuri~I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,openstack/tripleo-validations,stable/ussuri,I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,[Ussuri-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure,MERGED,2022-01-11 09:53:29.000000000,2022-01-12 21:09:07.000000000,2022-01-12 21:09:07.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-11 09:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8afc404335f70230b5fcb158def991874b4563b4', 'message': '[Ussuri-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)\n(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)\n(cherry picked from commit 5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943)\n'}, {'number': 2, 'created': '2022-01-11 10:25:11.000000000', 'files': ['.ansible-lint_rules/RoleNames.py', '.ansible-lint_rules/ValidationHasMetadataRule.py', '.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b2c3a1074a78f371cb0a90d4030db0fa31e04e3a', 'message': ""[Ussuri-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nRemove RoleNames ansible-lint custom rule\n\nAs this rule has been merged upstream, we don't need it anymore locally.\n\nThis patch also bumps the ansible-lint release from v4.3.5 to v5.0.3\n\nIt also mocks the following modules and roles coming from\nvalidations-common to pass the --syntax-check:\n- hiera, validations_read_ini and warn customs libs\n- check_latest_packages_version role\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)\n(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)\n(cherry picked from commit 5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943)\n(cherry picked from commit 980865086400a86e106c08da24603ffd330c538d)\n""}]",0,824123,b2c3a1074a78f371cb0a90d4030db0fa31e04e3a,8,5,2,32926,,,0,"[Ussuri-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure

Remove RoleNames ansible-lint custom rule

As this rule has been merged upstream, we don't need it anymore locally.

This patch also bumps the ansible-lint release from v4.3.5 to v5.0.3

It also mocks the following modules and roles coming from
validations-common to pass the --syntax-check:
- hiera, validations_read_ini and warn customs libs
- check_latest_packages_version role

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac
(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)
(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)
(cherry picked from commit 5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943)
(cherry picked from commit 980865086400a86e106c08da24603ffd330c538d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/23/824123/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,8afc404335f70230b5fcb158def991874b4563b4,ansiblelintbump, - repo: https://github.com/ansible-community/ansible-lint rev: v5.3.2, - repo: https://github.com/ansible/ansible-lint.git rev: v4.3.5,3,2
openstack%2Ftripleo-operator-ansible~master~Ie9707333454aca755db8daa272e3408ecbbf55da,openstack/tripleo-operator-ansible,master,Ie9707333454aca755db8daa272e3408ecbbf55da,Bump ansible-lint to 5.3.2,MERGED,2022-01-12 06:56:47.000000000,2022-01-12 21:09:05.000000000,2022-01-12 21:09:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-01-12 06:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/12d85f251c241567fa15a6a0b23e1578689d0381', 'message': 'Bump ansible-lint to 5.3.2\n\nBump to latest version that fixes issues with rich 11.\n\nChange-Id: Ie9707333454aca755db8daa272e3408ecbbf55da\n'}, {'number': 2, 'created': '2022-01-12 07:52:32.000000000', 'files': ['.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ade61b299ffa45c70b4dabf90567b88078859537', 'message': 'Bump ansible-lint to 5.3.2\n\nBump to latest version that fixes issues with rich 11.\nWe need to fix the linting issues as followup.\n\nChange-Id: Ie9707333454aca755db8daa272e3408ecbbf55da\n'}]",0,824284,ade61b299ffa45c70b4dabf90567b88078859537,9,3,2,8833,,,0,"Bump ansible-lint to 5.3.2

Bump to latest version that fixes issues with rich 11.
We need to fix the linting issues as followup.

Change-Id: Ie9707333454aca755db8daa272e3408ecbbf55da
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/84/824284/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,12d85f251c241567fa15a6a0b23e1578689d0381,, rev: v5.3.2, rev: v4.3.5,1,1
openstack%2Fopenstack-ansible-os_ironic~master~I097989555a5bd3c84a8cbe992ee64f1a3dd956c9,openstack/openstack-ansible-os_ironic,master,I097989555a5bd3c84a8cbe992ee64f1a3dd956c9,Refactor use of include_vars,MERGED,2022-01-12 08:31:34.000000000,2022-01-12 20:55:11.000000000,2022-01-12 20:53:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:31:34.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/bdee06b603dc0bb1a3560db3d038d41ef7ca164d', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I097989555a5bd3c84a8cbe992ee64f1a3dd956c9\n""}]",1,824330,bdee06b603dc0bb1a3560db3d038d41ef7ca164d,13,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I097989555a5bd3c84a8cbe992ee64f1a3dd956c9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/30/824330/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,bdee06b603dc0bb1a3560db3d038d41ef7ca164d,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_nova~stable%2Fxena~Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3,openstack/openstack-ansible-os_nova,stable/xena,Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3,Reinstate ssh key distribution for all nova deployments,MERGED,2022-01-12 07:49:02.000000000,2022-01-12 20:43:27.000000000,2022-01-12 20:39:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 07:49:02.000000000', 'files': ['tasks/nova_compute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e4352435e73f66fd6f4ffed3723f29e37aecf1df', 'message': 'Reinstate ssh key distribution for all nova deployments\n\nFurther testing has revealed that cold migration still requires\nSSH communication between hypervisors which requires SSH keys to\nbe distributed between hosts.\n\nChange-Id: Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3\n(cherry picked from commit 0bdf4699933db6e8ee1e39aa2f888b84bc3b763a)\n'}]",0,824297,e4352435e73f66fd6f4ffed3723f29e37aecf1df,8,4,1,28619,,,0,"Reinstate ssh key distribution for all nova deployments

Further testing has revealed that cold migration still requires
SSH communication between hypervisors which requires SSH keys to
be distributed between hosts.

Change-Id: Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3
(cherry picked from commit 0bdf4699933db6e8ee1e39aa2f888b84bc3b763a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/97/824297/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_compute.yml'],1,e4352435e73f66fd6f4ffed3723f29e37aecf1df,,, when: - nova_libvirtd_listen_tls == 0 when: - nova_libvirtd_listen_tls == 0,0,4
openstack%2Fopenstack-ansible-os_nova~stable%2Fxena~I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077,openstack/openstack-ansible-os_nova,stable/xena,I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077,"Revert ""Disable shell for nova when tunneled migration not used""",MERGED,2022-01-12 07:49:18.000000000,2022-01-12 20:41:49.000000000,2022-01-12 20:39:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 07:49:18.000000000', 'files': ['releasenotes/notes/disable_nova_shell-214c72d31c4d50ec.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5384c0c718b63b73c77f0e8d0aba57c085e60fcc', 'message': 'Revert ""Disable shell for nova when tunneled migration not used""\n\nThis reverts commit ca352be75b964f058b44ab0079e6c4b524f62ddd.\n\nChange-Id: I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077\n(cherry picked from commit 7a3327150975346967a55a6124ff548df1cb971d)\n'}]",1,824298,5384c0c718b63b73c77f0e8d0aba57c085e60fcc,10,4,1,28619,,,0,"Revert ""Disable shell for nova when tunneled migration not used""

This reverts commit ca352be75b964f058b44ab0079e6c4b524f62ddd.

Change-Id: I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077
(cherry picked from commit 7a3327150975346967a55a6124ff548df1cb971d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/98/824298/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable_nova_shell-214c72d31c4d50ec.yaml', 'defaults/main.yml']",2,5384c0c718b63b73c77f0e8d0aba57c085e60fcc,,nova_system_shell: /bin/bash,"nova_system_shell: ""{{ (nova_libvirtd_listen_tls | bool) | ternary('/bin/false', '/bin/bash') }}""",1,9
openstack%2Foctavia-tempest-plugin~master~I2db7d883c4bec2bf4c3a53d897347c26987e210c,openstack/octavia-tempest-plugin,master,I2db7d883c4bec2bf4c3a53d897347c26987e210c,test quotas api,NEW,2020-10-12 06:40:47.000000000,2022-01-12 20:39:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 31280}]","[{'number': 1, 'created': '2020-10-12 06:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d7394181a03bef0bd01c7c5d883b0e1473c0ddb9', 'message': 'test quotas api\n\nChange-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c\n'}, {'number': 2, 'created': '2020-10-12 10:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1452b3fd5deb282f06bcfee0c90ca50ef7c133d4', 'message': 'test quotas api\n\nadd quotas api for octavia\n\nChange-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c\n'}, {'number': 3, 'created': '2020-10-13 00:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f5a4a0d6a38b15b6aa7859c48705386a1bc4b063', 'message': 'test quotas api\n\nadd quotas api for octavia\n\nChange-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c\n'}, {'number': 4, 'created': '2020-10-13 09:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/77ed9ef4dc9e7214f5a71c7dd9bbbf91944fd2fe', 'message': 'test quotas api\n\nadd quotas api for octavia\n\nChange-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c\n'}, {'number': 5, 'created': '2020-10-14 00:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bd3e679ca40e77794f2cfe19135213aed3ffdb05', 'message': 'test quotas api\n\nadd quotas api for octavia\n\nChange-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c\n'}, {'number': 6, 'created': '2020-11-30 06:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/34082fbe3b490335268e2d40753aafebcccb8f15', 'message': 'test quotas api\n\nadd quotas api for octavia\n\nChange-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c\n'}, {'number': 7, 'created': '2022-01-12 18:05:20.000000000', 'files': ['octavia_tempest_plugin/services/load_balancer/v2/quotas_client.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/api/v2/test_quotas.py', 'octavia_tempest_plugin/services/load_balancer/v2/__init__.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6a345f5425a8beec944cffc7a7c41bf990b7565f', 'message': 'test quotas api\n\nadd quotas api for octavia\n\nChange-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c\n'}]",4,757449,6a345f5425a8beec944cffc7a7c41bf990b7565f,20,2,7,31280,,,0,"test quotas api

add quotas api for octavia

Change-Id: I2db7d883c4bec2bf4c3a53d897347c26987e210c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/49/757449/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/clients.py', 'octavia_tempest_plugin/services/load_balancer/v2/quotas_client.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/api/v2/test_quotas.py']",4,d7394181a03bef0bd01c7c5d883b0e1473c0ddb9,octavia05,"# Copyright 2019 Rackspace US Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib import decorators from octavia_tempest_plugin.tests import test_base class QuotasAPITest(test_base.LoadBalancerBaseTest): """"""Test the quotas object API."""""" @decorators.idempotent_id('99c438a2-81fc-436e-92f8-763551b7c04f') def test_quotas_default(self): """"""Tests quotas default API. * Show the quota defaults configured for the deployment. """""" quota = self.mem_quotas_client.show_quota_defaults() self.assertEqual(50, quota['loadbalancer']) self.assertEqual(-1, quota['listener']) self.assertEqual(-1, quota['member']) self.assertEqual(-1, quota['pool']) self.assertEqual(-1, quota['healthmonitor']) self.assertEqual(-1, quota['l7policy']) self.assertEqual(-1, quota['l7rule']) @decorators.idempotent_id('e19fbb98-fbef-472c-833d-99d153072838') def test_quotas_detail(self): """"""Tests project quotas detail API. * Show the quota detail for the project. """""" project_id = self.os_roles_lb_member.credentials.project_id quota = self.mem_quotas_client.show_project_quotas( project_id=project_id) self.assertEqual(50, quota['loadbalancer']) self.assertEqual(-1, quota['listener']) self.assertEqual(-1, quota['member']) self.assertEqual(-1, quota['pool']) self.assertEqual(-1, quota['healthmonitor']) self.assertEqual(-1, quota['l7policy']) self.assertEqual(-1, quota['l7rule']) ",,299,0
openstack%2Ftripleo-docs~master~I545949160853a5d836cf10c613f35f17a6927b85,openstack/tripleo-docs,master,I545949160853a5d836cf10c613f35f17a6927b85,Document minion deprecation,MERGED,2021-07-16 01:10:19.000000000,2022-01-12 20:26:30.000000000,2022-01-12 20:23:50.000000000,"[{'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2021-07-16 01:10:19.000000000', 'files': ['deploy-guide/source/features/undercloud_minion.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/311347a99d198bf5f5734d22f9e0bb85671ae2da', 'message': 'Document minion deprecation\n\nThe undercloud minion was deprecated in commit\n261f4685b83f3313be0c0cdce6d8b47384d64821 in python-tripleoclient. Add\na deprecation notice to the docs.\n\nChange-Id: I545949160853a5d836cf10c613f35f17a6927b85\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,801012,311347a99d198bf5f5734d22f9e0bb85671ae2da,9,4,1,7144,,,0,"Document minion deprecation

The undercloud minion was deprecated in commit
261f4685b83f3313be0c0cdce6d8b47384d64821 in python-tripleoclient. Add
a deprecation notice to the docs.

Change-Id: I545949160853a5d836cf10c613f35f17a6927b85
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/12/801012/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/undercloud_minion.rst'],1,311347a99d198bf5f5734d22f9e0bb85671ae2da,,(DEPRECATED) Installing a Undercloud Minion =========================================== .. note:: The minion functionality is deprecated starting in Wallaby.,Installing a Undercloud Minion ==============================,5,2
openstack%2Fcinder~master~I32579a68371759abba7fe7e68e07af5705090ba9,openstack/cinder,master,I32579a68371759abba7fe7e68e07af5705090ba9,Tests: Split test_create_snapshot_force into two tests,ABANDONED,2021-08-11 18:57:58.000000000,2022-01-12 20:23:25.000000000,,"[{'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 18:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/629e9192b8ddb22eb4e73e0939328f07824878dc', 'message': 'Tests: Split test_create_snapshot_force into two tests\n\nThis should be two separate tests.\n\nChange-Id: I32579a68371759abba7fe7e68e07af5705090ba9\n'}, {'number': 2, 'created': '2022-01-12 16:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e6e8179ac5afb9257b7b7848e185b247b861020', 'message': 'Tests: Split test_create_snapshot_force into two tests\n\nThis should be two separate tests.\n\nChange-Id: I32579a68371759abba7fe7e68e07af5705090ba9\n'}]",2,804293,3e6e8179ac5afb9257b7b7848e185b247b861020,20,3,2,4523,,,0,"Tests: Split test_create_snapshot_force into two tests

This should be two separate tests.

Change-Id: I32579a68371759abba7fe7e68e07af5705090ba9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/804293/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_snapshot.py'],1,629e9192b8ddb22eb4e73e0939328f07824878dc,, def test_create_snapshot_force_host(self):,,1,0
openstack%2Fironic~bugfix%2F18.1~I556f8c9efbc5ab0941513c3ecaa2aa3ca7f346ae,openstack/ironic,bugfix/18.1,I556f8c9efbc5ab0941513c3ecaa2aa3ca7f346ae,Fix various issues in the anaconda deploy interface,MERGED,2021-10-28 16:18:17.000000000,2022-01-12 20:17:51.000000000,2022-01-12 20:14:04.000000000,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 12640}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 16:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8cde43b0f6bbefafed24449fb1bdb6f00fdbe71', 'message': ""Fix various issues in the anaconda deploy interface\n\nThe kickstart template expects a dictionary with 'ks_options'\nas the key. Instead build_kickstart_config_options function\nreturns a dict with keys 'liveimg_url', 'agent_token' and\n'heartbeat_url'.\n\nThis change fixes this problem by returning a dictionary of\ndict with 'ks_options' as key and the dictionary with\nkeys 'liveimg_url', 'agent_token' and heartbeat_url' as\nvalue.\n\nFix a bug where the deploy() method of anaconda deploy\ninterface where it did not return states.DEPLOYWAIT instead\nit returned 'None' which caused the instance to go straight to\n'active' instead of 'wait call-back'.\n\nFix issues in the default kickstart template where heartbeat was\nmissing 'callback_url' parameter and the HTTP method should be\n'POST' not 'PUT'.\n\nFix issues with automated cleaning when anaconda deploy interface\nis used.\n\nAnaconda deploy interface could not deploy tarballs as\nthe disk image sent to the anaconda interface via liveimg --url\nkickstart command does not include any file extension. When\nno file extension is present the kickstart command liveimg --url\nassumes the disk is a mountable partiton image. We fix this\nproblem by enabling the user to specify file extensions using\na glance image property named 'disk_file_extension' on the OS\nimage.\n\nCo-Authored-By: Ruby Loo <opensrloo@gmail.com>\nChange-Id: I556f8c9efbc5ab0941513c3ecaa2aa3ca7f346ae\n""}, {'number': 2, 'created': '2021-10-29 15:38:36.000000000', 'files': ['doc/source/admin/anaconda-deploy-interface.rst', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/drivers/modules/ks.cfg.template', 'ironic/common/pxe_utils.py', 'releasenotes/notes/fix-anaconda-deploy-interface-bfa2cfca22b04680.yaml', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/56352219c21a6bf21ef140cd6e1d645031f3024e', 'message': ""Fix various issues in the anaconda deploy interface\n\nThe kickstart template expects a dictionary with 'ks_options'\nas the key. Instead build_kickstart_config_options function\nreturns a dict with keys 'liveimg_url', 'agent_token' and\n'heartbeat_url'.\n\nThis change fixes this problem by returning a dictionary of\ndict with 'ks_options' as key and the dictionary with\nkeys 'liveimg_url', 'agent_token' and heartbeat_url' as\nvalue.\n\nFix a bug where the deploy() method of anaconda deploy\ninterface where it did not return states.DEPLOYWAIT instead\nit returned 'None' which caused the instance to go straight to\n'active' instead of 'wait call-back'.\n\nFix issues in the default kickstart template where heartbeat was\nmissing 'callback_url' parameter and the HTTP method should be\n'POST' not 'PUT'.\n\nFix issues with automated cleaning when anaconda deploy interface\nis used.\n\nAnaconda deploy interface could not deploy tarballs as\nthe disk image sent to the anaconda interface via liveimg --url\nkickstart command does not include any file extension. When\nno file extension is present the kickstart command liveimg --url\nassumes the disk is a mountable partiton image. We fix this\nproblem by enabling the user to specify file extensions using\na glance image property named 'disk_file_extension' on the OS\nimage.\n\nCo-Authored-By: Ruby Loo <opensrloo@gmail.com>\nChange-Id: I556f8c9efbc5ab0941513c3ecaa2aa3ca7f346ae\n(cherry picked from commit df99dea001772c1c6691150060d3ebbf496e5d25)\n""}]",10,815871,56352219c21a6bf21ef140cd6e1d645031f3024e,61,4,2,6618,,,0,"Fix various issues in the anaconda deploy interface

The kickstart template expects a dictionary with 'ks_options'
as the key. Instead build_kickstart_config_options function
returns a dict with keys 'liveimg_url', 'agent_token' and
'heartbeat_url'.

This change fixes this problem by returning a dictionary of
dict with 'ks_options' as key and the dictionary with
keys 'liveimg_url', 'agent_token' and heartbeat_url' as
value.

Fix a bug where the deploy() method of anaconda deploy
interface where it did not return states.DEPLOYWAIT instead
it returned 'None' which caused the instance to go straight to
'active' instead of 'wait call-back'.

Fix issues in the default kickstart template where heartbeat was
missing 'callback_url' parameter and the HTTP method should be
'POST' not 'PUT'.

Fix issues with automated cleaning when anaconda deploy interface
is used.

Anaconda deploy interface could not deploy tarballs as
the disk image sent to the anaconda interface via liveimg --url
kickstart command does not include any file extension. When
no file extension is present the kickstart command liveimg --url
assumes the disk is a mountable partiton image. We fix this
problem by enabling the user to specify file extensions using
a glance image property named 'disk_file_extension' on the OS
image.

Co-Authored-By: Ruby Loo <opensrloo@gmail.com>
Change-Id: I556f8c9efbc5ab0941513c3ecaa2aa3ca7f346ae
(cherry picked from commit df99dea001772c1c6691150060d3ebbf496e5d25)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/815871/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/anaconda-deploy-interface.rst', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/drivers/modules/ks.cfg.template', 'ironic/common/pxe_utils.py', 'releasenotes/notes/fix-anaconda-deploy-interface-bfa2cfca22b04680.yaml', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",9,e8cde43b0f6bbefafed24449fb1bdb6f00fdbe71,anaconda-deploy-driver-bugfix/18.1," params = pxe_utils.build_kickstart_config_options(task) self.assertTrue(params['ks_options'].pop('agent_token')) self.assertEqual(expected, params['ks_options']) params = {'liveimg_url': 'http://fake', 'agent_token': 'faketoken', 'heartbeat_url': 'http://fake_hb'} ks_options_mock.return_value = {'ks_options': params} render_mock.assert_called_with( image_info['ks_template'][1], {'ks_options': params} )"," ks_options = pxe_utils.build_kickstart_config_options(task) self.assertTrue(ks_options.pop('agent_token')) self.assertEqual(expected, ks_options) ks_options = {'liveimg_url': 'http://fake', 'agent_token': 'faketoken', 'heartbeat_url': 'http://fake_hb'} ks_options_mock.return_value = ks_options render_mock.assert_called_with(image_info['ks_template'][1], ks_options)",136,27
openstack%2Fopenstack-helm~master~I1905dc8f443929a03786fd01d6cf4e50ff5d3cb2,openstack/openstack-helm,master,I1905dc8f443929a03786fd01d6cf4e50ff5d3cb2,Fix transport_url,MERGED,2021-09-20 18:29:15.000000000,2022-01-12 20:11:22.000000000,2022-01-12 20:08:35.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 30858}, {'_account_id': 31746}, {'_account_id': 33130}]","[{'number': 1, 'created': '2021-09-20 18:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7db40db82c042ca0a4934f3cadeeae90b1bdd3e1', 'message': 'Fix transport_url\n\nWe have observed that omitting statefulset\non the olso_messaging values can cause octavia\nworkers to ocasionally fail with:\n\nAMQP server on rabbitmq.openstack.svc.cluster.local:5672 is unreachable:\n[Errno 104] Connection reset by peer. Trying again in 1 seconds.:\nConnectionResetError: [Errno 104] Connection reset by peer\n\nThis patch aims to keep the pattern used on the other serivces\nto setup the transport_url that includes all pods in the statefulset.\n\nChange-Id: I1905dc8f443929a03786fd01d6cf4e50ff5d3cb2\n'}, {'number': 2, 'created': '2021-09-28 12:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8fdc8c69196fcb0c89c194293c57056d1cd42839', 'message': 'Fix transport_url\n\nWe have observed that omitting statefulset\non the olso_messaging values can cause octavia\nworkers to ocasionally fail with:\n\nAMQP server on rabbitmq.openstack.svc.cluster.local:5672 is unreachable:\n[Errno 104] Connection reset by peer. Trying again in 1 seconds.:\nConnectionResetError: [Errno 104] Connection reset by peer\n\nThis patch aims to keep the pattern used on the other serivces\nto setup the transport_url that includes all pods in the statefulset.\n\nChange-Id: I1905dc8f443929a03786fd01d6cf4e50ff5d3cb2\n'}, {'number': 3, 'created': '2021-11-29 13:46:08.000000000', 'files': ['octavia/templates/configmap-etc.yaml', 'octavia/Chart.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52a3e8dffcc593333e5f32d06c7cd0c355f90b57', 'message': 'Fix transport_url\n\nWe have observed that omitting statefulset\non the olso_messaging values can cause octavia\nworkers to ocasionally fail with:\n\nAMQP server on rabbitmq.openstack.svc.cluster.local:5672 is unreachable:\n[Errno 104] Connection reset by peer. Trying again in 1 seconds.:\nConnectionResetError: [Errno 104] Connection reset by peer\n\nThis patch aims to keep the pattern used on the other serivces\nto setup the transport_url that includes all pods in the statefulset.\n\nChange-Id: I1905dc8f443929a03786fd01d6cf4e50ff5d3cb2\n'}]",2,810111,52a3e8dffcc593333e5f32d06c7cd0c355f90b57,27,9,3,28008,,,0,"Fix transport_url

We have observed that omitting statefulset
on the olso_messaging values can cause octavia
workers to ocasionally fail with:

AMQP server on rabbitmq.openstack.svc.cluster.local:5672 is unreachable:
[Errno 104] Connection reset by peer. Trying again in 1 seconds.:
ConnectionResetError: [Errno 104] Connection reset by peer

This patch aims to keep the pattern used on the other serivces
to setup the transport_url that includes all pods in the statefulset.

Change-Id: I1905dc8f443929a03786fd01d6cf4e50ff5d3cb2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/11/810111/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/Chart.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/values.yaml']",3,7db40db82c042ca0a4934f3cadeeae90b1bdd3e1,, statefulset: replicas: 2 name: rabbitmq-rabbitmq,,5,1
openstack%2Fopenstack-helm~master~Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db,openstack/openstack-helm,master,Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db,Add local_settings.d,MERGED,2021-08-04 19:54:39.000000000,2022-01-12 20:06:29.000000000,2022-01-12 20:03:55.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-08-04 19:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/56869c564c45892ec9847da108a641f2ddc0ec2a', 'message': 'Add local_settings.d\n\nChange-Id: Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db\n'}, {'number': 2, 'created': '2021-08-17 15:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8aae021241cfca54d60d837257b4e9f93257710', 'message': 'Add local_settings.d\n\nChange-Id: Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db\n'}, {'number': 3, 'created': '2021-11-01 09:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1281a8c221d98f6d82f49ab00952107238856fd', 'message': 'Add local_settings.d\n\nChange-Id: Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db\n'}, {'number': 4, 'created': '2021-12-06 07:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a53473c02d79711af762d66af9ce0991269b40b1', 'message': 'Add local_settings.d\n\nChange-Id: Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db\n'}, {'number': 5, 'created': '2022-01-10 08:48:17.000000000', 'files': ['horizon/templates/deployment.yaml', 'horizon/templates/configmap-etc.yaml', 'horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/templates/bin/_horizon.sh.tpl', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/85f2ced17f83d64f70868e8c912ea4c67ab886fe', 'message': 'Add local_settings.d\n\nChange-Id: Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db\n'}]",0,803512,85f2ced17f83d64f70868e8c912ea4c67ab886fe,19,5,5,31746,,,0,"Add local_settings.d

Change-Id: Ibf64d80a10e1bbe46bdeb931340e3f7e2c3003db
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/803512/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/deployment.yaml', 'horizon/templates/configmap-etc.yaml', 'horizon/templates/bin/_horizon.sh.tpl', 'horizon/values.yaml']",4,56869c564c45892ec9847da108a641f2ddc0ec2a,," local_settings_d: {} ## For example, _50_monasca_ui_settings.py # _50_monasca_ui_settings: | # from django.conf import settings # # Grafana button titles/file names (global across all projects): # GRAFANA_LINKS = [] # DASHBOARDS = getattr(settings, 'GRAFANA_LINKS', GRAFANA_LINKS) ",,21,1
openstack%2Fopenstack-helm-infra~master~I483cf08e09b2b56a68414f4cc3ade4c3e3cdd9aa,openstack/openstack-helm-infra,master,I483cf08e09b2b56a68414f4cc3ade4c3e3cdd9aa,[helm-toolkit] add log strings for alert generation,MERGED,2022-01-07 22:02:55.000000000,2022-01-12 19:55:00.000000000,2022-01-12 19:52:18.000000000,"[{'_account_id': 8898}, {'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24816}, {'_account_id': 31660}, {'_account_id': 32190}, {'_account_id': 32433}, {'_account_id': 33282}, {'_account_id': 33696}]","[{'number': 1, 'created': '2022-01-07 22:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a5ae4dc996257372f14612518359c2787f08e7ec', 'message': '[TEST] add log strings for alert generation\n\nChange-Id: I483cf08e09b2b56a68414f4cc3ade4c3e3cdd9aa\n'}, {'number': 2, 'created': '2022-01-07 22:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9343a8ec89508edc781214827a0cb5f0e4f9a0ca', 'message': '[TEST] add log strings for alert generation\n\nChange-Id: I483cf08e09b2b56a68414f4cc3ade4c3e3cdd9aa\n'}, {'number': 3, 'created': '2022-01-07 22:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4bc5d805b33471cb9223bda325d16a23fa5d883', 'message': '[TEST] add log strings for alert generation\n\nChange-Id: I483cf08e09b2b56a68414f4cc3ade4c3e3cdd9aa\n'}, {'number': 4, 'created': '2022-01-08 00:02:55.000000000', 'files': ['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11ac37056b1a45cdcdabe0aab239ab7fadd53b24', 'message': '[helm-toolkit] add log strings for alert generation\n\nLog string prefixes are added to different error logs\nfor the generation of alert.\n\nChange-Id: I483cf08e09b2b56a68414f4cc3ade4c3e3cdd9aa\n'}]",0,823867,11ac37056b1a45cdcdabe0aab239ab7fadd53b24,22,11,4,18236,,,0,"[helm-toolkit] add log strings for alert generation

Log string prefixes are added to different error logs
for the generation of alert.

Change-Id: I483cf08e09b2b56a68414f4cc3ade4c3e3cdd9aa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/823867/3 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl'],1,a5ae4dc996257372f14612518359c2787f08e7ec,," log ERROR ""${DB_NAME}_backup"" ""Failed to cleanup local backup. Cannot remove ${ARCHIVE_FILE}"" log_backup_error_exit ""Failed to cleanup remote backup. Could not obtain a list of current backup files in the RGW"" openstack object delete $CONTAINER_NAME $ARCHIVE_FILE || log_backup_error_exit ""Failed to cleanup remote backup. Cannot delete container object ${ARCHIVE_FILE}!"" mkdir -p $ARCHIVE_DIR || log_backup_error_exit ""Backup of the ${DB_NAME} database failed. Cannot create directory ${ARCHIVE_DIR}!"" export TMP_DIR=$(mktemp -d) || log_backup_error_exit ""Backup of the ${DB_NAME} database failed. Cannot create temp directory!"" export ERR_LOG_FILE=$(mktemp -p /tmp) || log_backup_error_exit ""Backup of the ${DB_NAME} database failed. Cannot create log file!"" cd $TMP_DIR || log_backup_error_exit ""Backup of the ${DB_NAME} database failed. Cannot change to directory $TMP_DIR"" log_backup_error_exit ""Backup ${DB_NAME} to local file system failed. Backup tarball could not be created."""," log ERROR ""${DB_NAME}_backup"" ""Cannot remove ${ARCHIVE_FILE}"" log_backup_error_exit ""Could not obtain a list of current backup files in the RGW"" openstack object delete $CONTAINER_NAME $ARCHIVE_FILE || log_backup_error_exit ""Cannot delete container object ${ARCHIVE_FILE}!"" mkdir -p $ARCHIVE_DIR || log_backup_error_exit ""Cannot create directory ${ARCHIVE_DIR}!"" export TMP_DIR=$(mktemp -d) || log_backup_error_exit ""Cannot create temp directory!"" export ERR_LOG_FILE=$(mktemp -p /tmp) || log_backup_error_exit ""Cannot create log file!"" cd $TMP_DIR || log_backup_error_exit ""Cannot change to directory $TMP_DIR"" log_backup_error_exit ""Backup tarball could not be created.""",15,8
openstack%2Fnetworking-ovn~stable%2Ftrain~Ice2f70d10ebc97485d0b60dc1de8da4c717ca2b6,openstack/networking-ovn,stable/train,Ice2f70d10ebc97485d0b60dc1de8da4c717ca2b6,Always update router static route,MERGED,2022-01-12 10:39:10.000000000,2022-01-12 19:52:30.000000000,2022-01-12 19:49:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-01-12 10:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/691cce044da2edea8d9b9691b5794d2028fafdbe', 'message': 'Always update router static route\n\n- This change fixed an issue where the update_router_routes method\nwould not execute when all static routes were removed\n\nCloses-Bug: #1860273\n(manually backported from 8c103739f6af40226c5ead22fa6f8657d51405ef)\n\nChange-Id: Ice2f70d10ebc97485d0b60dc1de8da4c717ca2b6\n'}, {'number': 2, 'created': '2022-01-12 11:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/435d0d626bfb9b3fac1592934cc07b15424ab7e4', 'message': 'Always update router static route\n\n- This change fixed an issue where the update_router_routes method\nwould not execute when all static routes were removed\n\nCloses-Bug: #1860273\n(manually backported from 8c103739f6af40226c5ead22fa6f8657d51405ef)\n\nChange-Id: Ice2f70d10ebc97485d0b60dc1de8da4c717ca2b6\n'}, {'number': 3, 'created': '2022-01-12 14:13:35.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/844ecf3ff3028db40b0b86184410f4da9c10bb7d', 'message': 'Always update router static route\n\n- This change fixed an issue where the update_router_routes method\nwould not execute when all static routes were removed\n\nCloses-Bug: #1860273\n(manually cherry picked from Neutron 8c103739f6af40226c5ead22fa6f8657d51405ef)\n\nChange-Id: Ice2f70d10ebc97485d0b60dc1de8da4c717ca2b6\n'}]",0,824375,844ecf3ff3028db40b0b86184410f4da9c10bb7d,13,5,3,32586,,,0,"Always update router static route

- This change fixed an issue where the update_router_routes method
would not execute when all static routes were removed

Closes-Bug: #1860273
(manually cherry picked from Neutron 8c103739f6af40226c5ead22fa6f8657d51405ef)

Change-Id: Ice2f70d10ebc97485d0b60dc1de8da4c717ca2b6
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/75/824375/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,691cce044da2edea8d9b9691b5794d2028fafdbe,," old_routes = utils.get_lrouter_non_gw_routes(ovn_router) added, removed = helpers.diff_list_of_dict(old_routes, routes) self.update_router_routes(context, router_id, added, removed, txn=txn)"," if routes: old_routes = utils.get_lrouter_non_gw_routes(ovn_router) added, removed = helpers.diff_list_of_dict( old_routes, routes) self.update_router_routes( context, router_id, added, removed, txn=txn)",4,6
openstack%2Fopenstack-ansible~stable%2Fwallaby~I17252c764c6fcaa29aa9d707322fa0327c9e24ef,openstack/openstack-ansible,stable/wallaby,I17252c764c6fcaa29aa9d707322fa0327c9e24ef,Add nfs deployment scenario,MERGED,2022-01-04 10:20:50.000000000,2022-01-12 19:50:14.000000000,2022-01-12 19:42:31.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-04 10:20:50.000000000', 'files': ['tests/roles/bootstrap-host/vars/redhat-8.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'tests/roles/bootstrap-host/tasks/prepare_nfs.yml', 'tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2', 'tests/roles/bootstrap-host/vars/debian.yml', 'tests/roles/bootstrap-host/vars/redhat.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a7ceff3d93ff97fcd988d3086b5d61fe1cf03b0', 'message': 'Add nfs deployment scenario\n\nIn order to reproduce NFS functional test for glance we introduce\nnew `nfs` integrated scenario that aim to deploy NFS server and\nreplace fucntional test usecase.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821097\nChange-Id: I17252c764c6fcaa29aa9d707322fa0327c9e24ef\n(cherry picked from commit 97b837826971cc8c6b5491b5227b1aca9d3966ec)\n'}]",2,823351,8a7ceff3d93ff97fcd988d3086b5d61fe1cf03b0,14,3,1,25023,,,0,"Add nfs deployment scenario

In order to reproduce NFS functional test for glance we introduce
new `nfs` integrated scenario that aim to deploy NFS server and
replace fucntional test usecase.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821097
Change-Id: I17252c764c6fcaa29aa9d707322fa0327c9e24ef
(cherry picked from commit 97b837826971cc8c6b5491b5227b1aca9d3966ec)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/823351/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/vars/redhat-8.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'tests/roles/bootstrap-host/tasks/prepare_nfs.yml', 'tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2', 'tests/roles/bootstrap-host/vars/debian.yml', 'tests/roles/bootstrap-host/vars/redhat.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'zuul.d/jobs.yaml']",10,8a7ceff3d93ff97fcd988d3086b5d61fe1cf03b0,, name: openstack-ansible-deploy-aio_nfs-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal - job: name: openstack-ansible-deploy-aio_nfs-centos-8-stream parent: openstack-ansible-deploy-aio nodeset: centos-8-stream - job:,,148,0
openstack%2Fpython-swiftclient~master~Id2a58a085f58b0bf17eda636593bb482d614c245,openstack/python-swiftclient,master,Id2a58a085f58b0bf17eda636593bb482d614c245,Fix copy.py example.,MERGED,2022-01-12 09:20:17.000000000,2022-01-12 19:47:02.000000000,2022-01-12 19:32:30.000000000,"[{'_account_id': 6476}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 09:20:17.000000000', 'files': ['examples/copy.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/4989d94663b59eac34b7cd5dfaa7e673fc73e862', 'message': 'Fix copy.py example.\n\nChange-Id: Id2a58a085f58b0bf17eda636593bb482d614c245\n'}]",1,824361,4989d94663b59eac34b7cd5dfaa7e673fc73e862,8,3,1,33357,,,0,"Fix copy.py example.

Change-Id: Id2a58a085f58b0bf17eda636593bb482d614c245
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/61/824361/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/copy.py'],1,4989d94663b59eac34b7cd5dfaa7e673fc73e862,," obj = SwiftCopyObject(""c"", {""destination"": ""/cont/d""}) {""meta"": [""foo:bar""], ""destination"": ""/cc""}): elif i[""action""] == ""create_container"":"," obj = SwiftCopyObject(""c"", {""Destination"": ""/cont/d""}) {""meta"": [""foo:bar""], ""Destination"": ""/cc""}): if i[""action""] == ""create_container"":",3,3
openstack%2Fdevstack~master~I41cc954120dc9ec10831ae3729b211da769e596c,openstack/devstack,master,I41cc954120dc9ec10831ae3729b211da769e596c,Don't use OSC table output,ABANDONED,2017-06-07 20:20:41.000000000,2022-01-12 19:21:06.000000000,,"[{'_account_id': 970}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-06-07 20:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5af063b66753604ea49f678bce972c86c963bc3d', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 2, 'created': '2017-06-07 20:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4969ea83acaff10e8e59f467c8b765e6e7e45fb5', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 3, 'created': '2017-06-07 22:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e447ca090efe7a2b3414e0dbbb28d0f2dfadb41e', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 4, 'created': '2017-06-07 23:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/36bf6a831154003c52163f3b7d67c8e6a352892d', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 5, 'created': '2017-06-08 16:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c267090912be4d09fa0495be5fe2f923c84ae50b', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 6, 'created': '2017-06-08 17:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4331e6d2c68aa40eb317ed77ac1f9baffc58867', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 7, 'created': '2017-06-08 18:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7797cf16c09d94b614445f521c765c7171eea6a9', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 8, 'created': '2017-06-08 18:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9bca3b6caa22955a8a1caaef420efc525dd07654', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 9, 'created': '2017-06-08 20:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5fada3628f26a91476fd8653d8a6d3be3cf5fde3', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}, {'number': 10, 'created': '2017-06-13 22:54:03.000000000', 'files': ['lib/neutron_plugins/services/l3', 'lib/cinder', 'functions', 'lib/nova', 'functions-common', 'tools/create_userrc.sh', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d291c00d8d0a5f54799322ea21b8c178b65128cf', 'message': ""Don't use OSC table output\n\nThe OSC table output can be quite slow. Avoid it as much as possible to\nspeed up the cost of running openstackclient.\n\nDepends-On: Ic5f1844ce732d447ee980b3c9fdc417f72482609\nChange-Id: I41cc954120dc9ec10831ae3729b211da769e596c\n""}]",11,471900,d291c00d8d0a5f54799322ea21b8c178b65128cf,50,8,10,4146,,,0,"Don't use OSC table output

The OSC table output can be quite slow. Avoid it as much as possible to
speed up the cost of running openstackclient.

Depends-On: Ic5f1844ce732d447ee980b3c9fdc417f72482609
Change-Id: I41cc954120dc9ec10831ae3729b211da769e596c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/00/471900/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/services/l3', 'lib/cinder', 'functions', 'lib/nova', 'functions-common', 'lib/swift', 'tools/create_userrc.sh', 'lib/tempest']",8,5af063b66753604ea49f678bce972c86c963bc3d,faster-osc, # TODO(clarkb) make above openstack command use -f csv # TODO(clarkb) make openstack command use -f csv openstack flavor create -f value --id 42 --ram 64 --disk 0 --vcpus 1 m1.nano openstack flavor create -f value --id 84 --ram 128 --disk 0 --vcpus 1 m1.micro, openstack flavor create --id 42 --ram 64 --disk 0 --vcpus 1 m1.nano openstack flavor create --id 84 --ram 128 --disk 0 --vcpus 1 m1.micro,85,54
openstack%2Fopenstack-zuul-jobs~master~If84552b6edf22bae6da95a24d0d010901964f981,openstack/openstack-zuul-jobs,master,If84552b6edf22bae6da95a24d0d010901964f981,Enable support for fips on the jobs,MERGED,2021-11-05 15:32:04.000000000,2022-01-12 19:06:59.000000000,2022-01-12 18:59:04.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 15:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1a2eb7812f0f5b709368bdaeaa60af5fd2b53cca', 'message': 'Enable support for fips on the jobs\n\nFIPS needs to be enabled before test-setup is run, as enabling\nFIPS requires the node to be rebooted, test-setup needs to run and\nsetup the environment after the reboot.\nUpdating openstack-tox to inherit from tox-fips and setting\nenable-fips as false.\n\nChange-Id: If84552b6edf22bae6da95a24d0d010901964f981\n'}, {'number': 2, 'created': '2021-11-05 15:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4f997634dacfd1eb1abe99238f0378300e6372fd', 'message': 'Enable support for fips on the jobs\n\nFIPS needs to be enabled before test-setup is run, as enabling\nFIPS requires the node to be rebooted, test-setup needs to run and\nsetup the environment after the reboot.\nUpdating openstack-tox to inherit from tox-fips and setting\nenable-fips as false.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/816385\nChange-Id: If84552b6edf22bae6da95a24d0d010901964f981\n'}, {'number': 3, 'created': '2021-11-05 16:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/31c3d7cda515f97ae2f43bcfbe22edd987ceaf98', 'message': 'Enable support for fips on the jobs\n\nFIPS needs to be enabled before test-setup is run, as enabling\nFIPS requires the node to be rebooted, test-setup needs to run and\nsetup the environment after the reboot.\nUpdating openstack-tox to inherit from tox-fips and setting\nenable-fips as false.\n\nChange-Id: If84552b6edf22bae6da95a24d0d010901964f981\n'}, {'number': 4, 'created': '2021-11-05 16:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/33247c806f4f4da6ca1eb7e4bac8b22c50fb9c08', 'message': 'Enable support for fips on the jobs\n\nFIPS needs to be enabled before test-setup is run, as enabling\nFIPS requires the node to be rebooted, test-setup needs to run and\nsetup the environment after the reboot.\nUpdating openstack-tox to inherit from tox-fips and setting\nenable-fips as false.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/816385\nChange-Id: If84552b6edf22bae6da95a24d0d010901964f981\n'}, {'number': 5, 'created': '2021-12-09 00:29:40.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d63150602d211987b2c87e7ef7fc6c66181f69d7', 'message': 'Enable support for fips on the jobs\n\nFIPS needs to be enabled before test-setup is run, as enabling\nFIPS requires the node to be rebooted, test-setup needs to run and\nsetup the environment after the reboot.\nUpdating openstack-tox to inherit from tox-fips and setting\nenable-fips as false.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/816385\nChange-Id: If84552b6edf22bae6da95a24d0d010901964f981\n'}]",4,816855,d63150602d211987b2c87e7ef7fc6c66181f69d7,18,3,5,34120,,,0,"Enable support for fips on the jobs

FIPS needs to be enabled before test-setup is run, as enabling
FIPS requires the node to be rebooted, test-setup needs to run and
setup the environment after the reboot.
Updating openstack-tox to inherit from tox-fips and setting
enable-fips as false.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/816385
Change-Id: If84552b6edf22bae6da95a24d0d010901964f981
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/55/816855/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,1a2eb7812f0f5b709368bdaeaa60af5fd2b53cca,fips-jobs, parent: tox-fips enable_fips: false, parent: tox,2,1
openstack%2Fkolla-ansible~master~I8091817939b976fbd5e44a9640b573cc112a0525,openstack/kolla-ansible,master,I8091817939b976fbd5e44a9640b573cc112a0525,[CI] Test that Cinder can create volume from image,MERGED,2021-10-17 19:59:13.000000000,2022-01-12 19:03:50.000000000,2022-01-12 18:57:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-17 19:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c42d91d22306bc89ae94266aeb731ea8faa7d099', 'message': '[CI] Test that Cinder can create volume from image\n\nTo catch early issues like [1].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1947518\n\nChange-Id: I8091817939b976fbd5e44a9640b573cc112a0525\n'}, {'number': 2, 'created': '2021-10-18 17:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2a0fd58488b4ef5a719fa10ba3b4ba9ed8fec9e', 'message': '[CI] Test that Cinder can create volume from image\n\nTo catch early issues like [1].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1947518\n\nChange-Id: I8091817939b976fbd5e44a9640b573cc112a0525\n'}, {'number': 3, 'created': '2021-10-18 17:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92750d5ea1aa4494da22b11952d2a81d102f6fa4', 'message': '[CI] Test that Cinder can create volume from image\n\nTo catch early issues like [1].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1947518\n\nChange-Id: I8091817939b976fbd5e44a9640b573cc112a0525\n'}, {'number': 4, 'created': '2022-01-12 09:41:40.000000000', 'files': ['tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea014b203c597151ba071248af80cb3a2048de89', 'message': '[CI] Test that Cinder can create volume from image\n\nTo catch early issues like [1].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1947518\n\nChange-Id: I8091817939b976fbd5e44a9640b573cc112a0525\n'}]",9,814324,ea014b203c597151ba071248af80cb3a2048de89,28,4,4,30491,,,0,"[CI] Test that Cinder can create volume from image

To catch early issues like [1].

[1] https://bugs.launchpad.net/cinder/+bug/1947518

Change-Id: I8091817939b976fbd5e44a9640b573cc112a0525
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/814324/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-core-openstack.sh'],1,c42d91d22306bc89ae94266aeb731ea8faa7d099,ci-test-volume-from-image,"function create_a_volume_from_image { local volume_name=$1 local image_name=$2 local attempt openstack volume create --image $image_name --size 2 $volume_name attempt=1 while [[ $(openstack volume show $volume_name -f value -c status) != ""available"" ]]; do echo ""Volume $volume_name not available yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume $volume_name failed to become available"" openstack volume show $volume_name return 1 fi sleep 10 done } create_a_volume_from_image test_volume_from_image cirros openstack volume show test_volume_from_image attach_and_detach_a_volume test_volume_from_image kolla_boot_test delete_a_volume test_volume_from_image ",,25,0
openstack%2Fopenstack-ansible-os_tempest~master~I804bf03f7e459a5e572fc55d1d40c3ba45d2d736,openstack/openstack-ansible-os_tempest,master,I804bf03f7e459a5e572fc55d1d40c3ba45d2d736,Enable recursion in combine() filter,MERGED,2022-01-11 18:21:01.000000000,2022-01-12 18:50:26.000000000,2022-01-12 18:47:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 18:21:01.000000000', 'files': ['tasks/tempestconf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d6303c9343ed919d6567c62204c9db86791750ac', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: I804bf03f7e459a5e572fc55d1d40c3ba45d2d736\n""}]",1,824220,d6303c9343ed919d6567c62204c9db86791750ac,10,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: I804bf03f7e459a5e572fc55d1d40c3ba45d2d736
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/20/824220/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempestconf.yml'],1,d6303c9343ed919d6567c62204c9db86791750ac,combine-filter-recursion," content: ""{{ tempest_tempestconf_profile | combine(tempest_tempestconf_profile_extras, recursive=True) | to_nice_yaml }}"""," content: ""{{ tempest_tempestconf_profile | combine(tempest_tempestconf_profile_extras) | to_nice_yaml }}""",1,1
openstack%2Fpuppet-neutron~master~Iabcc24fb05f88760f9f7b806cc3baa86aff416f4,openstack/puppet-neutron,master,Iabcc24fb05f88760f9f7b806cc3baa86aff416f4,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:51:19.000000000,2022-01-12 18:49:18.000000000,2022-01-12 18:49:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:51:19.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b2f39ce9cc4e171f983c0967a59fe998c60bd958', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: Iabcc24fb05f88760f9f7b806cc3baa86aff416f4\n""}]",0,824121,b2f39ce9cc4e171f983c0967a59fe998c60bd958,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: Iabcc24fb05f88760f9f7b806cc3baa86aff416f4
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/21/824121/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,b2f39ce9cc4e171f983c0967a59fe998c60bd958,wsgi-dep, Anchor['neutron::install::end'] -> Class['apache'] ," require => Anchor['neutron::install::end'],",2,1
openstack%2Fironic~master~I1d93eed1240fbb2ae6598699bad9914f44171e8e,openstack/ironic,master,I1d93eed1240fbb2ae6598699bad9914f44171e8e,Use mtools mcopy in create_vfat_image,MERGED,2022-01-10 22:37:29.000000000,2022-01-12 18:44:42.000000000,2022-01-12 18:39:38.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-10 22:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7cd28e369b9a65e723b66cd2ba5d4e09f34feed', 'message': 'Use mtools mcopy in create_vfat_image\n\nThis change replaces the mount/unmount calls with a single mcopy call\nto populate the vfat image with the contents of the populated temp\ndirectory.\n\nThis means create_vfat_image can now run without any elevated\nprivilages.\n\nChange-Id: I1d93eed1240fbb2ae6598699bad9914f44171e8e\nStory: 2009704\nTask: 44034\n'}, {'number': 2, 'created': '2022-01-10 22:41:44.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'bindep.txt', 'ironic/common/images.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3805b2bea404cf6b831a3262e2602db72324616', 'message': 'Use mtools mcopy in create_vfat_image\n\nThis change replaces the mount/unmount calls with a single mcopy call\nto populate the vfat image with the contents of the populated temp\ndirectory.\n\nThis means create_vfat_image can now run without any elevated\nprivilages.\n\nChange-Id: I1d93eed1240fbb2ae6598699bad9914f44171e8e\nStory: 2009704\nTask: 44034\n'}]",1,824075,c3805b2bea404cf6b831a3262e2602db72324616,18,3,2,4571,,,0,"Use mtools mcopy in create_vfat_image

This change replaces the mount/unmount calls with a single mcopy call
to populate the vfat image with the contents of the populated temp
directory.

This means create_vfat_image can now run without any elevated
privilages.

Change-Id: I1d93eed1240fbb2ae6598699bad9914f44171e8e
Story: 2009704
Task: 44034
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/824075/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'bindep.txt', 'ironic/common/images.py']",3,a7cd28e369b9a65e723b66cd2ba5d4e09f34feed,images-mtools," # TODO(sbaker): use ironic_lib.utils.dd when rootwrap has been removed utils.execute('dd', 'if=/dev/zero', 'of=%s' % output_file, 'count=1', 'bs=%dKiB' % fs_size_kib) # TODO(sbaker): use ironic_lib.utils.mkfs when rootwrap has been # removed utils.execute('mkfs', '-t', 'vfat', '-n', 'ir-vfd-de', output_file) # use mtools to copy the files into the image in a single # operation utils.execute('mcopy', '-s', '%s/*' % tmpdir, '-i', output_file, '::') ","from ironic_lib import utils as ironic_utils ironic_utils.dd('/dev/zero', output_file, 'count=1', ""bs=%dKiB"" % fs_size_kib) ironic_utils.mkfs('vfat', output_file, label=""ir-vfd-dev"") utils.mount(output_file, tmpdir, '-o', 'umask=0') finally: try: utils.umount(tmpdir) except processutils.ProcessExecutionError as e: raise exception.ImageCreationFailed(image_type='vfat', error=e) ",27,73
openstack%2Fopenstack-zuul-jobs~master~I7e196f6b3b2bf785b8a94bb04de7062da3042b34,openstack/openstack-zuul-jobs,master,I7e196f6b3b2bf785b8a94bb04de7062da3042b34,Remove centos-8,MERGED,2022-01-11 21:02:04.000000000,2022-01-12 18:42:51.000000000,2022-01-12 18:35:10.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 21:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/376be23641123feb08639a5b697249b17a003bbe', 'message': 'Remove centos-8\n\nThis removes wheel build jobs for centos-8 (we already have them for\n-stream) and convers the openafs package builds over to centos-8-stream.\n\nChange-Id: I7e196f6b3b2bf785b8a94bb04de7062da3042b34\n'}, {'number': 2, 'created': '2022-01-11 21:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ba88e671af213f48aa3bf455d282428bd82917a0', 'message': 'Remove centos-8\n\nThis removes wheel build jobs for centos-8 (we already have them for\n-stream) and convers the openafs package builds over to centos-8-stream.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/824243\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824240\nChange-Id: I7e196f6b3b2bf785b8a94bb04de7062da3042b34\n'}, {'number': 3, 'created': '2022-01-11 22:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/cfac25cfb0f0c997b632bf0d472a203b24926e59', 'message': 'Remove centos-8\n\nThis removes wheel build jobs for centos-8 (we already have them for\n-stream) and convers the openafs package builds over to centos-8-stream.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/824243\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824258\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824257\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824256\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824240\nChange-Id: I7e196f6b3b2bf785b8a94bb04de7062da3042b34\n'}, {'number': 4, 'created': '2022-01-11 23:21:42.000000000', 'files': ['roles/openafs-rpm-package-build/tasks/main.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/openafs-rpm-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/eaa4324e6dc99082da1b613ee3f325add96ae49a', 'message': 'Remove centos-8\n\nThis removes wheel build jobs for centos-8 (we already have them for\n-stream) and convers the openafs package builds over to centos-8-stream.\n\nThis bumps the openafs version to try and accomodate the changes to the\nstream kernel on aarch64.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/824243\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824258\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824257\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824256\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824240\nChange-Id: I7e196f6b3b2bf785b8a94bb04de7062da3042b34\n'}]",1,824236,eaa4324e6dc99082da1b613ee3f325add96ae49a,18,3,4,4146,,,0,"Remove centos-8

This removes wheel build jobs for centos-8 (we already have them for
-stream) and convers the openafs package builds over to centos-8-stream.

This bumps the openafs version to try and accomodate the changes to the
stream kernel on aarch64.

Depends-On: https://review.opendev.org/c/openstack/project-config/+/824243
Depends-On: https://review.opendev.org/c/openstack/requirements/+/824258
Depends-On: https://review.opendev.org/c/openstack/requirements/+/824257
Depends-On: https://review.opendev.org/c/openstack/requirements/+/824256
Depends-On: https://review.opendev.org/c/openstack/requirements/+/824240
Change-Id: I7e196f6b3b2bf785b8a94bb04de7062da3042b34
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/36/824236/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/openafs-rpm-package-build/publish.yaml']",3,376be23641123feb08639a5b697249b17a003bbe,remove-centos-8, download_artifact_job: openafs-rpm-package-build-centos-8-stream-x86 # Keep this old path for backward compat - name: Extract centos 8 x86 stream unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos8-stream' download_artifact_job: openafs-rpm-package-build-centos-8-stream-arm64 # Keep this old path for backward compat - name: Extract centos 8 arm64 stream unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos8-stream' , download_artifact_job: openafs-rpm-package-build-centos-8-x86 download_artifact_job: openafs-rpm-package-build-centos-8-arm64,22,44
openstack%2Fkuryr-tempest-plugin~master~I7c716dd11f4ed14a31fd5d5aa4706db136cbbeed,openstack/kuryr-tempest-plugin,master,I7c716dd11f4ed14a31fd5d5aa4706db136cbbeed,Fix check_controller_pod_status_for_time_period(),MERGED,2022-01-05 16:33:25.000000000,2022-01-12 18:21:59.000000000,2022-01-12 18:19:11.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-01-05 16:33:25.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f79bb312b9b3b8cdc71d119002e1e1ca872a64ee', 'message': ""Fix check_controller_pod_status_for_time_period()\n\nThe method has the status parameter but then it's not being used\nto compare with the obtained status, as 'Running' is always used.\n\nThis change replaces the hardcoded status with the status parameter.\n\nChange-Id: I7c716dd11f4ed14a31fd5d5aa4706db136cbbeed\n""}]",0,823561,f79bb312b9b3b8cdc71d119002e1e1ca872a64ee,8,5,1,27086,,,0,"Fix check_controller_pod_status_for_time_period()

The method has the status parameter but then it's not being used
to compare with the obtained status, as 'Running' is always used.

This change replaces the hardcoded status with the status parameter.

Change-Id: I7c716dd11f4ed14a31fd5d5aa4706db136cbbeed
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/61/823561/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,f79bb312b9b3b8cdc71d119002e1e1ca872a64ee,fix_base_method," self.assertEqual(status, self.get_pod_status("," self.assertEqual(""Running"", self.get_pod_status(",1,1
openstack%2Fos-ken~master~I12e9b23749e40f56e947377409ff2882adc25205,openstack/os-ken,master,I12e9b23749e40f56e947377409ff2882adc25205,Avoid logging MD5 password for BGP add neighbor,MERGED,2022-01-11 16:53:10.000000000,2022-01-12 18:21:17.000000000,2022-01-11 22:04:26.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 16:53:10.000000000', 'files': ['os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/974ccdabd2799611363b5a3404c00fe32a6b78fb', 'message': 'Avoid logging MD5 password for BGP add neighbor\n\nChange-Id: I12e9b23749e40f56e947377409ff2882adc25205\nStory: 2009779\nTask: 44260\n'}]",3,824215,974ccdabd2799611363b5a3404c00fe32a6b78fb,10,3,1,8313,,,0,"Avoid logging MD5 password for BGP add neighbor

Change-Id: I12e9b23749e40f56e947377409ff2882adc25205
Story: 2009779
Task: 44260
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/15/824215/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/api/base.py'],1,974ccdabd2799611363b5a3404c00fe32a6b78fb,story/2009779," LOG.info( ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))"," LOG.info(""API method %s called with args: %s"", symbol, str(kwargs))",4,1
openstack%2Fpuppet-ironic~master~I8a15ccf292b5f7cd90bb45624780f0ef012abe38,openstack/puppet-ironic,master,I8a15ccf292b5f7cd90bb45624780f0ef012abe38,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:45:25.000000000,2022-01-12 18:16:32.000000000,2022-01-12 18:16:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:45:25.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a44fa9b8d172dc6a13c8cf9bcf1262d96c26cd40', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I8a15ccf292b5f7cd90bb45624780f0ef012abe38\n""}]",0,824114,a44fa9b8d172dc6a13c8cf9bcf1262d96c26cd40,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I8a15ccf292b5f7cd90bb45624780f0ef012abe38
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/14/824114/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,a44fa9b8d172dc6a13c8cf9bcf1262d96c26cd40,wsgi-dep, Anchor['ironic::install::end'] -> Class['apache'] ," require => Anchor['ironic::install::end'],",2,1
openstack%2Fpuppet-placement~master~I43599cd9ad217b78da3d7c86ed106f6fc57c58f2,openstack/puppet-placement,master,I43599cd9ad217b78da3d7c86ed106f6fc57c58f2,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:13:57.000000000,2022-01-12 18:03:54.000000000,2022-01-12 18:03:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/212ead1d5eaaae50add9a7270514ed11372b5bb6', 'message': 'WIP: Check explicit dependency\n\nChange-Id: I43599cd9ad217b78da3d7c86ed106f6fc57c58f2\n'}, {'number': 2, 'created': '2022-01-11 09:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/6e51ad3021358ee16a9f83166bfac40ccbe0c356', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I43599cd9ad217b78da3d7c86ed106f6fc57c58f2\n""}, {'number': 3, 'created': '2022-01-11 09:59:13.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/441093739fb9437116a9efc14a625b753b9dc69b', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I43599cd9ad217b78da3d7c86ed106f6fc57c58f2\n""}]",2,824102,441093739fb9437116a9efc14a625b753b9dc69b,13,3,3,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I43599cd9ad217b78da3d7c86ed106f6fc57c58f2
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/02/824102/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,212ead1d5eaaae50add9a7270514ed11372b5bb6,wsgi-dep, Anchor['placement::install::end'] -> Class['apache'] ," require => Anchor['placement::install::end'],",2,1
openstack%2Fnova~stable%2Fwallaby~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/wallaby,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,MERGED,2021-12-16 08:30:27.000000000,2022-01-12 18:02:30.000000000,2022-01-12 17:46:53.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32349}, {'_account_id': 33608}, {'_account_id': 33987}]","[{'number': 1, 'created': '2021-12-16 08:30:27.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94f17be190cce060ba8afcafbade4247b27b86f0', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n'}]",4,821943,94f17be190cce060ba8afcafbade4247b27b86f0,16,7,1,9708,,,0,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/821943/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,94f17be190cce060ba8afcafbade4247b27b86f0,bug/1953359,"from nova.compute import manager orig_finish_resize = manager.ComputeManager.finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the instance should be # pinned to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology # on the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) # now let the resize finishes return orig_finish_resize(*args, **kwargs) 'nova.compute.manager.ComputeManager.finish_resize', new=fake_finish_resize, ): # this is expected to succeed but logs are emitted # from the racing periodic task. See fake_finish_resize # for the asserts server = self._wait_for_state_change(server, 'VERIFY_RESIZE') # as the periodic job raced and failed during the resize if we revert # the instance now then it tries to unpin its cpus from the dest host # but those was never pinned as the periodic failed. So the unpinning # will fail too. post = {'revertResize': {}} ex = self.assertRaises( client.OpenStackApiException, self.admin_api.post_server_action, server['id'], post # This is still bug 1953359. self.assertEqual(500, ex.response.status_code) server = self.api.get_server(server['id']) self.assertEqual('ERROR', server['status']) 'nova.exception.CPUUnpinningInvalid: CPU set to unpin [1] must be ' 'a subset of pinned CPU set [0]', self.stdlog.logger.output,"," 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log,",45,17
openstack%2Fnova~stable%2Fwallaby~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/wallaby,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,MERGED,2021-12-06 16:22:32.000000000,2022-01-12 17:57:04.000000000,2022-01-12 17:46:46.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32349}, {'_account_id': 33608}]","[{'number': 1, 'created': '2021-12-06 16:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/696197cf55eabf09be0eee2db27b85a4360d51e1', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit e94e7f218288a61c6bc7dcdec66463960b3a1bab)\n'}, {'number': 2, 'created': '2021-12-16 08:29:14.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8859e4f95f5abb20c844d914f2716cba047630e', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n'}]",2,820554,d8859e4f95f5abb20c844d914f2716cba047630e,15,6,2,9708,,,0,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/820554/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,696197cf55eabf09be0eee2db27b85a4360d51e1,bug/1953359," def test_resize_dedicated_policy_race_on_dest_bug_1953359(self): self.flags(cpu_dedicated_set='0-2', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=2, cpu_threads=1) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', } flavor_id = self._create_flavor(vcpu=1, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 1} server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) # assert that the pcpu 0 is used on compute1 self.assertEqual({'0': 0}, inst.numa_topology.cells[0].cpu_pinning_raw) # start another compute with the same config self.start_compute(host_info=host_info, hostname='compute2') # boot another instance but now on compute2 so that it occupies the # pcpu 0 on compute2 # NOTE(gibi): _run_build_test cannot be used here as it assumes only # compute1 exists server2 = self._create_server( flavor_id=flavor_id, host='compute2', ) inst2 = objects.Instance.get_by_uuid(self.ctxt, server2['id']) self.assertEqual(1, len(inst2.numa_topology.cells)) # assert that the pcpu 0 is used self.assertEqual( {'0': 0}, inst2.numa_topology.cells[0].cpu_pinning_raw) # migrate the first instance from compute1 to compute2 but stop # migrating at the start of finish_resize. Then start a racing periodic # update_available_resources. def fake_finish_resize(*args, **kwargs): # start a racing update_available_resource periodic self._run_periodics() # we expect it that CPU pinning fails on the destination node # as the resource_tracker will use the source node numa_topology # and that does not fit to the dest node as pcpu 0 in the dest # is already occupied. # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}'): with mock.patch( 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize post = {'migrate': None} self.admin_api.post_server_action(server['id'], post) log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) ",,90,1
openstack%2Fpuppet-heat~master~I3f8346d8df6c60b36e2abe281e87163b1e2837e6,openstack/puppet-heat,master,I3f8346d8df6c60b36e2abe281e87163b1e2837e6,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:43:53.000000000,2022-01-12 17:50:03.000000000,2022-01-12 17:50:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:43:53.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/fdaced52dc2df47dcd14de28aebe99124fd8926c', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I3f8346d8df6c60b36e2abe281e87163b1e2837e6\n""}]",0,824113,fdaced52dc2df47dcd14de28aebe99124fd8926c,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I3f8346d8df6c60b36e2abe281e87163b1e2837e6
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/13/824113/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,fdaced52dc2df47dcd14de28aebe99124fd8926c,wsgi-dep, Anchor['heat::install::end'] -> Class['apache'] ," require => Anchor['heat::install::end'],",2,1
openstack%2Fpuppet-horizon~stable%2Fwallaby~I1f67c00a737ebea6f965c92a923652632641528d,openstack/puppet-horizon,stable/wallaby,I1f67c00a737ebea6f965c92a923652632641528d,Handle string value for LAUNCH_INSTANCE_DEFAULTS,MERGED,2022-01-11 11:35:00.000000000,2022-01-12 17:43:31.000000000,2022-01-12 17:43:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 11:35:00.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/0d93c965e62c7c72fc1da7d1ea99509c45b4a070', 'message': 'Handle string value for LAUNCH_INSTANCE_DEFAULTS\n\nDuring Wallaby cylce, the new default_availablility_zone parameter\nwas added to LAUNCH_INSTANCE_DEFAULTS[1]. This parameter takes a string\nvalue and the value should be surrounded by \' (or "") when it is put\ninto local_settings.\n\nThis change makes sure that a string value is properly formatted.\n\n[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef\n\nChange-Id: I1f67c00a737ebea6f965c92a923652632641528d\n(cherry picked from commit f20fa4ab83212d92cdeff415c3ef500c3b7c65e4)\n(cherry picked from commit 8b9d999bf212aa65f4ff23920df85347946be346)\n'}]",0,824024,0d93c965e62c7c72fc1da7d1ea99509c45b4a070,7,3,1,9816,,,0,"Handle string value for LAUNCH_INSTANCE_DEFAULTS

During Wallaby cylce, the new default_availablility_zone parameter
was added to LAUNCH_INSTANCE_DEFAULTS[1]. This parameter takes a string
value and the value should be surrounded by ' (or "") when it is put
into local_settings.

This change makes sure that a string value is properly formatted.

[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef

Change-Id: I1f67c00a737ebea6f965c92a923652632641528d
(cherry picked from commit f20fa4ab83212d92cdeff415c3ef500c3b7c65e4)
(cherry picked from commit 8b9d999bf212aa65f4ff23920df85347946be346)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/24/824024/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,0d93c965e62c7c72fc1da7d1ea99509c45b4a070,default_availability_zone-stable/xena-stable/wallaby," <%- if opt_val.kind_of?(String) -%> '<%= opt_name -%>': '<%= opt_val -%>', <%- else -%> <%-end-%>",,4,0
openstack%2Fpuppet-horizon~stable%2Fxena~I1f67c00a737ebea6f965c92a923652632641528d,openstack/puppet-horizon,stable/xena,I1f67c00a737ebea6f965c92a923652632641528d,Handle string value for LAUNCH_INSTANCE_DEFAULTS,MERGED,2022-01-11 11:34:38.000000000,2022-01-12 17:43:29.000000000,2022-01-12 17:43:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 11:34:38.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/8b9d999bf212aa65f4ff23920df85347946be346', 'message': 'Handle string value for LAUNCH_INSTANCE_DEFAULTS\n\nDuring Wallaby cylce, the new default_availablility_zone parameter\nwas added to LAUNCH_INSTANCE_DEFAULTS[1]. This parameter takes a string\nvalue and the value should be surrounded by \' (or "") when it is put\ninto local_settings.\n\nThis change makes sure that a string value is properly formatted.\n\n[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef\n\nChange-Id: I1f67c00a737ebea6f965c92a923652632641528d\n(cherry picked from commit f20fa4ab83212d92cdeff415c3ef500c3b7c65e4)\n'}]",0,824023,8b9d999bf212aa65f4ff23920df85347946be346,7,3,1,9816,,,0,"Handle string value for LAUNCH_INSTANCE_DEFAULTS

During Wallaby cylce, the new default_availablility_zone parameter
was added to LAUNCH_INSTANCE_DEFAULTS[1]. This parameter takes a string
value and the value should be surrounded by ' (or "") when it is put
into local_settings.

This change makes sure that a string value is properly formatted.

[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef

Change-Id: I1f67c00a737ebea6f965c92a923652632641528d
(cherry picked from commit f20fa4ab83212d92cdeff415c3ef500c3b7c65e4)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/23/824023/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,8b9d999bf212aa65f4ff23920df85347946be346,default_availability_zone-stable/xena," <%- if opt_val.kind_of?(String) -%> '<%= opt_name -%>': '<%= opt_val -%>', <%- else -%> <%-end-%>",,4,0
openstack%2Fpuppet-horizon~master~I781bcac250ac55b5fd3df2faa32891afb1461687,openstack/puppet-horizon,master,I781bcac250ac55b5fd3df2faa32891afb1461687,Make sure cache_server_ip is not empty,MERGED,2022-01-11 01:19:43.000000000,2022-01-12 17:43:27.000000000,2022-01-12 17:43:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/582086d9257e6672a304287c7e484e861110bfd9', 'message': 'Make sure cache_server_ip is not empty\n\nCloses-Bug: #1644434\nChange-Id: I781bcac250ac55b5fd3df2faa32891afb1461687\n'}, {'number': 2, 'created': '2022-01-11 01:21:50.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/da4b549f6ab66ea0bf411d319c7fd44570557eee', 'message': 'Make sure cache_server_ip is not empty\n\nCloses-Bug: #1644434\nChange-Id: I781bcac250ac55b5fd3df2faa32891afb1461687\n'}]",1,824079,da4b549f6ab66ea0bf411d319c7fd44570557eee,10,3,2,9816,,,0,"Make sure cache_server_ip is not empty

Closes-Bug: #1644434
Change-Id: I781bcac250ac55b5fd3df2faa32891afb1461687
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/79/824079/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,582086d9257e6672a304287c7e484e861110bfd9,bug/1644434, <% if @cache_server_ip and !(@cache_server_ip.empty?) %>, <% if @cache_server_ip %>,1,1
openstack%2Fpuppet-cinder~master~Ica38497337a6ae1c4f9f73cde7017551678daead,openstack/puppet-cinder,master,Ica38497337a6ae1c4f9f73cde7017551678daead,barbican_service_user: Accept system scope credential,MERGED,2022-01-08 03:26:56.000000000,2022-01-12 17:37:18.000000000,2022-01-12 17:34:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 03:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/80b47c34e6808a82b28d95ca9be2d2a6a208adc1', 'message': 'barbican_service_user: Accept system scope credential\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials, to use service user token when accessing\nBarbican API.\n\nDepends-on: https://review.opendev.org/823883\nChange-Id: Ica38497337a6ae1c4f9f73cde7017551678daead\n'}, {'number': 2, 'created': '2022-01-12 04:42:08.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'spec/classes/cinder_key_manager_barbican_service_user_spec.rb', 'releasenotes/notes/system_scope-barbican_service_user-8b435777fa3757d2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/481d43397cafc633d02b1482a3bfd081e4061a7c', 'message': 'barbican_service_user: Accept system scope credential\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials, to use service user token when accessing\nBarbican API.\n\nDepends-on: https://review.opendev.org/823883\nChange-Id: Ica38497337a6ae1c4f9f73cde7017551678daead\n'}]",0,823884,481d43397cafc633d02b1482a3bfd081e4061a7c,11,3,2,9816,,,0,"barbican_service_user: Accept system scope credential

This change allows usage of system scope credentials in addition to
project scope credentials, to use service user token when accessing
Barbican API.

Depends-on: https://review.opendev.org/823883
Change-Id: Ica38497337a6ae1c4f9f73cde7017551678daead
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/84/823884/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'spec/classes/cinder_key_manager_barbican_service_user_spec.rb', 'releasenotes/notes/system_scope-barbican_service_user-8b435777fa3757d2.yaml']",3,80b47c34e6808a82b28d95ca9be2d2a6a208adc1,system-scope-params,--- features: - | The ``cinder::key_manager::barbican::service_user`` class now supports the ``system_scope`` parameter. ,,14,0
openstack%2Fpuppet-cinder~stable%2Fxena~I83bfbddbbc6cd98aa90621c3db2afc9afde16859,openstack/puppet-cinder,stable/xena,I83bfbddbbc6cd98aa90621c3db2afc9afde16859,key_manager: Add service user options for Barbican key manager,MERGED,2022-01-12 04:43:26.000000000,2022-01-12 17:37:10.000000000,2022-01-12 17:34:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 04:43:26.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-7c554403b68cbcaa.yaml', 'spec/classes/cinder_key_manager_barbican_service_user_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/cinder_key_manager_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/56aa4e98d2cdf25669d6ceb0f398c607eea65d01', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I83bfbddbbc6cd98aa90621c3db2afc9afde16859\n(cherry picked from commit 899e01f7ff9746f32a808bdf978699167c701dd0)\n'}]",0,824292,56aa4e98d2cdf25669d6ceb0f398c607eea65d01,8,3,1,9816,,,0,"key_manager: Add service user options for Barbican key manager

This change introduces some parameters to set up the service user token
feature for Barbican key manager, which was implemented during the Xena
cycle[1].

[1] 162039467ad0dfc5e25a16b75d9072d607690702

Depends-on: https://review.opendev.org/810451
Change-Id: I83bfbddbbc6cd98aa90621c3db2afc9afde16859
(cherry picked from commit 899e01f7ff9746f32a808bdf978699167c701dd0)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/92/824292/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-7c554403b68cbcaa.yaml', 'spec/classes/cinder_key_manager_barbican_service_user_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/cinder_key_manager_barbican_spec.rb']",5,56aa4e98d2cdf25669d6ceb0f398c607eea65d01,barbican-service_user-stable/xena," :barbican_endpoint => '<SERVICE DEFAULT>', :barbican_api_version => '<SERVICE DEFAULT>', :auth_endpoint => '<SERVICE DEFAULT>', :retry_delay => '<SERVICE DEFAULT>', :number_of_retries => '<SERVICE DEFAULT>', :barbican_endpoint_type => '<SERVICE DEFAULT>', :barbican_region_name => '<SERVICE DEFAULT>', :send_service_user_token => '<SERVICE DEFAULT>', :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne', :send_service_user_token => true, :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne', :send_service_user_token => true,"," :barbican_endpoint => '<SERVICE DEFAULT>', :barbican_api_version => '<SERVICE DEFAULT>', :auth_endpoint => '<SERVICE DEFAULT>', :retry_delay => '<SERVICE DEFAULT>', :number_of_retries => '<SERVICE DEFAULT>', :barbican_endpoint_type => '<SERVICE DEFAULT>', :barbican_region_name => '<SERVICE DEFAULT>', :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne', :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne',",225,35
openstack%2Fpuppet-cinder~master~Ie922c425b267e55806f8a710648f275080c9341c,openstack/puppet-cinder,master,Ie922c425b267e55806f8a710648f275080c9341c,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:37:06.000000000,2022-01-12 17:34:09.000000000,2022-01-12 17:34:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5b4ff8846917e63d4b9edd23028ced131b0757a1', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: Ie922c425b267e55806f8a710648f275080c9341c\n""}, {'number': 2, 'created': '2022-01-11 09:39:56.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/93d3ac02f865a1b771c1c036949688ed2beb9981', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: Ie922c425b267e55806f8a710648f275080c9341c\n""}]",0,824105,93d3ac02f865a1b771c1c036949688ed2beb9981,12,4,2,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: Ie922c425b267e55806f8a710648f275080c9341c
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/05/824105/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,5b4ff8846917e63d4b9edd23028ced131b0757a1,wsgi-dep, Anchor['cinder::install::end'] -> Class['apache'] ,,2,0
openstack%2Fpuppet-nova~stable%2Fxena~I217e20e3d10fecffd3fb8654f047a7e285331723,openstack/puppet-nova,stable/xena,I217e20e3d10fecffd3fb8654f047a7e285331723,key_manager: Add service user options for Barbican key manager,MERGED,2022-01-12 04:43:34.000000000,2022-01-12 17:26:23.000000000,2022-01-12 17:24:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 04:43:34.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-887eb51cb8e9efce.yaml', 'spec/classes/nova_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/nova_key_manager_barbican_service_user_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/956c8e5a93462f6415a29be29ccbed9782830a88', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I217e20e3d10fecffd3fb8654f047a7e285331723\n(cherry picked from commit 3453611d08ca802e6d18fefab450aee0e427fda9)\n'}]",0,824293,956c8e5a93462f6415a29be29ccbed9782830a88,8,3,1,9816,,,0,"key_manager: Add service user options for Barbican key manager

This change introduces some parameters to set up the service user token
feature for Barbican key manager, which was implemented during the Xena
cycle[1].

[1] 162039467ad0dfc5e25a16b75d9072d607690702

Depends-on: https://review.opendev.org/810451
Change-Id: I217e20e3d10fecffd3fb8654f047a7e285331723
(cherry picked from commit 3453611d08ca802e6d18fefab450aee0e427fda9)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/93/824293/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-887eb51cb8e9efce.yaml', 'spec/classes/nova_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/nova_key_manager_barbican_service_user_spec.rb']",5,956c8e5a93462f6415a29be29ccbed9782830a88,barbican-service_user-stable/xena,"require 'spec_helper' describe 'nova::key_manager::barbican::service_user' do shared_examples 'nova::key_manager::barbican::service_user' do let :params do { :password => 'secret' } end context 'with default parameters' do it { is_expected.to contain_oslo__key_manager__barbican__service_user('nova_config').with( :username => 'nova', :password => 'secret', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_type => 'password', :auth_version => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :region_name => '<SERVICE DEFAULT>', ) } end context 'with specified parameters' do before :each do params.merge!({ :username => 'alt_nova', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', }) end it { is_expected.to contain_oslo__key_manager__barbican__service_user('nova_config').with( :username => 'alt_nova', :password => 'secret', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', ) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) end it_behaves_like 'nova::key_manager::barbican::service_user' end end end ",,225,35
openstack%2Fpuppet-glance~stable%2Fxena~I96ab0932788737f5e37125fecc0e48357a595030,openstack/puppet-glance,stable/xena,I96ab0932788737f5e37125fecc0e48357a595030,key_manager: Add service user options for Barbican key manager,MERGED,2022-01-12 04:43:12.000000000,2022-01-12 17:25:20.000000000,2022-01-12 17:22:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 04:43:12.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'spec/classes/glance_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'releasenotes/notes/barbican_service_user-606ee71dc0940e2a.yaml', 'spec/classes/glance_key_manager_barbican_service_user_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1b6b91ddc15db8224570ddb478c5b213ce666e82', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I96ab0932788737f5e37125fecc0e48357a595030\n(cherry picked from commit e9a898f2f0c90b7386c81aa267c9bc6d5e11fcd4)\n'}]",0,824291,1b6b91ddc15db8224570ddb478c5b213ce666e82,8,3,1,9816,,,0,"key_manager: Add service user options for Barbican key manager

This change introduces some parameters to set up the service user token
feature for Barbican key manager, which was implemented during the Xena
cycle[1].

[1] 162039467ad0dfc5e25a16b75d9072d607690702

Depends-on: https://review.opendev.org/810451
Change-Id: I96ab0932788737f5e37125fecc0e48357a595030
(cherry picked from commit e9a898f2f0c90b7386c81aa267c9bc6d5e11fcd4)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/91/824291/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'spec/classes/glance_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'releasenotes/notes/barbican_service_user-606ee71dc0940e2a.yaml', 'spec/classes/glance_key_manager_barbican_service_user_spec.rb']",5,1b6b91ddc15db8224570ddb478c5b213ce666e82,barbican-service_user-stable/xena,"require 'spec_helper' describe 'glance::key_manager::barbican::service_user' do shared_examples 'glance::key_manager::barbican::service_user' do let :params do { :password => 'secret' } end context 'with default parameters' do it { is_expected.to contain_oslo__key_manager__barbican__service_user('glance_api_config').with( :username => 'glance', :password => 'secret', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_type => 'password', :auth_version => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :region_name => '<SERVICE DEFAULT>', ) } end context 'with specified parameters' do before :each do params.merge!({ :username => 'alt_glance', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', }) end it { is_expected.to contain_oslo__key_manager__barbican__service_user('glance_api_config').with( :username => 'alt_glance', :password => 'secret', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', ) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) end it_behaves_like 'glance::key_manager::barbican::service_user' end end end ",,225,35
openstack%2Fpuppet-glance~master~I836f8ca32ed8c3352e05f6ab805b6d8f311c061d,openstack/puppet-glance,master,I836f8ca32ed8c3352e05f6ab805b6d8f311c061d,barbican_service_user: Accept system scope credential,MERGED,2022-01-08 03:29:41.000000000,2022-01-12 17:24:42.000000000,2022-01-12 17:22:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 03:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5429abd2d1f131f36facec58070390c2828de47b', 'message': 'barbican_service_user: Accept system scope credential\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials, to use service user token when accessing\nBarbican API.\n\nDepends-on: https://review.opendev.org/823883\nChange-Id: I836f8ca32ed8c3352e05f6ab805b6d8f311c061d\n'}, {'number': 2, 'created': '2022-01-12 04:42:18.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/system_scope-barbican_service_user-e15677399a124630.yaml', 'spec/classes/glance_key_manager_barbican_service_user_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/24b8c76e192660bdbd2b1a190d09aa341c0339e4', 'message': 'barbican_service_user: Accept system scope credential\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials, to use service user token when accessing\nBarbican API.\n\nDepends-on: https://review.opendev.org/823883\nChange-Id: I836f8ca32ed8c3352e05f6ab805b6d8f311c061d\n'}]",0,823885,24b8c76e192660bdbd2b1a190d09aa341c0339e4,11,3,2,9816,,,0,"barbican_service_user: Accept system scope credential

This change allows usage of system scope credentials in addition to
project scope credentials, to use service user token when accessing
Barbican API.

Depends-on: https://review.opendev.org/823883
Change-Id: I836f8ca32ed8c3352e05f6ab805b6d8f311c061d
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/85/823885/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/system_scope-barbican_service_user-e15677399a124630.yaml', 'spec/classes/glance_key_manager_barbican_service_user_spec.rb']",3,5429abd2d1f131f36facec58070390c2828de47b,system-scope-params," :system_scope => '<SERVICE DEFAULT>', :system_scope => 'all', :system_scope => 'all',",,14,0
openstack%2Fpuppet-zaqar~master~I5d03a133bb9d6e8a5ed67b7b06ee73608cff37ee,openstack/puppet-zaqar,master,I5d03a133bb9d6e8a5ed67b7b06ee73608cff37ee,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:54:43.000000000,2022-01-12 17:23:37.000000000,2022-01-12 17:23:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:54:43.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/2fb01b0a85a2a661f1440a0dd673fbba931ac3f4', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I5d03a133bb9d6e8a5ed67b7b06ee73608cff37ee\n""}]",0,824126,2fb01b0a85a2a661f1440a0dd673fbba931ac3f4,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I5d03a133bb9d6e8a5ed67b7b06ee73608cff37ee
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/26/824126/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,2fb01b0a85a2a661f1440a0dd673fbba931ac3f4,wsgi-dep, Anchor['zaqar::install::end'] -> Class['apache'] ," require => Anchor['zaqar::install::end'],",2,1
openstack%2Fpuppet-watcher~master~Ie4e5ad1a77eca49115a3e796ecd8130324288f99,openstack/puppet-watcher,master,Ie4e5ad1a77eca49115a3e796ecd8130324288f99,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:57:27.000000000,2022-01-12 17:20:33.000000000,2022-01-12 17:20:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:57:27.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/a4eec5ffb603fa1b2baabef7e6a045f01bf3bf2c', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: Ie4e5ad1a77eca49115a3e796ecd8130324288f99\n""}]",0,824128,a4eec5ffb603fa1b2baabef7e6a045f01bf3bf2c,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: Ie4e5ad1a77eca49115a3e796ecd8130324288f99
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/28/824128/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,a4eec5ffb603fa1b2baabef7e6a045f01bf3bf2c,wsgi-dep, Anchor['watcher::install::end'] -> Class['apache'] ," require => Anchor['watcher::install::end'],",2,1
openstack%2Fpuppet-openstack-integration~master~Id4945d93c03c2a397a5759ea77fe1e42bb4f40f2,openstack/puppet-openstack-integration,master,Id4945d93c03c2a397a5759ea77fe1e42bb4f40f2,Magnum: Use keystone_auth class to set up credential parameters,MERGED,2022-01-10 13:57:34.000000000,2022-01-12 17:20:13.000000000,2022-01-12 17:20:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 13:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2a72cbf538b1a42e5108906a956a17c8913bbcec', 'message': 'Magnum: Use keystone_auth class to set up credential parameters\n\nChange-Id: Id4945d93c03c2a397a5759ea77fe1e42bb4f40f2\n'}, {'number': 2, 'created': '2022-01-10 13:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e15bb0bb376a736f8cfc01e0322f387dde76cd75', 'message': 'Magnum: Use keystone_auth class to set up credential parameters\n\nChange-Id: Id4945d93c03c2a397a5759ea77fe1e42bb4f40f2\n'}, {'number': 3, 'created': '2022-01-11 08:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae5d6eb32f66610ba9527ca7108dc703bf5e2457', 'message': 'Magnum: Use keystone_auth class to set up credential parameters\n\nChange-Id: Id4945d93c03c2a397a5759ea77fe1e42bb4f40f2\n'}, {'number': 4, 'created': '2022-01-11 08:59:52.000000000', 'files': ['manifests/magnum.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/618cd7c7265fad962ef907259a8d94373f9f8c17', 'message': 'Magnum: Use keystone_auth class to set up credential parameters\n\nChange-Id: Id4945d93c03c2a397a5759ea77fe1e42bb4f40f2\n'}]",1,823992,618cd7c7265fad962ef907259a8d94373f9f8c17,13,3,4,9816,,,0,"Magnum: Use keystone_auth class to set up credential parameters

Change-Id: Id4945d93c03c2a397a5759ea77fe1e42bb4f40f2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/92/823992/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/magnum.pp'],1,2a72cbf538b1a42e5108906a956a17c8913bbcec,keystone_auth," class { 'magnum::keystone::keystone_auth': password => 'a_bit_secret', user_domain_name => 'Default', project_domain_name => 'Default' auth_url => $::openstack_integration::config::keystone_admin_uri, } auth_url => $::openstack_integration::config::keystone_admin_uri, www_authenticate_uri => $::openstack_integration::config::keystone_auth_uri,"," auth_url => ""${::openstack_integration::config::base_url}:35357/v3"", www_authenticate_uri => ""${::openstack_integration::config::base_url}:5000/v3"",",9,2
openstack%2Fpuppet-vitrage~master~If1d6f9bcb7c1644daf9c54dda7d2d0130e19a595,openstack/puppet-vitrage,master,If1d6f9bcb7c1644daf9c54dda7d2d0130e19a595,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:56:24.000000000,2022-01-12 17:14:07.000000000,2022-01-12 17:14:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:56:24.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/007e331d874b7b76d06f08dca6d766baace77a91', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: If1d6f9bcb7c1644daf9c54dda7d2d0130e19a595\n""}]",0,824127,007e331d874b7b76d06f08dca6d766baace77a91,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: If1d6f9bcb7c1644daf9c54dda7d2d0130e19a595
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/27/824127/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,007e331d874b7b76d06f08dca6d766baace77a91,wsgi-dep, Anchor['vitrage::install::end'] -> Class['apache'] ," require => Anchor['vitrage::install::end'],",2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I5f3b678b30f6375844c0a4b094432c9be9d8e444,openstack/tripleo-heat-templates,stable/wallaby,I5f3b678b30f6375844c0a4b094432c9be9d8e444,Disable metrics_qdr binding in HAProxyEdge,MERGED,2022-01-11 22:35:58.000000000,2022-01-12 17:11:16.000000000,2022-01-12 17:11:16.000000000,"[{'_account_id': 6926}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-11 22:35:58.000000000', 'files': ['deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14b042826fef08a04e188c9d9af35acf1a92f057', 'message': 'Disable metrics_qdr binding in HAProxyEdge\n\nHAProxyEdge disables most haproxy bindings.\nThe metrics_qdr binding is missing, likely due to the fact it was\ncreated after the HAProxyEdge service.\n\nChange-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444\n(cherry picked from commit 4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888)\n'}]",0,824250,14b042826fef08a04e188c9d9af35acf1a92f057,7,4,1,23811,,,0,"Disable metrics_qdr binding in HAProxyEdge

HAProxyEdge disables most haproxy bindings.
The metrics_qdr binding is missing, likely due to the fact it was
created after the HAProxyEdge service.

Change-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444
(cherry picked from commit 4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/824250/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-edge-container-puppet.yaml'],1,14b042826fef08a04e188c9d9af35acf1a92f057,wallaby, tripleo::haproxy::metrics_qdr: false,,1,0
openstack%2Fpuppet-magnum~master~I565a99c138fa99bbc350c196bc19d06e40e07e4f,openstack/puppet-magnum,master,I565a99c138fa99bbc350c196bc19d06e40e07e4f,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:48:09.000000000,2022-01-12 17:09:41.000000000,2022-01-12 17:09:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:48:09.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/61a7ebc84494e6702951c9437a6610cd7d95239b', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I565a99c138fa99bbc350c196bc19d06e40e07e4f\n""}]",0,824116,61a7ebc84494e6702951c9437a6610cd7d95239b,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I565a99c138fa99bbc350c196bc19d06e40e07e4f
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/16/824116/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,61a7ebc84494e6702951c9437a6610cd7d95239b,wsgi-dep, Anchor['magnum::install::end'] -> Class['apache'] ," require => Anchor['magnum::install::end'],",2,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,openstack/kolla-ansible,stable/wallaby,Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,rabbitmq: enable/disable prometheus plugin follow up,MERGED,2022-01-11 14:04:55.000000000,2022-01-12 17:09:30.000000000,2022-01-12 17:05:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 14:04:55.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8f98c4adb98141b34621d98c099f3f201aeaa979', 'message': 'rabbitmq: enable/disable prometheus plugin follow up\n\nMove new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to\nrole defaults.\n\nChange-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3\n(cherry picked from commit 71f24586debf556b35df702ce3113ae5b24a75ec)\n'}]",1,824153,8f98c4adb98141b34621d98c099f3f201aeaa979,14,3,1,30491,,,0,"rabbitmq: enable/disable prometheus plugin follow up

Move new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to
role defaults.

Change-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3
(cherry picked from commit 71f24586debf556b35df702ce3113ae5b24a75ec)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/824153/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml']",2,8f98c4adb98141b34621d98c099f3f201aeaa979,," #################### # Plugins #################### rabbitmq_enable_prometheus_plugin: ""{{ enable_prometheus }}"" rabbitmq_plugins: - name: ""rabbitmq_management"" enabled: True - name: ""rabbitmq_prometheus"" enabled: ""{{ rabbitmq_enable_prometheus_plugin | bool }}"" rabbitmq_enabled_plugins: ""{{ rabbitmq_plugins | selectattr('enabled', 'equalto', true) | list }}""",,12,8
openstack%2Fpuppet-mistral~master~Id4cfa06790d47c30ea65d69b8143b004c9f0f12b,openstack/puppet-mistral,master,Id4cfa06790d47c30ea65d69b8143b004c9f0f12b,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:50:08.000000000,2022-01-12 17:08:40.000000000,2022-01-12 17:08:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:50:08.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/4b6198fae3e38decf69670da973376990e63e1de', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: Id4cfa06790d47c30ea65d69b8143b004c9f0f12b\n""}]",0,824118,4b6198fae3e38decf69670da973376990e63e1de,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: Id4cfa06790d47c30ea65d69b8143b004c9f0f12b
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/18/824118/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,4b6198fae3e38decf69670da973376990e63e1de,wsgi-dep, Anchor['mistral::install::end'] -> Class['apache'] ," require => Anchor['mistral::install::end'],",2,1
openstack%2Fpuppet-gnocchi~master~Ifb8df042e06a275ca4dd44342d3c32af65f7d209,openstack/puppet-gnocchi,master,Ifb8df042e06a275ca4dd44342d3c32af65f7d209,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:40:50.000000000,2022-01-12 17:07:43.000000000,2022-01-12 17:07:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/bc694d3a1d89b794ed80f517ee246321688b233f', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: Ifb8df042e06a275ca4dd44342d3c32af65f7d209\n""}, {'number': 2, 'created': '2022-01-11 10:03:48.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/5fd6e02e24c2372685b84ed7ff1205c5a9bcad18', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: Ifb8df042e06a275ca4dd44342d3c32af65f7d209\n""}]",0,824110,5fd6e02e24c2372685b84ed7ff1205c5a9bcad18,8,3,2,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: Ifb8df042e06a275ca4dd44342d3c32af65f7d209
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/10/824110/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,bc694d3a1d89b794ed80f517ee246321688b233f,wsgi-dep, Class['gnocchi::install::end'] -> Class['apache'] ," require => Anchor['gnocchi::install::end'],",2,1
openstack%2Fpuppet-designate~master~I644c36665de5e2c7da88dc155f9bd829fba05e9f,openstack/puppet-designate,master,I644c36665de5e2c7da88dc155f9bd829fba05e9f,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:41:59.000000000,2022-01-12 17:04:39.000000000,2022-01-12 17:04:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:41:59.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/692c171285c7665bb22fee542cdab862e7ded6c6', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I644c36665de5e2c7da88dc155f9bd829fba05e9f\n""}]",0,824112,692c171285c7665bb22fee542cdab862e7ded6c6,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I644c36665de5e2c7da88dc155f9bd829fba05e9f
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/12/824112/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,692c171285c7665bb22fee542cdab862e7ded6c6,wsgi-dep, Anchor['designate::install::end'] -> Class['apache'] ," require => Anchor['designate::install::end'],",2,1
openstack%2Fpuppet-barbican~master~I790cbfec3244c18cd48436a42887e9c6ce134701,openstack/puppet-barbican,master,I790cbfec3244c18cd48436a42887e9c6ce134701,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:36:14.000000000,2022-01-12 16:52:06.000000000,2022-01-12 16:52:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:36:14.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/caa893234e3d93e605057bd75f2c921435904b92', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I790cbfec3244c18cd48436a42887e9c6ce134701\n""}]",6,824104,caa893234e3d93e605057bd75f2c921435904b92,12,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I790cbfec3244c18cd48436a42887e9c6ce134701
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/04/824104/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,caa893234e3d93e605057bd75f2c921435904b92,wsgi-dep, Anchor['barbican::install::end'] -> Class['apache'] , require => Anchor['barbican::install::end'],2,1
openstack%2Fopenstack-ansible-os_neutron~master~Ic4c4ef1083b4f1842a586dd8611f8ee9f2ba7dad,openstack/openstack-ansible-os_neutron,master,Ic4c4ef1083b4f1842a586dd8611f8ee9f2ba7dad,Refactor use of include_vars,MERGED,2022-01-12 08:20:00.000000000,2022-01-12 16:49:47.000000000,2022-01-12 16:45:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:20:00.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/79266a227487cc47ffa32ebcd3a5c8e38e47172a', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ic4c4ef1083b4f1842a586dd8611f8ee9f2ba7dad\n""}]",0,824323,79266a227487cc47ffa32ebcd3a5c8e38e47172a,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ic4c4ef1083b4f1842a586dd8611f8ee9f2ba7dad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/23/824323/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,79266a227487cc47ffa32ebcd3a5c8e38e47172a,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fpuppet-manila~master~I6614e66c5a6d17e3850d73564a487a4932ea0f7a,openstack/puppet-manila,master,I6614e66c5a6d17e3850d73564a487a4932ea0f7a,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:48:54.000000000,2022-01-12 16:47:17.000000000,2022-01-12 16:47:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:48:54.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2e6f33e11624250fdb9db29e675d8b5f804b128c', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I6614e66c5a6d17e3850d73564a487a4932ea0f7a\n""}]",0,824117,2e6f33e11624250fdb9db29e675d8b5f804b128c,8,4,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I6614e66c5a6d17e3850d73564a487a4932ea0f7a
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/17/824117/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,2e6f33e11624250fdb9db29e675d8b5f804b128c,wsgi-dep, Anchor['manila::install::end'] -> Class['apache'] ," require => Anchor['manila::install::end'],",2,1
openstack%2Fcontributor-guide~master~Ia8731f22cc0fb4e757e0247c0d955264db1876ad,openstack/contributor-guide,master,Ia8731f22cc0fb4e757e0247c0d955264db1876ad,Update setup gerrit section to use ed25519 keys,MERGED,2021-12-10 00:37:07.000000000,2022-01-12 16:41:21.000000000,2022-01-12 16:37:09.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-10 00:37:07.000000000', 'files': ['doc/source/common/setup-gerrit.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/ea144f57a71eef8417a1e27d048292b3f640df9c', 'message': ""Update setup gerrit section to use ed25519 keys\n\nThis change updates the setup gerrit section to recommend the use of ed25519\nkeys, because it has been found that RSA doesn't work at least in the\ncase of Fedora workstations\n\nChange-Id: Ia8731f22cc0fb4e757e0247c0d955264db1876ad\n""}]",3,821341,ea144f57a71eef8417a1e27d048292b3f640df9c,16,6,1,4694,,,0,"Update setup gerrit section to use ed25519 keys

This change updates the setup gerrit section to recommend the use of ed25519
keys, because it has been found that RSA doesn't work at least in the
case of Fedora workstations

Change-Id: Ia8731f22cc0fb4e757e0247c0d955264db1876ad
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/41/821341/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/setup-gerrit.rst'],1,ea144f57a71eef8417a1e27d048292b3f640df9c,,".. note:: This guide recommends using ``ed25519`` keys because it has been found that this type works well across all operating systems. ssh-keygen -t ed25519 -C ""your_email@example.com"" Enter a file in which to save the key (/Users/you/.ssh/id_ed25519): [Press enter] ssh-keygen -t ed25519 -C ""your_email@example.com"" Enter a file in which to save the key (/Users/you/.ssh/id_ed25519): /Users/you/.ssh/id_openstack_ed25519 IdentityFile ~/.ssh/id_openstack_ed25519 cat ~/.ssh/id_ed25519.pub cat ~/.ssh/id_openstack_ed25519.pub"," ssh-keygen -t rsa -b 4096 -C ""your_email@example.com"" Enter a file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter] ssh-keygen -t rsa -b 4096 -C ""your_email@example.com"" Enter a file in which to save the key (/Users/you/.ssh/id_rsa): /Users/you/.ssh/id_openstack_rsa IdentityFile ~/.ssh/id_openstack_rsa cat ~/.ssh/id_rsa.pub cat ~/.ssh/id_openstack_rsa.pub",12,7
openstack%2Fopenstack-ansible-os_tempest~master~I08dbacef3ef29548cce58cbaee79a3fa79086259,openstack/openstack-ansible-os_tempest,master,I08dbacef3ef29548cce58cbaee79a3fa79086259,Refactor use of include_vars,MERGED,2022-01-12 08:08:49.000000000,2022-01-12 16:41:01.000000000,2022-01-12 16:35:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:08:49.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/911ac377503bb0fd4a680a1a12b0c9977dc74253', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I08dbacef3ef29548cce58cbaee79a3fa79086259\n""}]",0,824316,911ac377503bb0fd4a680a1a12b0c9977dc74253,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I08dbacef3ef29548cce58cbaee79a3fa79086259
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/16/824316/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,911ac377503bb0fd4a680a1a12b0c9977dc74253,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fironic~bugfix%2F18.1~Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a,openstack/ironic,bugfix/18.1,Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a,"Explicitly pin upper sushy, reduce job count",MERGED,2021-12-07 18:02:34.000000000,2022-01-12 16:38:05.000000000,2022-01-12 16:29:05.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-07 18:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1eb2c25577867f604e8be40a2d01aaffc7b38fc', 'message': 'Explicitly pin upper sushy version\n\nSushy 4.0.0 has breaking changes in it which prevent usage\nwith this version of ironic. While the global upper requirements\nis unlikely ever to attempt to increment to 4.0.0, the explicit\nrequirements invocation, like what is in place for running\ndriver unit tests, was trying to pull in 4.0.0 resulting in test\nfailures.\n\nAlso explicitly fix the upper constraints for tox.ini to the\nxena release branch, which was from the development cycle which\nresulted in this bugfix branch.\n\nChange-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a\n(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)\n'}, {'number': 2, 'created': '2021-12-08 02:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42a2ad97dfec6365d2881a90dac025fd52d7c038', 'message': 'Explicitly pin upper sushy version\n\nSushy 4.0.0 has breaking changes in it which prevent usage\nwith this version of ironic. While the global upper requirements\nis unlikely ever to attempt to increment to 4.0.0, the explicit\nrequirements invocation, like what is in place for running\ndriver unit tests, was trying to pull in 4.0.0 resulting in test\nfailures.\n\nAlso explicitly fix the upper constraints for tox.ini to the\nxena release branch, which was from the development cycle which\nresulted in this bugfix branch.\n\nChange-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a\n(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)\n'}, {'number': 3, 'created': '2021-12-09 15:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4db2228cf99664b3007c07f9a0985c8c6d82d4b', 'message': 'Explicitly pin upper sushy version\n\nSushy 4.0.0 has breaking changes in it which prevent usage\nwith this version of ironic. While the global upper requirements\nis unlikely ever to attempt to increment to 4.0.0, the explicit\nrequirements invocation, like what is in place for running\ndriver unit tests, was trying to pull in 4.0.0 resulting in test\nfailures.\n\nAlso explicitly fix the upper constraints for tox.ini to the\nxena release branch, which was from the development cycle which\nresulted in this bugfix branch.\n\nChange-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a\n(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)\n'}, {'number': 4, 'created': '2021-12-15 20:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb545af002367c675a2b47d1b2eaa8d5493455dc', 'message': 'Explicitly pin upper sushy, reduce job count\n\nSushy 4.0.0 has breaking changes in it which prevent usage\nwith this version of ironic. While the global upper requirements\nis unlikely ever to attempt to increment to 4.0.0, the explicit\nrequirements invocation, like what is in place for running\ndriver unit tests, was trying to pull in 4.0.0 resulting in test\nfailures.\n\nAlso explicitly fix the upper constraints for tox.ini to the\nxena release branch, which was from the development cycle which\nresulted in this bugfix branch.\n\nChange-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a\n(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)\n'}, {'number': 5, 'created': '2021-12-15 20:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50a5c1a7edbd980cc6d8d378eadfe41ecbc720ea', 'message': 'Explicitly pin upper sushy, reduce job count\n\nSushy 4.0.0 has breaking changes in it which prevent usage\nwith this version of ironic. While the global upper requirements\nis unlikely ever to attempt to increment to 4.0.0, the explicit\nrequirements invocation, like what is in place for running\ndriver unit tests, was trying to pull in 4.0.0 resulting in test\nfailures.\n\nAlso explicitly fix the upper constraints for tox.ini to the\nxena release branch, which was from the development cycle which\nresulted in this bugfix branch.\n\nAnd also reduces the overall set of jobs for the bugfix branch down\nto more a needful set of jobs as this branch is intended for bugfixes\nto be tracked on the 18.1 release.\n\nChange-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a\n(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)\n'}, {'number': 6, 'created': '2022-01-11 15:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d690220528475ca0d32065558ec210401c98ae37', 'message': 'Explicitly pin upper sushy, reduce job count\n\nSushy 4.0.0 has breaking changes in it which prevent usage\nwith this version of ironic. While the global upper requirements\nis unlikely ever to attempt to increment to 4.0.0, the explicit\nrequirements invocation, like what is in place for running\ndriver unit tests, was trying to pull in 4.0.0 resulting in test\nfailures.\n\nAlso explicitly fix the upper constraints for tox.ini to the\nxena release branch, which was from the development cycle which\nresulted in this bugfix branch.\n\nAnd also reduces the overall set of jobs for the bugfix branch down\nto more a needful set of jobs as this branch is intended for bugfixes\nto be tracked on the 18.1 release.\n\nChange-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a\n(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)\n'}, {'number': 7, 'created': '2022-01-12 08:41:59.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'driver-requirements.txt', 'zuul.d/project.yaml', 'releasenotes/notes/explicit-upper-pin-for-sushy-63d449024ddf70d0.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/88df2dbd57df7af6eee4592ffbc1714a245f4ad2', 'message': 'Explicitly pin upper sushy, reduce job count\n\nSushy 4.0.0 has breaking changes in it which prevent usage\nwith this version of ironic. While the global upper requirements\nis unlikely ever to attempt to increment to 4.0.0, the explicit\nrequirements invocation, like what is in place for running\ndriver unit tests, was trying to pull in 4.0.0 resulting in test\nfailures.\n\nAlso explicitly fix the upper constraints for tox.ini to the\nxena release branch, which was from the development cycle which\nresulted in this bugfix branch.\n\nAnd also reduces the overall set of jobs for the bugfix branch down\nto more a needful set of jobs as this branch is intended for bugfixes\nto be tracked on the 18.1 release.\n\nChange-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a\n(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)\n'}]",3,820927,88df2dbd57df7af6eee4592ffbc1714a245f4ad2,51,5,7,11655,,,0,"Explicitly pin upper sushy, reduce job count

Sushy 4.0.0 has breaking changes in it which prevent usage
with this version of ironic. While the global upper requirements
is unlikely ever to attempt to increment to 4.0.0, the explicit
requirements invocation, like what is in place for running
driver unit tests, was trying to pull in 4.0.0 resulting in test
failures.

Also explicitly fix the upper constraints for tox.ini to the
xena release branch, which was from the development cycle which
resulted in this bugfix branch.

And also reduces the overall set of jobs for the bugfix branch down
to more a needful set of jobs as this branch is intended for bugfixes
to be tracked on the 18.1 release.

Change-Id: Ief828f139bac9ba00f3250d8ddf4fd3d84a6fa7a
(cherry picked from commit b3a835bd2e1f20215d6e82ee302daa6db3dd2453)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/820927/1 && git format-patch -1 --stdout FETCH_HEAD,"['driver-requirements.txt', 'releasenotes/notes/explicit-upper-pin-for-sushy-63d449024ddf70d0.yaml', 'tox.ini']",3,d1eb2c25577867f604e8be40a2d01aaffc7b38fc,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},8,2
openstack%2Fironic~bugfix%2F18.1~I7de77ac37981218735066bb586e12f3e6230905f,openstack/ironic,bugfix/18.1,I7de77ac37981218735066bb586e12f3e6230905f,Use xena constraints,ABANDONED,2021-12-17 08:58:30.000000000,2022-01-12 16:35:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-17 08:58:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b463c1570d6c934b3d9f8d0dc5ec6f6b588821a8', 'message': 'Use xena constraints\n\nThe bugfix/18.1 branch has been created during xena cycle.\nUsing xena upper constraints for tests to avoid incompatibilities.\n\nChange-Id: I7de77ac37981218735066bb586e12f3e6230905f\n'}]",1,822089,b463c1570d6c934b3d9f8d0dc5ec6f6b588821a8,7,1,1,23851,,,0,"Use xena constraints

The bugfix/18.1 branch has been created during xena cycle.
Using xena upper constraints for tests to avoid incompatibilities.

Change-Id: I7de77ac37981218735066bb586e12f3e6230905f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/822089/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b463c1570d6c934b3d9f8d0dc5ec6f6b588821a8,xena-constraints, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fopenstack-ansible-os_glance~master~If4b1fe7ec14ffb03be79d29e9d21d9ab829cb4ec,openstack/openstack-ansible-os_glance,master,If4b1fe7ec14ffb03be79d29e9d21d9ab829cb4ec,Refactor use of include_vars,MERGED,2022-01-12 08:35:42.000000000,2022-01-12 16:34:14.000000000,2022-01-12 16:27:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:35:42.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/c801091880d80727626e195ce76b8e0582674b36', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: If4b1fe7ec14ffb03be79d29e9d21d9ab829cb4ec\n""}]",0,824334,c801091880d80727626e195ce76b8e0582674b36,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: If4b1fe7ec14ffb03be79d29e9d21d9ab829cb4ec
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/34/824334/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,c801091880d80727626e195ce76b8e0582674b36,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fpuppet-octavia~master~I1db195cbbdf914b2592a4e7820d0d2680e630963,openstack/puppet-octavia,master,I1db195cbbdf914b2592a4e7820d0d2680e630963,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:52:51.000000000,2022-01-12 16:27:25.000000000,2022-01-12 16:27:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:52:51.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/398ec47b02bf3431e7a98937ee0f74c340f5a125', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I1db195cbbdf914b2592a4e7820d0d2680e630963\n""}]",0,824122,398ec47b02bf3431e7a98937ee0f74c340f5a125,7,3,1,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I1db195cbbdf914b2592a4e7820d0d2680e630963
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/22/824122/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,398ec47b02bf3431e7a98937ee0f74c340f5a125,wsgi-dep, Anchor['octavia::install::end'] -> Class['apache'] ," require => Anchor['octavia::install::end'],",2,1
openstack%2Fpuppet-vswitch~master~I376e966bbfc599a0f622d3dc53438eece6fb1da4,openstack/puppet-vswitch,master,I376e966bbfc599a0f622d3dc53438eece6fb1da4,Use service_provider fact to determine the service command,ABANDONED,2022-01-11 02:06:15.000000000,2022-01-12 16:24:14.000000000,,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 02:06:15.000000000', 'files': ['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/b45a7590a2abf9ffd94ca540371e2ddb85d9a5b9', 'message': 'Use service_provider fact to determine the service command\n\n... instead of hard-coding the systemctl command.\n\nChange-Id: I376e966bbfc599a0f622d3dc53438eece6fb1da4\n'}]",4,824082,b45a7590a2abf9ffd94ca540371e2ddb85d9a5b9,8,3,1,9816,,,0,"Use service_provider fact to determine the service command

... instead of hard-coding the systemctl command.

Change-Id: I376e966bbfc599a0f622d3dc53438eece6fb1da4
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/82/824082/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",4,b45a7590a2abf9ffd94ca540371e2ddb85d9a5b9,service_provider," # NOTE(tkajinam): This resource is defined to restart the openvswitch service $restart_command = $::service_provider ? { 'systemd' => ""systemctl restart ${::vswitch::params::ovs_service_name}.service"", default => ""service ${::vswitch::params::ovs_service_name} restart"", } command => ""systemctl -q restart ${restart_command}.service"","," # NOTE(tkajinam): This resource is defined to restart the openvswitch services command => ""systemctl -q restart ${::vswitch::params::ovs_service_name}.service"",",19,5
openstack%2Fmanila-specs~master~I0f6cd9bbc912e8cc139d5fbde9279c6ea96bc2f0,openstack/manila-specs,master,I0f6cd9bbc912e8cc139d5fbde9279c6ea96bc2f0,Move Metadata Spec from Wallaby to Yoga,MERGED,2021-10-19 22:24:58.000000000,2022-01-12 16:20:24.000000000,2022-01-12 16:16:34.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}, {'_account_id': 32411}]","[{'number': 1, 'created': '2021-10-19 22:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/8d76cf47657663a690007dade3fc8f81f9caa93f', 'message': 'Move Metadata Spec from Wallaby to Yoga\n\nAlso updates spec details and assignee\n\nChange-Id: I0f6cd9bbc912e8cc139d5fbde9279c6ea96bc2f0\n'}, {'number': 2, 'created': '2021-11-05 18:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/af157fed2e73a7fa5cd5e562654f968570ccfab8', 'message': 'Move Metadata Spec from Wallaby to Yoga\n\nAlso updates spec details and assignee\n\nChange-Id: I0f6cd9bbc912e8cc139d5fbde9279c6ea96bc2f0\n'}, {'number': 3, 'created': '2021-12-16 16:38:10.000000000', 'files': ['specs/yoga/metadata-for-share-resources.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/833cb6c3e09b176ad2ca4d793f045811b3f99ef2', 'message': 'Move Metadata Spec from Wallaby to Yoga\n\nAlso updates spec details and assignee\n\nChange-Id: I0f6cd9bbc912e8cc139d5fbde9279c6ea96bc2f0\n'}]",36,814678,833cb6c3e09b176ad2ca4d793f045811b3f99ef2,21,7,3,32594,,,0,"Move Metadata Spec from Wallaby to Yoga

Also updates spec details and assignee

Change-Id: I0f6cd9bbc912e8cc139d5fbde9279c6ea96bc2f0
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/78/814678/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/metadata-for-share-resources.rst'],1,8d76cf47657663a690007dade3fc8f81f9caa93f,metadata," - Shares - Share Export Locations - Share Access Rules - Share Instances - Share Instance Export Locations - Share Replicas - Share Replica Export Locations - Share Snapshots - Share Groups - Share Group Snapshots - Security Services - Share Networks - Share Network SubnetsTo distinguish and protect service owned or admin only metadata, there will be an ignore_keys parameter and ignored keys dictionary to prevent these metadata items from being manipulated by the end user.Rules (""share_access_rules_metadata"") will be modified to include a string attribute called ``deleted``. The default value for this attribute is set to False. deleted = Column(String(36), default='False') 'ResourceMetadata.deleted == ""False)')New API endpoints will be created to index metadata, show metadata item, create metadata, update metadata item, update_all metadata (delete all existing metadata and update with requested metadata), and delete metadata item for each resource. The general structure of these APIs is as follows: Index Metadata ^^^^^^^^^^^^^^^Show specific metadata item ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Retrieve a single metadata key=value pair:: GET /v2/{resource}/metadata/{key} - *Sample request body*: null - *Success Codes*: 200 - *Default API policy role*: Project Reader - *Error Codes*: 401 (Unauthorized), 403 (Policy Not Authorized), 404 (Invalid resource) - *Sample response body*:: { ""metadata"": { ""project"": ""my_app"", } } Update all metadata ^^^^^^^^^^^^^^^^^^^- ``Note:`` Metadata keys that are part of the admin-only dictionary will not be deleted and updated if the user requesting this is not an system or project admin. Update specific metadata item ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Update a specific metadata item, leaving the rest unmodified:: API microversion.ensure that there are corresponding CLI commands in the new OSC plugin shell. Manila UI's support for share, export location and access rule metadata is limited. This specification doesn't seek to address all the UI gaps; but all effort will be made to close the feature parity between the CLI utilities and the UI. Eventually users will be able to perform all metadata interactions via the UI as well. ashrod98 <ashrod98@gmail.com> gouthamr- Add database migrations to introduce the ""deleted"" field to share,- Add support for metadata APIs in manilaclient SDK, and OSC CLI and SDKNot a direct dependency, but this API change incorporates the metadata changes necessary to implement this spec: `Affinity and anti-affinity scheduler filter <https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html>`_","- Shares - Snapshots - Export Locations - Share Replicas - Share Groups - Share Group Snapshots - Security Services - Share Networks - Share Network SubnetsTo distinguish and protect service owned metadata, all metadata tables will include an attribute named ``user_modifiable``. This attribute will determine if users have the ability to manipulate (or delete) the specific metadatum.Rules (""share_access_rules_metadata"") will be modified to include a boolean attribute called ``user_modifiable``. The default value for this attribute is set to True. All existing export location metadata will have this attribute set to False during the database upgrade step. This is because we expect no end user created metadata on export locations yet. user_modifiable = Column(Boolean, default=True) 'ResourceMetadata.deleted == 0)')New API endpoints will be created to get metadata, set metadata, unset a metadata item, delete all metadata for each resource. The general structure of these APIs is as follows: Get all Metadata ^^^^^^^^^^^^^^^^Set/Unset all metadata ^^^^^^^^^^^^^^^^^^^^^^Set specific metadata item/s ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Update one or more specific metadata items, leaving the rest unmodified:: API microversion. However, use of ``meta`` will be honored for this API even after the new microversion.ensure that there are corresponding CLI commands in manilaclient shell as well as the new OSC plugin shell. Manila UI's support for share, export location and access rule metadata is limited. This specification doesn't seek to address all the UI gaps; but all effort will be made to close the feature parity between the CLI utilities and the UI. Eventually users will be able to perform all metadata interactions via the UI as well. gouthamr None- Add database migrations to introduce the ""user_modifiable"" field to share,- Add support for metadata APIs in manilaclient SDK, manilaclient shell and OSCNone",70,43
openstack%2Fmanila-specs~master~I080c083c5517c1b51eaf9fd328810df6aa97fe40,openstack/manila-specs,master,I080c083c5517c1b51eaf9fd328810df6aa97fe40,Add spec for multiple subnet share servers,MERGED,2018-11-25 12:34:27.000000000,2022-01-12 16:11:10.000000000,2022-01-12 16:06:25.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30555}, {'_account_id': 32411}, {'_account_id': 33648}]","[{'number': 1, 'created': '2018-11-25 12:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/edd4cdb3e45b2df3daf1153f9d8f64274620f568', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 2, 'created': '2018-11-25 13:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3dc7aae2bddefb02a99fba002873ca5a428278e1', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 3, 'created': '2018-11-28 16:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/8d9cc579ae248aaa48b5f7cce4544b96b2b6b379', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 4, 'created': '2020-09-16 15:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/497dd41c253ee0d457c9f162d1a46344155a853a', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 5, 'created': '2021-12-09 15:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/01f6fe82d2899619c448b201b8b5d6c4b3da111c', 'message': 'WIP: Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 6, 'created': '2021-12-16 05:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/c5d207389c4f2b800ebbb6f128c63f598824f02f', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nThe spec is splitted in three phases, targetting to more\nthan one release:\n\n1. Multiple subnets in same network and IPv4 only\n2. Multiple subnets in same network and IPv4/IPv6\n3. Multiple subnets different network and IPv4/IPv6\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 7, 'created': '2021-12-16 15:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/9698b5b5977a7525b796db34827fcee6e79c195b', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nThe spec is splitted in three phases, targeting to more\nthan one release:\n\n1. Multiple subnets in same network and IPv4 only (yoga release)\n2. Multiple subnets in same network and IPv4/IPv6\n3. Multiple subnets different network and IPv4/IPv6\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 8, 'created': '2021-12-16 16:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2391652f4f013d66f058b98e83a6866973835f24', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nThe spec is splitted in three phases, targeting to more\nthan one release:\n\n1. Multiple subnets in same network and IPv4 only (yoga release)\n2. Multiple subnets in same network and IPv4/IPv6\n3. Multiple subnets different network and IPv4/IPv6\n\nThis patch also renames the spec release directory name\n""release_independent"" to """"multi-release"".\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 9, 'created': '2021-12-21 14:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/11b34b7afd974e700bea16c862e3887cd65cd5c4', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nThe spec is splitted in three phases, targeting to more\nthan one release:\n\n1. Multiple subnets in same network and IPv4 only (yoga release)\n2. Multiple subnets in same network and IPv4/IPv6\n3. Multiple subnets different network and IPv4/IPv6\n\nThis patch also renames the spec release directory name\n""release_independent"" to """"multi-release"".\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 10, 'created': '2021-12-23 04:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/4b54a30e36eeeff3e28b559d17b601842574766e', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nThe spec is splitted in three phases, targeting to more\nthan one release:\n\n1. Multiple IPv4 subnets in a same network\n2. Multiple IPv6 subnets in a same network\n3. Multiple IPv4/IPv6 subnets in different networks\n\nThis patch also renames the spec release directory name\n""release_independent"" to """"multi-release"".\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 11, 'created': '2021-12-28 17:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f1c0f382d8c090877d1a829070e926c253df2d98', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nThe spec is splitted in two phases, targeting to more\nthan one release:\n\n1. Add ability to define multiple subnets in the same share network AZ\n2. Add ability to ""update"" subnets in a share network AZ\n\nThis patch also renames the spec release directory name\n""release_independent"" to """"multi-release"".\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}, {'number': 12, 'created': '2022-01-06 23:21:32.000000000', 'files': ['specs/release_independent/share-server-multiple-subnet.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/1e968b3e6b66df1caa2847be88d8049f5dbe70f0', 'message': 'Add spec for multiple subnet share servers\n\nThis spec proposes changes to Manila with the purpose of\naddressing the need for having share servers with network\nallocations on multiple subnets.\n\nThe spec is splitted in two phases, targeting to more\nthan one release:\n\n1. Add ability to define multiple subnets in the same share network AZ\n2. Add ability to ""update"" subnets in a share network AZ\n\nImplements: bp multiple-subnet-share-servers\n\nAPIImpact\n\nChange-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40\n'}]",204,619925,1e968b3e6b66df1caa2847be88d8049f5dbe70f0,60,10,12,14567,,,0,"Add spec for multiple subnet share servers

This spec proposes changes to Manila with the purpose of
addressing the need for having share servers with network
allocations on multiple subnets.

The spec is splitted in two phases, targeting to more
than one release:

1. Add ability to define multiple subnets in the same share network AZ
2. Add ability to ""update"" subnets in a share network AZ

Implements: bp multiple-subnet-share-servers

APIImpact

Change-Id: I080c083c5517c1b51eaf9fd328810df6aa97fe40
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/25/619925/10 && git format-patch -1 --stdout FETCH_HEAD,"['specs/train/share-server-multiple-subnet.rst', 'specs/train/.placeholder']",2,edd4cdb3e45b2df3daf1153f9d8f64274620f568,bp/multiple-subnet-share-servers,,,329,0
openstack%2Fopenstack-ansible-os_murano~master~Ibf1f9d10222b28814565171a811dadb30c88c6f7,openstack/openstack-ansible-os_murano,master,Ibf1f9d10222b28814565171a811dadb30c88c6f7,Refactor use of include_vars,MERGED,2022-01-12 08:25:28.000000000,2022-01-12 16:10:26.000000000,2022-01-12 16:05:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:25:28.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/e097ace2917fdc9dd22e622e8d0a0c757a650c52', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ibf1f9d10222b28814565171a811dadb30c88c6f7\n""}]",0,824324,e097ace2917fdc9dd22e622e8d0a0c757a650c52,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ibf1f9d10222b28814565171a811dadb30c88c6f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/24/824324/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e097ace2917fdc9dd22e622e8d0a0c757a650c52,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fcinder~stable%2Fxena~Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,openstack/cinder,stable/xena,Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,Reject bad img formats for uploaded encrypted vols,MERGED,2022-01-11 18:09:57.000000000,2022-01-12 16:09:50.000000000,2022-01-12 15:57:47.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 18:09:57.000000000', 'files': ['releasenotes/notes/bug-193688-bb045badcd5aecad.yaml', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/78682022d2dcf07c270356d23a27843578466469', 'message': ""Reject bad img formats for uploaded encrypted vols\n\nCinder only supports uploading volumes of encrypted volume types as\nimages with disk format 'raw' and container format 'bare'.  Screen\nfor this at the REST API layer when the request is made.\n\nChange-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782\nCloses-bug: #1935688\n(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)\n""}]",1,824158,78682022d2dcf07c270356d23a27843578466469,17,2,1,5314,,,0,"Reject bad img formats for uploaded encrypted vols

Cinder only supports uploading volumes of encrypted volume types as
images with disk format 'raw' and container format 'bare'.  Screen
for this at the REST API layer when the request is made.

Change-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782
Closes-bug: #1935688
(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/824158/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_volume_actions.py', 'releasenotes/notes/bug-193688-bb045badcd5aecad.yaml', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py']",5,78682022d2dcf07c270356d23a27843578466469,bug/1935688-stable/xena," # encrypted volumes cannot be converted on upload if (image_metadata['disk_format'] != 'raw' or image_metadata['container_format'] != 'bare'): msg = _(""An encrypted volume uploaded as an image must use "" ""'raw' disk_format and 'bare' container_format, "" ""which are the defaults for these options."") raise webob.exc.HTTPBadRequest(explanation=msg) ",,68,2
openstack%2Fneutron~master~I2075eff3f2ac4a544f48352b5335ee885ed9f9fd,openstack/neutron,master,I2075eff3f2ac4a544f48352b5335ee885ed9f9fd,Enable min pps tempest tests,MERGED,2021-09-29 16:08:38.000000000,2022-01-12 16:09:49.000000000,2022-01-12 15:57:34.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-09-29 16:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/143c0d2f24fa5bb0ef2833dcfafeb91f8bb2f7e1', 'message': 'Enable min pps tempest tests\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nChange-Id: I2075eff3f2ac4a544f48352b5335ee885ed9f9fd\n'}, {'number': 2, 'created': '2021-09-29 16:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfa94574a7c482e76aa64635760626b58818e346', 'message': 'Enable min pps tempest tests\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nChange-Id: I2075eff3f2ac4a544f48352b5335ee885ed9f9fd\n'}, {'number': 3, 'created': '2021-10-01 08:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a325d11c18c507aae9dcb12362a9066a20801db', 'message': 'Enable min pps tempest tests\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/nova/+/811396\nChange-Id: I2075eff3f2ac4a544f48352b5335ee885ed9f9fd\n'}, {'number': 4, 'created': '2021-10-01 10:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eee2e6ebb48264f6970ff3cf5fa48f532edba225', 'message': 'Enable min pps tempest tests\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/nova/+/811396\nChange-Id: I2075eff3f2ac4a544f48352b5335ee885ed9f9fd\n'}, {'number': 5, 'created': '2021-10-25 13:08:00.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/08850188923776140e08644120004f19628f7f82', 'message': 'Enable min pps tempest tests\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/nova/+/811396\nChange-Id: I2075eff3f2ac4a544f48352b5335ee885ed9f9fd\n'}]",4,811746,08850188923776140e08644120004f19628f7f82,55,4,5,9708,,,0,"Enable min pps tempest tests

blueprint: qos-minimum-guaranteed-packet-rate

Depends-On: https://review.opendev.org/c/openstack/tempest/+/806257
Depends-On: https://review.opendev.org/c/openstack/nova/+/811396
Change-Id: I2075eff3f2ac4a544f48352b5335ee885ed9f9fd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/811746/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,143c0d2f24fa5bb0ef2833dcfafeb91f8bb2f7e1,bp/qos-minimum-guaranteed-packet-rate, qos_min_bw_and_pps: True resource_provider_packet_processing_without_direction = :100,,2,0
openstack%2Fopenstack-ansible-os_manila~master~I4983e2e13eb3ec29b0417094cf66629ce0f89052,openstack/openstack-ansible-os_manila,master,I4983e2e13eb3ec29b0417094cf66629ce0f89052,Refactor use of include_vars,MERGED,2022-01-12 08:29:04.000000000,2022-01-12 16:08:41.000000000,2022-01-12 15:57:12.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:29:04.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/f07b0f764a511e930a55d01c507a8dec7ee20666', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I4983e2e13eb3ec29b0417094cf66629ce0f89052\n""}]",0,824327,f07b0f764a511e930a55d01c507a8dec7ee20666,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I4983e2e13eb3ec29b0417094cf66629ce0f89052
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/27/824327/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,f07b0f764a511e930a55d01c507a8dec7ee20666,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fopenstack-ansible-ceph_client~master~I0a8fda2e71e80624edbe271139675a71196b23ef,openstack/openstack-ansible-ceph_client,master,I0a8fda2e71e80624edbe271139675a71196b23ef,Refactor use of include_vars,MERGED,2022-01-12 08:51:39.000000000,2022-01-12 16:07:58.000000000,2022-01-12 15:56:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:51:39.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/3482f1b4d744d79fa16edd8439fd4b3462bbe8ca', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I0a8fda2e71e80624edbe271139675a71196b23ef\n""}]",0,824351,3482f1b4d744d79fa16edd8439fd4b3462bbe8ca,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I0a8fda2e71e80624edbe271139675a71196b23ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/51/824351/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,3482f1b4d744d79fa16edd8439fd4b3462bbe8ca,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_gnocchi~master~Ia6f6e36fc34e382eb02ea59973ee0a6e8aec20b4,openstack/openstack-ansible-os_gnocchi,master,Ia6f6e36fc34e382eb02ea59973ee0a6e8aec20b4,Refactor use of include_vars,MERGED,2022-01-12 08:34:51.000000000,2022-01-12 16:05:42.000000000,2022-01-12 15:56:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:34:51.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/41efa83237cee33f038e4c03662cf01c107095ed', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ia6f6e36fc34e382eb02ea59973ee0a6e8aec20b4\n""}]",0,824333,41efa83237cee33f038e4c03662cf01c107095ed,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ia6f6e36fc34e382eb02ea59973ee0a6e8aec20b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/33/824333/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,41efa83237cee33f038e4c03662cf01c107095ed,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fpuppet-nova~master~I9c02d33b9806514c5024239fd624e3b6cb74f8a3,openstack/puppet-nova,master,I9c02d33b9806514c5024239fd624e3b6cb74f8a3,Ensure systemd is used to manage libvirt socket services,ABANDONED,2022-01-11 05:00:48.000000000,2022-01-12 15:57:56.000000000,,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 05:00:48.000000000', 'files': ['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/74c54fbfc6d4c9f8a539a9f1d1b5ed0034fc4027', 'message': 'Ensure systemd is used to manage libvirt socket services\n\nThe libvirt socket services are required only when systemd is used.\nThis change introduces the logic to ensure systemd is used, using\nthe custom service_provider fact provided by puppetlabs-stdlib.\n\nChange-Id: I9c02d33b9806514c5024239fd624e3b6cb74f8a3\n'}]",1,824085,74c54fbfc6d4c9f8a539a9f1d1b5ed0034fc4027,8,4,1,9816,,,0,"Ensure systemd is used to manage libvirt socket services

The libvirt socket services are required only when systemd is used.
This change introduces the logic to ensure systemd is used, using
the custom service_provider fact provided by puppetlabs-stdlib.

Change-Id: I9c02d33b9806514c5024239fd624e3b6cb74f8a3
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/85/824085/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",2,74c54fbfc6d4c9f8a539a9f1d1b5ed0034fc4027,service_provider," facts.merge!(OSDefaults.get_facts({ :os_workers => 5, :service_provider => 'systemd' }))", facts.merge!(OSDefaults.get_facts({ :os_workers => 5 })),26,16
openstack%2Fglance~master~I765d1ac14c0e1a7c4d67c6b694ec45ea4b4a9d0e,openstack/glance,master,I765d1ac14c0e1a7c4d67c6b694ec45ea4b4a9d0e,Member_id validation support for member create command. Bug: bug/1308484,ABANDONED,2020-09-23 09:31:22.000000000,2022-01-12 15:56:38.000000000,,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-23 09:31:22.000000000', 'files': ['glance/api/v2/image_members.py', 'glance/api/v2/identity.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/6326cbaf7c8550a2bd86ce20da7cb7b7a95db612', 'message': 'Member_id validation support for member create command.\nBug: bug/1308484\n\nChange-Id: I765d1ac14c0e1a7c4d67c6b694ec45ea4b4a9d0e\n'}]",4,753551,6326cbaf7c8550a2bd86ce20da7cb7b7a95db612,5,3,1,31733,,,0,"Member_id validation support for member create command.
Bug: bug/1308484

Change-Id: I765d1ac14c0e1a7c4d67c6b694ec45ea4b4a9d0e
",git fetch https://review.opendev.org/openstack/glance refs/changes/51/753551/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_members.py', 'glance/api/v2/identity.py']",2,6326cbaf7c8550a2bd86ce20da7cb7b7a95db612,bug/1308484,"# Copyright 2017 IBM # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from keystoneauth1 import exceptions as kse from oslo_log import log as logging import webob from nova.i18n import _ from nova import utils LOG = logging.getLogger(__name__) def verify_project_id(context, project_id): """"""verify that a project_id exists. This attempts to verify that a project id exists. If it does not, an HTTPBadRequest is emitted. """""" adap = utils.get_ksa_adapter( 'identity', ksa_auth=context.get_auth_plugin(), min_version=(3, 0), max_version=(3, 'latest')) failure = webob.exc.HTTPBadRequest( explanation=_(""Project ID %s is not a valid project."") % project_id) try: resp = adap.get('/projects/%s' % project_id) except kse.EndpointNotFound: LOG.error( ""Keystone identity service version 3.0 was not found. This might "" ""be because your endpoint points to the v2.0 versioned endpoint "" ""which is not supported. Please fix this."") raise failure except kse.ClientException: # something is wrong, like there isn't a keystone v3 endpoint, # or nova isn't configured for the interface to talk to it; # we'll take the pass and default to everything being ok. LOG.info(""Unable to contact keystone to verify project_id"") return True if resp: # All is good with this 20x status return True elif resp.status_code == 404: # we got access, and we know this project is not there raise failure elif resp.status_code == 403: # we don't have enough permission to verify this, so default # to ""it's ok"". LOG.info( ""Insufficient permissions for user %(user)s to verify "" ""existence of project_id %(pid)s"", {""user"": context.user_id, ""pid"": project_id}) return True else: LOG.warning( ""Unexpected response from keystone trying to "" ""verify project_id %(pid)s - resp: %(code)s %(content)s"", {""pid"": project_id, ""code"": resp.status_code, ""content"": resp.content}) # realize we did something wrong, but move on with a warning return True ",,82,0
openstack%2Fdevstack~master~I26628a31fdda3ce95ed04a2b7ae7b132c288581f,openstack/devstack,master,I26628a31fdda3ce95ed04a2b7ae7b132c288581f,Allow skip the database server installation,MERGED,2022-01-07 14:37:00.000000000,2022-01-12 15:43:47.000000000,2022-01-12 15:40:57.000000000,"[{'_account_id': 4694}, {'_account_id': 8042}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-07 14:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/84c18d00491123d72abdefdab569ec2b777f813b', 'message': 'Allow skip the database server installation\n\nThis patch allows to skip the install of the MySQL\ndatabase package with the introduction of the\nINSTALL_DATABASE_SERVER variable (defaulted to True).\nThis is useful in such environments that do not require\nto install the MySQL server directly but using a container\nserving that purpose, in those cases all the remaining\nsteps should be executed just skiping the packages install.\n\nChange-Id: I26628a31fdda3ce95ed04a2b7ae7b132c288581f\n'}, {'number': 2, 'created': '2022-01-07 15:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2a59a694bdf890e3f8b9c40cf645ef93545506a5', 'message': 'Allow skip the database server installation\n\nThis patch allows to skip the install of the MySQL\ndatabase package with the introduction of the\nINSTALL_DATABASE_SERVER variable (defaulted to True).\nThis is useful in such environments that do not require\nto install the MySQL server packages directly but using\na container serving that purpose, for those cases all the\nremaining steps should be executed just skipping the\npackages install.\n\nChange-Id: I26628a31fdda3ce95ed04a2b7ae7b132c288581f\n'}, {'number': 3, 'created': '2022-01-07 18:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/227e059a43c4142da91e1eeec03dd6f0d7cb5938', 'message': 'Allow skip the database server installation\n\nThis patch allows to skip the install of the MySQL\ndatabase package with the introduction of the\nINSTALL_DATABASE_SERVER variable (defaulted to True).\nThis is useful in such environments that do not require\nto install the MySQL server packages directly but using\na container serving that purpose, for those cases all the\nremaining steps should be executed just skipping the\npackages install.\n\nChange-Id: I26628a31fdda3ce95ed04a2b7ae7b132c288581f\n'}, {'number': 4, 'created': '2022-01-10 08:28:31.000000000', 'files': ['lib/databases/mysql', 'lib/databases/postgresql'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cc6e20b24d22475720f7b938aa08edf9ee7514fb', 'message': 'Allow skip the database server installation\n\nThis patch allows to skip the installation\nof the database backend packages (MySQL or Postgres)\nwith the introduction of the INSTALL_DATABASE_SERVER_PACKAGES\nvariable (defaulted to True).\nThis is useful in such environments that do not require\nto install the MySQL/Postgres server packages directly but using\na container serving that purpose, for those cases all the\nremaining steps should be executed just skipping the\npackages install.\n\nChange-Id: I26628a31fdda3ce95ed04a2b7ae7b132c288581f\n'}]",15,823807,cc6e20b24d22475720f7b938aa08edf9ee7514fb,24,5,4,20775,,,0,"Allow skip the database server installation

This patch allows to skip the installation
of the database backend packages (MySQL or Postgres)
with the introduction of the INSTALL_DATABASE_SERVER_PACKAGES
variable (defaulted to True).
This is useful in such environments that do not require
to install the MySQL/Postgres server packages directly but using
a container serving that purpose, for those cases all the
remaining steps should be executed just skipping the
packages install.

Change-Id: I26628a31fdda3ce95ed04a2b7ae7b132c288581f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/823807/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/databases/mysql'],1,84c18d00491123d72abdefdab569ec2b777f813b,,"INSTALL_DATABASE_SERVER=$(trueorfalse True INSTALL_DATABASE_SERVER) if [[ ""$INSTALL_DATABASE_SERVER"" = ""True"" ]]; then if is_oraclelinux; then install_package mysql-community-server elif is_fedora; then install_package mariadb-server mariadb-devel mariadb sudo systemctl enable $MYSQL_SERVICE_NAME elif is_suse; then install_package mariadb-server sudo systemctl enable $MYSQL_SERVICE_NAME elif is_ubuntu; then install_package $MYSQL_SERVICE_NAME-server else exit_distro_not_supported ""mysql installation"" fi"," if is_oraclelinux; then install_package mysql-community-server elif is_fedora; then install_package mariadb-server mariadb-devel mariadb sudo systemctl enable $MYSQL_SERVICE_NAME elif is_suse; then install_package mariadb-server sudo systemctl enable $MYSQL_SERVICE_NAME elif is_ubuntu; then install_package $MYSQL_SERVICE_NAME-server else exit_distro_not_supported ""mysql installation""",15,12
openstack%2Fpuppet-cloudkitty~master~I21a4fb74b16449db00ba59ba6a058b25e8640abd,openstack/puppet-cloudkitty,master,I21a4fb74b16449db00ba59ba6a058b25e8640abd,Fix dependency to purge default vhost config,MERGED,2022-01-11 09:37:59.000000000,2022-01-12 15:43:38.000000000,2022-01-12 15:43:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 09:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/04f23a18c8e5b7ac5b777f05e3ffe9803b779f9f', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I21a4fb74b16449db00ba59ba6a058b25e8640abd\n""}, {'number': 2, 'created': '2022-01-11 09:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/043ef3ce9d062170d3487b0422da9ab58259931d', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I21a4fb74b16449db00ba59ba6a058b25e8640abd\n""}, {'number': 3, 'created': '2022-01-11 10:03:07.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/302f388f35d438137a8d1c1410c6a15487dfba65', 'message': ""Fix dependency to purge default vhost config\n\nIt turned out defining dependency for openstacklib::wsgi::apache\ndoesn't properly enforce resource order and the default vhost file\nis not purged properly.\nThis change adds the more explicit dependency to enforce the order\nproperly.\n\nChange-Id: I21a4fb74b16449db00ba59ba6a058b25e8640abd\n""}]",0,824106,302f388f35d438137a8d1c1410c6a15487dfba65,10,3,3,9816,,,0,"Fix dependency to purge default vhost config

It turned out defining dependency for openstacklib::wsgi::apache
doesn't properly enforce resource order and the default vhost file
is not purged properly.
This change adds the more explicit dependency to enforce the order
properly.

Change-Id: I21a4fb74b16449db00ba59ba6a058b25e8640abd
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/06/824106/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,04f23a18c8e5b7ac5b777f05e3ffe9803b779f9f,wsgi-dep, Anchor['designate::install::end'] -> Class['apache'] ,,2,0
openstack%2Fopenstack-ansible-repo_server~master~I14afe3040d8ecd8702edca19877ab50b6e57007f,openstack/openstack-ansible-repo_server,master,I14afe3040d8ecd8702edca19877ab50b6e57007f,Refactor use of include_vars,MERGED,2022-01-12 08:03:19.000000000,2022-01-12 15:39:46.000000000,2022-01-12 15:37:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:03:19.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/a91f79a43badbfd63a28aef4343f87913827519d', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I14afe3040d8ecd8702edca19877ab50b6e57007f\n""}]",0,824310,a91f79a43badbfd63a28aef4343f87913827519d,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I14afe3040d8ecd8702edca19877ab50b6e57007f
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/10/824310/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,a91f79a43badbfd63a28aef4343f87913827519d,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-haproxy_server~master~I65564c23ff0003a575af984c709c1ae365292f35,openstack/openstack-ansible-haproxy_server,master,I65564c23ff0003a575af984c709c1ae365292f35,Refactor use of include_vars,MERGED,2022-01-12 08:48:54.000000000,2022-01-12 15:38:01.000000000,2022-01-12 15:35:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:48:54.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/b4a564795b8f8c684010f49eb6e222586f1c5432', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I65564c23ff0003a575af984c709c1ae365292f35\n""}]",0,824349,b4a564795b8f8c684010f49eb6e222586f1c5432,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I65564c23ff0003a575af984c709c1ae365292f35
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/49/824349/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,b4a564795b8f8c684010f49eb6e222586f1c5432,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,6
openstack%2Fopenstack-ansible-os_barbican~master~I8efdef7687c46d490e0f7a7a00a7f1ca6c32289f,openstack/openstack-ansible-os_barbican,master,I8efdef7687c46d490e0f7a7a00a7f1ca6c32289f,Refactor use of include_vars,MERGED,2022-01-12 08:41:28.000000000,2022-01-12 15:37:40.000000000,2022-01-12 15:34:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:41:28.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/31a0cee8021a3f9e894316ef170c5dff2a88d475', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I8efdef7687c46d490e0f7a7a00a7f1ca6c32289f\n""}]",0,824340,31a0cee8021a3f9e894316ef170c5dff2a88d475,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I8efdef7687c46d490e0f7a7a00a7f1ca6c32289f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/40/824340/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,31a0cee8021a3f9e894316ef170c5dff2a88d475,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Foslo.messaging~master~Id4ccafc95314c86ae918336e42cca64a6acd4d94,openstack/oslo.messaging,master,Id4ccafc95314c86ae918336e42cca64a6acd4d94,[rabbit] use retry parameters during notification sending,MERGED,2021-11-24 16:13:51.000000000,2022-01-12 15:33:27.000000000,2022-01-12 15:29:41.000000000,"[{'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 11604}, {'_account_id': 14510}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-24 16:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/dd3f24a0b14e157a6f9c732abbf446ab6db3cca3', 'message': '[rabbit] use retry parameters during notification sending\n\nThe rabbit backend now applies the [oslo_messaging_notifications]retry,\n[oslo_messaging_rabbit]rabbit_retry_interval, rabbit_retry_backoff and\nrabbit_interval_max configuration parameters when tries to establish the\nconnection to the message bus during notification sending.\n\nThis patch also clarifies the differences between the behavior\nof the kafka and the rabbit drivers in this regard.\n\nCloses-Bug: #1917645\nChange-Id: Id4ccafc95314c86ae918336e42cca64a6acd4d94\n'}, {'number': 2, 'created': '2021-11-25 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/73785dbdbddcdd46e7f93e32d439cb2dce8a726f', 'message': '[rabbit] use retry parameters during notification sending\n\nThe rabbit backend now applies the [oslo_messaging_notifications]retry,\n[oslo_messaging_rabbit]rabbit_retry_interval, rabbit_retry_backoff and\nrabbit_interval_max configuration parameters when tries to establish the\nconnection to the message bus during notification sending.\n\nThis patch also clarifies the differences between the behavior\nof the kafka and the rabbit drivers in this regard.\n\nCloses-Bug: #1917645\nChange-Id: Id4ccafc95314c86ae918336e42cca64a6acd4d94\n'}, {'number': 3, 'created': '2022-01-12 11:23:26.000000000', 'files': ['oslo_messaging/tests/notify/test_notifier.py', 'oslo_messaging/_drivers/pool.py', 'oslo_messaging/tests/drivers/test_pool.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py', 'releasenotes/notes/bug-1917645-rabbit-use-retry-parameter-for-notifications-3f7c508ab4437579.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7b3968d9b012e873a9b393fcefa578c46fca18c6', 'message': '[rabbit] use retry parameters during notification sending\n\nThe rabbit backend now applies the [oslo_messaging_notifications]retry,\n[oslo_messaging_rabbit]rabbit_retry_interval, rabbit_retry_backoff and\nrabbit_interval_max configuration parameters when tries to establish the\nconnection to the message bus during notification sending.\n\nThis patch also clarifies the differences between the behavior\nof the kafka and the rabbit drivers in this regard.\n\nCloses-Bug: #1917645\nChange-Id: Id4ccafc95314c86ae918336e42cca64a6acd4d94\n'}]",11,819142,7b3968d9b012e873a9b393fcefa578c46fca18c6,22,7,3,9708,,,0,"[rabbit] use retry parameters during notification sending

The rabbit backend now applies the [oslo_messaging_notifications]retry,
[oslo_messaging_rabbit]rabbit_retry_interval, rabbit_retry_backoff and
rabbit_interval_max configuration parameters when tries to establish the
connection to the message bus during notification sending.

This patch also clarifies the differences between the behavior
of the kafka and the rabbit drivers in this regard.

Closes-Bug: #1917645
Change-Id: Id4ccafc95314c86ae918336e42cca64a6acd4d94
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/42/819142/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/notify/test_notifier.py', 'oslo_messaging/_drivers/pool.py', 'oslo_messaging/tests/drivers/test_pool.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/notify/messaging.py', 'oslo_messaging/_drivers/common.py', 'oslo_messaging/_drivers/impl_rabbit.py']",7,dd3f24a0b14e157a6f9c732abbf446ab6db3cca3,bug/1917645," def __init__(self, conf, url, purpose, retry=None): self.max_retries = retry self.connection.ensure_connection( errback=on_error, max_retries=self.max_retries, interval_start=self.interval_start or 1, interval_step=self.interval_stepping, interval_max=self.interval_max, )"," def __init__(self, conf, url, purpose): self.connection.ensure_connection(errback=on_error)",52,26
openstack%2Fopenstack-ansible-os_magnum~master~I0aa7af76b19d143128113557fec3ab928280faab,openstack/openstack-ansible-os_magnum,master,I0aa7af76b19d143128113557fec3ab928280faab,Refactor use of include_vars,MERGED,2022-01-12 08:29:53.000000000,2022-01-12 15:33:15.000000000,2022-01-12 15:29:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:29:53.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/b7b1f44a039281361331a1a64f3152fc58969ce0', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I0aa7af76b19d143128113557fec3ab928280faab\n""}]",0,824328,b7b1f44a039281361331a1a64f3152fc58969ce0,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I0aa7af76b19d143128113557fec3ab928280faab
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/28/824328/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,b7b1f44a039281361331a1a64f3152fc58969ce0,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,6
openstack%2Fansible-role-systemd_mount~master~Idbeb3e61d0398944af8d73db5d98352de95b91a7,openstack/ansible-role-systemd_mount,master,Idbeb3e61d0398944af8d73db5d98352de95b91a7,Refactor use of include_vars,MERGED,2022-01-12 08:02:03.000000000,2022-01-12 15:32:23.000000000,2022-01-12 15:28:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:02:03.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/89c7ec5292657552c50ff01b4975392c249152c7', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Idbeb3e61d0398944af8d73db5d98352de95b91a7\n""}]",0,824289,89c7ec5292657552c50ff01b4975392c249152c7,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Idbeb3e61d0398944af8d73db5d98352de95b91a7
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/89/824289/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,89c7ec5292657552c50ff01b4975392c249152c7,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fansible-role-systemd_networkd~master~I4d4a51ca805857d56f108c3717beaa5648f86ccb,openstack/ansible-role-systemd_networkd,master,I4d4a51ca805857d56f108c3717beaa5648f86ccb,Refactor use of include_vars,MERGED,2022-01-12 08:00:08.000000000,2022-01-12 15:29:51.000000000,2022-01-12 15:26:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:00:08.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/c802d037b93976bc10cb6612e77316669a8f3845', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I4d4a51ca805857d56f108c3717beaa5648f86ccb\n""}]",0,824288,c802d037b93976bc10cb6612e77316669a8f3845,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I4d4a51ca805857d56f108c3717beaa5648f86ccb
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/88/824288/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,c802d037b93976bc10cb6612e77316669a8f3845,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - files: skip: true",7,4
openstack%2Fopenstack-ansible-memcached_server~master~I636e89ba06e513a559a51b1086d8cb6885ecb3e4,openstack/openstack-ansible-memcached_server,master,I636e89ba06e513a559a51b1086d8cb6885ecb3e4,Refactor use of include_vars,MERGED,2022-01-12 08:43:36.000000000,2022-01-12 15:27:59.000000000,2022-01-12 15:25:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:43:36.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/7b231960a721f33173546b0d7f6827473d5bf871', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I636e89ba06e513a559a51b1086d8cb6885ecb3e4\n""}]",0,824343,7b231960a721f33173546b0d7f6827473d5bf871,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I636e89ba06e513a559a51b1086d8cb6885ecb3e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/43/824343/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,7b231960a721f33173546b0d7f6827473d5bf871,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_tacker~master~I854ca5c48f487ed140aafcb79e4ac0cd60b83597,openstack/openstack-ansible-os_tacker,master,I854ca5c48f487ed140aafcb79e4ac0cd60b83597,Refactor use of include_vars,MERGED,2022-01-12 08:10:03.000000000,2022-01-12 15:27:38.000000000,2022-01-12 15:24:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:10:03.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/a19c326390e7fcb7e42aafe604f110fd3bac2ffb', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I854ca5c48f487ed140aafcb79e4ac0cd60b83597\n""}]",0,824317,a19c326390e7fcb7e42aafe604f110fd3bac2ffb,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I854ca5c48f487ed140aafcb79e4ac0cd60b83597
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/17/824317/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,a19c326390e7fcb7e42aafe604f110fd3bac2ffb,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fopenstack-ansible-galera_server~master~I703079f9ba98ca4c0c825bd36746280d91dd4a5b,openstack/openstack-ansible-galera_server,master,I703079f9ba98ca4c0c825bd36746280d91dd4a5b,Refactor use of include_vars,MERGED,2022-01-12 08:50:15.000000000,2022-01-12 15:26:36.000000000,2022-01-12 15:22:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:50:15.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/5f924870f67e459ab77ed8178f130c2404721f1f', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I703079f9ba98ca4c0c825bd36746280d91dd4a5b\n""}]",0,824350,5f924870f67e459ab77ed8178f130c2404721f1f,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I703079f9ba98ca4c0c825bd36746280d91dd4a5b
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/50/824350/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,5f924870f67e459ab77ed8178f130c2404721f1f,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_placement~master~If58b7e10f39affe2f34af9e9503bc1f90caa4b0e,openstack/openstack-ansible-os_placement,master,If58b7e10f39affe2f34af9e9503bc1f90caa4b0e,Refactor use of include_vars,MERGED,2022-01-12 08:14:47.000000000,2022-01-12 15:24:32.000000000,2022-01-12 15:20:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:14:47.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/ee909497f29724048b5f46f3b758d6880bd883e5', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: If58b7e10f39affe2f34af9e9503bc1f90caa4b0e\n""}]",0,824320,ee909497f29724048b5f46f3b758d6880bd883e5,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: If58b7e10f39affe2f34af9e9503bc1f90caa4b0e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/20/824320/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,ee909497f29724048b5f46f3b758d6880bd883e5,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fopenstack-ansible-openstack_hosts~master~If97b59759d8f89af371f8b0a4538402b1c3320c1,openstack/openstack-ansible-openstack_hosts,master,If97b59759d8f89af371f8b0a4538402b1c3320c1,Refactor use of include_vars,MERGED,2022-01-12 08:55:17.000000000,2022-01-12 15:19:52.000000000,2022-01-12 15:17:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:55:17.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/2de3def034e4ef853e90442553bb26b435545309', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: If97b59759d8f89af371f8b0a4538402b1c3320c1\n""}]",0,824354,2de3def034e4ef853e90442553bb26b435545309,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: If97b59759d8f89af371f8b0a4538402b1c3320c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/54/824354/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,2de3def034e4ef853e90442553bb26b435545309,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_masakari~master~Id5beb6f4b7cafb1841cb2f1cb075cd04d911c456,openstack/openstack-ansible-os_masakari,master,Id5beb6f4b7cafb1841cb2f1cb075cd04d911c456,Refactor use of include_vars,MERGED,2022-01-12 08:27:22.000000000,2022-01-12 15:19:36.000000000,2022-01-12 15:16:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:27:22.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/16f58914cdb4ecf6e5a8681286d4550c624b7040', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Id5beb6f4b7cafb1841cb2f1cb075cd04d911c456\n""}]",0,824326,16f58914cdb4ecf6e5a8681286d4550c624b7040,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Id5beb6f4b7cafb1841cb2f1cb075cd04d911c456
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/26/824326/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,16f58914cdb4ecf6e5a8681286d4550c624b7040,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fopenstack-ansible-os_ceilometer~master~I64e3f78eff6bf084fa7ab54d88b667b8fb07c15e,openstack/openstack-ansible-os_ceilometer,master,I64e3f78eff6bf084fa7ab54d88b667b8fb07c15e,Refactor use of include_vars,MERGED,2022-01-12 08:39:42.000000000,2022-01-12 15:18:21.000000000,2022-01-12 15:15:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:39:42.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e640259330028ee23d5fc4cae23ff94c5a8ffbca', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I64e3f78eff6bf084fa7ab54d88b667b8fb07c15e\n""}]",0,824338,e640259330028ee23d5fc4cae23ff94c5a8ffbca,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I64e3f78eff6bf084fa7ab54d88b667b8fb07c15e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/38/824338/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e640259330028ee23d5fc4cae23ff94c5a8ffbca,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_heat~master~If9f874305d0470f267bc8bbc74e879ec11860cac,openstack/openstack-ansible-os_heat,master,If9f874305d0470f267bc8bbc74e879ec11860cac,Refactor use of include_vars,MERGED,2022-01-12 08:33:50.000000000,2022-01-12 15:15:53.000000000,2022-01-12 15:12:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:33:50.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/33d6e012db6d2ea52a863bac856f6b78da826385', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: If9f874305d0470f267bc8bbc74e879ec11860cac\n""}]",0,824332,33d6e012db6d2ea52a863bac856f6b78da826385,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: If9f874305d0470f267bc8bbc74e879ec11860cac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/32/824332/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,33d6e012db6d2ea52a863bac856f6b78da826385,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-rsyslog_server~master~I68087b411e0a056bc2c9a654bf975ea36de5fbec,openstack/openstack-ansible-rsyslog_server,master,I68087b411e0a056bc2c9a654bf975ea36de5fbec,Refactor use of include_vars,MERGED,2022-01-12 08:57:27.000000000,2022-01-12 15:13:24.000000000,2022-01-12 15:09:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:57:27.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/bb0c545fc3eda60a8b049169ea5c79322f262012', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I68087b411e0a056bc2c9a654bf975ea36de5fbec\n""}]",0,824356,bb0c545fc3eda60a8b049169ea5c79322f262012,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I68087b411e0a056bc2c9a654bf975ea36de5fbec
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/56/824356/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,bb0c545fc3eda60a8b049169ea5c79322f262012,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_blazar~master~Ibd7e65b25fca496a6393692c6952c9604430ec92,openstack/openstack-ansible-os_blazar,master,Ibd7e65b25fca496a6393692c6952c9604430ec92,Refactor use of include_vars,MERGED,2022-01-12 08:40:32.000000000,2022-01-12 15:11:50.000000000,2022-01-12 15:09:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:40:32.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/b616643319079ffd820003cefd2ae231a2201d74', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ibd7e65b25fca496a6393692c6952c9604430ec92\n""}]",0,824339,b616643319079ffd820003cefd2ae231a2201d74,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ibd7e65b25fca496a6393692c6952c9604430ec92
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/39/824339/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,b616643319079ffd820003cefd2ae231a2201d74,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fopenstack-ansible-rsyslog_client~master~Ie02e3d6c769f3668a29f06af641f61c613eb74f7,openstack/openstack-ansible-rsyslog_client,master,Ie02e3d6c769f3668a29f06af641f61c613eb74f7,Refactor use of include_vars,MERGED,2022-01-12 08:56:28.000000000,2022-01-12 15:11:50.000000000,2022-01-12 15:01:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:56:28.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/3fe984ef0a03c215685009a8c0b74ad1fec5eebf', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ie02e3d6c769f3668a29f06af641f61c613eb74f7\n""}]",0,824355,3fe984ef0a03c215685009a8c0b74ad1fec5eebf,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ie02e3d6c769f3668a29f06af641f61c613eb74f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/55/824355/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,3fe984ef0a03c215685009a8c0b74ad1fec5eebf,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ie2d656bc04ea600e35735a7a8630cadd915469b7,openstack/openstack-ansible-rabbitmq_server,master,Ie2d656bc04ea600e35735a7a8630cadd915469b7,Refactor use of include_vars,MERGED,2022-01-12 08:04:17.000000000,2022-01-12 15:11:04.000000000,2022-01-12 15:08:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:04:17.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e41730d5319c03a91b3e1db1621a021b37f3a3bd', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ie2d656bc04ea600e35735a7a8630cadd915469b7\n""}]",0,824311,e41730d5319c03a91b3e1db1621a021b37f3a3bd,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ie2d656bc04ea600e35735a7a8630cadd915469b7
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/11/824311/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e41730d5319c03a91b3e1db1621a021b37f3a3bd,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_swift~master~Ib586cfc978f1e5fa05f6ce4add8a337eb433f82f,openstack/openstack-ansible-os_swift,master,Ib586cfc978f1e5fa05f6ce4add8a337eb433f82f,Refactor use of include_vars,MERGED,2022-01-12 08:11:02.000000000,2022-01-12 15:05:32.000000000,2022-01-12 14:59:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:11:02.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/3cdb3b1bdd6f7f1e1d1e3171700429ef19619c4e', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ib586cfc978f1e5fa05f6ce4add8a337eb433f82f\n""}]",0,824318,3cdb3b1bdd6f7f1e1d1e3171700429ef19619c4e,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ib586cfc978f1e5fa05f6ce4add8a337eb433f82f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/18/824318/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,3cdb3b1bdd6f7f1e1d1e3171700429ef19619c4e,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_cinder~master~I5c50529b5e73bac6094c203d49a32497c7a388c3,openstack/openstack-ansible-os_cinder,master,I5c50529b5e73bac6094c203d49a32497c7a388c3,Refactor use of include_vars,MERGED,2022-01-12 08:38:44.000000000,2022-01-12 15:01:28.000000000,2022-01-12 14:59:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:38:44.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/5c7fa97a00d704a62c866eb8c061d8f5a57dea21', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I5c50529b5e73bac6094c203d49a32497c7a388c3\n""}]",0,824337,5c7fa97a00d704a62c866eb8c061d8f5a57dea21,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I5c50529b5e73bac6094c203d49a32497c7a388c3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/37/824337/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,5c7fa97a00d704a62c866eb8c061d8f5a57dea21,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fskyline-console~master~I3f19dc907bd9fc158f73d34af4725400a9388d06,openstack/skyline-console,master,I3f19dc907bd9fc158f73d34af4725400a9388d06,docs: Update README doc file,MERGED,2022-01-12 10:16:03.000000000,2022-01-12 15:01:04.000000000,2022-01-12 15:01:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-01-12 10:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/374928324987aa8bddda2596e2fff220d0ac67e3', 'message': 'docs: Update README doc file\n\nUpdate README doc file.\n\nChange-Id: I3f19dc907bd9fc158f73d34af4725400a9388d06\n'}, {'number': 2, 'created': '2022-01-12 13:11:17.000000000', 'files': ['README-zh_CN.md', '.zuul.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8c0247f99b88027f100bd610287eef31c2a1a3e5', 'message': 'docs: Update README doc file\n\nUpdate README doc file.\n\nChange-Id: I3f19dc907bd9fc158f73d34af4725400a9388d06\n'}]",0,824369,8c0247f99b88027f100bd610287eef31c2a1a3e5,8,2,2,28706,,,0,"docs: Update README doc file

Update README doc file.

Change-Id: I3f19dc907bd9fc158f73d34af4725400a9388d06
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/69/824369/1 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'README.md']",2,374928324987aa8bddda2596e2fff220d0ac67e3,,**Table of contents** - [Instructions](#instructions) - [Resources](#resources) - [Prerequisites](#prerequisites) - [Local Environment](#local-environment) - [Usage](#usage) - [Docs](#docs) - [How to develop](#how-to-develop) - [How to test](#how-to-test) ## Resources - [Wiki](https://wiki.openstack.org/wiki/Skyline) - [Bug Tracker](https://launchpad.net/skyline-apiserver) ,,33,1
openstack%2Fopenstack-ansible-os_trove~master~I41a360e6f99ecd0ca5e4c13888bff4f363d8bc33,openstack/openstack-ansible-os_trove,master,I41a360e6f99ecd0ca5e4c13888bff4f363d8bc33,Refactor use of include_vars,MERGED,2022-01-12 08:07:18.000000000,2022-01-12 14:56:52.000000000,2022-01-12 14:52:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:07:18.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/910fd589b78aac1c3be8cc7b751688e794333797', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I41a360e6f99ecd0ca5e4c13888bff4f363d8bc33\n""}]",0,824315,910fd589b78aac1c3be8cc7b751688e794333797,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I41a360e6f99ecd0ca5e4c13888bff4f363d8bc33
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/15/824315/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,910fd589b78aac1c3be8cc7b751688e794333797,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_senlin~master~Ib2e8450da57de56587b47b0e2f05c9f866dd6835,openstack/openstack-ansible-os_senlin,master,Ib2e8450da57de56587b47b0e2f05c9f866dd6835,Refactor use of include_vars,MERGED,2022-01-12 08:11:57.000000000,2022-01-12 14:56:23.000000000,2022-01-12 14:52:12.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:11:57.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/308255fde41b12e702e39edee3951de283a9200b', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: Ib2e8450da57de56587b47b0e2f05c9f866dd6835\n""}]",0,824319,308255fde41b12e702e39edee3951de283a9200b,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: Ib2e8450da57de56587b47b0e2f05c9f866dd6835
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/19/824319/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,308255fde41b12e702e39edee3951de283a9200b,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_octavia~master~I5cc0b1bde814abb0a4afe1567b9b23230a57f275,openstack/openstack-ansible-os_octavia,master,I5cc0b1bde814abb0a4afe1567b9b23230a57f275,Refactor use of include_vars,MERGED,2022-01-12 08:17:23.000000000,2022-01-12 14:56:14.000000000,2022-01-12 14:52:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:17:23.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d2b3ad5dfdec6a2d8c7a4baf0478bc62916d62cb', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I5cc0b1bde814abb0a4afe1567b9b23230a57f275\n""}]",0,824321,d2b3ad5dfdec6a2d8c7a4baf0478bc62916d62cb,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I5cc0b1bde814abb0a4afe1567b9b23230a57f275
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/21/824321/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,d2b3ad5dfdec6a2d8c7a4baf0478bc62916d62cb,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-os_nova~master~I046def5a5cc94f680bc0daa3a2a1734f325d8022,openstack/openstack-ansible-os_nova,master,I046def5a5cc94f680bc0daa3a2a1734f325d8022,Refactor use of include_vars,MERGED,2022-01-12 08:18:19.000000000,2022-01-12 14:52:55.000000000,2022-01-12 14:49:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:18:19.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1c353392c3315d611fda669b8004d640240f5a2d', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I046def5a5cc94f680bc0daa3a2a1734f325d8022\n""}]",0,824322,1c353392c3315d611fda669b8004d640240f5a2d,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I046def5a5cc94f680bc0daa3a2a1734f325d8022
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/22/824322/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,1c353392c3315d611fda669b8004d640240f5a2d,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fansible-role-uwsgi~master~I54fce299febb8c93434919f1c15a223850045cbc,openstack/ansible-role-uwsgi,master,I54fce299febb8c93434919f1c15a223850045cbc,Refactor use of include_vars,MERGED,2022-01-12 07:55:19.000000000,2022-01-12 14:52:54.000000000,2022-01-12 14:48:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 07:55:19.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/de791427dc721c3f71955661ebc0dbfa8563ca83', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I54fce299febb8c93434919f1c15a223850045cbc\n""}]",0,824287,de791427dc721c3f71955661ebc0dbfa8563ca83,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I54fce299febb8c93434919f1c15a223850045cbc
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/87/824287/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,de791427dc721c3f71955661ebc0dbfa8563ca83,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fopenstack-ansible-os_keystone~master~I51e629ad111b90877ce3ee3ee0353be687f41d35,openstack/openstack-ansible-os_keystone,master,I51e629ad111b90877ce3ee3ee0353be687f41d35,Refactor use of include_vars,MERGED,2022-01-12 08:30:47.000000000,2022-01-12 14:52:37.000000000,2022-01-12 14:49:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:30:47.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a9c453bb64cf97c497b5a654b3970b5e53e0e68d', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I51e629ad111b90877ce3ee3ee0353be687f41d35\n""}]",0,824329,a9c453bb64cf97c497b5a654b3970b5e53e0e68d,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I51e629ad111b90877ce3ee3ee0353be687f41d35
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/29/824329/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,a9c453bb64cf97c497b5a654b3970b5e53e0e68d,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fvalidations-common~master~I83c25d84c5d996a8f36852bc1ba6569ca46c5ca5,openstack/validations-common,master,I83c25d84c5d996a8f36852bc1ba6569ca46c5ca5,Enabling end-of-file-fixer and simplifying testenvs,ABANDONED,2022-01-12 11:31:31.000000000,2022-01-12 14:47:50.000000000,,[],"[{'number': 1, 'created': '2022-01-12 11:31:31.000000000', 'files': ['test-requirements.txt', 'scripts/bindep-install', 'tests/hosts.ini', 'LICENSE', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1e36ecc7422a0ae4d1fceb9c562b49ff2cd037c5', 'message': 'Enabling end-of-file-fixer and simplifying testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I83c25d84c5d996a8f36852bc1ba6569ca46c5ca5\n'}]",0,824395,1e36ecc7422a0ae4d1fceb9c562b49ff2cd037c5,2,0,1,32926,,,0,"Enabling end-of-file-fixer and simplifying testenvs

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I83c25d84c5d996a8f36852bc1ba6569ca46c5ca5
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/95/824395/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'scripts/bindep-install', 'tests/hosts.ini', 'LICENSE', 'tox.ini']",5,1e36ecc7422a0ae4d1fceb9c562b49ff2cd037c5,molecule-centos8,commands_pre =commands =[testenv:end-of-file] envdir = {toxworkdir}/linters deps = {[testenv:linters]deps} commands = python -m pre_commit run end-of-file-fixer -a {[testenv:end-of-file]commands}[docs][pdf-docs]deps = {[docs]deps},commands = ansible-core<2.12 # GPLv3+ ansible-core<2.12 ansible-galaxy install -fr {toxinidir}/ansible-collections-requirements.yml ansible-core<2.12 # GPLv3+[testenv:docs][testenv:pdf-docs]deps = {[testenv:docs]deps},16,11
openstack%2Ftripleo-validations~stable%2Fvictoria~I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,openstack/tripleo-validations,stable/victoria,I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,[Victoria-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure,MERGED,2022-01-11 09:51:01.000000000,2022-01-12 14:41:08.000000000,2022-01-12 14:41:08.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-11 09:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943', 'message': '[Victoria-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)\n(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)\n'}, {'number': 2, 'created': '2022-01-11 10:16:08.000000000', 'files': ['.ansible-lint_rules/RoleNames.py', '.ansible-lint_rules/ValidationHasMetadataRule.py', '.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9def8eafbcdb2244a787a97b80865cb420eb85c0', 'message': ""[Victoria-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nRemove RoleNames ansible-lint custom rule\n\nAs this rule has been merged upstream, we don't need it anymore locally.\n\nThis patch also bumps the ansible-lint release from v4.3.5 to v5.0.3\n\nIt also mocks the following modules and roles coming from\nvalidations-common to pass the --syntax-check:\n- hiera, validations_read_ini and warn customs libs\n- check_latest_packages_version role\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)\n(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)\n(cherry picked from commit 980865086400a86e106c08da24603ffd330c538d)\n""}]",0,824120,9def8eafbcdb2244a787a97b80865cb420eb85c0,8,5,2,32926,,,0,"[Victoria-only] Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure

Remove RoleNames ansible-lint custom rule

As this rule has been merged upstream, we don't need it anymore locally.

This patch also bumps the ansible-lint release from v4.3.5 to v5.0.3

It also mocks the following modules and roles coming from
validations-common to pass the --syntax-check:
- hiera, validations_read_ini and warn customs libs
- check_latest_packages_version role

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac
(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)
(cherry picked from commit 3257d51775f2dd7a15d6104a2c2892500c2e46b5)
(cherry picked from commit 980865086400a86e106c08da24603ffd330c538d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/824120/2 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,5492f5f39ac16ea8e9bf75f7c05f1e61c9d1e943,ansiblelintbump, - repo: https://github.com/ansible-community/ansible-lint rev: v5.3.2, - repo: https://github.com/ansible/ansible-lint.git rev: v4.3.5,2,2
openstack%2Fopenstack-ansible-lxc_container_create~master~I055ec8c40ede15ee0b0e3534550e4c166106eadc,openstack/openstack-ansible-lxc_container_create,master,I055ec8c40ede15ee0b0e3534550e4c166106eadc,Drop plugins from role requirements,MERGED,2022-01-11 14:44:35.000000000,2022-01-12 14:40:48.000000000,2022-01-12 14:38:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 14:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/20b51c1d21751a01e115da7fa2c9894fc31b0ecf', 'message': 'Drop plugins from role requirements\n\nChange-Id: I055ec8c40ede15ee0b0e3534550e4c166106eadc\n'}, {'number': 2, 'created': '2022-01-11 20:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/25b31cc7f64fc04188f876c839e6dc6595836e84', 'message': 'Drop plugins from role requirements\n\nChange-Id: I055ec8c40ede15ee0b0e3534550e4c166106eadc\n'}, {'number': 3, 'created': '2022-01-12 10:03:51.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/4e0d864ff08c302520b1c61078dcc024c28af103', 'message': 'Drop plugins from role requirements\n\nChange-Id: I055ec8c40ede15ee0b0e3534550e4c166106eadc\n'}]",1,824195,4e0d864ff08c302520b1c61078dcc024c28af103,13,3,3,28619,,,0,"Drop plugins from role requirements

Change-Id: I055ec8c40ede15ee0b0e3534550e4c166106eadc
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/95/824195/2 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,20b51c1d21751a01e115da7fa2c9894fc31b0ecf,osa/plugins_collection,,dependencies: - plugins,0,2
openstack%2Fnetworking-ovn~stable%2Ftrain~Id83bee82e5c476395ff422dcaf89c0095e74a8ec,openstack/networking-ovn,stable/train,Id83bee82e5c476395ff422dcaf89c0095e74a8ec,Add wait event for metadataagent sb_idl,MERGED,2022-01-07 18:16:38.000000000,2022-01-12 14:37:17.000000000,2022-01-12 14:33:31.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 18:16:38.000000000', 'files': ['networking_ovn/agent/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/57d27d6e2187066e9bdd9a4d0068abdf6e77ba7c', 'message': ""Add wait event for metadataagent sb_idl\n\nresolve bug:'MetadataAgent' object has no attribute 'sb_idl'\n\n(cherry picked from Neutron 385b0ad203da40a2c0110948c0f46feb78ead2be)\n\nCloses-Bug: #1953295\nChange-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec\n""}]",0,823853,57d27d6e2187066e9bdd9a4d0068abdf6e77ba7c,8,3,1,6773,,,0,"Add wait event for metadataagent sb_idl

resolve bug:'MetadataAgent' object has no attribute 'sb_idl'

(cherry picked from Neutron 385b0ad203da40a2c0110948c0f46feb78ead2be)

Closes-Bug: #1953295
Change-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/53/823853/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/agent.py'],1,57d27d6e2187066e9bdd9a4d0068abdf6e77ba7c,,"import threading self._sb_idl = None self._post_fork_event = threading.Event() @property def sb_idl(self): if not self._sb_idl: self._post_fork_event.wait() return self._sb_idl @sb_idl.setter def sb_idl(self, val): self._sb_idl = val self._post_fork_event.clear() # Now IDL connections can be safely used. self._post_fork_event.set() ",,17,0
openstack%2Fansible-hardening~master~I078590020a98f0b5759f3de524753e01bb9c5597,openstack/ansible-hardening,master,I078590020a98f0b5759f3de524753e01bb9c5597,Refactor use of include_vars,MERGED,2022-01-12 08:52:48.000000000,2022-01-12 14:26:36.000000000,2022-01-12 14:23:14.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:52:48.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/6007645fd7814ccda8970a2625947a40f0594d84', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I078590020a98f0b5759f3de524753e01bb9c5597\n""}]",0,824352,6007645fd7814ccda8970a2625947a40f0594d84,9,3,1,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I078590020a98f0b5759f3de524753e01bb9c5597
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/52/824352/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,6007645fd7814ccda8970a2625947a40f0594d84,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-lxc_container_create~master~I844713dc00fc6cfb073776069226e3625ca6f570,openstack/openstack-ansible-lxc_container_create,master,I844713dc00fc6cfb073776069226e3625ca6f570,Use only supported functional jobs,MERGED,2022-01-11 20:47:34.000000000,2022-01-12 14:23:52.000000000,2022-01-12 14:14:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 20:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/3d0343bbda6ed45e1a86d50f19c9f69767e5d676', 'message': 'Use only supported functional jobs\n\nThis drops jobs for unsupported Ubuntu Focal and CentOS 8\n\nChange-Id: I844713dc00fc6cfb073776069226e3625ca6f570\n'}, {'number': 2, 'created': '2022-01-12 10:03:16.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/e5325384f9b50ed55fffaf8a37e5390bb9b4c1df', 'message': 'Use only supported functional jobs\n\nThis drops jobs for unsupported Ubuntu Bionic and CentOS 8\n\nChange-Id: I844713dc00fc6cfb073776069226e3625ca6f570\n'}]",0,824234,e5325384f9b50ed55fffaf8a37e5390bb9b4c1df,10,3,2,28619,,,0,"Use only supported functional jobs

This drops jobs for unsupported Ubuntu Bionic and CentOS 8

Change-Id: I844713dc00fc6cfb073776069226e3625ca6f570
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/34/824234/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,3d0343bbda6ed45e1a86d50f19c9f69767e5d676,, name: openstack-ansible-dir-centos-8-stream nodeset: centos-8-stream name: openstack-ansible-overlayfs-centos-8-stream nodeset: centos-8-stream, name: openstack-ansible-dir-centos-8 nodeset: centos-8 name: openstack-ansible-overlayfs-centos-8 nodeset: centos-8 - job: name: openstack-ansible-dir-ubuntu-bionic parent: openstack-ansible-functional nodeset: ubuntu-bionic vars: tox_env: dir - job: name: openstack-ansible-overlayfs-ubuntu-bionic parent: openstack-ansible-functional nodeset: ubuntu-bionic vars: tox_env: ofs - job: name: openstack-ansible-btrfs-ubuntu-bionic parent: openstack-ansible-functional nodeset: ubuntu-bionic vars: tox_env: btrfs - job: name: openstack-ansible-zfs-ubuntu-bionic parent: openstack-ansible-functional nodeset: ubuntu-bionic vars: tox_env: zfs,8,43
openstack%2Fneutron~master~Ifa689fb964ea7335d0fafcf1462cbf820604c7c2,openstack/neutron,master,Ifa689fb964ea7335d0fafcf1462cbf820604c7c2,Allow to use static Local IP openflow rules,MERGED,2021-11-10 13:07:36.000000000,2022-01-12 14:20:23.000000000,2022-01-12 14:12:03.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-10 13:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/440b98a82fe75f76dad57b2f77ef9f2081e5854e', 'message': 'Allow to use static Local IP openflow rules\n\nThis avoids conntrack which is usable in OVS offload\nand DPDK cases.\nWIP: add config option and unit tests\n\nPartial-Bug: #1930200\nChange-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2\n'}, {'number': 2, 'created': '2021-11-22 14:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d37ef3dec8cc7025b5030a4d4f224cc30c3a89d3', 'message': 'Allow to use static Local IP openflow rules\n\nThis avoids conntrack which is usable in OVS offload\nand DPDK cases.\nThis also allows to use Local IP feature together with\nopenvswitch firewall.\n\nWIP: add unit test\n\nPartial-Bug: #1930200\nChange-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2\n'}, {'number': 3, 'created': '2021-11-23 08:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f27ddfffe189a9eee072c4317387eb5658f140e0', 'message': 'Allow to use static Local IP openflow rules\n\nThis avoids conntrack which is usable in OVS offload\nand DPDK cases.\nThis also allows to use Local IP feature together with\nopenvswitch firewall.\n\nWIP: add unit test\n\nPartial-Bug: #1930200\nChange-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2\n'}, {'number': 4, 'created': '2021-11-23 08:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02a2a0252318bb4eb7618232dceb390f95753d47', 'message': 'Allow to use static Local IP openflow rules\n\nThis avoids conntrack which is usable in OVS offload\nand DPDK cases.\nThis also allows to use Local IP feature together with\nopenvswitch firewall.\n\nPartial-Bug: #1930200\nChange-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2\n'}, {'number': 5, 'created': '2021-11-26 13:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15b3c291bc88f9affe8526ed0339ffe1cc6749bf', 'message': 'Allow to use static Local IP openflow rules\n\nThis avoids conntrack which is usable in OVS offload\nand DPDK cases.\nThis also allows to use Local IP feature together with\nopenvswitch firewall.\n\nPartial-Bug: #1930200\nChange-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2\n'}, {'number': 6, 'created': '2022-01-10 14:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5b5892e0d51e858671adc0e8f505dabc215a4e4', 'message': 'Allow to use static Local IP openflow rules\n\nThis avoids conntrack which is usable in OVS offload\nand DPDK cases.\nThis also allows to use Local IP feature together with\nopenvswitch firewall.\n\nPartial-Bug: #1930200\nChange-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2\n'}, {'number': 7, 'created': '2022-01-12 08:23:26.000000000', 'files': ['neutron/tests/unit/agent/l2/extensions/test_local_ip.py', 'neutron/agent/l2/extensions/local_ip.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e71a451958e15e7593bf5f32603c7c653c58aff', 'message': 'Allow to use static Local IP openflow rules\n\nThis avoids conntrack which is usable in OVS offload\nand DPDK cases.\nThis also allows to use Local IP feature together with\nopenvswitch firewall.\n\nPartial-Bug: #1930200\nChange-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2\n'}]",10,817399,3e71a451958e15e7593bf5f32603c7c653c58aff,51,6,7,5948,,,0,"Allow to use static Local IP openflow rules

This avoids conntrack which is usable in OVS offload
and DPDK cases.
This also allows to use Local IP feature together with
openvswitch firewall.

Partial-Bug: #1930200
Change-Id: Ifa689fb964ea7335d0fafcf1462cbf820604c7c2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/817399/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l2/extensions/local_ip.py'],1,440b98a82fe75f76dad57b2f77ef9f2081e5854e,bug/1930200,"from os_ken.lib.packet import in_proto as ip_proto def setup_static_local_ip_translation(self, vlan, local_ip, dest_ip, mac): (dp, ofp, ofpp) = self.int_br._get_dp() common_match_kwargs = { 'reg6': vlan, 'ipv4_dst': local_ip, 'eth_type': ether_types.ETH_TYPE_IP} common_specs = [ ofpp.NXFlowSpecMatch(src=ether_types.ETH_TYPE_IP, dst=('eth_type', 0), n_bits=16), ofpp.NXFlowSpecMatch(src=('eth_src', 0), dst=('eth_dst', 0), n_bits=48), ofpp.NXFlowSpecMatch(src=('eth_dst', 0), dst=('eth_src', 0), n_bits=48), ofpp.NXFlowSpecMatch(src=('ipv4_src', 0), dst=('ipv4_dst', 0), n_bits=32), ofpp.NXFlowSpecMatch(src=int(netaddr.IPAddress(dest_ip)), dst=('ipv4_src', 0), n_bits=32), ofpp.NXFlowSpecMatch(src=vlan, dst=('reg6', 0), n_bits=4), ofpp.NXFlowSpecLoad(src=int(netaddr.IPAddress(local_ip)), dst=('ipv4_src', 0), n_bits=32), ofpp.NXFlowSpecOutput(src=('in_port', 0), dst='', n_bits=32), ] for specs, match_kwargs in [self._icmp_flow_match_specs(ofpp), self._tcp_flow_match_specs(ofpp), self._udp_flow_match_specs(ofpp)]: flow_specs = common_specs + specs actions = [ ofpp.NXActionLearn( table_id=ovs_constants.LOCAL_IP_TABLE, cookie=self.int_br.default_cookie, priority=20, idle_timeout=30, hard_timeout=300, specs=flow_specs), ofpp.OFPActionSetField(ipv4_dst=dest_ip), ofpp.NXActionResubmitTable(table_id=ovs_constants.TRANSIENT_TABLE)] match = ofpp.OFPMatch(**common_match_kwargs, **match_kwargs) self.int_br.install_apply_actions(table_id=ovs_constants.LOCAL_IP_TABLE, match=match, priority=10, actions=actions) # avoid NAT to self and let VM with local IP access ""true"" IP owner self.int_br.add_flow( table=ovs_constants.LOCAL_IP_TABLE, priority=11, nw_src=dest_ip, nw_dst=local_ip, reg6=vlan, dl_type=""0x{:04x}"".format(ether_types.ETH_TYPE_IP), actions='resubmit(,{:d})'.format(ovs_constants.TRANSIENT_TABLE) ) @staticmethod def _icmp_flow_match_specs(ofpp): specs = [ ofpp.NXFlowSpecMatch(src=ip_proto.IPPROTO_ICMP, dst=('ip_proto', 0), n_bits=8) ] match_kwargs = {'ip_proto': ip_proto.IPPROTO_ICMP} return specs, match_kwargs @staticmethod def _tcp_flow_match_specs(ofpp): specs = [ ofpp.NXFlowSpecMatch(src=ip_proto.IPPROTO_TCP, dst=('ip_proto', 0), n_bits=8), ofpp.NXFlowSpecMatch(src=('tcp_src', 0), dst=('tcp_dst', 0), n_bits=16), ofpp.NXFlowSpecMatch(src=('tcp_dst', 0), dst=('tcp_src', 0), n_bits=16)] match_kwargs = {'ip_proto': ip_proto.IPPROTO_TCP} return specs, match_kwargs @staticmethod def _udp_flow_match_specs(ofpp): specs = [ ofpp.NXFlowSpecMatch(src=ip_proto.IPPROTO_UDP, dst=('ip_proto', 0), n_bits=8), ofpp.NXFlowSpecMatch(src=('udp_src', 0), dst=('udp_dst', 0), n_bits=16), ofpp.NXFlowSpecMatch(src=('udp_dst', 0), dst=('udp_src', 0), n_bits=16)] match_kwargs = {'ip_proto': ip_proto.IPPROTO_UDP} return specs, match_kwargs",,104,0
openstack%2Fironic~master~I423b387a9fe9b4d0a13ecf31a89f04c32cb26950,openstack/ironic,master,I423b387a9fe9b4d0a13ecf31a89f04c32cb26950,Fix Redfish RAID deploy steps,MERGED,2022-01-03 13:40:16.000000000,2022-01-12 14:13:22.000000000,2022-01-12 14:10:28.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-03 13:40:16.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'releasenotes/notes/fix-redfish-raid-deploy-steps-e9ee1ea3d1f2a475.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6fed0964a5cd913264165ca8c218a9e26b913ab2', 'message': 'Fix Redfish RAID deploy steps\n\nChange-Id: I423b387a9fe9b4d0a13ecf31a89f04c32cb26950\n'}]",1,823310,6fed0964a5cd913264165ca8c218a9e26b913ab2,10,4,1,27909,,,0,"Fix Redfish RAID deploy steps

Change-Id: I423b387a9fe9b4d0a13ecf31a89f04c32cb26950
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/823310/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'releasenotes/notes/fix-redfish-raid-deploy-steps-e9ee1ea3d1f2a475.yaml']",2,6fed0964a5cd913264165ca8c218a9e26b913ab2,fix-redfish-raid-deploy,--- fixes: - | Fixes hardware type ``redfish`` RAID interface deploy steps when completion requires rebooting system for non-immediate configuration application. Prior to this fix such nodes would remain in ``wait call-back`` state indefinitely. ,,15,4
openstack%2Fkayobe~master~I02eca49fed19686551990fc125a7025d54c5d6e3,openstack/kayobe,master,I02eca49fed19686551990fc125a7025d54c5d6e3,Update python testing classifier,MERGED,2022-01-11 14:04:45.000000000,2022-01-12 14:10:57.000000000,2022-01-12 14:08:39.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 14:04:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2f1aed03d2ffcad2061790d4d12d05e8cdb771f2', 'message': 'Update python testing classifier\n\nChange-Id: I02eca49fed19686551990fc125a7025d54c5d6e3\n'}]",0,824185,2f1aed03d2ffcad2061790d4d12d05e8cdb771f2,8,3,1,33881,,,0,"Update python testing classifier

Change-Id: I02eca49fed19686551990fc125a7025d54c5d6e3
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/824185/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2f1aed03d2ffcad2061790d4d12d05e8cdb771f2,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fironic~stable%2Fwallaby~I8bef819dc3101f88f4e04ea986e1039e34d917ed,openstack/ironic,stable/wallaby,I8bef819dc3101f88f4e04ea986e1039e34d917ed,Add dhcp options for each ip_version once,MERGED,2022-01-10 17:26:59.000000000,2022-01-12 14:07:40.000000000,2022-01-12 14:04:35.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-10 17:26:59.000000000', 'files': ['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/39f38705cda426e69063b8a0e8f3b8619cc275b6', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)\n'}]",0,824013,39f38705cda426e69063b8a0e8f3b8619cc275b6,11,3,1,24245,,,0,"Add dhcp options for each ip_version once

Currently duplicate DHCP options are added when a port have
multiple address in the same address familiy. The duplicate
entries cause an internal server error in neutron.

This fixes the issue by only adding DHCP options for each
IP-version.

Story: 2009774
Task: 44255
Change-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed
(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/824013/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py']",3,39f38705cda426e69063b8a0e8f3b8619cc275b6,story/2009774-stable/wallaby," ""ip_address"": ""192.168.1.4"", }, { }, { ""ip_address"": ""2001:db8::202"",",,17,3
openstack%2Fkayobe~master~If002d845347b2e215d36df3ff73b743745e46131,openstack/kayobe,master,If002d845347b2e215d36df3ff73b743745e46131,remove unicode from code,MERGED,2022-01-11 13:54:04.000000000,2022-01-12 13:55:55.000000000,2022-01-12 13:53:28.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 13:54:04.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/13dbe7435f21b11c69b39bab794dd72bc3a5f47b', 'message': 'remove unicode from code\n\nChange-Id: If002d845347b2e215d36df3ff73b743745e46131\n'}]",0,824182,13dbe7435f21b11c69b39bab794dd72bc3a5f47b,8,3,1,33881,,,0,"remove unicode from code

Change-Id: If002d845347b2e215d36df3ff73b743745e46131
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/824182/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,13dbe7435f21b11c69b39bab794dd72bc3a5f47b,,"project = 'Kayobe Release Notes' copyright = '2018, The Kayobe team' 'Kayobe Release Notes Documentation', 'Kayobe Developers', 'manual'), 'Kayobe Release Notes Documentation', ['Kayobe Developers'], 1) 'Kayobe Release Notes Documentation', 'Kayobe Developers',","project = u'Kayobe Release Notes' copyright = u'2018, The Kayobe team' u'Kayobe Release Notes Documentation', u'Kayobe Developers', 'manual'), u'Kayobe Release Notes Documentation', [u'Kayobe Developers'], 1) u'Kayobe Release Notes Documentation', u'Kayobe Developers',",12,12
openstack%2Fneutron~master~I24caa32796d2652783aca668f83f655472ad5132,openstack/neutron,master,I24caa32796d2652783aca668f83f655472ad5132,Ensure only the right events are processed,MERGED,2022-01-07 15:32:50.000000000,2022-01-12 13:55:53.000000000,2022-01-12 13:52:18.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-01-07 15:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d57815db3dcd3edee3f674475707d52b858c9b4', 'message': '[WIP] Ensure only the right events are processed\n\nThere is no need to set up CR-LRP ports up, as well as there is no\nneed to re-process the router ports after the initial creation\n\nChange-Id: I24caa32796d2652783aca668f83f655472ad5132\n'}, {'number': 2, 'created': '2022-01-10 07:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe3759b45138606b932e7876b4b86bd0b27fae88', 'message': 'Ensure only the right events are processed\n\nThere is no need to set up CR-LRP ports up, as well as there is no\nneed to re-process the router ports after the initial creation\n\nChange-Id: I24caa32796d2652783aca668f83f655472ad5132\n'}, {'number': 3, 'created': '2022-01-11 14:56:22.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa', 'message': 'Ensure only the right events are processed\n\nThere is no need to set up CR-LRP ports up, as well as there is no\nneed to re-process the router ports after the initial creation\n\nChange-Id: I24caa32796d2652783aca668f83f655472ad5132\n'}]",6,823818,553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa,31,5,3,23567,,,0,"Ensure only the right events are processed

There is no need to set up CR-LRP ports up, as well as there is no
need to re-process the router ports after the initial creation

Change-Id: I24caa32796d2652783aca668f83f655472ad5132
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/823818/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'],1,9d57815db3dcd3edee3f674475707d52b858c9b4,," if row.type == ovn_const.OVN_CHASSIS_REDIRECT: # NOTE(ltomasbo): No need to handle cr ports return False if row.type == ovn_const.PB_TYPE_PATCH: if row.type in [ovn_const.PB_TYPE_VIRTUAL, ovn_const.PB_TYPE_PATCH, ovn_const.OVN_CHASSIS_REDIRECT]: # No need to handle cr ports if row.type == ovn_const.OVN_CHASSIS_REDIRECT: # NOTE(ltomasbo): No need to handle cr ports return False if row.type == ovn_const.PB_TYPE_PATCH: try: if old.mac: # NOTE(ltomasbo): only execute it once (the first update # event for this port), as you don't need to set it to # active several time return True except AttributeError: return False return False if row.type in [ovn_const.PB_TYPE_VIRTUAL, ovn_const.PB_TYPE_PATCH, ovn_const.OVN_CHASSIS_REDIRECT]: # Patch ports are meant to be always UP, after creation, no need # to update # No need to handle cr ports"," elif row.type == ovn_const.PB_TYPE_PATCH: if row.type in [ovn_const.PB_TYPE_VIRTUAL, ovn_const.PB_TYPE_PATCH]: elif row.type == ovn_const.PB_TYPE_PATCH: return True if row.type in [ovn_const.PB_TYPE_VIRTUAL, ovn_const.PB_TYPE_PATCH]: # Patch ports are set to UP on creation, no need to update",25,6
openstack%2Fopenstack-ansible-os_gnocchi~master~I6f3713135e3b937768d799c6e2c141427c498a16,openstack/openstack-ansible-os_gnocchi,master,I6f3713135e3b937768d799c6e2c141427c498a16,Do not install python development packages,MERGED,2022-01-11 16:33:25.000000000,2022-01-12 13:49:32.000000000,2022-01-12 13:46:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 16:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/c6db1ebe3ad809cb98a6268d47b1fe7eb26c0d35', 'message': 'Do not install python development packages\n\nThe python_venv_build role is responsible for setting up the build\nenvironment for python wheels so this role should not install\npython development packages\n\nChange-Id: I6f3713135e3b937768d799c6e2c141427c498a16\n'}, {'number': 2, 'created': '2022-01-11 16:34:41.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/08712239a8a80cde1fb828251bd1946406c9330b', 'message': 'Do not install python development packages\n\nThe python_venv_build role is responsible for setting up the build\nenvironment for python wheels so this role should not install\npython development packages\n\nChange-Id: I6f3713135e3b937768d799c6e2c141427c498a16\n'}]",0,824211,08712239a8a80cde1fb828251bd1946406c9330b,10,3,2,25023,,,0,"Do not install python development packages

The python_venv_build role is responsible for setting up the build
environment for python wheels so this role should not install
python development packages

Change-Id: I6f3713135e3b937768d799c6e2c141427c498a16
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/11/824211/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,c6db1ebe3ad809cb98a6268d47b1fe7eb26c0d35,osa/centos-9,, - python36-devel,0,1
openstack%2Fansible-role-systemd_service~master~I9bcdf00b88d5556670610a502a7522d308ce2da2,openstack/ansible-role-systemd_service,master,I9bcdf00b88d5556670610a502a7522d308ce2da2,Drop plugins from role requirements,MERGED,2022-01-11 14:57:35.000000000,2022-01-12 13:49:02.000000000,2022-01-12 13:45:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 14:57:35.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/454f62066733df91a3dd9b969eed4e8a5e9a053a', 'message': 'Drop plugins from role requirements\n\nChange-Id: I9bcdf00b88d5556670610a502a7522d308ce2da2\n'}]",0,824197,454f62066733df91a3dd9b969eed4e8a5e9a053a,8,3,1,28619,,,0,"Drop plugins from role requirements

Change-Id: I9bcdf00b88d5556670610a502a7522d308ce2da2
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/97/824197/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,454f62066733df91a3dd9b969eed4e8a5e9a053a,osa/plugins_collection,, dependencies: - plugins,0,2
openstack%2Fopenstack-ansible-os_keystone~master~I0958bdb0b4a04d3398fc2c42f10d54cc7c30f0f8,openstack/openstack-ansible-os_keystone,master,I0958bdb0b4a04d3398fc2c42f10d54cc7c30f0f8,Do not install python development packages,MERGED,2022-01-11 16:31:36.000000000,2022-01-12 13:43:35.000000000,2022-01-12 13:40:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 16:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/42b763eaa24f7c8dcfccdfece2c59663d2eca1f6', 'message': 'Do not install python development packages\n\nThe python_venv_build role is responsible for setting up the build\nenvironment for python wheels so this role should not install\npython development packages\n\nChange-Id: I0958bdb0b4a04d3398fc2c42f10d54cc7c30f0f8\n'}, {'number': 2, 'created': '2022-01-11 16:35:43.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5b55dd4626401244845e20c72d32020c59094204', 'message': 'Do not install python development packages\n\nThe python_venv_build role is responsible for setting up the build\nenvironment for python wheels so this role should not install\npython development packages\n\nChange-Id: I0958bdb0b4a04d3398fc2c42f10d54cc7c30f0f8\n'}]",0,824209,5b55dd4626401244845e20c72d32020c59094204,10,3,2,25023,,,0,"Do not install python development packages

The python_venv_build role is responsible for setting up the build
environment for python wheels so this role should not install
python development packages

Change-Id: I0958bdb0b4a04d3398fc2c42f10d54cc7c30f0f8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/09/824209/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,42b763eaa24f7c8dcfccdfece2c59663d2eca1f6,osa/centos-9,, - python36-devel,0,1
openstack%2Fneutron~stable%2Fussuri~Id83bee82e5c476395ff422dcaf89c0095e74a8ec,openstack/neutron,stable/ussuri,Id83bee82e5c476395ff422dcaf89c0095e74a8ec,Add wait event for metadataagent sb_idl,MERGED,2022-01-07 17:29:05.000000000,2022-01-12 13:39:01.000000000,2022-01-12 13:35:44.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34340}]","[{'number': 1, 'created': '2022-01-07 17:29:05.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea364deb01a2bc70945bc955d69205d75f9c8a0d', 'message': ""Add wait event for metadataagent sb_idl\n\nresolve bug:'MetadataAgent' object has no attribute 'sb_idl'\n\nCloses-Bug: #1953295\nChange-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec\n(cherry picked from commit 385b0ad203da40a2c0110948c0f46feb78ead2be)\n""}]",0,823851,ea364deb01a2bc70945bc955d69205d75f9c8a0d,9,4,1,6773,,,0,"Add wait event for metadataagent sb_idl

resolve bug:'MetadataAgent' object has no attribute 'sb_idl'

Closes-Bug: #1953295
Change-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec
(cherry picked from commit 385b0ad203da40a2c0110948c0f46feb78ead2be)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/823851/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,ea364deb01a2bc70945bc955d69205d75f9c8a0d,,"import threading self._sb_idl = None self._post_fork_event = threading.Event() @property def sb_idl(self): if not self._sb_idl: self._post_fork_event.wait() return self._sb_idl @sb_idl.setter def sb_idl(self, val): self._sb_idl = val self._post_fork_event.clear() # Now IDL connections can be safely used. self._post_fork_event.set() ",,17,0
openstack%2Fopenstack-ansible-os_rally~master~I0c112d49262578359e8f8843084f75eb48799778,openstack/openstack-ansible-os_rally,master,I0c112d49262578359e8f8843084f75eb48799778,Do not install python development packages,MERGED,2022-01-11 16:38:29.000000000,2022-01-12 13:35:56.000000000,2022-01-12 13:32:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 16:38:29.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/e31bfe79a4e4d90973aabfb03ca8df1497a1cd71', 'message': 'Do not install python development packages\n\nThe python_venv_build role is responsible for setting up the build\nenvironment for python wheels so this role should not install\npython development packages\n\nChange-Id: I0c112d49262578359e8f8843084f75eb48799778\n'}]",0,824213,e31bfe79a4e4d90973aabfb03ca8df1497a1cd71,9,3,1,25023,,,0,"Do not install python development packages

The python_venv_build role is responsible for setting up the build
environment for python wheels so this role should not install
python development packages

Change-Id: I0c112d49262578359e8f8843084f75eb48799778
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/13/824213/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,e31bfe79a4e4d90973aabfb03ca8df1497a1cd71,osa/centos-9,rally_devel_distro_packages: [],rally_devel_distro_packages: - libpython3-dev,2,4
openstack%2Fansible-role-systemd_mount~master~Ic7c353a9262c0628aafb912fa20e31fb4bad5450,openstack/ansible-role-systemd_mount,master,Ic7c353a9262c0628aafb912fa20e31fb4bad5450,Drop plugins from role requirements,MERGED,2022-01-11 14:56:23.000000000,2022-01-12 13:35:07.000000000,2022-01-12 13:31:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 14:56:23.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/43d95fb3a46cf91583679c341bddd66899dd9634', 'message': 'Drop plugins from role requirements\n\nChange-Id: Ic7c353a9262c0628aafb912fa20e31fb4bad5450\n'}]",0,824196,43d95fb3a46cf91583679c341bddd66899dd9634,8,3,1,28619,,,0,"Drop plugins from role requirements

Change-Id: Ic7c353a9262c0628aafb912fa20e31fb4bad5450
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/96/824196/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,43d95fb3a46cf91583679c341bddd66899dd9634,osa/plugins_collection,, dependencies: - plugins,0,2
openstack%2Fansible-role-systemd_networkd~master~I95c56c0ae013da8b20e05435f58712ad29451666,openstack/ansible-role-systemd_networkd,master,I95c56c0ae013da8b20e05435f58712ad29451666,Drop plugins from role requirements,MERGED,2022-01-11 14:58:29.000000000,2022-01-12 13:31:19.000000000,2022-01-12 13:27:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 14:58:29.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/9847b5f0bfcc16089524ef7fa5ddf2e6f5413152', 'message': 'Drop plugins from role requirements\n\nChange-Id: I95c56c0ae013da8b20e05435f58712ad29451666\n'}]",0,824198,9847b5f0bfcc16089524ef7fa5ddf2e6f5413152,8,3,1,28619,,,0,"Drop plugins from role requirements

Change-Id: I95c56c0ae013da8b20e05435f58712ad29451666
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/98/824198/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,9847b5f0bfcc16089524ef7fa5ddf2e6f5413152,osa/plugins_collection,, dependencies: - plugins,0,2
openstack%2Fopenstack-ansible-os_barbican~master~Ice9f3b1484323b611bb12eb6cdc6a6f1f1dfee95,openstack/openstack-ansible-os_barbican,master,Ice9f3b1484323b611bb12eb6cdc6a6f1f1dfee95,Do not install python development packages,MERGED,2022-01-11 16:32:39.000000000,2022-01-12 13:27:25.000000000,2022-01-12 13:24:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 16:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/fb7a9ff1016df5e81e5399a8c5ff2dc33d9c1c19', 'message': 'Do not install python development packages\n\nThe python_venv_build role is responsible for setting up the build\nenvironment for python wheels so this role should not install\npython development packages\n\nChange-Id: Ice9f3b1484323b611bb12eb6cdc6a6f1f1dfee95\n'}, {'number': 2, 'created': '2022-01-11 16:36:29.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/7fc659b0dd9d415c72d2bca8af4c5c773e91f288', 'message': 'Do not install python development packages\n\nThe python_venv_build role is responsible for setting up the build\nenvironment for python wheels so this role should not install\npython development packages\n\nChange-Id: Ice9f3b1484323b611bb12eb6cdc6a6f1f1dfee95\n'}]",0,824210,7fc659b0dd9d415c72d2bca8af4c5c773e91f288,10,3,2,25023,,,0,"Do not install python development packages

The python_venv_build role is responsible for setting up the build
environment for python wheels so this role should not install
python development packages

Change-Id: Ice9f3b1484323b611bb12eb6cdc6a6f1f1dfee95
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/10/824210/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,fb7a9ff1016df5e81e5399a8c5ff2dc33d9c1c19,osa/centos-9,, - python36-devel,0,1
openstack%2Foslo.context~master~I2fded6f3476df1fb8c4e042ef28ed8ccb7ab0737,openstack/oslo.context,master,I2fded6f3476df1fb8c4e042ef28ed8ccb7ab0737,Remove the deprecated argument tenant from RequestContext,MERGED,2021-10-29 07:16:44.000000000,2022-01-12 13:26:20.000000000,2022-01-12 13:23:12.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-10-29 07:16:44.000000000', 'files': ['oslo_context/tests/test_context.py', 'oslo_context/context.py', 'releasenotes/notes/remove_deprecated_args_tenant-77724de1422f46d9.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/f4cbe4c296f4dd23c451a5804a70f639cd8976d6', 'message': 'Remove the deprecated argument tenant from RequestContext\n\nThe tenant argument of RequestContext have been deprecated long\ntime ago it is now removed by these changes.\n\nSem-Ver: api-break\nCloses-Bug: 1505827\nChange-Id: I2fded6f3476df1fb8c4e042ef28ed8ccb7ab0737\n'}]",1,815938,f4cbe4c296f4dd23c451a5804a70f639cd8976d6,9,3,1,28522,,,0,"Remove the deprecated argument tenant from RequestContext

The tenant argument of RequestContext have been deprecated long
time ago it is now removed by these changes.

Sem-Ver: api-break
Closes-Bug: 1505827
Change-Id: I2fded6f3476df1fb8c4e042ef28ed8ccb7ab0737
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/38/815938/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_context/tests/test_context.py', 'oslo_context/context.py', 'releasenotes/notes/remove_deprecated_args_tenant-77724de1422f46d9.yaml']",3,f4cbe4c296f4dd23c451a5804a70f639cd8976d6,,--- upgrade: - | The ``tenant`` argument of ``RequestContext`` that was deprecated for long time is now removed. ,,29,30
openstack%2Fironic~bugfix%2F19.0~I8bef819dc3101f88f4e04ea986e1039e34d917ed,openstack/ironic,bugfix/19.0,I8bef819dc3101f88f4e04ea986e1039e34d917ed,Add dhcp options for each ip_version once,MERGED,2022-01-10 17:28:23.000000000,2022-01-12 13:21:03.000000000,2022-01-12 13:17:26.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-10 17:28:23.000000000', 'files': ['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a4ba7d27d31f2c7a6554bdb2e9e3dd03e001f58', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)\n'}]",0,824014,9a4ba7d27d31f2c7a6554bdb2e9e3dd03e001f58,11,3,1,24245,,,0,"Add dhcp options for each ip_version once

Currently duplicate DHCP options are added when a port have
multiple address in the same address familiy. The duplicate
entries cause an internal server error in neutron.

This fixes the issue by only adding DHCP options for each
IP-version.

Story: 2009774
Task: 44255
Change-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed
(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/824014/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py']",3,9a4ba7d27d31f2c7a6554bdb2e9e3dd03e001f58,story/2009774-bugfix/19.0," ""ip_address"": ""192.168.1.4"", }, { }, { ""ip_address"": ""2001:db8::202"",",,17,3
openstack%2Fironic~stable%2Fxena~I8bef819dc3101f88f4e04ea986e1039e34d917ed,openstack/ironic,stable/xena,I8bef819dc3101f88f4e04ea986e1039e34d917ed,Add dhcp options for each ip_version once,MERGED,2022-01-10 17:26:36.000000000,2022-01-12 13:18:10.000000000,2022-01-12 13:14:46.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-10 17:26:36.000000000', 'files': ['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2326d8680d7c507e493ba343d166bc6397dd49d5', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)\n'}]",0,824012,2326d8680d7c507e493ba343d166bc6397dd49d5,11,3,1,24245,,,0,"Add dhcp options for each ip_version once

Currently duplicate DHCP options are added when a port have
multiple address in the same address familiy. The duplicate
entries cause an internal server error in neutron.

This fixes the issue by only adding DHCP options for each
IP-version.

Story: 2009774
Task: 44255
Change-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed
(cherry picked from commit c4721da2d899e1c51e716577e776c6ee14e2e35e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/824012/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py']",3,2326d8680d7c507e493ba343d166bc6397dd49d5,story/2009774-stable/xena," ""ip_address"": ""192.168.1.4"", }, { }, { ""ip_address"": ""2001:db8::202"",",,17,3
openstack%2Fkayobe~master~I916de4232155f36052ee8ffbd1947a750ffe9778,openstack/kayobe,master,I916de4232155f36052ee8ffbd1947a750ffe9778,Set defaults for openstack_cacert,ABANDONED,2021-05-30 23:39:32.000000000,2022-01-12 13:10:45.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2021-05-30 23:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5551c6dfaa55a0598a242a98c788b5e3a0767802', 'message': ""Set defaults for openstack_cacert\n\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nChange-Id: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2021-06-03 17:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/430a567aa40d5cd33ab88e917612c7877d3ed3c7', 'message': ""Set defaults for openstack_cacert\n\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nChange-Id: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2021-06-15 10:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ec5776024393e41c5ac1d8146bb44ad196c4a05', 'message': ""Set defaults for openstack_cacert\n\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nChange-Id: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2021-06-30 09:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/22b0feb2594929fc4a1604c0ebc3c921d7e41c6b', 'message': ""Set defaults for openstack_cacert\n\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nChange-Id: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2021-08-20 08:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0b05eb95b8f24050514ab44d3ee4d4353f2810ea', 'message': ""Set defaults for openstack_cacert\n\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nChange-Id: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2021-10-15 09:33:16.000000000', 'files': ['ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'ansible/group_vars/all/openstack', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d8360ea357ae62a135b7c94cc19ead72cfb5b521', 'message': ""Set defaults for openstack_cacert\n\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nChange-Id: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",13,793703,d8360ea357ae62a135b7c94cc19ead72cfb5b521,41,8,6,14200,,,0,"Set defaults for openstack_cacert

Since I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the
'ca-certificates' package installed in the all containers so its fine
to set defaults but leave an ability to override the 'openstack_cacert'
via environment variable too. All supported systems already install
the 'ca-certificates' package by default but for sure we install it
on the Ansible control host in the kolla-ansible role itself.

Change-Id: I916de4232155f36052ee8ffbd1947a750ffe9778
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/793703/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/openstack', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml']",3,5551c6dfaa55a0598a242a98c788b5e3a0767802,tls-sync-kolla-ansible, - ca-certificates,,5,2
openstack%2Ftenks~master~I2b7d1bdea7fffc5a54a033f59444251b929807c5,openstack/tenks,master,I2b7d1bdea7fffc5a54a033f59444251b929807c5,Migrate jobs from CentOS 8 to CentOS 8 Stream,MERGED,2022-01-12 01:08:44.000000000,2022-01-12 13:07:15.000000000,2022-01-12 12:58:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 01:08:44.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/7331ccfef2fc13c2d88889bc141b48285013efb9', 'message': 'Migrate jobs from CentOS 8 to CentOS 8 Stream\n\nCentOS 8 is being removed from CI because of its EOL[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nChange-Id: I2b7d1bdea7fffc5a54a033f59444251b929807c5\n'}]",2,824272,7331ccfef2fc13c2d88889bc141b48285013efb9,11,3,1,9816,,,0,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: I2b7d1bdea7fffc5a54a033f59444251b929807c5
",git fetch https://review.opendev.org/openstack/tenks refs/changes/72/824272/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,7331ccfef2fc13c2d88889bc141b48285013efb9,remove-centos-8, name: tenks-deploy-teardown-ovs-centos8s nodeset: centos-8-stream name: tenks-deploy-teardown-linuxbridge-centos8s nodeset: centos-8-stream, name: tenks-deploy-teardown-ovs-centos8 nodeset: centos-8 name: tenks-deploy-teardown-linuxbridge-centos8 nodeset: centos-8,10,10
openstack%2Foslo.utils~stable%2Fxena~I949f07582a708114fdfba76f1a05aa3a3e5c4f40,openstack/oslo.utils,stable/xena,I949f07582a708114fdfba76f1a05aa3a3e5c4f40,QemuImgInfo: Fix inconsistent value format of encrypted,MERGED,2021-10-18 11:54:15.000000000,2022-01-12 12:58:14.000000000,2022-01-12 12:54:59.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-10-18 11:54:15.000000000', 'files': ['oslo_utils/imageutils.py', 'releasenotes/notes/bug-1942682-ea95d54b2587b32f.yaml', 'oslo_utils/tests/test_imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3e81ba70a617c450b4d7d71a95d323c7af035405', 'message': ""QemuImgInfo: Fix inconsistent value format of encrypted\n\nThe qemu-img info command shows the encrpyed field in different formats\naccording to the output format. When the default human format is used\nthe field can be 'yes' or None while when json format is used the same\nfield can be True or False.\nThis change ensures the corresponding attribute has the consistent\nformat regardless of the output format used.\n\nCloses-Bug: #1942682\nChange-Id: I949f07582a708114fdfba76f1a05aa3a3e5c4f40\n(cherry picked from commit 2922a3491a5987aa80f0612df44bd60ed22a0225)\n""}]",3,814264,3e81ba70a617c450b4d7d71a95d323c7af035405,9,4,1,28522,,,0,"QemuImgInfo: Fix inconsistent value format of encrypted

The qemu-img info command shows the encrpyed field in different formats
according to the output format. When the default human format is used
the field can be 'yes' or None while when json format is used the same
field can be True or False.
This change ensures the corresponding attribute has the consistent
format regardless of the output format used.

Closes-Bug: #1942682
Change-Id: I949f07582a708114fdfba76f1a05aa3a3e5c4f40
(cherry picked from commit 2922a3491a5987aa80f0612df44bd60ed22a0225)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/64/814264/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/imageutils.py', 'releasenotes/notes/bug-1942682-ea95d54b2587b32f.yaml', 'oslo_utils/tests/test_imageutils.py']",3,3e81ba70a617c450b4d7d71a95d323c7af035405,bug/1942682-stable/xena," ""format-specific"": {""data"": {""foo"": ""bar""}}, ""encrypted"": true self.assertEqual('yes', image_info.encrypted) self.assertIsNone(image_info.encrypted)"," ""format-specific"": {""data"": {""foo"": ""bar""}}",11,2
openstack%2Foslo.utils~master~I941750b4d49d2d75f0831b24d6dd17f4040f70a2,openstack/oslo.utils,master,I941750b4d49d2d75f0831b24d6dd17f4040f70a2,Fix regex used to mask password,MERGED,2021-11-03 17:34:30.000000000,2022-01-12 12:48:26.000000000,2022-01-12 12:45:35.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-11-03 17:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/6e825a45f8a0cdbd3d59752185404bd95ae9655c', 'message': 'Fix regex used to mask password\n\nSome use cases are poorly handled by the regex used\nto mask password. Indeed when the password contains\nquotes or double quotes in the middle such as `pass""word`,\nthe mask_password method will return `***""word`.\n\nFor more details please see\nhttps://bugs.launchpad.net/oslo.utils/+bug/1949623\n\nCloses-Bug: #1949623\nChange-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2\n'}, {'number': 2, 'created': '2022-01-11 13:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7a1e7fa38d758577b0acc5ec3851155e895ba82b', 'message': 'Fix regex used to mask password\n\nSome use cases are poorly handled by the regex used\nto mask password. Indeed when the password contains\nquotes or double quotes in the middle such as `pass""word`,\nthe mask_password method will return `***""word`.\n\nFor more details please see\nhttps://bugs.launchpad.net/oslo.utils/+bug/1949623\n\nCloses-Bug: #1949623\nChange-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2\n'}, {'number': 3, 'created': '2022-01-11 14:20:57.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/6e17ae1f7959c64dfd20a5f67edf422e702426aa', 'message': 'Fix regex used to mask password\n\nSome use cases are poorly handled by the regex used\nto mask password. Indeed when the password contains\nquotes or double quotes in the middle such as `pass""word`,\nthe mask_password method will return `***""word`.\n\nFor more details please see\nhttps://bugs.launchpad.net/oslo.utils/+bug/1949623\n\nCloses-Bug: #1949623\nChange-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2\n'}]",7,816544,6e17ae1f7959c64dfd20a5f67edf422e702426aa,15,4,3,28522,,,0,"Fix regex used to mask password

Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass""word`,
the mask_password method will return `***""word`.

For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623

Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/44/816544/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py']",3,6e825a45f8a0cdbd3d59752185404bd95ae9655c,mktemp,"_SANITIZE_PATTERNS_WILDCARD = {}_FORMAT_PATTERNS_WILDCARD = [r'([\'\""][^\""\']*%(key)s[0-9]*[\'\""]\s*:\s*' r'u?[\'\""].*[\'\""])[^\""\']*([\'\""])'] _SANITIZE_PATTERNS_WILDCARD[key] = [] for pattern in _FORMAT_PATTERNS_WILDCARD: reg_ex = re.compile(pattern % {'key': key}, re.DOTALL | re.IGNORECASE) _SANITIZE_PATTERNS_WILDCARD[key].append(reg_ex) substitute_wildcard = r'\g<1>' # NOTE(hberaud): Those case are poorly handled by previous # patterns. They are passwords with quotes or double quotes. # They also needs a different way to substitute group this is why # they aren't fix in the pattern 1 or 2. for pattern in _SANITIZE_PATTERNS_WILDCARD[key]: message = re.sub(pattern, substitute_wildcard, message)",,36,1
openstack%2Fopenstack-ansible-os_neutron~master~Ida06b0843a25f69f6ec15d256f025dc032a2afc0,openstack/openstack-ansible-os_neutron,master,Ida06b0843a25f69f6ec15d256f025dc032a2afc0,Enable recursion in combine() filter,MERGED,2022-01-11 18:22:59.000000000,2022-01-12 12:34:29.000000000,2022-01-12 12:30:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 18:22:59.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5ac23dc76528388705ba1d5bd8377e428c472a52', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: Ida06b0843a25f69f6ec15d256f025dc032a2afc0\n""}]",0,824223,5ac23dc76528388705ba1d5bd8377e428c472a52,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: Ida06b0843a25f69f6ec15d256f025dc032a2afc0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/23/824223/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,5ac23dc76528388705ba1d5bd8377e428c472a52,combine-filter-recursion," init_config_overrides: ""{{ _neutron_l3_agent_init_defaults | combine(neutron_l3_agent_init_overrides, recursive=True) }}"""," init_config_overrides: ""{{ _neutron_l3_agent_init_defaults | combine(neutron_l3_agent_init_overrides) }}""",1,1
openstack%2Fos-ken~stable%2Fussuri~I12e9b23749e40f56e947377409ff2882adc25205,openstack/os-ken,stable/ussuri,I12e9b23749e40f56e947377409ff2882adc25205,Avoid logging MD5 password for BGP add neighbor,MERGED,2022-01-12 08:29:57.000000000,2022-01-12 12:27:25.000000000,2022-01-12 12:23:33.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 08:29:57.000000000', 'files': ['os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/f172a28d2ba44e4c501d3e474189b03eb7a59ab9', 'message': 'Avoid logging MD5 password for BGP add neighbor\n\nChange-Id: I12e9b23749e40f56e947377409ff2882adc25205\nStory: 2009779\nTask: 44260\n(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)\n'}]",0,824302,f172a28d2ba44e4c501d3e474189b03eb7a59ab9,8,3,1,8313,,,0,"Avoid logging MD5 password for BGP add neighbor

Change-Id: I12e9b23749e40f56e947377409ff2882adc25205
Story: 2009779
Task: 44260
(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/02/824302/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/api/base.py'],1,f172a28d2ba44e4c501d3e474189b03eb7a59ab9,story/2009779-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," LOG.info( ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))"," LOG.info(""API method %s called with args: %s"", symbol, str(kwargs))",4,1
openstack%2Fos-ken~stable%2Ftrain~I12e9b23749e40f56e947377409ff2882adc25205,openstack/os-ken,stable/train,I12e9b23749e40f56e947377409ff2882adc25205,Avoid logging MD5 password for BGP add neighbor,MERGED,2022-01-12 08:30:19.000000000,2022-01-12 12:27:16.000000000,2022-01-12 12:23:41.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 08:30:19.000000000', 'files': ['os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/416bff31be198712c215d8894b985cebbb424c7d', 'message': 'Avoid logging MD5 password for BGP add neighbor\n\nChange-Id: I12e9b23749e40f56e947377409ff2882adc25205\nStory: 2009779\nTask: 44260\n(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)\n'}]",0,824303,416bff31be198712c215d8894b985cebbb424c7d,8,3,1,8313,,,0,"Avoid logging MD5 password for BGP add neighbor

Change-Id: I12e9b23749e40f56e947377409ff2882adc25205
Story: 2009779
Task: 44260
(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/03/824303/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/api/base.py'],1,416bff31be198712c215d8894b985cebbb424c7d,story/2009779-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," LOG.info( ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))"," LOG.info(""API method %s called with args: %s"", symbol, str(kwargs))",4,1
openstack%2Fos-ken~stable%2Fvictoria~I12e9b23749e40f56e947377409ff2882adc25205,openstack/os-ken,stable/victoria,I12e9b23749e40f56e947377409ff2882adc25205,Avoid logging MD5 password for BGP add neighbor,MERGED,2022-01-12 08:29:10.000000000,2022-01-12 12:27:15.000000000,2022-01-12 12:23:24.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 08:29:10.000000000', 'files': ['os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/e6f2c0d1a22c6af5e4f0003a92805f53e30b8d3a', 'message': 'Avoid logging MD5 password for BGP add neighbor\n\nChange-Id: I12e9b23749e40f56e947377409ff2882adc25205\nStory: 2009779\nTask: 44260\n(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)\n'}]",0,824301,e6f2c0d1a22c6af5e4f0003a92805f53e30b8d3a,8,3,1,8313,,,0,"Avoid logging MD5 password for BGP add neighbor

Change-Id: I12e9b23749e40f56e947377409ff2882adc25205
Story: 2009779
Task: 44260
(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/01/824301/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/api/base.py'],1,e6f2c0d1a22c6af5e4f0003a92805f53e30b8d3a,story/2009779-stable/xena-stable/wallaby-stable/victoria," LOG.info( ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))"," LOG.info(""API method %s called with args: %s"", symbol, str(kwargs))",4,1
openstack%2Fos-ken~stable%2Fwallaby~I12e9b23749e40f56e947377409ff2882adc25205,openstack/os-ken,stable/wallaby,I12e9b23749e40f56e947377409ff2882adc25205,Avoid logging MD5 password for BGP add neighbor,MERGED,2022-01-12 07:58:16.000000000,2022-01-12 12:26:57.000000000,2022-01-12 12:23:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 07:58:16.000000000', 'files': ['os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/7619c024d83f64f69659ab860e51dbd741b1032f', 'message': 'Avoid logging MD5 password for BGP add neighbor\n\nChange-Id: I12e9b23749e40f56e947377409ff2882adc25205\nStory: 2009779\nTask: 44260\n(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)\n'}]",0,824300,7619c024d83f64f69659ab860e51dbd741b1032f,8,3,1,8313,,,0,"Avoid logging MD5 password for BGP add neighbor

Change-Id: I12e9b23749e40f56e947377409ff2882adc25205
Story: 2009779
Task: 44260
(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/00/824300/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/api/base.py'],1,7619c024d83f64f69659ab860e51dbd741b1032f,story/2009779-stable/xena-stable/wallaby," LOG.info( ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))"," LOG.info(""API method %s called with args: %s"", symbol, str(kwargs))",4,1
openstack%2Fos-ken~stable%2Fxena~I12e9b23749e40f56e947377409ff2882adc25205,openstack/os-ken,stable/xena,I12e9b23749e40f56e947377409ff2882adc25205,Avoid logging MD5 password for BGP add neighbor,MERGED,2022-01-12 07:57:25.000000000,2022-01-12 12:19:38.000000000,2022-01-12 12:16:14.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 07:57:25.000000000', 'files': ['os_ken/services/protocols/bgp/api/base.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/c002a2b928cf78b7b8d842c65564b1b9a3e050c3', 'message': 'Avoid logging MD5 password for BGP add neighbor\n\nChange-Id: I12e9b23749e40f56e947377409ff2882adc25205\nStory: 2009779\nTask: 44260\n(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)\n'}]",0,824299,c002a2b928cf78b7b8d842c65564b1b9a3e050c3,8,3,1,8313,,,0,"Avoid logging MD5 password for BGP add neighbor

Change-Id: I12e9b23749e40f56e947377409ff2882adc25205
Story: 2009779
Task: 44260
(cherry picked from commit 974ccdabd2799611363b5a3404c00fe32a6b78fb)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/99/824299/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/api/base.py'],1,c002a2b928cf78b7b8d842c65564b1b9a3e050c3,story/2009779-stable/xena," LOG.info( ""API method %s called with args: %s"", symbol, str(dict(kwargs.items() - {'password': kwargs['password']}.items())))"," LOG.info(""API method %s called with args: %s"", symbol, str(kwargs))",4,1
openstack%2Fhorizon~master~I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5,openstack/horizon,master,I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5,Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER,MERGED,2020-04-24 13:21:09.000000000,2022-01-12 12:19:04.000000000,2022-01-12 12:15:26.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27941}, {'_account_id': 29313}, {'_account_id': 32029}, {'_account_id': 32216}]","[{'number': 1, 'created': '2020-04-24 13:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/27a16a24ae71e965d367b574ce91c84961eccdf5', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}, {'number': 2, 'created': '2021-07-21 14:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5c2695c45e56c95c78990c520c5bf358c0106d28', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}, {'number': 3, 'created': '2021-07-21 14:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/20abb8be279262bab3fd031e042dcf4a509d2e7f', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}, {'number': 4, 'created': '2021-07-22 11:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/20b1d30ffbfd6f99288d013e63b6da360bd79c46', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}, {'number': 5, 'created': '2021-07-22 11:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/96425118aab953db18b911569976cc605a4a12bb', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}, {'number': 6, 'created': '2021-07-22 13:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/36abeed0bf7c5ab32c41270804f6f8642f208392', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}, {'number': 7, 'created': '2021-12-17 14:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/510a08ccb125f4cad5c5ce9867a1863de4f8bef9', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}, {'number': 8, 'created': '2022-01-12 08:29:30.000000000', 'files': ['releasenotes/notes/support-websso_use_http_referer-6fb2dc0d292b54d4.yaml', 'doc/source/configuration/settings.rst', 'openstack_auth/defaults.py', 'openstack_auth/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/33292ca0a467637971c73f420166b4077e941e20', 'message': 'Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER\n\nBy using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER\nthe authentication request between Horizon and Keystone continues\nto work in situations where the HTTP_REFERRER is an external keystone\nendpoint that Horizon does not have access to.\n\nChange-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5\nCloses-bug: #1874705\n'}]",10,722685,33292ca0a467637971c73f420166b4077e941e20,30,8,8,29865,,,0,"Use OPENSTACK_KEYSTONE_URL instead of HTTP_REFERRER

By using OPENSTACK_KEYSTONE_URL instead of the HTTP_REFERRER
the authentication request between Horizon and Keystone continues
to work in situations where the HTTP_REFERRER is an external keystone
endpoint that Horizon does not have access to.

Change-Id: I9c5c8d59c5f5a8570dbb563ae224d45406a73ba5
Closes-bug: #1874705
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/722685/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/views.py'],1,27a16a24ae71e965d367b574ce91c84961eccdf5,bug/1874705, auth_url = settings.OPENSTACK_KEYSTONE_URL," referer = request.META.get('HTTP_REFERER', settings.OPENSTACK_KEYSTONE_URL) auth_url = utils.clean_up_auth_url(referer)",1,2
openstack%2Fopenstack-ansible-os_swift~master~I3f3048a7540ac04c749ccb99e20d6ba521175b99,openstack/openstack-ansible-os_swift,master,I3f3048a7540ac04c749ccb99e20d6ba521175b99,Enable recursion in combine() filter,MERGED,2022-01-11 18:21:52.000000000,2022-01-12 12:03:08.000000000,2022-01-12 11:59:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 18:21:52.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d830128352b56868bb03a7896f140e7ac0ffd778', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: I3f3048a7540ac04c749ccb99e20d6ba521175b99\n""}]",1,824221,d830128352b56868bb03a7896f140e7ac0ffd778,10,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: I3f3048a7540ac04c749ccb99e20d6ba521175b99
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/21/824221/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,d830128352b56868bb03a7896f140e7ac0ffd778,combine-filter-recursion," 'config_overrides': swift_service_defaults | combine(service.init_config_overrides, recursive=True)", 'config_overrides': swift_service_defaults | combine(service.init_config_overrides),1,1
openstack%2Fneutron~stable%2Fwallaby~Id83bee82e5c476395ff422dcaf89c0095e74a8ec,openstack/neutron,stable/wallaby,Id83bee82e5c476395ff422dcaf89c0095e74a8ec,Add wait event for metadataagent sb_idl,MERGED,2022-01-07 17:28:31.000000000,2022-01-12 11:59:49.000000000,2022-01-12 11:56:01.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34340}]","[{'number': 1, 'created': '2022-01-07 17:28:31.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/301deb87e761afb05082575e963ee8b6964e2ba8', 'message': ""Add wait event for metadataagent sb_idl\n\nresolve bug:'MetadataAgent' object has no attribute 'sb_idl'\n\nCloses-Bug: #1953295\nChange-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec\n(cherry picked from commit 385b0ad203da40a2c0110948c0f46feb78ead2be)\n""}]",0,823829,301deb87e761afb05082575e963ee8b6964e2ba8,10,4,1,6773,,,0,"Add wait event for metadataagent sb_idl

resolve bug:'MetadataAgent' object has no attribute 'sb_idl'

Closes-Bug: #1953295
Change-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec
(cherry picked from commit 385b0ad203da40a2c0110948c0f46feb78ead2be)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/823829/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,301deb87e761afb05082575e963ee8b6964e2ba8,,"import threading self._sb_idl = None self._post_fork_event = threading.Event() @property def sb_idl(self): if not self._sb_idl: self._post_fork_event.wait() return self._sb_idl @sb_idl.setter def sb_idl(self, val): self._sb_idl = val self._post_fork_event.clear() # Now IDL connections can be safely used. self._post_fork_event.set() ",,17,0
openstack%2Fopenstack-ansible-os_nova~master~I2e84c0370c04336c124e5b6549b638483f107601,openstack/openstack-ansible-os_nova,master,I2e84c0370c04336c124e5b6549b638483f107601,Enable recursion in combine() filter,MERGED,2022-01-11 18:22:28.000000000,2022-01-12 11:58:29.000000000,2022-01-12 11:55:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 18:22:28.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0a0776df36165b7a0396caec920a75d473bdfca1', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: I2e84c0370c04336c124e5b6549b638483f107601\n""}]",0,824222,0a0776df36165b7a0396caec920a75d473bdfca1,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: I2e84c0370c04336c124e5b6549b638483f107601
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/22/824222/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0a0776df36165b7a0396caec920a75d473bdfca1,combine-filter-recursion," init_config_overrides: ""{{ {'Install': {'Alias': 'nova-api.service'}} | combine(nova_api_os_compute_init_overrides, recursive=True) }}"" init_config_overrides: ""{{ {'Install': {'Alias': 'nova-spiceproxy.service'}} | combine(nova_spicehtml5proxy_init_overrides, recursive=True) }}"""," init_config_overrides: ""{{ {'Install': {'Alias': 'nova-api.service'}} | combine(nova_api_os_compute_init_overrides) }}"" init_config_overrides: ""{{ {'Install': {'Alias': 'nova-spiceproxy.service'}} | combine(nova_spicehtml5proxy_init_overrides) }}""",2,2
openstack%2Fkayobe~stable%2Fussuri~Ib0f4c3e5e50e24a7e98ee027154a31aec3b1f600,openstack/kayobe,stable/ussuri,Ib0f4c3e5e50e24a7e98ee027154a31aec3b1f600,CI: Move to CentOS Stream,ABANDONED,2022-01-12 08:41:38.000000000,2022-01-12 11:57:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-12 08:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ecc3ac02163cb25488635d9aca017fad36f0407a', 'message': 'WIP: Test out centos8s\n\nChange-Id: Ib0f4c3e5e50e24a7e98ee027154a31aec3b1f600\n'}, {'number': 2, 'created': '2022-01-12 10:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/141094ed673c1301c6a80c5c34c2c7b6613e8b54', 'message': 'CI: Move to CentOS Stream\n\nChange-Id: Ib0f4c3e5e50e24a7e98ee027154a31aec3b1f600\n'}, {'number': 3, 'created': '2022-01-12 11:43:00.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ef36662efeff4254e5469a4d15eee70bc4cabee7', 'message': 'CI: Move to CentOS Stream\n\nChange-Id: Ib0f4c3e5e50e24a7e98ee027154a31aec3b1f600\n'}]",0,824341,ef36662efeff4254e5469a4d15eee70bc4cabee7,7,1,3,22629,,,0,"CI: Move to CentOS Stream

Change-Id: Ib0f4c3e5e50e24a7e98ee027154a31aec3b1f600
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/824341/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",2,ecc3ac02163cb25488635d9aca017fad36f0407a,, nodeset: kayobe-centos8s nodeset: kayobe-centos8s nodeset: kayobe-centos8s nodeset: kayobe-centos8s nodeset: kayobe-centos8s nodeset: kayobe-centos8s, nodeset: kayobe-centos8 nodeset: kayobe-centos8 nodeset: kayobe-centos8 nodeset: kayobe-centos8 nodeset: kayobe-centos8 nodeset: kayobe-centos8,8,8
openstack%2Fopenstack-ansible-os_cinder~master~I6d5362afe2c52ae08f60ac877ee3d58da3388da6,openstack/openstack-ansible-os_cinder,master,I6d5362afe2c52ae08f60ac877ee3d58da3388da6,Enable recursion in combine() filter,MERGED,2022-01-11 18:23:38.000000000,2022-01-12 11:56:55.000000000,2022-01-12 11:54:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 18:23:38.000000000', 'files': ['tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b0f7154ffe643151b3ef72f2830544af77036f29', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: I6d5362afe2c52ae08f60ac877ee3d58da3388da6\n""}]",0,824224,b0f7154ffe643151b3ef72f2830544af77036f29,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: I6d5362afe2c52ae08f60ac877ee3d58da3388da6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/24/824224/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_install.yml'],1,b0f7154ffe643151b3ef72f2830544af77036f29,combine-filter-recursion," 'config_overrides': cinder_environment_overrides | combine(service.init_config_overrides, recursive=True)", 'config_overrides': cinder_environment_overrides | combine(service.init_config_overrides),1,1
openstack%2Fopenstack-ansible-galera_server~master~Id98cabad0d8288fedc1be10a93fb64de402f4cd0,openstack/openstack-ansible-galera_server,master,Id98cabad0d8288fedc1be10a93fb64de402f4cd0,Enable recursion in combine() filter,MERGED,2022-01-11 18:24:05.000000000,2022-01-12 11:47:32.000000000,2022-01-12 11:44:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 18:24:05.000000000', 'files': ['tasks/galera_server_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/5317155f1702bf91761cf164339ad1c6351a6b14', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: Id98cabad0d8288fedc1be10a93fb64de402f4cd0\n""}]",0,824225,5317155f1702bf91761cf164339ad1c6351a6b14,8,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: Id98cabad0d8288fedc1be10a93fb64de402f4cd0
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/25/824225/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_server_post_install.yml'],1,5317155f1702bf91761cf164339ad1c6351a6b14,combine-filter-recursion," systemd_overrides: ""{{ galera_init_defaults | combine(galera_init_overrides, recursive=True) }}"""," systemd_overrides: ""{{ galera_init_defaults | combine(galera_init_overrides) }}""",1,1
openstack%2Fneutron~stable%2Fxena~Id83bee82e5c476395ff422dcaf89c0095e74a8ec,openstack/neutron,stable/xena,Id83bee82e5c476395ff422dcaf89c0095e74a8ec,Add wait event for metadataagent sb_idl,MERGED,2022-01-07 17:28:16.000000000,2022-01-12 11:46:18.000000000,2022-01-12 11:43:02.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34340}]","[{'number': 1, 'created': '2022-01-07 17:28:16.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/876e42eb782ad19530c26ea0d2ba1e5dc4a2ed69', 'message': ""Add wait event for metadataagent sb_idl\n\nresolve bug:'MetadataAgent' object has no attribute 'sb_idl'\n\nCloses-Bug: #1953295\nChange-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec\n(cherry picked from commit 385b0ad203da40a2c0110948c0f46feb78ead2be)\n""}]",0,823828,876e42eb782ad19530c26ea0d2ba1e5dc4a2ed69,10,4,1,6773,,,0,"Add wait event for metadataagent sb_idl

resolve bug:'MetadataAgent' object has no attribute 'sb_idl'

Closes-Bug: #1953295
Change-Id: Id83bee82e5c476395ff422dcaf89c0095e74a8ec
(cherry picked from commit 385b0ad203da40a2c0110948c0f46feb78ead2be)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/823828/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,876e42eb782ad19530c26ea0d2ba1e5dc4a2ed69,,"import threading self._sb_idl = None self._post_fork_event = threading.Event() @property def sb_idl(self): if not self._sb_idl: self._post_fork_event.wait() return self._sb_idl @sb_idl.setter def sb_idl(self, val): self._sb_idl = val self._post_fork_event.clear() # Now IDL connections can be safely used. self._post_fork_event.set() ",,17,0
openstack%2Fansible-role-uwsgi~master~Ifda8ecff5baab4b09e278600181781fd13c8c24e,openstack/ansible-role-uwsgi,master,Ifda8ecff5baab4b09e278600181781fd13c8c24e,Enable recursion in combine() filter,MERGED,2022-01-11 18:24:31.000000000,2022-01-12 11:43:48.000000000,2022-01-12 11:40:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-11 18:24:31.000000000', 'files': ['tasks/uwsgi_post_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/924b7d132e897995243b332de9a5d1e82d545aea', 'message': ""Enable recursion in combine() filter\n\nAnsible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.\n\nhttps: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries\nChange-Id: Ifda8ecff5baab4b09e278600181781fd13c8c24e\n""}]",1,824226,924b7d132e897995243b332de9a5d1e82d545aea,10,3,1,32666,,,0,"Enable recursion in combine() filter

Ansible's combine() filter needs recursive=True parameter in order to recursively merge nested hashes.

https: //docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#combining-hashes-dictionaries
Change-Id: Ifda8ecff5baab4b09e278600181781fd13c8c24e
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/26/824226/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/uwsgi_post_install.yml'],1,924b7d132e897995243b332de9a5d1e82d545aea,combine-filter-recursion," config_overrides: ""{{ item.value.uwsgi_overrides | default({}) | combine(uwsgi_ini_overrides, recursive=True) }}"" config_overrides: ""{{ service_var.value.init_config_overrides | default({}) | combine(uwsgi_init_config_overrides, recursive=True) }}"""," config_overrides: ""{{ item.value.uwsgi_overrides | default({}) | combine(uwsgi_ini_overrides) }}"" config_overrides: ""{{ service_var.value.init_config_overrides | default({}) | combine(uwsgi_init_config_overrides) }}""",2,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I2e6b6ecd3717ff0811b47892aad406376c89a18c,openstack/kolla-ansible,stable/wallaby,I2e6b6ecd3717ff0811b47892aad406376c89a18c,docs: adjust to current defaults,MERGED,2022-01-07 15:54:29.000000000,2022-01-12 11:40:18.000000000,2022-01-12 11:31:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-01-07 15:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f09b6f4d4871f4561d0a66a99f9ed7d4c1a00ecd', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)\n'}, {'number': 2, 'created': '2022-01-07 15:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26a4364cd8c6959b8c2c56cde22b13ede228d4bf', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)\n'}, {'number': 3, 'created': '2022-01-11 09:26:29.000000000', 'files': ['doc/source/admin/mariadb-backup-and-restore.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1da4abcb703fdabe58d443ca3697fe6cacc8cc2b', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)\n'}]",1,823768,1da4abcb703fdabe58d443ca3697fe6cacc8cc2b,12,4,3,14826,,,0,"docs: adjust to current defaults

Change-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c
(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/823768/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/mariadb-backup-and-restore.rst'],1,f09b6f4d4871f4561d0a66a99f9ed7d4c1a00ecd,, quay.io/openstack.kolla/centos-source-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \ quay.io/openstack.kolla/centos-source-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \ quay.io/openstack.kolla/centos-source-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \, kolla/centos-binary-mariadb:train \ kolla/centos-binary-mariadb:train \ kolla/centos-binary-mariadb:train \,3,3
openstack%2Fkolla-ansible~stable%2Fvictoria~I2e6b6ecd3717ff0811b47892aad406376c89a18c,openstack/kolla-ansible,stable/victoria,I2e6b6ecd3717ff0811b47892aad406376c89a18c,docs: adjust to current defaults,MERGED,2022-01-07 15:56:25.000000000,2022-01-12 11:39:24.000000000,2022-01-12 11:31:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-01-07 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6172b2b70b60006ebe8b37cd0e2f496fed03219', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)\n'}, {'number': 2, 'created': '2022-01-11 09:26:48.000000000', 'files': ['doc/source/admin/mariadb-backup-and-restore.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f67a1d1ec6ec7876fc3db2eb9eaf023e3b625b50', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)\n'}]",1,823769,f67a1d1ec6ec7876fc3db2eb9eaf023e3b625b50,11,4,2,14826,,,0,"docs: adjust to current defaults

Change-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c
(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/823769/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/mariadb-backup-and-restore.rst'],1,d6172b2b70b60006ebe8b37cd0e2f496fed03219,, kolla/centos-binary-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \ kolla/centos-binary-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \ quay.io/openstack.kolla/centos-source-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \, kolla/centos-binary-mariadb:train \ kolla/centos-binary-mariadb:train \ kolla/centos-binary-mariadb:train \,3,3
openstack%2Fopenstack-ansible~stable%2Ftrain~Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,openstack/openstack-ansible,stable/train,Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,Fix rich version for ansible-lint,ABANDONED,2022-01-11 12:13:15.000000000,2022-01-12 11:39:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-11 12:13:15.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cdafd6f04ece3921d2c22d2ac3e00e9283c1bc21', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)\n""}]",0,824150,cdafd6f04ece3921d2c22d2ac3e00e9283c1bc21,3,1,1,28619,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8
(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/824150/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,cdafd6f04ece3921d2c22d2ac3e00e9283c1bc21,," # TODO(noonedeadpunk): Drop rich with ansible-lint bump, bug closed with https://github.com/ansible-community/ansible-lint/pull/1797 ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt 'rich>=9.5.1,<11.0.0'", ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt,2,1
openstack%2Fkolla-ansible~stable%2Fxena~I6ffc8caae1aef757d37c629fbc05bb129f80147b,openstack/kolla-ansible,stable/xena,I6ffc8caae1aef757d37c629fbc05bb129f80147b,Add logrotate configuration for placement service,MERGED,2022-01-11 20:37:51.000000000,2022-01-12 11:37:41.000000000,2022-01-12 11:31:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-11 20:37:51.000000000', 'files': ['releasenotes/notes/bug-1954723-2d49335022492891.yaml', 'ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2ba1bb39f24a9118f05a056088f510a090b4021', 'message': 'Add logrotate configuration for placement service\n\nCloses-Bug: #1954723\nChange-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b\n(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)\n'}]",0,824160,e2ba1bb39f24a9118f05a056088f510a090b4021,10,5,1,30491,,,0,"Add logrotate configuration for placement service

Closes-Bug: #1954723
Change-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b
(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/824160/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1954723-2d49335022492891.yaml', 'ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml']",3,e2ba1bb39f24a9118f05a056088f510a090b4021,bug/1954723-stable/xena," - { name: ""placement"", enabled: ""{{ enable_placement | bool }}"" }",,9,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I6ffc8caae1aef757d37c629fbc05bb129f80147b,openstack/kolla-ansible,stable/wallaby,I6ffc8caae1aef757d37c629fbc05bb129f80147b,Add logrotate configuration for placement service,MERGED,2022-01-11 20:38:06.000000000,2022-01-12 11:37:13.000000000,2022-01-12 11:31:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-11 20:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74516d31ed6d68d02b0e718a881f8fef528858f1', 'message': 'Add logrotate configuration for placement service\n\nCloses-Bug: #1954723\nChange-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b\n(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)\n'}, {'number': 2, 'created': '2022-01-11 20:38:32.000000000', 'files': ['releasenotes/notes/bug-1954723-2d49335022492891.yaml', 'ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5db2066e5190084e9cfd996552ebed69595a7386', 'message': 'Add logrotate configuration for placement service\n\nCloses-Bug: #1954723\nChange-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b\n(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)\n'}]",0,824161,5db2066e5190084e9cfd996552ebed69595a7386,12,5,2,30491,,,0,"Add logrotate configuration for placement service

Closes-Bug: #1954723
Change-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b
(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/824161/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1954723-2d49335022492891.yaml', 'ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml']",3,74516d31ed6d68d02b0e718a881f8fef528858f1,bug/1954723-stable/xena-stable/wallaby,"<<<<<<< HEAD (9ef252 Merge ""CI: check-logs - add another exception"" into stable/w)======= - { name: ""placement"", enabled: ""{{ enable_placement | bool }}"" } >>>>>>> CHANGE (e2ba1b Add logrotate configuration for placement service)",,12,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I6ffc8caae1aef757d37c629fbc05bb129f80147b,openstack/kolla-ansible,stable/victoria,I6ffc8caae1aef757d37c629fbc05bb129f80147b,Add logrotate configuration for placement service,MERGED,2022-01-11 20:38:52.000000000,2022-01-12 11:36:31.000000000,2022-01-12 11:31:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-11 20:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f51eb907e85e17f7ecb8f1510dc46a2597dabd3', 'message': 'Add logrotate configuration for placement service\n\nCloses-Bug: #1954723\nChange-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b\n(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)\n'}, {'number': 2, 'created': '2022-01-11 20:39:25.000000000', 'files': ['releasenotes/notes/bug-1954723-2d49335022492891.yaml', 'ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/153fa1ad609f0958500f1f9bad00f5acc13c1f53', 'message': 'Add logrotate configuration for placement service\n\nCloses-Bug: #1954723\nChange-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b\n(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)\n'}]",0,824162,153fa1ad609f0958500f1f9bad00f5acc13c1f53,12,5,2,30491,,,0,"Add logrotate configuration for placement service

Closes-Bug: #1954723
Change-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b
(cherry picked from commit 0fae8769440dc7a5c4d1e9df4fe6dc809956785e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/824162/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1954723-2d49335022492891.yaml', 'ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml']",3,6f51eb907e85e17f7ecb8f1510dc46a2597dabd3,bug/1954723-stable/xena-stable/wallaby-stable/victoria,"<<<<<<< HEAD (8f42cd Merge ""Register resources info for octavia upgrading"" into s)======= - { name: ""placement"", enabled: ""{{ enable_placement | bool }}"" } >>>>>>> CHANGE (5db206 Add logrotate configuration for placement service)",,12,0
openstack%2Fskyline-apiserver~master~I242ad9dc6ef3491f207dd3ebf93bce853f6a96ff,openstack/skyline-apiserver,master,I242ad9dc6ef3491f207dd3ebf93bce853f6a96ff,fix: Cleanup skyline-console in .zuul.yaml and publish job,MERGED,2022-01-12 03:42:38.000000000,2022-01-12 11:27:05.000000000,2022-01-12 11:27:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-01-12 03:42:38.000000000', 'files': ['.zuul.yaml', 'playbooks/python-tarball/run.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/a7ccf5e0fbfdcb774694e2f19bd5467e0853d73b', 'message': 'fix: Cleanup skyline-console in .zuul.yaml and publish job\n\n1. Remove skyline-console from irrelevant-files in .zuul.yaml file\n2. Remove skyline-console from publish job\n\nChange-Id: I242ad9dc6ef3491f207dd3ebf93bce853f6a96ff\n'}]",4,824279,a7ccf5e0fbfdcb774694e2f19bd5467e0853d73b,18,2,1,28706,,,0,"fix: Cleanup skyline-console in .zuul.yaml and publish job

1. Remove skyline-console from irrelevant-files in .zuul.yaml file
2. Remove skyline-console from publish job

Change-Id: I242ad9dc6ef3491f207dd3ebf93bce853f6a96ff
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/79/824279/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/python-tarball/run.yaml']",2,a7ccf5e0fbfdcb774694e2f19bd5467e0853d73b,,," - ""skyline-console"" - ""skyline-console""",0,4
openstack%2Foslo.cache~stable%2Fwallaby~Icbe6dc3e93b4d2fec1ceb88366027294e49d7032,openstack/oslo.cache,stable/wallaby,Icbe6dc3e93b4d2fec1ceb88366027294e49d7032,"Don't import module ""etcd3gw"" if etcd3gw backend is not used.",MERGED,2021-12-22 11:56:59.000000000,2022-01-12 11:23:57.000000000,2022-01-12 11:19:57.000000000,"[{'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 32927}]","[{'number': 1, 'created': '2021-12-22 11:56:59.000000000', 'files': ['oslo_cache/backends/etcd3gw.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3df5e9001346d17994deb8db60361cf8589a6230', 'message': 'Don\'t import module ""etcd3gw"" if etcd3gw backend is not used.\n\nIf module etcd3gw is not required for used backend,\nthen no need to have it installed and imported.\nOtherwise we always have ugly log error:\nCould not load \'oslo_cache.etcd3gw\': No module named \'etcd3gw\': ModuleNotFoundError: No module named \'etcd3gw\n\nCloses-Bug: 1928318\nChange-Id: Icbe6dc3e93b4d2fec1ceb88366027294e49d7032\n(cherry picked from commit 40946a9349407f36a43d5020d991085c11468698)\n'}]",1,822671,3df5e9001346d17994deb8db60361cf8589a6230,11,6,1,10273,,,0,"Don't import module ""etcd3gw"" if etcd3gw backend is not used.

If module etcd3gw is not required for used backend,
then no need to have it installed and imported.
Otherwise we always have ugly log error:
Could not load 'oslo_cache.etcd3gw': No module named 'etcd3gw': ModuleNotFoundError: No module named 'etcd3gw

Closes-Bug: 1928318
Change-Id: Icbe6dc3e93b4d2fec1ceb88366027294e49d7032
(cherry picked from commit 40946a9349407f36a43d5020d991085c11468698)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/71/822671/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/backends/etcd3gw.py'],1,3df5e9001346d17994deb8db60361cf8589a6230,bug/1928318-stable/wallaby, # module etcd3gw is only required when etcd3gw backend is used import etcd3gw,import etcd3gw,2,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,openstack/kolla-ansible,stable/victoria,Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,rabbitmq: enable/disable prometheus plugin follow up,MERGED,2022-01-11 14:05:58.000000000,2022-01-12 11:21:10.000000000,2022-01-12 11:18:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 14:05:58.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb73051bc768e676c1e8ce1a6d8ffe5664f77e69', 'message': 'rabbitmq: enable/disable prometheus plugin follow up\n\nMove new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to\nrole defaults.\n\nChange-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3\n(cherry picked from commit 71f24586debf556b35df702ce3113ae5b24a75ec)\n'}]",0,824154,cb73051bc768e676c1e8ce1a6d8ffe5664f77e69,9,3,1,30491,,,0,"rabbitmq: enable/disable prometheus plugin follow up

Move new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to
role defaults.

Change-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3
(cherry picked from commit 71f24586debf556b35df702ce3113ae5b24a75ec)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/824154/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml']",2,cb73051bc768e676c1e8ce1a6d8ffe5664f77e69,," #################### # Plugins #################### rabbitmq_enable_prometheus_plugin: ""{{ enable_prometheus }}"" rabbitmq_plugins: - name: ""rabbitmq_management"" enabled: True - name: ""rabbitmq_prometheus"" enabled: ""{{ rabbitmq_enable_prometheus_plugin | bool }}"" rabbitmq_enabled_plugins: ""{{ rabbitmq_plugins | selectattr('enabled', 'equalto', true) | list }}""",,12,8
openstack%2Fansible-hardening~master~I79a630ebe8ff54bc9f4600e1f3c0fda653cc4b71,openstack/ansible-hardening,master,I79a630ebe8ff54bc9f4600e1f3c0fda653cc4b71,Use pipefail for shell module,MERGED,2021-05-19 16:05:04.000000000,2022-01-12 11:18:33.000000000,2022-01-12 11:14:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-19 16:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/01e925637ca4f71b7555edd5b0981d1fc85728a2', 'message': ""Use pipefail for shell module\n\nIt's not safe to run pipes without pipefail, but for some cases we\nexpect it to fail and working this around. In such case we ignore rule\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/784751\nChange-Id: I79a630ebe8ff54bc9f4600e1f3c0fda653cc4b71\n""}, {'number': 2, 'created': '2021-05-19 17:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/ef0450ada52c8ec110db66bd58e242237c7d6d0e', 'message': ""Use pipefail for shell module\n\nIt's not safe to run pipes without pipefail, but for some cases we\nexpect it to fail and working this around. In such case we ignore rule\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/784751\nChange-Id: I79a630ebe8ff54bc9f4600e1f3c0fda653cc4b71\n""}, {'number': 3, 'created': '2022-01-04 13:07:09.000000000', 'files': ['tasks/rhel7stig/auth.yml', 'tasks/rhel7stig/zypper.yml', 'tasks/rhel7stig/rpm.yml', 'tasks/rhel7stig/apt.yml', 'tasks/rhel7stig/file_perms.yml', 'tasks/rhel7stig/misc.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/a82570f1a573e8481a7b7baf847ba1dd3d250745', 'message': ""Use pipefail for shell module\n\nIt's not safe to run pipes without pipefail, but for some cases we\nexpect it to fail and working this around. In such case we ignore rule\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/784751\nChange-Id: I79a630ebe8ff54bc9f4600e1f3c0fda653cc4b71\n""}]",4,792199,a82570f1a573e8481a7b7baf847ba1dd3d250745,25,3,3,28619,,,0,"Use pipefail for shell module

It's not safe to run pipes without pipefail, but for some cases we
expect it to fail and working this around. In such case we ignore rule

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/784751
Change-Id: I79a630ebe8ff54bc9f4600e1f3c0fda653cc4b71
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/99/792199/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rhel7stig/auth.yml', 'tasks/rhel7stig/zypper.yml', 'tasks/rhel7stig/rpm.yml', 'tasks/rhel7stig/apt.yml', 'tasks/rhel7stig/file_perms.yml', 'tasks/rhel7stig/misc.yml']",6,01e925637ca4f71b7555edd5b0981d1fc85728a2,," shell: ""set -o pipefail; ps -ef | egrep [f]reshclam -q"" shell: ""set -o pipefail; ip link | grep -i promisc"" command: 'egrep ""^[^#].*(public|private)"" /etc/snmp/snmpd.conf'"," shell: ""ps -ef | egrep [f]reshclam -q"" shell: ""ip link | grep -i promisc"" shell: 'egrep ""^[^#].*(public|private)"" /etc/snmp/snmpd.conf'",9,9
openstack%2Fkolla-ansible~stable%2Fvictoria~I4d694d6224c813285d228d6bc7eece5731db1078,openstack/kolla-ansible,stable/victoria,I4d694d6224c813285d228d6bc7eece5731db1078,Support enable/disable rabbitmq prometheus plugins,MERGED,2022-01-11 01:30:27.000000000,2022-01-12 11:18:15.000000000,2022-01-12 11:15:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 01:30:27.000000000', 'files': ['ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'releasenotes/notes/bug-1885106-2347d7458a8f9cb0.yaml', 'ansible/roles/rabbitmq/templates/enabled_plugins.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46544622ebf837b93f9f3b791440cf31b75a489a', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n(cherry picked from commit 1f3dcce5ac84414174f066dc20735e02ffebf041)\n'}]",0,824020,46544622ebf837b93f9f3b791440cf31b75a489a,11,3,1,31506,,,0,"Support enable/disable rabbitmq prometheus plugins

rabbitmq starting from 3.8.0, built-in Prometheus support,
prometheus plugins are enabled by default, when the environment is
""enable_prometheus is no"", rabbitmq role will disable prometheus plugins

Closes-Bug: #1885106

Change-Id: I4d694d6224c813285d228d6bc7eece5731db1078
(cherry picked from commit 1f3dcce5ac84414174f066dc20735e02ffebf041)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/824020/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/site.yml', 'releasenotes/notes/bug-1885106-2347d7458a8f9cb0.yaml', 'ansible/roles/rabbitmq/templates/enabled_plugins.j2']",7,46544622ebf837b93f9f3b791440cf31b75a489a,bug/1885106,"[{{ rabbitmq_enabled_plugins | map(attribute='name') | join(', ') }}]. ",,56,1
openstack%2Fansible-collections-openstack~master~Ibaff06561055c5cd024abb789dae075dd7871f08,openstack/ansible-collections-openstack,master,Ibaff06561055c5cd024abb789dae075dd7871f08,Add Neutron RBAC modules,MERGED,2021-07-07 17:51:40.000000000,2022-01-12 11:13:53.000000000,2022-01-12 11:13:53.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 17:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4067f2aab369b4770904f9485f1a2c4eb5374f52', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 2, 'created': '2021-08-02 20:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/77d2221c2541c37ee7c8b5cb8db43f62d32420fc', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 3, 'created': '2021-08-02 22:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b97faaeda5d702f5f2d1701be82721f4c4ea6e6a', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 4, 'created': '2021-08-03 20:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3cf4b31874fac44d135120482c6b1e6d63390a31', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 5, 'created': '2021-08-09 14:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1b3fb95b7adb1a3dffd2ad314d79dbd618823cd7', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 6, 'created': '2021-08-10 23:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/60485cac0b39b9e873d73d51d9d1188ead1e6e36', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 7, 'created': '2021-08-11 18:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9e5eb7a202c9aea900952cce805db20ee67894d7', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 8, 'created': '2021-10-04 21:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0f7015c8d84ab847327e07dfb47ed88c40552a00', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 9, 'created': '2021-10-06 08:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c969d9bd2fcd5fdb868e1209d01477af7ae56fb4', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 10, 'created': '2021-10-06 13:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c6cfbc1075a110436990fe383f7d94c7e9b6db5d', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 11, 'created': '2021-10-06 15:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/545d17fae3281f00fd386b36030ec5e150d11976', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 12, 'created': '2021-10-06 18:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/78dee5bec1866d3c8622520b32b8b8125bb627fd', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 13, 'created': '2021-10-06 18:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9f85c407d5881b90590710f70aa1e4a38979c40e', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 14, 'created': '2021-10-06 22:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cdcda2e56cdb3843059b771bf6969803f7995f71', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 15, 'created': '2022-01-10 17:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bc64b56a5db8eaac65ff467f7b034e48e96b776d', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 16, 'created': '2022-01-10 19:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fbf6a086c041af32579f22e302213724f5fea6d4', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 17, 'created': '2022-01-11 14:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e4ee716bccce0ad27f4350888be39b3283b55efb', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 18, 'created': '2022-01-11 15:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6e8b5ec510084e614b990cbed4294304a3209fae', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}, {'number': 19, 'created': '2022-01-11 17:00:19.000000000', 'files': ['plugins/modules/neutron_rbac_policy.py', 'plugins/modules/neutron_rbac_policies_info.py', 'ci/roles/neutron_rbac/tasks/main.yml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8c6d1041fa62bbb34e7de2264931d119ee047255', 'message': 'Add Neutron RBAC modules\n\nChange-Id: Ibaff06561055c5cd024abb789dae075dd7871f08\n'}]",20,799896,8c6d1041fa62bbb34e7de2264931d119ee047255,54,2,19,33675,,,0,"Add Neutron RBAC modules

Change-Id: Ibaff06561055c5cd024abb789dae075dd7871f08
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/96/799896/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/neutron_rbac_policy.py', 'plugins/modules/neutron_rbac_policies_info.py']",2,4067f2aab369b4770904f9485f1a2c4eb5374f52,neutron_rbac_modules,"#!/usr/bin/python # Copyright: Ansible Project # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) from __future__ import (absolute_import, division, print_function) __metaclass__ = type DOCUMENTATION = r''' --- module: neutron_rbac_policies_info short_description: Fetch Neutron policies. author: OpenStack Ansible SIG description: - Get RBAC policies against a network, security group or a QoS Policy for one or more projects. - If a C(policy_id) was not provided, this module will attempt to fetch all available policies. - Accepts same arguments as OpenStackSDK network proxy C(find_rbac_policy) and C(rbac_policies) functions which are ultimately passed over to C(RBACPolicy) - All parameters passed in to this module act as a filter for when no C(policy_id) was provided, otherwise they're ignored. - Returns None if no matching policy was found as opposed to failing. options: policy_id: description: - The RBAC policy ID - If provided, all other filters are ignored type: str object_id: description: - The object ID (the subject of the policy) to which the RBAC rules applies - This would be the ID of a network, security group or a qos policy - Mutually exclusive with the C(object_type) type: str object_type: description: - Can be one of the following object types C(network), C(security_group) or C(qos_policy) - Mutually exclusive with the C(object_id) choices: ['network', 'security_group', 'qos_policy'] type: str target_project_id: description: - Filters the RBAC rules based on the target project id - Logically AND'ed with other filters - Mutually exclusive with C(project_id) type: str project_id: description: - Filters the RBAC rules based on the project id to which the object belongs to - Logically AND'ed with other filters - Mutually exclusive with C(target_project_id) type: str project: description: - Filters the RBAC rules based on the project name - Logically AND'ed with other filters type: str action: description: - Can be either of the following options C(access_as_shared) | C(access_as_external) - Logically AND'ed with other filters choices: ['access_as_shared', 'access_as_external'] type: str extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = r''' # Ensure network RBAC policy exists - name: Create a new network RBAC policy neutron_rbac_policy: object_id: '7422172b-2961-475c-ac68-bd0f2a9960ad' object_type: 'network' target_project_id: 'a12f9ce1de0645e0a0b01c2e679f69ec' project_id: '84b8774d595b41e89f3dfaa1fd76932d' # Update network RBAC policy - name: Update an existing network RBAC policy neutron_rbac_policy: policy_id: 'f625242a-6a73-47ac-8d1f-91440b2c617f' target_project_id: '163c89e065a94e069064e551e15daf0e' # Delete an existing RBAC policy - name: Delete RBAC policy openstack.cloud.openstack.neutron_rbac_policy: policy_id: 'f625242a-6a73-47ac-8d1f-91440b2c617f' state: absent ''' RETURN = r''' ''' import re from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module def get_rbac_policies(module, sdk, cloud): """""" Creates a new RBAC policy returns: the ""Changed"" state of the RBAC policy """""" if module.check_mode: return True, None object_type = module.params.get('object_type') project_id = module.params.get('project_id') action = module.params.get('action') search_attributes = {} if object_type is not None: search_attributes['object_type'] = object_type if project_id is not None: search_attributes['project_id'] = project_id if action is not None: search_attributes['action'] = action try: policies = [] generator = cloud.network.rbac_policies(**search_attributes) for p in generator: policies.append(p) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to get RBAC policies: {0}'.format(str(ex))) return policies def filter_policies_by(policies, key, value): filtered = [] regexp = re.compile(r""location\.project\.([A-Za-z]+)"") if regexp.match(key): attribute = key.split('.')[-1] for p in policies: if p['location']['project'][attribute] == value: filtered.append(p) else: for p in policies: if getattr(p, key) == value: filtered.append(p) return filtered def run_module(): argument_spec = openstack_full_argument_spec( policy_id=dict(), object_id=dict(), # ID of the object that this RBAC policy affects. object_type=dict(choices=['security_group', 'qos_policy', 'network']), # Type of the object that this RBAC policy affects. target_project_id=dict(), # The ID of the project this RBAC will be enforced. project_id=dict(), # The owner project ID. project=dict(), action=dict(choices=['access_as_external', 'access_as_shared']), # Action for the RBAC policy. ) module_kwargs = openstack_module_kwargs() module = AnsibleModule( argument_spec, supports_check_mode=True, **module_kwargs ) policy_id = module.params.get('policy_id') object_id = module.params.get('object_id') object_type = module.params.get('object_type') project_id = module.params.get('project_id') project = module.params.get('project') target_project_id = module.params.get('target_project_id') sdk, cloud = openstack_cloud_from_module(module, min_version=""0.44"") if policy_id is not None: try: policy = cloud.network.get_rbac_policy(policy_id) module.exit_json(changed=False, policy=policy) except sdk.exceptions.ResourceNotFound: module.exit_json(changed=False, policy=None) except sdk.exceptions.OpenStackCloudException as ex: module.fail_json(msg='Failed to get RBAC policy: {0}'.format(str(ex))) else: if object_id is not None and object_type is not None: module.fail_json(msg='object_id and object_type are mutually exclusive, please specify one of the two.') if project_id is not None and target_project_id is not None: module.fail_json(msg='project_id and target_project_id are mutually exclusive, please specify one of the two.') policies = get_rbac_policies(module, sdk, cloud) filtered_policies = policies if project is not None: filtered_policies = filter_policies_by(filtered_policies, 'location.project.name', project) if object_id is not None: filtered_policies = filter_policies_by(filtered_policies, 'object_id', object_id) if target_project_id is not None: filtered_policies = filter_policies_by(filtered_policies, 'target_project_id', target_project_id) module.exit_json(policies=filtered_policies) def main(): run_module() if __name__ == '__main__': main() ",,466,0
openstack%2Fneutron~master~Ibaefbb9935020318ed670774b0205f3bcffef4ad,openstack/neutron,master,Ibaefbb9935020318ed670774b0205f3bcffef4ad,Disable tracebacks of eventlet.wsgi.server,MERGED,2021-11-18 14:12:36.000000000,2022-01-12 10:50:58.000000000,2022-01-12 10:39:14.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-18 14:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a8b24611e0aab70d56b3b49ace0334d57465e78', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\n'}, {'number': 2, 'created': '2021-11-19 13:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43c950f84505ee389f798f54000f4c6bc04bbff0', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nTODO bump requirements after Depends-On is released\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\nDepends-On: https://review.opendev.org/c/openstack/oslo.service/+/818548\n'}, {'number': 3, 'created': '2022-01-05 12:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/695693b42eee13aff5915a82b0d60729ea0d0112', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\nDepends-On: https://review.opendev.org/c/openstack/oslo.service/+/818548\n'}, {'number': 4, 'created': '2022-01-10 13:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6da48747d12e9969193dfc7b219d2fe932da878f', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\nDepends-On: https://review.opendev.org/c/openstack/oslo.service/+/818548\n'}, {'number': 5, 'created': '2022-01-11 08:34:20.000000000', 'files': ['requirements.txt', 'neutron/wsgi.py', 'neutron/tests/unit/test_wsgi.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0256e494d029ac18bc6c9fed0fd995283c675075', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nSome additional lower constraints had to be bumped for the\nlower-constraints job to pass.\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\nDepends-On: https://review.opendev.org/c/openstack/oslo.service/+/818548\n'}]",15,818391,0256e494d029ac18bc6c9fed0fd995283c675075,51,7,5,15554,,,0,"Disable tracebacks of eventlet.wsgi.server

Security folks considered tracebacks in API responses unwanted.

Some additional lower constraints had to be bumped for the
lower-constraints job to pass.

Change-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad
Closes-Bug: #1951429
Depends-On: https://review.opendev.org/c/openstack/oslo.service/+/818548
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/818391/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/wsgi.py'],1,9a8b24611e0aab70d56b3b49ace0334d57465e78,bug/1951429," socket_timeout=self.client_socket_timeout, debug=False)", socket_timeout=self.client_socket_timeout),2,1
openstack%2Fneutron~stable%2Fussuri~If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,openstack/neutron,stable/ussuri,If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,[OVN] Add reverse DNS records,MERGED,2022-01-06 06:49:45.000000000,2022-01-12 10:50:42.000000000,2022-01-12 10:39:08.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ed92cdf132ed8507a777e7aa5a852636cc3a4b1', 'message': '[OVN] Add reverse DNS records\n\nPTR DNS requests support is available since\novn-21.06.0[1].\n\nThis patch adds/removes required enteries for each ip\naddress of the port in DNS NB table, For example for ip\naddresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""\nand fqdn ""vm1.ovn.test."" following enteries are added:-\n- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""\n- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""\n\n[1] https://github.com/ovn-org/ovn/commit/82a4e44\n\nCloses-Bug: #1951872\nChange-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7\n(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)\n(cherry picked from commit 5b30b14ad726e41793c76ecd0fca8ee66cf51607)\n(cherry picked from commit 591570c5f4069234bef460274aa5442b60eed5de)\n(cherry picked from commit 3664aa1bb421cc1d7add0c2c5209af27b384ec1b)\nConflicts, trivial due to change near imports at top of file:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n'}, {'number': 2, 'created': '2022-01-06 10:55:56.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f7bf0f0129b2714f99d18faa8a0bd87a2a3799e', 'message': '[OVN] Add reverse DNS records\n\nPTR DNS requests support is available since\novn-21.06.0[1].\n\nThis patch adds/removes required enteries for each ip\naddress of the port in DNS NB table, For example for ip\naddresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""\nand fqdn ""vm1.ovn.test."" following enteries are added:-\n- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""\n- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""\n\n[1] https://github.com/ovn-org/ovn/commit/82a4e44\n\nCloses-Bug: #1951872\nChange-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7\n(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)\n(cherry picked from commit 5b30b14ad726e41793c76ecd0fca8ee66cf51607)\n(cherry picked from commit 591570c5f4069234bef460274aa5442b60eed5de)\n(cherry picked from commit 3664aa1bb421cc1d7add0c2c5209af27b384ec1b)\nConflicts, trivial due to change near imports at top of file:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n'}]",1,823631,6f7bf0f0129b2714f99d18faa8a0bd87a2a3799e,10,4,2,13686,,,0,"[OVN] Add reverse DNS records

PTR DNS requests support is available since
ovn-21.06.0[1].

This patch adds/removes required enteries for each ip
address of the port in DNS NB table, For example for ip
addresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""
and fqdn ""vm1.ovn.test."" following enteries are added:-
- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""
- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""

[1] https://github.com/ovn-org/ovn/commit/82a4e44

Closes-Bug: #1951872
Change-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7
(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)
(cherry picked from commit 5b30b14ad726e41793c76ecd0fca8ee66cf51607)
(cherry picked from commit 591570c5f4069234bef460274aa5442b60eed5de)
(cherry picked from commit 3664aa1bb421cc1d7add0c2c5209af27b384ec1b)
Conflicts, trivial due to change near imports at top of file:
    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/823631/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py']",3,0ed92cdf132ed8507a777e7aa5a852636cc3a4b1,bug/1951872-stable/ussuri," for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[1]['records'][p_record] = 'n2p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p2.ovn.test' port_ips = "" "".join([f['ip_address'] for f in n1p1['port']['fixed_ips']]) for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'].pop(p_record)",,36,0
openstack%2Fneutron~stable%2Fwallaby~If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,openstack/neutron,stable/wallaby,If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,[OVN] Add reverse DNS records,MERGED,2022-01-06 06:45:02.000000000,2022-01-12 10:50:31.000000000,2022-01-12 10:38:56.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:45:02.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/591570c5f4069234bef460274aa5442b60eed5de', 'message': '[OVN] Add reverse DNS records\n\nPTR DNS requests support is available since\novn-21.06.0[1].\n\nThis patch adds/removes required enteries for each ip\naddress of the port in DNS NB table, For example for ip\naddresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""\nand fqdn ""vm1.ovn.test."" following enteries are added:-\n- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""\n- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""\n\n[1] https://github.com/ovn-org/ovn/commit/82a4e44\n\nCloses-Bug: #1951872\nChange-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7\n(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)\n(cherry picked from commit 5b30b14ad726e41793c76ecd0fca8ee66cf51607)\n'}]",0,823595,591570c5f4069234bef460274aa5442b60eed5de,10,4,1,13686,,,0,"[OVN] Add reverse DNS records

PTR DNS requests support is available since
ovn-21.06.0[1].

This patch adds/removes required enteries for each ip
address of the port in DNS NB table, For example for ip
addresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""
and fqdn ""vm1.ovn.test."" following enteries are added:-
- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""
- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""

[1] https://github.com/ovn-org/ovn/commit/82a4e44

Closes-Bug: #1951872
Change-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7
(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)
(cherry picked from commit 5b30b14ad726e41793c76ecd0fca8ee66cf51607)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/823595/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py']",3,591570c5f4069234bef460274aa5442b60eed5de,bug/1951872-stable/xena-stable/wallaby," for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[1]['records'][p_record] = 'n2p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p2.ovn.test' port_ips = "" "".join([f['ip_address'] for f in n1p1['port']['fixed_ips']]) for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'].pop(p_record)",,34,0
openstack%2Fneutron~stable%2Fxena~If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,openstack/neutron,stable/xena,If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,[OVN] Add reverse DNS records,MERGED,2022-01-06 06:44:28.000000000,2022-01-12 10:50:28.000000000,2022-01-12 10:38:52.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:44:28.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b30b14ad726e41793c76ecd0fca8ee66cf51607', 'message': '[OVN] Add reverse DNS records\n\nPTR DNS requests support is available since\novn-21.06.0[1].\n\nThis patch adds/removes required enteries for each ip\naddress of the port in DNS NB table, For example for ip\naddresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""\nand fqdn ""vm1.ovn.test."" following enteries are added:-\n- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""\n- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""\n\n[1] https://github.com/ovn-org/ovn/commit/82a4e44\n\nCloses-Bug: #1951872\nChange-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7\n(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)\n'}]",3,823594,5b30b14ad726e41793c76ecd0fca8ee66cf51607,12,4,1,13686,,,0,"[OVN] Add reverse DNS records

PTR DNS requests support is available since
ovn-21.06.0[1].

This patch adds/removes required enteries for each ip
address of the port in DNS NB table, For example for ip
addresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""
and fqdn ""vm1.ovn.test."" following enteries are added:-
- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""
- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""

[1] https://github.com/ovn-org/ovn/commit/82a4e44

Closes-Bug: #1951872
Change-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7
(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/823594/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py']",3,5b30b14ad726e41793c76ecd0fca8ee66cf51607,bug/1951872-stable/xena," for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[1]['records'][p_record] = 'n2p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p2.ovn.test' port_ips = "" "".join([f['ip_address'] for f in n1p1['port']['fixed_ips']]) for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'].pop(p_record)",,34,0
openstack%2Fneutron~stable%2Fvictoria~If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,openstack/neutron,stable/victoria,If03a2ad2475cdb390c4388d6869cd0b2a0555eb7,[OVN] Add reverse DNS records,MERGED,2022-01-06 06:45:34.000000000,2022-01-12 10:49:54.000000000,2022-01-12 10:39:02.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:45:34.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3664aa1bb421cc1d7add0c2c5209af27b384ec1b', 'message': '[OVN] Add reverse DNS records\n\nPTR DNS requests support is available since\novn-21.06.0[1].\n\nThis patch adds/removes required enteries for each ip\naddress of the port in DNS NB table, For example for ip\naddresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""\nand fqdn ""vm1.ovn.test."" following enteries are added:-\n- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""\n- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""\n\n[1] https://github.com/ovn-org/ovn/commit/82a4e44\n\nCloses-Bug: #1951872\nChange-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7\n(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)\n(cherry picked from commit 5b30b14ad726e41793c76ecd0fca8ee66cf51607)\n(cherry picked from commit 591570c5f4069234bef460274aa5442b60eed5de)\n'}]",0,823596,3664aa1bb421cc1d7add0c2c5209af27b384ec1b,8,4,1,13686,,,0,"[OVN] Add reverse DNS records

PTR DNS requests support is available since
ovn-21.06.0[1].

This patch adds/removes required enteries for each ip
address of the port in DNS NB table, For example for ip
addresses ""10.0.0.4 fd5a:cdd8:f382:0:f816:3eff:fe5b:bb6""
and fqdn ""vm1.ovn.test."" following enteries are added:-
- 4.0.0.10.in-addr.arpa=""vm1.ovn.test""
- 6.b.b.0.b.5.e.f.f.f.e.3.6.1.8.f.0.0.0.0.2.8.3.f.8.d.d.c.a.5.d.f.ip6.arpa=""vm1.ovn.test""

[1] https://github.com/ovn-org/ovn/commit/82a4e44

Closes-Bug: #1951872
Change-Id: If03a2ad2475cdb390c4388d6869cd0b2a0555eb7
(cherry picked from commit 5b597d6e4ee647502d3f2aecd46de63f409317b4)
(cherry picked from commit 5b30b14ad726e41793c76ecd0fca8ee66cf51607)
(cherry picked from commit 591570c5f4069234bef460274aa5442b60eed5de)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/823596/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py']",3,3664aa1bb421cc1d7add0c2c5209af27b384ec1b,bug/1951872-stable/xena-stable/wallaby-stable/victoria," for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[1]['records'][p_record] = 'n2p1.ovn.test' for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'][p_record] = 'n1p2.ovn.test' port_ips = "" "".join([f['ip_address'] for f in n1p1['port']['fixed_ips']]) for ip in port_ips.split("" ""): p_record = netaddr.IPAddress(ip).reverse_dns.rstrip(""."") expected_dns_records[0]['records'].pop(p_record)",,34,0
openstack%2Fnova~master~Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8,openstack/nova,master,Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8,Enable min pps tempest testing in nova-next,MERGED,2021-09-29 16:13:09.000000000,2022-01-12 10:49:46.000000000,2022-01-12 10:38:44.000000000,"[{'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-29 16:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94bbf0e5b7417703526cb70b7e0df1f212c741ca', 'message': 'Enable min pps tempest testing in nova-next\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}, {'number': 2, 'created': '2021-09-29 16:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e08cd6a1ce7f6d3692d50511594d8d6c04d9b3e4', 'message': 'Enable min pps tempest testing in nova-next\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}, {'number': 3, 'created': '2021-09-30 15:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b35fdb0c557beecbf515313136f25cbae9924a43', 'message': 'Enable min pps tempest testing in nova-next\n\nNote that the existing qos min bw tests was running in nova next before\nbut the test file was renamed in\nhttps://review.opendev.org/c/openstack/tempest/+/806255 in a way that\nnow need the modification of the tempest exclude patter in the job to\nstill run those tests and the new ones.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}, {'number': 4, 'created': '2021-10-01 10:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45fa138f3acb5c7f14d124e12a7f62189e412869', 'message': 'Enable min pps tempest testing in nova-next\n\nNote that the existing qos min bw tests was running in nova next before\nbut the test file was renamed in\nhttps://review.opendev.org/c/openstack/tempest/+/806255 in a way that\nnow need the modification of the tempest exclude patter in the job to\nstill run those tests and the new ones.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}, {'number': 5, 'created': '2021-10-01 12:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1c0126b9f6929386126d88ff09c8e83ac8d2416', 'message': 'Enable min pps tempest testing in nova-next\n\nNote that the existing qos min bw tests was running in nova next before\nbut the test file was renamed in\nhttps://review.opendev.org/c/openstack/tempest/+/806255 in a way that\nnow need the modification of the tempest exclude patter in the job to\nstill run those tests and the new ones.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}, {'number': 6, 'created': '2021-10-20 09:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79b3e94360295c8b1a62d7eec746882192474b14', 'message': 'Enable min pps tempest testing in nova-next\n\nNote that the existing qos min bw tests was running in nova next before\nbut the test file was renamed in\nhttps://review.opendev.org/c/openstack/tempest/+/806255 in a way that\nnow need the modification of the tempest exclude patter in the job to\nstill run those tests and the new ones.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}, {'number': 7, 'created': '2021-11-02 15:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bc5dc267b4342b8c1848749ee042994d1b7c7fd', 'message': 'Enable min pps tempest testing in nova-next\n\nNote that the existing qos min bw tests was running in nova next before\nbut the test file was renamed in\nhttps://review.opendev.org/c/openstack/tempest/+/806255 in a way that\nnow need the modification of the tempest exclude patter in the job to\nstill run those tests and the new ones.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}, {'number': 8, 'created': '2021-11-04 08:11:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d2f2da0afacbfaf58f2e28b39c8217d7748f7c0', 'message': 'Enable min pps tempest testing in nova-next\n\nNote that the existing qos min bw tests was running in nova next before\nbut the test file was renamed in\nhttps://review.opendev.org/c/openstack/tempest/+/806255 in a way that\nnow need the modification of the tempest exclude patter in the job to\nstill run those tests and the new ones.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/806257\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nChange-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8\n'}]",8,811748,5d2f2da0afacbfaf58f2e28b39c8217d7748f7c0,90,5,8,9708,,,0,"Enable min pps tempest testing in nova-next

Note that the existing qos min bw tests was running in nova next before
but the test file was renamed in
https://review.opendev.org/c/openstack/tempest/+/806255 in a way that
now need the modification of the tempest exclude patter in the job to
still run those tests and the new ones.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/806257
Depends-On: https://review.opendev.org/c/openstack/neutron/+/805391
Change-Id: Iaa0bdd12c07fd51b3cab4c80371f2c868126ccc8
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/811748/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,94bbf0e5b7417703526cb70b7e0df1f212c741ca,bp/qos-minimum-guaranteed-packet-rate, resource_provider_packet_processing_without_direction = :100 qos_min_bw_and_pps: True,,2,0
openstack%2Ftempest~master~I4cb12a23f33d4feef6c800d23a0501d1aebb4f17,openstack/tempest,master,I4cb12a23f33d4feef6c800d23a0501d1aebb4f17,Test Network QoS minimum packet rate scenarios,MERGED,2021-08-26 17:25:17.000000000,2022-01-12 10:49:44.000000000,2022-01-12 10:38:38.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 33652}]","[{'number': 1, 'created': '2021-08-26 17:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6838a5ce036c4a07dff9b411498b8139debbbe07', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* finish the empty tests\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/80504\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 2, 'created': '2021-08-27 10:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8774d2a14a2304cc3984e3cc4c38ae9fe4be4af2', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* finish the empty tests\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/80504\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 3, 'created': '2021-09-15 10:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8f1d5ee3bef1c06112a7851d4f25cf6c8eb79eec', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* finish the empty tests\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 4, 'created': '2021-09-15 16:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5654727ecb6258ca7e688a52378c83852aafb8ec', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* finish the empty tests\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 5, 'created': '2021-09-21 16:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/758e3788f6ebcb31f8780d1142cc458c7278768e', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* finish the empty tests\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 6, 'created': '2021-09-21 16:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff1b1fb7d54830ac1150d1157ae7d74a8415e167', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* finish the empty tests\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 7, 'created': '2021-09-29 12:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/75b761cf3edf8cea8eb5146a7f33e5378b159c98', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* finish the empty tests\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805637\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 8, 'created': '2021-09-29 14:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a95a4ca50ad085eab9e8a90ca96c71262e92393f', 'message': 'Test Network QoS minimum packet rate scenarios\n\nTODO:\n* modify jobs to have packet rate inventory\n* update the depends on as neutron implementation progresses\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 9, 'created': '2021-09-29 15:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/335078f15e9e8466c9913a4dbf77e8a40cb33b54', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 10, 'created': '2021-09-30 10:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9c127ae8abf9b8f45b84046c92ecd733806df92', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 11, 'created': '2021-09-30 11:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/782d7d8e1930a6b19d9273109b6bd0c1a262f4b0', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 12, 'created': '2021-10-05 09:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6df84394d860497fb0628dbed57d490b6f3c8e08', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 13, 'created': '2021-10-05 10:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aa86bed147cbe6d2249f44f2aff2ea06c9099827', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 14, 'created': '2021-10-05 12:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/80b4077a05b9c6bd91f237d7152021f76e561783', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 15, 'created': '2021-10-05 16:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14a929c6ee60b3abc88ebd1a73dc8d3ff1e8ecab', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 16, 'created': '2021-10-19 10:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8e3ac915779f69e205da4889bf93cfdabd46a0f3', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 17, 'created': '2021-10-19 11:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1602f86820e10e09e268d2968a31d4d297f6d978', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 18, 'created': '2021-10-19 14:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aa2d2a8e01b758a6a2fff2ff3bfe66a94b541298', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 19, 'created': '2021-10-20 09:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b08491470f22b5ee1ff6c98c87d7015cec1c4627', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 20, 'created': '2021-10-20 13:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25469f8b2fec48cdad12876a667c952a39f81f0f', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 21, 'created': '2021-10-27 16:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/140f15008cd86087913eacb81265d7c01c92f985', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 22, 'created': '2021-11-02 17:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d54f5a1471874d986acd00bbc44b64f11b9b3e2', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 23, 'created': '2021-11-02 17:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/387ed70390eb716c74d0f6576bfe14d321a2eb05', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 24, 'created': '2021-11-04 12:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/283655ff9c743583d2422f58843d6f8b096817bd', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}, {'number': 25, 'created': '2021-11-29 15:17:25.000000000', 'files': ['tempest/scenario/test_network_qos_placement.py', 'tempest/lib/services/network/__init__.py', 'tempest/clients.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f294b0d8dca7d7251d274a44c140bffdf75959ae', 'message': 'Test Network QoS minimum packet rate scenarios\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805391\nDepens-On: https://review.opendev.org/c/openstack/nova/+/811396\n\nblueprint: qos-minimum-guaranteed-packet-rate\n\nChange-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17\n'}]",10,806257,f294b0d8dca7d7251d274a44c140bffdf75959ae,68,6,25,9708,,,0,"Test Network QoS minimum packet rate scenarios

Depends-On: https://review.opendev.org/c/openstack/neutron/+/805391
Depens-On: https://review.opendev.org/c/openstack/nova/+/811396

blueprint: qos-minimum-guaranteed-packet-rate

Change-Id: I4cb12a23f33d4feef6c800d23a0501d1aebb4f17
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/806257/25 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/network/__init__.py', 'tempest/scenario/test_network_qos_placement.py', 'tempest/clients.py']",3,6838a5ce036c4a07dff9b411498b8139debbbe07,bp/qos-minimum-guaranteed-packet-rate, self.qos_min_pps_client = ( self.network.QosMinimumPacketRateRulesClient()),,196,8
openstack%2Fkolla-ansible~stable%2Fxena~Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,openstack/kolla-ansible,stable/xena,Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,rabbitmq: enable/disable prometheus plugin follow up,MERGED,2022-01-11 14:04:25.000000000,2022-01-12 10:34:09.000000000,2022-01-12 10:27:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-11 14:04:25.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f5bf1f0024a47036712ffe965d886b5c3716d06', 'message': 'rabbitmq: enable/disable prometheus plugin follow up\n\nMove new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to\nrole defaults.\n\nChange-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3\n(cherry picked from commit 71f24586debf556b35df702ce3113ae5b24a75ec)\n'}]",0,824152,1f5bf1f0024a47036712ffe965d886b5c3716d06,10,4,1,30491,,,0,"rabbitmq: enable/disable prometheus plugin follow up

Move new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to
role defaults.

Change-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3
(cherry picked from commit 71f24586debf556b35df702ce3113ae5b24a75ec)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/824152/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml']",2,1f5bf1f0024a47036712ffe965d886b5c3716d06,," #################### # Plugins #################### rabbitmq_enable_prometheus_plugin: ""{{ enable_prometheus }}"" rabbitmq_plugins: - name: ""rabbitmq_management"" enabled: True - name: ""rabbitmq_prometheus"" enabled: ""{{ rabbitmq_enable_prometheus_plugin | bool }}"" rabbitmq_enabled_plugins: ""{{ rabbitmq_plugins | selectattr('enabled', 'equalto', true) | list }}""",,12,8
openstack%2Frally~master~I6d181c6aa3568c05d2af9bf9f7bf975d7be32f0b,openstack/rally,master,I6d181c6aa3568c05d2af9bf9f7bf975d7be32f0b,Call pip install tox differently,MERGED,2022-01-12 09:25:49.000000000,2022-01-12 10:30:55.000000000,2022-01-12 10:30:55.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 09:25:49.000000000', 'files': ['tests/ci/playbooks/tox-install.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/58b12c2e0bfa541bdb038be6e1679c5117b98484', 'message': 'Call pip install tox differently\n\nChange-Id: I6d181c6aa3568c05d2af9bf9f7bf975d7be32f0b\n'}]",0,824362,58b12c2e0bfa541bdb038be6e1679c5117b98484,6,2,1,9545,,,0,"Call pip install tox differently

Change-Id: I6d181c6aa3568c05d2af9bf9f7bf975d7be32f0b
",git fetch https://review.opendev.org/openstack/rally refs/changes/62/824362/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/tox-install.yaml'],1,58b12c2e0bfa541bdb038be6e1679c5117b98484,call-pip-different, python{{ python_version.stdout }} -m pip install tox, pip{{ python_version.stdout }} install tox,1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I4d694d6224c813285d228d6bc7eece5731db1078,openstack/kolla-ansible,stable/wallaby,I4d694d6224c813285d228d6bc7eece5731db1078,Support enable/disable rabbitmq prometheus plugins,MERGED,2022-01-11 01:29:50.000000000,2022-01-12 10:30:35.000000000,2022-01-12 10:27:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 01:29:50.000000000', 'files': ['ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'releasenotes/notes/bug-1885106-2347d7458a8f9cb0.yaml', 'ansible/roles/rabbitmq/templates/enabled_plugins.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b23bab245152840fca261d97680bb32e46d217d2', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n(cherry picked from commit 1f3dcce5ac84414174f066dc20735e02ffebf041)\n'}]",0,824019,b23bab245152840fca261d97680bb32e46d217d2,11,3,1,31506,,,0,"Support enable/disable rabbitmq prometheus plugins

rabbitmq starting from 3.8.0, built-in Prometheus support,
prometheus plugins are enabled by default, when the environment is
""enable_prometheus is no"", rabbitmq role will disable prometheus plugins

Closes-Bug: #1885106

Change-Id: I4d694d6224c813285d228d6bc7eece5731db1078
(cherry picked from commit 1f3dcce5ac84414174f066dc20735e02ffebf041)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/824019/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/site.yml', 'releasenotes/notes/bug-1885106-2347d7458a8f9cb0.yaml', 'ansible/roles/rabbitmq/templates/enabled_plugins.j2']",7,b23bab245152840fca261d97680bb32e46d217d2,bug/1885106,"[{{ rabbitmq_enabled_plugins | map(attribute='name') | join(', ') }}]. ",,56,1
openstack%2Fkolla-ansible~stable%2Fxena~I4d694d6224c813285d228d6bc7eece5731db1078,openstack/kolla-ansible,stable/xena,I4d694d6224c813285d228d6bc7eece5731db1078,Support enable/disable rabbitmq prometheus plugins,MERGED,2022-01-11 01:29:29.000000000,2022-01-12 10:30:34.000000000,2022-01-12 10:26:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 01:29:29.000000000', 'files': ['ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'releasenotes/notes/bug-1885106-2347d7458a8f9cb0.yaml', 'ansible/roles/rabbitmq/templates/enabled_plugins.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf8dbd6d08a8f47da62d1d4cd52ac5066e50380a', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n(cherry picked from commit 1f3dcce5ac84414174f066dc20735e02ffebf041)\n'}]",0,824018,cf8dbd6d08a8f47da62d1d4cd52ac5066e50380a,11,3,1,31506,,,0,"Support enable/disable rabbitmq prometheus plugins

rabbitmq starting from 3.8.0, built-in Prometheus support,
prometheus plugins are enabled by default, when the environment is
""enable_prometheus is no"", rabbitmq role will disable prometheus plugins

Closes-Bug: #1885106

Change-Id: I4d694d6224c813285d228d6bc7eece5731db1078
(cherry picked from commit 1f3dcce5ac84414174f066dc20735e02ffebf041)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/824018/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/site.yml', 'releasenotes/notes/bug-1885106-2347d7458a8f9cb0.yaml', 'ansible/roles/rabbitmq/templates/enabled_plugins.j2']",7,cf8dbd6d08a8f47da62d1d4cd52ac5066e50380a,bug/1885106,"[{{ rabbitmq_enabled_plugins | map(attribute='name') | join(', ') }}]. ",,56,1
openstack%2Fvalidations-libs~master~I9a7a50ad02a4814d85b63fd9001d85fd1122946b,openstack/validations-libs,master,I9a7a50ad02a4814d85b63fd9001d85fd1122946b,Redundant conditional removal,ABANDONED,2021-07-28 14:55:25.000000000,2022-01-12 10:22:08.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-28 14:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e05ec811420ae39705f7e0078932e0fccbce5aa8', 'message': 'Redundant conditional removal\n\nThe checks for types of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9a7a50ad02a4814d85b63fd9001d85fd1122946b\n'}, {'number': 2, 'created': '2021-08-02 14:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/01e2517c79e157e16e6a5f3b1cfd76ed57bc3014', 'message': 'Redundant conditional removal\n\nThe checks for types of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9a7a50ad02a4814d85b63fd9001d85fd1122946b\n'}, {'number': 3, 'created': '2022-01-04 09:32:24.000000000', 'files': ['validations_libs/validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/beb9bba2cf4c849a7c4414a004b08782845c873e', 'message': 'Redundant conditional removal\n\nThe checks for types of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9a7a50ad02a4814d85b63fd9001d85fd1122946b\n'}]",0,802737,beb9bba2cf4c849a7c4414a004b08782845c873e,8,6,3,32926,,,0,"Redundant conditional removal

The checks for types of the arguments are implemented
in the function called in the subsequent statement.

As there is no scenario in which one set of these checks
passes, while the other fails with the same values,
we can consider one of them to be redundant.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9a7a50ad02a4814d85b63fd9001d85fd1122946b
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/37/802737/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/validation_actions.py'],1,e05ec811420ae39705f7e0078932e0fccbce5aa8,refactor-redundant-conditions, :example:," :exemple: if not validations: validations = [] elif not isinstance(validations, list): raise TypeError(""The 'validations' argument must be a List"") if not groups: groups = [] elif not isinstance(groups, list): raise TypeError(""The 'groups' argument must be a List"") if not categories: categories = [] elif not isinstance(categories, list): raise TypeError(""The 'categories' argument must be a List"") if not products: products = [] elif not isinstance(products, list): raise TypeError(""The 'products' argument must be a List"")",1,20
openstack%2Ftripleo-quickstart~master~I5ef01ff25f489ae5c10fb61cd8a1c161696f9546,openstack/tripleo-quickstart,master,I5ef01ff25f489ae5c10fb61cd8a1c161696f9546,Remove tripleo-ui reference from docs,MERGED,2021-12-20 11:20:35.000000000,2022-01-12 10:08:22.000000000,2022-01-12 10:05:33.000000000,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2021-12-20 11:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/081490f75af79eed312160be35d87f42175be8ec', 'message': ""Remove tripleo-ui reference from docs\n\nTripleo UI has be deprecated for some time.\nEven when it was supported, it wasn't\nsupported well. Let's just remove the\nreference from the documentation. The code\nstill exists to deploy it for those still\ntesting < stein. But at least removing this\nreference will avoid confusion.\n\nResolves: #1949388\nChange-Id: I5ef01ff25f489ae5c10fb61cd8a1c161696f9546\n""}, {'number': 2, 'created': '2021-12-20 12:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2b3cf134afa7c72f65544f528b6cca8b1f43b9ca', 'message': ""Remove tripleo-ui reference from docs\n\nTripleo UI has be deprecated for some time.\nEven when it was supported, it wasn't\nsupported well. Let's just remove the\nreference from the documentation. The code\nstill exists to deploy it for those still\ntesting < stein. But at least removing this\nreference will avoid confusion.\n\nResolves-Bug: #1949388\nChange-Id: I5ef01ff25f489ae5c10fb61cd8a1c161696f9546\n""}, {'number': 3, 'created': '2021-12-21 23:29:50.000000000', 'files': ['doc/source/accessing-undercloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/93178db99378df2224b77ebcdba047ebd595fe24', 'message': ""Remove tripleo-ui reference from docs\n\nTripleo UI has be deprecated for some time.\nEven when it was supported, it wasn't\nsupported well. Let's just remove the\nreference from the documentation. The code\nstill exists to deploy it for those still\ntesting < stein. But at least removing this\nreference will avoid confusion.\n\nCloses-Bug: #1949388\nChange-Id: I5ef01ff25f489ae5c10fb61cd8a1c161696f9546\n""}]",0,822308,93178db99378df2224b77ebcdba047ebd595fe24,21,6,3,30073,,,0,"Remove tripleo-ui reference from docs

Tripleo UI has be deprecated for some time.
Even when it was supported, it wasn't
supported well. Let's just remove the
reference from the documentation. The code
still exists to deploy it for those still
testing < stein. But at least removing this
reference will avoid confusion.

Closes-Bug: #1949388
Change-Id: I5ef01ff25f489ae5c10fb61cd8a1c161696f9546
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/08/822308/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/accessing-undercloud.rst'],1,081490f75af79eed312160be35d87f42175be8ec,remove_tripleo-ui,, Access via the TripleO-UI ------------------------- With baremetal and ovb based deployments you can access the TripleO-UI via the undercloud's public ip address https://<virthost> Deploying TripleO in a libvirt based environment presents the additional challenge of accessing the isolated ovs networks on the undercloud. By default an ssh-tunnel service has been setup on the virthost by the tripleo-quickstart `enable_port_forward_for_tripleo_ui` variable. Access the TripleO-UI with the following. From your workstation:: https://<virthost> By default a secure connection to the undercloud services has been configured in the /var/www/openstack-tripleo-ui-/dist/tripleo_ui_config.js file. To use an insucure connections change the default variable ``tripleo_ui_secure_access`` to false.,0,20
openstack%2Ftripleo-heat-templates~master~I18900708cc7f667443b68690e47f97a1f49faa68,openstack/tripleo-heat-templates,master,I18900708cc7f667443b68690e47f97a1f49faa68,Add ephemeral Heat entry to clouds.yaml,MERGED,2021-11-12 20:47:44.000000000,2022-01-12 10:05:29.000000000,2022-01-12 10:05:29.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-12 20:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b789836887e9eecffa90e48c9b98a61a6243ccf0', 'message': 'Add ephemeral Heat entry to clouds.yaml\n\nAdds an external_deploy_tasks to the ephemeral heat service used during\nthe undercloud install so that clouds.yaml gets configured with a cloud\nconfig that can be used with ephemeral Heat. When configured, it can be\nused as:\n\nOS_CLOUD=heat openstack stack list\n\nDepends-On: Id9992ee242d381c02cb530838fef21e60d10dfa6\nChange-Id: I18900708cc7f667443b68690e47f97a1f49faa68\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-11-16 20:06:07.000000000', 'files': ['deployment/heat/heat-ephemeral-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a0b86e4e2bd624ffca99789cf00fce421316ebf', 'message': 'Add ephemeral Heat entry to clouds.yaml\n\nAdds an external_deploy_tasks to the ephemeral heat service used during\nthe undercloud install so that clouds.yaml gets configured with a cloud\nconfig that can be used with ephemeral Heat. When configured, it can be\nused as:\n\nOS_CLOUD=heat openstack stack list\n\nDepends-On: Id9992ee242d381c02cb530838fef21e60d10dfa6\nChange-Id: I18900708cc7f667443b68690e47f97a1f49faa68\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",9,817816,3a0b86e4e2bd624ffca99789cf00fce421316ebf,23,6,2,7144,,,0,"Add ephemeral Heat entry to clouds.yaml

Adds an external_deploy_tasks to the ephemeral heat service used during
the undercloud install so that clouds.yaml gets configured with a cloud
config that can be used with ephemeral Heat. When configured, it can be
used as:

OS_CLOUD=heat openstack stack list

Depends-On: Id9992ee242d381c02cb530838fef21e60d10dfa6
Change-Id: I18900708cc7f667443b68690e47f97a1f49faa68
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/817816/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-ephemeral-container-ansible.yaml'],1,b789836887e9eecffa90e48c9b98a61a6243ccf0,, external_deploy_tasks: - name: Configure /etc/openstack/clouds.yaml for ephemeral Heat include_role: name: tripleo_keystone_resources tasks_from: clouds vars: tripleo_keystone_resources_cloud_name: heat tripleo_keystone_resources_cloud_config: auth_type: none endpoint: http://127.0.0.1:8006/v1/admin when: - step|int == 2 - not ansible_check_mode|bool,,13,0
openstack%2Fopenstack-manuals~master~Ieffb7ce6d84888588ee3c51388923b6862136bca,openstack/openstack-manuals,master,Ieffb7ce6d84888588ee3c51388923b6862136bca,Drop explicit latest from openinfra redirects,MERGED,2022-01-10 17:07:06.000000000,2022-01-12 10:04:33.000000000,2022-01-12 09:43:38.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-10 17:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/438bdaed88e968251950ec9f5d728d9f2c5543ed', 'message': 'Drop explicit latest from openinfra redirects\n\nThe redirects for refstack and python-tempestconf, which moved into\nthe openinfra namespace on docs.opendev.org, does not need to\nspecify latest on the target as the old and new paths both used\nsimilar redirects already (unlike docs from the infra subtree, which\nwas likely the source of the confusion here). Drop the use of latest\nfor these, since otherwise old bookbarks or search results could\nresult in doubling the latest when the redirect on the new side is\napplied.\n\nChange-Id: Ieffb7ce6d84888588ee3c51388923b6862136bca\n'}, {'number': 2, 'created': '2022-01-10 17:27:42.000000000', 'files': ['www/.htaccess', 'www/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a6364c68944910650069bcca18ca8edc7dd1607c', 'message': 'Drop explicit latest from openinfra redirects\n\nThe redirects for refstack and python-tempestconf, which moved into\nthe openinfra namespace on docs.opendev.org, does not need to\nspecify latest on the target as the old and new paths both used\nsimilar redirects already (unlike docs from the infra subtree, which\nwas likely the source of the confusion here). Drop the use of latest\nfor these, since otherwise old bookbarks or search results could\nresult in doubling the latest when the redirect on the new side is\napplied.\n\nChange-Id: Ieffb7ce6d84888588ee3c51388923b6862136bca\n'}]",2,824034,a6364c68944910650069bcca18ca8edc7dd1607c,12,4,2,5263,,,0,"Drop explicit latest from openinfra redirects

The redirects for refstack and python-tempestconf, which moved into
the openinfra namespace on docs.opendev.org, does not need to
specify latest on the target as the old and new paths both used
similar redirects already (unlike docs from the infra subtree, which
was likely the source of the confusion here). Drop the use of latest
for these, since otherwise old bookbarks or search results could
result in doubling the latest when the redirect on the new side is
applied.

Change-Id: Ieffb7ce6d84888588ee3c51388923b6862136bca
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/34/824034/1 && git format-patch -1 --stdout FETCH_HEAD,['www/.htaccess'],1,438bdaed88e968251950ec9f5d728d9f2c5543ed,openinfra-renames,"{{ deep_links('/python-tempestconf', 'https://docs.opendev.org/openinfra/python-tempestconf/$1') }}{{ deep_links('/refstack', 'https://docs.opendev.org/openinfra/refstack/$1') }}","{{ deep_links('/python-tempestconf', 'https://docs.opendev.org/openinfra/python-tempestconf/latest/$1') }}{{ deep_links('/refstack', 'https://docs.opendev.org/openinfra/refstack/latest/$1') }}",2,2
openstack%2Ftripleo-ci~master~Ic6616488987588726d1c3b27784edbbc943b1cfe,openstack/tripleo-ci,master,Ic6616488987588726d1c3b27784edbbc943b1cfe,WIP/DNM - Add fips jobs - Alternative overrides,ABANDONED,2022-01-05 09:00:35.000000000,2022-01-12 10:02:08.000000000,,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 09:00:35.000000000', 'files': ['zuul.d/content-provider.yaml', 'roles/run-test/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50f7d97985fb370ec48304b0d5f12456d36a8d46', 'message': 'WIP/DNM - Add fips jobs - Alternative overrides\n\nEnabled FIPS mode by adding pre-run script to the base standalone\njob.  Lets see what fails and fix it.  It will be up to the tripleo\ncores to eventually determine when the fips jobs should be run\non a permanent basis.  We have added the multinode jobs to this commit as well.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/820270\nDepends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/815143\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819123\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819697\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/820056\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic6616488987588726d1c3b27784edbbc943b1cfe\n'}]",0,823487,50f7d97985fb370ec48304b0d5f12456d36a8d46,4,3,1,32926,,,0,"WIP/DNM - Add fips jobs - Alternative overrides

Enabled FIPS mode by adding pre-run script to the base standalone
job.  Lets see what fails and fix it.  It will be up to the tripleo
cores to eventually determine when the fips jobs should be run
on a permanent basis.  We have added the multinode jobs to this commit as well.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855
Depends-On: https://review.opendev.org/c/openstack/tempest/+/820270
Depends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/815143
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819123
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819697
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/820056

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic6616488987588726d1c3b27784edbbc943b1cfe
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/823487/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/content-provider.yaml', 'roles/run-test/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml']",5,50f7d97985fb370ec48304b0d5f12456d36a8d46,FIPS, vars: enable_fips: false,,24,1
openstack%2Fcontributor-guide~master~I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2,openstack/contributor-guide,master,I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2,Imported Translations from Zanata,MERGED,2021-09-24 06:16:34.000000000,2022-01-12 09:51:00.000000000,2022-01-12 09:45:34.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 06:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/967f311807049e02adbf0936ad41519f8e6e830f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}, {'number': 2, 'created': '2021-09-25 06:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/2136bd07ac4ee919e217019379377bdf11d179b6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}, {'number': 3, 'created': '2021-10-05 06:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/3542b70e9fb5c2fbbf6c827085580ada2791dc4c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}, {'number': 4, 'created': '2021-10-11 06:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/ba4472754abe1c7593dfb79af970bf2ca0359543', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}, {'number': 5, 'created': '2021-10-13 06:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/a42016cdc99da4c9a8dd9e0d752b263d8e90ecbe', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}, {'number': 6, 'created': '2021-10-25 02:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/0463b9739186609c6ef990d7be4e3706bee3697d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}, {'number': 7, 'created': '2021-12-10 08:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/65d784eec4d75f0ae77609ca290bb01460cb04b7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}, {'number': 8, 'created': '2022-01-12 06:25:27.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-common.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-operators.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/7a4a7962139e4082d73e5ee5eae08382c099fcac', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2\n'}]",0,810814,7a4a7962139e4082d73e5ee5eae08382c099fcac,25,3,8,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I17c9792dc36c75fe26b5c7f7f5dd5683aa2995a2
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/14/810814/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-code-and-documentation.po']",2,967f311807049e02adbf0936ad41519f8e6e830f,zanata/translations,"# Seunghyun Lim <lsmman5211@gmail.com>, 2021. #zanata""POT-Creation-Date: 2021-06-20 08:22+0000\n""""PO-Revision-Date: 2021-09-23 04:03+0000\n"" ""Last-Translator: Seunghyun Lim <lsmman5211@gmail.com>\n""""If a change is found to be flawed later, it may be necessary to revert the "" ""broken commit. This is much easier to do if there are not other unrelated "" ""code changes entangled with the original commit."" msgstr """" ""나중에 변경 사항에 결함이 있는 것으로 밝혀지면, 결함이 있는 커밋을 되돌려야 "" ""할 수도 있습니다. 이 때 커밋에서 변경하고자 했던 것과 관련 없는 코드가 없다"" ""면, 훨씬 더 쉽게 수행할 수 있습니다."" msgid """"msgid ""Structural split of Changes"" msgstr ""변경 사항을 구조적으로 분할"" msgid """" ""The cardinal rule for creating good commits is to ensure there is only one "" ""\""logical change\"" per commit. There are many reasons why this is an "" ""important rule:"" msgstr """" ""좋은 커밋을 만들기 위한 기본 규칙은 커밋당 오직 하나의 \""논리적 변경\""이 있는"" ""지 확인하는 것입니다. 이것이 중요한 규칙인 데에는 여러가지 이유가 있습니다."" ""The smaller the amount of code being changed, the quicker and easier it is "" ""to review and identify potential flaws."" msgstr """" ""변경되는 코드의 양이 적을수록, 잠재적인 결함을 더 쉽고 빠르게 검토하고 식별"" ""할 수 있습니다."" msgid """"""When browsing history using ``git annotate`` or ``git blame``, small well "" ""defined changes also aid in isolating exactly where and why a piece of code "" ""came from."" msgstr """" ""``git annotate``나 ``git blame``을 사용하여 커밋 히스토리를 검색할 때, 변경 "" ""사항을 작은 단위로 잘 정의하는 것은 코드 조각이 어디서부터 왔고 왜 작성 되었"" ""는지 정확하게 분리해내는 데 도움이 됩니다."" msgid """" ""When troubleshooting problems using Git's bisect capability, small well "" ""defined changes will aid in isolating exactly where the code problem was "" ""introduced."" msgstr """" ""Git의 Bisect 기능을 사용하여 문제를 해결할 때, 작은 단위로 잘 정의된 변경 사"" ""항은 코드 문제가 발생한 정확한 위치를 분리해내는 데 도움이 됩니다."" msgid """"","""POT-Creation-Date: 2020-09-21 06:50+0000\n""""PO-Revision-Date: 2020-09-24 06:34+0000\n"" ""Last-Translator: KEONWOO LEE <lkeonw0o@naver.com>\n""",61,6
openstack%2Fcontributor-guide~master~Icd44440ddade54b7e963ab652074a0107f4b444b,openstack/contributor-guide,master,Icd44440ddade54b7e963ab652074a0107f4b444b,Ignore Sphinx translation warnings,MERGED,2021-12-10 08:10:35.000000000,2022-01-12 09:48:13.000000000,2022-01-12 09:45:32.000000000,"[{'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 08:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/471b5e9ca3e564d8955ace23fd71023905e697fe', 'message': 'Temporarily drop id translations to fix docs build\n\nWith Sphinx>=4 the docs build is failing when processing the Indonesian\ntranslations. Drop them temporarily to unblock gating until someone can\nfix the real issue.\n\nChange-Id: Icd44440ddade54b7e963ab652074a0107f4b444b\n'}, {'number': 2, 'created': '2022-01-12 06:23:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/61acf2f499ca7f352869cf778ac9b72a2cb6f812', 'message': ""Ignore Sphinx translation warnings\n\nWith Sphinx>=4 the docs build is failing when processing some\ntranslations due to warnings occurring. Don't treat the warnings as\nerror for now to unblock other patches. See also the discussion in [0].\n\n[0] https://review.opendev.org/c/openstack/openstackdocstheme/+/802758\n\nChange-Id: Icd44440ddade54b7e963ab652074a0107f4b444b\n""}]",14,821371,61acf2f499ca7f352869cf778ac9b72a2cb6f812,24,6,2,13252,,,0,"Ignore Sphinx translation warnings

With Sphinx>=4 the docs build is failing when processing some
translations due to warnings occurring. Don't treat the warnings as
error for now to unblock other patches. See also the discussion in [0].

[0] https://review.opendev.org/c/openstack/openstackdocstheme/+/802758

Change-Id: Icd44440ddade54b7e963ab652074a0107f4b444b
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/71/821371/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/id/LC_MESSAGES/doc-non-code-contribution.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributing.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/id/LC_MESSAGES/doc-users.po']",8,471b5e9ca3e564d8955ace23fd71023905e697fe,gatefix-sphinx-locale-id,,"# suhartono <cloudsuhartono@gmail.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: contributor-guide\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-12-10 07:14+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-12-20 03:15+0000\n"" ""Last-Translator: suhartono <cloudsuhartono@gmail.com>\n"" ""Language-Team: Indonesian\n"" ""Language: id\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""Introduction"" msgstr ""Pengantar"" msgid """" ""OpenStack is running in production all around the globe addressing use cases "" ""from all parts of the industry."" msgstr """" ""OpenStack berjalan di produksi di seluruh dunia menangani kasus penggunaan "" ""dari semua bagian industri."" msgid """" ""To find documentation on how to deploy and run OpenStack you can look up the "" ""`OpenStack Manuals <https://docs.openstack.org/>`_ web page."" msgstr """" ""Untuk menemukan dokumentasi tentang cara menyebarkan dan menjalankan "" ""OpenStack Anda dapat mencari `OpenStack Manuals <https://docs.openstack.org/"" "">` _ halaman web."" msgid ""User Contributors"" msgstr ""Kontribusi Pengguna"" msgid ""Users' Contributor Guide"" msgstr ""Panduan Kontributor Pengguna"" msgid """" ""We actively encourage operators to participate and engage with the community "" ""to share feedback and views on emerging use cases and requirements to "" ""address."" msgstr """" ""Kami secara aktif mendorong operator untuk berpartisipasi dan terlibat "" ""dengan komunitas untuk berbagi umpan balik dan pandangan tentang kasus "" ""penggunaan yang muncul dan persyaratan yang harus diatasi."" ",0,6496
openstack%2Fneutron~master~Iffc87e4021391bcb98375621739a59064540a6a7,openstack/neutron,master,Iffc87e4021391bcb98375621739a59064540a6a7,Fix placement allocation update for port with network QoS policy,MERGED,2021-10-26 08:37:47.000000000,2022-01-12 09:45:56.000000000,2022-01-12 09:42:31.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 08:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c353d03f27240538c273c92a68bff3a5a71df391', 'message': 'Fix placement allocation update for port with network QoS policy\n\nIf port has no QoS policy on its own, fallback to the network\nQoS policy and use it to check if Placement allocation needs\nto be updated.\n\nCloses-Bug: #1915849\nChange-Id: Iffc87e4021391bcb98375621739a59064540a6a7\n'}, {'number': 2, 'created': '2022-01-10 16:16:00.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/18ec0eb20921e41ba4cade555f9da823c9dbfa13', 'message': 'Fix placement allocation update for port with network QoS policy\n\nIf port has no QoS policy on its own, fallback to the network\nQoS policy and use it to check if Placement allocation needs\nto be updated.\n\nCloses-Bug: #1915849\nChange-Id: Iffc87e4021391bcb98375621739a59064540a6a7\n'}]",14,815421,18ec0eb20921e41ba4cade555f9da823c9dbfa13,45,7,2,33652,,,0,"Fix placement allocation update for port with network QoS policy

If port has no QoS policy on its own, fallback to the network
QoS policy and use it to check if Placement allocation needs
to be updated.

Closes-Bug: #1915849
Change-Id: Iffc87e4021391bcb98375621739a59064540a6a7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/815421/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",2,c353d03f27240538c273c92a68bff3a5a71df391,bug/1915849," def _make_port(self, network_id, qos_policy_id=None, qos_network_policy_id=None, port_id=None): device_id='2', qos_policy_id=qos_policy_id, qos_network_policy_id=qos_network_policy_id, mac_address=mac, def _prepare_for_port_placement_allocation_change(self, qos1, qos2, qos_network_policy=None): qos_network_policy_id = ( qos_network_policy.id if qos_network_policy else None) network = self._make_network(qos_policy_id=qos_network_policy_id) ""qos_policy_id"": qos1_id, ""qos_network_policy_id"": qos_network_policy_id}, def test_check_port_for_placement_allocation_change_qos_network_policy( self): qos_network = self._make_qos_policy() desired_qos = self._make_qos_policy() kwargs = self._prepare_for_port_placement_allocation_change( qos1=None, qos2=desired_qos, qos_network_policy=qos_network) context = kwargs['context'] original_port = kwargs['original_port'] port = kwargs['port'] with mock.patch.object( self.qos_plugin, '_change_placement_allocation') as mock_alloc_change: self.qos_plugin._check_port_for_placement_allocation_change( 'PORT', 'before_update', 'test_plugin', payload=events.DBEventPayload( context, states=(original_port, port))) mock_alloc_change.assert_called_once_with( qos_network, desired_qos, kwargs['original_port'], port) qos_network_policy=None, original_qos, desired_qos, qos_network_policy=qos_network_policy) qos = original_qos or qos_network_policy qos.rules = [] qos.rules += [self._make_qos_minbw_rule( qos.id, min_kbps=original_min_kbps, qos.rules += [self._make_qos_minpps_rule( qos.id, min_kpps=original_min_kpps, def test_change_placement_allocation_qos_network_policy(self): qos_network = self._make_qos_policy() desired_qos = self._make_qos_policy() orig_port, port = self._prepare_port_for_placement_allocation( None, desired_qos, qos_network_policy=qos_network, original_min_kbps=1000, desired_min_kbps=2000) with mock.patch.object(self.qos_plugin._placement_client, 'update_qos_allocation') as mock_update_qos_alloc: self.qos_plugin._change_placement_allocation( qos_network, desired_qos, orig_port, port) mock_update_qos_alloc.assert_called_once_with( consumer_uuid='uu:id', alloc_diff={self.MIN_BW_RP: {'NET_BW_IGR_KILOBIT_PER_SEC': 1000}})"," def _make_port(self, network_id, qos_policy_id=None, port_id=None): device_id='2', qos_policy_id=qos_policy_id, mac_address=mac, def _prepare_for_port_placement_allocation_change(self, qos1, qos2): network = self._make_network() ""qos_policy_id"": qos1_id}, original_qos, desired_qos) original_qos.rules = [] original_qos.rules += [self._make_qos_minbw_rule( original_qos.id, min_kbps=original_min_kbps, original_qos.rules += [self._make_qos_minpps_rule( original_qos.id, min_kpps=original_min_kpps,",59,14
openstack%2Foslo.cache~master~I220012094d2be3c2c47a444260bc42fb53aaf6bc,openstack/oslo.cache,master,I220012094d2be3c2c47a444260bc42fb53aaf6bc,Add a new option to enforce the OpenSSL FIPS mode,NEW,2021-06-24 13:00:18.000000000,2022-01-12 09:43:55.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-24 13:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2cdf8c1492cca8dc0e2a7dfb3f203994eaf5aec1', 'message': 'Add a new option to enforce the OpenSSL FIPS mode\n\nThis option ``enforce_fips_mode`` allow us to enforce the FIPS mode\nif supported by the version of python in use.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I220012094d2be3c2c47a444260bc42fb53aaf6bc\n'}, {'number': 2, 'created': '2021-10-19 12:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/db14e0b6d52e1549e0421c847653da69cb58e345', 'message': 'Add a new option to enforce the OpenSSL FIPS mode\n\nThis option ``enforce_fips_mode`` allow us to enforce the FIPS mode\nif supported by the version of python in use.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I220012094d2be3c2c47a444260bc42fb53aaf6bc\n'}, {'number': 3, 'created': '2021-10-19 12:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/03d43f2799d04ff9441f402915aab657022108ae', 'message': 'Add a new option to enforce the OpenSSL FIPS mode\n\nThis option ``enforce_fips_mode`` allow us to enforce the FIPS mode\nif supported by the version of python in use.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I220012094d2be3c2c47a444260bc42fb53aaf6bc\n'}, {'number': 4, 'created': '2021-10-21 14:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2c3141a3258b2d091557fa3727b140b40cee6a12', 'message': 'Add a new option to enforce the OpenSSL FIPS mode\n\nThis option ``enforce_fips_mode`` allow us to enforce the FIPS mode\nif supported by the version of python in use.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I220012094d2be3c2c47a444260bc42fb53aaf6bc\n'}, {'number': 5, 'created': '2021-10-21 14:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8db17406310e072ed8882dbb2094f4ff20de7522', 'message': 'Add a new option to enforce the OpenSSL FIPS mode\n\nThis option ``enforce_fips_mode`` allow us to enforce the FIPS mode\nif supported by the version of python in use.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I220012094d2be3c2c47a444260bc42fb53aaf6bc\n'}, {'number': 6, 'created': '2021-10-25 08:37:22.000000000', 'files': ['oslo_cache/_opts.py', 'oslo_cache/core.py', 'releasenotes/notes/enforce_fips_mode-c3296a0cc1fb7ad9.yaml', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/4633518f0adf6fc5ee6297bb43ca1e5f98d0f2a4', 'message': 'Add a new option to enforce the OpenSSL FIPS mode\n\nThis option ``enforce_fips_mode`` allow us to enforce the FIPS mode\nif supported by the version of python in use.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I220012094d2be3c2c47a444260bc42fb53aaf6bc\n'}]",15,797897,4633518f0adf6fc5ee6297bb43ca1e5f98d0f2a4,17,3,6,28522,,,0,"Add a new option to enforce the OpenSSL FIPS mode

This option ``enforce_fips_mode`` allow us to enforce the FIPS mode
if supported by the version of python in use.

https://en.wikipedia.org/wiki/Federal_Information_Processing_Standards

Change-Id: I220012094d2be3c2c47a444260bc42fb53aaf6bc
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/97/797897/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/_opts.py', 'oslo_cache/core.py', 'releasenotes/notes/enforce_fips_mode-c3296a0cc1fb7ad9.yaml', 'oslo_cache/tests/unit/test_cache_basics.py']",4,2cdf8c1492cca8dc0e2a7dfb3f203994eaf5aec1,fips,"import testtools @testtools.skipIf( getattr(ssl, 'FIPS_mode', False) is False, ""FIPS mode is not supported"") @mock.patch('oslo_cache.core._LOG') def test_cache_dictionary_config_builder_fips_mode_supported(self, log): """"""Validate the FIPS mode is supported."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='oslo_cache.dict', tls_enabled=True, enforce_fips_mode=True) cache._build_cache_config(self.config_fixture.conf) log.info.assert_called_once_with( ""Enforcing the use of the OpenSSL FIPS mode"") @mock.patch('oslo_cache.core._LOG') def test_cache_dictionary_config_builder_fips_mode_unsupported(self, log): """"""Validate the FIPS mode is not supported."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='oslo_cache.dict', tls_enabled=True, enforce_fips_mode=True) if not getattr(ssl, 'FIPS_mode', False): # We do this test only if FIPS mode is not supported to # ensure that we log a warn. # Unfortunately we can't decorate we skipif as did above because # getattr will trigger an AttributeError if the interpretor # doesn't support FIPS. cache._build_cache_config(self.config_fixture.conf) log.warning.assert_called_once_with( ""OpenSSL FIPS mode is not supported by your python "" ""version. If you see this message that mean "" ""your tried to enforce the FIPS mode without success "" ""If you want to use it you should consider to patch "" ""and compile your python version. That will enabled "" ""the support. For now The execution will continue "" ""without enforcing this mode, however, if you try to "" ""use a hash that is not FIPS-compliant Python will "" ""crash"") ",,78,0
openstack%2Fnova~master~Ice7d1bb4753a8aa0c57020841aae8b0e33a5a47e,openstack/nova,master,Ice7d1bb4753a8aa0c57020841aae8b0e33a5a47e,support use_multipath for nvme driver,ABANDONED,2022-01-12 08:54:37.000000000,2022-01-12 09:00:51.000000000,,[],"[{'number': 1, 'created': '2022-01-12 08:54:37.000000000', 'files': ['nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'releasenotes/notes/use-multipath-0a0aa2b479e02370.yaml', 'nova/virt/libvirt/volume/nvme.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e091860a07a4cf867d125ddbdf0438e7273ada9', 'message': 'support use_multipath for nvme driver\n\nChange-Id: I77d94c40351d4f872efe2f88abee7fbb729a275e\n\nUpdate nvme UT.\n\nChange-Id: I20f6aa2d422259601c44d024099cd5760a8e21c6\n\nAdd release notes\nChange-Id: I20f6aa2d422259601c44d024099cd5760a8e21c6\n\nChange-Id: Ice7d1bb4753a8aa0c57020841aae8b0e33a5a47e\n'}]",0,824353,7e091860a07a4cf867d125ddbdf0438e7273ada9,6,0,1,34173,,,0,"support use_multipath for nvme driver

Change-Id: I77d94c40351d4f872efe2f88abee7fbb729a275e

Update nvme UT.

Change-Id: I20f6aa2d422259601c44d024099cd5760a8e21c6

Add release notes
Change-Id: I20f6aa2d422259601c44d024099cd5760a8e21c6

Change-Id: Ice7d1bb4753a8aa0c57020841aae8b0e33a5a47e
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/824353/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/virt/libvirt/volume/nvme.py', 'releasenotes/notes/use-multipath-0a0aa2b479e02370.yaml']",3,7e091860a07a4cf867d125ddbdf0438e7273ada9,multipath_nvme,"--- features: - | The libvirt driver now allows using Native NVMeoF multipathing for NVMeoF connector, via the configuration attribute in nova-cpu.conf ``[libvirt]/volume_use_multipath``, defaulting to False (disabled). ",,9,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I7801a2fef63211d3dbbda15990bc7197bb61e6c7,openstack/networking-ovn,stable/train,I7801a2fef63211d3dbbda15990bc7197bb61e6c7,[OVN] Prevent deleting the only IP of a router port,ABANDONED,2022-01-04 16:38:08.000000000,2022-01-12 08:54:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-01-04 16:38:08.000000000', 'files': ['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/l3/l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/82a4c7bbe93b1da85485eb514dc395855fa8a865', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nComparet to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nFrom Neutron-master:\n    https://review.opendev.org/c/openstack/neutron/+/817525\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(manually cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)\n\nChange-Id: I7801a2fef63211d3dbbda15990bc7197bb61e6c7\n""}]",2,823409,82a4c7bbe93b1da85485eb514dc395855fa8a865,4,2,1,34118,,,0,"[OVN] Prevent deleting the only IP of a router port

Neutron allows deleting the only IP of a router port but
the OVN NB DB doesn't, since it expects that the
network value of a port is greater than 0. This should
not be possible since it causes that the DB are not
perfectly sync.

It is needed to check BEFORE_UPDATE if the port
that will be updated is of type router owned and
if it will have an IP after the update. If not
an error needs to be raised.

Comparet to master patch, this has changed payload to kwargs
Conflicts:
    neutron/services/ovn_l3/plugin.py

From Neutron-master:
    https://review.opendev.org/c/openstack/neutron/+/817525

Closes-Bug: #1948457
Change-Id: I206c31201470f178efdde8839622be7900c6ae3e
(manually cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)

Change-Id: I7801a2fef63211d3dbbda15990bc7197bb61e6c7
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/09/823409/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/l3/l3_ovn.py']",3,82a4c7bbe93b1da85485eb514dc395855fa8a865,," @registry.receives( resources.PORT, [events.BEFORE_UPDATE, events.AFTER_UPDATE] ) original = kwargs['original_port'] # The OVN NB DB has a constraint where network has to be # greater than 0. Updating it with an empty network would # cause a constraint violation error. This problem happens # when the last IP of a LRP is deleted, in order to avoid it # an exception needs to be thrown before any write is performed # to the DB, since if not it would leave the Neutron DB and the # OVN DB unsync. # https://bugs.launchpad.net/neutron/+bug/1948457 if (event == events.BEFORE_UPDATE and 'fixed_ips' in current and not current['fixed_ips'] and utils.is_lsp_router_port(original)): reason = _(""Router port must have at least one IP."") raise n_exc.ServicePortInUse(port_id=original['id'], reason=reason) if event == events.AFTER_UPDATE and utils.is_lsp_router_port(current):"," @registry.receives(resources.PORT, [events.AFTER_UPDATE]) if utils.is_lsp_router_port(current):",43,2
openstack%2Ftripleo-quickstart~master~I801b21aa2728410ba3bb3da09b6145b8bed61a43,openstack/tripleo-quickstart,master,I801b21aa2728410ba3bb3da09b6145b8bed61a43,Pull DLRN from github for CS9,ABANDONED,2022-01-10 12:23:27.000000000,2022-01-12 08:35:38.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-10 12:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9bc601316ae9af96c564918a9eeac0116dd5cd6f', 'message': 'Pull DLRN from github for CS9\n\nCurrently we need\nhttps://github.com/softwarefactory-project/DLRN/commit/48c4decf75162c3f98c19bb333dcc7a608f98b92\nto get centos-stream-9.cfg file to build the package.\n\nIn order to get it, we need a new release of DLRN on pypi which is\ngoing to take time.\n\nLet use dlrn_pre_installed: true to install dlrn from git.\n\nRelated-Bug: #1956946\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I801b21aa2728410ba3bb3da09b6145b8bed61a43\n'}, {'number': 2, 'created': '2022-01-11 05:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3b631671720269882551d8e4c63452341adb002e', 'message': 'Pull DLRN from github for CS9\n\nCurrently we need\nhttps://github.com/softwarefactory-project/DLRN/commit/48c4decf75162c3f98c19bb333dcc7a608f98b92\nto get centos-stream-9.cfg file to build the package.\n\nIn order to get it, we need a new release of DLRN on pypi which is\ngoing to take time.\n\nLet use dlrn_pre_installed: true to install dlrn from git.\n\nRelated-Bug: #1956946\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I801b21aa2728410ba3bb3da09b6145b8bed61a43\n'}, {'number': 3, 'created': '2022-01-11 07:18:10.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0fb8ddda68f9b8703db7c7d0c6c85dfa4485ed9b', 'message': 'Pull DLRN from github for CS9\n\nCurrently we need\nhttps://github.com/softwarefactory-project/DLRN/commit/48c4decf75162c3f98c19bb333dcc7a608f98b92\nto get centos-stream-9.cfg file to build the package.\n\nIn order to get it, we need a new release of DLRN on pypi which is\ngoing to take time.\n\nLet use dlrn_pre_installed: true to install dlrn from git.\n\nRelated-Bug: #1956946\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I801b21aa2728410ba3bb3da09b6145b8bed61a43\n'}]",7,823975,0fb8ddda68f9b8703db7c7d0c6c85dfa4485ed9b,18,8,3,12393,,,0,"Pull DLRN from github for CS9

Currently we need
https://github.com/softwarefactory-project/DLRN/commit/48c4decf75162c3f98c19bb333dcc7a608f98b92
to get centos-stream-9.cfg file to build the package.

In order to get it, we need a new release of DLRN on pypi which is
going to take time.

Let use dlrn_pre_installed: true to install dlrn from git.

Related-Bug: #1956946

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I801b21aa2728410ba3bb3da09b6145b8bed61a43
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/75/823975/3 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml']",3,9bc601316ae9af96c564918a9eeac0116dd5cd6f,cs9,dlrn_pre_installed: true,,3,0
openstack%2Ftripleo-docs~master~Id24424593409ecb9aff58d3b98e77f7e43a4ccfa,openstack/tripleo-docs,master,Id24424593409ecb9aff58d3b98e77f7e43a4ccfa,Updating promotion/CIX/ci-health related info in ruck rover doc,MERGED,2022-01-04 14:43:54.000000000,2022-01-12 08:15:28.000000000,2022-01-12 08:13:33.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 14:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2002dd01bdaf3f696ea49d00e9e061fffbbf3e75', 'message': 'Updating promotion/CIX related info in ruck rover doc\n\nUpdating promotion criteria file links and\n adding a bit of CIX related information\n\nChange-Id: Id24424593409ecb9aff58d3b98e77f7e43a4ccfa\n'}, {'number': 2, 'created': '2022-01-04 14:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/315d3d1b2e915af2c8fe7a854f35c7c78063e500', 'message': 'Updating promotion/CIX/ci-health related info in ruck rover doc\n\nUpdating promotion criteria file links.\nAdding a bit of CIX related information.\nAdding ci-health to the rick rover tool list.\n\nChange-Id: Id24424593409ecb9aff58d3b98e77f7e43a4ccfa\n'}, {'number': 3, 'created': '2022-01-05 16:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2a9c31c2d6c95885635e68a8a56ec823c84a9226', 'message': 'Updating promotion/CIX/ci-health related info in ruck rover doc\n\nUpdating promotion criteria file links.\nAdding a bit of CIX related information.\nAdding ci-health to the rick rover tool list.\n\nChange-Id: Id24424593409ecb9aff58d3b98e77f7e43a4ccfa\n'}, {'number': 4, 'created': '2022-01-10 08:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8cd9783b6a425cc7e28e8803d280d007aa47aa50', 'message': 'Updating promotion/CIX/ci-health related info in ruck rover doc\n\nUpdating promotion criteria file links.\nAdding a bit of CIX related information.\nAdding ci-health to the rick rover tool list.\n\nChange-Id: Id24424593409ecb9aff58d3b98e77f7e43a4ccfa\n'}, {'number': 5, 'created': '2022-01-10 10:00:10.000000000', 'files': ['doc/source/ci/ruck_rover_primer.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/617148320b31c0e84d42f11a2554793cf400062e', 'message': 'Updating promotion/CIX/ci-health related info in ruck rover doc\n\nUpdating promotion criteria file links.\nAdding a bit of CIX related information.\nAdding ci-health to the rick rover tool list.\n\nChange-Id: Id24424593409ecb9aff58d3b98e77f7e43a4ccfa\n'}]",6,823399,617148320b31c0e84d42f11a2554793cf400062e,20,4,5,32458,,,0,"Updating promotion/CIX/ci-health related info in ruck rover doc

Updating promotion criteria file links.
Adding a bit of CIX related information.
Adding ci-health to the rick rover tool list.

Change-Id: Id24424593409ecb9aff58d3b98e77f7e43a4ccfa
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/99/823399/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ci/ruck_rover_primer.rst'],1,2002dd01bdaf3f696ea49d00e9e061fffbbf3e75,,"`Tripleo launchpad bugs`_. When filing a new bug, the ruck will add the correct milestone, change the status to ""Triaged"" add the appropriate tag(s): criteria (more on that below). Bugs with this tag are picked up by a script running periodically and converted to a CIX card which are tracked twice a week in a CI Escalation Status meeting.current-tripleo (see promotion_). Thus, looking at master.yaml_ at time of promotions: current-tripleo: candidate_label: tripleo-ci-testing criteria: # Jobs to be added as they are defined and qualified - periodic-tripleo-ci-build-containers-ubi-8-push - periodic-tripleo-centos-8-buildimage-overcloud-full-master - periodic-tripleo-centos-8-buildimage-overcloud-hardened-uefi-full-master - periodic-tripleo-centos-8-buildimage-ironic-python-agent-master - periodic-tripleo-ci-centos-8-standalone-master.. _ci-config-dlrnapi-promoter-config: https://github.com/rdo-infra/ci-config/tree/master/ci-scripts/dlrnapi_promoter/config_environments/rdo/CentOS-8 .. _master.yaml: https://github.com/rdo-infra/ci-config/blob/master/ci-scripts/dlrnapi_promoter/config_environments/rdo/CentOS-8/master.yaml#L24-L51","`Tripleo launchpad bugs`_. When filing a new bug, the ruck will add the appropriate tag(s): criteria (more on that below).current-tripleo (see promotion_). Thus, looking at master.ini_ at time of [current-tripleo] periodic-singlenode-featuresetcontainers-build periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset001-master periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset002-master-upload periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset010-master periodic-tripleo-ci-centos-7-scenario001-standalone-master.. _ci-config-dlrnapi-promoter-config: https://github.com/rdo-infra/ci-config/blob/master/ci-scripts/dlrnapi_promoter/config/CentOS-7/ .. _master.ini: https://github.com/rdo-infra/ci-config/blob/7e8c40e2b2b686cc2d1d3e86cf8f9cbbd646a1c3/ci-scripts/dlrnapi_promoter/config/CentOS-7/master.ini#L16-L43",18,12
openstack%2Ftripleo-ci~master~I74347477079a297bee09c754f9ed633c6ec2628e,openstack/tripleo-ci,master,I74347477079a297bee09c754f9ed633c6ec2628e,"Revert ""Revert ""Make standalone-ipa job non-voting during debug""""",MERGED,2022-01-11 15:42:08.000000000,2022-01-12 07:53:33.000000000,2022-01-12 07:53:33.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-01-11 15:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5d861cefdab66bce60485b95bf9503a1c3dd8d3', 'message': 'Revert ""Revert ""Make standalone-ipa job non-voting during debug""""\n\nThis reverts commit 70a392b842cf6dda153895b49693709ae1dac757.\n\nReason for revert: We merged the NTP validation again and need to\ntroubleshoot why it\'s failing in some clouds.\n\nChange-Id: I74347477079a297bee09c754f9ed633c6ec2628e\nRelated-Bug: #1957083\n'}, {'number': 2, 'created': '2022-01-11 18:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/478e10c590312e8db97b3acb91b5e6b1ac65fff2', 'message': 'Revert ""Revert ""Make standalone-ipa job non-voting during debug""""\n\nThis reverts commit 70a392b842cf6dda153895b49693709ae1dac757.\n\nReason for revert: We merged the NTP validation again and need to\ntroubleshoot why it\'s failing in some clouds.\n\nChange-Id: I74347477079a297bee09c754f9ed633c6ec2628e\nRelated-Bug: #1957083\n'}, {'number': 3, 'created': '2022-01-11 22:39:46.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/30f2552c086b0e0311a9a89f190e276f6d7994e4', 'message': 'Revert ""Revert ""Make standalone-ipa job non-voting during debug""""\n\nThis reverts commit 70a392b842cf6dda153895b49693709ae1dac757.\n\nReason for revert: We merged the NTP validation again and need to\ntroubleshoot why it\'s failing in some clouds.\n\nChange-Id: I74347477079a297bee09c754f9ed633c6ec2628e\nRelated-Bug: #1957083\n'}]",1,824157,30f2552c086b0e0311a9a89f190e276f6d7994e4,15,10,3,14985,,,0,"Revert ""Revert ""Make standalone-ipa job non-voting during debug""""

This reverts commit 70a392b842cf6dda153895b49693709ae1dac757.

Reason for revert: We merged the NTP validation again and need to
troubleshoot why it's failing in some clouds.

Change-Id: I74347477079a297bee09c754f9ed633c6ec2628e
Related-Bug: #1957083
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/57/824157/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,d5d861cefdab66bce60485b95bf9503a1c3dd8d3,ipa-non-voting, voting: false, gate: queue: tripleo jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: *tls_ipa_files vars: *ipa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,1,9
openstack%2Fheat~master~Ide69f84a76f06814cf74b73b57729f23dea1062b,openstack/heat,master,Ide69f84a76f06814cf74b73b57729f23dea1062b,Bump lower constraints for OSC,MERGED,2022-01-12 01:12:10.000000000,2022-01-12 07:27:37.000000000,2022-01-12 07:26:01.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 01:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c0189aa3a9ecd0ccff8d092bffcfa1d2cf4d5a4b', 'message': 'Bump lower constraints for OSC\n\nIn support of the OSC migration, we need\nto bump the lower-constraint for the\nopenstacksdk to allow for feature parity.\n\nChange-Id: Ide69f84a76f06814cf74b73b57729f23dea1062b\n'}, {'number': 2, 'created': '2022-01-12 03:18:18.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/9af3af156b956120286149e91c844f74d7cf8d75', 'message': 'Bump lower constraints for OSC\n\nIn support of the OSC migration, we need\nto bump the lower-constraint for the\nopenstacksdk to allow for feature parity.\n\nChange-Id: Ide69f84a76f06814cf74b73b57729f23dea1062b\n'}]",0,824273,9af3af156b956120286149e91c844f74d7cf8d75,11,2,2,30073,,,0,"Bump lower constraints for OSC

In support of the OSC migration, we need
to bump the lower-constraint for the
openstacksdk to allow for feature parity.

Change-Id: Ide69f84a76f06814cf74b73b57729f23dea1062b
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/824273/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,c0189aa3a9ecd0ccff8d092bffcfa1d2cf4d5a4b,bump_osc_lower_constraints,openstacksdk==0.28.0,openstacksdk==0.11.2,1,1
openstack%2Frequirements~stable%2Fvictoria~Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,openstack/requirements,stable/victoria,Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,Remove centos-8 jobs,MERGED,2022-01-11 22:54:51.000000000,2022-01-12 06:15:43.000000000,2022-01-12 06:15:43.000000000,"[{'_account_id': 5263}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 22:54:51.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/384cbaf81a811888a21bb2660a0580fa4197a185', 'message': 'Remove centos-8 jobs\n\nCentOS 8 has reached EOL and OpenDev is beginning the process to remove\nthese nodes. We do have CentOS 8 Stream nodes so jobs have been switched\nover to use those instead.\n\nNote this change will likely need to be backported if we run centos-8\njobs on older branches.\n\nChange-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0\n(cherry picked from commit 803231efa6cf05368eaecf61a902a9e2c44f03f1)\n'}]",0,824258,384cbaf81a811888a21bb2660a0580fa4197a185,7,3,1,4146,,,0,"Remove centos-8 jobs

CentOS 8 has reached EOL and OpenDev is beginning the process to remove
these nodes. We do have CentOS 8 Stream nodes so jobs have been switched
over to use those instead.

Note this change will likely need to be backported if we run centos-8
jobs on older branches.

Change-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0
(cherry picked from commit 803231efa6cf05368eaecf61a902a9e2c44f03f1)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/824258/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,384cbaf81a811888a21bb2660a0580fa4197a185,remove-centos-8, - build-wheel-cache-centos-8-stream: - build-wheel-cache-centos-8-stream-arm64: - build-wheel-cache-centos-8-stream:, - build-wheel-cache-centos-8: - build-wheel-cache-centos-8-arm64: - build-wheel-cache-centos-8:,3,3
openstack%2Ftacker~master~I681800f52b4e2eb29c320c007ed1cf2901b61267,openstack/tacker,master,I681800f52b4e2eb29c320c007ed1cf2901b61267,Revise FT of V2-API,MERGED,2021-12-07 07:21:15.000000000,2022-01-12 06:09:11.000000000,2022-01-12 06:04:14.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}]","[{'number': 1, 'created': '2021-12-07 07:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/08b6dffd50f6f9065c8aa0345cf36c4e04fd29f5', 'message': 'Revise FT of V2-API\n\nThis patch revise the FT of V2-API.\nThe viewpoints of this revision are listed below:\n\n* Add some LCM operations in FT(such as Subscriptions\n  and VNFLCM operation occurrences)\n* Revise VNF Package and  request-body\n* Strengthen the check points by assertion\n* Fix the response-body related to the attribute that\n  does not have the information to be returned\n\nChange-Id: I681800f52b4e2eb29c320c007ed1cf2901b61267\n'}, {'number': 2, 'created': '2021-12-08 04:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/31eb9a06124bc0ac7815f11abb0c206044bb81e0', 'message': 'Revise FT of V2-API\n\nThis patch revise the FT of V2-API.\nThe viewpoints of this revision are listed below:\n\n* Add some LCM operations in FT(such as Subscriptions\n  and VNFLCM operation occurrences)\n* Revise VNF Package and  request-body\n* Strengthen the check points by assertion\n* Fix the response-body related to the attribute that\n  does not have the information to be returned\n\nChange-Id: I681800f52b4e2eb29c320c007ed1cf2901b61267\n'}, {'number': 3, 'created': '2021-12-08 06:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/94cb191d87490eb65187c1c38d261d4afaf6e31d', 'message': 'Revise FT of V2-API\n\nThis patch revise the FT of V2-API.\nThe viewpoints of this revision are listed below:\n\n* Add some LCM operations in FT(such as Subscriptions\n  and VNFLCM operation occurrences)\n* Revise VNF Package and request-body\n* Strengthen the check points by assertion\n* Fix the response-body related to the attribute that\n  does not have the information to be returned\n\nChange-Id: I681800f52b4e2eb29c320c007ed1cf2901b61267\n'}, {'number': 4, 'created': '2021-12-14 00:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/628be780a115bcb57191f18422c8b192d9a773e8', 'message': 'Revise FT of V2-API\n\nThis patch revise the FT of V2-API.\nThe viewpoints of this revision are listed below:\n\n* Add some LCM operations in FT(such as Subscriptions\n  and VNFLCM operation occurrences)\n* Revise VNF Package and request-body\n* Strengthen the check points by assertion\n* Fix the response-body related to the attribute that\n  does not have the information to be returned\n\nChange-Id: I681800f52b4e2eb29c320c007ed1cf2901b61267\n'}, {'number': 5, 'created': '2021-12-20 00:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/02b059db38b743639d2e1d118f19a10a40784ce7', 'message': 'Revise FT of V2-API\n\nThis patch revise the FT of V2-API.\nThe viewpoints of this revision are listed below:\n\n* Add some LCM operations in FT(such as Subscriptions\n  and VNFLCM operation occurrences)\n* Revise VNF Package and request-body\n* Strengthen the check points by assertion\n* Fix the response-body related to the attribute that\n  does not have the information to be returned\n\nChange-Id: I681800f52b4e2eb29c320c007ed1cf2901b61267\n'}, {'number': 6, 'created': '2022-01-06 06:36:21.000000000', 'files': ['tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/tests/functional/sol_v2/utils.py', '.zuul.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/post.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/UserData/userdata.py', 'tacker/tests/functional/sol_v2/paramgen.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2/samples/sample1/pkggen.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/functional/sol_v2/samples/sample2/pkggen.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2/base_v2.py', 'tacker/tests/functional/sol_v2/samples/sample1/pre.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/nested/VDU1.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ff2e8da4453bd50a9bec6be17c7c3abac72a3f0c', 'message': 'Revise FT of V2-API\n\nThis patch revise the FT of V2-API.\nThe viewpoints of this revision are listed below:\n\n* Add some LCM operations in FT(such as Subscriptions\n  and VNFLCM operation occurrences)\n* Revise VNF Package and request-body\n* Strengthen the check points by assertion\n* Fix the response-body related to the attribute that\n  does not have the information to be returned\n\nChange-Id: I681800f52b4e2eb29c320c007ed1cf2901b61267\n'}]",77,820656,ff2e8da4453bd50a9bec6be17c7c3abac72a3f0c,38,6,6,31072,,,0,"Revise FT of V2-API

This patch revise the FT of V2-API.
The viewpoints of this revision are listed below:

* Add some LCM operations in FT(such as Subscriptions
  and VNFLCM operation occurrences)
* Revise VNF Package and request-body
* Strengthen the check points by assertion
* Fix the response-body related to the attribute that
  does not have the information to be returned

Change-Id: I681800f52b4e2eb29c320c007ed1cf2901b61267
",git fetch https://review.opendev.org/openstack/tacker refs/changes/56/820656/6 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', '.zuul.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/UserData/userdata.py', 'tacker/tests/functional/sol_v2/paramgen.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/functional/sol_v2/samples/sample2/pkggen.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2/base_v2.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/nested/VDU1.yaml']",14,08b6dffd50f6f9065c8aa0345cf36c4e04fd29f5,revise-v2-ft, affinity: image: { get_param: image } scheduler_hints: group: {get_param: affinity } ," net1: type: string net2: type: string net3: type: string net4: type: string subnet:# uncomment when BUG ""https://storyboard.openstack.org/#!/story/2009164"" fixed # affinity: # type: string block_device_mapping_v2: [{""volume_id"": { get_resource: VirtualStorage }}] - port: get_resource: VDU1_CP2 # replace the following line to Port ID when extmanagedVLs' Ports are specified in instantiatevnfrequest - port: get_resource: VDU1_CP3 - port: get_resource: VDU1_CP4 - port: get_resource: VDU1_CP5 # uncomment when BUG ""https://storyboard.openstack.org/#!/story/2009164"" fixed # scheduler_hints: # group: {get_param: affinity } VirtualStorage: type: OS::Cinder::Volume properties: image: { get_param: image } size: 1 volume_type: { get_resource: multi } multi: type: OS::Cinder::VolumeType properties: name: { get_resource: VDU1_CP1 } metadata: { multiattach: ""<is> True"" } # extVL without FixedIP or with numDynamicAddresses network: { get_param: net1 } # extVL with numDynamicAddresses and subnet VDU1_CP2: type: OS::Neutron::Port properties: network: { get_param: net2 } fixed_ips: - subnet: { get_param: subnet} # CPs of internal VLs are deleted when extmangaedVLs and port are specified in instantiatevnfrequest VDU1_CP3: type: OS::Neutron::Port properties: network: { get_param: net3 } VDU1_CP4: type: OS::Neutron::Port properties: network: { get_param: net4 } VDU1_CP5: type: OS::Neutron::Port properties:",1283,554
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee,openstack/puppet-openstack-integration,stable/wallaby,I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee,Initialize iscsi target during installation,MERGED,2022-01-11 12:07:26.000000000,2022-01-12 06:03:05.000000000,2022-01-12 06:03:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 12:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/110c7fd7a8539c01b13658ddfbe77860d901fbf3', 'message': 'Initialize iscsi target during installation\n\nThis change enables initialization of iscsi target using the new\nopenstacklib::iscsid class to ensure that initiator name is generated\nduring installation.\n\nDepends-on: https://review.opendev.org/794605\nChange-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee\n(cherry picked from commit c3bbd0059dbfdfd3dfdda487efc06132efc99092)\n'}, {'number': 2, 'created': '2022-01-11 15:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/262f21c3a934bdfe670c7a65b42a1ca529c98f1a', 'message': 'Initialize iscsi target during installation\n\nThis change enables initialization of iscsi target using the new\nopenstacklib::iscsid class to ensure that initiator name is generated\nduring installation.\n\nDepends-on: https://review.opendev.org/823795\nChange-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee\n(cherry picked from commit c3bbd0059dbfdfd3dfdda487efc06132efc99092)\n'}, {'number': 3, 'created': '2022-01-11 16:13:01.000000000', 'files': ['manifests/cinder.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/49d6dae15b2fbcbb3b63848bcf8fc77ca2b06741', 'message': 'Initialize iscsi target during installation\n\nThis change enables initialization of iscsi target using the new\nopenstacklib::iscsid class to ensure that initiator name is generated\nduring installation.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstacklib/+/823795/\nChange-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee\n(cherry picked from commit c3bbd0059dbfdfd3dfdda487efc06132efc99092)\n'}]",2,824147,49d6dae15b2fbcbb3b63848bcf8fc77ca2b06741,14,4,3,16312,,,0,"Initialize iscsi target during installation

This change enables initialization of iscsi target using the new
openstacklib::iscsid class to ensure that initiator name is generated
during installation.

Depends-on: https://review.opendev.org/c/openstack/puppet-openstacklib/+/823795/
Change-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee
(cherry picked from commit c3bbd0059dbfdfd3dfdda487efc06132efc99092)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/47/824147/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/nova.pp']",2,110c7fd7a8539c01b13658ddfbe77860d901fbf3,, } else { include openstacklib::iscsid Service['iscsid'] -> Service['nova-compute'],,5,0
openstack%2Fnova~master~I168fffac8002f274a905cfd53ac4f6c9abe18803,openstack/nova,master,I168fffac8002f274a905cfd53ac4f6c9abe18803,Make the CellDatabases fixture work with fasteners >= 0.15,MERGED,2021-10-07 23:53:53.000000000,2022-01-12 04:18:06.000000000,2022-01-11 17:19:44.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-07 23:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/244a6ae492abe79266fdf983be5da67cfce681ff', 'message': 'Make the CellDatabases fixture work with fasteners >= 0.15\n\nAs of fasteners >= 0.15, the workaround code to use eventlet.getcurrent\nif eventlet patching is detected has been removed and\nthreading.current_thread is being used instead [1]. Although we are\nrunning in a greenlet in our test environment, we are not running in a\ngreenlet of type GreenThread. A GreenThread is created by calling\neventlet.spawn and spawn is not used to run our tests. At the time of\nthis writing, the eventlet patched threading.current_thread method\nfalls back to the original unpatched current_thread method if it is not\ncalled from a GreenThead [2] and that breaks our tests involving this\nfixture. We can work around this by patching threading.current_thread\nwith eventlet.getcurrent during creation of the lock object.\n\n[1] https://github.com/harlowja/fasteners/commit/467ed75ee1e9465ebff8b5edf452770befb93913\n[2] https://github.com/eventlet/eventlet/blob/v0.32.0/eventlet/green/threading.py#L128\n\nChange-Id: I168fffac8002f274a905cfd53ac4f6c9abe18803\n'}, {'number': 2, 'created': '2021-11-13 03:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2873de83909e922faa30c08a235341180e3f197f', 'message': 'Replace eventlet.spawn_n() with eventlet.spawn()\n\nWhile working on enabling nova to run with fasteners >= 0.15 [1], we\ndiscovered that use of eventlet.spawn_n() is not compatible with the use\nof eventlet.current_thread() [2].\n\nAs of fasteners >= 0.15, the workaround code to use eventlet.getcurrent\nif eventlet patching is detected has been removed and\nthreading.current_thread() is being used instead [3]. Although we are\nrunning in a greenlet in our test environment, we are not running in a\ngreenlet of type GreenThread. GreenThreads are created by calling\neventlet.spawn(). At the time of this writing, the eventlet patched\nthreading.current_thread() method falls back to the original unpatched\ncurrent_thread() method if it is not called from a GreenThead [4] and\nthat breaks our tests involving the CellDatabases fixture.\n\nThe fasteners library is used by oslo.concurrency in some of its lock\nfunctionality. This means with fasteners >= 0.15, any project using,\nfor example, oslo.concurrency ReaderWriterLock in code that runs in a\nplain greenlet created by eventlet.spawn_n() will have locks that do\nnot work properly.\n\nBased on (1) the incompatibility of spawn_n() and current_thread() and\n(2) no known reason to use spawn_n() specifically, this replaces all\nuse of spawn_n() with spawn() to ensure compatibility with\neventlet.current_thread() and adds a hacking check to guard against\nfuture use.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/812634\n[2] https://github.com/eventlet/eventlet/issues/731#issuecomment-953761883\n[3] https://github.com/harlowja/fasteners/commit/467ed75ee1e9465ebff8b5edf452770befb93913\n[4] https://github.com/eventlet/eventlet/blob/v0.32.0/eventlet/green/threading.py#L128\n\nChange-Id: I168fffac8002f274a905cfd53ac4f6c9abe18803\n'}, {'number': 3, 'created': '2021-11-13 18:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58880ff28f375715ae481ed39c1f51db21ef6d0b', 'message': 'Replace eventlet.spawn_n() with eventlet.spawn()\n\nWhile working on enabling nova to run with fasteners >= 0.15 [1], we\ndiscovered that use of eventlet.spawn_n() is not compatible with the use\nof eventlet.current_thread() [2].\n\nAs of fasteners >= 0.15, the workaround code to use eventlet.getcurrent\nif eventlet patching is detected has been removed and\nthreading.current_thread() is being used instead [3]. Although we are\nrunning in a greenlet in our test environment, we are not running in a\ngreenlet of type GreenThread. GreenThreads are created by calling\neventlet.spawn(). At the time of this writing, the eventlet patched\nthreading.current_thread() method falls back to the original unpatched\ncurrent_thread() method if it is not called from a GreenThead [4] and\nthat breaks our tests involving the CellDatabases fixture.\n\nThe fasteners library is used by oslo.concurrency in some of its lock\nfunctionality. This means with fasteners >= 0.15, any project using,\nfor example, oslo.concurrency ReaderWriterLock in code that runs in a\nplain greenlet created by eventlet.spawn_n() will have locks that do\nnot work properly.\n\nBased on (1) the incompatibility of spawn_n() and current_thread() and\n(2) no known reason to use spawn_n() specifically, this replaces all\nuse of spawn_n() with spawn() to ensure compatibility with\neventlet.current_thread() and adds a hacking check to guard against\nfuture use.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/812634\n[2] https://github.com/eventlet/eventlet/issues/731#issuecomment-953761883\n[3] https://github.com/harlowja/fasteners/commit/467ed75ee1e9465ebff8b5edf452770befb93913\n[4] https://github.com/eventlet/eventlet/blob/v0.32.0/eventlet/green/threading.py#L128\n\nChange-Id: I168fffac8002f274a905cfd53ac4f6c9abe18803\n'}, {'number': 4, 'created': '2022-01-06 17:33:39.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/50bf252250a35f7d9d09c75243f80a4ec0a0fc39', 'message': 'Make the CellDatabases fixture work with fasteners >= 0.15\n\nAs of fasteners >= 0.15, the workaround code to use eventlet.getcurrent\nif eventlet patching is detected has been removed and\nthreading.current_thread is being used instead [1]. Although we are\nrunning in a greenlet in our test environment, we are not running in a\ngreenlet of type GreenThread. A GreenThread is created by calling\neventlet.spawn and spawn is not used to run our tests. At the time of\nthis writing, the eventlet patched threading.current_thread method\nfalls back to the original unpatched current_thread method if it is not\ncalled from a GreenThead [2] and that breaks our tests involving this\nfixture. We can work around this by patching threading.current_thread\nwith eventlet.getcurrent during creation of the lock object.\n\n[1] https://github.com/harlowja/fasteners/commit/467ed75ee1e9465ebff8b5edf452770befb93913\n[2] https://github.com/eventlet/eventlet/blob/v0.32.0/eventlet/green/threading.py#L128\n\nChange-Id: I168fffac8002f274a905cfd53ac4f6c9abe18803\n'}]",31,813114,50bf252250a35f7d9d09c75243f80a4ec0a0fc39,51,4,4,4690,,,0,"Make the CellDatabases fixture work with fasteners >= 0.15

As of fasteners >= 0.15, the workaround code to use eventlet.getcurrent
if eventlet patching is detected has been removed and
threading.current_thread is being used instead [1]. Although we are
running in a greenlet in our test environment, we are not running in a
greenlet of type GreenThread. A GreenThread is created by calling
eventlet.spawn and spawn is not used to run our tests. At the time of
this writing, the eventlet patched threading.current_thread method
falls back to the original unpatched current_thread method if it is not
called from a GreenThead [2] and that breaks our tests involving this
fixture. We can work around this by patching threading.current_thread
with eventlet.getcurrent during creation of the lock object.

[1] https://github.com/harlowja/fasteners/commit/467ed75ee1e9465ebff8b5edf452770befb93913
[2] https://github.com/eventlet/eventlet/blob/v0.32.0/eventlet/green/threading.py#L128

Change-Id: I168fffac8002f274a905cfd53ac4f6c9abe18803
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/813114/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,244a6ae492abe79266fdf983be5da67cfce681ff,fasteners-0.15,"import contextlibimport eventlet # NOTE(melwitt): As of fasteners >= 0.15, the workaround code to use # eventlet.getcurrent if eventlet patching is detected has been removed # and threading.current_thread is being used instead. Although we are # running in a greenlet in our test environment, we are not running in # a greenlet of type GreenThread. A GreenThread is created by calling # eventlet.spawn and spawn is not used to run our tests. At the time of # this writing, the eventlet patched threading.current_thread method # falls back to the original unpatched current_thread method if it is # not called from a GreenThead [1] and that breaks our tests involving # this fixture. # We can work around this by patching threading.current_thread with # eventlet.getcurrent during creation of the lock object. # [1] https://github.com/eventlet/eventlet/blob/v0.32.0/eventlet/green/threading.py#L128 # noqa eventlet_patched = eventlet.patcher.is_monkey_patched('thread') with (contextlib.ExitStack() if not eventlet_patched else fixtures.MonkeyPatch('threading.current_thread', eventlet.getcurrent)): self._cell_lock = lockutils.ReaderWriterLock()", self._cell_lock = lockutils.ReaderWriterLock(),20,1
openstack%2Fnova~master~I3d883ca55f9be20f8c7ce0b97f1e31c78f6a3c7a,openstack/nova,master,I3d883ca55f9be20f8c7ce0b97f1e31c78f6a3c7a,Poison usage of eventlet spawn_n() in tests,ABANDONED,2021-11-16 03:52:45.000000000,2022-01-12 04:17:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-16 03:52:45.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/test.py', 'nova/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac71794c282e5f95d43cc53967e2c5d57900cde6', 'message': 'Poison usage of eventlet spawn_n() in tests\n\nThis is a followup to change I168fffac8002f274a905cfd53ac4f6c9abe18803\nwhich replaced spawn_n() with spawn(). While the hacking checks will\ndetect many usages of spawn_n(), they will miss GreenPool.spawn_n() and\nimports using ""as"" with a different name than ""eventlet"" or\n""greenthread"".\n\nThis poisons all usage of spawn_n() methods to catch more cases when\ntests are run.\n\nChange-Id: I3d883ca55f9be20f8c7ce0b97f1e31c78f6a3c7a\n'}]",2,818042,ac71794c282e5f95d43cc53967e2c5d57900cde6,9,1,1,4690,,,0,"Poison usage of eventlet spawn_n() in tests

This is a followup to change I168fffac8002f274a905cfd53ac4f6c9abe18803
which replaced spawn_n() with spawn(). While the hacking checks will
detect many usages of spawn_n(), they will miss GreenPool.spawn_n() and
imports using ""as"" with a different name than ""eventlet"" or
""greenthread"".

This poisons all usage of spawn_n() methods to catch more cases when
tests are run.

Change-Id: I3d883ca55f9be20f8c7ce0b97f1e31c78f6a3c7a
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/818042/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/test.py', 'nova/tests/unit/test_fixtures.py']",3,ac71794c282e5f95d43cc53967e2c5d57900cde6,fasteners-0.15,"import eventlet class TestPoisonSpawnN(test.NoDBTestCase): def setUp(self): super(TestPoisonSpawnN, self).setUp() self.useFixture(fixtures.PoisonSpawnN()) def test_poison_spawn_n(self): def func(): pass self.assertRaises(Exception, eventlet.spawn_n, func) # noqa self.assertRaises(Exception, eventlet.greenthread.spawn_n, func) # noqa pool = eventlet.greenpool.GreenPool() self.assertRaises(Exception, pool.spawn_n, func) # noqa",,51,0
openstack%2Fskyline-console~master~I26e52a4a31e7dd12023fe5fabfb748eb328870f2,openstack/skyline-console,master,I26e52a4a31e7dd12023fe5fabfb748eb328870f2,fix: Fix for fip's binding resource that not belong to current project,MERGED,2022-01-11 10:01:36.000000000,2022-01-12 04:08:44.000000000,2022-01-12 04:08:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-01-11 10:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e1d69109c55eea19e45a660a24ab727e81f7db7c', 'message': ""fix: Fix for fip's binding resource that not belong to current project\n\nfix for fip's binding resource that not belong to current project\n\nChange-Id: I26e52a4a31e7dd12023fe5fabfb748eb328870f2\n""}, {'number': 2, 'created': '2022-01-12 01:18:17.000000000', 'files': ['src/stores/neutron/floatingIp.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9bfc537493c95e83372a22526a1ea90d65344615', 'message': ""fix: Fix for fip's binding resource that not belong to current project\n\nfix for fip's binding resource that not belong to current project\n\nChange-Id: I26e52a4a31e7dd12023fe5fabfb748eb328870f2\n""}]",0,824129,9bfc537493c95e83372a22526a1ea90d65344615,8,2,2,33636,,,0,"fix: Fix for fip's binding resource that not belong to current project

fix for fip's binding resource that not belong to current project

Change-Id: I26e52a4a31e7dd12023fe5fabfb748eb328870f2
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/29/824129/2 && git format-patch -1 --stdout FETCH_HEAD,['src/stores/neutron/floatingIp.js'],1,e1d69109c55eea19e45a660a24ab727e81f7db7c,," const results = await Promise.allSettled(promises); results.forEach(({ status, value: result }, index) => { let resource_name = '-'; if (status === 'fulfilled') { if ( allData[index].port_details && allData[index].port_details.device_owner === 'compute:nova' ) { resource_name = `${result.name}: ${allData[index].fixed_ip_address}`; } else if ( allData[index].port_details && (allData[index].port_details.device_owner === 'network:router_gateway' || allData[index].port_details.device_owner === '') ) { resource_name = `${result.name}: ${allData[index].fixed_ip_address}`; } else if ( allData[index].port_details && allData[index].port_details.device_owner === 'Octavia' ) { resource_name = `${result.name}: ${allData[index].fixed_ip_address}`; } } else { // deal with resources from other projects resource_name = `${t('Resource Id')}: ${allData[index].port_details.device_id} `;export default globalFloatingIpsStore;;;"," const results = await Promise.all(promises); results.forEach((result, index) => { let resource_name = ''; if ( allData[index].port_details && allData[index].port_details.device_owner === 'compute:nova' ) { resource_name = `${result.name}: ${allData[index].fixed_ip_address}`; } else if ( allData[index].port_details && (allData[index].port_details.device_owner === 'network:router_gateway' || allData[index].port_details.device_owner === '') ) { resource_name = `${result.name}: ${allData[index].fixed_ip_address}`; } else if ( allData[index].port_details && allData[index].port_details.device_owner === 'Octavia' ) { resource_name = `${result.name}: ${allData[index].fixed_ip_address}`;export default globalFloatingIpsStore;",26,21
openstack%2Fnova~master~I4c5c6c2fbff4c2f84fca3c90f08a2bd63a8a23da,openstack/nova,master,I4c5c6c2fbff4c2f84fca3c90f08a2bd63a8a23da,NO MERGE - activate lightbits third party ci on nova repo,NEW,2022-01-11 22:47:14.000000000,2022-01-12 04:05:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-11 22:47:14.000000000', 'files': ['hello-world.tst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6eb17c39e49ead0a8fdf6d25fb736b327a315dd', 'message': 'NO MERGE - activate lightbits third party ci on nova repo\n\nChange-Id: I4c5c6c2fbff4c2f84fca3c90f08a2bd63a8a23da\n'}]",0,824255,b6eb17c39e49ead0a8fdf6d25fb736b327a315dd,18,1,1,33612,,,0,"NO MERGE - activate lightbits third party ci on nova repo

Change-Id: I4c5c6c2fbff4c2f84fca3c90f08a2bd63a8a23da
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/824255/1 && git format-patch -1 --stdout FETCH_HEAD,['hello-world.tst'],1,b6eb17c39e49ead0a8fdf6d25fb736b327a315dd,,testing for lightbits third party ci - NO MERGE ,,1,0
openstack%2Ftacker~master~I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd,openstack/tacker,master,I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd,support fail operation task of v2 API,MERGED,2021-12-20 05:06:54.000000000,2022-01-12 03:23:29.000000000,2022-01-12 03:21:24.000000000,"[{'_account_id': 4149}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}]","[{'number': 1, 'created': '2021-12-20 05:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0229dc626a36c28c4ebe155d99ad179d31b3af8a', 'message': 'support fail operation task of v2 API\n\nThis patch implements fail operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.16.\n\nFail operation is changed the state to ""FAILED"" when the retry or\nrollback operation unsuccessful.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd\n'}, {'number': 2, 'created': '2021-12-20 05:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/77b973249ec539242c6fd0ab864e17df1137453d', 'message': 'support fail operation task of v2 API\n\nThis patch implements fail operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.16.\n\nFail operation is changed the state to ""FAILED"" when the retry or\nrollback operation unsuccessful.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd\n'}, {'number': 3, 'created': '2021-12-21 01:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/16c0def6497ad44ebe9969608a6e13aa3df04929', 'message': 'support fail operation task of v2 API\n\nThis patch implements fail operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.16.\n\nFail operation is changed the state to ""FAILED"" when the retry or\nrollback operation unsuccessful.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd\n'}, {'number': 4, 'created': '2021-12-22 00:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/82a9b6e7b8e165fe8ffa61b48e3bb1608b661c3c', 'message': 'support fail operation task of v2 API\n\nThis patch implements fail operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.16.\n\nFail operation is changed the state to ""FAILED"" when the retry or\nrollback operation unsuccessful.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd\n'}, {'number': 5, 'created': '2021-12-23 05:23:02.000000000', 'files': ['tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/api/router.py', 'releasenotes/notes/add-v2-fail-api-b35b605f262210b2.yaml', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_v2.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/sol_refactored/common/lcm_op_occ_utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/94dbcea96a174dc669a9e37003b9121040d6436e', 'message': 'support fail operation task of v2 API\n\nThis patch implements fail operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.16.\n\nFail operation is changed the state to ""FAILED"" when the retry or\nrollback operation unsuccessful.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd\n'}]",20,822282,94dbcea96a174dc669a9e37003b9121040d6436e,32,8,5,34226,,,0,"support fail operation task of v2 API

This patch implements fail operation task defined in ETSI NFV-SOL003
v3.3.1 5.4.16.

Fail operation is changed the state to ""FAILED"" when the retry or
rollback operation unsuccessful.

Functional tests will be provided with another patch.

Implements: blueprint support-nfv-solv3-error-handling
Change-Id: I3a64acde4cfdfeef18959a80a3a86b3c7f1023dd
",git fetch https://review.opendev.org/openstack/tacker refs/changes/82/822282/5 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/api/router.py', 'releasenotes/notes/add-v2-fail-api-b35b605f262210b2.yaml', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_v2.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/sol_refactored/common/lcm_op_occ_utils.py']",7,0229dc626a36c28c4ebe155d99ad179d31b3af8a,bp/support-nfv-solv3-error-handling," links.fail = objects.Link( href=lcmocc_task_href(lcmocc.vnfInstanceId, 'fail', endpoint))", # links.fail,142,2
openstack%2Ftripleo-quickstart~master~I46d2be197922e5431954be0dbc69f2d7fe2dfd84,openstack/tripleo-quickstart,master,I46d2be197922e5431954be0dbc69f2d7fe2dfd84,Allow overriding the container registry namespace for Ussuri,MERGED,2022-01-10 19:37:48.000000000,2022-01-12 03:01:19.000000000,2022-01-12 02:57:21.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-10 19:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d1bacc30e1a978509b338534dc325835c975b94c', 'message': 'Allow overriding the container registry namespace for Ussuri\n\nAdds the job.alt_container_registry_namespace variable to allow setting\nan alternative namespace for Ussuri jobs\n\nChange-Id: I46d2be197922e5431954be0dbc69f2d7fe2dfd84\n'}, {'number': 2, 'created': '2022-01-11 15:23:27.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4ad6c5758e2f2ec6a795cac5be3e694edd6b0680', 'message': 'Allow overriding the container registry namespace for Ussuri\n\nAdds the job.alt_container_registry_namespace variable to allow setting\nan alternative namespace for Ussuri jobs\n\nChange-Id: I46d2be197922e5431954be0dbc69f2d7fe2dfd84\n'}]",2,824056,4ad6c5758e2f2ec6a795cac5be3e694edd6b0680,23,5,2,34208,,,0,"Allow overriding the container registry namespace for Ussuri

Adds the job.alt_container_registry_namespace variable to allow setting
an alternative namespace for Ussuri jobs

Change-Id: I46d2be197922e5431954be0dbc69f2d7fe2dfd84
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/56/824056/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/ussuri.yml'],1,d1bacc30e1a978509b338534dc325835c975b94c,," {% if job is defined and job.alt_container_registry_namespace is defined -%} {{ job.alt_container_registry_namespace }} {% elif cloudenv is defined and cloudenv in ['rdo', 'vexxhost', 'psi'] -%}"," {% if cloudenv is defined and cloudenv in ['rdo', 'vexxhost', 'psi'] -%}",4,1
openstack%2Ftripleo-heat-templates~master~I7ed3ace9d9fea56b800685bb890ccbb0530e36a9,openstack/tripleo-heat-templates,master,I7ed3ace9d9fea56b800685bb890ccbb0530e36a9,Allow keystone to configure secure RBAC options,MERGED,2021-08-11 14:50:54.000000000,2022-01-12 03:01:18.000000000,2022-01-12 02:57:14.000000000,"[{'_account_id': 5046}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-11 14:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2345c8c5b03b69ea93a8ed9ba01fc2761385e63a', 'message': ""Add a configuration option to enable secure RBAC in keystone\n\nThis adds a new option called KeystoneEnforceSecureRbac so that you can\nenable secure RBAC with keystone in TripleO deployments.\n\nThis option sets the necessary oslo.policy configuration options in\nkeystone's configuration file so support secure RBAC.\n\nChange-Id: I7ed3ace9d9fea56b800685bb890ccbb0530e36a9\n""}, {'number': 2, 'created': '2021-08-11 15:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab61b392f8648996d859a76d8e4ed50c7441541f', 'message': ""Add a configuration option to enable secure RBAC in keystone\n\nThis adds a new option called KeystoneEnforceSecureRbac so that you can\nenable secure RBAC with keystone in TripleO deployments.\n\nThis option sets the necessary oslo.policy configuration options in\nkeystone's configuration file so support secure RBAC.\n\nChange-Id: I7ed3ace9d9fea56b800685bb890ccbb0530e36a9\n""}, {'number': 3, 'created': '2021-08-27 21:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42ea669a31929fcc9fbda66132e65a541db0cbf2', 'message': ""Add a configuration option to enable secure RBAC in keystone\n\nThis adds a new option called KeystoneEnforceSecureRbac so that you can\nenable secure RBAC with keystone in TripleO deployments.\n\nThis option sets the necessary oslo.policy configuration options in\nkeystone's configuration file so support secure RBAC.\n\nChange-Id: I7ed3ace9d9fea56b800685bb890ccbb0530e36a9\n""}, {'number': 4, 'created': '2021-08-27 21:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d2c6fa69e66683b7c92cdf9cab2a88b55a5e3d9', 'message': 'Allow keystone to configure secure RBAC options\n\nThis updates the keystone api container to set the appropriate\nconfiguration options when EnforceSecureRbac is True. This will be\nneeded when more OpenStack services support system-scope and deployers\nwant to enable those personas.\n\nChange-Id: I7ed3ace9d9fea56b800685bb890ccbb0530e36a9\n'}, {'number': 5, 'created': '2022-01-03 11:40:36.000000000', 'files': ['releasenotes/notes/enable_secure_rbac_for_keystone-62685484ef589726.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b49da723667a7041f51e49e4a65c203a64a6c171', 'message': 'Allow keystone to configure secure RBAC options\n\nThis updates the keystone api container to set the appropriate\nconfiguration options when EnforceSecureRbac is True. This will be\nneeded when more OpenStack services support system-scope and deployers\nwant to enable those personas.\n\nChange-Id: I7ed3ace9d9fea56b800685bb890ccbb0530e36a9\n'}]",4,804257,b49da723667a7041f51e49e4a65c203a64a6c171,37,8,5,5046,,,0,"Allow keystone to configure secure RBAC options

This updates the keystone api container to set the appropriate
configuration options when EnforceSecureRbac is True. This will be
needed when more OpenStack services support system-scope and deployers
want to enable those personas.

Change-Id: I7ed3ace9d9fea56b800685bb890ccbb0530e36a9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/804257/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable_secure_rbac_for_keystone-62685484ef589726.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",2,2345c8c5b03b69ea93a8ed9ba01fc2761385e63a,secure-rbac," KeystoneEnforceSecureRbac: description: > Require the Keystone API to enforce tenancy based on the admin, member, and reader roles across the system, domain, and project authorization targets. Enabling this option allows up to nine different personas to interact with Keystone's API without custom policy changes. type: boolean default: false - {get_param: KeystoneEnforceSecureRbac} - keystone::policy::enforce_scope: true keystone::policy::enforce_new_defaults: true - if:",,20,0
openstack%2Ftripleo-ci~master~I0de852f389979f0e33b9506cdf17712ca4883522,openstack/tripleo-ci,master,I0de852f389979f0e33b9506cdf17712ca4883522,Lock versions of ansible-compat and identify,MERGED,2022-01-11 21:55:57.000000000,2022-01-12 02:57:24.000000000,2022-01-12 02:57:24.000000000,"[{'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 21:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1aaeadf582bf2e3bd793ab3973539e37280dca5c', 'message': 'Lock versions of ansible-compat and identify\n\ntripleo-tox-molecule started failing with the new releases\nof ansible-compat-1.0.0 and identify-2.4.3.\n\nThis patch locks to previous versions to avoid\nthe failures until addressed.\n\nChange-Id: I0de852f389979f0e33b9506cdf17712ca4883522\nRelated-Bug: #1957116\n'}, {'number': 2, 'created': '2022-01-11 22:16:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/de398e6b1d6c12341406524af6bdd2c41a2cee05', 'message': 'Lock versions of ansible-compat and identify\n\ntripleo-tox-molecule started failing with the new releases\nof ansible-compat-1.0.0 and identify-2.4.3.\n\nThis patch locks to previous versions to avoid\nthe failures until addressed.\n\nChange-Id: I0de852f389979f0e33b9506cdf17712ca4883522\nRelated-Bug: #1957116\n'}]",0,824246,de398e6b1d6c12341406524af6bdd2c41a2cee05,9,3,2,9976,,,0,"Lock versions of ansible-compat and identify

tripleo-tox-molecule started failing with the new releases
of ansible-compat-1.0.0 and identify-2.4.3.

This patch locks to previous versions to avoid
the failures until addressed.

Change-Id: I0de852f389979f0e33b9506cdf17712ca4883522
Related-Bug: #1957116
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/46/824246/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1aaeadf582bf2e3bd793ab3973539e37280dca5c,lock-ansible-compat,ansible-compat<=0.5.0 (reference: https://bugs.launchpad.net/tripleo/+bug/1957116)identify<=2.4.2 (reference: https://bugs.launchpad.net/tripleo/+bug/1957116),,2,0
openstack%2Fpuppet-tripleo~master~I45692585f3377f9223d1149e73ec388b81cb9e8e,openstack/puppet-tripleo,master,I45692585f3377f9223d1149e73ec388b81cb9e8e,ironic-inspector: Include independent classes for ironic/swift options,MERGED,2022-01-03 03:46:18.000000000,2022-01-12 02:57:18.000000000,2022-01-12 02:57:18.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-03 03:46:18.000000000', 'files': ['manifests/profile/base/ironic_inspector.pp', 'spec/classes/tripleo_profile_base_ironic_inspector_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/94ee6744d93fe2b5adfa1696b1a0a891f797045d', 'message': 'ironic-inspector: Include independent classes for ironic/swift options\n\nDepends-on: https://review.opendev.org/719454\nChange-Id: I45692585f3377f9223d1149e73ec388b81cb9e8e\n'}]",0,823245,94ee6744d93fe2b5adfa1696b1a0a891f797045d,8,4,1,9816,,,0,"ironic-inspector: Include independent classes for ironic/swift options

Depends-on: https://review.opendev.org/719454
Change-Id: I45692585f3377f9223d1149e73ec388b81cb9e8e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/823245/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ironic_inspector.pp', 'spec/classes/tripleo_profile_base_ironic_inspector_spec.rb']",2,94ee6744d93fe2b5adfa1696b1a0a891f797045d,, is_expected.to_not contain_class('ironic::inspector::ironic') is_expected.to_not contain_class('ironic::inspector::swift') is_expected.to contain_class('ironic::inspector::ironic') is_expected.to contain_class('ironic::inspector::swift') is_expected.to_not contain_class('ironic::inspector::ironic') is_expected.to_not contain_class('ironic::inspector::swift') is_expected.to contain_class('ironic::inspector::ironic') is_expected.to contain_class('ironic::inspector::swift'),,10,0
openstack%2Frequirements~stable%2Fxena~Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,openstack/requirements,stable/xena,Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,Remove centos-8 jobs,MERGED,2022-01-11 22:53:19.000000000,2022-01-12 01:56:47.000000000,2022-01-12 01:56:47.000000000,"[{'_account_id': 5263}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 22:53:19.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/10a46cc3587f6e8e8422c8b427f07d19cce202cf', 'message': 'Remove centos-8 jobs\n\nCentOS 8 has reached EOL and OpenDev is beginning the process to remove\nthese nodes. We do have CentOS 8 Stream nodes so jobs have been switched\nover to use those instead.\n\nNote this change will likely need to be backported if we run centos-8\njobs on older branches.\n\nChange-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0\n(cherry picked from commit 803231efa6cf05368eaecf61a902a9e2c44f03f1)\n'}]",0,824256,10a46cc3587f6e8e8422c8b427f07d19cce202cf,7,3,1,4146,,,0,"Remove centos-8 jobs

CentOS 8 has reached EOL and OpenDev is beginning the process to remove
these nodes. We do have CentOS 8 Stream nodes so jobs have been switched
over to use those instead.

Note this change will likely need to be backported if we run centos-8
jobs on older branches.

Change-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0
(cherry picked from commit 803231efa6cf05368eaecf61a902a9e2c44f03f1)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/824256/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,10a46cc3587f6e8e8422c8b427f07d19cce202cf,remove-centos-8, - build-wheel-cache-centos-8-stream: - build-wheel-cache-centos-8-stream-arm64: - build-wheel-cache-centos-8-stream:, - build-wheel-cache-centos-8: - build-wheel-cache-centos-8-arm64: - build-wheel-cache-centos-8:,3,3
openstack%2Frequirements~stable%2Fwallaby~Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,openstack/requirements,stable/wallaby,Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,Remove centos-8 jobs,MERGED,2022-01-11 22:53:51.000000000,2022-01-12 01:56:45.000000000,2022-01-12 01:56:45.000000000,"[{'_account_id': 5263}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 22:53:51.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bede0286c3f84cb146d2418257bb3c2517ce2c80', 'message': 'Remove centos-8 jobs\n\nCentOS 8 has reached EOL and OpenDev is beginning the process to remove\nthese nodes. We do have CentOS 8 Stream nodes so jobs have been switched\nover to use those instead.\n\nNote this change will likely need to be backported if we run centos-8\njobs on older branches.\n\nChange-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0\n(cherry picked from commit 803231efa6cf05368eaecf61a902a9e2c44f03f1)\n'}]",0,824257,bede0286c3f84cb146d2418257bb3c2517ce2c80,7,3,1,4146,,,0,"Remove centos-8 jobs

CentOS 8 has reached EOL and OpenDev is beginning the process to remove
these nodes. We do have CentOS 8 Stream nodes so jobs have been switched
over to use those instead.

Note this change will likely need to be backported if we run centos-8
jobs on older branches.

Change-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0
(cherry picked from commit 803231efa6cf05368eaecf61a902a9e2c44f03f1)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/824257/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,bede0286c3f84cb146d2418257bb3c2517ce2c80,remove-centos-8, - build-wheel-cache-centos-8-stream: - build-wheel-cache-centos-8-stream-arm64: - build-wheel-cache-centos-8-stream:, - build-wheel-cache-centos-8: - build-wheel-cache-centos-8-arm64: - build-wheel-cache-centos-8:,3,3
openstack%2Ftripleo-heat-templates~master~Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140,openstack/tripleo-heat-templates,master,Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140,Check that redis is removed prior to FFU,MERGED,2021-11-16 09:11:36.000000000,2022-01-12 01:15:05.000000000,2022-01-12 01:13:13.000000000,"[{'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-16 09:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0281c1957dcc0fa01a1a183c6e32f4ac473f175', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nRelated-Bug: #1872645\n'}, {'number': 2, 'created': '2021-11-16 19:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bff7d158a4c714288b26d514a4c1aecd02f1dcc', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nRelated-Bug: #1872645\n'}, {'number': 3, 'created': '2021-11-18 13:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e0f2c5abeab7c35980b125d3831f1fd82e69bbe', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n'}, {'number': 4, 'created': '2021-11-25 09:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86901a69b10a04d343995b4a6409c99728db3244', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n'}, {'number': 5, 'created': '2021-12-08 10:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fb5eaf2551b9c961269901c1ac3c5d5f005e713', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n'}, {'number': 6, 'created': '2021-12-09 16:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/499314aefd318cfcfefe51b52047933aa3c1cfa3', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n'}, {'number': 7, 'created': '2021-12-10 16:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abfdf8b103ebe03d8e8f331af0c2203b330e4991', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n'}, {'number': 8, 'created': '2021-12-14 14:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/724647eab1baee07880d6a488b27767166b1c587', 'message': 'Check that redis is enabled after upgrade\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker.\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n'}, {'number': 9, 'created': '2021-12-16 13:06:02.000000000', 'files': ['releasenotes/notes/redis_disabled_by_default-9992b2bae9b149cd.yaml', 'environments/docker-ha.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'environments/ha-redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4236449451d4053fa5944fb4c9c78ea083d4145e', 'message': 'Check that redis is removed prior to FFU\n\nWe want to disable Redis by default in new deployments, without\nimpacting upgrade of existing deployments.\n\nAdd a pre-check during upgrade and bail out if Redis is not\nenabled explicitely during upgrade and if the resource already\nexists in pacemaker. The pre-check is performed prior to\nos upgrade so that pacemaker is still installed and the cluster\ncan still be inspected.\n\nTested as follows:\n  . FFU with redis-bundle not removed fails as expected\n  . FFU with redis-bundle removed finishes\n  . FFU when redis service is enabled post-FFU always finishes\n  . re-running os-upgrade is idempotent\n\nChange-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140\nCloses-Bug: #1872645\n'}]",5,818055,4236449451d4053fa5944fb4c9c78ea083d4145e,44,8,9,20778,,,0,"Check that redis is removed prior to FFU

We want to disable Redis by default in new deployments, without
impacting upgrade of existing deployments.

Add a pre-check during upgrade and bail out if Redis is not
enabled explicitely during upgrade and if the resource already
exists in pacemaker. The pre-check is performed prior to
os upgrade so that pacemaker is still installed and the cluster
can still be inspected.

Tested as follows:
  . FFU with redis-bundle not removed fails as expected
  . FFU with redis-bundle removed finishes
  . FFU when redis service is enabled post-FFU always finishes
  . re-running os-upgrade is idempotent

Change-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140
Closes-Bug: #1872645
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/818055/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,d0281c1957dcc0fa01a1a183c6e32f4ac473f175,precheck-no-redis," - name: Ensure the redis service is enabled if used in pacemaker shell: | if ! (hiera -c /etc/puppet/hiera.yaml enabled_services | jq -r '.[]' | grep -wq redis); then if [ ""$(cibadmin -Q | xmllint --xpath ""count(//bundle[@id='redis-bundle'])"" -)"" -eq ""1"" ]; then echo ""Redis resource present in pacemaker but disabled by default in TripleO"" >&2 echo ""Make sure you include the redis service before upgrading"" >&2 exit 1 fi fi exit 0",,10,0
openstack%2Ftripleo-common~master~I5312652b5229d66fa4a5981c590a2aecb79dd14c,openstack/tripleo-common,master,I5312652b5229d66fa4a5981c590a2aecb79dd14c,Remove additional patching to use gitpython with eventlet,MERGED,2021-12-06 14:55:38.000000000,2022-01-12 01:04:36.000000000,2022-01-12 01:02:48.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-06 14:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0696698e09c1a4451fcf9250518737775730a7b3', 'message': 'Remove additional patching to use gitpython with eventlet\n\n... because eventlet is no longer involved since Mistral was removed.\n\nChange-Id: I5312652b5229d66fa4a5981c590a2aecb79dd14c\n'}, {'number': 2, 'created': '2021-12-15 00:38:41.000000000', 'files': ['requirements.txt', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py', 'tripleo_common/utils/safe_import.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e939a0e481bc7b5186fa7544dbd8dee7b92bbd47', 'message': 'Remove additional patching to use gitpython with eventlet\n\n... because eventlet is no longer involved since Mistral was removed.\n\nDepends-on: https://review.opendev.org/821784\nChange-Id: I5312652b5229d66fa4a5981c590a2aecb79dd14c\n'}]",3,820533,e939a0e481bc7b5186fa7544dbd8dee7b92bbd47,17,4,2,9816,,,0,"Remove additional patching to use gitpython with eventlet

... because eventlet is no longer involved since Mistral was removed.

Depends-on: https://review.opendev.org/821784
Change-Id: I5312652b5229d66fa4a5981c590a2aecb79dd14c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/820533/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py', 'tripleo_common/utils/safe_import.py']",4,0696698e09c1a4451fcf9250518737775730a7b3,eventlet-patching,,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from eventlet.green import subprocess import eventlet.patcher as patcher # Due to an eventlet issue subprocess is not being correctly patched # on git.refs patcher.inject('git.refs', None, ('subprocess', subprocess), ) # this has to be loaded after the inject. import git # noqa: E402 Repo = git.Repo ",2,31
openstack%2Fpuppet-tripleo~master~I65a654f31ac95a9158cf1d339f8b8a972d3c476b,openstack/puppet-tripleo,master,I65a654f31ac95a9158cf1d339f8b8a972d3c476b,Add unit tests for Octavia manifests,MERGED,2021-11-30 16:21:50.000000000,2022-01-12 01:02:51.000000000,2022-01-12 01:02:51.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2021-11-30 16:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a537c3f098cd590110b452d45d395aaefd319b7d', 'message': 'Add unit tests for Octavia manifests\n\nThis change adds unit tests for the following classes.\n - tripleo::profile::base::octavia::health_manager\n - tripleo::profile::base::octavia::housekeeping\n - tripleo::profile::base::octavia::worker\n\nChange-Id: I65a654f31ac95a9158cf1d339f8b8a972d3c476b\n'}, {'number': 2, 'created': '2021-12-01 03:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3fa2fa8bf33cada0aad27bf5c92b9ffcc9616a8', 'message': 'Add unit tests for Octavia manifests\n\nThis change adds unit tests for the following classes.\n - tripleo::profile::base::octavia::health_manager\n - tripleo::profile::base::octavia::housekeeping\n - tripleo::profile::base::octavia::worker\n\nChange-Id: I65a654f31ac95a9158cf1d339f8b8a972d3c476b\n'}, {'number': 3, 'created': '2021-12-01 04:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e676f15fab32d3c01fdc7b4fd3515e4e6bce60b8', 'message': 'Add unit tests for Octavia manifests\n\nThis change adds unit tests for the following classes,\n - tripleo::profile::base::octavia::health_manager\n - tripleo::profile::base::octavia::housekeeping\n - tripleo::profile::base::octavia::worker\nand refactors the unit tests for the following class.\n - tripleo::profile::base::octavia::api\n\nChange-Id: I65a654f31ac95a9158cf1d339f8b8a972d3c476b\n'}, {'number': 4, 'created': '2021-12-01 04:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3239b32417c7307e86550765468a61e39c81e26d', 'message': 'Add unit tests for Octavia manifests\n\nThis change adds unit tests for the following classes,\n - tripleo::profile::base::octavia::health_manager\n - tripleo::profile::base::octavia::housekeeping\n - tripleo::profile::base::octavia::worker\nand refactors the unit tests for the following class.\n - tripleo::profile::base::octavia::api\n\nChange-Id: I65a654f31ac95a9158cf1d339f8b8a972d3c476b\n'}, {'number': 5, 'created': '2021-12-01 13:00:47.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_worker_spec.rb', 'spec/classes/tripleo_profile_base_octavia_api_spec.rb', 'spec/classes/tripleo_profile_base_octavia_health_manager_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_octavia_housekeeping_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/89ded1362d5f539c3b3d49c6bdab40280710ce9f', 'message': 'Add unit tests for Octavia manifests\n\nThis change adds unit tests for the following classes,\n - tripleo::profile::base::octavia::health_manager\n - tripleo::profile::base::octavia::housekeeping\n - tripleo::profile::base::octavia::worker\nand refactors the unit tests for the following class.\n - tripleo::profile::base::octavia::api\n\nChange-Id: I65a654f31ac95a9158cf1d339f8b8a972d3c476b\n'}]",0,819902,89ded1362d5f539c3b3d49c6bdab40280710ce9f,15,4,5,9816,,,0,"Add unit tests for Octavia manifests

This change adds unit tests for the following classes,
 - tripleo::profile::base::octavia::health_manager
 - tripleo::profile::base::octavia::housekeeping
 - tripleo::profile::base::octavia::worker
and refactors the unit tests for the following class.
 - tripleo::profile::base::octavia::api

Change-Id: I65a654f31ac95a9158cf1d339f8b8a972d3c476b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/819902/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_octavia_worker_spec.rb', 'spec/classes/tripleo_profile_base_octavia_health_manager_spec.rb', 'spec/classes/tripleo_profile_base_octavia_housekeeping_spec.rb']",3,a537c3f098cd590110b452d45d395aaefd319b7d,,"# # Copyright (C) 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::octavia::housekeeping' do let :params do { :step => 5 } end shared_examples_for 'tripleo::profile::base::octavia::housekeeping' do before :each do facts.merge!({ :step => params[:step] }) end let(:pre_condition) do <<-eos class { 'tripleo::profile::base::octavia' : step => #{params[:step]}, oslomsg_rpc_username => 'bugs', oslomsg_rpc_password => 'rabbits_R_c00l', oslomsg_rpc_hosts => ['hole.field.com'] } eos end context 'with step less than 5' do before do params.merge!({ :step => 4 }) end it 'should not do anything' do is_expected.to_not contain_class('octavia::controller') is_expected.to_not contain_class('octavia::nova') is_expected.to_not contain_class('octavia::housekeeping') is_expected.to_not contain_class('octavia::certificates') is_expected.to_not contain_class('octavia::neutron') is_expected.to_not contain_class('octavia::glance') is_expected.to_not contain_class('octavia::cinder') end end context 'with step 5' do before do params.merge!({ :step => 5 }) end it 'should do the full configuration' do is_expected.to contain_class('octavia::controller') is_expected.to contain_class('octavia::nova') is_expected.to contain_class('octavia::housekeeping') is_expected.to contain_class('octavia::certificates') is_expected.to contain_class('octavia::neutron') is_expected.to contain_class('octavia::glance') is_expected.to contain_class('octavia::cinder') end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({}) end it_behaves_like 'tripleo::profile::base::octavia::housekeeping' end end end ",,249,0
openstack%2Fopenstack-ansible~master~Ic92d520b86e958c2c257895af0d26db40a00503b,openstack/openstack-ansible,master,Ic92d520b86e958c2c257895af0d26db40a00503b,Add Ironic-related bridges to AIO,MERGED,2022-01-04 18:50:40.000000000,2022-01-12 00:56:27.000000000,2022-01-12 00:54:01.000000000,"[{'_account_id': 13095}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-04 18:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c3595dcd5e8d23849809a98fb7ca30ae39dab2a2', 'message': 'Add Ironic-related bridges to AIO\n\nThis patchset sets the foundation for Ironic and Inspector AIO testing\nby setting up respective bridges and IPs.\n\nChange-Id: Ic92d520b86e958c2c257895af0d26db40a00503b\n'}, {'number': 2, 'created': '2022-01-04 19:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab079d6492f3068de283fb9716afd57abd2fd680', 'message': 'Add Ironic-related bridges to AIO\n\nThis patchset sets the foundation for Ironic and Inspector AIO testing\nby setting up respective bridges and IPs.\n\nChange-Id: Ic92d520b86e958c2c257895af0d26db40a00503b\n'}, {'number': 3, 'created': '2022-01-04 19:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7fa8bb40cfbba3efd28903bdd91e1378e2098f6d', 'message': 'Add Ironic-related bridges to AIO\n\nThis patchset sets the foundation for Ironic and Inspector AIO testing\nby setting up respective bridges and IPs.\n\nChange-Id: Ic92d520b86e958c2c257895af0d26db40a00503b\n'}, {'number': 4, 'created': '2022-01-10 14:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/77d570ef68bb437926a8e0ecca328eeb7b187c3b', 'message': 'Add Ironic-related bridges to AIO\n\nThis patchset sets the foundation for Ironic and Inspector AIO testing\nby setting up respective bridges and IPs.\n\nChange-Id: Ic92d520b86e958c2c257895af0d26db40a00503b\n'}, {'number': 5, 'created': '2022-01-10 14:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf5cff32c34ec39a5940bfaa2274aace6e0728b0', 'message': 'Add Ironic-related bridges to AIO\n\nThis patchset sets the foundation for Ironic and Inspector AIO testing\nby setting up respective bridges and IPs.\n\nChange-Id: Ic92d520b86e958c2c257895af0d26db40a00503b\n'}, {'number': 6, 'created': '2022-01-11 14:59:59.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/templates/user_variables_ironic.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ebf871f65f6efff9b84ebabc389a45ec793cff13', 'message': 'Add Ironic-related bridges to AIO\n\nThis patchset sets the foundation for Ironic and Inspector AIO testing\nby setting up respective bridges and IPs.\n\nChange-Id: Ic92d520b86e958c2c257895af0d26db40a00503b\n'}]",11,823426,ebf871f65f6efff9b84ebabc389a45ec793cff13,21,4,6,16011,,,0,"Add Ironic-related bridges to AIO

This patchset sets the foundation for Ironic and Inspector AIO testing
by setting up respective bridges and IPs.

Change-Id: Ic92d520b86e958c2c257895af0d26db40a00503b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/823426/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_networking.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio']",2,c3595dcd5e8d23849809a98fb7ca30ae39dab2a2,inspector-setup," ironic: 172.29.228.0/22 - ""172.29.228.1,172.29.228.10"" - ""172.29.229.50,172.29.231.255"" - ""172.29.228.100"" container_bridge: ""br-ironic"" container_type: ""veth"" container_interface: ""eth15"" host_bind_override: ""eth15"" ip_from_q: ""ironic"" type: ""flat"" net_name: ""ironic"" group_binds: - ironic_inspector - network:",,37,0
openstack%2Frequirements~master~Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,openstack/requirements,master,Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0,Remove centos-8 jobs,MERGED,2022-01-11 21:19:08.000000000,2022-01-12 00:14:58.000000000,2022-01-12 00:09:51.000000000,"[{'_account_id': 5263}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 21:19:08.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/803231efa6cf05368eaecf61a902a9e2c44f03f1', 'message': 'Remove centos-8 jobs\n\nCentOS 8 has reached EOL and OpenDev is beginning the process to remove\nthese nodes. We do have CentOS 8 Stream nodes so jobs have been switched\nover to use those instead.\n\nNote this change will likely need to be backported if we run centos-8\njobs on older branches.\n\nChange-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0\n'}]",1,824240,803231efa6cf05368eaecf61a902a9e2c44f03f1,10,3,1,4146,,,0,"Remove centos-8 jobs

CentOS 8 has reached EOL and OpenDev is beginning the process to remove
these nodes. We do have CentOS 8 Stream nodes so jobs have been switched
over to use those instead.

Note this change will likely need to be backported if we run centos-8
jobs on older branches.

Change-Id: Ibcfacb7289a05556228ff5c2f1cc6a2679291fc0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/824240/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,803231efa6cf05368eaecf61a902a9e2c44f03f1,remove-centos-8, - build-wheel-cache-centos-8-stream: - build-wheel-cache-centos-8-stream-arm64: - build-wheel-cache-centos-8-stream:, - build-wheel-cache-centos-8: - build-wheel-cache-centos-8-arm64: - build-wheel-cache-centos-8:,3,3
openstack%2Fmanila~master~Ie8412379c20528575d2e67485ce955bcf8c13eee,openstack/manila,master,Ie8412379c20528575d2e67485ce955bcf8c13eee,api-ref: Add share instances by share endpoint,MERGED,2022-01-10 20:41:54.000000000,2022-01-11 23:59:41.000000000,2022-01-11 23:57:59.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-01-10 20:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5cfff30047aaace9d40377d1deb3153cbc15d9a9', 'message': 'api-ref: Add share instances by share endpoint\n\nThe endpoint for /shares/{share_id}/instances was missing for the\nshare section.\nThis patch adds the section and update the existing one on\nv2/shate_instances.\n\nCloses-Bug: 1952673\nChange-Id: Ie8412379c20528575d2e67485ce955bcf8c13eee\n'}, {'number': 2, 'created': '2022-01-11 17:57:34.000000000', 'files': ['api-ref/source/share-instances.inc', 'api-ref/source/samples/share-instances-list-response.json', 'api-ref/source/shares.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/603e484fb6128dface4945ebacbe8d0edb4f408e', 'message': 'api-ref: Add share instances by share endpoint\n\nThe endpoint for /shares/{share_id}/instances was missing for the\nshare section.\nThis patch adds the section and update the existing one on\nv2/shate_instances.\n\nCloses-Bug: 1952673\nChange-Id: Ie8412379c20528575d2e67485ce955bcf8c13eee\n'}]",11,824060,603e484fb6128dface4945ebacbe8d0edb4f408e,20,3,2,33431,,,0,"api-ref: Add share instances by share endpoint

The endpoint for /shares/{share_id}/instances was missing for the
share section.
This patch adds the section and update the existing one on
v2/shate_instances.

Closes-Bug: 1952673
Change-Id: Ie8412379c20528575d2e67485ce955bcf8c13eee
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/824060/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/share-instances.inc', 'api-ref/source/samples/share-instances-list-response.json', 'api-ref/source/shares.inc']",3,5cfff30047aaace9d40377d1deb3153cbc15d9a9,bug/1952673,List share instances ==================== .. rest_method:: GET /v2/shares/{share_id}/instances Lists instances from a share. .. versionadded:: 2.3 Response codes -------------- .. rest_status_code:: success status.yaml - 200 .. rest_status_code:: error status.yaml - 400 - 401 - 403 - 404 Request ------- .. rest_parameters:: parameters.yaml - project_id: project_id_path - share_id: share_id Response parameters ------------------- .. rest_parameters:: parameters.yaml - status: share_status_response - access_rules_status: access_rules_status - share_id: share_id_share_instances_response - progress: progress_share_instance - availability_zone: availability_zone - created_at: created_at - replica_state: replica_state - export_location: export_location - export_locations: export_locations - cast_rules_to_readonly: share_instance_cast_rules_to_readonly - share_network_id: share_network_id - share_server_id: share_server_id - host: host_resource_response - access_rules_status: access_rules_status - share_type_id: share_type_id - id: id_13 Response example ---------------- .. literalinclude:: samples/share-instances-list-response.json :language: javascript ,,67,0
openstack%2Fopenstack-ansible-os_nova~master~I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077,openstack/openstack-ansible-os_nova,master,I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077,"Revert ""Disable shell for nova when tunneled migration not used""",MERGED,2022-01-07 11:20:24.000000000,2022-01-11 23:44:41.000000000,2022-01-11 23:41:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-07 11:20:24.000000000', 'files': ['releasenotes/notes/disable_nova_shell-214c72d31c4d50ec.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7a3327150975346967a55a6124ff548df1cb971d', 'message': 'Revert ""Disable shell for nova when tunneled migration not used""\n\nThis reverts commit ca352be75b964f058b44ab0079e6c4b524f62ddd.\n\nChange-Id: I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077\n'}]",1,823786,7a3327150975346967a55a6124ff548df1cb971d,12,3,1,31542,,,0,"Revert ""Disable shell for nova when tunneled migration not used""

This reverts commit ca352be75b964f058b44ab0079e6c4b524f62ddd.

Change-Id: I19e1cc491e2441ab8d1bd39d383dd2e09a5b7077
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/86/823786/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable_nova_shell-214c72d31c4d50ec.yaml', 'defaults/main.yml']",2,7a3327150975346967a55a6124ff548df1cb971d,,nova_system_shell: /bin/bash,"nova_system_shell: ""{{ (nova_libvirtd_listen_tls | bool) | ternary('/bin/false', '/bin/bash') }}""",1,9
openstack%2Fopenstack-ansible-os_nova~master~Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3,openstack/openstack-ansible-os_nova,master,Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3,Reinstate ssh key distribution for all nova deployments,MERGED,2022-01-07 11:20:24.000000000,2022-01-11 23:43:18.000000000,2022-01-11 23:41:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-07 11:20:24.000000000', 'files': ['tasks/nova_compute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0bdf4699933db6e8ee1e39aa2f888b84bc3b763a', 'message': 'Reinstate ssh key distribution for all nova deployments\n\nFurther testing has revealed that cold migration still requires\nSSH communication between hypervisors which requires SSH keys to\nbe distributed between hosts.\n\nChange-Id: Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3\n'}]",2,823785,0bdf4699933db6e8ee1e39aa2f888b84bc3b763a,14,4,1,31542,,,0,"Reinstate ssh key distribution for all nova deployments

Further testing has revealed that cold migration still requires
SSH communication between hypervisors which requires SSH keys to
be distributed between hosts.

Change-Id: Ida18b057d68d4edf7ce6dd2a46ef990f34ad36e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/85/823785/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_compute.yml'],1,0bdf4699933db6e8ee1e39aa2f888b84bc3b763a,,, when: - nova_libvirtd_listen_tls == 0 when: - nova_libvirtd_listen_tls == 0,0,4
openstack%2Fpython-tripleoclient~master~Ic409a92c051e4710fd1bcba85513683352f2be8c,openstack/python-tripleoclient,master,Ic409a92c051e4710fd1bcba85513683352f2be8c,Remove additional patching to use gitpython with eventlet,MERGED,2021-12-15 00:37:19.000000000,2022-01-11 23:42:31.000000000,2022-01-11 23:40:34.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2021-12-15 00:37:19.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f41c3dbe0e84844316945de0471370deaa9bef91', 'message': 'Remove additional patching to use gitpython with eventlet\n\n... because eventlet is no longer involved since Mistral was removed.\n\nChange-Id: Ic409a92c051e4710fd1bcba85513683352f2be8c\n'}]",1,821784,f41c3dbe0e84844316945de0471370deaa9bef91,11,4,1,9816,,,0,"Remove additional patching to use gitpython with eventlet

... because eventlet is no longer involved since Mistral was removed.

Change-Id: Ic409a92c051e4710fd1bcba85513683352f2be8c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/821784/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,f41c3dbe0e84844316945de0471370deaa9bef91,eventlet-patching,import git,from tripleo_common.utils.safe_import import git,1,1
openstack%2Ftripleo-ci~master~I4d32dfc55255f9e5f7da8bdc63e20f18305bf803,openstack/tripleo-ci,master,I4d32dfc55255f9e5f7da8bdc63e20f18305bf803,Make multinode-ipa non-voting,ABANDONED,2022-01-11 20:33:18.000000000,2022-01-11 23:40:51.000000000,,"[{'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-11 20:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6482ce0ffc9a9b61c18f827ef3543953613ea56f', 'message': 'Make multinode-ipa non-voting\n\nChange-Id: I4d32dfc55255f9e5f7da8bdc63e20f18305bf803\nRelated-Bug: #1957083\n'}, {'number': 2, 'created': '2022-01-11 20:53:35.000000000', 'files': ['test-requirements.txt', 'zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b220b7da1a56cb6cf8bc7dea562a6bc873a86f18', 'message': 'Make multinode-ipa non-voting\n\nChange-Id: I4d32dfc55255f9e5f7da8bdc63e20f18305bf803\nRelated-Bug: #1957083\n'}]",0,824233,b220b7da1a56cb6cf8bc7dea562a6bc873a86f18,5,2,2,9976,,,0,"Make multinode-ipa non-voting

Change-Id: I4d32dfc55255f9e5f7da8bdc63e20f18305bf803
Related-Bug: #1957083
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/824233/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,6482ce0ffc9a9b61c18f827ef3543953613ea56f,test-tox, voting: false, gate: queue: tripleo jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: *tls_ipa_files vars: *ipa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,1,9
openstack%2Ftripleo-heat-templates~master~I2b7f75a4445a7bb645e4537575d24de8a311370a,openstack/tripleo-heat-templates,master,I2b7f75a4445a7bb645e4537575d24de8a311370a,Cinder: Remove support for Dell EMC VMAX,ABANDONED,2022-01-09 12:05:33.000000000,2022-01-11 23:26:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-09 12:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d24827dfb3a909c9aea905bd5c39e7657b5cc518', 'message': 'Remove support for Dell EMC VMAX driver\n\nVMAX was rebranded to Power Max and the old driver name was deprecated.\n\nChange-Id: I2b7f75a4445a7bb645e4537575d24de8a311370a\n'}, {'number': 2, 'created': '2022-01-09 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7339d1e7c902b2ef6360936d6ac3808502451a93', 'message': 'Cinder: Remove support for Dell EMC VMAX driver\n\nVMAX was rebranded to Power Max and the old driver name was deprecated.\n\nChange-Id: I2b7f75a4445a7bb645e4537575d24de8a311370a\n'}, {'number': 3, 'created': '2022-01-09 12:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41a595ddfe5d4811a7ea216aafa193982e8a71c7', 'message': 'Cinder: Remove support for Dell EMC VMAX\n\nVMAX was rebranded to Power Max and the old driver name was deprecated.\n\nChange-Id: I2b7f75a4445a7bb645e4537575d24de8a311370a\n'}, {'number': 4, 'created': '2022-01-09 13:16:27.000000000', 'files': ['roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/cinder-dellemc-vmax-iscsi-config.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'releasenotes/notes/dellemc-driver-cleanup-vmax-198ca939d3f17960.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f8c05a3ec1db83b2e879eb80bb742d339c2d31f', 'message': 'Cinder: Remove support for Dell EMC VMAX\n\nVMAX was rebranded to Power Max and the old driver name was deprecated.\n\nChange-Id: I2b7f75a4445a7bb645e4537575d24de8a311370a\n'}]",0,823910,5f8c05a3ec1db83b2e879eb80bb742d339c2d31f,7,2,4,9816,,,0,"Cinder: Remove support for Dell EMC VMAX

VMAX was rebranded to Power Max and the old driver name was deprecated.

Change-Id: I2b7f75a4445a7bb645e4537575d24de8a311370a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/823910/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/cinder-dellemc-vmax-iscsi-config.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'releasenotes/notes/dellemc-driver-cleanup-vmax-198ca939d3f17960.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'roles/ControllerSriov.yaml']",12,d24827dfb3a909c9aea905bd5c39e7657b5cc518,dellemc-driver-cleanup,, - OS::TripleO::Services::CinderBackendDellEMCVMAXISCSI,8,22
openstack%2Ftripleo-heat-templates~master~Id6c990d22885c443fc5109a6a27d994a8b34e3b4,openstack/tripleo-heat-templates,master,Id6c990d22885c443fc5109a6a27d994a8b34e3b4,Cinder: Remove support for VxFlex OS,ABANDONED,2022-01-09 11:58:25.000000000,2022-01-11 23:25:56.000000000,,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-09 11:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddb59b1834c0e52fc986f53e79db7d4e46707472', 'message': 'Remove support for VxFlex OS\n\nVxFlex OS was rebranded to PowerFlex and the old driver was deprecated\nduring past cycle[1].\n\n[1] 7858b573e9cf7b7217a24b2d9c292fe89f5b7f5f\n\nChange-Id: Id6c990d22885c443fc5109a6a27d994a8b34e3b4\n'}, {'number': 2, 'created': '2022-01-09 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/606795256c6e02e2d00b26963023321d5a3cd6cb', 'message': 'Cinder: Remove support for VxFlex OS\n\nVxFlex OS was rebranded to PowerFlex and the old driver was deprecated\nduring past cycle[1].\n\n[1] 7858b573e9cf7b7217a24b2d9c292fe89f5b7f5f\n\nChange-Id: Id6c990d22885c443fc5109a6a27d994a8b34e3b4\n'}, {'number': 3, 'created': '2022-01-09 13:16:27.000000000', 'files': ['environments/cinder-dellemc-vxflexos-config.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'deployment/deprecated/cinder/cinder-backend-dellemc-vxflexos-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/dellemc-driver-cleanup-vxflexos-b57d93378bc2a87d.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05e2f991a873d550448ab882142519d905f48721', 'message': 'Cinder: Remove support for VxFlex OS\n\nVxFlex OS was rebranded to PowerFlex and the old driver was deprecated\nduring past cycle[1].\n\n[1] 7858b573e9cf7b7217a24b2d9c292fe89f5b7f5f\n\nChange-Id: Id6c990d22885c443fc5109a6a27d994a8b34e3b4\n'}]",1,823909,05e2f991a873d550448ab882142519d905f48721,8,3,3,9816,,,0,"Cinder: Remove support for VxFlex OS

VxFlex OS was rebranded to PowerFlex and the old driver was deprecated
during past cycle[1].

[1] 7858b573e9cf7b7217a24b2d9c292fe89f5b7f5f

Change-Id: Id6c990d22885c443fc5109a6a27d994a8b34e3b4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/823909/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-dellemc-vxflexos-config.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'deployment/deprecated/cinder/cinder-backend-dellemc-vxflexos-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/dellemc-driver-cleanup-vxflexos-b57d93378bc2a87d.yaml']",11,ddb59b1834c0e52fc986f53e79db7d4e46707472,dellemc-driver-cleanup,--- upgrade: - | Support for Dell EMC VxFlex OS driver has been removed. - | The ``OS::TripleO::Services::CinderBackendDellEMCVxFlexOS`` service should be removed from roles data during upgrade. ,,8,219
openstack%2Fswift~master~Ieba919ad94d7f636ccaa6c43897986bc453e30d9,openstack/swift,master,Ieba919ad94d7f636ccaa6c43897986bc453e30d9,WIP: try new FakeInternalClient,NEW,2022-01-11 21:19:01.000000000,2022-01-11 23:12:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-11 21:19:01.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/46ea63c9ca54d1f25d9b18065ef01f2c42a8505a', 'message': 'WIP: try new FakeInternalClient\n\nChange-Id: Ieba919ad94d7f636ccaa6c43897986bc453e30d9\n'}]",0,824239,46ea63c9ca54d1f25d9b18065ef01f2c42a8505a,3,1,1,1179,,,0,"WIP: try new FakeInternalClient

Change-Id: Ieba919ad94d7f636ccaa6c43897986bc453e30d9
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/824239/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/common/internal_client.py']",2,46ea63c9ca54d1f25d9b18065ef01f2c42a8505a,expire-mpu," global_conf=None, app=None): self.app = app or loadapp( conf_path, global_conf=global_conf, allow_modify_pipeline=allow_modify_pipeline)"," global_conf=None): self.app = loadapp(conf_path, global_conf=global_conf, allow_modify_pipeline=allow_modify_pipeline,)",27,21
openstack%2Fopenstack-ansible-haproxy_server~master~I536c32a0b152a2b754787e07574472ecfaebd7e7,openstack/openstack-ansible-haproxy_server,master,I536c32a0b152a2b754787e07574472ecfaebd7e7,Add default CA store to use when haproxy_backend_ca is true,MERGED,2021-12-15 14:09:12.000000000,2022-01-11 22:56:32.000000000,2022-01-11 22:54:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-15 14:09:12.000000000', 'files': ['templates/service.j2', 'vars/redhat.yml', 'vars/ubuntu.yml', 'vars/debian.yml', 'doc/source/configure-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/92dac326a94fe0e7577808f66acb861481fe7e70', 'message': 'Add default CA store to use when haproxy_backend_ca is true\n\nIf haproxy_backend_ca set to true, default to using system CA\nso you dont have to specify the exact CA to use.\n\nChange-Id: I536c32a0b152a2b754787e07574472ecfaebd7e7\n'}]",4,821847,92dac326a94fe0e7577808f66acb861481fe7e70,13,3,1,31749,,,0,"Add default CA store to use when haproxy_backend_ca is true

If haproxy_backend_ca set to true, default to using system CA
so you dont have to specify the exact CA to use.

Change-Id: I536c32a0b152a2b754787e07574472ecfaebd7e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/47/821847/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service.j2', 'vars/redhat.yml', 'vars/ubuntu.yml', 'vars/debian.yml', 'doc/source/configure-haproxy.rst']",5,92dac326a94fe0e7577808f66acb861481fe7e70,tls-backend-ca, # Or to use system CA for validation # haproxy_backend_ca: True,,13,2
openstack%2Fproject-config~master~I6c2bc2fc4314e8eb205766f22738135551191452,openstack/project-config,master,I6c2bc2fc4314e8eb205766f22738135551191452,Remove centos-8 wheel publishing jobs,MERGED,2022-01-11 21:21:49.000000000,2022-01-11 22:43:38.000000000,2022-01-11 22:43:38.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 21:21:49.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/14dad80b2a7aa2260d3ad175121de64bf20c005f', 'message': 'Remove centos-8 wheel publishing jobs\n\nWe are beginning the process of removing these images from OpenDev.\nLater changes will need to clean up our grafyaml configs and nodepool\nconfigs, but this allows us to remove jobs from zuul and once those are\nall gone we can remove the nodes from nodepool then remove the grafyaml\nconfigs.\n\nChange-Id: I6c2bc2fc4314e8eb205766f22738135551191452\n'}]",0,824243,14dad80b2a7aa2260d3ad175121de64bf20c005f,7,2,1,4146,,,0,"Remove centos-8 wheel publishing jobs

We are beginning the process of removing these images from OpenDev.
Later changes will need to clean up our grafyaml configs and nodepool
configs, but this allows us to remove jobs from zuul and once those are
all gone we can remove the nodes from nodepool then remove the grafyaml
configs.

Change-Id: I6c2bc2fc4314e8eb205766f22738135551191452
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/824243/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,14dad80b2a7aa2260d3ad175121de64bf20c005f,remove-centos-8,, name: publish-wheel-cache-centos-8 description: | Publish CentOS 8 wheels for OpenStack CI mirrors. parent: build-wheel-cache-centos-8 pre-run: playbooks/openafs-client/setup.yaml post-run: playbooks/publish/wheel-mirror.yaml allowed-projects: - openstack/requirements final: true secrets: - name: afs secret: wheel_keytab - job: name: publish-wheel-cache-centos-8-arm64 description: | Publish CentOS 8 wheels for OpenStack CI mirrors. parent: build-wheel-cache-centos-8-arm64 pre-run: playbooks/openafs-client/setup.yaml post-run: playbooks/publish/wheel-mirror.yaml allowed-projects: - openstack/requirements final: true secrets: - name: afs secret: wheel_keytab - job:,0,32
openstack%2Fos-ken~stable%2Ftrain~If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,openstack/os-ken,stable/train,If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,Add requirements.txt to tox environment,MERGED,2022-01-11 10:11:39.000000000,2022-01-11 22:10:35.000000000,2022-01-11 22:04:35.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 10:11:39.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/1df7c0e7108990de82eb3d517ba008548e660ee3', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nFor stable branches, also drop lower-constraints job as done in other\nprojects\nFor wallaby and older, fix the docs job with adapted backport of [1] and\nadd eventlet to doc requirements (it is loaded in doc generation)\n\n[1] Ica52306c9c2ca2d64161b09317735ed740bd4d32\n\nConflicts:\n\t.zuul.yaml\n\ttox.ini\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)\n(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)\n(cherry picked from commit 99361db159f47e7cafcd52612d0f678891f84a8d)\n'}]",0,824133,1df7c0e7108990de82eb3d517ba008548e660ee3,8,3,1,21798,,,0,"Add requirements.txt to tox environment

This was spotted in [0] backport, upper constraints are not applied
correctly without it (and this aligns with the typical deps in other
projects)

[0] https://review.opendev.org/c/openstack/os-ken/+/823758

For stable branches, also drop lower-constraints job as done in other
projects
For wallaby and older, fix the docs job with adapted backport of [1] and
add eventlet to doc requirements (it is loaded in doc generation)

[1] Ica52306c9c2ca2d64161b09317735ed740bd4d32

Conflicts:
	.zuul.yaml
	tox.ini

Change-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c
(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)
(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)
(cherry picked from commit 99361db159f47e7cafcd52612d0f678891f84a8d)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/33/824133/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",4,1df7c0e7108990de82eb3d517ba008548e660ee3,, -r{toxinidir}/requirements.txtdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,5,161
openstack%2Ftripleo-repos~master~I7365f7918f3ffabdd47339ad38dd97f641fe5e31,openstack/tripleo-repos,master,I7365f7918f3ffabdd47339ad38dd97f641fe5e31,yum-config compose-repos generation improvements,MERGED,2021-11-25 18:42:06.000000000,2022-01-11 22:08:42.000000000,2022-01-11 22:08:42.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 18:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6c05d5f342339d6f4873547e65eeeb25a8b64835', 'message': 'Centos-Compose: update a section if it already exist\n\nThis patch extends the yum-config to try to update a section if it\nalready exists when generation compose-repos. This allows scripts to\nupdate an existing repo from a compose-url, and also update any option\nbased on environment variables.\n\nChange-Id: I7365f7918f3ffabdd47339ad38dd97f641fe5e31\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 2, 'created': '2021-12-02 17:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/20a61956eb8e275841ab8b75d3d5e9a3c5c1015c', 'message': 'yum-config compose-repos generation improvements\n\nThis patch extends the yum-config to try to update a section if it\nalready exists when generation compose-repos. This allows scripts to\nupdate an existing repo from a compose-url, and also update any option\nbased on environment variables.\nThis patch also avoids compose-repos to fail when a file to be disabled\ndoes not exists anymore.\n\nChange-Id: I7365f7918f3ffabdd47339ad38dd97f641fe5e31\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 3, 'created': '2021-12-14 20:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/9bd25b73aee027c00793fb904975df659b14e0d0', 'message': 'yum-config compose-repos generation improvements\n\nThis patch extends the yum-config to try to update a section if it\nalready exists when generation compose-repos. This allows scripts to\nupdate an existing repo from a compose-url, and also update any option\nbased on environment variables.\nThis patch also avoids compose-repos to fail when a file to be disabled\ndoes not exists anymore.\n\nChange-Id: I7365f7918f3ffabdd47339ad38dd97f641fe5e31\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 4, 'created': '2021-12-14 23:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/297811c3c0aa6973f05e51746387f70cb6f7895b', 'message': 'yum-config compose-repos generation improvements\n\nThis patch extends the yum-config to try to update a section if it\nalready exists when generation compose-repos. This allows scripts to\nupdate an existing repo from a compose-url, and also update any option\nbased on environment variables.\nThis patch also avoids compose-repos to fail when a file to be disabled\ndoes not exists anymore.\n\nChange-Id: I7365f7918f3ffabdd47339ad38dd97f641fe5e31\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 5, 'created': '2021-12-20 23:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d85a3db8dec5044fd8cdc979cdfc6b169f123940', 'message': 'yum-config compose-repos generation improvements\n\nThis patch extends the yum-config to try to update a section if it\nalready exists when generation compose-repos. This allows scripts to\nupdate an existing repo from a compose-url, and also update any option\nbased on environment variables.\nThis patch also avoids compose-repos to fail when a file to be disabled\ndoes not exists anymore.\n\nChange-Id: I7365f7918f3ffabdd47339ad38dd97f641fe5e31\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 6, 'created': '2021-12-21 15:12:13.000000000', 'files': ['plugins/modules/yum_config.py', 'plugins/module_utils/tripleo_repos/yum_config/compose_repos.py', 'tests/unit/yum_config/test_main.py', 'plugins/module_utils/tripleo_repos/yum_config/__main__.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/18699c47031819d21afb9480012565ac4a1d1682', 'message': 'yum-config compose-repos generation improvements\n\nThis patch extends the yum-config to try to update a section if it\nalready exists when generation compose-repos. This allows scripts to\nupdate an existing repo from a compose-url, and also update any option\nbased on environment variables.\nThis patch also avoids compose-repos to fail when a file to be disabled\ndoes not exists anymore.\n\nChange-Id: I7365f7918f3ffabdd47339ad38dd97f641fe5e31\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",5,819364,18699c47031819d21afb9480012565ac4a1d1682,19,3,6,30002,,,0,"yum-config compose-repos generation improvements

This patch extends the yum-config to try to update a section if it
already exists when generation compose-repos. This allows scripts to
update an existing repo from a compose-url, and also update any option
based on environment variables.
This patch also avoids compose-repos to fail when a file to be disabled
does not exists anymore.

Change-Id: I7365f7918f3ffabdd47339ad38dd97f641fe5e31
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/64/819364/6 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/yum_config/compose_repos.py'],1,6c05d5f342339d6f4873547e65eeeb25a8b64835,compose_repos_dep," ""Trying to update it..."", var) self.update_section(var.lower(), set_dict=add_dict, file_path=file_path)"," ""Skipping..."", var)",4,1
openstack%2Fpython-tripleoclient~master~Idaac0bd54c8cc05ef3b1de4c268cdf440b82c8e5,openstack/python-tripleoclient,master,Idaac0bd54c8cc05ef3b1de4c268cdf440b82c8e5,Use Python3 yoga unit tests,MERGED,2021-12-14 09:46:56.000000000,2022-01-11 21:49:14.000000000,2022-01-11 21:40:22.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 09:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3d667d1099188dab972b6d50c294b5bddf25b969', 'message': 'Use Python3 yoga unit tests\n\nBecause TripleO decided to skip Xena release, test runtime is not\nupdated by automation tools. This change updates the teat runtime\nmanually to use the tested runtime for Yoga.\n\nChange-Id: Idaac0bd54c8cc05ef3b1de4c268cdf440b82c8e5\n'}, {'number': 2, 'created': '2021-12-14 09:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1d4a51078c5acfa8592f28535c13d532b1ba39a', 'message': 'Use Python3 yoga unit tests\n\nBecause TripleO decided to skip Xena release, test runtime is not\nupdated by automation tools. This change updates the teat runtime\nmanually to use the tested runtime for Yoga.\n\nChange-Id: Idaac0bd54c8cc05ef3b1de4c268cdf440b82c8e5\n'}, {'number': 3, 'created': '2021-12-14 09:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/530c348846d6e43ba0d28e9c65e7a0eb148be97c', 'message': 'Use Python3 yoga unit tests\n\nBecause TripleO decided to skip Xena release, test runtime is not\nupdated by automation tools. This change updates the teat runtime\nmanually to use the tested runtime for Yoga.\n\nChange-Id: Idaac0bd54c8cc05ef3b1de4c268cdf440b82c8e5\n'}, {'number': 4, 'created': '2021-12-14 09:51:40.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c32a24db38aac1ca8e0b8fc4fd9afd8bf7e9108d', 'message': 'Use Python3 yoga unit tests\n\nBecause the Xena release is not being created for TripleO repos, test\nruntime is not updated by automation tools. This change updates\nthe job template to use the tested runtime for Yoga.\n\nChange-Id: Idaac0bd54c8cc05ef3b1de4c268cdf440b82c8e5\n'}]",0,821681,c32a24db38aac1ca8e0b8fc4fd9afd8bf7e9108d,14,3,4,9816,,,0,"Use Python3 yoga unit tests

Because the Xena release is not being created for TripleO repos, test
runtime is not updated by automation tools. This change updates
the job template to use the tested runtime for Yoga.

Change-Id: Idaac0bd54c8cc05ef3b1de4c268cdf440b82c8e5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/821681/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,3d667d1099188dab972b6d50c294b5bddf25b969,tripleo-yoga-runtime, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I79b07f1929e81cfd162f3e191287da254f88c3ae,openstack/tripleo-validations,stable/wallaby,I79b07f1929e81cfd162f3e191287da254f88c3ae,undercloud-debug validation documentation improvement,MERGED,2022-01-06 08:01:56.000000000,2022-01-11 21:49:06.000000000,2022-01-11 21:40:19.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-06 08:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a3a68324e9596ad4a1a205f9fad513cee82ab3c6', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nRelated-Bug: #1942508\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n(cherry picked from commit 6cbeeb4c2c7cd70d76b2d258cf595d86b54e0775)\n'}, {'number': 2, 'created': '2022-01-06 13:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1234686062f9f12b41c2484fe69eac8cf4db4f87', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nRelated-Bug: #1942508\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n(cherry picked from commit 6cbeeb4c2c7cd70d76b2d258cf595d86b54e0775)\n'}, {'number': 3, 'created': '2022-01-11 09:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/55690a0e06bca9d56c1215ab7cf1a7bd4ed1cc97', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nRelated-Bug: #1942508\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n(cherry picked from commit 6cbeeb4c2c7cd70d76b2d258cf595d86b54e0775)\n'}, {'number': 4, 'created': '2022-01-11 11:01:59.000000000', 'files': ['roles/undercloud_debug/vars/main.yaml', 'roles/undercloud_debug/README.md', 'roles/undercloud_debug/tasks/main.yml', 'doc/source/roles/role-undercloud_debug.rst', 'roles/undercloud_debug/defaults/main.yml', 'playbooks/undercloud-debug.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2a0cfa5f0f4a665f310c17ce87f56e0e6a5bbac6', 'message': 'undercloud-debug validation documentation improvement\n\nDocumentation of the validation was adjusted to reflect actual\nmechanism of operation, with the goal of preventing confusion\non the side of the customer.\n\nRelated-Bug: #1942508\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae\n(cherry picked from commit 6cbeeb4c2c7cd70d76b2d258cf595d86b54e0775)\n'}]",0,823635,2a0cfa5f0f4a665f310c17ce87f56e0e6a5bbac6,12,5,4,32926,,,0,"undercloud-debug validation documentation improvement

Documentation of the validation was adjusted to reflect actual
mechanism of operation, with the goal of preventing confusion
on the side of the customer.

Related-Bug: #1942508

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I79b07f1929e81cfd162f3e191287da254f88c3ae
(cherry picked from commit 6cbeeb4c2c7cd70d76b2d258cf595d86b54e0775)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/35/823635/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_debug/vars/main.yaml', 'roles/undercloud_debug/README.md', 'roles/undercloud_debug/tasks/main.yml', 'doc/source/roles/role-undercloud_debug.rst', 'playbooks/undercloud-debug.yaml', 'roles/undercloud_debug/defaults/main.yml']",6,a3a68324e9596ad4a1a205f9fad513cee82ab3c6,undercloud-debug,"# Fail if the 'debug' key is set to value of 'debug_check' # Parse following ini files, retrieving value of the 'debug' key",,58,40
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9,openstack/tripleo-heat-templates,stable/train,Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9,"[train,ussuri] Set cinder's __DEFAULT__ vol type description",MERGED,2022-01-10 14:39:28.000000000,2022-01-11 21:49:02.000000000,2022-01-11 21:40:06.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 14:39:28.000000000', 'files': ['releasenotes/notes/cinder-update-volume-type-description-5f81e2ff5ea8184a.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e36e3c0ee9764414db982112876e8975466b777f', 'message': ""[train,ussuri] Set cinder's __DEFAULT__ vol type description\n\nUpdate the description of cinder's internal __DEFAULT__ volume type\nso that users don't confuse it with the actual default volume type\nestablished by the CinderDefaultVolumeType parameter.\n\nThis patch is a variant of Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,\nwhich in later releases deletes cinder's __DEFAULT__ volume type if\nthere are no volumes associated with it. However, the __DEFAULT__\nvolume type cannot be removed prior to the victoria release because\nit's required for a DB migration.\n\nLastly, CinderDefaultVolumeType is now constrained to prevent it being\nset to an empty string. That should never happen, so this is just a\nsafety net.\n\nChange-Id: Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9\nRelated-Bug: #1782217\n(cherry picked from commit d30105a28c755d826c85bccf4d02cdca2712c53b)\n""}]",0,824001,e36e3c0ee9764414db982112876e8975466b777f,10,5,1,21129,,,0,"[train,ussuri] Set cinder's __DEFAULT__ vol type description

Update the description of cinder's internal __DEFAULT__ volume type
so that users don't confuse it with the actual default volume type
established by the CinderDefaultVolumeType parameter.

This patch is a variant of Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,
which in later releases deletes cinder's __DEFAULT__ volume type if
there are no volumes associated with it. However, the __DEFAULT__
volume type cannot be removed prior to the victoria release because
it's required for a DB migration.

Lastly, CinderDefaultVolumeType is now constrained to prevent it being
set to an empty string. That should never happen, so this is just a
safety net.

Change-Id: Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9
Related-Bug: #1782217
(cherry picked from commit d30105a28c755d826c85bccf4d02cdca2712c53b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/824001/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-update-volume-type-description-5f81e2ff5ea8184a.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml']",2,e36e3c0ee9764414db982112876e8975466b777f,," constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The default volume type must be at least 1 character and contain only letters and numbers. - name: Manage Cinder's default volume type eval $(openstack volume type show __DEFAULT__ -f shell -c id -c description) if [ -n ""$id"" ]; then tripleo_descr=""For internal use, '{{ default_volume_type }}' is the default volume type"" if [ ""$description"" != ""$tripleo_descr"" ]; then openstack volume type set $id --description ""$tripleo_descr"" fi fi", - name: Manage Cinder Volume Type,19,1
openstack%2Ftripleo-quickstart~master~I8311d67e10465ae97402891cf0aa65736403bf4a,openstack/tripleo-quickstart,master,I8311d67e10465ae97402891cf0aa65736403bf4a,Fix ansible-lint and tox-molecule failures,MERGED,2022-01-10 17:19:15.000000000,2022-01-11 21:48:03.000000000,2022-01-11 21:39:41.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-10 17:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7c7f6885884facc7330c24050c4a95a04b40f348', 'message': 'Fix ansible-lint failures\n\nUpdate ansible-lint to a newer version to fix current failures.\n\nChange-Id: I8311d67e10465ae97402891cf0aa65736403bf4a\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 2, 'created': '2022-01-10 18:33:01.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/trunk/queens.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/queens.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/trunk/stein.yml', 'config/release/stein.yml', '.pre-commit-config.yaml', 'config/release/centosci/stein-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/cloudsig/stein.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'config/release/centosci/queens-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b70d2ade3ceb29fe524412d3378cf5b546009e87', 'message': 'Fix ansible-lint and tox-molecule failures\n\n1. Update ansible-lint to a newer version to fix current failures.\n2. Delete Queens ans Stein release files that are causing tox-molecule\n   to fail. See #1956989 for more details\n\nCloses-Bug: #1956989\nChange-Id: I8311d67e10465ae97402891cf0aa65736403bf4a\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",3,824037,b70d2ade3ceb29fe524412d3378cf5b546009e87,23,8,2,30002,,,0,"Fix ansible-lint and tox-molecule failures

1. Update ansible-lint to a newer version to fix current failures.
2. Delete Queens ans Stein release files that are causing tox-molecule
   to fail. See #1956989 for more details

Closes-Bug: #1956989
Change-Id: I8311d67e10465ae97402891cf0aa65736403bf4a
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/37/824037/2 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,7c7f6885884facc7330c24050c4a95a04b40f348,a-lint, rev: v5.3.2, rev: v5.1.0a1,1,1
openstack%2Ftripleo-validations~stable%2Fwallaby~Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8,openstack/tripleo-validations,stable/wallaby,Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8,Use centos-8 stream for molecule jobs,MERGED,2021-12-08 13:49:10.000000000,2022-01-11 21:40:16.000000000,2022-01-11 21:40:16.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-12-08 13:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/18b3bded7f1e48e5249854d333d6a55ef361b7e2', 'message': 'Use centos-8 stream for molecule jobs\n\nThis patch migrates all the molecule jobs for using CentOS-8 Stream\ninstead UBI8 images.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8\n(cherry picked from commit dd088d7a774040e1d07245dac76dcd725d050deb)\n'}, {'number': 2, 'created': '2021-12-08 14:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/59b82a7c3f04c1bc7900748a49ad7003491156a7', 'message': 'Use centos-8 stream for molecule jobs\n\nThis patch migrates all the molecule jobs for using CentOS-8 Stream\ninstead UBI8 images.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8\n(cherry picked from commit dd088d7a774040e1d07245dac76dcd725d050deb)\n'}, {'number': 3, 'created': '2021-12-13 09:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f6a1184e32a62baaffe6f44e1ce4bb175e6794b5', 'message': 'Use centos-8 stream for molecule jobs\n\nThis patch migrates all the molecule jobs for using CentOS-8 Stream\ninstead UBI8 images.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8\n(cherry picked from commit dd088d7a774040e1d07245dac76dcd725d050deb)\n'}, {'number': 4, 'created': '2022-01-11 09:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/76346df12a278ecbd35bdd8aaeb5a5d826b6e4ab', 'message': 'Use centos-8 stream for molecule jobs\n\nThis patch migrates all the molecule jobs for using CentOS-8 Stream\ninstead UBI8 images.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8\n(cherry picked from commit dd088d7a774040e1d07245dac76dcd725d050deb)\n'}, {'number': 5, 'created': '2022-01-11 11:01:59.000000000', 'files': ['ansible-collections-requirements.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'zuul.d/base.yaml', 'roles/check_uc_hostname/molecule/default/converge.yml', 'doc/source/contributing/developer_guide.rst', 'ci/playbooks/pre.yml', '.config/molecule/Dockerfile', 'roles/oslo_config_validator/molecule/mocked_failure/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'scripts/run-local-test', 'roles/oslo_config_validator/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', '.config/molecule/config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/65f7634236b200a3241404bd8d04062e6b8fac2c', 'message': 'Use centos-8 stream for molecule jobs\n\nThis patch migrates all the molecule jobs for using CentOS-8 Stream\ninstead UBI8 images.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8\n(cherry picked from commit dd088d7a774040e1d07245dac76dcd725d050deb)\n'}]",1,821060,65f7634236b200a3241404bd8d04062e6b8fac2c,16,3,5,11491,,,0,"Use centos-8 stream for molecule jobs

This patch migrates all the molecule jobs for using CentOS-8 Stream
instead UBI8 images.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ied32122e5ec042a141a21c8cc3b43f7e0ef65da8
(cherry picked from commit dd088d7a774040e1d07245dac76dcd725d050deb)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/821060/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collections-requirements.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'zuul.d/base.yaml', 'roles/check_uc_hostname/molecule/default/converge.yml', 'doc/source/contributing/developer_guide.rst', 'ci/playbooks/pre.yml', '.config/molecule/Dockerfile', 'roles/oslo_config_validator/molecule/mocked_failure/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'scripts/run-local-test', 'roles/oslo_config_validator/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', '.config/molecule/config.yml']",17,18b3bded7f1e48e5249854d333d6a55ef361b7e2,undercloud-debug,"# For instance, if you need to add an extra package in your CentOS 8 Stream # container, you will have to add the entire ""platforms"" key into your # molecule.yml file and add your package name in the pkg_extras key. - name: centos hostname: centos image: centos/centos:stream8 registry: url: quay.io centos:","# For instance, if you need to add an extra package in your ubi8 container, you # will have to add the entire ""platforms"" key into your molecule.yml file and # add your package name in the pkg_extras key. - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com ubi8:",50,44
openstack%2Ftripleo-validations~stable%2Fwallaby~Ib823c6c65b4853e951cb001a6eed354ba2127965,openstack/tripleo-validations,stable/wallaby,Ib823c6c65b4853e951cb001a6eed354ba2127965,Optimize linters executions from tox and pre-commit,MERGED,2021-12-08 13:49:10.000000000,2022-01-11 21:40:14.000000000,2022-01-11 21:40:14.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-12-08 13:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5813fd264c584c6d3efa35125f402031275ab148', 'message': ""Optimize linters executions from tox and pre-commit\n\nThis patch merges all the tox linters testenv into one. It also installs\nthe required Ansible collections with ansible-galaxy before executing\nansible-lint.\n\nMorever, the 'end-of-file-fixer' pre-commit hook is working again and\nthis patch is fixing all the related issues.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ib823c6c65b4853e951cb001a6eed354ba2127965\n(cherry picked from commit abe513cc90321df585689eb15bb9f0636274c179)\n""}, {'number': 2, 'created': '2021-12-08 14:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5db28364715ff2507e1c9f0c8386a2587c91b817', 'message': ""Optimize linters executions from tox and pre-commit\n\nThis patch merges all the tox linters testenv into one. It also installs\nthe required Ansible collections with ansible-galaxy before executing\nansible-lint.\n\nMorever, the 'end-of-file-fixer' pre-commit hook is working again and\nthis patch is fixing all the related issues.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ib823c6c65b4853e951cb001a6eed354ba2127965\n(cherry picked from commit abe513cc90321df585689eb15bb9f0636274c179)\n""}, {'number': 3, 'created': '2021-12-13 09:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9d25dc9aaf75fde1800d9354d86a7671f0f78946', 'message': ""Optimize linters executions from tox and pre-commit\n\nThis patch merges all the tox linters testenv into one. It also installs\nthe required Ansible collections with ansible-galaxy before executing\nansible-lint.\n\nMorever, the 'end-of-file-fixer' pre-commit hook is working again and\nthis patch is fixing all the related issues.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ib823c6c65b4853e951cb001a6eed354ba2127965\n(cherry picked from commit abe513cc90321df585689eb15bb9f0636274c179)\n""}, {'number': 4, 'created': '2022-01-11 09:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/071ddd6f3c9ad3791a06dd429c2465d418d0fb9d', 'message': ""Optimize linters executions from tox and pre-commit\n\nThis patch merges all the tox linters testenv into one. It also installs\nthe required Ansible collections with ansible-galaxy before executing\nansible-lint.\n\nMorever, the 'end-of-file-fixer' pre-commit hook is working again and\nthis patch is fixing all the related issues.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ib823c6c65b4853e951cb001a6eed354ba2127965\n(cherry picked from commit abe513cc90321df585689eb15bb9f0636274c179)\n""}, {'number': 5, 'created': '2022-01-11 11:01:59.000000000', 'files': ['doc/source/modules/modules-ip_range.rst', 'doc/source/roles/role-rabbitmq_limits.rst', 'doc/source/roles/role-undercloud_disk_space.rst', 'doc/source/roles/role-frr_status.rst', 'README.rst', 'doc/source/roles/role-openstack_endpoints.rst', '.pre-commit-config.yaml', 'doc/source/roles/role-collect_flavors_and_verify_profiles.rst', 'doc/source/modules/modules-check_ironic_boot_config.rst', 'doc/source/modules/modules-pacemaker.rst', 'doc/source/roles/role-nova_status.rst', 'doc/source/roles/role-check_network_gateway.rst', 'releasenotes/notes/add-ceph-health-check-000bab9581c759d3.yaml', '.coveragerc', 'LICENSE', 'doc/source/modules/modules-ovs_dpdk_pmd_cpus_check.rst', 'doc/source/roles/role-pacemaker_status.rst', 'doc/source/roles/role-default_node_count.rst', 'doc/source/roles/role-neutron_sanity_check.rst', 'doc/source/modules/modules-check_flavors.rst', 'doc/source/roles/role-tls_everywhere.rst', 'doc/source/roles/role-stonith_exists.rst', 'doc/source/roles/role-openshift_on_openstack.rst', 'doc/source/roles/role-switch_vlans.rst', 'doc/source/modules/modules-check_other_processes_pmd_usage.rst', 'doc/source/roles/role-compute_tsx.rst', 'doc/source/modules/modules-ceph_pools_pg_protection.rst', 'doc/source/roles/role-nova_event_callback.rst', 'tox.ini', 'doc/source/roles/role-dhcp_validations.rst', 'doc/source/roles/role-ironic_boot_configuration.rst', 'doc/source/modules/modules-network_environment.rst', 'doc/source/modules/modules-get_dpdk_nics_numa_info.rst', 'doc/source/modules/modules-check_cpus_aligned_with_dpdk_nics.rst', 'doc/source/modules/modules-icmp_ping.rst', 'doc/source/roles/role-stack_health.rst', 'doc/source/roles/role-image_serve.rst', 'doc/source/roles/role-controller_token.rst', 'doc/source/roles/role-ctlplane_ip_range.rst', 'doc/source/modules/modules-convert_range_to_numbers_list.rst', 'doc/source/modules/modules-pmd_threads_siblings_check.rst', 'doc/source/roles.rst', 'doc/source/roles/role-undercloud_process_count.rst', 'doc/source/roles/role-node_disks.rst', 'doc/source/roles/role-mysql_open_files_limit.rst', 'doc/source/roles/role-ovs_dpdk_pmd.rst', 'doc/source/roles/role-undercloud_service_status.rst', 'doc/source/roles/role-overcloud_service_status.rst', 'doc/source/roles/role-repos.rst', 'doc/source/roles/role-controller_ulimits.rst', 'babel.cfg', 'doc/source/modules/modules-switch_vlans.rst', 'tests/hosts.ini', 'doc/source/modules/modules-verify_profiles.rst', 'doc/source/roles/role-node_health.rst', 'doc/source/roles/role-undercloud_debug.rst', 'doc/source/roles/role-ceph.rst', 'doc/source/modules/modules-node_disks.rst', 'doc/source/roles/role-undercloud_heat_purge_deleted.rst', 'doc/source/roles/role-network_environment.rst', 'doc/source/modules.rst', 'doc/source/modules/modules-overcloudrc.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/18dc3ca25474d55a850477aa7ecea2d4022e149a', 'message': ""Optimize linters executions from tox and pre-commit\n\nThis patch merges all the tox linters testenv into one. It also installs\nthe required Ansible collections with ansible-galaxy before executing\nansible-lint.\n\nMorever, the 'end-of-file-fixer' pre-commit hook is working again and\nthis patch is fixing all the related issues.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ib823c6c65b4853e951cb001a6eed354ba2127965\n(cherry picked from commit abe513cc90321df585689eb15bb9f0636274c179)\n""}]",1,821059,18dc3ca25474d55a850477aa7ecea2d4022e149a,17,3,5,11491,,,0,"Optimize linters executions from tox and pre-commit

This patch merges all the tox linters testenv into one. It also installs
the required Ansible collections with ansible-galaxy before executing
ansible-lint.

Morever, the 'end-of-file-fixer' pre-commit hook is working again and
this patch is fixing all the related issues.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ib823c6c65b4853e951cb001a6eed354ba2127965
(cherry picked from commit abe513cc90321df585689eb15bb9f0636274c179)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/59/821059/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-ip_range.rst', 'doc/source/roles/role-rabbitmq_limits.rst', 'test-requirements.txt', 'doc/source/roles/role-undercloud_disk_space.rst', 'doc/source/roles/role-frr_status.rst', 'README.rst', 'doc/source/roles/role-openstack_endpoints.rst', '.pre-commit-config.yaml', 'doc/source/roles/role-collect_flavors_and_verify_profiles.rst', 'doc/source/modules/modules-check_ironic_boot_config.rst', 'doc/source/modules/modules-pacemaker.rst', 'doc/source/roles/role-nova_status.rst', 'doc/source/roles/role-check_network_gateway.rst', 'releasenotes/notes/add-ceph-health-check-000bab9581c759d3.yaml', '.coveragerc', 'LICENSE', 'doc/source/modules/modules-ovs_dpdk_pmd_cpus_check.rst', 'doc/source/roles/role-pacemaker_status.rst', 'doc/source/roles/role-default_node_count.rst', 'doc/source/roles/role-neutron_sanity_check.rst', 'doc/source/modules/modules-check_flavors.rst', 'doc/source/roles/role-tls_everywhere.rst', 'doc/source/roles/role-stonith_exists.rst', 'doc/source/roles/role-openshift_on_openstack.rst', 'doc/source/roles/role-switch_vlans.rst', 'doc/source/modules/modules-check_other_processes_pmd_usage.rst', 'doc/source/roles/role-compute_tsx.rst', 'doc/source/modules/modules-ceph_pools_pg_protection.rst', 'doc/source/roles/role-nova_event_callback.rst', 'tox.ini', 'doc/source/roles/role-dhcp_validations.rst', 'doc/source/roles/role-ironic_boot_configuration.rst', 'doc/source/modules/modules-network_environment.rst', 'doc/source/modules/modules-get_dpdk_nics_numa_info.rst', 'doc/source/modules/modules-check_cpus_aligned_with_dpdk_nics.rst', 'doc/source/modules/modules-icmp_ping.rst', 'doc/source/roles/role-stack_health.rst', 'doc/source/roles/role-image_serve.rst', 'doc/source/roles/role-controller_token.rst', 'doc/source/roles/role-ctlplane_ip_range.rst', 'doc/source/modules/modules-convert_range_to_numbers_list.rst', 'doc/source/modules/modules-pmd_threads_siblings_check.rst', 'doc/source/roles.rst', 'doc/source/roles/role-undercloud_process_count.rst', 'doc/source/roles/role-node_disks.rst', 'doc/source/roles/role-mysql_open_files_limit.rst', 'doc/source/roles/role-ovs_dpdk_pmd.rst', 'doc/source/roles/role-undercloud_service_status.rst', 'doc/source/roles/role-overcloud_service_status.rst', 'doc/source/roles/role-repos.rst', 'doc/source/roles/role-controller_ulimits.rst', 'babel.cfg', 'doc/source/modules/modules-switch_vlans.rst', 'tests/hosts.ini', 'doc/source/modules/modules-verify_profiles.rst', 'doc/source/roles/role-node_health.rst', 'doc/source/roles/role-undercloud_debug.rst', 'doc/source/roles/role-ceph.rst', 'doc/source/modules/modules-node_disks.rst', 'doc/source/roles/role-undercloud_heat_purge_deleted.rst', 'doc/source/roles/role-network_environment.rst', 'doc/source/modules.rst']",62,5813fd264c584c6d3efa35125f402031275ab148,undercloud-debug,,,9,105
openstack%2Ftripleo-validations~stable%2Fwallaby~I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,openstack/tripleo-validations,stable/wallaby,I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure,MERGED,2022-01-11 09:41:32.000000000,2022-01-11 21:40:12.000000000,2022-01-11 21:40:12.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-11 09:41:32.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3257d51775f2dd7a15d6104a2c2892500c2e46b5', 'message': 'Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)\n'}]",0,824111,3257d51775f2dd7a15d6104a2c2892500c2e46b5,6,5,1,32926,,,0,"Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac
(cherry picked from commit 32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/11/824111/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,3257d51775f2dd7a15d6104a2c2892500c2e46b5,ansiblelintbump, - repo: https://github.com/ansible-community/ansible-lint rev: v5.3.2, - repo: https://github.com/ansible/ansible-lint.git rev: v5.0.3,2,2
openstack%2Ftripleo-heat-templates~master~I5f3b678b30f6375844c0a4b094432c9be9d8e444,openstack/tripleo-heat-templates,master,I5f3b678b30f6375844c0a4b094432c9be9d8e444,Disable metrics_qdr binding in HAProxyEdge,MERGED,2022-01-11 11:28:28.000000000,2022-01-11 21:40:09.000000000,2022-01-11 21:40:09.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-11 11:28:28.000000000', 'files': ['deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888', 'message': 'Disable metrics_qdr binding in HAProxyEdge\n\nHAProxyEdge disables most haproxy bindings.\nThe metrics_qdr binding is missing, likely due to the fact it was\ncreated after the HAProxyEdge service.\n\nChange-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444\n'}]",0,824145,4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888,9,5,1,23811,,,0,"Disable metrics_qdr binding in HAProxyEdge

HAProxyEdge disables most haproxy bindings.
The metrics_qdr binding is missing, likely due to the fact it was
created after the HAProxyEdge service.

Change-Id: I5f3b678b30f6375844c0a4b094432c9be9d8e444
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/824145/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-edge-container-puppet.yaml'],1,4362c14ce88ee4bbb36dd4da7c6dc6c32c8e6888,, tripleo::haproxy::metrics_qdr: false,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7,openstack/tripleo-heat-templates,stable/train,Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7,Remove ganesha_vip extra config workaround,MERGED,2022-01-06 23:48:16.000000000,2022-01-11 21:40:03.000000000,2022-01-11 21:40:03.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 23:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e01867fa9f400726785addb98c937214b2b31caa', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nRelated-Bug: #1911022\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n(cherry picked from commit 68cc95c3aff6402e3b741cf6ad7ca2f4b2330490)\n'}, {'number': 2, 'created': '2022-01-07 21:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6981583877fb8a154d5740cd2545bd796312e48', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/822044\n\nRelated-Bug: #1911022\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n(cherry picked from commit 68cc95c3aff6402e3b741cf6ad7ca2f4b2330490)\n'}, {'number': 3, 'created': '2022-01-10 23:41:22.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4274ea94d91a0c3000887703a7d3f4a4d37e2953', 'message': 'Remove ganesha_vip extra config workaround\n\nfor scenario004\n\nWe were using extra config to set ganesha_vip because it was unset\nif the isolated StorageNFS network is not deployed, as it is with\nStandalone deployment in CI.\n\nNow it is set, and set to an address on the external net where guest\nVMs can reach it.\n\nRelated-Bug: #1911022\nChange-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7\n(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)\n(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)\n(cherry picked from commit 68cc95c3aff6402e3b741cf6ad7ca2f4b2330490)\n'}]",6,823750,4274ea94d91a0c3000887703a7d3f4a4d37e2953,20,5,3,9003,,,0,"Remove ganesha_vip extra config workaround

for scenario004

We were using extra config to set ganesha_vip because it was unset
if the isolated StorageNFS network is not deployed, as it is with
Standalone deployment in CI.

Now it is set, and set to an address on the external net where guest
VMs can reach it.

Related-Bug: #1911022
Change-Id: Ic20b3aaccc18c19973a07798f20a63ac9d5c0bb7
(cherry picked from commit 8b07db1979fe6b31646ee54a7a881ed0ad51385f)
(cherry picked from commit 43c28e9c2a2fc9d81d85f0ebc9c08dc635cdd9fe)
(cherry picked from commit 68cc95c3aff6402e3b741cf6ad7ca2f4b2330490)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/823750/3 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,e01867fa9f400726785addb98c937214b2b31caa,,, # Workaround for https://bugs.launchpad.net/tripleo/+bug/1911022 ExtraConfig: ganesha_vip: 192.168.24.3,0,3
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I3aa42a8b34fc803c4a20ef0522a734d3a68a3fd8,openstack/tripleo-upgrade,stable/wallaby,I3aa42a8b34fc803c4a20ef0522a734d3a68a3fd8,Fix services stack export to respect overcloud stack name,MERGED,2022-01-11 10:04:08.000000000,2022-01-11 21:40:00.000000000,2022-01-11 21:40:00.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-01-11 10:04:08.000000000', 'files': ['tasks/common/auxilary-facts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/92042bc9acf36048cf23d2bbd343a3a756ce11fb', 'message': 'Fix services stack export to respect overcloud stack name\n\nFix path for stack export in order to be able to export stack with\ncustom name provided by user.\n\nChange-Id: I3aa42a8b34fc803c4a20ef0522a734d3a68a3fd8\n(cherry picked from commit d4bde4d09d3d0cc9daa428101ba46e5d80151e1f)\n'}]",0,824021,92042bc9acf36048cf23d2bbd343a3a756ce11fb,6,4,1,33080,,,0,"Fix services stack export to respect overcloud stack name

Fix path for stack export in order to be able to export stack with
custom name provided by user.

Change-Id: I3aa42a8b34fc803c4a20ef0522a734d3a68a3fd8
(cherry picked from commit d4bde4d09d3d0cc9daa428101ba46e5d80151e1f)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/824021/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/auxilary-facts.yaml'],1,92042bc9acf36048cf23d2bbd343a3a756ce11fb,overcloud_stack_name_fix-stable/wallaby," e = yaml.safe_load(open(""{{ working_dir }}/overcloud-deploy/{{ overcloud_stack_name }}/{{ overcloud_stack_name }}-export.yaml""))"," e = yaml.safe_load(open(""{{ working_dir }}/overcloud-deploy/overcloud/overcloud-export.yaml""))",1,1
openstack%2Ftripleo-quickstart-extras~master~I39c00edd97e321963d1ced74dcf5a2a27fa032cc,openstack/tripleo-quickstart-extras,master,I39c00edd97e321963d1ced74dcf5a2a27fa032cc,set NovaLibvirtNumPciePorts to 12,MERGED,2021-12-20 17:05:19.000000000,2022-01-11 21:39:54.000000000,2022-01-11 21:39:54.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-20 17:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c115b6a1818d4ae8bc32d19f45dda9cd4f4a3333', 'message': '[DNM] set NovaLibvirtNumPciePorts for all distro.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I39c00edd97e321963d1ced74dcf5a2a27fa032cc\n'}, {'number': 2, 'created': '2021-12-21 09:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/566bde28d59939492df257bb7670f92c06106e14', 'message': 'set NovaLibvirtNumPciePorts for all distro.\n\nRelated-Bug: #1950916\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I39c00edd97e321963d1ced74dcf5a2a27fa032cc\n'}, {'number': 3, 'created': '2022-01-04 07:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f554c6efd21c789a0e0d12b28ae8bc42a9fbc884', 'message': 'set NovaLibvirtNumPciePorts to 12\n\nNew qemu-kvm-6.1.0 version is buggy version and excluded\nfrom CI (Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b,\nIac4425d655df2f519f5b467e3754dad08ac9b1f5).\nNew version was impacted q35 machines for CentOS-8 and Stream-9.\n\nqemu-kvm-6.1.0 + NovaLibvirtNumPciePorts: 12 + q35 instances\nfor CentOS8 and Stream works fine.\n\nRelated-Bug: #1950916\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I39c00edd97e321963d1ced74dcf5a2a27fa032cc\n'}, {'number': 4, 'created': '2022-01-04 08:08:01.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2', 'roles/overcloud-deploy/templates/config-download.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/37a64ea0ca7d5f409dd46b38a534a4a863041ce9', 'message': 'set NovaLibvirtNumPciePorts to 12\n\nNew qemu-kvm-6.1.0 version is buggy version and excluded in master\nand wallaby (Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b,\nIac4425d655df2f519f5b467e3754dad08ac9b1f5).\nNew version was impacted q35 machines for CentOS-8 and Stream-9.\n\nqemu-kvm-6.1.0 + NovaLibvirtNumPciePorts: 12 + q35 instances\nfor CentOS8 and Stream works fine.\n\nRelated-Bug: #1950916\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I39c00edd97e321963d1ced74dcf5a2a27fa032cc\n'}]",10,822344,37a64ea0ca7d5f409dd46b38a534a4a863041ce9,33,10,4,30750,,,0,"set NovaLibvirtNumPciePorts to 12

New qemu-kvm-6.1.0 version is buggy version and excluded in master
and wallaby (Ia6a9e01ca2adbde1e7a0b7cce9fe5842a0d54b1b,
Iac4425d655df2f519f5b467e3754dad08ac9b1f5).
New version was impacted q35 machines for CentOS-8 and Stream-9.

qemu-kvm-6.1.0 + NovaLibvirtNumPciePorts: 12 + q35 instances
for CentOS8 and Stream works fine.

Related-Bug: #1950916
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I39c00edd97e321963d1ced74dcf5a2a27fa032cc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/822344/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/templates/standalone_config.yaml.j2', 'roles/overcloud-deploy/templates/config-download.yaml.j2']",2,c115b6a1818d4ae8bc32d19f45dda9cd4f4a3333,lp1950916,,"{% if ansible_distribution_major_version is version(9, '>=') %}{% endif %}",0,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ice5d00a8fab57a8533df287fc0ab98c84eb2cc2d,openstack/tripleo-heat-templates,stable/wallaby,Ice5d00a8fab57a8533df287fc0ab98c84eb2cc2d,Enable enable_proxy_headers_parsing in Designate API,MERGED,2022-01-05 00:07:58.000000000,2022-01-11 21:39:51.000000000,2022-01-11 21:39:51.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 00:07:58.000000000', 'files': ['deployment/designate/designate-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8aa1130af1b72f705644dbbae32e0373fb2c705d', 'message': 'Enable enable_proxy_headers_parsing in Designate API\n\n... so that Designate API can detect the actual endpoint and client\nip.\n\nDepends-on: https://review.opendev.org/823243\nChange-Id: Ice5d00a8fab57a8533df287fc0ab98c84eb2cc2d\n(cherry picked from commit ccacb548e2213a154db8e81a673225bfa98e3438)\n'}]",1,823368,8aa1130af1b72f705644dbbae32e0373fb2c705d,16,5,1,9816,,,0,"Enable enable_proxy_headers_parsing in Designate API

... so that Designate API can detect the actual endpoint and client
ip.

Depends-on: https://review.opendev.org/823243
Change-Id: Ice5d00a8fab57a8533df287fc0ab98c84eb2cc2d
(cherry picked from commit ccacb548e2213a154db8e81a673225bfa98e3438)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/823368/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-api-container-puppet.yaml'],1,8aa1130af1b72f705644dbbae32e0373fb2c705d,designate-proxy-headers," - designate::api::enable_proxy_headers_parsing: true designate::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri] }"," - designate::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri] }",2,1
openstack%2Ftripleo-validations~master~I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,openstack/tripleo-validations,master,I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac,Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure,MERGED,2022-01-11 07:59:05.000000000,2022-01-11 21:39:49.000000000,2022-01-11 21:39:49.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-11 07:59:05.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8', 'message': 'Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac\n'}]",1,824089,32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8,7,6,1,32926,,,0,"Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9b17582c3ec1fc1a7e6223f5fcf9f47471f4c1ac
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/89/824089/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,32e9e9e16eb7c4f7790e1e2915a48e5d9b4ec2d8,ansiblelintbump, rev: v5.3.2, rev: v5.0.8,1,1
openstack%2Fvalidations-common~master~Iaceab14572a15ac7b727eb428c7c50158dbe272a,openstack/validations-common,master,Iaceab14572a15ac7b727eb428c7c50158dbe272a,Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure,MERGED,2022-01-11 07:48:51.000000000,2022-01-11 21:39:47.000000000,2022-01-11 21:39:47.000000000,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-11 07:48:51.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/558200c8d854c7dfa74783b33e196029542fee70', 'message': 'Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iaceab14572a15ac7b727eb428c7c50158dbe272a\n'}]",0,824088,558200c8d854c7dfa74783b33e196029542fee70,7,5,1,32926,,,0,"Bumping the ansible-lint version to 5.3.2 in order to resolve CI failure

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iaceab14572a15ac7b727eb428c7c50158dbe272a
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/88/824088/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,558200c8d854c7dfa74783b33e196029542fee70,ansiblelintbump, rev: v5.3.2, rev: v5.0.8,1,1
openstack%2Ftripleo-heat-templates~master~I48f72a90fb4cfeb933e4107c74960da16d25c249,openstack/tripleo-heat-templates,master,I48f72a90fb4cfeb933e4107c74960da16d25c249,Add show all host_status policy to scn001,MERGED,2021-11-24 09:12:43.000000000,2022-01-11 21:39:44.000000000,2022-01-11 21:39:44.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-11-24 09:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e45fd8354e198f5b5faeda92646bb05511a7d53', 'message': 'Add show all host_status policy to scn001\n\nChange-Id: I48f72a90fb4cfeb933e4107c74960da16d25c249\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-11-26 10:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38265b84a2ac8c6b5ac68ce6f834d2b6ccc4bc23', 'message': 'Add show all host_status policy to scn001\n\nDepends-on: https://review.opendev.org/818590\nChange-Id: I48f72a90fb4cfeb933e4107c74960da16d25c249\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-01-06 17:47:23.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b11c78a02521a39d3a587f4db1b0f37a3b903238', 'message': 'Add show all host_status policy to scn001\n\nDepends-on: https://review.opendev.org/818590\nChange-Id: I48f72a90fb4cfeb933e4107c74960da16d25c249\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,819080,b11c78a02521a39d3a587f4db1b0f37a3b903238,17,8,3,6926,,,0,"Add show all host_status policy to scn001

Depends-on: https://review.opendev.org/818590
Change-Id: I48f72a90fb4cfeb933e4107c74960da16d25c249
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/819080/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,3e45fd8354e198f5b5faeda92646bb05511a7d53,, NovaShowHostStatus: all NovaApiHostStatusPolicy: > (role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s),,3,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4ac9210f6533e6826b2814f72b7271b43fdca267,openstack/tripleo-heat-templates,stable/ussuri,I4ac9210f6533e6826b2814f72b7271b43fdca267,Add chrony waitsync back in,MERGED,2021-12-21 14:38:13.000000000,2022-01-11 21:39:39.000000000,2022-01-11 21:39:39.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-12-21 14:38:13.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69f283014f7e9b6ec252a96986f8bb68fe16b023', 'message': 'Add chrony waitsync back in\n\nThis is a revert of 373a27163e0365919f707604df5b61863029d2e4 because\nmakestep does not fail if the ntp servers are unavailable. This change\nadds waitsync back in so it fails if the servers are unavilable but\nleaves the makestep in place which should force the sync.  If the\nservers are unavailable, the waitsync should catch it. If they are\navailable waitsync should be a relative noop because the makestep would\nsync the system.  The waitsync has been increased to 5 minutes (from 200\nseconds). waitsync will wait 30 times with an interval of 10 seconds\nbetween checks.\n\nCloses-Bug: #1955414\nChange-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267\n(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)\n'}]",0,822510,69f283014f7e9b6ec252a96986f8bb68fe16b023,11,5,1,14985,,,0,"Add chrony waitsync back in

This is a revert of 373a27163e0365919f707604df5b61863029d2e4 because
makestep does not fail if the ntp servers are unavailable. This change
adds waitsync back in so it fails if the servers are unavilable but
leaves the makestep in place which should force the sync.  If the
servers are unavailable, the waitsync should catch it. If they are
available waitsync should be a relative noop because the makestep would
sync the system.  The waitsync has been increased to 5 minutes (from 200
seconds). waitsync will wait 30 times with an interval of 10 seconds
between checks.

Closes-Bug: #1955414
Change-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267
(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/822510/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml']",2,69f283014f7e9b6ec252a96986f8bb68fe16b023,bug/1955414-stable/ussuri, chronyc waitsync 30,,4,1
openstack%2Ftripleo-docs~master~Ib088853c1235c8aebb17a627368d905f46be5b35,openstack/tripleo-docs,master,Ib088853c1235c8aebb17a627368d905f46be5b35,Fixed duplicated word,MERGED,2022-01-05 16:47:22.000000000,2022-01-11 21:33:07.000000000,2022-01-11 21:30:59.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 16:47:22.000000000', 'files': ['deploy-guide/source/environments/baremetal.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f2938edd63065c27c9bfe2f9e4c0d4319b2fb1b1', 'message': 'Fixed duplicated word\n\nDocumentation contained duplicated ""have"" word.\nRemoved extra one.\n\nChange-Id: Ib088853c1235c8aebb17a627368d905f46be5b35\n'}]",0,823562,f2938edd63065c27c9bfe2f9e4c0d4319b2fb1b1,8,3,1,14611,,,0,"Fixed duplicated word

Documentation contained duplicated ""have"" word.
Removed extra one.

Change-Id: Ib088853c1235c8aebb17a627368d905f46be5b35
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/62/823562/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/environments/baremetal.rst'],1,f2938edd63065c27c9bfe2f9e4c0d4319b2fb1b1,typo_fix,"The overcloud nodes will be deployed from the undercloud machine and therefore the machines need to have their network settings modified to allow for the overcloud nodes to be PXE boot'ed using the undercloud machine. As such, the setup requires that:","The overcloud nodes will be deployed from the undercloud machine and therefore the machines need to have have their network settings modified to allow for the overcloud nodes to be PXE boot'ed using the undercloud machine. As such, the setup requires that:",1,1
openstack%2Fplacement~master~Ibada21dcabbb3824c8d9fdb7584d45abf844be68,openstack/placement,master,Ibada21dcabbb3824c8d9fdb7584d45abf844be68,Spec: support mixing required traits with any traits,MERGED,2019-04-02 15:27:21.000000000,2022-01-11 21:08:00.000000000,2022-01-11 21:05:36.000000000,"[{'_account_id': 1063}, {'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-02 15:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/c6599dbe22f8c20f0b5098904485bc7f02ac6769', 'message': ""Spec: support mixing required traits with any traits\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.\n\nThis is the same, with the only change to update the history\ntable.\n\nWhile the primary assignee is listed as gibi, he's expressed\nsome reservations about being able to address this, so as\npart of the review process we may wish to choose someone\nelse.\n\nStory: 2005345\nTask: 30295\nChange-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68\n""}, {'number': 2, 'created': '2019-04-04 13:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/6ce75e6ebc12892d5c92ed96d92fa3fc977d18f6', 'message': ""Spec: support mixing required traits with any traits\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.\n\nThis is the same, with the only change to update the history\ntable.\n\nWhile the primary assignee is listed as gibi, he's expressed\nsome reservations about being able to address this, so as\npart of the review process we may wish to choose someone\nelse.\n\nPreviously-Approved: Stein\nStory: 2005345\nTask: 30295\nChange-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68\n""}, {'number': 3, 'created': '2019-04-04 13:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/aa6afb0cf0974bc655b3f13cbff7b289d4bfed9a', 'message': ""Spec: support mixing required traits with any traits\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.\n\nThis is the same, with the only change to update the history\ntable.\n\nWhile the primary assignee is listed as gibi, he's expressed\nsome reservations about being able to address this, so as\npart of the review process we may wish to choose someone\nelse.\n\nPreviously-Approved: Stein\nStory: 2005345\nTask: 30295\nChange-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68\n""}, {'number': 4, 'created': '2021-11-29 16:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3598b110689f2d7c123d1a8aece7f31ee68679b4', 'message': 'Spec: support mixing required traits with any traits\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.\n\nPreviously-Approved: Stein\nStory: 2005345\nTask: 30295\nChange-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68\n'}, {'number': 5, 'created': '2021-11-29 17:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e7522bf3423c2f0134fa18c8a8b280b6e2dff04a', 'message': 'Spec: support mixing required traits with any traits\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.\n\nPreviously-Approved: Stein\nStory: 2005345\nTask: 30295\nChange-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68\n'}, {'number': 6, 'created': '2021-11-30 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1a3da3d2a101b88693dd0860e9b6f99c2fb529cc', 'message': 'Spec: support mixing required traits with any traits\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.\n\nPreviously-Approved: Stein\nStory: 2005345\nTask: 30295\nChange-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68\n'}, {'number': 7, 'created': '2021-11-30 14:17:26.000000000', 'files': ['doc/source/specs/yoga/approved/2005345-placement-mixing-required-traits-with-any-traits.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/fb71123aa1fa589e2b7a015c453b2b5040ba7d0a', 'message': 'Spec: support mixing required traits with any traits\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.\n\nPreviously-Approved: Stein\nStory: 2005345\nTask: 30295\nChange-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68\n'}]",12,649368,fb71123aa1fa589e2b7a015c453b2b5040ba7d0a,35,7,7,11564,,,0,"Spec: support mixing required traits with any traits

This is a reproposal of a nova spec to placement, originally
proposed in I9695f0cb2c0263cd0e8ca552d3a9dd720690e466.

Previously-Approved: Stein
Story: 2005345
Task: 30295
Change-Id: Ibada21dcabbb3824c8d9fdb7584d45abf844be68
",git fetch https://review.opendev.org/openstack/placement refs/changes/68/649368/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/approved/2005345-placement-mixing-required-traits-with-any-traits.rst'],1,c6599dbe22f8c20f0b5098904485bc7f02ac6769,any-traits-support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Support mixing required traits with any traits ============================================== https://blueprints.launchpad.net/nova/+spec/mixing-required-traits-with-any-traits The `any-traits-in-allocation-candidates-query`_ spec proposed to allow querying traits in the form of ``required=in:TRAIT1,TRAIT2``. This spec goes one step further and proposes to allow repeating the ``required`` query parameter to support mixing both ``required=TRAIT1,TRAIT2,!TRAIT3`` and ``required=in:TRAIT1,TRAIT2`` format in a single query. This is needed for Neutron to be able to express that a port needs a resource provider having a specific ``vnic_type`` trait but also having one of the physnet traits the port's network maps to. For example:: GET /allocation_candidates?required1=CUSTOM_VNIC_TYPE_DIRECT& required1=in:CUSTOM_PHYSNET_FOO,CUSTOM_PHYSNET_BAR ... requests a networking device RP in the candidates that supports the ``direct`` ``vnic_type`` and is connected either to ``physnet_foo`` or ``physnet_bar`` or both. Problem description =================== Neutron through Nova needs to be able to query Placement for allocation candidates that are matching to *at least one* trait from the list of traits as well as matching another specific trait in a single query. Use Cases --------- Neutron wants to use this any(traits) query to express that a port's bandwidth resource request needs to be fulfilled by a Network device RP that is connected to one of the physnets the network of the given port is connected to. With Neutron's multiprovider network extension a single Neutron network can consist of multiple network segments connected to different physnets. But at the same time Neutron wants to express that the same RP has a specific vnic_type trait as well. Proposed change =============== Extend the ``GET /allocation_candidates`` and ``GET /resource_providers`` requests to allow repeating the ``required`` and ``required<N>`` query param to support both the ``required=TRAIT1,TRAIT2,!TRAIT3`` and ``required=in:TRAIT1,TRAIT2`` syntax in a single query. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- In a new microversion the ``GET /allocation_candidates`` and the ``GET /resource_providers`` query should allow repeating the ``required`` query parameter more than once while supporting both normal and any trait syntax in the same query. The ``GET /allocation_candidates`` query having ``required=CUSTOM_VNIC_TYPE_NORMAL& required=in:CUSTOM_PHYSNET1,CUSTOM_PHYSNET2`` parameters should result in allocation candidates where each allocation candidate has the traits ``CUSTOM_VNIC_TYPE_NORMAL`` and either ``CUSTOM_PHYSNET1`` or ``CUSTOM_PHYSNET2`` (or both). The ``GET /resource_providers`` query having ``required=CUSTOM_VNIC_TYPE_NORMAL& required=in:CUSTOM_PHYSNET1,CUSTOM_PHYSNET2`` parameters should result in resource providers where each resource provider has the traits ``CUSTOM_VNIC_TYPE_NORMAL`` and either ``CUSTOM_PHYSNET1`` or ``CUSTOM_PHYSNET2`` (or both). The response body of the ``GET /allocation_candidates`` and ``GET /resource_providers`` query are unchanged. Note the following two queries express exactly the same requirements:: ?required=in:A,B,C &required=X &required=Y &required=Z ?required=in:A,B,C &required=X,Y,Z Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The osc-placement client plugin needs to be updated to support the new Placement API microversion. This means the the CLI should support providing the ``--required`` parameter more than once supporting both normal and any trait syntax. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: balazs-gibizer Work Items ---------- * Extend the resource provider and allocation candidate DB query to support more than one set of required traits * Extend the Placement REST API with a new microversion that supports repeating the ``required`` query param * Extend the osc-placement client plugin to support the new microversion Dependencies ============ * The `any-traits-in-allocation-candidates-query`_ spec .. _`any-traits-in-allocation-candidates-query`: https://review.openstack.org/#/c/565730 Testing ======= Both new gabbi and functional tests needs to be written for the Placement API change. Also the osc-placement client plugin will need additional functional test coverage. Documentation Impact ==================== The Placement API reference needs to be updated. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced * - Stein - Reproposed * - Train - Reproposed ",,196,0
openstack%2Fplacement~master~I0e47b654d5bdae1125737cf54d9c301bdba3236f,openstack/placement,master,I0e47b654d5bdae1125737cf54d9c301bdba3236f,Spec: support any trait in allocation candidates,MERGED,2019-04-04 13:31:52.000000000,2022-01-11 21:04:51.000000000,2022-01-11 21:02:38.000000000,"[{'_account_id': 4690}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 13:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/6c1252495c498e429c0bdf9cb3a4c5a718132382', 'message': ""Spec: support any trait in allocation candidates\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I57c5611d7443070c176d213118857261b37eca0c\n\nThis is the same, with the only changes to update the history\ntable and link to storyboard.\n\nWhile the primary assignee is listed as gibi, he's expressed\nsome reservations about being able to address this, so as\npart of the review process we may wish to choose someone\nelse.\n\nChange-Id: I0e47b654d5bdae1125737cf54d9c301bdba3236f\nPreviously-Approved: Stein\nStory: 2005346\nTask: 30296\n""}, {'number': 2, 'created': '2021-11-29 16:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1aaec697016e61db17d114737d4d9d7cac6e4492', 'message': 'Spec: support any trait in allocation candidates\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I57c5611d7443070c176d213118857261b37eca0c\n\nChange-Id: I0e47b654d5bdae1125737cf54d9c301bdba3236f\nPreviously-Approved: Stein\nStory: 2005346\nTask: 30296\n'}, {'number': 3, 'created': '2021-11-29 17:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/aa083f3ad42ea0e28560a655816fe3da741d6a0d', 'message': 'Spec: support any trait in allocation candidates\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I57c5611d7443070c176d213118857261b37eca0c\n\nChange-Id: I0e47b654d5bdae1125737cf54d9c301bdba3236f\nPreviously-Approved: Stein\nStory: 2005346\nTask: 30296\n'}, {'number': 4, 'created': '2021-11-30 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a2dd6c7ccd3f9a958f2fbcf7c8b4b11aa571fcd3', 'message': 'Spec: support any trait in allocation candidates\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I57c5611d7443070c176d213118857261b37eca0c\n\nChange-Id: I0e47b654d5bdae1125737cf54d9c301bdba3236f\nPreviously-Approved: Stein\nStory: 2005346\nTask: 30296\n'}, {'number': 5, 'created': '2021-11-30 14:17:26.000000000', 'files': ['doc/source/specs/yoga/approved/2005346-any-traits-in-allocation_candidates-query.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/f7422e277bf1c4cb58314b1f67a286dcafa180b4', 'message': 'Spec: support any trait in allocation candidates\n\nThis is a reproposal of a nova spec to placement, originally\nproposed in I57c5611d7443070c176d213118857261b37eca0c\n\nChange-Id: I0e47b654d5bdae1125737cf54d9c301bdba3236f\nPreviously-Approved: Stein\nStory: 2005346\nTask: 30296\n'}]",13,649992,f7422e277bf1c4cb58314b1f67a286dcafa180b4,32,7,5,11564,,,0,"Spec: support any trait in allocation candidates

This is a reproposal of a nova spec to placement, originally
proposed in I57c5611d7443070c176d213118857261b37eca0c

Change-Id: I0e47b654d5bdae1125737cf54d9c301bdba3236f
Previously-Approved: Stein
Story: 2005346
Task: 30296
",git fetch https://review.opendev.org/openstack/placement refs/changes/92/649992/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/approved/2005346-any-traits-in-allocation_candidates-query.rst'],1,6c1252495c498e429c0bdf9cb3a4c5a718132382,any-traits-support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Support any traits in allocation_candidates query ================================================= https://storyboard.openstack.org/#!/story/2005346 The ``GET /allocation_candidates`` request in Placement supports the ``required`` query parameter. If the caller specifies a list of traits in the ``required`` parameter then placement will limit the returned allocation candidates to those RP trees that fulfill *every* traits in that list. To support minimum bandwidth guarantees in Neutron + Nova we need to be able to query allocation candidates that fulfill *at least one* trait from a list of traits specified in the query. This is required for the case when a Neutron network maps to more than one physnets but the port's bandwidth request can be fulfilled from any physnet the port's network maps to. Problem description =================== Neutron through Nova needs to be able to query Placement for allocation candidates that are matching to *at least one* trait from the list of traits provided in the query. Use Cases --------- Neutron wants to use this any(traits) query to express that a port's bandwidth resource request needs to be fulfilled by a Network device RP that is connected to one of the physnets the network of the given port is connected to. With Neutron's multiprovider network extension a single Neutron network can consist of multiple network segments connected to different physnets. Proposed change =============== Extend the ``GET /allocation_candidates`` and ``GET /resource_providers`` requests with a new ``required=in:TRAIT1,TRAIT2`` query parameter syntax and change the placement implementation to support this new syntax. The `granular-resource-requests`_ spec proposes support for multiple request groups in the Placement query identified by a positive integer postfix in the ``required`` query param. The new ``in:TRAIT1,TRAIT2`` syntax is applicable to the ``required<N>`` query params as well. .. _`granular-resource-requests`: https://specs.openstack.org/openstack/nova-specs/specs/rocky/approved/granular-resource-requests.html Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Today the ``GET /allocation_candidates`` and ``GET /resource_providers`` query support the ``required`` query param in the form of ``required=TRAIT1,TRAIT2,!TRAIT3``. This spec proposes to implement a new microversion to allow the format of ``required=in:TRAIT1,TRAIT2`` as well as the old format. Each resource provider returned from a request having ``required=in:TRAIT1,TRAIT2`` should have *at least* one matching trait from TRAIT1 and TRAIT2. ``required=in:TRAIT1,TRAIT2`` used in a ``GET /allocation_candidates`` query means that the union of all the traits across all the providers in every allocation candidate must contain at least one of T1, T2. ``requiredX=in:TRAIT1,TRAIT2`` used in a ``GET /allocation_candidates`` query means that the resource provider that satisfies the requirement of the granular request group ``X`` must also has at least one of T1, T2. The response body of the ``GET /allocation_candidates`` and ``GET /resource_providers`` query are unchanged. A separate subsequent spec will propose to support repeating the ``required`` query param more than once to allow mixing the two formats. Note that mixing required and forbidden trait requirements in the same ``required=in:`` query param, like ``required=in:TRAIT1,!TRAIT2`` will not be supported and will result a HTTP 400 response. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The osc-placement client plugin needs to be updated to support the new Placement API microversion. That plugin currently support the --required CLI parameter accepting a list of traits. So this patch propose to extend that parameter to accept in:TRAIT1,TRAIT2 format. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: balazs-gibizer Work Items ---------- * Extend the resource provider and allocation candidate DB query to support the new type of query * Extend the Placement REST API with a new microversion that supports the any trait syntax * Extend the osc-placement client plugin to support the new microversion Dependencies ============ * the osc-placement client plugin can only be extended with the new microversion support if every older microversion is already supported which is not the case today. Testing ======= Both new gabbi and functional tests needs to be written for the Placement API change. Also the osc-placement client plugin will need additional functional test coverage. Documentation Impact ==================== The Placement API reference needs to be updated. References ========== * osc-placement `review`_ series adding support for latest Placement microversions .. _`review`: https://review.openstack.org/#/c/548326 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced * - Stein - Reproposed * - Train - Reproposed ",,190,0
openstack%2Fironic-python-agent-builder~stable%2Fxena~I31f6d4f080afd93ae067c37348e9ef570f0a34d4,openstack/ironic-python-agent-builder,stable/xena,I31f6d4f080afd93ae067c37348e9ef570f0a34d4,Replace genisoimage with xorriso,MERGED,2022-01-06 07:58:12.000000000,2022-01-11 21:03:01.000000000,2022-01-11 21:00:48.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 07:58:12.000000000', 'files': ['dib/ironic-python-agent-ramdisk/pkg-map'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/f9e763008a3e86439b408b878b54f15443613ec8', 'message': 'Replace genisoimage with xorriso\n\ngenisoimage has been removed from RHEL-9 and is replaced with\nxorriso.\n\nThis patch updates the package map to xorriso instead of\nreplacing the genisoimage key map to avoid the breakage for\nother distros.\n\nCloses-Bug: #1953013\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I31f6d4f080afd93ae067c37348e9ef570f0a34d4\n(cherry picked from commit 811d9ff9e55b6d79d1f086880442d64788a8fdd5)\n'}]",0,823601,f9e763008a3e86439b408b878b54f15443613ec8,9,4,1,34208,,,0,"Replace genisoimage with xorriso

genisoimage has been removed from RHEL-9 and is replaced with
xorriso.

This patch updates the package map to xorriso instead of
replacing the genisoimage key map to avoid the breakage for
other distros.

Closes-Bug: #1953013

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I31f6d4f080afd93ae067c37348e9ef570f0a34d4
(cherry picked from commit 811d9ff9e55b6d79d1f086880442d64788a8fdd5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/01/823601/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/pkg-map'],1,f9e763008a3e86439b408b878b54f15443613ec8,cs9-stable/xena," ""genisoimage"": ""xorriso"",",,1,0
openstack%2Frequirements~master~I64a3afb7873466eba295487310e10f144f8f2009,openstack/requirements,master,I64a3afb7873466eba295487310e10f144f8f2009,update fasteners to 0.16.3,MERGED,2021-08-11 14:28:24.000000000,2022-01-11 20:56:52.000000000,2022-01-11 20:54:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 14:28:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2acbcac675baccf5f2aada58078b113cb0cd2a82', 'message': 'update fasteners to 0.16.3\n\nChange-Id: I64a3afb7873466eba295487310e10f144f8f2009\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,804246,2acbcac675baccf5f2aada58078b113cb0cd2a82,20,2,1,14288,,,0,"update fasteners to 0.16.3

Change-Id: I64a3afb7873466eba295487310e10f144f8f2009
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/804246/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2acbcac675baccf5f2aada58078b113cb0cd2a82,,fasteners===0.16.3,fasteners===0.14.1,1,1
openstack%2Frequirements~master~I42e577817b7fd2f566faba9b88eff5536bf2a847,openstack/requirements,master,I42e577817b7fd2f566faba9b88eff5536bf2a847,DNM: things that break keystone,ABANDONED,2022-01-05 03:12:54.000000000,2022-01-11 20:56:38.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 03:12:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/53b986d4ba6f365c1c2b90055b5d893bcc5afe0b', 'message': 'DNM: things that break keystone\n\nChange-Id: I42e577817b7fd2f566faba9b88eff5536bf2a847\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,823471,53b986d4ba6f365c1c2b90055b5d893bcc5afe0b,5,2,1,14288,,,0,"DNM: things that break keystone

Change-Id: I42e577817b7fd2f566faba9b88eff5536bf2a847
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/823471/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,53b986d4ba6f365c1c2b90055b5d893bcc5afe0b,things-that-break-keystone,pysaml2===7.1.0,pysaml2===7.0.1,1,1
openstack%2Frequirements~master~I89f63e24384da6da2b5d7602aafaa6abed454af3,openstack/requirements,master,I89f63e24384da6da2b5d7602aafaa6abed454af3,DNM: Things that break nova,ABANDONED,2022-01-05 03:12:21.000000000,2022-01-11 20:56:33.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 03:12:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/967854134006fb59b3c3a59d9c93eb532569c519', 'message': 'DNM: Things that break nova\n\nChange-Id: I89f63e24384da6da2b5d7602aafaa6abed454af3\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,823470,967854134006fb59b3c3a59d9c93eb532569c519,5,2,1,14288,,,0,"DNM: Things that break nova

Change-Id: I89f63e24384da6da2b5d7602aafaa6abed454af3
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/823470/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,967854134006fb59b3c3a59d9c93eb532569c519,things-that-break-nova,fasteners===0.16.3,fasteners===0.14.1,1,1
openstack%2Fswift~master~I8284074a11d48659c863eafd833a10db951c48c2,openstack/swift,master,I8284074a11d48659c863eafd833a10db951c48c2,DNM: add a probetest for MPU expiration,ABANDONED,2021-12-17 18:21:06.000000000,2022-01-11 20:46:22.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-17 18:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4d48077a9882aff423e8530a6ff7dffbf4c317f8', 'message': ""DNM: add a probetest for MPU expiration\n\nWe're planning to try some different implemenations of expiring MPUs\nthis test will fail w/o the other changes in this chain.\n\nTODO:\n\n  * add another test where manifests are written to handoffs\n\nChange-Id: I8284074a11d48659c863eafd833a10db951c48c2\n""}, {'number': 2, 'created': '2021-12-20 18:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a2b3add9226b996c40be80a9274e4795887ee171', 'message': ""DNM: add a probetest for MPU expiration\n\nWe're planning to try some different implemenations of expiring MPUs\nthis test will fail w/o the other changes in this chain.\n\nTODO:\n\n  * add another test where manifests are written to handoffs\n\nChange-Id: I8284074a11d48659c863eafd833a10db951c48c2\n""}, {'number': 3, 'created': '2021-12-20 22:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/768dc510d29295651bba1f1542cb2e36ada0d301', 'message': ""DNM: add a probetest for MPU expiration\n\nWe're planning to try some different implemenations of expiring MPUs\nthis test will fail w/o the other changes in this chain.\n\nTODO:\n\n  * add another test where manifests are written to handoffs\n\nChange-Id: I8284074a11d48659c863eafd833a10db951c48c2\n""}, {'number': 4, 'created': '2021-12-21 02:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92b5a647cf4127971e06baa56c8dca029f7b3dd9', 'message': ""DNM: add a probetest for MPU expiration\n\nWe're planning to try some different implemenations of expiring MPUs\nthis test will fail w/o the other changes in this chain.\n\nTODO:\n\n  * add another test where manifests are written to handoffs\n\nChange-Id: I8284074a11d48659c863eafd833a10db951c48c2\n""}, {'number': 5, 'created': '2021-12-21 16:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3dd11971dcfdc118b22ab2b5a7d703d2c0288d36', 'message': ""DNM: add a probetest for MPU expiration\n\nWe're planning to try some different implemenations of expiring MPUs\nthis test will fail w/o the other changes in this chain.\n\nTODO:\n\n  * add another test where manifests are written to handoffs\n\nChange-Id: I8284074a11d48659c863eafd833a10db951c48c2\n""}, {'number': 6, 'created': '2022-01-06 22:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e28abdeea18fb283f6d74d7b432aa37165c642c1', 'message': ""DNM: add a probetest for MPU expiration\n\nWe're planning to try some different implemenations of expiring MPUs\nthis test will fail w/o the other changes in this chain.\n\nTODO:\n\n  * add another test where manifests are written to handoffs\n\nChange-Id: I8284074a11d48659c863eafd833a10db951c48c2\n""}, {'number': 7, 'created': '2022-01-07 22:06:25.000000000', 'files': ['test/probe/common.py', 'tools/playbooks/saio_single_node_setup/add_s3api.yaml', '.zuul.yaml', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3972b8b4baf20a36d140c90d6e38316e5d839104', 'message': ""DNM: add a probetest for MPU expiration\n\nWe're planning to try some different implemenations of expiring MPUs\nthis test will fail w/o the other changes in this chain.\n\nChange-Id: I8284074a11d48659c863eafd833a10db951c48c2\n""}]",10,822192,3972b8b4baf20a36d140c90d6e38316e5d839104,28,2,7,1179,,,0,"DNM: add a probetest for MPU expiration

We're planning to try some different implemenations of expiring MPUs
this test will fail w/o the other changes in this chain.

Change-Id: I8284074a11d48659c863eafd833a10db951c48c2
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/822192/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'test/probe/test_object_expirer.py']",2,4d48077a9882aff423e8530a6ff7dffbf4c317f8,object-expire-mpu," def _make_s3api_mpu(self, s3client, num_parts): bucket_name = self._make_name('bucket-') resp = s3client.create_bucket(Bucket=bucket_name) self.assertEqual(200, resp['ResponseMetadata']['HTTPStatusCode']) key_name = self._make_name('key-') create_mpu_resp = s3client.create_multipart_upload( Bucket=bucket_name, Key=key_name) self.assertEqual(200, create_mpu_resp[ 'ResponseMetadata']['HTTPStatusCode']) upload_id = create_mpu_resp['UploadId'] parts = [] for i in range(1, num_parts + 1): body = ('%d' % i) * 5 * (2 ** 20) part_resp = s3client.upload_part( Body=body, Bucket=bucket_name, Key=key_name, PartNumber=i, UploadId=upload_id) self.assertEqual(200, part_resp[ 'ResponseMetadata']['HTTPStatusCode']) parts.append({ 'ETag': part_resp['ETag'], 'PartNumber': i, }) complete_mpu_resp = s3client.complete_multipart_upload( Bucket=bucket_name, Key=key_name, MultipartUpload={ 'Parts': parts, }, UploadId=upload_id, ) self.assertEqual(200, complete_mpu_resp[ 'ResponseMetadata']['HTTPStatusCode']) return bucket_name, key_name def test_s3api_mpu_delete_at(self): if not self.cluster_info.get( 's3api', {}).get('allow_multipart_uploads'): raise unittest.SkipTest('allow_async_delete not enabled') # lazy import boto only required if cluster supports s3api from test.s3api import get_s3_client s3client = get_s3_client(1) num_parts = 2 bucket_name, key_name = self._make_s3api_mpu(s3client, num_parts) # setup expiration (on just the manifest) start = time.time() delete_at = int(start + 2.0) self.client.set_object_metadata( self.account, bucket_name, key_name, {'X-Delete-At': str(delete_at)}) segment_container_name = '%s+segments' % bucket_name found_segments = [ obj for obj in self.client.iter_objects( self.account, segment_container_name) ] self.assertEqual(len(found_segments), num_parts) # wait for expiration to pass and run the expirer for service in ('object', 'container'): Manager(['%s-updater' % service]).once() time.sleep(2 - (time.time() - start)) self.expirer.once() try: self.client.get_object_metadata( self.account, bucket_name, key_name, acceptable_statuses=(404,)) except UnexpectedResponse as e: self.fail( 'Expected 404 for HEAD object but got %s' % e.resp.status) # and all the segments are gone too! for segment_info in found_segments: try: self.client.get_object_metadata( self.account, segment_container_name, segment_info['name'], acceptable_statuses=(404,)) except UnexpectedResponse as e: self.fail( 'Expected 404 for HEAD %s/%s but got %s' % ( segment_container_name, segment_info['name'], e.resp.status)) found_segments = [ obj for obj in self.client.iter_objects( self.account, segment_container_name) ] self.assertEqual(0, len(found_segments)) ",,99,3
openstack%2Foslo.messaging~stable%2Fxena~Ie237e9e3fdc3fc27b3deb18b94751cdc3afd190e,openstack/oslo.messaging,stable/xena,Ie237e9e3fdc3fc27b3deb18b94751cdc3afd190e,use message id cache for RPC listener,MERGED,2021-09-14 07:50:20.000000000,2022-01-11 20:01:40.000000000,2022-01-11 19:58:01.000000000,"[{'_account_id': 6928}, {'_account_id': 9257}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30834}]","[{'number': 1, 'created': '2021-09-14 07:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0e96a5c8c7f04ef15c106e6996de7af1260240d0', 'message': ""use message id cache for RPC listener\n\nReturn back the message id cache feature to RPC listener, it was\nremoved while refactoring in I708c3d6676b974d8daac6817c15f596cdf35817b\nSee attached bug for more info.\n\nWe should not raise DuplicateMessageError to avoid rejecting the\npreviously ACK'ed message.\n\nCloses-Bug: #1935883\nChange-Id: Ie237e9e3fdc3fc27b3deb18b94751cdc3afd190e\n(cherry picked from commit 129c223307141be1bc767dfca704b06192458d5b)\n""}, {'number': 2, 'created': '2021-09-14 15:02:29.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/_drivers/amqpdriver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4f459f94f85fd6e688cb03a981f4b2c7ab50c119', 'message': ""use message id cache for RPC listener\n\nReturn back the message id cache feature to RPC listener, it was\nremoved while refactoring in I708c3d6676b974d8daac6817c15f596cdf35817b\nSee attached bug for more info.\n\nWe should not raise DuplicateMessageError to avoid rejecting the\npreviously ACK'ed message.\n\nCloses-Bug: #1935883\nChange-Id: Ie237e9e3fdc3fc27b3deb18b94751cdc3afd190e\n(cherry picked from commit 129c223307141be1bc767dfca704b06192458d5b)\n""}]",0,808878,4f459f94f85fd6e688cb03a981f4b2c7ab50c119,19,5,2,28522,,,0,"use message id cache for RPC listener

Return back the message id cache feature to RPC listener, it was
removed while refactoring in I708c3d6676b974d8daac6817c15f596cdf35817b
See attached bug for more info.

We should not raise DuplicateMessageError to avoid rejecting the
previously ACK'ed message.

Closes-Bug: #1935883
Change-Id: Ie237e9e3fdc3fc27b3deb18b94751cdc3afd190e
(cherry picked from commit 129c223307141be1bc767dfca704b06192458d5b)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/78/808878/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/_drivers/amqpdriver.py']",2,0e96a5c8c7f04ef15c106e6996de7af1260240d0,xena," use_cache = False try: unique_id = self.msg_id_cache.check_duplicate_message(message) except rpc_common.DuplicateMessageError: LOG.exception(""ignoring duplicate message %s"", ctxt.msg_id) return if self.use_cache: self.msg_id_cache.add(unique_id) use_cache = True", unique_id = self.msg_id_cache.check_duplicate_message(message),88,1
openstack%2Foslo.messaging~stable%2Fxena~Iebc8a96e868d938a5d250bf9d66d20746c63d3d5,openstack/oslo.messaging,stable/xena,Iebc8a96e868d938a5d250bf9d66d20746c63d3d5,limit maximum timeout in the poll loop,MERGED,2021-09-14 07:46:15.000000000,2022-01-11 19:59:58.000000000,2022-01-11 19:57:59.000000000,"[{'_account_id': 6928}, {'_account_id': 9257}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30834}]","[{'number': 1, 'created': '2021-09-14 07:46:15.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/_drivers/amqpdriver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d28869079ad8857401f3f7e7cae6678bd4610cb7', 'message': ""limit maximum timeout in the poll loop\n\nWe should properly limit the maximum timeout with a 'min' to avoid\nlong delays before message processing. Such delays may happen if\nthe connection to a RabbitMQ server is re-established at the same\ntime when the message arrives (see attached bug for more info).\n\nMoreover, this change is in line with the original intent to\nactually have an upper limit on maximum possible timeout (see\ncomments in code and in the original review).\n\nCloses-Bug: #1935864\nChange-Id: Iebc8a96e868d938a5d250bf9d66d20746c63d3d5\n(cherry picked from commit bdcf915e788bb368774e5462ccc15e6f5b7223d7)\n""}]",0,808853,d28869079ad8857401f3f7e7cae6678bd4610cb7,10,5,1,28522,,,0,"limit maximum timeout in the poll loop

We should properly limit the maximum timeout with a 'min' to avoid
long delays before message processing. Such delays may happen if
the connection to a RabbitMQ server is re-established at the same
time when the message arrives (see attached bug for more info).

Moreover, this change is in line with the original intent to
actually have an upper limit on maximum possible timeout (see
comments in code and in the original review).

Closes-Bug: #1935864
Change-Id: Iebc8a96e868d938a5d250bf9d66d20746c63d3d5
(cherry picked from commit bdcf915e788bb368774e5462ccc15e6f5b7223d7)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/53/808853/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/_drivers/amqpdriver.py']",2,d28869079ad8857401f3f7e7cae6678bd4610cb7,," self._current_timeout = min(self._current_timeout * 2, current_timeout = min(current_timeout * 2,"," self._current_timeout = max(self._current_timeout * 2, current_timeout = max(current_timeout * 2,",29,2
openstack%2Fneutron~master~I2ce790b8796c3aa65c771d765a20938e8d56c0bc,openstack/neutron,master,I2ce790b8796c3aa65c771d765a20938e8d56c0bc,"Inherit from neutron-lib ""LinuxInterfaceDriver"" class",MERGED,2022-01-07 12:30:01.000000000,2022-01-11 19:45:29.000000000,2022-01-11 13:35:42.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 12:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4252567badd396e51894828fbd782f18c3202852', 'message': 'Inherit from neutron-lib ""LinuxInterfaceDriver"" class\n\n""LinuxInterfaceDriver"" methods ""plug_new"" and ""unplug"" are implemented\nin other projects than Neutron. In order to avoid method signature\nchanges that could affect to those projects implementing this class,\nthe base metaclass is now in neutron-lib.\n\nChange-Id: I2ce790b8796c3aa65c771d765a20938e8d56c0bc\n'}, {'number': 2, 'created': '2022-01-10 08:25:52.000000000', 'files': ['neutron/agent/linux/interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96a188f654e9339d239f56334ef8f4739f56590e', 'message': 'Inherit from neutron-lib ""LinuxInterfaceDriver"" class\n\n""LinuxInterfaceDriver"" methods ""plug_new"" and ""unplug"" are implemented\nin other projects than Neutron. In order to avoid method signature\nchanges that could affect to those projects implementing this class,\nthe base metaclass is now in neutron-lib.\n\nChange-Id: I2ce790b8796c3aa65c771d765a20938e8d56c0bc\n'}]",4,823791,96a188f654e9339d239f56334ef8f4739f56590e,29,4,2,16688,,,0,"Inherit from neutron-lib ""LinuxInterfaceDriver"" class

""LinuxInterfaceDriver"" methods ""plug_new"" and ""unplug"" are implemented
in other projects than Neutron. In order to avoid method signature
changes that could affect to those projects implementing this class,
the base metaclass is now in neutron-lib.

Change-Id: I2ce790b8796c3aa65c771d765a20938e8d56c0bc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/823791/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/interface.py'],1,4252567badd396e51894828fbd782f18c3202852,rehome_LinuxInterfaceDriver_metaclass,"from neutron_lib.agent.linux import interfaceclass LinuxInterfaceDriver(interface.LinuxInterfaceDriver, metaclass=abc.ABCMeta):","class LinuxInterfaceDriver(object, metaclass=abc.ABCMeta): @abc.abstractmethod def plug_new(self, network_id, port_id, device_name, mac_address, bridge=None, namespace=None, prefix=None, mtu=None, link_up=True): """"""Plug in the interface only for new devices that don't exist yet."""""" @abc.abstractmethod def unplug(self, device_name, bridge=None, namespace=None, prefix=None): """"""Unplug the interface."""""" ",3,11
openstack%2Fironic~master~I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,openstack/ironic,master,I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2,Ensure 'port' is up2date after binding:host_id,MERGED,2022-01-07 14:48:18.000000000,2022-01-11 19:41:34.000000000,2022-01-11 19:39:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 14:48:18.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3404dc913e0a0a595c3696454b878b716833d612', 'message': ""Ensure 'port' is up2date after binding:host_id\n\nOn neutron routed provider networks IP allocation is\ndeferred until 'binding:host_id' is set. When ironic\ncreates neutron ports it first creates the port, then\nupdates the port setting binding information.\n\nWhen using IPv6 networking ironic adds additional address\nallocations to ensure network chain-booting will succeed.\nWhen address allocation is deferred on port create ironic\ncannot detect that IPv6 is used and does not add the\nrequired additional addresses.\n\nThis change ensures the 'port' object is updated after the\nport update setting the port binding required for neutron\nto allocate the address. This allows ironic to correctly\ndetect IPv6 is used, and it will add the required IP\naddress allocations.\n\nStory: 2009773\nTask: 44254\nChange-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2\n""}]",3,823811,3404dc913e0a0a595c3696454b878b716833d612,25,3,1,24245,,,0,"Ensure 'port' is up2date after binding:host_id

On neutron routed provider networks IP allocation is
deferred until 'binding:host_id' is set. When ironic
creates neutron ports it first creates the port, then
updates the port setting binding information.

When using IPv6 networking ironic adds additional address
allocations to ensure network chain-booting will succeed.
When address allocation is deferred on port create ironic
cannot detect that IPv6 is used and does not add the
required additional addresses.

This change ensures the 'port' object is updated after the
port update setting the port binding required for neutron
to allocate the address. This allows ironic to correctly
detect IPv6 is used, and it will add the required IP
address allocations.

Story: 2009773
Task: 44254
Change-Id: I863dd4ab9615a9ce3b3dcb8798af674ac9966bf2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/823811/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'ironic/common/neutron.py', 'releasenotes/notes/fix-ipv6-provisioning-routed-provider-network-bbd0c46559f618ac.yaml']",3,3404dc913e0a0a595c3696454b878b716833d612,story/2009773,--- fixes: - | Fixed an issue where provisioning/cleaning would fail on IPv6 routed provider networks. See bug: `2009773 <https://storyboard.openstack.org/#!/story/2009773>`_. ,,13,1
openstack%2Fmanila~master~I1685e92a2e1baccbbefde31a4b28046768846eec,openstack/manila,master,I1685e92a2e1baccbbefde31a4b28046768846eec,optimize share size check,MERGED,2020-12-08 11:50:00.000000000,2022-01-11 19:27:15.000000000,2021-05-11 00:53:15.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-12-08 11:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/213ee6082803d13539956281853bcc2ded8a66ee', 'message': 'optimize share size check\n\nChange-Id: I1685e92a2e1baccbbefde31a4b28046768846eec\n'}, {'number': 2, 'created': '2020-12-09 07:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c431c5c5e8d506aa381fa534609820b1635d3655', 'message': 'optimize share size check\n\nChange-Id: I1685e92a2e1baccbbefde31a4b28046768846eec\n'}, {'number': 3, 'created': '2021-04-08 01:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7fd07406bb62e089f5c467a967c1ff80e5eea253', 'message': 'optimize share size check\n\nChange-Id: I1685e92a2e1baccbbefde31a4b28046768846eec\n'}, {'number': 4, 'created': '2021-05-05 00:03:48.000000000', 'files': ['manila/share/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2cdcc5cf2bc031a3a3d6af9dc7c1d8dcf092c0d1', 'message': 'optimize share size check\n\nChange-Id: I1685e92a2e1baccbbefde31a4b28046768846eec\n'}]",4,765981,2cdcc5cf2bc031a3a3d6af9dc7c1d8dcf092c0d1,49,6,4,30407,,,0,"optimize share size check

Change-Id: I1685e92a2e1baccbbefde31a4b28046768846eec
",git fetch https://review.opendev.org/openstack/manila refs/changes/81/765981/4 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/api.py'],1,213ee6082803d13539956281853bcc2ded8a66ee,Optimize-size-check, if size and (not strutils.is_int_like(size) or int(size) <= 0):," def as_int(s): try: return int(s) except (ValueError, TypeError): return s # tolerate size as stringified int size = as_int(size) if not isinstance(size, int) or size <= 0:",1,10
openstack%2Fdevstack~master~Id0b409bfadd73f2c30314724178d6e199121050b,openstack/devstack,master,Id0b409bfadd73f2c30314724178d6e199121050b,Fix cloning requirements when GIT_DEPTH is set,MERGED,2022-01-07 10:43:02.000000000,2022-01-11 18:54:04.000000000,2022-01-11 18:51:34.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-07 10:43:02.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/807330ac370e8d0130cea2a99363cd3299422837', 'message': 'Fix cloning requirements when GIT_DEPTH is set\n\nWe always need the master branch of requirements in order to be able to\ninstall tempest with it, so override GIT_DEPTH when cloning that repo.\n\nCloses-Bug: 1956616\nChange-Id: Id0b409bfadd73f2c30314724178d6e199121050b\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\n'}]",3,823784,807330ac370e8d0130cea2a99363cd3299422837,10,4,1,13252,,,0,"Fix cloning requirements when GIT_DEPTH is set

We always need the master branch of requirements in order to be able to
install tempest with it, so override GIT_DEPTH when cloning that repo.

Closes-Bug: 1956616
Change-Id: Id0b409bfadd73f2c30314724178d6e199121050b
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/84/823784/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,807330ac370e8d0130cea2a99363cd3299422837,bug/1956616,"# We always need the master branch in addition to any stable branch, so # override GIT_DEPTH here. GIT_DEPTH=0 git_clone $REQUIREMENTS_REPO $REQUIREMENTS_DIR $REQUIREMENTS_BRANCH",git_clone $REQUIREMENTS_REPO $REQUIREMENTS_DIR $REQUIREMENTS_BRANCH,3,1
openstack%2Fopenstack-ansible~stable%2Fxena~Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,openstack/openstack-ansible,stable/xena,Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,Fix rich version for ansible-lint,MERGED,2022-01-11 12:12:32.000000000,2022-01-11 18:22:45.000000000,2022-01-11 18:20:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 12:12:32.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1a067ab3e3b47296936265b5dfb4c34fef72049', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)\n""}]",0,824026,e1a067ab3e3b47296936265b5dfb4c34fef72049,8,3,1,28619,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8
(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/824026/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,e1a067ab3e3b47296936265b5dfb4c34fef72049,," # TODO(noonedeadpunk): Drop rich with ansible-lint bump, bug closed with https://github.com/ansible-community/ansible-lint/pull/1797 ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt 'rich>=9.5.1,<11.0.0'", ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt,2,1
openstack%2Fpython-glanceclient~master~I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db,openstack/python-glanceclient,master,I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2021-05-26 01:53:31.000000000,2022-01-11 17:50:51.000000000,2022-01-11 17:48:34.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 01:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9d3974b3c10346161306359ec834c69986cfc2e6', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db\n'}, {'number': 2, 'created': '2021-05-26 03:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/c6ee4c5f72fe1801bc02c4b791551be96241e3e2', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db\n'}, {'number': 3, 'created': '2021-10-21 15:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/6d46c8329df044009424e1f4a2a6c5dee3db03f8', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db\n'}, {'number': 4, 'created': '2021-12-10 21:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9dfe5556b482646de7664a0d31bb79d9d6481c06', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nCo-Authored-By: Cyril Roelandt <cyril@redhat.com>\nChange-Id: I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db\n'}, {'number': 5, 'created': '2021-12-10 21:09:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/51c5c674c5d54b1b9028ac0228903618730dae69', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nCo-Authored-By: Cyril Roelandt <cyril@redhat.com>\nChange-Id: I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db\n'}]",5,793085,51c5c674c5d54b1b9028ac0228903618730dae69,21,4,5,31825,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Co-Authored-By: Cyril Roelandt <cyril@redhat.com>
Change-Id: I8aec0f3ab5b33c6ee1ccd0fafafc7c3e447082db
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/85/793085/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9d3974b3c10346161306359ec834c69986cfc2e6,change-793085, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Foslo.policy~stable%2Fwallaby~I83a22c3f825bad0c88018118f8630a20a445965e,openstack/oslo.policy,stable/wallaby,I83a22c3f825bad0c88018118f8630a20a445965e,Map system_scope in creds dictionary,MERGED,2021-09-29 18:40:23.000000000,2022-01-11 17:50:22.000000000,2022-01-11 17:48:13.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-09-29 18:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/07ac80eff1fc6b62d3fa6a01ee42881f383bfb64', 'message': ""Map system_scope in creds dictionary\n\nAn earlier patch[1] added a mapping for context 'system_scope'\nto 'system' when enforce was called with a RequestContext\nobject. However, enforce can also be called with a creds dictionary\nthat may contain the context 'system_scope' element. When this\noccured, 'system_scope' was not mapped to 'system' and the enforce\nwould fail with an InvalidScope exception.\nThis patch moves the 'system_scope' mapping from only occuring\nwith RequestContext objects to also map it when a creds dictonary\nis passed to enforce.\n\n[1] https://review.opendev.org/c/openstack/oslo.policy/+/578995\n\nChange-Id: I83a22c3f825bad0c88018118f8630a20a445965e\n(cherry picked from commit 9774108cf91408e9cb825b317f48a3a3f856e161)\n""}, {'number': 2, 'created': '2021-10-20 15:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4b5c50eea293c8f62ef1edb6f10f4eba665cfaa8', 'message': ""Map system_scope in creds dictionary\n\nAn earlier patch[1] added a mapping for context 'system_scope'\nto 'system' when enforce was called with a RequestContext\nobject. However, enforce can also be called with a creds dictionary\nthat may contain the context 'system_scope' element. When this\noccured, 'system_scope' was not mapped to 'system' and the enforce\nwould fail with an InvalidScope exception.\nThis patch moves the 'system_scope' mapping from only occuring\nwith RequestContext objects to also map it when a creds dictonary\nis passed to enforce.\n\n[1] https://review.opendev.org/c/openstack/oslo.policy/+/578995\n\nChange-Id: I83a22c3f825bad0c88018118f8630a20a445965e\n(cherry picked from commit 9774108cf91408e9cb825b317f48a3a3f856e161)\n""}, {'number': 3, 'created': '2021-10-20 15:37:35.000000000', 'files': ['releasenotes/notes/Fix-map-system-scope-for-creds-dict-e4cbec2f7495f22e.yaml', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/639b47198b3334c33f4675a9210c31922c50be52', 'message': ""Map system_scope in creds dictionary\n\nAn earlier patch[1] added a mapping for context 'system_scope'\nto 'system' when enforce was called with a RequestContext\nobject. However, enforce can also be called with a creds dictionary\nthat may contain the context 'system_scope' element. When this\noccured, 'system_scope' was not mapped to 'system' and the enforce\nwould fail with an InvalidScope exception.\nThis patch moves the 'system_scope' mapping from only occuring\nwith RequestContext objects to also map it when a creds dictonary\nis passed to enforce.\n\n[1] https://review.opendev.org/c/openstack/oslo.policy/+/578995\n\nChange-Id: I83a22c3f825bad0c88018118f8630a20a445965e\n(cherry picked from commit 9774108cf91408e9cb825b317f48a3a3f856e161)\n(cherry picked from commit ff2a39fc619baafa956bee74a2574f5438d40767)\n""}]",9,811508,639b47198b3334c33f4675a9210c31922c50be52,22,5,3,11628,,,0,"Map system_scope in creds dictionary

An earlier patch[1] added a mapping for context 'system_scope'
to 'system' when enforce was called with a RequestContext
object. However, enforce can also be called with a creds dictionary
that may contain the context 'system_scope' element. When this
occured, 'system_scope' was not mapped to 'system' and the enforce
would fail with an InvalidScope exception.
This patch moves the 'system_scope' mapping from only occuring
with RequestContext objects to also map it when a creds dictonary
is passed to enforce.

[1] https://review.opendev.org/c/openstack/oslo.policy/+/578995

Change-Id: I83a22c3f825bad0c88018118f8630a20a445965e
(cherry picked from commit 9774108cf91408e9cb825b317f48a3a3f856e161)
(cherry picked from commit ff2a39fc619baafa956bee74a2574f5438d40767)
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/08/811508/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-map-system-scope-for-creds-dict-e4cbec2f7495f22e.yaml', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",3,07ac80eff1fc6b62d3fa6a01ee42881f383bfb64,secure-rbac-stable/wallaby," def test_enforcer_understands_system_scope_creds_dict(self): self.conf.set_override('enforce_scope', True, group='oslo_policy') rule = policy.RuleDefault( name='fake_rule', check_str='role:test', scope_types=['system'] ) self.enforcer.register_default(rule) ctx = context.RequestContext() creds = ctx.to_dict() creds['system_scope'] = 'all' target_dict = {} self.enforcer.enforce('fake_rule', target_dict, creds) "," @mock.patch('warnings.warn', new=mock.Mock()) def test_map_context_attributes_populated_system(self): request_context = context.RequestContext(system_scope='all') expected_creds = request_context.to_policy_values() expected_creds['system'] = 'all' creds = self.enforcer._map_context_attributes_into_creds( request_context ) # We don't use self.assertDictEqual here because to_policy_values # actaully returns a non-dict object that just behaves like a # dictionary, but does some special handling when people access # deprecated policy values. for k, v in expected_creds.items(): self.assertEqual(expected_creds[k], creds[k]) ",30,28
openstack%2Fopenstack-ansible~master~Ic738d717b4364c3fa67ccab1f7d171a8ea81cd03,openstack/openstack-ansible,master,Ic738d717b4364c3fa67ccab1f7d171a8ea81cd03,Update ansible-lint version,MERGED,2022-01-10 12:54:56.000000000,2022-01-11 17:49:39.000000000,2022-01-11 17:42:03.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-10 12:54:56.000000000', 'files': ['test-requirements.txt', 'scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0ca4ddf5781d2e386abb8a073fbebad36faed3b5', 'message': 'Update ansible-lint version\n\nChange-Id: Ic738d717b4364c3fa67ccab1f7d171a8ea81cd03\n'}]",1,823979,0ca4ddf5781d2e386abb8a073fbebad36faed3b5,13,4,1,28619,,,0,"Update ansible-lint version

Change-Id: Ic738d717b4364c3fa67ccab1f7d171a8ea81cd03
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/823979/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'scripts/gate-check-commit.sh']",2,0ca4ddf5781d2e386abb8a073fbebad36faed3b5,, ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt," # TODO(noonedeadpunk): Drop rich with ansible-lint bump, bug closed with https://github.com/ansible-community/ansible-lint/pull/1797 ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt 'rich>=9.5.1,<11.0.0'",2,3
openstack%2Fneutron~master~I74a2ca9a344a93219deb94d60247478ee3200659,openstack/neutron,master,I74a2ca9a344a93219deb94d60247478ee3200659,[OVN] Allow only one physical network per bridge,MERGED,2022-01-05 17:08:38.000000000,2022-01-11 17:47:26.000000000,2022-01-11 17:34:12.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-01-05 17:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/663eed12812eea4124af4fa4bd6a86549596781c', 'message': '[OVN] Allow only one physical network per bridge\n\nSame as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver\nshould allow only one physical network per bridge. The rule ""one\nnetwork, one bridge"" should be present in OVN too.\n\nBy allowing only one physical network per bridge, Neutron prevents\nhaving two networks with subnets with the same CIDR in the same bridge.\nCurrently is possible and this CIDR clash is not prevented (shouldn\'t be\nby the API). This architectural limitation prevents this situation.\n\nThis limitation is already present in deployment tools as TripleO.\n\nCloses-Bug: #1956476\nChange-Id: I74a2ca9a344a93219deb94d60247478ee3200659\n'}, {'number': 2, 'created': '2022-01-07 08:48:22.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/55afd9bc923f55bc8f621316a080ad4271182ebc', 'message': '[OVN] Allow only one physical network per bridge\n\nSame as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver\nshould allow only one physical network per bridge. The rule ""one\nnetwork, one bridge"" should be present in OVN too.\n\nBy allowing only one physical network per bridge, Neutron prevents\nhaving two networks with subnets with the same CIDR in the same bridge.\nCurrently is possible and this CIDR clash is not prevented (shouldn\'t be\nby the API). This architectural limitation prevents this situation.\n\nThis limitation is already present in deployment tools as TripleO.\n\nCloses-Bug: #1956476\nChange-Id: I74a2ca9a344a93219deb94d60247478ee3200659\n'}]",4,823568,55afd9bc923f55bc8f621316a080ad4271182ebc,20,5,2,16688,,,0,"[OVN] Allow only one physical network per bridge

Same as in other ML2 plugins (OVS, Linux Bridge), OVN mechanism driver
should allow only one physical network per bridge. The rule ""one
network, one bridge"" should be present in OVN too.

By allowing only one physical network per bridge, Neutron prevents
having two networks with subnets with the same CIDR in the same bridge.
Currently is possible and this CIDR clash is not prevented (shouldn't be
by the API). This architectural limitation prevents this situation.

This limitation is already present in deployment tools as TripleO.

Closes-Bug: #1956476
Change-Id: I74a2ca9a344a93219deb94d60247478ee3200659
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/823568/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'releasenotes/notes/ovn-limit-one-physnet-per-bridge-188285955a5ea124.yaml']",3,663eed12812eea4124af4fa4bd6a86549596781c,bug/1956476,--- other: - | OVN mechanism driver allows only to have one physical network per bridge. ,,6,4
openstack%2Fopenstack-ansible~master~I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd,openstack/openstack-ansible,master,I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd,Fix additional facts gathering in ceph-install.yml,MERGED,2022-01-07 13:08:40.000000000,2022-01-11 17:46:44.000000000,2022-01-11 17:42:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-07 13:08:40.000000000', 'files': ['playbooks/ceph-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61c550d0835449f08f00172fa2bfd6bab24ccce2', 'message': 'Fix additional facts gathering in ceph-install.yml\n\nAs of Ansible 2.11, the type of \'filter\' in setup module has changed from string to list and the default has became an empty list. A simple string is still accepted and works as a single pattern[1].\nHowever, there are some corner cases when a simple string misbehaves and it happened here where ansible tries to create a list when it\'s not necessary:\n\n""invocation"": {\n  ""module_args"": {\n    ""gather_subset"": [""!all"", ""network""],\n    ""filter"": [""ansible_all_ipv[4"", ""6]_addresses""],\n    ""gather_timeout"": 10,\n    ""fact_path"": ""/etc/ansible/facts.d""\n  }\n}\n\nPreviously I tried to fix it differently in Change #823437 but Andrew Bonney proposed a better way of handling this issue.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#parameter-filter\n\nCo-authored-by: Andrew Bonney <andrew.bonney@bbc.co.uk>\nChange-Id: I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd\n'}]",1,823796,61c550d0835449f08f00172fa2bfd6bab24ccce2,12,3,1,32666,,,0,"Fix additional facts gathering in ceph-install.yml

As of Ansible 2.11, the type of 'filter' in setup module has changed from string to list and the default has became an empty list. A simple string is still accepted and works as a single pattern[1].
However, there are some corner cases when a simple string misbehaves and it happened here where ansible tries to create a list when it's not necessary:

""invocation"": {
  ""module_args"": {
    ""gather_subset"": [""!all"", ""network""],
    ""filter"": [""ansible_all_ipv[4"", ""6]_addresses""],
    ""gather_timeout"": 10,
    ""fact_path"": ""/etc/ansible/facts.d""
  }
}

Previously I tried to fix it differently in Change #823437 but Andrew Bonney proposed a better way of handling this issue.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#parameter-filter

Co-authored-by: Andrew Bonney <andrew.bonney@bbc.co.uk>
Change-Id: I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/823796/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-install.yml'],1,61c550d0835449f08f00172fa2bfd6bab24ccce2,," deployment_extra_facts_filter: ""ansible_all_ipv[4|6]_addresses"""," deployment_extra_facts_filter: ""ansible_all_ipv[4,6]_addresses""",1,1
openstack%2Fcastellan~master~I086d90b6f46e31582d412b8725e48cba5c21d6bc,openstack/castellan,master,I086d90b6f46e31582d412b8725e48cba5c21d6bc,remove unicode from code,MERGED,2022-01-05 02:44:38.000000000,2022-01-11 17:46:18.000000000,2022-01-11 17:42:06.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 02:44:38.000000000', 'files': ['castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'doc/source/conf.py', 'castellan/key_manager/barbican_key_manager.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/86712360f345866e108e12eda1075101635dd1ec', 'message': 'remove unicode from code\n\nChange-Id: I086d90b6f46e31582d412b8725e48cba5c21d6bc\n'}]",0,823446,86712360f345866e108e12eda1075101635dd1ec,8,4,1,33881,,,0,"remove unicode from code

Change-Id: I086d90b6f46e31582d412b8725e48cba5c21d6bc
",git fetch https://review.opendev.org/openstack/castellan refs/changes/46/823446/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'doc/source/conf.py', 'castellan/key_manager/barbican_key_manager.py', 'releasenotes/source/conf.py']",4,86712360f345866e108e12eda1075101635dd1ec,,"project = 'Castellan Release Notes' copyright = '2017, Castellan Developers' 'Castellan Release Notes Documentation', 'Castellan Developers', 'manual'), 'Castellan Release Notes Documentation', ['Castellan Developers'], 1) 'Castellan Release Notes Documentation', 'Castellan Developers', 'CastellanReleaseNotes',","project = u'Castellan Release Notes' copyright = u'2017, Castellan Developers' u'Castellan Release Notes Documentation', u'Castellan Developers', 'manual'), u'Castellan Release Notes Documentation', [u'Castellan Developers'], 1) u'Castellan Release Notes Documentation', u'Castellan Developers', 'CastellanReleaseNotes',",20,20
openstack%2Fnova~master~Ia3fde144fafbe4f036a14258e713ac830239592f,openstack/nova,master,Ia3fde144fafbe4f036a14258e713ac830239592f,Fill the exception msg,MERGED,2021-12-10 10:27:44.000000000,2022-01-11 17:45:12.000000000,2022-01-11 17:34:06.000000000,"[{'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-10 10:27:44.000000000', 'files': ['nova/tests/unit/virt/zvm/test_guest.py', 'nova/tests/unit/virt/zvm/test_driver.py', 'nova/tests/unit/virt/zvm/test_hypervisor.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d4c77aa6852e75e1b2db578be6e74abbee4a3a1', 'message': 'Fill the exception msg\n\nChange-Id: Ia3fde144fafbe4f036a14258e713ac830239592f\n'}]",1,821385,2d4c77aa6852e75e1b2db578be6e74abbee4a3a1,13,8,1,31412,,,0,"Fill the exception msg

Change-Id: Ia3fde144fafbe4f036a14258e713ac830239592f
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/821385/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/zvm/test_guest.py', 'nova/tests/unit/virt/zvm/test_driver.py', 'nova/tests/unit/virt/zvm/test_hypervisor.py']",3,2d4c77aa6852e75e1b2db578be6e74abbee4a3a1,, call.side_effect = exception.ZVMConnectorError(results=res), call.side_effect = exception.ZVMConnectorError(res),11,7
openstack%2Fneutron~master~I20ad32eac414ff90b551bff940d92cbcfa848101,openstack/neutron,master,I20ad32eac414ff90b551bff940d92cbcfa848101,Do not block qos for direct-physical ports,MERGED,2021-10-29 13:46:06.000000000,2022-01-11 17:44:42.000000000,2022-01-11 17:34:01.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33652}]","[{'number': 1, 'created': '2021-10-29 13:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/248594a5fa3730a8d8dc1284d574d61d09425181', 'message': 'Do not block qos for direct-physical ports\n\nToday the sriov qos service plugin blindly blocks creating ports\nwith minimum bandwidth qos and with direct_physical vnic_type. This was\noriginally added when only dataplane enforcement was the scope of the\nqos service plugin. However in the last many releases we created\nplacement enforcement for this qos rule regardless of the vnic_type.\nSo now blindly blocking the port creation is now preventing using the\nplacement enforcement for this rule for direct_physical ports.\n\nThis patch removes this limitation by marking minimum bandwidth as\nsupported rule for the sriov qos service plugin. The limitation that\ndata plane enforcement is not supported for this rule remains. The agent\nwill not even try to apply any kind of rules to these ports as port\nbinding is not forwarded for the sriov agent at all.\n\nThe documentation is extended to explain that placement enforcement now\nworks while data plane enforcement still not supported.\n\nThis is somewhat similar to the case when the support for egress\ndirection is added to the minimum bandwidth rule, while the sriov data\nplane enforcement was not (could not) been implemented for this\ndirection in the sriov agent. Today the sriov agent simply ignores the\negress direction rules in the minimum bandwidth qos rule during applying\nthe data plane enforcement.\n\nChange-Id: I20ad32eac414ff90b551bff940d92cbcfa848101\n'}, {'number': 2, 'created': '2021-11-02 07:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19488d06ec74969bbbead5b6155abdeca0d23802', 'message': 'Do not block qos for direct-physical ports\n\nToday the sriov qos service plugin blindly blocks creating ports\nwith minimum bandwidth qos and with direct_physical vnic_type. This was\noriginally added when only dataplane enforcement was the scope of the\nqos service plugin. However in the last many releases we created\nplacement enforcement for this qos rule regardless of the vnic_type.\nSo now blindly blocking the port creation is now preventing using the\nplacement enforcement for this rule for direct_physical ports.\n\nThis patch removes this limitation by marking minimum bandwidth as\nsupported rule for the sriov qos service plugin. The limitation that\ndata plane enforcement is not supported for this rule remains. The agent\nwill not even try to apply any kind of rules to these ports as port\nbinding is not forwarded for the sriov agent at all.\n\nThe documentation is extended to explain that placement enforcement now\nworks while data plane enforcement still not supported.\n\nThis is somewhat similar to the case when the support for egress\ndirection is added to the minimum bandwidth rule, while the sriov data\nplane enforcement was not (could not) been implemented for this\ndirection in the sriov agent. Today the sriov agent simply ignores the\negress direction rules in the minimum bandwidth qos rule during applying\nthe data plane enforcement.\n\nChange-Id: I20ad32eac414ff90b551bff940d92cbcfa848101\n'}, {'number': 3, 'created': '2021-11-04 16:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc6a4f52fb47037d7c18e413eb10b23d1252bd7b', 'message': 'Do not block qos for direct-physical ports\n\nToday the sriov qos service plugin blindly blocks creating ports\nwith minimum bandwidth qos and with direct_physical vnic_type. This was\noriginally added when only dataplane enforcement was the scope of the\nqos service plugin. However in the last many releases we created\nplacement enforcement for this qos rule regardless of the vnic_type.\nSo now blindly blocking the port creation is now preventing using the\nplacement enforcement for this rule for direct_physical ports.\n\nThis patch removes this limitation by marking minimum bandwidth as\nsupported rule for the sriov qos service plugin. The limitation that\ndata plane enforcement is not supported for this rule remains. The agent\nwill not even try to apply any kind of rules to these ports as port\nbinding is not forwarded for the sriov agent at all.\n\nThe documentation is extended to explain that placement enforcement now\nworks while data plane enforcement still not supported.\n\nThis is somewhat similar to the case when the support for egress\ndirection is added to the minimum bandwidth rule, while the sriov data\nplane enforcement was not (could not) been implemented for this\ndirection in the sriov agent. Today the sriov agent simply ignores the\negress direction rules in the minimum bandwidth qos rule during applying\nthe data plane enforcement.\n\nCloses-Bug: #1949877\n\nChange-Id: I20ad32eac414ff90b551bff940d92cbcfa848101\n'}, {'number': 4, 'created': '2021-11-10 16:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ff49d1b52de22b2e2d6b64cb66016d567f5aad6', 'message': 'Do not block qos for direct-physical ports\n\nToday the sriov qos service plugin blindly blocks creating ports\nwith minimum bandwidth qos and with direct_physical vnic_type. This was\noriginally added when only dataplane enforcement was the scope of the\nqos service plugin. However in the last many releases we created\nplacement enforcement for this qos rule regardless of the vnic_type.\nSo now blindly blocking the port creation is now preventing using the\nplacement enforcement for this rule for direct_physical ports.\n\nThis patch removes this limitation by marking minimum bandwidth as\nsupported rule for the sriov qos service plugin. The limitation that\ndata plane enforcement is not supported for this rule remains. The agent\nwill not even try to apply any kind of rules to these ports as port\nbinding is not forwarded for the sriov agent at all.\n\nThe documentation is extended to explain that placement enforcement now\nworks while data plane enforcement still not supported.\n\nThis is somewhat similar to the case when the support for egress\ndirection is added to the minimum bandwidth rule, while the sriov data\nplane enforcement was not (could not) been implemented for this\ndirection in the sriov agent. Today the sriov agent simply ignores the\negress direction rules in the minimum bandwidth qos rule during applying\nthe data plane enforcement.\n\nCloses-Bug: #1949877\n\nChange-Id: I20ad32eac414ff90b551bff940d92cbcfa848101\n'}, {'number': 5, 'created': '2021-11-17 10:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/046c2a3e72281cb0443145ebf22ad89c77b2ba04', 'message': 'Do not block qos for direct-physical ports\n\nToday the sriov qos service plugin blindly blocks creating ports\nwith minimum bandwidth qos and with direct_physical vnic_type. This was\noriginally added when only dataplane enforcement was the scope of the\nqos service plugin. However in the last many releases we created\nplacement enforcement for this qos rule regardless of the vnic_type.\nSo now blindly blocking the port creation is now preventing using the\nplacement enforcement for this rule for direct_physical ports.\n\nThis patch removes this limitation by marking minimum bandwidth as\nsupported rule for the sriov qos service plugin. The limitation that\ndata plane enforcement is not supported for this rule remains. The agent\nwill not even try to apply any kind of rules to these ports as port\nbinding is not forwarded for the sriov agent at all.\n\nThe documentation is extended to explain that placement enforcement now\nworks while data plane enforcement still not supported.\n\nThis is somewhat similar to the case when the support for egress\ndirection is added to the minimum bandwidth rule, while the sriov data\nplane enforcement was not (could not) been implemented for this\ndirection in the sriov agent. Today the sriov agent simply ignores the\negress direction rules in the minimum bandwidth qos rule during applying\nthe data plane enforcement.\n\nCloses-Bug: #1949877\n\nChange-Id: I20ad32eac414ff90b551bff940d92cbcfa848101\n'}, {'number': 6, 'created': '2021-12-10 11:30:09.000000000', 'files': ['doc/source/admin/config-qos.rst', 'neutron/services/qos/drivers/sriov/driver.py', 'doc/source/admin/config-qos-min-bw.rst', 'releasenotes/notes/allow-qos-min-bw-for-direct-physical-ports-32547cc133c122ef.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/abfbe5d54d9d3992638efbb49d5a4145fe99ff7a', 'message': 'Do not block qos for direct-physical ports\n\nToday the sriov qos service plugin blindly blocks creating ports\nwith minimum bandwidth qos and with direct_physical vnic_type. This was\noriginally added when only dataplane enforcement was the scope of the\nqos service plugin. However in the last many releases we created\nplacement enforcement for this qos rule regardless of the vnic_type.\nSo now blindly blocking the port creation is now preventing using the\nplacement enforcement for this rule for direct_physical ports.\n\nThis patch removes this limitation by marking minimum bandwidth as\nsupported rule for the sriov qos service plugin. The limitation that\ndata plane enforcement is not supported for this rule remains. The agent\nwill not even try to apply any kind of rules to these ports as port\nbinding is not forwarded for the sriov agent at all.\n\nThe documentation is extended to explain that placement enforcement now\nworks while data plane enforcement still not supported.\n\nThis is somewhat similar to the case when the support for egress\ndirection is added to the minimum bandwidth rule, while the sriov data\nplane enforcement was not (could not) been implemented for this\ndirection in the sriov agent. Today the sriov agent simply ignores the\negress direction rules in the minimum bandwidth qos rule during applying\nthe data plane enforcement.\n\nCloses-Bug: #1949877\n\nChange-Id: I20ad32eac414ff90b551bff940d92cbcfa848101\n'}]",15,815962,abfbe5d54d9d3992638efbb49d5a4145fe99ff7a,75,7,6,9708,,,0,"Do not block qos for direct-physical ports

Today the sriov qos service plugin blindly blocks creating ports
with minimum bandwidth qos and with direct_physical vnic_type. This was
originally added when only dataplane enforcement was the scope of the
qos service plugin. However in the last many releases we created
placement enforcement for this qos rule regardless of the vnic_type.
So now blindly blocking the port creation is now preventing using the
placement enforcement for this rule for direct_physical ports.

This patch removes this limitation by marking minimum bandwidth as
supported rule for the sriov qos service plugin. The limitation that
data plane enforcement is not supported for this rule remains. The agent
will not even try to apply any kind of rules to these ports as port
binding is not forwarded for the sriov agent at all.

The documentation is extended to explain that placement enforcement now
works while data plane enforcement still not supported.

This is somewhat similar to the case when the support for egress
direction is added to the minimum bandwidth rule, while the sriov data
plane enforcement was not (could not) been implemented for this
direction in the sriov agent. Today the sriov agent simply ignores the
egress direction rules in the minimum bandwidth qos rule during applying
the data plane enforcement.

Closes-Bug: #1949877

Change-Id: I20ad32eac414ff90b551bff940d92cbcfa848101
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/815962/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-qos.rst', 'neutron/services/qos/drivers/sriov/driver.py', 'doc/source/admin/config-qos-min-bw.rst']",3,248594a5fa3730a8d8dc1284d574d61d09425181,bug/1949877,From the Yoga release the ``direct-physical`` vnic_type is now marked supported for the SR-IOV (``sriovnicswitch``) agent. ,,9,1
openstack%2Fdevstack~stable%2Fwallaby~I32ef8038e21c818623db9389588b3c6d3f98dcad,openstack/devstack,stable/wallaby,I32ef8038e21c818623db9389588b3c6d3f98dcad,Don't enable the dstat service in CI jobs,MERGED,2022-01-07 08:19:20.000000000,2022-01-11 17:44:21.000000000,2022-01-11 17:33:58.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-01-07 08:19:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b7ef9f4482d0d00e19b4a60c897019d951ee8e1', 'message': ""Don't enable the dstat service in CI jobs\n\nWe still are seeing regular job failures because the pcp package fails\nto install. Assume that we can still enable it on demand when someone\nneeds to debug specific job issues, let us just disable it by default.\n\nRelated-Bug: 1943184\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I32ef8038e21c818623db9389588b3c6d3f98dcad\n(cherry picked from commit 134205c1388ac69169698ff2fe36cba23044ff62)\n""}]",1,823756,8b7ef9f4482d0d00e19b4a60c897019d951ee8e1,9,4,1,13252,,,0,"Don't enable the dstat service in CI jobs

We still are seeing regular job failures because the pcp package fails
to install. Assume that we can still enable it on demand when someone
needs to debug specific job issues, let us just disable it by default.

Related-Bug: 1943184
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I32ef8038e21c818623db9389588b3c6d3f98dcad
(cherry picked from commit 134205c1388ac69169698ff2fe36cba23044ff62)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/823756/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8b7ef9f4482d0d00e19b4a60c897019d951ee8e1,no-dstat-stable/xena-stable/wallaby, dstat: false dstat: false dstat: false dstat: false, dstat: true dstat: true dstat: true dstat: true,4,4
openstack%2Fdevstack~stable%2Fxena~I32ef8038e21c818623db9389588b3c6d3f98dcad,openstack/devstack,stable/xena,I32ef8038e21c818623db9389588b3c6d3f98dcad,Don't enable the dstat service in CI jobs,MERGED,2022-01-07 08:18:56.000000000,2022-01-11 17:38:07.000000000,2022-01-11 17:29:17.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-01-07 08:18:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/09c83cf07eac157c2481bf8e4836b87cd8c2f981', 'message': ""Don't enable the dstat service in CI jobs\n\nWe still are seeing regular job failures because the pcp package fails\nto install. Assume that we can still enable it on demand when someone\nneeds to debug specific job issues, let us just disable it by default.\n\nRelated-Bug: 1943184\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I32ef8038e21c818623db9389588b3c6d3f98dcad\n(cherry picked from commit 134205c1388ac69169698ff2fe36cba23044ff62)\n""}]",2,823755,09c83cf07eac157c2481bf8e4836b87cd8c2f981,9,4,1,13252,,,0,"Don't enable the dstat service in CI jobs

We still are seeing regular job failures because the pcp package fails
to install. Assume that we can still enable it on demand when someone
needs to debug specific job issues, let us just disable it by default.

Related-Bug: 1943184
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I32ef8038e21c818623db9389588b3c6d3f98dcad
(cherry picked from commit 134205c1388ac69169698ff2fe36cba23044ff62)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/823755/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,09c83cf07eac157c2481bf8e4836b87cd8c2f981,no-dstat-stable/xena, dstat: false dstat: false dstat: false dstat: false, dstat: true dstat: true dstat: true dstat: true,4,4
openstack%2Fdevstack~master~I3fc328b7f47ccd7c1a97cceeea98fb2fbd609017,openstack/devstack,master,I3fc328b7f47ccd7c1a97cceeea98fb2fbd609017,Deprecate lib/neutron,MERGED,2022-01-06 10:36:58.000000000,2022-01-11 17:38:06.000000000,2022-01-11 17:29:14.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0e2ba54f94b2a5a903c92f4025b0b92c8ea36829', 'message': 'Deprecate lib/neutron\n\nlib/neutron-legacy was recently undeprecated (see [0]), Openstack CI\nuses neutron-lgacy as well and latest work happened in it also.\nTo avoid double maintenance lib/neutron can be deprecated.\n\nFor latest discussion see [1] and [2].\n\n[0]: https://review.opendev.org/c/openstack/devstack/+/704829\n[1]: https://meetings.opendev.org/meetings/networking/2022/networking.2022-01-04-14.04.log.html#l-52\n[2]: https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-01-05.log.html#t2022-01-05T15:57:37\n\nChange-Id: I3fc328b7f47ccd7c1a97cceeea98fb2fbd609017\n'}, {'number': 2, 'created': '2022-01-06 10:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5231d452057f42631285e76ed14a45702f3e9a4', 'message': 'Deprecate lib/neutron\n\nlib/neutron-legacy was recently undeprecated (see [0]), Openstack CI\nuses neutron-lgacy as well and latest work happened in it also.\nTo avoid double maintenance lib/neutron can be deprecated.\n\nFor latest discussion see [1] and [2].\n\n[0]: https://review.opendev.org/c/openstack/devstack/+/704829\n[1]: https://meetings.opendev.org/meetings/networking/2022/networking.2022-01-04-14.04.log.html#l-52\n[2]: https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-01-05.log.html#t2022-01-05T15:57:37\n\nRelated-Bug: #1955765\nChange-Id: I3fc328b7f47ccd7c1a97cceeea98fb2fbd609017\n'}, {'number': 3, 'created': '2022-01-11 13:15:23.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c994dc4de23620f74b750932e060306a27193add', 'message': 'Deprecate lib/neutron\n\nlib/neutron-legacy was recently undeprecated (see [0]), Openstack CI\nuses neutron-legacy and latest work was done in it also.\nTo avoid double maintenance lib/neutron can be deprecated.\n\nFor latest discussion see [1] and [2].\n\n[0]: https://review.opendev.org/c/openstack/devstack/+/704829\n[1]: https://meetings.opendev.org/meetings/networking/2022/networking.2022-01-04-14.04.log.html#l-52\n[2]: https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-01-05.log.html#t2022-01-05T15:57:37\n\nRelated-Bug: #1955765\nChange-Id: I3fc328b7f47ccd7c1a97cceeea98fb2fbd609017\n'}]",5,823653,c994dc4de23620f74b750932e060306a27193add,15,4,3,8313,,,0,"Deprecate lib/neutron

lib/neutron-legacy was recently undeprecated (see [0]), Openstack CI
uses neutron-legacy and latest work was done in it also.
To avoid double maintenance lib/neutron can be deprecated.

For latest discussion see [1] and [2].

[0]: https://review.opendev.org/c/openstack/devstack/+/704829
[1]: https://meetings.opendev.org/meetings/networking/2022/networking.2022-01-04-14.04.log.html#l-52
[2]: https://meetings.opendev.org/irclogs/%23openstack-qa/%23openstack-qa.2022-01-05.log.html#t2022-01-05T15:57:37

Related-Bug: #1955765
Change-Id: I3fc328b7f47ccd7c1a97cceeea98fb2fbd609017
",git fetch https://review.opendev.org/openstack/devstack refs/changes/53/823653/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,0e2ba54f94b2a5a903c92f4025b0b92c8ea36829,deprecate_lib_neutron,"deprecated ""Using lib/neutron is deprecated, and it will be removed in AA release!"" ",,2,0
openstack%2Fheat~master~Ib7ecb8e2e1df5944525b688dbc3f901b77d1b771,openstack/heat,master,Ib7ecb8e2e1df5944525b688dbc3f901b77d1b771,Remove OS::Glance::Image Support,NEW,2022-01-11 14:25:10.000000000,2022-01-11 17:37:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-11 14:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/69d0a7b6a5f65405cacaefbd73b3267751c84f55', 'message': 'Remove OS::Glance::Image Support\n\nOS::Glance::Image was deprecated in [1] because this resource type\nwas depending wholly on Glance v1 API and Glance v2 API does not\noffer any equivalent functionality.\n\nWith this patch, we are removing support completely and maping the\nresource to NoneResource.\n\n[1] https://review.opendev.org/c/openstack/heat/+/419043\n\nChange-Id: Ib7ecb8e2e1df5944525b688dbc3f901b77d1b771\n'}, {'number': 2, 'created': '2022-01-11 14:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c254490500a86e5f2c09122c5e4f6d857c2ab97c', 'message': 'Remove OS::Glance::Image Support\n\nOS::Glance::Image was deprecated in [1] because this resource type\nwas depending wholly on Glance v1 API and Glance v2 API does not\noffer any equivalent functionality.\n\nWith this patch, we are removing support completely and maping the\nresource to NoneResource.\n\n[1] https://review.opendev.org/c/openstack/heat/+/419043\n\nChange-Id: Ib7ecb8e2e1df5944525b688dbc3f901b77d1b771\n'}, {'number': 3, 'created': '2022-01-11 15:44:43.000000000', 'files': ['heat/tests/openstack/glance/test_image.py', 'heat/engine/resources/openstack/glance/image.py', 'heat/tests/engine/test_resource_type.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/15ff49baab99c5cf27b4e1545fbf58f7ec248c47', 'message': 'Remove OS::Glance::Image Support\n\nOS::Glance::Image was deprecated in [1] because this resource type\nwas depending wholly on Glance v1 API and Glance v2 API does not\noffer any equivalent functionality.\n\nWith this patch, we are removing support completely and maping the\nresource to NoneResource.\n\n[1] https://review.opendev.org/c/openstack/heat/+/419043\n\nChange-Id: Ib7ecb8e2e1df5944525b688dbc3f901b77d1b771\n'}]",0,824188,15ff49baab99c5cf27b4e1545fbf58f7ec248c47,6,1,3,29775,,,0,"Remove OS::Glance::Image Support

OS::Glance::Image was deprecated in [1] because this resource type
was depending wholly on Glance v1 API and Glance v2 API does not
offer any equivalent functionality.

With this patch, we are removing support completely and maping the
resource to NoneResource.

[1] https://review.opendev.org/c/openstack/heat/+/419043

Change-Id: Ib7ecb8e2e1df5944525b688dbc3f901b77d1b771
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/824188/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/glance/test_image.py', 'heat/engine/resources/openstack/glance/image.py']",2,69d0a7b6a5f65405cacaefbd73b3267751c84f55,,"from heat.engine.resources.openstack.heat import none_resourceclass GlanceImage(none_resource.NoneResource): status=support.HIDDEN, version='18.0.0', message=_('This resource has been removed'), previous_status=support.SupportStatus( status=support.DEPRECATED, version='8.0.0', previous_status=support.SupportStatus(version='2014.2')))","class GlanceImage(resource.Resource): status=support.DEPRECATED, version='8.0.0', message=_('Creating a Glance Image based on an existing URL location ' 'requires the Glance v1 API, which is deprecated.'), previous_status=support.SupportStatus(version='2014.2') ) PROPERTIES = ( NAME, IMAGE_ID, IS_PUBLIC, MIN_DISK, MIN_RAM, PROTECTED, DISK_FORMAT, CONTAINER_FORMAT, LOCATION, TAGS, EXTRA_PROPERTIES, ARCHITECTURE, KERNEL_ID, OS_DISTRO, OWNER, RAMDISK_ID ) = ( 'name', 'id', 'is_public', 'min_disk', 'min_ram', 'protected', 'disk_format', 'container_format', 'location', 'tags', 'extra_properties', 'architecture', 'kernel_id', 'os_distro', 'owner', 'ramdisk_id' ) glance_id_pattern = ('^([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}' '-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}$') properties_schema = { NAME: properties.Schema( properties.Schema.STRING, _('Name for the image. The name of an image is not ' 'unique to a Image Service node.') ), IMAGE_ID: properties.Schema( properties.Schema.STRING, _('The image ID. Glance will generate a UUID if not specified.') ), IS_PUBLIC: properties.Schema( properties.Schema.BOOLEAN, _('Scope of image accessibility. Public or private. ' 'Default value is False means private. Note: The policy ' 'setting of glance allows only users with admin roles to create ' 'public image by default.'), default=False, ), MIN_DISK: properties.Schema( properties.Schema.INTEGER, _('Amount of disk space (in GB) required to boot image. ' 'Default value is 0 if not specified ' 'and means no limit on the disk size.'), constraints=[ constraints.Range(min=0), ], default=0 ), MIN_RAM: properties.Schema( properties.Schema.INTEGER, _('Amount of ram (in MB) required to boot image. Default value ' 'is 0 if not specified and means no limit on the ram size.'), constraints=[ constraints.Range(min=0), ], default=0 ), PROTECTED: properties.Schema( properties.Schema.BOOLEAN, _('Whether the image can be deleted. If the value is True, ' 'the image is protected and cannot be deleted.'), default=False ), DISK_FORMAT: properties.Schema( properties.Schema.STRING, _('Disk format of image.'), required=True, constraints=[ constraints.AllowedValues(['ami', 'ari', 'aki', 'vhd', 'vmdk', 'raw', 'qcow2', 'vdi', 'iso']) ] ), CONTAINER_FORMAT: properties.Schema( properties.Schema.STRING, _('Container format of image.'), required=True, constraints=[ constraints.AllowedValues(['ami', 'ari', 'aki', 'bare', 'ova', 'ovf']) ] ), LOCATION: properties.Schema( properties.Schema.STRING, _('URL where the data for this image already resides. For ' 'example, if the image data is stored in swift, you could ' 'specify ""swift://example.com/container/obj"".'), required=True, ), TAGS: properties.Schema( properties.Schema.LIST, _('List of image tags.'), update_allowed=True, support_status=support.SupportStatus(version='7.0.0') ), EXTRA_PROPERTIES: properties.Schema( properties.Schema.MAP, _('Arbitrary properties to associate with the image.'), update_allowed=True, default={}, support_status=support.SupportStatus(version='7.0.0') ), ARCHITECTURE: properties.Schema( properties.Schema.STRING, _('Operating system architecture.'), update_allowed=True, support_status=support.SupportStatus(version='7.0.0') ), KERNEL_ID: properties.Schema( properties.Schema.STRING, _('ID of image stored in Glance that should be used as ' 'the kernel when booting an AMI-style image.'), update_allowed=True, support_status=support.SupportStatus(version='7.0.0'), constraints=[ constraints.AllowedPattern(glance_id_pattern) ] ), OS_DISTRO: properties.Schema( properties.Schema.STRING, _('The common name of the operating system distribution ' 'in lowercase.'), update_allowed=True, support_status=support.SupportStatus(version='7.0.0') ), OWNER: properties.Schema( properties.Schema.STRING, _('Owner of the image.'), update_allowed=True, support_status=support.SupportStatus(version='7.0.0') ), RAMDISK_ID: properties.Schema( properties.Schema.STRING, _('ID of image stored in Glance that should be used as ' 'the ramdisk when booting an AMI-style image.'), update_allowed=True, support_status=support.SupportStatus(version='7.0.0'), constraints=[ constraints.AllowedPattern(glance_id_pattern) ] ) } default_client_name = 'glance' entity = 'images' def handle_create(self): args = dict((k, v) for k, v in self.properties.items() if v is not None) tags = args.pop(self.TAGS, []) args['properties'] = args.pop(self.EXTRA_PROPERTIES, {}) architecture = args.pop(self.ARCHITECTURE, None) kernel_id = args.pop(self.KERNEL_ID, None) os_distro = args.pop(self.OS_DISTRO, None) ramdisk_id = args.pop(self.RAMDISK_ID, None) image_id = self.client(version=self.client_plugin().V1).images.create( **args).id self.resource_id_set(image_id) images = self.client().images if architecture is not None: images.update(image_id, architecture=architecture) if kernel_id is not None: images.update(image_id, kernel_id=kernel_id) if os_distro is not None: images.update(image_id, os_distro=os_distro) if ramdisk_id is not None: images.update(image_id, ramdisk_id=ramdisk_id) for tag in tags: self.client().image_tags.update( image_id, tag) return image_id def check_create_complete(self, image_id): image = self.client().images.get(image_id) return image.status == 'active' def handle_update(self, json_snippet, tmpl_diff, prop_diff): if prop_diff and self.TAGS in prop_diff: existing_tags = self.properties.get(self.TAGS) or [] diff_tags = prop_diff.pop(self.TAGS) or [] new_tags = set(diff_tags) - set(existing_tags) for tag in new_tags: self.client().image_tags.update( self.resource_id, tag) removed_tags = set(existing_tags) - set(diff_tags) for tag in removed_tags: with self.client_plugin().ignore_not_found: self.client().image_tags.delete( self.resource_id, tag) images = self.client().images if self.EXTRA_PROPERTIES in prop_diff: old_properties = self.properties.get(self.EXTRA_PROPERTIES) or {} new_properties = prop_diff.pop(self.EXTRA_PROPERTIES) prop_diff.update(new_properties) remove_props = list(set(old_properties) - set(new_properties)) # Though remove_props defaults to None within the glanceclient, # setting it to a list (possibly []) every time ensures only one # calling format to images.update images.update(self.resource_id, remove_props, **prop_diff) else: images.update(self.resource_id, **prop_diff) def validate(self): super(GlanceImage, self).validate() container_format = self.properties[self.CONTAINER_FORMAT] if (container_format in ['ami', 'ari', 'aki'] and self.properties[self.DISK_FORMAT] != container_format): msg = _(""Invalid mix of disk and container formats. When "" ""setting a disk or container format to one of 'aki', "" ""'ari', or 'ami', the container and disk formats must "" ""match."") raise exception.StackValidationFailed(message=msg) def get_live_resource_data(self): image_data = super(GlanceImage, self).get_live_resource_data() if image_data.get('status') in ('deleted', 'killed'): raise exception.EntityNotFound(entity='Resource', name=self.name) return image_data def parse_live_resource_data(self, resource_properties, resource_data): image_reality = {} # NOTE(prazumovsky): At first, there's no way to get location from # glance; at second, location property is doubtful, because glance # client v2 doesn't use location, it uses locations. So, we should # get location property from resource properties. if self.client().version == 1.0: image_reality.update( {self.LOCATION: resource_properties[self.LOCATION]}) for key in self.PROPERTIES: if key == self.LOCATION: continue if key == self.IMAGE_ID: if (resource_properties.get(self.IMAGE_ID) is not None or resource_data.get(self.IMAGE_ID) != self.resource_id): image_reality.update({self.IMAGE_ID: resource_data.get( self.IMAGE_ID)}) else: image_reality.update({self.IMAGE_ID: None}) else: image_reality.update({key: resource_data.get(key)}) return image_reality",10,664
openstack%2Fopenstack-ansible~stable%2Fwallaby~Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,openstack/openstack-ansible,stable/wallaby,Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,Fix rich version for ansible-lint,MERGED,2022-01-11 12:12:42.000000000,2022-01-11 17:29:21.000000000,2022-01-11 17:25:41.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 12:12:42.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7700ae53ad4f362158ad6997d19102d4a901e113', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)\n""}]",0,824027,7700ae53ad4f362158ad6997d19102d4a901e113,8,3,1,28619,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8
(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/824027/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,7700ae53ad4f362158ad6997d19102d4a901e113,," # TODO(noonedeadpunk): Drop rich with ansible-lint bump, bug closed with https://github.com/ansible-community/ansible-lint/pull/1797 ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt 'rich>=9.5.1,<11.0.0'", ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt,2,1
openstack%2Fbarbican-tempest-plugin~master~Ia6151ee06740492127f25831cd54fe751904bb7e,openstack/barbican-tempest-plugin,master,Ia6151ee06740492127f25831cd54fe751904bb7e,Update python testing classifier,MERGED,2021-12-22 03:14:36.000000000,2022-01-11 17:27:34.000000000,2022-01-11 17:27:34.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 03:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/96197cff5ca78686eb1f9ddba4ebddaeed2c6ff2', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ia6151ee06740492127f25831cd54fe751904bb7e\n'}, {'number': 2, 'created': '2021-12-24 01:15:38.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f2bb9859196aa385c1b639cda8189a0d73cb95a4', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ia6151ee06740492127f25831cd54fe751904bb7e\n'}]",2,822581,f2bb9859196aa385c1b639cda8189a0d73cb95a4,13,4,2,31827,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ia6151ee06740492127f25831cd54fe751904bb7e
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/81/822581/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,96197cff5ca78686eb1f9ddba4ebddaeed2c6ff2,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fos-ken~stable%2Fussuri~If616980b2c6d7303cdc5d4f5e7247d63e4c34939,openstack/os-ken,stable/ussuri,If616980b2c6d7303cdc5d4f5e7247d63e4c34939,Fix sockaddr lib with python 3,MERGED,2022-01-07 12:42:23.000000000,2022-01-11 17:26:15.000000000,2022-01-11 17:19:50.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 12:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/9613b8d464dd2b424524c1cdb68f57bc5635e8dd', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n(cherry picked from commit 9a5aa8b7209308a44e463632132c2173216379a6)\n""}, {'number': 2, 'created': '2022-01-11 10:20:16.000000000', 'files': ['os_ken/tests/unit/lib/__init__.py', 'os_ken/tests/unit/lib/test_sockaddr.py', 'os_ken/lib/sockaddr.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/83be45d96f540dd58be0165b0017b80987cd669e', 'message': ""Fix sockaddr lib with python 3\n\nPadding did not work and this lib did not have tests\n\nSample failure seen in neutron-dynamic-routing:\nneutron-bgp-dragent[29325]: TypeError: can't concat str to bytes\n\nStory: 2007910\nTask: 40311\nChange-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939\n(cherry picked from commit 9a5aa8b7209308a44e463632132c2173216379a6)\n""}]",1,823758,83be45d96f540dd58be0165b0017b80987cd669e,11,3,2,21798,,,0,"Fix sockaddr lib with python 3

Padding did not work and this lib did not have tests

Sample failure seen in neutron-dynamic-routing:
neutron-bgp-dragent[29325]: TypeError: can't concat str to bytes

Story: 2007910
Task: 40311
Change-Id: If616980b2c6d7303cdc5d4f5e7247d63e4c34939
(cherry picked from commit 9a5aa8b7209308a44e463632132c2173216379a6)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/58/823758/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/tests/unit/lib/__init__.py', 'os_ken/tests/unit/lib/test_sockaddr.py', 'os_ken/lib/sockaddr.py']",3,9613b8d464dd2b424524c1cdb68f57bc5635e8dd,python3_sockaddr-stable/ussuri, return data + pad_len * b'\0', return data + pad_len * '\0',55,1
openstack%2Fcinder~master~Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,openstack/cinder,master,Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,Reject bad img formats for uploaded encrypted vols,MERGED,2021-07-09 15:12:48.000000000,2022-01-11 17:25:48.000000000,2022-01-11 17:19:38.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-09 15:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/402ccfadcf282ae4a8b044a15fbf421e8236791d', 'message': ""Reject bad img formats for uploaded encrypted vols\n\nCinder only supports uploading volumes of encrypted volume types as\nimages with disk format 'raw' and container format 'bare'.  Screen\nfor this at the REST API layer when the request is made.\n\nChange-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782\nCloses-bug: #1935688\n""}, {'number': 2, 'created': '2021-07-09 18:54:58.000000000', 'files': ['releasenotes/notes/bug-193688-bb045badcd5aecad.yaml', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de8b3b0b00421a01ed777880d2b5bf6fffc068d5', 'message': ""Reject bad img formats for uploaded encrypted vols\n\nCinder only supports uploading volumes of encrypted volume types as\nimages with disk format 'raw' and container format 'bare'.  Screen\nfor this at the REST API layer when the request is made.\n\nChange-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782\nCloses-bug: #1935688\n""}]",8,800272,de8b3b0b00421a01ed777880d2b5bf6fffc068d5,50,5,2,5314,,,0,"Reject bad img formats for uploaded encrypted vols

Cinder only supports uploading volumes of encrypted volume types as
images with disk format 'raw' and container format 'bare'.  Screen
for this at the REST API layer when the request is made.

Change-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782
Closes-bug: #1935688
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/800272/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_volume_actions.py', 'api-ref/source/v3/volumes-v3-volumes-actions.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/contrib/volume_actions.py']",4,402ccfadcf282ae4a8b044a15fbf421e8236791d,bug/1935688," # encrypted volumes cannot be converted on upload if (image_metadata['disk_format'] != 'raw' or image_metadata['container_format'] != 'bare'): msg = _(""An encrypted volume uploaded as an image must use "" ""'raw' disk_format and 'bare' container_format, "" ""which are the defaults for these options."") raise webob.exc.HTTPBadRequest(explanation=msg) ",,56,2
openstack%2Fos-ken~stable%2Fussuri~If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,openstack/os-ken,stable/ussuri,If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,Add requirements.txt to tox environment,MERGED,2022-01-11 08:18:02.000000000,2022-01-11 17:23:11.000000000,2022-01-11 17:15:08.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 08:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/9bdd350f86eed9874354497ef32f73aef9377e70', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nFor stable branches, also drop lower-constraints job as done in other\nprojects\n\nConflicts:\n\t.zuul.yaml\n\ttox.ini\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)\n(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)\n'}, {'number': 2, 'created': '2022-01-11 08:57:29.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/0a0ea703757d713bc305be784c4eaef78e1185c8', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nFor stable branches, also drop lower-constraints job as done in other\nprojects\nFor wallaby and older, fix the docs job with adapted backport of [1] and\nadd eventlet to doc requirements (it is loaded in doc generation)\n\n[1] Ica52306c9c2ca2d64161b09317735ed740bd4d32\n\nConflicts:\n\t.zuul.yaml\n\ttox.ini\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)\n(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)\n(cherry picked from commit 99361db159f47e7cafcd52612d0f678891f84a8d)\n'}]",0,824093,0a0ea703757d713bc305be784c4eaef78e1185c8,10,3,2,21798,,,0,"Add requirements.txt to tox environment

This was spotted in [0] backport, upper constraints are not applied
correctly without it (and this aligns with the typical deps in other
projects)

[0] https://review.opendev.org/c/openstack/os-ken/+/823758

For stable branches, also drop lower-constraints job as done in other
projects
For wallaby and older, fix the docs job with adapted backport of [1] and
add eventlet to doc requirements (it is loaded in doc generation)

[1] Ica52306c9c2ca2d64161b09317735ed740bd4d32

Conflicts:
	.zuul.yaml
	tox.ini

Change-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c
(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)
(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)
(cherry picked from commit 99361db159f47e7cafcd52612d0f678891f84a8d)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/93/824093/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,9bdd350f86eed9874354497ef32f73aef9377e70,, -r{toxinidir}/requirements.txt, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,1,159
openstack%2Fopenstack-ansible-os_ironic~master~I98cb73f49c526d0699446c0325e05a10ffca3e01,openstack/openstack-ansible-os_ironic,master,I98cb73f49c526d0699446c0325e05a10ffca3e01,Update Ironic Documentation,MERGED,2021-12-17 22:20:32.000000000,2022-01-11 17:20:05.000000000,2022-01-11 17:13:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-17 22:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/2d0c9b8e46bda26ddf54b4561f7fd25f764823bb', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}, {'number': 2, 'created': '2021-12-18 00:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/fe6d0e475a27a339a299c2c658c6ee73bac839f6', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}, {'number': 3, 'created': '2021-12-18 01:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d3c7dfbbbf071db519584454e6031f332fb86b8a', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}, {'number': 4, 'created': '2021-12-19 14:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/1690b9dfe7bed928774296e8c554fbc73552ffa4', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}, {'number': 5, 'created': '2021-12-19 16:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/918cafbeb4ea5d994a58c84353b08ad98009a4f2', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}, {'number': 6, 'created': '2021-12-20 22:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/b24be4c6f283e2daf93fe7f67290e9bac699eec2', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}, {'number': 7, 'created': '2021-12-21 14:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/b7ab422e68c27dcff4ea0f0a24122420a138d8f7', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}, {'number': 8, 'created': '2021-12-23 14:37:22.000000000', 'files': ['doc/source/configure-ironic.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/fc6902e8114962f4d1c6175166fe035cfba4d84f', 'message': 'Update Ironic Documentation\n\nThis patch updates OSA Ironic documentation to be more current\nand to provide working examples.\n\nChange-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01\n'}]",5,822203,fc6902e8114962f4d1c6175166fe035cfba4d84f,36,7,8,16011,,,0,"Update Ironic Documentation

This patch updates OSA Ironic documentation to be more current
and to provide working examples.

Change-Id: I98cb73f49c526d0699446c0325e05a10ffca3e01
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/03/822203/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-ironic.rst'],1,2d0c9b8e46bda26ddf54b4561f7fd25f764823bb,,"Configuring the Bare Metal (Ironic) Service (optional) This feature is experimental at this time and has not been fully production tested.OpenStack-Ansible DeploymentThe use of Ironic within an OpenStack deployment leverages Nova to deploy baremetal instances when an `openstack server create` command is issued using a baremetal flavor. So, in additon to Ironic API services, a Nova compute service using an Ironic compute driver (as opposed to libvirt) must be configured. The playbooks can automatically deploy this service when the inventory is configured accordingly. To deploy Ironic, populate the respective groups within ``openstack_user_config.yml``: .. code-block:: ironic-infra_hosts: *infrastructure_hosts ironic-compute_hosts: *infrastructure_hosts With the inventory updated, Ironic API and conductor services will be deployed on the infra/controller nodes, along with a nova-compute service configured for use with Ironic. OpenStack-Ansible is configured to support PXE-based deployments by default. To enable the use of iPXE, which uses HTTP instead of TFTP for the full deployment, add the following override: .. code-block:: ironic_ipxe_enabled: yes .. note:: With iPXE enabled, PXE is used to bootstrap into the iPXE loader. Deployment times are considerably faster with iPXE vs PXE, and its configuration is highly recommended. When iPXE is enabled, a web server is deployed on the conductor node(s) to host images and files. Some drivers of the Baremetal service (in particular, any drivers using Direct deploy or Ansible deploy interfaces, and some virtual media drivers) require target user images to be available over clean HTTP(S) URL with NO authentication involved (neither username/password-based, nor token-based). The default deploy method relies on Swift to provide this functionality. If Swift is not available in your environment, then the following override can provide similar functionality by using the web server deployed the conductor node(s) (see ``ironic_ipxe_enabled``): .. code-block:: ironic_enable_web_server_for_images: yes The Ironic ``ipmi`` hardware driver is enabled by default. Vendor-specific drivers, including iLO and DRAC, are available for use with supported hardware. OpenStack-Ansible provides a set of drivers with pre-configured hardware, boot, deploy, inspect, management, and power characteristics, including: * agent_ilo * agent_ipmitool * agent_ipmitool_socat * agent_irmc * agent_ucs * pxe_agent_cimc * pxe_drac * pxe_drac_inspector * pxe_ilo * pxe_ipmitool * pxe_ipmitool_socat * pxe_irmc * pxe_snmp * pxe_ucs .. note:: The characteristics of these drivers can be seen in further details by reviewing the ``ironic_driver_types`` variable in the Ironic role. To enable iLO and DRAC drivers, along with IPMI, set the following override: ironic_drivers_enabled: - agent_ipmitool - pxe_ipmitool - agent_ilo - pxe_ilo - pxe_drac Setup Neutron networks for use with Ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Ironic supports two main network interfaces: ``flat`` and ``neutron``: * ``flat`` interface places all provisioned nodes and nodes being deployed into a single layer 2 network * ``neutron`` interface provides tenant-defined networking (aks multi-tenancy by integrating with Neutron, while also separating tenant networks from the provisioning and cleaning provider networks. With the ``flat`` network interface, inspection, cleaning, provisioning, and tenant functions will be performed on the same ``flat`` provider network, as it is assumed there is no mechanism to manage the physical switch. All baremetal nodes will share the same VLAN and network/subnet, which may present security challenges to tenants. With the ``neutron`` network interface, inspection, cleaning, provisioning, and tenant networks can be distict VLANs. However, an ML2 plugin such as networking-generic-switch must be used to provision the respective switchports when switching between functions. https://docs.openstack.org/openstack-ansible-os_neutron/latest/app-genericswitch.html Both the ``flat`` and ``neutron`` network interfaces require a cleaning network to be defined. For ``flat`` deployments, the cleaning network will be the same as the deployment network. Create a network and subnet to be used by the baremetal instance for cleaning, provisioning, and post-deployment use: openstack network create \ --provider-network-type flat \ --provider-physical-network vlan \ myBaremetalNetwork openstack subnet create \ --network myBaremetalNetwork \ --subnet-range 172.17.100.0/24 \ myBaremetalNetworkSubnet Set an override to define the cleaning network name: .. code-block:: bash ironic_neutron_cleaning_network_name: ""myBaremetalNetwork"" .. note:: Ironic multi-tenancy is an advanced topic that requires the use of a compatible ML2 driver such as ``networking-generic-switch``. .. important:: Provisioning activities on baremetal instances require network access to the Ironic conductor (web) service and other OpenStack APIs. You must ensure routing exists between respective networks for deployments to succeed. Building Ironic ImagesBare Metal provisioning requires two sets of images: the deploy images and the user images. The deploy images are used by the Bare Metal service to prepare the bare metal server for actual OS deployment, whereas the user images are installed on the bare metal server to be used by the end user. There are two types of user images: * partition images * whole disk images For more information on building disk images for use with Ironic, refer to the following documentation: https://docs.openstack.org/ironic/latest/user/creating-images.html For your convenience, the following steps have been provided: <<< update this >>> Creating an Ironic FlavorThe use of flavors are necessary when creating instances using Nova, and baremetal flavors should be used when targeting baremetal nodes for instances. The properties of the flavor, along with the defined resource class, are useful to the scheduler when scheduling against libvirt or ironic compute services. As an example, imagine an Ironic deployment has the following nodes: .. code-block:: bash - node-1: resource_class: ironic-gold properties: cpus: 32 memory_mb: 32768 capabilities: boot_mode: uefi,bios - node-2: resource_class: ironic-silver properties: cpus: 16 memory_mb: 16384 The operator might define the flavors as such: .. code-block:: bash - baremetal-gold resources: ironic-gold: 1 extra_specs: capabilities: boot_mode:bios - baremetal-gold-uefi resources: ironic-gold: 1 extra_specs: capabilities: boot_mode:uefi - baremetal-silver resources: ironic-silver: 1 A user booting an instance with either the baremetal-gold or baremetal-gold-uefi flavor would land on node-1, because capabilities can still be passed down to ironic, and the resource_class on the node matche what is required by flavor. The baremetal-silver flavor would match node-2. A flavor can request exactly one instance of a bare metal resource class. When creating a baremetal flavor, it’s useful to add the RAM and CPU properties as a convenience to users, although they are not used for scheduling. In addition, the DISK property is also not used for scheduling, but is still used to determine the root partition size. openstack flavor create \ --ram 32768 \ --vcpu 32 \ --disk 120 \ baremetal-gold After creation, associate each flavor with one custom resource class. The name of a custom resource class that corresponds to a node’s resource class (in the Bare Metal service) is: * the bare metal node’s resource class all upper-cased * prefixed with CUSTOM_ * all punctuation replaced with an underscore openstack flavor set \ --property resources:CUSTOM_IRONIC_GOLD=1 \ baremetal-gold .. note:: Ensure the resource class defined in the flavor matches that of the baremetal node, otherwise, the scheduler will not find eligible hosts. In the example provided, the resource class is ``ironic-gold``. Another set of flavor properties must be used to disable scheduling based on standard properties for a bare metal flavor: .. code-block:: bash openstack flavor set --property resources:VCPU=0 baremetal-gold openstack flavor set --property resources:MEMORY_MB=0 baremetal-gold openstack flavor set --property resources:DISK_GB=0 baremetal-gold Lastly, a ``boot_option`` capability can be set to speed up booting after the deployment: .. code-block:: bash openstack flavor set --property capabilities:'boot_option=local' baremetal-gold .. note:: Specifying the ``local`` boot option allows the deployed baremetal instance to boot directly to disk instead of network. Enrolling Ironic Nodes ~~~~~~~~~~~~~~~~~~~~~~ Enrolling baremetal nodes makes then available to the Ironic service. The properties of a given node will allow Ironic to determine how an image should be deployed on the node, including using IPMI or vendor-specific out-of-band interfaces. Some properties are optional, and may rely on defaults set by the operator or within OpenStack-Ansible. Others are required, and may be noted as such. Some things should be known about the baremetal node prior to enrollment, including: * Node Name * Driver * Deploy Interface (based on driver) * Provisioning Interface (MAC Address) * IPMI or OOB Credentials * OOB Management IP * Kernel Image UUID (from Glance) * Ramdisk Image UUID (from Glance) * Boot Mode (bios or uefi) * Network Interface (flat or neutron) .. note:: Kernel and ramdisk images may be provided by the ``diskimage-builder`` process, or may be downloaded from opendev.org: https://tarballs.opendev.org/openstack/ironic-python-agent/dib/ The deploy kernel and ramdisk should be updated on a regular basis to match the OpenStack release of the underlying infrastructure. The Ironic Python Agent that runs on the ramdisk interfaces with Ironic APIs, and should be kept in sync. To enroll a node, use the ``openstack baremetal node create`` command. The example below demonstrates the creation of a baremetal node with the following characteristics: .. code-block:: bash node_name=baremetal01 node_mac=""f0:92:1c:0c:1f:88"" # MAC address of PXE interface (em1 as example) deploy_aki=ironic-deploy-aki # Kernel image deploy_ari=ironic-deploy-ari # Ramdisk image resource=ironic-gold # Ironic resource class (matches flavor as CUSTOM_IRONIC_GOLD) phys_arch=x86_64 phys_cpus=32 phys_ram=32768 phys_disk=270 ipmi_username=root ipmi_password=calvincalvin ipmi_address=172.19.0.22 boot_mode=bios network_interface=flat .. important:: The Ironic conductor service must be able to communicate with the OOB IP address to perform provisioning functions. .. code-block:: bash openstack baremetal node create \ --driver ipmi \ --deploy-interface direct \ --driver-info ipmi_username=$ipmi_username \ --driver-info ipmi_password=$ipmi_password \ --driver-info ipmi_address=$ipmi_address \ --driver-info deploy_kernel=`openstack image show $deploy_aki -c id |awk '/id / {print $4}'` \ --driver-info deploy_ramdisk=`openstack image show $deploy_ari -c id |awk '/id / {print $4}'` \ --property cpus=$phys_cpus \ --property memory_mb=$phys_ram \ --property local_gb=$phys_disk \ --property cpu_arch=$phys_arch \ --property capabilities='boot_option:local,disk_label:gpt' \ --resource-class $resource \ --network-interface $network_interface \ --name $node_name The node will first appear in an ``enroll`` state. To make it available for provisioning, set the state to ``manage``, then ``available``: .. code-block:: bash openstack baremetal node manage baremetal01 openstack baremetal node provide baremetal01 openstack baremetal node list --fit +--------------------------------------+-------------+---------------+-------------+--------------------+-------------+ | UUID | Name | Instance UUID | Power State | Provisioning State | Maintenance | +--------------------------------------+-------------+---------------+-------------+--------------------+-------------+ | c362890d-5d7a-4dc3-ad29-7dac0bf49344 | baremetal01 | None | power off | available | False | +--------------------------------------+-------------+---------------+-------------+--------------------+-------------+ Next, create a baremetal port using the ``openstack baremetal port create`` command: node_name=baremetal01 node_mac=""f0:92:1c:0c:1f:88"" openstack baremetal port create $node_mac \ --node `openstack baremetal node show $node_name -c uuid |awk -F ""|"" '/ uuid / {print $3}'` +-----------------------+--------------------------------------+ | Field | Value | +-----------------------+--------------------------------------+ | address | f0:92:1c:0c:1f:88 | | created_at | 2021-12-17T20:36:19+00:00 | | extra | {} | | internal_info | {} | | is_smartnic | False | | local_link_connection | {} | | node_uuid | c362890d-5d7a-4dc3-ad29-7dac0bf49344 | | physical_network | None | | portgroup_uuid | None | | pxe_enabled | True | | updated_at | None | | uuid | 44e5d872-ffa5-45f5-a5aa-7147c523e593 | +-----------------------+--------------------------------------+ .. note:: The baremetal port is used to setup Neutron to provide DHCP services during provisioning. When the ``neutron`` network interface is used, the respective switchport can be managed by OpenStack. Deploy a Baremetal Node Using Ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Baremetal instances can be deployed using the ``openstack server create`` command and a baremetal flavor. Unless the image has been created with support for passwords, an SSH key must be provided. The baremetal instance relies on Neutron DHCP and metadata services, just like a virtual instance. openstack server create \ --flavor baremetal-gold \ --image focal-server-cloudimg-amd64 \ --key-name myKey \ --network myBaremetalNetwork \ myBaremetalInstance .. important:: If you do not have an ssh key readily available, set one up with ``ssh-keygen`` and/or create one with ``openstack keypair create``. Otherwise, you will not be able to connect to the deployed instance.","Configuring the Bare Metal (ironic) service (optional) This feature is experimental at this time and it has not been fully production tested yet. These implementation instructions assume that ironic is being deployed as the sole hypervisor for the region.OpenStack-Ansible deployment#. Modify the environment files and force ``nova-compute`` to run from within a container: sed -i '/is_metal.*/d' /etc/openstack_deploy/env.d/nova.yml Setup a neutron network for use by ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In a general case, neutron networking can be a simple flat network. However, in a complex case, this can be whatever you need and want. Ensure you adjust the deployment accordingly. The following is an example: neutron net-create cleaning-net --shared \ --provider:network_type flat \ --provider:physical_network ironic-net neutron subnet-create ironic-net 172.19.0.0/22 --name ironic-subnet --ip-version=4 \ --allocation-pool start=172.19.1.100,end=172.19.1.200 \ --enable-dhcp \ --dns-nameservers list=true 8.8.4.4 8.8.8.8 Building ironic imagesCreating an ironic flavor#. Create a new flavor called ``my-baremetal-flavor``. The following example sets the CPU architecture for the newly created flavor to be `x86_64`. nova flavor-create ${FLAVOR_NAME} ${FLAVOR_ID} ${FLAVOR_RAM} ${FLAVOR_DISK} ${FLAVOR_CPU} nova flavor-key ${FLAVOR_NAME} set cpu_arch=x86_64 nova flavor-key ${FLAVOR_NAME} set capabilities:boot_option=""local"" .. note:: Ensure the flavor and nodes match when enrolling into ironic. See the documentation on flavors for more information: https://docs.openstack.org/nova/queens/admin/flavors.html After successfully deploying the ironic node on subsequent boots, the instance boots from your local disk as first preference. This speeds up the deployed node's boot time. Alternatively, if this is not set, the ironic node PXE boots first and allows for operator-initiated image updates and other operations. .. note:: The operational reasoning and building an environment to support this use case is not covered here. Enroll ironic nodes ------------------- #. From the utility container, enroll a new baremetal node by executing the following: # Source credentials . ~/openrc # Create the node NODE_HOSTNAME=""myfirstnodename"" IPMI_ADDRESS=""10.1.2.3"" IPMI_USER=""my-ipmi-user"" IPMI_PASSWORD=""my-ipmi-password"" KERNEL_IMAGE=$(glance image-list | awk ""/${IMAGE_NAME}.kernel/ {print \$2}"") INITRAMFS_IMAGE=$(glance image-list | awk ""/${IMAGE_NAME}.initramfs/ {print \$2}"") ironic node-create \ -d agent_ipmitool \ -i ipmi_address=""${IPMI_ADDRESS}"" \ -i ipmi_username=""${IPMI_USER}"" \ -i ipmi_password=""${IPMI_PASSWORD}"" \ -i deploy_ramdisk=""${INITRAMFS_IMAGE}"" \ -i deploy_kernel=""${KERNEL_IMAGE}"" \ -n ${NODE_HOSTNAME} # Create a port for the node NODE_MACADDRESS=""aa:bb:cc:dd:ee:ff"" ironic port-create \ -n $(ironic node-list | awk ""/${NODE_HOSTNAME}/ {print \$2}"") \ -a ${NODE_MACADDRESS} # Associate an image to the node ROOT_DISK_SIZE_GB=40 ironic node-update $(ironic node-list | awk ""/${IMAGE_NAME}/ {print \$2}"") add \ driver_info/deploy_kernel=$KERNEL_IMAGE \ driver_info/deploy_ramdisk=$INITRAMFS_IMAGE \ instance_info/deploy_kernel=$KERNEL_IMAGE \ instance_info/deploy_ramdisk=$INITRAMFS_IMAGE \ instance_info/root_gb=${ROOT_DISK_SIZE_GB} # Add node properties # The property values used here should match the hardware used ironic node-update $(ironic node-list | awk ""/${NODE_HOSTNAME}/ {print \$2}"") add \ properties/cpus=48 \ properties/memory_mb=254802 \ properties/local_gb=80 \ properties/size=3600 \ properties/cpu_arch=x86_64 \ properties/capabilities=memory_mb:254802,local_gb:80,cpu_arch:x86_64,cpus:48,boot_option:local Deploy a baremetal node kicked with ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ You will not have access unless you have a key set within nova before your ironic deployment. If you do not have an ssh key readily available, set one up with ``ssh-keygen``. nova keypair-add --pub-key ~/.ssh/id_rsa.pub admin Now boot a node: .. code-block:: bash nova boot --flavor ${FLAVOR_NAME} --image ${IMAGE_NAME} --key-name admin ${NODE_NAME} ",389,98
