id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~master~If947581b90ced42981c4611c32de8f428a052c69,openstack/neutron,master,If947581b90ced42981c4611c32de8f428a052c69,Add wait for the post-fork event to nb/sb objects,MERGED,2021-03-18 20:03:24.000000000,2021-08-24 10:13:17.000000000,2021-07-19 13:48:52.000000000,"[{'_account_id': 5756}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-18 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b64f38a70a87b24f879880fa12fce0885c8b502', 'message': 'WIP Add a wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}, {'number': 2, 'created': '2021-05-26 13:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b33b67f569a713cd42cb1c36afa9003b7804b987', 'message': 'WIP Add a wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}, {'number': 3, 'created': '2021-05-26 14:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1633356d934fc37b40c6a9435a28fab85835eb83', 'message': 'WIP Add a wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}, {'number': 4, 'created': '2021-05-26 22:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c24dad70ab0d347bc79b4758955236da08cf2fa', 'message': 'Add wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nCloses-Bug: #1929197\nCloses-Bug: #1928794\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}, {'number': 5, 'created': '2021-05-26 22:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b0e2a89041cec15bf44012800fc920d261c1844', 'message': 'Add wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nCloses-Bug: #1929197\nCloses-Bug: #1928794\nCloses-Bug: #1929633\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}, {'number': 6, 'created': '2021-07-13 13:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75711167af2d9a14bb0ba9a8824b717499721707', 'message': 'Add wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nCloses-Bug: #1929197\nCloses-Bug: #1928794\nCloses-Bug: #1929633\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}, {'number': 7, 'created': '2021-07-13 14:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54f5652edee7c7d00d0be01e608d008dda1c08ac', 'message': 'Add wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nCloses-Bug: #1929197\nCloses-Bug: #1928794\nCloses-Bug: #1929633\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}, {'number': 8, 'created': '2021-07-13 14:23:21.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90980f496cfa3cc5df1c93cf834a44f33d3f1f6f', 'message': 'Add wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nCloses-Bug: #1929197\nCloses-Bug: #1928794\nCloses-Bug: #1929633\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n'}]",1,781555,90980f496cfa3cc5df1c93cf834a44f33d3f1f6f,44,6,8,5756,,,0,"Add wait for the post-fork event to nb/sb objects

It is possible for events from the nb/sb to fire before the opposite
db connection is made. These events can call back into driver code
which tries to access the other db before it is connected.

Closes-Bug: #1929197
Closes-Bug: #1928794
Closes-Bug: #1929633
Change-Id: If947581b90ced42981c4611c32de8f428a052c69
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/781555/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,6b64f38a70a87b24f879880fa12fce0885c8b502,," self._ovn_client_inst = ovn_client.OVNClient(self.nb_ovn, self.sb_ovn) self._post_fork_event.wait() return self.nb_ovn @nb_ovn.setter def nb_ovn(self, val): self._nb_ovn = val self._post_fork_event.wait() return self.sb_ovn @sb_ovn.setter def sb_ovn(self, val): self._sb_ovn = val self.nb_ovn, self.sb_ovn = impl_idl_ovn.get_ovn_idls(self, trigger) self.nb_ovn, self.sb_ovn, self.sb_ovn, return int(self.nb_ovn.nb_global.options.get('max_tunid')) if not self.sb_ovn.chassis_exists(host): self.sb_ovn.get_chassis_data_for_ml2_bind_port(context.host)) if not self.nb_ovn: self.nb_ovn = self._ovn_client._nb_idl nat = self.nb_ovn.db_find('NAT', ('logical_port', '=', port_id), ('type', '=', 'dnat_and_snat')).execute() self.nb_ovn.db_set('NAT', nat['_uuid'], ('external_ids', {ovn_const.OVN_FIP_EXT_MAC_KEY: nat['external_mac']})).execute() self.nb_ovn.db_set( self.nb_ovn.db_clear( mac_binds = self.sb_ovn.db_find_rows( self.sb_ovn.db_destroy('MAC_Binding', entry.uuid).execute() host_phynets_map = self.sb_ovn.get_chassis_hostname_and_physnets() if ovn_conf.is_ovn_metadata_enabled() and self.sb_ovn: self.sb_ovn.get_logical_port_chassis_and_datapath(port_id)) self.sb_ovn.get_chassis_metadata_networks(chassis), last_ping = self.nb_ovn.nb_global.external_ids.get( with self.nb_ovn.create_transaction(check_error=True, bump_nb_cfg=True) as txn: txn.add(self.nb_ovn.check_liveness()) for ch in self.sb_ovn.chassis_list().execute(check_error=True): _driver.sb_ovn.set_chassis_neutron_description( _driver.sb_ovn.chassis_del(chassis_name, if_exists=True).execute( _driver.sb_ovn.db_set( _driver.sb_ovn.db_remove("," if not(self._nb_ovn and self._sb_ovn): # Wait until the post_fork_initialize method has finished and # IDLs have been correctly setup. self._post_fork_event.wait() self._ovn_client_inst = ovn_client.OVNClient(self._nb_ovn, self._sb_ovn) # NOTE (twilson): This and sb_ovn can be moved to instance variables # once all references to the private versions are changed return self._nb_ovn return self._sb_ovn self._nb_ovn, self._sb_ovn = impl_idl_ovn.get_ovn_idls(self, trigger) self._nb_ovn, self._sb_ovn, self._sb_ovn, return int(self._nb_ovn.nb_global.options.get('max_tunid')) if not self._sb_ovn.chassis_exists(host): self._sb_ovn.get_chassis_data_for_ml2_bind_port(context.host)) if not self._nb_ovn: self._nb_ovn = self._ovn_client._nb_idl nat = self._nb_ovn.db_find('NAT', ('logical_port', '=', port_id), ('type', '=', 'dnat_and_snat')).execute() self._nb_ovn.db_set('NAT', nat['_uuid'], ('external_ids', {ovn_const.OVN_FIP_EXT_MAC_KEY: nat['external_mac']})).execute() self._nb_ovn.db_set( self._nb_ovn.db_clear( mac_binds = self._sb_ovn.db_find_rows( self._sb_ovn.db_destroy('MAC_Binding', entry.uuid).execute() host_phynets_map = self._sb_ovn.get_chassis_hostname_and_physnets() if ovn_conf.is_ovn_metadata_enabled() and self._sb_ovn: self._sb_ovn.get_logical_port_chassis_and_datapath(port_id)) self._sb_ovn.get_chassis_metadata_networks(chassis), last_ping = self._nb_ovn.nb_global.external_ids.get( with self._nb_ovn.create_transaction(check_error=True, bump_nb_cfg=True) as txn: txn.add(self._nb_ovn.check_liveness()) for ch in self._sb_ovn.chassis_list().execute(check_error=True): _driver._sb_ovn.set_chassis_neutron_description( _driver._sb_ovn.chassis_del(chassis_name, if_exists=True).execute( _driver._sb_ovn.db_set( _driver._sb_ovn.db_remove(",54,50
openstack%2Ftripleo-ansible~master~I4c16d988f898f7a85513fbd06d162d04f65c2c36,openstack/tripleo-ansible,master,I4c16d988f898f7a85513fbd06d162d04f65c2c36,Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode,MERGED,2021-08-12 06:27:11.000000000,2021-08-24 10:10:26.000000000,2021-08-24 10:07:55.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-12 06:27:11.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_composable_network.py', 'tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72590b9da0eb2f9745c4c269ab8fe60ea6f90593', 'message': ""Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode\n\nNeutron does not accept None values for these attributes.\n\n[1] https://github.com/openstack/neutron-lib/blob/master/neutron_lib/api/definitions/subnet.py#L125\n\nCloses-Bug: #1939595\nChange-Id: I4c16d988f898f7a85513fbd06d162d04f65c2c36\n""}]",4,804353,72590b9da0eb2f9745c4c269ab8fe60ea6f90593,26,6,1,8833,,,0,"Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode

Neutron does not accept None values for these attributes.

[1] https://github.com/openstack/neutron-lib/blob/master/neutron_lib/api/definitions/subnet.py#L125

Closes-Bug: #1939595
Change-Id: I4c16d988f898f7a85513fbd06d162d04f65c2c36
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/804353/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/tests/modules/test_tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py']",4,72590b9da0eb2f9745c4c269ab8fe60ea6f90593,, - slaac - slaac - slaac - slaac, - null - null - null - null,16,19
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib34130c15324f197eca275f97c18f24f17d8ced2,openstack/tripleo-heat-templates,stable/wallaby,Ib34130c15324f197eca275f97c18f24f17d8ced2,Example configurable cap add,MERGED,2021-08-23 08:23:00.000000000,2021-08-24 10:07:53.000000000,2021-08-24 10:07:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 08:23:00.000000000', 'files': ['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65e827e5bf60d72d3c7f9b35d21fbe9e65a38988', 'message': 'Example configurable cap add\n\nChange-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2\n(cherry picked from commit a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3)\n'}]",0,805559,65e827e5bf60d72d3c7f9b35d21fbe9e65a38988,13,3,1,4264,,,0,"Example configurable cap add

Change-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2
(cherry picked from commit a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/805559/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",2,65e827e5bf60d72d3c7f9b35d21fbe9e65a38988,collectd-options-stable/wallaby, CollectdContainerAdditionalCapAdd: type: comma_delimited_list description: Additional container capabilities to add to the collectd container. By default is appended to IPC_LOCK. default: [] list_concat: - {get_param: CollectdContainerAdditionalCapAdd} - [IPC_LOCK], - IPC_LOCK,17,3
openstack%2Fos-brick~master~I10a22f47adab2d7e88b6a584edbefc3fb2f4458d,openstack/os-brick,master,I10a22f47adab2d7e88b6a584edbefc3fb2f4458d,Add Python3 yoga unit tests,MERGED,2021-08-23 20:49:03.000000000,2021-08-24 10:04:44.000000000,2021-08-24 00:42:45.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 20:49:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4f63dd045ca07f66003d1ccbbb19423ee91cf926', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I10a22f47adab2d7e88b6a584edbefc3fb2f4458d\n'}]",0,805705,4f63dd045ca07f66003d1ccbbb19423ee91cf926,15,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I10a22f47adab2d7e88b6a584edbefc3fb2f4458d
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/05/805705/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f63dd045ca07f66003d1ccbbb19423ee91cf926,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fpuppet-glance~stable%2Fwallaby~If0aa39e31bd59a0a14c24f4835a2c355305798b3,openstack/puppet-glance,stable/wallaby,If0aa39e31bd59a0a14c24f4835a2c355305798b3,Add support for healthcheck middleware options,MERGED,2021-07-12 02:24:47.000000000,2021-08-24 09:58:15.000000000,2021-08-24 09:55:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 02:24:47.000000000', 'files': ['spec/classes/glance_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-902378a7b8bf405f.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8a91ada1e149e17c11740bebc17682c59936de37', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: If0aa39e31bd59a0a14c24f4835a2c355305798b3\n(cherry picked from commit dd731f5d600ac15c1e74068cb267e5421ddd53c5)\n'}]",0,800376,8a91ada1e149e17c11740bebc17682c59936de37,8,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: If0aa39e31bd59a0a14c24f4835a2c355305798b3
(cherry picked from commit dd731f5d600ac15c1e74068cb267e5421ddd53c5)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/76/800376/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/healthcheck-902378a7b8bf405f.yaml', 'spec/classes/glance_healthcheck_spec.rb', 'manifests/healthcheck.pp']",3,8a91ada1e149e17c11740bebc17682c59936de37,healthcheck-stable/wallaby,"# == Class: glance::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class glance::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include glance::deps oslo::healthcheck { 'glance_api_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Fpuppet-glance~stable%2Fwallaby~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,stable/wallaby,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-23 23:28:57.000000000,2021-08-24 09:55:30.000000000,2021-08-24 09:55:30.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 23:28:57.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9e1bba314bb6d17c012964c0b0baf20da4c52743', 'message': 'Fix wrong parameter name in deprecation warning\n\nChange-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93\n(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)\n'}]",0,805750,9e1bba314bb6d17c012964c0b0baf20da4c52743,6,2,1,9816,,,0,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/50/805750/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,9e1bba314bb6d17c012964c0b0baf20da4c52743,,glance::backend::multistore::cinder::cinder_os_region_name instead.'),cinder::backend::multistore::cinder::cinder_os_region_name instead.'),1,1
openstack%2Fpuppet-glance~stable%2Fvictoria~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,stable/victoria,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-23 23:29:26.000000000,2021-08-24 09:55:29.000000000,2021-08-24 09:55:29.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 23:29:26.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/eeb24743f208d0c3974e4c5a97e5b00f2b6a1aad', 'message': 'Fix wrong parameter name in deprecation warning\n\nChange-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93\n(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)\n(cherry picked from commit 9e1bba314bb6d17c012964c0b0baf20da4c52743)\n'}]",0,805751,eeb24743f208d0c3974e4c5a97e5b00f2b6a1aad,6,2,1,9816,,,0,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)
(cherry picked from commit 9e1bba314bb6d17c012964c0b0baf20da4c52743)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/51/805751/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,eeb24743f208d0c3974e4c5a97e5b00f2b6a1aad,,glance::backend::multistore::cinder::cinder_os_region_name instead.'),cinder::backend::multistore::cinder::cinder_os_region_name instead.'),1,1
openstack%2Fdiskimage-builder~master~Ic1430df06b9090688ef07037af5d50be16935558,openstack/diskimage-builder,master,Ic1430df06b9090688ef07037af5d50be16935558,Add new element rocky,ABANDONED,2021-08-24 08:26:09.000000000,2021-08-24 09:51:31.000000000,,[],"[{'number': 1, 'created': '2021-08-24 08:26:09.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/test-output-formats', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/README.rst', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/212a52bc76c717f1d9e997a26c7d8e40dc5aaa1d', 'message': ""Add new element rocky\n\nThis patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux\n\nChange-Id: Ic1430df06b9090688ef07037af5d50be16935558\n""}]",0,805793,212a52bc76c717f1d9e997a26c7d8e40dc5aaa1d,4,0,1,33811,,,0,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: Ic1430df06b9090688ef07037af5d50be16935558
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/93/805793/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/test-output-formats', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/README.rst', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image']",19,212a52bc76c717f1d9e997a26c7d8e40dc5aaa1d,feat/add-rocky-linux,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail [ -n ""$ARCH"" ] [ -n ""$TARGET_ROOT"" ] if [[ ""amd64 x86_64"" =~ ""$ARCH"" ]]; then ARCH=""x86_64"" DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images} else echo 'centos root element only support the x86_64 for $ARCH' exit 1 fi DIB_LOCAL_IMAGE=${DIB_LOCAL_IMAGE:-} if [ -n ""$DIB_LOCAL_IMAGE"" ]; then IMAGE_LOCATION=$DIB_LOCAL_IMAGE # No need to copy a local image into the cache directory, so just specify # the cached path as the original path. CACHED_IMAGE=$IMAGE_LOCATION BASE_IMAGE_FILE=$(basename $DIB_LOCAL_IMAGE) BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz else DIB_FLAVOR=${DIB_FLAVOR:-GenericCloud} BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-$(curl -s https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images/ | grep -o ""Rocky-.[^>]*${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1)} BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz IMAGE_LOCATION=$DIB_CLOUD_IMAGES/$BASE_IMAGE_FILE CACHED_IMAGE=$DIB_IMAGE_CACHE/$BASE_IMAGE_FILE fi $TMP_HOOKS_PATH/bin/extract-image $BASE_IMAGE_FILE $BASE_IMAGE_TAR $IMAGE_LOCATION $CACHED_IMAGE ",,149,4
openstack%2Fpuppet-heat~master~I57a8e8b9643d999c8ed379895f998ee1d09fb1a8,openstack/puppet-heat,master,I57a8e8b9643d999c8ed379895f998ee1d09fb1a8,Migrate max_stacks_per_tenant to heat::engine,MERGED,2021-08-06 13:56:00.000000000,2021-08-24 09:48:59.000000000,2021-08-24 09:46:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 13:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/805e11061ad5d2b16a83b9bdbade637e85fc767d', 'message': 'Migrate max_stacks_per_tenant to heat::engine\n\n... because the max_stacks_per_tenant parameter is used by heat-engine,\nand the very similar max_resources_per_stack parameter is implemented\nin heat::engine.\n\nChange-Id: I57a8e8b9643d999c8ed379895f998ee1d09fb1a8\n'}, {'number': 2, 'created': '2021-08-06 15:20:28.000000000', 'files': ['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'manifests/init.pp', 'spec/classes/heat_init_spec.rb', 'releasenotes/notes/engine-max_stacks_per_tenant-f3b03772b7b0f500.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/e79e74cd089622bc33ebcc0ceb2bb17c398e216f', 'message': 'Migrate max_stacks_per_tenant to heat::engine\n\n... because the max_stacks_per_tenant parameter is used by heat-engine,\nand the very similar max_resources_per_stack parameter is implemented\nin heat::engine.\n\nChange-Id: I57a8e8b9643d999c8ed379895f998ee1d09fb1a8\n'}]",0,803751,e79e74cd089622bc33ebcc0ceb2bb17c398e216f,9,3,2,9816,,,0,"Migrate max_stacks_per_tenant to heat::engine

... because the max_stacks_per_tenant parameter is used by heat-engine,
and the very similar max_resources_per_stack parameter is implemented
in heat::engine.

Change-Id: I57a8e8b9643d999c8ed379895f998ee1d09fb1a8
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/51/803751/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'manifests/init.pp', 'spec/classes/heat_init_spec.rb', 'releasenotes/notes/engine-max_stacks_per_tenant-f3b03772b7b0f500.yaml']",5,805e11061ad5d2b16a83b9bdbade637e85fc767d,engine-param,--- features: - | The ``heat::max_stacks_per_tenant`` parameter has been deprecated in favor of the new ``heat::engine::max_stacks_per_tenant`` parameter. ,,38,11
openstack%2Fpuppet-neutron~stable%2Fwallaby~I0921a1d7012a76b9e6523715ea569f2476426d6a,openstack/puppet-neutron,stable/wallaby,I0921a1d7012a76b9e6523715ea569f2476426d6a,Get rid of deprecated is_array method,MERGED,2021-08-17 14:32:45.000000000,2021-08-24 09:47:28.000000000,2021-08-24 09:47:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 14:32:45.000000000', 'files': ['spec/classes/neutron_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4b5e10094dbfda974f3ee26fb3eb8dc69761b007', 'message': 'Get rid of deprecated is_array method\n\n... and update the logic to handle neutron::service_plugins to follow\nexisting implementations to handle ListOpt. The updated logic allows\nusing a flat string which is useful when only one item is used. Also,\nit is enforced the actual parameter is removed from conf file when\nthe puppet parameter is set to $::os_service_default.\n\nCloses-Bug: #1939088\nChange-Id: I0921a1d7012a76b9e6523715ea569f2476426d6a\n(cherry picked from commit a60669b6e46e4f00570a0c39bf3dfd286e28f5a3)\n'}]",0,804860,4b5e10094dbfda974f3ee26fb3eb8dc69761b007,7,3,1,9816,,,0,"Get rid of deprecated is_array method

... and update the logic to handle neutron::service_plugins to follow
existing implementations to handle ListOpt. The updated logic allows
using a flat string which is useful when only one item is used. Also,
it is enforced the actual parameter is removed from conf file when
the puppet parameter is set to $::os_service_default.

Closes-Bug: #1939088
Change-Id: I0921a1d7012a76b9e6523715ea569f2476426d6a
(cherry picked from commit a60669b6e46e4f00570a0c39bf3dfd286e28f5a3)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/60/804860/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_init_spec.rb', 'manifests/init.pp']",2,4b5e10094dbfda974f3ee26fb3eb8dc69761b007,bug/1939088-stable/wallaby," neutron_config { 'DEFAULT/service_plugins': value => join(any2array($service_plugins), ',')"," if ! is_service_default ($service_plugins) and ($service_plugins) { if is_array($service_plugins) { neutron_config { 'DEFAULT/service_plugins': value => join($service_plugins, ',') } } else { fail('service_plugins should be an array.') }",5,8
openstack%2Fpuppet-horizon~stable%2Fussuri~I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,openstack/puppet-horizon,stable/ussuri,I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,Add support for independent heat-dashboard configurations,MERGED,2021-07-25 23:46:29.000000000,2021-08-24 09:47:22.000000000,2021-08-24 09:44:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 23:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/d346bbb2b156bcdd8e4d4f830cbfadfa82fbba30', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nConflicts:\n\tmanifests/init.pp\n\tmanifests/params.pp\n\tspec/classes/horizon_init_spec.rb\n\ttemplates/local_settings.py.erb\n\nBackport note:\nTo minimize effect of this backport, the following change was made.\n- The enable_user_pass parameter is not deprecated by this patch.\n\n- Users can set the enable_user_pass parameter to undef to remove\n  OPENSTACK_HEAT_STACK from local_settings.\n\n- heatclient logging setting is left in local_settings, because\n  consistent configuration is added.\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n(cherry picked from commit 382877dd4c8ee321eff1846c7c7afe4104dbd58f)\n(cherry picked from commit 655e0df25e40b401d2daa5d673a416215ccd17b7)\n(cherry picked from commit 80acdcca4dcbd058d72b5099054cc6b1b8b798b1)\n'}, {'number': 2, 'created': '2021-08-05 09:59:04.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/dashboards/heat.pp', 'manifests/init.pp', 'manifests/params.pp', 'releasenotes/notes/heat-dashboard-c34cea1d256164cd.yaml', 'spec/classes/horizon_init_spec.rb', 'templates/_1699_orchestration_settings.py.erb', 'spec/classes/horizon_dashboards_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/bf021098cc262097fd7945f284d04b46c69a2b66', 'message': 'Add support for independent heat-dashboard configurations\n\nCurrently horizon supports per-dashboard configurations in\n/etc/openstack-dashboard/local_settings.d. Each dashboard plugin\nprovides a specific file to define its parameters, and any parameters\nused in dashboard plugins have been removed from the base\nlocal_settings(.py) in horizon repo.\n\nTo follow how each plugin is supposed to have its configurations\nmanaged, this change introduces an independent file for heat-dashboard.\nSupport for the other dashboards like manila-ui, octavia-ui, and etc\nwill be added later.\n\nConflicts:\n\tmanifests/init.pp\n\tmanifests/params.pp\n\tspec/classes/horizon_init_spec.rb\n\ttemplates/local_settings.py.erb\n\nBackport note:\nTo minimize effect of this backport, the following change was made.\n- The enable_user_pass parameter is not deprecated by this patch.\n\n- Users can set the enable_user_pass parameter to undef to remove\n  OPENSTACK_HEAT_STACK from local_settings.\n\n- heatclient logging setting is left in local_settings, because\n  consistent configuration is added.\n\nBackport note to Ussuri:\n- The log_handlers option is not available in Ussuri so it is replaced\n  by the old log_handler option.\n- This change includes what was fixed by follow-up commit[1] in\n  Victoria.\n  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e\n\nChange-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9\n(cherry picked from commit 382877dd4c8ee321eff1846c7c7afe4104dbd58f)\n(cherry picked from commit 655e0df25e40b401d2daa5d673a416215ccd17b7)\n(cherry picked from commit 80acdcca4dcbd058d72b5099054cc6b1b8b798b1)\n'}]",2,802202,bf021098cc262097fd7945f284d04b46c69a2b66,12,3,2,9816,,,0,"Add support for independent heat-dashboard configurations

Currently horizon supports per-dashboard configurations in
/etc/openstack-dashboard/local_settings.d. Each dashboard plugin
provides a specific file to define its parameters, and any parameters
used in dashboard plugins have been removed from the base
local_settings(.py) in horizon repo.

To follow how each plugin is supposed to have its configurations
managed, this change introduces an independent file for heat-dashboard.
Support for the other dashboards like manila-ui, octavia-ui, and etc
will be added later.

Conflicts:
	manifests/init.pp
	manifests/params.pp
	spec/classes/horizon_init_spec.rb
	templates/local_settings.py.erb

Backport note:
To minimize effect of this backport, the following change was made.
- The enable_user_pass parameter is not deprecated by this patch.

- Users can set the enable_user_pass parameter to undef to remove
  OPENSTACK_HEAT_STACK from local_settings.

- heatclient logging setting is left in local_settings, because
  consistent configuration is added.

Backport note to Ussuri:
- The log_handlers option is not available in Ussuri so it is replaced
  by the old log_handler option.
- This change includes what was fixed by follow-up commit[1] in
  Victoria.
  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e

Change-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9
(cherry picked from commit 382877dd4c8ee321eff1846c7c7afe4104dbd58f)
(cherry picked from commit 655e0df25e40b401d2daa5d673a416215ccd17b7)
(cherry picked from commit 80acdcca4dcbd058d72b5099054cc6b1b8b798b1)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/02/802202/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/dashboards/heat.pp', 'templates/local_settings.py.erb', 'manifests/init.pp', 'manifests/params.pp', 'releasenotes/notes/heat-dashboard-c34cea1d256164cd.yaml', 'spec/classes/horizon_init_spec.rb', 'templates/_1699_orchestration_settings.py.erb', 'spec/classes/horizon_dashboards_heat_spec.rb']",8,d346bbb2b156bcdd8e4d4f830cbfadfa82fbba30,puppet-horizon-dashboards-stable/victoria-stable/ussuri,"require 'spec_helper' describe 'horizon::dashboards::heat' do let :params do {} end shared_examples_for 'horizon::dashboards::heat' do context 'with default parameters' do let(:pre_condition) do <<-eos class { 'horizon': secret_key => 'elj1IWiLoWHgcyYxFVLj7cM5rGOOxWl0', } eos end it 'installs heat-dashboard package' do is_expected.to contain_package('heat-dashboard').with( :ensure => 'present', :name => platform_params[:heat_dashboard_package_name], :tag => ['openstack', 'horizon-package'] ) end it 'generates _1699_orchestration_settings.py' do verify_concat_fragment_contents(catalogue, '_1699_orchestration_settings.py', [ ""settings.POLICY_FILES.update({"", "" 'orchestration': 'heat_policy.yaml',"", ""})"" ]) verify_concat_fragment_contents(catalogue, '_1699_orchestration_settings.py', [ ""OPENSTACK_HEAT_STACK = {"", "" 'enable_user_pass': True,"", ""}"", ]) end end context 'with enable_user_pass disabled' do let(:pre_condition) do <<-eos class { 'horizon': enable_user_pass => false, secret_key => 'elj1IWiLoWHgcyYxFVLj7cM5rGOOxWl0', } eos end before do # NOTE(tkajinam): We should test the enable_user_pass parameter in this # class but setting undef in the base horizon class # doesn't work for some reason... params.merge!({ :enable_user_pass => false }) end it { verify_concat_fragment_contents(catalogue, '_1699_orchestration_settings.py', [ ""OPENSTACK_HEAT_STACK = {"", "" 'enable_user_pass': False,"", ""}"", ]) } end context 'without the horizon class defined' do it { should raise_error(Puppet::Error) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :heat_dashboard_package_name => 'python3-heat-dashboard' } when 'RedHat' { :heat_dashboard_package_name => 'openstack-heat-ui' } end end it_behaves_like 'horizon::dashboards::heat' end end end ",,241,2
openstack%2Fpuppet-glance~stable%2Fussuri~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,stable/ussuri,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-23 23:30:08.000000000,2021-08-24 09:43:25.000000000,2021-08-24 09:43:25.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 23:30:08.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5abcb57014b44e48384677294e21ea1ca8775a7e', 'message': 'Fix wrong parameter name in deprecation warning\n\nChange-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93\n(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)\n(cherry picked from commit 9e1bba314bb6d17c012964c0b0baf20da4c52743)\n(cherry picked from commit eeb24743f208d0c3974e4c5a97e5b00f2b6a1aad)\n'}]",0,805752,5abcb57014b44e48384677294e21ea1ca8775a7e,6,2,1,9816,,,0,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)
(cherry picked from commit 9e1bba314bb6d17c012964c0b0baf20da4c52743)
(cherry picked from commit eeb24743f208d0c3974e4c5a97e5b00f2b6a1aad)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/52/805752/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,5abcb57014b44e48384677294e21ea1ca8775a7e,,glance::backend::multistore::cinder::cinder_os_region_name instead.'),cinder::backend::multistore::cinder::cinder_os_region_name instead.'),1,1
openstack%2Fpuppet-neutron~master~Ie13e4af376e52b4da88c208819706bf574d08fb1,openstack/puppet-neutron,master,Ie13e4af376e52b4da88c208819706bf574d08fb1,Add support for oslo.cache options,MERGED,2021-08-23 05:05:39.000000000,2021-08-24 09:37:34.000000000,2021-08-24 09:35:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 05:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/09dfbe8a20dc85dff3096ab1257e96385a665650', 'message': 'Add support for oslo.cache options\n\nNeutron uses oslo.cache options for caching. This change adds support\nfor the options implemented in the library.\n\nChange-Id: Ie13e4af376e52b4da88c208819706bf574d08fb1\n'}, {'number': 2, 'created': '2021-08-23 05:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f5ed2629367a2ecac8cc58250192ce3821c43f66', 'message': 'Add support for oslo.cache options\n\nNeutron uses oslo.cache options for caching. This change adds support\nfor the options implemented in the library.\n\nChange-Id: Ie13e4af376e52b4da88c208819706bf574d08fb1\n'}, {'number': 3, 'created': '2021-08-23 05:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/faecf3c454d29f9f894b7112e8e7a500a6100d11', 'message': 'Add support for oslo.cache options\n\nNeutron uses oslo.cache options for caching. This change adds support\nfor the options implemented in the library.\n\nChange-Id: Ie13e4af376e52b4da88c208819706bf574d08fb1\n'}, {'number': 4, 'created': '2021-08-23 05:36:33.000000000', 'files': ['manifests/cache.pp', 'releasenotes/notes/cache-opts-1948574d59cde1b0.yaml', 'spec/classes/neutron_cache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/05f2520946d745bcf1c4f09642b89a1bc96472fe', 'message': 'Add support for oslo.cache options\n\nNeutron uses oslo.cache options for caching. This change adds support\nfor the options implemented in the library.\n\nChange-Id: Ie13e4af376e52b4da88c208819706bf574d08fb1\n'}]",0,805570,05f2520946d745bcf1c4f09642b89a1bc96472fe,11,3,4,9816,,,0,"Add support for oslo.cache options

Neutron uses oslo.cache options for caching. This change adds support
for the options implemented in the library.

Change-Id: Ie13e4af376e52b4da88c208819706bf574d08fb1
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/70/805570/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cache.pp', 'releasenotes/notes/cache-opts-1948574d59cde1b0.yaml', 'spec/classes/neutron_cache_spec.rb']",3,09dfbe8a20dc85dff3096ab1257e96385a665650,oslo-cache,"require 'spec_helper' describe 'neutron::cache' do let :params do {} end shared_examples_for 'neutron::cache' do context 'with default parameters' do it 'configures cache' do is_expected.to contain_oslo__cache('neutron_config').with( :config_prefix => '<SERVICE DEFAULT>', :expiration_time => '<SERVICE DEFAULT>', :backend => '<SERVICE DEFAULT>', :backend_argument => '<SERVICE DEFAULT>', :proxies => '<SERVICE DEFAULT>', :enabled => '<SERVICE DEFAULT>', :debug_cache_backend => '<SERVICE DEFAULT>', :memcache_servers => '<SERVICE DEFAULT>', :memcache_dead_retry => '<SERVICE DEFAULT>', :memcache_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_pool_connection_get_timeout => '<SERVICE DEFAULT>', :tls_enabled => '<SERVICE DEFAULT>', :tls_cafile => '<SERVICE DEFAULT>', :tls_certfile => '<SERVICE DEFAULT>', :tls_keyfile => '<SERVICE DEFAULT>', :tls_allowed_ciphers => '<SERVICE DEFAULT>', :manage_backend_package => true, ) end end context 'with overridden parameters' do let :params do { :config_prefix => 'prefix', :expiration_time => 3600, :backend => 'oslo_cache.memcache_pool', :proxies => ['proxy01:8888', 'proxy02:8888'], :enabled => true, :debug_cache_backend => false, :memcache_servers => ['memcached01:11211', 'memcached02:11211'], :memcache_dead_retry => '60', :memcache_socket_timeout => '300.0', :memcache_pool_maxsize => '10', :memcache_pool_unused_timeout => '120', :memcache_pool_connection_get_timeout => '360', :tls_enabled => false, :tls_cafile => nil, :tls_certfile => nil, :tls_keyfile => nil, :tls_allowed_ciphers => nil, :manage_backend_package => false, } end it 'configures cache' do is_expected.to contain_oslo__cache('neutron_config').with( :config_prefix => 'prefix', :expiration_time => 3600, :backend => 'oslo_cache.memcache_pool' :backend_argument => '<SERVICE DEFAULT>', :proxies => ['proxy01:8888', 'proxy02:8888'], :enabled => true, :debug_cache_backend => false, :memcache_servers => ['memcached01:11211', 'memcached02:11211'], :memcache_dead_retry => '60', :memcache_socket_timeout => '300.0', :memcache_pool_maxsize => '10', :memcache_pool_unused_timeout => '120', :memcache_pool_connection_get_timeout => '360', :tls_enabled => false, :tls_cafile => nil, :tls_certfile => nil, :tls_keyfile => nil, :tls_allowed_ciphers => nil, :manage_backend_package => false, ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'neutron::cache' end end end ",,269,0
openstack%2Fpuppet-neutron~master~I4126746162bc2c95ee7669d89140692f82234cc7,openstack/puppet-neutron,master,I4126746162bc2c95ee7669d89140692f82234cc7,Remove unnecessary array casting,MERGED,2021-08-11 11:37:05.000000000,2021-08-24 09:35:43.000000000,2021-08-24 09:35:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 11:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a28a6060e0db1d0ecb6fbf3e8e6a627da6af6cd0', 'message': 'Remove unnecessary array casting\n\nChange-Id: I4126746162bc2c95ee7669d89140692f82234cc7\n'}, {'number': 2, 'created': '2021-08-11 11:38:21.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/510c77b40abb87ed7db4856911293d9d8d588f4b', 'message': 'Remove unnecessary array casting\n\nChange-Id: I4126746162bc2c95ee7669d89140692f82234cc7\n'}]",0,804227,510c77b40abb87ed7db4856911293d9d8d588f4b,8,3,2,9816,,,0,"Remove unnecessary array casting

Change-Id: I4126746162bc2c95ee7669d89140692f82234cc7
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/27/804227/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/neutron_agents_ml2_ovs_spec.rb'],1,a28a6060e0db1d0ecb6fbf3e8e6a627da6af6cd0,bz/1990357, should contain_neutron_agent_ovs('agent/extensions').with_value('<SERVICE DEFAULT>') should contain_neutron_agent_ovs('agent/minimize_polling').with_value('<SERVICE DEFAULT>') should contain_neutron_agent_ovs('agent/tunnel_csum').with_value('<SERVICE DEFAULT>') should contain_neutron_agent_ovs('ovs/datapath_type').with_value('<SERVICE DEFAULT>') should contain_neutron_agent_ovs('ovs/vhostuser_socket_dir').with_value('<SERVICE DEFAULT>') with_value('<SERVICE DEFAULT>') should contain_neutron_agent_ovs('agent/explicitly_egress_direct').with_value('<SERVICE DEFAULT>'), should contain_neutron_agent_ovs('agent/extensions').with_value(['<SERVICE DEFAULT>']) should contain_neutron_agent_ovs('agent/minimize_polling').with_value(['<SERVICE DEFAULT>']) should contain_neutron_agent_ovs('agent/tunnel_csum').with_value(['<SERVICE DEFAULT>']) should contain_neutron_agent_ovs('ovs/datapath_type').with_value(['<SERVICE DEFAULT>']) should contain_neutron_agent_ovs('ovs/vhostuser_socket_dir').with_value(['<SERVICE DEFAULT>']) with_value(['<SERVICE DEFAULT>']) should contain_neutron_agent_ovs('agent/explicitly_egress_direct').with_value(['<SERVICE DEFAULT>']),7,7
openstack%2Fpuppet-nova~master~I5abd8d7f667a4863ae9c26d3936c845585d3d896,openstack/puppet-nova,master,I5abd8d7f667a4863ae9c26d3936c845585d3d896,Remove deprecated max_concurrent_builds from nova::compute::ironic,MERGED,2021-08-19 00:52:38.000000000,2021-08-24 09:32:31.000000000,2021-08-24 09:30:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 00:52:38.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/remove-ironic-max_concurrent_builds-c1ca15bb24bba255.yaml', 'manifests/compute/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0cba8bc924ea5bd25f55540faa737678a768bf27', 'message': 'Remove deprecated max_concurrent_builds from nova::compute::ironic\n\n... because the parameter was migrated to base nova::compute during\nVictoria cycle and has been deprecated since then.\n\nChange-Id: I5abd8d7f667a4863ae9c26d3936c845585d3d896\n'}]",0,805092,0cba8bc924ea5bd25f55540faa737678a768bf27,8,3,1,9816,,,0,"Remove deprecated max_concurrent_builds from nova::compute::ironic

... because the parameter was migrated to base nova::compute during
Victoria cycle and has been deprecated since then.

Change-Id: I5abd8d7f667a4863ae9c26d3936c845585d3d896
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/92/805092/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'releasenotes/notes/remove-ironic-max_concurrent_builds-c1ca15bb24bba255.yaml', 'manifests/compute/ironic.pp']",3,0cba8bc924ea5bd25f55540faa737678a768bf27,,,"# [*max_concurrent_builds*] # (optional) Maximum number of instance builds to run concurrently # Defaults to undef # # DEPRECATED PARAMETERS $max_concurrent_builds = undef, if $max_concurrent_builds != undef { warning('The nova::compute::ironic::max_concurrent_builds parameter is deprecated \ and will be removed in a future release. Use nova::compute::max_concurrent_builds instead.') } ",6,17
openstack%2Fopenstack-ansible-repo_server~master~I983bdc86f61768b1e1cfb713a220c75ddf8ec5ec,openstack/openstack-ansible-repo_server,master,I983bdc86f61768b1e1cfb713a220c75ddf8ec5ec,Cleanup CentOS 7 vars file,MERGED,2021-08-20 14:52:38.000000000,2021-08-24 09:31:22.000000000,2021-08-24 09:29:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-20 14:52:38.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/28b2f59e3520980a5edf1595ce4d688a5ec1feac', 'message': 'Cleanup CentOS 7 vars file\n\nChange-Id: I983bdc86f61768b1e1cfb713a220c75ddf8ec5ec\n'}]",0,805401,28b2f59e3520980a5edf1595ce4d688a5ec1feac,10,3,1,28619,,,0,"Cleanup CentOS 7 vars file

Change-Id: I983bdc86f61768b1e1cfb713a220c75ddf8ec5ec
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/01/805401/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,28b2f59e3520980a5edf1595ce4d688a5ec1feac,,,"--- # Copyright 2016, Walmart Stores, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. repo_centos_epel_base: ""{{ ansible_facts['distribution_major_version'] ~ '/' ~ ansible_facts['architecture'] }}"" systemd_utils_prefix: ""/lib/systemd"" repo_nginx_pid: /run/nginx.pid rsyncd_service_name: rsyncd repo_server_distro_packages: - git - lsyncd - nginx - openssh-server - rsync - sudo repo_lsyncd_config_file: /etc/lsyncd.conf repo_lsyncd_defaults_file: /etc/sysconfig/lsyncd repo_server_sshd: sshd ",0,35
openstack%2Fpuppet-openstacklib~master~I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5,openstack/puppet-openstacklib,master,I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5,Re-implement openstacklib::policy,MERGED,2021-07-26 12:31:20.000000000,2021-08-24 09:24:34.000000000,2021-08-24 09:22:44.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 12:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c2222a5a2f3aaa254a2e50a9c246b22d451113b4', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 2, 'created': '2021-07-26 12:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/2e38edad9cd596a5916f1a8ca478b5032b793669', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 3, 'created': '2021-07-27 09:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/547dbd64a6512c03ce68c6c6d345975a94525ac2', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 4, 'created': '2021-07-27 13:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/8fa3f0f69cf9d7553b6fdfb531c027a3cc2a3319', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 5, 'created': '2021-07-27 14:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/43c279d7b1b2772c40b42c3deb6ff9463a751db3', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 6, 'created': '2021-07-27 23:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/d70d4a798138449cfa549fd2611f409e0e5c2c7b', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 7, 'created': '2021-07-27 23:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/bb17c00d8dd081a6919a61351810b10dbd0802c8', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 8, 'created': '2021-07-27 23:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f202381d62607e703f9f123cdfc77ce330777c88', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 9, 'created': '2021-07-28 07:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0f0f58609662c3088d56fe2f41b4cd282ff3c76e', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 10, 'created': '2021-07-28 08:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/95374ca14897ea7c54d5ba8f8d1e1c2769e5bdc0', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 11, 'created': '2021-07-28 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/38608dcd0b242187e84173b62dd6616a5b7429ce', 'message': 'WIP: Add support for purging policy rules\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 12, 'created': '2021-08-10 00:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/04fbaf5177db7ad3f1869bf41db40aab47813dc3', 'message': 'Re-implement oslo::policy\n\noslo::policy has never been used in any other modules because it was\nimplemented as a class not reusable for each service.\nThis change re-implements oslo::policy as a defined resource types so\nthat we can use this implementation from each puppet modules.\n\nThe oslo::policy resource type provides the purge_config parameter.\nWhen this parameter is set to true, a policy file is cleared during\nconfiguration process. This allows users to remove any existing rules\nbefore applying their own (no) rules.\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}, {'number': 13, 'created': '2021-08-10 01:25:50.000000000', 'files': ['manifests/policy/default.pp', 'spec/classes/openstacklib_policy_spec.rb', 'spec/defines/openstacklib_policy_spec.rb', 'spec/defines/openstacklib_policy_base_spec.rb', 'releasenotes/notes/purge-policy-file-1ad9f366345142e7.yaml', 'manifests/policy/base.pp', 'manifests/policy.pp', 'spec/defines/openstacklib_policy_default_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/2a53c66ed3e4ae6b1907d824915a59c175eb0258', 'message': 'Re-implement openstacklib::policy\n\nopenstacklib::policy has never been used in any other modules because\nit was implemented as a class not reusable for each service.\nThis change re-implements openstacklib::policy as a defined resource\ntype so that we can use this implementation from each puppet modules.\n\nThe openstacklib::policy resource type provides the purge_config\nparameter. When this parameter is set to true, a policy file is cleared\nduring configuration process. This allows users to remove any existing\nrules before applying their own (no) rules.\n\nChange-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5\n'}]",8,802305,2a53c66ed3e4ae6b1907d824915a59c175eb0258,39,5,13,9816,,,0,"Re-implement openstacklib::policy

openstacklib::policy has never been used in any other modules because
it was implemented as a class not reusable for each service.
This change re-implements openstacklib::policy as a defined resource
type so that we can use this implementation from each puppet modules.

The openstacklib::policy resource type provides the purge_config
parameter. When this parameter is set to true, a policy file is cleared
during configuration process. This allows users to remove any existing
rules before applying their own (no) rules.

Change-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/05/802305/12 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/policy/default.pp', 'manifests/policy.pp', 'manifests/policy/base.pp']",3,c2222a5a2f3aaa254a2e50a9c246b22d451113b4,policy-purge,"# (required) Path to the policy.json file# (required) The key to replace the value for# (optional) The value to set# [*purge_config*] # (optional) Whether to set only the specified policy rules in the policy # file. # Defaults to false. # $value = '', $file_mode = '0640', $file_user = undef, $file_group = undef, $file_format = 'json', $purge_config = false, ensure_resource('openstacklib::policy::default', $file_path, { file_mode => $file_mode, file_user => $file_user, file_group => $file_group, file_format => $file_format, purge_config => $purge_config }) Openstacklib::Policy::Default<| title == $file_path |> Openstacklib::Policy::Default<| title == $file_path |>","# Path to the policy.json file # string; required# The key to replace the value for # string; required; the key to replace the value for# The value to set # string; optional; the value to set $value = '', $file_mode = '0640', $file_user = undef, $file_group = undef, $file_format = 'json', ensure_resource('file', $file_path, { mode => $file_mode, owner => $file_user, group => $file_group, replace => false, # augeas will manage the content, we just need to make sure it exists content => '{}' }) File<| title == $file_path |> if stdlib::extname($file_path) == '.json' { # NOTE(tkajinam): It is likely that user is not aware of migration from # policy.json to policy.yaml fail(""file_path: ${file_path} should be a yaml file instead of a json file"") } ensure_resource('file', $file_path, { mode => $file_mode, owner => $file_user, group => $file_group, replace => false, # augeas will manage the content, we just need to make sure it exists content => '' }) File<| title == $file_path |>",135,41
openstack%2Fpuppet-cinder~master~I20e6952d215d4d1886f09021a12d6c57c59a5d66,openstack/puppet-cinder,master,I20e6952d215d4d1886f09021a12d6c57c59a5d66,Clean up v2 API support,MERGED,2021-08-09 05:29:43.000000000,2021-08-24 09:19:08.000000000,2021-08-24 09:17:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 05:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ad2c5d83e8cd5e7de6826c38014c217a8019c457', 'message': 'Clean up v2 API support\n\nThis change removes the remaining parameters for v2 API support, which\nwere deprecated during the previous Wallaby cycle.\nAlso, enable_v3_api parameter is deprecated because the parameter was\ndeprecated in cinder[1] as part of removal of volume v2 API.\n\n[1] e05b261af7dcd24096b229860df65dff1d385910\n\nChange-Id: I20e6952d215d4d1886f09021a12d6c57c59a5d66\n'}, {'number': 2, 'created': '2021-08-18 14:15:08.000000000', 'files': ['releasenotes/notes/remove-v2-api-a416e6422d54c5f8.yaml', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/40885d15bb92faa3e3902e7505da24c5e7c5fc5e', 'message': 'Clean up v2 API support\n\nThis change removes the remaining parameters for v2 API support, which\nwere deprecated during the previous Wallaby cycle.\nAlso, enable_v3_api parameter is deprecated because the parameter was\ndeprecated in cinder[1] as part of removal of volume v2 API.\n\n[1] e05b261af7dcd24096b229860df65dff1d385910\n\nChange-Id: I20e6952d215d4d1886f09021a12d6c57c59a5d66\n'}]",0,803874,40885d15bb92faa3e3902e7505da24c5e7c5fc5e,10,3,2,9816,,,0,"Clean up v2 API support

This change removes the remaining parameters for v2 API support, which
were deprecated during the previous Wallaby cycle.
Also, enable_v3_api parameter is deprecated because the parameter was
deprecated in cinder[1] as part of removal of volume v2 API.

[1] e05b261af7dcd24096b229860df65dff1d385910

Change-Id: I20e6952d215d4d1886f09021a12d6c57c59a5d66
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/74/803874/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-v2-api-a416e6422d54c5f8.yaml', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp', 'manifests/keystone/auth.pp']",4,ad2c5d83e8cd5e7de6826c38014c217a8019c457,v2-api-removal,,"# DEPRECATED PARAMETRS # # [*password_user_v2*] # (Optional) Password for Cinder v2 user. # Defaults to undef. # # [*email_user_v2*] # (Optional) Email for Cinder v2 user. # Defaults to undef # # [*auth_name_v2*] # (Optional) Username for Cinder v2 service. # Defaults to undef # # [*configure_endpoint_v2*] # (Optional) Should Cinder v2 endpoint be configured? # Defaults to undef # # [*configure_user_v2*] # (Optional) Should the service user be configured for cinder v2? # Defaults to undef # # [*configure_user_role_v2*] # (Optional) Should the admin role be configured for the service user for cinder v2? # Defaults to undef # # [*service_name_v2*] # (Optional) Name of the v2 service. # Defaults to undef # # [*service_type_v2*] # (Optional) Type of API v2 service. # Defaults to undef # # [*service_description_v2*] # (Optional) Description for keystone v2 service. # Defaults to undef # # [*tenant_user_v2*] # (Optional) Tenant for Cinder v2 user. # Defaults to undef # # [*roles_v2*] # (Optional) List of roles assigned to Cinder v2 user # Defaults to undef # # [*public_url_v2*] # (Optional) The v2 endpoint's public url. # This url should *not* contain any trailing '/'. # Defaults to undef # # [*internal_url_v2*] # (Optional) The v2 endpoint's internal url. # This url should *not* contain any trailing '/'. # Defaults to undef # # [*admin_url_v2*] # (Optional) The v2 endpoint's admin url. # This url should *not* contain any trailing '/'. # Defaults to undef # # DEPRECATED PARAMETERS $password_user_v2 = undef, $auth_name_v2 = undef, $tenant_user_v2 = undef, $roles_v2 = undef, $email_user_v2 = undef, $public_url_v2 = undef, $internal_url_v2 = undef, $admin_url_v2 = undef, $configure_endpoint_v2 = undef, $configure_user_v2 = undef, $configure_user_role_v2 = undef, $service_name_v2 = undef, $service_type_v2 = undef, $service_description_v2 = undef, $deprecated_v2_param_names = [ 'password_user_v2', 'auth_name_v2', 'tenant_user_v2', 'roles_v2', 'email_user_v2', 'public_url_v2', 'internal_url_v2', 'admin_url_v2', 'configure_endpoint_v2', 'configure_user_v2', 'configure_user_role_v2', 'service_name_v2', 'service_type_v2', 'service_description_v2', ] $deprecated_v2_param_names.each |$param_name| { $param = getvar($param_name) if $param != undef{ warning(""The ${param_name} parameter is deprecated, has no effect and will be removed in a future release."") } } ",18,119
openstack%2Fpuppet-oslo~master~I6dc1b1bd1f49ffa6e49e5e08e2462974c89309f5,openstack/puppet-oslo,master,I6dc1b1bd1f49ffa6e49e5e08e2462974c89309f5,[oslo.middleware] Add support for basic auth middleware options,MERGED,2021-08-21 11:13:43.000000000,2021-08-24 09:15:12.000000000,2021-08-24 09:13:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 11:13:43.000000000', 'files': ['manifests/middleware.pp', 'releasenotes/notes/basic-auth-middleware-64bf02c8f2a710f6.yaml', 'spec/defines/oslo_middleware_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/ce716972b96ab6eafbada54da205dcdfda2af90b', 'message': '[oslo.middleware] Add support for basic auth middleware options\n\nThis change introduces support for options of basic auth middleware[1],\nwhich was implemented during the Xena cycle.\n\n[1] da7987ca926e9bd82ff2989a920ea9740da24f95\n\nChange-Id: I6dc1b1bd1f49ffa6e49e5e08e2462974c89309f5\n'}]",0,805478,ce716972b96ab6eafbada54da205dcdfda2af90b,9,3,1,9816,,,0,"[oslo.middleware] Add support for basic auth middleware options

This change introduces support for options of basic auth middleware[1],
which was implemented during the Xena cycle.

[1] da7987ca926e9bd82ff2989a920ea9740da24f95

Change-Id: I6dc1b1bd1f49ffa6e49e5e08e2462974c89309f5
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/78/805478/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/middleware.pp', 'releasenotes/notes/basic-auth-middleware-64bf02c8f2a710f6.yaml', 'spec/defines/oslo_middleware_spec.rb']",3,ce716972b96ab6eafbada54da205dcdfda2af90b,basic-auth," is_expected.to contain_keystone_config('oslo_middleware/http_basic_auth_user_file').with_value('<SERVICE DEFAULT>') :max_request_body_size => 114600, :http_basic_auth_user_file => '/etc/htpasswd', is_expected.to contain_keystone_config('oslo_middleware/http_basic_auth_user_file').with_value('/etc/htpasswd')"," :max_request_body_size => 114600,",19,1
openstack%2Fpuppet-horizon~master~Ic87edc4235221ac4d5c6b624f5e3230e11abd57b,openstack/puppet-horizon,master,Ic87edc4235221ac4d5c6b624f5e3230e11abd57b,Configure logging for oslo_policy module,MERGED,2021-07-20 00:22:15.000000000,2021-08-24 09:14:05.000000000,2021-08-24 09:14:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-20 00:22:15.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a1393cc56528a573bca76044079b1099f76f2879', 'message': 'Configure logging for oslo_policy module\n\nChange-Id: Ic87edc4235221ac4d5c6b624f5e3230e11abd57b\n'}]",0,801404,a1393cc56528a573bca76044079b1099f76f2879,8,4,1,9816,,,0,"Configure logging for oslo_policy module

Change-Id: Ic87edc4235221ac4d5c6b624f5e3230e11abd57b
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/04/801404/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,a1393cc56528a573bca76044079b1099f76f2879,," 'oslo_policy': { # 'handlers': ['console'], 'handlers': ['<%= @log_handlers.join(""', '"") %>'], # 'level': 'DEBUG', 'level': '<%= @log_level %>', 'propagate': False, },",,7,0
openstack%2Fpuppet-openstack-integration~master~I71c057694f153c720b99f877c7760234b3a4ddc6,openstack/puppet-openstack-integration,master,I71c057694f153c720b99f877c7760234b3a4ddc6,Doc: Fix position of scenario001 column,MERGED,2021-07-23 06:29:01.000000000,2021-08-24 09:11:31.000000000,2021-08-24 09:11:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 06:29:01.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4e870e3efe03bff1acfc681d162afc42aef1fef1', 'message': 'Doc: Fix position of scenario001 column\n\nChange-Id: I71c057694f153c720b99f877c7760234b3a4ddc6\n'}]",0,801937,4e870e3efe03bff1acfc681d162afc42aef1fef1,7,3,1,9816,,,0,"Doc: Fix position of scenario001 column

Change-Id: I71c057694f153c720b99f877c7760234b3a4ddc6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/37/801937/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,4e870e3efe03bff1acfc681d162afc42aef1fef1,,|:----------:|:-----------:|:-----------:|:-----------:|:-----------:|:-----------:|:------------:|,|:----------:|:-----------:|------------:|:-----------:|:-----------:|:-----------:|:------------:|,1,1
openstack%2Fpuppet-openstack-integration~master~I9ec2f03d1b83642d9fea11a21af29efc305b5743,openstack/puppet-openstack-integration,master,I9ec2f03d1b83642d9fea11a21af29efc305b5743,Replace deprecated memcached::listen_ip,MERGED,2021-08-06 11:40:21.000000000,2021-08-24 09:11:30.000000000,2021-08-24 09:11:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 11:40:21.000000000', 'files': ['manifests/memcached.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5692684444539c341cd6a015d5b11bf8354c4f5b', 'message': 'Replace deprecated memcached::listen_ip\n\nThe memcached::listen_ip parameter is deprecated since puppet-memcached\nv6.0.0[1] in favor of the new listen parameter.\n\n[1] https://github.com/saz/puppet-memcached/commit/0e99f857\n\nChange-Id: I9ec2f03d1b83642d9fea11a21af29efc305b5743\n'}]",0,803735,5692684444539c341cd6a015d5b11bf8354c4f5b,7,3,1,9816,,,0,"Replace deprecated memcached::listen_ip

The memcached::listen_ip parameter is deprecated since puppet-memcached
v6.0.0[1] in favor of the new listen parameter.

[1] https://github.com/saz/puppet-memcached/commit/0e99f857

Change-Id: I9ec2f03d1b83642d9fea11a21af29efc305b5743
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/803735/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/memcached.pp'],1,5692684444539c341cd6a015d5b11bf8354c4f5b,," listen => $::openstack_integration::config::host, udp_port => 0,"," listen_ip => $::openstack_integration::config::host, udp_port => 0,",2,2
openstack%2Fpuppet-nova~master~I3187f4561f9aae31b04a1858ef912dc25fce0fcb,openstack/puppet-nova,master,I3187f4561f9aae31b04a1858ef912dc25fce0fcb,Remove nova-network parameters left,MERGED,2021-08-19 00:46:54.000000000,2021-08-24 09:11:18.000000000,2021-08-24 09:09:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 00:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cceaa280696b2d0c92b8c402a492a6928608f748', 'message': 'Remove nova-network parameters left\n\n... because these were already deprecated by [1] during Train cycle.\n\n[1] 5a633e8c60413d68f1c4f831e78ea48068115dec\n\nChange-Id: I3187f4561f9aae31b04a1858ef912dc25fce0fcb\n'}, {'number': 2, 'created': '2021-08-19 00:47:21.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/remove-install-bridge-utils-2043526f3cb40ad1.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c222bb0aa758747e360b88be0ce524a4d80be7f6', 'message': 'Remove nova-network parameters left\n\n... because these were already deprecated by [1] during Train cycle.\n\n[1] 5a633e8c60413d68f1c4f831e78ea48068115dec\n\nChange-Id: I3187f4561f9aae31b04a1858ef912dc25fce0fcb\n'}]",0,805091,c222bb0aa758747e360b88be0ce524a4d80be7f6,9,3,2,9816,,,0,"Remove nova-network parameters left

... because these were already deprecated by [1] during Train cycle.

[1] 5a633e8c60413d68f1c4f831e78ea48068115dec

Change-Id: I3187f4561f9aae31b04a1858ef912dc25fce0fcb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/91/805091/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'releasenotes/notes/remove-install-bridge-utils-2043526f3cb40ad1.yaml']",2,cceaa280696b2d0c92b8c402a492a6928608f748,nova-network,--- upgrade: - | The following two parameters of the ``nova::compute`` class have been removed. - ``neutron_enabled`` - ``install_bridge_utils`` ,,8,15
openstack%2Fpuppet-horizon~master~I87dd39ca4e84dd400a686f5acb3a782f036dd5c4,openstack/puppet-horizon,master,I87dd39ca4e84dd400a686f5acb3a782f036dd5c4,Import log suppression from example local_settings,MERGED,2021-07-20 00:28:18.000000000,2021-08-24 09:05:13.000000000,2021-08-24 09:05:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-20 00:28:18.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/08efad2b84f1484f8dcdbded48b5feadcae9bd89', 'message': 'Import log suppression from example local_settings\n\nThis change imports logger definitions to stop verbose logs from\nthe example local_settings file in Horizon, to follow recommendation\nby the Horizon project itself.\n\nChange-Id: I87dd39ca4e84dd400a686f5acb3a782f036dd5c4\n'}]",0,801405,08efad2b84f1484f8dcdbded48b5feadcae9bd89,8,4,1,9816,,,0,"Import log suppression from example local_settings

This change imports logger definitions to stop verbose logs from
the example local_settings file in Horizon, to follow recommendation
by the Horizon project itself.

Change-Id: I87dd39ca4e84dd400a686f5acb3a782f036dd5c4
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/05/801405/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,08efad2b84f1484f8dcdbded48b5feadcae9bd89,," # Logging from django.db.backends is VERY verbose, send to null # by default. 'django.db.backends': { 'handlers': ['null'], 'propagate': False, }, 'requests': { 'handlers': ['null'], 'propagate': False, }, 'urllib3': { 'handlers': ['null'], 'propagate': False, }, 'chardet.charsetprober': { 'handlers': ['null'], 'propagate': False, }, 'iso8601': { 'handlers': ['null'], 'propagate': False, }, 'scss': { 'handlers': ['null'], 'propagate': False, },"," # Logging from django.db.backends is VERY verbose, send to null # by default. 'django.db.backends': { 'handlers': ['null'], 'propagate': False, }, 'requests': { 'handlers': ['null'], 'propagate': False, },",26,10
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I7742120758057b5a00f1d093f355fda3791f4e02,openstack/puppet-openstack-integration,stable/wallaby,I7742120758057b5a00f1d093f355fda3791f4e02,Ubuntu: Use utf8mb3 charset in MySQL,MERGED,2021-08-18 13:45:46.000000000,2021-08-24 08:59:47.000000000,2021-08-24 08:59:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 13:45:46.000000000', 'files': ['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/magnum.pp', 'manifests/zaqar.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/vitrage.pp', 'manifests/ec2api.pp', 'manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'manifests/keystone.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/watcher.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/barbican.pp', 'manifests/heat.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3771872b87b28030bbbcf8bb18ef8f97fde09106', 'message': 'Ubuntu: Use utf8mb3 charset in MySQL\n\nWe are observing the failure in Ubuntu integration job caused by\nbroken idempotency. It seems current mysql/mariadb in Ubuntu replaces\nutf8 with uft8mb3 automatically and this behavior results in unexpected\nchange in second run.\n\nThis change ensures that we use utf8mb3 in Ubuntu to avoid such\nmismatch caused by internal translation. Note this change is intended\nto be a quick gate fix and the charset would be updated to utf8mb4\nlater.\n\nCloses-Bug: #1929073\nChange-Id: I7742120758057b5a00f1d093f355fda3791f4e02\n(cherry picked from commit 085d3569021441810c1dff7c8f4396003c690805)\n'}]",0,805001,3771872b87b28030bbbcf8bb18ef8f97fde09106,7,3,1,9816,,,0,"Ubuntu: Use utf8mb3 charset in MySQL

We are observing the failure in Ubuntu integration job caused by
broken idempotency. It seems current mysql/mariadb in Ubuntu replaces
utf8 with uft8mb3 automatically and this behavior results in unexpected
change in second run.

This change ensures that we use utf8mb3 in Ubuntu to avoid such
mismatch caused by internal translation. Note this change is intended
to be a quick gate fix and the charset would be updated to utf8mb4
later.

Closes-Bug: #1929073
Change-Id: I7742120758057b5a00f1d093f355fda3791f4e02
(cherry picked from commit 085d3569021441810c1dff7c8f4396003c690805)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/01/805001/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/magnum.pp', 'manifests/zaqar.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/vitrage.pp', 'manifests/ec2api.pp', 'manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'manifests/keystone.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/watcher.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/barbican.pp', 'manifests/heat.pp', 'manifests/params.pp']",22,3771872b87b28030bbbcf8bb18ef8f97fde09106,bug/1929073-stable/wallaby, $mysql_charset = 'utf8' if $::operatingsystem == 'Debian' { $mysql_charset = 'utf8' } else { # TODO(tkajinam): This is to fix the gate quickly. We should revisit # this later. utf8mb4 would be the preferred option $mysql_charset = 'utf8mb3' },,32,1
openstack%2Fpuppet-oslo~master~I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f,openstack/puppet-oslo,master,I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f,cache: Simplify handling of list parameters,MERGED,2021-08-23 07:44:32.000000000,2021-08-24 08:59:30.000000000,2021-08-24 08:59:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 07:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/76009934bb23acf6f2d1fb552ad79bc3a23c2871', 'message': 'oslo::cache: Simplify handling of list parameters\n\nChange-Id: I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f\n'}, {'number': 2, 'created': '2021-08-23 07:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/45d1ecee919592ef882fcdf62f5c82920d7c0c75', 'message': 'oslo::cache: Simplify handling of list parameters\n\nChange-Id: I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f\n'}, {'number': 3, 'created': '2021-08-23 07:48:15.000000000', 'files': ['manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/85571a5e23889af188d3fedbbff5543d2fdce544', 'message': 'cache: Simplify handling of list parameters\n\nChange-Id: I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f\n'}]",0,805589,85571a5e23889af188d3fedbbff5543d2fdce544,9,3,3,9816,,,0,"cache: Simplify handling of list parameters

Change-Id: I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/89/805589/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cache.pp'],1,76009934bb23acf6f2d1fb552ad79bc3a23c2871,," 'cache/backend_argument' => { value => join(any2array($backend_argument), ',') }, 'cache/proxies' => { value => join(any2array($proxies), ',') },"," if !is_service_default($backend_argument) { $backend_argument_orig = join(any2array($backend_argument), ',') } else { $backend_argument_orig = $backend_argument } if !is_service_default($proxies) { $proxies_orig = join(any2array($proxies), ',') } else { $proxies_orig = $proxies } 'cache/backend_argument' => { value => $backend_argument_orig }, 'cache/proxies' => { value => $proxies_orig },",2,14
openstack%2Fpuppet-oslo~master~If1f8b1a07d86fe477a6ea5275417278a442b90dc,openstack/puppet-oslo,master,If1f8b1a07d86fe477a6ea5275417278a442b90dc,cache: Parse memcache_server if it's string,MERGED,2021-08-23 07:44:32.000000000,2021-08-24 08:59:28.000000000,2021-08-24 08:59:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 07:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/2d05a4d6154038d17995f48f7ae4113a3d0520b3', 'message': ""oslo::cache: Split memcache_server if it's string\n\nThis change imports implementation from puppet-keystone and allows\npassing a string, which contains a comma-separated list of servers,\nto the memcache_server parameter.\n\nChange-Id: If1f8b1a07d86fe477a6ea5275417278a442b90dc\n""}, {'number': 2, 'created': '2021-08-23 07:47:16.000000000', 'files': ['manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/69db796158af8f9fa1cc080e6af6bf3c6dbcf272', 'message': ""cache: Parse memcache_server if it's string\n\nThis change imports implementation from puppet-keystone and allows\npassing a string, which contains a comma-separated list of servers,\nto the memcache_server parameter.\n\nChange-Id: If1f8b1a07d86fe477a6ea5275417278a442b90dc\n""}]",0,805588,69db796158af8f9fa1cc080e6af6bf3c6dbcf272,8,3,2,9816,,,0,"cache: Parse memcache_server if it's string

This change imports implementation from puppet-keystone and allows
passing a string, which contains a comma-separated list of servers,
to the memcache_server parameter.

Change-Id: If1f8b1a07d86fe477a6ea5275417278a442b90dc
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/88/805588/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cache.pp'],1,2d05a4d6154038d17995f48f7ae4113a3d0520b3,," if is_service_default($memcache_servers) { $memcache_servers_real = $memcache_servers } else { $memcache_servers_array = $memcache_servers ? { String => split($memcache_servers, ','), default => $memcache_servers } $memcache_servers_real = join(any2array(inet6_prefix($memcache_servers_array)), ',') 'cache/memcache_servers' => { value => $memcache_servers_real },"," if !is_service_default($memcache_servers) { $memcache_servers_orig = join(any2array(inet6_prefix($memcache_servers)), ',') } else { $memcache_servers_orig = $memcache_servers 'cache/memcache_servers' => { value => $memcache_servers_orig },",8,4
openstack%2Fpuppet-oslo~stable%2Ftrain~Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,openstack/puppet-oslo,stable/train,Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,Fix the wrong default value of idle_timeout,MERGED,2021-08-21 18:40:50.000000000,2021-08-24 08:59:27.000000000,2021-08-24 08:59:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 18:40:50.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b4f87e89cd5376343cb35c00366629abfa28325a', 'message': 'Fix the wrong default value of idle_timeout\n\nCurrently we always get the following warnings because of the wrong\ndefault value of idle_timeout.\n\nThe idle_timeout parameter is deprecated.\nPlease use connection_recycle_time instead.\n\nThis change fixes the default and ensures that the warning message\nis shown only when the deprecated parameter is set.\n\nConflicts:\n\tmanifests/db.pp\n\nChange-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2\n(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)\n(cherry picked from commit 69263d76c1e9d925b96a36beba521dde756863e8)\n(cherry picked from commit 06766e8789f411e6e135f041a6b264bb70d48ab8)\n'}]",0,805491,b4f87e89cd5376343cb35c00366629abfa28325a,7,3,1,9816,,,0,"Fix the wrong default value of idle_timeout

Currently we always get the following warnings because of the wrong
default value of idle_timeout.

The idle_timeout parameter is deprecated.
Please use connection_recycle_time instead.

This change fixes the default and ensures that the warning message
is shown only when the deprecated parameter is set.

Conflicts:
	manifests/db.pp

Change-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2
(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)
(cherry picked from commit 69263d76c1e9d925b96a36beba521dde756863e8)
(cherry picked from commit 06766e8789f411e6e135f041a6b264bb70d48ab8)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/91/805491/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,b4f87e89cd5376343cb35c00366629abfa28325a,idle_timeout-stable/victoria-stable/ussuri-stable/train," $idle_timeout = undef, if $idle_timeout != undef {"," $idle_timeout = $::os_service_default, if $idle_timeout {",2,2
openstack%2Fpuppet-oslo~stable%2Fussuri~Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,openstack/puppet-oslo,stable/ussuri,Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,Fix the wrong default value of idle_timeout,MERGED,2021-08-21 18:39:28.000000000,2021-08-24 08:59:26.000000000,2021-08-24 08:59:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 18:39:28.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/06766e8789f411e6e135f041a6b264bb70d48ab8', 'message': 'Fix the wrong default value of idle_timeout\n\nCurrently we always get the following warnings because of the wrong\ndefault value of idle_timeout.\n\nThe idle_timeout parameter is deprecated.\nPlease use connection_recycle_time instead.\n\nThis change fixes the default and ensures that the warning message\nis shown only when the deprecated parameter is set.\n\nChange-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2\n(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)\n(cherry picked from commit 69263d76c1e9d925b96a36beba521dde756863e8)\n'}]",0,805510,06766e8789f411e6e135f041a6b264bb70d48ab8,7,3,1,9816,,,0,"Fix the wrong default value of idle_timeout

Currently we always get the following warnings because of the wrong
default value of idle_timeout.

The idle_timeout parameter is deprecated.
Please use connection_recycle_time instead.

This change fixes the default and ensures that the warning message
is shown only when the deprecated parameter is set.

Change-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2
(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)
(cherry picked from commit 69263d76c1e9d925b96a36beba521dde756863e8)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/10/805510/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,06766e8789f411e6e135f041a6b264bb70d48ab8,idle_timeout-stable/victoria-stable/ussuri," $idle_timeout = undef, if $idle_timeout != undef {"," $idle_timeout = $::os_service_default, if $idle_timeout {",2,2
openstack%2Fpuppet-oslo~master~I9eccb6b727f67d1e7b74f886e8c08562f1824aba,openstack/puppet-oslo,master,I9eccb6b727f67d1e7b74f886e8c08562f1824aba,coordination: disable config management,MERGED,2021-05-21 08:16:28.000000000,2021-08-24 08:59:25.000000000,2021-08-24 08:59:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 08:16:28.000000000', 'files': ['spec/defines/oslo_coordination_spec.rb', 'manifests/coordination.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/09ece82775b9fef17bd5ae0d7991c8972431bd31', 'message': 'coordination: disable config management\n\nIt turned out that Gnocchi uses the different parameter name to\ndefine coordination backend. This change introduces a flag to disable\nmanagmeent of coordination parameters so that we can implement that\nmanagement in specific manifets.\n\nChange-Id: I9eccb6b727f67d1e7b74f886e8c08562f1824aba\n'}]",0,792535,09ece82775b9fef17bd5ae0d7991c8972431bd31,7,3,1,9816,,,0,"coordination: disable config management

It turned out that Gnocchi uses the different parameter name to
define coordination backend. This change introduces a flag to disable
managmeent of coordination parameters so that we can implement that
management in specific manifets.

Change-Id: I9eccb6b727f67d1e7b74f886e8c08562f1824aba
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/35/792535/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_coordination_spec.rb', 'manifests/coordination.pp']",2,09ece82775b9fef17bd5ae0d7991c8972431bd31,coordination,"# [*manage_config*] # (Optional) Whether to manage the configuration parameters. # Defaults to true. # $manage_config = true, if $manage_config { $coordination_options = { 'coordination/backend_url' => { value => $backend_url }, } create_resources($name, $coordination_options) }"," $coordination_options = { 'coordination/backend_url' => { value => $backend_url }, } create_resources($name, $coordination_options)",27,3
openstack%2Fpuppet-swift~stable%2Fwallaby~I59717abeb5ef120e811511a771f5c3cd491b850f,openstack/puppet-swift,stable/wallaby,I59717abeb5ef120e811511a771f5c3cd491b850f,Replace deprecated is_array method,MERGED,2021-08-10 08:24:33.000000000,2021-08-24 08:54:14.000000000,2021-08-24 08:54:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 08:24:33.000000000', 'files': ['manifests/proxy/domain_remap.pp', 'manifests/storage/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c4c80d1f183d1a1ece9dc935b6cc651b77421bc2', 'message': 'Replace deprecated is_array method\n\nCloses-Bug: #1939088\nChange-Id: I59717abeb5ef120e811511a771f5c3cd491b850f\n(cherry picked from commit 7d7d8679d6dc249e85ceb90f82d9017414414c0b)\n'}]",0,804016,c4c80d1f183d1a1ece9dc935b6cc651b77421bc2,7,3,1,9816,,,0,"Replace deprecated is_array method

Closes-Bug: #1939088
Change-Id: I59717abeb5ef120e811511a771f5c3cd491b850f
(cherry picked from commit 7d7d8679d6dc249e85ceb90f82d9017414414c0b)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/16/804016/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/domain_remap.pp', 'manifests/storage/server.pp']",2,c4c80d1f183d1a1ece9dc935b6cc651b77421bc2,bug/1939088-stable/wallaby," $pipeline_array = any2array($pipeline) if !member($pipeline_array, ""${type}-server"") {"," if is_array($pipeline) { if !member($pipeline, ""${type}-server"") { warning(""swift storage server ${type} must specify ${type}-server"") } } elsif $pipeline != ""${type}-server"" {",4,11
openstack%2Fnova~master~I95f68be76330ff09e5eabb5ef8dd9a18f5547866,openstack/nova,master,I95f68be76330ff09e5eabb5ef8dd9a18f5547866,address open redirect with 3 forward slashes,MERGED,2021-08-23 14:48:12.000000000,2021-08-24 08:53:30.000000000,2021-08-24 08:50:44.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 14:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7e0f14b7ed79adc465765acd0ff0d6495c86fd6', 'message': 'address open redirect with 3 forward slashes\n\nIe36401c782f023d1d5f2623732619105dc2cfa24 was intended\nto adress OSSA-2021-002 (CVE-2021-3654) however after its\nrelease it was discovered that the fix only worked\nfor urls with 2 leading slashes or more then 4.\n\nThis change adresses the missing edgecase for 3 leading slasses\nand also maintian support for rejecting 2+.\n\nChange-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866\nco-authored-by: Matteo Pozza\nCloses-Bug: #1927677\n'}, {'number': 2, 'created': '2021-08-23 14:52:02.000000000', 'files': ['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6fbd0b758dcac71323f3be179b1a9d1c17a4acc5', 'message': 'address open redirect with 3 forward slashes\n\nIe36401c782f023d1d5f2623732619105dc2cfa24 was intended\nto address OSSA-2021-002 (CVE-2021-3654) however after its\nrelease it was discovered that the fix only worked\nfor urls with 2 leading slashes or more then 4.\n\nThis change adresses the missing edgecase for 3 leading slashes\nand also maintian support for rejecting 2+.\n\nChange-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866\nco-authored-by: Matteo Pozza\nCloses-Bug: #1927677\n'}]",0,805654,6fbd0b758dcac71323f3be179b1a9d1c17a4acc5,19,3,2,11604,,,0,"address open redirect with 3 forward slashes

Ie36401c782f023d1d5f2623732619105dc2cfa24 was intended
to address OSSA-2021-002 (CVE-2021-3654) however after its
release it was discovered that the fix only worked
for urls with 2 leading slashes or more then 4.

This change adresses the missing edgecase for 3 leading slashes
and also maintian support for rejecting 2+.

Change-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866
co-authored-by: Matteo Pozza
Closes-Bug: #1927677
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/805654/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py']",2,d7e0f14b7ed79adc465765acd0ff0d6495c86fd6,bug/1927677," def test_reject_open_redirect_3_slashes(self): # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data) ",,35,6
openstack%2Fpuppet-magnum~master~I372ccbc835bc740113936b46ce84ab5e7e341107,openstack/puppet-magnum,master,I372ccbc835bc740113936b46ce84ab5e7e341107,Add support for healthcheck middleware options,MERGED,2021-07-12 02:35:28.000000000,2021-08-24 08:47:29.000000000,2021-08-24 08:45:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 02:35:28.000000000', 'files': ['releasenotes/notes/healthcheck-2f8b3923afae18e7.yaml', 'manifests/healthcheck.pp', 'spec/classes/magnum_healthcheck_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/cea3a570463461e7d236d50e64a0712950ff5ba6', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I372ccbc835bc740113936b46ce84ab5e7e341107\n'}]",0,800362,cea3a570463461e7d236d50e64a0712950ff5ba6,8,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I372ccbc835bc740113936b46ce84ab5e7e341107
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/62/800362/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/healthcheck-2f8b3923afae18e7.yaml', 'manifests/healthcheck.pp', 'spec/classes/magnum_healthcheck_spec.rb']",3,cea3a570463461e7d236d50e64a0712950ff5ba6,healthcheck,"require 'spec_helper' describe 'magnum::healthcheck' do shared_examples_for 'magnum::healthcheck' do context 'with default parameters' do let :params do {} end it 'configures default values' do is_expected.to contain_oslo__healthcheck('magnum_config').with( :detailed => '<SERVICE DEFAULT>', :backends => '<SERVICE DEFAULT>', :disable_by_file_path => '<SERVICE DEFAULT>', :disable_by_file_paths => '<SERVICE DEFAULT>', ) end end context 'with specific parameters' do let :params do { :detailed => true, :backends => ['disable_by_file'], :disable_by_file_path => '/etc/magnum/healthcheck/disabled', :disable_by_file_paths => ['9511:/etc/magnum/healthcheck/disabled'], } end it 'configures specified values' do is_expected.to contain_oslo__healthcheck('magnum_config').with( :detailed => true, :backends => ['disable_by_file'], :disable_by_file_path => '/etc/magnum/healthcheck/disabled', :disable_by_file_paths => ['9511:/etc/magnum/healthcheck/disabled'], ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'magnum::healthcheck' end end end ",,101,0
openstack%2Fpuppet-manila~stable%2Fwallaby~I540ed926ca7adcc1663f3814ba29492eb777701b,openstack/puppet-manila,stable/wallaby,I540ed926ca7adcc1663f3814ba29492eb777701b,Add support for healthcheck middleware options,MERGED,2021-07-12 02:24:55.000000000,2021-08-24 08:40:12.000000000,2021-08-24 08:38:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 02:24:55.000000000', 'files': ['spec/classes/manila_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-a8866f3194375299.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c3bfa596420ae261facec889eb63fa6c328f7361', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I540ed926ca7adcc1663f3814ba29492eb777701b\n(cherry picked from commit 626b4a03f989e8eafee668dbbc62080279d3d6df)\n'}]",0,800377,c3bfa596420ae261facec889eb63fa6c328f7361,8,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I540ed926ca7adcc1663f3814ba29492eb777701b
(cherry picked from commit 626b4a03f989e8eafee668dbbc62080279d3d6df)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/77/800377/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-a8866f3194375299.yaml', 'manifests/healthcheck.pp']",3,c3bfa596420ae261facec889eb63fa6c328f7361,healthcheck-stable/wallaby,"# == Class: manila::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class manila::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include manila::deps oslo::healthcheck { 'manila_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Fpuppet-designate~master~Ib23a9cd3586342ed69d960e43dcc2070ac1cad0d,openstack/puppet-designate,master,Ib23a9cd3586342ed69d960e43dcc2070ac1cad0d,producer: Convert enabled_tasks to comma separated list,MERGED,2021-07-20 04:30:54.000000000,2021-08-24 08:40:10.000000000,2021-08-24 08:40:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 04:30:54.000000000', 'files': ['manifests/producer.pp', 'spec/classes/designate_producer_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/fc113562ab398fe2d9cc4dbadf9eedcd400e7514', 'message': 'producer: Convert enabled_tasks to comma separated list\n\n... because the parameter is ListOpt.\n\nChange-Id: Ib23a9cd3586342ed69d960e43dcc2070ac1cad0d\n'}]",0,801415,fc113562ab398fe2d9cc4dbadf9eedcd400e7514,7,3,1,9816,,,0,"producer: Convert enabled_tasks to comma separated list

... because the parameter is ListOpt.

Change-Id: Ib23a9cd3586342ed69d960e43dcc2070ac1cad0d
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/15/801415/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/producer.pp', 'spec/classes/designate_producer_spec.rb']",2,fc113562ab398fe2d9cc4dbadf9eedcd400e7514,listopts," is_expected.to contain_designate_config(""service:producer/workers"").with_value(8) is_expected.to contain_designate_config(""service:producer/threads"").with_value('<SERVICE DEFAULT>') is_expected.to contain_designate_config(""service:producer/enabled_tasks"").with_value('<SERVICE DEFAULT>') is_expected.to contain_designate_config(""service:producer/workers"").with_value('3') is_expected.to contain_designate_config(""service:producer/threads"").with_value('3000') is_expected.to contain_designate_config(""service:producer/enabled_tasks"").with_value('domain_purge,periodic_secondary_refresh') is_expected.to contain_designate_config(""coordination/backend_url"").with_value('redis://10.0.0.1:1234')"," is_expected.to contain_designate_config(""service:producer/workers"").with(:value => 8) is_expected.to contain_designate_config(""service:producer/threads"").with(:value => '<SERVICE DEFAULT>') is_expected.to contain_designate_config(""service:producer/enabled_tasks"").with(:value => '<SERVICE DEFAULT>') is_expected.to contain_designate_config(""service:producer/workers"").with(:value => '3') is_expected.to contain_designate_config(""service:producer/threads"").with(:value => '3000') is_expected.to contain_designate_config(""service:producer/enabled_tasks"").with(:value => ['domain_purge','periodic_secondary_refresh']) is_expected.to contain_designate_config(""coordination/backend_url"").with(:value => 'redis://10.0.0.1:1234')",8,8
openstack%2Fpuppet-manila~master~I83c24b1683c4d13ebdb079d29d8a2164e8c1a154,openstack/puppet-manila,master,I83c24b1683c4d13ebdb079d29d8a2164e8c1a154,Remove deprecated support for cephfs_enable_snapshots,MERGED,2021-07-19 11:08:58.000000000,2021-08-24 08:40:00.000000000,2021-08-24 08:38:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-19 11:08:58.000000000', 'files': ['releasenotes/notes/remove-cephfs-enable-snapshots-7e99bff7aee9cb53.yaml', 'manifests/backend/cephfs.pp', 'spec/defines/manila_backend_cephfs_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/618cd3d4ded0bda2e2551d7fa3b7edb1b7fe2170', 'message': 'Remove deprecated support for cephfs_enable_snapshots\n\n... because the parameter was removed from Manila during Wallaby cycle\nand has no effect now.\n\nChange-Id: I83c24b1683c4d13ebdb079d29d8a2164e8c1a154\n'}]",0,801287,618cd3d4ded0bda2e2551d7fa3b7edb1b7fe2170,9,4,1,9816,,,0,"Remove deprecated support for cephfs_enable_snapshots

... because the parameter was removed from Manila during Wallaby cycle
and has no effect now.

Change-Id: I83c24b1683c4d13ebdb079d29d8a2164e8c1a154
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/87/801287/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-cephfs-enable-snapshots-7e99bff7aee9cb53.yaml', 'manifests/backend/cephfs.pp', 'spec/defines/manila_backend_cephfs_spec.rb']",3,618cd3d4ded0bda2e2551d7fa3b7edb1b7fe2170,manila-cleanup,," # deprecated parameters :cephfs_enable_snapshots => true, # deprecated parameters is_expected.to contain_manila_config('cephfs/cephfs_enable_snapshots').with_value( true)",5,20
openstack%2Fskyline-console~master~Ib31ea4b0f1394a5fff05747f7c696aeccf541d80,openstack/skyline-console,master,Ib31ea4b0f1394a5fff05747f7c696aeccf541d80,feat: Add float ip address column,MERGED,2021-08-24 07:11:43.000000000,2021-08-24 08:39:06.000000000,2021-08-24 08:39:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 07:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fe79b04f484fbdce4583cd8841ce3e8b75088c58', 'message': 'feat: Add float ip address column\n\nAdd float ip address column in virtualAdapter\n\nChange-Id: Ib31ea4b0f1394a5fff05747f7c696aeccf541d80\n'}, {'number': 2, 'created': '2021-08-24 08:10:24.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/095006b426296f59ea13325291d0c1b6c272b7f3', 'message': 'feat: Add float ip address column\n\nAdd float ip address column in virtualAdapter\n\nChange-Id: Ib31ea4b0f1394a5fff05747f7c696aeccf541d80\n'}]",0,805787,095006b426296f59ea13325291d0c1b6c272b7f3,8,2,2,33689,,,0,"feat: Add float ip address column

Add float ip address column in virtualAdapter

Change-Id: Ib31ea4b0f1394a5fff05747f7c696aeccf541d80
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/87/805787/2 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/VirtualAdapter/index.jsx'],1,fe79b04f484fbdce4583cd8841ce3e8b75088c58,open-34860," {item.device_id || '-'} { title: t('Floating IP Address'), dataIndex: 'associatedDetail', isHideable: true, render: (value) => value && value.length ? value[0].floating_ip_address : '-', sorter: false, },", {item.device_id},9,1
openstack%2Fpuppet-openstack-integration~master~I688e3f44bbae454ab9614c099242df80a792f1b7,openstack/puppet-openstack-integration,master,I688e3f44bbae454ab9614c099242df80a792f1b7,Use independent key_manager classes for castellan options,MERGED,2021-08-06 01:23:25.000000000,2021-08-24 08:38:18.000000000,2021-08-24 08:38:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ce9387ff0c1ae5307aabce943e0d2a05202fa75f', 'message': 'Use independent key_manager classes for castellan options\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-nova/+/772142\nDepends-on: https://review.opendev.org/c/openstack/puppet-cinder/+/772139\nChange-Id: I688e3f44bbae454ab9614c099242df80a792f1b7\n'}, {'number': 2, 'created': '2021-08-06 05:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0350a295bc7ddda155e566745b65c3baa2adc090', 'message': 'Use independent key_manager classes for castellan options\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-nova/+/772142\nDepends-on: https://review.opendev.org/c/openstack/puppet-cinder/+/772139\nChange-Id: I688e3f44bbae454ab9614c099242df80a792f1b7\n'}, {'number': 3, 'created': '2021-08-18 14:16:58.000000000', 'files': ['manifests/cinder.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a8d7fc5416c0ab4c77b35d6d11f2c17812bad0ef', 'message': 'Use independent key_manager classes for castellan options\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-nova/+/772142\nDepends-on: https://review.opendev.org/c/openstack/puppet-cinder/+/772139\nChange-Id: I688e3f44bbae454ab9614c099242df80a792f1b7\n'}]",0,803662,a8d7fc5416c0ab4c77b35d6d11f2c17812bad0ef,11,3,3,9816,,,0,"Use independent key_manager classes for castellan options

Depends-on: https://review.opendev.org/c/openstack/puppet-nova/+/772142
Depends-on: https://review.opendev.org/c/openstack/puppet-cinder/+/772139
Change-Id: I688e3f44bbae454ab9614c099242df80a792f1b7
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/62/803662/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/nova.pp']",2,ce9387ff0c1ae5307aabce943e0d2a05202fa75f,keymgr-opts," class { 'nova::key_manager': backend = 'castellan.key_manager.barbican_key_manager.BarbicanKeyManager' } class { 'nova::key_manager::barbican': auth_endpoint = ""${::openstack_integration::config::keystone_auth_uri}/v3"" barbican_endpoint = ""${::openstack_integration::config::base_url}:9311"" }"," $keymgr_backend = 'castellan.key_manager.barbican_key_manager.BarbicanKeyManager' $keymgr_auth_endpoint = ""${::openstack_integration::config::keystone_auth_uri}/v3"" $barbican_endpoint = ""${::openstack_integration::config::base_url}:9311"" } else { $keymgr_backend = undef $keymgr_auth_endpoint = undef $barbican_endpoint = undef keymgr_backend => $keymgr_backend, barbican_auth_endpoint => $keymgr_auth_endpoint, barbican_endpoint => $barbican_endpoint,",14,22
openstack%2Fpuppet-openstack-integration~master~I158211cb927c3dbb19a930c10923ca0d1199a525,openstack/puppet-openstack-integration,master,I158211cb927c3dbb19a930c10923ca0d1199a525,Remove monasca from module list,MERGED,2021-08-23 14:42:37.000000000,2021-08-24 08:38:16.000000000,2021-08-24 08:38:16.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 14:42:37.000000000', 'files': ['openstack_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/238ab35020433d7b78ad642d3aecdb44928273e1', 'message': 'Remove monasca from module list\n\nIeb189e85b4cd49d3635e5ee1fd8081de3f0a68bd removed monasca from the\nPuppet module dependencies, however the bot that keeps them up to day\nreads this file to ensure they are correctly listed in the Puppetfile.\n\nChange-Id: I158211cb927c3dbb19a930c10923ca0d1199a525\n'}]",0,805652,238ab35020433d7b78ad642d3aecdb44928273e1,7,3,1,14985,,,0,"Remove monasca from module list

Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd removed monasca from the
Puppet module dependencies, however the bot that keeps them up to day
reads this file to ensure they are correctly listed in the Puppetfile.

Change-Id: I158211cb927c3dbb19a930c10923ca0d1199a525
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/52/805652/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_modules.txt'],1,238ab35020433d7b78ad642d3aecdb44928273e1,retire-puppet-monasca,,monasca,0,1
openstack%2Fpuppet-watcher~master~Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e,openstack/puppet-watcher,master,Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e,Support more <service>_client options,MERGED,2021-08-19 12:20:13.000000000,2021-08-24 08:35:01.000000000,2021-08-24 08:33:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 12:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/ef97c7e24094c5a1588e5c1ac71b34355e431613', 'message': 'Support more <service>_client options\n\nChange-Id: Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e\n'}, {'number': 2, 'created': '2021-08-19 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/1392d52436487270281db39a389b30151990e7f6', 'message': 'Support more <service>_client options\n\nChange-Id: Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e\n'}, {'number': 3, 'created': '2021-08-19 13:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/2a43f1d34d55168b1849c1b6a791a29b0c949fc6', 'message': 'Support more <service>_client options\n\nChange-Id: Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e\n'}, {'number': 4, 'created': '2021-08-20 03:08:17.000000000', 'files': ['manifests/placement_client.pp', 'spec/classes/watcher_placement_client_spec.rb', 'manifests/gnocchi_client.pp', 'manifests/ironic_client.pp', 'spec/classes/watcher_ironic_client_spec.rb', 'manifests/keystone_client.pp', 'spec/classes/watcher_gnocchi_client_spec.rb', 'releasenotes/notes/new-client-9f675a778c7da5b0.yaml', 'spec/classes/watcher_keystone_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/0f17f7553071d0c8abbcdf89ea4cd85aece7113a', 'message': 'Support more <service>_client options\n\nChange-Id: Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e\n'}]",0,805197,0f17f7553071d0c8abbcdf89ea4cd85aece7113a,13,3,4,9816,,,0,"Support more <service>_client options

Change-Id: Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/97/805197/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/placement_client.pp', 'manifests/gnocchi_client.pp', 'manifests/ironic_client.pp', 'spec/classes/watcher_ironic_client_spec.rb', 'manifests/keystone_client.pp', 'spec/classes/watcher_gnocchi_client_spec.rb', 'releasenotes/notes/new-client-9f675a778c7da5b0.yaml', 'spec/classes/watcher_keystone_client_spec.rb']",8,ef97c7e24094c5a1588e5c1ac71b34355e431613,service_client,"require 'spec_helper' describe 'watcher::keystone_client' do shared_examples 'watcher::keystone_client' do context 'with defaults' do let :params do {} end it 'should set the defaults' do should contain_watcher_config('keystone_client/endpoint_type').with_value('<SERVICE DEFAULT>') should contain_watcher_config('keystone_client/region_name').with_value('<SERVICE DEFAULT>') end end context 'with parameters overridden' do let :params do { :endpoin_type => 'publicURL', :region_name => 'regionOne' } end it 'should set the defaults' do should contain_watcher_config('keystone_client/endpoint_type').with_value('publicURL') should contain_watcher_config('keystone_client/region_name').with_value('region_one') end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'watcher::keystone_client' end end end ",,274,0
openstack%2Fpuppet-manila~stable%2Fwallaby~I89f7da9255b307fe80750f01c4508d52ac5b1904,openstack/puppet-manila,stable/wallaby,I89f7da9255b307fe80750f01c4508d52ac5b1904,Fix nfs client package name in Ubuntu/Debian,MERGED,2021-07-21 06:43:34.000000000,2021-08-24 08:30:47.000000000,2021-08-24 08:30:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 06:43:34.000000000', 'files': ['manifests/backend/dellemc_unity.pp', 'spec/classes/manila_share_hitachi_hnas_spec.rb', 'manifests/backend/hitachi_hnas.pp', 'manifests/backend/dellemc_vnx.pp', 'manifests/backend/dellemc_isilon.pp', 'manifests/params.pp', 'manifests/backend/netapp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c8f487fe63c2390593b7e29cf6e96f9da1e9a725', 'message': 'Fix nfs client package name in Ubuntu/Debian\n\nnfs-utils is specific to CentOS/RHEL and in Ubuntu/Debian nfs-common\nshould be used instead.\n\nConflicts:\n\tmanifests/backend/flashblade.pp\n\nResolved conflict caused by support for the Pure Storage flashBlade\ndriver which was introduced during the Xena cycle.\n\nCloses-Bug: #1931711\nChange-Id: I89f7da9255b307fe80750f01c4508d52ac5b1904\n(cherry picked from commit 5e92666e086eb13b270a73b711c389376bb54439)\n'}]",0,801597,c8f487fe63c2390593b7e29cf6e96f9da1e9a725,8,3,1,9816,,,0,"Fix nfs client package name in Ubuntu/Debian

nfs-utils is specific to CentOS/RHEL and in Ubuntu/Debian nfs-common
should be used instead.

Conflicts:
	manifests/backend/flashblade.pp

Resolved conflict caused by support for the Pure Storage flashBlade
driver which was introduced during the Xena cycle.

Closes-Bug: #1931711
Change-Id: I89f7da9255b307fe80750f01c4508d52ac5b1904
(cherry picked from commit 5e92666e086eb13b270a73b711c389376bb54439)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/97/801597/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_unity.pp', 'spec/classes/manila_share_hitachi_hnas_spec.rb', 'manifests/backend/hitachi_hnas.pp', 'manifests/backend/dellemc_vnx.pp', 'manifests/backend/dellemc_isilon.pp', 'manifests/params.pp', 'manifests/backend/netapp.pp']",7,c8f487fe63c2390593b7e29cf6e96f9da1e9a725,bug/1931711," include manila::params ensure_packages('nfs-client', { name => $::manila::params::nfs_client_package_name,"," ensure_resource('package','nfs-utils',{",27,17
openstack%2Fpuppet-vswitch~master~I614e488eb38dd27c57ed80f0608a98a2f4163bfb,openstack/puppet-vswitch,master,I614e488eb38dd27c57ed80f0608a98a2f4163bfb,Apply vs_config after openvswitch service is started,MERGED,2021-08-23 04:44:03.000000000,2021-08-24 08:30:43.000000000,2021-08-24 08:30:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 04:44:03.000000000', 'files': ['manifests/ovs.pp', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/96dd49f1ae979d479ccb69b8e5f5dccd030cf7ff', 'message': 'Apply vs_config after openvswitch service is started\n\nThe vs_config resource requires access to ovs-db thus openvswitch\nservice should be started before triggering the resource.\n\nChange-Id: I614e488eb38dd27c57ed80f0608a98a2f4163bfb\n'}]",0,805549,96dd49f1ae979d479ccb69b8e5f5dccd030cf7ff,7,3,1,9816,,,0,"Apply vs_config after openvswitch service is started

The vs_config resource requires access to ovs-db thus openvswitch
service should be started before triggering the resource.

Change-Id: I614e488eb38dd27c57ed80f0608a98a2f4163bfb
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/49/805549/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ovs.pp', 'manifests/dpdk.pp']",2,96dd49f1ae979d479ccb69b8e5f5dccd030cf7ff,, Service['openvswitch'] -> Vs_config<||> ,,3,0
openstack%2Fpuppet-zaqar~master~I8d9930c80c65867ebd220153c20d06cdab0a47b5,openstack/puppet-zaqar,master,I8d9930c80c65867ebd220153c20d06cdab0a47b5,Add support for oslo.cache options,MERGED,2021-08-23 05:17:03.000000000,2021-08-24 08:29:58.000000000,2021-08-24 08:28:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 05:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/21a79009073f64fd8519b8b8a2eb903ba91ccf81', 'message': 'Add support for oslo.cache options\n\nNeutron uses oslo.cache options for caching. This change adds support\nfor the options implemented in the library.\n\nChange-Id: I8d9930c80c65867ebd220153c20d06cdab0a47b5\n'}, {'number': 2, 'created': '2021-08-23 05:38:04.000000000', 'files': ['releasenotes/notes/cache-opts-efb690721bb97f1f.yaml', 'spec/classes/zaqar_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/dfe0e42f86faf2f6da298a349e8dfdd375e6a161', 'message': 'Add support for oslo.cache options\n\nNeutron uses oslo.cache options for caching. This change adds support\nfor the options implemented in the library.\n\nChange-Id: I8d9930c80c65867ebd220153c20d06cdab0a47b5\n'}]",0,805574,dfe0e42f86faf2f6da298a349e8dfdd375e6a161,9,3,2,9816,,,0,"Add support for oslo.cache options

Neutron uses oslo.cache options for caching. This change adds support
for the options implemented in the library.

Change-Id: I8d9930c80c65867ebd220153c20d06cdab0a47b5
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/74/805574/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cache-opts-efb690721bb97f1f.yaml', 'spec/classes/zaqar_cache_spec.rb', 'manifests/cache.pp']",3,21a79009073f64fd8519b8b8a2eb903ba91ccf81,oslo-cache,"# Class zaqar::cache # # zaqar cache configuration # # == parameters # # [*config_prefix*] # (Optional) Prefix for building the configuration dictionary for # the cache region. This should not need to be changed unless there # is another dogpile.cache region with the same configuration name. # (string value) # Defaults to $::os_service_default # # [*expiration_time*] # (Optional) Default TTL, in seconds, for any cached item in the # dogpile.cache region. This applies to any cached method that # doesn't have an explicit cache expiration time defined for it. # (integer value) # Defaults to $::os_service_default # # [*backend*] # (Optional) Dogpile.cache backend module. It is recommended that # Memcache with pooling (oslo_cache.memcache_pool) or Redis # (dogpile.cache.redis) be used in production deployments. (string value) # Defaults to $::os_service_default # # [*backend_argument*] # (Optional) Arguments supplied to the backend module. Specify this option # once per argument to be passed to the dogpile.cache backend. # Example format: ""<argname>:<value>"". (list value) # Defaults to $::os_service_default # # [*proxies*] # (Optional) Proxy classes to import that will affect the way the # dogpile.cache backend functions. See the dogpile.cache documentation on # changing-backend-behavior. (list value) # Defaults to $::os_service_default # # [*enabled*] # (Optional) Global toggle for caching. (boolean value) # Defaults to $::os_service_default # # [*debug_cache_backend*] # (Optional) Extra debugging from the cache backend (cache keys, # get/set/delete/etc calls). This is only really useful if you need # to see the specific cache-backend get/set/delete calls with the keys/values. # Typically this should be left set to false. (boolean value) # Defaults to $::os_service_default # # [*memcache_servers*] # (Optional) Memcache servers in the format of ""host:port"". # (dogpile.cache.memcache and oslo_cache.memcache_pool backends only). # (list value) # Defaults to $::os_service_default # # [*memcache_dead_retry*] # (Optional) Number of seconds memcached server is considered dead before # it is tried again. (dogpile.cache.memcache and oslo_cache.memcache_pool # backends only). (integer value) # Defaults to $::os_service_default # # [*memcache_socket_timeout*] # (Optional) Timeout in seconds for every call to a server. # (dogpile.cache.memcache and oslo_cache.memcache_pool backends only). # (floating point value) # Defaults to $::os_service_default # # [*memcache_pool_maxsize*] # (Optional) Max total number of open connections to every memcached server. # (oslo_cache.memcache_pool backend only). (integer value) # Defaults to $::os_service_default # # [*memcache_pool_unused_timeout*] # (Optional) Number of seconds a connection to memcached is held unused # in the pool before it is closed. (oslo_cache.memcache_pool backend only) # (integer value) # Defaults to $::os_service_default # # [*memcache_pool_connection_get_timeout*] # (Optional) Number of seconds that an operation will wait to get a memcache # client connection. (integer value) # Defaults to $::os_service_default # # [*manage_backend_package*] # (Optional) (Optional) Whether to install the backend package for the cache. # Defaults to true # # [*tls_enabled*] # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # Default to $::os_service_default # # [*tls_cafile*] # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # Default to $::os_service_default # # [*tls_certfile*] # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # Default to $::os_service_default # # [*tls_keyfile*] # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # Default to $::os_service_default # # [*tls_allowed_ciphers*] # (Optional) Set the available ciphers for sockets created with # the TLS context. It should be a string in the OpenSSL cipher # list format. If not specified, all OpenSSL enabled ciphers will # be available. # Default to $::os_service_default # class zaqar::cache ( $config_prefix = $::os_service_default, $expiration_time = $::os_service_default, $backend = $::os_service_default, $backend_argument = $::os_service_default, $proxies = $::os_service_default, $enabled = $::os_service_default, $debug_cache_backend = $::os_service_default, $memcache_servers = $::os_service_default, $memcache_dead_retry = $::os_service_default, $memcache_socket_timeout = $::os_service_default, $memcache_pool_maxsize = $::os_service_default, $memcache_pool_unused_timeout = $::os_service_default, $memcache_pool_connection_get_timeout = $::os_service_default, $manage_backend_package = true, $tls_enabled = $::os_service_default, $tls_cafile = $::os_service_default, $tls_certfile = $::os_service_default, $tls_keyfile = $::os_service_default, $tls_allowed_ciphers = $::os_service_default, ) { include zaqar::deps oslo::cache { 'zaqar_config': config_prefix => $config_prefix, expiration_time => $expiration_time, backend => $backend, backend_argument => $backend_argument, proxies => $proxies, enabled => $enabled, debug_cache_backend => $debug_cache_backend, memcache_servers => $memcache_servers, memcache_dead_retry => $memcache_dead_retry, memcache_socket_timeout => $memcache_socket_timeout, memcache_pool_maxsize => $memcache_pool_maxsize, memcache_pool_unused_timeout => $memcache_pool_unused_timeout, memcache_pool_connection_get_timeout => $memcache_pool_connection_get_timeout, manage_backend_package => $manage_backend_package, tls_enabled => $tls_enabled, tls_cafile => $tls_cafile, tls_certfile => $tls_certfile, tls_keyfile => $tls_keyfile, tls_allowed_ciphers => $tls_allowed_ciphers, } } ",,269,0
openstack%2Fpuppet-aodh~master~I887c7605eca21cb7269d4c0188378aabaeb03721,openstack/puppet-aodh,master,I887c7605eca21cb7269d4c0188378aabaeb03721,Fix ignored parameters of aodh::auth,MERGED,2021-08-22 23:37:17.000000000,2021-08-24 08:24:54.000000000,2021-08-24 08:24:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 23:37:17.000000000', 'files': ['manifests/service_credentials.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/8c2a3a43222b5fbd016f11c7c00c514b86b7ead0', 'message': 'Fix ignored parameters of aodh::auth\n\nThe aodh::auth class has been deprecated in favor of the new\naodh::service_credentials class but some of its parameters are ignored\nbecause of the wrong parameter name.\nThis change fixes it and ensure all parameters are used even when\nthe deprecated class is used.\n\nChange-Id: I887c7605eca21cb7269d4c0188378aabaeb03721\n'}]",0,805537,8c2a3a43222b5fbd016f11c7c00c514b86b7ead0,7,3,1,9816,,,0,"Fix ignored parameters of aodh::auth

The aodh::auth class has been deprecated in favor of the new
aodh::service_credentials class but some of its parameters are ignored
because of the wrong parameter name.
This change fixes it and ensure all parameters are used even when
the deprecated class is used.

Change-Id: I887c7605eca21cb7269d4c0188378aabaeb03721
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/37/805537/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service_credentials.pp'],1,8c2a3a43222b5fbd016f11c7c00c514b86b7ead0,auth-wrong-param," $region_name_real = pick($::aodh::auth::auth_region, $region_name) $username_real = pick($::aodh::auth::auth_user, $username)"," $region_name_real = pick($::aodh::auth_region, $region_name) $username_real = pick($::aodh::auth_user, $username)",2,2
openstack%2Fpuppet-watcher~master~If0e06e6c1364f45cfa3a42428cd8e043a5a1b369,openstack/puppet-watcher,master,If0e06e6c1364f45cfa3a42428cd8e043a5a1b369,Split out <service>_client configurations,MERGED,2021-08-19 12:11:22.000000000,2021-08-24 08:17:41.000000000,2021-08-24 08:15:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 12:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/62b82c52755f8b0a6f4c2a9f46f9bd2022a20be2', 'message': 'Split out <service>_client configurations\n\nThis change introduces the independent classes to manage parameters\nin the <service>_client sections. These classes provides support for\nendpoint_type and region_name.\n\nChange-Id: If0e06e6c1364f45cfa3a42428cd8e043a5a1b369\n'}, {'number': 2, 'created': '2021-08-19 12:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/4565b6b3dc21af7b3904c623a85d7c892361baa5', 'message': 'Split out <service>_client configurations\n\nThis change introduces the independent classes to manage parameters\nin the <service>_client sections. These classes provides support for\nendpoint_type and region_name.\n\nChange-Id: If0e06e6c1364f45cfa3a42428cd8e043a5a1b369\n'}, {'number': 3, 'created': '2021-08-19 12:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/226d4ba196a610f5ba9a1c93042c072b129bbaa1', 'message': 'Split out <service>_client configurations\n\nThis change introduces the independent classes to manage parameters\nin the <service>_client sections. These classes provides support for\nendpoint_type and region_name.\n\nChange-Id: If0e06e6c1364f45cfa3a42428cd8e043a5a1b369\n'}, {'number': 4, 'created': '2021-08-19 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/01ff863d494bf23cec5c9c90aedba8d53a6cdd35', 'message': 'Split out <service>_client configurations\n\nThis change introduces the independent classes to manage parameters\nin the <service>_client sections. These classes provides support for\nendpoint_type and region_name.\n\nChange-Id: If0e06e6c1364f45cfa3a42428cd8e043a5a1b369\n'}, {'number': 5, 'created': '2021-08-19 13:23:54.000000000', 'files': ['spec/classes/watcher_glance_client_spec.rb', 'releasenotes/notes/client-classes-e167f5676c4888d1.yaml', 'manifests/glance_client.pp', 'manifests/cinder_client.pp', 'spec/classes/watcher_cinder_client_spec.rb', 'spec/classes/watcher_neutron_client_spec.rb', 'manifests/init.pp', 'manifests/neutron_client.pp', 'spec/classes/watcher_nova_client_spec.rb', 'manifests/nova_client.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/8118ce9a4bd3c9ba942a69fd348f9d6ec133b3d0', 'message': 'Split out <service>_client configurations\n\nThis change introduces the independent classes to manage parameters\nin the <service>_client sections. These classes provides support for\nendpoint_type and region_name.\n\nChange-Id: If0e06e6c1364f45cfa3a42428cd8e043a5a1b369\n'}]",0,805194,8118ce9a4bd3c9ba942a69fd348f9d6ec133b3d0,13,3,5,9816,,,0,"Split out <service>_client configurations

This change introduces the independent classes to manage parameters
in the <service>_client sections. These classes provides support for
endpoint_type and region_name.

Change-Id: If0e06e6c1364f45cfa3a42428cd8e043a5a1b369
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/94/805194/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_glance_client_spec.rb', 'releasenotes/notes/client-classes-e167f5676c4888d1.yaml', 'manifests/glance_client.pp', 'manifests/cinder_client.pp', 'spec/classes/watcher_cinder_client_spec.rb', 'spec/classes/watcher_neutron_client_spec.rb', 'manifests/init.pp', 'manifests/neutron_client.pp', 'spec/classes/watcher_nova_client_spec.rb', 'manifests/nova_client.pp']",10,62b82c52755f8b0a6f4c2a9f46f9bd2022a20be2,service_client,"# == Class: watcher::nova_client # # Configure the nova_client options # # === Parameters # # [*api_version*] # (Optional) Version of Nova API to use in novaclient. # Defaults to $::os_service_default # # [*endpoint_type*] # (Optional) Type of endpoint to use in novaclient. # Defaults to $::os_service_default # # [*region_name*] # (Optional) Region in Identify service catalog to use for communication # with the OpenStack service. # Defaults to $::os_service_default. # class watcher::nova_client ( $api_version = $::os_service_default, $endpoint_type = $::os_service_default, $region_name = $::os_service_default, ) { include watcher::deps include watcher::params $api_version_real = pick($::watcher::nova_client_api_version, $api_version) watcher_config { 'nova_client/api_version': value => $api_version_real; 'nova_client/endpoint_type': value => $endpoint_type 'nova_client/region_name': value => $region_name; } } ",,386,27
openstack%2Fpuppet-watcher~master~If54b617b7509e95734d4574840d2074fe9291c2a,openstack/puppet-watcher,master,If54b617b7509e95734d4574840d2074fe9291c2a,Do not redefine defaults for <service>_client/api_version,MERGED,2021-08-19 11:52:21.000000000,2021-08-24 08:15:34.000000000,2021-08-24 08:15:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 11:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/7dd879ad76c0627e3161b65d31d1bf05a3be02e1', 'message': 'Do not redefine defaults for *_client/api_version\n\nand rely on the defaults defined in Watcher itself.\n\nChange-Id: If54b617b7509e95734d4574840d2074fe9291c2a\n'}, {'number': 2, 'created': '2021-08-19 12:11:52.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/d94431de6ed40f97a7237d9f01d583844c886ffc', 'message': 'Do not redefine defaults for <service>_client/api_version\n\nand rely on the defaults defined in Watcher itself.\n\nChange-Id: If54b617b7509e95734d4574840d2074fe9291c2a\n'}]",0,805192,d94431de6ed40f97a7237d9f01d583844c886ffc,9,3,2,9816,,,0,"Do not redefine defaults for <service>_client/api_version

and rely on the defaults defined in Watcher itself.

Change-Id: If54b617b7509e95734d4574840d2074fe9291c2a
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/92/805192/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,7dd879ad76c0627e3161b65d31d1bf05a3be02e1,api_version,"# Default is $::os_service_default.# Default is $::os_service_default.# Default is $::os_service_default. $cinder_client_api_version = $::os_service_default, $glance_client_api_version = $::os_service_default, $neutron_client_api_version = $::os_service_default,","# Default is 3.# Default is 2.# Default is 2. $cinder_client_api_version = '3', $glance_client_api_version = '2', $neutron_client_api_version = '2',",6,6
openstack%2Fskyline-console~master~I5daff7da387be212d380d0d7b844086c912f005e,openstack/skyline-console,master,I5daff7da387be212d380d0d7b844086c912f005e,fix: Fix route name to get better format,MERGED,2021-08-24 06:26:05.000000000,2021-08-24 08:08:45.000000000,2021-08-24 08:08:45.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 06:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/92c8d3d6c2a1c673ac8d1a3fbd8e4effd7fcd5cc', 'message': 'fix: Fix route name to get better format\n\nChange route from `auth/changepassword` to `auth/change-password`\n\nChange-Id: I5daff7da387be212d380d0d7b844086c912f005e\n'}, {'number': 2, 'created': '2021-08-24 08:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/17d6242005f52de2c3d039e0be0c8df66d7196ca', 'message': 'fix: Fix route name to get better format\n\nChange route from `auth/changepassword` to `auth/change-password`\n\nChange-Id: I5daff7da387be212d380d0d7b844086c912f005e\n'}, {'number': 3, 'created': '2021-08-24 08:08:10.000000000', 'files': ['src/pages/auth/routes/index.js', 'src/pages/auth/containers/Login/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bec7b84845f53ba53632cd9c586274eda150c691', 'message': 'fix: Fix route name to get better format\n\nChange route from `auth/changepassword` to `auth/change-password`\n\nChange-Id: I5daff7da387be212d380d0d7b844086c912f005e\n'}]",0,805782,bec7b84845f53ba53632cd9c586274eda150c691,10,2,3,33689,,,0,"fix: Fix route name to get better format

Change route from `auth/changepassword` to `auth/change-password`

Change-Id: I5daff7da387be212d380d0d7b844086c912f005e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/82/805782/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/auth/routes/index.js', 'src/pages/storage/containers/Snapshot/actions/Restore.jsx', 'src/pages/auth/containers/Login/index.jsx']",3,92c8d3d6c2a1c673ac8d1a3fbd8e4effd7fcd5cc,open-34858, this.rootStore.routing.push('/auth/change-password');, this.rootStore.routing.push('/auth/changepassword');,2,43
openstack%2Fskyline-console~master~I5657cfd8cf142dbacce8716991f805bbbb4a9222,openstack/skyline-console,master,I5657cfd8cf142dbacce8716991f805bbbb4a9222,feat: Support client module,MERGED,2021-08-24 06:30:25.000000000,2021-08-24 08:08:02.000000000,2021-08-24 08:08:02.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 06:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c885b6774a69a5f6cd3c1200990d2dd443c4398c', 'message': 'feat: Support client module\n\n1. Add client module to request openstack api\n2. Remove window.request, stores use client to request api\n3. Remove window.globals, use globalRootStore to deal with user info\n\nChange-Id: I5657cfd8cf142dbacce8716991f805bbbb4a9222\n'}, {'number': 2, 'created': '2021-08-24 06:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b6f4f33b7bf48f4927f356e21e287de278e093a3', 'message': 'feat: Support client module\n\n1. Add client module to request openstack api\n2. Remove window.request, stores use client to request api\n3. Remove window.globals, use globalRootStore to deal with user info\n\nChange-Id: I5657cfd8cf142dbacce8716991f805bbbb4a9222\n'}, {'number': 3, 'created': '2021-08-24 08:04:55.000000000', 'files': ['src/client/keystone/index.js', 'src/containers/List/index.jsx', 'src/api/nova/base.js', 'src/stores/nova/hypervisor.js', 'src/components/Tables/Base/BatchActionButtons/index.jsx', 'src/api/glance/base.js', 'src/stores/neutron/fixed-ip.js', 'config/webpack.common.js', 'src/stores/root.js', 'src/stores/nova/instance.js', 'src/api/keystone/base.js', 'src/client/heat/index.js', 'src/api/neutron/base.js', 'src/stores/cinder/snapshot.js', 'src/stores/neutron/vpn-endpoint-group.js', 'src/api/octavia/base.js', 'src/pages/auth/containers/Login/index.jsx', 'src/stores/neutron/network.js', 'src/stores/nova/instance-volume.js', 'src/stores/cinder/volume.js', 'src/stores/nova/server-group.js', 'src/stores/glance/metadata.js', 'src/stores/heat/service.js', 'src/api/heat/base.js', 'src/stores/nova/aggregate.js', 'src/stores/cinder/backup.js', 'src/stores/neutron/agent.js', 'src/client/skyline/index.js', 'src/stores/octavia/health-monitor.js', 'src/components/FormItem/NetworkSelectTable/index.jsx', 'src/stores/ironic/port.js', 'src/stores/keystone/tag.js', 'src/stores/skyline/recycle-server.js', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/stores/nova/compute-host.js', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/layouts/Base/index.jsx', 'src/pages/network/containers/QoSPolicy/AdminQoSPolicy.js', 'src/stores/nova/zone.js', 'src/stores/base.js', 'src/resources/policy.js', 'src/api/placement/base.js', 'src/stores/neutron/port.js', 'src/locales/en.json', 'src/pages/network/containers/Router/actions/AssociateFip.jsx', 'src/resources/network.js', 'src/components/StepForm/index.jsx', 'src/stores/keystone/user-group.js', 'src/stores/neutron/floatingIp.js', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/stores/skyline/setting.js', 'src/core/index.jsx', 'src/stores/index.jsx', 'src/stores/neutron/virtual-adapter.js', 'src/stores/octavia/pool.js', 'src/stores/keystone/user.js', 'src/resources/image.jsx', 'src/utils/constants.js', 'src/utils/request.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/client/index.js', 'src/client/neutron/index.js', 'src/components/Tables/Base/PrimaryActionButtons/index.jsx', 'src/api/ironic-inspector/base.js', 'src/stores/cinder/extra-spec.js', 'src/stores/project.js', 'src/client/glance/index.js', 'src/api/cinder/base.js', 'src/stores/ironic/port-group.js', 'src/stores/ironic/ironic.js', 'src/client/client/base.js', 'src/stores/octavia/loadbalancer.js', 'src/stores/glance/instance-snapshot.js', 'src/api/ironic/base.js', 'src/components/Form/index.jsx', 'src/stores/heat/event.js', 'src/stores/cinder/service.js', 'src/api/gocron/base.js', 'src/stores/neutron/neutron.js', 'src/stores/neutron/vpn-ike-policy.js', 'src/stores/cinder/pool.js', 'src/stores/neutron/vpn-service.js', 'src/stores/neutron/subnet.js', 'src/stores/glance/image.js', 'src/components/Layout/GlobalHeader/AvatarDropdown.jsx', 'src/stores/keystone/domain.js', 'src/stores/keystone/role.js', 'src/stores/neutron/agent-network.js', 'src/stores/octavia/pool-member.js', 'src/containers/BaseDetail/index.jsx', 'src/stores/cinder/qos-spec.js', 'src/stores/nova/flavor.js', 'src/pages/network/containers/VPN/index.jsx', 'src/stores/neutron/port-forwarding.js', 'src/client/client/request.js', 'src/api/swift/base.js', 'src/api/panko/base.js', 'src/stores/keystone/catalog.js', 'src/stores/overview-admin.js', 'src/components/FormItem/VolumeSelectTable/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/client/ironic/index.js', 'src/pages/network/containers/QoSPolicy/SharedQoSPolicy.js', 'src/stores/neutron/agent-router.js', 'src/stores/keystone/project.js', 'src/stores/neutron/static-route.js', 'src/stores/neutron/vpn-ipsec-policy.js', 'src/components/Tables/SimpleTable/index.jsx', 'src/stores/heat/resource.js', 'src/pages/compute/containers/BareMetalNode/index.jsx', 'src/stores/neutron/vpn-ipsec-connection.js', 'src/client/nova/index.js', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/stores/neutron/security-rule.js', 'src/client/client/constants.js', 'src/locales/zh.json', 'src/client/cinder/index.js', 'src/client/placement/index.js', 'src/pages/base/containers/Overview/components/ResourceStatistic.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/stores/nova/keypair.js', 'src/api/skyline/base.js', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/index.jsx', 'src/resources/instance.jsx', 'src/stores/octavia/listener.js', 'src/stores/cinder/volume-type.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/stores/neutron/security-group.js', 'src/pages/network/containers/QoSPolicy/ProjectQoSPolicy.js', 'src/stores/heat/stack.js', 'src/stores/neutron/qos-policy.js', 'src/stores/cinder/qos-spec-key.js', 'src/layouts/admin-menu.jsx', 'package.json', 'src/stores/skyline/skyline.js', 'src/client/octavia/index.js', 'src/stores/skyline/server-group-instance.js', 'src/components/Layout/GlobalHeader/RightContent.jsx', 'src/stores/neutron/router.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c960f06c1a63a492372579bf9eee2a443d5c47df', 'message': 'feat: Support client module\n\n1. Add client module to request openstack api\n2. Remove window.request, stores use client to request api\n3. Remove window.globals, use globalRootStore to deal with user info\n\nChange-Id: I5657cfd8cf142dbacce8716991f805bbbb4a9222\n'}]",0,805783,c960f06c1a63a492372579bf9eee2a443d5c47df,10,2,3,30434,,,0,"feat: Support client module

1. Add client module to request openstack api
2. Remove window.request, stores use client to request api
3. Remove window.globals, use globalRootStore to deal with user info

Change-Id: I5657cfd8cf142dbacce8716991f805bbbb4a9222
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/83/805783/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/client/keystone/index.js', 'src/containers/List/index.jsx', 'src/api/nova/base.js', 'src/stores/nova/hypervisor.js', 'src/components/Tables/Base/BatchActionButtons/index.jsx', 'src/api/glance/base.js', 'src/stores/neutron/fixed-ip.js', 'config/webpack.common.js', 'src/stores/root.js', 'src/stores/nova/instance.js', 'src/api/keystone/base.js', 'src/client/heat/index.js', 'src/api/neutron/base.js', 'src/stores/cinder/snapshot.js', 'src/stores/neutron/vpn-endpoint-group.js', 'src/api/octavia/base.js', 'src/pages/auth/containers/Login/index.jsx', 'src/stores/neutron/network.js', 'src/stores/nova/instance-volume.js', 'src/stores/cinder/volume.js', 'src/stores/nova/server-group.js', 'src/stores/glance/metadata.js', 'src/stores/heat/service.js', 'src/api/heat/base.js', 'src/stores/nova/aggregate.js', 'src/stores/cinder/backup.js', 'src/stores/neutron/agent.js', 'src/client/skyline/index.js', 'src/stores/octavia/health-monitor.js', 'src/components/FormItem/NetworkSelectTable/index.jsx', 'src/stores/ironic/port.js', 'src/stores/keystone/tag.js', 'src/stores/skyline/recycle-server.js', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/stores/nova/compute-host.js', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/layouts/Base/index.jsx', 'src/pages/network/containers/QoSPolicy/AdminQoSPolicy.js', 'src/stores/nova/zone.js', 'src/stores/base.js', 'src/resources/policy.js', 'src/api/placement/base.js', 'src/stores/neutron/port.js', 'src/pages/network/containers/Router/actions/AssociateFip.jsx', 'src/resources/network.js', 'src/components/StepForm/index.jsx', 'src/stores/keystone/user-group.js', 'src/stores/neutron/floatingIp.js', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/stores/skyline/setting.js', 'src/core/index.jsx', 'src/stores/index.jsx', 'src/stores/neutron/virtual-adapter.js', 'src/stores/octavia/pool.js', 'src/stores/keystone/user.js', 'src/resources/image.jsx', 'src/utils/constants.js', 'src/utils/request.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/client/index.js', 'src/client/neutron/index.js', 'src/components/Tables/Base/PrimaryActionButtons/index.jsx', 'src/api/ironic-inspector/base.js', 'src/stores/cinder/extra-spec.js', 'src/stores/project.js', 'src/client/glance/index.js', 'src/api/cinder/base.js', 'src/stores/ironic/port-group.js', 'src/stores/ironic/ironic.js', 'src/client/client/base.js', 'src/stores/octavia/loadbalancer.js', 'src/stores/glance/instance-snapshot.js', 'src/api/ironic/base.js', 'src/components/Form/index.jsx', 'src/stores/heat/event.js', 'src/stores/cinder/service.js', 'src/api/gocron/base.js', 'src/stores/neutron/neutron.js', 'src/stores/neutron/vpn-ike-policy.js', 'src/stores/cinder/pool.js', 'src/stores/neutron/vpn-service.js', 'src/stores/neutron/subnet.js', 'src/stores/glance/image.js', 'src/components/Layout/GlobalHeader/AvatarDropdown.jsx', 'src/stores/keystone/domain.js', 'src/stores/keystone/role.js', 'src/stores/neutron/agent-network.js', 'src/stores/octavia/pool-member.js', 'src/containers/BaseDetail/index.jsx', 'src/stores/cinder/qos-spec.js', 'src/stores/nova/flavor.js', 'src/pages/network/containers/VPN/index.jsx', 'src/stores/neutron/port-forwarding.js', 'src/client/client/request.js', 'src/api/swift/base.js', 'src/api/panko/base.js', 'src/stores/keystone/catalog.js', 'src/stores/overview-admin.js', 'src/components/FormItem/VolumeSelectTable/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/client/ironic/index.js', 'src/pages/network/containers/QoSPolicy/SharedQoSPolicy.js', 'src/stores/neutron/agent-router.js', 'src/stores/keystone/project.js', 'src/stores/neutron/static-route.js', 'src/stores/neutron/vpn-ipsec-policy.js', 'src/components/Tables/SimpleTable/index.jsx', 'src/stores/heat/resource.js', 'src/pages/compute/containers/BareMetalNode/index.jsx', 'src/stores/neutron/vpn-ipsec-connection.js', 'src/client/nova/index.js', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/stores/neutron/security-rule.js', 'src/client/client/constants.js', 'src/client/cinder/index.js', 'src/client/placement/index.js', 'src/pages/base/containers/Overview/components/ResourceStatistic.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/stores/nova/keypair.js', 'src/api/skyline/base.js', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/index.jsx', 'src/stores/octavia/listener.js', 'src/stores/cinder/volume-type.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/stores/neutron/security-group.js', 'src/pages/network/containers/QoSPolicy/ProjectQoSPolicy.js', 'src/stores/heat/stack.js', 'src/stores/neutron/qos-policy.js', 'src/stores/cinder/qos-spec-key.js', 'src/layouts/admin-menu.jsx', 'src/stores/skyline/skyline.js', 'src/client/octavia/index.js', 'src/stores/skyline/server-group-instance.js', 'src/components/Layout/GlobalHeader/RightContent.jsx', 'src/stores/neutron/router.js']",136,c885b6774a69a5f6cd3c1200990d2dd443c4398c,,"import { observable } from 'mobx';import client from 'client'; get client() { return client.neutron.routers; const { external_gateway_info: externalGateway = {}, created_at } = data || {}; standard_attr_id: created_at, project_id: this.currentProjectId, const subnetResult = await client.neutron.subnets.list(); async listDidFetch(items, allProjects, filters) { const { isFirewall } = filters; if (!isFirewall) { return items; } const datas = await this.listDidFetchFirewall(items); return datas; } async connectSubnet({ id, subnetId, networkId }) { await this.client.addRouterInterface(id, body); const port = await client.neutron.ports.create(portBody); return this.submitting(this.client.addRouterInterface(id, newBody)); return this.submitting(this.client.removeRouterInterface(id, body)); const result = await client.neutron.ports.list(portParams);","import { action, observable } from 'mobx'; import { neutronBase } from 'utils/constants'; get module() { return 'routers'; } get apiVersion() { return neutronBase(); } get responseKey() { return 'router'; const { external_gateway_info: externalGateway = {} } = data || {}; project_id: this.currentProject, const subnetResult = await request.get(`${this.apiVersion}/subnets`); @action async fetchFirewallCreateList({ limit, page, sortKey, sortOrder, conditions, timeFilter, ...filters } = {}) { this.list.isLoading = true; // todo: no page, no limit, fetch all const { tab, all_projects, ...rest } = filters; const params = { ...rest }; if (all_projects) { if (!this.listFilterByProject) { params.all_projects = true; } } const newParams = this.paramsFunc(params); const url = this.getListDetailUrl() || this.getListUrl(); const newUrl = this.updateUrl(url, params); const allData = await this.requestList(newUrl, newParams); const allDataNew = allData.map(this.mapperBeforeFetchProject); const data = allDataNew.filter((item) => { if (!this.listFilterByProject) { return true; } return this.itemInCurrentProject(item, all_projects); }); // const items = data.map(this.mapper); let newData = await this.listDidFetchProject(data, all_projects); newData = await this.listDidFetchFirewall(newData, all_projects, filters); newData = newData.map(this.mapper); this.list.update({ data: newData, total: newData.length || 0, limit: Number(limit) || 10, page: Number(page) || 1, sortKey, sortOrder, filters, timeFilter, isLoading: false, ...(this.list.silent ? {} : { selectedRowKeys: [] }), }); return newData; } async connectSubnet({ id, subnetId, networkId }) { const url = `${this.getListUrl()}/${id}/add_router_interface`; await request.put(url, body); const portUrl = `${this.apiVersion}/ports`; const port = await request.post(portUrl, portBody); return this.submitting(request.put(url, newBody)); const url = `${this.getListUrl()}/${id}/remove_router_interface`; return this.submitting(request.put(url, body)); const portUrl = `${this.apiVersion}/ports`; const result = await request.get(portUrl, portParams);",3869,3103
openstack%2Fpuppet-watcher~master~I443432c6bc92673bd9b2607272ecc4257fc5d444,openstack/puppet-watcher,master,I443432c6bc92673bd9b2607272ecc4257fc5d444,Deprecate support for ceilometer_client/api_version,MERGED,2021-08-19 11:48:34.000000000,2021-08-24 08:07:53.000000000,2021-08-24 08:07:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 11:48:34.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/a156f689ab1fe5e41b293ab67398a20f22398e80', 'message': 'Deprecate support for ceilometer_client/api_version\n\n... because the parameter was already deprecated in Watcher[1].\n\n[1] 92894237f3514365ee1aea31579afe47254ccd11\n\nChange-Id: I443432c6bc92673bd9b2607272ecc4257fc5d444\n'}]",0,805191,a156f689ab1fe5e41b293ab67398a20f22398e80,10,3,1,9816,,,0,"Deprecate support for ceilometer_client/api_version

... because the parameter was already deprecated in Watcher[1].

[1] 92894237f3514365ee1aea31579afe47254ccd11

Change-Id: I443432c6bc92673bd9b2607272ecc4257fc5d444
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/91/805191/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,a156f689ab1fe5e41b293ab67398a20f22398e80,api_version,"# [*ceilometer_client_api_version*] # (required) Version of Ceilometer API to use in ceilometerclient. # Default is undef # $ceilometer_client_api_version = undef, if $ceilometer_client_api_version != undef { warning('The ceilometer_client_api_version parameter is deprecated and has no effect') } 'cinder_client/api_version': value => $cinder_client_api_version; 'glance_client/api_version': value => $glance_client_api_version; 'neutron_client/api_version': value => $neutron_client_api_version; 'nova_client/api_version': value => $nova_client_api_version;","# [*ceilometer_client_api_version*] # (required) Version of Ceilometer API to use in ceilometerclient. # Default is 2. # $ceilometer_client_api_version = '2', 'ceilometer_client/api_version': value => $ceilometer_client_api_version; 'cinder_client/api_version': value => $cinder_client_api_version; 'glance_client/api_version': value => $glance_client_api_version; 'neutron_client/api_version': value => $neutron_client_api_version; 'nova_client/api_version': value => $nova_client_api_version;",13,10
openstack%2Fkolla~master~I46b77978926fc2b578a68d1aaa944b2198af0685,openstack/kolla,master,I46b77978926fc2b578a68d1aaa944b2198af0685,Unify curl options,MERGED,2020-12-02 17:48:25.000000000,2021-08-24 08:03:45.000000000,2020-12-04 13:04:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 32398}]","[{'number': 1, 'created': '2020-12-02 17:48:25.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/base/curlrc', 'docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/storm/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/prometheus/prometheus-mtail/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/22c32a30e62d42c3631306775c0cd029eb659e9a', 'message': 'Unify curl options\n\nCurrently we use couple of curl options throughout Dockerfiles, this change\nadds all common options to curlrc (-sSLf) and removes usage of those in\nDockerfiles.\n\nChange-Id: I46b77978926fc2b578a68d1aaa944b2198af0685\n'}]",0,765185,22c32a30e62d42c3631306775c0cd029eb659e9a,16,6,1,22629,,,0,"Unify curl options

Currently we use couple of curl options throughout Dockerfiles, this change
adds all common options to curlrc (-sSLf) and removes usage of those in
Dockerfiles.

Change-Id: I46b77978926fc2b578a68d1aaa944b2198af0685
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/765185/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/base/curlrc', 'docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/kafka/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/storm/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/zookeeper/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/prometheus/prometheus-mtail/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",22,22c32a30e62d42c3631306775c0cd029eb659e9a,,RUN curl -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,RUN curl -sSL -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,25,23
openstack%2Fpuppet-octavia~master~I38cb0015fc88079d26cff779b7d9b99c641a9fa1,openstack/puppet-octavia,master,I38cb0015fc88079d26cff779b7d9b99c641a9fa1,Convert enabled_provider_agents to proper list format,MERGED,2021-06-29 03:16:12.000000000,2021-08-24 07:59:03.000000000,2021-08-24 07:59:03.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 03:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/b692497a2cabc41a5b380ba913a71dbf4ce3d0d3', 'message': 'Convert enabled_provider_agents to proper list format\n\nThe driver_agent/enabled_provider_agents is not a MultiOpt but ListOpt\nso should look like comma-seprated list. We should not pass puppet list\ndirectly which leaves only the first element written in octavia.conf .\n\nChange-Id: I38cb0015fc88079d26cff779b7d9b99c641a9fa1\n'}, {'number': 2, 'created': '2021-06-29 06:24:25.000000000', 'files': ['manifests/driver_agent.pp', 'spec/classes/octavia_driver_agent_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c868430ae327dcc3d708ce48598a49091a93a838', 'message': 'Convert enabled_provider_agents to proper list format\n\nThe driver_agent/enabled_provider_agents is not a MultiOpt but ListOpt\nso should look like comma-seprated list. We should not pass puppet list\ndirectly which leaves only the first element written in octavia.conf .\n\nChange-Id: I38cb0015fc88079d26cff779b7d9b99c641a9fa1\n'}]",0,798406,c868430ae327dcc3d708ce48598a49091a93a838,10,4,2,9816,,,0,"Convert enabled_provider_agents to proper list format

The driver_agent/enabled_provider_agents is not a MultiOpt but ListOpt
so should look like comma-seprated list. We should not pass puppet list
directly which leaves only the first element written in octavia.conf .

Change-Id: I38cb0015fc88079d26cff779b7d9b99c641a9fa1
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/06/798406/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/driver_agent.pp', 'spec/classes/octavia_driver_agent_spec.rb']",2,b692497a2cabc41a5b380ba913a71dbf4ce3d0d3,driver-agent-list," it { is_expected.to contain_octavia_config('driver_agent/enabled_provider_agents').with_value('agent-a,agent-b') }"," it { is_expected.to contain_octavia_config('driver_agent/enabled_provider_agents').with_value(['agent-a', 'agent-b']) }",2,2
openstack%2Fpuppet-cloudkitty~master~I0752ab51a282f0ef691aafe999b1906c1fd71f30,openstack/puppet-cloudkitty,master,I0752ab51a282f0ef691aafe999b1906c1fd71f30,Add support for healthcheck middleware options,MERGED,2021-07-12 02:28:16.000000000,2021-08-24 07:50:03.000000000,2021-08-24 07:48:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-12 02:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/cb006aa2a939d5b384c2b8d142e23bbb37668ca1', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I0752ab51a282f0ef691aafe999b1906c1fd71f30\n'}, {'number': 2, 'created': '2021-07-12 02:36:21.000000000', 'files': ['releasenotes/notes/healthcheck-19b00e0ebcea5a67.yaml', 'manifests/healthcheck.pp', 'spec/classes/cloudkitty_healthcheck_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/e5b0257554b45230c00d8c863cdcafae98d64642', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I0752ab51a282f0ef691aafe999b1906c1fd71f30\n'}]",0,800361,e5b0257554b45230c00d8c863cdcafae98d64642,9,3,2,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I0752ab51a282f0ef691aafe999b1906c1fd71f30
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/61/800361/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/healthcheck-19b00e0ebcea5a67.yaml', 'manifests/healthcheck.pp', 'spec/classes/cloudkitty_healthcheck_spec.rb']",3,cb006aa2a939d5b384c2b8d142e23bbb37668ca1,healthcheck,"require 'spec_helper' describe 'cloudkitty::healthcheck' do shared_examples_for 'cloudkitty::healthcheck' do context 'with default parameters' do let :params do {} end it 'configures default values' do is_expected.to contain_oslo__healthcheck('cloudkitty_config').with( :detailed => '<SERVICE DEFAULT>', :backends => '<SERVICE DEFAULT>', :disable_by_file_path => '<SERVICE DEFAULT>', :disable_by_file_paths => '<SERVICE DEFAULT>', ) end end context 'with specific parameters' do let :params do { :detailed => true, :backends => ['disable_by_file'], :disable_by_file_path => '/etc/cloudkitty/healthcheck/disabled', :disable_by_file_paths => ['8042:/etc/cloudkitty/healthcheck/disabled'], } end it 'configures specified values' do is_expected.to contain_oslo__healthcheck('cloudkitty_config').with( :detailed => true, :backends => ['disable_by_file'], :disable_by_file_path => '/etc/cloudkitty/healthcheck/disabled', :disable_by_file_paths => ['8042:/etc/cloudkitty/healthcheck/disabled'], ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'cloudkitty::healthcheck' end end end ",,101,0
openstack%2Fskyline-console~master~I2e65474d3805b919552fbc16869a8bffda0edd08,openstack/skyline-console,master,I2e65474d3805b919552fbc16869a8bffda0edd08,feat: Restore volume use snapshot,MERGED,2021-08-23 07:15:22.000000000,2021-08-24 07:49:42.000000000,2021-08-24 07:49:42.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-23 07:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/86f2e5534350d6f945b5d1879d0c48626f24841d', 'message': 'feat: Restore snapshot for volume\n\nRestore based on the volumes own snapshot\n\nChange-Id: I2e65474d3805b919552fbc16869a8bffda0edd08\n'}, {'number': 2, 'created': '2021-08-23 09:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3c5cf2a812621515ef53bf01262d603bbf09b132', 'message': 'feat: Restore snapshot for volume\n\nRestore based on the volumes own snapshot\n\nChange-Id: I2e65474d3805b919552fbc16869a8bffda0edd08\n'}, {'number': 3, 'created': '2021-08-24 05:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ce04cd07f9cb06243348669de774abbc9b40ba2c', 'message': 'feat: Restore volume use snapshot\n\nRestore volume based on its own snapshot\n\nChange-Id: I2e65474d3805b919552fbc16869a8bffda0edd08\n'}, {'number': 4, 'created': '2021-08-24 05:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6d2d725cb18a04258f824152255e336fd9dc2a68', 'message': 'feat: Restore volume use snapshot\n\nRestore volume based on its own snapshot\n\nChange-Id: I2e65474d3805b919552fbc16869a8bffda0edd08\n'}, {'number': 5, 'created': '2021-08-24 05:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5e3b58bb2ff42e4f6f98c5bb913aaca75e8d4d48', 'message': 'feat: Restore volume use snapshot\n\nRestore volume based on its own snapshot\n\nChange-Id: I2e65474d3805b919552fbc16869a8bffda0edd08\n'}, {'number': 6, 'created': '2021-08-24 07:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/658c4083fa6976fb1974d48d73699b2f78e1d470', 'message': 'feat: Restore volume use snapshot\n\nRestore volume based on its own snapshot\n\nChange-Id: I2e65474d3805b919552fbc16869a8bffda0edd08\n'}, {'number': 7, 'created': '2021-08-24 07:28:45.000000000', 'files': ['src/locales/en.json', 'src/pages/storage/containers/Volume/actions/index.jsx', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/resources/volume.jsx', 'src/pages/storage/containers/Snapshot/actions/index.jsx', 'src/styles/base.less', 'src/pages/storage/containers/Snapshot/actions/Restore.jsx', 'src/resources/snapshot.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0061ce4f15016ed286225422ce83e2c6c5ec88bf', 'message': 'feat: Restore volume use snapshot\n\nRestore volume based on its own snapshot\n\nChange-Id: I2e65474d3805b919552fbc16869a8bffda0edd08\n'}]",3,805584,0061ce4f15016ed286225422ce83e2c6c5ec88bf,21,2,7,33689,,,0,"feat: Restore volume use snapshot

Restore volume based on its own snapshot

Change-Id: I2e65474d3805b919552fbc16869a8bffda0edd08
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/84/805584/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/pages/storage/containers/Volume/actions/index.jsx', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/stores/cinder/volume.js', 'src/pages/storage/containers/Snapshot/actions/index.jsx', 'src/resources/backup.jsx', 'src/styles/base.less', 'src/pages/storage/containers/Snapshot/actions/Restore.jsx']",9,86f2e5534350d6f945b5d1879d0c48626f24841d,open-34373,"import { inject, observer } from 'mobx-react'; import { ModalAction } from 'containers/Action'; import { VolumeStore } from 'stores/cinder/volume'; import { revertTip } from 'resources/backup'; @inject('rootStore') @observer export default class RestoreAction extends ModalAction { static id = 'Restore Snapshot'; static title = t('Restore Snapshot'); init() { this.store = new VolumeStore(); this.getVolumeType(); } static get modalSize() { return 'middle'; } getModalSize() { return 'middle'; } get name() { return t('Restore Snapshot'); } get defaultValue() { const { name, id = '-', volume_type = '-', size } = this.store.detail; const value = { volume: `${name || id}(${volume_type} | ${size}GB)`, }; return value; } get formItems() { return [ { name: 'volume', label: t('Volume'), type: 'label', iconType: 'volume', }, ]; } get tips() { return revertTip; } async getVolumeType() { const { volume_id: id } = this.item; await this.store.fetchDetail({ id }); this.updateDefaultValue(); } static policy = 'volume:create'; static allowed = (item) => { return Promise.resolve(item.status === 'available'); }; return this.store.revert(id, { snapshot_id });"," import { ConfirmAction } from 'containers/Action'; import globalVolumeStore from 'stores/cinder/volume'; export default class RestoreAction extends ConfirmAction { get id() { return 'restore'; } get title() { return t('Restore'); } get buttonText() { return t('Restore'); } get actionName() { return t('Restore'); } policy = 'volume:create'; return globalVolumeStore.revert(id, { snapshot_id });",224,19
openstack%2Fpuppet-tacker~master~Ie932b2e924d5c63e5d980b688ce5afc7244c2f07,openstack/puppet-tacker,master,Ie932b2e924d5c63e5d980b688ce5afc7244c2f07,Re-enable installation of Tacker during acceptance tests.,MERGED,2021-07-06 05:01:11.000000000,2021-08-24 07:43:37.000000000,2021-08-24 07:43:37.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 05:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/f843dfa28fb889eb653a02845335f436e916d9ae', 'message': 'Re-enable installation of Tacker during acceptance tests.\n\nThis change re-enables installation of tacker which was unreasonably\ndisabled by 98be9843fcd6a999f509686d3e8c214ac49188f3 .\n\nChange-Id: Ie932b2e924d5c63e5d980b688ce5afc7244c2f07\n'}, {'number': 2, 'created': '2021-07-06 05:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/709d25162b2af79130f22af5036384f519b7f0bb', 'message': 'Re-enable installation of Tacker during acceptance tests.\n\nThis change re-enables installation of tacker which was disabled\nby 98be9843fcd6a999f509686d3e8c214ac49188f3 .\n\nChange-Id: Ie932b2e924d5c63e5d980b688ce5afc7244c2f07\n'}, {'number': 3, 'created': '2021-07-06 05:03:04.000000000', 'files': ['spec/acceptance/tacker_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/15fa74472058c474ea7f7928ff856e95c89a0ca1', 'message': 'Re-enable installation of Tacker during acceptance tests.\n\nThis change re-enables installation of tacker which was disabled\nby 98be9843fcd6a999f509686d3e8c214ac49188f3 .\n\nChange-Id: Ie932b2e924d5c63e5d980b688ce5afc7244c2f07\n'}]",0,799559,15fa74472058c474ea7f7928ff856e95c89a0ca1,9,5,3,9816,,,0,"Re-enable installation of Tacker during acceptance tests.

This change re-enables installation of tacker which was disabled
by 98be9843fcd6a999f509686d3e8c214ac49188f3 .

Change-Id: Ie932b2e924d5c63e5d980b688ce5afc7244c2f07
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/59/799559/3 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/tacker_spec.rb'],1,f843dfa28fb889eb653a02845335f436e916d9ae,acceptance," class { 'tacker::db': database_connection => 'mysql+pymysql://tacker:a_big_secret@127.0.0.1/tacker?charset=utf8', } class { 'tacker::keystone::auth': password => 'a_big_secret', } class { 'tacker::keystone::authtoken': password => 'a_big_secret', } class { 'tacker::logging': debug => true, } class { 'tacker': default_transport_url => 'rabbit://tacker:my_secret@127.0.0.1:5672/', } include tacker::server include tacker::client"," # NOTE(tkajinam): Tacker installation is currently broken, so disabled # until it is fixed. # class { 'tacker::db': # database_connection => 'mysql+pymysql://tacker:a_big_secret@127.0.0.1/tacker?charset=utf8', # } # class { 'tacker::keystone::auth': # password => 'a_big_secret', # } # class { 'tacker::keystone::authtoken': # password => 'a_big_secret', # } # class { 'tacker::logging': # debug => true, # } # class { 'tacker': # default_transport_url => 'rabbit://tacker:my_secret@127.0.0.1:5672/', # } # include tacker::server # include tacker::client",17,19
openstack%2Fpuppet-tacker~master~I5a6c295bb30141eed2949bdd198b91b7865e7f96,openstack/puppet-tacker,master,I5a6c295bb30141eed2949bdd198b91b7865e7f96,Add support for the tacker-conductor service,MERGED,2021-07-06 02:46:05.000000000,2021-08-24 07:42:18.000000000,2021-08-24 07:40:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 02:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/080e7866168080c48a4fc590dc9336d21fd74f46', 'message': 'Add support for the tacker-conductor service\n\nChange-Id: I5a6c295bb30141eed2949bdd198b91b7865e7f96\n'}, {'number': 2, 'created': '2021-07-06 02:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/8f70d0a26a810b56cd013fb79399a5781a16270d', 'message': 'Add support for the tacker-conductor service\n\nChange-Id: I5a6c295bb30141eed2949bdd198b91b7865e7f96\n'}, {'number': 3, 'created': '2021-07-06 04:04:32.000000000', 'files': ['spec/classes/tacker_server_spec.rb', 'spec/classes/tacker_conductor_spec.rb', 'manifests/conductor.pp', 'manifests/params.pp', 'releasenotes/notes/conductor-ff8d3b89b5a3c0bd.yaml', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/64c557c32dd4917f0021f591b77a50936a39d237', 'message': 'Add support for the tacker-conductor service\n\nChange-Id: I5a6c295bb30141eed2949bdd198b91b7865e7f96\n'}]",0,799553,64c557c32dd4917f0021f591b77a50936a39d237,11,5,3,9816,,,0,"Add support for the tacker-conductor service

Change-Id: I5a6c295bb30141eed2949bdd198b91b7865e7f96
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/53/799553/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tacker_server_spec.rb', 'spec/classes/tacker_conductor_spec.rb', 'manifests/conductor.pp', 'manifests/params.pp', 'releasenotes/notes/conductor-ff8d3b89b5a3c0bd.yaml', 'manifests/server.pp']",6,080e7866168080c48a4fc590dc9336d21fd74f46,conductor," ensure_packages('tacker-server', { }) name => $::tacker::params::server_service_name,"," package { 'tacker-server': } } if $manage_service { name => $::tacker::params::service_name,",138,15
openstack%2Fpuppet-cloudkitty~master~I21f41d72fcd12339724a14c1eec178e60a7870b3,openstack/puppet-cloudkitty,master,I21f41d72fcd12339724a14c1eec178e60a7870b3,Add max_workers for cloudkitty processor,MERGED,2021-08-03 00:14:20.000000000,2021-08-24 07:37:57.000000000,2021-08-24 07:35:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 00:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/f64c1b17729ea08310d29451ae7f6654db2c1936', 'message': 'Add max_workers for cloudkitty processor\n\nChange-Id: I21f41d72fcd12339724a14c1eec178e60a7870b3\n'}, {'number': 2, 'created': '2021-08-18 04:33:18.000000000', 'files': ['releasenotes/notes/add_orchestration_max_workers-6fda65c3be961ff3.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/e461edee6d18e715e267c9185364d9682d053e4a', 'message': 'Add max_workers for cloudkitty processor\n\nChange-Id: I21f41d72fcd12339724a14c1eec178e60a7870b3\n'}]",0,803297,e461edee6d18e715e267c9185364d9682d053e4a,12,3,2,26721,,,0,"Add max_workers for cloudkitty processor

Change-Id: I21f41d72fcd12339724a14c1eec178e60a7870b3
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/97/803297/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_orchestration_max_workers-6fda65c3be961ff3.yaml', 'spec/classes/cloudkitty_processor_spec.rb', 'manifests/processor.pp']",3,f64c1b17729ea08310d29451ae7f6654db2c1936,cloudkitty,"# [*max_workers*] # (optional) Number of max workers for processor # Default to $::os_service_default # $max_workers = $::os_service_default, 'orchestrator/max_workers': value => $max_workers;",,13,1
openstack%2Fpuppet-heat~master~Ic84202156f487e1b4605b665d02a1ebbecc509aa,openstack/puppet-heat,master,Ic84202156f487e1b4605b665d02a1ebbecc509aa,Do not test details of oslo::cache,MERGED,2021-08-23 05:10:28.000000000,2021-08-24 07:28:21.000000000,2021-08-24 07:28:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 05:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/a7affcf1e0709aa1355959663634dcf161230955', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: Ic84202156f487e1b4605b665d02a1ebbecc509aa\n'}, {'number': 2, 'created': '2021-08-23 05:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/39c08b54e59c033411486354562e6f8c1aeb3632', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: Ic84202156f487e1b4605b665d02a1ebbecc509aa\n'}, {'number': 3, 'created': '2021-08-23 05:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/19686776016bc3f35737268e6d234b02c80a78df', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: Ic84202156f487e1b4605b665d02a1ebbecc509aa\n'}, {'number': 4, 'created': '2021-08-23 05:36:57.000000000', 'files': ['spec/classes/heat_cache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/b362f4e026ab0ccd436f310173a60622b4f17524', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: Ic84202156f487e1b4605b665d02a1ebbecc509aa\n'}]",0,805573,b362f4e026ab0ccd436f310173a60622b4f17524,11,3,4,9816,,,0,"Do not test details of oslo::cache

... but test interface of oslo::cache, to make these test cases robust
for any change in oslo::cache.

Change-Id: Ic84202156f487e1b4605b665d02a1ebbecc509aa
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/73/805573/4 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/heat_cache_spec.rb'],1,a7affcf1e0709aa1355959663634dcf161230955,oslo-cache-ut,"describe 'neutron::cache' do {} shared_examples_for 'neutron::cache' do is_expected.to contain_oslo__cache('neutron_config').with( :config_prefix => '<SERVICE DEFAULT>', :expiration_time => '<SERVICE DEFAULT>', :backend => '<SERVICE DEFAULT>', :backend_argument => '<SERVICE DEFAULT>', :proxies => '<SERVICE DEFAULT>', :enabled => '<SERVICE DEFAULT>', :debug_cache_backend => '<SERVICE DEFAULT>', :memcache_servers => '<SERVICE DEFAULT>', :memcache_dead_retry => '<SERVICE DEFAULT>', :memcache_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_pool_connection_get_timeout => '<SERVICE DEFAULT>', :tls_enabled => '<SERVICE DEFAULT>', :tls_cafile => '<SERVICE DEFAULT>', :tls_certfile => '<SERVICE DEFAULT>', :tls_keyfile => '<SERVICE DEFAULT>', :tls_allowed_ciphers => '<SERVICE DEFAULT>', :manage_backend_package => true, ) :expiration_time => 3600, is_expected.to contain_oslo__cache('neutron_config').with( :config_prefix => 'prefix', :expiration_time => 3600, :backend => 'oslo_cache.memcache_pool', :backend_argument => '<SERVICE DEFAULT>', :proxies => ['proxy01:8888', 'proxy02:8888'], :enabled => true, :debug_cache_backend => false, :memcache_servers => ['memcached01:11211', 'memcached02:11211'], :memcache_dead_retry => '60', :memcache_socket_timeout => '300.0', :memcache_pool_maxsize => '10', :memcache_pool_unused_timeout => '120', :memcache_pool_connection_get_timeout => '360', :tls_enabled => false, :tls_cafile => nil, :tls_certfile => nil, :tls_keyfile => nil, :tls_allowed_ciphers => nil, :manage_backend_package => false, ) it_configures 'neutron::cache'","describe 'heat::cache' do { } shared_examples_for 'heat-cache' do is_expected.to contain_heat_config('cache/config_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/expiration_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/backend').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/backend_argument').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/proxies').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/enabled').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/debug_cache_backend').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/memcache_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/memcache_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/memcache_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/memcache_pool_connection_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/tls_enabled').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/tls_cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/tls_certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/tls_keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/tls_allowed_ciphers').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__cache('heat_config').with_manage_backend_package(true) :expiration_time => '3600', is_expected.to contain_heat_config('cache/config_prefix').with_value('prefix') is_expected.to contain_heat_config('cache/expiration_time').with_value('3600') is_expected.to contain_heat_config('cache/backend').with_value('oslo_cache.memcache_pool') is_expected.to contain_heat_config('cache/backend_argument').with_value('<SERVICE DEFAULT>') is_expected.to contain_heat_config('cache/proxies').with_value('proxy01:8888,proxy02:8888') is_expected.to contain_heat_config('cache/enabled').with_value('true') is_expected.to contain_heat_config('cache/debug_cache_backend').with_value('false') is_expected.to contain_heat_config('cache/memcache_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_heat_config('cache/memcache_dead_retry').with_value('60') is_expected.to contain_heat_config('cache/memcache_socket_timeout').with_value('300.0') is_expected.to contain_heat_config('cache/memcache_pool_maxsize').with_value('10') is_expected.to contain_heat_config('cache/memcache_pool_unused_timeout').with_value('120') is_expected.to contain_heat_config('cache/memcache_pool_connection_get_timeout').with_value('360') is_expected.to contain_heat_config('cache/tls_enabled').with_value('false') is_expected.to contain_heat_config('cache/tls_cafile').with_value('nil') is_expected.to contain_heat_config('cache/tls_certfile').with_value('nil') is_expected.to contain_heat_config('cache/tls_keyfile').with_value('nil') is_expected.to contain_heat_config('cache/tls_allowed_ciphers').with_value('nil') is_expected.to contain_oslo__cache('heat_config').with_manage_backend_package(false) it_configures 'heat-cache'",47,43
openstack%2Fpuppet-keystone~master~I9fae84582c1f96ab324527f1efafec1669c08693,openstack/puppet-keystone,master,I9fae84582c1f96ab324527f1efafec1669c08693,Do not test details of oslo::cache,MERGED,2021-08-23 05:32:07.000000000,2021-08-24 07:26:24.000000000,2021-08-24 07:26:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 05:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1aef87bf2ebbc1f1e0a6c91227b63523a93de369', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: I9fae84582c1f96ab324527f1efafec1669c08693\n'}, {'number': 2, 'created': '2021-08-23 05:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/769e54115c8f92bb28c08ff65a61a59472a17edf', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: I9fae84582c1f96ab324527f1efafec1669c08693\n'}, {'number': 3, 'created': '2021-08-23 07:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/223653f282a6b58259d1ff189ab775da87cb493a', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: I9fae84582c1f96ab324527f1efafec1669c08693\n'}, {'number': 4, 'created': '2021-08-23 07:36:01.000000000', 'files': ['spec/classes/keystone_cache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/068564b6c79d847ae928473263771ab98b68c78c', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: I9fae84582c1f96ab324527f1efafec1669c08693\n'}]",0,805576,068564b6c79d847ae928473263771ab98b68c78c,11,3,4,9816,,,0,"Do not test details of oslo::cache

... but test interface of oslo::cache, to make these test cases robust
for any change in oslo::cache.

Change-Id: I9fae84582c1f96ab324527f1efafec1669c08693
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/76/805576/4 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_cache_spec.rb'],1,1aef87bf2ebbc1f1e0a6c91227b63523a93de369,oslo-cache-ut," let :params do {} end shared_examples_for 'keystone::cache' do it 'configures cache' do is_expected.to contain_oslo__cache('keystone_config').with( :config_prefix => '<SERVICE DEFAULT>', :expiration_time => '<SERVICE DEFAULT>', :backend => '<SERVICE DEFAULT>', :backend_argument => '<SERVICE DEFAULT>', :proxies => '<SERVICE DEFAULT>', :enabled => '<SERVICE DEFAULT>', :debug_cache_backend => '<SERVICE DEFAULT>', :memcache_servers => '<SERVICE DEFAULT>', :memcache_dead_retry => '<SERVICE DEFAULT>', :memcache_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_pool_connection_get_timeout => '<SERVICE DEFAULT>', :tls_enabled => '<SERVICE DEFAULT>', :tls_cafile => '<SERVICE DEFAULT>', :tls_certfile => '<SERVICE DEFAULT>', :tls_keyfile => '<SERVICE DEFAULT>', :tls_allowed_ciphers => '<SERVICE DEFAULT>', :manage_backend_package => true, ) context 'with overridden parameters' do :expiration_time => 3600, :backend => 'oslo_cache.memcache_pool', :tls_enabled => false, :manage_backend_package => false, :token_caching => true, it 'configures cache' do is_expected.to contain_keystone_config('token/caching').with_value(true) is_expected.to contain_oslo__cache('keystone_config').with( :config_prefix => 'prefix', :expiration_time => 3600, :backend => 'oslo_cache.memcache_pool', :backend_argument => '<SERVICE DEFAULT>', :proxies => ['proxy01:8888', 'proxy02:8888'], :enabled => true, :debug_cache_backend => false, :memcache_servers => ['memcached01:11211', 'memcached02:11211'], :memcache_dead_retry => '60', :memcache_socket_timeout => '300.0', :memcache_pool_maxsize => '10', :memcache_pool_unused_timeout => '120', :memcache_pool_connection_get_timeout => '360', :tls_enabled => false, :tls_cafile => nil, :tls_certfile => nil, :tls_keyfile => nil, :tls_allowed_ciphers => nil, :manage_backend_package => false, ) it_configures 'keystone::cache'"," shared_examples 'keystone::cache' do let :params do {} end it 'configure cache default params' do is_expected.to contain_keystone_config('cache/config_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/expiration_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/backend').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/backend_argument').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/proxies').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/enabled').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/debug_cache_backend').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/memcache_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/memcache_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/memcache_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/memcache_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/tls_enabled').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/tls_cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/tls_certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/tls_keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cache/tls_allowed_ciphers').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__cache('keystone_config').with_manage_backend_package(true) context 'with specific values' do :expiration_time => '3600', :backend => 'dogpile.cache.memcached', :backend_argument => ['url:SERVER1:12211'], :manage_backend_package => false, :token_caching => 'true', :tls_enabled => 'false', it 'configure cache params' do is_expected.to contain_keystone_config('token/caching').with_value('true') is_expected.to contain_keystone_config('cache/config_prefix').with_value('prefix') is_expected.to contain_keystone_config('cache/expiration_time').with_value('3600') is_expected.to contain_keystone_config('cache/backend').with_value('dogpile.cache.memcached') is_expected.to contain_keystone_config('cache/backend_argument').with_value('url:SERVER1:12211') is_expected.to contain_keystone_config('cache/proxies').with_value('proxy01:8888,proxy02:8888') is_expected.to contain_keystone_config('cache/enabled').with_value('true') is_expected.to contain_keystone_config('cache/debug_cache_backend').with_value('false') is_expected.to contain_keystone_config('cache/memcache_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_keystone_config('cache/memcache_dead_retry').with_value('60') is_expected.to contain_keystone_config('cache/memcache_socket_timeout').with_value('300.0') is_expected.to contain_keystone_config('cache/memcache_pool_maxsize').with_value('10') is_expected.to contain_keystone_config('cache/memcache_pool_unused_timeout').with_value('120') is_expected.to contain_keystone_config('cache/tls_enabled').with_value('false') is_expected.to contain_keystone_config('cache/tls_cafile').with_value('nil') is_expected.to contain_keystone_config('cache/tls_certfile').with_value('nil') is_expected.to contain_keystone_config('cache/tls_keyfile').with_value('nil') is_expected.to contain_keystone_config('cache/tls_allowed_ciphers').with_value('nil') is_expected.to contain_oslo__cache('keystone_config').with_manage_backend_package(false) it_behaves_like 'keystone::cache'",59,55
openstack%2Fpuppet-nova~master~I63dbdf8d6295724bc1008ff06486d6de068af18c,openstack/puppet-nova,master,I63dbdf8d6295724bc1008ff06486d6de068af18c,Do not test details of oslo::cache,MERGED,2021-08-23 05:08:23.000000000,2021-08-24 07:26:20.000000000,2021-08-24 07:26:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 05:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f30406a91db72c6e2b0751ca8cfe54ffe46bb60c', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: I63dbdf8d6295724bc1008ff06486d6de068af18c\n'}, {'number': 2, 'created': '2021-08-23 05:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1e61cb2283dd4e25f38733f309d97baa1bf88d5d', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: I63dbdf8d6295724bc1008ff06486d6de068af18c\n'}, {'number': 3, 'created': '2021-08-23 05:35:59.000000000', 'files': ['spec/classes/nova_cache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/488a03e51f1d728b8592ffb323c3e3fbdc3f804c', 'message': 'Do not test details of oslo::cache\n\n... but test interface of oslo::cache, to make these test cases robust\nfor any change in oslo::cache.\n\nChange-Id: I63dbdf8d6295724bc1008ff06486d6de068af18c\n'}]",0,805572,488a03e51f1d728b8592ffb323c3e3fbdc3f804c,10,3,3,9816,,,0,"Do not test details of oslo::cache

... but test interface of oslo::cache, to make these test cases robust
for any change in oslo::cache.

Change-Id: I63dbdf8d6295724bc1008ff06486d6de068af18c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/805572/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/nova_cache_spec.rb'],1,f30406a91db72c6e2b0751ca8cfe54ffe46bb60c,oslo-cache-ut," {} shared_examples_for 'nova::cache' do is_expected.to contain_oslo__cache('nova_config').with( :config_prefix => '<SERVICE DEFAULT>', :expiration_time => '<SERVICE DEFAULT>', :backend => '<SERVICE DEFAULT>', :backend_argument => '<SERVICE DEFAULT>', :proxies => '<SERVICE DEFAULT>', :enabled => '<SERVICE DEFAULT>', :debug_cache_backend => '<SERVICE DEFAULT>', :memcache_servers => '<SERVICE DEFAULT>', :memcache_dead_retry => '<SERVICE DEFAULT>', :memcache_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_pool_connection_get_timeout => '<SERVICE DEFAULT>', :tls_enabled => '<SERVICE DEFAULT>', :tls_cafile => '<SERVICE DEFAULT>', :tls_certfile => '<SERVICE DEFAULT>', :tls_keyfile => '<SERVICE DEFAULT>', :tls_allowed_ciphers => '<SERVICE DEFAULT>', :manage_backend_package => true, ) :config_prefix => 'prefix', :expiration_time => 3600, :backend => 'oslo_cache.memcache_pool', :proxies => ['proxy01:8888', 'proxy02:8888'], :enabled => true, :debug_cache_backend => false, :memcache_servers => ['memcached01:11211', 'memcached02:11211'], :memcache_dead_retry => '60', :memcache_socket_timeout => '300.0', :memcache_pool_maxsize => '10', :memcache_pool_unused_timeout => '120', :memcache_pool_connection_get_timeout => '360', :tls_enabled => false, :tls_cafile => nil, :tls_certfile => nil, :tls_keyfile => nil, :tls_allowed_ciphers => nil, :manage_backend_package => false, } end it 'configures cache' do is_expected.to contain_oslo__cache('nova_config').with( :expiration_time => 3600, :backend_argument => '<SERVICE DEFAULT>', :manage_backend_package => false, ) it_configures 'nova::cache'"," { } shared_examples_for 'nova-cache' do is_expected.to contain_nova_config('cache/config_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/expiration_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/backend').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/backend_argument').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/proxies').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/enabled').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/debug_cache_backend').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/memcache_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/memcache_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/memcache_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/memcache_pool_connection_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/tls_enabled').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/tls_cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/tls_certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/tls_keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/tls_allowed_ciphers').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__cache('nova_config').with_manage_backend_package(true) :expiration_time => '3600', :manage_backend_package => false, } end it 'configures cache' do is_expected.to contain_nova_config('cache/config_prefix').with_value('prefix') is_expected.to contain_nova_config('cache/expiration_time').with_value('3600') is_expected.to contain_nova_config('cache/backend').with_value('oslo_cache.memcache_pool') is_expected.to contain_nova_config('cache/backend_argument').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cache/proxies').with_value('proxy01:8888,proxy02:8888') is_expected.to contain_nova_config('cache/enabled').with_value('true') is_expected.to contain_nova_config('cache/debug_cache_backend').with_value('false') is_expected.to contain_nova_config('cache/memcache_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_nova_config('cache/memcache_dead_retry').with_value('60') is_expected.to contain_nova_config('cache/memcache_socket_timeout').with_value('300.0') is_expected.to contain_nova_config('cache/memcache_pool_maxsize').with_value('10') is_expected.to contain_nova_config('cache/memcache_pool_unused_timeout').with_value('120') is_expected.to contain_nova_config('cache/memcache_pool_connection_get_timeout').with_value('360') is_expected.to contain_nova_config('cache/tls_enabled').with_value('false') is_expected.to contain_nova_config('cache/tls_cafile').with_value('nil') is_expected.to contain_nova_config('cache/tls_certfile').with_value('nil') is_expected.to contain_nova_config('cache/tls_keyfile').with_value('nil') is_expected.to contain_nova_config('cache/tls_allowed_ciphers').with_value('nil') is_expected.to contain_oslo__cache('nova_config').with_manage_backend_package(false) it_configures 'nova-cache'",51,49
openstack%2Fopenstack-ansible~master~If28cffee118d63335fa44989e7d22c6d41f76556,openstack/openstack-ansible,master,If28cffee118d63335fa44989e7d22c6d41f76556,DNM - test galera 10.6.4,ABANDONED,2021-08-12 09:46:05.000000000,2021-08-24 07:24:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-12 09:46:05.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/01b060766abca1c66bfe0464cc49e77c8856cb5a', 'message': 'DNM - test galera 10.6.4\n\nDepends-On: I0e293583a8b4952740398177f5fb1ee5bb5197b4\nChange-Id: If28cffee118d63335fa44989e7d22c6d41f76556\n'}]",0,804372,01b060766abca1c66bfe0464cc49e77c8856cb5a,7,1,1,25023,,,0,"DNM - test galera 10.6.4

Depends-On: I0e293583a8b4952740398177f5fb1ee5bb5197b4
Change-Id: If28cffee118d63335fa44989e7d22c6d41f76556
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/804372/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,01b060766abca1c66bfe0464cc49e77c8856cb5a,,,,0,0
openstack%2Fcharms.openstack~master~I780820d63cf3cbb5ef968c02da033e57294cd26c,openstack/charms.openstack,master,I780820d63cf3cbb5ef968c02da033e57294cd26c,Use openstack-release package to determine codename,ABANDONED,2021-08-23 13:51:49.000000000,2021-08-24 06:13:36.000000000,,"[{'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-08-23 13:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/4ebdf495c5b787ceb2921b8a4c39eaf18157381d', 'message': 'Use openstack-release package to determine codename\n\nThe use of package versions to look up OpenStack codenames is\ndeprecated for in favor of using the openstack-release package.\nThe openstack-release package is available for Wallaby onward.\n\nChange-Id: I780820d63cf3cbb5ef968c02da033e57294cd26c\n(cherry picked from commit 8960e070f2ffdc514b949b3e4c2d59a6f93dfc15)\n'}, {'number': 2, 'created': '2021-08-23 14:03:55.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/52e35632e225c805e2817c6d549a54eb22bfbdd1', 'message': 'Use openstack-release package to determine codename\n\nThe use of package versions to look up OpenStack codenames is\ndeprecated for in favor of using the openstack-release package.\nThe openstack-release package is available for Wallaby onward.\n\nChange-Id: I780820d63cf3cbb5ef968c02da033e57294cd26c\n'}]",2,805645,52e35632e225c805e2817c6d549a54eb22bfbdd1,9,3,2,13686,,,0,"Use openstack-release package to determine codename

The use of package versions to look up OpenStack codenames is
deprecated for in favor of using the openstack-release package.
The openstack-release package is available for Wallaby onward.

Change-Id: I780820d63cf3cbb5ef968c02da033e57294cd26c
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/45/805645/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,4ebdf495c5b787ceb2921b8a4c39eaf18157381d,stable/21.04," self.patch_object(chm_core.os_utils, 'get_installed_os_version') self.get_installed_os_version.return_value = None # Test Wallaby self.get_installed_os_version.return_value = 'wallaby' self.assertEqual( chm_core.BaseOpenStackCharm.get_os_codename_package( 'testpkg', codenames), 'wallaby') self.get_installed_os_version.return_value = None",,22,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,stable/wallaby,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-22 09:40:49.000000000,2021-08-24 06:09:01.000000000,2021-08-24 06:09:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 09:40:49.000000000', 'files': ['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fdb8ee10ba2550037152bcad5f1060e153edc5d9', 'message': 'Revert ""Deprecate warnings for Ceilometer and Gnocchi""\n\nThis reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.\n\nReason for revert:\nCeilometer and Gnocchi are not deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n\tmanifests/profile/base/gnocchi.pp\n\nChange-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9\n(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)\n'}]",0,805526,fdb8ee10ba2550037152bcad5f1060e153edc5d9,11,2,1,9816,,,0,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/26/805526/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp']",2,fdb8ee10ba2550037152bcad5f1060e153edc5d9,,, warning('Ceilometer is deprecated and is going to be removed in future.') ,0,3
openstack%2Fpython-manilaclient~master~I5be047d6c81556b45773497f55323d1611c1eb48,openstack/python-manilaclient,master,I5be047d6c81556b45773497f55323d1611c1eb48,[OSC] Implement Share Pools List command,MERGED,2021-08-20 14:59:07.000000000,2021-08-24 05:21:02.000000000,2021-08-24 05:19:44.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-08-20 14:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cbe831d60c88ba3950366e5d6c2f7909b9970579', 'message': 'WIP: [OSC] Implement Share Pools List command\n\nChange-Id: I5be047d6c81556b45773497f55323d1611c1eb48\n'}, {'number': 2, 'created': '2021-08-20 19:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/efee11f4e42dfcda630d43e466e310265f74b141', 'message': '[OSC] Implement Share Pools List command\n\nThis commit implements the following openstack share command:\n\nopenstack share pool list\n\nPartially-implements: bp openstack-client-support\nChange-Id: I5be047d6c81556b45773497f55323d1611c1eb48\n'}, {'number': 3, 'created': '2021-08-23 13:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/df995e2479b73d1dcf1154173b554929ad1b9fe0', 'message': '[OSC] Implement Share Pools List command\n\nThis commit implements the following openstack share command:\n\nopenstack share pool list\n\nPartially-implements: bp openstack-client-support\nChange-Id: I5be047d6c81556b45773497f55323d1611c1eb48\n'}, {'number': 4, 'created': '2021-08-24 00:04:51.000000000', 'files': ['manilaclient/osc/v2/share_pools.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/tests/unit/osc/v2/test_share_pools.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d566ecc09a2540a9ae19082692e299d8b6a41821', 'message': '[OSC] Implement Share Pools List command\n\nThis commit implements the following openstack share command:\n\nopenstack share pool list\n\nPartially-implements: bp openstack-client-support\nChange-Id: I5be047d6c81556b45773497f55323d1611c1eb48\n'}]",2,805403,d566ecc09a2540a9ae19082692e299d8b6a41821,25,4,4,31213,,,0,"[OSC] Implement Share Pools List command

This commit implements the following openstack share command:

openstack share pool list

Partially-implements: bp openstack-client-support
Change-Id: I5be047d6c81556b45773497f55323d1611c1eb48
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/03/805403/4 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share_pools.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_pools.py', 'setup.cfg']",4,cbe831d60c88ba3950366e5d6c2f7909b9970579,bp/openstack-client-support, share_pool_list = manilaclient.osc.v2.share_pools:ListSharePool,,219,0
openstack%2Fskyline-console~master~I6de5a95360b2cbe4ad35162a6f83decd2ba506c1,openstack/skyline-console,master,I6de5a95360b2cbe4ad35162a6f83decd2ba506c1,fix: Fix pass props from layout,MERGED,2021-08-24 03:30:52.000000000,2021-08-24 03:39:27.000000000,2021-08-24 03:39:27.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 03:30:52.000000000', 'files': ['src/pages/storage/App.jsx', 'src/pages/management/App.jsx', 'src/pages/network/App.jsx', 'src/pages/auth/App.jsx', 'Makefile', 'src/pages/configuration/App.jsx', 'src/pages/compute/App.jsx', 'src/pages/base/App.jsx', 'src/pages/basic/App.jsx', 'src/pages/identity/App.jsx', 'src/pages/heat/App.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ae3b0fa5796a851ddf67382553fa63852aac0db3', 'message': 'fix: Fix pass props from layout\n\n1. Fix pass props from layout\n2. Fix space to tab in Makefile\n\nChange-Id: I6de5a95360b2cbe4ad35162a6f83decd2ba506c1\n'}]",0,805776,ae3b0fa5796a851ddf67382553fa63852aac0db3,6,2,1,30434,,,0,"fix: Fix pass props from layout

1. Fix pass props from layout
2. Fix space to tab in Makefile

Change-Id: I6de5a95360b2cbe4ad35162a6f83decd2ba506c1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/76/805776/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/storage/App.jsx', 'src/pages/management/App.jsx', 'src/pages/auth/App.jsx', 'src/pages/network/App.jsx', 'Makefile', 'src/pages/configuration/App.jsx', 'src/pages/compute/App.jsx', 'src/pages/base/App.jsx', 'src/pages/basic/App.jsx', 'src/pages/identity/App.jsx', 'src/pages/heat/App.jsx']",11,ae3b0fa5796a851ddf67382553fa63852aac0db3,,"const App = (props) => renderRoutes(routes, props);",const App = () => renderRoutes(routes);,11,11
openstack%2Fskyline-console~master~Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9,openstack/skyline-console,master,Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9,fix: Fix white screen problem,MERGED,2021-08-23 08:57:18.000000000,2021-08-24 03:05:50.000000000,2021-08-24 03:05:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-23 08:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9b1879b4dd5fe830f863166070586f6153e9a618', 'message': 'fix: Fix white screen problem\n\nChange layouts stack to avoid the white screen problem when route change\n\nChange-Id: Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9\n'}, {'number': 2, 'created': '2021-08-23 09:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/53168c884daaef3e99b912b05708561c5bb3560f', 'message': 'fix: Fix white screen problem\n\nChange layouts stack to avoid the white screen problem when route change\n\nChange-Id: Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9\n'}, {'number': 3, 'created': '2021-08-23 09:14:24.000000000', 'files': ['src/components/Pagination/index.less', 'src/pages/configuration/routes/index.js', 'src/pages/compute/routes/index.js', 'src/components/Layout/GlobalHeader/index.less', 'src/layouts/Base/index.less', 'src/layouts/Base/index.jsx', 'src/pages/auth/containers/ChangePassword/index.jsx', 'src/stores/root.js', 'src/layouts/Auth/index.jsx', 'src/pages/basic/routes/index.js', 'src/components/Tables/Base/index.less', 'src/pages/management/routes/index.js', 'src/layouts/Basic/index.jsx', 'src/core/routes.js', 'src/pages/auth/containers/Login/index.jsx', 'src/layouts/Auth/index.less', 'src/pages/auth/containers/Login/index.less', 'src/pages/network/routes/index.js', 'src/layouts/Base/Right.jsx', 'src/pages/basic/App.jsx', 'src/pages/storage/routes/index.js', 'src/components/PageLoading/index.jsx', 'src/pages/identity/routes/index.js', 'src/pages/base/routes/index.js', 'src/pages/auth/containers/ChangePassword/index.less', 'src/pages/auth/routes/index.js', 'src/pages/auth/App.jsx', 'src/pages/heat/routes/index.js', 'src/styles/base.less', 'src/layouts/Base/Menu.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/42a5e8331d47f990f37ec6018832b2418c6bfb53', 'message': 'fix: Fix white screen problem\n\nChange layouts stack to avoid the white screen problem when route change\n\nChange-Id: Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9\n'}]",0,805604,42a5e8331d47f990f37ec6018832b2418c6bfb53,10,2,3,33689,,,0,"fix: Fix white screen problem

Change layouts stack to avoid the white screen problem when route change

Change-Id: Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/04/805604/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/configuration/routes/index.js', 'src/pages/compute/routes/index.js', 'src/components/Layout/GlobalHeader/index.less', 'src/layouts/Base/index.less', 'src/layouts/Base/index.jsx', 'config/webpack.dev.js', 'src/pages/auth/containers/ChangePassword/index.jsx', 'src/stores/root.js', 'src/layouts/Auth/index.jsx', 'src/pages/basic/routes/index.js', 'src/pages/management/routes/index.js', 'src/layouts/Basic/index.jsx', 'src/core/routes.js', 'src/pages/auth/containers/Login/index.jsx', 'src/layouts/Auth/index.less', 'src/pages/auth/containers/Login/index.less', 'src/pages/network/routes/index.js', 'src/layouts/Base/Right.jsx', 'src/pages/basic/App.jsx', 'src/pages/storage/routes/index.js', 'src/components/PageLoading/index.jsx', 'src/pages/identity/routes/index.js', 'src/pages/base/routes/index.js', 'src/pages/auth/containers/ChangePassword/index.less', 'src/pages/auth/routes/index.js', 'src/pages/auth/App.jsx', 'src/pages/heat/routes/index.js', 'src/styles/base.less', 'src/layouts/Base/Menu.jsx']",29,9b1879b4dd5fe830f863166070586f6153e9a618,open-33635,," // className={classnames(styles['base-layout-sider'], styles['base-layout-sider-collapsed'], styles['base-layout-sider-hover'])}",197,108
openstack%2Fpython-tackerclient~master~I57be2d06efe8913805069150bd3f884322a78a42,openstack/python-tackerclient,master,I57be2d06efe8913805069150bd3f884322a78a42,Remove use of testtools.helpers.safe_hasattr,MERGED,2021-08-05 07:42:03.000000000,2021-08-24 02:48:59.000000000,2021-08-24 02:47:41.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-08-05 07:42:03.000000000', 'files': ['tackerclient/tests/unit/test_command_meta.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/6325127c03fd1b2748411b1e4e787d4f8bcba060', 'message': ""Remove use of testtools.helpers.safe_hasattr\n\nThe testtools package removed safe_hasattr in version 2.5.0 [1].\nSince it is only used in two unit tests, let's replace it with the\nbuilt-in hasattr.\n\n[1] - https://github.com/testing-cabal/testtools/blob/2.5.0/NEWS#L31-L34\n\nChange-Id: I57be2d06efe8913805069150bd3f884322a78a42\n""}]",0,803540,6325127c03fd1b2748411b1e4e787d4f8bcba060,10,5,1,13294,,,0,"Remove use of testtools.helpers.safe_hasattr

The testtools package removed safe_hasattr in version 2.5.0 [1].
Since it is only used in two unit tests, let's replace it with the
built-in hasattr.

[1] - https://github.com/testing-cabal/testtools/blob/2.5.0/NEWS#L31-L34

Change-Id: I57be2d06efe8913805069150bd3f884322a78a42
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/40/803540/1 && git format-patch -1 --stdout FETCH_HEAD,['tackerclient/tests/unit/test_command_meta.py'],1,6325127c03fd1b2748411b1e4e787d4f8bcba060,," self.assertTrue(hasattr(FakeCommand, 'log')) self.assertTrue(hasattr(FakeCommand, 'log'))","from testtools import helpers self.assertTrue(helpers.safe_hasattr(FakeCommand, 'log')) self.assertTrue(helpers.safe_hasattr(FakeCommand, 'log'))",2,3
openstack%2Ftacker~master~I37d61805bf492d28362183e91f21e18cf95cc0c6,openstack/tacker,master,I37d61805bf492d28362183e91f21e18cf95cc0c6,Doc:Fix misspelled word in Legacy User Guide,MERGED,2021-08-17 08:45:07.000000000,2021-08-24 02:48:31.000000000,2021-08-24 02:46:57.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-08-17 08:45:07.000000000', 'files': ['doc/source/install/getting_started.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/70bfbe43139448c519b5e5612709f1d07bba7728', 'message': 'Doc:Fix misspelled word in Legacy User Guide\n\nThis patch fixes misspelled words such as parameter name\n""cert_verify"" and ""instance"" found incorrect in Tacker\nLegacy User Guide.\n\nCloses-Bug: #1940230\nChange-Id: I37d61805bf492d28362183e91f21e18cf95cc0c6\n'}]",0,804835,70bfbe43139448c519b5e5612709f1d07bba7728,9,5,1,32102,,,0,"Doc:Fix misspelled word in Legacy User Guide

This patch fixes misspelled words such as parameter name
""cert_verify"" and ""instance"" found incorrect in Tacker
Legacy User Guide.

Closes-Bug: #1940230
Change-Id: I37d61805bf492d28362183e91f21e18cf95cc0c6
",git fetch https://review.opendev.org/openstack/tacker refs/changes/35/804835/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/getting_started.rst'],1,70bfbe43139448c519b5e5612709f1d07bba7728,bug/1940230," certificate, user can set ``cert_verify`` parameter to ``False``. If you inspect attributes of the instance, use ``show`` subcommand with name or ID. For example, you can inspect the VNF named ``samplevnf``"," certificate, user can set ``cert_verifyi`` parameter to ``False``. If you inspect attributes of the isntances, use ``show`` subcommand with name or ID. For example, you can inspect the VNF named as ``samplevnf``",3,3
openstack%2Fos-brick~master~Ia92a0a3bb448f1de77038d83ca81056589a05cbc,openstack/os-brick,master,Ia92a0a3bb448f1de77038d83ca81056589a05cbc,Update master for stable/xena,MERGED,2021-08-23 20:49:01.000000000,2021-08-24 02:45:19.000000000,2021-08-23 21:17:33.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 20:49:01.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5c311d1acaf611a24071db616ab85ec14a1d7286', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ia92a0a3bb448f1de77038d83ca81056589a05cbc\n'}]",0,805704,5c311d1acaf611a24071db616ab85ec14a1d7286,14,3,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Ia92a0a3bb448f1de77038d83ca81056589a05cbc
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/04/805704/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,5c311d1acaf611a24071db616ab85ec14a1d7286,reno-xena, xena,,7,0
openstack%2Ftacker-specs~master~Ieaef65650b7026aca1672af15e8550f04a2a8623,openstack/tacker-specs,master,Ieaef65650b7026aca1672af15e8550f04a2a8623,Support Helm chart for Kubernetes VIM,MERGED,2021-04-16 06:59:23.000000000,2021-08-24 02:28:49.000000000,2021-08-24 02:27:31.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33292}]","[{'number': 1, 'created': '2021-04-16 06:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e18332507485504912e87c8b1c5b87a39e470ebe', 'message': 'Support Helm chart for Kubernetes VIM\n\nThis specification proposes new interface for Kubernetes VIM\nwith Helm chart. It enable Users to include Helm chart files\nas MCIOP in their VNF Packages and to instantiate, scale-out/in,\nheal CNF with them.\n\nTo support Helm chart as interface for Kubernetes VIM,\nHelm related packages should be installed and configured.\nWhen the Kubernetes VIM is a VNF managed with VNF Lifecycle\nManagement interface, MgmtDriver helps those process as\npreamble/postamble of VNF LCM interface.\n\nChange-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623\n'}, {'number': 2, 'created': '2021-06-21 08:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f6af6598379c1ec5e92c42858e01b73f3f094248', 'message': 'Support Helm chart for Kubernetes VIM\n\nThis specification proposes new interface for Kubernetes VIM\nwith Helm chart. It enable Users to include Helm chart files\nas MCIOP in their VNF Packages and to instantiate, scale-out/in,\nheal CNF with them.\n\nTo support Helm chart as interface for Kubernetes VIM,\nHelm related packages should be installed and configured.\nWhen the Kubernetes VIM is a VNF managed with VNF Lifecycle\nManagement interface, MgmtDriver helps those process as\npreamble/postamble of VNF LCM interface.\n\nChange-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623\n'}, {'number': 3, 'created': '2021-06-22 00:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/69ade82ff2e6688b072a9d82648c700fc23fd23d', 'message': 'Support Helm chart for Kubernetes VIM\n\nThis specification proposes new interface for Kubernetes VIM\nwith Helm chart. It enable Users to include Helm chart files\nas MCIOP in their VNF Packages and to instantiate, scale-out/in,\nheal CNF with them.\n\nTo support Helm chart as interface for Kubernetes VIM,\nHelm related packages should be installed and configured.\nWhen the Kubernetes VIM is a VNF managed with VNF Lifecycle\nManagement interface, MgmtDriver helps those process as\npreamble/postamble of VNF LCM interface.\n\nChange-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623\n'}, {'number': 4, 'created': '2021-06-22 09:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9062ed4a48c1824d6555f6d1258b92fb20673ade', 'message': 'Support Helm chart for Kubernetes VIM\n\nThis specification proposes new interface for Kubernetes VIM\nwith Helm chart. It enable Users to include Helm chart files\nas MCIOP in their VNF Packages and to instantiate, scale-out/in,\nheal CNF with them.\n\nTo support Helm chart as interface for Kubernetes VIM,\nHelm related packages should be installed and configured.\nWhen the Kubernetes VIM is a VNF managed with VNF Lifecycle\nManagement interface, MgmtDriver helps those process as\npreamble/postamble of VNF LCM interface.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623\n'}, {'number': 5, 'created': '2021-08-05 09:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c32e54ab5866f6ef7c39bedfcad26218416909e5', 'message': 'Support Helm chart for Kubernetes VIM\n\nThis specification proposes new interface for Kubernetes VIM\nwith Helm chart. It enable Users to include Helm chart files\nas MCIOP in their VNF Packages and to instantiate, scale-out/in,\nheal CNF with them.\n\nTo support Helm chart as interface for Kubernetes VIM,\nHelm related packages should be installed and configured.\nWhen the Kubernetes VIM is a VNF managed with VNF Lifecycle\nManagement interface, MgmtDriver helps those process as\npreamble/postamble of VNF LCM interface.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623\n'}, {'number': 6, 'created': '2021-08-06 08:13:26.000000000', 'files': ['specs/xena/helmchart-k8s-vim.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/5a421e841d295f4d422629e426ca4341e87bc6f2', 'message': 'Support Helm chart for Kubernetes VIM\n\nThis specification proposes new interface for Kubernetes VIM\nwith Helm chart. It enable Users to include Helm chart files\nas MCIOP in their VNF Packages and to instantiate, scale-out/in,\nheal CNF with them.\n\nTo support Helm chart as interface for Kubernetes VIM,\nHelm related packages should be installed and configured.\nWhen the Kubernetes VIM is a VNF managed with VNF Lifecycle\nManagement interface, MgmtDriver helps those process as\npreamble/postamble of VNF LCM interface.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623\n'}]",39,786581,5a421e841d295f4d422629e426ca4341e87bc6f2,36,9,6,27880,,,0,"Support Helm chart for Kubernetes VIM

This specification proposes new interface for Kubernetes VIM
with Helm chart. It enable Users to include Helm chart files
as MCIOP in their VNF Packages and to instantiate, scale-out/in,
heal CNF with them.

To support Helm chart as interface for Kubernetes VIM,
Helm related packages should be installed and configured.
When the Kubernetes VIM is a VNF managed with VNF Lifecycle
Management interface, MgmtDriver helps those process as
preamble/postamble of VNF LCM interface.

Implements: blueprint helmchart-k8s-vim
Change-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/81/786581/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/helmchart-k8s-vim.rst'],1,e18332507485504912e87c8b1c5b87a39e470ebe,change-786581-5,"===================================== Support Helm chart for Kubernetes VIM ===================================== https://blueprints.launchpad.net/tacker/+spec/helmchart-k8s-vim Problem description =================== Tacker Wallaby release supports Kubernetes resource files as Managed Container Infrastructure Object Package (MCIOP) in VNF Lifecycle Management for CNF. On the other hand, Helm chart should be also supported as MCIOP due to the trend of cloud-native application development. This specification proposes new interface for Kubernetes VIM with Helm chart. It enable Users to include Helm chart files in their VNF Packages and to instantiate, scale-out/in, heal CNF with them. Proposed Change =============== When Users manage Kubernetes cluster as VNF instance with ETSI NFV-SOL003 VNF Lifecycle Management, it is also required to update MgmtDriver to support Helm chart. Otherwise, Users need to install and configure Helm chart environment in their Kubernetes cluster. This spec describes how to change MgmtDriver sample in Tacker repository [#K8S-MGMT-DRIVER]_ and what to be changed in CNF operations such as Instantiate, Scale, and Heal. The following changes are required in MgmtDriver for Kubernetes cluster VNF: #. Instantiate Kubernetes Cluster VNF + Add new logic to install Helm related packages in ``instantiate_end`` method. + Store Master nodes SSH connection info into ``VIM`` table and ``VnfInstance.vimConnectionInfo`` in ``instantiate_end`` method. .. note:: HA Master nodes described in the spec ""Support HA Kubernetes Master deployment with MgmtDriver"" [#SPEC-HA-K8S]_ may not be supported due to the challenge how to manage plural connection info. #. Heal Master node in Kubernetes Cluster VNF + Add new logic to install Helm related packages in ``heal_end`` method. #. Heal entire Kubernetes Cluster VNF + Store new Master nodes SSH connection info into ``VIM`` table and ``VnfInstance.vimConnectionInfo`` in ``heal_end`` method. The following changes are required for CNF operations: #. CNF common operations + Detects Helm chart mode according to ``InstantiateVnfRequest.vimConnectionInfo`` in Kubernetes InfraDriver. + Implement Helm chart client. #. CNF Instantiate + Register Helm chart to Helm repository. + Call Helm chart client from Kubernetes InfraDriver. + Store deployed Kubernetes resources info in Helm chart to Database. #. CNF Terminate + Deregister Helm chart from Helm repository. + Call Helm chart client from Kubernetes InfraDriver. #. CNF Scale + Call Helm chart client from Kubernetes InfraDriver. .. note:: The Scale operation may need to use Kubernetes PythonClient other than Helm chart client. The number of replicas may not be exposed in `values.yaml` in Helm chart. In this case, Tacker needs to store exactly the same Database with the case of Kubernetes Python Client in Instantiate operation. #. CNF Heal + Call Helm chart client from Kubernetes InfraDriver .. note:: The Heal operation may need to use Kubernetes PythonClient other than Helm chart client. Helm cli doesn't support Heal operations. In this case, Tacker needs to store exactly the same Database with the case of Kubernetes Python Client in Instantiate operation. Instantiate Kubernetes Cluster VNF ----------------------------------- :: +--------------+ +---------+ | Helm | | | | Install | | VNFD | | Script | | | +-------+------+ +-+-------+ | | +-----v v +---------------+ +----------+ | Instantiation | | | | Request | | CSAR | | Additional | | | | Params | +----+-----+ +-+-------------+ | | | | +-----+----------+--------------+ | v v VNFM | | +-------------------+ | | | Tackerserver | | | +-------+-----------+ | | | | | v | 2. Kubernetes Cluster | +----------------------+ | & Helm Installation | | +-------------+ | | +-------------+------------------------+--+----| MgmtDriver | | | | | | | +-------------+ | | +-------|-------------|------------+ | | | | | | | | | | | | | +----|------+ +---|-------+ | | | | | | | v | | v | | | | +-------------+ | | | | +------+ | | +------+ | | 1. Create | | |OpenStack | | | | | |Worker| | | |Master| |<---------------+--+----|Infra Driver | | | | | +------+ | | +------+ | | VMs | | +-------------+ | | | | VM | | VM | | | | | | | +-----------+ +-----------+ | | | | | +----------------------------------+ | | Tacker Conductor| | +----------------------------------+ | +----------------------+ | | Hardware Resources | | | +----------------------------------+ +-------------------------------+ The diagram shows Instantiate operation of Kubernetes cluster VNF. When MgmtDriver invokes ``instantiate_end``, following steps are added: #. MgmtDriver uses a shell script to install Helm. #. MgmtDriver add Master node access information to TackerDB as ``VIM`` and ``VnfInstance.vimConnectionInfo``. Following sequence diagram describes the components involved and the flow of install Helm with MgmtDriver operation: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""MgmtDriver"" ""OpenStackInfraDriver"" ""MasterNode"" ""TackerDB"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""Trigger asynchronous task""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""Execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenStackInfraDriver"" [label = ""instantiate_vnf()""]; ""OpenStackInfraDriver"" -> ""Heat"" [label = ""Create stack""]; ""OpenStackInfraDriver"" <-- ""Heat"" [label = ""Return stack id""]; ""VnfLcmDriver"" <-- ""OpenStackInfraDriver"" [label = ""return instance_id""]; ""VnfLcmDriver"" -> ""MgmtDriver"" [label = ""instantiate_end()""]; ""MgmtDriver"" -> ""Heat"" [label = ""Get ssh ip address and Kubernetes address using stack id""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""MasterNode"" [label = ""Install Kubernetes by script""]; ""MgmtDriver"" <-- ""MasterNode"" [label = """"]; ""MgmtDriver"" -> ""MasterNode"" [label = ""Install Helm by script""]; ""MgmtDriver"" <-- ""MasterNode"" [label = """"]; ""MgmtDriver""-> ""TackerDB"" [label = ""Add MasterNode access information to vim_connection_info table""] ""MgmtDriver"" <-- ""TackerDB"" [label = """"]; ""VnfLcmDriver"" <-- ""MgmtDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence. #. Client sends an instantiate request. #. It is basically the same with the spec ""Support deploying Kubernetes cluster with MgmtDriver"" [#SPEC-K8S-DEPLOY]_. #. The following processes will be added in ``instantiate_end``. #. MgmtDriver installs Helm on the new Master nodes by a shell script. #. Access to Master nodes via SSH #. Copy the script files from ""helm_installation_script_path"" to the Master nodes. #. Run the scripts. #. MgmtDriver adds Master node access information to ``VnfInstance.vimConnectionInfo``. Sample request parameters ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following parameters are required in ``InstantiateVnfRequest`` for Helm chart support. +--------------------------------------+---------------------------------------------------------+ | Attribute name | Parameter description | +======================================+=========================================================+ | helm_installation_script_path | File path of the script file to install Helm. | +--------------------------------------+---------------------------------------------------------+ Following is a sample of request body: .. code-block:: json { ""flavourId"": ""ha_k8s_install"", ""extVirtualLinks"": [ { ""id"": ""net0"", ""resourceId"": ""f0c82461-36b5-4d86-8322-b0bc19cda65f"", ""extCps"": [ { ""cpdId"": ""CP1"", ""cpConfig"": [ { ""cpProtocolData"": [ { ""layerProtocol"": ""IP_OVER_ETHERNET"" } ] } ] } ] } ], ""additionalParams"": { ""lcm-operation-user-data"": ""./UserData/lcm_user_data.py"", ""lcm-operation-user-data-class"": ""SampleUserData"", ""k8s_cluster_installation_param"": { ""script_path"": ""Scripts/install_k8s_ha.sh"", ""vim_name"": ""kubernetes_vim_all_param"", ""master_node"": { ""aspect_id"": ""master_instance"", ""ssh_cp_name"": ""CP1"", ""username"": ""ubuntu"", ""password"": ""ubuntu"", ""pod_cidr"": ""192.168.3.0/16"", ""cluster_cidr"": ""10.199.187.0/24"", ""cluster_cp_name"": ""vrrp_CP"" }, ""worker_node"": { ""aspect_id"": ""worker_instance"", ""ssh_cp_name"": ""CP2"", ""username"": ""ubuntu"", ""password"": ""ubuntu"" }, ""proxy"": { ""http_proxy"": ""http://user1:password1@host1:port1"", ""https_proxy"": ""https://user2:password2@host2:port2"", ""no_proxy"": ""192.168.10.0/24,10.0.0.1"" }, ""helm_installation_script_path"": ""Scripts/install_helm.sh"" } }, ""vimConnectionInfo"": [ { ""id"": ""8a3adb69-0784-43c7-833e-aab0b6ab4470"", ""vimId"": ""8d8373fe-6977-49ff-83ac-7756572ed186"", ""vimType"": ""openstack"" } ] } Sample Database table for Helm chart support ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following parameters are stored in ``extra`` field of ``VnfInstance.vimConnectionInfo`` as access info to Master node. This ``extra`` field is defined as key/value pair in ETSI NFV-SOL003 v2.6.1 [#ETSI-SOL003]_. +----------------------------+-----------------------------------------------------------+ | Attribute name | Parameter description | +============================+===========================================================+ |helm_info | Access information to install Helm in Master nodes. | +----------------------------+-----------------------------------------------------------+ |> masternode_ip | IP address of Master node. | +----------------------------+-----------------------------------------------------------+ |> masternode_username | Username for SSH login to Master node. | +----------------------------+-----------------------------------------------------------+ |> masternode_password | Password for SSH login to Master node. | +----------------------------+-----------------------------------------------------------+ Sample of the table stored in the database: .. code-block:: json { ""vim_type"": ""kubernetes"", ""access_info"": { ""auth_url"":""http://123.124.64.6:8443"", ""username"": ""some-username"", ""password"": ""some-password"", ""bearer_token"": ""value of bearer token"", ""ssl_ca_cert_hash"": ""hash value of ssl ca certification"", ""certificate_key"": ""value of certificate key"" }, ""interface_info"": { }, ""extra"": { ""helm_info"": { ""masternode_ip"": ""192.168.100.100"", ""masternode_username"": ""user1"", ""masternode_password"": ""password"", } } } Heal Kubernetes Cluster VNF for Helm chart support -------------------------------------------------- Required change is limited in ``heal_end`` method of MgmtDriver. Tacker supports VNFC Heal operation with SOL002 and VNF Heal operation with SOL003. In both cases, the similar process in Instantiate operation is added. Heal Master node with SOL002 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following processes will be added in ``heal_end``. #. MgmtDriver installs Helm on the new Master nodes by a shell script. #. Access to Master nodes via SSH #. Copy the script files from ""helm_installation_script_path"" to the Master nodes. #. Run the scripts. #. MgmtDriver deletes access information of healed Master nodes and adds new ones to ``VnfInstance.vimConnectionInfo``. Heal entire Kubernetes Cluster VNF ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This case follows the same logic in Terminate and Instantiate operations. It is worth to note that ``VIM`` and ``VnfInstance.vimConnectionInfo`` table should be updated with new Kubernetes Cluster information. Instantiate CNF with Helm chart -------------------------------- The diagram below shows the Instantiate operation with Helm chart: :: +------+ +------------+ | VNFD | | Helm chart | | | | | +-+----+ ++-----------+ | | +-v-------v-+ +-----------------+ | | | Instantiation | | CSAR | | Request with | | | | additionalParam | +-----+-----+ +-----------+-----+ | | +-----------------------+ | 1. Request with | | CNF with Helm chart | | Helm chart | | | +-------------------------------+ | +------+ +------+ | | | | | | | Pod | | Pod | | | +--v-------------------v--+ | | | | | | <--------------------+ | | | | | +------+ +------+ | | | | TackerServer | | | | | | | | | +-----------------------+ | | +------+------------------+ | | | | | +--------------------------------------------------------+ | +-------------------------+ | | Kubernetes cluster VNF | | | | | TackerConductor | | | | | | | | | | | +-----------------------+ +-----------------------+ | | | +---v---------------+ | | | | Worker | | Master | | | | | | VnflcmDriver | | | | | | | | | | | | | | | | | | | | +--------------+--+ | | | | +---+---------------+ | | | | | | | kubectl | | | | | | | | | | | | +--------------^--+ | | | | +---v---------------+ | | | | | | | | | | | | Kubernetes | | | | | | | +--------------+--+ | | | | | InfraDriver | | | | | | | | Helm | | | 3. Helm cli | | | | | | | | | | +-----------------+ | | via SSH | | | +-------------+ | | | | | | | | Helm cli <-------+-----------------------+ Helm client | | | | | | | | +-----------------+ | | | | | | +-------------+ | | | | | | | | Helm Repository <-------+ | | | | | | | | | | +-----------------+ | | 2. Register | | +-------------------+ | | | | | | | | repository | | | | | +-----------------------+ +-----------------------+ | with Helm | +-------------------------+ | | | cli via SSH | | +--------------------------------------------------------+ +-------------------------------+ #. The KubernetesInfraDriver registers Helm charts using Helm cli to the Helm repository. #. The KubernetesInfraDriver creates Kubernetes resource using Helm cli. Following sequence diagram describes CNF instantiation with Helm chart: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""KubernetesInfraDriver"" ""TackerDB"" ""Kubernetes client"" ""Helm(MasterNode)"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""KubernetesInfraDriver"" [label = ""execute KubernetesInfraDriver""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""get package info""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = ""return package info""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""get MasterNode access information""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = ""return MasterNode access information""]; ""KubernetesInfraDriver"" -> ""Helm(MasterNode)"" [label = ""put Helm chart""]; ""KubernetesInfraDriver"" <-- ""Helm(MasterNode)"" [label = """"]; ""KubernetesInfraDriver"" -> ""Helm(MasterNode)"" [label = ""create repository of Helm chart""]; ""KubernetesInfraDriver"" <-- ""Helm(MasterNode)"" [label = """"]; ""KubernetesInfraDriver"" -> ""Helm(MasterNode)"" [label = ""Kubernetes resource create by helm chart""]; ""KubernetesInfraDriver"" <-- ""Helm(MasterNode)"" [label = """"] ""KubernetesInfraDriver"" -> ""Helm(MasterNode)"" [label = ""get manifest information""] ""KubernetesInfraDriver"" <-- ""Helm(MasterNode)"" [label = ""return manifest information""] ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""save manifest information""] ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = """"] ""KubernetesInfraDriver"" -> ""Kubernetes client"" [label = ""get pod status""] ""KubernetesInfraDriver"" <-- ""Kubernetes client"" [label = ""return pod status""] ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""save pod information""] ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = """"] ""VnfLcmDriver"" <-- ""KubernetesInfraDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } #. The Client sends an instantiate request. #. No changes from existing implementation until Kubernetes InfraDriver is invoked. #. The Kubernetes InfraDriver performs the following steps. #. Determine ""use_helm"" parameter in the ``InstantiateVnfRequest``. #. Get Master node access information from ``VnfInstance.vimConnectionInfo.extra`` in Tacker Database. #. (Optional: ""exthelmchart"" == ""false"") Register Helm chart to local repository if not exists. .. note:: **Discussion:** Need discussion if Helm chart should be registered in Helm registry from Tacker. In case of Tacker as NFVO & VNFM, VM images are registered in Glance during instantiation, but it also needs further discussion. Get Helm chart from VNF Package and forward it to the Master node. .. code-block:: scp /<helmchartfile_path> <masternode username>@<masternode_ip>:/usr/home/<vnf_instance_id> .. note:: + <helmchartfile_path>: Path of Helm chart files in the request. + <masternode_username>: Username of Master node for SSH login stored in ``VnfInstance.vimConnectionInfo``. + <masternode_ip>: IP address of Master node stored in ``VnfInstance.vimConnectionInfo``. + <vnf_instance_id>: ID of VNF instance provided in TackerAPI requests. Create Helm package at Master node. .. code-block:: helm package /usr/home/<vnf_instance_id> Register Helm package to repository. .. code-block:: mv <file_name> <helmrepositoryname> helm repo index <helmrepositoryname> --url <repositoryURL> .. note:: + <file_name>: This parameter is generated to be <vnf_instance_id> + <version of package>. + <helmrepositoryname>: Directory name specifid as the name of repository. This may be a static value provided by Tacker. #. Get target Helm chart from repository. .. code-block:: helm repo add <helmrepositoryname>/<helmchartname> <repositoryURL> .. note:: + <helmchartname>: This parameter is set from the ""helmchartname"" of request parameter. + <repository URL>: This parameter specifies ""exthelmchart_url"" of request parameter or URL of local repository otherwise. #. Instantiate CNF via Helm cli. .. code-block:: helm install <helmreleasename> <helmrepositoryname>/<helmchartname> --namespace <namespace> <helmparameter> .. note:: + <namespace>: This parameter is obtained from the ""namespace"" of request parameter. If it is not set in the ""namespace"" of request parameter, this parameter is not set. + <helmchartname>: This parameter is set according to the value of the ""exthelmchart"" of request parameter. Set the ""exthelmchart_url"" of the request parameter if ""exthelmchart"" of request parameter is ""true"". If ""exthelmchart"" is ""false"", set the unzipped directory path where the helm chart will be deployed. + <helmreleasename>: This parameter is obtained from the ""helmreleasename"" of request parameter and set. + <helmparameter>: This parameter is obtained from the ""helmparameter"" of request parameter and set. #. Get Kubernetes resource files. .. code-block:: helm get manifest <helmreleasename> .. note:: + <helmreleasename>: This parameter is obtained from the ""helmreleasename"" of request parameter and set. #. Save Kubernetes resource in TackerDB. .. note:: The data table should be generated in exactly the same manner with Python client. #. Get and update the status of deployed resources. Request data for CNF instantiate using Helm chart ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following parameters will be required to instantiate CNF with Helm chart. These are specified in ``additionalParams``, which is defined as KeyValuePairs in ETSI NFV-SOL003 v2.6.1 [#ETSI-SOL003]_. +----------------------------+-----------+-----------------------------------------------------------+ | Attribute name | Data type | Parameter description | +============================+===========+===========================================================+ |namespace | String | Namespace to deploy Kubernetes resources. | | | | If absent, the value in Helm chart is used as default. | +----------------------------+-----------+-----------------------------------------------------------+ |use_helm | Boolean | If ""true"", Kubernetes InfraDriver utilizes Helm client, | | | | otherwise, Kubernetes Python client is used. | | | | true: with Helm, false: without Helm | +----------------------------+-----------+-----------------------------------------------------------+ |using_helm_install_param | Array | Parameters for the step related to Helm chart. | | | | Shall be present if ""use_helm"" is ""true"". | +----------------------------+-----------+-----------------------------------------------------------+ |> exthelmchart | Boolean | If true, Helm chart is not in VNF Package. | | | | true: external Helm chart, false: in VNF Package | +----------------------------+-----------+-----------------------------------------------------------+ |> helmchartfile_path | String | Path of Helm chart files in VNF Package. | | | | Shall be present if ""exthelmchart"" is ""false"". | +----------------------------+-----------+-----------------------------------------------------------+ |> helmreleasename | String | Name of release as instance of Helm chart. | +----------------------------+-----------+-----------------------------------------------------------+ |> helmparameter | Array | Parameters of KeyValuePairs, | | | | which is specified during Helm installation. | +----------------------------+-----------+-----------------------------------------------------------+ |> helmchartname | String | Helm chart name. | | | | Shall be present if ""exthelmchart"" is ""true"". | +----------------------------+-----------+-----------------------------------------------------------+ |> exthelmchart_url | String | URL of external Helm repository. | | | | Shall be present if ""exthelmchart"" is ""true"". | +----------------------------+-----------+-----------------------------------------------------------+ Following is a sample of request body with the case of exthelmchart is ""true"": .. code-block:: json { ""additionalParams"": { ""namespace"": ""namespaceA"", ""use_helm"": ""true"", ""using_helm_install_param"": [ { ""exthelmchart"": ""true"", ""helmparameter"": [ ""key1=value1"", ""key2=value2"" ], ""exthelmchart_url"": ""http:///home/hylom/helm_test/mychart/example-0.1.0.tgz"" } ] } } Terminate CNF with Helm chart ----------------------------- In the Terminate operation for CNF, Kubernetes InfraDriver performs the following steps to deregister Helm chart from repository and to delete Kubernetes resources. In other parts, no change is required. #. Get Helm chart related information from ``VnfInstance.vimConnectionInfo``. #. Delete Kubernetes resources via Helm cli. .. code-block:: helm uninstall <helmreleasename> .. note:: + <helmreleasename>: This parameter is obtained from the ""Additional Params"" table in TackerDB. **Discussion:** It might be better to uses other tables because ``additionalParams`` should not be in Tacker DB according to ETSI NFV-SOL003 ``VnfInstance.instantiatedVnfInfo``. #. (Optional: ""exthelmchart"" == ""true"") Delete the Helm repository. .. code-block:: helm repo remove <exthelmchart_url> .. note:: + <exthelmchart_url> This parameter is set the ""exthelmchart_url"" from TackerDB's ""Additional params"" table. **Discussion:** It might be better to uses other tables because ``additionalParams`` should not be in Tacker DB according to ETSI NFV-SOL003 ``VnfInstance.instantiatedVnfInfo``. #. KubernetesInfraDriver deletes Helm chart. This processing is executed if ""exthelmchart"" of TackerDB's ""Additional params"" table is ""false"". .. code-block:: rm -f /usr/home/<vnf_instance_id> Data model impact ----------------- None .. note:: ``VnfInstance.vimConnectionInfo`` is defined as JSON. The ``extra`` field for Helm chart support doesn't make any impacts. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Other contributors: Tatsuhiro Furuya <tatu.furuya@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Liang Lu <lu.liang@fujitsu.com> Work Items ---------- + Implement MgmtDriver to support: + Provide a sample script to be executed to install Helm related packages when instantiate Kubernetes Cluster VNF and when heal Master node VNF. + Store Master nodes SSH connection info when instantiate Kubernetes cluster VNF and when heal entire Kubernetes cluster VNF. + Implement Kubernetes InfraDriver to support: + Register Helm chart to Helm repository when CNF Instantiate. + DeRegister Helm chart to Helm repository when CNF Terminate. + Call Helm chart client when CNF Instantiate, scale, heal and terminate. + Store deployed Kubernetes resources info in Helm chart to Database when CNF Instantiate. + Add new unit and functional tests. Dependencies ============ + Instantiate operation for the Kubernetes cluster Depends on spec ""Support deploying Kubernetes cluster with MgmtDriver"" [#SPEC-K8S-DEPLOY]_. + Scale operation for the Kubernetes cluster Depends on spec ""Support scaling Kubernetes Worker-nodes with MgmtDriver"" [#SPEC-K8S-SCALE]_. + Heal operation for the Kubernetes cluster Depends on spec ""Support Healing Kubernetes Master/Worker-nodes with MgmtDriver"" [#SPEC-K8S-HEAL]_. + Instantiate operation for the Kubernetes cluster Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== Complete user guide will be added to explain CNF instantiation using Helm chart. References ========== .. [#K8S-MGMT-DRIVER] https://opendev.org/openstack/tacker/src/branch/master/samples/mgmt_driver/kubernetes_mgmt.py .. [#SPEC-HA-K8S] https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/mgmt-driver-for-ha-k8s.html .. [#SPEC-K8S-DEPLOY] https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/mgmt-driver-for-k8s-cluster.html .. [#ETSI-SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_NFV-SOL003v020601p.pdf .. [#SPEC-K8S-SCALE] https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/mgmt-driver-for-k8s-scale.html .. [#SPEC-K8S-HEAL] https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/mgmt-driver-for-k8s-heal.html ",,861,0
openstack%2Ftacker~master~Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84,openstack/tacker,master,Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84,Add hardware requirements,MERGED,2021-07-26 01:20:29.000000000,2021-08-24 02:26:36.000000000,2021-08-24 02:24:53.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31730}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-07-26 01:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/42676dd1c7f5fd73bdabaad5f13c3812d9b971fe', 'message': ""Add hardware requirements\n\nThe current `Install via Devstack` page doesn't have a hardware\nrequirement which may cause installation failure or poor performance.\n\nAdded a table that shows hardware requirements.\n\nAlso, the current document mentioned `ussuri` in sentences, but it's too\nold. Updated the version referred in sentences from `ussuri` to the\nlatest release `wallaby`.\n\nChange-Id: Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84\nSigned-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>\n""}, {'number': 2, 'created': '2021-08-02 00:56:23.000000000', 'files': ['doc/source/install/devstack.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ecbc80c0a0b0576aa0543ef8a9ebd0955729fcfa', 'message': ""Add hardware requirements\n\nThe current `Install via Devstack` page doesn't have a hardware\nrequirement which may cause installation failure or poor performance.\n\nAdded a table that shows hardware requirements.\n\nAlso, the current document mentioned `ussuri` in sentences, but it's too\nold. Updated the version referred in sentences from `ussuri` to the\nlatest release `wallaby`.\n\nChange-Id: Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84\nSigned-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>\n""}]",4,802224,ecbc80c0a0b0576aa0543ef8a9ebd0955729fcfa,14,7,2,33455,,,0,"Add hardware requirements

The current `Install via Devstack` page doesn't have a hardware
requirement which may cause installation failure or poor performance.

Added a table that shows hardware requirements.

Also, the current document mentioned `ussuri` in sentences, but it's too
old. Updated the version referred in sentences from `ussuri` to the
latest release `wallaby`.

Change-Id: Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84
Signed-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/24/802224/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/devstack.rst'],1,42676dd1c7f5fd73bdabaad5f13c3812d9b971fe,revise-doc," For ex, to install ``wallaby`` release, use ``stable/wallaby``.Hardware Requirements ~~~~~~~~~~~~~~~~~~~~~ We recommend that your system meets the following hardware requirements: .. list-table:: :widths: 20 80 :header-rows: 1 * - Criteria - Recommended * - CPU - 4 cores or more * - RAM - 16 GB or more * - Storage - 80 GB or more Ubuntu 20.04 (Focal Fossa) is the most tested, and will probably go the smoothest. .. note:: We recommend that you run DevStack in a VM, rather than on your bare-metal server. If you have to run devstack on a bare-metal server, you should note that your server has at least two network interfaces [#f1]_. repo [#f2]_. If copied, rename it as ``local.conf``... [#f1] https://docs.openstack.org/devstack/latest/networking.html .. [#f2] https://opendev.org/openstack/tacker/src/branch/master/devstack"," For ex, to install ``ussuri`` release, use ``stable/ussuri``. repo [#f1]_. If copied, rename it as ``local.conf``... [#f1] https://opendev.org/openstack/tacker/src/branch/master/devstack",30,3
openstack%2Fopenstack-tempest-skiplist~master~Ie99701ef67150a71509ff57fe4471b6e544ee486,openstack/openstack-tempest-skiplist,master,Ie99701ef67150a71509ff57fe4471b6e544ee486,Add featureset001 group into tempest-allow,MERGED,2021-08-12 14:49:58.000000000,2021-08-24 01:33:44.000000000,2021-08-24 01:32:30.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-12 14:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c817e946532b80831363883b3136a3c41a57d3d8', 'message': 'Add featureset001 group into tempest-allow\n\nThis add featureset001 and featureset001_periodic groups in\ntempest-allow to be used with featureset001 jobs\n\nChange-Id: Ie99701ef67150a71509ff57fe4471b6e544ee486\n'}, {'number': 2, 'created': '2021-08-23 11:49:23.000000000', 'files': ['roles/validate-tempest/vars/tempest_allow.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/86441fd3929d8e772fc24a62b149cad49553b5b4', 'message': 'Add featureset001 group into tempest-allow\n\nThis add featureset001 and featureset001_periodic groups in\ntempest-allow to be used with featureset001 jobs\n\nChange-Id: Ie99701ef67150a71509ff57fe4471b6e544ee486\n'}]",2,804396,86441fd3929d8e772fc24a62b149cad49553b5b4,11,7,2,8367,,,0,"Add featureset001 group into tempest-allow

This add featureset001 and featureset001_periodic groups in
tempest-allow to be used with featureset001 jobs

Change-Id: Ie99701ef67150a71509ff57fe4471b6e544ee486
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/96/804396/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_allow.yml'],1,c817e946532b80831363883b3136a3c41a57d3d8,tempest-allow, - name: featureset001 tests: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' releases: - master - xena - wallaby - victoria - ussuri - train - stein - rocky - queens - name: featureset001_periodic tests: - 'tempest.api' - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' releases: - master - xena - wallaby - victoria - ussuri - train - stein - rocky - queens,,27,0
openstack%2Fpython-manilaclient~master~Ib7ae453da665ae17b40c7b91b3563bc301769410,openstack/python-manilaclient,master,Ib7ae453da665ae17b40c7b91b3563bc301769410,[OSC] Implement Replica Export Locations commands,MERGED,2021-08-20 12:53:41.000000000,2021-08-24 01:14:41.000000000,2021-08-24 01:13:18.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-08-20 12:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f50c153a4fb3584879d806052875d9a0e3803027', 'message': '[OSC] Implement Replica Export Locations commands\n\nIn this patch we add the following openstack share commands:\nshare replica export location list\nshare replica export location show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ib7ae453da665ae17b40c7b91b3563bc301769410\n'}, {'number': 2, 'created': '2021-08-23 06:32:35.000000000', 'files': ['manilaclient/osc/v2/share_replica_export_locations.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_replica_export_locations.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ca0079803090d4c0ea6a492dbd076277e71134de', 'message': '[OSC] Implement Replica Export Locations commands\n\nIn this patch we add the following openstack share commands:\nshare replica export location list\nshare replica export location show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ib7ae453da665ae17b40c7b91b3563bc301769410\n'}]",10,805377,ca0079803090d4c0ea6a492dbd076277e71134de,14,3,2,31213,,,0,"[OSC] Implement Replica Export Locations commands

In this patch we add the following openstack share commands:
share replica export location list
share replica export location show

Partially-implements: bp openstack-client-support
Change-Id: Ib7ae453da665ae17b40c7b91b3563bc301769410
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/77/805377/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_replicas.py', 'manilaclient/osc/v2/share_replicas.py', 'setup.cfg']",4,f50c153a4fb3584879d806052875d9a0e3803027,bp/openstack-client-support, share_replica_export_location_list = manilaclient.osc.v2.share_replicas:ShareReplicaListExportLocation share_replica_export_location_show = manilaclient.osc.v2.share_replicas:ShareReplicaShowExportLocation,,170,0
openstack%2Fopenstacksdk~stable%2Fwallaby~I623eef83227a5c1be50f0a62909377a4b13fb633,openstack/openstacksdk,stable/wallaby,I623eef83227a5c1be50f0a62909377a4b13fb633,"Fix ""400 error when create image with protected parameter""",ABANDONED,2021-08-19 09:59:11.000000000,2021-08-24 01:08:49.000000000,,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 22695}, {'_account_id': 23851}, {'_account_id': 27900}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-08-19 09:59:11.000000000', 'files': ['openstack/image/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c4b3f1fd2bd5eb731acb3a901fca3b1c8eb66bfd', 'message': 'Fix ""400 error when create image with protected parameter""\n\nStory: 2009127\nTask: 43041\nChange-Id: I623eef83227a5c1be50f0a62909377a4b13fb633\n'}]",0,805136,c4b3f1fd2bd5eb731acb3a901fca3b1c8eb66bfd,6,7,1,31525,,,0,"Fix ""400 error when create image with protected parameter""

Story: 2009127
Task: 43041
Change-Id: I623eef83227a5c1be50f0a62909377a4b13fb633
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/36/805136/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/_proxy.py'],1,c4b3f1fd2bd5eb731acb3a901fca3b1c8eb66bfd,story/2009127-stable/wallaby,"_RAW_PROPERTIES = ('protected', 'tags', 'is_protected')","_RAW_PROPERTIES = ('protected', 'tags')",1,1
openstack%2Fglance~master~I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f,openstack/glance,master,I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f,Check add_image policy in the API,MERGED,2021-08-16 19:37:07.000000000,2021-08-24 01:08:30.000000000,2021-08-24 01:05:48.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 19:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7fdb10ac924156055867391d20fe99437af4aa20', 'message': 'Check add_image policy in the API\n\nChange-Id: I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f\nPartially-Implements: blueprint policy-refactor\n'}, {'number': 2, 'created': '2021-08-18 17:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/640ed4a302b869c18b005068cdf6038f255c74fd', 'message': 'Check add_image policy in the API\n\nChange-Id: I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f\nPartially-Implements: blueprint policy-refactor\n'}, {'number': 3, 'created': '2021-08-19 17:35:26.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/policies/image.py', 'glance/api/v2/policy.py', 'glance/policies/base.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/de560b19e6bcc6e3eb7bbc94b42710c4ca8819ce', 'message': 'Check add_image policy in the API\n\nChange-Id: I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f\nPartially-Implements: blueprint policy-refactor\n'}]",12,804800,de560b19e6bcc6e3eb7bbc94b42710c4ca8819ce,32,5,3,4393,,,0,"Check add_image policy in the API

Change-Id: I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f
Partially-Implements: blueprint policy-refactor
",git fetch https://review.opendev.org/openstack/glance refs/changes/00/804800/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",4,7fdb10ac924156055867391d20fe99437af4aa20,bp/policy-refactor," def test_add_image(self): generic_target = {'project_id': self.context.project_id} self.policy = policy.ImageAPIPolicy(self.context, None, enforcer=self.enforcer) self.policy.add_image() self.enforcer.enforce.assert_called_once_with(self.context, 'add_image', generic_target) ",,57,4
openstack%2Fglance~master~I0b7abde12cb04ff38c950cb68d7ab903430c8f67,openstack/glance,master,I0b7abde12cb04ff38c950cb68d7ab903430c8f67,Avoid reinitialization of image repo,MERGED,2021-08-23 08:01:01.000000000,2021-08-24 01:07:24.000000000,2021-08-24 01:05:46.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 08:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8f21ccc7b04a8e397e7e47acf0f07327bea518be', 'message': 'Avoid reinitialization of image repo\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I0b7abde12cb04ff38c950cb68d7ab903430c8f67\n'}, {'number': 2, 'created': '2021-08-23 18:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5d3bc7a418272be6b9434a392239c59389eee621', 'message': 'Avoid reinitialization of image repo\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I0b7abde12cb04ff38c950cb68d7ab903430c8f67\n'}, {'number': 3, 'created': '2021-08-23 18:15:30.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/unit/v2/test_image_data_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/505b08a9bba6a51026b10ce495c8a6a937266d68', 'message': 'Avoid reinitialization of image repo\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I0b7abde12cb04ff38c950cb68d7ab903430c8f67\n'}]",2,805593,505b08a9bba6a51026b10ce495c8a6a937266d68,18,3,3,9303,,,0,"Avoid reinitialization of image repo

Partially-Implements: blueprint policy-refactor

Change-Id: I0b7abde12cb04ff38c950cb68d7ab903430c8f67
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/805593/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/image_data.py'],1,8f21ccc7b04a8e397e7e47acf0f07327bea518be,policy-refactor,, image_repo = self.gateway.get_repo(req.context),0,1
openstack%2Fswift~master~I3f42fbaae5f246836024f95b549b487b41bd6f1d,openstack/swift,master,I3f42fbaae5f246836024f95b549b487b41bd6f1d,Fix docker image builds,MERGED,2021-08-23 21:22:52.000000000,2021-08-24 01:07:21.000000000,2021-08-24 01:05:51.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/999d7d06b12b44d6634a35b01a5a51fe4bb0acdb', 'message': ""Fix docker image builds\n\nThe image builds are trying to fetch a gpg pubkey from keybase which\ndoes not exist. This causes the builds to fail. Fix this by vendoring\nthe key in the swift repo directly. This should be more reliable.\n\nUpstream bug at https://github.com/just-containers/s6-overlay/issues/352\n\nNote I looked up the pubkey given the hash on that issue and copied its\ncontents into this change. I can't vouch for the validity of this key\nbeyond that. However, if it is listed in that issue and validates the\npackages from s6 then it is probably good.\n\nChange-Id: I3f42fbaae5f246836024f95b549b487b41bd6f1d\n""}, {'number': 2, 'created': '2021-08-23 21:56:26.000000000', 'files': ['Dockerfile', 'Dockerfile-py3', 'docker/s6-gpg-pub-key'], 'web_link': 'https://opendev.org/openstack/swift/commit/930ac1114b9d2c91c2d6c277202a80b729ff9903', 'message': ""Fix docker image builds\n\nThe image builds are trying to fetch a gpg pubkey from keybase which\ndoes not exist. This causes the builds to fail. Fix this by vendoring\nthe key in the swift repo directly. This should be more reliable.\n\nUpstream bug at https://github.com/just-containers/s6-overlay/issues/352\n\nNote I looked up the pubkey given the hash on that issue and copied its\ncontents into this change. I can't vouch for the validity of this key\nbeyond that. However, if it is listed in that issue and validates the\npackages from s6 then it is probably good.\n\nChange-Id: I3f42fbaae5f246836024f95b549b487b41bd6f1d\n""}]",0,805711,930ac1114b9d2c91c2d6c277202a80b729ff9903,9,2,2,4146,,,0,"Fix docker image builds

The image builds are trying to fetch a gpg pubkey from keybase which
does not exist. This causes the builds to fail. Fix this by vendoring
the key in the swift repo directly. This should be more reliable.

Upstream bug at https://github.com/just-containers/s6-overlay/issues/352

Note I looked up the pubkey given the hash on that issue and copied its
contents into this change. I can't vouch for the validity of this key
beyond that. However, if it is listed in that issue and validates the
packages from s6 then it is probably good.

Change-Id: I3f42fbaae5f246836024f95b549b487b41bd6f1d
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/805711/2 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'Dockerfile-py3', 'tools/s6-gpg-pub-key']",3,999d7d06b12b44d6634a35b01a5a51fe4bb0acdb,fix-docker-image-builds,-----BEGIN PGP PUBLIC KEY BLOCK----- Version: SKS 1.1.6 Comment: Hostname: pgp.mit.edu mQINBFe3YfMBEAC6pERKLjXDcWWrMU9l68ujJkbCjtnKYRKsIjsmvoETHJkCZaHXX0JoVFth 7OEhEh8wQG6PTWb6HPFWJxKJaLTOS6d5xc7i8iMWFjUkssh7jEJY0unON8OleggjL4bPz2Ra Ox5hKJru1A8BjDdT4XyYWk+PFjaJGmll7FyqyVIng2bGRYgRah+CjKPjzk1RX5cfz48lO1wg Fs4rzd/SrpcbqMW1nv57ZCNK1nPrDpXytrMA2ZaMxWa5I13NXTQ9hJw0yhCV46f+4vXBvz4l 0HrVqlZE16iaiW9rniHHM1FFqH9aOMU6PWWNzrO4cyMiNBEgLT5jNAFFteKufUKaOlGRT768 kyRfvC/uYND3BdZ8EcC+e8Fe+g7Xj/L85853XeCApDIT+FG4Poiby71SWu/PDk9qm/BJ18kh 6f8EJvWJWMBQJCQHYs5LWEU0BUSnFucbJhd6wF+47wDC9hByvwSOc+5Q4BIj4WHoOCYjaeX5 ET2Kto7+E4UZjC+38q0G7oH4sOfe7FFHW/R9y/9AUj/AGhNx+lyruKOXKuTZByZlHZKWV4LT mkey3NIRahYKWWZIBN8ndAkP62QHuMGfWOKDC6VwgFVQGkHGYZ3NuEUNsN35P77XY7G7K8dV wlidTS57JZarNpILNJJsYkfMd6zrRZf9a+cZWMxyvgXKgaCx4QARAQABtDVKdXN0IENvbnRh aW5lcnMgQm90IDxqdXN0LmNvbnRhaW5lcnMucm9ib3RAZ21haWwuY29tPokCNAQTAQoAHgUC V7dh8wIbAwMLCQcDFQoIAh4BAheAAxYCAQIZAQAKCRBhAbJ4Oy/RYQrJD/49WWEJXgcZClEt BQUTo9KZKehAh9K5+455/lFtUh8YEhiF+7HAVlOL3KlGbg/ZUXkrXbGMW4Cm91nz99Fr+rZp LPcogZ0Lox5IVPn6zjmxRrWuaEvH/SlnhjUiBj9/rMgWwzTSV0PLP6bOhMJ0NIteAgW+jzSy 4Sf4N+3XE1HAeL3sUtYex0FXzRTQAjMAnCa6AJS1dCJRc0tuI13XkiZnVnqELF2CCSnaPj6o hn/90/sKhr7PSGQznagiAjG49nzqOE/9CRVOy8JqNS+1Y8A1PmCVofvgy3uaPKL/yLMRXk2j +5Fed9aVGXG3JE5lJjWUAyeL3jTEdE336tc+kHVUXrTSza/akvFHTJQfaw+MVuRIPT2JvZLl ePOxHgM+U9eOJ7rwXYoLS/e5KrGvhi+LCMO3r4UfIGL3cgtGkM7rwvfY3uMCq7hfoA6d4SGw h99J6h3M7O9+UxB4VH8yjQJl6ghY0ruEgp1PpKSo9Ogdz/loZpEExnOzp4zrdFalKcy9ehUh Ody/S79NlKsWOE1DtbM6IQHDxZplT9IJhTxuqrDgsIaYgwUxipqvA/kEU5k5QIIoJU8u5o6i ZLuC6mlqOhjmLst6/ndXuVAG4GwDKrwxri3zmctxHRwDzTJXsZsKYOqrheO6HRu+6VVVNAI5 Q/nI/vN79vbZGAb8Z5PgZrkBDQRXt2HzAQgAsrKhLIusc/9dUOPi9f3FN30obwZLZRp8qTND glqSyAaL5WiiGJII1erM66s1dIv1qqUbTNd6nAKfb2w5zbgAOTAKsGNEzljFKAApdZm/sAyk Wx9PTqVQov6PAjzgoWC9yH8UcxhvxPtpw+rqnz1oUVK9paszoZWuPz5jAE/ZhdrEXy/51ckS jJ/p8T55SFK3p6UzSGDqQRfDwHDgDJMIzPABpnPk+ETf/YYWbJwOx81YrlRKBau8XdyBkRlK ZeZ+SrvDMugn45lWSdjXJZ2BH1U7akuWd7lYP3xI/Vfs2rF3e+7+72W75s/3pOVckdbgn13B REgdptgOBX9ILCtpwQARAQABiQNEBBgBCgAPBQJXt2HzBQkPCZwAAhsiASkJEGEBsng7L9Fh wF0gBBkBCgAGBQJXt2HzAAoJECU2yhbfT82iCzoH/iAw5+zBpXdE3Ju/KrCpZ4JwzSkAw4n7 uj4UzTtzYb5KfkXAkIQFq5MTHJ6jpHe6g6aJf5Z4NV2cbw/4d9W5rAzXkuKnksoo7JbRDt+T adCBCuoz8HvkVT4lgV6TTWx3kMESGaqz/y0d8P+FRCKhmbv4ayTAZZJM2cdDcqtum8sYPs9R d6L13x8hZGTSKavLwus64/GA2tOa334zDDI1+7AoJRRLApqdYZmX/LrQykNoNR7RSzLIn5+S GdCS6JU8c0oQnJgf+7zililWqagkYRqaHhcBy90XiYOPMdHyKmudcfvpYLE78E0iyHhfmsAj I+pK3U4MquRA+v8AfL5/PLRKbhAAomTfB2WPI9ea1nN6OfCZZE9bq/PVmeahW0CZoBmCQJLn oypbBtMUnOhSFd+QUWekH8+prkvq15s8LdjfhJWlzMRbwourZvffmeHX8dTuMZwwV+7flnf+ AH9OnwcKNg5/T4aRm3gZGSV7fTFh1Regx3136TIyRcwPqjwqbc9slW6Bg9veE3ayveUKaG0S WDjkPad4wqFWTF84vAD+T6p1hMxBrInkj8ocHXkyxdndQAuVd4dCjdm/dlpFs/ntZFhVQUFG zjqZaSvqQpKIui1x3WDap1RFy7n81B/e23eO+R8CyJg+upI38FIroR38EGhEFAjgcqKSi+0f WDsXR49XjIO5EX7RkFhnMudvMA+sW2PsI7yAfIFrTO8VEnevAwsVNIeTpyYnVVFBTUGeRP5u 9eNoLO3wHpARvsT4JtmdVWoTX2XzQA9xXa+6cOmiT4XLnwtIU4a8W1dfINqMUVLBhIJD2zvL TppISqzmIISugSMiNND0kvkp9moYXz0QodrEHzJDZmzqbTv5IAs+gPER1eNS2BZKJjXJ7Egn 2JDWIRgm2kzS1BaSyL004F39AfsKCBcsBsbsTIUcmpRUwLjMpdkomkGGA3RHnfk06odrEEQO 72ZOIsIwd1+X5U8tK9pnEH0/RsZONUMPtGrQ4Pe0ZlNZUHCyN6U633MUO32Wmru5AQ0EV7dh 8wEIAOAvY6Wrlp6k/Fknu/wIZLWoGIOTR11iYgHHvVWWeoatleewsqHbzCMiCQ5txX5RJJv7 F5xDURmoqwpKdkjFVqriuCt506MeztBohRqTvDYOczS/eQJuI+pR9/aGmESErP9+B9AmQ+rN no391Z+HRI75VIP+AnTZGYVMec5fQbFUwws3Dt9VeXgPIPixfVoXtz5vQPj9EfH3RTQ//9Vz zznZkHBPFMroM3VLznwlDb9a2Z4S4WVgztMMrZnlYmym6tN1sm61TPNK+4KFy+FNFbudcHcg AXXT7H5/rNhUD8aMMLAQHqNCeg/eXCQO0Sp2TzBs/x90jti9cGmyMfsZDKkAEQEAAYkDRAQY AQoADwUCV7dh8wUJDwmcAAIbDAEpCRBhAbJ4Oy/RYcBdIAQZAQoABgUCV7dh8wAKCRDZBk7K WLNt46vQB/0QOlN8vMJNVlJJZ2TD+Es63/bjd/oa1djnBXFhqii/vY1WI7c1lUK+JPIu7RpE eb3ZwpwnTeHxLe+kJtvEjTdHygM0KtWdq+MHAX+t+5AJA9UyVIQupztH+/87/GvtxYMIQRwg WY9ExP1HAi8vyLxOxQNmc1A3boYY5GA16L3AOGxtOIn43qDTz5RwY+s1A1zyUq4zczBA/Fma ddqN0N/arjHEkE1cLXEypcYme1xfLE8mpU3/7FSyHdQxW2o/KqoDkqVj12oKAMuBnKcYoKmr qsmy8eHpmbfMUrRE7frpGeF4II/NgCfEYOAxysOOq4IRXQClaZpquL4AOXN2EVjz/awQAKU6 fpScpzZoNAMJYnbTQrs8YEy4VUFvUyZWpSVDj5aAhrZApbb7LfGQyBMFxHARnwDGv9AK6Sl+ vHp8zvPn9nHE3D9tLGIWtjCRRhPe/RY1wWyw8ZUmBN6jDZ1LSh/Tqr7J24zsLmxGBUJcDfZ/ awv/sabqPp0AGbs/qQwjxgWj9en6IS2+mWnWL3sQXOmxdFil/0+Tx5WOrEtCkR35yPLnTSeY xKP6KKfG7gA8xLxXKxxVMojjAzN0Dxb0+0iQ4RwPygb79OzAsx588Rv2Qo8kf0QyvgUZhufv q355qQ248FU4gBEcLc5b2yu1Iz1nToubu74Uwl9t7XzZs+RP/6ZGuItSHxsqLzVFexmNdcXh oKfu58NnH1Fi9wMKtAKCH31q235wSh/x0YM391cdIvSjxfItNXtykR7KDbal7YLOa5dKyRyf 2WiYMCEAQSoRVj6A4ylRsqs9hirvYinNSWPa1ZrketKz+9g+rj0/pmQjKAPiapYkarp5yT8d dgQ1XuwGCaPZXhByS9s6SonZwvrthrHFoWfK7JzkepYoBKy/nGUNt+9NDWbCB6sAe2zLAfmA tsOhB7ZO8/AlPRQCIvEGRXcEtbYkxtB2vMNGPbIoHDv5QvbHP0Foj79SwRg/2a9wiq6i5Vwv wGWOhC4ELGF+imX35GGbJq0a8A2z5WX6 =VHze -----END PGP PUBLIC KEY BLOCK----- ,,71,2
openstack%2Fcinder~master~Ief710f5f337671c4aaf21899c69e3ccd62743d9e,openstack/cinder,master,Ief710f5f337671c4aaf21899c69e3ccd62743d9e,[SVF] Fixed update_rep_properties for empty values,MERGED,2021-07-21 12:21:23.000000000,2021-08-24 01:07:18.000000000,2021-08-24 01:05:42.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32036}, {'_account_id': 32266}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-07-21 12:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee5961ff21678a6140606bb857ee6e456bb8fc08', 'message': '[SVF] Fixed update_rep_properties for empty values\n\n[Spectrum Virtualize Family] Sync Attribute from volume\nreplication properties is not updating in volume metadata\ntable when it is an empty string.\n\nFixed the issue by adding a condition even the sync\nattribute is an empty string while updating replication\nproperties of a volume.\n\nCloses-Bug: #1935670\nChange-Id: Ief710f5f337671c4aaf21899c69e3ccd62743d9e\n'}, {'number': 2, 'created': '2021-07-27 12:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a85f0f67ea65a070295337b5f7870543046e820', 'message': '[SVF] Fixed update_rep_properties for empty values\n\n[Spectrum Virtualize Family] Sync Attribute from volume\nreplication properties is not updating in volume metadata\ntable when it is an empty string.\n\nFixed the issue by adding a condition even the sync\nattribute is an empty string while updating replication\nproperties of a volume.\n\nCloses-Bug: #1935670\nChange-Id: Ief710f5f337671c4aaf21899c69e3ccd62743d9e\n'}, {'number': 3, 'created': '2021-07-28 04:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ea313d6027e56d1db0218c8499fb4e046d2d8a7', 'message': '[SVF] Fixed update_rep_properties for empty values\n\n[Spectrum Virtualize Family] Sync Attribute from volume\nreplication properties is not updating in volume metadata\ntable when it is an empty string.\n\nFixed the issue by adding a condition even the sync\nattribute is an empty string while updating replication\nproperties of a volume.\n\nCloses-Bug: #1935670\nChange-Id: Ief710f5f337671c4aaf21899c69e3ccd62743d9e\n'}, {'number': 4, 'created': '2021-08-03 07:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/263938c70b3dcf020432c89766f88a54d9c89ca2', 'message': '[SVF] Fixed update_rep_properties for empty values\n\n[Spectrum Virtualize Family] Sync Attribute from volume\nreplication properties is not updating in volume metadata\ntable when it is an empty string.\n\nFixed the issue by adding a condition even the sync\nattribute is an empty string while updating replication\nproperties of a volume.\n\nCloses-Bug: #1935670\nChange-Id: Ief710f5f337671c4aaf21899c69e3ccd62743d9e\n'}, {'number': 5, 'created': '2021-08-18 17:42:03.000000000', 'files': ['releasenotes/notes/bug-1935670-svc_update_rep_properties_for_empty_values_fix-a2faabbf2139195e.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da172417fffdf1d162319319fa34a73f2a597de1', 'message': '[SVF] Fixed update_rep_properties for empty values\n\n[Spectrum Virtualize Family] During\n_update_replication_properties, some empty value\nvolume relationship attributes of mirror volumes\nare not updated in volume metadata.\n\nFixed the above issue by removing the check that filters\nonly non-empty values of volume relationship properties.\n\nCloses-Bug: #1935670\nChange-Id: Ief710f5f337671c4aaf21899c69e3ccd62743d9e\n'}]",6,801617,da172417fffdf1d162319319fa34a73f2a597de1,173,9,5,32425,,,0,"[SVF] Fixed update_rep_properties for empty values

[Spectrum Virtualize Family] During
_update_replication_properties, some empty value
volume relationship attributes of mirror volumes
are not updated in volume metadata.

Fixed the above issue by removing the check that filters
only non-empty values of volume relationship properties.

Closes-Bug: #1935670
Change-Id: Ief710f5f337671c4aaf21899c69e3ccd62743d9e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/801617/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,ee5961ff21678a6140606bb857ee6e456bb8fc08,bug/1935670, if not rel_info['sync'] or rel_info.get(value):, if rel_info.get(value):,1,1
openstack%2Fopenstacksdk~stable%2Fvictoria~I623eef83227a5c1be50f0a62909377a4b13fb633,openstack/openstacksdk,stable/victoria,I623eef83227a5c1be50f0a62909377a4b13fb633,"Fix ""400 error when create image with protected parameter""",ABANDONED,2021-08-19 05:57:05.000000000,2021-08-24 01:05:04.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 05:57:05.000000000', 'files': ['openstack/image/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8893512b12d2fad2c379835bebf60b87f036a033', 'message': 'Fix ""400 error when create image with protected parameter""\n\nStory: 2009127\nTask: 43041\nChange-Id: I623eef83227a5c1be50f0a62909377a4b13fb633\n'}]",0,805131,8893512b12d2fad2c379835bebf60b87f036a033,5,2,1,31525,,,0,"Fix ""400 error when create image with protected parameter""

Story: 2009127
Task: 43041
Change-Id: I623eef83227a5c1be50f0a62909377a4b13fb633
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/31/805131/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/_proxy.py'],1,8893512b12d2fad2c379835bebf60b87f036a033,story/2009127-stable/ussuri-stable/victoria,"_RAW_PROPERTIES = ('protected', 'tags', 'is_protected')","_RAW_PROPERTIES = ('protected', 'tags')",1,1
openstack%2Fopenstacksdk~stable%2Fussuri~I623eef83227a5c1be50f0a62909377a4b13fb633,openstack/openstacksdk,stable/ussuri,I623eef83227a5c1be50f0a62909377a4b13fb633,"Fix ""400 error when create image with protected parameter""",ABANDONED,2021-08-19 05:55:58.000000000,2021-08-24 01:04:49.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 05:55:58.000000000', 'files': ['openstack/image/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e95ab05f97213d0db58101457786796bba9eefc4', 'message': 'Fix ""400 error when create image with protected parameter""\n\nStory: 2009127\nTask: 43041\nChange-Id: I623eef83227a5c1be50f0a62909377a4b13fb633\n'}]",0,805130,e95ab05f97213d0db58101457786796bba9eefc4,4,2,1,31525,,,0,"Fix ""400 error when create image with protected parameter""

Story: 2009127
Task: 43041
Change-Id: I623eef83227a5c1be50f0a62909377a4b13fb633
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/805130/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/_proxy.py'],1,e95ab05f97213d0db58101457786796bba9eefc4,story/2009127-stable/ussuri,"_RAW_PROPERTIES = ('protected', 'tags', 'is_protected')","_RAW_PROPERTIES = ('protected', 'tags')",1,1
openstack%2Ftripleo-heat-templates~master~I3ec4703f61fbfd1133d28aa327b7f2374670b613,openstack/tripleo-heat-templates,master,I3ec4703f61fbfd1133d28aa327b7f2374670b613,Allow customizing policy rules for Placement Api,MERGED,2021-07-11 03:38:11.000000000,2021-08-24 00:55:16.000000000,2021-08-24 00:53:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-11 03:38:11.000000000', 'files': ['releasenotes/notes/placement-policies-db2704ea63d0bdad.yaml', 'deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbd2842dbcd72a696aa0a4677365dd5e7db6f691', 'message': 'Allow customizing policy rules for Placement Api\n\nDepends-on: https://review.opendev.org/800328\nChange-Id: I3ec4703f61fbfd1133d28aa327b7f2374670b613\n'}]",0,800329,cbd2842dbcd72a696aa0a4677365dd5e7db6f691,11,6,1,9816,,,0,"Allow customizing policy rules for Placement Api

Depends-on: https://review.opendev.org/800328
Change-Id: I3ec4703f61fbfd1133d28aa327b7f2374670b613
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/800329/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/placement-policies-db2704ea63d0bdad.yaml', 'deployment/placement/placement-api-container-puppet.yaml']",2,cbd2842dbcd72a696aa0a4677365dd5e7db6f691,placement-policies," PlacementPolicies: description: | A hash of policies to configure for Placement API. e.g. { nova-context_is_admin: { key: context_is_admin, value: 'role:admin' } } default: {} type: json placement::policy::policies: {get_param: PlacementPolicies}",,11,0
openstack%2Fneutron-lib~master~I8624be69f36fc1ce9af11c270c94798ed48545a0,openstack/neutron-lib,master,I8624be69f36fc1ce9af11c270c94798ed48545a0,Do not use deprecated attributes of RequestContext,MERGED,2021-08-21 18:18:52.000000000,2021-08-24 00:55:05.000000000,2021-08-24 00:53:51.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 18:18:52.000000000', 'files': ['neutron_lib/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/101791fed530e4d51d710009bda474effc9cb7cc', 'message': ""Do not use deprecated attributes of RequestContext\n\nThe following attributes of RequestContext class has been depecated\nsince oslo.context 2.18.\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nThis change updates remaining usage in unit tests to get rid of\nsome deprecation warnings like the example below.\n\nDeprecationWarning: Property 'user' has moved to 'user_id' in version\n'2.6' and will be removed in version '3.0'\n\nChange-Id: I8624be69f36fc1ce9af11c270c94798ed48545a0\n""}]",0,805488,101791fed530e4d51d710009bda474effc9cb7cc,18,3,1,9816,,,0,"Do not use deprecated attributes of RequestContext

The following attributes of RequestContext class has been depecated
since oslo.context 2.18.
 user          : renamed to user_id
 tenant        : renamed to project_id
 domain        : renamed to domain_id
 user_domain   : renamed to user_domain_id
 project_domain: renamed to project_domain_id

This change updates remaining usage in unit tests to get rid of
some deprecation warnings like the example below.

DeprecationWarning: Property 'user' has moved to 'user_id' in version
'2.6' and will be removed in version '3.0'

Change-Id: I8624be69f36fc1ce9af11c270c94798ed48545a0
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/88/805488/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/tests/unit/test_context.py'],1,101791fed530e4d51d710009bda474effc9cb7cc,context-attr," self.assertEqual('user_id', ctx.user_id) self.assertEqual('tenant_id', ctx.tenant_id) 'domain_id': 'domain', 'user_domain_id': 'user_domain', 'project_domain_id': 'project_domain',"," self.assertEqual('user_id', ctx.user) self.assertEqual('tenant_id', ctx.tenant) self.assertEqual('user_id', ctx.user) self.assertEqual('tenant_id', ctx.tenant) 'domain': 'domain', 'user_domain': 'user_domain', 'project_domain': 'project_domain', 'user_name': 'user_name',",5,8
openstack%2Felection~master~Iae245d1d3703921aa781ca6b2dce67637dd96ac5,openstack/election,master,Iae245d1d3703921aa781ca6b2dce67637dd96ac5,Add Iury Gregory candidacy for Ironic PTL (Yoga),MERGED,2021-08-23 20:38:51.000000000,2021-08-24 00:35:42.000000000,2021-08-24 00:34:07.000000000,"[{'_account_id': 11655}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 32177}]","[{'number': 1, 'created': '2021-08-23 20:38:51.000000000', 'files': ['candidates/yoga/Ironic/iurygregory@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/79845c8a7d095dc95bce5562c882d82a976c05b7', 'message': 'Add Iury Gregory candidacy for Ironic PTL (Yoga)\n\nChange-Id: Iae245d1d3703921aa781ca6b2dce67637dd96ac5\n'}]",0,805701,79845c8a7d095dc95bce5562c882d82a976c05b7,10,5,1,15519,,,0,"Add Iury Gregory candidacy for Ironic PTL (Yoga)

Change-Id: Iae245d1d3703921aa781ca6b2dce67637dd96ac5
",git fetch https://review.opendev.org/openstack/election refs/changes/01/805701/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Ironic/iurygregory@gmail.com'],1,79845c8a7d095dc95bce5562c882d82a976c05b7,yoga-candidacy,"Greetings, I would like to submit my candidacy for Ironic PTL for the Yoga cycle. I've been working with OpenStack since 2015 and contributing to ironic since Oct 2018 (Stein release). I hope that we as a community can continue to achieve goals together, let's not forget that our main objective is to take over the world and make operator's life easier! We should also aim to grow our contributor base and continue to spread the word about Ironic (blog posts, social media, etc). Features that I think we should aim for during the next cycle: Virtual Media visibility, Security Interface using Keylime. Best regards, Iury Gregory Melo Ferreira IRC: iurygregory ",,20,0
openstack%2Felection~master~I3914624687b2d856ad47def0276cdf78ea8c2dad,openstack/election,master,I3914624687b2d856ad47def0276cdf78ea8c2dad,Add Lance Albertson candidancy for Openstack Chef PTL,MERGED,2021-08-23 20:34:19.000000000,2021-08-24 00:32:11.000000000,2021-08-24 00:29:54.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 20:34:19.000000000', 'files': ['candidates/yoga/Openstack_Chef/lance@osuosl.org'], 'web_link': 'https://opendev.org/openstack/election/commit/6a963d2b4935dfae5a3f7b7fa11a7c6509665d0d', 'message': 'Add Lance Albertson candidancy for Openstack Chef PTL\n\nChange-Id: I3914624687b2d856ad47def0276cdf78ea8c2dad\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,805699,6a963d2b4935dfae5a3f7b7fa11a7c6509665d0d,8,3,1,21961,,,0,"Add Lance Albertson candidancy for Openstack Chef PTL

Change-Id: I3914624687b2d856ad47def0276cdf78ea8c2dad
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/election refs/changes/99/805699/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Openstack_Chef/lance@osuosl.org'],1,6a963d2b4935dfae5a3f7b7fa11a7c6509665d0d,ramereth-yoga,"Hello, I am hereby announcing my candidancy as OpenStack Chef PTL for the Yoga release cycle. Over the past year we have made a lot of progress on cleaning up and improving OpenStack Chef both in testing and functionality. My goals for the coming release cycle: - Release cookbooks for the Train release - Add support for CentOS 8 - Get cookbooks updated to support Ussuri, Victoria, Wallaby, Xena and Yoga releases - Start migrating cookbooks to be more resource driven similar to Sous Chefs cookbooks and move away from using attributes (where possible). Thanks- Lance Albertson (ramereth) ",,20,0
openstack%2Felection~master~If6ec0cf0a9207b66b941571737a42034134b0cf4,openstack/election,master,If6ec0cf0a9207b66b941571737a42034134b0cf4,Adding Michael Johnson candidacy for Designate PTL,MERGED,2021-08-23 20:07:56.000000000,2021-08-24 00:31:10.000000000,2021-08-24 00:29:53.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 20:07:56.000000000', 'files': ['candidates/yoga/Designate/johnsomor@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/419256a50be9b5c398bfd0f0420aec2fd695504f', 'message': 'Adding Michael Johnson candidacy for Designate PTL\n\nChange-Id: If6ec0cf0a9207b66b941571737a42034134b0cf4\n'}]",0,805697,419256a50be9b5c398bfd0f0420aec2fd695504f,9,4,1,11628,,,0,"Adding Michael Johnson candidacy for Designate PTL

Change-Id: If6ec0cf0a9207b66b941571737a42034134b0cf4
",git fetch https://review.opendev.org/openstack/election refs/changes/97/805697/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Designate/johnsomor@gmail.com'],1,419256a50be9b5c398bfd0f0420aec2fd695504f,,"Hello OpenStack community, I would like to announce my candidacy for PTL of Designate for the Yoga cycle. I would like to continue to support the Designate team for the Yoga release. We have made good progress improving the Designate tempest tests and documentation, but we have more work to do. I am also excited to see progress on new features. Thank you for your support and your consideration for Yoga, Michael Johnson (johnsom) ",,13,0
openstack%2Felection~master~I8539fa25ab978d08477f6a4817ad2bab185dc75b,openstack/election,master,I8539fa25ab978d08477f6a4817ad2bab185dc75b,Adding Matthew Thode candidacy for Requirements PTL,MERGED,2021-08-23 19:12:31.000000000,2021-08-24 00:26:37.000000000,2021-08-24 00:25:20.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 19:12:31.000000000', 'files': ['candidates/yoga/Requirements/mthode@mthode.org'], 'web_link': 'https://opendev.org/openstack/election/commit/040db87f43fde56d8fc806d48780301056487356', 'message': 'Adding Matthew Thode candidacy for Requirements PTL\n\nChange-Id: I8539fa25ab978d08477f6a4817ad2bab185dc75b\n'}]",0,805695,040db87f43fde56d8fc806d48780301056487356,8,3,1,14288,,,0,"Adding Matthew Thode candidacy for Requirements PTL

Change-Id: I8539fa25ab978d08477f6a4817ad2bab185dc75b
",git fetch https://review.opendev.org/openstack/election refs/changes/95/805695/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Requirements/mthode@mthode.org'],1,040db87f43fde56d8fc806d48780301056487356,requirements-yoga,"I would like to announce my candidacy for PTL of the Requirements project for the Yoga cycle. The following will be my goals for the cycle, in order of importance: 1. The primary goal is to keep a tight rein on global-requirements and upper-constraints updates. (Keep things working well) 2. Un-cap requirements where possible (stuff like prettytable). 3. Fix some automation of generate contstraints (pkg-resources being added and setuptools being dropped) 4. Audit global-requirements and upper-constraints for redundancies. One of the rules we have for new entrants to global-requirements and/or upper-constraints is that they be non-redundant. Keeping that rule in mind, audit the list of requirements for possible redundancies and if possible, reduce the number of requirements we manage. I look forward to continue working with you in this cycle, as your PTL or not. Thanks for your time, Matthew Thode IRC: prometheanfire ",,25,0
openstack%2Fneutron~master~Id0c4bacb076da08c430276945e856c793ef662e5,openstack/neutron,master,Id0c4bacb076da08c430276945e856c793ef662e5,Use neutron-lib payloads for PORT_FORWARDING,MERGED,2021-07-30 06:50:02.000000000,2021-08-24 00:15:32.000000000,2021-08-19 01:56:22.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-07-30 06:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3bc215ad41248f4c681c87537f73ee0a5a9232a', 'message': 'Use neutron-lib payloads for PORT_FORWARDING\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT_FORWARDING events.\n\n[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Id0c4bacb076da08c430276945e856c793ef662e5\n'}, {'number': 2, 'created': '2021-08-06 14:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ba8a3cfcfc07e6f28a2fa3bdf7329a350d2f9fc', 'message': 'Use neutron-lib payloads for PORT_FORWARDING\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT_FORWARDING events.\n\n[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Id0c4bacb076da08c430276945e856c793ef662e5\n'}, {'number': 3, 'created': '2021-08-07 21:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/843f8fa6b0c03fc829cf323a56bd7573db5e79d7', 'message': 'Use neutron-lib payloads for PORT_FORWARDING\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT_FORWARDING events.\n\n[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Id0c4bacb076da08c430276945e856c793ef662e5\n'}, {'number': 4, 'created': '2021-08-09 14:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3096bb06755eb8c4b3ce5398655cf6cb3f7f25e', 'message': 'Use neutron-lib payloads for PORT_FORWARDING\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT_FORWARDING events.\n\n[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Id0c4bacb076da08c430276945e856c793ef662e5\n'}, {'number': 5, 'created': '2021-08-12 14:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92ca11cbb8483ae3bf2298db84e7b3bfd8149c4b', 'message': 'Use neutron-lib payloads for PORT_FORWARDING\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT_FORWARDING events.\n\n[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Id0c4bacb076da08c430276945e856c793ef662e5\n'}, {'number': 6, 'created': '2021-08-13 09:41:26.000000000', 'files': ['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/services/portforwarding/callbacks.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb430e052dba24bfca5397afec789e5aa556d654', 'message': 'Use neutron-lib payloads for PORT_FORWARDING\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT_FORWARDING events.\n\n[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Id0c4bacb076da08c430276945e856c793ef662e5\n'}]",5,802990,eb430e052dba24bfca5397afec789e5aa556d654,115,6,6,32667,,,0,"Use neutron-lib payloads for PORT_FORWARDING

This patch switches the code over to the payload style of callbacks [1]
for PORT_FORWARDING events.

[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: Id0c4bacb076da08c430276945e856c793ef662e5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/802990/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py', 'neutron/services/portforwarding/callbacks.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",5,a3bc215ad41248f4c681c87537f73ee0a5a9232a,pf_callback," @mock.patch.object(registry, 'publish') pf_get_object_mock, push_api_mock, mock_registry_publish): mock_registry_publish.assert_called_once_with( mock_registry_publish.reset_mock() mock_registry_publish.assert_called_once_with( @mock.patch.object(registry, 'publish') self, mock_pf_get_object, mock_rpc_push, mock_registry_publish, mock_registry_publish.assert_called_once_with( @mock.patch.object(registry, 'publish') mock_check_router_match, mock_push_api, mock_registry_publish, mock_registry_publish.assert_called_once_with( mock_registry_publish.reset_mock() mock_registry_publish.assert_called_once_with("," @mock.patch.object(registry, 'notify') pf_get_object_mock, push_api_mock, registry_notify_mock): registry_notify_mock.assert_called_once_with( registry_notify_mock.reset_mock() registry_notify_mock.assert_called_once_with( @mock.patch.object(registry, 'notify') self, mock_pf_get_object, mock_rpc_push, mock_registry_notify, mock_registry_notify.assert_called_once_with( @mock.patch.object(registry, 'notify') mock_check_router_match, mock_push_api, mock_registry_notify, mock_registry_notify.assert_called_once_with( mock_registry_notify.reset_mock() mock_registry_notify.assert_called_once_with(",49,75
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257,openstack/tripleo-ansible,stable/wallaby,Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257,tripleo_push_artifacts: fix argument parsing,MERGED,2021-08-20 17:31:11.000000000,2021-08-23 23:54:37.000000000,2021-08-23 23:53:12.000000000,"[{'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-20 17:31:11.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4afaa27adb9ea675fdbb035301da44e188f21b2', 'message': 'tripleo_push_artifacts: fix argument parsing\n\nFix a logic inversion during argument checking which\ncauses push_artifacts to fail if only one argument is passed\nto the module.\n\nCloses-Bug: #1940294\nChange-Id: Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257\n(cherry picked from commit 1946d5b00850d6309aecf2884a540c20776a099b)\n'}]",0,805282,a4afaa27adb9ea675fdbb035301da44e188f21b2,15,4,1,20778,,,0,"tripleo_push_artifacts: fix argument parsing

Fix a logic inversion during argument checking which
causes push_artifacts to fail if only one argument is passed
to the module.

Closes-Bug: #1940294
Change-Id: Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257
(cherry picked from commit 1946d5b00850d6309aecf2884a540c20776a099b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/82/805282/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'],1,a4afaa27adb9ea675fdbb035301da44e188f21b2,bug/1940294-stable/wallaby, if not local_artifacts and not download_artifacts:, if not local_artifacts or not download_artifacts:,1,1
openstack%2Ftripleo-upgrade~master~I36e7d177e50ddd56d2d254941f0ebf181765e304,openstack/tripleo-upgrade,master,I36e7d177e50ddd56d2d254941f0ebf181765e304,Improve node_upgrade_pre.sh,MERGED,2021-08-19 14:25:45.000000000,2021-08-23 23:53:19.000000000,2021-08-23 23:53:19.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-08-19 14:25:45.000000000', 'files': ['templates/node_upgrade_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/53861a47ddbd984343f62e5fa8039c5ee37996f3', 'message': 'Improve node_upgrade_pre.sh\n\nSome CI jobs failed with the following message in computehci-2_upgrade_pre.log\n\n2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local\n\n* increase timeout as 60 seconds is not enough for some CI\n  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.\n* add instances to migrate to the log\n\nChange-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304\n'}]",0,805231,53861a47ddbd984343f62e5fa8039c5ee37996f3,7,6,1,11090,,,0,"Improve node_upgrade_pre.sh

Some CI jobs failed with the following message in computehci-2_upgrade_pre.log

2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local

* increase timeout as 60 seconds is not enough for some CI
  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.
* add instances to migrate to the log

Change-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/31/805231/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,53861a47ddbd984343f62e5fa8039c5ee37996f3,improve_node_upgrade,"echo ""Instances to migrate"" openstack server list --all --host ${HOST}timeout_seconds=$(( 120 * ( $INSTANCE_COUNT + 1 ) )) echo ""Instances left"" openstack server list --all --host ${HOST} exit 1",timeout_seconds=$(( 60 * ( $INSTANCE_COUNT + 1 ) )) exit 1,6,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I062f82a001c3edeade13912ed9b044695143de85,openstack/tripleo-heat-templates,stable/wallaby,I062f82a001c3edeade13912ed9b044695143de85,Add BGP EVPN support to the FRR service,MERGED,2021-08-23 15:14:49.000000000,2021-08-23 23:53:17.000000000,2021-08-23 23:53:17.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 15:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e63c1aeedd4c439fdb16cef2755138cf441ae34d', 'message': 'Add BGP EVPN support to the FRR service\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/798626\nChange-Id: I062f82a001c3edeade13912ed9b044695143de85\n(cherry picked from commit f11b5edc286afa63f9eab7fa2b9ffaff65ceea45)\n'}, {'number': 2, 'created': '2021-08-23 15:16:51.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8dc09df288c63daeb3e85b52278dc8d839a03e72', 'message': 'Add BGP EVPN support to the FRR service\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/805670\nChange-Id: I062f82a001c3edeade13912ed9b044695143de85\n(cherry picked from commit f11b5edc286afa63f9eab7fa2b9ffaff65ceea45)\n'}]",0,805671,8dc09df288c63daeb3e85b52278dc8d839a03e72,12,5,2,20172,,,0,"Add BGP EVPN support to the FRR service

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/805670
Change-Id: I062f82a001c3edeade13912ed9b044695143de85
(cherry picked from commit f11b5edc286afa63f9eab7fa2b9ffaff65ceea45)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/805671/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,e63c1aeedd4c439fdb16cef2755138cf441ae34d,ovn_bgp_agent-stable/wallaby," FrrBgpL2VpnEnabled: type: boolean default: false description: Enable BGP L2VPN EVPN address family. FrrBgpL2VpnEbgpMultihop: type: number default: 0 description: > Allows sessions with eBGP neighbors to establish when they are multiple hops away. Value 0 disables multi-hop eBGP peering. FrrBgpL2VpnUplinkActivate: type: boolean default: true description: > Enable the list of uplink network interfaces defined in FrrBgpUplinks. FrrBgpL2VpnPeers: default: [] description: List of EVPN neighbor peers. type: comma_delimited_list FrrBgpL2vpnPeersScope: default: 'external' type: string description: Either peer with internal (iBGP) or external (eBGP) neighbors. constraints: - allowed_values: ['internal', 'external'] tripleo_frr_bgp_l2vpn: {get_param: FrrBgpL2VpnEnabled} tripleo_frr_bgp_l2vpn_ebgp_multihop: {get_param: FrrBgpL2VpnEbgpMultihop} tripleo_frr_bgp_l2vpn_uplink_activate: {get_param: FrrBgpL2VpnUplinkActivate} tripleo_frr_bgp_l2vpn_peers: {get_param: FrrBgpL2VpnPeers} tripleo_frr_bgp_l2vpn_peers_scope: {get_param: FrrBgpL2vpnPeersScope}",,30,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3a5ab01c6cdd17a00edd333b8519f4c35dffcb2a,openstack/tripleo-ansible,stable/wallaby,I3a5ab01c6cdd17a00edd333b8519f4c35dffcb2a,Add BGP EVPN support to tripleo_frr,MERGED,2021-08-23 15:13:34.000000000,2021-08-23 23:53:15.000000000,2021-08-23 23:53:15.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 15:13:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/caa948bfb73aca774135f7d8efa57b3b2b266a90', 'message': ""Add BGP EVPN support to tripleo_frr\n\nConfigure FRR to enable L2VPN EVPN address family. A few variables are\navailable for advanced configuration:\n\n- tripleo_frr_bgp_l2vpn: enable/disable L2VPN EVPN address family\n- tripleo_frr_bgp_l2vpn_ebgp_multihop: allows sessions with eBGP\n  neighbors to establish when they are multiple hops away.\n- tripleo_frr_bgp_l2vpn_uplink_activate: enable/disable the 'uplink'\n  peer group in the L2VPN EVPN address family.\n- tripleo_frr_bgp_l2vpn_peers: list of EVPN neighbor peers.\n- tripleo_frr_bgp_l2vpn_peers_scope: internal, external or AS number.\n\nChange-Id: I3a5ab01c6cdd17a00edd333b8519f4c35dffcb2a\n(cherry picked from commit 12663ff02296260e9e781341727b058c8aea7486)\n""}]",0,805670,caa948bfb73aca774135f7d8efa57b3b2b266a90,8,5,1,20172,,,0,"Add BGP EVPN support to tripleo_frr

Configure FRR to enable L2VPN EVPN address family. A few variables are
available for advanced configuration:

- tripleo_frr_bgp_l2vpn: enable/disable L2VPN EVPN address family
- tripleo_frr_bgp_l2vpn_ebgp_multihop: allows sessions with eBGP
  neighbors to establish when they are multiple hops away.
- tripleo_frr_bgp_l2vpn_uplink_activate: enable/disable the 'uplink'
  peer group in the L2VPN EVPN address family.
- tripleo_frr_bgp_l2vpn_peers: list of EVPN neighbor peers.
- tripleo_frr_bgp_l2vpn_peers_scope: internal, external or AS number.

Change-Id: I3a5ab01c6cdd17a00edd333b8519f4c35dffcb2a
(cherry picked from commit 12663ff02296260e9e781341727b058c8aea7486)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/805670/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,caa948bfb73aca774135f7d8efa57b3b2b266a90,bgpsupport-stable/wallaby, no bgp ebgp-requires-policy{% if tripleo_frr_bgp_l2vpn|bool and tripleo_frr_bgp_l2vpn_peers|length %} neighbor evpn-peer peer-group neighbor evpn-peer remote-as {{ tripleo_frr_bgp_l2vpn_peers_scope }} {% if tripleo_frr_bgp_l2vpn_ebgp_multihop | int > 0 %} neighbor evpn-peer ebgp-multihop {{ tripleo_frr_bgp_l2vpn_ebgp_multihop }} {% endif %} {% endif %}{% if tripleo_frr_bgp_l2vpn %} address-family l2vpn evpn {% if tripleo_frr_bgp_l2vpn_uplink_activate|bool %} neighbor uplink activate {% endif %} {% if tripleo_frr_bgp_l2vpn_peers|length %} neighbor evpn-peer activate {% endif %} advertise-all-vni exit-address-family {% endif %} ,,25,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc,openstack/tripleo-ansible,stable/wallaby,Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc,tripleo_frr: set default version and profile,MERGED,2021-08-23 14:31:08.000000000,2021-08-23 23:53:13.000000000,2021-08-23 23:53:13.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 14:31:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac9bf88f2746ffaab1879552957cd384e7c7d3c7', 'message': 'tripleo_frr: set default version and profile\n\nPin FRR version and profile to known, tested values.\n\nFor more detailed information, please refer to\nhttps://docs.frrouting.org/en/latest/basic.html#configuration-versioning-profiles-and-upgrade-behavior\n\nChange-Id: Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc\n(cherry picked from commit 913da0e1e0a279d987ee343a56a87e68d230c12d)\n'}]",0,805569,ac9bf88f2746ffaab1879552957cd384e7c7d3c7,9,5,1,20172,,,0,"tripleo_frr: set default version and profile

Pin FRR version and profile to known, tested values.

For more detailed information, please refer to
https://docs.frrouting.org/en/latest/basic.html#configuration-versioning-profiles-and-upgrade-behavior

Change-Id: Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc
(cherry picked from commit 913da0e1e0a279d987ee343a56a87e68d230c12d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/805569/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,ac9bf88f2746ffaab1879552957cd384e7c7d3c7,bgpsupport-stable/wallaby,frr version {{ tripleo_frr_version }} frr defaults {{ tripleo_frr_defaults }},,4,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/train,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:26:28.000000000,2021-08-23 23:53:09.000000000,2021-08-23 23:53:09.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-11 09:26:28.000000000', 'files': ['tripleo_ansible/roles/tripleo-ovs-dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e02c4927ee6e4d00f759d615f24260c3240bbed', 'message': ""Disable mlockall if postcopy is enabled\n\nIf postcopy is enabled, live migration fails with:\n2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported\n\nThe root cause is that ovs gets started per default with --mlockall=yes.\nAs a result postcopy gets disabled and live migration fails.\n\n2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.\n2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.\n\nThis change adds --mlockall=no to /etc/sysconfig/openvswitch\nto have live migration working.\n\nConflicts:\n    tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml\n\nChange-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1\nCloses-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)\n(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)\n(cherry picked from commit b076e682b77503c1907d2f0cd3698b55d28052e6)\n(cherry picked from commit 109c07c9734a7ee89a4b68c13b8630f026ded6d2)\n""}]",0,804217,4e02c4927ee6e4d00f759d615f24260c3240bbed,11,8,1,17216,,,0,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Conflicts:
    tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)
(cherry picked from commit b076e682b77503c1907d2f0cd3698b55d28052e6)
(cherry picked from commit 109c07c9734a7ee89a4b68c13b8630f026ded6d2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/804217/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ovs-dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/defaults/main.yml']",2,4e02c4927ee6e4d00f759d615f24260c3240bbed,ovs_dpdk_mlockall,"tripleo_ovs_dpdk_vhost_postcopy_ovs_options: ""--mlockall=no""",,29,14
openstack%2Ftripleo-ansible~stable%2Fussuri~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/ussuri,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:25:38.000000000,2021-08-23 23:44:05.000000000,2021-08-23 23:44:05.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-11 09:25:38.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/109c07c9734a7ee89a4b68c13b8630f026ded6d2', 'message': ""Disable mlockall if postcopy is enabled\n\nIf postcopy is enabled, live migration fails with:\n2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported\n\nThe root cause is that ovs gets started per default with --mlockall=yes.\nAs a result postcopy gets disabled and live migration fails.\n\n2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.\n2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.\n\nThis change adds --mlockall=no to /etc/sysconfig/openvswitch\nto have live migration working.\n\nConflicts:\n    tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml\n\nChange-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1\nCloses-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)\n(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)\n(cherry picked from commit b076e682b77503c1907d2f0cd3698b55d28052e6)\n""}]",0,804216,109c07c9734a7ee89a4b68c13b8630f026ded6d2,11,8,1,17216,,,0,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Conflicts:
    tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)
(cherry picked from commit b076e682b77503c1907d2f0cd3698b55d28052e6)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/804216/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml']",2,109c07c9734a7ee89a4b68c13b8630f026ded6d2,ovs_dpdk_mlockall,"tripleo_ovs_dpdk_vhost_postcopy_ovs_options: ""--mlockall=no""",,29,14
openstack%2Ftripleo-ansible~stable%2Fvictoria~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/victoria,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:16:25.000000000,2021-08-23 23:44:03.000000000,2021-08-23 23:44:03.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-11 09:16:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b076e682b77503c1907d2f0cd3698b55d28052e6', 'message': ""Disable mlockall if postcopy is enabled\n\nIf postcopy is enabled, live migration fails with:\n2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported\n\nThe root cause is that ovs gets started per default with --mlockall=yes.\nAs a result postcopy gets disabled and live migration fails.\n\n2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.\n2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.\n\nThis change adds --mlockall=no to /etc/sysconfig/openvswitch\nto have live migration working.\n\nChange-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1\nCloses-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)\n(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)\n""}]",0,804215,b076e682b77503c1907d2f0cd3698b55d28052e6,11,8,1,17216,,,0,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/804215/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml']",2,b076e682b77503c1907d2f0cd3698b55d28052e6,ovs_dpdk_mlockall,"tripleo_ovs_dpdk_vhost_postcopy_ovs_options: ""--mlockall=no""",,29,14
openstack%2Ftripleo-ansible~stable%2Fwallaby~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/wallaby,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:15:24.000000000,2021-08-23 23:44:02.000000000,2021-08-23 23:44:02.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-11 09:15:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/561a674bfd89fb95d47063fdb297c3e50f59e246', 'message': ""Disable mlockall if postcopy is enabled\n\nIf postcopy is enabled, live migration fails with:\n2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported\n\nThe root cause is that ovs gets started per default with --mlockall=yes.\nAs a result postcopy gets disabled and live migration fails.\n\n2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.\n2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.\n\nThis change adds --mlockall=no to /etc/sysconfig/openvswitch\nto have live migration working.\n\nChange-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1\nCloses-Bug: #1939028\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\n(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)\n""}]",0,804214,561a674bfd89fb95d47063fdb297c3e50f59e246,11,8,1,17216,,,0,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/804214/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml']",2,561a674bfd89fb95d47063fdb297c3e50f59e246,ovs_dpdk_mlockall,"tripleo_ovs_dpdk_vhost_postcopy_ovs_options: ""--mlockall=no""",,29,14
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,stable/victoria,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-22 09:41:10.000000000,2021-08-23 23:44:00.000000000,2021-08-23 23:44:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 09:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f5483c06e157c0853b8ae5d3109820ce40ae07ff', 'message': 'Revert ""Deprecate warnings for Ceilometer and Gnocchi""\n\nThis reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.\n\nReason for revert:\nCeilometer and Gnocchi are not deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n\tmanifests/profile/base/gnocchi.pp\n\nChange-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9\n(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)\n(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)\n'}, {'number': 2, 'created': '2021-08-22 09:41:29.000000000', 'files': ['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8e60fc7058ec79dbe96167ba7d52f5bae8f7c413', 'message': 'Revert ""Deprecate warnings for Ceilometer and Gnocchi""\n\nThis reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.\n\nReason for revert:\nCeilometer and Gnocchi are not deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n\tmanifests/profile/base/gnocchi.pp\n\nChange-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9\n(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)\n(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)\n(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)\n'}]",0,805527,8e60fc7058ec79dbe96167ba7d52f5bae8f7c413,7,2,2,9816,,,0,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/805527/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp']",2,f5483c06e157c0853b8ae5d3109820ce40ae07ff,,, warning('Ceilometer is deprecated and is going to be removed in future.') ,0,3
openstack%2Fglance~master~I670c076527b7bce55696b294d2283121dab5c707,openstack/glance,master,I670c076527b7bce55696b294d2283121dab5c707,Move Tasks policy checks in the API,MERGED,2021-07-26 09:12:02.000000000,2021-08-23 23:42:11.000000000,2021-08-23 23:40:29.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 09:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/637d383673d553adb3e733237fd5ce6e7f091bf9', 'message': ""Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\ntests test_create_task_unauthorized and test_index_unauthorized\nbecause enforcement for index and create APIs is done at RequestDeserializer\nand these tests are testing controller's get and create methods.\n\nPartially implements: blueprint policy-refactor\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n""}, {'number': 2, 'created': '2021-07-26 15:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1550267314a8189a05c14ca564da315e5a53ed02', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 3, 'created': '2021-08-04 16:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/db95ddcb9a35d7670b7ad9d0d57b18a5640abb79', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 4, 'created': '2021-08-04 18:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9826f4d40eb4a92953e5478fbfd9bf6ff8741b02', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 5, 'created': '2021-08-05 20:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3a39ca656ecb9b9a500fcd9d9a3ddf23d7cd730b', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 6, 'created': '2021-08-11 09:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/57a78f4ebc1937ea43e09c903ac259b76306d182', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 7, 'created': '2021-08-11 17:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/58b2dde82dd735b832b30f9c1ab20bdbd62bce54', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 8, 'created': '2021-08-12 08:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c418033ebfa47a9d7fbb6c59b6f04959880d7b6a', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 9, 'created': '2021-08-12 09:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/05690d94e581ffef4b505aa3cb59ff0f15628219', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 10, 'created': '2021-08-13 18:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d68be499fa4352132ee5649baeacdd55fc0d8578', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 11, 'created': '2021-08-19 17:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/621457823a67dfae424f23e924e18a97cb3d23bb', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 12, 'created': '2021-08-20 06:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6e9ee8cbc1e932ff37e361caf9727ca140b4e15f', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 13, 'created': '2021-08-23 06:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/23b653c10c2858a4820036554f8382ae73f1f39e', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}, {'number': 14, 'created': '2021-08-23 15:56:56.000000000', 'files': ['glance/tests/functional/v2/test_tasks_api_policy.py', 'glance/api/v2/tasks.py', 'glance/gateway.py', 'glance/tests/unit/test_gateway.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/32ea21f3fa45e7ba48920060d37cd01318ac6f7c', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n'}]",9,802245,32ea21f3fa45e7ba48920060d37cd01318ac6f7c,60,5,14,9303,,,0,"Move Tasks policy checks in the API

This change uses new policy module to enforce tasks_api_access
policy check and excludes policy enforcement from the policy layer.

NOTE: Since we are excluding policy enforcement at policy layer, removed
below unit tests as those were checking controller methods and we no longer
enforcing policies at policy layer.
test_create_task_unauthorized
test_index_unauthorized
test_get_unauthorized

Partially implements: blueprint policy-refactor

Change-Id: I670c076527b7bce55696b294d2283121dab5c707
",git fetch https://review.opendev.org/openstack/glance refs/changes/45/802245/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_tasks_api_policy.py', 'glance/api/v2/tasks.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",5,637d383673d553adb3e733237fd5ce6e7f091bf9,policy-refactor," class TestTasksAPIPolicy(APIPolicyBase): def setUp(self): super(TestTasksAPIPolicy, self).setUp() self.enforcer = mock.MagicMock() self.context = mock.MagicMock() self.policy = policy.TasksAPIPolicy(self.context, enforcer=self.enforcer) def test_tasks_api_access(self): self.policy.tasks_api_access() self.enforcer.enforce.assert_called_once_with(self.context, 'tasks_api_access', mock.ANY)",,172,24
openstack%2Fglance~master~If390f04aef00fa4e6dc792658ae5fee9917c7d1f,openstack/glance,master,If390f04aef00fa4e6dc792658ae5fee9917c7d1f,Check policies for delete image for store in API,MERGED,2021-08-15 12:31:40.000000000,2021-08-23 23:35:17.000000000,2021-08-23 23:33:40.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-15 12:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f9ce1ac0dc753a0ffcbfdd66de1ada1312a3ac4e', 'message': ""Check policies for delete image fro store in API\n\nThis has a change in default RBAC policy for delete_image_location from\n'admin only' to 'admin or project member'. This change enforces policy\nchecks required for deleting image from specific store in API layer. Image\nmutability check is maintained if secure RBAC is not enabled in deployments.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n""}, {'number': 2, 'created': '2021-08-18 11:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c32addf40ffa99a67cca78d627c22d6a668107d3', 'message': 'Check policies for delete image fro store in API\n\nThese change enforce policies required for deleting image from store\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n'}, {'number': 3, 'created': '2021-08-18 11:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5c409576c45d22f2eee4970f8ff93620164cd416', 'message': 'Check policies for delete image for store in API\n\nThese change enforce policies required for deleting image from store\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n'}, {'number': 4, 'created': '2021-08-19 16:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9fc8b4491fd485fb5e06c401e0f9b6f3ecee0984', 'message': 'Check policies for delete image for store in API\n\nThese change enforce policies required for deleting image from store\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n'}, {'number': 5, 'created': '2021-08-19 16:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c07162c4d2dc524b019719bae237ff6dcb6af00b', 'message': 'Check policies for delete image for store in API\n\nThese change enforce policies required for deleting image from store\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n'}, {'number': 6, 'created': '2021-08-20 05:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/89cde03147f96ebe6fe57d43606250ff56dde121', 'message': 'Check policies for delete image for store in API\n\nThese change enforce policies required for deleting image from store\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n'}, {'number': 7, 'created': '2021-08-23 06:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/364871333cd8b37eca42cf96041ab6cac1886ef5', 'message': 'Check policies for delete image for store in API\n\nThese change enforce policies required for deleting image from store\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n'}, {'number': 8, 'created': '2021-08-23 15:34:58.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/434f881d8c462c314e2ef160823bee651e7de496', 'message': 'Check policies for delete image for store in API\n\nThese change enforce policies required for deleting image from store\nin API layer.\n\nPartially-Implements: blueprint policy-refactor\nCloses-Bug: #1939977\n\nChange-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f\n'}]",33,804585,434f881d8c462c314e2ef160823bee651e7de496,56,4,8,9303,,,0,"Check policies for delete image for store in API

These change enforce policies required for deleting image from store
in API layer.

Partially-Implements: blueprint policy-refactor
Closes-Bug: #1939977

Change-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f
",git fetch https://review.opendev.org/openstack/glance refs/changes/85/804585/8 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/policies/image.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",5,f9ce1ac0dc753a0ffcbfdd66de1ada1312a3ac4e,policy-refactor," def test_delete_locations_falls_back_to_legacy(self): self.config(enforce_secure_rbac=False) # As admin, image is mutable even if owner does not match self.context.is_admin = True self.context.owner = 'someuser' self.image.owner = 'someotheruser' self.policy.delete_locations() # As non-admin, owner matches, so we're good self.context.is_admin = False self.context.owner = 'someuser' self.image.owner = 'someuser' self.policy.delete_locations() # If owner does not match, we fail self.image.owner = 'someotheruser' self.assertRaises(exception.Forbidden, self.policy.delete_locations) # Make sure we are checking the legacy handler with mock.patch('glance.api.v2.policy.check_is_image_mutable') as m: self.policy.delete_locations() m.assert_called_once_with(self.context, self.image) # Make sure we are not checking it if enforce_secure_rbac=True self.config(enforce_secure_rbac=True) with mock.patch('glance.api.v2.policy.check_is_image_mutable') as m: self.policy.delete_locations() self.assertFalse(m.called) def test_get_image_location(self): self.policy.get_image_location() self.enforcer.enforce.assert_called_once_with(self.context, 'get_image_location', mock.ANY) ",,91,154
openstack%2Fcinder~stable%2Fwallaby~Iec111ab83e9ed8182c9679c911e3d90927d5a7c3,openstack/cinder,stable/wallaby,Iec111ab83e9ed8182c9679c911e3d90927d5a7c3,RBD: use correct stripe unit in clone operation,MERGED,2021-08-11 15:36:35.000000000,2021-08-23 23:35:17.000000000,2021-08-23 23:33:34.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 15:36:35.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-choose-correct-stripe-unit-9d317f4717533fb4.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5db58159feec3d2d39d1abf3637310f5ac60a3cf', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default stripe unit of 8MB (distinctly larger\nthan that of Cinder).  If we do not consider the incoming stripe unit\nand select the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two stripe unit values so that the appropriate stripe unit\nis chosen.\n\nIt should also be noted that we're determining the correct stripe unit,\nbut using the 'order' argument to clone().  Ceph will set the stripe\nunit equal to the object size (order) by default and we rely on this\nbehaviour for the following reason: passing stripe-unit alone or with\nan order argument causes an invalid argument exception to be raised in\npre-pacific releases of Ceph, as it's argument parsing appears to have\nlimitations.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n(cherry picked from commit 49a2c85eda9fd3cddc75fd904fe62c87a6b50735)\n""}]",3,804265,5db58159feec3d2d39d1abf3637310f5ac60a3cf,22,4,1,10459,,,0,"RBD: use correct stripe unit in clone operation

The recent release of Ceph Pacific saw a change to the clone() logic
where invalid values of stripe unit would cause an error to be returned
where previous versions would correct the value at runtime.  This
becomes a problem when creating a volume from an image, where the source
RBD image may have a larger stripe unit than cinder's RBD driver is
configured for.  When this happens, clone() is called with a stripe unit
that is too small given that of the source image and the clone fails.

The RBD driver in Cinder has a configuration parameter
'rbd_store_chunk_size' that stores the preferred object size for cloned
images.  If clone() is called without a stripe_unit passed in, the
stripe unit defaults to the object size, which is 4MB by default.  The
issue arises when creating a volume from a Glance image, where Glance is
creating images with a default stripe unit of 8MB (distinctly larger
than that of Cinder).  If we do not consider the incoming stripe unit
and select the larger of the two, Ceph cannot clone an RBD image with a
smaller stripe unit and raises an error.

This patch adds a function in our driver's clone logic to select the
larger of the two stripe unit values so that the appropriate stripe unit
is chosen.

It should also be noted that we're determining the correct stripe unit,
but using the 'order' argument to clone().  Ceph will set the stripe
unit equal to the object size (order) by default and we rely on this
behaviour for the following reason: passing stripe-unit alone or with
an order argument causes an invalid argument exception to be raised in
pre-pacific releases of Ceph, as it's argument parsing appears to have
limitations.

Closes-Bug: #1931004
Change-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3
(cherry picked from commit 49a2c85eda9fd3cddc75fd904fe62c87a6b50735)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/804265/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-choose-correct-stripe-unit-9d317f4717533fb4.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,5db58159feec3d2d39d1abf3637310f5ac60a3cf,rbd-use-correct-stripe-unit-in-clone," with mock.patch.object(driver, 'LOG') as mock_log: with mock.patch.object(self.driver.rbd.Image(), 'stripe_unit') as \ mock_rbd_image_stripe_unit: mock_rbd_image_stripe_unit.return_value = 4194304 self.driver.create_volume_from_snapshot(self.volume_a, self.snapshot) with mock.patch.object(driver, 'LOG') as mock_log: with mock.patch.object(self.driver.rbd.Image(), 'stripe_unit') as \ mock_rbd_image_stripe_unit: mock_rbd_image_stripe_unit.return_value = 4194304 self.driver.create_volume_from_snapshot(self.volume_a, self.snapshot) @ddt.data({'rbd_chunk_size': 1}, {'rbd_chunk_size': 8}, {'rbd_chunk_size': 32}) def test_clone(self, mock_enable_repl, rbd_chunk_size): with mock.patch.object(self.driver.rbd.Image(), 'stripe_unit') as \ mock_rbd_image_stripe_unit: mock_rbd_image_stripe_unit.return_value = 4194304 res = self.driver._clone(self.volume_a, src_pool, src_image, src_snap) stripe_unit = max(4194304, rbd_chunk_size * 1048576) expected_order = int(math.log(stripe_unit, 2)) 'order': expected_order} rbd_chunk_size = 1 stripe_unit = 1048576 with mock.patch.object(self.driver.rbd.Image(), 'stripe_unit') as \ mock_rbd_image_stripe_unit: mock_rbd_image_stripe_unit.return_value = stripe_unit res = self.driver._clone(self.volume_a, src_pool, src_image, src_snap)"," with mock.patch.object(driver, 'LOG') as \ mock_log: self.driver.create_volume_from_snapshot(self.volume_a, self.snapshot) with mock.patch.object(driver, 'LOG') as \ mock_log: self.driver.create_volume_from_snapshot(self.volume_a, self.snapshot) @ddt.data({'rbd_chunk_size': 1, 'order': 20}, {'rbd_chunk_size': 8, 'order': 23}, {'rbd_chunk_size': 32, 'order': 25}) def test_clone(self, mock_enable_repl, rbd_chunk_size, order): res = self.driver._clone(self.volume_a, src_pool, src_image, src_snap) 'order': order} rbd_chunk_size = 1 res = self.driver._clone(self.volume_a, src_pool, src_image, src_snap)",58,21
openstack%2Fswift~master~I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c,openstack/swift,master,I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c,Add and pipe reconstructor stats through recon,MERGED,2018-02-06 06:27:24.000000000,2021-08-23 23:35:14.000000000,2021-08-23 23:33:37.000000000,"[{'_account_id': 597}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-06 06:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ca1458b8882ef2849c6924885907c4199e5230d9', 'message': ""Add and pipe reconstructor stats through recon\n\nThis patch plumbs the object-reconstructor stats that are dropped\ninto recon cache out through the middleware and swift-recon tool.\n\nThis adds a '/recon/reconstuction/object' to the middleware. As such\nthe swift-recon tool has grown a '-R' or '--reconstruction' option\naccess this data from each node.\n\nPlus some tests and documentation updates.\n\nChange-Id: I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c\n""}, {'number': 2, 'created': '2021-07-27 07:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8302ba6f7803514ddeb0d4a01f80c3f41a22a17d', 'message': ""Add and pipe reconstructor stats through recon\n\nThis patch plumbs the object-reconstructor stats that are dropped\ninto recon cache out through the middleware and swift-recon tool.\n\nThis adds a '/recon/reconstuction/object' to the middleware. As such\nthe swift-recon tool has grown a '-R' or '--reconstruction' option\naccess this data from each node.\n\nPlus some tests and documentation updates.\n\nChange-Id: I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c\n""}, {'number': 3, 'created': '2021-07-27 07:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/436c0ca4a1440fc214f57c320e290397be646b48', 'message': ""Add and pipe reconstructor stats through recon\n\nThis patch plumbs the object-reconstructor stats that are dropped\ninto recon cache out through the middleware and swift-recon tool.\n\nThis adds a '/recon/reconstuction/object' to the middleware. As such\nthe swift-recon tool has grown a '-R' or '--reconstruction' option\naccess this data from each node.\n\nPlus some tests and documentation updates.\n\nChange-Id: I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c\n""}, {'number': 4, 'created': '2021-08-20 00:04:07.000000000', 'files': ['test/unit/cli/test_recon.py', 'doc/manpages/swift-recon.1', 'swift/common/middleware/recon.py', 'test/unit/common/middleware/test_recon.py', 'swift/cli/recon.py', 'doc/source/admin_guide.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/7a105b5ef01e990d52ef2111b23707904cd41867', 'message': ""Add and pipe reconstructor stats through recon\n\nThis patch plumbs the object-reconstructor stats that are dropped\ninto recon cache out through the middleware and swift-recon tool.\n\nThis adds a '/recon/reconstruction/object' to the middleware. As such\nthe swift-recon tool has grown a '-R' or '--reconstruction' option\naccess this data from each node.\n\nPlus some tests and documentation updates.\n\nChange-Id: I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c\n""}]",3,541141,7a105b5ef01e990d52ef2111b23707904cd41867,16,4,4,7233,,,0,"Add and pipe reconstructor stats through recon

This patch plumbs the object-reconstructor stats that are dropped
into recon cache out through the middleware and swift-recon tool.

This adds a '/recon/reconstruction/object' to the middleware. As such
the swift-recon tool has grown a '-R' or '--reconstruction' option
access this data from each node.

Plus some tests and documentation updates.

Change-Id: I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/541141/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/manpages/swift-recon.1', 'test/unit/cli/test_recon.py', 'swift/common/middleware/recon.py', 'test/unit/common/middleware/test_recon.py', 'swift/cli/recon.py', 'doc/source/admin_guide.rst']",6,ca1458b8882ef2849c6924885907c4199e5230d9,reconstructor-recon," [-R] [-l] [-T] [--md5] [--auditor] [--updater] [--expirer] [--sockstat] -R, --reconstruction Get reconstruction stats", [-l] [-T] [--md5] [--auditor] [--updater] [--expirer] [--sockstat],217,43
openstack%2Fpuppet-tripleo~stable%2Ftrain~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,stable/train,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-22 09:47:59.000000000,2021-08-23 23:08:26.000000000,2021-08-23 23:08:26.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 09:47:59.000000000', 'files': ['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fb2457d141ae04ce332d0861fc9fa51030df2ce6', 'message': 'Revert ""Deprecate warnings for Ceilometer and Gnocchi""\n\nThis reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.\n\nReason for revert:\nCeilometer and Gnocchi are not deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n\tmanifests/profile/base/gnocchi.pp\n\n(backport to stable/train)\nConflicts:\n\tmanifests/profile/base/gnocchi.pp\n\nChange-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9\n(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)\n(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)\n(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)\n(cherry picked from commit 8e60fc7058ec79dbe96167ba7d52f5bae8f7c413)\n(cherry picked from commit b10b896fc8381371b8063ee69adc0c8134217ab1)\n'}]",0,805508,fb2457d141ae04ce332d0861fc9fa51030df2ce6,6,2,1,9816,,,0,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

(backport to stable/train)
Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
(cherry picked from commit 8e60fc7058ec79dbe96167ba7d52f5bae8f7c413)
(cherry picked from commit b10b896fc8381371b8063ee69adc0c8134217ab1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/08/805508/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp']",2,fb2457d141ae04ce332d0861fc9fa51030df2ce6,,, warning('Ceilometer is deprecated and is going to be removed in future.') ,0,4
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ie9c21146bea41dbbf1115534aeeff14810e369a0,openstack/puppet-tripleo,stable/train,Ie9c21146bea41dbbf1115534aeeff14810e369a0,[Train only] Update the authtoken class for undercloud services,MERGED,2021-08-20 03:32:34.000000000,2021-08-23 23:08:25.000000000,2021-08-23 23:08:25.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-20 03:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/008dc478859278ca972d9c07216daf0c88d05832', 'message': '[Train only] Update the authtoken class for undercloud services\n\nThese classes were recently backported[1] and skipped during\nthe following two backports.\n\n17fdf05badae6f4ceb3b131e62232a97889973b0\nAdd authtoken security options\n\nf7d0ff5f5b435afafea957f3393b8af052e57061\nAdd ability to specify memcached port\n\nThis change manually applies the change which should have done in\nthese backports.\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/805324\n\nChange-Id: Ie9c21146bea41dbbf1115534aeeff14810e369a0\n'}, {'number': 2, 'created': '2021-08-20 09:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c1ce6204ab042c9a0cb7a818e4d8ed6611a26443', 'message': '[Train only] Update the authtoken class for undercloud services\n\nThese classes were recently backported[1] and skipped during\nthe following two backports.\n\n17fdf05badae6f4ceb3b131e62232a97889973b0\nAdd authtoken security options\n\nf7d0ff5f5b435afafea957f3393b8af052e57061\nAdd ability to specify memcached port\n\nThis change manually applies the change which should have done in\nthese backports.\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/805324\n\nChange-Id: Ie9c21146bea41dbbf1115534aeeff14810e369a0\n'}, {'number': 3, 'created': '2021-08-23 03:22:54.000000000', 'files': ['manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cec416f76b6470ac5dd631600d8de5802380b52b', 'message': '[Train only] Update the authtoken class for undercloud services\n\nThese classes were recently backported[1] and skipped during\nthe following two backports.\n\n17fdf05badae6f4ceb3b131e62232a97889973b0\nAdd authtoken security options\n\nf7d0ff5f5b435afafea957f3393b8af052e57061\nAdd ability to specify memcached port\n\nThis change manually applies the change which should have done in\nthese backports.\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/805324\n\nChange-Id: Ie9c21146bea41dbbf1115534aeeff14810e369a0\n'}]",0,805327,cec416f76b6470ac5dd631600d8de5802380b52b,18,5,3,9816,,,0,"[Train only] Update the authtoken class for undercloud services

These classes were recently backported[1] and skipped during
the following two backports.

17fdf05badae6f4ceb3b131e62232a97889973b0
Add authtoken security options

f7d0ff5f5b435afafea957f3393b8af052e57061
Add ability to specify memcached port

This change manually applies the change which should have done in
these backports.

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/805324

Change-Id: Ie9c21146bea41dbbf1115534aeeff14810e369a0
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/805327/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp']",3,008dc478859278ca972d9c07216daf0c88d05832,uc-memcache,"# Defaults to hiera('memcached_node_ips', []) # # [*memcached_port*] # (Optional) Memcached port to use. # Defaults to hiera('memcached_authtoken_port', 11211) # # [*security_strategy*] # (Optional) Memcached (authtoken) security strategy. # Defaults to hiera('memcached_authtoken_security_strategy', undef) # # [*secret_key*] # (Optional) Memcached (authtoken) secret key, used with security_strategy. # The key is hashed with a salt, to isolate services. # Defaults to hiera('memcached_authtoken_secret_key', undef) $memcached_port = hiera('memcached_authtoken_port', 11211), $security_strategy = hiera('memcached_authtoken_security_strategy', undef), $secret_key = hiera('memcached_authtoken_secret_key', undef), $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}""), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}"") } if $secret_key { $hashed_secret_key = sha256(""${secret_key}+novajoin"") } else { $hashed_secret_key = undef memcached_servers => $memcache_servers, memcache_security_strategy => $security_strategy, memcache_secret_key => $hashed_secret_key,","# Defaults to hiera('memcached_node_ips') $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211'), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211') memcached_servers => $memcache_servers",84,12
openstack%2Fos-brick~stable%2Fxena~If02c2608a082a5ef9ddee34ac534ba4abbe10311,openstack/os-brick,stable/xena,If02c2608a082a5ef9ddee34ac534ba4abbe10311,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-08-23 20:48:59.000000000,2021-08-23 22:56:29.000000000,2021-08-23 21:45:14.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 20:48:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4c9317e2b2493da98be00477fb44aec8590d2d21', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If02c2608a082a5ef9ddee34ac534ba4abbe10311\n'}]",0,805703,4c9317e2b2493da98be00477fb44aec8590d2d21,10,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If02c2608a082a5ef9ddee34ac534ba4abbe10311
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/03/805703/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4c9317e2b2493da98be00477fb44aec8590d2d21,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fos-brick~stable%2Fxena~Ie86547b0fd8a9422cfb16606a752436260072e72,openstack/os-brick,stable/xena,Ie86547b0fd8a9422cfb16606a752436260072e72,Update .gitreview for stable/xena,MERGED,2021-08-23 20:48:57.000000000,2021-08-23 22:51:41.000000000,2021-08-23 21:15:41.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 20:48:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e61ad9d57b92d901aa08f1b39f7d6cfe0316d0af', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Ie86547b0fd8a9422cfb16606a752436260072e72\n'}]",0,805702,e61ad9d57b92d901aa08f1b39f7d6cfe0316d0af,10,3,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Ie86547b0fd8a9422cfb16606a752436260072e72
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/02/805702/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e61ad9d57b92d901aa08f1b39f7d6cfe0316d0af,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fnova~master~If71620e808744736cb4fe3abda76d81a6335311b,openstack/nova,master,If71620e808744736cb4fe3abda76d81a6335311b,Avoid modifying the Mock class in test,MERGED,2021-08-23 15:41:16.000000000,2021-08-23 22:23:57.000000000,2021-08-23 22:21:59.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 15:41:16.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/930b7c992156733fbb4f598488605825d62ebc0c', 'message': 'Avoid modifying the Mock class in test\n\nThe rdb unit test defines a shutdown field on the Mock class\nunintentionally. This causes that a later test in the same\nexecutor expecting that mock.Mock().shutdown is a newly auto\ngenerated mock.Mock() but it founds that is an already used\n(called) object. This causes that the later test fails when\nasserting the number of calls on that mock.\n\nThe original intention of the rbd unit test was to catch the\ninstantiation of the Rados object in test so it set Rados = mock.Mock()\nso when the code under test called Rados() it actually called Mock().\nIt worked but it has that huge side effect. Instead of this a proper\nmocking of the constructor can be done in two steps:\n\nrados_inst = mock.Mock()\nRados = mock.Mock(return_value=rados_inst)\n\nThis makes sure that every Rados() call will return rados_inst that is a\nmock without causing Mock class level side effect.\n\nChange-Id: If71620e808744736cb4fe3abda76d81a6335311b\nCloses-Bug: #1936849\n'}]",0,805657,930b7c992156733fbb4f598488605825d62ebc0c,13,3,1,9708,,,0,"Avoid modifying the Mock class in test

The rdb unit test defines a shutdown field on the Mock class
unintentionally. This causes that a later test in the same
executor expecting that mock.Mock().shutdown is a newly auto
generated mock.Mock() but it founds that is an already used
(called) object. This causes that the later test fails when
asserting the number of calls on that mock.

The original intention of the rbd unit test was to catch the
instantiation of the Rados object in test so it set Rados = mock.Mock()
so when the code under test called Rados() it actually called Mock().
It worked but it has that huge side effect. Instead of this a proper
mocking of the constructor can be done in two steps:

rados_inst = mock.Mock()
Rados = mock.Mock(return_value=rados_inst)

This makes sure that every Rados() call will return rados_inst that is a
mock without causing Mock class level side effect.

Change-Id: If71620e808744736cb4fe3abda76d81a6335311b
Closes-Bug: #1936849
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/805657/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/storage/test_rbd.py'],1,930b7c992156733fbb4f598488605825d62ebc0c,bug/1936849," self.mock_rados.Rados = mock.Mock() self.rados_inst = mock.Mock() self.mock_rados.Rados.return_value = self.rados_inst self.rados_inst.ioctx = mock.Mock() self.rados_inst.connect = mock.Mock() self.rados_inst.shutdown = mock.Mock() self.rados_inst.open_ioctx = mock.Mock() self.rados_inst.open_ioctx.return_value = \ self.rados_inst.ioctx self.rados_inst.connect.assert_called_once_with( self.assertTrue(self.rados_inst.open_ioctx.called) self.assertEqual(self.rados_inst.ioctx, ret[1]) self.rados_inst.open_ioctx.assert_called_with(self.rbd_pool) self.rados_inst.connect.assert_called_once_with( self.assertTrue(self.rados_inst.open_ioctx.called) self.assertEqual(self.rados_inst.ioctx, ret[1]) self.rados_inst.open_ioctx.assert_called_with('alt_pool') self.rados_inst.open_ioctx.side_effect = self.mock_rados.Error self.rados_inst.open_ioctx.assert_called_once_with( self.rados_inst.shutdown.assert_called_once_with() self.rados_inst.open_ioctx.assert_called_with("," self.mock_rados.Rados = mock.Mock self.mock_rados.Rados.ioctx = mock.Mock() self.mock_rados.Rados.connect = mock.Mock() self.mock_rados.Rados.shutdown = mock.Mock() self.mock_rados.Rados.open_ioctx = mock.Mock() self.mock_rados.Rados.open_ioctx.return_value = \ self.mock_rados.Rados.ioctx self.mock_rados.Rados.connect.assert_called_once_with( self.assertTrue(self.mock_rados.Rados.open_ioctx.called) self.assertIsInstance(ret[0], self.mock_rados.Rados) self.assertEqual(self.mock_rados.Rados.ioctx, ret[1]) self.mock_rados.Rados.open_ioctx.assert_called_with(self.rbd_pool) self.mock_rados.Rados.connect.assert_called_once_with( self.assertTrue(self.mock_rados.Rados.open_ioctx.called) self.assertIsInstance(ret[0], self.mock_rados.Rados) self.assertEqual(self.mock_rados.Rados.ioctx, ret[1]) self.mock_rados.Rados.open_ioctx.assert_called_with('alt_pool') self.mock_rados.Rados.open_ioctx.side_effect = self.mock_rados.Error self.mock_rados.Rados.open_ioctx.assert_called_once_with( self.mock_rados.Rados.shutdown.assert_called_once_with() self.mock_rados.Rados.open_ioctx.assert_called_with(",21,21
openstack%2Fnova~stable%2Fvictoria~Iac0e634e66cd4e150a50935cf635f626fc11b70e,openstack/nova,stable/victoria,Iac0e634e66cd4e150a50935cf635f626fc11b70e,api: Align availability zone info with forced host,NEW,2021-07-26 08:32:00.000000000,2021-08-23 22:05:20.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 08:32:00.000000000', 'files': ['nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf235c0ed0a1a867ab1b6e5ff34eaf7a8dee6c55', 'message': ""api: Align availability zone info with forced host\n\nUsers can create a server like so:\n\n  $ openstack server create --availability-zone az:host ...\n\nThis is a historical way to request that an instance be scheduled to a\nspecific host and it causes the scheduler to be bypassed. However, no\nvalidation of this availability zone-host combo takes place. The host\ncould in fact belong to a different availability zone. If it does, we'll\nend up in a very odd situation whereby the RequestSpec record for the\ninstance will record the availability zone requested by the user at\ncreate time, but the Instance record itself will record the availability\nzone of the host on which the instance was scheduled. This leads to even\nmore confusing behavior when we attempt to do something like live\nmigrate the instance since the RequestSpec record, with its original and\npossibly invalid availability zone information, is used. The\n'AvailabilityZoneFilter' will fail an error message like the following:\n\n  Availability Zone 'foo' requested. ... has AZs: bar\n\nbut the 'openstack server list --long' command will show a non-foo value\nfor the availability zone column.\n\nThe solution is simple: when given an availability zone-host combo, make\nsure the availability zone requested matches that of the host (or, more\nspecifically, the host is a member of the host aggregates that form the\navailability zone [1]). If not, simply ignore the requested availability\nzone information in favour of using the availability zone of the host,\nlogging a warning just for record keeping purposes. This is deemed\npreferable to failing with HTTP 400 (Bad Request) since what users are\nreally requesting by using this was to schedule to a specific host: the\navailability zone portion of the request is really irrelevant and just\nan artifact of this legacy mechanism to request hosts. If users wish to\ntruly validate a host-availability zone combo, they can use the 'host'\nfield introduced in microversion 2.74 along with the 'availability_zone'\nfield:\n\n  $ openstack server create --availability-zone az --host host ...\n\n[1] https://docs.openstack.org/nova/latest/admin/aggregates.html\n\nChange-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1934770\n(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)\n(cherry picked from commit 58782403cdaad33856fd59715525cee3c63ee3cf)\n""}]",0,802237,bf235c0ed0a1a867ab1b6e5ff34eaf7a8dee6c55,8,2,1,15334,,,0,"api: Align availability zone info with forced host

Users can create a server like so:

  $ openstack server create --availability-zone az:host ...

This is a historical way to request that an instance be scheduled to a
specific host and it causes the scheduler to be bypassed. However, no
validation of this availability zone-host combo takes place. The host
could in fact belong to a different availability zone. If it does, we'll
end up in a very odd situation whereby the RequestSpec record for the
instance will record the availability zone requested by the user at
create time, but the Instance record itself will record the availability
zone of the host on which the instance was scheduled. This leads to even
more confusing behavior when we attempt to do something like live
migrate the instance since the RequestSpec record, with its original and
possibly invalid availability zone information, is used. The
'AvailabilityZoneFilter' will fail an error message like the following:

  Availability Zone 'foo' requested. ... has AZs: bar

but the 'openstack server list --long' command will show a non-foo value
for the availability zone column.

The solution is simple: when given an availability zone-host combo, make
sure the availability zone requested matches that of the host (or, more
specifically, the host is a member of the host aggregates that form the
availability zone [1]). If not, simply ignore the requested availability
zone information in favour of using the availability zone of the host,
logging a warning just for record keeping purposes. This is deemed
preferable to failing with HTTP 400 (Bad Request) since what users are
really requesting by using this was to schedule to a specific host: the
availability zone portion of the request is really irrelevant and just
an artifact of this legacy mechanism to request hosts. If users wish to
truly validate a host-availability zone combo, they can use the 'host'
field introduced in microversion 2.74 along with the 'availability_zone'
field:

  $ openstack server create --availability-zone az --host host ...

[1] https://docs.openstack.org/nova/latest/admin/aggregates.html

Change-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1934770
(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)
(cherry picked from commit 58782403cdaad33856fd59715525cee3c63ee3cf)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/802237/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",4,bf235c0ed0a1a867ab1b6e5ff34eaf7a8dee6c55,bug/1934770," def _validate_host_availability_zone(context, availability_zone, host): """"""Ensure the host belongs in the availability zone. This is slightly tricky and it's probably worth recapping how host aggregates and availability zones are related before reading. Hosts can belong to zero or more host aggregates, but they will always belong to exactly one availability zone. If the user has set the availability zone key on one of the host aggregates that the host is a member of then the host will belong to this availability zone. If the user has not set the availability zone key on any of the host aggregates that the host is a member of or the host is not a member of any host aggregates, then the host will belong to the default availability zone. Setting the availability zone key on more than one of host aggregates that the host is a member of is an error and will be rejected by the API. Given the above, our host-availability zone check needs to vary behavior based on whether we're requesting the default availability zone or not. If we are not, then we simply ask ""does this host belong to a host aggregate and, if so, do any of the host aggregates have the requested availability zone metadata set"". By comparison, if we *are* requesting the default availability zone then we want to ask the inverse, or ""does this host not belong to a host aggregate or, if it does, is the availability zone information unset (or, naughty naughty, set to the default) for each of the host aggregates"". If both cases, if the answer is no then we warn about the mismatch and then use the actual availability zone of the host to avoid mismatches. :param context: The nova auth request context :param availability_zone: The name of the requested availability zone :param host: The name of the requested host :returns: The availability zone that should actually be used for the request """""" aggregates = objects.AggregateList.get_by_host(context, host=host) if not aggregates: # a host is assigned to the default availability zone if it is not # a member of any host aggregates if availability_zone == CONF.default_availability_zone: return availability_zone LOG.warning( ""Requested availability zone '%s' but forced host '%s' "" ""does not belong to any availability zones; ignoring "" ""requested availability zone to avoid bug #1934770"", availability_zone, host, ) return None # only one host aggregate will have the availability_zone field set so # use the first non-null value host_availability_zone = next( (a.availability_zone for a in aggregates if a.availability_zone), None, ) if availability_zone == host_availability_zone: # if there's an exact match, use what the user requested return availability_zone if ( availability_zone == CONF.default_availability_zone and host_availability_zone is None ): # special case the default availability zone since this won't (or # rather shouldn't) be explicitly stored on any host aggregate return availability_zone # no match, so use the host's availability zone information, if any LOG.warning( ""Requested availability zone '%s' but forced host '%s' "" ""does not belong to this availability zone; overwriting "" ""requested availability zone to avoid bug #1934770"", availability_zone, host, ) return None @staticmethod availability_zone = self._validate_host_availability_zone( context, availability_zone, host)",,217,25
openstack%2Fpython-manilaclient~master~I41852e93fce356549ca0600b02d972742a105a38,openstack/python-manilaclient,master,I41852e93fce356549ca0600b02d972742a105a38,[OSC] Implement Share Services Commands,MERGED,2021-08-18 16:53:54.000000000,2021-08-23 22:04:06.000000000,2021-08-23 22:02:43.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-08-18 16:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/21941e1870ed761275512e4bfdda9042465557b6', 'message': '[OSC] Implement Share Services Commands\n\nIn this patch we add the following openstack share commands:\n\nshare service list\nshare sevice set\n\nmanila service-enable command is implemented as:\nopenstack share service set <hostname> <binary> --enable\n\nmanila service-disable command is implemented as:\nopenstack share service set <hostname> <binary> --disable\n\nPartially-implements: bp openstack-client-support\nChange-Id: I41852e93fce356549ca0600b02d972742a105a38\n'}, {'number': 2, 'created': '2021-08-18 17:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6a9c936bf38d5f337c4c08e67c5eaaa23c2aabea', 'message': '[OSC] Implement Share Services Commands\n\nIn this patch we add the following openstack share commands:\nshare service list\nshare sevice set\n\nmanila service-enable command is implemented as:\nopenstack share service set <hostname> <binary> --enable\n\nmanila service-disable command is implemented as:\nopenstack share service set <hostname> <binary> --disable\n\nPartially-implements: bp openstack-client-support\nChange-Id: I41852e93fce356549ca0600b02d972742a105a38\n'}, {'number': 3, 'created': '2021-08-20 08:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fc0ee9a9b8f31c24cb56a0e5fbb70d8d3281244f', 'message': '[OSC] Implement Share Services Commands\n\nIn this patch we add the following openstack share commands:\nshare service list\nshare sevice set\n\nmanila service-enable command is implemented as:\nopenstack share service set <hostname> <binary> --enable\n\nmanila service-disable command is implemented as:\nopenstack share service set <hostname> <binary> --disable\n\nPartially-implements: bp openstack-client-support\nChange-Id: I41852e93fce356549ca0600b02d972742a105a38\n'}, {'number': 4, 'created': '2021-08-20 14:00:35.000000000', 'files': ['manilaclient/tests/unit/osc/v2/fakes.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/tests/unit/osc/v2/test_services.py', 'manilaclient/osc/v2/services.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fcbcf7521fd1e323c4bc2f528c7654fd9fb02f78', 'message': '[OSC] Implement Share Services Commands\n\nIn this patch we add the following openstack share commands:\nshare service list\nshare sevice set\n\nmanila service-enable command is implemented as:\nopenstack share service set <hostname> <binary> --enable\n\nmanila service-disable command is implemented as:\nopenstack share service set <hostname> <binary> --disable\n\nPartially-implements: bp openstack-client-support\nChange-Id: I41852e93fce356549ca0600b02d972742a105a38\n'}]",21,805058,fcbcf7521fd1e323c4bc2f528c7654fd9fb02f78,20,5,4,31213,,,0,"[OSC] Implement Share Services Commands

In this patch we add the following openstack share commands:
share service list
share sevice set

manila service-enable command is implemented as:
openstack share service set <hostname> <binary> --enable

manila service-disable command is implemented as:
openstack share service set <hostname> <binary> --disable

Partially-implements: bp openstack-client-support
Change-Id: I41852e93fce356549ca0600b02d972742a105a38
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/58/805058/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/osc/v2/fakes.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/tests/unit/osc/v2/test_services.py', 'manilaclient/osc/v2/services.py', 'setup.cfg']",5,21941e1870ed761275512e4bfdda9042465557b6,bp/openstack-client-support, share_service_set = manilaclient.osc.v2.services:SetShareService share_service_list = manilaclient.osc.v2.services:ListShareService,,416,0
openstack%2Fneutron~master~I2bd386e9aaa4d1cf994943b59f82bc24f6424199,openstack/neutron,master,I2bd386e9aaa4d1cf994943b59f82bc24f6424199,Add limitation about QoS min bw for PF less SRIOV platforms,MERGED,2021-06-28 13:00:46.000000000,2021-08-23 21:57:18.000000000,2021-08-23 21:52:59.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-28 13:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b826867d500de46a5b0896e72b7298256acbf5e0', 'message': 'Add limitation about QoS min bw for PF less SRIOV platforms\n\nRelated-Bug: #1915255\nChange-Id: I2bd386e9aaa4d1cf994943b59f82bc24f6424199\n'}, {'number': 2, 'created': '2021-08-19 08:37:51.000000000', 'files': ['doc/source/admin/config-qos-min-bw.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db7887cafd39f3f4d2d634a8ea3732bf4f9bb7dc', 'message': 'Add limitation about QoS min bw for PF less SRIOV platforms\n\nRelated-Bug: #1915255\nChange-Id: I2bd386e9aaa4d1cf994943b59f82bc24f6424199\n'}]",16,798294,db7887cafd39f3f4d2d634a8ea3732bf4f9bb7dc,20,7,2,9708,,,0,"Add limitation about QoS min bw for PF less SRIOV platforms

Related-Bug: #1915255
Change-Id: I2bd386e9aaa4d1cf994943b59f82bc24f6424199
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/798294/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos-min-bw.rst'],1,b826867d500de46a5b0896e72b7298256acbf5e0,bug/1915255,"* There are hardware platforms (e.g.: Cavium ThunderX) where it's possible to have virutal functions which are netdevs which are not associated to a physical function. As bandwidth resource is tracked per physical function, for such hardware the QoS minimum bandwidth rules cannot be supported. Creating a server with ports using such QoS policy targeting such hardware backend will result in NoValidHost error during scheduling. ",,7,0
openstack%2Fneutron-tempest-plugin~master~I267a848d57183ddc39128f12d40b076360dfd3bc,openstack/neutron-tempest-plugin,master,I267a848d57183ddc39128f12d40b076360dfd3bc,Create a 384MB flavor for advance image,MERGED,2021-08-18 16:36:59.000000000,2021-08-23 21:52:52.000000000,2021-08-23 21:52:52.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 16:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2d211b907b30eb132741f01f20acfdf640c635ae', 'message': 'Create a 384MB flavor for advance image\n\nIn order to reduce the CI memory consuption, this patch creates a 384MB\nflavor to replace the 512MB previously used for the advance image\n(Ubuntu 18.04).\n\nFlavor specs:\n- 384MB RAM: aroung 100MB are used when the VM is started.\n- 2GB disk: around 1,1GB are used when the VM is started.\n- 1 VCPU.\n\nChange-Id: I267a848d57183ddc39128f12d40b076360dfd3bc\nPartial-Bug: #1940243\n'}, {'number': 2, 'created': '2021-08-19 09:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/30d3e9f91fb1d4e8c2df1e2355d813b7ad23a5a8', 'message': 'Create a 384MB flavor for advance image\n\nIn order to reduce the CI memory consuption, this patch creates a 384MB\nflavor to replace the 512MB previously used for the advance image\n(Ubuntu 18.04).\n\nFlavor specs:\n- 384MB RAM: aroung 100MB are used when the VM is started.\n- 2GB disk: around 1,1GB are used when the VM is started.\n- 1 VCPU.\n\nChange-Id: I267a848d57183ddc39128f12d40b076360dfd3bc\nPartial-Bug: #1940243\n'}, {'number': 3, 'created': '2021-08-19 13:33:26.000000000', 'files': ['zuul.d/master_jobs.yaml', 'devstack/plugin.sh', 'zuul.d/base.yaml', 'devstack/functions.sh', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/79c679683dd93c1df412f81533af6bf72e2395d0', 'message': 'Create a 384MB flavor for advance image\n\nIn order to reduce the CI memory consuption, this patch creates a 384MB\nflavor to replace the 512MB previously used for the advance image\n(Ubuntu 18.04).\n\nFlavor specs:\n- 384MB RAM: aroung 100MB are used when the VM is started.\n- 4GB disk: around 1,1GB are used when the VM is started.\n- 1 VCPU.\n\nChange-Id: I267a848d57183ddc39128f12d40b076360dfd3bc\nPartial-Bug: #1940243\n'}]",4,805057,79c679683dd93c1df412f81533af6bf72e2395d0,22,4,3,16688,,,0,"Create a 384MB flavor for advance image

In order to reduce the CI memory consuption, this patch creates a 384MB
flavor to replace the 512MB previously used for the advance image
(Ubuntu 18.04).

Flavor specs:
- 384MB RAM: aroung 100MB are used when the VM is started.
- 4GB disk: around 1,1GB are used when the VM is started.
- 1 VCPU.

Change-Id: I267a848d57183ddc39128f12d40b076360dfd3bc
Partial-Bug: #1940243
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/57/805057/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'devstack/plugin.sh', 'devstack/functions.sh']",3,2d211b907b30eb132741f01f20acfdf640c635ae,bug/1940243, function create_flavor_for_advance_image { local name=$1 local ram=$2 local disk=$3 local vcpus=$4 openstack flavor create --ram $ram --disk $disk --vcpus $vcpus $name },,12,1
openstack%2Fneutron~stable%2Fussuri~I3caf131041a852671a556b064c641fe34f8f5ed0,openstack/neutron,stable/ussuri,I3caf131041a852671a556b064c641fe34f8f5ed0,Trivial: check if ipv6 is available for IptablesManager,MERGED,2021-08-13 08:32:39.000000000,2021-08-23 21:37:47.000000000,2021-08-23 21:36:06.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-13 08:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3cfcf8867f5f79979aca03b152ba95d6a31cf49', 'message': 'Trivial: check if ipv6 is available for IptablesManager\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n\nTo resolve conflict, rearrange alphabetically the imports from\noslo_utils.\n\nChange-Id: I3caf131041a852671a556b064c641fe34f8f5ed0\nCloses-Bug: #1915480\n(cherry picked from commit 6cf71cbd6a71b4849470874379877c7ca2a8fc25)\n'}, {'number': 2, 'created': '2021-08-13 08:36:10.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6a6065f9f90f83f80e3a3a997bf382b38763b29', 'message': 'Trivial: check if ipv6 is available for IptablesManager\n\nConflicts:\n\tneutron/agent/ovn/metadata/agent.py\n\nTo resolve conflict, rearrange alphabetically the imports from\noslo_utils.\n\nChange-Id: I3caf131041a852671a556b064c641fe34f8f5ed0\nCloses-Bug: #1915480\n(cherry picked from commit 6cf71cbd6a71b4849470874379877c7ca2a8fc25)\n'}]",0,804496,b6a6065f9f90f83f80e3a3a997bf382b38763b29,14,4,2,33673,,,0,"Trivial: check if ipv6 is available for IptablesManager

Conflicts:
	neutron/agent/ovn/metadata/agent.py

To resolve conflict, rearrange alphabetically the imports from
oslo_utils.

Change-Id: I3caf131041a852671a556b064c641fe34f8f5ed0
Closes-Bug: #1915480
(cherry picked from commit 6cf71cbd6a71b4849470874379877c7ca2a8fc25)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/804496/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/dhcp.py']",2,a3cfcf8867f5f79979aca03b152ba95d6a31cf49,," iptables_mgr = iptables_manager.IptablesManager( use_ipv6=netutils.is_ipv6_enabled(), nat=False, namespace=namespace)"," iptables_mgr = iptables_manager.IptablesManager(use_ipv6=True, nat=False, namespace=namespace)",6,4
openstack%2Fneutron~stable%2Fwallaby~I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7,openstack/neutron,stable/wallaby,I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7,Add missing options to generated neutron.conf,MERGED,2021-08-21 08:14:12.000000000,2021-08-23 21:21:54.000000000,2021-08-23 21:19:59.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 08:14:12.000000000', 'files': ['etc/oslo-config-generator/neutron.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb1682a3e1fe0621c6e7205d658344873905e5e0', 'message': 'Add missing options to generated neutron.conf\n\nThis change adds missing oslo.config.opts endpoints to the config file\nto generated neutron.conf, so that the following options are included\nin the neutron.conf generated by the oslo-config-generator command.\n\n1) Some options of the oslo.service library, related to periodic tasks\n   and base service implementation\n\n2) Options of the oslo.reports library\n\n3) Options of the healthcheck middleware from oslo.middleware\n\nCloses-Bug: #1940009\nChange-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7\n(cherry picked from commit c75df16e5021e28aaa9961ed0977f30fa278a1dc)\n'}]",0,805289,fb1682a3e1fe0621c6e7205d658344873905e5e0,12,3,1,9816,,,0,"Add missing options to generated neutron.conf

This change adds missing oslo.config.opts endpoints to the config file
to generated neutron.conf, so that the following options are included
in the neutron.conf generated by the oslo-config-generator command.

1) Some options of the oslo.service library, related to periodic tasks
   and base service implementation

2) Options of the oslo.reports library

3) Options of the healthcheck middleware from oslo.middleware

Closes-Bug: #1940009
Change-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7
(cherry picked from commit c75df16e5021e28aaa9961ed0977f30fa278a1dc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/805289/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/neutron.conf'],1,fb1682a3e1fe0621c6e7205d658344873905e5e0,bug/1940009,namespace = oslo.middleware.healthchecknamespace = oslo.reports namespace = oslo.service.periodic_task namespace = oslo.service.service,,4,0
openstack%2Fglance~master~Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1,openstack/glance,master,Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1,"Check deactivate, reactivate policy in the API",MERGED,2021-06-28 09:06:27.000000000,2021-08-23 21:21:43.000000000,2021-08-23 21:20:12.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 09:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f0f987a557c2bd97070b0ca32cea3e8256041992', 'message': 'WIP: Check deactivate, reactivate policy in the API\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 2, 'created': '2021-06-28 17:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dcd1c7c01bfc80326f80261ca13b84a20693a268', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 3, 'created': '2021-07-02 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3ef30265d7a67f8da94e8d67256ec6ef7eb7598c', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 4, 'created': '2021-07-02 15:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f6e12cc6ef355884a2b85d1a1a154cd3bb2205fe', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 5, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/739c0d46d64927b0ae9c7b6c0ab4dc1b325d92ab', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 6, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a3db67da1332634602d79f4efe600d5ae9591e0', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 7, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e29cc0615727d4f307540d75d8926dddcda4022a', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 8, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/944c2f28f64d958a309ca5840fb9ed3277a8da55', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 9, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d748041deee2e698aaf04a516923a54a69c95e76', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 10, 'created': '2021-07-16 17:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6f4792edc400ab82459fce705e32ecf4e2d4f309', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 11, 'created': '2021-07-16 18:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9c97b5534faaefc2008cd271b35f3129e07b4bc', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 12, 'created': '2021-07-19 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f0160f98c09fd5f03c25a5c54934c0a6b38701fc', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 13, 'created': '2021-07-20 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/239459ebf9601197a27e0ff5e2cb037bd1140fad', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 14, 'created': '2021-07-20 18:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b0c284f188511a6c413af145532b98d94391b1db', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 15, 'created': '2021-07-26 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de88cfc0b6fa58b36c9d933e9fccaa01de94cba0', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 16, 'created': '2021-07-27 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a12c8a1812b676c35f13976f4ac37f9f247b12a4', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 17, 'created': '2021-07-28 15:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d874e5cfdbda8b3be4a56f7b44caab47561fb1b6', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 18, 'created': '2021-08-02 17:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cdad90f71629486b0ffcf44f05bee4ecf1aca1fa', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 19, 'created': '2021-08-03 18:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e9fc49596b8e3fb7046ffd82205f32420690dbc6', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 20, 'created': '2021-08-03 18:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b385ec2964c396bb781c40033767894119a75465', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 21, 'created': '2021-08-03 18:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/748eec2ac5ea78675cb467e1edc363dc66111079', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 22, 'created': '2021-08-03 18:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0fd2bafa18ef2992f98af0cd8c4093839fb69cd9', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 23, 'created': '2021-08-06 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d5b56a55957f6c9ffc85d0eb0cd2f7fdc801a0a4', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 24, 'created': '2021-08-06 16:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e922f92f1af9fdd0e6274c73aea263148cfe416', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 25, 'created': '2021-08-10 14:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18c8bd049091948c1ba63fae608f57f836d39419', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 26, 'created': '2021-08-10 15:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4d5585510790a5a7882615cc4c33bf198e206c4e', 'message': 'POC: Check deactivate, reactivate policy in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nNOTE: This includes a default non-RBAC policy change, which is\nrequired to make the de/reactivate policy check actually useful.\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 27, 'created': '2021-08-17 16:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ed19540d2acadd3c28f64af8112ad55ad211f87b', 'message': 'Check deactivate, reactivate policy in the API\n\nMove deactivate/reactivate policy changes in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 28, 'created': '2021-08-19 16:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/662d7700f48b37f1ed32c7bb254ff90b6a63b382', 'message': 'Check deactivate, reactivate policy in the API\n\nMove deactivate/reactivate policy changes in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 29, 'created': '2021-08-20 05:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e1808c008e4843b05b491033344b957efe9bef8b', 'message': 'Check deactivate, reactivate policy in the API\n\nMove deactivate/reactivate policy changes in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}, {'number': 30, 'created': '2021-08-23 06:20:52.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/image_actions.py', 'glance/tests/functional/__init__.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/82111150d603d8a445876afbfce67b47aee39bf7', 'message': 'Check deactivate, reactivate policy in the API\n\nMove deactivate/reactivate policy changes in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1\n'}]",10,798266,82111150d603d8a445876afbfce67b47aee39bf7,84,4,30,9303,,,0,"Check deactivate, reactivate policy in the API

Move deactivate/reactivate policy changes in API layer.

Partially-Implements: blueprint policy-refactor

Change-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/798266/15 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_actions.py', 'glance/api/v2/policy.py', 'glance/tests/etc/policy.yaml']",3,f0f987a557c2bd97070b0ca32cea3e8256041992,policy-refactor,"""deactivate"": ""role:admin or (role:member and project_id:%(project_id)s)""""reactivate"": ""role:admin or (role:member and project_id:%(project_id)s)""","""deactivate"": """"""reactivate"": """"",33,4
openstack%2Fopenstacksdk~master~Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5,openstack/openstacksdk,master,Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5,Fix key generation for caching,MERGED,2021-08-13 14:49:43.000000000,2021-08-23 21:21:40.000000000,2021-08-23 21:20:02.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-08-13 14:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e45347202f0c72abdc4522deab97b098c1d38f19', 'message': 'Fix key generation for caching\n\nWith a new major version of decorate, the list of args may be empty or\ncontain a non-str element, ignore those.\n\nTask: 43007\nChange-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5\n'}, {'number': 2, 'created': '2021-08-20 07:45:09.000000000', 'files': ['openstack/cloud/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d0d4d8bc64da62dc8338e307b4f736cd0b1f5f49', 'message': 'Fix key generation for caching\n\nWith a new major version of decorate, the list of args may be non-empty\nfor the first time, exposing some issue in our handling. Ignore them\nfor now in order to unblock gating.\n\nTask: 43007\nChange-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5\n'}]",2,804530,d0d4d8bc64da62dc8338e307b4f736cd0b1f5f49,17,6,2,13252,,,0,"Fix key generation for caching

With a new major version of decorate, the list of args may be non-empty
for the first time, exposing some issue in our handling. Ignore them
for now in order to unblock gating.

Task: 43007
Change-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/804530/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/openstackcloud.py'],1,e45347202f0c72abdc4522deab97b098c1d38f19,adapt-decorate," if args and isinstance(args[0], str): arg_key = ','.join(args) else: arg_key = ''"," arg_key = ','.join(args)",4,1
openstack%2Fpython-openstackclient~master~I0bbffbec8889b8b3067cfe17d258f5cb16624f38,openstack/python-openstackclient,master,I0bbffbec8889b8b3067cfe17d258f5cb16624f38,Replace assertItemsEqual with assertCountEqual,MERGED,2021-05-03 20:08:01.000000000,2021-08-23 21:21:38.000000000,2021-08-23 21:20:16.000000000,"[{'_account_id': 7634}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 16282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 20:08:01.000000000', 'files': ['openstackclient/tests/unit/volume/v1/test_volume_backup.py', 'openstackclient/tests/unit/network/v2/test_ip_availability.py', 'openstackclient/tests/unit/network/v2/test_security_group_compute.py', 'openstackclient/tests/unit/volume/v2/test_type.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/volume/v1/test_type.py', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_catalog.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/network/v2/test_router.py', 'openstackclient/tests/unit/volume/v1/test_volume.py', 'openstackclient/tests/unit/volume/v2/test_consistency_group.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/tests/unit/identity/v3/test_catalog.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/tests/unit/volume/v2/test_volume_snapshot.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_user.py', 'openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/tests/unit/identity/v3/test_identity_provider.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/identity/v2_0/test_project.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e82a05864f482acc485d1bd35a4db23452f8b2ac', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I0bbffbec8889b8b3067cfe17d258f5cb16624f38\n""}]",0,789410,e82a05864f482acc485d1bd35a4db23452f8b2ac,15,5,1,6593,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I0bbffbec8889b8b3067cfe17d258f5cb16624f38
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/10/789410/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v1/test_volume_backup.py', 'openstackclient/tests/unit/network/v2/test_ip_availability.py', 'openstackclient/tests/unit/network/v2/test_security_group_compute.py', 'openstackclient/tests/unit/volume/v2/test_type.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/volume/v1/test_type.py', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_catalog.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/network/v2/test_router.py', 'openstackclient/tests/unit/volume/v1/test_volume.py', 'openstackclient/tests/unit/volume/v2/test_consistency_group.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/tests/unit/identity/v3/test_catalog.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/tests/unit/volume/v2/test_volume_snapshot.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_user.py', 'openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/tests/unit/identity/v3/test_identity_provider.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/identity/v2_0/test_project.py']",32,e82a05864f482acc485d1bd35a4db23452f8b2ac,," self.assertCountEqual(datalist, data)"," self.assertItemsEqual(datalist, data)",292,292
openstack%2Fopenstack-tempest-skiplist~master~Ib175637391e57a5cb56e6b4cbe70e09cbfe4b516,openstack/openstack-tempest-skiplist,master,Ib175637391e57a5cb56e6b4cbe70e09cbfe4b516,Skip TestSnapshotPattern and TestVolumeBootPattern,MERGED,2021-08-23 20:58:33.000000000,2021-08-23 21:14:38.000000000,2021-08-23 21:13:16.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 20:58:33.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/b3aabb3d7beb63a5e67ea776fadd8f1cf470927f', 'message': 'Skip TestSnapshotPattern and TestVolumeBootPattern\n\nAs described in bug #1940866, these tests are frequently failing,\nso we are moving them to skiplist to unblock the following jobs:\n - tripleo-ci-centos-8-scenario001-standalone\n - periodic-tripleo-ci-centos-8-scenario001-standalone-master\n - periodic-tripleo-ci-centos-8-scenario001-standalone-wallaby\n\nRelated-Bug: #1940866\nChange-Id: Ib175637391e57a5cb56e6b4cbe70e09cbfe4b516\n'}]",0,805708,b3aabb3d7beb63a5e67ea776fadd8f1cf470927f,8,3,1,30002,,,0,"Skip TestSnapshotPattern and TestVolumeBootPattern

As described in bug #1940866, these tests are frequently failing,
so we are moving them to skiplist to unblock the following jobs:
 - tripleo-ci-centos-8-scenario001-standalone
 - periodic-tripleo-ci-centos-8-scenario001-standalone-master
 - periodic-tripleo-ci-centos-8-scenario001-standalone-wallaby

Related-Bug: #1940866
Change-Id: Ib175637391e57a5cb56e6b4cbe70e09cbfe4b516
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/08/805708/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,b3aabb3d7beb63a5e67ea776fadd8f1cf470927f,skip_volume_boot_pattern, - test: tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern deployment: - 'overcloud' releases: - name: master reason: Unexpected response code received from nova-api - Service Unavailable lp: https://bugs.launchpad.net/tripleo/+bug/1940866 - name: wallaby reason: Unexpected response code received from nova-api - Service Unavailable lp: https://bugs.launchpad.net/tripleo/+bug/1940866 jobs: - tripleo-ci-centos-8-scenario001-standalone - periodic-tripleo-ci-centos-8-scenario001-standalone-master - periodic-tripleo-ci-centos-8-scenario001-standalone-wallaby - test: tempest.scenario.test_snapshot_pattern.TestSnapshotPattern deployment: - 'overcloud' releases: - name: master reason: Glance connection failed lp: https://bugs.launchpad.net/tripleo/+bug/1940866 - name: wallaby reason: Glance connection failed lp: https://bugs.launchpad.net/tripleo/+bug/1940866 jobs: - tripleo-ci-centos-8-scenario001-standalone - periodic-tripleo-ci-centos-8-scenario001-standalone-master - periodic-tripleo-ci-centos-8-scenario001-standalone-wallaby,,28,0
openstack%2Freleases~master~Icad356b7c9df113989f8a38c3905f9954b1d3748,openstack/releases,master,Icad356b7c9df113989f8a38c3905f9954b1d3748,[oslo] Transition Ocata to End of Life,MERGED,2021-08-13 08:11:15.000000000,2021-08-23 20:58:24.000000000,2021-08-23 20:58:24.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-13 08:11:15.000000000', 'files': ['deliverables/ocata/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ad5816f2060e9567ac207575029f202670e78b70', 'message': ""[oslo] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Icad356b7c9df113989f8a38c3905f9954b1d3748\n""}]",0,804492,ad5816f2060e9567ac207575029f202670e78b70,8,3,1,17685,,,0,"[oslo] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Icad356b7c9df113989f8a38c3905f9954b1d3748
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/804492/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/castellan.yaml'],1,ad5816f2060e9567ac207575029f202670e78b70,ocata-eol,--- launchpad: castellan team: oslo type: library release-model: cycle-with-intermediary releases: - version: ocata-eol projects: - repo: openstack/castellan hash: ca3ac4a6b7e5167863caca17d28eacb0ec0a178f repository-settings: openstack/castellan: {} ,,12,0
openstack%2Freleases~master~If894ff6d4cddcc7aec3ef9254113469e2c92b099,openstack/releases,master,If894ff6d4cddcc7aec3ef9254113469e2c92b099,Release final oslo.messaging for Xena,MERGED,2021-08-16 09:53:19.000000000,2021-08-23 20:53:14.000000000,2021-08-23 20:53:14.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:53:19.000000000', 'files': ['deliverables/xena/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4fd9c444ca57917341d775b948f1821db3236905', 'message': 'Release final oslo.messaging for Xena\n\nThis proposed a release for oslo.messaging to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 12.8.0..ee5eed86\nbdbb6d62 Add Support For oslo.metrics\n3e589edd Changed minversion in tox to 3.18.0\nc1f9fbea Upgrade the pre-commit-hooks version\ndaca2549 setup.cfg: Replace dashes with underscores\n39826f06 Remove the oslo_utils.fnmatch\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: If894ff6d4cddcc7aec3ef9254113469e2c92b099\n'}]",0,804677,4fd9c444ca57917341d775b948f1821db3236905,11,3,1,28522,,,0,"Release final oslo.messaging for Xena

This proposed a release for oslo.messaging to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 12.8.0..ee5eed86
bdbb6d62 Add Support For oslo.metrics
3e589edd Changed minversion in tox to 3.18.0
c1f9fbea Upgrade the pre-commit-hooks version
daca2549 setup.cfg: Replace dashes with underscores
39826f06 Remove the oslo_utils.fnmatch

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: If894ff6d4cddcc7aec3ef9254113469e2c92b099
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/804677/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.messaging.yaml'],1,4fd9c444ca57917341d775b948f1821db3236905,xena-final-non-client-libs, - version: 12.9.0 projects: - repo: openstack/oslo.messaging hash: ee5eed86549b695255d7a9f313a59290604e6212,,4,0
openstack%2Freleases~master~Ia50cd1dd931e2ab21899f40dc1d30c346f0f1ed0,openstack/releases,master,Ia50cd1dd931e2ab21899f40dc1d30c346f0f1ed0,[barbican] Propose to switch the release model,MERGED,2021-08-02 14:35:45.000000000,2021-08-23 20:51:34.000000000,2021-08-23 20:51:34.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 14:35:45.000000000', 'files': ['deliverables/xena/ansible-role-thales-hsm.yaml', 'deliverables/xena/ansible-role-lunasa-hsm.yaml', 'deliverables/xena/ansible-role-atos-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/93679be2fd985ad7a9f6b7f5072e4c9013b0531c', 'message': '[barbican] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: Ia50cd1dd931e2ab21899f40dc1d30c346f0f1ed0\n'}]",0,803216,93679be2fd985ad7a9f6b7f5072e4c9013b0531c,11,5,1,28522,,,0,"[barbican] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: Ia50cd1dd931e2ab21899f40dc1d30c346f0f1ed0
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/803216/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/ansible-role-thales-hsm.yaml', 'deliverables/xena/ansible-role-lunasa-hsm.yaml', 'deliverables/xena/ansible-role-atos-hsm.yaml']",3,93679be2fd985ad7a9f6b7f5072e4c9013b0531c,not-yet-released,release-model: cycle-with-rc,release-model: cycle-with-intermediary,3,3
openstack%2Fnova~stable%2Fwallaby~I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,openstack/nova,stable/wallaby,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,NEW,2021-05-27 09:54:41.000000000,2021-08-23 20:44:12.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 09:54:41.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a2791fb5d2ae30d2861c2f04627eb48df01a30e7', 'message': 'image_meta: Provide image_ref as the id when fetching from instance\n\nAt present various users of instance.image_meta expect it to be a fully\npopulated ImageMeta object. However when the instance is pulled from the\ndatabase the ImageMeta object is only partially populated via\ninstance.system_metadata with a limited set of attributes such as\nmin_ram, min_disk, disk_format and container_format. This can result in\nNotImplementedErrors being raised by o.vo as seen in bug #1928063 when\nan attempt is made to access common attributes such as id or name.\n\nTo avoid this the id is now provided by instance.image_ref when\navailable.\n\nThe majority of the change is test fallout and ensuring that valid UUIDs\nare provided as instance.image_ref and used by instance.image_meta.\n\nRelated-Bug: #1928063\nChange-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea\n(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)\n'}]",0,793354,a2791fb5d2ae30d2861c2f04627eb48df01a30e7,13,2,1,10135,,,0,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/793354/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/objects/test_instance.py']",12,a2791fb5d2ae30d2861c2f04627eb48df01a30e7,bug/1928063," db_inst['image_ref'] = uuids.image_ref 'image_id': uuids.image_id, inst = instance.Instance.get_by_uuid( self.context, fake_inst['uuid'], expected_attrs=['image_meta']) self.assertEqual(uuids.image_ref, image_meta.id)"," inst = instance.Instance.get_by_uuid(self.context, fake_inst['uuid'], expected_attrs=['image_meta'])",149,105
openstack%2Freleases~master~Ib225dd8ed32fbd609152cf01a1260060fda1e5b2,openstack/releases,master,Ib225dd8ed32fbd609152cf01a1260060fda1e5b2,Release final os-brick for Xena,MERGED,2021-08-16 09:41:41.000000000,2021-08-23 20:41:52.000000000,2021-08-23 20:41:52.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 09:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/943ebd132d1ba0c73f645534f026186cc7e8db6e', 'message': 'Release final os-brick for Xena\n\nThis proposed a release for os-brick to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 4.4.0..1351607\n80f0bc4 LVM: Retry lv calls on segfault due to lvs failure\n98c0916 Update mypy infrastructure\ncb25b6f Drop lower-constraints jobs\nbdfe6b4 linuxscsi: Only raise and log multipathd errors when required\na6f1a93 Remove skip_missing_interpreters\n4c654d9 encryptors: Remove workaround for bug #1633518\n37d57c4 NVMe-oF: Return right nqn when missing hostnqn\n438e7f2 zuul: add mypy experimental job\n496c722 Ussuri+ is python3 only\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2\n'}, {'number': 2, 'created': '2021-08-22 15:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ad37030322e2c66255f0009149cc4b612dcdbfc6', 'message': 'Release final os-brick for Xena\n\nRelease os-brick 4.4.1 and cut the stable/xena branch.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2\n'}, {'number': 3, 'created': '2021-08-23 08:04:37.000000000', 'files': ['deliverables/xena/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/498dcdb217d1cb9b6d77f8e3befc9ea2e6a3d4ac', 'message': 'Release final os-brick for Xena\n\nRelease os-brick 5.0.0 and cut the stable/xena branch.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2\n'}]",1,804670,498dcdb217d1cb9b6d77f8e3befc9ea2e6a3d4ac,18,4,3,28522,,,0,"Release final os-brick for Xena

Release os-brick 5.0.0 and cut the stable/xena branch.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/804670/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/os-brick.yaml'],1,943ebd132d1ba0c73f645534f026186cc7e8db6e,xena-final-non-client-libs, - version: 4.4.1 projects: - repo: openstack/os-brick hash: 13516073d54058807432cd7dda88fb6ffc367c6e,,4,0
openstack%2Freleases~master~I0af4b15e95d2b2cbcec01bd3f99ca578d0006740,openstack/releases,master,I0af4b15e95d2b2cbcec01bd3f99ca578d0006740,[barbican-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:06:39.000000000,2021-08-23 20:41:50.000000000,2021-08-23 20:41:50.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-17 00:06:39.000000000', 'files': ['deliverables/xena/barbican-tempest-plugin.yaml', 'deliverables/train/barbican-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e2ac58fb1fe4d6c0c26a8ace9ab6f6d912a64839', 'message': ""[barbican-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I0af4b15e95d2b2cbcec01bd3f99ca578d0006740\n""}]",1,801167,e2ac58fb1fe4d6c0c26a8ace9ab6f6d912a64839,13,5,1,8556,,,0,"[barbican-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I0af4b15e95d2b2cbcec01bd3f99ca578d0006740
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/801167/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/barbican-tempest-plugin.yaml', 'deliverables/train/barbican-tempest-plugin.yaml']",2,e2ac58fb1fe4d6c0c26a8ace9ab6f6d912a64839,train-last, - version: train-last projects: - repo: openstack/barbican-tempest-plugin hash: 25e16b8a0f36fbfee8fcccd6926682f0958bcc8d,,9,0
openstack%2Ftempest~master~I8bec628a07a4e555a95d542c87fa76f6c464f1d9,openstack/tempest,master,I8bec628a07a4e555a95d542c87fa76f6c464f1d9,Updating NON_ACTIVE_LIST,MERGED,2021-06-16 15:23:19.000000000,2021-08-23 20:30:22.000000000,2021-08-23 20:28:54.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-16 15:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d92435ddd6e327b20c9d98bcccc3430c36ba3c2f', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,neutron-dynamic-routing neutron-vpnaas,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 2, 'created': '2021-06-16 18:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1e42ff2d660cc37c94d96494313540dcaa68c4a', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,neutron-dynamic-routing ,neutron-vpnaas,tap-as-a-service are removed from NON- ACTIVE-LIST,these\n projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 3, 'created': '2021-06-16 18:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/95e9d48a6864d8e798255591f410636f6b08bfe4', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,neutron-dynamic-routing ,neutron-vpnaas,tap-as-a-service are removed from NON- ACTIVE-LIST,these\n projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 4, 'created': '2021-06-17 05:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/433d1bc8e087aadbedf72697da0c3e05a05d8fca', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,neutron-dynamic-routing ,neutron-vpnaas,tap-as-a-service are removed from NON- ACTIVE-LIST,these\n projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 5, 'created': '2021-07-02 15:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/077a7a7eb397459eddf13c867c5acc1d60e0ec74', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 6, 'created': '2021-07-08 05:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/623579dabc7342553639843977fee8db1e9d217b', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 7, 'created': '2021-07-08 07:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f058ce440bbc27906e5e25ff79aa002ddd88a9e4', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 8, 'created': '2021-07-08 15:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e042a5f8cf4b91e1e6aa201294861687f7a4fbbb', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 9, 'created': '2021-07-08 17:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a5d4943ce21567ef21064d47f106ce1fce2bb4c', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 10, 'created': '2021-07-08 17:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fd26ab65a33df8a9d5e3c34c015732d0ce7accf', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 11, 'created': '2021-07-09 17:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3289ff0c687febd0eefd1e3679fb1595aa0f7a7', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 12, 'created': '2021-07-09 18:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c34c2bd44defbb9d32051070a95a3094ce39f81', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 13, 'created': '2021-07-09 19:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/871557e9ddc16793560c2615c2c4282ef867f200', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 14, 'created': '2021-07-10 07:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0944099aadb53a1d9368795d029440e43d002ac6', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 15, 'created': '2021-07-10 17:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b33832548cb98206b12b50926c1bf1395aa1e50', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 16, 'created': '2021-07-12 13:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca96a418e03510bae324a953061956e02f185288', 'message': 'Updating NON_ACTIVE_LIST\n\n*glare,intel-nfv-ci-tests,networking-l2gw-tempest-plugin,tap-as-a-service,vmware-nsx-tempest-plugin are removed from NON- ACTIVE-LIST,these projects should pass sanity job now\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 17, 'created': '2021-08-09 12:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/42b8b3208bb9fe52c6f8e340d305fe7c531fe8c4', 'message': 'Updating NON_ACTIVE_LIST\n\n*vmware-nsx-tempest-plugin is removed from NON-ACTIVE-LIST as it is passing sani ty checks\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 18, 'created': '2021-08-09 12:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a2076bde9b68bc98bdb748e370ecac56e0bdcde8', 'message': 'Updating NON_ACTIVE_LIST\n\n*vmware-nsx-tempest-plugin is removed from NON-ACTIVE-LIST as it is passing sanity checks\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 19, 'created': '2021-08-12 09:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dadb8138d52e5c88439ea8f231ee49d43529ea38', 'message': 'Updating NON_ACTIVE_LIST\n\n*vmware-nsx-tempest-plugin is removed from NON-ACTIVE-LIST as it is passing sanity checks\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}, {'number': 20, 'created': '2021-08-16 13:38:36.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f36272029ece166254acc2221fb678ac5e09b19e', 'message': 'Updating NON_ACTIVE_LIST\n\n*vmware-nsx-tempest-plugin,networking-l2gw-tempest-plugin\n x/tap-as-a-service are removed from the list\n\n*Updating comments for required projects\n\nChange-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9\n'}]",15,796698,f36272029ece166254acc2221fb678ac5e09b19e,47,3,20,33379,,,0,"Updating NON_ACTIVE_LIST

*vmware-nsx-tempest-plugin,networking-l2gw-tempest-plugin
 x/tap-as-a-service are removed from the list

*Updating comments for required projects

Change-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/796698/5 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,d92435ddd6e327b20c9d98bcccc3430c36ba3c2f,," 'x/group-based-policy', # https://bugs.launchpad.net/group-based-policy/+bug/1931091 'openstack/networking-generic-switch', # https://review.opendev.org/#/c/634846/ 'x/networking-plumgrid', # Is no longer maintained 'x/networking-spp', # To avoid sanity-job failure 'x/valet', # valet is unmaintained now 'x/kingbird', # kingbird is unmaintained now 'x/mogan', # mogan is unmaintained now, remove from the list when this is merged: # https://review.opendev.org/c/x/mogan/+/767718"," 'x/glare', # To avoid sanity-job failure 'x/group-based-policy', # It looks this doesn't support python3 yet. 'x/intel-nfv-ci-tests', # https://review.opendev.org/#/c/634640/ 'openstack/networking-generic-switch', # https://review.opendev.org/#/c/634846/ 'x/networking-l2gw-tempest-plugin', # https://review.opendev.org/#/c/635093/ 'openstack/networking-midonet', # https://review.opendev.org/#/c/635096/ 'x/networking-plumgrid', # https://review.opendev.org/#/c/635096/ 'x/networking-spp', # https://review.opendev.org/#/c/635098/ 'openstack/neutron-dynamic-routing', # https://review.opendev.org/#/c/637718/ 'openstack/neutron-vpnaas', # https://review.opendev.org/#/c/637719/ 'x/tap-as-a-service', # To avoid sanity-job failure 'x/valet', # https://review.opendev.org/#/c/638339/ 'x/kingbird', # https://bugs.launchpad.net/kingbird/+bug/1869722 # vmware-nsx is excluded since https://review.opendev.org/#/c/736952 'x/vmware-nsx-tempest-plugin', # mogan is unmaintained now, remove from the list when this is merged: # https://review.opendev.org/c/x/mogan/+/767718 'x/mogan',",8,21
openstack%2Fopenstack-helm~master~Idb4b992b4061f4a014570b7933a585df1a096299,openstack/openstack-helm,master,Idb4b992b4061f4a014570b7933a585df1a096299,Added helm.sh/hook annotations for jobs in glance chart.,MERGED,2021-03-17 12:46:25.000000000,2021-08-23 20:02:35.000000000,2021-08-23 20:01:01.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 30449}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-03-17 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dba596f49ffe395f8c1f85f719b7f7891f65ab60', 'message': 'Added helm.sh/hook annotations for jobs in glance chart.\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone and neutron, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: Idb4b992b4061f4a014570b7933a585df1a096299\n'}, {'number': 2, 'created': '2021-03-18 03:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce5f59340e4be2f7cb328506814a1998c908c324', 'message': 'Added helm.sh/hook annotations for jobs in glance chart.\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone and neutron, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: Idb4b992b4061f4a014570b7933a585df1a096299\n'}, {'number': 3, 'created': '2021-03-23 08:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/80e93f0faa4d3605a1d112f2c42ea973b575dc95', 'message': 'Added helm.sh/hook annotations for jobs in glance chart.\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone and neutron, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: Idb4b992b4061f4a014570b7933a585df1a096299\n'}, {'number': 4, 'created': '2021-03-29 08:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dbd2c2a1a08134a6865474bce519f6397505e884', 'message': 'Added helm.sh/hook annotations for jobs in glance chart.\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, just like keystone and neutron, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: Idb4b992b4061f4a014570b7933a585df1a096299\n'}, {'number': 5, 'created': '2021-08-18 11:53:37.000000000', 'files': ['glance/templates/job-image-repo-sync.yaml', 'releasenotes/notes/glance.yaml', 'glance/templates/job-ks-user.yaml', 'glance/templates/job-db-init.yaml', 'glance/templates/job-storage-init.yaml', 'glance/values.yaml', 'glance/templates/job-metadefs-load.yaml', 'glance/templates/job-bootstrap.yaml', 'glance/templates/job-ks-endpoints.yaml', 'glance/Chart.yaml', 'glance/templates/job-ks-service.yaml', 'glance/templates/job-rabbit-init.yaml', 'glance/templates/job-db-sync.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30fbdb6748c5b19d4b4d1ff7124598113aab1cc6', 'message': 'Added helm.sh/hook annotations for jobs in glance chart.\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. So, we have added the helm.sh/hook annotations with post-install and post-upgrade values. As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like, db-init jobs need to run before db-sync and so on. Also helm3_hook value is introduced in values.yaml, which can be used to disable helm hook if needed.\n\nChange-Id: Idb4b992b4061f4a014570b7933a585df1a096299\n'}]",3,781091,30fbdb6748c5b19d4b4d1ff7124598113aab1cc6,33,10,5,33130,,,0,"Added helm.sh/hook annotations for jobs in glance chart.

Chart upgrading was failing due to some immutable fields in job are needed to upgrade. So, we have added the helm.sh/hook annotations with post-install and post-upgrade values. As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like, db-init jobs need to run before db-sync and so on. Also helm3_hook value is introduced in values.yaml, which can be used to disable helm hook if needed.

Change-Id: Idb4b992b4061f4a014570b7933a585df1a096299
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/781091/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/job-image-repo-sync.yaml', 'releasenotes/notes/glance.yaml', 'glance/templates/job-ks-user.yaml', 'glance/templates/job-db-init.yaml', 'glance/templates/job-storage-init.yaml', 'glance/templates/job-metadefs-load.yaml', 'glance/templates/job-bootstrap.yaml', 'glance/templates/job-ks-endpoints.yaml', 'glance/Chart.yaml', 'glance/templates/job-ks-service.yaml', 'glance/templates/job-rabbit-init.yaml', 'glance/templates/job-db-sync.yaml']",12,dba596f49ffe395f8c1f85f719b7f7891f65ab60,glance-annotations,"{{- define ""metadata.annotations.job.db_sync"" }} helm.sh/hook: post-install,post-upgrade helm.sh/hook-weight: ""-4"" {{- end }} {{- $dbSyncJob := dict ""envAll"" . ""serviceName"" ""glance"" ""podVolMounts"" .Values.pod.mounts.glance_db_sync.glance_db_sync.volumeMounts ""podVols"" .Values.pod.mounts.glance_db_sync.glance_db_sync.volumes ""dbToSync"" $dbToSync ""jobAnnotations"" (include ""metadata.annotations.job.db_sync"" . | fromYaml) -}}","{{- $dbSyncJob := dict ""envAll"" . ""serviceName"" ""glance"" ""podVolMounts"" .Values.pod.mounts.glance_db_sync.glance_db_sync.volumeMounts ""podVols"" .Values.pod.mounts.glance_db_sync.glance_db_sync.volumes ""dbToSync"" $dbToSync -}}",52,9
openstack%2Ftripleo-ansible~master~Id12c0971fd1c52d92a0983917fe12d42f27364f8,openstack/tripleo-ansible,master,Id12c0971fd1c52d92a0983917fe12d42f27364f8,Remove stack_action from Octavia deployment,MERGED,2021-07-19 12:54:07.000000000,2021-08-23 20:02:15.000000000,2021-08-23 20:02:15.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-19 12:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f13fc51f495f01feb3da8589bc1318918964f9f6', 'message': 'Remove stack_action from Octavia deployment\n\nDue to ephemeral Heat, the stack_action will now\nalways be CREATE. This breaks certain jobs relying on\nthe UPDATE action. In the case of Octavia, relying\non generate_certs alone should be enough.\n\nChange-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8\n'}, {'number': 2, 'created': '2021-07-19 12:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7899f45a5c5debe3c470d55360cb1756b9206460', 'message': 'Remove stack_action from Octavia deployment\n\nDue to ephemeral Heat, the stack_action will now\nalways be CREATE. This breaks certain jobs relying on\nthe UPDATE action. In the case of Octavia, relying\non generate_certs alone should be enough.\n\nCloses-Bug: #1936138\nChange-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8\n'}, {'number': 3, 'created': '2021-08-17 02:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78fc1617347254cb6f20ce6b8b0476fa209e91d3', 'message': 'Remove stack_action from Octavia deployment\n\nDue to ephemeral Heat, the stack_action will now\nalways be CREATE. This breaks certain jobs relying on\nthe UPDATE action. In the case of Octavia, relying\non generate_certs alone should be enough.\n\nPartial-Bug: #1936138\nChange-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8\n'}, {'number': 4, 'created': '2021-08-17 22:04:31.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b26666e9f942eb2e63e06abb0fcb426b4b332e69', 'message': 'Remove stack_action from Octavia deployment\n\nDue to ephemeral Heat, the stack_action will now\nalways be CREATE. This breaks certain jobs relying on\nthe UPDATE action. In the case of Octavia, relying\non generate_certs alone should be enough.\n\nPartial-Bug: #1936138\nChange-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8\n'}]",1,801299,b26666e9f942eb2e63e06abb0fcb426b4b332e69,26,9,4,30073,,,0,"Remove stack_action from Octavia deployment

Due to ephemeral Heat, the stack_action will now
always be CREATE. This breaks certain jobs relying on
the UPDATE action. In the case of Octavia, relying
on generate_certs alone should be enough.

Partial-Bug: #1936138
Change-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/801299/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/octavia-files.yaml'],1,f13fc51f495f01feb3da8589bc1318918964f9f6,remove_stack_action,," stack_action: ""{{ stack_action }}"" - stack_action == 'UPDATE'",0,2
openstack%2Fpython-tripleoclient~master~I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295,openstack/python-tripleoclient,master,I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295,Overriding the log path argument for tripleoclient cli,MERGED,2021-06-03 12:33:33.000000000,2021-08-23 19:55:32.000000000,2021-08-23 19:53:58.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-03 12:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c250b4934c708932a6cc819529a59af64df80b5', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789770\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 2, 'created': '2021-06-04 10:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8aad06fde29b14d950982013a1850f49f2f93604', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789770\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 3, 'created': '2021-06-10 06:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e43572993c85cc1027bbd4b2316e9cd1c51b8321', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789770\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 4, 'created': '2021-06-14 07:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b9e53a1edc053405bc802999c64d1a2b49586c1a', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789770\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 5, 'created': '2021-06-21 15:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bfbeda96a76bfb22331bf34067689dd546b2e3a', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789770\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 6, 'created': '2021-06-24 09:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a8388babd860ae6d7a1e7eb17ba461960840526c', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789770\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 7, 'created': '2021-06-24 09:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a95fb24dbd0225645376eedc208d1416f55a47a', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 8, 'created': '2021-07-26 11:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/34ad46bc96cd8e7978a519e0a89572d7c5310114', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 9, 'created': '2021-07-30 08:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8505a236ac6cb88290b1dad058273b4736faeaf', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 10, 'created': '2021-08-03 12:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff91bea4d320d059a024ea7f588d0bd6eb1d76d9', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 11, 'created': '2021-08-06 11:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6fb794f4a6403f6da5464415961f65990ed1a7f', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 12, 'created': '2021-08-06 12:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/22ed3eba23bc1102a89279d2d65c0fadedd3a452', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/803736\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 13, 'created': '2021-08-06 14:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e904134fb09c52ff39cbc6caa509882691d49241', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/803736\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 14, 'created': '2021-08-06 14:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af183cc12aa024f0810bb7353d6958dbdb908622', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/803761\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}, {'number': 15, 'created': '2021-08-23 08:51:33.000000000', 'files': ['requirements.txt', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/812681dc6bdfb212076dd3b6dfce2eeabffeb0f1', 'message': 'Overriding the log path argument for tripleoclient cli\n\nDepends-On: https://review.opendev.org/c/openstack/cliff/+/794792\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/803761\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295\n'}]",14,794577,812681dc6bdfb212076dd3b6dfce2eeabffeb0f1,54,9,15,32926,,,0,"Overriding the log path argument for tripleoclient cli

Depends-On: https://review.opendev.org/c/openstack/cliff/+/794792
Depends-On: https://review.opendev.org/c/openstack/requirements/+/803761

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/794577/12 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,6c250b4934c708932a6cc819529a59af64df80b5,validationlogpath/override,"from tripleoclient import constants parser.add_argument( '--validation-log-dir', dest='log_path', default=constants.VALIDATIONS_LOG_BASEDIR, help=( ""Path where the log files and artifacts will be located. ""), metavar='<LOG-DIR>')",,8,0
openstack%2Fnova~stable%2Ftrain~I2bd360dcc6501feea7baf02d4510b282205fc061,openstack/nova,stable/train,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,NEW,2021-04-06 22:28:45.000000000,2021-08-23 19:44:34.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 22:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3669195b248239d65d7ed9dc0fff3b70c63b9b3', 'message': ""Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\nNOTE(melwitt): The differences from the original change are because\nchange If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove\n'run_once' helper) is not in Train.\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n(cherry picked from commit ac0b2900a3a75fee405d0d5ff6575a15910af5fe)\n(cherry picked from commit c621875c4f3f82fa79c93f13fa2302b3f5223548)\n""}, {'number': 2, 'created': '2021-04-06 22:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82e1c64d78cd172d438474830aa69c63d774ac24', 'message': ""Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\nNOTE(melwitt): The differences from the original change are because\nthe following changes are not in Train:\n\n  * Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 (Prevent starting services\n    with older than N-1 computes)\n  * If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove\n    'run_once' helper) is not in Train.\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n(cherry picked from commit ac0b2900a3a75fee405d0d5ff6575a15910af5fe)\n(cherry picked from commit c621875c4f3f82fa79c93f13fa2302b3f5223548)\n""}, {'number': 3, 'created': '2021-07-08 19:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/433dc51e75d25992d9de67f257a3bb97ef29e90f', 'message': ""Initialize global data separately and run_once in WSGI app init\n\nNOTE(melwitt): This is a combination of two changes to avoid\nintermittent test failure that was introduced by the original bug fix,\nand was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\nNOTE(melwitt): The differences from the original change are because\nthe following changes are not in Train:\n\n  * Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 (Prevent starting services\n    with older than N-1 computes)\n  * If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove\n    'run_once' helper)\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nReset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)\n(cherry picked from commit 59249697bf09ca1a560defdd550be7e3c439b5b7)\n""}, {'number': 4, 'created': '2021-07-08 21:01:36.000000000', 'files': ['nova/api/openstack/wsgi_app.py', 'nova/test.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/809c60704f983c0e5ebb73d0ff2d4393bda189e2', 'message': ""Initialize global data separately and run_once in WSGI app init\n\nNOTE(melwitt): This is a combination of two changes to avoid\nintermittent test failure that was introduced by the original bug fix,\nand was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\nNOTE(melwitt): The differences from the original change are because\nthe following changes are not in Train:\n\n  * Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 (Prevent starting services\n    with older than N-1 computes)\n  * If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove\n    'run_once' helper)\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nReset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)\n(cherry picked from commit 59249697bf09ca1a560defdd550be7e3c439b5b7)\n""}]",1,785064,809c60704f983c0e5ebb73d0ff2d4393bda189e2,20,3,4,4690,,,0,"Initialize global data separately and run_once in WSGI app init

NOTE(melwitt): This is a combination of two changes to avoid
intermittent test failure that was introduced by the original bug fix,
and was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1882094

NOTE(melwitt): The differences from the original change are because
the following changes are not in Train:

  * Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 (Prevent starting services
    with older than N-1 computes)
  * If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove
    'run_once' helper)

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)
(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)
(cherry picked from commit 59249697bf09ca1a560defdd550be7e3c439b5b7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/785064/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py']",2,c3669195b248239d65d7ed9dc0fff3b70c63b9b3,bug/1882094,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import tempfile import fixtures import mock from oslo_config import fixture as config_fixture from oslotest import base from nova.api.openstack import wsgi_app from nova import test from nova.tests import fixtures as nova_fixtures class WSGIAppTest(base.BaseTestCase): _paste_config = """""" [app:nova-api] use = egg:Paste#static document_root = /tmp """""" def setUp(self): # Ensure BaseTestCase's ConfigureLogging fixture is disabled since # we're using our own (StandardLogging). with fixtures.EnvironmentVariable('OS_LOG_CAPTURE', '0'): super(WSGIAppTest, self).setUp() self.stdlog = self.useFixture(nova_fixtures.StandardLogging()) self.conf = tempfile.NamedTemporaryFile(mode='w+t') self.conf.write(self._paste_config.lstrip()) self.conf.seek(0) self.conf.flush() self.addCleanup(self.conf.close) # Use of this fixture takes care of cleaning up config settings for # subsequent tests. self.useFixture(config_fixture.Config()) @mock.patch('sys.argv', return_value=mock.sentinel.argv) @mock.patch('nova.db.sqlalchemy.api.configure') @mock.patch('nova.api.openstack.wsgi_app._setup_service') @mock.patch('nova.api.openstack.wsgi_app._get_config_files') def test_init_application_called_twice(self, mock_get_files, mock_setup, mock_db_configure, mock_argv): """"""Test that init_application can tolerate being called twice in a single python interpreter instance. When nova-api is run via mod_wsgi, if any exception is raised during init_application, mod_wsgi will re-run the WSGI script without restarting the daemon process even when configured for Daemon Mode. We access the database as part of init_application, so if nova-api starts up before the database is up, we'll get, for example, a DBConnectionError raised during init_application and our WSGI script will get reloaded/re-run by mod_wsgi. """""" mock_get_files.return_value = [self.conf.name] mock_setup.side_effect = [test.TestingException, None] # We need to mock the global database configure() method, else we will # be affected by global database state altered by other tests that ran # before this test, causing this test to fail with # oslo_db.sqlalchemy.enginefacade.AlreadyStartedError. We can instead # mock the method to raise an exception if it's called a second time in # this test to simulate the fact that the database does not tolerate # re-init [after a database query has been made]. mock_db_configure.side_effect = [None, test.TestingException] # Run init_application the first time, simulating an exception being # raised during it. self.assertRaises(test.TestingException, wsgi_app.init_application, 'nova-api') # Now run init_application a second time, it should succeed since no # exception is being raised (the init of global data should not be # re-attempted). wsgi_app.init_application('nova-api') self.assertIn('Global data already initialized, not re-initializing.', self.stdlog.logger.output) ",,107,2
openstack%2Fnova~master~I8283c3e76c595cb32527d1b8745933d044e22734,openstack/nova,master,I8283c3e76c595cb32527d1b8745933d044e22734,VMWare: Use WithRetrieval to get all results,MERGED,2021-08-18 08:54:54.000000000,2021-08-23 19:34:56.000000000,2021-08-23 19:32:50.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 08:54:54.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util_datastore_selection.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d31b26e09d469748f2ae2cc1e5f6f57401834adc', 'message': 'VMWare: Use WithRetrieval to get all results\n\nIn various places, own version of iterating over the results are implemented,\nsometimes even faulty.\nThe following functions where only getting up to vmware.maximum_objects objects (100 by default)\nvm_util.get_all_cluster_mors, vm_util.get_stats_from_cluster.\n\nPreviously, the results were fetched in batches of up to vmware.maximum_objects items.\nUsing WithRetrieval yields an iterator to the results, which pages transparently to\nthe next request.\nConsumers of the output of the results where changed to work on an iterator, where easily\npossible.\n\nReplaced the quadratic algorithm in `ds_util._filter_datastores_matching_storage_policy`\nwith one of O(n log(n)) runtime\n\nCloses-Bug: #1940399\nChange-Id: I8283c3e76c595cb32527d1b8745933d044e22734\n'}]",5,804968,d31b26e09d469748f2ae2cc1e5f6f57401834adc,20,3,1,24434,,,0,"VMWare: Use WithRetrieval to get all results

In various places, own version of iterating over the results are implemented,
sometimes even faulty.
The following functions where only getting up to vmware.maximum_objects objects (100 by default)
vm_util.get_all_cluster_mors, vm_util.get_stats_from_cluster.

Previously, the results were fetched in batches of up to vmware.maximum_objects items.
Using WithRetrieval yields an iterator to the results, which pages transparently to
the next request.
Consumers of the output of the results where changed to work on an iterator, where easily
possible.

Replaced the quadratic algorithm in `ds_util._filter_datastores_matching_storage_policy`
with one of O(n log(n)) runtime

Closes-Bug: #1940399
Change-Id: I8283c3e76c595cb32527d1b8745933d044e22734
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/804968/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util_datastore_selection.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py']",6,d31b26e09d469748f2ae2cc1e5f6f57401834adc,vmware_with_retrieval,"from contextlib import contextmanager @contextmanager def next_datastore(*args, **kwargs): try: return next(datastores_i[0]) except StopIteration: return None with mock.patch.object(self.session, '_call_method', side_effect=fake_call_method), \ mock.patch('oslo_vmware.vim_util.continue_retrieval', side_effect=next_datastore), \ mock.patch('oslo_vmware.vim_util.cancel_retrieval'): yield"," # Continue returning results from the current iterator. if (module == ds_util.vutil and method == 'continue_retrieval'): try: return next(datastores_i[0]) except StopIteration: return None if (method == 'continue_retrieval' or method == 'cancel_retrieval'): return return mock.patch.object(self.session, '_call_method', side_effect=fake_call_method)",93,109
openstack%2Frequirements~master~Ibb14983265f510ca09bb4f76c1d807e787b6b4a4,openstack/requirements,master,Ibb14983265f510ca09bb4f76c1d807e787b6b4a4,update constraint for os-traits to new release 2.6.0,MERGED,2021-08-23 10:41:43.000000000,2021-08-23 19:34:21.000000000,2021-08-23 19:32:55.000000000,"[{'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-23 10:41:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5f97046379c3978a65a8e1ca60164d771c2847b0', 'message': 'update constraint for os-traits to new release 2.6.0\n\nmeta: version: 2.6.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Előd Illés <elod.illes@est.tech>\nmeta: release:Commit: Előd Illés <elod.illes@est.tech>\nmeta: release:Change-Id: Ib7ea3283180820bac345802912488ec508b78d47\nmeta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ibb14983265f510ca09bb4f76c1d807e787b6b4a4\n'}]",0,805612,5f97046379c3978a65a8e1ca60164d771c2847b0,10,4,1,11131,,,0,"update constraint for os-traits to new release 2.6.0

meta: version: 2.6.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Előd Illés <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: Ib7ea3283180820bac345802912488ec508b78d47
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibb14983265f510ca09bb4f76c1d807e787b6b4a4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/805612/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5f97046379c3978a65a8e1ca60164d771c2847b0,new-release,os-traits===2.6.0,os-traits===2.5.0,1,1
openstack%2Fpuppet-ironic~stable%2Fvictoria~I27fa53700c1b44f14725bc66b929732553da58f8,openstack/puppet-ironic,stable/victoria,I27fa53700c1b44f14725bc66b929732553da58f8,Fix ppc64le support to coexist with PXE preference,MERGED,2021-08-12 16:46:40.000000000,2021-08-23 18:54:29.000000000,2021-08-23 18:53:05.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 16:46:40.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/91e2b2a96ccb7e926f527a09302ec9ff898ba885', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)\n(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)\n""}]",1,804348,91e2b2a96ccb7e926f527a09302ec9ff898ba885,19,4,1,11655,,,0,"Fix ppc64le support to coexist with PXE preference

In essence, the pxe preference doesn't apply to ppc64le.

This is because PXE data loading is part of the firmware and
does not use an intermediate boot loader like ipxe, syslinux,
or even grub.

Changes the logic to always set the stage for PXE based
deployments and enables boot setting awareness for ppc64le
based on the TFTP defaults. This allows ppc64le to coexist
with an environment preferring HTTP transport like those
used with iPXE.

Change-Id: I27fa53700c1b44f14725bc66b929732553da58f8
(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)
(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/48/804348/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb']",4,91e2b2a96ccb7e926f527a09302ec9ff898ba885,,"<% if @enable_ppc64le -%> # Client is ppc64le (OPAL) box and doesn't need a chain loader, but does need a custom config dhcp-match=set:ppc64le,option:client-arch,14 dhcp-boot=tag:ppc64le, dhcp-option=tag:ppc64le, 210,<%= @tftp_root_real %>/ppc64le/ dhcp-option=tag:ppc64le, 209,default <% end -%>",,60,11
openstack%2Fcharm-ceph-dashboard~master~I6a90d7afde2266e2dfa535d05e022a544914124a,openstack/charm-ceph-dashboard,master,I6a90d7afde2266e2dfa535d05e022a544914124a,Watch for config changed and gate on mons,MERGED,2021-08-19 13:23:51.000000000,2021-08-23 18:54:02.000000000,2021-08-23 18:54:02.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 13:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/e5520b27cbd2a8b6daae61f5b22ed9c54926dd19', 'message': 'Watch for config changed and gate on mons\n\nSetup observer for config-changed events and get configuring the\ndashboard on all the mons reporting ready.\n\nChange-Id: I6a90d7afde2266e2dfa535d05e022a544914124a\n'}, {'number': 2, 'created': '2021-08-19 16:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/d0b3db157d360bf86591617e66726fc651dbe8b1', 'message': 'Watch for config changed and gate on mons\n\nSetup observer for config-changed events and get configuring the\ndashboard on all the mons reporting ready.\n\nChange-Id: I6a90d7afde2266e2dfa535d05e022a544914124a\n'}, {'number': 3, 'created': '2021-08-23 15:33:48.000000000', 'files': ['src/interface_dashboard.py', 'tests/bundles/focal.yaml', 'src/charm.py', 'unit_tests/test_interface_dashboard.py', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/765c7cfd58e6faf813ed5558c4f0b2d9ef43ae7e', 'message': 'Watch for config changed and gate on mons\n\nSetup observer for config-changed events and get configuring the\ndashboard on all the mons reporting ready.\n\nChange-Id: I6a90d7afde2266e2dfa535d05e022a544914124a\n'}]",1,805216,765c7cfd58e6faf813ed5558c4f0b2d9ef43ae7e,17,3,3,12549,,,0,"Watch for config changed and gate on mons

Setup observer for config-changed events and get configuring the
dashboard on all the mons reporting ready.

Change-Id: I6a90d7afde2266e2dfa535d05e022a544914124a
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/16/805216/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/interface_dashboard.py', 'src/charm.py', 'unit_tests/test_interface_dashboard.py']",3,e5520b27cbd2a8b6daae61f5b22ed9c54926dd19,gate-on-mons," self.assertTrue( self.harness.charm.mon.mons_ready) def test_on_changed_not_ready_unit(self): self.harness.begin() # No MonReadyEvent as relation is absent self.assertEqual( self.harness.charm.seen_events, []) rel_id = self.add_dashboard_relation() self.harness.add_relation_unit( rel_id, 'ceph-mon/1') # No MonReadyEvent as ceph-mon has not declared it is ready. self.assertEqual( self.harness.charm.seen_events, []) self.harness.update_relation_data( rel_id, 'ceph-mon/0', {'mon-ready': 'True'}) self.harness.update_relation_data( rel_id, 'ceph-mon/1', {}) self.assertEqual( self.harness.charm.seen_events, []) self.assertFalse( self.harness.charm.mon.mons_ready)",,49,4
openstack%2Fopenstack-helm~master~I0fb1203f22ddd6e707eeb80f72a3685c3b9c350f,openstack/openstack-helm,master,I0fb1203f22ddd6e707eeb80f72a3685c3b9c350f,Fix enable password retrieve config value,MERGED,2021-08-19 14:19:34.000000000,2021-08-23 18:49:32.000000000,2021-08-23 18:47:58.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-08-19 14:19:34.000000000', 'files': ['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/764affd1ebbcd6db2f7532e34e25d1e9b2607c5f', 'message': 'Fix enable password retrieve config value\n\nNow OPENSTACK_ENABLE_PASSWORD_RETRIEVE value is string so always\nget true regardless of the config value.\n\nChange-Id: I0fb1203f22ddd6e707eeb80f72a3685c3b9c350f\n'}]",0,805229,764affd1ebbcd6db2f7532e34e25d1e9b2607c5f,9,4,1,31746,,,0,"Fix enable password retrieve config value

Now OPENSTACK_ENABLE_PASSWORD_RETRIEVE value is string so always
get true regardless of the config value.

Change-Id: I0fb1203f22ddd6e707eeb80f72a3685c3b9c350f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/805229/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml']",3,764affd1ebbcd6db2f7532e34e25d1e9b2607c5f,, OPENSTACK_ENABLE_PASSWORD_RETRIEVE = {{ .Values.conf.horizon.local_settings.config.openstack_enable_password_retrieve }}, OPENSTACK_ENABLE_PASSWORD_RETRIEVE = '{{ .Values.conf.horizon.local_settings.config.openstack_enable_password_retrieve }}',3,2
openstack%2Fdesignate~master~I4bcd159555907bea9d111147a0d23726acb62eb4,openstack/designate,master,I4bcd159555907bea9d111147a0d23726acb62eb4,DNM: Gate test - designate-manage failure,ABANDONED,2021-07-27 23:29:52.000000000,2021-08-23 18:44:52.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 23:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7e12ca2efe65de4f5e89c01eb3a148fe78277a09', 'message': 'DNM: Gate test - designate-manage failure\n\nChange-Id: I4bcd159555907bea9d111147a0d23726acb62eb4\n'}, {'number': 2, 'created': '2021-08-23 15:45:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/4b96fd6b75daaefde393f5d5f0313b357b7dda26', 'message': 'DNM: Gate test - designate-manage failure\n\nChange-Id: I4bcd159555907bea9d111147a0d23726acb62eb4\n'}]",0,802635,4b96fd6b75daaefde393f5d5f0313b357b7dda26,8,2,2,11628,,,0,"DNM: Gate test - designate-manage failure

Change-Id: I4bcd159555907bea9d111147a0d23726acb62eb4
",git fetch https://review.opendev.org/openstack/designate refs/changes/35/802635/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7e12ca2efe65de4f5e89c01eb3a148fe78277a09,,,,1,0
openstack%2Fcharms.openstack~stable%2F21.04~I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e,openstack/charms.openstack,stable/21.04,I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e,Use openstack-release package to determine codename,MERGED,2021-04-23 13:14:19.000000000,2021-08-23 18:12:32.000000000,2021-08-23 18:12:32.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2021-04-23 13:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8f0e6534a7f74c32653f84b89352b93e909c26c4', 'message': 'Use openstack-release package to determine codename\n\nThe use of package versions to look up OpenStack codenames is\ndeprecated for in favor of using the openstack-release package.\nThe openstack-release package is available for Wallaby onward.\n\nChange-Id: I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e\n(cherry picked from commit 8960e070f2ffdc514b949b3e4c2d59a6f93dfc15)\n'}, {'number': 2, 'created': '2021-08-23 14:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/e68bf7bf1d84f2349bad52113cb9c7077f23cb2e', 'message': 'Use openstack-release package to determine codename\n\nThe use of package versions to look up OpenStack codenames is\ndeprecated for in favor of using the openstack-release package.\nThe openstack-release package is available for Wallaby onward.\n\nChange-Id: I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e\n(cherry picked  from commit 8960e070f2ffdc514b949b3e4c2d59a6f93dfc15)\n'}, {'number': 3, 'created': '2021-08-23 14:09:09.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/9b4972667e7dd4b09d5fd5d0d8acb9497c7d0639', 'message': 'Use openstack-release package to determine codename\n\nThe use of package versions to look up OpenStack codenames is\ndeprecated for in favor of using the openstack-release package.\nThe openstack-release package is available for Wallaby onward.\n\nChange-Id: I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e\n(cherry picked from commit 8960e070f2ffdc514b949b3e4c2d59a6f93dfc15)\n'}]",0,787611,9b4972667e7dd4b09d5fd5d0d8acb9497c7d0639,26,7,3,31289,,,0,"Use openstack-release package to determine codename

The use of package versions to look up OpenStack codenames is
deprecated for in favor of using the openstack-release package.
The openstack-release package is available for Wallaby onward.

Change-Id: I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e
(cherry picked from commit 8960e070f2ffdc514b949b3e4c2d59a6f93dfc15)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/11/787611/3 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,8f0e6534a7f74c32653f84b89352b93e909c26c4,openstack-release-package," self.patch_object(chm_core.os_utils, 'get_installed_os_version') self.get_installed_os_version.return_value = None # Test Wallaby self.get_installed_os_version.return_value = 'wallaby' self.assertEqual( chm_core.BaseOpenStackCharm.get_os_codename_package( 'testpkg', codenames), 'wallaby') self.get_installed_os_version.return_value = None",,22,0
openstack%2Fcinder~master~Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d,openstack/cinder,master,Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d,[svf] Fix rccg_name based on group display_name,NEW,2021-05-24 10:49:21.000000000,2021-08-23 17:53:17.000000000,,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 32036}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-05-24 10:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38e99d135a892ed26e3473c2ce6f2c3cba0278de', 'message': '[svf] Fix rccg_name based on group display_name\n\n[Spectrum Virtualize Family] Updating rccg_name with the combination of the\ndisplay_name of a group given by an user and a few characters from group id.\n\nChange-Id: Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d\n'}, {'number': 2, 'created': '2021-07-29 15:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30b1f1ae8856d494a0611c81dae15b596d680c17', 'message': '[svf] Fix rccg_name based on group display_name\n\n[Spectrum Virtualize Family] Updating rccg_name with the combination of the\ndisplay_name of a group given by an user and a few characters from group id.\n\nCloses-Bug: #1938457\n\nChange-Id: Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d\n'}, {'number': 3, 'created': '2021-08-04 11:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44b10edc8008b9e48f5b80f784625e30a9e45512', 'message': '[svf] Fix rccg_name based on group display_name\n\n[Spectrum Virtualize Family] Updating rccg_name with the combination of the\ndisplay_name of a group given by an user and a few characters from group id.\n\nCloses-Bug: #1938457\n\nChange-Id: Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d\n'}, {'number': 4, 'created': '2021-08-10 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b05343057f0c0cc2742bad72d50d98f49652031b', 'message': '[svf] Fix rccg_name based on group display_name\n\n[Spectrum Virtualize Family] Updating rccg_name with the combination of the\ndisplay_name of a group given by an user and a few characters from group id.\nThe new format of rccg_name solves the customer issue to identify the\ndisplay_name of a group easily based on the resulted rccg_name.  At present,\nputting more effort to identify the Group name as rccg_name contains a part\nof group id but not display_name.\n\nCloses-Bug: #1938457\n\nChange-Id: Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d\n'}, {'number': 5, 'created': '2021-08-10 10:51:00.000000000', 'files': ['releasenotes/notes/bug-1938457-ibm-svf-fix-rccg-name-based-on-group-name-ea6bfc35586df6d8.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d4f031ec72359fcea23b43862d7a2f0c9c56a92', 'message': '[svf] Fix rccg_name based on group display_name\n\n[Spectrum Virtualize Family] Updating rccg_name with the combination of the\ndisplay_name of a group given by an user and a few characters from group id.\nThe new format of rccg_name solves the customer issue to identify the\ndisplay_name of a group easily based on the resulted rccg_name. At present,\nputting more effort to identify the group display_name as rccg_name contains\na part of group id but not display_name.\n\nCloses-Bug: #1938457\n\nChange-Id: Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d\n'}]",2,792800,6d4f031ec72359fcea23b43862d7a2f0c9c56a92,383,6,5,32266,,,0,"[svf] Fix rccg_name based on group display_name

[Spectrum Virtualize Family] Updating rccg_name with the combination of the
display_name of a group given by an user and a few characters from group id.
The new format of rccg_name solves the customer issue to identify the
display_name of a group easily based on the resulted rccg_name. At present,
putting more effort to identify the group display_name as rccg_name contains
a part of group id but not display_name.

Closes-Bug: #1938457

Change-Id: Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/792800/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,38e99d135a892ed26e3473c2ce6f2c3cba0278de,bug/1938457, return group.name[0:9] + '-' + group_id[-5:], rccg = (storwize_const.HYPERCG_PREFIX if hyper_grp else storwize_const.RCCG_PREFIX) return rccg + group_id[0:4] + '-' + group_id[-5:],1,3
openstack%2Fnova~stable%2Ftrain~I8296e4be9f0706fab043451b856efadbb7bd41f6,openstack/nova,stable/train,I8296e4be9f0706fab043451b856efadbb7bd41f6,Honor [neutron]http_retries in the manual client,NEW,2021-06-07 20:20:53.000000000,2021-08-23 17:46:40.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 20:20:53.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/74e6c821fcb8f686a9b91c093b1db834b59c2856', 'message': 'Honor [neutron]http_retries in the manual client\n\nChange Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side\nconfig option for specifying neutron client retries that maps to the\nksa connect_retries config option to provide parity with the cinder and\nglance clients that have nova side config options.\n\nThat change missed passing CONF.neutron.http_retries to the manual\nclient used for calling the port binding API. This sets the\nconnect_retries attribute on the manual ksa client so http_retries\nwill be honored.\n\nCloses-Bug: #1929886\nRelated-Bug: #1866937\n\nChange-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6\n(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)\n(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)\n(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)\n(cherry picked from commit b96f93ed8633d6fd0725c4a11366ffbf38056e65)\n'}]",0,795177,74e6c821fcb8f686a9b91c093b1db834b59c2856,8,2,1,4690,,,0,"Honor [neutron]http_retries in the manual client

Change Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side
config option for specifying neutron client retries that maps to the
ksa connect_retries config option to provide parity with the cinder and
glance clients that have nova side config options.

That change missed passing CONF.neutron.http_retries to the manual
client used for calling the port binding API. This sets the
connect_retries attribute on the manual ksa client so http_retries
will be honored.

Closes-Bug: #1929886
Related-Bug: #1866937

Change-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6
(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)
(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)
(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)
(cherry picked from commit b96f93ed8633d6fd0725c4a11366ffbf38056e65)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/795177/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,74e6c821fcb8f686a9b91c093b1db834b59c2856,bug/1929886," kcl = neutronapi._get_ksa_client(my_context) self.assertEqual(retries, kcl.connect_retries)",,3,0
openstack%2Ftripleo-ci~master~I5d01bda89d7e80c1ff3d1718fa88351825a02302,openstack/tripleo-ci,master,I5d01bda89d7e80c1ff3d1718fa88351825a02302,add tripleo-common checkout to content-provider,MERGED,2021-08-18 16:54:57.000000000,2021-08-23 17:42:31.000000000,2021-08-23 17:42:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-18 16:54:57.000000000', 'files': ['zuul.d/content-provider.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5493582fc91af83dba5bfd75d9973c1074be5d1a', 'message': ""add tripleo-common checkout to content-provider\n\nLet's ensure tc is on the local filesystem\nfor the content provider so we can read in\ntripleo-containers.yml for container image builds\n\nChange-Id: I5d01bda89d7e80c1ff3d1718fa88351825a02302\n""}]",0,805061,5493582fc91af83dba5bfd75d9973c1074be5d1a,15,4,1,9592,,,0,"add tripleo-common checkout to content-provider

Let's ensure tc is on the local filesystem
for the content provider so we can read in
tripleo-containers.yml for container image builds

Change-Id: I5d01bda89d7e80c1ff3d1718fa88351825a02302
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/61/805061/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/content-provider.yaml'],1,5493582fc91af83dba5bfd75d9973c1074be5d1a,, required-projects: - opendev.org/openstack/tripleo-common,,2,0
openstack%2Fneutron-lib~master~Icd66a4ce29fd3bdf3610157006a42416bb12cd54,openstack/neutron-lib,master,Icd66a4ce29fd3bdf3610157006a42416bb12cd54,"Add missing default ""direction"" value to ""qos-pps-minimum""",MERGED,2021-08-20 14:31:49.000000000,2021-08-23 17:26:32.000000000,2021-08-23 17:24:58.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 14:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/86a2a05fe42744f391175ef155c1d93e09126960', 'message': 'Add missing default ""direction"" value to ""qos-pps-minimum""\n\nAll QoS rule types with ""direction"" parameter have ""egress"" as default\nvalue.\n\nChange-Id: Icd66a4ce29fd3bdf3610157006a42416bb12cd54\nRelated-Bug: #1922237\n'}, {'number': 2, 'created': '2021-08-20 14:46:51.000000000', 'files': ['neutron_lib/api/definitions/qos_pps_minimum_rule.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e8b398ed6b09e733a7c228766cb6744868402432', 'message': 'Add missing default ""direction"" value to ""qos-pps-minimum""\n\nAll QoS rule types with ""direction"" parameter have ""egress"" as default\nvalue.\n\nChange-Id: Icd66a4ce29fd3bdf3610157006a42416bb12cd54\nRelated-Bug: #1922237\n'}]",2,805395,e8b398ed6b09e733a7c228766cb6744868402432,14,4,2,16688,,,0,"Add missing default ""direction"" value to ""qos-pps-minimum""

All QoS rule types with ""direction"" parameter have ""egress"" as default
value.

Change-Id: Icd66a4ce29fd3bdf3610157006a42416bb12cd54
Related-Bug: #1922237
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/95/805395/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/qos_pps_minimum_rule.py'],1,86a2a05fe42744f391175ef155c1d93e09126960,bug/1922237," 'default': constants.EGRESS_DIRECTION,",,1,0
openstack%2Fpuppet-ironic~master~I549d2217668d84f170b5c7a989c2acf2b9a0e16a,openstack/puppet-ironic,master,I549d2217668d84f170b5c7a989c2acf2b9a0e16a,Ensure tftp root directory is created,MERGED,2021-08-22 12:50:14.000000000,2021-08-23 17:18:36.000000000,2021-08-23 17:18:36.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 12:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f6b382adc78ee075b0648a1c501a7a19a5c0300b', 'message': 'Ensure tftp root directory is created\n\n... before creating any file under the directory.\n\nChange-Id: I549d2217668d84f170b5c7a989c2acf2b9a0e16a\n'}, {'number': 2, 'created': '2021-08-22 12:58:33.000000000', 'files': ['manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/01124971611486a8cc255bd8cde6423a8c44f427', 'message': 'Ensure tftp root directory is created\n\n... before creating any file under the directory.\n\nChange-Id: I549d2217668d84f170b5c7a989c2acf2b9a0e16a\n'}]",0,805530,01124971611486a8cc255bd8cde6423a8c44f427,8,3,2,9816,,,0,"Ensure tftp root directory is created

... before creating any file under the directory.

Change-Id: I549d2217668d84f170b5c7a989c2acf2b9a0e16a
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/30/805530/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/pxe.pp'],1,f6b382adc78ee075b0648a1c501a7a19a5c0300b,ensure-tftp-root," File[""${tftp_root_real}""] -> File[""${tftp_root_real}/pxelinux.cfg""] File[""${tftp_root_real}""] -> File[""${tftp_root_real}/ppc64le""] File[""${tftp_root_real}""] -> File[""${tftp_root_real}/map-file""] File[""${tftp_root_real}""] -> File[""${tftp_root_real}/undionly.kpxe""] File[""${tftp_root_real}""] -> File[""${tftp_root_real}/""${uefi_ipxe_bootfile_name}""]",,5,0
openstack%2Fopenstack-helm-addons~master~I75ecd13540db846dd700ff0b6c611c74f462ad72,openstack/openstack-helm-addons,master,I75ecd13540db846dd700ff0b6c611c74f462ad72,Remove shaker residue,MERGED,2021-06-29 02:35:21.000000000,2021-08-23 17:16:37.000000000,2021-08-23 17:09:06.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-06-29 02:35:21.000000000', 'files': ['tools/deployment/component/shaker/shaker.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/275ff716423baccbaf52f610a1e6f1c5c6de87a8', 'message': ""Remove shaker residue\n\nAbout shaker chart, It's been removed.\n\nChange-Id: I75ecd13540db846dd700ff0b6c611c74f462ad72\n""}]",0,798403,275ff716423baccbaf52f610a1e6f1c5c6de87a8,8,4,1,30449,,,0,"Remove shaker residue

About shaker chart, It's been removed.

Change-Id: I75ecd13540db846dd700ff0b6c611c74f462ad72
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/03/798403/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/component/shaker/shaker.sh'],1,275ff716423baccbaf52f610a1e6f1c5c6de87a8,,,"#!/bin/bash # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. #----------------------------------------------------------------------- # Two ways to invoke this script #----------------------------------------------------------------------- # 1. Provide a shaker.conf file listing the shaker configuration params # which should go as input to shaker # 2. Provide the parameters explicitly #---------------------------------------------------------------------- # (1): # sudo -H -E su -c 'export SHAKER_CONF_HOST=""/tmp/shaker.conf""; \ # export CLONE_SHAKER_SCENARIOS=""false""; \ # export SHAKER_SCENARIOS_REPO=""https://git.openstack.org/openstack/shaker""; \ # export COPY_SHAKER_REPORTS_ON_HOST=""false""; \ # cd $CURR_WORK/openstack-helm-addons; ./tools/gate/scripts/090-shaker.sh ${OSH_EXTRA_HELM_ARGS}' ${username} # (2): # sudo -H -E su -c 'export OSH_EXT_NET_NAME=""public""; \ # export OSH_EXT_SUBNET_NAME=""public-subnet""; \ # export OS_USERNAME=""admin""; \ # export OS_PASSWORD=""password""; \ # export OS_AUTH_URL=""http://keystone.openstack.svc.cluster.local/v3""; \ # export OS_PROJECT_NAME=""admin""; \ # export OS_REGION_NAME=""RegionOne""; \ # export OS_PROJECT_ID=""""; \ # export OS_PROJECT_DOMAIN_NAME=""Default""; \ # export OS_USER_DOMAIN_NAME=""Default""; \ # export OS_IDENTITY_API_VERSION=3; \ # export EXTERNAL_NETWORK_NAME=""public""; \ # export SCENARIO=""/opt/shaker/shaker/scenarios/openstack/full_l2.yaml""; \ # export AVAILABILITY_ZONE=""nova""; \ # export FLAVOR_ID=""shaker-flavor""; \ # export IMAGE_NAME=""shaker-image""; \ # export SERVER_ENDPOINT_IP=""""; \ # export CLONE_SHAKER_SCENARIOS=""false""; \ # export SHAKER_SCENARIOS_REPO=""https://git.openstack.org/openstack/shaker""; \ # export COPY_SHAKER_REPORTS_ON_HOST=""false""; \ # cd $CURR_WORK/openstack-helm-addons; ./tools/gate/scripts/090-shaker.sh ${OSH_EXTRA_HELM_ARGS}' ${username} set -xe : ${OSH_EXT_NET_NAME:=""public""} : ${OSH_EXT_SUBNET_NAME:=""public-subnet""} : ${OSH_EXT_SUBNET:=""172.24.4.0/24""} : ${OSH_BR_EX_ADDR:=""172.24.4.1/24""} : ${OSH_PRIVATE_SUBNET_POOL:=""11.0.0.0/8""} : ${OSH_PRIVATE_SUBNET_POOL_NAME:=""shared-default-subnetpool""} : ${OSH_PRIVATE_SUBNET_POOL_DEF_PREFIX:=""24""} : ${OSH_VM_KEY_STACK:=""heat-vm-key""} : ${OSH_PRIVATE_SUBNET:=""11.0.0.0/24""} # Shaker conf params : ${OS_USERNAME:=""admin""} : ${OS_PASSWORD:=""password""} : ${OS_AUTH_URL:=""http://keystone.openstack.svc.cluster.local/v3""} : ${OS_PROJECT_NAME:=""admin""} : ${OS_REGION_NAME:=""RegionOne""} : ${OS_USER_DOMAIN_NAME:=""Default""} : ${OS_PROJECT_DOMAIN_NAME:=""Default""} : ${OS_PROJECT_ID:=""""} : ${EXTERNAL_NETWORK_NAME:=$OSH_EXT_NET_NAME} : ${SCENARIO:=""shaker/shaker/scenarios/openstack/full_l2.yaml""} : ${AVAILABILITY_ZONE:=""nova""} : ${OS_IDENTITY_API_VERSION:=""3""} : ${OS_INTERFACE:=""public""} : ${REPORT_FILE:=""shaker-result.html""} : ${OUTPUT_FILE:=""shaker-result.json""} : ${FLAVOR_ID:=""shaker-flavor""} : ${IMAGE_NAME:=""shaker-image""} : ${SERVER_ENDPOINT_IP:=""""} : ${SERVER_ENDPOINT_INTF:=""eth0""} : ${SHAKER_PORT:=31999} : ${COMPUTE_NODES:=1} : ${EXECUTE_TEST:=""true""} : ${DEBUG:=""true""} : ${CLEANUP_ON_ERROR:=""true""} : ${CLONE_SHAKER_SCENARIOS:=""false""} : ${SHAKER_SCENARIOS_REPO:=""https://git.openstack.org/openstack/shaker""} : ${COPY_SHAKER_REPORTS_ON_HOST:=""false""} : ${SHAKER_CONF_HOST:=""""} # DO NOT CHANGE: Change requires update in shaker charts : ${SHAKER_CONF:=""/opt/shaker/shaker.conf""} : ${SHAKER_DATA:=""/opt/shaker/data""} : ${SHAKER_DATA_HOSTPATH_MOUNT:=""/opt/shaker-data""} : ${SHAKER_DATA_HOSTPATH:=""/tmp/shaker-data""} #NOTE: Pull images and lint chart : ${OSH_PATH:=""../openstack-helm""} make -C ${OSH_PATH} pull-images shaker #NOTE: Deploy command if [ ! -z ${SHAKER_CONF_HOST} ] && [ -f ${SHAKER_CONF_HOST} ]; then SERVER_ENDPOINT_IP=`cat ${SHAKER_CONF_HOST} | awk '/server_endpoint/ {print $2}' | cut -f1 -d':'` SHAKER_PORT=`cat ${SHAKER_CONF_HOST} | awk '/server_endpoint/ {print $2}' | cut -f2 -d':'` else # Export AUTH variables required by shaker-image-builder utility export OS_USERNAME=${OS_USERNAME} export OS_PASSWORD=${OS_PASSWORD} export OS_AUTH_URL=${OS_AUTH_URL} export OS_PROJECT_NAME=${OS_PROJECT_NAME} export OS_REGION_NAME=${OS_REGION_NAME} export EXTERNAL_NETWORK_NAME=${EXTERNAL_NETWORK_NAME} export OS_PROJECT_ID=${OS_PROJECT_ID} if [ $OS_IDENTITY_API_VERSION = ""3"" ]; then export OS_PROJECT_DOMAIN_NAME=${OS_PROJECT_DOMAIN_NAME} export OS_USER_DOMAIN_NAME=${OS_USER_DOMAIN_NAME} else export OS_PROJECT_DOMAIN_NAME= export OS_USER_DOMAIN_NAME= fi export stack_exists=`openstack network list | grep ${OSH_EXT_NET_NAME} | awk '{print $4}'` if [ -z $stack_exists ]; then openstack stack create --wait \ --parameter network_name=${OSH_EXT_NET_NAME} \ --parameter physical_network_name=${OSH_EXT_NET_NAME} \ --parameter subnet_name=${OSH_EXT_SUBNET_NAME} \ --parameter subnet_cidr=${OSH_EXT_SUBNET} \ --parameter subnet_gateway=${OSH_BR_EX_ADDR%/*} \ -t ${OSH_PATH}/tools/gate/files/heat-public-net-deployment.yaml \ heat-public-net-deployment fi default_sec_grp_id=`openstack security group list --project ${OS_PROJECT_NAME} | grep default | awk '{split(\$0,a,""|""); print a[2]}'` for sg in $default_sec_grp_id do icmp=`openstack security group rule list $sg | grep icmp | awk '{split(\$0,a,""|""); print a[2]}'` if [ ""${icmp}"" = """" ]; then openstack security group rule create --proto icmp $sg; fi shaker=`openstack security group rule list $sg | grep tcp | grep ${SHAKER_PORT} | awk '{split(\$0,a,""|""); print a[2]}'` if [ ""${shaker}"" = """" ]; then openstack security group rule create --proto tcp --dst-port ${SHAKER_PORT} $sg; fi done IMAGE_NAME=$(openstack image show -f value -c name \ $(openstack image list -f csv | awk -F ',' '{ print $2 "","" $1 }' | \ grep ""${IMAGE_NAME}"" | head -1 | awk -F ',' '{ print $2 }' | tr -d '""')) if [ -z $IMAGE_NAME ]; then # Install shaker to use shaker-image-builder utility sudo apt-add-repository ""deb http://nova.clouds.archive.ubuntu.com/ubuntu/ trusty multiverse"" sudo apt-get update sudo apt-get -y install python-dev libzmq-dev sudo pip install pbr pyshaker # Run shaker-image-builder utility to build shaker image # For debug mode # shaker-image-builder --nocleanup-on-error --debug # For debug mode - with disk-image-builder mode # shaker-image-builder --nocleanup-on-error --debug --image-builder-mode dib shaker-image-builder IMAGE_NAME=$(openstack image show -f value -c name \ $(openstack image list -f csv | awk -F ',' '{ print $2 "","" $1 }' | \ grep ""^\""shaker"" | head -1 | awk -F ',' '{ print $2 }' | tr -d '""')) fi if [ $CLONE_SHAKER_SCENARIOS = ""true"" ]; then SHAKER_SCENARIO=""${SHAKER_DATA}/${SCENARIO}"" else SHAKER_SCENARIO=""/opt/${SCENARIO}"" fi fi #NOTE: Deploy shaker pods tee /tmp/shaker.yaml << EOF shaker: controller: external_ip: ${SERVER_ENDPOINT_IP} conf: script: | #!/bin/bash set -xe # Clone the shaker test-cases if [ ${CLONE_SHAKER_SCENARIOS} = ""true"" ]; then cd ${SHAKER_DATA}; git clone $SHAKER_SCENARIOS_REPO; cd -; fi if [ -z ${SERVER_ENDPOINT_IP} ]; then export server_endpoint=\`ip a | grep ""global ${SERVER_ENDPOINT_INTF}"" | cut -f6 -d' ' | cut -f1 -d'/'\` else export server_endpoint=${SERVER_ENDPOINT_IP} fi echo =========================== printenv | grep -i os_ echo ========== SHAKER CONF PARAMETERS ================= cat ${SHAKER_CONF} echo ===================================================== env -i HOME=""$HOME"" bash -l -c ""printenv; shaker --server-endpoint \$server_endpoint:${SHAKER_PORT} --config-file ${SHAKER_CONF}"" if [ $COPY_SHAKER_REPORTS_ON_HOST = ""true"" ]; then export DATA_FOLDER_NAME=`date +%Y%m%d_%H%M%S` mkdir ${SHAKER_DATA_HOSTPATH_MOUNT}/\$DATA_FOLDER_NAME echo \$DATA_FOLDER_NAME > ${SHAKER_DATA_HOSTPATH_MOUNT}/latest-shaker-data-name.txt declare -a file_extns_arr_to_copy=(html json subunit conf yaml stream) for i in ""\${file_extns_arr_to_copy[@]}"" do if [ -e ${SHAKER_DATA}/*.\$i ]; then cp -avb ${SHAKER_DATA}/*.\$i ${SHAKER_DATA_HOSTPATH_MOUNT}/\$DATA_FOLDER_NAME/; fi done cp -avb ${SHAKER_CONF} ${SHAKER_DATA_HOSTPATH_MOUNT}/\$DATA_FOLDER_NAME/ fi EOF if [ -z ${SHAKER_CONF_HOST} ] || [ ! -f ${SHAKER_CONF_HOST} ]; then tee -a /tmp/shaker.yaml << EOF shaker: shaker: DEFAULT: debug: ${DEBUG} cleanup_on_error: ${CLEANUP_ON_ERROR} scenario_compute_nodes: ${COMPUTE_NODES} report: ${SHAKER_DATA}/${REPORT_FILE} output: ${SHAKER_DATA}/${OUTPUT_FILE} scenario: ${SHAKER_SCENARIO} flavor_name: ${FLAVOR_ID} external_net: ${EXTERNAL_NETWORK_NAME} image_name: ${IMAGE_NAME} scenario_availability_zone: ${AVAILABILITY_ZONE} os_username: ${OS_USERNAME} os_password: ${OS_PASSWORD} os_auth_url: ${OS_AUTH_URL} os_project_name: ${OS_PROJECT_NAME} os_region_name: ${OS_REGION_NAME} os_identity_api_version: ${OS_IDENTITY_API_VERSION} os_interface: ${OS_INTERFACE} EOF if [ $OS_IDENTITY_API_VERSION = ""3"" ]; then tee -a /tmp/shaker.yaml << EOF os_project_domain_name: ${OS_PROJECT_DOMAIN_NAME} os_user_domain_name: ${OS_USER_DOMAIN_NAME} EOF fi else echo "" shaker:"" >> /tmp/shaker.yaml echo "" shaker:"" >> /tmp/shaker.yaml cp ${SHAKER_CONF_HOST} ${SHAKER_CONF_HOST}.tmp sed -i -e 's/^/ /' ${SHAKER_CONF_HOST}.tmp cat ${SHAKER_CONF_HOST}.tmp >> /tmp/shaker.yaml rm -rf ${SHAKER_CONF_HOST}.tmp fi helm upgrade --install shaker ./shaker \ --namespace=openstack \ --values=/tmp/shaker.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_SHAKER} #NOTE: Wait for deploy ./tools/gate/scripts/wait-for-pods.sh openstack 2400 #NOTE: Validate Deployment info kubectl get -n openstack jobs --show-all if [ -n $EXECUTE_TEST ]; then helm test shaker --timeout 2700 if [ $COPY_SHAKER_REPORTS_ON_HOST = ""true"" ]; then shaker_pod_name=`kubectl -n openstack get pods | grep shaker-run-tests | cut -f1 -d' '` latest_data_folder=`cat ${SHAKER_DATA_HOSTPATH}/latest-shaker-data-name.txt` kubectl -n openstack logs ${shaker_pod_name} > ${SHAKER_DATA_HOSTPATH}/${latest_data_folder}/${shaker_pod_name}.logs fi fi ",0,286
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ifdbac876013068855cd4405ca1bbacd262ec4d74,openstack/openstack-ansible,stable/victoria,Ifdbac876013068855cd4405ca1bbacd262ec4d74,Fix permissions for files created on repo server,MERGED,2021-08-16 10:32:34.000000000,2021-08-23 17:15:51.000000000,2021-08-23 17:13:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-16 10:32:34.000000000', 'files': ['inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1c4dd4967bafa2afbe6c0980044770649c3bb9f9', 'message': ""Fix permissions for files created on repo server\n\nIf wheels or requirements files are created on a secondary\nrepo server these cannot be modified/deleted by the primary\nrepo server when it comes back online as this uses rsync as the\n'nginx' user. This patch allows the owner of the created files\nto be set explicitly to avoid this issue.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/804073\nChange-Id: Ifdbac876013068855cd4405ca1bbacd262ec4d74\n""}]",0,804693,1c4dd4967bafa2afbe6c0980044770649c3bb9f9,17,3,1,31542,,,0,"Fix permissions for files created on repo server

If wheels or requirements files are created on a secondary
repo server these cannot be modified/deleted by the primary
repo server when it comes back online as this uses rsync as the
'nginx' user. This patch allows the owner of the created files
to be set explicitly to avoid this issue.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/804073
Change-Id: Ifdbac876013068855cd4405ca1bbacd262ec4d74
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/804693/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/all.yml'],1,1c4dd4967bafa2afbe6c0980044770649c3bb9f9,," # Set permissions for repo server and files built on it repo_service_user_name: nginx repo_service_group_name: www-data venv_build_host_user_name: ""{{ repo_service_user_name }}"" venv_build_host_group_name: ""{{ repo_service_group_name }}""",,6,0
openstack%2Felection~master~I4e696ed130da77c7d6edad8b16aca31e79310810,openstack/election,master,I4e696ed130da77c7d6edad8b16aca31e79310810,Adding Gregory Thiemonge candidacy for Octavia PTL,MERGED,2021-08-23 16:35:56.000000000,2021-08-23 17:06:18.000000000,2021-08-23 17:02:06.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 16:35:56.000000000', 'files': ['candidates/yoga/Octavia/gthiemon@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/dd1c5b7652f6c1c7fe04b3c33e055a3f84458b0a', 'message': 'Adding Gregory Thiemonge candidacy for Octavia PTL\n\nChange-Id: I4e696ed130da77c7d6edad8b16aca31e79310810\n'}]",0,805662,dd1c5b7652f6c1c7fe04b3c33e055a3f84458b0a,8,3,1,29244,,,0,"Adding Gregory Thiemonge candidacy for Octavia PTL

Change-Id: I4e696ed130da77c7d6edad8b16aca31e79310810
",git fetch https://review.opendev.org/openstack/election refs/changes/62/805662/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Octavia/gthiemon@redhat.com'],1,dd1c5b7652f6c1c7fe04b3c33e055a3f84458b0a,,"Hi everyone, I would like to nominate myself for Octavia PTL for the Yoga release. I am the current PTL for the Xena release and I would like to continue to serve our team for the next release. I have been an Octavia contributor for more than 2 years, and a core reviewer for 3 releases. My focus will be to continue the tasks that we have worked on during Xena: completing the Amphorav2 driver feature, supporting multiple subnets on a Load Balancer VIP, improving our CI coverage, ... Thanks for your consideration, Gregory ",,14,0
openstack%2Fnova~stable%2Fussuri~I66299e97bdb5b95e149b1780231a1c1bbdbd9865,openstack/nova,stable/ussuri,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,NEW,2021-06-01 12:17:07.000000000,2021-08-23 17:04:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-01 12:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21e8cc17960dd4c78d1fa11f7ae23fb4c996258b', 'message': 'hardware: Use image_meta.id within get_mem_encryption_constraint\n\nThis change resolves bug #1928063 by replacing the use of\nimage_meta.name with image_meta.id as\nI55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always\navailable. The removal of other references to image_meta.name within\nvirt.hardware is left for follow ups to keep this change small and\nbackportable.\n\nNOTE(lyarwood): A simple func test conflict caused by\nI921c812ac03f7d32eec31200772020c17f292851 not being present in\nstable/wallaby.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1928063.py\n\nCloses-Bug: #1928063\nChange-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865\n(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)\n(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)\n(cherry picked from commit 880a7d77a66f89ff9e95029c5f1f4a22bb5777b3)\n'}, {'number': 2, 'created': '2021-06-01 19:05:59.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fcec038c3b6e8cc457c4b7476d3ab06a1c569e93', 'message': 'hardware: Use image_meta.id within get_mem_encryption_constraint\n\nThis change resolves bug #1928063 by replacing the use of\nimage_meta.name with image_meta.id as\nI55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always\navailable. The removal of other references to image_meta.name within\nvirt.hardware is left for follow ups to keep this change small and\nbackportable.\n\nNOTE(lyarwood): A simple func test conflict caused by\nI921c812ac03f7d32eec31200772020c17f292851 not being present in\nstable/wallaby. An additional change is made to the test to ensure\n_has_uefi_support passes regardless of the underlying host running the\ntests.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1928063.py\n\nCloses-Bug: #1928063\nChange-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865\n(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)\n(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)\n(cherry picked from commit 880a7d77a66f89ff9e95029c5f1f4a22bb5777b3)\n'}]",0,793958,fcec038c3b6e8cc457c4b7476d3ab06a1c569e93,9,1,2,10135,,,0,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby. An additional change is made to the test to ensure
_has_uefi_support passes regardless of the underlying host running the
tests.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)
(cherry picked from commit 880a7d77a66f89ff9e95029c5f1f4a22bb5777b3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/793958/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py']",3,21e8cc17960dd4c78d1fa11f7ae23fb4c996258b,bug/1928063," # Hard reboot the server self._reboot_server(server, hard=True)","from nova.tests.functional.api import client # FIXME(lyarwood): This is bug #1928063, the instance fails to reboot # due to a NotImplementedError exception being raised when we try to # access image_meta.name as this isn't stashed in the system_metadata # of the instance and as a result is not provided in the image_meta # associated with the instance during this flow. ex = self.assertRaises( client.OpenStackApiException, self._reboot_server, server, hard=True) self.assertEqual(500, ex.response.status_code)",7,15
openstack%2Fnova~stable%2Fvictoria~I66299e97bdb5b95e149b1780231a1c1bbdbd9865,openstack/nova,stable/victoria,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,NEW,2021-06-01 12:16:25.000000000,2021-08-23 17:04:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-01 12:16:25.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/880a7d77a66f89ff9e95029c5f1f4a22bb5777b3', 'message': 'hardware: Use image_meta.id within get_mem_encryption_constraint\n\nThis change resolves bug #1928063 by replacing the use of\nimage_meta.name with image_meta.id as\nI55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always\navailable. The removal of other references to image_meta.name within\nvirt.hardware is left for follow ups to keep this change small and\nbackportable.\n\nNOTE(lyarwood): A simple func test conflict caused by\nI921c812ac03f7d32eec31200772020c17f292851 not being present in\nstable/wallaby.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1928063.py\n\nCloses-Bug: #1928063\nChange-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865\n(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)\n(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)\n'}]",0,793957,880a7d77a66f89ff9e95029c5f1f4a22bb5777b3,5,1,1,10135,,,0,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/793957/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py']",3,880a7d77a66f89ff9e95029c5f1f4a22bb5777b3,bug/1928063," # Hard reboot the server self._reboot_server(server, hard=True)","from nova.tests.functional.api import client # FIXME(lyarwood): This is bug #1928063, the instance fails to reboot # due to a NotImplementedError exception being raised when we try to # access image_meta.name as this isn't stashed in the system_metadata # of the instance and as a result is not provided in the image_meta # associated with the instance during this flow. ex = self.assertRaises( client.OpenStackApiException, self._reboot_server, server, hard=True) self.assertEqual(500, ex.response.status_code)",7,15
openstack%2Fnova~stable%2Fwallaby~I66299e97bdb5b95e149b1780231a1c1bbdbd9865,openstack/nova,stable/wallaby,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,NEW,2021-06-01 12:15:15.000000000,2021-08-23 17:03:52.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 12:15:15.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/625e4e0fab5a34aa9f0b2f4a94f1559362821a37', 'message': 'hardware: Use image_meta.id within get_mem_encryption_constraint\n\nThis change resolves bug #1928063 by replacing the use of\nimage_meta.name with image_meta.id as\nI55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always\navailable. The removal of other references to image_meta.name within\nvirt.hardware is left for follow ups to keep this change small and\nbackportable.\n\nNOTE(lyarwood): A simple func test conflict caused by\nI921c812ac03f7d32eec31200772020c17f292851 not being present in\nstable/wallaby.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1928063.py\n\nCloses-Bug: #1928063\nChange-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865\n(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)\n'}]",0,793956,625e4e0fab5a34aa9f0b2f4a94f1559362821a37,10,2,1,10135,,,0,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/793956/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py']",3,625e4e0fab5a34aa9f0b2f4a94f1559362821a37,bug/1928063," # Hard reboot the server self._reboot_server(server, hard=True)","from nova.tests.functional.api import client # FIXME(lyarwood): This is bug #1928063, the instance fails to reboot # due to a NotImplementedError exception being raised when we try to # access image_meta.name as this isn't stashed in the system_metadata # of the instance and as a result is not provided in the image_meta # associated with the instance during this flow. ex = self.assertRaises( client.OpenStackApiException, self._reboot_server, server, hard=True) self.assertEqual(500, ex.response.status_code)",7,15
openstack%2Fnova~stable%2Ftrain~I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,openstack/nova,stable/train,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,NEW,2021-06-01 20:50:26.000000000,2021-08-23 17:03:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-01 20:50:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97ca8a8728250fe612f6fc9ecd29caa0e78e36c7', 'message': 'image_meta: Provide image_ref as the id when fetching from instance\n\nAt present various users of instance.image_meta expect it to be a fully\npopulated ImageMeta object. However when the instance is pulled from the\ndatabase the ImageMeta object is only partially populated via\ninstance.system_metadata with a limited set of attributes such as\nmin_ram, min_disk, disk_format and container_format. This can result in\nNotImplementedErrors being raised by o.vo as seen in bug #1928063 when\nan attempt is made to access common attributes such as id or name.\n\nTo avoid this the id is now provided by instance.image_ref when\navailable.\n\nThe majority of the change is test fallout and ensuring that valid UUIDs\nare provided as instance.image_ref and used by instance.image_meta.\n\nNOTE(lyarwood): Conflicts caused by\nI3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057,\nI25eff0271c856a8d3e83867b448e1dec6f6732ab and\nI0b81282eba8238d8b64a67e38cf9d6392de1f85c not being present on\nstable/train.\n\nConflicts:\n  nova/tests/unit/api/openstack/compute/test_serversV21.py\n  nova/tests/unit/compute/test_compute_api.py\n  nova/tests/unit/virt/libvirt/test_driver.py\n\nRelated-Bug: #1928063\nChange-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea\n(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)\n(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)\n(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)\n(cherry picked from commit b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3)\n'}]",0,794042,97ca8a8728250fe612f6fc9ecd29caa0e78e36c7,5,1,1,10135,,,0,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

NOTE(lyarwood): Conflicts caused by
I3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057,
I25eff0271c856a8d3e83867b448e1dec6f6732ab and
I0b81282eba8238d8b64a67e38cf9d6392de1f85c not being present on
stable/train.

Conflicts:
  nova/tests/unit/api/openstack/compute/test_serversV21.py
  nova/tests/unit/compute/test_compute_api.py
  nova/tests/unit/virt/libvirt/test_driver.py

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)
(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)
(cherry picked from commit b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/794042/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",11,97ca8a8728250fe612f6fc9ecd29caa0e78e36c7,bug/1928063," instance_ref['image_ref'] = uuids.image_ref instance_ref['image_ref'] = uuids.image_ref instance_ref['image_ref'] = uuids.image_ref {'filename': imagecache.get_cache_fname(uuids.image_ref), self.assertEqual(wantFiles, gotFiles) instance_ref['image_ref'] = uuids.image_ref return_value={}) return_value={}) return_value={}) image_ref=uuids.image_ref) shelved_image_ref = uuids.shelved_image_ref self.inst['image_ref'] = ''"," instance_ref['image_ref'] = 1 instance_ref['image_ref'] = 'my_fake_image' instance_ref['image_ref'] = 1 {'filename': '356a192b7913b04c54574d18c28d46e6395428ab', self.assertEqual(gotFiles, wantFiles) instance_ref['image_ref'] = 1 return_value=None) return_value=None) return_value=None) image_ref='my_fake_image') shelved_image_ref = 'shelved_image_ref'",125,91
openstack%2Fnova~stable%2Fussuri~I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,openstack/nova,stable/ussuri,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,NEW,2021-05-27 10:49:02.000000000,2021-08-23 17:03:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-27 10:49:02.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3', 'message': 'image_meta: Provide image_ref as the id when fetching from instance\n\nAt present various users of instance.image_meta expect it to be a fully\npopulated ImageMeta object. However when the instance is pulled from the\ndatabase the ImageMeta object is only partially populated via\ninstance.system_metadata with a limited set of attributes such as\nmin_ram, min_disk, disk_format and container_format. This can result in\nNotImplementedErrors being raised by o.vo as seen in bug #1928063 when\nan attempt is made to access common attributes such as id or name.\n\nTo avoid this the id is now provided by instance.image_ref when\navailable.\n\nThe majority of the change is test fallout and ensuring that valid UUIDs\nare provided as instance.image_ref and used by instance.image_meta.\n\nNOTE(lyarwood): Conflicts as I67504a37b0fe2ae5da3cba2f3122d9d0e18b9481\nand I1ff51f608b85dbb621814e70079ecfdd3d1a1d22 are not present in\nstable/ussuri.\n\nConflicts:\n  nova/tests/unit/compute/test_compute.py\n  nova/tests/unit/virt/libvirt/test_driver.py\n\nRelated-Bug: #1928063\nChange-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea\n(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)\n(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)\n(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)\n'}]",0,793374,b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3,5,1,1,10135,,,0,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

NOTE(lyarwood): Conflicts as I67504a37b0fe2ae5da3cba2f3122d9d0e18b9481
and I1ff51f608b85dbb621814e70079ecfdd3d1a1d22 are not present in
stable/ussuri.

Conflicts:
  nova/tests/unit/compute/test_compute.py
  nova/tests/unit/virt/libvirt/test_driver.py

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)
(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/793374/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",11,b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3,bug/1928063," instance_ref['image_ref'] = uuids.image_ref instance_ref['image_ref'] = uuids.image_ref instance_ref['image_ref'] = uuids.image_ref {'filename': imagecache.get_cache_fname(uuids.image_ref), self.assertEqual(wantFiles, gotFiles) instance_ref['image_ref'] = uuids.image_ref return_value={}) return_value={}) return_value={}) image_ref=uuids.image_ref) image_ref=uuids.shelved_instance_snapshot_id, base_image_ref=uuids.original_image_id, image_ref=uuids.shelved_instance_snapshot_id, base_image_ref=uuids.original_image_id, image_ref=uuids.resized_instance_snapshot_id, base_image_ref=uuids.original_image_id, image_ref=uuids.resized_instance_snapshot_id, base_image_ref=uuids.original_image_id, image_ref=uuids.original_image_id, base_image_ref=uuids.original_image_id, self.inst['image_ref'] = ''"," instance_ref['image_ref'] = 1 instance_ref['image_ref'] = 'my_fake_image' instance_ref['image_ref'] = 1 {'filename': '356a192b7913b04c54574d18c28d46e6395428ab', self.assertEqual(gotFiles, wantFiles) instance_ref['image_ref'] = 1 return_value=None) return_value=None) return_value=None) image_ref='my_fake_image') image_ref='snapshot_id_of_shelved_instance', base_image_ref='original_image_id', image_ref='snapshot_id_of_shelved_instance', base_image_ref='original_image_id', image_ref='snapshot_id_of_resized_instance', base_image_ref='original_image_id', image_ref='snapshot_id_of_resized_instance', base_image_ref='original_image_id', image_ref='original_image_id', base_image_ref='original_image_id',",145,102
openstack%2Fnova~stable%2Fvictoria~Ieb19b4e5ffde56b7f72805aa231f595f45989e60,openstack/nova,stable/victoria,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,NEW,2021-05-25 08:03:14.000000000,2021-08-23 17:02:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-25 08:03:14.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1928063.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5', 'message': 'Add regression test for bug #1928063\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)\n(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)\n'}]",0,792903,464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5,4,1,1,10135,,,0,"Add regression test for bug #1928063

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/792903/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1928063.py'],1,464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5,bug/1928063,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import mock from oslo_utils.fixture import uuidsentinel as uuids from nova import test from nova.tests.functional.api import client from nova.tests.functional.libvirt import base from nova.tests.unit.virt.libvirt import fakelibvirt from nova.virt.libvirt.host import SEV_KERNEL_PARAM_FILE class TestSEVInstanceReboot(base.ServersTestBase): """"""Regression test for bug #1899835 This regression test aims to assert the failure to hard reboot SEV based instances due to the use of image_meta.name within nova.virt.hardware.get_mem_encryption_constraint. """""" microversion = 'latest' @test.patch_exists(SEV_KERNEL_PARAM_FILE, True) @test.patch_open(SEV_KERNEL_PARAM_FILE, ""1\n"") @mock.patch.object( fakelibvirt.virConnect, '_domain_capability_features', new=fakelibvirt.virConnect._domain_capability_features_with_SEV) def setUp(self): super().setUp() # Configure the compute to allow SEV based instances and then start self.flags(num_memory_encrypted_guests=16, group='libvirt') self.start_compute() # Create a SEV enabled image for the test sev_image = copy.deepcopy(self.glance.image1) sev_image['id'] = uuids.sev_image_id sev_image['properties']['hw_firmware_type'] = 'uefi' sev_image['properties']['hw_machine_type'] = 'q35' sev_image['properties']['hw_mem_encryption'] = 'True' self.glance.create(None, sev_image) def test_hard_reboot(self): # Launch a SEV based instance and then attempt to hard reboot server = self._create_server( image_uuid=uuids.sev_image_id, networks='none' ) # FIXME(lyarwood): This is bug #1928063, the instance fails to reboot # due to a NotImplementedError exception being raised when we try to # access image_meta.name as this isn't stashed in the system_metadata # of the instance and as a result is not provided in the image_meta # associated with the instance during this flow. ex = self.assertRaises( client.OpenStackApiException, self._reboot_server, server, hard=True) self.assertEqual(500, ex.response.status_code) ",,69,0
openstack%2Fnova~stable%2Fussuri~Ieb19b4e5ffde56b7f72805aa231f595f45989e60,openstack/nova,stable/ussuri,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,NEW,2021-05-27 10:49:02.000000000,2021-08-23 17:02:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-27 10:49:02.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1928063.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ff1ccfba542e9ffb027aa5fb91e7c9080264f9a', 'message': 'Add regression test for bug #1928063\n\nNOTE(lyarwood): The following changes were required on stable/ussuri:\n\n* We no longer use the latest microversion as the base ServersTestBase\n  class inherits from nova.tests.functional.test_servers.base instead of\n  integrated_helpers._IntegratedTestBase as introduced by\n  I999fc4aaf14cca02e4ed730afb844a043b59530c in stable/victoria.\n\n* start_computes is used to launch the libvirt based compute service as\n  I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc is not present on\n  stable/ussuri.\n\n* The fake_image_service is now used as\n  I6daea47988181dfa6dde3d9c42004c0ecf6ae87a is not present on\n  stable/ussuri. This includes switching to calling .show to deepcopy\n  an original image from the fixture.\n\n* _reboot_server is inlined from\n  I03bcd6753ed776d2ee216dcdca48514e5da8c43e.\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)\n(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)\n(cherry picked from commit 464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5)\n'}]",0,793372,8ff1ccfba542e9ffb027aa5fb91e7c9080264f9a,4,1,1,10135,,,0,"Add regression test for bug #1928063

NOTE(lyarwood): The following changes were required on stable/ussuri:

* We no longer use the latest microversion as the base ServersTestBase
  class inherits from nova.tests.functional.test_servers.base instead of
  integrated_helpers._IntegratedTestBase as introduced by
  I999fc4aaf14cca02e4ed730afb844a043b59530c in stable/victoria.

* start_computes is used to launch the libvirt based compute service as
  I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc is not present on
  stable/ussuri.

* The fake_image_service is now used as
  I6daea47988181dfa6dde3d9c42004c0ecf6ae87a is not present on
  stable/ussuri. This includes switching to calling .show to deepcopy
  an original image from the fixture.

* _reboot_server is inlined from
  I03bcd6753ed776d2ee216dcdca48514e5da8c43e.

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)
(cherry picked from commit 464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/793372/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1928063.py'],1,8ff1ccfba542e9ffb027aa5fb91e7c9080264f9a,bug/1928063,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslo_utils.fixture import uuidsentinel as uuids from nova import test from nova.tests.functional.api import client from nova.tests.functional.libvirt import base from nova.tests.unit import fake_notifier from nova.tests.unit.virt.libvirt import fakelibvirt from nova.virt.libvirt.host import SEV_KERNEL_PARAM_FILE class TestSEVInstanceReboot(base.ServersTestBase): """"""Regression test for bug #1899835 This regression test aims to assert the failure to hard reboot SEV based instances due to the use of image_meta.name within nova.virt.hardware.get_mem_encryption_constraint. """""" @test.patch_exists(SEV_KERNEL_PARAM_FILE, True) @test.patch_open(SEV_KERNEL_PARAM_FILE, ""1\n"") @mock.patch.object( fakelibvirt.virConnect, '_domain_capability_features', new=fakelibvirt.virConnect._domain_capability_features_with_SEV) def setUp(self): super().setUp() # Configure the compute to allow SEV based instances and then start self.flags(num_memory_encrypted_guests=16, group='libvirt') host_info = fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=2, kB_mem=15740000) self.start_computes(host_info_dict={'compute1': host_info}) # Create a SEV enabled image for the test sev_image = self.fake_image_service.show( None, '155d900f-4e14-4e4c-a73d-069cbf4541e6') sev_image['id'] = uuids.sev_image_id sev_image['properties']['hw_firmware_type'] = 'uefi' sev_image['properties']['hw_machine_type'] = 'q35' sev_image['properties']['hw_mem_encryption'] = 'True' self.fake_image_service.create(None, sev_image) def _reboot_server(self, server, hard=False, expected_state='ACTIVE'): """"""Reboot a server."""""" self.api.post_server_action( server['id'], {'reboot': {'type': 'HARD' if hard else 'SOFT'}}, ) fake_notifier.wait_for_versioned_notifications('instance.reboot.end') return self._wait_for_state_change(server, expected_state) def test_hard_reboot(self): # Launch a SEV based instance and then attempt to hard reboot server = self._create_server( image_uuid=uuids.sev_image_id, ) # FIXME(lyarwood): This is bug #1928063, the instance fails to reboot # due to a NotImplementedError exception being raised when we try to # access image_meta.name as this isn't stashed in the system_metadata # of the instance and as a result is not provided in the image_meta # associated with the instance during this flow. ex = self.assertRaises( client.OpenStackApiException, self._reboot_server, server, hard=True) self.assertEqual(500, ex.response.status_code) ",,78,0
openstack%2Fnova~stable%2Fwallaby~Ieb19b4e5ffde56b7f72805aa231f595f45989e60,openstack/nova,stable/wallaby,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,NEW,2021-05-25 08:01:35.000000000,2021-08-23 17:02:04.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 08:01:35.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1928063.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/75f223097f9744edb93db0fedb0b16a0e4860c01', 'message': 'Add regression test for bug #1928063\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)\n'}]",0,792902,75f223097f9744edb93db0fedb0b16a0e4860c01,9,2,1,10135,,,0,"Add regression test for bug #1928063

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/792902/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1928063.py'],1,75f223097f9744edb93db0fedb0b16a0e4860c01,bug/1928063,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import mock from oslo_utils.fixture import uuidsentinel as uuids from nova import test from nova.tests.functional.api import client from nova.tests.functional.libvirt import base from nova.tests.unit.virt.libvirt import fakelibvirt from nova.virt.libvirt.host import SEV_KERNEL_PARAM_FILE class TestSEVInstanceReboot(base.ServersTestBase): """"""Regression test for bug #1899835 This regression test aims to assert the failure to hard reboot SEV based instances due to the use of image_meta.name within nova.virt.hardware.get_mem_encryption_constraint. """""" microversion = 'latest' @test.patch_exists(SEV_KERNEL_PARAM_FILE, True) @test.patch_open(SEV_KERNEL_PARAM_FILE, ""1\n"") @mock.patch.object( fakelibvirt.virConnect, '_domain_capability_features', new=fakelibvirt.virConnect._domain_capability_features_with_SEV) def setUp(self): super().setUp() # Configure the compute to allow SEV based instances and then start self.flags(num_memory_encrypted_guests=16, group='libvirt') self.start_compute() # Create a SEV enabled image for the test sev_image = copy.deepcopy(self.glance.image1) sev_image['id'] = uuids.sev_image_id sev_image['properties']['hw_firmware_type'] = 'uefi' sev_image['properties']['hw_machine_type'] = 'q35' sev_image['properties']['hw_mem_encryption'] = 'True' self.glance.create(None, sev_image) def test_hard_reboot(self): # Launch a SEV based instance and then attempt to hard reboot server = self._create_server( image_uuid=uuids.sev_image_id, networks='none' ) # FIXME(lyarwood): This is bug #1928063, the instance fails to reboot # due to a NotImplementedError exception being raised when we try to # access image_meta.name as this isn't stashed in the system_metadata # of the instance and as a result is not provided in the image_meta # associated with the instance during this flow. ex = self.assertRaises( client.OpenStackApiException, self._reboot_server, server, hard=True) self.assertEqual(500, ex.response.status_code) ",,69,0
openstack%2Felection~master~Ib0aacad26694e0f2e439833e27fedd1326469520,openstack/election,master,Ib0aacad26694e0f2e439833e27fedd1326469520,Remove projects with DPL model,MERGED,2021-08-23 16:24:36.000000000,2021-08-23 16:51:58.000000000,2021-08-23 16:50:39.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 16:24:36.000000000', 'files': ['candidates/yoga/Mistral/.placeholder', 'candidates/yoga/Keystone/.placeholder', 'candidates/yoga/Oslo/.placeholder'], 'web_link': 'https://opendev.org/openstack/election/commit/feb425a988c4cf58a3b006bb081402b3ff115b99', 'message': 'Remove projects with DPL model\n\nProjects with DPL model does not need\nPTL candidacy so removing those from\nthe placeholder directories.\n\nChange-Id: Ib0aacad26694e0f2e439833e27fedd1326469520\n'}]",0,805660,feb425a988c4cf58a3b006bb081402b3ff115b99,9,4,1,8556,,,0,"Remove projects with DPL model

Projects with DPL model does not need
PTL candidacy so removing those from
the placeholder directories.

Change-Id: Ib0aacad26694e0f2e439833e27fedd1326469520
",git fetch https://review.opendev.org/openstack/election refs/changes/60/805660/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/yoga/Keystone/.placeholder', 'candidates/yoga/Mistral/.placeholder', 'candidates/yoga/Oslo/.placeholder']",3,feb425a988c4cf58a3b006bb081402b3ff115b99,,,,0,0
openstack%2Felection~master~I8e0d65b0fe24df3996fafcb089822dc12731d0fb,openstack/election,master,I8e0d65b0fe24df3996fafcb089822dc12731d0fb,Adding Maysa de Macedo Souza candidacy for Kuryr PTL,MERGED,2021-08-23 16:11:52.000000000,2021-08-23 16:41:53.000000000,2021-08-23 16:39:16.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 16:11:52.000000000', 'files': ['candidates/yoga/Kuryr/maysa.macedo95@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/0aa351b107deac40d83673b91ffee39b025f7b6e', 'message': 'Adding Maysa de Macedo Souza candidacy for Kuryr PTL\n\nChange-Id: I8e0d65b0fe24df3996fafcb089822dc12731d0fb\n'}]",0,805658,0aa351b107deac40d83673b91ffee39b025f7b6e,8,3,1,27032,,,0,"Adding Maysa de Macedo Souza candidacy for Kuryr PTL

Change-Id: I8e0d65b0fe24df3996fafcb089822dc12731d0fb
",git fetch https://review.opendev.org/openstack/election refs/changes/58/805658/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Kuryr/maysa.macedo95@gmail.com'],1,0aa351b107deac40d83673b91ffee39b025f7b6e,yoga-candidacy,"Greetings, I would like to continue serving as Kuryr PTL for the Yoga cycle. I have started serving as Kuryr PTL in the Wallaby cycle. It has been a great opportunity to contribute back to the community as PTL and I would like to continue doing that. In the Xena cycle we achieved the following goals: * CI improvements: started moving gates to use OVN by default while still having a few supporting OVS. * Dev env improvements: Support for Kubeadm for DevStack installations. * Extended features in Kuryr: Support to reconcile Load Balancer with respective Kubernetes Service, improvement on the Kuryr logs. * Increased diversity of contributors with the great addition of contributors from the Outreachy program. For the next cycle, I propose the following goals for Kuryr: * Improve CI: we already did great improvements, but we must continuously work on it to provide better and quicker feedback during the development process. * Add new features and improvements in Kuryr: Migrate CNI code from pyroute2.IPDB to NDB; Add support for reconciliation of other Kubernetes resources; Reduce OpenStack resource usage; Provide better debugging by relying on Kubernetes events. Thank you, Maysa de Macedo Souza IRC: maysams ",,28,0
openstack%2Felection~master~I23fa47835267a1d0fb2aba8b515a9ec7d5c5d797,openstack/election,master,I23fa47835267a1d0fb2aba8b515a9ec7d5c5d797,Add Jay Bryant Yoga TC Candidacy,MERGED,2021-08-23 16:13:51.000000000,2021-08-23 16:40:41.000000000,2021-08-23 16:39:14.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 16:13:51.000000000', 'files': ['candidates/yoga/TC/jsbryant@electronicjungle.net'], 'web_link': 'https://opendev.org/openstack/election/commit/7381f90682edad14eeee62c9593e2889160710b9', 'message': 'Add Jay Bryant Yoga TC Candidacy\n\nI am announcing my Technical Committee\ncandidacy for the Yoga cycle.\n\nChange-Id: I23fa47835267a1d0fb2aba8b515a9ec7d5c5d797\n'}]",0,805659,7381f90682edad14eeee62c9593e2889160710b9,8,3,1,7198,,,0,"Add Jay Bryant Yoga TC Candidacy

I am announcing my Technical Committee
candidacy for the Yoga cycle.

Change-Id: I23fa47835267a1d0fb2aba8b515a9ec7d5c5d797
",git fetch https://review.opendev.org/openstack/election refs/changes/59/805659/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/TC/jsbryant@electronicjungle.net'],1,7381f90682edad14eeee62c9593e2889160710b9,jsb-Yoga-TC-Nomination,"Hello OpenStack Community! I would like to announce my candidacy for another term on the Technical Committee. First of all, I have appreciated the opportunity to serve on the TC for the last two years. I have endeavored to use this time to get to know the broader community better and have also tried to better understand the role and activities of the TC. With this experience under my belt I would like to continue to work with the TC in the coming year to address some of the challenges that currently face the community. Most importantly the challenge of getting more new companies and contributors to engage with the OpenStack community. I also would like to continue to work with the TC to innovate and improve OpenStack's processes given the always changing landscape of the community. I appreciate you all taking the time to read/consider my candidacy! Sincerely, Jay Bryant (jungleboyj) ",,23,0
openstack%2Fpython-tripleoclient~master~Id20ea18518080a502a4ccd9b54f6f153b2001c46,openstack/python-tripleoclient,master,Id20ea18518080a502a4ccd9b54f6f153b2001c46,Enable py38 test,MERGED,2021-08-19 05:40:06.000000000,2021-08-23 16:40:28.000000000,2021-08-23 16:36:08.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-08-19 05:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/69c20a0fae390c4af7012582327db1f2c07ce186', 'message': ""Enable py38 test\n\nAt some point in the near future we'll need to move\naway from Python 3.6. We should probably ensure\neverything is working for newer versions of python\nas well.\n\nChange-Id: Id20ea18518080a502a4ccd9b54f6f153b2001c46\n""}, {'number': 2, 'created': '2021-08-19 07:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aa4768a8a0ec125768fceea07a99e6bfc64870dc', 'message': ""Enable py38 test\n\nAt some point in the near future we'll need to move\naway from Python 3.6. We should probably ensure\neverything is working for newer versions of python\nas well.\n\nChange-Id: Id20ea18518080a502a4ccd9b54f6f153b2001c46\n""}, {'number': 3, 'created': '2021-08-19 07:12:25.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86381b4b6cfbdb0922e77e8c8020e96c5dc054e0', 'message': ""Enable py38 test\n\nAt some point in the near future we'll need to move\naway from Python 3.6. We should probably ensure\neverything is working for newer versions of python\nas well.\n\nChange-Id: Id20ea18518080a502a4ccd9b54f6f153b2001c46\n""}]",4,805113,86381b4b6cfbdb0922e77e8c8020e96c5dc054e0,16,6,3,30073,,,0,"Enable py38 test

At some point in the near future we'll need to move
away from Python 3.6. We should probably ensure
everything is working for newer versions of python
as well.

Change-Id: Id20ea18518080a502a4ccd9b54f6f153b2001c46
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/805113/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,69c20a0fae390c4af7012582327db1f2c07ce186,enable_py38_test, - openstack-tox-py38,,1,0
openstack%2Fpuppet-glance~master~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,master,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-22 23:44:21.000000000,2021-08-23 16:27:27.000000000,2021-08-23 16:27:27.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 23:44:21.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/ef245de8704392e61e7b9d730554595a6a7d429f', 'message': 'Fix wrong parameter name in deprecation warning\n\nChange-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93\n'}]",0,805539,ef245de8704392e61e7b9d730554595a6a7d429f,9,3,1,9816,,,0,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/39/805539/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,ef245de8704392e61e7b9d730554595a6a7d429f,,glance::backend::multistore::cinder::cinder_os_region_name instead.'),cinder::backend::multistore::cinder::cinder_os_region_name instead.'),1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59,openstack/tripleo-heat-templates,stable/wallaby,Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59,Support both frr 7.x and frr-8.0 concurrently,MERGED,2021-08-23 07:36:57.000000000,2021-08-23 16:23:09.000000000,2021-08-23 16:23:09.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 07:36:57.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8e252b031a24641c68a45f9d311e7d6ec7829fe', 'message': ""Support both frr 7.x and frr-8.0 concurrently\n\nfrr 7.x rpms use /usr/lib/frr/frr to start the FRR daemons.\nfrr 8.x rpms use /usr/libexec/frr/frrinit.sh\n\nLet's support both for the time being.\n\nTested on a tripleo master environment with frr 8.x rpms.\n\nChange-Id: Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59\n(cherry picked from commit c4bdaea3dc93092353ef7d21a17bed72d42ad840)\n""}]",0,805557,d8e252b031a24641c68a45f9d311e7d6ec7829fe,8,4,1,20172,,,0,"Support both frr 7.x and frr-8.0 concurrently

frr 7.x rpms use /usr/lib/frr/frr to start the FRR daemons.
frr 8.x rpms use /usr/libexec/frr/frrinit.sh

Let's support both for the time being.

Tested on a tripleo master environment with frr 8.x rpms.

Change-Id: Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59
(cherry picked from commit c4bdaea3dc93092353ef7d21a17bed72d42ad840)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/805557/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,d8e252b031a24641c68a45f9d311e7d6ec7829fe,frr-8.0-stable/wallaby, # Note: We can drop /usr/libexec/frr/frrinit.sh once we stop supporting/using frr 7.x command: bash -c $* -- eval if [ -f /usr/libexec/frr/frrinit.sh ]; then /usr/libexec/frr/frrinit.sh start; else /usr/lib/frr/frr start; fi && exec /bin/sleep infinity, command: bash -c $* -- eval /usr/lib/frr/frr start && exec /bin/sleep infinity,2,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~I8017a01853e8f8950e6e8c7c2337e384af8d7689,openstack/openstack-ansible,stable/wallaby,I8017a01853e8f8950e6e8c7c2337e384af8d7689,Add shallow_since to parallel git clone,MERGED,2021-08-18 09:35:27.000000000,2021-08-23 16:21:15.000000000,2021-08-23 16:19:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-18 09:35:27.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'playbooks/library/git_requirements.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c062982bc434d267b0a53dbfe60ee2ea7514ebd', 'message': ""Add shallow_since to parallel git clone\n\nshallow_since controls from which date history repo will be shallowed.\nIt has prescedence over depth, so when shallow_since is set for the repo\ndepth won't be used. This is handy\nfor some repos, like ceph-ansible, that\nmerge a lot of changes in bunches, which results in bootstrap issues.\n\nLater, shallow_since will be managed with osa CLI and bump will\nupdate this date for the repos in a-r-r.\n\nChange-Id: I8017a01853e8f8950e6e8c7c2337e384af8d7689\n(cherry picked from commit ed035fb275f8a296bfe29918931cbde2ff6da438)\n""}]",0,804868,9c062982bc434d267b0a53dbfe60ee2ea7514ebd,12,3,1,28619,,,0,"Add shallow_since to parallel git clone

shallow_since controls from which date history repo will be shallowed.
It has prescedence over depth, so when shallow_since is set for the repo
depth won't be used. This is handy
for some repos, like ceph-ansible, that
merge a lot of changes in bunches, which results in bootstrap issues.

Later, shallow_since will be managed with osa CLI and bump will
update this date for the repos in a-r-r.

Change-Id: I8017a01853e8f8950e6e8c7c2337e384af8d7689
(cherry picked from commit ed035fb275f8a296bfe29918931cbde2ff6da438)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/804868/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/library/git_requirements.py', 'scripts/get-ansible-role-requirements.yml']",2,9c062982bc434d267b0a53dbfe60ee2ea7514ebd,," default_depth: ""{{ role_clone_default_depth }}"" depth: ""{{ item.depth | default(role_clone_default_depth| default(omit)) }}"" role_clone_default_depth: 20"," default_depth: 20 depth: ""{{ item.depth | default('20') }}""",49,20
openstack%2Fironic-python-agent~master~I996aba47bc54309e15e7d56e4a96b23b8deb5c9c,openstack/ironic-python-agent,master,I996aba47bc54309e15e7d56e4a96b23b8deb5c9c,Move loading of IPMI module loading to a single point,MERGED,2021-08-06 08:35:05.000000000,2021-08-23 16:15:56.000000000,2021-08-23 16:14:14.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 08:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e478a29ebd5741322643f47713c66154c58a8059', 'message': ""Move loading of IPMI module loading to a single point\n\nThis means we do not have to rely on modprobe idempotency as\nmuch and it's less code duplication, which is always nice.\n\nSigned-off-by: Jonas Schäfer <jonas.schaefer@cloudandheat.com>\n\nChange-Id: I996aba47bc54309e15e7d56e4a96b23b8deb5c9c\n""}, {'number': 2, 'created': '2021-08-06 09:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3a21d63d4246cb2b9a0164fef76a7a90e93a64cc', 'message': ""Move loading of IPMI module loading to a single point\n\nThis means we do not have to rely on modprobe idempotency as\nmuch and it's less code duplication, which is always nice.\n\nSigned-off-by: Jonas Schäfer <jonas.schaefer@cloudandheat.com>\n\nChange-Id: I996aba47bc54309e15e7d56e4a96b23b8deb5c9c\n""}, {'number': 3, 'created': '2021-08-06 11:15:01.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6441db61ce0892c4e9c54ad720152b2ed41886e4', 'message': ""Move loading of IPMI module loading to a single point\n\nThis means we do not have to rely on modprobe idempotency as\nmuch and it's less code duplication, which is always nice.\n\nSigned-off-by: Jonas Schäfer <jonas.schaefer@cloudandheat.com>\n\nChange-Id: I996aba47bc54309e15e7d56e4a96b23b8deb5c9c\n""}]",0,803710,6441db61ce0892c4e9c54ad720152b2ed41886e4,22,4,3,33742,,,0,"Move loading of IPMI module loading to a single point

This means we do not have to rely on modprobe idempotency as
much and it's less code duplication, which is always nice.

Signed-off-by: Jonas Schäfer <jonas.schaefer@cloudandheat.com>

Change-Id: I996aba47bc54309e15e7d56e4a96b23b8deb5c9c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/10/803710/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,e478a29ebd5741322643f47713c66154c58a8059,bmc-mac-address-introspection,"def _load_ipmi_modules(): """"""Load kernel modules required for IPMI interaction. This is required to be called at least once before attempting to use ipmitool or related tools. """""" il_utils.try_execute('modprobe', 'ipmi_msghandler') il_utils.try_execute('modprobe', 'ipmi_devintf') il_utils.try_execute('modprobe', 'ipmi_si') _load_ipmi_modules()"," # These modules are rarely loaded automatically il_utils.try_execute('modprobe', 'ipmi_msghandler') il_utils.try_execute('modprobe', 'ipmi_devintf') il_utils.try_execute('modprobe', 'ipmi_si') # These modules are rarely loaded automatically il_utils.try_execute('modprobe', 'ipmi_msghandler') il_utils.try_execute('modprobe', 'ipmi_devintf') il_utils.try_execute('modprobe', 'ipmi_si') # These modules are rarely loaded automatically il_utils.try_execute('modprobe', 'ipmi_msghandler') il_utils.try_execute('modprobe', 'ipmi_devintf') il_utils.try_execute('modprobe', 'ipmi_si') ",12,15
openstack%2Fgovernance~master~Ic365d05bdccaa9d9ea76a2314084eb34fa79f5ed,openstack/governance,master,Ic365d05bdccaa9d9ea76a2314084eb34fa79f5ed,Select secure RBAC community-wide goal for Yoga cycle,MERGED,2021-08-06 16:21:24.000000000,2021-08-23 16:11:31.000000000,2021-08-23 16:09:39.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-06 16:21:24.000000000', 'files': ['goals/selected/yoga/index.rst', 'goals/selected/yoga/consistent-and-secure-rbac.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/922699aadeb7ca04a1a999a876c1e7288858f62b', 'message': 'Select secure RBAC community-wide goal for Yoga cycle\n\nChange-Id: Ic365d05bdccaa9d9ea76a2314084eb34fa79f5ed\n'}]",0,803783,922699aadeb7ca04a1a999a876c1e7288858f62b,14,8,1,8556,,,0,"Select secure RBAC community-wide goal for Yoga cycle

Change-Id: Ic365d05bdccaa9d9ea76a2314084eb34fa79f5ed
",git fetch https://review.opendev.org/openstack/governance refs/changes/83/803783/1 && git format-patch -1 --stdout FETCH_HEAD,"['goals/selected/yoga/index.rst', 'goals/selected/yoga/consistent-and-secure-rbac.rst']",2,922699aadeb7ca04a1a999a876c1e7288858f62b,formal-vote,,,9,0
openstack%2Felection~master~I4ab08ed61d74c40f3688a84c8d089f40e5137c0b,openstack/election,master,I4ab08ed61d74c40f3688a84c8d089f40e5137c0b,Add Yasufumi Ogawa candidacy for Tacker PTL,MERGED,2021-08-23 14:58:17.000000000,2021-08-23 16:08:38.000000000,2021-08-23 16:07:15.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 14:58:17.000000000', 'files': ['candidates/yoga/Tacker/yasufum.o@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/f3e7f12ffe30608d6cd0a15bde35b779fb7336e2', 'message': 'Add Yasufumi Ogawa candidacy for Tacker PTL\n\nChange-Id: I4ab08ed61d74c40f3688a84c8d089f40e5137c0b\n'}]",0,805656,f3e7f12ffe30608d6cd0a15bde35b779fb7336e2,8,3,1,25701,,,0,"Add Yasufumi Ogawa candidacy for Tacker PTL

Change-Id: I4ab08ed61d74c40f3688a84c8d089f40e5137c0b
",git fetch https://review.opendev.org/openstack/election refs/changes/56/805656/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Tacker/yasufum.o@gmail.com'],1,f3e7f12ffe30608d6cd0a15bde35b779fb7336e2,,"Hi, I'd like to propose my candidacy for Tacker PTL in Yoga cycle. I've contributed to Tacker to introduce ETSI-NVF standard compliant features from Victoria cycle as a PTL. It's still midway of roadmap of our development plan and I'll continue to lead the development in the next cycle. - Implement the latest container technology with ETSI NFV standard. - Support multi API versions which is a mechanism for operators enable to deploy mixed environment of multi-vendor products in which some products provide a stable version APIs while other products adopt move advanced ones. - Proceed to design and implement test framework under development in ETSI NFV TST to improve the quality of the product, not only unit tests and functional tests, but also introduce more sophisticated scheme such as robot framework. - And also new requirements will be proposed in the next PTG! Thanks, Yasufumi ",,13,0
openstack%2Felection~master~I7cc81dbc990685ae3ae9eb18a76a7fd64b79c28a,openstack/election,master,I7cc81dbc990685ae3ae9eb18a76a7fd64b79c28a,Set up empty directories for Yoga elections,MERGED,2021-08-18 13:27:14.000000000,2021-08-23 16:07:06.000000000,2021-08-23 16:05:29.000000000,"[{'_account_id': 2033}, {'_account_id': 2799}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 32070}]","[{'number': 1, 'created': '2021-08-18 13:27:14.000000000', 'files': ['candidates/yoga/Tacker/.placeholder', 'candidates/yoga/Blazar/.placeholder', 'candidates/yoga/Magnum/.placeholder', 'candidates/yoga/Manila/.placeholder', 'candidates/yoga/Monasca/.placeholder', 'candidates/yoga/TC/.placeholder', 'candidates/yoga/Octavia/.placeholder', 'candidates/yoga/Puppet_OpenStack/.placeholder', 'candidates/yoga/Trove/.placeholder', 'candidates/yoga/Masakari/.placeholder', 'candidates/yoga/Murano/.placeholder', 'candidates/yoga/Keystone/.placeholder', 'candidates/yoga/Heat/.placeholder', 'candidates/yoga/OpenStack_Charms/.placeholder', 'candidates/yoga/Release_Management/.placeholder', 'candidates/yoga/Adjutant/.placeholder', 'candidates/yoga/Openstack_Chef/.placeholder', 'candidates/yoga/Quality_Assurance/.placeholder', 'candidates/yoga/Cloudkitty/.placeholder', 'candidates/yoga/Storlets/.placeholder', 'candidates/yoga/Zaqar/.placeholder', 'candidates/yoga/OpenStackSDK/.placeholder', 'candidates/yoga/Requirements/.placeholder', 'candidates/yoga/Vitrage/.placeholder', 'candidates/yoga/Barbican/.placeholder', 'candidates/yoga/Telemetry/.placeholder', 'candidates/yoga/Solum/.placeholder', 'candidates/yoga/Ec2_Api/.placeholder', 'candidates/yoga/Mistral/.placeholder', 'candidates/yoga/OpenStackAnsible/.placeholder', 'candidates/yoga/Horizon/.placeholder', 'candidates/yoga/Kuryr/.placeholder', 'candidates/yoga/Sahara/.placeholder', 'candidates/yoga/Watcher/.placeholder', 'candidates/yoga/Zun/.placeholder', 'candidates/yoga/Cinder/.placeholder', 'candidates/yoga/Designate/.placeholder', 'candidates/yoga/Glance/.placeholder', 'candidates/yoga/Rally/.placeholder', 'candidates/yoga/OpenStack_Helm/.placeholder', 'candidates/yoga/Oslo/.placeholder', 'candidates/yoga/Swift/.placeholder', 'candidates/yoga/Ironic/.placeholder', 'candidates/yoga/Freezer/.placeholder', 'candidates/yoga/Senlin/.placeholder', 'candidates/yoga/Tripleo/.placeholder'], 'web_link': 'https://opendev.org/openstack/election/commit/dad9d634e685ede46612d5c957e95338155c1ebe', 'message': 'Set up empty directories for Yoga elections\n\nThis is the result of ""tox -evenv -- create-directories""\nfrom current configuration.yaml configuration\nreflected from Ic58a85b83f8178086a3f1721009ddd4af3594e50\n\nChange-Id: I7cc81dbc990685ae3ae9eb18a76a7fd64b79c28a\n'}]",0,805021,dad9d634e685ede46612d5c957e95338155c1ebe,12,7,1,14482,,,0,"Set up empty directories for Yoga elections

This is the result of ""tox -evenv -- create-directories""
from current configuration.yaml configuration
reflected from Ic58a85b83f8178086a3f1721009ddd4af3594e50

Change-Id: I7cc81dbc990685ae3ae9eb18a76a7fd64b79c28a
",git fetch https://review.opendev.org/openstack/election refs/changes/21/805021/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/yoga/Tacker/.placeholder', 'candidates/yoga/Blazar/.placeholder', 'candidates/yoga/Magnum/.placeholder', 'candidates/yoga/Manila/.placeholder', 'candidates/yoga/Monasca/.placeholder', 'candidates/yoga/TC/.placeholder', 'candidates/yoga/Octavia/.placeholder', 'candidates/yoga/Puppet_OpenStack/.placeholder', 'candidates/yoga/Trove/.placeholder', 'candidates/yoga/Masakari/.placeholder', 'candidates/yoga/Murano/.placeholder', 'candidates/yoga/Keystone/.placeholder', 'candidates/yoga/Heat/.placeholder', 'candidates/yoga/OpenStack_Charms/.placeholder', 'candidates/yoga/Release_Management/.placeholder', 'candidates/yoga/Adjutant/.placeholder', 'candidates/yoga/Openstack_Chef/.placeholder', 'candidates/yoga/Quality_Assurance/.placeholder', 'candidates/yoga/Cloudkitty/.placeholder', 'candidates/yoga/Storlets/.placeholder', 'candidates/yoga/Zaqar/.placeholder', 'candidates/yoga/OpenStackSDK/.placeholder', 'candidates/yoga/Requirements/.placeholder', 'candidates/yoga/Vitrage/.placeholder', 'candidates/yoga/Barbican/.placeholder', 'candidates/yoga/Telemetry/.placeholder', 'candidates/yoga/Solum/.placeholder', 'candidates/yoga/Ec2_Api/.placeholder', 'candidates/yoga/Mistral/.placeholder', 'candidates/yoga/OpenStackAnsible/.placeholder', 'candidates/yoga/Horizon/.placeholder', 'candidates/yoga/Kuryr/.placeholder', 'candidates/yoga/Sahara/.placeholder', 'candidates/yoga/Watcher/.placeholder', 'candidates/yoga/Zun/.placeholder', 'candidates/yoga/Cinder/.placeholder', 'candidates/yoga/Designate/.placeholder', 'candidates/yoga/Glance/.placeholder', 'candidates/yoga/Rally/.placeholder', 'candidates/yoga/OpenStack_Helm/.placeholder', 'candidates/yoga/Oslo/.placeholder', 'candidates/yoga/Swift/.placeholder', 'candidates/yoga/Ironic/.placeholder', 'candidates/yoga/Freezer/.placeholder', 'candidates/yoga/Senlin/.placeholder', 'candidates/yoga/Tripleo/.placeholder']",46,dad9d634e685ede46612d5c957e95338155c1ebe,yoga,,,0,0
openstack%2Felection~master~I0946ad04fe5be411b5b5e5ed3810873cf50c3b90,openstack/election,master,I0946ad04fe5be411b5b5e5ed3810873cf50c3b90,Modify Setup Yoga Elections configuration,MERGED,2021-06-29 17:02:33.000000000,2021-08-23 16:05:04.000000000,2021-08-23 16:01:46.000000000,"[{'_account_id': 2033}, {'_account_id': 2799}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 12898}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 32070}]","[{'number': 1, 'created': '2021-06-29 17:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/a25e83d32a4e1f21368bf195e175f8ad984b84eb', 'message': ""WIP: Setup Y Elections\n\nWe probably don't want to merge this till we actually have the Y\nrelease named, but I figured I would get the dates up for review.\n\nChange-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90\n""}, {'number': 2, 'created': '2021-07-13 21:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/73488435f2d637362f1330fe798cd218dcbbdef2', 'message': ""Setup Yoga Elections\n\nWe probably don't want to merge this till we actually have the Y\nrelease named, but I figured I would get the dates up for review.\n\nChange-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90\n""}, {'number': 3, 'created': '2021-07-20 19:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/f7e878498bb3bcdb9cc8dbb1963f96e3d87cb7b7', 'message': 'Setup Yoga Elections\n\nChange-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90\n'}, {'number': 4, 'created': '2021-07-21 00:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/ea9e51aaf8aca7212fb1bdae890ed2074b1de9d7', 'message': 'Setup Yoga Elections\n\nChange-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90\n'}, {'number': 5, 'created': '2021-08-20 16:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/1c0170f3d14299a78a94d82a91328256f60f61f2', 'message': '[WIP] Modify Setup Yoga Elections configuration\n\nChange-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90\n'}, {'number': 6, 'created': '2021-08-20 16:36:33.000000000', 'files': ['configuration.yaml'], 'web_link': 'https://opendev.org/openstack/election/commit/25508aa7268298529a8f0662a10540ed7a980bd1', 'message': 'Modify Setup Yoga Elections configuration\n\n- Change tag with correct format\n- Nomination period for TC & PTL needs to be separated in yaml\n\nChange-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90\n'}]",18,798719,25508aa7268298529a8f0662a10540ed7a980bd1,43,9,6,16708,,,0,"Modify Setup Yoga Elections configuration

- Change tag with correct format
- Nomination period for TC & PTL needs to be separated in yaml

Change-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90
",git fetch https://review.opendev.org/openstack/election refs/changes/19/798719/4 && git format-patch -1 --stdout FETCH_HEAD,['configuration.yaml'],1,a25e83d32a4e1f21368bf195e175f8ad984b84eb,y-election-dates,release: y-release election_type: combined tag: oct-2021-elections tc_seats: 4 timeframe: name: Wallaby-Xena start: 2020-09-25T00:00 end: 2021-08-10T00:00 email_deadline: 2021-08-10T00:00 timeline: - name: TC Nominations start: 2021-08-03T23:45 end: 2021-08-10T23:45 - name: PTL Nominations start: 2021-08-03T23:45 end: 2021-08-10T23:45 - name: TC Campaigning start: 2021-08-10T23:45 end: 2021-08-17T23:45 - name: TC Election start: 2021-08-17T23:45 end: 2021-08-24T23:45 - name: PTL Election start: 2021-08-17T23:45 end: 2021-08-24T23:45,release: xena election_type: tc tag: 892c4f3a851428cf41bab57c6c283e82f1df06d8 tc_seats: 5 timeframe: name: Victoria-Wallaby start: 2020-04-24T00:00 end: 2021-03-08T00:00 email_deadline: 2021-03-08T00:00 timeline: - name: TC Vacancy Nominations start: 2021-03-25T23:45 end: 2021-04-08T23:45 - name: TC Vacancy Election start: 2021-04-08T23:45 end: 2021-04-15T23:45 ,23,14
openstack%2Felection~master~I3818010487f0016865742337ed42e86d7fe7f609,openstack/election,master,I3818010487f0016865742337ed42e86d7fe7f609,[Rally] Andrey Kurilin candidacy,MERGED,2021-08-23 13:33:31.000000000,2021-08-23 16:03:15.000000000,2021-08-23 16:01:44.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 13:33:31.000000000', 'files': ['candidates/yoga/Rally/andr.kurilin@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/24cf294861d7fdded7304f6ed5dffb31efa03c85', 'message': '[Rally] Andrey Kurilin candidacy\n\nChange-Id: I3818010487f0016865742337ed42e86d7fe7f609\n'}]",0,805642,24cf294861d7fdded7304f6ed5dffb31efa03c85,8,3,1,9545,,,0,"[Rally] Andrey Kurilin candidacy

Change-Id: I3818010487f0016865742337ed42e86d7fe7f609
",git fetch https://review.opendev.org/openstack/election refs/changes/42/805642/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Rally/andr.kurilin@gmail.com'],1,24cf294861d7fdded7304f6ed5dffb31efa03c85,yoga_rally,Do my best to keep the project alive and move it forward. ,,1,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ia0df205ea568f089c7cb7e5464bde76d294f4c36,openstack/python-tripleoclient,stable/wallaby,Ia0df205ea568f089c7cb7e5464bde76d294f4c36,"Deprecate --network-ports, enable it by default",MERGED,2021-08-09 17:10:34.000000000,2021-08-23 16:02:02.000000000,2021-08-23 15:58:58.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 17:10:34.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c5b1cc5f6d69bcbc3aa65aa4a882a0c20e35852', 'message': 'Deprecate --network-ports, enable it by default\n\nThe argument to enable disable node port management\nwhen provisioning or unprovisioning baremetal nodes can\nbe enabled by default.\n\nIt is needed to have an ansible inventory generated,\nwhich is required for whole-disk-image growpart execution\nin change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d.\nGrowpart should always run.\n\nConflicts:\n  tripleoclient/v1/overcloud_deploy.py\n\nChange-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36\n(cherry picked from commit b3bcf63fa51c2f9a1f6485fb19173b2329c12a45)\n'}]",0,803946,2c5b1cc5f6d69bcbc3aa65aa4a882a0c20e35852,9,5,1,24245,,,0,"Deprecate --network-ports, enable it by default

The argument to enable disable node port management
when provisioning or unprovisioning baremetal nodes can
be enabled by default.

It is needed to have an ansible inventory generated,
which is required for whole-disk-image growpart execution
in change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d.
Growpart should always run.

Conflicts:
  tripleoclient/v1/overcloud_deploy.py

Change-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36
(cherry picked from commit b3bcf63fa51c2f9a1f6485fb19173b2329c12a45)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/803946/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py']",4,2c5b1cc5f6d69bcbc3aa65aa4a882a0c20e35852,network-data-v2-backports," if (parsed_args.network_config ""--network-config"") ""manage_network_ports"": True, ""manage_network_ports"": True,"," if ((parsed_args.network_ports or parsed_args.network_config) ""--network-ports or --network-config"") ""manage_network_ports"": (parsed_args.network_ports or parsed_args.network_config), ""manage_network_ports"": (parsed_args.network_ports or parsed_args.network_config), parser.add_argument('--network-ports', help=_('Enable provisioning of network ports'), default=False, action=""store_true"")",26,19
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b,openstack/python-tripleoclient,stable/wallaby,I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b,Implement protected resource types,MERGED,2021-08-09 17:10:34.000000000,2021-08-23 16:00:34.000000000,2021-08-23 15:58:55.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-09 17:10:34.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/40e6f60c1c350177989bf71cf0736cf23b4c9424', 'message': ""Implement protected resource types\n\nWhen using the oc deploy command with the options\n--baremetal-provision, --vip-file and network-v2\nversion networks definition the heat environment\nfiles are added to user environments internally.\nIncluding the legacy environment files, such as\n`network-isolation.yaml` would result in overriding\nthe internally defined resource types and a failed\ndeployment.\n\nThis patch implements a check that will detect\nresource type conflicts and raise error if a\nprotected resource type is overriden.\n\nFor users that may still want/need to override the\nresource types, the protection can be disabled by\nsetting: `--disable-protected-resource-types`\n\nNOTE: Parameter's are left unprotected since\n  traditionally THT interfaces always allowed\n  overriding anything and everything.\n\nAlso refactor the process_multiple_environments\nmethod by splitting part of method to the new\nrewrite_env_path method, so that it can be used\nalso when checking for prohibited overrides.\n\nConflicts:\n  tripleoclient/tests/test_utils.py\n  tripleoclient/utils.py\n  tripleoclient/v1/overcloud_deploy.py\n\nDepends-On: I8008344f215be6a54e00d7d27b697375b7f88f0f\nChange-Id: I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b\n(cherry picked from commit 86522255e3763cbecf93328a94b4d888d9d4928d)\n""}]",0,803945,40e6f60c1c350177989bf71cf0736cf23b4c9424,24,5,1,24245,,,0,"Implement protected resource types

When using the oc deploy command with the options
--baremetal-provision, --vip-file and network-v2
version networks definition the heat environment
files are added to user environments internally.
Including the legacy environment files, such as
`network-isolation.yaml` would result in overriding
the internally defined resource types and a failed
deployment.

This patch implements a check that will detect
resource type conflicts and raise error if a
protected resource type is overriden.

For users that may still want/need to override the
resource types, the protection can be disabled by
setting: `--disable-protected-resource-types`

NOTE: Parameter's are left unprotected since
  traditionally THT interfaces always allowed
  overriding anything and everything.

Also refactor the process_multiple_environments
method by splitting part of method to the new
rewrite_env_path method, so that it can be used
also when checking for prohibited overrides.

Conflicts:
  tripleoclient/tests/test_utils.py
  tripleoclient/utils.py
  tripleoclient/v1/overcloud_deploy.py

Depends-On: I8008344f215be6a54e00d7d27b697375b7f88f0f
Change-Id: I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b
(cherry picked from commit 86522255e3763cbecf93328a94b4d888d9d4928d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/45/803945/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,40e6f60c1c350177989bf71cf0736cf23b4c9424,network-data-v2-backports," # A dictionary to store resource registry types that are internal, # and should not be overridden in user provided environments. protected_overrides = {'registry_entries': dict()} created_env_files = [ os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY)] self._provision_networks(parsed_args, new_tht_root, protected_overrides)) self._provision_virtual_ips(parsed_args, new_tht_root, protected_overrides)) self._provision_baremetal(parsed_args, new_tht_root, protected_overrides)) user_environments = [] if parsed_args.environment_directories: user_environments.extend(utils.load_environment_directories( user_environments.extend(parsed_args.environment_files) if (not parsed_args.disable_protected_resource_types and user_environments): rewritten_user_environments = [] for env_path in user_environments: env_path, abs_env_path = utils.rewrite_env_path( env_path, new_tht_root, user_tht_root) rewritten_user_environments.append((env_path, abs_env_path)) utils.check_prohibited_overrides(protected_overrides, rewritten_user_environments) created_env_files.extend(user_environments) def _provision_baremetal(self, parsed_args, tht_root, protected_overrides): utils.extend_protected_overrides(protected_overrides, output_path) def _provision_networks(self, parsed_args, tht_root, protected_overrides): utils.extend_protected_overrides(protected_overrides, output_path) def _provision_virtual_ips(self, parsed_args, tht_root, protected_overrides): utils.extend_protected_overrides(protected_overrides, output_path) parser.add_argument( '--disable-protected-resource-types', action='store_true', default=False, help=_('Disable protected resource type overrides. Resources ' 'types that are used internally are protected, and cannot ' 'be overridden in the user environment. Setting this ' 'argument disables the protection, allowing the protected ' 'resource types to be override in the user environment.') ) "," created_env_files = [] created_env_files.append( os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) self._provision_networks(parsed_args, new_tht_root)) self._provision_virtual_ips(parsed_args, new_tht_root)) self._provision_baremetal(parsed_args, new_tht_root)) if parsed_args.environment_directories: created_env_files.extend(utils.load_environment_directories( created_env_files.extend(parsed_args.environment_files) def _provision_baremetal(self, parsed_args, tht_root): def _provision_networks(self, parsed_args, tht_root): def _provision_virtual_ips(self, parsed_args, tht_root):",200,32
openstack%2Felection~master~Ieaf8c81760ef0b23d91c1381042f46964cf8551e,openstack/election,master,Ieaf8c81760ef0b23d91c1381042f46964cf8551e,Add TC candidacy for Ghanshyam Mann,MERGED,2021-08-20 17:56:51.000000000,2021-08-23 15:48:52.000000000,2021-08-23 15:46:53.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 17:56:51.000000000', 'files': ['candidates/yoga/TC/gmann@ghanshyammann.com'], 'web_link': 'https://opendev.org/openstack/election/commit/f69cec3a223fa32882d269d7364beb0181ddf521', 'message': 'Add TC candidacy for Ghanshyam Mann\n\nChange-Id: Ieaf8c81760ef0b23d91c1381042f46964cf8551e\n'}]",0,805445,f69cec3a223fa32882d269d7364beb0181ddf521,8,3,1,8556,,,0,"Add TC candidacy for Ghanshyam Mann

Change-Id: Ieaf8c81760ef0b23d91c1381042f46964cf8551e
",git fetch https://review.opendev.org/openstack/election refs/changes/45/805445/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/TC/gmann@ghanshyammann.com'],1,f69cec3a223fa32882d269d7364beb0181ddf521,,"Hello Everyone, I would like to announce my candidacy for another term on the Technical Committee. First of all, thanks for giving me the opportunity as the Technical Committee member in the previous terms. Apart from TC activities, I am currently a core developer in QA projects and Nova. Also, helping project-config, OpenStack zuul-jobs, Tempest plugins for bug fixes/Tempest compatibility and in the policy-popup team to make Openstack API policy more consistent and secure. And helping with community-wide goals; because we did not have any community-wide goals for the Xena cycle, I worked on finishing the previous cycles' pending goals. I am serving as TC chair in Xena cycle. TC directions have always been valuable and help to maintain the common standards in OpenStack. In my next term, I would like to continue doing cross-project teams work to solve OpenStack's common problems. Helping secure RBAC with Lance is one of my priority targets for the Yoga cycle, and we are also proposing that as a community-wide goal. Another area I would like to focus on improving TC interaction with community leaders and Board. Apart from that, I will continue working on the activities I am currently doing as TC and help the community grow. Thank you for reading and considering my candidacy. - Ghanshyam Mann (gmann) ",,27,0
openstack%2Felection~master~Iacd434701e5cfcbe081ab3399d8385c69fb39977,openstack/election,master,Iacd434701e5cfcbe081ab3399d8385c69fb39977,Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible in Yoga,MERGED,2021-08-23 06:36:37.000000000,2021-08-23 15:47:38.000000000,2021-08-23 15:45:59.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 06:36:37.000000000', 'files': ['candidates/yoga/OpenStackAnsible/noonedeadpunk@ya.ru'], 'web_link': 'https://opendev.org/openstack/election/commit/0e795edd4a166f80d71ebccfe23c080aa76c2a46', 'message': 'Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible in Yoga\n\nChange-Id: Iacd434701e5cfcbe081ab3399d8385c69fb39977\n'}]",0,805580,0e795edd4a166f80d71ebccfe23c080aa76c2a46,8,3,1,28619,,,0,"Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible in Yoga

Change-Id: Iacd434701e5cfcbe081ab3399d8385c69fb39977
",git fetch https://review.opendev.org/openstack/election refs/changes/80/805580/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/OpenStackAnsible/noonedeadpunk@ya.ru'],1,0e795edd4a166f80d71ebccfe23c080aa76c2a46,,"Hi everyone! I want to suggest my candidacy for PTL of the OpenStack-Ansible project in the Yoga cycle. My main focus as PTL for the upcoming release would be: * Do Yoga release without huge delay, so prefer releasing time instead of some new features * Keep roles relevant and reliable * Look for candidates for core reviewers role ",,11,0
openstack%2Felection~master~I55138ccd685218268c1d126c3b2dee536faa2f5b,openstack/election,master,I55138ccd685218268c1d126c3b2dee536faa2f5b,Add Rong Zhu's candidacy for Solum PTL (Yoga),MERGED,2021-08-22 03:02:36.000000000,2021-08-23 15:46:52.000000000,2021-08-23 15:46:52.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 03:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/9995645a09147f8f18d8cabdd7d69dded521c806', 'message': ""Add Rong Zhu's candidacy for Solum PTL (Yoga)\n\nChange-Id: I55138ccd685218268c1d126c3b2dee536faa2f5b\n""}, {'number': 2, 'created': '2021-08-22 03:04:18.000000000', 'files': ['candidates/yoga/Solum/aaronzhu1121@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/1fad79aaa7d1a81f5834c48ce91a5872d3a76e7d', 'message': ""Add Rong Zhu's candidacy for Solum PTL (Yoga)\n\nChange-Id: I55138ccd685218268c1d126c3b2dee536faa2f5b\n""}]",0,805512,1fad79aaa7d1a81f5834c48ce91a5872d3a76e7d,9,3,2,14107,,,0,"Add Rong Zhu's candidacy for Solum PTL (Yoga)

Change-Id: I55138ccd685218268c1d126c3b2dee536faa2f5b
",git fetch https://review.opendev.org/openstack/election refs/changes/12/805512/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,9995645a09147f8f18d8cabdd7d69dded521c806,,,,0,0
openstack%2Felection~master~Ifb0229558205d612b720bb1870ba6db5bbf5a9b1,openstack/election,master,Ifb0229558205d612b720bb1870ba6db5bbf5a9b1,Add Rong Zhu's candidacy for Murano PTL (Yoga),MERGED,2021-08-22 02:58:34.000000000,2021-08-23 15:46:50.000000000,2021-08-23 15:46:50.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-22 02:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/17ef2283dd1ffdea79dd73b16e426b140d797a45', 'message': ""Add Rong Zhu's candidacy for Murano PTL (Yoga)\n\nChange-Id: Ifb0229558205d612b720bb1870ba6db5bbf5a9b1\n""}, {'number': 2, 'created': '2021-08-22 03:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/07c629cdd6ef35070ffef70f1a1a70e5414c9cfa', 'message': ""Add Rong Zhu's candidacy for Murano PTL (Yoga)\n\nChange-Id: Ifb0229558205d612b720bb1870ba6db5bbf5a9b1\n""}, {'number': 3, 'created': '2021-08-23 01:46:32.000000000', 'files': ['candidates/yoga/Murano/aaronzhu1121@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/6a23542c0db29798c074c955b1ad00d11d724f35', 'message': ""Add Rong Zhu's candidacy for Murano PTL (Yoga)\n\nChange-Id: Ifb0229558205d612b720bb1870ba6db5bbf5a9b1\n""}]",0,805511,6a23542c0db29798c074c955b1ad00d11d724f35,13,4,3,14107,,,0,"Add Rong Zhu's candidacy for Murano PTL (Yoga)

Change-Id: Ifb0229558205d612b720bb1870ba6db5bbf5a9b1
",git fetch https://review.opendev.org/openstack/election refs/changes/11/805511/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,17ef2283dd1ffdea79dd73b16e426b140d797a45,,,,0,0
openstack%2Felection~master~Icee4d8d7f6036a932ce18b05e4637691df4ae968,openstack/election,master,Icee4d8d7f6036a932ce18b05e4637691df4ae968,Add Cong Ge's candidacy for Freezer PTL (Yoga),MERGED,2021-08-23 03:02:41.000000000,2021-08-23 15:46:48.000000000,2021-08-23 15:46:48.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 03:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/048bc4d931396abd7c19e18af1ab2781b3cadacd', 'message': ""Add Cong Ge's candidacy for Freezer PTL (Yoga)\n\nChange-Id: Icee4d8d7f6036a932ce18b05e4637691df4ae968\n""}, {'number': 2, 'created': '2021-08-23 03:09:44.000000000', 'files': ['candidates/yoga/Freezer/ge.cong@zte.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/a68d56ed43ba0fbaeefbfe42e689400e34d714be', 'message': ""Add Cong Ge's candidacy for Freezer PTL (Yoga)\n\nChange-Id: Icee4d8d7f6036a932ce18b05e4637691df4ae968\n""}]",0,805553,a68d56ed43ba0fbaeefbfe42e689400e34d714be,10,3,2,21387,,,0,"Add Cong Ge's candidacy for Freezer PTL (Yoga)

Change-Id: Icee4d8d7f6036a932ce18b05e4637691df4ae968
",git fetch https://review.opendev.org/openstack/election refs/changes/53/805553/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,048bc4d931396abd7c19e18af1ab2781b3cadacd,,,,0,0
openstack%2Felection~master~Ic58db00dab8358c01f12e4ceb0dce25addb90d8e,openstack/election,master,Ic58db00dab8358c01f12e4ceb0dce25addb90d8e,Adding Abhishek Kekane candidacy for Glance PTL,MERGED,2021-08-23 08:43:38.000000000,2021-08-23 15:46:25.000000000,2021-08-23 15:44:54.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 08:43:38.000000000', 'files': ['candidates/yoga/Glance/akekane@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/cdd21417a2bda00787029d2e1bd53ad52af13039', 'message': 'Adding Abhishek Kekane candidacy for Glance PTL\n\nChange-Id: Ic58db00dab8358c01f12e4ceb0dce25addb90d8e\n'}]",0,805603,cdd21417a2bda00787029d2e1bd53ad52af13039,8,3,1,9303,,,0,"Adding Abhishek Kekane candidacy for Glance PTL

Change-Id: Ic58db00dab8358c01f12e4ceb0dce25addb90d8e
",git fetch https://review.opendev.org/openstack/election refs/changes/03/805603/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Glance/akekane@redhat.com'],1,cdd21417a2bda00787029d2e1bd53ad52af13039,,"Hi All, I would like to announce my candidacy for Glance PTL for the Yoga cycle. I've had the great privilege of leading this team for the past four releases. During this time we worked towards improving and stabilizing image import workflow and the multiple stores support features. Over the past three/four years we've had a small team looking after Glance and planned the priorities accordingly. During Xean cycle we started putting efforts in refactoring policy enforcement to move policy checks at API layer and remove the current policy and authentication layer and implement secure RBAC project scope for metadef APIs. In Yoga our priority will be to implement system scope and mark secure RBAC feature as stable, remove policy and authentication layer rom code base. Also we will keep focusing on improving tempest coverage for glance. Thank you for taking my self nomination into consideration, Abhishek Kekane (abhishekk) ",,24,0
openstack%2Felection~master~Ia277ae2997d4bbc38b468774d69e368d3793e261,openstack/election,master,Ia277ae2997d4bbc38b468774d69e368d3793e261,Adding Matthias Runge candidacy for Telemetry,MERGED,2021-08-23 08:21:11.000000000,2021-08-23 15:45:58.000000000,2021-08-23 15:45:58.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 08:21:11.000000000', 'files': ['candidates/yoga/Telemetry/.placeholder', 'candidates/yoga/Telemetry/mrunge@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/5b946b2aad0da7158f7f9a76a41214ab9badb21f', 'message': 'Adding Matthias Runge candidacy for Telemetry\n\nChange-Id: Ia277ae2997d4bbc38b468774d69e368d3793e261\n'}]",0,805597,5b946b2aad0da7158f7f9a76a41214ab9badb21f,7,3,1,4264,,,0,"Adding Matthias Runge candidacy for Telemetry

Change-Id: Ia277ae2997d4bbc38b468774d69e368d3793e261
",git fetch https://review.opendev.org/openstack/election refs/changes/97/805597/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/yoga/Telemetry/.placeholder', 'candidates/yoga/Telemetry/mrunge@redhat.com']",2,5b946b2aad0da7158f7f9a76a41214ab9badb21f,mrunge_yoga,"Hi, with this, I'm throwing my hat a third time into the ring to serve as Telemetry PTL. During the last cycle, we deprecated Panko from the Telemetry stack, there will be no more panko releases for newer OpenStack versions. If someone is following one of the many OpenStack autoscaling examples, they will probably run into the issue that cpu_util is mentioned as the metric to watch. It has been removed a long time ago, but folks are still running into this and it may make sense to just add it back. Depending on community interest, I am planning to organize PTG sessions like we did last April. Thank you for your support and your consideration, Matthias ",,18,0
openstack%2Felection~master~If440e806c04fa89f70af4601cc83b625513b6b12,openstack/election,master,If440e806c04fa89f70af4601cc83b625513b6b12,Add XueFeng Liu candidacy for Senlin PTL in Yoga,MERGED,2021-08-23 03:16:21.000000000,2021-08-23 15:44:22.000000000,2021-08-23 15:43:05.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-23 03:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/da36205134194eb5a2a9668b703a69b29e28d079', 'message': 'test\n\nChange-Id: If440e806c04fa89f70af4601cc83b625513b6b12\n'}, {'number': 2, 'created': '2021-08-23 03:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/e1a968c5a4676c1d9e0502da7a9c0547b214314f', 'message': 'Add XueFeng Liu candidacy for Senlin PTL in Yoga\n\nChange-Id: If440e806c04fa89f70af4601cc83b625513b6b12\n'}, {'number': 3, 'created': '2021-08-23 05:01:04.000000000', 'files': ['candidates/yoga/Senlin/liu.xuefeng1@zte.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/6d98427824a73be0aad7c14dcf7f19be1947ce6d', 'message': 'Add XueFeng Liu candidacy for Senlin PTL in Yoga\n\nChange-Id: If440e806c04fa89f70af4601cc83b625513b6b12\n'}]",0,805554,6d98427824a73be0aad7c14dcf7f19be1947ce6d,15,4,3,22998,,,0,"Add XueFeng Liu candidacy for Senlin PTL in Yoga

Change-Id: If440e806c04fa89f70af4601cc83b625513b6b12
",git fetch https://review.opendev.org/openstack/election refs/changes/54/805554/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,da36205134194eb5a2a9668b703a69b29e28d079,,,,0,0
openstack%2Felection~master~I1bca31536211bebf591d56e9ed6b2516c2584b03,openstack/election,master,I1bca31536211bebf591d56e9ed6b2516c2584b03,Add Ke Chen candidacy for Watcher,MERGED,2021-08-19 14:28:08.000000000,2021-08-23 15:40:29.000000000,2021-08-23 15:39:08.000000000,"[{'_account_id': 14107}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-19 14:28:08.000000000', 'files': ['candidates/yoga/Watcher/chen.ke14@zte.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/db3f1b4ba4c90326a509fe94ddce66b0e9d4732f', 'message': 'Add Ke Chen candidacy for Watcher\n\nChange-Id: I1bca31536211bebf591d56e9ed6b2516c2584b03\n'}]",0,805232,db3f1b4ba4c90326a509fe94ddce66b0e9d4732f,22,6,1,28748,,,0,"Add Ke Chen candidacy for Watcher

Change-Id: I1bca31536211bebf591d56e9ed6b2516c2584b03
",git fetch https://review.opendev.org/openstack/election refs/changes/32/805232/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Watcher/chen.ke14@zte.com.cn'],1,db3f1b4ba4c90326a509fe94ddce66b0e9d4732f,,"Hi, I would like to announce my candidacy for Watcher PTL for the Yoga cycle. For the new cycle, we will continue to focus on the performance and stability. I hope that new contributors will join on the project. Thanks, Ke Chen (chenke) ",,10,0
openstack%2Felection~master~Idaea3f0b9c38e68a314c38b9ae574fd9de1ab369,openstack/election,master,Idaea3f0b9c38e68a314c38b9ae574fd9de1ab369,Add Kendall Nelson's Candidacy for TC,MERGED,2021-08-22 22:24:35.000000000,2021-08-23 15:36:14.000000000,2021-08-23 15:34:52.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 22:24:35.000000000', 'files': ['candidates/yoga/TC/kennelson11@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/5c524227dae29c9f917a80c6b69a78b862074340', 'message': ""Add Kendall Nelson's Candidacy for TC\n\nChange-Id: Idaea3f0b9c38e68a314c38b9ae574fd9de1ab369\n""}]",0,805536,5c524227dae29c9f917a80c6b69a78b862074340,8,3,1,16708,,,0,"Add Kendall Nelson's Candidacy for TC

Change-Id: Idaea3f0b9c38e68a314c38b9ae574fd9de1ab369
",git fetch https://review.opendev.org/openstack/election refs/changes/36/805536/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/TC/kennelson11@gmail.com'],1,5c524227dae29c9f917a80c6b69a78b862074340,diablo_rojo_candidacy,"Hello Everyone! It has been my pleasure to serve the OpenStack community on the Technical Committee over the last two years, but I don't feel my work is done. I have been involved in OpenStack for about six years now and in that time I have picked up a variety of roles- the dirty jobs- that help keep our community healthy and moving forward. I think these roles, particularly those focused on bringing in new contributors, give me a valuable perspective that I want to continue to bring as a member of the Technical Committee. If re-elected I would also continue to keep our community collaborating with and connected to the Kubernetes community. We have knowledge to share with them just as they do with us and our communties integrate (and improve that integration) with each other technically as well. - Kendall Nelson (diablo_rojo) ",,20,0
openstack%2Fneutron-specs~master~If9f137a839b37f8262f4842b34401a13967ed43e,openstack/neutron-specs,master,If9f137a839b37f8262f4842b34401a13967ed43e,Add Node-Local Virtual IP Spec,MERGED,2021-06-24 03:38:57.000000000,2021-08-23 15:21:22.000000000,2021-08-23 15:19:55.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 21273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 03:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3079e6bb0a8ca0f563929b5d605bbf3be4dd0b85', 'message': '[WIP] Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 2, 'created': '2021-06-29 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e90e6d08a729bb89b375cd16e390179688e811c9', 'message': '[WIP] Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 3, 'created': '2021-06-29 15:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/62d30e24513e4baa74a2ddf7e57fa6a7dfc16a91', 'message': '[WIP] Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 4, 'created': '2021-06-29 15:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1870b6a3f102a6eb4a0697825d8eb72544775b0c', 'message': '[WIP] Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 5, 'created': '2021-07-06 09:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e0107dbedb066813764e1fa2be3c5c6111b66eea', 'message': '[WIP] Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 6, 'created': '2021-07-08 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4c5043394b5a8cd61ab4c4a43c013ccf3c487f19', 'message': '[WIP] Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 7, 'created': '2021-07-19 08:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5bd45f3dea9c55d39fc533f10058b26dfeed1dc4', 'message': '[WIP] Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 8, 'created': '2021-07-22 12:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3eca9d126ae9956703c68a8b0a0db02df0b5b8d9', 'message': 'Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 9, 'created': '2021-07-26 12:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8a9dfd75f3b60cfe1e3980cd2678bc6d932192cc', 'message': 'Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 10, 'created': '2021-08-16 08:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/646f9ef73efbde6fc774542c59f1727b98ac64bb', 'message': 'Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 11, 'created': '2021-08-17 09:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/86feea18d3b81b94ec555adf31dcabddaecbf56d', 'message': 'Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}, {'number': 12, 'created': '2021-08-17 10:52:01.000000000', 'files': ['specs/xena/node-local-ip.rst', 'images/node-local-ip-solution.png', 'images/node-local-ip-problem.png'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/31e452c6ea047ff5413371bfaa7f44c0d1cc86bd', 'message': 'Add Node-Local Virtual IP Spec\n\nAdding the spec to support Node-Local Virtual IP for the RFE\nhttps://bugs.launchpad.net/neutron/+bug/1930200\n\nPartial-Bug: #1930200\nCo-Authored-By: obondarev <oleg.bondarev@huawei.com>\nChange-Id: If9f137a839b37f8262f4842b34401a13967ed43e\n'}]",50,797798,31e452c6ea047ff5413371bfaa7f44c0d1cc86bd,47,5,12,21273,,,0,"Add Node-Local Virtual IP Spec

Adding the spec to support Node-Local Virtual IP for the RFE
https://bugs.launchpad.net/neutron/+bug/1930200

Partial-Bug: #1930200
Co-Authored-By: obondarev <oleg.bondarev@huawei.com>
Change-Id: If9f137a839b37f8262f4842b34401a13967ed43e
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/98/797798/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/node-local-ip.rst'],1,3079e6bb0a8ca0f563929b5d605bbf3be4dd0b85,local_ip,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Node-Local virtual IP address (NLVIP) ===================================== RFE: https://bugs.launchpad.net/neutron/+bug/1930200 This spec proposes a new type of shared virtual IP address that can be used to access distributed and/or multi-node services and applications running in the cloud. The feature is primarily focused on high efficiency and performance of the networking data plane for very large scale clouds and/or clouds with high network throughput demands. Problem Description =================== Primary use-cases for this feature are listed in the RFE description. While the proposed virtual IP may be used on its own for simple use cases, it is mainly intended to serve as a basic building block and should be used in conjunction with other services to provide full-fledged service discovery, load balancing, proxying and other advanced features. Proposed Change =============== The scope of this feature is limited to: * API and CLI to provide fine grained control over allocation and assignment of the Node-Local virtual IP addresses * Networking data plane mechanism to efficiently redirect traffic to a port within the same physical node (if present) or to optionally forward it to a fallback destination * NLVIP will only be accessible within the same L2 segment NLVIP object will be composed of the following objects & attributes: * Neutron port representing NLVIP * Collection of Neutron ports that will serve as packets' destination when the packet source port is located on the same physical node * IP mode for local ports: - 'translate' (default) - NLVIP will behave as DNAT for redirected packets - 'passthrough' - packets will be redirected without modification to IP headers; destination VM's guest OS will be responsible for configuring NLVIP's IP address on a corresponding port * Fallback policy: - 'drop' - packets will be dropped if no NLVIP local port is available on the physical node - 'reject' (default) - similar to iptables' 'reject' policy to help clients fail fast if no NLVIP local port is available on the physical node - 'forward' - to redirect packets to a fallback destination port or IP address if no NLVIP local port is available on the physical node Server impact ------------- * New DB/OVO models and REST API endpoints for NLVIP CRUD: * Creating NLVIP will trigger creation of an underlying Neutron port to handle IPAM, network boundaries and permission checks * TODO(ivc|obondarev): describe how to handle manual underlying port updates (e.g. fixed-ip changes) * Deleting NLVIP should be prohibited if NLVIP has associated local ports; 'force' option may be provided to trigger local port disassociation on deletion; deleting NLVIP should also delete the underlying Neutron port representing NLVIP * IPAM and IP validation will be handled automatically by underlying Port * TODO(ivc|obondarev): change wording: NLVIP will behave similar to Port and Floating IP API in terms of user/admin access rights * TODO(ivc|obondarev): change wording: NLVIP may have quotas similar to Floating IP API Client impact ------------- * TODO(ivc|obondarev): summary neutronclient changes * OpenStack client commands to list, create, delete and show NLVIPs and to add/remove associated local ports L3 Agent, DVR, ARP-responder ---------------------------- TODO(obondarev): describe fallback mechanism, including cases when ML2 Driver can not handle fallback within the same node (e.g. SR-IOV) REVISIT(ivc|obondarev): server warning if NLVIP is created on a network that has no ML2 Driver is available that could handle traffic efficiently OVS, ML2 Drivers impact ----------------------- TODO(obondarev): summary of OVS flow impact; focus on performance/efficiency; possible generic inefficient 'reject/forward' implementation (see previous section) Scheduling ---------- NLVIP will have no effect on VM scheduling/placement. NLVIP operates under assumption that at any given time any physical node in the cloud should have no more than one active port/VM associated with a given NLVIP. Users are responsible to utilize OpenStack placement/scheduling features (e.g. anti-affinity rules) to avoid assigning multiple ports from the same physical node the the same NLVIP. However there might be valid cases when multiple NLVIP's local ports may be colocated on the same physycal node (e.g. as a result of temporary live migration during other node's maintenance). NLVIP should provide a deterministic way of handling such situations (e.g. in case of multiple local ports, only the oldest port shall be used). Initial release limitations --------------------------- TBD(ivc|obondarev): features, not supported in initial release, e.g.: * deterministic handling of packets if a node contains multiple local ports associated with the same NLVIP * 'reject' and 'forward' fallback policies; only 'drop' will be supported References ========== TBD(obondarev): link to devref ",,130,0
openstack%2Ftripleo-heat-templates~master~I0fdbe66dd2f0dff14620147c08f516ae7e8143d2,openstack/tripleo-heat-templates,master,I0fdbe66dd2f0dff14620147c08f516ae7e8143d2,Fluentd cleanup in rsyslog implementation,ABANDONED,2020-10-12 14:09:20.000000000,2021-08-23 15:18:54.000000000,,"[{'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-12 14:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/beeeb284d7287ef857b30834101ae7d789e5cdb9', 'message': '[WIP] Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}, {'number': 2, 'created': '2020-10-30 14:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6348bf4ca6f32e0bf7dcd466400a80719923a5c', 'message': '[WIP] Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}, {'number': 3, 'created': '2020-11-10 12:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab2a64acfdae204e79499233556ce21cc1620a20', 'message': '[WIP] Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}, {'number': 4, 'created': '2020-11-23 21:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/059149352f8d0eabb5f0c313eb4ea2678aafd80a', 'message': 'Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}, {'number': 5, 'created': '2020-12-03 16:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/575ff521e682d6e9a91c0c3b41d65a69dac44e92', 'message': '[WIP] Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}, {'number': 6, 'created': '2021-01-05 10:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a059460535a06e9656b41f976cc9d7f922a9cd32', 'message': 'Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}, {'number': 7, 'created': '2021-01-07 15:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97603ac6e5f4c4525d1ab8bb5a1c8472d7e838ec', 'message': 'Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}, {'number': 8, 'created': '2021-01-07 15:40:04.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68de50f3d7e0b2ec2bcfe0ea3eebec53aad3d0bf', 'message': 'Fluentd cleanup in rsyslog implementation\n\nThis patch adds upgrade_tasks which removes fluentd service or container.\n\nChange-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2\n'}]",5,757579,68de50f3d7e0b2ec2bcfe0ea3eebec53aad3d0bf,35,5,8,5241,,,0,"Fluentd cleanup in rsyslog implementation

This patch adds upgrade_tasks which removes fluentd service or container.

Change-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/757579/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,beeeb284d7287ef857b30834101ae7d789e5cdb9,rsyslog-clean-fluentd," upgrade_tasks: # Ensure fluentd is removed as rsyslogd's predecessor in older deployments - block: when: when: step|int == 1 tasks: - name: Ensure fluentd service is removed package: name: fluentd state: absent - name: Ensure fluentd container is removed include_role: name: tripleo_container_rm vars: tripleo_container_cli: ""{{ container_cli }}"" tripleo_containers_to_rm: - fluentd",,17,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib67107271e727e361a870c66072e7f439b5e29fc,openstack/tripleo-ansible,stable/wallaby,Ib67107271e727e361a870c66072e7f439b5e29fc,Fix BGP IPv4 unicast disablement,MERGED,2021-08-23 07:38:07.000000000,2021-08-23 15:09:37.000000000,2021-08-23 15:09:37.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 07:38:07.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cab25d288cf80d1159f1f160fe89066e1d7f7975', 'message': 'Fix BGP IPv4 unicast disablement\n\nBy default in FRR, only the IPv4 unicast address family is announced to\nall neighbors. Using the ‘no bgp default ipv4-unicast’ configuration\noverrides this default so that all address families need to be enabled\nexplicitly whereas prior to this patch IPv4 unicast was always enabled\nregardless of the value of Ansible variable tripleo_frr_bgp_ipv4.\n\nChange-Id: Ib67107271e727e361a870c66072e7f439b5e29fc\n(cherry picked from commit 723c2caa550c6c67bf2cd54d43531aa3823cf0e3)\n'}]",0,805558,cab25d288cf80d1159f1f160fe89066e1d7f7975,9,5,1,20172,,,0,"Fix BGP IPv4 unicast disablement

By default in FRR, only the IPv4 unicast address family is announced to
all neighbors. Using the ‘no bgp default ipv4-unicast’ configuration
overrides this default so that all address families need to be enabled
explicitly whereas prior to this patch IPv4 unicast was always enabled
regardless of the value of Ansible variable tripleo_frr_bgp_ipv4.

Change-Id: Ib67107271e727e361a870c66072e7f439b5e29fc
(cherry picked from commit 723c2caa550c6c67bf2cd54d43531aa3823cf0e3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/805558/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'],1,cab25d288cf80d1159f1f160fe89066e1d7f7975,bgpsupport-stable/wallaby, no bgp default ipv4-unicast neighbor uplink activate,,2,0
openstack%2Fironic~master~I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9,openstack/ironic,master,I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9,[doc] Update power sync documentation,MERGED,2021-08-19 09:04:10.000000000,2021-08-23 15:09:34.000000000,2021-08-23 15:07:36.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 09:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c663b8d99fd23b3b502016ad2355a1f1be7590a', 'message': '[doc] Update power sync documentation\n\nAdd some notes on potential UDP packet loss during conductor/BMC\npower sync with IPMI, the corresponding increase in retries and\nhow to mitigate.\n\nChange-Id: I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9\n'}, {'number': 2, 'created': '2021-08-20 13:28:29.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/power-sync.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/28b97db915b0773e368889f97aa121588b588cda', 'message': '[doc] Update power sync documentation\n\nAdd some notes on potential UDP packet loss during conductor/BMC\npower sync with IPMI, the corresponding increase in retries and\nhow to mitigate.\n\nChange-Id: I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9\n'}]",1,805168,28b97db915b0773e368889f97aa121588b588cda,13,3,2,11292,,,0,"[doc] Update power sync documentation

Add some notes on potential UDP packet loss during conductor/BMC
power sync with IPMI, the corresponding increase in retries and
how to mitigate.

Change-Id: I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/805168/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/power-sync.rst']",2,8c663b8d99fd23b3b502016ad2355a1f1be7590a,doc_power_sync,"===================== Power Synchronization =====================defined by the :oslo.config:option:`conductor.sync_power_state_interval` (default: 60 seconds) config option for those nodes which are not in maintenance. The requests sent to Baseboard Management Controllers (BMCs) are done with a parallelism controlled by :oslo.config:option:`conductor.sync_power_state_workers` (default: 8 workers). The motivation to send out requests to BMCs in parallel is to handle misbehaving BMCs which may delay or even block the synchronization otherwise. .. note:: In deployments with many nodes and IPMI as the configured BMC protocol, the default values of a 60 seconds power sync interval and 8 worker threads may lead to a high rate of required retries due to client-side UDP packet loss (visible via the corresponding warnings in the conductor logs). While Ironic automatically retries to get the power status for the affected nodes, the failure rate may be reduced by increasing the power sync cycle, e.g. to 300 seconds, and/or by reducing the number of power sync workers, e.g. to 2. Pleae keep in mind, however, that depending on the concrete setup increasing the power sync interval may have an impact on other components relying on up-to-date power states.",=================================== Power Sync with the Compute Service ===================================defined by the :oslo.config:option:`conductor.sync_power_state_interval` config option for those nodes which are not in maintenance.,23,6
openstack%2Ftripleo-docs~master~Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b,openstack/tripleo-docs,master,Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b,"Document ""deployed ceph""",MERGED,2021-08-11 14:10:52.000000000,2021-08-23 15:03:48.000000000,2021-08-23 15:01:39.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-11 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b8a9bb144a5f70a3aa518e63aa36304807d549ca', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}, {'number': 2, 'created': '2021-08-11 21:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/638f448ac5101a3fbff73813e56988f3f1aaa434', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}, {'number': 3, 'created': '2021-08-14 19:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ddc8ec5cd4913e0cf80cae08af2a736380bd3697', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}, {'number': 4, 'created': '2021-08-16 19:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7540be05aaeb7da1ebee4b3e56648e411c817509', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}, {'number': 5, 'created': '2021-08-18 22:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4ab6671fe83437b39f5d7170b67e0515e253d6bb', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}, {'number': 6, 'created': '2021-08-19 15:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/839e2b2c01c9cfb637b7202e1e279433f8a3f079', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}, {'number': 7, 'created': '2021-08-19 15:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ac968f537b14a6e8efb98caba2581e6b09c879aa', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}, {'number': 8, 'created': '2021-08-19 15:49:54.000000000', 'files': ['deploy-guide/source/features/cephadm.rst', 'deploy-guide/source/deployment/network_v2.rst', 'deploy-guide/source/features/deployed_ceph.rst', 'deploy-guide/source/features/backends.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/51a1d3e645dddd787d6c1a84ac54a2f76ce9ff93', 'message': 'Document ""deployed ceph""\n\nChange-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b\n'}]",6,804245,51a1d3e645dddd787d6c1a84ac54a2f76ce9ff93,25,4,8,18002,,,0,"Document ""deployed ceph""

Change-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/45/804245/8 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/cephadm.rst', 'deploy-guide/source/features/deployed_ceph.rst', 'deploy-guide/source/features/backends.rst']",3,b8a9bb144a5f70a3aa518e63aa36304807d549ca,deployed_ceph, deployed_ceph,,12,7
openstack%2Fkolla-ansible~stable%2Fvictoria~I073d04319b510182f5c1478e728c0c5bcc8799f1,openstack/kolla-ansible,stable/victoria,I073d04319b510182f5c1478e728c0c5bcc8799f1,Add Neutron DHCP agent to OVN networking setup,MERGED,2021-08-23 11:39:42.000000000,2021-08-23 14:56:45.000000000,2021-08-23 14:55:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-08-23 11:39:42.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/ovn-neutron-dhcp-agent-21aaafe5e1cda501.yaml', 'etc/kolla/globals.yml', 'doc/source/reference/networking/neutron.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9428e44dc69a64f565b3d7dbd0f9bf468b9d9307', 'message': ""Add Neutron DHCP agent to OVN networking setup\n\nThis commit adds possibility to deploy Neutron's DHCP agents in OVN\nnetworking scenario.\n\nCo-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1\n(cherry picked from commit fc72887d319227ee37f56379661cb6965e684e5a)\n""}]",0,805561,9428e44dc69a64f565b3d7dbd0f9bf468b9d9307,9,4,1,14826,,,0,"Add Neutron DHCP agent to OVN networking setup

This commit adds possibility to deploy Neutron's DHCP agents in OVN
networking scenario.

Co-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>

Change-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1
(cherry picked from commit fc72887d319227ee37f56379661cb6965e684e5a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/805561/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/ovn-neutron-dhcp-agent-21aaafe5e1cda501.yaml', 'etc/kolla/globals.yml', 'doc/source/reference/networking/neutron.rst']",5,9428e44dc69a64f565b3d7dbd0f9bf468b9d9307,ovn-neutron-dhcp-agent-stable/victoria,"Similarly - in order to have Neutron DHCP agents deployed in OVN networking scenario, use: .. path /etc/kolla/globals.yml .. code-block:: yaml neutron_ovn_dhcp_agent: ""yes"" This might be desired for example when Ironic bare metal nodes are used as a compute service. Currently OVN is not able to answer DHCP queries on port type external, this is where Neutron agent helps. ",,28,2
openstack%2Fskyline-apiserver~master~I82dc76ed286376d2c388e1dab95d4c24743d02f2,openstack/skyline-apiserver,master,I82dc76ed286376d2c388e1dab95d4c24743d02f2,fix: Re-generate the poetry.lock,MERGED,2021-08-23 05:36:55.000000000,2021-08-23 14:48:33.000000000,2021-08-23 14:48:33.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-23 05:36:55.000000000', 'files': ['libs/skyline-nginx/poetry.lock'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/f3ee9d3b8cb4efebff21183f895fcd10fa19554d', 'message': 'fix: Re-generate the poetry.lock\n\nThe skyline-nginx is dependent on skyline-apiserver.\nFrom the patch[0], we add aiosqlite into tool.poetry.dependencies.\nSo we need to re-generate the poetry.lock of skyline-nginx.\n\n[0]: https://review.opendev.org/c/skyline/skyline-apiserver/+/803539\n\nChange-Id: I82dc76ed286376d2c388e1dab95d4c24743d02f2\n'}]",0,805577,f3ee9d3b8cb4efebff21183f895fcd10fa19554d,6,2,1,28706,,,0,"fix: Re-generate the poetry.lock

The skyline-nginx is dependent on skyline-apiserver.
From the patch[0], we add aiosqlite into tool.poetry.dependencies.
So we need to re-generate the poetry.lock of skyline-nginx.

[0]: https://review.opendev.org/c/skyline/skyline-apiserver/+/803539

Change-Id: I82dc76ed286376d2c388e1dab95d4c24743d02f2
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/77/805577/1 && git format-patch -1 --stdout FETCH_HEAD,['libs/skyline-nginx/poetry.lock'],1,f3ee9d3b8cb4efebff21183f895fcd10fa19554d,,"name = ""aiosqlite"" version = ""0.17.0"" description = ""asyncio bridge to the standard sqlite3 module"" category = ""main"" optional = false python-versions = "">=3.6"" [package.dependencies] typing_extensions = "">=3.7.2"" [[package]]aiosqlite = ""^0.17.0""aiosqlite = [ {file = ""aiosqlite-0.17.0-py3-none-any.whl"", hash = ""sha256:6c49dc6d3405929b1d08eeccc72306d3677503cc5e5e43771efc1e00232e8231""}, {file = ""aiosqlite-0.17.0.tar.gz"", hash = ""sha256:f0e6acc24bc4864149267ac82fb46dfb3be4455f99fe21df82609cc6e6baee51""}, ]",,16,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib9ca7e1f56cf4fe6d63807cd4e5e58ee91501a5f,openstack/tripleo-heat-templates,stable/wallaby,Ib9ca7e1f56cf4fe6d63807cd4e5e58ee91501a5f,Add /run/frr volume mount,MERGED,2021-08-23 07:36:19.000000000,2021-08-23 14:44:40.000000000,2021-08-23 14:44:40.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 07:36:19.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd66ed6a7ceb29e25a08985d3970ea4b22e3909d', 'message': 'Add /run/frr volume mount\n\nHaving /var/frr mounted between the host and the FRR container enables\nthe host as well as adjacent containers (e.g. OVN BGP agent) to control\nFRR with the vtysh CLI through the vty socket.\n\n  $ vtysh --vty_socket /run/frr\n\nChange-Id: Ib9ca7e1f56cf4fe6d63807cd4e5e58ee91501a5f\n(cherry picked from commit dadb112a50795a21c3fc2df1c8872c4eab3ad6ea)\n'}]",0,805556,dd66ed6a7ceb29e25a08985d3970ea4b22e3909d,9,5,1,20172,,,0,"Add /run/frr volume mount

Having /var/frr mounted between the host and the FRR container enables
the host as well as adjacent containers (e.g. OVN BGP agent) to control
FRR with the vtysh CLI through the vty socket.

  $ vtysh --vty_socket /run/frr

Change-Id: Ib9ca7e1f56cf4fe6d63807cd4e5e58ee91501a5f
(cherry picked from commit dadb112a50795a21c3fc2df1c8872c4eab3ad6ea)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/805556/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,dd66ed6a7ceb29e25a08985d3970ea4b22e3909d,ovn_bgp_agent-stable/wallaby," - path: /run/frr owner: frr:frrvty recurse: true - /run/frr:/run/frr:shared,z - { 'path': /run/frr, 'setype': container_file_t, 'mode': '0750' }",,5,0
openstack%2Fkolla~master~I01356184b8e0ef2b5341ec74a2c434b09a50766d,openstack/kolla,master,I01356184b8e0ef2b5341ec74a2c434b09a50766d,Allow build debian/ubuntu-binary cloudkitty images,MERGED,2021-06-22 11:36:47.000000000,2021-08-23 14:26:00.000000000,2021-08-23 14:22:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32291}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-06-22 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3865a6e4af7f975578db0d1681220dc0695431f', 'message': 'Allow build debian-binary cloudkitty images\n\nChange-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d\n'}, {'number': 2, 'created': '2021-06-24 08:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/669658c459e619097a88ab6fa49459e504d9ce53', 'message': 'Allow build debian/ubuntu-binary cloudkitty images\n\nChange-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d\n'}, {'number': 3, 'created': '2021-08-12 06:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/44d32877b41d35ee05a87879ed509743405e4826', 'message': 'Allow build debian/ubuntu-binary cloudkitty images\n\nChange-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d\n'}, {'number': 4, 'created': '2021-08-12 07:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/feb2c67614254d5208bda094866e6924315acd72', 'message': 'Allow build debian/ubuntu-binary cloudkitty images\n\nChange-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d\n'}, {'number': 5, 'created': '2021-08-12 09:13:06.000000000', 'files': ['kolla/image/build.py', 'docker/cloudkitty/cloudkitty-base/Dockerfile.j2', 'releasenotes/notes/cloudkitty-debuntu-binary-09b182fc672b7d77.yaml', 'docker/cloudkitty/cloudkitty-processor/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-api/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/11b445126093cc323e90cade9435f0467737b85d', 'message': 'Allow build debian/ubuntu-binary cloudkitty images\n\nChange-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d\n'}]",3,797433,11b445126093cc323e90cade9435f0467737b85d,32,6,5,27339,,,0,"Allow build debian/ubuntu-binary cloudkitty images

Change-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/797433/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/cloudkitty/cloudkitty-base/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-processor/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-api/Dockerfile.j2']",4,a3865a6e4af7f975578db0d1681220dc0695431f,debuntu-binary-cloudkitty, {% if base_distro == 'debian' %} {% set cloudkitty_api_packages = [ 'cloudkitty-api' ] %} {% else %} {% endif %},,18,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib22700a80bf96e595103e68a51b2bbdf951892bb,openstack/tripleo-ansible,stable/wallaby,Ib22700a80bf96e595103e68a51b2bbdf951892bb,Add BGP router-id and resolve-via-default options,MERGED,2021-08-23 07:31:05.000000000,2021-08-23 14:24:11.000000000,2021-08-23 14:24:11.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 07:31:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12eb0133427c903b3deca2b6944f96077fb1be40', 'message': 'Add BGP router-id and resolve-via-default options\n\nThe BGP Router Identifier is automatically set as the highest IPv4\naddress configured on the loopback interface or alternatively from a\nphysical interface. Thus the router ID may be set to an undesired value.\nWe are better of explicitely, predictably setting it to the main host\nIPv4 address.\n\nIn addition, allow the nexthop tracking to resolve via the default\nroute. This is useful when e.g. you want to allow BGP to peer across the\ndefault route, and MP-BGP EVPN use cases.\n\nChange-Id: Ib22700a80bf96e595103e68a51b2bbdf951892bb\n(cherry picked from commit 29d575cc5d48ede026f47532e24e3761137032b1)\n'}]",0,805555,12eb0133427c903b3deca2b6944f96077fb1be40,9,5,1,20172,,,0,"Add BGP router-id and resolve-via-default options

The BGP Router Identifier is automatically set as the highest IPv4
address configured on the loopback interface or alternatively from a
physical interface. Thus the router ID may be set to an undesired value.
We are better of explicitely, predictably setting it to the main host
IPv4 address.

In addition, allow the nexthop tracking to resolve via the default
route. This is useful when e.g. you want to allow BGP to peer across the
default route, and MP-BGP EVPN use cases.

Change-Id: Ib22700a80bf96e595103e68a51b2bbdf951892bb
(cherry picked from commit 29d575cc5d48ede026f47532e24e3761137032b1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/805555/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,12eb0133427c903b3deca2b6944f96077fb1be40,bgpsupport-stable/wallaby, bgp router-id {{ hostvars[inventory_hostname][tripleo_frr_bgp_ipv4_src_network ~ '_ip'] }} {% if tripleo_frr_zebra_nht_resolve_via_default %} ip nht resolve-via-default {% endif %},,6,0
openstack%2Fkolla~master~I61623748d1149adb1b096adf2fffb5a902df3181,openstack/kolla,master,I61623748d1149adb1b096adf2fffb5a902df3181,ironic-neutron-agent: enable for Debuntu binary,MERGED,2021-07-06 08:57:15.000000000,2021-08-23 14:24:07.000000000,2021-08-23 14:22:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-06 08:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1470c3902234f26a0f8dc81131ef0470c9319d6b', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 2, 'created': '2021-07-06 09:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f921518513f174c173d7f42526660714a8d8ee39', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye. Also adds the\nnetworking-baremetal package to the neutron-base image for Debuntu\nbinary.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 3, 'created': '2021-07-26 16:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/839a37aa320a8616ba1525c5111c787bfbe5e855', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye. Also adds the\nnetworking-baremetal package to the neutron-base image for Debuntu\nbinary.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 4, 'created': '2021-07-26 16:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f676ea91257e8a065f45841c5d9b6299b9320d0c', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 5, 'created': '2021-07-26 16:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/23c18ce1b4313e61f8eff089af782fa24284a704', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 6, 'created': '2021-07-27 08:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10eae2b6c7580c34e23a841ffcb0be3de3c1dbfc', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 7, 'created': '2021-07-27 08:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/870965aee92a851b5f98e90b444122feeb624db0', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 8, 'created': '2021-08-11 09:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/99346f6402e93774cbaf1497a56234f959be3e14', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}, {'number': 9, 'created': '2021-08-12 07:00:55.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'docker/networking-baremetal/ironic-neutron-agent/Dockerfile.j2', 'docker/neutron/neutron-server/Dockerfile.j2', 'releasenotes/notes/debuntu-ironic-neutron-agent-6534d616b37643a8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/928c4648a4c2cf08c616d74f340c675418ba3385', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n'}]",0,799611,928c4648a4c2cf08c616d74f340c675418ba3385,30,5,9,14826,,,0,"ironic-neutron-agent: enable for Debuntu binary

Packages are available for focal and bullseye.

Change-Id: I61623748d1149adb1b096adf2fffb5a902df3181
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/799611/9 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/networking-baremetal/ironic-neutron-agent/Dockerfile.j2', 'releasenotes/notes/debuntu-ironic-neutron-agent-6534d616b37643a8.yaml']",3,1470c3902234f26a0f8dc81131ef0470c9319d6b,debuntu-ironic-neutron-agent,--- features: - | Adds support for the ``ironic-neutron-agent`` image in Debian and Ubuntu binary images. ,,8,4
openstack%2Fswift~master~I1552a58398c45182a3508dce65da46b86c155e7e,openstack/swift,master,I1552a58398c45182a3508dce65da46b86c155e7e,sharder: try to be more consistent when updating policy index,NEW,2021-08-23 12:10:24.000000000,2021-08-23 14:23:23.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 12:10:24.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4caed0607a732bbbf6b0e72f4789db1fee7b5bff', 'message': 'sharder: try to be more consistent when updating policy index\n\nChange-Id: I1552a58398c45182a3508dce65da46b86c155e7e\n'}]",0,805623,4caed0607a732bbbf6b0e72f4789db1fee7b5bff,4,2,1,7847,,,0,"sharder: try to be more consistent when updating policy index

Change-Id: I1552a58398c45182a3508dce65da46b86c155e7e
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/805623/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,4caed0607a732bbbf6b0e72f4789db1fee7b5bff,fix-update-shard-spi,"from swift.container.reconciler import translate_container_headers_to_info, \ incorrect_policy_index info = broker.get_replication_info() root_info = broker.get_sharding_sysmeta('Root-Info') if root_info: root_info = json.loads(root_info) info.update(dict((k, v) for k, v in root_info.items() if v)) remote_info = translate_container_headers_to_info(root_resp.headers) if incorrect_policy_index(info, remote_info): try: root_sp_index = POLICIES[ remote_info['storage_policy_index']].idx except KeyError: self.logger.warning( 'Cannot migrate shard to unknown policy index %s', remote_info['storage_policy_index']) return # TODO: we're modifying the shard's policy index based on # root_info, but merging it using a bunch of new timestamps: we # must ensure that during replication all replicas do exactly the # same i.e. update policy index based on the most recent Root-Info # sysmeta, not based on the shard's put/delete/status_changed_at # timestamps; # OR: we give up trying to modify the shard's policy and just apply # Root-Info policy wherever needed # the merge timestamp of this sysmeta is forced to # remote_info['status_changed_at'] to ensure that replication # always preserves the most up to date *root* metadata... broker.update_metadata( {'X-Container-Sysmeta-Shard-Root-Info': (json.dumps(remote_info), remote_info['status_changed_at'])})"," root_sp_index = root_resp.headers.get('X-Backend-Storage-Policy-Index') root_put_ts = root_resp.headers.get( 'X-Backend-Put-Timestamp') if root_put_ts is None or root_sp_index is None: return shard_root_put_ts = \ Timestamp(broker.get_sharding_sysmeta('Root-Put-Timestamp') or 0) root_put_ts = Timestamp(root_put_ts) if shard_root_put_ts and shard_root_put_ts >= root_put_ts: # local policy_change timestamp is newer than root's so ignore. return try: root_sp_index = POLICIES[int(root_sp_index)].idx except KeyError: self.logger.warning( 'Cannot migrate shard to unknown policy index %s', root_sp_index) return if root_sp_index != broker.storage_policy_index: broker.set_sharding_sysmeta('Root-Put-Timestamp', root_put_ts.internal)",148,23
openstack%2Fsushy~master~I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,openstack/sushy,master,I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,Change default value: insert_media write_protected,MERGED,2021-08-23 12:16:32.000000000,2021-08-23 14:13:47.000000000,2021-08-23 14:12:09.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-23 12:16:32.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/change-vmedia-write-protected-attr-586370a552288801.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/e8c29ccad2b4fd71ed25532c055af697b16a5c35', 'message': ""Change default value: insert_media write_protected\n\nUpdating default value of 'write_protected' attribute in\nVirtualMedia::insert_media() to True. This is to match the default\nvalue in the Redfish schema 2021.1 and VirtualMedia.v1_3_0:\nhttps://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: I3fe00d115e1ae8bade92ed1ad2841d74187fd11d\n""}]",0,805624,e8c29ccad2b4fd71ed25532c055af697b16a5c35,10,3,1,32177,,,0,"Change default value: insert_media write_protected

Updating default value of 'write_protected' attribute in
VirtualMedia::insert_media() to True. This is to match the default
value in the Redfish schema 2021.1 and VirtualMedia.v1_3_0:
https://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json

Story: 2009086
Task: 42907
rhbz#1986238

Change-Id: I3fe00d115e1ae8bade92ed1ad2841d74187fd11d
",git fetch https://review.opendev.org/openstack/sushy refs/changes/24/805624/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/change-vmedia-write-protected-attr-586370a552288801.yaml']",2,e8c29ccad2b4fd71ed25532c055af697b16a5c35,BZ1986238-stage1-2,"--- fixes: - | Changes the default value of ""WriteProtected"" parameter in in VirtualMedia::insert_media() from False to True. This is to match Redfish schema 2021.1 and VirtualMedia.v1_3_0: https://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json ",,8,1
openstack%2Fopenstack-ansible-os_ceilometer~master~Iab9729ee65571a45b5e50bb6a593386b1e238944,openstack/openstack-ansible-os_ceilometer,master,Iab9729ee65571a45b5e50bb6a593386b1e238944,Fix wrong variable name in ceilometer.conf.j2 template.,MERGED,2021-07-16 15:02:55.000000000,2021-08-23 13:40:56.000000000,2021-08-23 13:38:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 33776}]","[{'number': 1, 'created': '2021-07-16 15:02:55.000000000', 'files': ['templates/ceilometer.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/65f22a2951dda28dac7dfcf2f5d6bd1bd792fe1d', 'message': 'Fix wrong variable name in ceilometer.conf.j2 template.\n\nceilometer_rpc_ssl_ca_file was used instead of ceilometer_oslomsg_rpc_ssl_ca_file\nin the RPC transport_url.\n\nChange-Id: Iab9729ee65571a45b5e50bb6a593386b1e238944\n'}]",0,800869,65f22a2951dda28dac7dfcf2f5d6bd1bd792fe1d,17,4,1,28619,,,0,"Fix wrong variable name in ceilometer.conf.j2 template.

ceilometer_rpc_ssl_ca_file was used instead of ceilometer_oslomsg_rpc_ssl_ca_file
in the RPC transport_url.

Change-Id: Iab9729ee65571a45b5e50bb6a593386b1e238944
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/69/800869/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ceilometer.conf.j2'],1,65f22a2951dda28dac7dfcf2f5d6bd1bd792fe1d,fix_bad_var-master,"transport_url = {{ _oslomsg_url(ceilometer_oslomsg_rpc_transport, ceilometer_oslomsg_rpc_userid, ceilometer_oslomsg_rpc_password, groups[ceilometer_oslomsg_rpc_host_group], ceilometer_oslomsg_rpc_port, ceilometer_oslomsg_rpc_vhost, ceilometer_oslomsg_rpc_use_ssl, ceilometer_oslomsg_rpc_ssl_version, ceilometer_oslomsg_rpc_ssl_ca_file) }}","transport_url = {{ _oslomsg_url(ceilometer_oslomsg_rpc_transport, ceilometer_oslomsg_rpc_userid, ceilometer_oslomsg_rpc_password, groups[ceilometer_oslomsg_rpc_host_group], ceilometer_oslomsg_rpc_port, ceilometer_oslomsg_rpc_vhost, ceilometer_oslomsg_rpc_use_ssl, ceilometer_oslomsg_rpc_ssl_version, ceilometer_rpc_ssl_ca_file) }}",1,1
openstack%2Fopenstack-ansible-galera_server~stable%2Fwallaby~Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f,openstack/openstack-ansible-galera_server,stable/wallaby,Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f,"Partial Revert ""Bump MariaDB version to 10.5.9""",MERGED,2021-08-19 09:48:47.000000000,2021-08-23 13:34:57.000000000,2021-08-23 13:33:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-19 09:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/b9d914a550261aeefa8701cfda4ab99af739ff7a', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 due to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n(cherry picked from commit f240cc916f2104ea6836437672e347a95b8014ab)\n'}, {'number': 2, 'created': '2021-08-19 09:49:06.000000000', 'files': ['handlers/main.yml', 'handlers/galera_upgrade_hook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/1180c38dc300d251e39b0717d6283c5a100ecbe4', 'message': 'Partial Revert ""Bump MariaDB version to 10.5.9""\n\nThis revert removes the workarounds needed for 10.5.9 due to\nroot user losing ability to grant privs.\n\nThis reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.\n\nChange-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f\n(cherry picked from commit f240cc916f2104ea6836437672e347a95b8014ab)\n'}]",0,805135,1180c38dc300d251e39b0717d6283c5a100ecbe4,9,3,2,28619,,,0,"Partial Revert ""Bump MariaDB version to 10.5.9""

This revert removes the workarounds needed for 10.5.9 due to
root user losing ability to grant privs.

This reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.

Change-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f
(cherry picked from commit f240cc916f2104ea6836437672e347a95b8014ab)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/35/805135/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'handlers/galera_upgrade_hook.yml']",2,b9d914a550261aeefa8701cfda4ab99af739ff7a,,,"--- # Copyright 2021, City Network International AB # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Start mysql_safe instance command: mariadbd-safe --skip-grant-tables --skip-networking async: 300 poll: 0 - name: Get current root permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: select Priv from mysql.global_priv where User = 'root' and Host = 'localhost' retries: 10 delay: 2 register: maria_root_priv until: maria_root_priv is success - name: Fixing root access permissions community.mysql.mysql_query: login_unix_socket: ""{{ galera_unix_socket }}"" query: UPDATE mysql.global_priv SET Priv = %(priv)s where User = 'root' and Host = 'localhost' named_args: priv: ""{{ maria_root_priv['query_result'][0][0]['Priv'] | replace('274877906943', '549755813887') | string }}"" when: ""'549755813887' not in maria_root_priv['query_result'][0][0]['Priv']"" - name: Stop mysql_safe command: mysql -e shutdown ",0,49
openstack%2Fneutron~stable%2Fvictoria~I4bcba0ae82d99fac962d758b48b1727f344ec7bb,openstack/neutron,stable/victoria,I4bcba0ae82d99fac962d758b48b1727f344ec7bb,Add extra logs to the network update callback in L3 agent,MERGED,2021-08-05 10:36:31.000000000,2021-08-23 13:33:43.000000000,2021-08-23 13:30:02.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 10:36:31.000000000', 'files': ['neutron/agent/l3/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31', 'message': 'Add extra logs to the network update callback in L3 agent\n\nIt may be useful during debugging some L3 and events related issues.\n\nRelated-bug: #1933234\nChange-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb\n(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)\n(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)\n'}]",0,803573,7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31,10,3,1,11975,,,0,"Add extra logs to the network update callback in L3 agent

It may be useful during debugging some L3 and events related issues.

Related-bug: #1933234
Change-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb
(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)
(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/803573/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/agent.py'],1,7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31,bug/1933234-stable/victoria," LOG.debug(""Got network %s update"", network_id) for ri in self.router_info.values(): LOG.debug(""Checking if router %s is plugged to the network %s"", ri, network_id)", for ri in self.router_info.values():,3,0
openstack%2Fneutron~stable%2Ftrain~I4bcba0ae82d99fac962d758b48b1727f344ec7bb,openstack/neutron,stable/train,I4bcba0ae82d99fac962d758b48b1727f344ec7bb,Add extra logs to the network update callback in L3 agent,MERGED,2021-08-05 10:40:15.000000000,2021-08-23 13:33:34.000000000,2021-08-23 13:30:44.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-05 10:40:15.000000000', 'files': ['neutron/agent/l3/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/85c33d4ec9fa81df2d058eacbf6bb1a37039358f', 'message': 'Add extra logs to the network update callback in L3 agent\n\nIt may be useful during debugging some L3 and events related issues.\n\nRelated-bug: #1933234\nChange-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb\n(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)\n(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)\n(cherry picked from commit 7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31)\n(cherry picked from commit 5dfd2e561556fc187d28e65039898d472e50b61d)\n'}]",0,803577,85c33d4ec9fa81df2d058eacbf6bb1a37039358f,13,5,1,11975,,,0,"Add extra logs to the network update callback in L3 agent

It may be useful during debugging some L3 and events related issues.

Related-bug: #1933234
Change-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb
(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)
(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)
(cherry picked from commit 7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31)
(cherry picked from commit 5dfd2e561556fc187d28e65039898d472e50b61d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/803577/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/agent.py'],1,85c33d4ec9fa81df2d058eacbf6bb1a37039358f,bug/1933234-stable/train," LOG.debug(""Got network %s update"", network_id) for ri in self.router_info.values(): LOG.debug(""Checking if router %s is plugged to the network %s"", ri, network_id)", for ri in self.router_info.values():,3,0
openstack%2Fneutron~stable%2Fussuri~I4bcba0ae82d99fac962d758b48b1727f344ec7bb,openstack/neutron,stable/ussuri,I4bcba0ae82d99fac962d758b48b1727f344ec7bb,Add extra logs to the network update callback in L3 agent,MERGED,2021-08-05 10:37:40.000000000,2021-08-23 13:33:17.000000000,2021-08-23 13:30:21.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 10:37:40.000000000', 'files': ['neutron/agent/l3/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dfd2e561556fc187d28e65039898d472e50b61d', 'message': 'Add extra logs to the network update callback in L3 agent\n\nIt may be useful during debugging some L3 and events related issues.\n\nRelated-bug: #1933234\nChange-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb\n(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)\n(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)\n(cherry picked from commit 7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31)\n'}]",0,803575,5dfd2e561556fc187d28e65039898d472e50b61d,10,3,1,11975,,,0,"Add extra logs to the network update callback in L3 agent

It may be useful during debugging some L3 and events related issues.

Related-bug: #1933234
Change-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb
(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)
(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)
(cherry picked from commit 7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/803575/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/agent.py'],1,5dfd2e561556fc187d28e65039898d472e50b61d,bug/1933234-stable/ussuri," LOG.debug(""Got network %s update"", network_id) for ri in self.router_info.values(): LOG.debug(""Checking if router %s is plugged to the network %s"", ri, network_id)", for ri in self.router_info.values():,3,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace,openstack/openstack-ansible-os_neutron,stable/wallaby,I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace,Switch calico job from bionic to focal,MERGED,2021-08-16 10:28:45.000000000,2021-08-23 13:30:33.000000000,2021-08-23 13:25:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-16 10:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/beaf3088c87560fe4e78ae7b9797f62b98f13fa0', 'message': 'Switch calico job from bionic to focal\n\nChange-Id: I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace\n(cherry picked from commit 0400310c68b377620de951be4f9edb65003b6c9e)\n'}, {'number': 2, 'created': '2021-08-16 10:28:54.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/acf081af62779c818da14bdce61433b2cbb143c6', 'message': 'Switch calico job from bionic to focal\n\nChange-Id: I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace\n(cherry picked from commit 0400310c68b377620de951be4f9edb65003b6c9e)\n'}]",0,804710,acf081af62779c818da14bdce61433b2cbb143c6,19,3,2,28619,,,0,"Switch calico job from bionic to focal

Change-Id: I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace
(cherry picked from commit 0400310c68b377620de951be4f9edb65003b6c9e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/10/804710/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,beaf3088c87560fe4e78ae7b9797f62b98f13fa0,, name: openstack-ansible-deploy-aio_metal_calico-ubuntu-focal parent: openstack-ansible-deploy-aio_metal-ubuntu-focal, name: openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic parent: openstack-ansible-deploy-aio_metal-ubuntu-bionic,4,4
openstack%2Fdiskimage-builder~master~I7f7ff0e52d67f82ae7dd9e7bd17aca6a918fc99b,openstack/diskimage-builder,master,I7f7ff0e52d67f82ae7dd9e7bd17aca6a918fc99b,Add new element rocky,ABANDONED,2021-08-23 09:50:39.000000000,2021-08-23 13:28:51.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 09:50:39.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/test-output-formats', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/README.rst', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/09401b83374afab4d73a55e8ba447a55a11034df', 'message': ""Add new element rocky\n\nThis patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux\n\nChange-Id: I7f7ff0e52d67f82ae7dd9e7bd17aca6a918fc99b\n""}]",1,805609,09401b83374afab4d73a55e8ba447a55a11034df,6,2,1,33811,,,0,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: I7f7ff0e52d67f82ae7dd9e7bd17aca6a918fc99b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/09/805609/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/test-output-formats', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/README.rst', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image']",19,09401b83374afab4d73a55e8ba447a55a11034df,feat/add-rocky-linux,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail [ -n ""$ARCH"" ] [ -n ""$TARGET_ROOT"" ] if [[ ""amd64 x86_64"" =~ ""$ARCH"" ]]; then ARCH=""x86_64"" DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images} else echo 'centos root element only support the x86_64 for $ARCH' exit 1 fi DIB_LOCAL_IMAGE=${DIB_LOCAL_IMAGE:-} if [ -n ""$DIB_LOCAL_IMAGE"" ]; then IMAGE_LOCATION=$DIB_LOCAL_IMAGE # No need to copy a local image into the cache directory, so just specify # the cached path as the original path. CACHED_IMAGE=$IMAGE_LOCATION BASE_IMAGE_FILE=$(basename $DIB_LOCAL_IMAGE) BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz else DIB_FLAVOR=${DIB_FLAVOR:-GenericCloud} BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-$(curl -s https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images/ | grep -o ""Rocky-.[^>]*${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1)} BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz IMAGE_LOCATION=$DIB_CLOUD_IMAGES/$BASE_IMAGE_FILE CACHED_IMAGE=$DIB_IMAGE_CACHE/$BASE_IMAGE_FILE fi $TMP_HOOKS_PATH/bin/extract-image $BASE_IMAGE_FILE $BASE_IMAGE_TAR $IMAGE_LOCATION $CACHED_IMAGE ",,148,2
openstack%2Fdiskimage-builder~master~Ib3482adf27ae179005c1704dca0305d1255f40be,openstack/diskimage-builder,master,Ib3482adf27ae179005c1704dca0305d1255f40be,Add new element rocky,ABANDONED,2021-08-23 13:27:17.000000000,2021-08-23 13:27:59.000000000,,[],"[{'number': 1, 'created': '2021-08-23 13:27:17.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/79887dba695c175313441bd6b0ab24bcac6c1ffa', 'message': ""Add new element rocky\n\nThis patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky link\n\nChange-Id: Ib3482adf27ae179005c1704dca0305d1255f40be\n""}]",0,805639,79887dba695c175313441bd6b0ab24bcac6c1ffa,2,0,1,33811,,,0,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky link

Change-Id: Ib3482adf27ae179005c1704dca0305d1255f40be
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/39/805639/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pkg-map/bin/pkg-map'],1,79887dba695c175313441bd6b0ab24bcac6c1ffa,feat/add-rocky-linux," 'openeuler', 'rocky']: '(Useful for testing)') ' Defaults to DISTRO_NAME')"," 'openeuler', 'rocky']: '(Useful for testing)') ' Defaults to DISTRO_NAME')",3,4
openstack%2Fkolla-ansible~master~I81ad7d8642654f8474f11084c6934aab40243d35,openstack/kolla-ansible,master,I81ad7d8642654f8474f11084c6934aab40243d35,Add ability to retry image pulling,MERGED,2021-08-07 14:37:28.000000000,2021-08-23 13:25:01.000000000,2021-08-23 13:22:31.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-07 14:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92d6b3543cd8f14948cd076f4a77e96003d5070f', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\n\nThe defaults preserve the previous behaviour of no extra tries\nto make this patch backportable.\nFor CI, we can override this for all relevant branches.\nFor end users of Xena+, we might want to set a larger\ndefault too.\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n'}, {'number': 2, 'created': '2021-08-07 14:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6c3ef16f0c80fa41e697671559ab27dd5143817', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\n\nThe defaults preserve the previous behaviour of no extra tries\nto make this patch backportable.\nFor CI, we can override this for all relevant branches.\nFor end users of Xena+, we might want to set a larger\ndefault too.\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n'}, {'number': 3, 'created': '2021-08-10 17:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e03db5c0b5cb81cedf961b23c3ac115cebb364f1', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n'}, {'number': 4, 'created': '2021-08-11 09:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93358847349d9db504c293fc015379fd8ce8b75a', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n'}, {'number': 5, 'created': '2021-08-11 09:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/228d9de39369b059b876e68785e3843332fb9baf', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n'}, {'number': 6, 'created': '2021-08-19 18:39:13.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/service-images-pull/defaults/main.yml', 'ansible/roles/swift/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cbb567cb868b3681b82d325cfb712ef4601c91a9', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n'}]",17,803828,cbb567cb868b3681b82d325cfb712ef4601c91a9,43,5,6,30491,,,0,"Add ability to retry image pulling

Sometimes, the registries may intermittently fail to deliver the
images. This is often seen in the CI, though it also happens with
production deployments, even those with internal registries and/or
registry mirrors - due to sheer load when trying to pull the
images from many hosts.

This patchs adds two new vars to control retry behaviour.
The default has been set to make users happier by default. :-)

Change-Id: I81ad7d8642654f8474f11084c6934aab40243d35
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/803828/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/placement/tasks/pull.yml', 'ansible/roles/haproxy/tasks/pull.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/octavia/tasks/pull.yml', 'ansible/roles/aodh/tasks/pull.yml', 'ansible/roles/manila/tasks/pull.yml', 'ansible/roles/kuryr/tasks/pull.yml', 'ansible/roles/monasca/tasks/pull.yml', 'ansible/roles/telegraf/tasks/pull.yml', 'ansible/roles/skydive/tasks/pull.yml', 'ansible/roles/vitrage/tasks/pull.yml', 'ansible/roles/freezer/tasks/pull.yml', 'ansible/roles/qdrouterd/tasks/pull.yml', 'ansible/roles/senlin/tasks/pull.yml', 'ansible/roles/murano/tasks/pull.yml', 'ansible/roles/glance/tasks/pull.yml', 'etc/kolla/globals.yml', 'ansible/roles/collectd/tasks/pull.yml', 'ansible/roles/nova/tasks/pull.yml', 'ansible/roles/openvswitch/tasks/pull.yml', 'ansible/roles/ceilometer/tasks/pull.yml', 'ansible/roles/barbican/tasks/pull.yml', 'ansible/roles/memcached/tasks/pull.yml', 'ansible/roles/influxdb/tasks/pull.yml', 'ansible/roles/zookeeper/tasks/pull.yml', 'ansible/roles/multipathd/tasks/pull.yml', 'ansible/roles/nova-cell/tasks/pull.yml', 'ansible/roles/grafana/tasks/pull.yml', 'ansible/roles/rabbitmq/tasks/pull.yml', 'ansible/roles/common/tasks/pull.yml', 'ansible/roles/kibana/tasks/pull.yml', 'ansible/roles/masakari/tasks/pull.yml', 'ansible/roles/zun/tasks/pull.yml', 'ansible/roles/sahara/tasks/pull.yml', 'ansible/roles/gnocchi/tasks/pull.yml', 'ansible/roles/keystone/tasks/pull.yml', 'ansible/roles/storm/tasks/pull.yml', 'ansible/roles/blazar/tasks/pull.yml', 'ansible/roles/hacluster/tasks/pull.yml', 'ansible/roles/trove/tasks/pull.yml', 'ansible/roles/mariadb/tasks/pull.yml', 'ansible/roles/cinder/tasks/pull.yml', 'ansible/roles/swift/tasks/pull.yml', 'ansible/roles/kafka/tasks/pull.yml', 'ansible/roles/watcher/tasks/pull.yml', 'ansible/roles/solum/tasks/pull.yml', 'ansible/roles/designate/tasks/pull.yml', 'ansible/roles/iscsi/tasks/pull.yml', 'ansible/roles/elasticsearch/tasks/pull.yml', 'ansible/roles/ovn/tasks/pull.yml', 'ansible/roles/heat/tasks/pull.yml', 'ansible/roles/neutron/tasks/pull.yml', 'ansible/roles/redis/tasks/pull.yml', 'ansible/roles/chrony/tasks/pull.yml', 'ansible/roles/ironic/tasks/pull.yml', 'ansible/roles/vmtp/tasks/pull.yml', 'ansible/roles/cloudkitty/tasks/pull.yml', 'ansible/roles/mistral/tasks/pull.yml', 'ansible/roles/tacker/tasks/pull.yml', 'ansible/roles/prometheus/tasks/pull.yml', 'ansible/roles/ovs-dpdk/tasks/pull.yml', 'ansible/roles/horizon/tasks/pull.yml', 'ansible/group_vars/all.yml', 'ansible/roles/etcd/tasks/pull.yml', 'ansible/roles/magnum/tasks/pull.yml', 'ansible/roles/cyborg/tasks/pull.yml']",66,92d6b3543cd8f14948cd076f4a77e96003d5070f,image-pull-retries," retries: ""{{ kolla_image_pull_retries }}"" delay: ""{{ kolla_image_pull_delay }}"" register: result until: result is success",,298,0
openstack%2Fcinder~master~I0c0cb5308246a3dce736eade67b40be063aa78bb,openstack/cinder,master,I0c0cb5308246a3dce736eade67b40be063aa78bb,LVM: Retry lvextend commands on code 139,MERGED,2021-08-18 13:52:08.000000000,2021-08-23 13:19:31.000000000,2021-08-18 22:29:50.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-08-18 13:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa10a9ed132dfe858254a4d79bd78b7c826a3821', 'message': 'LVM: Retry lvextend commands on code 139\n\nRetry lvextend commands upon segfault, similar to other\nLVM calls.  This affects the volume extend path.\n\nChange-Id: I0c0cb5308246a3dce736eade67b40be063aa78bb\nRelated-Bug: #1901783\nRelated-Bug: #1932188\nCloses-Bug: #1940436\n'}, {'number': 2, 'created': '2021-08-18 16:32:15.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4b8956763c2759bd2b9fe511efac5b3edfb226d', 'message': 'LVM: Retry lvextend commands on code 139\n\nRetry lvextend commands upon segfault, similar to other\nLVM calls.  This affects the volume extend path.\n\nChange-Id: I0c0cb5308246a3dce736eade67b40be063aa78bb\nRelated-Bug: #1901783\nRelated-Bug: #1932188\nCloses-Bug: #1940436\n'}]",3,805026,c4b8956763c2759bd2b9fe511efac5b3edfb226d,36,5,2,4523,,,0,"LVM: Retry lvextend commands on code 139

Retry lvextend commands upon segfault, similar to other
LVM calls.  This affects the volume extend path.

Change-Id: I0c0cb5308246a3dce736eade67b40be063aa78bb
Related-Bug: #1901783
Related-Bug: #1932188
Closes-Bug: #1940436
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/805026/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py']",2,fa10a9ed132dfe858254a4d79bd78b7c826a3821,," with mock.patch.object(self.vg, '_execute', return_value=('', '')):"," with mock.patch.object(self.vg, '_execute'):",2,3
openstack%2Fkolla-ansible~master~I073d04319b510182f5c1478e728c0c5bcc8799f1,openstack/kolla-ansible,master,I073d04319b510182f5c1478e728c0c5bcc8799f1,Add Neutron DHCP agent to OVN networking setup,MERGED,2021-02-05 10:37:53.000000000,2021-08-23 12:59:48.000000000,2021-03-09 20:15:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-02-05 10:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f106b76a95f8a17bf852670079982728ed059014', 'message': ""Add Neutron DHCP agent to OVN networking setup\n\nThis commit adds possibility to deploy Neutron's DHCP agents in OVN\nnetworking scenario.\n\nChange-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1\n""}, {'number': 2, 'created': '2021-02-05 10:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/488a3e608c723e4dcfe0ff1a635baed3d1d964d7', 'message': ""Add Neutron DHCP agent to OVN networking setup\n\nThis commit adds possibility to deploy Neutron's DHCP agents in OVN\nnetworking scenario.\n\nCo-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1\n""}, {'number': 3, 'created': '2021-02-05 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/096661714c8aada524c5854310f80123ba745d69', 'message': ""Add Neutron DHCP agent to OVN networking setup\n\nThis commit adds possibility to deploy Neutron's DHCP agents in OVN\nnetworking scenario.\n\nCo-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1\n""}, {'number': 4, 'created': '2021-02-23 12:58:03.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/ovn-neutron-dhcp-agent-21aaafe5e1cda501.yaml', 'etc/kolla/globals.yml', 'doc/source/reference/networking/neutron.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc72887d319227ee37f56379661cb6965e684e5a', 'message': ""Add Neutron DHCP agent to OVN networking setup\n\nThis commit adds possibility to deploy Neutron's DHCP agents in OVN\nnetworking scenario.\n\nCo-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1\n""}]",5,774222,fc72887d319227ee37f56379661cb6965e684e5a,27,5,4,32657,,,0,"Add Neutron DHCP agent to OVN networking setup

This commit adds possibility to deploy Neutron's DHCP agents in OVN
networking scenario.

Co-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>

Change-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/774222/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/ovn-neutron-dhcp-agent-21aaafe5e1cda501.yaml', 'etc/kolla/globals.yml']",5,f106b76a95f8a17bf852670079982728ed059014,ovn-neutron-dhcp-agent,"#neutron_ovn_dhcp_agent: ""no""",,10,2
openstack%2Fceilometer~master~I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,openstack/ceilometer,master,I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,Fix CA file for Swift pollster,MERGED,2021-08-20 13:25:47.000000000,2021-08-23 12:40:41.000000000,2021-08-23 12:38:08.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 13:25:47.000000000', 'files': ['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ed404c5f66e874779d58d3ac81f28ae22c55cf09', 'message': 'Fix CA file for Swift pollster\n\nMost OpenStack API communication uses the cafile option in the\nservice_credentials config. For swift the client is created differently,\nand does not get this option. When TLS is used, we may get an error like\nthe following:\n\nexceptions.SSLError: HTTPSConnectionPool(host=\'1.2.3.4\', port=443): Max\nretries exceeded with url: /swift/v1/AUTH_XXXX (Caused by\nSSLError(SSLError(""bad handshake: Error([(\'SSL routines\',\n\'tls_process_server_certificate\', \'certificate verify failed\')],)"",),))\n\nThis change fixes the issue by creating an HTTP connection for the Swift\nclient that uses the configured CA file.\n\nCloses-Bug: #1940660\nChange-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127\n'}]",0,805383,ed404c5f66e874779d58d3ac81f28ae22c55cf09,8,3,1,14826,,,0,"Fix CA file for Swift pollster

Most OpenStack API communication uses the cafile option in the
service_credentials config. For swift the client is created differently,
and does not get this option. When TLS is used, we may get an error like
the following:

exceptions.SSLError: HTTPSConnectionPool(host='1.2.3.4', port=443): Max
retries exceeded with url: /swift/v1/AUTH_XXXX (Caused by
SSLError(SSLError(""bad handshake: Error([('SSL routines',
'tls_process_server_certificate', 'certificate verify failed')],)"",),))

This change fixes the issue by creating an HTTP connection for the Swift
client that uses the configured CA file.

Closes-Bug: #1940660
Change-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/83/805383/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py']",3,ed404c5f66e874779d58d3ac81f28ae22c55cf09,," http_conn = swift.http_connection( cacert=self.conf.service_credentials.cafile) yield (t.id, swift_api_method( None, keystone_client.get_auth_token(ksclient), http_conn))"," yield (t.id, swift_api_method( keystone_client.get_auth_token(ksclient)))",40,17
openstack%2Fceilometer~master~Iba2180a4a4b939c0763b5867fc603f875c39d1ea,openstack/ceilometer,master,Iba2180a4a4b939c0763b5867fc603f875c39d1ea,Add missing [oslo_reports] options,MERGED,2021-08-14 14:24:58.000000000,2021-08-23 12:39:18.000000000,2021-08-23 12:37:05.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 14:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d3143f9ac3bf2607db17bd2441250c5520d303e2', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: Iba2180a4a4b939c0763b5867fc603f875c39d1ea\n'}, {'number': 2, 'created': '2021-08-21 08:24:07.000000000', 'files': ['etc/ceilometer/ceilometer-config-generator.conf'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7742fe062bd8222b3a385d2d2f9c34a63a24008a', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nCloses-Bug: #1940733\nChange-Id: Iba2180a4a4b939c0763b5867fc603f875c39d1ea\n'}]",0,804570,7742fe062bd8222b3a385d2d2f9c34a63a24008a,10,3,2,9816,,,0,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: Iba2180a4a4b939c0763b5867fc603f875c39d1ea
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/70/804570/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/ceilometer/ceilometer-config-generator.conf'],1,d3143f9ac3bf2607db17bd2441250c5520d303e2,bug/1940733,namespace = oslo.reports,,1,0
openstack%2Fkolla~stable%2Fwallaby~I614548b43de316d86bd53cec5e6b563204f9eff0,openstack/kolla,stable/wallaby,I614548b43de316d86bd53cec5e6b563204f9eff0,Add some system users to fix user uid inconsistencies,MERGED,2021-08-19 09:25:55.000000000,2021-08-23 12:35:08.000000000,2021-08-23 12:33:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-19 09:25:55.000000000', 'files': ['releasenotes/notes/bug-1934753-98ec4951a0f7373b.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/571572a2537344186d8b14465c396183b9ccc5a7', 'message': 'Add some system users to fix user uid inconsistencies\n\nThis patch is fixing user uids inconsistency between\nbase and openstack-base images.\n\nCloses-Bug: #1934753\nChange-Id: I614548b43de316d86bd53cec5e6b563204f9eff0\n(cherry picked from commit 0799569109007beb6c24dce1ee906c7c8779a560)\n'}]",0,805134,571572a2537344186d8b14465c396183b9ccc5a7,15,4,1,30491,,,0,"Add some system users to fix user uid inconsistencies

This patch is fixing user uids inconsistency between
base and openstack-base images.

Closes-Bug: #1934753
Change-Id: I614548b43de316d86bd53cec5e6b563204f9eff0
(cherry picked from commit 0799569109007beb6c24dce1ee906c7c8779a560)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/805134/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1934753-98ec4951a0f7373b.yaml', 'kolla/common/config.py']",2,571572a2537344186d8b14465c396183b9ccc5a7,bug/1934753-stable/wallaby," }, 'hacluster-user': { 'uid': 42486, 'gid': 42486, 'group': 'haclient',",,11,0
openstack%2Fsushy~stable%2Fwallaby~I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,openstack/sushy,stable/wallaby,I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,Change default value: insert_media write_protected,ABANDONED,2021-08-23 11:19:38.000000000,2021-08-23 12:19:38.000000000,,[{'_account_id': 32177}],"[{'number': 1, 'created': '2021-08-23 11:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/bb3e706939aebf8aaf451ecb9b9948df835c399f', 'message': ""Change defaults: insert_media write_protected attr\n\nUpdating default value of 'write_protected' attribute in\nVirtualMedia::insert_media() to True. This is to match the default\nvalue in the Redfish schema 2021.1 and VirtualMedia.v1_3_0:\nhttps://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: I3fe00d115e1ae8bade92ed1ad2841d74187fd11d\n""}, {'number': 2, 'created': '2021-08-23 11:22:32.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/change-vmedia-write-protected-attr-586370a552288801.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/cca16b1f54bbff0b7f2c6af5523768a298c4c79c', 'message': ""Change default value: insert_media write_protected\n\nUpdating default value of 'write_protected' attribute in\nVirtualMedia::insert_media() to True. This is to match the default\nvalue in the Redfish schema 2021.1 and VirtualMedia.v1_3_0:\nhttps://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: I3fe00d115e1ae8bade92ed1ad2841d74187fd11d\n""}]",0,805614,cca16b1f54bbff0b7f2c6af5523768a298c4c79c,5,1,2,32177,,,0,"Change default value: insert_media write_protected

Updating default value of 'write_protected' attribute in
VirtualMedia::insert_media() to True. This is to match the default
value in the Redfish schema 2021.1 and VirtualMedia.v1_3_0:
https://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json

Story: 2009086
Task: 42907
rhbz#1986238

Change-Id: I3fe00d115e1ae8bade92ed1ad2841d74187fd11d
",git fetch https://review.opendev.org/openstack/sushy refs/changes/14/805614/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/change-vmedia-write-protected-attr-586370a552288801.yaml']",2,bb3e706939aebf8aaf451ecb9b9948df835c399f,BZ1986238-stage1,"--- fixes: - | Changes the default value of ""WriteProtected"" parameter in in VirtualMedia::insert_media() from False to True. This is to match Redfish schema 2021.1 and VirtualMedia.v1_3_0: https://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json ",,8,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I32e247a6cb34d7f6763b544f247fd408dce2b3a2,openstack/kolla-ansible,stable/wallaby,I32e247a6cb34d7f6763b544f247fd408dce2b3a2,Use more RMQ flags for less busy wait,MERGED,2021-08-19 18:31:43.000000000,2021-08-23 12:04:44.000000000,2021-08-23 12:02:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-08-19 18:31:43.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a26e73005f9eb113ecca913a14234026a71cf274', 'message': 'Use more RMQ flags for less busy wait\n\nAs mentioned in the Iced014acee7e590c10848e73feca166f48b622dc\ncommit message, in Ussuri+ we can use ``+sbwtdcpu none\n+sbwtdio none`` as well. This is due to relying on RMQ-provided\nerlang in version 23.x.\n\nThis change adds the extra arguments by default.\nIt should be backported down to Ussuri before we do a release with\nIced014acee7e590c10848e73feca166f48b622dc.\n\nChange-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2\n(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)\n'}]",0,805271,a26e73005f9eb113ecca913a14234026a71cf274,10,4,1,30491,,,0,"Use more RMQ flags for less busy wait

As mentioned in the Iced014acee7e590c10848e73feca166f48b622dc
commit message, in Ussuri+ we can use ``+sbwtdcpu none
+sbwtdio none`` as well. This is due to relying on RMQ-provided
erlang in version 23.x.

This change adds the extra arguments by default.
It should be backported down to Ussuri before we do a release with
Iced014acee7e590c10848e73feca166f48b622dc.

Change-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2
(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/805271/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml']",4,a26e73005f9eb113ecca913a14234026a71cf274,rmq-even-less-busy-wait-stable/wallaby,"# and not to busy wait (+sbwt none +sbwtdcpu none +sbwtdio none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none +sbwtdcpu none +sbwtdio none""","# and not to busy wait (+sbwt none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none""",8,7
openstack%2Fkolla-ansible~stable%2Fussuri~I32e247a6cb34d7f6763b544f247fd408dce2b3a2,openstack/kolla-ansible,stable/ussuri,I32e247a6cb34d7f6763b544f247fd408dce2b3a2,Use more RMQ flags for less busy wait,MERGED,2021-08-19 18:32:04.000000000,2021-08-23 12:02:55.000000000,2021-08-23 12:00:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-08-19 18:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eef8dbdbcd856c6b5a2ccf0d07613ceaa3d13e9b', 'message': 'Use more RMQ flags for less busy wait\n\nAs mentioned in the Iced014acee7e590c10848e73feca166f48b622dc\ncommit message, in Ussuri+ we can use ``+sbwtdcpu none\n+sbwtdio none`` as well. This is due to relying on RMQ-provided\nerlang in version 23.x.\n\nThis change adds the extra arguments by default.\nIt should be backported down to Ussuri before we do a release with\nIced014acee7e590c10848e73feca166f48b622dc.\n\nChange-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2\n(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)\n'}, {'number': 2, 'created': '2021-08-19 18:33:05.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3279637a7f6602ee620743adf18a5a20cd89f32a', 'message': 'Use more RMQ flags for less busy wait\n\nAs mentioned in the Iced014acee7e590c10848e73feca166f48b622dc\ncommit message, in Ussuri+ we can use ``+sbwtdcpu none\n+sbwtdio none`` as well. This is due to relying on RMQ-provided\nerlang in version 23.x.\n\nThis change adds the extra arguments by default.\nIt should be backported down to Ussuri before we do a release with\nIced014acee7e590c10848e73feca166f48b622dc.\n\nChange-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2\n(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)\n'}]",0,805273,3279637a7f6602ee620743adf18a5a20cd89f32a,12,4,2,30491,,,0,"Use more RMQ flags for less busy wait

As mentioned in the Iced014acee7e590c10848e73feca166f48b622dc
commit message, in Ussuri+ we can use ``+sbwtdcpu none
+sbwtdio none`` as well. This is due to relying on RMQ-provided
erlang in version 23.x.

This change adds the extra arguments by default.
It should be backported down to Ussuri before we do a release with
Iced014acee7e590c10848e73feca166f48b622dc.

Change-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2
(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/805273/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml']",4,eef8dbdbcd856c6b5a2ccf0d07613ceaa3d13e9b,rmq-even-less-busy-wait-stable/wallaby-stable/victoria-stable/ussuri,"<<<<<<< HEAD (97804e Fix the Tempest image url variable)======= # and not to busy wait (+sbwt none +sbwtdcpu none +sbwtdio none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none +sbwtdcpu none +sbwtdio none"" # Whether to enable TLS encryption for RabbitMQ client-server communication. #rabbitmq_enable_tls: ""no"" # CA certificate bundle in RabbitMQ container. #rabbitmq_cacert: ""/etc/ssl/certs/{{ 'ca-certificates.crt' if kolla_base_distro in ['debian', 'ubuntu'] else 'ca-bundle.trust.crt' }}"" >>>>>>> CHANGE (d81a36 Use more RMQ flags for less busy wait)",,22,4
openstack%2Fkolla-ansible~stable%2Fvictoria~I32e247a6cb34d7f6763b544f247fd408dce2b3a2,openstack/kolla-ansible,stable/victoria,I32e247a6cb34d7f6763b544f247fd408dce2b3a2,Use more RMQ flags for less busy wait,MERGED,2021-08-19 18:31:50.000000000,2021-08-23 11:58:57.000000000,2021-08-23 11:57:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-08-19 18:31:50.000000000', 'files': ['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d81a36215566d1b217547ba8b47931edd793e235', 'message': 'Use more RMQ flags for less busy wait\n\nAs mentioned in the Iced014acee7e590c10848e73feca166f48b622dc\ncommit message, in Ussuri+ we can use ``+sbwtdcpu none\n+sbwtdio none`` as well. This is due to relying on RMQ-provided\nerlang in version 23.x.\n\nThis change adds the extra arguments by default.\nIt should be backported down to Ussuri before we do a release with\nIced014acee7e590c10848e73feca166f48b622dc.\n\nChange-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2\n(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)\n'}]",0,805272,d81a36215566d1b217547ba8b47931edd793e235,9,3,1,30491,,,0,"Use more RMQ flags for less busy wait

As mentioned in the Iced014acee7e590c10848e73feca166f48b622dc
commit message, in Ussuri+ we can use ``+sbwtdcpu none
+sbwtdio none`` as well. This is due to relying on RMQ-provided
erlang in version 23.x.

This change adds the extra arguments by default.
It should be backported down to Ussuri before we do a release with
Iced014acee7e590c10848e73feca166f48b622dc.

Change-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2
(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/805272/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reduce-rabbit-busy-waiting-085433c822165eab.yaml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/rabbitmq/defaults/main.yml', 'etc/kolla/globals.yml']",4,d81a36215566d1b217547ba8b47931edd793e235,rmq-even-less-busy-wait-stable/wallaby-stable/victoria,"# and not to busy wait (+sbwt none +sbwtdcpu none +sbwtdio none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none +sbwtdcpu none +sbwtdio none""","# and not to busy wait (+sbwt none): #rabbitmq_server_additional_erl_args: ""+S 2:2 +sbwt none""",8,7
openstack%2Fswift~master~Ib1d6197caa15d0974334be3d7eff24d4342ac378,openstack/swift,master,Ib1d6197caa15d0974334be3d7eff24d4342ac378,sharder: update shard storage_policy_index if roots changes,NEW,2021-07-14 06:28:29.000000000,2021-08-23 11:49:46.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 06:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/94f5fe2955849fce65115caefdff083953581d1e', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nThis is the first version and is based on clays migration work. And\nseems to be working when testing on my SAIO.\nBut we might decide we don't want it based on Clay's parent patch so\nmight have to strip it back and just update the policy_stat table\ndirectly to change the storage_policy.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 2, 'created': '2021-07-19 07:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bdb44596a41902347af4ee7c64f4e1e4f4358001', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nThis is the first version and is based on clays migration work. And\nseems to be working when testing on my SAIO.\nBut we might decide we don't want it based on Clay's parent patch so\nmight have to strip it back and just update the policy_stat table\ndirectly to change the storage_policy.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 3, 'created': '2021-07-21 07:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2d91ef276229ce88c7cdc2d6bfc6e5cdbe8d4bae', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nThis is the first version and is based on clays migration work. And\nseems to be working when testing on my SAIO.\nBut we might decide we don't want it based on Clay's parent patch so\nmight have to strip it back and just update the policy_stat table\ndirectly to change the storage_policy.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 4, 'created': '2021-07-23 03:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/11b8cd34faf5e6e12faa80145b224d3ef91c3dba', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nThis is the first version and is based on clays migration work. And\nseems to be working when testing on my SAIO.\nBut we might decide we don't want it based on Clay's parent patch so\nmight have to strip it back and just update the policy_stat table\ndirectly to change the storage_policy.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 5, 'created': '2021-07-23 05:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/292a5d519787f0152151cd782b9302ac8ae2ee55', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nThis is the first version and is based on clays migration work. And\nseems to be working when testing on my SAIO.\nBut we might decide we don't want it based on Clay's parent patch so\nmight have to strip it back and just update the policy_stat table\ndirectly to change the storage_policy.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 6, 'created': '2021-07-23 07:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0c59884a14edf122e63dc5e2c363530b0c6c6a38', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 7, 'created': '2021-07-26 08:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b6648951ba637eafcf4fcda47df89acdb5b9c20', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 8, 'created': '2021-07-27 06:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/da376375df2d7cf6c1d3d7ead09cb7e945de5aa9', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 9, 'created': '2021-07-29 05:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12fa27551b76fa5bacaf9e4211ae5958a7e3420e', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 10, 'created': '2021-07-30 04:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9c692273de072bece4f2c633a36a91341bd6f6a', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 11, 'created': '2021-07-30 07:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/10f1dd8e5f311a7e97f01917503eb951a2591f4e', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index, the\nreconciler will kick in and migrate objects to the new/correct storage\npolicy. However, a policy_index change on the root isn't propagated to\nit's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick of the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 12, 'created': '2021-07-30 20:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ed8c78d95ed425a2d47c93f229fa93b2520fce8a', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 13, 'created': '2021-08-02 00:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a74d952052ca5f79effa0b706eea7d58899aca4', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 14, 'created': '2021-08-03 10:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6053a65c63340cafa661fa4379ae85d035615f53', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nThis patch actually can do the migration in 2 places, either form the\nsharder when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So we can do the migration. And also in the\npost_replicate_hook of the container replicator before we do any\nreconciler enqueueing.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 15, 'created': '2021-08-10 05:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/04febd6590d80a3c389cd8fa4f0d8f85bed9fd30', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 16, 'created': '2021-08-13 14:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d26f58de70a4bc2ac5c87e02433d92415927f3a', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 17, 'created': '2021-08-16 02:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af58dff5c9256f5afec361f89863ca74c78398dd', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 18, 'created': '2021-08-17 06:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f41b02dd953dc5ef10be177cb3d5ced961784e65', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 19, 'created': '2021-08-23 04:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3e1c6746c916cc6afdbb86f95fc58982cd5b14fb', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}, {'number': 20, 'created': '2021-08-23 09:24:05.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e743ecc81a2160df5817547bb20b5a67cf03c565', 'message': ""sharder: update shard storage_policy_index if roots changes\n\nIf there is a change to the root container's storage_policy_index (e.g.\nafter it's deleted and recreated), the reconciler will kick in and\nmigrate objects (or tombstone rows) to the new/correct storage policy.\n\nTo ensure this works correctly on sharded containers, we must propagate\na policy_index change on the root to it's shards.\n\nTurns out when we go and fetch the shard range from the root container\nin the shard container audit, the response includes the roots policy\nindex. So in this patch, if it sees that the roots is different from the\nshards it'll migrate to the new storage policy. This will kick off the\nreconciler on the next container-replication run as it enqueues objects\nto reconcile.\n\nChange-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378\n""}]",65,800748,e743ecc81a2160df5817547bb20b5a67cf03c565,82,3,20,7233,,,0,"sharder: update shard storage_policy_index if roots changes

If there is a change to the root container's storage_policy_index (e.g.
after it's deleted and recreated), the reconciler will kick in and
migrate objects (or tombstone rows) to the new/correct storage policy.

To ensure this works correctly on sharded containers, we must propagate
a policy_index change on the root to it's shards.

Turns out when we go and fetch the shard range from the root container
in the shard container audit, the response includes the roots policy
index. So in this patch, if it sees that the roots is different from the
shards it'll migrate to the new storage policy. This will kick off the
reconciler on the next container-replication run as it enqueues objects
to reconcile.

Change-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/800748/20 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,94f5fe2955849fce65115caefdff083953581d1e,fix-update-shard-spi," return None, None return None, resp for shard_range in data], resp return None, resp def _update_storage_policy_index(self, root_resp, broker): root_sp_index = root_resp.headers.get('X-Backend-Storage-Policy-Index') if root_sp_index != broker.get_info()['storage_policy_index']: root_put_ts = root_resp.headers.get('X-Backend-Put-Timestamp') if root_put_ts: self.logger.info(""Migrating shard %s to storage_policy_index "" ""%d"", broker.db_file, int(root_sp_index)) broker.migrate_to_storage_policy(root_sp_index, root_put_ts) shard_ranges, root_resp = self._fetch_shard_ranges( # Only potentually update storage_policy_index if # we find the SR with the root. self._update_storage_policy_index(root_resp, broker) ranges, _ = self._fetch_shard_ranges(", return None return None for shard_range in data] return None shard_ranges = self._fetch_shard_ranges( ranges = self._fetch_shard_ranges(,30,18
openstack%2Fneutron-tempest-plugin~master~I390584681f630d897ef97e32c9b5bd3cc8e1c0a8,openstack/neutron-tempest-plugin,master,I390584681f630d897ef97e32c9b5bd3cc8e1c0a8,Ping external resource in the neutron tests,ABANDONED,2020-06-04 13:36:55.000000000,2021-08-23 11:48:35.000000000,,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2020-06-04 13:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5f8d28d0050a3a131b89ffae8a5bf624fa199e5d', 'message': 'Ping external resource in the neutron tests\n\nIn patch [1] new test, which tests connectivity from the VM to\nthe outside world was introduced.\nThis test is skipped by default, unless ""global_ip_address"" will\nbe set.\nSo this patch sets global_ip_address to be ""zuul_site_mirror_fqdn""\nvalue.\n\n[1] https://review.opendev.org/#/c/727764/\n\nChange-Id: I390584681f630d897ef97e32c9b5bd3cc8e1c0a8\n'}, {'number': 2, 'created': '2020-06-05 06:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8a28250aa981c2c6714d412f2219aae045d9f547', 'message': 'Ping external resource in the neutron tests\n\nIn patch [1] a new test, which tests connectivity from the VM to\nthe outside world was introduced.\nThis test is skipped by default, unless ""global_ip_address"" will\nbe set.\nSo this patch sets global_ip_address to be the A record that\n""zuul_site_mirror_fqdn"" resolves to.\n\n[1] https://review.opendev.org/#/c/727764/\n\nChange-Id: I390584681f630d897ef97e32c9b5bd3cc8e1c0a8\n'}, {'number': 3, 'created': '2020-06-05 09:08:41.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/86a817e2492a5ede116682546403a1f864ec27a1', 'message': 'Ping external resource in the neutron tests\n\nIn patch [1] a new test, which tests connectivity from the VM to\nthe outside world was introduced.\nThis test is skipped by default, unless ""global_ip_address"" will\nbe set.\nSo this patch sets global_ip_address to be the A record that\n""zuul_site_mirror_fqdn"" resolves to.\n\n[1] https://review.opendev.org/#/c/727764/\n\nChange-Id: I390584681f630d897ef97e32c9b5bd3cc8e1c0a8\n'}]",3,733614,86a817e2492a5ede116682546403a1f864ec27a1,12,5,3,11975,,,0,"Ping external resource in the neutron tests

In patch [1] a new test, which tests connectivity from the VM to
the outside world was introduced.
This test is skipped by default, unless ""global_ip_address"" will
be set.
So this patch sets global_ip_address to be the A record that
""zuul_site_mirror_fqdn"" resolves to.

[1] https://review.opendev.org/#/c/727764/

Change-Id: I390584681f630d897ef97e32c9b5bd3cc8e1c0a8
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/14/733614/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,5f8d28d0050a3a131b89ffae8a5bf624fa199e5d,ping_global_ip_from_fip," # global_ip_address: ""{{ zuul_site_mirror_fqdn }}"" global_ip_address: ""8.8.8.8""",,2,0
openstack%2Fswift~master~I9bf2aa3c36818950d165531af61a9f6f25233827,openstack/swift,master,I9bf2aa3c36818950d165531af61a9f6f25233827,use reconciler stuff to fix shards,NEW,2021-08-20 18:37:35.000000000,2021-08-23 11:33:49.000000000,,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 18:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03fbd61b7007aeda98174b75168fc3a1f547fcc2', 'message': 'use reconciler stuff to fix shards\n\nChange-Id: I9bf2aa3c36818950d165531af61a9f6f25233827\n'}, {'number': 2, 'created': '2021-08-23 04:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/146815b188ab8e2cfd37dd421fef1b976452420c', 'message': 'use reconciler stuff to fix shards\n\nChange-Id: I9bf2aa3c36818950d165531af61a9f6f25233827\n'}, {'number': 3, 'created': '2021-08-23 09:24:05.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7ba8915fbcd636bfebbd3ad73f8c558a52ac3eb3', 'message': 'use reconciler stuff to fix shards\n\nChange-Id: I9bf2aa3c36818950d165531af61a9f6f25233827\n'}]",2,805450,7ba8915fbcd636bfebbd3ad73f8c558a52ac3eb3,13,3,3,1179,,,0,"use reconciler stuff to fix shards

Change-Id: I9bf2aa3c36818950d165531af61a9f6f25233827
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/805450/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,03fbd61b7007aeda98174b75168fc3a1f547fcc2,fix-update-shard-spi,"from swift.container.reconciler import translate_container_headers_to_info, \ incorrect_policy_index # here we're comparing the shards timestamps to the roots for spi # election, this would be incorrect if a shard db was ever re-created # more recently with a different spi than the root ... but I don't # think we re-create shards? info = broker.get_replication_info() remote_info = translate_container_headers_to_info(root_resp.headers) if incorrect_policy_index(info, remote_info): broker.set_storage_policy_index( remote_info['storage_policy_index'])","from swift.common.storage_policy import POLICIES root_sp_index = root_resp.headers.get('X-Backend-Storage-Policy-Index') root_put_ts = root_resp.headers.get( 'X-Backend-Put-Timestamp') if root_put_ts is None or root_sp_index is None: return shard_root_put_ts = \ Timestamp(broker.get_sharding_sysmeta('Root-Put-Timestamp') or 0) root_put_ts = Timestamp(root_put_ts) if shard_root_put_ts and shard_root_put_ts >= root_put_ts: # local policy_change timestamp is newer than root's so ignore. return try: root_sp_index = POLICIES[int(root_sp_index)].idx except KeyError: self.logger.warning( 'Cannot migrate shard to unknown policy index %s', root_sp_index) return if root_sp_index != broker.storage_policy_index: self.logger.info(""Migrating shard %s to storage_policy_index "" ""%d"", broker.db_file, int(root_sp_index)) broker.migrate_to_storage_policy(root_sp_index, Timestamp.now()) broker.set_sharding_sysmeta('Root-Put-Timestamp', root_put_ts.internal)",21,66
openstack%2Fopenstack-ansible-galera_server~stable%2Fwallaby~I084f63d071394022b4b2dd6ad1433e4036adc978,openstack/openstack-ansible-galera_server,stable/wallaby,I084f63d071394022b4b2dd6ad1433e4036adc978,Update galera to 10.5.12,MERGED,2021-08-18 09:34:40.000000000,2021-08-23 11:16:04.000000000,2021-08-23 11:14:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-18 09:34:40.000000000', 'files': ['vars/debian-11.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/14613c8ad79cdc43f88522436ee030b21c4b5e5a', 'message': 'Update galera to 10.5.12\n\nAlso remove vars/debian-11.yml so that bullseye takes packages from the official mariadb repo\nrather than using the distro provided package.\n\nChange-Id: I084f63d071394022b4b2dd6ad1433e4036adc978\n(cherry picked from commit 2ad823eafd55bfbbe049a52b8ed410d22cf8e085)\n'}]",0,804867,14613c8ad79cdc43f88522436ee030b21c4b5e5a,15,3,1,28619,,,0,"Update galera to 10.5.12

Also remove vars/debian-11.yml so that bullseye takes packages from the official mariadb repo
rather than using the distro provided package.

Change-Id: I084f63d071394022b4b2dd6ad1433e4036adc978
(cherry picked from commit 2ad823eafd55bfbbe049a52b8ed410d22cf8e085)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/67/804867/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-11.yml', 'defaults/main.yml']",2,14613c8ad79cdc43f88522436ee030b21c4b5e5a,,galera_minor_version: 12,galera_minor_version: 9,1,86
openstack%2Fironic~master~I256e42b8aa736b278bab6b4aa145a859aca10e17,openstack/ironic,master,I256e42b8aa736b278bab6b4aa145a859aca10e17,rfc3986: Replace deprecated URIReference.is_valid,MERGED,2021-08-20 16:49:36.000000000,2021-08-23 11:00:45.000000000,2021-08-23 10:58:37.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-20 16:49:36.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/drivers/modules/redfish/vendor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/197e07d3de36895f506abb43b19001e9c63b8329', 'message': 'rfc3986: Replace deprecated URIReference.is_valid\n\nThe URIReference.is_valid method has been deprecated since rfc3986\n1.1.0[1] and triggers the following deprecation warning.\n\nDeprecationWarning: Please use rfc3986.validators.Validator instead.\nThis method will be eventually removed.\n\n[1] https://github.com/python-hyper/rfc3986/commit/fd19bd90\n\nChange-Id: I256e42b8aa736b278bab6b4aa145a859aca10e17\n'}]",0,805440,197e07d3de36895f506abb43b19001e9c63b8329,11,3,1,9816,,,0,"rfc3986: Replace deprecated URIReference.is_valid

The URIReference.is_valid method has been deprecated since rfc3986
1.1.0[1] and triggers the following deprecation warning.

DeprecationWarning: Please use rfc3986.validators.Validator instead.
This method will be eventually removed.

[1] https://github.com/python-hyper/rfc3986/commit/fd19bd90

Change-Id: I256e42b8aa736b278bab6b4aa145a859aca10e17
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/805440/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'ironic/drivers/modules/redfish/vendor.py']",2,197e07d3de36895f506abb43b19001e9c63b8329,rfc3986," validator = rfc3986.validators.Validator().require_presence_of( 'scheme', 'host', ).check_validity_of( 'scheme', 'userinfo', 'host', 'path', 'query', 'fragment', ) try: validator.validate(parsed) except rfc3986.exceptions.RFC3986Exception:"," if not parsed.is_valid(require_scheme=True, require_authority=True):",16,4
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia1e1faaa8389c4b943632820deff8f0a919bcdd8,openstack/tripleo-ansible,stable/wallaby,Ia1e1faaa8389c4b943632820deff8f0a919bcdd8,tripleo_push_artifacts: ensure destination exists,MERGED,2021-08-20 17:26:29.000000000,2021-08-23 10:45:40.000000000,2021-08-23 10:44:21.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-20 17:26:29.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e83d978c7173eff1fb7c0f611bee1f4db731f42', 'message': 'tripleo_push_artifacts: ensure destination exists\n\nBefore transferring a tarball, ensure that the destination\ndirectory exists, like we do for transferring rpms.\n\nCloses-Bug: #1940301\nChange-Id: Ia1e1faaa8389c4b943632820deff8f0a919bcdd8\n(cherry picked from commit 83d4795cdf0141af53f8dd6f37b05360eabdbacc)\n'}]",0,805281,9e83d978c7173eff1fb7c0f611bee1f4db731f42,8,3,1,20778,,,0,"tripleo_push_artifacts: ensure destination exists

Before transferring a tarball, ensure that the destination
directory exists, like we do for transferring rpms.

Closes-Bug: #1940301
Change-Id: Ia1e1faaa8389c4b943632820deff8f0a919bcdd8
(cherry picked from commit 83d4795cdf0141af53f8dd6f37b05360eabdbacc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/805281/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_push_artifacts.py'],1,9e83d978c7173eff1fb7c0f611bee1f4db731f42,bug/1940301-stable/wallaby," self._run_module( module_name='file', module_args=dict( path=os.path.dirname(package_path), state='directory' ) )",,7,0
openstack%2Ftripleo-heat-templates~master~I1ad51e948d981f39237f7a23a1ebf765996a4993,openstack/tripleo-heat-templates,master,I1ad51e948d981f39237f7a23a1ebf765996a4993,qdr: Add SSL support for oslo.messaging RPC,MERGED,2021-06-18 16:37:43.000000000,2021-08-23 10:44:23.000000000,2021-08-23 10:44:23.000000000,"[{'_account_id': 9257}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 16:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c448a96698cef620409e1ba8e94fd2f96098d98e', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 2, 'created': '2021-06-21 14:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b064cc75497e9b9df4f889c7d6494cccbdd8ce80', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 3, 'created': '2021-06-21 15:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/978bfee45e07faba3de311082340497aa8514f54', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 4, 'created': '2021-06-21 18:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae014a0d6d09a550c07d83112aa05ea0266887a2', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 5, 'created': '2021-06-22 13:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e47f646fcf9efa8b2880a937c0867dc82d709b8', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 6, 'created': '2021-06-22 19:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52f1e7d0be58759fab73f0929da441bf63daef29', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 7, 'created': '2021-06-22 20:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c953247788754c76bd5552fa7bb4ed181fedb2e', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 8, 'created': '2021-06-23 13:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a758678805ddaa3edba88c89b6f4cf4b349867d1', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 9, 'created': '2021-06-28 15:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/991f9e5f9c51f5c64774e02e97a17eb81b2d6be9', 'message': 'WIP qdr ssl support\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}, {'number': 10, 'created': '2021-08-11 18:50:45.000000000', 'files': ['deployment/messaging/rpc-qdrouterd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b921b185fbf0a28805c9a72e0fc474ea30df68fa', 'message': 'qdr: Add SSL support for oslo.messaging RPC\n\nChange-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993\n'}]",0,797139,b921b185fbf0a28805c9a72e0fc474ea30df68fa,30,5,10,9257,,,0,"qdr: Add SSL support for oslo.messaging RPC

Change-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/797139/9 && git format-patch -1 --stdout FETCH_HEAD,['deployment/qdr/qdrouterd-container-puppet.yaml'],1,c448a96698cef620409e1ba8e94fd2f96098d98e,qdr-ssl-for-review," EnableInternalTLS: type: boolean default: false CertificateKeySize: type: string default: '2048' description: Specifies the private key size used when creating the certificate. QdrCertificateKeySize: type: string default: '' description: Override the private key size used when creating the certificate for this service QdrSslCertDb: default: '/etc/ipa/ca.crt' description: Path to SSL certificate db for listener. type: string QdrSslCertFile: default: '/etc/pki/tls/certs/qdrouterd.crt' description: Path to SSL certificate file for listener. type: string QdrSslKeyFile: default: '/etc/pki/tls/private/qdrouterd.key' description: Path to SSL private key file for listener. type: string conditions: key_size_override_set: not: {equals: [{get_param: QdrCertificateKeySize}, '']} # ssl support tripleo::profile::base::qdr::listener_require_ssl: {get_param: EnableInternalTLS} tripleo::profile::base::qdr::listener_ssl_cert_db: {get_param: QdrSslCertDb} tripleo::profile::base::qdr::listener_ssl_cert_file: {get_param: QdrSslCertFile} tripleo::profile::base::qdr::listener_ssl_key_file: {get_param: QdrSslKeyFile} deploy_steps_tasks: - name: Certificate generation when: - step|int == 1 - enable_internal_tls block: - include_role: name: linux-system-roles.certificate vars: certificate_requests: - name: qdrouterd dns: str_replace: template: ""{{fqdn_NETWORK}}"" params: NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEQdrNetwork"" params: ROLENAME: {get_param: RoleName} principal: str_replace: template: ""qdrouterd/{{fqdn_NETWORK}}@{{idm_realm}}"" params: NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEQdrNetwork"" params: ROLENAME: {get_param: RoleName} run_after: | container_name=$({{container_cli}} ps --format=\{\{.Names\}\} | grep qdrouterd) service_crt=""/etc/pki/tls/certs/qdrouterd.crt"" service_key=""/etc/pki/tls/private/qdrouterd.key # Copy the new cert from the mount-point to the real path {{container_cli}} exec ""$container_name"" cp ""/var/lib/kolla/config_files/src-tls$service_crt"" ""$service_crt"" # Copy the new key from the mount-point to the real path {{container_cli}} exec ""$container_name"" cp ""/var/lib/kolla/config_files/src-tls$service_key"" ""$service_key"" # Set appropriate permissions {{container_cli}} exec ""$container_name"" chown qdrouterd:qdrouterd ""$service_crt"" {{container_cli}} exec ""$container_name"" chown qdrouterd:qdrouterd ""$service_key"" # Trigger a container restart to read the new certificate {{container_cli}} restart ""$container_name"" key_size: if: - key_size_override_set - {get_param: QdrCertificateKeySize} - {get_param: CertificateKeySize} ca: ipa",,87,0
openstack%2Fkayobe~master~I0c41d59123aba3351ac3b0a5a76cff517cca93e4,openstack/kayobe,master,I0c41d59123aba3351ac3b0a5a76cff517cca93e4,Add twentyFiveGigE to port descriptions in inspector rules,MERGED,2021-07-28 13:16:52.000000000,2021-08-23 10:42:34.000000000,2021-08-23 10:41:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-07-28 13:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4d7c3b99582feb5ed4535ce1d8ddc5d2c5f81e5d', 'message': 'Add twentyFiveGigE to port descriptions in inspector rules\n\nChange-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4\n'}, {'number': 2, 'created': '2021-08-19 08:39:41.000000000', 'files': ['ansible/group_vars/all/inspector', 'releasenotes/notes/inspector-25gbe-port-9bdc3bb354e3dfb6.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3', 'message': 'Add twentyFiveGigE to port descriptions in inspector rules\n\nChange-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4\n'}]",0,802709,91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3,15,3,2,15197,,,0,"Add twentyFiveGigE to port descriptions in inspector rules

Change-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/09/802709/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/inspector'],1,4d7c3b99582feb5ed4535ce1d8ddc5d2c5f81e5d,inspector-port-desc," value: ""^twentyFiveGigE ?([0-9/]*)$"" invert: True - field: ""data://all_interfaces.{{inspector_rule_var_lldp_switch_port_interface}}.lldp_processed.switch_port_description"" op: ""matches""",,4,0
openstack%2Fpython-cyborgclient~master~I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793,openstack/python-cyborgclient,master,I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793,Add checks for showing dp with name,MERGED,2021-07-24 07:43:28.000000000,2021-08-23 10:38:48.000000000,2021-08-23 10:37:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-07-24 07:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/2d7ae357d1c8cfd37e42af1b47fe6d3c1abbcd9f', 'message': ""Add checks for showing dp with name\n\nThis patch adds checking input arg. If not uuid, raise CommandError with\n output like 'Only UUID of device_profile allowed'.\n\nCloses-Bug: #1936877\nChange-Id: I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793\n""}, {'number': 2, 'created': '2021-07-26 04:48:23.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_device_profile.py', 'cyborgclient/osc/v2/device_profile.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/83c099d014b5970588be19cb37e72d79a378115d', 'message': ""Add checks for showing dp with name\n\nThis patch adds checking input arg. If not uuid, raise CommandError with\n output like 'Only UUID of device_profile allowed'.\n\nCloses-Bug: #1936877\nChange-Id: I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793\n""}]",2,802140,83c099d014b5970588be19cb37e72d79a378115d,21,4,2,23950,,,0,"Add checks for showing dp with name

This patch adds checking input arg. If not uuid, raise CommandError with
 output like 'Only UUID of device_profile allowed'.

Closes-Bug: #1936877
Change-Id: I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/40/802140/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/tests/unit/osc/v2/test_device_profile.py', 'cyborgclient/osc/v2/device_profile.py']",2,2d7ae357d1c8cfd37e42af1b47fe6d3c1abbcd9f,bug/1936877,from oslo_utils import uuidutils if not uuidutils.is_uuid_like(uuid): raise exc.CommandError(_('Only UUID of device_profile allowed. ' 'Invalid input: %s') % uuid) ,,21,0
openstack%2Freleases~master~Id37a268e9bbdc919a33df980e0150f2911d271a9,openstack/releases,master,Id37a268e9bbdc919a33df980e0150f2911d271a9,Move yoga final release for non client lib to R-6,MERGED,2021-08-20 12:47:02.000000000,2021-08-23 10:24:10.000000000,2021-08-23 10:24:10.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 12:47:02.000000000', 'files': ['doc/source/yoga/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8e73feb7e67a50b993113e98ad9bc38aa7f2a035', 'message': ""Move yoga final release for non client lib to R-6\n\nAlso move oslo's feature freeze to R-7\n\nChange-Id: Id37a268e9bbdc919a33df980e0150f2911d271a9\n""}]",0,805376,8e73feb7e67a50b993113e98ad9bc38aa7f2a035,7,3,1,28522,,,0,"Move yoga final release for non client lib to R-6

Also move oslo's feature freeze to R-7

Change-Id: Id37a268e9bbdc919a33df980e0150f2911d271a9
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/805376/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/yoga/schedule.yaml'],1,8e73feb7e67a50b993113e98ad9bc38aa7f2a035,fix-yoga-schedule, project-specific: - y-oslo-feature-freeze x-project: - y-final-lib, - y-final-lib project-specific: - y-oslo-feature-freeze,4,3
openstack%2Freleases~master~Ib7ea3283180820bac345802912488ec508b78d47,openstack/releases,master,Ib7ea3283180820bac345802912488ec508b78d47,Release os-traits 2.6.0,MERGED,2021-08-19 14:56:08.000000000,2021-08-23 10:24:08.000000000,2021-08-23 10:24:08.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 14:56:08.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c66e27933bbcd81c74b9862691484625d708ff69', 'message': 'Release os-traits 2.6.0\n\nChange-Id: Ib7ea3283180820bac345802912488ec508b78d47\n'}]",1,805241,c66e27933bbcd81c74b9862691484625d708ff69,10,6,1,17685,,,0,"Release os-traits 2.6.0

Change-Id: Ib7ea3283180820bac345802912488ec508b78d47
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/805241/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,c66e27933bbcd81c74b9862691484625d708ff69,os-traits-xena, - version: 2.6.0 projects: - repo: openstack/os-traits hash: c323982d9ec0cb387bde6ea676a44687eb56b49f,,4,0
openstack%2Ftripleo-heat-templates~master~I5185ad92d52256ddf305a7f46a6f9453e9d40241,openstack/tripleo-heat-templates,master,I5185ad92d52256ddf305a7f46a6f9453e9d40241,Fix podman on the host configuration,ABANDONED,2021-06-01 02:22:46.000000000,2021-08-23 10:23:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-01 02:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7c506e0a3be8eed079341943528efd2276ec88c', 'message': 'Fix podman on the host configuration\n\nRemove the conditional checking if insecure registry\nis set. Always set the parameter, the parameter default\n[] is required for the playbook to run.\n\nCloses-Bug: #1929927\nChange-Id: I5185ad92d52256ddf305a7f46a6f9453e9d40241\n'}, {'number': 2, 'created': '2021-06-30 20:51:29.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0220fe0f0341838afef9915e80f5d5a3d28cd018', 'message': 'Fix podman on the host configuration\n\nRemove the conditional checking if insecure registry\nis set. Always set the parameter, the parameter default\n[] is required for the playbook to run.\n\nCloses-Bug: #1929927\nChange-Id: I5185ad92d52256ddf305a7f46a6f9453e9d40241\n'}]",4,793871,0220fe0f0341838afef9915e80f5d5a3d28cd018,14,2,2,24245,,,0,"Fix podman on the host configuration

Remove the conditional checking if insecure registry
is set. Always set the parameter, the parameter default
[] is required for the playbook to run.

Closes-Bug: #1929927
Change-Id: I5185ad92d52256ddf305a7f46a6f9453e9d40241
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/793871/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,f7c506e0a3be8eed079341943528efd2276ec88c,bug/1929927, container_registry_insecure_registries: {get_param: DockerInsecureRegistryAddress} container_registry_insecure_registries: {get_param: DockerInsecureRegistryAddress},"conditions: insecure_registry_is_set: not: {equals : [{get_param: DockerInsecureRegistryAddress}, []]} container_registry_insecure_registries: if: - insecure_registry_is_set - {get_param: DockerInsecureRegistryAddress} container_registry_insecure_registries: if: - insecure_registry_is_set - {get_param: DockerInsecureRegistryAddress}",2,12
openstack%2Freleases~master~Icc048cb736d1e73737b98f6134e955d22bf46cf7,openstack/releases,master,Icc048cb736d1e73737b98f6134e955d22bf46cf7,Release final oslo.db for Xena,MERGED,2021-08-16 09:50:13.000000000,2021-08-23 10:20:06.000000000,2021-08-23 10:20:06.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-16 09:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6555eef7a5b7a59a5f3ade242ea9ed32e1970e00', 'message': ""Release final oslo.db for Xena\n\nThis proposed a release for oslo.db to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 10.0.0..6dc4b1c\n6dc4b1c Replace use of insert.values parameter\nd949861 Add missing bind argument to calls\n872bc1d Don't pass strings to Connection.execute()\n22b44ee Remove use of MetaData.bind argument\n8d76072 Remove legacy calling style of select()\n4c1eb96 tests: Enable SQLAlchemy 2.0 deprecation warnings\nda002a8 utils: Deprecate sqlalchemy-migrate-related functions\n40bce5a tests: Enable SADeprecationWarning warnings\na6007a9 tests: Use common base class\n538e0a2 tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n73e376d tests: Clean up base test\nbd69e86 Drop checks for IBM DB2\nf048068 tox: Simplify test running\n4f9df08 tests: Remove 'ModelsMigrationsSync.check_foreign_keys'\n74c6bf2 concurrency: Deprecate 'TpoolDbapiWrapper'\na778f2d sqlalchemy: Remove checks for older deps\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Icc048cb736d1e73737b98f6134e955d22bf46cf7\n""}, {'number': 2, 'created': '2021-08-19 07:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b3a82c9f9b6bf83f14536249d57251b22605958b', 'message': ""Release final oslo.db for Xena\n\nThis proposed a release for oslo.db to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 10.0.0..8e7454c\n8e7454c Don't use plain string SQL statements\n6a013c6 Replace use of Table.autoload parameter\nd2f101c Replace use of update.whereclause parameter\n0816efc Update import of declarative_base()\n38c2eff Replace use of update.values parameter\n6dc4b1c Replace use of insert.values parameter\nd949861 Add missing bind argument to calls\n872bc1d Don't pass strings to Connection.execute()\n22b44ee Remove use of MetaData.bind argument\n8d76072 Remove legacy calling style of select()\n4c1eb96 tests: Enable SQLAlchemy 2.0 deprecation warnings\nda002a8 utils: Deprecate sqlalchemy-migrate-related functions\n40bce5a tests: Enable SADeprecationWarning warnings\na6007a9 tests: Use common base class\n538e0a2 tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n73e376d tests: Clean up base test\nbd69e86 Drop checks for IBM DB2\nf048068 tox: Simplify test running\n4f9df08 (HEAD -> review/stephen_finucane/cleanup) tests: Remove\n'ModelsMigrationsSync.check_foreign_keys'\n74c6bf2 concurrency: Deprecate 'TpoolDbapiWrapper'\na778f2d sqlalchemy: Remove checks for older deps\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Icc048cb736d1e73737b98f6134e955d22bf46cf7\n""}, {'number': 3, 'created': '2021-08-20 11:32:19.000000000', 'files': ['deliverables/xena/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7484d9c84801751a9ffd2f47fd5752e4140f046a', 'message': ""Release final oslo.db for Xena\n\nThis proposed a release for oslo.db to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 10.0.0..75661fbc4d\nad4729d requirements: Bump sqlalchemy lower constraint\n8e7454c Don't use plain string SQL statements\n0816efc Update import of declarative_base()\n6a013c6 Replace use of Table.autoload parameter\n38c2eff Replace use of update.values parameter\nd2f101c Replace use of update.whereclause parameter\n6dc4b1c Replace use of insert.values parameter\nd949861 Add missing bind argument to calls\n872bc1d Don't pass strings to Connection.execute()\n22b44ee Remove use of MetaData.bind argument\n8d76072 Remove legacy calling style of select()\n4c1eb96 tests: Enable SQLAlchemy 2.0 deprecation warnings\nda002a8 utils: Deprecate sqlalchemy-migrate-related functions\n40bce5a tests: Enable SADeprecationWarning warnings\na6007a9 tests: Use common base class\n538e0a2 tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n73e376d tests: Clean up base test\nbd69e86 Drop checks for IBM DB2\nf048068 tox: Simplify test running\n4f9df08 (HEAD -> review/stephen_finucane/cleanup) tests: Remove\n'ModelsMigrationsSync.check_foreign_keys'\n74c6bf2 concurrency: Deprecate 'TpoolDbapiWrapper'\na778f2d sqlalchemy: Remove checks for older deps\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Icc048cb736d1e73737b98f6134e955d22bf46cf7\n""}]",0,804676,7484d9c84801751a9ffd2f47fd5752e4140f046a,23,6,3,28522,,,0,"Release final oslo.db for Xena

This proposed a release for oslo.db to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 10.0.0..75661fbc4d
ad4729d requirements: Bump sqlalchemy lower constraint
8e7454c Don't use plain string SQL statements
0816efc Update import of declarative_base()
6a013c6 Replace use of Table.autoload parameter
38c2eff Replace use of update.values parameter
d2f101c Replace use of update.whereclause parameter
6dc4b1c Replace use of insert.values parameter
d949861 Add missing bind argument to calls
872bc1d Don't pass strings to Connection.execute()
22b44ee Remove use of MetaData.bind argument
8d76072 Remove legacy calling style of select()
4c1eb96 tests: Enable SQLAlchemy 2.0 deprecation warnings
da002a8 utils: Deprecate sqlalchemy-migrate-related functions
40bce5a tests: Enable SADeprecationWarning warnings
a6007a9 tests: Use common base class
538e0a2 tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'
73e376d tests: Clean up base test
bd69e86 Drop checks for IBM DB2
f048068 tox: Simplify test running
4f9df08 (HEAD -> review/stephen_finucane/cleanup) tests: Remove
'ModelsMigrationsSync.check_foreign_keys'
74c6bf2 concurrency: Deprecate 'TpoolDbapiWrapper'
a778f2d sqlalchemy: Remove checks for older deps

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Icc048cb736d1e73737b98f6134e955d22bf46cf7
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/804676/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.db.yaml'],1,6555eef7a5b7a59a5f3ade242ea9ed32e1970e00,xena-final-non-client-libs, - version: 10.1.0 projects: - repo: openstack/oslo.db hash: 6dc4b1c415bba34c875ad69dd5c01f804ae6f223,,4,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Idc9e36563854b7e6590f74f14774d506c5dbc4c3,openstack/python-tripleoclient,stable/wallaby,Idc9e36563854b7e6590f74f14774d506c5dbc4c3,Use 'all' for ANSIBLE_VARS_PLUGIN_STAGE,MERGED,2021-08-18 10:50:44.000000000,2021-08-23 10:18:23.000000000,2021-08-23 10:16:45.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-18 10:50:44.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7e490d4f8129807031366899b9b9db8716980d33', 'message': ""Use 'all' for ANSIBLE_VARS_PLUGIN_STAGE\n\nANSIBLE_VARS_PLUGIN_STAGE=inventory doesn't work with implicit\nlocalhost in Ansible 2.11, use 'all' instead.\nSee https://github.com/ansible/ansible/issues/72590\n\nChange-Id: Idc9e36563854b7e6590f74f14774d506c5dbc4c3\n(cherry picked from commit 26213f3a115004471d404a9161b8b03a6887a843)\n""}]",0,804992,7e490d4f8129807031366899b9b9db8716980d33,13,6,1,10969,,,0,"Use 'all' for ANSIBLE_VARS_PLUGIN_STAGE

ANSIBLE_VARS_PLUGIN_STAGE=inventory doesn't work with implicit
localhost in Ansible 2.11, use 'all' instead.
See https://github.com/ansible/ansible/issues/72590

Change-Id: Idc9e36563854b7e6590f74f14774d506c5dbc4c3
(cherry picked from commit 26213f3a115004471d404a9161b8b03a6887a843)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/804992/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,7e490d4f8129807031366899b9b9db8716980d33,2.11-stable/wallaby, env['ANSIBLE_VARS_PLUGIN_STAGE'] = 'all', env['ANSIBLE_VARS_PLUGIN_STAGE'] = 'inventory',1,1
openstack%2Ftripleo-common~stable%2Fvictoria~I2cc79caeabd9d1b85f54320a83e5f36a64003303,openstack/tripleo-common,stable/victoria,I2cc79caeabd9d1b85f54320a83e5f36a64003303,Don't install dhcp-all-interfaces for redhat 8 onwards,MERGED,2021-04-27 21:57:17.000000000,2021-08-23 10:18:08.000000000,2021-08-23 10:16:43.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-27 21:57:17.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a575fd8d639e4e37819e5bc1d7352902119df996', 'message': ""Don't install dhcp-all-interfaces for redhat 8 onwards\n\nThis element was needed for centos-7 and earlier because by default\nonly the first interface had dhcp enabled. This is no longer the case\nwith centos-8, every interface has dhcp enabled. Additionally this\nelement is causing issues in some environments.\n\nThis change removes the element from all *-8 images since it no longer\nserves a useful purpose and is causing problems in some cases.\n\nChange-Id: I2cc79caeabd9d1b85f54320a83e5f36a64003303\n(cherry picked from commit af9329599bec35e241db8466ec172e7d498ad6ea)\n""}]",3,788371,a575fd8d639e4e37819e5bc1d7352902119df996,28,4,1,4571,,,0,"Don't install dhcp-all-interfaces for redhat 8 onwards

This element was needed for centos-7 and earlier because by default
only the first interface had dhcp enabled. This is no longer the case
with centos-8, every interface has dhcp enabled. Additionally this
element is causing issues in some environments.

This change removes the element from all *-8 images since it no longer
serves a useful purpose and is causing problems in some cases.

Change-Id: I2cc79caeabd9d1b85f54320a83e5f36a64003303
(cherry picked from commit af9329599bec35e241db8466ec172e7d498ad6ea)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/788371/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml']",18,a575fd8d639e4e37819e5bc1d7352902119df996,victoria/no-all-dhcp,, - dhcp-all-interfaces,12,10
openstack%2Fpuppet-tripleo~master~Ia878bc4a877753bc4784b13bf1c22c22e8324c1f,openstack/puppet-tripleo,master,Ia878bc4a877753bc4784b13bf1c22c22e8324c1f,qdr: Add SSL support,MERGED,2021-06-17 19:43:38.000000000,2021-08-23 10:16:46.000000000,2021-08-23 10:16:46.000000000,"[{'_account_id': 7144}, {'_account_id': 9257}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-17 19:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cfa38910c006772ea95a790c9b0db6e0c340a5d9', 'message': 'WIP qdr ssl support\n\nChange-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f\n'}, {'number': 2, 'created': '2021-06-18 15:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/323933e006fc57659623689b5b4cc7f2d99e8b4e', 'message': 'WIP qdr ssl support\n\nChange-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f\n'}, {'number': 3, 'created': '2021-07-12 14:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bba951bbcbc66658d9a33c1ec6e0e1f0f41dc28b', 'message': 'WIP qdr ssl support\n\nChange-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f\n'}, {'number': 4, 'created': '2021-07-12 17:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9ad03c98d1fbc99dc4e180d6d7757c883e0dde05', 'message': 'WIP qdr ssl support\n\nChange-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f\n'}, {'number': 5, 'created': '2021-08-11 18:47:58.000000000', 'files': ['spec/classes/tripleo_profile_base_qdr_spec.rb', 'manifests/profile/base/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/423046a6a42911a7f0fc6a14874fbbae5d624d7d', 'message': 'qdr: Add SSL support\n\nChange-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f\n'}]",0,796945,423046a6a42911a7f0fc6a14874fbbae5d624d7d,21,5,5,9257,,,0,"qdr: Add SSL support

Change-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/796945/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_qdr_spec.rb', 'manifests/profile/base/qdr.pp']",2,cfa38910c006772ea95a790c9b0db6e0c340a5d9,qdr-ssl-for-review,"# [*listener_require_ssl*] # (optional) Require the use of SSL on the connection # Defaults to false # # [*listener_ssl_cert_db*] # (optional) Path to certificate db # Defaults to undef # # [*listener_ssl_cert_file*] # (optional) Path to certificat file # Defaults to undef # # [*listener_ssl_key_file*] # (optional) Path to private key file # Defaults to undef # $listener_require_ssl = false, $listener_ssl_cert_db = undef, $listener_ssl_cert_file = undef, $listener_ssl_key_file = undef, if $listener_require_ssl { $ssl_opts = {'sslProfile' => ""Router.${::fqdn}""} } else { $ssl_opts = {} } $memo + [merge($ssl_opts, {'host' => $node, 'port' => '31460'})] default => [merge($ssl_opts, {'host' => '0.0.0.0', 'role' => 'inter-router'})], listener_addr => '0.0.0.0', listener_port => ""${qdr_listener_port}"", listener_require_ssl => $listener_require_ssl, listener_ssl_cert_db => $listener_ssl_cert_db, listener_ssl_cert_file => $listener_ssl_cert_file, listener_ssl_key_file => $listener_ssl_key_file, router_mode => $router_mode, connectors => $connectors, extra_listeners => $extra_listeners, extra_addresses => $extra_addresses, log_enable => ""${qdr_log_enable}"","," $memo + [{'host' => $node, 'port' => '31460'}] default => [{'host' => '0.0.0.0', 'role' => 'inter-router'}], listener_addr => '0.0.0.0', listener_port => ""${qdr_listener_port}"", router_mode => $router_mode, connectors => $connectors, extra_listeners => $extra_listeners, extra_addresses => $extra_addresses, log_enable => ""${qdr_log_enable}"",",77,11
openstack%2Freleases~master~Ie296ceccd7de7074582e83896ca4e9758782e114,openstack/releases,master,Ie296ceccd7de7074582e83896ca4e9758782e114,[solum-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:21:57.000000000,2021-08-23 10:05:44.000000000,2021-08-23 10:05:44.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-17 00:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ed834465b207b62aaa06669743d0ca3171b3ff63', 'message': ""[solum-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Ie296ceccd7de7074582e83896ca4e9758782e114\n""}, {'number': 2, 'created': '2021-08-17 16:22:25.000000000', 'files': ['deliverables/train/solum-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9a4370c4be05ff34f900705ab400f404675fbc2a', 'message': ""[solum-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] with the current/latest hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Ie296ceccd7de7074582e83896ca4e9758782e114\n""}]",2,801171,9a4370c4be05ff34f900705ab400f404675fbc2a,17,4,2,8556,,,0,"[solum-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] with the current/latest hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ie296ceccd7de7074582e83896ca4e9758782e114
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/801171/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/solum-tempest-plugin.yaml', 'deliverables/train/solum-tempest-plugin.yaml']",2,ed834465b207b62aaa06669743d0ca3171b3ff63,train-last, - version: train-last projects: - repo: openstack/solum-tempest-plugin hash: 80e23bb97926308505bc0ac206974468b38efe4e,,9,0
openstack%2Fdiskimage-builder~master~Ia950170103a7c1ed054cc3e5c9ace6e928b32cfd,openstack/diskimage-builder,master,Ia950170103a7c1ed054cc3e5c9ace6e928b32cfd,Add new element rocky,ABANDONED,2021-08-23 08:27:32.000000000,2021-08-23 09:57:47.000000000,,[],"[{'number': 1, 'created': '2021-08-23 08:27:32.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/README.rst', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/test-output-formats', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/element-deps', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d6649619e0e6debcfe9b39d55d384ef942eff9a4', 'message': ""Add new element rocky\n\nThis patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux\n\nChange-Id: Ia950170103a7c1ed054cc3e5c9ace6e928b32cfd\n""}]",0,805601,d6649619e0e6debcfe9b39d55d384ef942eff9a4,4,0,1,33811,,,0,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: Ia950170103a7c1ed054cc3e5c9ace6e928b32cfd
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/01/805601/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/README.rst', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/test-output-formats', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/element-deps', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image']",19,d6649619e0e6debcfe9b39d55d384ef942eff9a4,feat/add-rocky-linux,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail [ -n ""$ARCH"" ] [ -n ""$TARGET_ROOT"" ] if [[ ""amd64 x86_64"" =~ ""$ARCH"" ]]; then ARCH=""x86_64"" DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images} else echo 'centos root element only support the x86_64 for $ARCH' exit 1 fi DIB_LOCAL_IMAGE=${DIB_LOCAL_IMAGE:-} if [ -n ""$DIB_LOCAL_IMAGE"" ]; then IMAGE_LOCATION=$DIB_LOCAL_IMAGE # No need to copy a local image into the cache directory, so just specify # the cached path as the original path. CACHED_IMAGE=$IMAGE_LOCATION BASE_IMAGE_FILE=$(basename $DIB_LOCAL_IMAGE) BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz else DIB_FLAVOR=${DIB_FLAVOR:-GenericCloud} BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-$(curl -s https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images/ | grep -o ""Rocky-.[^>]*${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1)} BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz IMAGE_LOCATION=$DIB_CLOUD_IMAGES/$BASE_IMAGE_FILE CACHED_IMAGE=$DIB_IMAGE_CACHE/$BASE_IMAGE_FILE fi $TMP_HOOKS_PATH/bin/extract-image $BASE_IMAGE_FILE $BASE_IMAGE_TAR $IMAGE_LOCATION $CACHED_IMAGE ",,148,2
openstack%2Fdiskimage-builder~master~I0b14750e3feb82ee39bd6e7b1a5653c17d332956,openstack/diskimage-builder,master,I0b14750e3feb82ee39bd6e7b1a5653c17d332956,Add new element rocky,ABANDONED,2021-07-29 15:04:57.000000000,2021-08-23 09:55:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-29 15:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6ca0c71584cfd0d1795c1e95ff8317c47605304b', 'message': ""Add new element rocky\n\nThis patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux\n\nChange-Id: I0b14750e3feb82ee39bd6e7b1a5653c17d332956\n""}, {'number': 2, 'created': '2021-08-20 14:09:00.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/README.rst', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/test-output-formats', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/element-deps', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/42aa4cfbb9988f6fafe2e8dce6f7cabe4bde24f6', 'message': ""Add new element rocky\n\nThis patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux\n\nChange-Id: I0b14750e3feb82ee39bd6e7b1a5653c17d332956\n""}]",1,802902,42aa4cfbb9988f6fafe2e8dce6f7cabe4bde24f6,12,1,2,33811,,,0,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: I0b14750e3feb82ee39bd6e7b1a5653c17d332956
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/02/802902/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/README.rst', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/test-output-formats', 'diskimage_builder/elements/rocky/test-elements/8-build-succeeds/element-deps', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image']",16,6ca0c71584cfd0d1795c1e95ff8317c47605304b,feat/add-rocky-linux,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail [ -n ""$ARCH"" ] [ -n ""$TARGET_ROOT"" ] if [[ ""amd64 x86_64"" =~ ""$ARCH"" ]]; then ARCH=""x86_64"" DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images} else echo 'centos root element only support the x86_64 for $ARCH' exit 1 fi DIB_LOCAL_IMAGE=${DIB_LOCAL_IMAGE:-} if [ -n ""$DIB_LOCAL_IMAGE"" ]; then IMAGE_LOCATION=$DIB_LOCAL_IMAGE # No need to copy a local image into the cache directory, so just specify # the cached path as the original path. CACHED_IMAGE=$IMAGE_LOCATION BASE_IMAGE_FILE=$(basename $DIB_LOCAL_IMAGE) BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz else DIB_FLAVOR=${DIB_FLAVOR:-GenericCloud} BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-$(curl -s https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images/ | grep -o ""Rocky-.[^>]*${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1)} BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz IMAGE_LOCATION=$DIB_CLOUD_IMAGES/$BASE_IMAGE_FILE CACHED_IMAGE=$DIB_IMAGE_CACHE/$BASE_IMAGE_FILE fi $TMP_HOOKS_PATH/bin/extract-image $BASE_IMAGE_FILE $BASE_IMAGE_TAR $IMAGE_LOCATION $CACHED_IMAGE ",,131,1
openstack%2Fcinder~master~If465bc719cea2d4e85b37527f3f7ac916b5de638,openstack/cinder,master,If465bc719cea2d4e85b37527f3f7ac916b5de638,PowerMax Driver - Fix for create snapshot,MERGED,2021-03-25 12:57:28.000000000,2021-08-23 09:41:44.000000000,2021-08-18 15:38:09.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 32075}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-03-25 12:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c642c65dc142344f9abdfde722eb2aa8e9768aa5', 'message': 'PowerMax Driver - Fix for None values\n\n1. Payload response change from REST means that the\nDevice Label no longer exists\n2. Allow for non existance dict values in the metadata for\nmanage existing volume operation.\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n'}, {'number': 2, 'created': '2021-03-29 12:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/faeea65da608891ea2890237d6e7a3b2d67efcfa', 'message': 'PowerMax Driver - Fix for None values\n\n1. Payload response change from REST means that the\nDevice Label no longer exists\n2. Allow for non-existent dict values in the metadata for\nmanage existing volume operation.\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n'}, {'number': 3, 'created': '2021-04-02 12:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1405767165b0efd7e198960a03d0084dcc57fdb2', 'message': 'PowerMax Driver - Fix for None values\n\n1. Payload response change from REST means that the\nDevice Label no longer exists\n2. Allow for non-existent dict values in the metadata for\nmanage existing volume operation.\n3. Fix problematic unit tests were sample data can mutate.\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n'}, {'number': 4, 'created': '2021-08-06 16:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/763ff01c70ddd787f17e6800ba9b20279991b82b', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n'}, {'number': 5, 'created': '2021-08-09 16:32:06.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/bug-1939139-02ab552420813e70.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/672a0e97988755012ff87fb85bddc1cd125f1898', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n'}]",4,782995,672a0e97988755012ff87fb85bddc1cd125f1898,136,5,5,12670,,,0,"PowerMax Driver - Fix for create snapshot

Payload response change from REST means that the
Device Label no longer exists in the format expected and
causes an IndexError exception. This is the case in PowerMaxOS
5978.711 and later.

Closes-Bug: #1939139

Change-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/782995/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",5,c642c65dc142344f9abdfde722eb2aa8e9768aa5,allow-for-None, priv_snap_response_no_label = deepcopy(priv_snap_response) priv_snap_response_no_label.update({'deviceName': device_id}) ,,60,11
openstack%2Fskyline-apiserver~master~Ie310114f53981451b50a366a0869be72bbfb4e01,openstack/skyline-apiserver,master,Ie310114f53981451b50a366a0869be72bbfb4e01,fix: Fix params' default value of function,MERGED,2021-08-20 07:12:11.000000000,2021-08-23 09:19:15.000000000,2021-08-23 09:19:15.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-08-20 07:12:11.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ebf89092fd19a7363d6c1190d836c133a669df06', 'message': ""fix: Fix params' default value of function\n\n1. Do not use mutable types as method parameter defaults\n\nChange-Id: Ie310114f53981451b50a366a0869be72bbfb4e01\n""}]",0,805342,ebf89092fd19a7363d6c1190d836c133a669df06,7,4,1,33898,,,0,"fix: Fix params' default value of function

1. Do not use mutable types as method parameter defaults

Change-Id: Ie310114f53981451b50a366a0869be72bbfb4e01
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/42/805342/1 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py']",2,ebf89092fd19a7363d6c1190d836c133a669df06,," search_opts: Dict[str, Any] = None, search_opts = search_opts if search_opts else {}"," search_opts: Dict[str, Any] = {},",3,2
openstack%2Fnova~master~I03cf285ad83e09d88cdb702a88dfed53c01610f8,openstack/nova,master,I03cf285ad83e09d88cdb702a88dfed53c01610f8,Handle instance = None in _local_delete_cleanup,MERGED,2021-02-12 02:34:33.000000000,2021-08-23 09:10:16.000000000,2021-02-23 19:38:16.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-12 02:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac2453964ce0722e289ceb539d0c6713c076e99', 'message': 'Handle instance = None in _local_delete_cleanup\n\nChange I4d3193d8401614311010ed0e055fcb3aaeeebaed added some\nadditional local delete cleanup to prevent leaking of placement\nallocations. The change introduced a regression in our ""delete while\nbooting"" handling as the _local_delete_cleanup requires a valid\ninstance object to do its work and in two cases, we could have\ninstance = None from _lookup_instance if we are racing with a create\nrequest and the conductor has deleted the instance record while we\nare in the middle of processing the delete request.\n\nThis handles those scenarios by saving a copy of the instance before\ndoing another lookup which might return None and passes that copy to\nthe _local_delete_cleanup method instead.\n\nCloses-Bug: #1914777\n\nChange-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8\n'}, {'number': 2, 'created': '2021-02-17 21:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc1f8688bd0c1b81c966bf90cc85082cd6199390', 'message': 'Handle instance = None in _local_delete_cleanup\n\nChange I4d3193d8401614311010ed0e055fcb3aaeeebaed added some\nadditional local delete cleanup to prevent leaking of placement\nallocations. The change introduced a regression in our ""delete while\nbooting"" handling as the _local_delete_cleanup requires a valid\ninstance object to do its work and in two cases, we could have\ninstance = None from _lookup_instance if we are racing with a create\nrequest and the conductor has deleted the instance record while we\nare in the middle of processing the delete request.\n\nThis handles those scenarios by saving a copy of the instance before\ndoing another lookup which might return None and passes that copy to\nthe _local_delete_cleanup method instead.\n\nCloses-Bug: #1914777\n\nChange-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8\n'}, {'number': 3, 'created': '2021-02-19 04:47:31.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1914777.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/123f6262f63477d3f50dfad09688978e044bd9e0', 'message': 'Handle instance = None in _local_delete_cleanup\n\nChange I4d3193d8401614311010ed0e055fcb3aaeeebaed added some\nadditional local delete cleanup to prevent leaking of placement\nallocations. The change introduced a regression in our ""delete while\nbooting"" handling as the _local_delete_cleanup required a valid\ninstance object to do its work and in two cases, we could have\ninstance = None from _lookup_instance if we are racing with a create\nrequest and the conductor has deleted the instance record while we\nare in the middle of processing the delete request.\n\nThis handles those scenarios by doing two things:\n\n  (1) Changing the _local_delete_cleanup and\n      _update_queued_for_deletion methods to take an instance UUID\n      instead of a full instance object as they really only need the\n      UUID to do their work\n  (2) Saving a copy of the instance UUID before doing another instance\n      lookup which might return None and passing that UUID to the\n      _local_delete_cleanup and _update_queued_for_deletion methods\n\nCloses-Bug: #1914777\n\nChange-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8\n'}]",8,775308,123f6262f63477d3f50dfad09688978e044bd9e0,31,5,3,4690,,,0,"Handle instance = None in _local_delete_cleanup

Change I4d3193d8401614311010ed0e055fcb3aaeeebaed added some
additional local delete cleanup to prevent leaking of placement
allocations. The change introduced a regression in our ""delete while
booting"" handling as the _local_delete_cleanup required a valid
instance object to do its work and in two cases, we could have
instance = None from _lookup_instance if we are racing with a create
request and the conductor has deleted the instance record while we
are in the middle of processing the delete request.

This handles those scenarios by doing two things:

  (1) Changing the _local_delete_cleanup and
      _update_queued_for_deletion methods to take an instance UUID
      instead of a full instance object as they really only need the
      UUID to do their work
  (2) Saving a copy of the instance UUID before doing another instance
      lookup which might return None and passing that UUID to the
      _local_delete_cleanup and _update_queued_for_deletion methods

Closes-Bug: #1914777

Change-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/775308/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1914777.py']",2,3ac2453964ce0722e289ceb539d0c6713c076e99,bug/1914777," mock_get_br.side_effect = [br, br_not_found, br_not_found] self._delete_server(server) no_cell_im, has_cell_im, has_cell_im, has_cell_im, has_cell_im] # last lookups are after the conductor has deleted the instance. mock_get_i.side_effect = [i, i, i, i_not_found, i_not_found] self._delete_server(server)","from nova.tests.functional.api import client mock_get_br.side_effect = [br, br_not_found] # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(server) no_cell_im, has_cell_im, has_cell_im, has_cell_im] # last lookup is after the conductor has deleted the instance. mock_get_i.side_effect = [i, i, i, i_not_found] # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(server)",13,21
openstack%2Fneutron~stable%2Fvictoria~I3caf131041a852671a556b064c641fe34f8f5ed0,openstack/neutron,stable/victoria,I3caf131041a852671a556b064c641fe34f8f5ed0,Trivial: check if ipv6 is available for IptablesManager,MERGED,2021-08-13 08:43:30.000000000,2021-08-23 09:04:04.000000000,2021-08-23 09:02:25.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-13 08:43:30.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6adfdd74f4ae4ca2426602c8041eab354975b3ac', 'message': 'Trivial: check if ipv6 is available for IptablesManager\n\nConflicts:\n        neutron/agent/ovn/metadata/agent.py\n\nTo resolve conflict, rearrange alphabetically the imports from\noslo_utils.\n\nChange-Id: I3caf131041a852671a556b064c641fe34f8f5ed0\nCloses-Bug: #1915480\n(cherry picked from commit 6cf71cbd6a71b4849470874379877c7ca2a8fc25)\n'}]",1,804499,6adfdd74f4ae4ca2426602c8041eab354975b3ac,35,3,1,33673,,,0,"Trivial: check if ipv6 is available for IptablesManager

Conflicts:
        neutron/agent/ovn/metadata/agent.py

To resolve conflict, rearrange alphabetically the imports from
oslo_utils.

Change-Id: I3caf131041a852671a556b064c641fe34f8f5ed0
Closes-Bug: #1915480
(cherry picked from commit 6cf71cbd6a71b4849470874379877c7ca2a8fc25)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/804499/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/dhcp.py']",2,6adfdd74f4ae4ca2426602c8041eab354975b3ac,," iptables_mgr = iptables_manager.IptablesManager( use_ipv6=netutils.is_ipv6_enabled(), nat=False, namespace=namespace)"," iptables_mgr = iptables_manager.IptablesManager(use_ipv6=True, nat=False, namespace=namespace)",6,4
openstack%2Ftripleo-ansible~master~I24eb7014cc657f50be63767af439208eb854dfb6,openstack/tripleo-ansible,master,I24eb7014cc657f50be63767af439208eb854dfb6,Reimplement os_tripleo_baremetal_node_introspection,MERGED,2020-11-25 03:20:06.000000000,2021-08-23 08:29:46.000000000,2021-08-23 08:28:06.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-11-25 03:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c73906effa7384e6bc469f91b4fb753c825dc774', 'message': ""Reimplement os_tripleo_baremetal_node_introspection\n\nTriggering introspection via the introspection API is discouraged when\nalso using the Ironic API, because Ironic will be out of sync with\nintrospection state. This is suspected to be causing occasional errors\nin CI and with end users.\n\nThis module was one of the very first to be converted from mistral, so\nhasn't benefited from the concurrency and logging patterns in later\nmodules.\n\nThe internal implementation of this module has been rewritten, and now\ndoes the following:\n\n- Concurrency uses a ThreadPoolExecutor instead of a custom pool with\n  async calls\n- Waiting for state changes uses existing openstacksdk wait functions\n- Logging ends up in a 'logging' result value instead of calling\n  module.log which ansible does not pass back to the caller\n- Introspection is triggered by setting the node provision state to\n  'inspect'\n- Node is powered off after a successful introspection\n- Auth configuration relies on environment, as for other modules\n- Debug tasks are added to the playbook to print the logging\n\nThis was reverted previously due to a 50% failure rate in the periodic\nfeatureset001, it now has more error checking and prints the logging\nso any root cause should be more obvious.\n\nChange-Id: I24eb7014cc657f50be63767af439208eb854dfb6\nCloses-Bug: 1903786\n""}, {'number': 2, 'created': '2020-12-07 01:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a1d5e5bc4d1219ed9978470cc4ebd6a5915f2c2', 'message': ""Reimplement os_tripleo_baremetal_node_introspection\n\nTriggering introspection via the introspection API is discouraged when\nalso using the Ironic API, because Ironic will be out of sync with\nintrospection state. This is suspected to be causing occasional errors\nin CI and with end users.\n\nThis module was one of the very first to be converted from mistral, so\nhasn't benefited from the concurrency and logging patterns in later\nmodules.\n\nThe internal implementation of this module has been rewritten, and now\ndoes the following:\n\n- Concurrency uses a ThreadPoolExecutor instead of a custom pool with\n  async calls\n- Waiting for state changes uses existing openstacksdk wait functions\n- Logging ends up in a 'logging' result value instead of calling\n  module.log which ansible does not pass back to the caller\n- Introspection is triggered by setting the node provision state to\n  'inspect'\n- Node is powered off after a successful introspection\n- Auth configuration relies on environment, as for other modules\n- Debug tasks are added to the playbook to print the logging\n\nThis was reverted previously due to a 50% failure rate in the periodic\nfeatureset001, it now has more error checking and prints the logging\nso any root cause should be more obvious.\n\nChange-Id: I24eb7014cc657f50be63767af439208eb854dfb6\nCloses-Bug: 1903786\n""}, {'number': 3, 'created': '2021-02-14 20:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2cb0c376f239cfabb4c87807b3523b973c4cacf', 'message': ""Reimplement os_tripleo_baremetal_node_introspection\n\nTriggering introspection via the introspection API is discouraged when\nalso using the Ironic API, because Ironic will be out of sync with\nintrospection state. This is suspected to be causing occasional errors\nin CI and with end users.\n\nThis module was one of the very first to be converted from mistral, so\nhasn't benefited from the concurrency and logging patterns in later\nmodules.\n\nThe internal implementation of this module has been rewritten, and now\ndoes the following:\n\n- Concurrency uses a ThreadPoolExecutor instead of a custom pool with\n  async calls\n- Waiting for state changes uses existing openstacksdk wait functions\n- Logging ends up in a 'logging' result value instead of calling\n  module.log which ansible does not pass back to the caller\n- Introspection is triggered by setting the node provision state to\n  'inspect'\n- Node is powered off after a successful introspection\n- Auth configuration relies on environment, as for other modules\n- Debug tasks are added to the playbook to print the logging\n\nThis was reverted previously due to a 50% failure rate in the periodic\nfeatureset001, it now has more error checking and prints the logging\nso any root cause should be more obvious.\n\nChange-Id: I24eb7014cc657f50be63767af439208eb854dfb6\nCloses-Bug: 1903786\n""}, {'number': 4, 'created': '2021-08-10 21:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6e19e77e004141d98f7388dd8c091bfc38a0ddc', 'message': ""Reimplement os_tripleo_baremetal_node_introspection\n\nTriggering introspection via the introspection API is discouraged when\nalso using the Ironic API, because Ironic will be out of sync with\nintrospection state. This is suspected to be causing occasional errors\nin CI and with end users.\n\nThis module was one of the very first to be converted from mistral, so\nhasn't benefited from the concurrency and logging patterns in later\nmodules.\n\nThe internal implementation of this module has been rewritten, and now\ndoes the following:\n\n- Concurrency uses a ThreadPoolExecutor instead of a custom pool with\n  async calls\n- Waiting for state changes uses existing openstacksdk wait functions\n- Logging ends up in a 'logging' result value instead of calling\n  module.log which ansible does not pass back to the caller\n- Introspection is triggered by setting the node provision state to\n  'inspect'\n- Node is powered off after a successful introspection\n- Auth configuration relies on environment, as for other modules\n- Debug tasks are added to the playbook to print the logging\n\nThis was reverted previously due to a 50% failure rate in the periodic\nfeatureset001, it now has more error checking and prints the logging\nso any root cause should be more obvious.\n\nChange-Id: I24eb7014cc657f50be63767af439208eb854dfb6\nCloses-Bug: 1903786\nDepends-On: https://review.opendev.org/c/openstack/ironic-inspector/+/803935\n""}, {'number': 5, 'created': '2021-08-11 04:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c2836fef046d366a5d410f93dc4873ae111a362', 'message': ""Reimplement os_tripleo_baremetal_node_introspection\n\nTriggering introspection via the introspection API is discouraged when\nalso using the Ironic API, because Ironic will be out of sync with\nintrospection state. This is suspected to be causing occasional errors\nin CI and with end users.\n\nThis module was one of the very first to be converted from mistral, so\nhasn't benefited from the concurrency and logging patterns in later\nmodules.\n\nThe internal implementation of this module has been rewritten, and now\ndoes the following:\n\n- Concurrency uses a ThreadPoolExecutor instead of a custom pool with\n  async calls\n- Waiting for state changes uses existing openstacksdk wait functions\n- Logging ends up in a 'logging' result value instead of calling\n  module.log which ansible does not pass back to the caller\n- Introspection is triggered by setting the node provision state to\n  'inspect'\n- Node is powered off after a successful introspection\n- Auth configuration relies on environment, as for other modules\n- Debug tasks are added to the playbook to print the logging\n\nThis was reverted previously due to a 50% failure rate in the periodic\nfeatureset001, it now has more error checking and prints the logging\nso any root cause should be more obvious.\n\nChange-Id: I24eb7014cc657f50be63767af439208eb854dfb6\nCloses-Bug: 1903786\nDepends-On: https://review.opendev.org/c/openstack/ironic-inspector/+/803935\n""}, {'number': 6, 'created': '2021-08-16 20:38:26.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py', 'tripleo_ansible/tests/modules/test_os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e54faf1e102545d083e45b227167a8de4459994a', 'message': ""Reimplement os_tripleo_baremetal_node_introspection\n\nTriggering introspection via the introspection API is discouraged when\nalso using the Ironic API, because Ironic will be out of sync with\nintrospection state. This is suspected to be causing occasional errors\nin CI and with end users.\n\nThis module was one of the very first to be converted from mistral, so\nhasn't benefited from the concurrency and logging patterns in later\nmodules.\n\nThe internal implementation of this module has been rewritten, and now\ndoes the following:\n\n- Concurrency uses a ThreadPoolExecutor instead of a custom pool with\n  async calls\n- Waiting for state changes uses existing openstacksdk wait functions\n- Logging ends up in a 'logging' result value instead of calling\n  module.log which ansible does not pass back to the caller\n- Introspection is triggered by setting the node provision state to\n  'inspect'\n- Node is powered off after a successful introspection\n- Auth configuration relies on environment, as for other modules\n- Debug tasks are added to the playbook to print the logging\n\nThis was reverted previously due to a 50% failure rate in the periodic\nfeatureset001, the locking interaction between inspector and ironic\nhas now been fixed so the root cause of these failures is now\nresolved.\n\nChange-Id: I24eb7014cc657f50be63767af439208eb854dfb6\nCloses-Bug: 1903786\nDepends-On: https://review.opendev.org/c/openstack/ironic-inspector/+/803935\n""}]",15,764115,e54faf1e102545d083e45b227167a8de4459994a,55,8,6,4571,,,0,"Reimplement os_tripleo_baremetal_node_introspection

Triggering introspection via the introspection API is discouraged when
also using the Ironic API, because Ironic will be out of sync with
introspection state. This is suspected to be causing occasional errors
in CI and with end users.

This module was one of the very first to be converted from mistral, so
hasn't benefited from the concurrency and logging patterns in later
modules.

The internal implementation of this module has been rewritten, and now
does the following:

- Concurrency uses a ThreadPoolExecutor instead of a custom pool with
  async calls
- Waiting for state changes uses existing openstacksdk wait functions
- Logging ends up in a 'logging' result value instead of calling
  module.log which ansible does not pass back to the caller
- Introspection is triggered by setting the node provision state to
  'inspect'
- Node is powered off after a successful introspection
- Auth configuration relies on environment, as for other modules
- Debug tasks are added to the playbook to print the logging

This was reverted previously due to a 50% failure rate in the periodic
featureset001, the locking interaction between inspector and ironic
has now been fixed so the root cause of these failures is now
resolved.

Change-Id: I24eb7014cc657f50be63767af439208eb854dfb6
Closes-Bug: 1903786
Depends-On: https://review.opendev.org/c/openstack/ironic-inspector/+/803935
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/764115/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py']",2,c73906effa7384e6bc469f91b4fb753c825dc774,bug/1903786," from concurrent import futures import io import logging import yaml from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_cloud_from_module from ansible.module_utils.openstack import openstack_full_argument_spec from ansible.module_utils.openstack import openstack_module_kwargs LOG = logging.getLogger('os_tripleo_baremetal_node_introspection') log_level: description: - Set the logging level for the log which is available in the returned 'logging' result. default: info choices: - debug - info - warning - errorBASE_LOG_MAP = { 'debug': logging.DEBUG, 'info': logging.INFO, 'warning': logging.WARNING, 'error': logging.ERROR } def _configure_logging(log_level): log_fmt = ('%(asctime)s %(levelname)s %(name)s: %(message)s') urllib_level = logging.CRITICAL log_stream = io.StringIO() handler = logging.StreamHandler(log_stream) logging.basicConfig(level=BASE_LOG_MAP[log_level], format=log_fmt, handlers=[handler]) logging.getLogger('urllib3.connectionpool').setLevel(urllib_level) return log_stream def introspect(cloud, node_uuids, node_timeout, retry_timeout, max_retries, concurrency, fetch_data): result = {} if not node_uuids: introspect_jobs = [] with futures.ThreadPoolExecutor(max_workers=concurrency) as p: for node_uuid in node_uuids: introspect_jobs.append(p.submit( introspect_node, cloud, node_uuid, node_timeout, retry_timeout, max_retries, fetch_data )) for job in futures.as_completed(introspect_jobs): e = job.exception() if e: # This should not happen, but handle it anyway result[node_uuid] = { ""error"": str(e), ""status"": 'failed' } LOG.error('Unexpected error: %s', e) else: result[node_uuid] = job.result() return result def introspect_node(cloud, node_uuid, node_timeout, retry_timeout, max_retries, fetch_data): last_error = None attempt = 0 status = '' while attempt <= max_retries: attempt += 1 node = cloud.baremetal.get_node(node_uuid) # Put into required state for attempt LOG.info(""Preparing for attempt %s for node: %s"", attempt, node_uuid) node = prepare_for_attempt(cloud, node, node_timeout, retry_timeout) try: # Start introspection LOG.info(""Introspecting node: %s"", node_uuid) node = cloud.baremetal.set_node_provision_state( node, 'inspect', wait=True, timeout=node_timeout) if node.power_state != 'power off': # power off the node LOG.info('Power off node: %s', node_uuid) cloud.baremetal.set_node_power_state( node, 'power off', wait=True, timeout=node_timeout ) if fetch_data: # Get the introspection data for the result LOG.info(""Fetching introspection data: %s"", node_uuid) status = cloud.baremetal_introspection.get_introspection_data( node_uuid) LOG.info(""Introspecting node complete: %s"", node_uuid) # Success return { 'status': status, 'failed': False, 'error': None } except Exception as e: last_error = str(e) LOG.error(""Introspection of node %s failed on attempt %s: "" ""%s"", node_uuid, attempt, last_error) message = 'unknown error' # All attempts failed, fetch node to get the reason try: node = cloud.baremetal.get_node(node_uuid) message = node.last_error status = node.provision_state except Exception: if last_error: # Couldn't fetch the node, use the last exception message instead message = last_error return { ""error"": ""Error for introspection node %s on attempt %s: %s "" % (node_uuid, attempt, message), ""failed"": True, ""status"": status } def prepare_for_attempt(cloud, node, node_timeout, retry_timeout): if node.provision_state not in ('manageable', 'inspect failed'): # Attempt to abort any existing introspection try: LOG.info('Node in state ""%s"", calling abort: %s', node.provision_state, node.id) node = cloud.baremetal.set_node_provision_state( node, 'abort', wait=True, timeout=node_timeout) except Exception as e: LOG.warn(""Abort introspection of node %s failed: %s"", node.id, str(e)) if node.power_state != 'power off': # Attempt to power off the node try: LOG.info('Power off node: %s', node.id) cloud.baremetal.set_node_power_state( node, 'power off', wait=True, timeout=node_timeout ) except Exception as e: LOG.warn(""Power off of node %s failed: %s"", node.id, str(e)) if node.reservation: # Wait until node is unlocked try: node = cloud.baremetal.wait_for_node_reservation( node, timeout=retry_timeout) except Exception as e: LOG.warn(""Waiting for node unlock %s failed: %s"", node.id, str(e)) return node log_stream = _configure_logging(module.params['log_level']) sdk, cloud = openstack_cloud_from_module(module) quiet = module.params['quiet'] failed_nodes = [] passed_nodes = [] try: result = introspect( cloud, node_uuids=module.params[""node_uuids""], node_timeout=module.params[""node_timeout""], retry_timeout=module.params[""retry_timeout""], max_retries=module.params[""max_retries""], concurrency=module.params[""concurrency""], fetch_data=not quiet) except Exception as e: # This should not happen, but handle it anyway LOG.error('Unexpected error: %s', e) module.fail_json( msg=str(e), failed_nodes=module.params[""node_uuids""], passed_nodes=[], logging=log_stream.getvalue().split('\n') ) for node_uuid, result in result.items(): if result['failed']: failed_nodes.append(node_uuid) else: passed_nodes.append(node_uuid) passed_nodes) module.exit_json( changed=True, failed=failed > 0, introspection_data=result if not quiet else {}, failed_nodes=failed_nodes, passed_nodes=passed_nodes, msg=message, logging=log_stream.getvalue().split('\n') )","#!/usr/bin/python__metaclass__ = typeimport time import yaml from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_full_argument_spec from ansible.module_utils.openstack import openstack_module_kwargs from ansible.module_utils.openstack import openstack_cloud_from_module class IntrospectionManagement(object): def __init__(self, cloud, module, concurrency, max_retries, node_timeout, retry_timeout): self.client = cloud.baremetal_introspection self.cloud = cloud self.module = module self.concurrency = concurrency self.max_retries = max_retries self.node_timeout = node_timeout self.retry_timeout = retry_timeout def log(self, msg): self.module.log(""os_tripleo_baremetal_node_introspection: %s"" % msg) def push_next(self, pool, queue): try: next_introspection = next(queue) pool.append(next_introspection) except StopIteration: pass return pool def introspect(self, node_uuids): result = {} queue = (NodeIntrospection( uuid, self.client, self.cloud, self.node_timeout, self.max_retries, self.retry_timeout, self.log) for uuid in node_uuids) pool = [] for i in range(self.concurrency): pool = self.push_next(pool, queue) while len(pool) > 0: finished = [] for intro in pool: if not intro.started: try: intro.start_introspection() continue except Exception as e: self.log(""ERROR Node %s can't start introspection"" "" because: %s"" % (intro.node_id, str(e))) result[intro.node_id] = { ""error"": ""Error for introspection node %s: %s "" % ( intro.node_id, str(e)), ""failed"": True, ""status"": '' } finished.append(intro) continue status = intro.get_introspection() if (not status.is_finished and intro.timeouted()) or ( status.is_finished and status.error is not None ): if status.is_finished: self.log(""ERROR Introspection of node %s "" ""failed: %s"" % ( status.id, str(status.error)) ) if intro.last_retry(): result[status.id] = (intro.error_msg() if status.is_finished else intro.timeout_msg()) finished.append(intro) else: intro.restart_introspection() if status.is_finished and status.error is None: result[status.id] = { 'status': intro.get_introspection_data(), 'failed': False, 'error': None} finished.append(intro) for i in finished: pool.remove(i) pool = self.push_next(pool, queue) # Let's not DDOS Ironic service if pool: time.sleep(min(10, self.node_timeout)) class NodeIntrospection: started = False def __init__( self, node_id, os_client, os_cloud, timeout, max_retries, retry_timeout, log): self.node_id = node_id self.os_client = os_client self.os_cloud = os_cloud self.timeout = timeout self.max_retries = max_retries self.log = log self.start = int(time.time()) self.retries = 0 self.retry_timeout = retry_timeout self.last_status = None def restart_introspection(self): self.retries += 1 try: self.os_client.abort_introspection(self.node_id) except Exception as e: # Node is locked self.log(""ERROR Node %s can't abort introspection: %s"" % ( self.node_id, str(e))) return # need to wait before restarting introspection till it's aborted # to prevent hanging let's use introspect timeout for that try: self.os_client.wait_for_introspection( self.node_id, timeout=self.timeout, ignore_error=True) # Wait until node is unlocked self.os_cloud.baremetal.wait_for_node_reservation( self.node_id, timeout=self.retry_timeout) except Exception as e: self.log(""ERROR Node %s can't restart introspection because can't "" ""abort and unlock it: %s"" % (self.node_id, str(e))) return self.start = int(time.time()) return self.start_introspection(restart=True) def start_introspection(self, restart=False): self.started = True if restart: self.log(""INFO Restarting (try %s of %s) introspection of "" ""node %s"" % ( self.retries, self.max_retries, self.node_id)) else: self.log(""INFO Starting introspection of node %s"" % (self.node_id)) return self.os_client.start_introspection(self.node_id) def get_introspection(self): self.last_status = self.os_client.get_introspection(self.node_id) return self.last_status def get_introspection_data(self): self.log( ""Instrospection of node %s finished successfully!"" % self.node_id) return self.os_client.get_introspection_data(self.node_id) def time_elapsed(self): return int(time.time()) - self.start def timeouted(self): return self.time_elapsed() > self.timeout def last_retry(self): return self.retries >= self.max_retries def timeout_msg(self): self.log( ""ERROR Retry limit %s reached for introspection "" ""node %s: exceeded timeout"" % ( self.max_retries, self.node_id)) return {""error"": ""Timeout error for introspection node %s: %s "" ""sec exceeded max timeout of %s sec"" % ( self.node_id, self.time_elapsed(), self.timeout), ""status"": self.last_status } def error_msg(self): self.log( ""ERROR Retry limit %s reached for introspection "" ""node %s: %s"" % ( self.max_retries, self.node_id, self.last_status.error)) return {""error"": ""Error for introspection node %s: %s "" % ( self.node_id, self.last_status.error), ""failed"": True, ""status"": self.last_status } auth_type = module.params.get('auth_type') ironic_url = module.params.get('ironic_url') if auth_type in (None, 'None'): if not ironic_url: module.fail_json( msg=""Authentication appears to be disabled,"" "" Please define an ironic_url parameter"" ) else: module.params['auth'] = {'endpoint': ironic_url} _, cloud = openstack_cloud_from_module(module) introspector = IntrospectionManagement( cloud, module, module.params[""concurrency""], module.params[""max_retries""], module.params[""node_timeout""], module.params[""retry_timeout""] ) module_results = {""changed"": True} result = introspector.introspect(module.params[""node_uuids""]) failed_nodes = [k for k, v in result.items() if v['failed']] passed_nodes = [k for k, v in result.items() if not v['failed']] module_results.update({'failed': True}) module.params[""node_uuids""]) module_results.update({ ""introspection_data"": result if not module.params['quiet'] else {}, ""failed_nodes"": failed_nodes, ""passed_nodes"": passed_nodes, ""msg"": message }) module.exit_json(**module_results)",217,242
openstack%2Fkolla-ansible~master~I513ad1a0ad770a249f573be8dd47e9ada6787a7a,openstack/kolla-ansible,master,I513ad1a0ad770a249f573be8dd47e9ada6787a7a,Set any_errors_fatal for all plays,ABANDONED,2019-06-21 15:42:13.000000000,2021-08-23 08:25:36.000000000,,"[{'_account_id': 10905}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-21 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c5b7799af7506a8a413d572a9f4f0791bbb69ae', 'message': ""Set any_errors_fatal for all plays\n\nCurrently we are using the default value of 'false' for\n'any_errors_fatal'.  This means that plays will execute until the end or\nall hosts have failed. A host can fail and others may continue. This can\nlead to odd situations, and makes errors harder to diagnose.\n\nOne specific example of where this can be an issue is during upgrade. If\none host fails early on, then it will not be upgraded. For clustered\nservices such as RabbitMQ or MariaDB this can cause problems. Many\nOpenStack services have specific instructions for rolling upgrades which\nwould not work well if one or more hosts are not involved.\n\nThis change sets any_errors_fatal to true for all plays that are not\njust executing against localhost (in which case there is only one host).\n\nChange-Id: I513ad1a0ad770a249f573be8dd47e9ada6787a7a\nCloses-Bug: #1833737\n""}, {'number': 2, 'created': '2019-06-21 15:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c6dece40daed3acc9350fb64fa3672a37a70e76', 'message': ""Set any_errors_fatal for all plays\n\nCurrently we are using the default value of 'false' for\n'any_errors_fatal'.  This means that plays will execute until the end or\nall hosts have failed. A host can fail and others may continue. This can\nlead to odd situations, and makes errors harder to diagnose.\n\nOne specific example of where this can be an issue is during upgrade. If\none host fails early on, then it will not be upgraded. For clustered\nservices such as RabbitMQ or MariaDB this can cause problems. Many\nOpenStack services have specific instructions for rolling upgrades which\nwould not work well if one or more hosts are not involved.\n\nThis change sets any_errors_fatal to true for all plays that are not\njust executing against localhost (in which case there is only one host).\n\nChange-Id: I513ad1a0ad770a249f573be8dd47e9ada6787a7a\nCloses-Bug: #1833737\n""}, {'number': 3, 'created': '2019-06-21 16:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fda4ab1360210ccf3bc8d91069ce419b459a8ad0', 'message': ""Set any_errors_fatal for all plays\n\nCurrently we are using the default value of 'false' for\n'any_errors_fatal'.  This means that plays will execute until the end or\nall hosts have failed. A host can fail and others may continue. This can\nlead to odd situations, and makes errors harder to diagnose.\n\nOne specific example of where this can be an issue is during upgrade. If\none host fails early on, then it will not be upgraded. For clustered\nservices such as RabbitMQ or MariaDB this can cause problems. Many\nOpenStack services have specific instructions for rolling upgrades which\nwould not work well if one or more hosts are not involved.\n\nThis change sets any_errors_fatal to true for all plays that are not\njust executing against localhost (in which case there is only one host).\n\nChange-Id: I513ad1a0ad770a249f573be8dd47e9ada6787a7a\nCloses-Bug: #1833737\n""}, {'number': 4, 'created': '2019-09-03 15:40:00.000000000', 'files': ['ansible/bifrost.yml', 'ansible/detect-release.yml', 'ansible/mariadb_recovery.yml', 'ansible/destroy.yml', 'ansible/site.yml', 'ansible/mariadb_backup.yml', 'ansible/kolla-host.yml', 'ansible/gather-facts.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5141ac968c7d08a7e52e4d4a8b02c7b204ff8003', 'message': ""Set any_errors_fatal for all plays\n\nCurrently we are using the default value of 'false' for\n'any_errors_fatal'.  This means that plays will execute until the end or\nall hosts have failed. A host can fail and others may continue. This can\nlead to odd situations, and makes errors harder to diagnose.\n\nOne specific example of where this can be an issue is during upgrade. If\none host fails early on, then it will not be upgraded. For clustered\nservices such as RabbitMQ or MariaDB this can cause problems. Many\nOpenStack services have specific instructions for rolling upgrades which\nwould not work well if one or more hosts are not involved.\n\nThis change sets any_errors_fatal to true for all plays that are not\njust executing against localhost (in which case there is only one host).\n\nChange-Id: I513ad1a0ad770a249f573be8dd47e9ada6787a7a\nCloses-Bug: #1833737\n""}]",1,666876,5141ac968c7d08a7e52e4d4a8b02c7b204ff8003,15,4,4,14826,,,0,"Set any_errors_fatal for all plays

Currently we are using the default value of 'false' for
'any_errors_fatal'.  This means that plays will execute until the end or
all hosts have failed. A host can fail and others may continue. This can
lead to odd situations, and makes errors harder to diagnose.

One specific example of where this can be an issue is during upgrade. If
one host fails early on, then it will not be upgraded. For clustered
services such as RabbitMQ or MariaDB this can cause problems. Many
OpenStack services have specific instructions for rolling upgrades which
would not work well if one or more hosts are not involved.

This change sets any_errors_fatal to true for all plays that are not
just executing against localhost (in which case there is only one host).

Change-Id: I513ad1a0ad770a249f573be8dd47e9ada6787a7a
Closes-Bug: #1833737
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/666876/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/bifrost.yml', 'ansible/detect-release.yml', 'ansible/mariadb_recovery.yml', 'ansible/destroy.yml', 'ansible/site.yml', 'ansible/mariadb_backup.yml', 'ansible/kolla-host.yml', 'ansible/roles/keystone/templates/fernet-rotate.sh.j2', 'ansible/gather-facts.yml']",9,9c5b7799af7506a8a413d572a9f4f0791bbb69ae,bug/1833737, any_errors_fatal: true any_errors_fatal: true,,83,1
openstack%2Foctavia~master~I616b5442a01275b26cfcafd262560cdaba65ad4e,openstack/octavia,master,I616b5442a01275b26cfcafd262560cdaba65ad4e,fix an issue where batch update member will lead to in_use_member error,ABANDONED,2021-05-25 09:05:52.000000000,2021-08-23 07:46:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-25 09:05:52.000000000', 'files': ['octavia/controller/worker/v1/flows/member_flows.py', 'octavia/api/v2/controllers/member.py', 'octavia/controller/worker/v2/flows/member_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/787ce387f8eee695ea1124b4524af4b05358a448', 'message': 'fix an issue where batch update member will lead to in_use_member error\n\nAfter calling the batch update members API regarding the usage amount of Members does not correspond to the actual Members\n\nStory: 2008920\nTask: 42513\nChange-Id: I616b5442a01275b26cfcafd262560cdaba65ad4e\n'}]",0,792911,787ce387f8eee695ea1124b4524af4b05358a448,5,1,1,31525,,,0,"fix an issue where batch update member will lead to in_use_member error

After calling the batch update members API regarding the usage amount of Members does not correspond to the actual Members

Story: 2008920
Task: 42513
Change-Id: I616b5442a01275b26cfcafd262560cdaba65ad4e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/792911/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v1/flows/member_flows.py', 'octavia/api/v2/controllers/member.py', 'octavia/controller/worker/v2/flows/member_flows.py']",3,787ce387f8eee695ea1124b4524af4b05358a448,story/2008920,," unordered_members_flow.add(database_tasks.DecrementMemberQuota( requires=constants.PROJECT_ID, name='{flow}-{id}'.format( id=m[constants.MEMBER_ID], flow=constants.DECREMENT_MEMBER_QUOTA_FLOW)))",1,10
openstack%2Foctavia~master~I6c237619cfe641bfe3cfbe4bfe54dc53f3d8d32b,openstack/octavia,master,I6c237619cfe641bfe3cfbe4bfe54dc53f3d8d32b,Modify named method of NIC in the amphora namespace,ABANDONED,2020-09-27 10:44:45.000000000,2021-08-23 07:45:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-27 10:44:45.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c49970f72137a6cbfc4f4c4161f3a57662a606f', 'message': 'Modify named method of NIC in the amphora namespace\n\nThe original Octavia codes will name the NIC in the amphora\nnamespace according to the number of current NICs. In some\nscenarios, it will result in conflict.\nThe patch modify the named method of NIC to avoid the issue.\n\nChange-Id: I6c237619cfe641bfe3cfbe4bfe54dc53f3d8d32b\nStory: #2008192\n'}]",0,754605,3c49970f72137a6cbfc4f4c4161f3a57662a606f,4,1,1,31525,,,0,"Modify named method of NIC in the amphora namespace

The original Octavia codes will name the NIC in the amphora
namespace according to the number of current NICs. In some
scenarios, it will result in conflict.
The patch modify the named method of NIC to avoid the issue.

Change-Id: I6c237619cfe641bfe3cfbe4bfe54dc53f3d8d32b
Story: #2008192
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/754605/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",2,3c49970f72137a6cbfc4f4c4161f3a57662a606f,story/2008192," netns_handle.get_links.return_value = [ {'attrs': [('IFLA_IFNAME', 'eth{0}'.format(index))]} for index in range(2, test_int_num)] MEMBERS_INTERFACE = 'eth2' consts.AMPHORA_NAMESPACE, MEMBERS_INTERFACE) MEMBERS_INTERFACE)) 'auto ' + MEMBERS_INTERFACE + '\niface ' + MEMBERS_INTERFACE + ' inet static\n' + ' dev ' + MEMBERS_INTERFACE + '\n' ' dev ' + MEMBERS_INTERFACE + '\n' ' dev ' + MEMBERS_INTERFACE + '\n' ' dev ' + MEMBERS_INTERFACE + '\n' + MEMBERS_INTERFACE + '\n' + MEMBERS_INTERFACE + '\n') int=MEMBERS_INTERFACE, 'ifup', MEMBERS_INTERFACE], stderr=-2)"," netns_handle.get_links.return_value = [0] * test_int_num consts.AMPHORA_NAMESPACE, consts.NETNS_PRIMARY_INTERFACE) consts.NETNS_PRIMARY_INTERFACE)) 'auto ' + consts.NETNS_PRIMARY_INTERFACE + '\niface ' + consts.NETNS_PRIMARY_INTERFACE + ' inet static\n' + ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' + consts.NETNS_PRIMARY_INTERFACE + '\n' + consts.NETNS_PRIMARY_INTERFACE + '\n') int=consts.NETNS_PRIMARY_INTERFACE, 'ifup', consts.NETNS_PRIMARY_INTERFACE], stderr=-2)",26,18
openstack%2Fswift~master~Id67707b2fe69b4a8284c4c8adbe337727f13ba33,openstack/swift,master,Id67707b2fe69b4a8284c4c8adbe337727f13ba33,sharder _update_storage_policy_index: coerce policy index to int,ABANDONED,2021-08-20 14:09:36.000000000,2021-08-23 07:31:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-20 14:09:36.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/45fcb06c161f029656c73809a1c60024a4c24f49', 'message': 'sharder _update_storage_policy_index: coerce policy index to int\n\nChange-Id: Id67707b2fe69b4a8284c4c8adbe337727f13ba33\n'}]",0,805388,45fcb06c161f029656c73809a1c60024a4c24f49,4,1,1,7847,,,0,"sharder _update_storage_policy_index: coerce policy index to int

Change-Id: Id67707b2fe69b4a8284c4c8adbe337727f13ba33
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/805388/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/container/test_backend.py']",3,45fcb06c161f029656c73809a1c60024a4c24f49,container-migrate," # (also check that a string is coerced to int) broker.migrate_to_storage_policy(str(POLICIES[1].idx), ts_2))"," broker.migrate_to_storage_policy(POLICIES[1].idx, ts_2))",46,25
openstack%2Fswift~master~I7c8a521c28738e784d0e81c2d8ea9bf8245068d6,openstack/swift,master,I7c8a521c28738e784d0e81c2d8ea9bf8245068d6,migrate_to_storage_policy: reset _storage_policy_index after migrating,ABANDONED,2021-08-20 14:09:36.000000000,2021-08-23 07:31:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-20 14:09:36.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7a116bf8c9c2f12300c308e11cc8a43a8a1baab2', 'message': 'migrate_to_storage_policy: reset _storage_policy_index after migrating\n\nChange-Id: I7c8a521c28738e784d0e81c2d8ea9bf8245068d6\n'}]",0,805387,7a116bf8c9c2f12300c308e11cc8a43a8a1baab2,4,1,1,7847,,,0,"migrate_to_storage_policy: reset _storage_policy_index after migrating

Change-Id: I7c8a521c28738e784d0e81c2d8ea9bf8245068d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/805387/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,7a116bf8c9c2f12300c308e11cc8a43a8a1baab2,container-migrate, self._storage_policy_index = policy_index,,57,36
openstack%2Fnova~master~I70efe60995568d71d184eadd27adf8918d1909e2,openstack/nova,master,I70efe60995568d71d184eadd27adf8918d1909e2,fup: Move _migrate_stub into LibvirtMigrationMixin,MERGED,2021-08-11 12:19:22.000000000,2021-08-23 07:27:59.000000000,2021-08-23 07:26:20.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba4ff7bfc131e9bd95d6b1871bb59f6ae3e7652d', 'message': 'fup: Move _migrate_stub into base.ServersTestBase\n\nChange-Id: I70efe60995568d71d184eadd27adf8918d1909e2\n'}, {'number': 2, 'created': '2021-08-11 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9434f41b9cec133e217f8f8d795953683415ce76', 'message': 'fup: Move _migrate_stub into base.ServersTestBase\n\nChange-Id: I70efe60995568d71d184eadd27adf8918d1909e2\n'}, {'number': 3, 'created': '2021-08-11 18:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9027109c9218e556ef36813ebdf25d5c125b20d', 'message': 'fup: Move _migrate_stub into base.ServersTestBase\n\nChange-Id: I70efe60995568d71d184eadd27adf8918d1909e2\n'}, {'number': 4, 'created': '2021-08-12 08:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a7c6a1ce96f8f048aa9a6758585d9a5fd6bae14', 'message': 'fup: Move _migrate_stub into LibvirtMigrationMixin\n\nChange-Id: I70efe60995568d71d184eadd27adf8918d1909e2\n'}, {'number': 5, 'created': '2021-08-20 12:30:25.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/78cace1ce485b2fccb66288eef5d0a13f0f84bde', 'message': 'fup: Move _migrate_stub into LibvirtMigrationMixin\n\nChange-Id: I70efe60995568d71d184eadd27adf8918d1909e2\n'}]",5,804232,78cace1ce485b2fccb66288eef5d0a13f0f84bde,33,4,5,10135,,,0,"fup: Move _migrate_stub into LibvirtMigrationMixin

Change-Id: I70efe60995568d71d184eadd27adf8918d1909e2
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/804232/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",3,ba4ff7bfc131e9bd95d6b1871bb59f6ae3e7652d,,,"import fixtures # TODO(lyarwood): Move into base.ServersTestBase to allow live # migrations to pass without changes by the test classes. self.useFixture(fixtures.MonkeyPatch( 'nova.tests.fixtures.libvirt.Domain.migrateToURI3', self._migrate_stub)) def _migrate_stub(self, domain, destination, params, flags): dest = self.computes['dest'] dest.driver._host.get_connection().createXML( params['destination_xml'], 'fake-createXML-doesnt-care-about-flags') source = self.computes['src'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server['id']) dom.complete_job() self.migrate_stub_ran = True ",15,28
openstack%2Fpuppet-tripleo~stable%2Ftrain~I073fc3f35441f4ce11216f27d3363e4365c887be,openstack/puppet-tripleo,stable/train,I073fc3f35441f4ce11216f27d3363e4365c887be,Set authtoken memcached_servers in undercloud services,MERGED,2021-08-20 03:00:15.000000000,2021-08-23 06:50:46.000000000,2021-08-23 06:50:46.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-20 03:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7f16967a47c2bccd8af687926e9076761c83e54d', 'message': 'Set authtoken memcached_servers in undercloud services\n\nCurrently we set memcached_servers in authtoken middlware by\npuppet-tripleo for most of services, while we set it for undercloud\nservices(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.\n\nThis patch makes puppet-tripleo configure memcached_servers also for\nthese undercloud services, so that we can have all implementations\nrelated to memcache in one place.\n\nChange-Id: I073fc3f35441f4ce11216f27d3363e4365c887be\n(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)\n'}, {'number': 2, 'created': '2021-08-20 03:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3e144bffd0cab7513c242029fb9b22ef5095b11d', 'message': 'Set authtoken memcached_servers in undercloud services\n\nCurrently we set memcached_servers in authtoken middlware by\npuppet-tripleo for most of services, while we set it for undercloud\nservices(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.\n\nThis patch makes puppet-tripleo configure memcached_servers also for\nthese undercloud services, so that we can have all implementations\nrelated to memcache in one place.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1995307\nChange-Id: I073fc3f35441f4ce11216f27d3363e4365c887be\n(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)\n'}, {'number': 3, 'created': '2021-08-20 03:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/919c5ef252b9a8ff81d4b2b75db0790bff6fbe5e', 'message': 'Set authtoken memcached_servers in undercloud services\n\nCurrently we set memcached_servers in authtoken middlware by\npuppet-tripleo for most of services, while we set it for undercloud\nservices(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.\n\nThis patch makes puppet-tripleo configure memcached_servers also for\nthese undercloud services, so that we can have all implementations\nrelated to memcache in one place.\n\nBackport note:\nIn stable/train, all classes are included by absolute names so this\npatch is updated accordingly.\n\nChange-Id: I073fc3f35441f4ce11216f27d3363e4365c887be\n(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)\n'}, {'number': 4, 'created': '2021-08-20 08:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/625e3bbcd4f584bf18950eb1fed1295c7b0a0fda', 'message': 'Set authtoken memcached_servers in undercloud services\n\nCurrently we set memcached_servers in authtoken middlware by\npuppet-tripleo for most of services, while we set it for undercloud\nservices(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.\n\nThis patch makes puppet-tripleo configure memcached_servers also for\nthese undercloud services, so that we can have all implementations\nrelated to memcache in one place.\n\nBackport note:\nIn stable/train, all classes are included by absolute names so this\npatch is updated accordingly.\n\nChange-Id: I073fc3f35441f4ce11216f27d3363e4365c887be\n(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)\n'}, {'number': 5, 'created': '2021-08-20 09:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/841c6d97100b8a9b56b99af8284f141a05e42106', 'message': 'Set authtoken memcached_servers in undercloud services\n\nCurrently we set memcached_servers in authtoken middlware by\npuppet-tripleo for most of services, while we set it for undercloud\nservices(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.\n\nThis patch makes puppet-tripleo configure memcached_servers also for\nthese undercloud services, so that we can have all implementations\nrelated to memcache in one place.\n\nBackport note:\nIn stable/train, all classes are included by absolute names so this\npatch is updated accordingly.\n\nChange-Id: I073fc3f35441f4ce11216f27d3363e4365c887be\n(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)\n'}, {'number': 6, 'created': '2021-08-22 02:58:54.000000000', 'files': ['spec/classes/tripleo_profile_base_novajoin_authtoken_spec.rb', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/novajoin.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'spec/classes/tripleo_profile_zaqar_authtoken_spec.rb', 'manifests/profile/base/mistral/api.pp', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_mistral_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_novajoin_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a4c7f216545736c0fa4bd9e2e4d269a6a20ac5c5', 'message': 'Set authtoken memcached_servers in undercloud services\n\nCurrently we set memcached_servers in authtoken middlware by\npuppet-tripleo for most of services, while we set it for undercloud\nservices(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.\n\nThis patch makes puppet-tripleo configure memcached_servers also for\nthese undercloud services, so that we can have all implementations\nrelated to memcache in one place.\n\nBackport note:\nIn stable/train, all classes are included by absolute names so this\npatch is updated accordingly.\n\nChange-Id: I073fc3f35441f4ce11216f27d3363e4365c887be\n(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)\n'}]",4,805324,a4c7f216545736c0fa4bd9e2e4d269a6a20ac5c5,28,4,6,8833,,,0,"Set authtoken memcached_servers in undercloud services

Currently we set memcached_servers in authtoken middlware by
puppet-tripleo for most of services, while we set it for undercloud
services(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.

This patch makes puppet-tripleo configure memcached_servers also for
these undercloud services, so that we can have all implementations
related to memcache in one place.

Backport note:
In stable/train, all classes are included by absolute names so this
patch is updated accordingly.

Change-Id: I073fc3f35441f4ce11216f27d3363e4365c887be
(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/805324/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/mistral/authtoken.pp', 'spec/classes/tripleo_profile_base_novajoin_authtoken_spec.rb', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/novajoin.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/mistral/api.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'spec/classes/tripleo_profile_zaqar_authtoken_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_mistral_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_novajoin_spec.rb']",11,7f16967a47c2bccd8af687926e9076761c83e54d,uc-memcache," let :pre_condition do <<-eos include nova class { 'tripleo::profile::base::novajoin::authtoken': step => #{params[:step]}, } eos end let :params do { :oslomsg_rpc_hosts => ['some.server.com'], :oslomsg_rpc_password => 'somepassword', :service_password => 'passw0rd', :step => 5 } end is_expected.to contain_class('tripleo::profile::base::novajoin::authtoken') is_expected.to contain_class('tripleo::profile::base::novajoin::authtoken')"," let :pre_condition do ""include nova class { '::nova::metadata::novajoin::authtoken': password => 'passw0rd', }"" end let :params do { :oslomsg_rpc_hosts => ['some.server.com'], :oslomsg_rpc_password => 'somepassword', :service_password => 'passw0rd', :step => 5 } end ",372,16
openstack%2Fskyline-console~master~I87ae129d5adc8649787d6a3626abd3bf9b9e7c67,openstack/skyline-console,master,I87ae129d5adc8649787d6a3626abd3bf9b9e7c67,feat: Add cache setting for table list,MERGED,2021-08-23 02:06:39.000000000,2021-08-23 06:41:37.000000000,2021-08-23 06:41:37.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-23 02:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f386a8d4cf747aee5b090768f76ce1abfe287568', 'message': 'feat: Add cache setting for table list\n\nRealize the caching of the table list through loacalstorage function\n\nChange-Id: I87ae129d5adc8649787d6a3626abd3bf9b9e7c67\n'}, {'number': 2, 'created': '2021-08-23 06:20:36.000000000', 'files': ['src/components/Tables/Base/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8eb796e9c7f5be01fc2ba8d6f19eba9ab05f6c59', 'message': 'feat: Add cache setting for table list\n\nRealize the caching of the table list through loacalstorage function\n\nChange-Id: I87ae129d5adc8649787d6a3626abd3bf9b9e7c67\n'}]",0,805544,8eb796e9c7f5be01fc2ba8d6f19eba9ab05f6c59,8,2,2,33689,,,0,"feat: Add cache setting for table list

Realize the caching of the table list through loacalstorage function

Change-Id: I87ae129d5adc8649787d6a3626abd3bf9b9e7c67
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/44/805544/2 && git format-patch -1 --stdout FETCH_HEAD,['src/components/Tables/Base/index.jsx'],1,f386a8d4cf747aee5b090768f76ce1abfe287568,open-34328,"import { getLocalStorageItem, setLocalStorageItem } from 'utils/local-storage'; import { inject } from 'mobx-react';@inject('rootStore') hideRow: getLocalStorageItem(`${this.useId}-${this.props.resourceName}`) || [], get useId() { const { user = {} } = toJS(this.props.rootStore) || {}; const { user: { id } = {} } = user || {}; return id; } this.setState( { hideRow: this.hideableColValues.filter( (value) => !columns.includes(value) ), }, () => { setLocalStorageItem( `${this.useId}-${this.props.resourceName}`, this.state.hideRow ); } );"," hideRow: [], this.setState({ hideRow: this.hideableColValues.filter( (value) => !columns.includes(value) ), });",24,6
openstack%2Fskyline-console~master~I509e854102f4e6f90f59b78dbe75953f5c17b4c1,openstack/skyline-console,master,I509e854102f4e6f90f59b78dbe75953f5c17b4c1,fix: Fix the user's real name field to real_name,MERGED,2021-08-23 06:09:28.000000000,2021-08-23 06:17:08.000000000,2021-08-23 06:17:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-23 06:09:28.000000000', 'files': ['src/pages/identity/containers/User/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'test/e2e/integration/pages/identity/user.spec.js', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/api/keystone/user.js', 'test/e2e/support/resource-commands.js', 'src/pages/identity/containers/User/actionsInDomain/Create.jsx', 'src/stores/keystone/user.js', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/identity/containers/User/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a5e03f36cb2fee037af9d1158149fa40523f290c', 'message': ""fix: Fix the user's real name field to real_name\n\nFor better readability, change the user's real name field to real_name\n\nChange-Id: I509e854102f4e6f90f59b78dbe75953f5c17b4c1\n""}]",0,805578,a5e03f36cb2fee037af9d1158149fa40523f290c,6,2,1,33689,,,0,"fix: Fix the user's real name field to real_name

For better readability, change the user's real name field to real_name

Change-Id: I509e854102f4e6f90f59b78dbe75953f5c17b4c1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/78/805578/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/pages/identity/containers/User/index.jsx', 'src/locales/zh.json', 'test/e2e/integration/pages/identity/user.spec.js', 'src/api/keystone/user.js', 'src/pages/identity/containers/User/actions/Create.jsx', 'test/e2e/support/resource-commands.js', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/identity/containers/User/actionsInDomain/Create.jsx', 'src/stores/keystone/user.js', 'src/pages/identity/containers/User/actions/Edit.jsx']",11,a5e03f36cb2fee037af9d1158149fa40523f290c,open-vname," real_name, real_name, name: 'real_name', label: t('Real Name'), const { email, phone, real_name, description, name } = values; real_name,"," full_name, full_name, name: 'full_name', label: t('True Name'), const { email, phone, full_name, description, name } = values; full_name,",26,26
openstack%2Fpuppet-tripleo~stable%2Ftrain~I9eb9123c4480a6882ac7af76afa0f75cfe23b470,openstack/puppet-tripleo,stable/train,I9eb9123c4480a6882ac7af76afa0f75cfe23b470,[train-only] Use tripleo-undercloud-jobs-pipeline,MERGED,2021-08-21 14:47:03.000000000,2021-08-23 05:53:16.000000000,2021-08-23 05:53:16.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-21 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3820b580c8a3d68d032b8ee1e2d975da01d132d5', 'message': '[train-only] Switch to centos-8 jobs\n\nThis change switches templates and jobs to centos-8\njobs.\n\nPartial cherry-pick from commit d9abf578ee09f621123f660f3fa4a65270565ef1\n\nChange-Id: I9eb9123c4480a6882ac7af76afa0f75cfe23b470\n'}, {'number': 2, 'created': '2021-08-22 02:29:45.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c0335851101becf690f9af46b9f2d80865ad3365', 'message': ""[train-only] Use tripleo-undercloud-jobs-pipeline\n\nDon't use deprecated tripleo-undercloud-jobs which\ndoes not leverage the content provider.\n\nChange-Id: I9eb9123c4480a6882ac7af76afa0f75cfe23b470\n""}]",0,805485,c0335851101becf690f9af46b9f2d80865ad3365,13,4,2,8833,,,0,"[train-only] Use tripleo-undercloud-jobs-pipeline

Don't use deprecated tripleo-undercloud-jobs which
does not leverage the content provider.

Change-Id: I9eb9123c4480a6882ac7af76afa0f75cfe23b470
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/805485/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,3820b580c8a3d68d032b8ee1e2d975da01d132d5,uc-memcache, - puppet-openstack-module-unit-jobs - tripleo-undercloud-jobs-pipeline - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: &multi_consumer_vars tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-post-install - tripleo-validations - overcloud-scripts - overcloud-prep-config - overcloud-prep-containers - overcloud-deploy - overcloud-post-deploy - overcloud-validate dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider, - puppet-tripleo-module-unit-jobs - tripleo-undercloud-jobs - tripleo-ci-centos-7-content-provider - tripleo-ci-centos-7-scenario007-multinode-oooq-container: vars: remove_tags: - build dependencies: - tripleo-ci-centos-7-content-provider,19,9
openstack%2Fcyborg~stable%2Fwallaby~I810cf892545eccd6255b01813a44e2c069ae5a7a,openstack/cyborg,stable/wallaby,I810cf892545eccd6255b01813a44e2c069ae5a7a,update oslo.db version to 8.0.19 for cyborg,ABANDONED,2021-08-15 01:10:05.000000000,2021-08-23 05:36:38.000000000,,"[{'_account_id': 14107}, {'_account_id': 20566}, {'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-15 01:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0f1d473943def7efe79acff371e210ea3d7ec05d', 'message': 'update oslo.db version to 10.0.0 and upper-contraint file\n\nbecause tempest occured some error. \n\nhttps://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/804583\n\n\nChange-Id: I810cf892545eccd6255b01813a44e2c069ae5a7a\n(cherry picked from commit d74b897208143693314afbc70b7e4944857b757a)\n'}, {'number': 2, 'created': '2021-08-15 01:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/85b552a48980e6610658bb9b345b10998bf88d29', 'message': 'update oslo.db version to 10.0.0 and upper-contraint file\n\nbecause tempest occured some error. \n\nhttps://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/804583\n\n\nChange-Id: I810cf892545eccd6255b01813a44e2c069ae5a7a\n(cherry picked from commit d74b897208143693314afbc70b7e4944857b757a)\n'}, {'number': 3, 'created': '2021-08-15 01:36:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/af3d43481100bbf3f880eba8f9436abc40517752', 'message': 'update oslo.db version to 8.0.19 for cyborg\n\nbecause[1] fix the oslo.db error.\n\n[1]. https://review.opendev.org/c/openstack/oslo.db/+/792124\n\nChange-Id: I810cf892545eccd6255b01813a44e2c069ae5a7a\n'}]",0,804441,af3d43481100bbf3f880eba8f9436abc40517752,8,4,3,28748,,,0,"update oslo.db version to 8.0.19 for cyborg

because[1] fix the oslo.db error.

[1]. https://review.opendev.org/c/openstack/oslo.db/+/792124

Change-Id: I810cf892545eccd6255b01813a44e2c069ae5a7a
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/41/804441/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0f1d473943def7efe79acff371e210ea3d7ec05d,,oslo.db>=10.0.0 # Apache-2.0,oslo.db>=4.44.0 # Apache-2.0,1,1
openstack%2Fcyborg-tempest-plugin~master~Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c,openstack/cyborg-tempest-plugin,master,Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c,[Test] Use a spaceline to check tempest ok or not,ABANDONED,2021-08-15 00:17:35.000000000,2021-08-23 05:36:25.000000000,,"[{'_account_id': 8556}, {'_account_id': 13629}, {'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 25847}, {'_account_id': 26458}, {'_account_id': 27458}, {'_account_id': 30759}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-15 00:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/22c19b089aa69239a7f5b326309b0b211477e534', 'message': '[Test] Use a spaceline to check tempest ok or not\n\nChange-Id: Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c\n'}, {'number': 2, 'created': '2021-08-15 01:42:52.000000000', 'files': ['cyborg_tempest_plugin/services/cyborg_data.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a5ffe764aa10c2dba10c19c0e066fbc4c72ee3e6', 'message': '[Test] Use a spaceline to check tempest ok or not\n\nDepends-On: I810cf892545eccd6255b01813a44e2c069ae5a7a\nDepends-On: I810cf892545eccd6255b01813a44e2c069ae5a7a\n\nChange-Id: Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c\n'}]",0,804583,a5ffe764aa10c2dba10c19c0e066fbc4c72ee3e6,5,14,2,28748,,,0,"[Test] Use a spaceline to check tempest ok or not

Depends-On: I810cf892545eccd6255b01813a44e2c069ae5a7a
Depends-On: I810cf892545eccd6255b01813a44e2c069ae5a7a

Change-Id: Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/83/804583/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/services/cyborg_data.py'],1,22c19b089aa69239a7f5b326309b0b211477e534,,,,1,0
openstack%2Fpython-tripleoclient~master~Ie860b8a31a77e247680389bf3ae46ab6a64f208c,openstack/python-tripleoclient,master,Ie860b8a31a77e247680389bf3ae46ab6a64f208c,Fix update run for Ephemeral Heat,ABANDONED,2021-08-22 03:26:08.000000000,2021-08-23 05:18:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-22 03:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce8bb964a3449d2b52e730667e9ffd16dd4e7c1c', 'message': ""Fix update run for Ephemeral Heat\n\nWith Ephemeral Heat, we can't call Heat during the\nupdate run. As such, we will call config-download-only\nwith our update_steps_playbook.yaml.\n\nChange-Id: Ie860b8a31a77e247680389bf3ae46ab6a64f208c\n""}, {'number': 2, 'created': '2021-08-22 03:30:29.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e6e3b345df9e5ea1aae5be93b5c1e40da04c54e', 'message': ""Fix update run for Ephemeral Heat\n\nWith Ephemeral Heat, we can't call Heat during the\nupdate run. As such, we will call config-download-only\nwith our update_steps_playbook.yaml.\n\nChange-Id: Ie860b8a31a77e247680389bf3ae46ab6a64f208c\n""}]",0,805493,0e6e3b345df9e5ea1aae5be93b5c1e40da04c54e,8,3,2,30073,,,0,"Fix update run for Ephemeral Heat

With Ephemeral Heat, we can't call Heat during the
update run. As such, we will call config-download-only
with our update_steps_playbook.yaml.

Change-Id: Ie860b8a31a77e247680389bf3ae46ab6a64f208c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/805493/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_deploy.py']",4,ce8bb964a3449d2b52e730667e9ffd16dd4e7c1c,ephemeral_heat," parser.add_argument( '--playbook', dest='playbook', help=_('Which playbooks will be executed by config-download') ) parser.add_argument('--static-inventory', dest='static_inventory', action=""store"", default=None, help=_('Path to an existing ansible inventory to ' 'use. If not specified, one will be ' 'generated in ' '~/tripleo-ansible-inventory.yaml') ) if not parsed_args.playbook: playbook = 'deploy_steps_playbook.yaml' else: playbook = parsed_args.playbook ansible_playbook_name=playbook, inventory_path=parsed_args.static_inventory,",,33,93
openstack%2Fcinder~stable%2Fvictoria~If465bc719cea2d4e85b37527f3f7ac916b5de638,openstack/cinder,stable/victoria,If465bc719cea2d4e85b37527f3f7ac916b5de638,PowerMax Driver - Fix for create snapshot,MERGED,2021-08-20 14:47:33.000000000,2021-08-23 05:08:25.000000000,2021-08-20 23:19:11.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 14:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a1f14fbfdc7a9cf36cff2ebdabae91fadb164b2', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)\n(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)\n'}, {'number': 2, 'created': '2021-08-20 15:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1e26cec6f7e9731b8fd56ab7ab0c6a3616735bb', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)\n(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)\n'}, {'number': 3, 'created': '2021-08-20 15:10:56.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/bug-1939139-02ab552420813e70.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37be715cc7fd20878bbcd77965d2b9a902a25a99', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)\n(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)\n'}]",1,805398,37be715cc7fd20878bbcd77965d2b9a902a25a99,26,5,3,12670,,,0,"PowerMax Driver - Fix for create snapshot

Payload response change from REST means that the
Device Label no longer exists in the format expected and
causes an IndexError exception. This is the case in PowerMaxOS
5978.711 and later.

Closes-Bug: #1939139

Change-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638
(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)
(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/805398/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/bug-1939139-02ab552420813e70.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",4,9a1f14fbfdc7a9cf36cff2ebdabae91fadb164b2,, priv_snap_response_no_label = deepcopy(priv_snap_response) priv_snap_response_no_label.update({'deviceName': device_id}) ,,33,3
openstack%2Fnova~master~I33641d19f72beba94540255a684679f6574ac931,openstack/nova,master,I33641d19f72beba94540255a684679f6574ac931,Refactor check and exception,NEW,2020-08-31 13:13:00.000000000,2021-08-23 05:03:46.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-08-31 13:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58365a7c5d1af29a481cbc52348466c277d23ecf', 'message': ""Refactor check and exception\n\nMove check and exception into '_get_bound_arq_resources'. As this is identical\nto '_build_resources'.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I33641d19f72beba94540255a684679f6574ac931\n""}, {'number': 2, 'created': '2020-08-31 13:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26b8cdac3969f2f4907047d5de5c1457b293f780', 'message': ""Refactor check and exception\n\nMove check and exception into '_get_bound_arq_resources'. As this is identical\nto '_build_resources'.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I33641d19f72beba94540255a684679f6574ac931\n""}, {'number': 3, 'created': '2020-09-03 01:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09c4c20cf11ed32c5e9cf4bf1ef4eb641a0f111e', 'message': ""Refactor check and exception\n\nMove check and exception into '_get_bound_arq_resources'. As this is identical\nto '_build_resources'.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I33641d19f72beba94540255a684679f6574ac931\n""}, {'number': 4, 'created': '2020-09-04 06:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a31cdfce33d0b3e9147e913b41c1e6000eb7b8fe', 'message': ""Refactor check and exception\n\nMove check and exception into '_get_bound_arq_resources'. As this is identical\nto '_build_resources'.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I33641d19f72beba94540255a684679f6574ac931\n""}, {'number': 5, 'created': '2020-09-04 06:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a84d401854e14d57ff14b3c43819f3738b335c1', 'message': ""Refactor check and exception\n\nMove check and exception into '_get_bound_arq_resources'. As this is identical\nto '_build_resources'.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I33641d19f72beba94540255a684679f6574ac931\n""}, {'number': 6, 'created': '2021-03-19 00:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de2cc4f39aa00291c2361329c90f03116ad1bdac', 'message': ""Refactor check and exception\n\nMove check and exception into '_get_bound_arq_resources'. As this is identical\nto '_build_resources'.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I33641d19f72beba94540255a684679f6574ac931\n""}, {'number': 7, 'created': '2021-08-23 02:38:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3195304c34db3143c4b5d0543d9ee4a3f2112266', 'message': ""Refactor check and exception\n\nMove check and exception into '_get_bound_arq_resources'. As this is identical\nto '_build_resources'.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I33641d19f72beba94540255a684679f6574ac931\n""}]",6,749052,3195304c34db3143c4b5d0543d9ee4a3f2112266,59,14,7,26458,,,0,"Refactor check and exception

Move check and exception into '_get_bound_arq_resources'. As this is identical
to '_build_resources'.
Follow up the comment:
https://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Change-Id: I33641d19f72beba94540255a684679f6574ac931
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/749052/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,58365a7c5d1af29a481cbc52348466c277d23ecf,bp/cyborg-rebuild-and-evacuate," arqs = self._get_bound_arq_resources( context, instance, accel_uuids, network_info) def _get_bound_arq_resources(self, context, instance, arq_uuids, network_info): :param network_info: NetworkInfo for the instance info cache of ports try: cyclient = cyborg.get_client(context) if arq_uuids is None: arqs = cyclient.get_arqs_for_instance(instance.uuid) arq_uuids = [arq['uuid'] for arq in arqs] events = [('accelerator-request-bound', arq_uuid) for arq_uuid in arq_uuids] timeout = CONF.arq_binding_timeout with self.virtapi.wait_for_instance_event( instance, events, deadline=timeout): resolved_arqs = cyclient.get_arqs_for_instance( instance.uuid, only_resolved=True) # Events for these resolved ARQs may have already arrived. # Such 'early' events need to be ignored. early_events = [('accelerator-request-bound', arq['uuid']) for arq in resolved_arqs] if early_events: self.virtapi.exit_wait_early(early_events) # Since a timeout in wait_for_instance_event will raise, we get # here only if all binding events have been received. resolved_uuids = [arq['uuid'] for arq in resolved_arqs] if sorted(resolved_uuids) != sorted(arq_uuids): # Query Cyborg to get all. arqs = cyclient.get_arqs_for_instance(instance.uuid) else: arqs = resolved_arqs return arqs except (Exception, eventlet.timeout.Timeout) as exc: LOG.exception(exc) self._build_resources_cleanup(instance, network_info) compute_utils.delete_arqs_if_needed(context, instance) msg = _('Failure getting accelerator requests.') raise exception.BuildAbortException( reason=msg, instance_uuid=instance.uuid) accel_info = self._get_bound_arq_resources( context, instance, accel_uuids or [], network_info)"," try: arqs = self._get_bound_arq_resources( context, instance, accel_uuids) except (Exception, eventlet.timeout.Timeout) as exc: LOG.exception(exc) self._build_resources_cleanup(instance, network_info) compute_utils.delete_arqs_if_needed(context, instance) msg = _('Failure getting accelerator requests.') raise exception.BuildAbortException( reason=msg, instance_uuid=instance.uuid) def _get_bound_arq_resources(self, context, instance, arq_uuids): cyclient = cyborg.get_client(context) if arq_uuids is None: arqs = cyclient.get_arqs_for_instance(instance.uuid) arq_uuids = [arq['uuid'] for arq in arqs] events = [('accelerator-request-bound', arq_uuid) for arq_uuid in arq_uuids] timeout = CONF.arq_binding_timeout with self.virtapi.wait_for_instance_event( instance, events, deadline=timeout): resolved_arqs = cyclient.get_arqs_for_instance( instance.uuid, only_resolved=True) # Events for these resolved ARQs may have already arrived. # Such 'early' events need to be ignored. early_events = [('accelerator-request-bound', arq['uuid']) for arq in resolved_arqs] if early_events: self.virtapi.exit_wait_early(early_events) # Since a timeout in wait_for_instance_event will raise, we get # here only if all binding events have been received. resolved_uuids = [arq['uuid'] for arq in resolved_arqs] if sorted(resolved_uuids) != sorted(arq_uuids): # Query Cyborg to get all. arqs = cyclient.get_arqs_for_instance(instance.uuid) else: arqs = resolved_arqs return arqs try: accel_info = self._get_bound_arq_resources( context, instance, accel_uuids or []) except (Exception, eventlet.timeout.Timeout) as exc: LOG.exception(exc) self._build_resources_cleanup(instance, network_info) msg = _('Failure getting accelerator resources.') raise exception.BuildAbortException( instance_uuid=instance.uuid, reason=msg)",41,47
openstack%2Fskyline-console~master~I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9,openstack/skyline-console,master,I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9,fix: Fix for 5xx error & errorWithDetail params,MERGED,2021-08-23 03:45:54.000000000,2021-08-23 04:36:49.000000000,2021-08-23 04:36:49.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-23 03:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7433f42b63d30f4a2e3f4d9dea8a095a123aa3a2', 'message': 'fix: Fix for 5xx error & errorWithDetail params\n\n1. fix for 5xx error\n2. change the order of errorWithDetail params\n\nChange-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9\n'}, {'number': 2, 'created': '2021-08-23 03:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/be37addf9802bfe205493928a9e3a5d77d0c7eeb', 'message': 'fix: Fix for 5xx error & errorWithDetail params\n\n1. fix for 5xx error\n2. change the order of errorWithDetail params\n\nChange-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9\n'}, {'number': 3, 'created': '2021-08-23 04:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e3722a90b7d6f757e7ae6b7cc53c1dfa17690cb1', 'message': 'fix: Fix for 5xx error & errorWithDetail params\n\n1. fix for 5xx error\n2. change the order of errorWithDetail params\n\nChange-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9\n'}, {'number': 4, 'created': '2021-08-23 04:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/84a100f28dcf6d37bb6752c8ad05ac23c22bc2ee', 'message': 'fix: Fix for 5xx error & errorWithDetail params\n\n1. fix for 5xx error\n2. change the order of errorWithDetail params\n\nChange-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9\n'}, {'number': 5, 'created': '2021-08-23 04:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b1dda70ce8496492a6705757c6b044849dc56ce6', 'message': 'fix: Fix for 5xx error & errorWithDetail params\n\n1. fix for 5xx error\n2. change the order of errorWithDetail params\n\nChange-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9\n'}, {'number': 6, 'created': '2021-08-23 04:34:29.000000000', 'files': ['src/containers/List/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/containers/TabDetail/index.jsx', 'src/components/StepForm/index.jsx', 'src/resources/code.js', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/components/Notify/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/components/Form/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/15128f67e31a1ec3b48b406f6d072df1776e6aa1', 'message': 'fix: Fix for 5xx error & errorWithDetail params\n\n1. fix for 5xx error\n2. change the order of errorWithDetail params\n\nChange-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9\n'}]",0,805548,15128f67e31a1ec3b48b406f6d072df1776e6aa1,16,2,6,33636,,,0,"fix: Fix for 5xx error & errorWithDetail params

1. fix for 5xx error
2. change the order of errorWithDetail params

Change-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/48/805548/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/containers/List/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/components/StepForm/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/resources/code.js', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/components/Notify/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/components/Form/index.jsx']",11,7433f42b63d30f4a2e3f4d9dea8a095a123aa3a2,," this.showNotice && Notify.errorWithDetail(err, this.errorText);"," this.showNotice && Notify.errorWithDetail(this.errorText, err);",91,42
openstack%2Fskyline-console~master~I90288dc87afea6402f4663ba0b8100458615fa89,openstack/skyline-console,master,I90288dc87afea6402f4663ba0b8100458615fa89,fix: Fix getSinceTime when param is null/undefined,MERGED,2021-08-20 07:46:52.000000000,2021-08-23 04:29:39.000000000,2021-08-23 04:29:39.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-20 07:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3e32fc318c246d9211b0f9368af0cccd3d4afc10', 'message': 'fix: Fix getSinceTime when param is null/undefined\n\nfix getSinceTime when param is null/undefined\n\nChange-Id: I90288dc87afea6402f4663ba0b8100458615fa89\n'}, {'number': 2, 'created': '2021-08-23 04:28:35.000000000', 'files': ['src/utils/time.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6e86749e94f721d2cd649346608a5ea8d3fe8fd9', 'message': 'fix: Fix getSinceTime when param is null/undefined\n\nfix getSinceTime when param is null/undefined\n\nChange-Id: I90288dc87afea6402f4663ba0b8100458615fa89\n'}]",0,805346,6e86749e94f721d2cd649346608a5ea8d3fe8fd9,11,2,2,33636,,,0,"fix: Fix getSinceTime when param is null/undefined

fix getSinceTime when param is null/undefined

Change-Id: I90288dc87afea6402f4663ba0b8100458615fa89
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/46/805346/2 && git format-patch -1 --stdout FETCH_HEAD,['src/utils/time.js'],1,3e32fc318c246d9211b0f9368af0cccd3d4afc10,, if (!input) { return '-'; },,3,0
openstack%2Fwatcher~master~Ifa5dca06f07220512579e4fe3c5c741aeffc71cc,openstack/watcher,master,Ifa5dca06f07220512579e4fe3c5c741aeffc71cc,BugFix:  Prevent float type variables from being passed to random,MERGED,2021-08-23 01:56:08.000000000,2021-08-23 03:54:03.000000000,2021-08-23 03:52:48.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-23 01:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/22660a57d5653a915e87fe9b5f9528fd3ff17800', 'message': 'BugFix:  Prevent float type variables from being passed to random\n\n>>> random.sample([5,10], 1.3)\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/usr/lib64/python3.6/random.py"", line 321, in sample\n    result = [None] * k\nTypeError: can\'t multiply sequence by non-int of type \'float\'\n\nChange-Id: Ifa5dca06f07220512579e4fe3c5c741aeffc71cc\n'}, {'number': 2, 'created': '2021-08-23 01:58:59.000000000', 'files': ['watcher/decision_engine/strategy/strategies/saving_energy.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/6dd2f2a9c100e8620d33855e3438e9c00976006a', 'message': 'BugFix:  Prevent float type variables from being passed to random\n\n>>> random.sample([5,10], 1.3)\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/usr/lib64/python3.6/random.py"", line 321, in sample\n    result = [None] * k\nTypeError: can\'t multiply sequence by non-int of type \'float\'\n\nChange-Id: Ifa5dca06f07220512579e4fe3c5c741aeffc71cc\n'}]",0,805551,6dd2f2a9c100e8620d33855e3438e9c00976006a,10,3,2,28748,,,0,"BugFix:  Prevent float type variables from being passed to random

>>> random.sample([5,10], 1.3)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib64/python3.6/random.py"", line 321, in sample
    result = [None] * k
TypeError: can't multiply sequence by non-int of type 'float'

Change-Id: Ifa5dca06f07220512579e4fe3c5c741aeffc71cc
",git fetch https://review.opendev.org/openstack/watcher refs/changes/51/805551/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,22660a57d5653a915e87fe9b5f9528fd3ff17800,,,,0,0
openstack%2Fzaqar~master~I57b9a7f74cfa9026bd6c94d400ce832c05b57389,openstack/zaqar,master,I57b9a7f74cfa9026bd6c94d400ce832c05b57389,Update master for stable/wallaby,MERGED,2021-03-29 08:25:09.000000000,2021-08-23 03:34:29.000000000,2021-08-23 03:33:14.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 08:25:09.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7564be731e06ee44a748e27347c230a3ff487ae2', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I57b9a7f74cfa9026bd6c94d400ce832c05b57389\n'}]",0,783619,7564be731e06ee44a748e27347c230a3ff487ae2,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I57b9a7f74cfa9026bd6c94d400ce832c05b57389
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/19/783619/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,7564be731e06ee44a748e27347c230a3ff487ae2,reno-wallaby, wallaby,,7,0
openstack%2Fskyline-console~master~I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10,openstack/skyline-console,master,I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10,feat: Add roles column in projcet detail user list,MERGED,2021-08-23 01:47:02.000000000,2021-08-23 03:32:07.000000000,2021-08-23 03:32:07.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30474}]","[{'number': 1, 'created': '2021-08-23 01:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/48ee23afa192393301c9d311e7ae89d349269688', 'message': 'feat: Add roles column in projcet detail user list\n\nAdd roles column in project detail user list\n\nChange-Id: I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10\n'}, {'number': 2, 'created': '2021-08-23 03:25:53.000000000', 'files': ['src/pages/identity/containers/User/index.jsx', 'src/stores/keystone/user.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ad4ef3c9fa41db9ab32d2c06a785231d1459f322', 'message': 'feat: Add roles column in projcet detail user list\n\nAdd roles column in project detail user list\n\nChange-Id: I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10\n'}]",4,805543,ad4ef3c9fa41db9ab32d2c06a785231d1459f322,9,3,2,33689,,,0,"feat: Add roles column in projcet detail user list

Add roles column in project detail user list

Change-Id: I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/43/805543/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/User/index.jsx', 'src/stores/keystone/user.js']",2,48ee23afa192393301c9d311e7ae89d349269688,open-34161," const [roleAssignmentsReault, roleResult, result] = await Promise.all([ request.get(`${this.apiVersion}/roles`), const userMapRole = {}; role: { id: role_id }, if (userMapRole[user_id]) { userMapRole[user_id].push(role_id); } else { userMapRole[user_id] = [role_id]; } it.project_roles = userMapRole[it.id].map( (r) => roleResult.roles.filter((role) => role.id === r)[0].name );"," const [roleAssignmentsReault, result] = await Promise.all([",26,13
openstack%2Fskyline-console~master~I1d66ff584fea3ffb312e000d46d8481eee623227,openstack/skyline-console,master,I1d66ff584fea3ffb312e000d46d8481eee623227,docs: Update en test docs,MERGED,2021-07-09 03:53:22.000000000,2021-08-23 03:14:36.000000000,2021-08-23 03:14:36.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 33730}]","[{'number': 1, 'created': '2021-07-09 03:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f1e8ddb9172358c6ca4fc4410f1e65d06d45a19b', 'message': 'docs: Update en test docs\n\nUpdate en test docs\n\nChange-Id: I1d66ff584fea3ffb312e000d46d8481eee623227\n'}, {'number': 2, 'created': '2021-08-12 05:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1f3c486faee4e6c898cea2d4defc23c5967bc128', 'message': 'docs: Update en test docs\n\nUpdate en test docs\n\nChange-Id: I1d66ff584fea3ffb312e000d46d8481eee623227\n'}, {'number': 3, 'created': '2021-08-23 03:13:58.000000000', 'files': ['docs/en/test/3-2-E2E-table-operation.md', 'docs/en/test/3-3-E2E-detail-operation.md', 'docs/en/test/3-4-E2E-resource-operation.md', 'docs/en/test/3-0-how-to-edit-e2e-case.md', 'docs/en/test/2-catalog-introduction.md', 'docs/en/test/1-read-to-work.md', 'docs/en/test/3-1-E2E-form-operation.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/63ef5d01e368ba537c00d06ee0dafe61220f9b2b', 'message': 'docs: Update en test docs\n\nUpdate en test docs\n\nChange-Id: I1d66ff584fea3ffb312e000d46d8481eee623227\n'}]",0,800153,63ef5d01e368ba537c00d06ee0dafe61220f9b2b,10,3,3,30474,,,0,"docs: Update en test docs

Update en test docs

Change-Id: I1d66ff584fea3ffb312e000d46d8481eee623227
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/53/800153/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/en/test/3-2-E2E-table-operation.md', 'docs/en/test/3-3-E2E-detail-operation.md', 'docs/en/test/3-4-E2E-resource-operation.md', 'docs/en/test/3-0-how-to-edit-e2e-case.md', 'docs/en/test/2-catalog-introduction.md', 'docs/en/test/1-read-to-work.md', 'docs/en/test/3-1-E2E-form-operation.md']",7,f1e8ddb9172358c6ca4fc4410f1e65d06d45a19b,doc," - If some data does not meet the requirements, an error will pop up when using batch operations. This function verifies that the data does not meet the operation requirements, and closes the error prompt - Take the locked instance as an example: `test/e2e/integration/pages/compute/instance.spec.js` - Take the create instance use case as an example: `test/e2e/integration/pages/compute/instance.spec.js` - Take the Host Aggregates management instance without selecting the instance as an example: `test/e2e/integration/pages/compute/aggregate.spec.js` - Take the network QoS policy to create the bandwidth limit rule and set the direction to ""inbound"" as an example: `test/e2e/integration/pages/network/qos-policy.spec.js` - Take the creation of a key selection file as an example as an example: `test/e2e/integration/pages/compute/keypair.spec.js` - Take the Host Aggregates management metedata add custom metadata as an example: `test/e2e/integration/pages/compute/aggregate.spec.js` - Take the user group management user as an example: `test/e2e/integration/pages/identity/user-group.spec.js` - Take the Host Aggregates management metedata add custom metadata as an example: `test/e2e/integration/pages/compute/aggregate.spec.js` - Take the Host Aggregates management metedata add custom metadata as an example: `test/e2e/integration/pages/compute/aggregate.spec.js`"," - When some data does not meet the requirements, use the batch operation, an error will pop up. This function verifies that the data does not meet the operation requirements, and closes the error prompt - Take the locked instance `test/e2e/integration/pages/compute/instance.spec.js` as an example - Take the create instance use case `test/e2e/integration/pages/compute/instance.spec.js` as an example - Take the Host Aggregates management instance without selecting the instance `test/e2e/integration/pages/compute/aggregate.spec.js` as an example - Take the network QoS policy to create the bandwidth limit rule and set the direction to ""inbound"" `test/e2e/integration/pages/network/qos-policy.spec.js` as an example - Take the creation of a key selection file as an example `test/e2e/integration/pages/compute/keypair.spec.js` as an example - Take the Host Aggregates management metedata add custom metadata`test/e2e/integration/pages/compute/aggregate.spec.js`as an example - Take the user group management user `test/e2e/integration/pages/identity/user-group.spec.js` as an example - Take the Host Aggregates management metedata add custom metadata`test/e2e/integration/pages/compute/aggregate.spec.js`as an example - Take the Host Aggregates management metedata add custom metadata`test/e2e/integration/pages/compute/aggregate.spec.js`as an example ",65,65
openstack%2Fswift~master~I09c55a3ff323d36d513b6f01fa5cf14b32f3d976,openstack/swift,master,I09c55a3ff323d36d513b6f01fa5cf14b32f3d976,ring: store actual ring replica count to better deserialize,NEW,2021-08-06 01:40:17.000000000,2021-08-23 03:09:09.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03e2721887906faaada9657047f4ee9e89f7c686', 'message': 'ring: store actual ring replica count to better deserialize\n\nThe current ring deserialize code when dealing with fractional replicas\nonly works because a read past the end of the ring file is truncated,\ngiving us the correct fractional replica. This is because we always\nstore the number of replicas in the ring dict on disk as\nlen(replica2part2dev_id) rather then the actual replica count, which in\nthe case of fractional could be something like 2.5.\n\nThis currently works, but if we ever want to store anything beyond the\nreplica2part2dev_id structure on disk, deserialize with a ring with\nfractional replicas will pull extra data into the last replica,\npotentially crashing deserialization.\n\nThis patch corrects serialization and deserialization by storing the\ncorrect replica count and correctly pulling the right amount of data off\nwithout over reading the file.\n\nThis also becomes a benefit, for if we ever put data at the end of the\nfile, and old version of Swift running this patch will still be able to\nload a newer ring.\n\nChange-Id: I09c55a3ff323d36d513b6f01fa5cf14b32f3d976\n'}, {'number': 2, 'created': '2021-08-13 07:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4415fcd5c1ea8bd220c5dcf0a13d79ffaa51880', 'message': 'ring: store actual ring replica count to better deserialize\n\nThe current ring deserialize code when dealing with fractional replicas\nonly works because a read past the end of the ring file is truncated,\ngiving us the correct fractional replica. This is because we always\nstore the number of replicas in the ring dict on disk as\nlen(replica2part2dev_id) rather then the actual replica count, which in\nthe case of fractional could be something like 2.5.\n\nThis currently works, but if we ever want to store anything beyond the\nreplica2part2dev_id structure on disk, deserialize with a ring with\nfractional replicas will pull extra data into the last replica,\npotentially crashing deserialization.\n\nThis patch corrects serialization and deserialization by storing the\ncorrect replica count and correctly pulling the right amount of data off\nwithout over reading the file.\n\nThis also becomes a benefit, for if we ever put data at the end of the\nfile, and old version of Swift running this patch will still be able to\nload a newer ring.\n\nChange-Id: I09c55a3ff323d36d513b6f01fa5cf14b32f3d976\n'}, {'number': 3, 'created': '2021-08-18 19:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/18544a31b513179e00c256a59548d225d61016fa', 'message': 'ring: store actual ring replica count to better deserialize\n\nThe current ring deserialize code when dealing with fractional replicas\nonly works because a read past the end of the ring file is truncated,\ngiving us the correct fractional replica. This is because we always\nstore the number of replicas in the ring dict on disk as\nlen(replica2part2dev_id) rather then the actual replica count, which in\nthe case of fractional could be something like 2.5.\n\nThis currently works, but if we ever want to store anything beyond the\nreplica2part2dev_id structure on disk, deserialize with a ring with\nfractional replicas will pull extra data into the last replica,\npotentially crashing deserialization.\n\nThis patch corrects serialization and deserialization by storing the\ncorrect replica count and correctly pulling the right amount of data off\nwithout over reading the file.\n\nThis also becomes a benefit, for if we ever put data at the end of the\nfile, and old version of Swift running this patch will still be able to\nload a newer ring.\n\nChange-Id: I09c55a3ff323d36d513b6f01fa5cf14b32f3d976\n'}, {'number': 4, 'created': '2021-08-20 06:19:33.000000000', 'files': ['test/unit/common/ring/test_utils.py', 'swift/common/ring/builder.py', 'swift/common/ring/utils.py', 'swift/cli/ringbuilder.py', 'swift/common/ring/ring.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ac9d129bbe560803afb948b5ed9be61d8003f5a4', 'message': 'ring: store actual ring replica count to better deserialize\n\nThe current ring deserialize code when dealing with fractional replicas\nonly works because a read past the end of the ring file is truncated,\ngiving us the correct fractional replica. This is because we always\nstore the number of replicas in the ring dict on disk as\nlen(replica2part2dev_id) rather then the actual replica count, which in\nthe case of fractional could be something like 2.5.\n\nThis currently works, but if we ever want to store anything beyond the\nreplica2part2dev_id structure on disk, deserialize with a ring with\nfractional replicas will pull extra data into the last replica,\npotentially crashing deserialization.\n\nThis patch corrects serialization and deserialization by storing the\ncorrect replica count and correctly pulling the right amount of data off\nwithout over reading the file.\n\nThis also becomes a benefit, for if we ever put data at the end of the\nfile, and old version of Swift running this patch will still be able to\nload a newer ring.\n\nChange-Id: I09c55a3ff323d36d513b6f01fa5cf14b32f3d976\n'}]",50,803665,ac9d129bbe560803afb948b5ed9be61d8003f5a4,27,3,4,7233,,,0,"ring: store actual ring replica count to better deserialize

The current ring deserialize code when dealing with fractional replicas
only works because a read past the end of the ring file is truncated,
giving us the correct fractional replica. This is because we always
store the number of replicas in the ring dict on disk as
len(replica2part2dev_id) rather then the actual replica count, which in
the case of fractional could be something like 2.5.

This currently works, but if we ever want to store anything beyond the
replica2part2dev_id structure on disk, deserialize with a ring with
fractional replicas will pull extra data into the last replica,
potentially crashing deserialization.

This patch corrects serialization and deserialization by storing the
correct replica count and correctly pulling the right amount of data off
without over reading the file.

This also becomes a benefit, for if we ever put data at the end of the
file, and old version of Swift running this patch will still be able to
load a newer ring.

Change-Id: I09c55a3ff323d36d513b6f01fa5cf14b32f3d976
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/803665/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/ring/test_utils.py', 'swift/common/ring/utils.py', 'swift/common/ring/ring.py']",3,03e2721887906faaada9657047f4ee9e89f7c686,p-lonely-frags-v2,"from swift.common.ring.utils import tiers_for_dev, get_replica_lengths replica_lengths = get_replica_lengths(ring_dict['replica_count'], partition_count) for length in replica_lengths: part2dev = array.array('H', gz_file.read(2 * length)) 'replica_count': self.replica_count,","from swift.common.ring.utils import tiers_for_dev for x in range(ring_dict['replica_count']): part2dev = array.array('H', gz_file.read(2 * partition_count)) 'replica_count': len(ring['replica2part2dev_id']),",36,5
openstack%2Fskyline-console~master~I710c86c7930df6a39734aa9ce21bc3f8dbc7affb,openstack/skyline-console,master,I710c86c7930df6a39734aa9ce21bc3f8dbc7affb,fix: Fix manage metadata,MERGED,2021-08-20 08:16:25.000000000,2021-08-23 03:03:34.000000000,2021-08-23 03:03:34.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-20 08:16:25.000000000', 'files': ['src/pages/configuration/containers/Metadata/actions/Manage.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/dfe6bb4e9e41ed1060f0de4cff245bac337ed343', 'message': ""fix: Fix manage metadata\n\nmake it can't select rows when clicking on the input box\n\nChange-Id: I710c86c7930df6a39734aa9ce21bc3f8dbc7affb\n""}]",0,805351,dfe6bb4e9e41ed1060f0de4cff245bac337ed343,6,2,1,33636,,,0,"fix: Fix manage metadata

make it can't select rows when clicking on the input box

Change-Id: I710c86c7930df6a39734aa9ce21bc3f8dbc7affb
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/51/805351/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/configuration/containers/Metadata/actions/Manage.jsx'],1,dfe6bb4e9e41ed1060f0de4cff245bac337ed343,, onClick={(e) => { e && e.stopPropagation(); }},,3,0
openstack%2Fsolum~master~I0f629b1140e28c0bc1bc60edba4758a5b5f3ca50,openstack/solum,master,I0f629b1140e28c0bc1bc60edba4758a5b5f3ca50,[TEST] CI TEST,ABANDONED,2021-08-23 02:58:25.000000000,2021-08-23 03:00:29.000000000,,[],"[{'number': 1, 'created': '2021-08-23 02:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/ddd62a3bd9d8d7f56da01954daa16067eab98aca', 'message': '[TEST] CI TEST\n\nChange-Id: I0f629b1140e28c0bc1bc60edba4758a5b5f3ca50\n'}]",0,805552,ddd62a3bd9d8d7f56da01954daa16067eab98aca,2,0,1,14107,,,0,"[TEST] CI TEST

Change-Id: I0f629b1140e28c0bc1bc60edba4758a5b5f3ca50
",git fetch https://review.opendev.org/openstack/solum refs/changes/52/805552/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,ddd62a3bd9d8d7f56da01954daa16067eab98aca,,,,0,0
openstack%2Fskyline-console~master~Id19f9e154841e64a9d468b90fee26e86cd06417e,openstack/skyline-console,master,Id19f9e154841e64a9d468b90fee26e86cd06417e,fix: Fix the stack log is not showed completely,MERGED,2021-08-23 01:46:37.000000000,2021-08-23 02:34:51.000000000,2021-08-23 02:34:51.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30474}]","[{'number': 1, 'created': '2021-08-23 01:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3a6f5daa2f0c3d5619e398373ce33f87ef5f3d9b', 'message': 'fix: Fix  the stack log is not showed completely\n\n1. The name of the stack is too long to showed completely\n2. Add css style with workbreak & wordwrap to fix this problem\n\nChange-Id: Id19f9e154841e64a9d468b90fee26e86cd06417e\n'}, {'number': 2, 'created': '2021-08-23 02:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6f76c731f93ab866adac8dbbb2db2bce0aed48d6', 'message': 'fix: Fix  the stack log is not showed completely\n\n1. The name of the stack is too long to showed completely\n2. Add css style with workbreak & wordwrap to fix this problem\n\nChange-Id: Id19f9e154841e64a9d468b90fee26e86cd06417e\n'}, {'number': 3, 'created': '2021-08-23 02:32:04.000000000', 'files': ['src/pages/heat/containers/Stack/Detail/Event.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4ce4746058588baa78b8f0623fdffa1f4bcac867', 'message': 'fix: Fix the stack log is not showed completely\n\n1. The name of the stack is too long to showed completely\n2. Add css style with workbreak & wordwrap to fix this problem\n\nChange-Id: Id19f9e154841e64a9d468b90fee26e86cd06417e\n'}]",1,805542,4ce4746058588baa78b8f0623fdffa1f4bcac867,11,3,3,33689,,,0,"fix: Fix the stack log is not showed completely

1. The name of the stack is too long to showed completely
2. Add css style with workbreak & wordwrap to fix this problem

Change-Id: Id19f9e154841e64a9d468b90fee26e86cd06417e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/42/805542/2 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/heat/containers/Stack/Detail/Event.jsx'],1,3a6f5daa2f0c3d5619e398373ce33f87ef5f3d9b,open-34622,"import React from 'react'; render: (it) => ( <div style={{ wordWrap: 'break-word', wordBreak: 'break-word' }}> {it} </div> ), render: (it) => ( <div style={{ wordWrap: 'break-word', wordBreak: 'break-word' }}> {it} </div> ),",,11,0
openstack%2Fskyline-console~master~I4cc4e489a81847f0c3b6190576141b9c39d9075e,openstack/skyline-console,master,I4cc4e489a81847f0c3b6190576141b9c39d9075e,feature: Support tips at top in StepForm component,MERGED,2021-08-20 08:28:57.000000000,2021-08-23 02:26:41.000000000,2021-08-23 02:26:41.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-20 08:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e8c18642853096a12b2a31865fe46fdc08de5876', 'message': 'feature: Support tips at top in StepForm component\n\nSupport tips at top in StepForm component\n\nChange-Id: I4cc4e489a81847f0c3b6190576141b9c39d9075e\n'}, {'number': 2, 'created': '2021-08-20 08:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7cbadb23db0e5a7fe43f4a7fd0917d571098cfe4', 'message': 'feature: Support tips at top in StepForm component\n\nSupport tips at top in StepForm component\n\nChange-Id: I4cc4e489a81847f0c3b6190576141b9c39d9075e\n'}, {'number': 3, 'created': '2021-08-23 02:24:27.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/components/Form/index.less', 'src/pages/heat/containers/Stack/actions/Create/Template.jsx', 'src/components/Form/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/Parameter.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9a955f280b10333d35b9073fb4e89e00b59c09fe', 'message': 'feature: Support tips at top in StepForm component\n\nSupport tips at top in StepForm component\n\nChange-Id: I4cc4e489a81847f0c3b6190576141b9c39d9075e\n'}]",0,805356,9a955f280b10333d35b9073fb4e89e00b59c09fe,10,2,3,30434,,,0,"feature: Support tips at top in StepForm component

Support tips at top in StepForm component

Change-Id: I4cc4e489a81847f0c3b6190576141b9c39d9075e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/56/805356/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/components/Form/index.less', 'src/locales/zh.json', 'src/pages/heat/containers/Stack/actions/Create/Template.jsx', 'config/webpack.dev.js', 'src/components/Form/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/Parameter.jsx']",7,e8c18642853096a12b2a31865fe46fdc08de5876,, get isStep() { return true; } ,,38,16
openstack%2Ftripleo-common~master~Iffae5828807fed31111527edcbe5e3fb480415c4,openstack/tripleo-common,master,Iffae5828807fed31111527edcbe5e3fb480415c4,DNM: DO NOT MERGE (don't merge),ABANDONED,2021-07-19 04:06:01.000000000,2021-08-23 02:24:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 04:06:01.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d3d4b4b870551bdac6af0445d2bd94d75503de85', 'message': ""DNM: DO NOT MERGE (don't merge)\n\nThis change triggers featureset001 to build\novercloud-hardened-uefi-full.qcow2 until it is published for download.\n\nChange-Id: Iffae5828807fed31111527edcbe5e3fb480415c4\n""}]",0,801226,d3d4b4b870551bdac6af0445d2bd94d75503de85,4,2,1,4571,,,0,"DNM: DO NOT MERGE (don't merge)

This change triggers featureset001 to build
overcloud-hardened-uefi-full.qcow2 until it is published for download.

Change-Id: Iffae5828807fed31111527edcbe5e3fb480415c4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/801226/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-hardened-images-uefi-python3.yaml'],1,d3d4b4b870551bdac6af0445d2bd94d75503de85,bp/whole-disk-default, - openssh, - openssh,1,1
openstack%2Fskyline-console~master~I6ec0c021b3c66d03f3d8520f57b80eb18d237162,openstack/skyline-console,master,I6ec0c021b3c66d03f3d8520f57b80eb18d237162,fix: Fix redirect to overview page,MERGED,2021-08-20 08:19:23.000000000,2021-08-23 02:23:48.000000000,2021-08-23 02:23:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-08-20 08:19:23.000000000', 'files': ['src/core/routes.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3093a201edb332d2536f8316a69265975c6631ac', 'message': 'fix: Fix redirect to overview page\n\nFix redirect to overview page when user already logged in\n\nChange-Id: I6ec0c021b3c66d03f3d8520f57b80eb18d237162\n'}]",0,805354,3093a201edb332d2536f8316a69265975c6631ac,7,3,1,33689,,,0,"fix: Fix redirect to overview page

Fix redirect to overview page when user already logged in

Change-Id: I6ec0c021b3c66d03f3d8520f57b80eb18d237162
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/54/805354/1 && git format-patch -1 --stdout FETCH_HEAD,['src/core/routes.js'],1,3093a201edb332d2536f8316a69265975c6631ac,patch-dev," redirect: { from: '/', to: '/base/overview', exact: true },"," redirect: { from: '/', to: '/user/login', exact: true },",1,1
openstack%2Fkuryr-kubernetes~master~I2e18c6af63ce1c1eb139dce40e2f021c08944fdd,openstack/kuryr-kubernetes,master,I2e18c6af63ce1c1eb139dce40e2f021c08944fdd,move vif_pool oslo_cfg to config,ABANDONED,2021-08-20 04:52:08.000000000,2021-08-23 01:49:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-20 04:52:08.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/config.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4a43121def527fa24a98e847ef2280a5bc735f61', 'message': 'move vif_pool oslo_cfg to config\n\nMove the relevant configuration from vif_pool to config\nwhere the rest of the opts are.\n\nChange-Id: I2e18c6af63ce1c1eb139dce40e2f021c08944fdd\n'}]",3,805331,4a43121def527fa24a98e847ef2280a5bc735f61,4,1,1,19521,,,0,"move vif_pool oslo_cfg to config

Move the relevant configuration from vif_pool to config
where the rest of the opts are.

Change-Id: I2e18c6af63ce1c1eb139dce40e2f021c08944fdd
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/805331/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py']",2,4a43121def527fa24a98e847ef2280a5bc735f61,move-vif_pool_cfg-to-config,"CONF = config.CONF cache.configure(CONF) CONF, node_driver_cache_region, ""node_driver_caching"") cache.configure_cache_region(CONF, node_driver_cache_region) if (now - CONF.vif_pool.ports_pool_update_frequency < if pool_size < CONF.vif_pool.ports_pool_min: num_ports = max(CONF.vif_pool.ports_pool_batch, CONF.vif_pool.ports_pool_min - pool_size) CONF.vif_pool.ports_pool_min): eventlet.sleep(CONF.vif_pool.ports_pool_update_frequency) CONF.vif_pool.ports_pool_update_frequency) if (not CONF.vif_pool.ports_pool_max or CONF.vif_pool.ports_pool_max): CONF.vif_pool.ports_pool_min): eventlet.sleep(CONF.vif_pool.ports_pool_update_frequency) CONF.vif_pool.ports_pool_update_frequency) if (not CONF.vif_pool.ports_pool_max or CONF.vif_pool.ports_pool_max): num_ports = int(max(CONF.vif_pool.ports_pool_batch/2, CONF.vif_pool.ports_pool_min)) num_ports = CONF.vif_pool.ports_pool_batch pod_vif = CONF.kubernetes.pod_vif_driver CONF.kubernetes.pod_vif_driver) return CONF.kubernetes.pod_vif_driver vif_pool_mapping = CONF.vif_pool.vif_pool_mapping pools_vif_drivers = CONF.vif_pool.pools_vif_drivers"," # Moved out from neutron_default group vif_pool_driver_opts = [ oslo_cfg.IntOpt('ports_pool_max', help=_(""Set a maximum amount of ports per pool. "" ""0 to disable""), default=0), oslo_cfg.IntOpt('ports_pool_min', help=_(""Set a target minimum size of the pool of ports""), default=5), oslo_cfg.IntOpt('ports_pool_batch', help=_(""Number of ports to be created in a bulk request""), default=10), oslo_cfg.IntOpt('ports_pool_update_frequency', help=_(""Minimum interval (in seconds) "" ""between pool updates""), default=20), oslo_cfg.DictOpt('pools_vif_drivers', help=_(""Dict with the pool driver and pod driver to be "" ""used. If not set, it will take them from the "" ""kubernetes driver options for pool and pod "" ""drivers respectively""), default={}, deprecated_for_removal=True, deprecated_since=""Stein"", deprecated_reason=_( ""Mapping from pool->vif does not allow different "" ""vifs to use the same pool driver. "" ""Use vif_pool_mapping instead."")), oslo_cfg.DictOpt('vif_pool_mapping', help=_(""Dict with the pod driver and the corresponding "" ""pool driver to be used. If not set, it will take "" ""them from the kubernetes driver options for pool "" ""and pod drivers respectively""), default={}), ] oslo_cfg.CONF.register_opts(vif_pool_driver_opts, ""vif_pool"") node_vif_driver_caching_opts = [ oslo_cfg.BoolOpt('caching', default=True), oslo_cfg.IntOpt('cache_time', default=3600), ] oslo_cfg.CONF.register_opts(node_vif_driver_caching_opts, ""node_driver_caching"") cache.configure(oslo_cfg.CONF) oslo_cfg.CONF, node_driver_cache_region, ""node_driver_caching"") cache.configure_cache_region(oslo_cfg.CONF, node_driver_cache_region) if (now - oslo_cfg.CONF.vif_pool.ports_pool_update_frequency < if pool_size < oslo_cfg.CONF.vif_pool.ports_pool_min: num_ports = max(oslo_cfg.CONF.vif_pool.ports_pool_batch, oslo_cfg.CONF.vif_pool.ports_pool_min - pool_size) oslo_cfg.CONF.vif_pool.ports_pool_min): eventlet.sleep(oslo_cfg.CONF.vif_pool.ports_pool_update_frequency) oslo_cfg.CONF.vif_pool.ports_pool_update_frequency) if (not oslo_cfg.CONF.vif_pool.ports_pool_max or oslo_cfg.CONF.vif_pool.ports_pool_max): oslo_cfg.CONF.vif_pool.ports_pool_min): eventlet.sleep(oslo_cfg.CONF.vif_pool.ports_pool_update_frequency) oslo_cfg.CONF.vif_pool.ports_pool_update_frequency) if (not oslo_cfg.CONF.vif_pool.ports_pool_max or oslo_cfg.CONF.vif_pool.ports_pool_max): num_ports = int(max(oslo_cfg.CONF.vif_pool.ports_pool_batch/2, oslo_cfg.CONF.vif_pool.ports_pool_min)) num_ports = oslo_cfg.CONF.vif_pool.ports_pool_batch pod_vif = oslo_cfg.CONF.kubernetes.pod_vif_driver oslo_cfg.CONF.kubernetes.pod_vif_driver) return oslo_cfg.CONF.kubernetes.pod_vif_driver vif_pool_mapping = oslo_cfg.CONF.vif_pool.vif_pool_mapping pools_vif_drivers = oslo_cfg.CONF.vif_pool.pools_vif_drivers",70,72
openstack%2Fpython-cyborgclient~master~I7b7900ebb9f67024b1393d35cc3ed90a89a5f7c6,openstack/python-cyborgclient,master,I7b7900ebb9f67024b1393d35cc3ed90a89a5f7c6,Add doc/requirements.txt to releasenotes tox environment,ABANDONED,2019-01-09 18:14:52.000000000,2021-08-23 00:05:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-01-09 18:14:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/2e0957545b545f2b715c85665ff4ac0af420ac65', 'message': 'Add doc/requirements.txt to releasenotes tox environment\n\nWithout these dependencies, the releasenotes build does not actually\nwork.\n\nChange-Id: I7b7900ebb9f67024b1393d35cc3ed90a89a5f7c6\n'}]",1,629615,2e0957545b545f2b715c85665ff4ac0af420ac65,4,2,1,28935,,,0,"Add doc/requirements.txt to releasenotes tox environment

Without these dependencies, the releasenotes build does not actually
work.

Change-Id: I7b7900ebb9f67024b1393d35cc3ed90a89a5f7c6
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/15/629615/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2e0957545b545f2b715c85665ff4ac0af420ac65,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt,,3,0
openstack%2Fpuppet-glance~stable%2Fvictoria~Ie721a6501c94b818a6148dec8e8677fb6eca5fdf,openstack/puppet-glance,stable/victoria,Ie721a6501c94b818a6148dec8e8677fb6eca5fdf,Fix wrong parameter name in deprecation warning,ABANDONED,2021-08-22 23:43:03.000000000,2021-08-22 23:43:44.000000000,,[],"[{'number': 1, 'created': '2021-08-22 23:43:03.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c46fee65285c220d7476585f54c097e71aa48776', 'message': 'Fix wrong parameter name in deprecation warning\n\nChange-Id: Ie721a6501c94b818a6148dec8e8677fb6eca5fdf\n'}]",0,805538,c46fee65285c220d7476585f54c097e71aa48776,2,0,1,9816,,,0,"Fix wrong parameter name in deprecation warning

Change-Id: Ie721a6501c94b818a6148dec8e8677fb6eca5fdf
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/38/805538/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,c46fee65285c220d7476585f54c097e71aa48776,tripleo-image-builde,glance::backend::multistore::cinder::cinder_os_region_name instead.'),cinder::backend::multistore::cinder::cinder_os_region_name instead.'),1,1
openstack%2Fneutron-tempest-plugin~master~Ied226dec9923f021d8f26f1e59b01602d4b1ae82,openstack/neutron-tempest-plugin,master,Ied226dec9923f021d8f26f1e59b01602d4b1ae82,Configure a NetworkManager profile with ipv6 supported format,MERGED,2021-03-05 23:29:42.000000000,2021-08-22 16:58:51.000000000,2021-08-22 16:58:51.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 31291}]","[{'number': 1, 'created': '2021-03-05 23:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ea6530977b5f28f5bcdcaf96bf22fcb5c0a6d09e', 'message': ""Configure a NetworkManager profile with ipv6 supported format\n\nThis test was unstable due to the default ipv6 format in NM isn't\nsupported by neutron\n\nChange-Id: Ied226dec9923f021d8f26f1e59b01602d4b1ae82\n""}, {'number': 2, 'created': '2021-03-05 23:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f01ba4d1a6e794ffe94989149776e4f02e5e5cbe', 'message': ""Configure a NetworkManager profile with ipv6 supported format\n\nThis test was unstable due to the default ipv6 format in NM isn't\nsupported by neutron\n\nChange-Id: Ied226dec9923f021d8f26f1e59b01602d4b1ae82\n""}, {'number': 3, 'created': '2021-08-12 08:01:41.000000000', 'files': ['neutron_tempest_plugin/scenario/test_ipv6.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dfca7c12dc4862c6feedc66f2fa645d9e42e9628', 'message': ""Configure a NetworkManager profile with ipv6 supported format\n\nThis test was unstable due to the default ipv6 format in NM isn't\nsupported by neutron\n\nChange-Id: Ied226dec9923f021d8f26f1e59b01602d4b1ae82\n""}]",2,779062,dfca7c12dc4862c6feedc66f2fa645d9e42e9628,31,6,3,29088,,,0,"Configure a NetworkManager profile with ipv6 supported format

This test was unstable due to the default ipv6 format in NM isn't
supported by neutron

Change-Id: Ied226dec9923f021d8f26f1e59b01602d4b1ae82
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/62/779062/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_ipv6.py'],1,ea6530977b5f28f5bcdcaf96bf22fcb5c0a6d09e,," ip_command.set_link(nic, ""up"") def configure_eth_connection_profile_NM(ssh): """"""Prepare a Network manager profile for ipv6 port By default the NetworkManager uses IPv6 privacy format it isn't supported by neutron then we create a ether profile with eui64 supported format @param ssh: RemoteClient ssh instance to server """""" # NOTE(ccamposr): on RHEL based OS we need a ether profile with # eui64 format if nmcli_command_exists(ssh): try: ssh.execute_script('nmcli connection add type ethernet con-name ' 'ether ifname ""*""',become_root=True) ssh.execute_script('nmcli con mod ether ipv6.addr-gen-mode eui64', LOG.debug(""Error creating NetworkManager profile. "" ""Error message: %(error)s"", {'error': e}) def nmcli_command_exists(ssh): 'if ! type nmcli > /dev/null ; then echo ""False""; fi') # Add NetworkManager profile with ipv6 eui64 format to guest OS configure_eth_connection_profile_NM(ssh_client) "," # NOTE(slaweq): on RHEL based OS ifcfg file for new interface is # needed to make IPv6 working on it, so if # /etc/sysconfig/network-scripts directory exists ifcfg-%(nic)s file # should be added in it if sysconfig_network_scripts_dir_exists(ssh): try: ssh.execute_script( 'echo -e ""DEVICE=%(nic)s\\nNAME=%(nic)s\\nIPV6INIT=yes"" | ' 'tee /etc/sysconfig/network-scripts/ifcfg-%(nic)s; ' 'nmcli connection reload' % {'nic': nic}, become_root=True) ssh.execute_script('nmcli connection up %s' % nic, LOG.debug(""Error during restarting %(nic)s interface on "" ""instance. Error message: %(error)s"", {'nic': nic, 'error': e}) ip_command.set_link(nic, ""up"") def sysconfig_network_scripts_dir_exists(ssh): 'test -d /etc/sysconfig/network-scripts/ || echo ""False""')",25,17
openstack%2Fopenstack-helm~master~I2f5c6f5387929f59dc2209681373859700a10d16,openstack/openstack-helm,master,I2f5c6f5387929f59dc2209681373859700a10d16,[WIP] Fix cinder privileged issues,ABANDONED,2021-07-28 19:20:39.000000000,2021-08-22 14:09:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-28 19:20:39.000000000', 'files': ['cinder/values_overrides/backend_pure.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3ef43c2b3d0f37f9344e26d7b8969cbcaf17743', 'message': '[WIP] Fix cinder privileged issues\n\nChange-Id: I2f5c6f5387929f59dc2209681373859700a10d16\n'}]",0,802797,d3ef43c2b3d0f37f9344e26d7b8969cbcaf17743,3,1,1,29298,,,0,"[WIP] Fix cinder privileged issues

Change-Id: I2f5c6f5387929f59dc2209681373859700a10d16
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/97/802797/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/values_overrides/backend_pure.yaml'],1,d3ef43c2b3d0f37f9344e26d7b8969cbcaf17743,, privileged: false privileged: false, privileged: true privileged: true,2,2
openstack%2Fpuppet-octavia~stable%2Fvictoria~I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,openstack/puppet-octavia,stable/victoria,I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:12:07.000000000,2021-08-22 12:38:42.000000000,2021-08-22 12:38:42.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 05:12:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/427f3b6568c453c6401f051f3197ccd7e97e7dc6', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run the same set of Octavia tests as the ones used in\ntripleo-ci-centos-N-scenario010-standalone job in TripleO repos which\nenables Octavia with Amphora driver.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n(cherry picked from commit 5565bb60a0a3de5263a0f8bbeb701305c0696e82)\n(cherry picked from commit 7658c66ad36072fa3c265ce5d0f95cf1510cbb68)\n'}]",0,805518,427f3b6568c453c6401f051f3197ccd7e97e7dc6,11,2,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests executed in TripleO job
so that we run the same set of Octavia tests as the ones used in
tripleo-ci-centos-N-scenario010-standalone job in TripleO repos which
enables Octavia with Amphora driver.

Change-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7
(cherry picked from commit 5565bb60a0a3de5263a0f8bbeb701305c0696e82)
(cherry picked from commit 7658c66ad36072fa3c265ce5d0f95cf1510cbb68)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/18/805518/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,427f3b6568c453c6401f051f3197ccd7e97e7dc6,tripleo-tempest, run_tempest: false tempest_test_whitelist: - 'octavia_tempest_plugin.tests.scenario.v2.test_healthmonitor' - 'octavia_tempest_plugin.tests.scenario.v2.test_listener' - 'octavia_tempest_plugin.tests.scenario.v2.test_member' - 'octavia_tempest_plugin.tests.scenario.v2.test_load_balancer' use_os_tempest: true,,7,0
openstack%2Fpuppet-neutron~stable%2Fussuri~I9c3e45adb2b969f498313cfb739f174d148c2c7d,openstack/puppet-neutron,stable/ussuri,I9c3e45adb2b969f498313cfb739f174d148c2c7d,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:15:35.000000000,2021-08-22 12:28:48.000000000,2021-08-22 12:28:48.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 05:15:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5864e305273470a2b3a36be56a217c6df5f04018', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: I9c3e45adb2b969f498313cfb739f174d148c2c7d\n(cherry picked from commit c6fc2e417f07d91e6d818af2a9b3fc4dc13abe58)\n(cherry picked from commit 57919b4fb1f0712a3732dc23b218046f50f2cfc1)\n(cherry picked from commit 449f9ce128d6afac222b5943dfcfe1cbb3d27780)\n'}]",0,805521,5864e305273470a2b3a36be56a217c6df5f04018,11,2,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: I9c3e45adb2b969f498313cfb739f174d148c2c7d
(cherry picked from commit c6fc2e417f07d91e6d818af2a9b3fc4dc13abe58)
(cherry picked from commit 57919b4fb1f0712a3732dc23b218046f50f2cfc1)
(cherry picked from commit 449f9ce128d6afac222b5943dfcfe1cbb3d27780)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/21/805521/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5864e305273470a2b3a36be56a217c6df5f04018,tripleo-tempest, - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops', - 'tempest.api.network' - 'tempest.scenario.test_network_basic_ops' - 'neutron_tempest_plugin.api',1,3
openstack%2Fnova~master~I0377d04043130e1acb4f4e8e9b54fbe3ec86e073,openstack/nova,master,I0377d04043130e1acb4f4e8e9b54fbe3ec86e073,Remove the redundant code for attach interface,MERGED,2021-06-13 08:47:09.000000000,2021-08-22 12:02:11.000000000,2021-08-22 10:15:58.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-13 08:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ac3ce78ec917c2dfdec682fc88dd3071d0ba68f', 'message': 'remove the redundantcode for attach interface\n\nChange-Id: I0377d04043130e1acb4f4e8e9b54fbe3ec86e073\n'}, {'number': 2, 'created': '2021-06-13 08:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/177c8b149745d496a55b689ece5a94a2f4723053', 'message': 'remove the redundant code for attach interface\n\nthe pci_request_id already added in\nhttps://opendev.org/openstack/nova/src/branch/master/nova/network/neutron.py#L2184\n\nChange-Id: I0377d04043130e1acb4f4e8e9b54fbe3ec86e073\n'}, {'number': 3, 'created': '2021-06-14 10:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/026128fd60b9c743498ce1313f01d5c9570e1e77', 'message': 'remove the redundant code for attach interface\n\nthe pci_request_id already added in\nhttps://opendev.org/openstack/nova/src/branch/master/nova/network/neutron.py#L2184\n\nChange-Id: I0377d04043130e1acb4f4e8e9b54fbe3ec86e073\n'}, {'number': 4, 'created': '2021-07-07 10:56:19.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/faa9de93d143ca8216c8774eed3397a4e9c2ae1f', 'message': ""Remove the redundant code for attach interface\n\nThe 'pci_request_id' attribute of the 'nova.objects.NetworkRequest'\nobject is already populated by the preceeding call to\n'create_resource_requests' [1].\n\n[1] https://opendev.org/openstack/nova/src/tag/22.0.0/nova/network/neutron.py#L2149\n\nChange-Id: I0377d04043130e1acb4f4e8e9b54fbe3ec86e073\n""}]",1,796208,faa9de93d143ca8216c8774eed3397a4e9c2ae1f,84,6,4,31827,,,0,"Remove the redundant code for attach interface

The 'pci_request_id' attribute of the 'nova.objects.NetworkRequest'
object is already populated by the preceeding call to
'create_resource_requests' [1].

[1] https://opendev.org/openstack/nova/src/tag/22.0.0/nova/network/neutron.py#L2149

Change-Id: I0377d04043130e1acb4f4e8e9b54fbe3ec86e073
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/796208/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,7ac3ce78ec917c2dfdec682fc88dd3071d0ba68f,,,,0,0
openstack%2Fcinder~stable%2Fwallaby~If465bc719cea2d4e85b37527f3f7ac916b5de638,openstack/cinder,stable/wallaby,If465bc719cea2d4e85b37527f3f7ac916b5de638,PowerMax Driver - Fix for create snapshot,MERGED,2021-08-18 16:54:13.000000000,2021-08-22 11:46:28.000000000,2021-08-20 12:34:02.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-08-18 16:54:13.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/bug-1939139-02ab552420813e70.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a366ed53b1ea17d0be266a4fca56785410b376cf', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)\n'}]",0,805060,a366ed53b1ea17d0be266a4fca56785410b376cf,32,4,1,12670,,,0,"PowerMax Driver - Fix for create snapshot

Payload response change from REST means that the
Device Label no longer exists in the format expected and
causes an IndexError exception. This is the case in PowerMaxOS
5978.711 and later.

Closes-Bug: #1939139

Change-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638
(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/805060/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/bug-1939139-02ab552420813e70.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",4,a366ed53b1ea17d0be266a4fca56785410b376cf,, priv_snap_response_no_label = deepcopy(priv_snap_response) priv_snap_response_no_label.update({'deviceName': device_id}) ,,33,3
openstack%2Fpuppet-nova~stable%2Ftrain~Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,openstack/puppet-nova,stable/train,Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,TripleO: Reduce tempest test scope,MERGED,2021-08-22 08:07:12.000000000,2021-08-22 10:40:20.000000000,2021-08-22 10:40:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 08:07:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9cc35d58b412a5a5fac44181754fecfd3d6efaaa', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: Idecb41c3cd78e6cc87f324f41ed77b981c3025ce\n(cherry picked from commit a73d22babd41a67510cea48747fe95b3330ec1bc)\n(cherry picked from commit 5d581f04389cda0ece093fcc599e8e4b1d13cd6e)\n(cherry picked from commit 37558d657f6893c0925650a86b09336ef098b946)\n(cherry picked from commit 9102d328f63b278b2edfd2152016b7171af1769c)\n'}]",0,805523,9cc35d58b412a5a5fac44181754fecfd3d6efaaa,8,2,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Idecb41c3cd78e6cc87f324f41ed77b981c3025ce
(cherry picked from commit a73d22babd41a67510cea48747fe95b3330ec1bc)
(cherry picked from commit 5d581f04389cda0ece093fcc599e8e4b1d13cd6e)
(cherry picked from commit 37558d657f6893c0925650a86b09336ef098b946)
(cherry picked from commit 9102d328f63b278b2edfd2152016b7171af1769c)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/23/805523/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9cc35d58b412a5a5fac44181754fecfd3d6efaaa,tripleo-tempest,, - 'tempest.api.compute',0,1
openstack%2Fpuppet-glance~stable%2Fussuri~If1ab96a8b78f47e3316c0a05b27f7827a27ab559,openstack/puppet-glance,stable/ussuri,If1ab96a8b78f47e3316c0a05b27f7827a27ab559,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:14:32.000000000,2021-08-22 10:32:41.000000000,2021-08-22 10:32:41.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 05:14:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/62e1e904f7b0850f848e7496835b37d1cff467c1', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: If1ab96a8b78f47e3316c0a05b27f7827a27ab559\n(cherry picked from commit 07d0fa7ab8f1a44e044ea2796f126c463cf59765)\n(cherry picked from commit da08bab24cbb2106adad434f92cca1577d4adc24)\n(cherry picked from commit ee851c2360daaacab506339b7b68c85072ebbf2a)\n'}]",0,805519,62e1e904f7b0850f848e7496835b37d1cff467c1,9,2,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: If1ab96a8b78f47e3316c0a05b27f7827a27ab559
(cherry picked from commit 07d0fa7ab8f1a44e044ea2796f126c463cf59765)
(cherry picked from commit da08bab24cbb2106adad434f92cca1577d4adc24)
(cherry picked from commit ee851c2360daaacab506339b7b68c85072ebbf2a)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/19/805519/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,62e1e904f7b0850f848e7496835b37d1cff467c1,tripleo-tempest,, - 'tempest.api.image',0,1
openstack%2Fpuppet-swift~stable%2Fussuri~Ia28f458ac84e4f46dcda0dd800276bbd5721a568,openstack/puppet-swift,stable/ussuri,Ia28f458ac84e4f46dcda0dd800276bbd5721a568,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:15:57.000000000,2021-08-22 10:21:46.000000000,2021-08-22 10:21:46.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 05:15:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/efee875a95dcb12626507e7c3395407d002f84b1', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: Ia28f458ac84e4f46dcda0dd800276bbd5721a568\n(cherry picked from commit 56c1954629b78921ca9e8347ca7fd77f1d588062)\n(cherry picked from commit 5e0cb3c89b7ae4a78ffcc9c665442dd31a920e35)\n(cherry picked from commit eb93f97fbe39851711f46872d4dcb8be99f7be21)\n'}]",0,805522,efee875a95dcb12626507e7c3395407d002f84b1,9,2,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Ia28f458ac84e4f46dcda0dd800276bbd5721a568
(cherry picked from commit 56c1954629b78921ca9e8347ca7fd77f1d588062)
(cherry picked from commit 5e0cb3c89b7ae4a78ffcc9c665442dd31a920e35)
(cherry picked from commit eb93f97fbe39851711f46872d4dcb8be99f7be21)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/22/805522/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,efee875a95dcb12626507e7c3395407d002f84b1,tripleo-tempest, - 'tempest.api.object_storage.test_object_services.ObjectTest', - 'tempest.api.object_storage',1,1
openstack%2Fpuppet-cinder~stable%2Fussuri~Ib913f0fe20af74c9a21875c6a7b497dfa2c30880,openstack/puppet-cinder,stable/ussuri,Ib913f0fe20af74c9a21875c6a7b497dfa2c30880,TripleO: Reduce tempest test scope,MERGED,2021-07-14 15:38:10.000000000,2021-08-22 09:48:19.000000000,2021-08-22 09:48:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-14 15:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/42790e5048e7383af11e1ee87b81ed6a745fa095', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: Ib913f0fe20af74c9a21875c6a7b497dfa2c30880\n(cherry picked from commit 6bb2ecec0f0226fb7e9b57b37fc63ca4e544fdd3)\n(cherry picked from commit 8b2b7212e2388b199c28ca3b36e7d5be1bbd3e14)\n'}, {'number': 2, 'created': '2021-08-22 05:20:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9cb3fc5f8a2d288f7f5f807c76d5c7fae4631403', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: Ib913f0fe20af74c9a21875c6a7b497dfa2c30880\n(cherry picked from commit 6bb2ecec0f0226fb7e9b57b37fc63ca4e544fdd3)\n(cherry picked from commit 8b2b7212e2388b199c28ca3b36e7d5be1bbd3e14)\n(cherry picked from commit b1f706d7abed341d775d02e6ac4a41899e4eb7c8)\n'}]",0,800649,9cb3fc5f8a2d288f7f5f807c76d5c7fae4631403,12,2,2,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Ib913f0fe20af74c9a21875c6a7b497dfa2c30880
(cherry picked from commit 6bb2ecec0f0226fb7e9b57b37fc63ca4e544fdd3)
(cherry picked from commit 8b2b7212e2388b199c28ca3b36e7d5be1bbd3e14)
(cherry picked from commit b1f706d7abed341d775d02e6ac4a41899e4eb7c8)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/49/800649/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,42790e5048e7383af11e1ee87b81ed6a745fa095,tripleo-tempest, - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' - 'tempest.scenario.test_snapshot_pattern.TestSnapshotPattern.test_snapshot_pattern', - 'tempest.api.volume' - 'tempest.scenario.test_volume_boot_pattern' - 'cinder_tempest_plugin.api',2,3
openstack%2Fpuppet-keystone~stable%2Fussuri~Ice33a872b371c0b1ea9de94e111c9157ad5c4750,openstack/puppet-keystone,stable/ussuri,Ice33a872b371c0b1ea9de94e111c9157ad5c4750,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:15:02.000000000,2021-08-22 09:27:07.000000000,2021-08-22 09:27:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 05:15:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7cd34da55b1e3b944bd7826e7a97312a7f0c5bd0', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: Ice33a872b371c0b1ea9de94e111c9157ad5c4750\n(cherry picked from commit f591e24a8e9b0257a7fbba7fa8d0c3672f2ab99d)\n(cherry picked from commit 7afaa30f2b626ed06c6b7995e733449da784b042)\n(cherry picked from commit ca7213ae008a0d56b77873ac9d22dcc0c20a6e35)\n'}]",0,805520,7cd34da55b1e3b944bd7826e7a97312a7f0c5bd0,9,2,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Ice33a872b371c0b1ea9de94e111c9157ad5c4750
(cherry picked from commit f591e24a8e9b0257a7fbba7fa8d0c3672f2ab99d)
(cherry picked from commit 7afaa30f2b626ed06c6b7995e733449da784b042)
(cherry picked from commit ca7213ae008a0d56b77873ac9d22dcc0c20a6e35)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/20/805520/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7cd34da55b1e3b944bd7826e7a97312a7f0c5bd0,tripleo-tempest, - 'tempest.api.identity.v3', - 'identity' - 'keystone-tempest-plugin',1,2
openstack%2Fpuppet-octavia~stable%2Fwallaby~I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,openstack/puppet-octavia,stable/wallaby,I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:11:43.000000000,2021-08-22 09:06:08.000000000,2021-08-22 09:06:08.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 05:11:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/7658c66ad36072fa3c265ce5d0f95cf1510cbb68', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run the same set of Octavia tests as the ones used in\ntripleo-ci-centos-N-scenario010-standalone job in TripleO repos which\nenables Octavia with Amphora driver.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n(cherry picked from commit 5565bb60a0a3de5263a0f8bbeb701305c0696e82)\n'}]",0,805517,7658c66ad36072fa3c265ce5d0f95cf1510cbb68,9,2,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests executed in TripleO job
so that we run the same set of Octavia tests as the ones used in
tripleo-ci-centos-N-scenario010-standalone job in TripleO repos which
enables Octavia with Amphora driver.

Change-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7
(cherry picked from commit 5565bb60a0a3de5263a0f8bbeb701305c0696e82)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/17/805517/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7658c66ad36072fa3c265ce5d0f95cf1510cbb68,tripleo-tempest, run_tempest: false tempest_test_whitelist: - 'octavia_tempest_plugin.tests.scenario.v2.test_healthmonitor' - 'octavia_tempest_plugin.tests.scenario.v2.test_listener' - 'octavia_tempest_plugin.tests.scenario.v2.test_member' - 'octavia_tempest_plugin.tests.scenario.v2.test_load_balancer' use_os_tempest: true,,7,0
openstack%2Fpuppet-neutron~stable%2Fvictoria~Ie8e668e4660228d0aa9798f894ffa6a7826850ea,openstack/puppet-neutron,stable/victoria,Ie8e668e4660228d0aa9798f894ffa6a7826850ea,Add  tripleo-undercloud job,ABANDONED,2021-08-22 08:30:14.000000000,2021-08-22 08:31:54.000000000,,[],"[{'number': 1, 'created': '2021-08-22 08:30:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c5df5dbcaca965b8441c76f10d9a3510a2c54047', 'message': 'Add  tripleo-undercloud job\n\nTripleO uses ironic + networking-baremetal in undercloud while it does\nnot use ironic in overcloud. This change adds tripleo-undercloud so\nthat code specific to networking-baremetal is tested.\n\nChange-Id: Ie8e668e4660228d0aa9798f894ffa6a7826850ea\n(cherry picked from commit ccf6b4912ebe48d11d3b8d3cb1162a29fae1e026)\n(cherry picked from commit febbc382fd7bc2905a1a823b477b7e10c6a54a90)\n'}]",0,805524,c5df5dbcaca965b8441c76f10d9a3510a2c54047,3,0,1,9816,,,0,"Add  tripleo-undercloud job

TripleO uses ironic + networking-baremetal in undercloud while it does
not use ironic in overcloud. This change adds tripleo-undercloud so
that code specific to networking-baremetal is tested.

Change-Id: Ie8e668e4660228d0aa9798f894ffa6a7826850ea
(cherry picked from commit ccf6b4912ebe48d11d3b8d3cb1162a29fae1e026)
(cherry picked from commit febbc382fd7bc2905a1a823b477b7e10c6a54a90)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/24/805524/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c5df5dbcaca965b8441c76f10d9a3510a2c54047,tripleo-undercloud-stable/wallaby-stable/victoria, - tripleo-puppet-undercloud consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider, build_container_images: true,7,1
openstack%2Fpuppet-nova~stable%2Fussuri~Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,openstack/puppet-nova,stable/ussuri,Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,TripleO: Reduce tempest test scope,MERGED,2021-05-27 05:57:09.000000000,2021-08-22 07:49:15.000000000,2021-08-22 07:49:15.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 05:57:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9102d328f63b278b2edfd2152016b7171af1769c', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests in tripleo job, so that we\nrun only subset of test cases used in TripleO repos.\n\nChange-Id: Idecb41c3cd78e6cc87f324f41ed77b981c3025ce\n(cherry picked from commit a73d22babd41a67510cea48747fe95b3330ec1bc)\n(cherry picked from commit 5d581f04389cda0ece093fcc599e8e4b1d13cd6e)\n(cherry picked from commit 37558d657f6893c0925650a86b09336ef098b946)\n'}]",0,793192,9102d328f63b278b2edfd2152016b7171af1769c,12,3,1,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Idecb41c3cd78e6cc87f324f41ed77b981c3025ce
(cherry picked from commit a73d22babd41a67510cea48747fe95b3330ec1bc)
(cherry picked from commit 5d581f04389cda0ece093fcc599e8e4b1d13cd6e)
(cherry picked from commit 37558d657f6893c0925650a86b09336ef098b946)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/92/793192/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9102d328f63b278b2edfd2152016b7171af1769c,tripleo-tempest,, - 'tempest.api.compute',0,1
openstack%2Fneutron~master~I28a4a5fef20d5049f4887d43006947b434de3d78,openstack/neutron,master,I28a4a5fef20d5049f4887d43006947b434de3d78,ovn: Don't fail db-sync if port binding changes,MERGED,2021-08-12 15:04:06.000000000,2021-08-22 06:47:02.000000000,2021-08-16 14:02:04.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 15:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bc1a883b32e38ce9badff53fbc58f94a3344b56', 'message': ""ovn: Don't fail db-sync if port binding changes\n\nDuring migration from OVS to OVN it can happen that gateway ports are\nscheduled to a different gateway chassis when Neutron is running. This\npatch doesn't fail in such case. The migration procedure runs the db\nsync twice in a row so it should be good to not perform any action when\nthis happens and let the next migration handle that.\n\nChange-Id: I28a4a5fef20d5049f4887d43006947b434de3d78\nCloses-Bug: #1939704\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 2, 'created': '2021-08-12 15:25:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e0c075bf169ed6f3d768cf23be6f47aeae0f98e', 'message': ""ovn: Don't fail db-sync if port binding changes\n\nDuring migration from OVS to OVN it can happen that gateway ports are\nscheduled to a different gateway chassis when Neutron is running. This\npatch doesn't fail in such case. The migration procedure runs the db\nsync twice in a row so it should be good to not perform any action when\nthis happens and let the next migration handle that.\n\nChange-Id: I28a4a5fef20d5049f4887d43006947b434de3d78\nCloses-Bug: #1939704\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",0,804405,9e0c075bf169ed6f3d768cf23be6f47aeae0f98e,15,6,2,8655,,,0,"ovn: Don't fail db-sync if port binding changes

During migration from OVS to OVN it can happen that gateway ports are
scheduled to a different gateway chassis when Neutron is running. This
patch doesn't fail in such case. The migration procedure runs the db
sync twice in a row so it should be good to not perform any action when
this happens and let the next migration handle that.

Change-Id: I28a4a5fef20d5049f4887d43006947b434de3d78
Closes-Bug: #1939704
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/804405/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py']",2,4bc1a883b32e38ce9badff53fbc58f94a3344b56,bug/1939704,"import mock from neutron_lib import exceptions def test_db_migration_with_pb_not_found(self): vif_details_list = [ {pb.CAP_PORT_FILTER: ""true"", pb.OVS_HYBRID_PLUG: ""true"", pb.VIF_DETAILS_BRIDGE_NAME: ""foo"", pb.VIF_DETAILS_CONNECTIVITY: ""l2""}, {pb.CAP_PORT_FILTER: ""true"", pb.VIF_DETAILS_BRIDGE_NAME: ""foo""}, {""foo"": ""bar""}, {}, ] self._create_ml2_ovs_test_resources(vif_details_list) with mock.patch.object(port_obj.PortBinding, 'update', side_effect=exceptions.ObjectNotFound): db_migration.migrate_neutron_database_to_ovn( self.mech_driver._plugin) self._validate_resources_after_migration(vif_details_list)",,30,1
openstack%2Fmurano~master~I61c593a627b7b55b77beb77abb3cafd4ba4371e5,openstack/murano,master,I61c593a627b7b55b77beb77abb3cafd4ba4371e5,Enable tls-proxy support for test jobs,MERGED,2021-06-17 08:12:27.000000000,2021-08-22 05:51:29.000000000,2021-08-22 05:47:56.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 08:12:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/5ccb44139f215f10e45d1b0883ceb76009164d15', 'message': 'Enable tls-proxy support for test jobs\n\nChange-Id: I61c593a627b7b55b77beb77abb3cafd4ba4371e5\n'}]",0,796790,5ccb44139f215f10e45d1b0883ceb76009164d15,9,2,1,12404,,,0,"Enable tls-proxy support for test jobs

Change-Id: I61c593a627b7b55b77beb77abb3cafd4ba4371e5
",git fetch https://review.opendev.org/openstack/murano refs/changes/90/796790/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5ccb44139f215f10e45d1b0883ceb76009164d15,exame-tls-proxy,, tls-proxy: false tls-proxy: false,0,2
openstack%2Fpuppet-octavia~master~I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,openstack/puppet-octavia,master,I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,TripleO: Reduce tempest test scope,MERGED,2021-07-19 23:28:29.000000000,2021-08-22 05:44:35.000000000,2021-08-22 05:44:35.000000000,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 11628}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-19 23:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/07a007f87447252346eb506be71042cad9b8b6ea', 'message': 'TripleO: Reduce tempest test scope\n\nCurrently tripleo job in puppet-octavia repo very frequently fails or\ntimes out and it has never succeeded for a while. This change aims to\nlimit test scope to Octavia specific tests to avoid job failures caused\nby unnecessary tests.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n'}, {'number': 2, 'created': '2021-07-20 09:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/723196a1d62ae6e013086939d36dac565d32f2ae', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run only test cases tested in TripleO repo.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n'}, {'number': 3, 'created': '2021-08-04 09:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ba76cd8df28d2c22f925b5b2e90a56a87b71358d', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run only test cases tested in TripleO repo.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n'}, {'number': 4, 'created': '2021-08-04 18:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/08d95eb65b60ee0cbc5659be1a26e438ddab9abc', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run only test cases tested in TripleO repo.\n\nSwitches the job to nested virtualization nodeset as centos 8 stream\non qemu takes over 12 minutes to boot.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n'}, {'number': 5, 'created': '2021-08-05 23:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/5b00c69aab121b2cc5325bbbdcf25f01bc7703e3', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run only test cases tested in TripleO repo.\n\nSwitches the job to nested virtualization nodeset as centos 8 stream\non qemu takes over 12 minutes to boot.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n'}, {'number': 6, 'created': '2021-08-06 05:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1b0334eb3a08370ef02fff3aaccf6aff5d284dab', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run only test cases tested in TripleO repo.\n\nSwitches the job to nested virtualization nodeset as centos 8 stream\non qemu takes over 12 minutes to boot.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n'}, {'number': 7, 'created': '2021-08-06 14:32:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/5565bb60a0a3de5263a0f8bbeb701305c0696e82', 'message': 'TripleO: Reduce tempest test scope\n\nThis change reduces scope of tempest tests executed in TripleO job\nso that we run the same set of Octavia tests as the ones used in\ntripleo-ci-centos-N-scenario010-standalone job in TripleO repos which\nenables Octavia with Amphora driver.\n\nChange-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7\n'}]",9,801400,5565bb60a0a3de5263a0f8bbeb701305c0696e82,36,8,7,9816,,,0,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests executed in TripleO job
so that we run the same set of Octavia tests as the ones used in
tripleo-ci-centos-N-scenario010-standalone job in TripleO repos which
enables Octavia with Amphora driver.

Change-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/00/801400/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,07a007f87447252346eb506be71042cad9b8b6ea,tripleo-tempest, run_tempest: false tempest_test_whitelist: - 'octavia_tempest_plugin' use_os_tempest: true,,4,0
openstack%2Fmurano~master~I5425f96ef4a8817d493cfd583bb0ae2c9520f866,openstack/murano,master,I5425f96ef4a8817d493cfd583bb0ae2c9520f866,[community goal] Update contributor documentation,MERGED,2021-05-17 23:03:37.000000000,2021-08-22 05:32:06.000000000,2021-08-22 05:29:15.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-17 23:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c168d96426dedefac8ecc390a1519b6f0ca97598', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38539\nChange-Id: I5425f96ef4a8817d493cfd583bb0ae2c9520f866\n'}, {'number': 2, 'created': '2021-05-31 20:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/49534497ecf91eb49d7f8c9f85aa04f5869ad093', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38539\nChange-Id: I5425f96ef4a8817d493cfd583bb0ae2c9520f866\n'}, {'number': 3, 'created': '2021-06-16 21:42:17.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/70dc64e7c56b4b369ac9dbdc52db8237f83dd285', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38539\nChange-Id: I5425f96ef4a8817d493cfd583bb0ae2c9520f866\n'}]",0,791837,70dc64e7c56b4b369ac9dbdc52db8237f83dd285,19,4,3,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38539
Change-Id: I5425f96ef4a8817d493cfd583bb0ae2c9520f866
",git fetch https://review.opendev.org/openstack/murano refs/changes/37/791837/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,c168d96426dedefac8ecc390a1519b6f0ca97598,project-ptl-and-contrib-docs,* If you are a new contributor to Murano please refer: :doc:`contributor/contributing` contributor/contributing,Learn how to contribute to the project.,60,47
openstack%2Fmurano~master~Ia57b4ce4aa996e61346eae0f4b6a6599f8555652,openstack/murano,master,Ia57b4ce4aa996e61346eae0f4b6a6599f8555652,Add missing font for PDF doc generation,MERGED,2021-06-04 12:44:25.000000000,2021-08-22 05:30:39.000000000,2021-08-22 05:29:14.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 12:44:25.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/d36954704d1e327686596024aeb4c21a370b4d45', 'message': ""Add missing font for PDF doc generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: Ia57b4ce4aa996e61346eae0f4b6a6599f8555652\n""}]",0,794797,d36954704d1e327686596024aeb4c21a370b4d45,13,2,1,17685,,,0,"Add missing font for PDF doc generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Change-Id: Ia57b4ce4aa996e61346eae0f4b6a6599f8555652
",git fetch https://review.opendev.org/openstack/murano refs/changes/97/794797/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,d36954704d1e327686596024aeb4c21a370b4d45,missing-tgtermes.sty,# PDF Docs package dependencies tex-gyre [platform:dpkg doc],,2,0
openstack%2Fcinder~master~I4a6e93ea98cfd4988d38bedca6e5538391c1f74d,openstack/cinder,master,I4a6e93ea98cfd4988d38bedca6e5538391c1f74d,Add releasenote for schema validation fix,MERGED,2021-08-16 08:25:06.000000000,2021-08-22 04:53:54.000000000,2021-08-19 18:13:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 08:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7436d582ec7ab2d2018cad896141aa4eb38c0e8', 'message': 'Add releasenote for schema validation fix\n\nWith change I5108fd51effa4d72581654ed450d191a13e0e964, we changed\nschema validation for attachment create API to make the instance uuid\nparameter optional and also add validation for mode parameter.\nThis is a followup patch to add a releasenote for the same.\n\nChange-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d\n'}, {'number': 2, 'created': '2021-08-17 14:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33f61e0f2fdc2974b11206b533077f990db442de', 'message': 'Add releasenote for schema validation fix\n\nWith change I5108fd51effa4d72581654ed450d191a13e0e964, we changed\nschema validation for attachment create API to make the instance uuid\nparameter optional and also add validation for mode parameter.\nThis is a followup patch to add a releasenote for the same.\n\nChange-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d\n'}, {'number': 3, 'created': '2021-08-17 14:54:33.000000000', 'files': ['releasenotes/notes/fix-schema-validation-attachment-create-3488914cb52d44d2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f179df0864a770d727d0b249aa51285aefe80bef', 'message': 'Add releasenote for schema validation fix\n\nWith change I5108fd51effa4d72581654ed450d191a13e0e964, we changed\nschema validation for attachment create API to make the instance uuid\nparameter optional and also add validation for mode parameter.\nThis is a followup patch to add a releasenote for the same.\n\nChange-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d\n'}]",0,804611,f179df0864a770d727d0b249aa51285aefe80bef,41,3,3,27615,,,0,"Add releasenote for schema validation fix

With change I5108fd51effa4d72581654ed450d191a13e0e964, we changed
schema validation for attachment create API to make the instance uuid
parameter optional and also add validation for mode parameter.
This is a followup patch to add a releasenote for the same.

Change-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/804611/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-schema-validation-attachment-create-3488914cb52d44d2.yaml'],1,c7436d582ec7ab2d2018cad896141aa4eb38c0e8,,--- fixes: - | Fixed the schema validation for attachment create API to make instance uuid an optional field. Also added validation for mode parameter available from microversion >= 3.54. ,,7,0
openstack%2Fsolum~master~Iabe5066c82ee222caf609667b4acbfc48d28429c,openstack/solum,master,Iabe5066c82ee222caf609667b4acbfc48d28429c,TEST CI,NEW,2021-08-22 03:43:07.000000000,2021-08-22 04:45:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-22 03:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/b9004a1dcac4e2b0f7425e3313aa81f7549a0f70', 'message': 'TEST CI\n\nChange-Id: Iabe5066c82ee222caf609667b4acbfc48d28429c\n'}, {'number': 2, 'created': '2021-08-22 03:44:04.000000000', 'files': ['solum/version.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/849f0e455cac143c8cf7743e6d2a6b0161eb2868', 'message': 'TEST CI\n\nChange-Id: Iabe5066c82ee222caf609667b4acbfc48d28429c\n'}]",0,805515,849f0e455cac143c8cf7743e6d2a6b0161eb2868,4,1,2,14107,,,0,"TEST CI

Change-Id: Iabe5066c82ee222caf609667b4acbfc48d28429c
",git fetch https://review.opendev.org/openstack/solum refs/changes/15/805515/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,b9004a1dcac4e2b0f7425e3313aa81f7549a0f70,,,,0,0
openstack%2Fmurano~stable%2Fwallaby~I5268132018e0a283bd35b5599cf8ca41968dde93,openstack/murano,stable/wallaby,I5268132018e0a283bd35b5599cf8ca41968dde93,Fix broken unit test,MERGED,2021-08-22 03:39:02.000000000,2021-08-22 04:12:39.000000000,2021-08-22 04:11:25.000000000,"[{'_account_id': 9816}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 03:39:02.000000000', 'files': ['murano/tests/unit/db/services/test_instances.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/623d6b49a086fd4fe2d4bdc40720522905ca3a47', 'message': ""Fix broken unit test\n\nThis change mocks sqlalchemy.update during unit tests properly to avoid\nthe following error.\n\nsqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or\nDELETE expected, got <MagicMock name='models.Instance' id='...'>\n\nCloses-Bug: #1938676\nChange-Id: I5268132018e0a283bd35b5599cf8ca41968dde93\n(cherry picked from commit 2800f0b62c2936cd68c35623010c3f57d58b975d)\n""}]",0,805513,623d6b49a086fd4fe2d4bdc40720522905ca3a47,7,3,1,14107,,,0,"Fix broken unit test

This change mocks sqlalchemy.update during unit tests properly to avoid
the following error.

sqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or
DELETE expected, got <MagicMock name='models.Instance' id='...'>

Closes-Bug: #1938676
Change-Id: I5268132018e0a283bd35b5599cf8ca41968dde93
(cherry picked from commit 2800f0b62c2936cd68c35623010c3f57d58b975d)
",git fetch https://review.opendev.org/openstack/murano refs/changes/13/805513/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/db/services/test_instances.py'],1,623d6b49a086fd4fe2d4bdc40720522905ca3a47,bug/1938676-stable/wallaby," @mock.patch('murano.db.services.instances.sqlalchemy') def test_track_instance_except_duplicate_entry(self, _, mock_sqlalchemy, mock_db_session): self.assertEqual(1, mock_sqlalchemy.update().where.call_count)"," def test_track_instance_except_duplicate_entry(self, _, mock_db_session):",4,1
openstack%2Fmurano~master~Ifb983fa478120a95760bf0cb78994210acdbe8e8,openstack/murano,master,Ifb983fa478120a95760bf0cb78994210acdbe8e8,Replace deprecated import of ABCs from collections,MERGED,2021-07-27 00:04:42.000000000,2021-08-22 04:10:55.000000000,2021-08-22 04:09:36.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-27 00:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/fa9647bb8814add4eadc82a43e402fc147bb646c', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nChange-Id: Ifb983fa478120a95760bf0cb78994210acdbe8e8\n'}, {'number': 2, 'created': '2021-08-02 08:27:12.000000000', 'files': ['murano/engine/system/yaql_functions.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/181d09d05fa1f7ad9f2b07f973959208c61e5552', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nChange-Id: Ifb983fa478120a95760bf0cb78994210acdbe8e8\n'}]",2,802410,181d09d05fa1f7ad9f2b07f973959208c61e5552,13,3,2,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Change-Id: Ifb983fa478120a95760bf0cb78994210acdbe8e8
",git fetch https://review.opendev.org/openstack/murano refs/changes/10/802410/2 && git format-patch -1 --stdout FETCH_HEAD,['murano/engine/system/yaql_functions.py'],1,fa9647bb8814add4eadc82a43e402fc147bb646c,collections-abc,"from collections import abc@specs.parameter('mappings', abc.Mapping) elif isinstance(obj, abc.Mapping):","import collections@specs.parameter('mappings', collections.Mapping) elif isinstance(obj, collections.Mapping):",3,3
openstack%2Fmurano~master~Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c,openstack/murano,master,Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c,"Revert ""Use fnmatch from oslo.utils""",MERGED,2021-07-06 12:31:10.000000000,2021-08-22 03:34:47.000000000,2021-08-22 03:32:24.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 19136}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 12:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/177c1fe08d5809459114f62c3b4b905ddbf19cd5', 'message': 'Revert ""Use fnmatch from oslo.utils""\n\nThis reverts commit 4fbe4ee43354091dfdcbbaf9d8876f4f2c4cfd8d.\n\nReason for revert:\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib\'s\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c\n'}, {'number': 2, 'created': '2021-08-18 14:22:44.000000000', 'files': ['murano/tests/unit/dsl/foundation/test_package_loader.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/4193e28ddd24bac8f89f20d6032df40d6cb55742', 'message': 'Revert ""Use fnmatch from oslo.utils""\n\nThis reverts commit 4fbe4ee43354091dfdcbbaf9d8876f4f2c4cfd8d.\n\nReason for revert:\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib\'s\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c\n'}]",0,799586,4193e28ddd24bac8f89f20d6032df40d6cb55742,11,7,2,9816,,,0,"Revert ""Use fnmatch from oslo.utils""

This reverts commit 4fbe4ee43354091dfdcbbaf9d8876f4f2c4cfd8d.

Reason for revert:
The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c
",git fetch https://review.opendev.org/openstack/murano refs/changes/86/799586/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/dsl/foundation/test_package_loader.py'],1,177c1fe08d5809459114f62c3b4b905ddbf19cd5,fnmatch,import fnmatch,from oslo_utils import fnmatch,1,1
openstack%2Fmurano~master~I5268132018e0a283bd35b5599cf8ca41968dde93,openstack/murano,master,I5268132018e0a283bd35b5599cf8ca41968dde93,Fix broken unit test,MERGED,2021-08-02 08:22:59.000000000,2021-08-22 03:33:42.000000000,2021-08-22 03:32:22.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 08:22:59.000000000', 'files': ['murano/tests/unit/db/services/test_instances.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/2800f0b62c2936cd68c35623010c3f57d58b975d', 'message': ""Fix broken unit test\n\nThis change mocks sqlalchemy.update during unit tests properly to avoid\nthe following error.\n\nsqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or\nDELETE expected, got <MagicMock name='models.Instance' id='...'>\n\nCloses-Bug: #1938676\nChange-Id: I5268132018e0a283bd35b5599cf8ca41968dde93\n""}]",0,803151,2800f0b62c2936cd68c35623010c3f57d58b975d,8,2,1,9816,,,0,"Fix broken unit test

This change mocks sqlalchemy.update during unit tests properly to avoid
the following error.

sqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or
DELETE expected, got <MagicMock name='models.Instance' id='...'>

Closes-Bug: #1938676
Change-Id: I5268132018e0a283bd35b5599cf8ca41968dde93
",git fetch https://review.opendev.org/openstack/murano refs/changes/51/803151/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/db/services/test_instances.py'],1,2800f0b62c2936cd68c35623010c3f57d58b975d,bug/1938676," @mock.patch('murano.db.services.instances.sqlalchemy') def test_track_instance_except_duplicate_entry(self, _, mock_sqlalchemy, mock_db_session): self.assertEqual(1, mock_sqlalchemy.update().where.call_count)"," def test_track_instance_except_duplicate_entry(self, _, mock_db_session):",4,1
openstack%2Fmurano-dashboard~master~Id5ab97349f702be1afc536c154cf0e35197150b8,openstack/murano-dashboard,master,Id5ab97349f702be1afc536c154cf0e35197150b8,Fix horizon compilemessages with murano ui enabled,MERGED,2021-08-20 15:52:22.000000000,2021-08-22 03:17:23.000000000,2021-08-22 03:17:23.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:52:22.000000000', 'files': ['muranodashboard/local/local_settings.d/_50_murano.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/fb7d081bc89d9d2a80f0d49a32413c81f2d04289', 'message': ""Fix horizon compilemessages with murano ui enabled\n\nCurrently if you enable murano UI and try to compile messages you will be\nthrown `NameError: name 'HORIZON_CONFIG' is not defined\n\nSo we explicitly import HORIZON_CONFIG along with POLICY_FILES\nto make horizon successfully compile when murano-ui\nwas enabled.\n\nChange-Id: Id5ab97349f702be1afc536c154cf0e35197150b8\n""}]",0,805421,fb7d081bc89d9d2a80f0d49a32413c81f2d04289,6,2,1,28619,,,0,"Fix horizon compilemessages with murano ui enabled

Currently if you enable murano UI and try to compile messages you will be
thrown `NameError: name 'HORIZON_CONFIG' is not defined

So we explicitly import HORIZON_CONFIG along with POLICY_FILES
to make horizon successfully compile when murano-ui
was enabled.

Change-Id: Id5ab97349f702be1afc536c154cf0e35197150b8
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/21/805421/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/local/local_settings.d/_50_murano.py'],1,fb7d081bc89d9d2a80f0d49a32413c81f2d04289,,"try: from openstack_dashboard.settings import HORIZON_CONFIG HORIZON_CONFIG['legacy_static_settings'] = LEGACY_STATIC_SETTINGS except ImportError: HORIZON_CONFIG = {} HORIZON_CONFIG['legacy_static_settings'] = LEGACY_STATIC_SETTINGS try: from openstack_dashboard.settings import POLICY_FILES POLICY_FILES.update({'murano': 'murano_policy.json',}) except ImportError: POLICY_FILES = {'murano': 'murano_policy.json',}","HORIZON_CONFIG['legacy_static_settings'] = LEGACY_STATIC_SETTINGS # from openstack_dashboard.settings import POLICY_FILES POLICY_FILES.update({'murano': 'murano_policy.json',})",11,3
openstack%2Fnova~master~I92b0386432444fc8bdf852de4bdb6cebb370a8ca,openstack/nova,master,I92b0386432444fc8bdf852de4bdb6cebb370a8ca,Deprecate filters that have been replaced by placement filters,MERGED,2020-08-10 23:51:51.000000000,2021-08-21 20:28:26.000000000,2021-08-21 02:51:28.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-08-10 23:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07870d24f74eb2b7dd8c314329e871d668b81afe', 'message': 'Deprecate filters that have been replaced by placement filters\n\nThis change deprecates the compute and az filters which are\nnolonger required.\n\nThis also enable the use of placement for az enfrocement by\ndefault and deprecates the config option for removal.\n\nChange-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca\n'}, {'number': 2, 'created': '2020-08-26 10:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c05ada53291f0c02fef2025ad9881ebbb0bba9b', 'message': 'Deprecate filters that have been replaced by placement filters\n\nThis change deprecates the compute and az filters which are\nnolonger required.\n\nThis also enable the use of placement for az enfrocement by\ndefault and deprecates the config option for removal.\n\nChange-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca\n'}, {'number': 3, 'created': '2020-08-26 10:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6694f31133f9a1c1a390b684939306d4fb287db9', 'message': 'Deprecate filters that have been replaced by placement filters\n\nThis change deprecates the compute and AZ filters which are no longer\nrequired.\n\nThis also enable the use of placement for AZ enforcement by default and\ndeprecates the config option for removal.\n\nChange-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca\n'}, {'number': 4, 'created': '2020-09-11 21:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/094246fea275a57673dcde6a9a4d40ecfa7882df', 'message': 'Deprecate filters that have been replaced by placement filters\n\nThis change deprecates the AZ filters which is no longer required.\n\nThis also enable the use of placement for AZ enforcement by default and\ndeprecates the config option for removal.\n\nChange-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca\n'}, {'number': 5, 'created': '2020-09-11 22:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5751a92c2f721596bd804833128909e70ab09f5', 'message': 'Deprecate filters that have been replaced by placement filters\n\nThis change deprecates the AZ filters which is no longer required.\n\nThis also enable the use of placement for AZ enforcement by default and\ndeprecates the config option for removal.\n\nChange-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca\n'}, {'number': 6, 'created': '2021-06-01 14:23:15.000000000', 'files': ['nova/scheduler/filters/availability_zone_filter.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/conf/scheduler.py', 'doc/source/admin/availability-zones.rst', 'nova/tests/functional/test_aggregates.py', 'releasenotes/notes/deprecate-AZ-filter-28406abc0135c1c3.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c7a2a142d74a7deeda2a79baf21b689fe32cd08', 'message': 'Deprecate filters that have been replaced by placement filters\n\nThis change deprecates the AZ filters which is no longer required.\n\nThis also enable the use of placement for AZ enforcement by default and\ndeprecates the config option for removal.\n\nChange-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca\n'}]",90,745605,7c7a2a142d74a7deeda2a79baf21b689fe32cd08,69,17,6,11604,,,0,"Deprecate filters that have been replaced by placement filters

This change deprecates the AZ filters which is no longer required.

This also enable the use of placement for AZ enforcement by default and
deprecates the config option for removal.

Change-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/745605/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/availability_zone_filter.py', 'nova/scheduler/filters/compute_filter.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/conf/scheduler.py', 'releasenotes/notes/deprecate-AZ-and-compute-filters-28406abc0135c1c3.yaml', 'doc/source/admin/availability-zones.rst']",6,07870d24f74eb2b7dd8c314329e871d668b81afe,remove-deprecated-filters,"to ``True``, as of Victoria (22.0.0) this is now the default.Without the above configuration, the `AvailabilityZoneFilter` filter must be enabled in :oslo.config:option:`filter_scheduler.enabled_filters` to retaining proper behavior (and doing so with the lower performance vs","to ``True``.With the above configuration, the `AvailabilityZoneFilter` filter can be disabled in :oslo.config:option:`filter_scheduler.enabled_filters` while retaining proper behavior (and doing so with the higher performance of",194,12
openstack%2Fstorlets~master~Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20,openstack/storlets,master,Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20,Dynamically detect the user to run agent processes,NEW,2021-08-21 07:59:01.000000000,2021-08-21 19:45:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-21 07:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/258f29a101b463cb27b9c0345279919143293b3a', 'message': 'WIP: Dynamically detect the user to run agent process\n\nThis change makes the user to run agent process inside storlet\ncontainers determined to match the user used to run swift processes,\ninstead of hard-coding the user name.\nThis allows a different user to be used to run swift processes.\n\nAlso, devstack plugin is updated so that we use the consistent user\nwith what is used in swift services.\n\nChange-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20\n'}, {'number': 2, 'created': '2021-08-21 10:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/24730a4a7388efd3d62091f1d9d7052fcd973d6e', 'message': 'WIP: Dynamically detect the user to run agent process\n\nThis change makes the user to run agent process inside storlet\ncontainers determined to match the user used to run swift processes,\ninstead of hard-coding the user name.\nThis allows a different user to be used to run swift processes.\n\nAlso, devstack plugin is updated so that we use the consistent user\nwith what is used in swift services.\n\nChange-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20\n'}, {'number': 3, 'created': '2021-08-21 12:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/aa35ee6cc801de02a5e0076e98ed02859f68b939', 'message': 'WIP: Dynamically detect the user to run agent process\n\nThis change makes the user to run agent process inside storlet\ncontainers determined to match the user used to run swift processes,\ninstead of hard-coding the user name.\nThis allows a different user to be used to run swift processes.\n\nAlso, devstack plugin is updated so that we use the consistent user\nwith what is used in swift services.\n\nChange-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20\n'}, {'number': 4, 'created': '2021-08-21 17:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/204bcab680d7bb5fc95025b9106c085f0e562fd7', 'message': ""Dynamically detect the user to run agent processes\n\nPreviously the user to run agent processes are hard-coded to 'swift'\nbut this doesn't work in the deployment where a different user is used\nto run swift processes.\nWith this change, now the user to run agent processes is determined\nautomatically based on the user used to run swift processes.\n\nChange-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20\n""}, {'number': 5, 'created': '2021-08-21 18:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d068543b42272973d65f7416f1194d6f5ac79dab', 'message': ""Dynamically detect the user to run agent processes\n\nPreviously the user to run agent processes are hard-coded to 'swift'\nbut this doesn't work in the deployment where a different user is used\nto run swift processes.\n\nWith this change, now the user to run agent processes is determined\nautomatically based on the user used to run swift processes.\nBecause now swift services and agent processes are running by the same\nuser, 0777 permission is no longer required about unix domain sockets.\n\nChange-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20\n""}, {'number': 6, 'created': '2021-08-21 19:24:16.000000000', 'files': ['storlets/swift_middleware/handlers/base.py', 'src/c/sbus/sbus.c', 'devstack/plugin.sh', 'tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/c72f6b655105fc34d4f355198d70f3f40ba6db41', 'message': ""Dynamically detect the user to run agent processes\n\nPreviously the user to run agent processes are hard-coded to 'swift'\nbut this doesn't work in the deployment where a different user is used\nto run swift processes.\n\nWith this change, now the user to run agent processes is determined\nautomatically based on the user used to run swift processes.\nBecause now swift services and agent processes are running by the same\nuser, 0777 permission is no longer required about unix domain sockets.\n\nChange-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20\n""}]",1,805476,c72f6b655105fc34d4f355198d70f3f40ba6db41,12,1,6,9816,,,0,"Dynamically detect the user to run agent processes

Previously the user to run agent processes are hard-coded to 'swift'
but this doesn't work in the deployment where a different user is used
to run swift processes.

With this change, now the user to run agent processes is determined
automatically based on the user used to run swift processes.
Because now swift services and agent processes are running by the same
user, 0777 permission is no longer required about unix domain sockets.

Change-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20
",git fetch https://review.opendev.org/openstack/storlets refs/changes/76/805476/5 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/swift_middleware/handlers/base.py', 'devstack/plugin.sh', 'storlets/gateway/gateways/docker/runtime.py']",3,258f29a101b463cb27b9c0345279919143293b3a,docker-nosuid," # Note(takashi): When gateway is called by storlets_middelware, this # parameter is overridden. self.agent_user = conf.get('agent_user') network_disabled=True, mounts=mounts, user=self.agent_user)"," network_disabled=True, mounts=mounts, user='swift')",10,5
openstack%2Frequirements~master~I4cee198cb4262aa2d7b2c2b519bbf830942d261c,openstack/requirements,master,I4cee198cb4262aa2d7b2c2b519bbf830942d261c,Updated from generate-constraints,MERGED,2021-08-21 06:24:51.000000000,2021-08-21 19:08:32.000000000,2021-08-21 19:07:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 06:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c88dcad33e2bbc61141ea7eb620dd532959be3a', 'message': 'Updated from generate-constraints\n\nChange-Id: I4cee198cb4262aa2d7b2c2b519bbf830942d261c\n'}, {'number': 2, 'created': '2021-08-21 16:15:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4bc55806a987e0b3257936294a18a5409c4f6b48', 'message': 'Updated from generate-constraints\n\nChange-Id: I4cee198cb4262aa2d7b2c2b519bbf830942d261c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,805474,4bc55806a987e0b3257936294a18a5409c4f6b48,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I4cee198cb4262aa2d7b2c2b519bbf830942d261c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/805474/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6c88dcad33e2bbc61141ea7eb620dd532959be3a,openstack/requirements/constraints/noclob,neutron-lib===2.14.0Mako===1.1.5XStatic-Angular===1.8.2.1pkg_resources===0.0.0boto3===1.18.26botocore===1.21.26fasteners===0.16.3,neutron-lib===2.13.0Mako===1.1.4XStatic-Angular===1.5.8.0boto3===1.18.25botocore===1.21.25fasteners===0.14.1setuptools===57.4.0,7,7
openstack%2Fneutron~master~I90a130830a6a76cd68adfb6503bb268a60d7de20,openstack/neutron,master,I90a130830a6a76cd68adfb6503bb268a60d7de20,functional: Add debug messages around OVN services,MERGED,2021-08-09 15:27:25.000000000,2021-08-21 17:24:03.000000000,2021-08-21 17:22:23.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 15:27:25.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c267125e20d78f3d9eaedf743049432cf6c3dc23', 'message': 'functional: Add debug messages around OVN services\n\nThis patch is to help understand LP bug 1938766.\n\nChange-Id: I90a130830a6a76cd68adfb6503bb268a60d7de20\n'}]",3,803936,c267125e20d78f3d9eaedf743049432cf6c3dc23,103,4,1,8655,,,0,"functional: Add debug messages around OVN services

This patch is to help understand LP bug 1938766.

Change-Id: I90a130830a6a76cd68adfb6503bb268a60d7de20
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/803936/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,c267125e20d78f3d9eaedf743049432cf6c3dc23,bug/1938766," LOG.debug(""Starting OVN northd"") LOG.debug(""OVN northd started: %r"", self.ovn_northd_mgr) LOG.debug(""OVSDB server manager instantiated: %r"", self.ovsdb_server_mgr)",,4,0
openstack%2Fproject-config~master~I7ee16ea4d7109639a3f258143d2f6495d5b5462f,openstack/project-config,master,I7ee16ea4d7109639a3f258143d2f6495d5b5462f,Remove gerritbot from #zuul,MERGED,2021-08-20 21:43:50.000000000,2021-08-21 16:20:02.000000000,2021-08-21 14:47:13.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 21:43:50.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aae2c9ed101d7172fa2acd1316d83e32217e3fe7', 'message': 'Remove gerritbot from #zuul\n\nZuul is moving to an unbridged Matrix room.\n\nChange-Id: I7ee16ea4d7109639a3f258143d2f6495d5b5462f\n'}]",0,805463,aae2c9ed101d7172fa2acd1316d83e32217e3fe7,13,5,1,1,,,0,"Remove gerritbot from #zuul

Zuul is moving to an unbridged Matrix room.

Change-Id: I7ee16ea4d7109639a3f258143d2f6495d5b5462f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/805463/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,aae2c9ed101d7172fa2acd1316d83e32217e3fe7,matrix,, zuul: events: - patchset-created - change-merged projects: - ^zuul/.* - opendev/zone-zuul-ci.org branches: - master - feature/gearman-zk-shim,0,11
openstack%2Fpuppet-tripleo~master~I3056e1767928f9e7232ec50616e7c4f342216fe5,openstack/puppet-tripleo,master,I3056e1767928f9e7232ec50616e7c4f342216fe5,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 11:43:49.000000000,2021-08-21 14:02:48.000000000,2021-08-21 14:02:48.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 11:43:49.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e0993e504c614e329a91b23282dac909616558aa', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I3056e1767928f9e7232ec50616e7c4f342216fe5\n""}]",0,790666,e0993e504c614e329a91b23282dac909616558aa,16,4,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I3056e1767928f9e7232ec50616e7c4f342216fe5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/790666/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e0993e504c614e329a91b23282dac909616558aa,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Foslo.middleware~master~I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7,openstack/oslo.middleware,master,I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7,Add new basic auth middleware,MERGED,2021-07-26 06:53:44.000000000,2021-08-21 13:56:14.000000000,2021-08-03 13:50:12.000000000,"[{'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 15334}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-26 06:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/f5a77b4dcc56481a98fcd15ac62cb84acafc1f82', 'message': 'Add new basic auth middleware\n\nThis adds a middleware that can be used as an alternative to noauth in\nstandalone environments.\n\nThis middleware uses a password file which supports the Apache htpasswd\nsyntax. This file is read for every request, so no service restart is\nrequired when changes are made.\n\nThe only password digest supported is bcrypt, and the ``bcrypt``\npython library is used for password checks since it supports ``$2y$``\nprefixed bcrypt passwords as generated by the Apache htpasswd utility.\n\nAdapted from I874783b8ece0eedf27a94dfed5163d0c82f8b9de.\n\nChange-Id: I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7\n'}, {'number': 2, 'created': '2021-08-03 11:00:45.000000000', 'files': ['oslo_middleware/tests/test_auth_basic.py', 'releasenotes/notes/basic-auth-middleware-5f812399e325425f.yaml', 'requirements.txt', 'oslo_middleware/basic_auth.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/da7987ca926e9bd82ff2989a920ea9740da24f95', 'message': 'Add new basic auth middleware\n\nThis adds a middleware that can be used as an alternative to noauth in\nstandalone environments.\n\nThis middleware uses a password file which supports the Apache htpasswd\nsyntax. This file is read for every request, so no service restart is\nrequired when changes are made.\n\nThe only password digest supported is bcrypt, and the ``bcrypt``\npython library is used for password checks since it supports ``$2y$``\nprefixed bcrypt passwords as generated by the Apache htpasswd utility.\n\nAdapted from I874783b8ece0eedf27a94dfed5163d0c82f8b9de.\n\nChange-Id: I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7\n'}]",20,802234,da7987ca926e9bd82ff2989a920ea9740da24f95,19,6,2,8833,,,0,"Add new basic auth middleware

This adds a middleware that can be used as an alternative to noauth in
standalone environments.

This middleware uses a password file which supports the Apache htpasswd
syntax. This file is read for every request, so no service restart is
required when changes are made.

The only password digest supported is bcrypt, and the ``bcrypt``
python library is used for password checks since it supports ``$2y$``
prefixed bcrypt passwords as generated by the Apache htpasswd utility.

Adapted from I874783b8ece0eedf27a94dfed5163d0c82f8b9de.

Change-Id: I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/34/802234/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_middleware/tests/test_auth_basic.py', 'releasenotes/notes/basic-auth-middleware-5f812399e325425f.yaml', 'requirements.txt', 'oslo_middleware/basic_auth.py']",4,f5a77b4dcc56481a98fcd15ac62cb84acafc1f82,basic_auth,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import base64 import binascii import logging import bcrypt import webob from oslo_config import cfg from oslo_middleware import base LOG = logging.getLogger(__name__) OPTS = [ cfg.StrOpt('http_basic_auth_user_file', default='/etc/htpasswd', help=""HTTP basic auth password file."") ] cfg.CONF.register_opts(OPTS, group='oslo_middleware') class ConfigInvalid(Exception): def __init__(self, error_msg): super(ConfigInvalid, self).__init__( 'Invalid configuration file. %(error_msg)s') class BasicAuthMiddleware(base.ConfigurableMiddleware): """"""Middleware which performs HTTP basic authentication on requests"""""" def __init__(self, application, conf=None): super().__init__(application, conf) self.auth_file = cfg.CONF.oslo_middleware.http_basic_auth_user_file validate_auth_file(self.auth_file) def format_exception(self, e): result = {'error': {'message': str(e), 'code': 401}} headers = [('Content-Type', 'application/json')] return webob.Response(content_type='application/json', status_code=401, json_body=result, headerlist=headers) @webob.dec.wsgify def __call__(self, req): try: token = parse_header(req.environ) username, password = parse_token(token) req.environ.update(authenticate( self.auth_file, username, password)) return self.application except Exception as e: response = self.format_exception(e) return self.process_response(response) def authenticate(auth_file, username, password): """"""Finds username and password match in Apache style user auth file The user auth file format is expected to comply with Apache documentation[1] however the bcrypt password digest is the *only* digest format supported. [1] https://httpd.apache.org/docs/current/misc/password_encryptions.html :param: auth_file: Path to user auth file :param: username: Username to authenticate :param: password: Password encoded as bytes :returns: A dictionary of WSGI environment values to append to the request :raises: HTTPUnauthorized, if no file entries match username/password """""" line_prefix = username + ':' try: with open(auth_file, 'r') as f: for line in f: entry = line.strip() if entry and entry.startswith(line_prefix): return auth_entry(entry, password) except OSError as exc: LOG.error('Problem reading auth user file: %s', exc) raise webob.exc.HTTPBadRequest( detail='Problem reading auth user file') # reached end of file with no matches LOG.info('User %s not found', username) raise webob.exc.HTTPUnauthorized() def auth_entry(entry, password): """"""Compare a password with a single user auth file entry :param: entry: Line from auth user file to use for authentication :param: password: Password encoded as bytes :returns: A dictionary of WSGI environment values to append to the request :raises: HTTPUnauthorized, if the entry doesn't match supplied password or if the entry is crypted with a method other than bcrypt """""" username, crypted = parse_entry(entry) if not bcrypt.checkpw(password, crypted): LOG.info('Password for %s does not match', username) raise webob.exc.HTTPUnauthorized() return { 'HTTP_X_USER': username, 'HTTP_X_USER_NAME': username } def validate_auth_file(auth_file): """"""Read the auth user file and validate its correctness :param: auth_file: Path to user auth file :raises: ConfigInvalid on validation error """""" try: with open(auth_file, 'r') as f: for line in f: entry = line.strip() if entry and ':' in entry: parse_entry(entry) except OSError: raise ConfigInvalid(error_msg='Problem reading auth user file') def parse_entry(entry): """"""Extrace the username and crypted password from a user auth file entry :param: entry: Line from auth user file to use for authentication :returns: a tuple of username and crypted password :raises: ConfigInvalid if the password is not in the supported bcrypt format """""" username, crypted_str = entry.split(':', maxsplit=1) crypted = crypted_str.encode('utf-8') if crypted[:4] not in (b'$2y$', b'$2a$', b'$2b$'): error_msg = ('Only bcrypt digested passwords are supported for ' '%(username)s') % {'username': username} raise webob.exc.HTTPBadRequest(detail=error_msg) return username, crypted def parse_token(token): """"""Parse the token portion of the Authentication header value :param: token: Token value from basic authorization header :returns: tuple of username, password :raises: BadRequest, if username and password could not be parsed for any reason """""" try: if isinstance(token, str): token = token.encode('utf-8') auth_pair = base64.b64decode(token, validate=True) (username, password) = auth_pair.split(b':', maxsplit=1) return (username.decode('utf-8'), password) except (TypeError, binascii.Error, ValueError) as exc: LOG.info('Could not decode authorization token: %s', exc) raise webob.exc.HTTPBadRequest(detail=( 'Could not decode authorization token')) def parse_header(env): """"""Parse WSGI environment for Authorization header of type Basic :param: env: WSGI environment to get header from :returns: Token portion of the header value :raises: HTTPUnauthorized, if header is missing or if the type is not Basic """""" try: auth_header = env.pop('HTTP_AUTHORIZATION') except KeyError: LOG.info('No authorization token received') raise webob.exc.HTTPUnauthorized() try: auth_type, token = auth_header.strip().split(maxsplit=1) except (ValueError, AttributeError) as exc: LOG.info('Could not parse Authorization header: %s', exc) raise webob.exc.HTTPBadRequest(detail=( 'Could not parse Authorization header')) if auth_type.lower() != 'basic': error_msg = ('Unsupported authorization type ""%s""') % auth_type LOG.info(error_msg) raise webob.exc.HTTPBadRequest(detail=error_msg) return token ",,391,0
openstack%2Fnova~master~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,master,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,MERGED,2020-12-08 16:49:30.000000000,2021-08-21 13:49:20.000000000,2021-08-21 02:51:18.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 16:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9de1d9fdff4399633af9dfafa2ca9c2214f6a17', 'message': 'add libvirt_disable_apic workaround\n\nThis change add a new workaround config option\nto allow disableing the guest apic when testing\nopenstack in ci with the cirros test image.\n\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n'}, {'number': 2, 'created': '2021-08-19 13:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9399e84551a63e2cca4b4fc916bed1f2a9168d83', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic. Useful when testing OpenStack in CI under QEMU with the\ncurrent Cirros 0.5.2 image.\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n'}, {'number': 3, 'created': '2021-08-20 12:36:07.000000000', 'files': ['releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec48e1523dfdd0f1031e1a70c28c56962db66e8a', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n'}]",17,766043,ec48e1523dfdd0f1031e1a70c28c56962db66e8a,48,5,3,11604,,,0,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/766043/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py']",3,a9de1d9fdff4399633af9dfafa2ca9c2214f6a17,workaround-disable-apic," cfg.BoolOpt('libvirt_disable_instance_apic', default=False, help="""""" With some kernels initializing the guest apic can result in a kernel hang that renders the guest unusable. This happens as a result of a kernel bug. In most cases the correct fix it to update the guest image kernel to one that is patch however in some cases this is not possible (cirros test image). This workaround allows the emulation of an apic to be disabled per host however it is not recommended to use outside of a CI or developer cloud. """"""),",,22,1
openstack%2Fdevstack~master~Idf3721969ed59a5cc449588367ad96ef48ba32f3,openstack/devstack,master,Idf3721969ed59a5cc449588367ad96ef48ba32f3,swift: Fix usage of uninitialized USER_GROUP,ABANDONED,2021-08-21 12:50:51.000000000,2021-08-21 12:54:35.000000000,,[],"[{'number': 1, 'created': '2021-08-21 12:50:51.000000000', 'files': ['lib/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/56245509e0b3e617972e7bf21720cce2d104a4ed', 'message': 'swift: Fix usage of uninitialized USER_GROUP\n\nThis change fixes the wrong usage of the USER_GROUP variable, which is\nnot either declared or initialized. Currently this results  in an empty\nvalue set to the group option in rsync.conf.\n\nThis also fixes duplicate declaration of the local user_group variable.\n\nChange-Id: Idf3721969ed59a5cc449588367ad96ef48ba32f3\n'}]",0,805483,56245509e0b3e617972e7bf21720cce2d104a4ed,2,0,1,9816,,,0,"swift: Fix usage of uninitialized USER_GROUP

This change fixes the wrong usage of the USER_GROUP variable, which is
not either declared or initialized. Currently this results  in an empty
value set to the group option in rsync.conf.

This also fixes duplicate declaration of the local user_group variable.

Change-Id: Idf3721969ed59a5cc449588367ad96ef48ba32f3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/83/805483/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift'],1,56245509e0b3e617972e7bf21720cce2d104a4ed,user_group, s/%GROUP%/$(id -g -n ${STACK_USER})/;, local user_group s/%GROUP%/${USER_GROUP}/;,1,2
openstack%2Fkolla-ansible~master~I8b7f0c76d55cd31311285ce746acb6335e044470,openstack/kolla-ansible,master,I8b7f0c76d55cd31311285ce746acb6335e044470,[CI] Fix Debian upgrade,MERGED,2021-08-12 19:15:24.000000000,2021-08-21 11:28:08.000000000,2021-08-21 11:26:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-12 19:15:24.000000000', 'files': ['tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6d9cf7685b79418905bc9cf6f3ccf0763053c06', 'message': '[CI] Fix Debian upgrade\n\nDebian upgrades failed on using the ansible command to remove\nchrony service because of broken python autodetection.\nThis patch uses the same workaround we have in globals-default.j2.\nThis is not nice long-term but there is no reason to keep the two\nout of sync. We should remove this workaround from both places\nwhen the situation fixes itself (possibly with newer Ansible).\n\nChange-Id: I8b7f0c76d55cd31311285ce746acb6335e044470\n'}]",1,804455,b6d9cf7685b79418905bc9cf6f3ccf0763053c06,10,4,1,30491,,,0,"[CI] Fix Debian upgrade

Debian upgrades failed on using the ansible command to remove
chrony service because of broken python autodetection.
This patch uses the same workaround we have in globals-default.j2.
This is not nice long-term but there is no reason to keep the two
out of sync. We should remove this workaround from both places
when the situation fixes itself (possibly with newer Ansible).

Change-Id: I8b7f0c76d55cd31311285ce746acb6335e044470
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/804455/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/upgrade.sh'],1,b6d9cf7685b79418905bc9cf6f3ccf0763053c06,ci-fix-debian-upgrade," local ansible_extra_vars ansible_extra_vars="""" # Force the use of python3 on Debian and Ubuntu remote hosts. These distros # typically have an unversioned Python interpreter which links to python2.7. ansible_extra_vars=""-e ansible_python_interpreter=/usr/bin/python3"" ansible all -i $RAW_INVENTORY $ansible_extra_vars -m package -a 'name=chrony state=present' -b &> /tmp/logs/ansible/chrony-install ansible all -i $RAW_INVENTORY $ansible_extra_vars -m service -a 'name='$chrony_service' state=started enabled=yes' -b &>> /tmp/logs/ansible/chrony-install", ansible all -i $RAW_INVENTORY -m package -a 'name=chrony state=present' -b &> /tmp/logs/ansible/chrony-install ansible all -i $RAW_INVENTORY -m service -a 'name='$chrony_service' state=started enabled=yes' -b &>> /tmp/logs/ansible/chrony-install,7,2
openstack%2Fcinder~master~I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e,openstack/cinder,master,I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e,"mypy: continued manager, scheduler, rpcapi",MERGED,2021-04-01 17:56:30.000000000,2021-08-21 10:32:40.000000000,2021-08-20 17:17:51.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 26832}, {'_account_id': 30615}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-04-01 17:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/865d455a340056219333deab5e745a93103db587', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 2, 'created': '2021-04-01 18:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d135d2f28950846e1f7030436ea650676636856', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 3, 'created': '2021-04-27 21:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1234ee8e043b2935dc0ad3a589e8c6cc3698ee7', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 4, 'created': '2021-04-30 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67ab00c31ca02712d45fff66bd1f09a642090408', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 5, 'created': '2021-05-03 20:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff557b7b63340a88196a5da5b70a4cbb2525a44a', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 6, 'created': '2021-05-10 18:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db880b4a70cfe1945d4252afa055f7470710acce', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 7, 'created': '2021-06-30 20:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebf840c569dd3b0d465c74da8f1f031e910ab9c1', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 8, 'created': '2021-07-13 13:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa529d09103f0c7367e480fdd2bae17312e1c4ad', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 9, 'created': '2021-07-15 17:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecf87d4eeebf834721405d2daf05b415e58285e9', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 10, 'created': '2021-08-09 13:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/856242f8c90d7bdcb5a633cbfe2001f026167b7d', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 11, 'created': '2021-08-09 15:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4eefaa84c2b752db1712d62f9fe43cca29a4db4', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 12, 'created': '2021-08-10 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3735f25fd95d0f9ad17794d032238bfd5a27b2f', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 13, 'created': '2021-08-10 14:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/40d0fa4123d69dad3e27886bbbff44a299fcd5d4', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 14, 'created': '2021-08-10 14:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b01a95649a83204eddd865991386ca75f11a88d', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}, {'number': 15, 'created': '2021-08-11 12:41:15.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/rpc.py', 'cinder/manager.py', 'cinder/volume/manager.py', 'cinder/context.py', 'cinder/scheduler/manager.py', 'cinder/volume/rpcapi.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5ac2af0c2910b5d8c87a2b6dbd9b6f5f23a7bca', 'message': 'mypy: continued manager, scheduler, rpcapi\n\nChange-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e\n'}]",14,784453,b5ac2af0c2910b5d8c87a2b6dbd9b6f5f23a7bca,306,7,15,4523,,,0,"mypy: continued manager, scheduler, rpcapi

Change-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/784453/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/rpc.py', 'cinder/scheduler/filter_scheduler.py', 'cinder/manager.py', 'cinder/volume/manager.py', 'cinder/context.py', 'cinder/scheduler/manager.py', 'cinder/db/api.py', 'cinder/volume/rpcapi.py', 'mypy-files.txt', 'cinder/db/sqlalchemy/api.py']",10,865d455a340056219333deab5e745a93103db587,mypy,"def worker_get_all(context, **filters) -> list:","def worker_get_all(context, **filters):",262,120
openstack%2Fkolla-ansible~stable%2Fussuri~Ie92c26783a8f1c0ff95b261226c6f445d387442b,openstack/kolla-ansible,stable/ussuri,Ie92c26783a8f1c0ff95b261226c6f445d387442b,[DNM] Test Ussuri upgrade,ABANDONED,2021-08-19 19:10:13.000000000,2021-08-21 10:13:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-19 19:10:13.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/407f488fec7e617bbb40adb27a344bdda9133b23', 'message': '[DNM] Test Ussuri upgrade\n\nBecause it fails on Neutron.\nToo often.\nPermanently in some environments.\nNeed to collect data.\n\nChange-Id: Ie92c26783a8f1c0ff95b261226c6f445d387442b\n'}]",0,805266,407f488fec7e617bbb40adb27a344bdda9133b23,28,1,1,30491,,,0,"[DNM] Test Ussuri upgrade

Because it fails on Neutron.
Too often.
Permanently in some environments.
Need to collect data.

Change-Id: Ie92c26783a8f1c0ff95b261226c6f445d387442b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/805266/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,407f488fec7e617bbb40adb27a344bdda9133b23,dnm-test-upgrade, voting: true, voting: false,2,49
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/queens,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 16:00:03.000000000,2021-08-21 09:43:24.000000000,2021-08-21 09:43:24.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 16:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/857f7874b275d79c20f573bd73d623118c7738cb', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nBackport note to Rocky and before:\nThe centralized .zuul.yaml is used instead of zuul.d/*.yaml in these\nbranches.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit af9643464780c4917fae2192d83c92d0a861be2a)\n(cherry picked from commit 40658877d93b96abd5fa7b2aa3aa07704e76732c)\n(cherry picked from commit e943173bc7d2a822dfd5cb5545d996121b3c2557)\n(cherry picked from commit fb21dadf9c49226cbd19a86b467146c024bf68f6)\n(cherry picked from commit c6b2466bbd9c6d6669573a107326605915abe0ae)\n(cherry picked from commit bd07c96ef6f8ffb1cd3e2ae7b2afdcb732a7ac2b)\n'}, {'number': 2, 'created': '2021-08-20 17:06:40.000000000', 'files': ['Puppetfile', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0630bddeccac6633c8459d83336653dfc49ffe16', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n        Puppetfile\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n- (Rocky and older) Resolved conflict caused by centralized .zuul.yaml\n  used in older branches.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)\n(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)\n(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)\n(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)\n(cherry picked from commit 52d4f205c22d559f6adcf83e88eb9e73cfc774d5)\n(cherry picked from commit d3b37b5697d955843d4b4780d9b6a379cdaaac85)\n'}]",0,805429,0630bddeccac6633c8459d83336653dfc49ffe16,9,2,2,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.
- (Rocky and older) Resolved conflict caused by centralized .zuul.yaml
  used in older branches.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)
(cherry picked from commit 52d4f205c22d559f6adcf83e88eb9e73cfc774d5)
(cherry picked from commit d3b37b5697d955843d4b4780d9b6a379cdaaac85)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/29/805429/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,857f7874b275d79c20f573bd73d623118c7738cb,retire-puppet-monasca,, - name: openstack/puppet-monasca override-checkout: stable/queens,0,2
openstack%2Fpuppet-openstack-integration~stable%2Frocky~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/rocky,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:58:25.000000000,2021-08-21 09:43:22.000000000,2021-08-21 09:43:22.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bd07c96ef6f8ffb1cd3e2ae7b2afdcb732a7ac2b', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nBackport note to Rocky and before:\nThe centralized .zuul.yaml is used instead of zuul.d/*.yaml in these\nbranches.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit af9643464780c4917fae2192d83c92d0a861be2a)\n(cherry picked from commit 40658877d93b96abd5fa7b2aa3aa07704e76732c)\n(cherry picked from commit e943173bc7d2a822dfd5cb5545d996121b3c2557)\n(cherry picked from commit fb21dadf9c49226cbd19a86b467146c024bf68f6)\n(cherry picked from commit c6b2466bbd9c6d6669573a107326605915abe0ae)\n'}, {'number': 2, 'created': '2021-08-20 17:05:42.000000000', 'files': ['Puppetfile', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d3b37b5697d955843d4b4780d9b6a379cdaaac85', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n        Puppetfile\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n- (Rocky and older) Resolved conflict caused by centralized .zuul.yaml\n  used in older branches.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)\n(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)\n(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)\n(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)\n(cherry picked from commit 52d4f205c22d559f6adcf83e88eb9e73cfc774d5)\n'}]",0,805426,d3b37b5697d955843d4b4780d9b6a379cdaaac85,9,2,2,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.
- (Rocky and older) Resolved conflict caused by centralized .zuul.yaml
  used in older branches.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)
(cherry picked from commit 52d4f205c22d559f6adcf83e88eb9e73cfc774d5)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/26/805426/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bd07c96ef6f8ffb1cd3e2ae7b2afdcb732a7ac2b,retire-puppet-monasca,, - name: openstack/puppet-monasca override-checkout: stable/rocky,0,2
openstack%2Fpuppet-openstack-integration~stable%2Fstein~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/stein,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:55:47.000000000,2021-08-21 09:43:21.000000000,2021-08-21 09:43:21.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c6b2466bbd9c6d6669573a107326605915abe0ae', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit af9643464780c4917fae2192d83c92d0a861be2a)\n(cherry picked from commit 40658877d93b96abd5fa7b2aa3aa07704e76732c)\n(cherry picked from commit e943173bc7d2a822dfd5cb5545d996121b3c2557)\n(cherry picked from commit fb21dadf9c49226cbd19a86b467146c024bf68f6)\n'}, {'number': 2, 'created': '2021-08-20 17:03:00.000000000', 'files': ['Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/52d4f205c22d559f6adcf83e88eb9e73cfc774d5', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n        Puppetfile\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)\n(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)\n(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)\n(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)\n'}]",0,805424,52d4f205c22d559f6adcf83e88eb9e73cfc774d5,9,2,2,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/24/805424/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c6b2466bbd9c6d6669573a107326605915abe0ae,retire-puppet-monasca,, - name: openstack/puppet-monasca override-checkout: stable/stein,0,2
openstack%2Fcinder~master~Iebb002cba51fc0f5e42565151a1687da20bd5a24,openstack/cinder,master,Iebb002cba51fc0f5e42565151a1687da20bd5a24,mypy: image cache,MERGED,2021-04-27 21:46:11.000000000,2021-08-21 08:31:42.000000000,2021-08-18 22:29:41.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 21:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2c6fa08497e99e3b96aa4f2c72b3c3be807cc41', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 2, 'created': '2021-04-30 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7593ca44679626407fbbfb278880913c03c5fbd', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 3, 'created': '2021-05-10 18:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ae9f172ef5f56bd5924579b94beff665b2d7113', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 4, 'created': '2021-06-23 15:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc069a11f98c29b68c101c02ff3f99c5eed54ecf', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 5, 'created': '2021-06-30 20:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fba2b954cfcfdd99249df3b62ecd8f7b01e54312', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 6, 'created': '2021-07-09 13:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53ca929dfea133eea58542e989c67c5c9c1d71ea', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 7, 'created': '2021-07-12 14:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16bdba196c8f43215d01b8e5783a80c602d73dd9', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 8, 'created': '2021-07-15 17:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/057f06e857e420fb480ec91da3af51cea7f77177', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 9, 'created': '2021-08-09 13:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1aaaaff35ab3f7faeedcc3180f0f167c8fb53e5a', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 10, 'created': '2021-08-09 15:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/111a6251958dd7be8a13ad3a8a9e2a1b711aa09d', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 11, 'created': '2021-08-10 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60b07d7e5397d29918abe12e948a8b0de3368dcc', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}, {'number': 12, 'created': '2021-08-10 14:27:34.000000000', 'files': ['cinder/volume/manager.py', 'mypy-files.txt', 'cinder/image/cache.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c46c09ad5d4ae6b87400b678a2bd7afc4af6631', 'message': 'mypy: image cache\n\nChange-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24\n'}]",8,788363,8c46c09ad5d4ae6b87400b678a2bd7afc4af6631,319,7,12,4523,,,0,"mypy: image cache

Change-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/788363/12 && git format-patch -1 --stdout FETCH_HEAD,"['mypy-files.txt', 'cinder/image/cache.py', 'cinder/image/glance.py']",3,f2c6fa08497e99e3b96aa4f2c72b3c3be807cc41,mypy,"import typing from typing import Any, Dict, Tuple # noqa: H301@typing.no_type_check@typing.no_type_check def show(self, context: context.RequestContext, image_id: str) -> Dict[str, Any]: @typing.no_type_check def _translate_from_glance(self, context, image) -> dict: output: Dict[str, Any] = {} image_href) -> Tuple[GlanceImageService, str]:","import typing as ty def show(self, context, image_id): def _translate_from_glance(self, context, image): output = {} image_href) -> ty.Tuple[GlanceImageService, str]:",67,21
openstack%2Fnova-specs~master~Id631978adec7bc6bf9d196652fbe1e6dfbfac37d,openstack/nova-specs,master,Id631978adec7bc6bf9d196652fbe1e6dfbfac37d,Update attachment_id spec to include implementation changes,MERGED,2021-08-20 12:43:33.000000000,2021-08-21 07:31:57.000000000,2021-08-21 07:29:56.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 12:43:33.000000000', 'files': ['specs/xena/approved/add-attachmentId-to-responses-of-the-os-volume_attachments-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e0f91d141c3b8f84261eddec4f3d8462c3aec047', 'message': 'Update attachment_id spec to include implementation changes\n\nThese include the removal of the id field that duplicates the volumeId\nfield and inclusion of the BlockDeviceMapping UUID under a few bdm_uuid\nfield.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: Id631978adec7bc6bf9d196652fbe1e6dfbfac37d\n'}]",0,805374,e0f91d141c3b8f84261eddec4f3d8462c3aec047,8,3,1,10135,,,0,"Update attachment_id spec to include implementation changes

These include the removal of the id field that duplicates the volumeId
field and inclusion of the BlockDeviceMapping UUID under a few bdm_uuid
field.

Blueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api
Change-Id: Id631978adec7bc6bf9d196652fbe1e6dfbfac37d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/74/805374/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/add-attachmentId-to-responses-of-the-os-volume_attachments-api.rst'],1,e0f91d141c3b8f84261eddec4f3d8462c3aec047,bp/add-attachmentid-to-responses-of-the-os-volume-attachments-api,".. note:: While implementing this spec it was agreed that the ``id`` field that duplicates the ``volumeId`` field would be removed under this microversion with the ``uuid`` of the underlying ``BlockDeviceMapping`` object also added under a new ``bdm_uuid`` field. ""attachmentId"": ""1ce1a7ee-c88c-41ce-a4d3-ce78b1ab20bf"", ""bdm_uuid"": ""2420cbab-4aef-409f-97c0-b60c0e1d6902"" ""attachmentId"": ""810511b1-ab87-4f42-9033-199543376ddb"", ""bdm_uuid"": ""e50caeba-b3f0-4a59-9973-7125d232d511"" ""attachmentId"": ""1ce1a7ee-c88c-41ce-a4d3-ce78b1ab20bf"", ""bdm_uuid"": ""2420cbab-4aef-409f-97c0-b60c0e1d6902"""," ""id"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""attachmentId"": ""1ce1a7ee-c88c-41ce-a4d3-ce78b1ab20bf"" ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""attachmentId"": ""810511b1-ab87-4f42-9033-199543376ddb"" ""id"": ""a07f71dc-8151-4e7d-a0cc-cd24a3f11113"", ""attachmentId"": ""1ce1a7ee-c88c-41ce-a4d3-ce78b1ab20bf""",13,6
openstack%2Fglance~master~Iba990e59c454a2e9f37a0c659d8634583d3a8bf7,openstack/glance,master,Iba990e59c454a2e9f37a0c659d8634583d3a8bf7,Check policies for staging operation in API,MERGED,2021-08-14 10:40:55.000000000,2021-08-21 05:45:20.000000000,2021-08-21 00:31:05.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 10:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3c87cad71aaf20f105a32afb37637d942cbb4332', 'message': 'PoC Check policies for staging operation in API\n\nToDo: Add functional and unit test coverage\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7\n'}, {'number': 2, 'created': '2021-08-14 20:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6231c8707b3d1349f45d30d2c138a6176ac148bf', 'message': 'Check policies for staging operation in API\n\nThis patch enforces policy checks required for staging image data\nin API layer. Image mutability check is maintained if secure RBAC\nis not enabled in deployments.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7\n'}, {'number': 3, 'created': '2021-08-15 09:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/64bf872e52fcec6b018b5cce87779e546a73ec96', 'message': 'Check policies for staging operation in API\n\nThis patch enforces policy checks required for staging image data\nin API layer. Image mutability check is maintained if secure RBAC\nis not enabled in deployments.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7\n'}, {'number': 4, 'created': '2021-08-16 19:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7c6cc5f9a869cea8a88823d39f37c1dde4f3ff1b', 'message': 'Check policies for staging operation in API\n\nThis patch enforces policy checks required for staging image data\nin API layer. Image mutability check is maintained if secure RBAC\nis not enabled in deployments.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7\n'}, {'number': 5, 'created': '2021-08-17 17:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d85546d4773dcf68d278de12a5fdfe70ad91f377', 'message': 'Check policies for staging operation in API\n\nThis patch enforces policy checks required for staging image data\nin API layer. Image mutability check is maintained if secure RBAC\nis not enabled in deployments.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7\n'}, {'number': 6, 'created': '2021-08-18 09:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f164cb77b7bd7f879ad52f6a07e1026d0ccc040b', 'message': 'Check policies for staging operation in API\n\nThis patch enforces policy checks required for staging image data\nin API layer. Image mutability check is maintained if secure RBAC\nis not enabled in deployments.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7\n'}, {'number': 7, 'created': '2021-08-19 15:59:54.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/fa6f871e2031505ccb420dc436f293815b87088c', 'message': 'Check policies for staging operation in API\n\nThis patch enforces policy checks required for staging image data\nin API layer. Image mutability check is maintained if secure RBAC\nis not enabled in deployments.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7\n'}]",21,804558,fa6f871e2031505ccb420dc436f293815b87088c,53,4,7,9303,,,0,"Check policies for staging operation in API

This patch enforces policy checks required for staging image data
in API layer. Image mutability check is maintained if secure RBAC
is not enabled in deployments.

Partially-Implements: blueprint policy-refactor

Change-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7
",git fetch https://review.opendev.org/openstack/glance refs/changes/58/804558/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/api/v2/policy.py']",2,3c87cad71aaf20f105a32afb37637d942cbb4332,policy-refactor," def modify_image(self): self._enforce('modify_image') # TODO(danms): Remove this legacy fallback when secure RBAC # replaces the legacy policy. if not CONF.enforce_secure_rbac: check_is_image_mutable(self._context, self._image) ",,29,4
openstack%2Fpython-tripleoclient~stable%2Ftrain~I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,openstack/python-tripleoclient,stable/train,I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,Fix network environment validation,MERGED,2021-08-18 12:15:32.000000000,2021-08-21 04:45:22.000000000,2021-08-21 04:43:52.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 32240}]","[{'number': 1, 'created': '2021-08-18 12:15:32.000000000', 'files': ['tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/76c509ee6b105c984a7fe1084006cd1051750b33', 'message': ""Fix network environment validation\n\nNetwork environment validation fails when accessing value\nwith the key 'os_net_config' from the nic-config files.\nFix the dictionary keys needed to fetch the network\nconfig from nic_data.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f\n(cherry picked from commit 930abb12b355fa6fcf2dded780e2031be24c2964)\n""}]",0,804997,76c509ee6b105c984a7fe1084006cd1051750b33,8,3,1,24245,,,0,"Fix network environment validation

Network environment validation fails when accessing value
with the key 'os_net_config' from the nic-config files.
Fix the dictionary keys needed to fetch the network
config from nic_data.

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f
(cherry picked from commit 930abb12b355fa6fcf2dded780e2031be24c2964)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/804997/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/v1/overcloud_netenv_validate.py']",2,76c509ee6b105c984a7fe1084006cd1051750b33,bug/1923612-stable/train, 'str_replace']['params']['$network_config']['network_config'], 'os_net_config']['network_config'],7,3
openstack%2Fpython-tripleoclient~stable%2Ftrain~I3a154dbedd115d121bfc826513141c2d8be98508,openstack/python-tripleoclient,stable/train,I3a154dbedd115d121bfc826513141c2d8be98508,Fetch stack after updating it,MERGED,2021-08-19 10:48:53.000000000,2021-08-21 04:02:16.000000000,2021-08-21 04:00:33.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 10:48:53.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ef82b87bc8b3bb1dd5e935da9a1d4bbdaede6e01', 'message': ""Fetch stack after updating it\n\nWe update the stack assuming that there would be no change\nduring upgrades. This does not allow blacklisting nodes\nduring upgrades.\n\nThis probably won't be relevant for master/wallaby with\nephemeral heat. Only proposed for backport to older branches.\n\nChange-Id: I3a154dbedd115d121bfc826513141c2d8be98508\n(cherry picked from commit 7dd1f6e26fa1e6ed587896a7ad2131397eb45024)\n""}]",0,805185,ef82b87bc8b3bb1dd5e935da9a1d4bbdaede6e01,7,2,1,8833,,,0,"Fetch stack after updating it

We update the stack assuming that there would be no change
during upgrades. This does not allow blacklisting nodes
during upgrades.

This probably won't be relevant for master/wallaby with
ephemeral heat. Only proposed for backport to older branches.

Change-Id: I3a154dbedd115d121bfc826513141c2d8be98508
(cherry picked from commit 7dd1f6e26fa1e6ed587896a7ad2131397eb45024)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/805185/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,ef82b87bc8b3bb1dd5e935da9a1d4bbdaede6e01,," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name"," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name stack = oooutils.get_stack(clients.orchestration, parsed_args.stack)",3,7
openstack%2Ftripleo-heat-templates~master~Ib34130c15324f197eca275f97c18f24f17d8ced2,openstack/tripleo-heat-templates,master,Ib34130c15324f197eca275f97c18f24f17d8ced2,Example configurable cap add,MERGED,2021-07-20 16:12:04.000000000,2021-08-21 04:00:35.000000000,2021-08-21 04:00:35.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-20 16:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c71b7436e359b430b2ef3034c7095be1df1c6125', 'message': 'Example configurable cap add\n\nChange-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2\n'}, {'number': 2, 'created': '2021-07-28 07:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3f9f8d819e3adf38aa11e6d27d939fbbf943d38', 'message': 'Example configurable cap add\n\nChange-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2\n'}, {'number': 3, 'created': '2021-07-28 14:03:46.000000000', 'files': ['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3', 'message': 'Example configurable cap add\n\nChange-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2\n'}]",1,801511,a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3,21,5,3,14985,,,0,"Example configurable cap add

Change-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/801511/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",2,c71b7436e359b430b2ef3034c7095be1df1c6125,collectd-options, CollectdContainerAdditionalCapAdd: type: common_delimited_list description: Additional container capabilities to add to the collectd container. By default is appended to IPC_LOCK. default: [] list_concat: - {get_param: CollectdContainerAdditionalCapAdd} - IPC_LOCK, - IPC_LOCK,17,3
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/train,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:52:44.000000000,2021-08-21 03:56:09.000000000,2021-08-21 03:56:09.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fb21dadf9c49226cbd19a86b467146c024bf68f6', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit af9643464780c4917fae2192d83c92d0a861be2a)\n(cherry picked from commit 40658877d93b96abd5fa7b2aa3aa07704e76732c)\n(cherry picked from commit e943173bc7d2a822dfd5cb5545d996121b3c2557)\n'}, {'number': 2, 'created': '2021-08-20 17:02:10.000000000', 'files': ['Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n        Puppetfile\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)\n(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)\n(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)\n'}]",0,805422,cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958,9,2,2,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/22/805422/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,fb21dadf9c49226cbd19a86b467146c024bf68f6,retire-puppet-monasca,, - name: openstack/puppet-monasca override-checkout: stable/train,0,2
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/ussuri,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:51:37.000000000,2021-08-21 03:56:08.000000000,2021-08-21 03:56:08.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e943173bc7d2a822dfd5cb5545d996121b3c2557', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit af9643464780c4917fae2192d83c92d0a861be2a)\n(cherry picked from commit 40658877d93b96abd5fa7b2aa3aa07704e76732c)\n'}, {'number': 2, 'created': '2021-08-20 17:01:14.000000000', 'files': ['Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ea47a0b834b25765d7c3c4a1a0bd86834166294', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n        Puppetfile\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)\n(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)\n'}]",0,805419,9ea47a0b834b25765d7c3c4a1a0bd86834166294,9,2,2,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/19/805419/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,e943173bc7d2a822dfd5cb5545d996121b3c2557,retire-puppet-monasca,, - name: openstack/puppet-monasca override-checkout: stable/ussuri,0,2
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/victoria,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:49:11.000000000,2021-08-21 03:56:07.000000000,2021-08-21 03:56:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/68cfd2834e70a71636f111ec6b2ffb654d9d36ef', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit af9643464780c4917fae2192d83c92d0a861be2a)\n'}, {'number': 2, 'created': '2021-08-20 15:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/40658877d93b96abd5fa7b2aa3aa07704e76732c', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit af9643464780c4917fae2192d83c92d0a861be2a)\n'}, {'number': 3, 'created': '2021-08-20 17:00:17.000000000', 'files': ['Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n        Puppetfile\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)\n'}]",0,805417,370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d,9,2,3,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/17/805417/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,68cfd2834e70a71636f111ec6b2ffb654d9d36ef,retire-puppet-monasca,, - name: openstack/puppet-monasca override-checkout: stable/victoria,0,2
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/wallaby,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:40:54.000000000,2021-08-21 03:56:05.000000000,2021-08-21 03:56:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f3bfe6d6afac275c55fddfd9d3d05f3a5a684886', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by override-checkout used only in stable\nbranches.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n'}, {'number': 2, 'created': '2021-08-20 15:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ed7285ea904d0329169d7bc2dfd0b80e70c8423', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nBackport notes:\n- Resolved conflict caused by override-checkout used only in stable\n  branches.\n- This backport includes covers what was updated by the follow up\n  commit[1] to remove leftover.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n'}, {'number': 3, 'created': '2021-08-20 15:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/af9643464780c4917fae2192d83c92d0a861be2a', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n'}, {'number': 4, 'created': '2021-08-20 16:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/14a3a897b064a6a57b0ba35c6466a666df508f90', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n'}, {'number': 5, 'created': '2021-08-20 16:58:21.000000000', 'files': ['Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7c2355740b72d023be44bd9ac31f952b1267666d', 'message': 'Remove dependency on puppet-monasca\n\n... because puppet-monasca is being retired.\n\nConflicts:\n        Puppetfile\n\tzuul.d/base.yaml\n\nBackport note:\n- Resolved conflict caused by branch overrides.\n- This backport includes the follow-up commit[1] to remove leftover.\n\n[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c\n\nChange-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5\n(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)\n'}]",0,805412,7c2355740b72d023be44bd9ac31f952b1267666d,13,2,5,9816,,,0,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/12/805412/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,f3bfe6d6afac275c55fddfd9d3d05f3a5a684886,retire-puppet-monasca,, - name: openstack/puppet-monasca override-checkout: stable/wallaby,0,2
openstack%2Fpython-tripleoclient~master~I68ada9c2e28a1c81bc89cb46e26acdb7df45e81e,openstack/python-tripleoclient,master,I68ada9c2e28a1c81bc89cb46e26acdb7df45e81e,Remove reference to --network-ports,MERGED,2021-08-19 05:05:45.000000000,2021-08-21 03:30:05.000000000,2021-08-21 03:28:48.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-19 05:05:45.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3e63bc302bcf38d1ca9970e781cdd7fcde17139', 'message': 'Remove reference to --network-ports\n\nWe dropped the option in Ia0df205ea568f089c7cb7e5464bde76d294f4c36.\n\nChange-Id: I68ada9c2e28a1c81bc89cb46e26acdb7df45e81e\n'}]",0,805111,d3e63bc302bcf38d1ca9970e781cdd7fcde17139,9,4,1,8833,,,0,"Remove reference to --network-ports

We dropped the option in Ia0df205ea568f089c7cb7e5464bde76d294f4c36.

Change-Id: I68ada9c2e28a1c81bc89cb46e26acdb7df45e81e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/11/805111/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,d3e63bc302bcf38d1ca9970e781cdd7fcde17139,," 'nodes.'),"," 'nodes. (Implies ""--network-ports"")'),",1,1
openstack%2Fnova~stable%2Fussuri~I2bd360dcc6501feea7baf02d4510b282205fc061,openstack/nova,stable/ussuri,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,MERGED,2021-04-06 22:20:24.000000000,2021-08-21 02:52:50.000000000,2021-08-21 02:51:12.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 22:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c621875c4f3f82fa79c93f13fa2302b3f5223548', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n(cherry picked from commit ac0b2900a3a75fee405d0d5ff6575a15910af5fe)\n'}, {'number': 2, 'created': '2021-07-08 19:44:54.000000000', 'files': ['nova/api/openstack/wsgi_app.py', 'nova/test.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59249697bf09ca1a560defdd550be7e3c439b5b7', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nNOTE(melwitt): This is a combination of two changes to avoid\nintermittent test failure that was introduced by the original bug fix,\nand was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n  nova/test.py\n\nNOTE(melwitt): The conflict is because change\nI1fea14d5be10bb4e884f52e0ae8be722519ddd3f (Poison\nnetifaces.interfaces() in tests) is not in Ussuri.\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nReset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)\n'}]",0,785061,59249697bf09ca1a560defdd550be7e3c439b5b7,27,5,2,4690,,,0,"Initialize global data separately and run_once in WSGI app init

NOTE(melwitt): This is a combination of two changes to avoid
intermittent test failure that was introduced by the original bug fix,
and was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
  nova/test.py

NOTE(melwitt): The conflict is because change
I1fea14d5be10bb4e884f52e0ae8be722519ddd3f (Poison
netifaces.interfaces() in tests) is not in Ussuri.

Closes-Bug: #1882094

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)
(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/785061/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py']",4,c621875c4f3f82fa79c93f13fa2302b3f5223548,bug/1882094," def run_once(message, logger, cleanup=None): """"""This is a utility function decorator to ensure a function is run once and only once in an interpreter instance. Note: this is copied from the placement repo (placement/util.py) The decorated function object can be reset by calling its reset function. All exceptions raised by the wrapped function, logger and cleanup function will be propagated to the caller. """""" def outer_wrapper(func): @functools.wraps(func) def wrapper(*args, **kwargs): if not wrapper.called: # Note(sean-k-mooney): the called state is always # updated even if the wrapped function completes # by raising an exception. If the caller catches # the exception it is their responsibility to call # reset if they want to re-execute the wrapped function. try: return func(*args, **kwargs) finally: wrapper.called = True else: logger(message) wrapper.called = False def reset(wrapper, *args, **kwargs): # Note(sean-k-mooney): we conditionally call the # cleanup function if one is provided only when the # wrapped function has been called previously. We catch # and reraise any exception that may be raised and update # the called state in a finally block to ensure its # always updated if reset is called. try: if cleanup and wrapper.called: return cleanup(*args, **kwargs) finally: wrapper.called = False wrapper.reset = functools.partial(reset, wrapper) return wrapper return outer_wrapper",,251,2
openstack%2Fopenstack-ansible~stable%2Fwallaby~Ifdbac876013068855cd4405ca1bbacd262ec4d74,openstack/openstack-ansible,stable/wallaby,Ifdbac876013068855cd4405ca1bbacd262ec4d74,Fix permissions for files created on repo server,MERGED,2021-08-16 10:30:12.000000000,2021-08-21 01:57:37.000000000,2021-08-21 01:56:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-16 10:30:12.000000000', 'files': ['inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7d82fc5749a534df55f017cac41ea10190dfa43f', 'message': ""Fix permissions for files created on repo server\n\nIf wheels or requirements files are created on a secondary\nrepo server these cannot be modified/deleted by the primary\nrepo server when it comes back online as this uses rsync as the\n'nginx' user. This patch allows the owner of the created files\nto be set explicitly to avoid this issue.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/804073\nChange-Id: Ifdbac876013068855cd4405ca1bbacd262ec4d74\n(cherry picked from commit a332bda378e19e742d80519f6a1cfa6e748010b9)\n""}]",0,804711,7d82fc5749a534df55f017cac41ea10190dfa43f,9,3,1,31542,,,0,"Fix permissions for files created on repo server

If wheels or requirements files are created on a secondary
repo server these cannot be modified/deleted by the primary
repo server when it comes back online as this uses rsync as the
'nginx' user. This patch allows the owner of the created files
to be set explicitly to avoid this issue.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/804073
Change-Id: Ifdbac876013068855cd4405ca1bbacd262ec4d74
(cherry picked from commit a332bda378e19e742d80519f6a1cfa6e748010b9)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/804711/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/all.yml'],1,7d82fc5749a534df55f017cac41ea10190dfa43f,," # Set permissions for repo server and files built on it repo_service_user_name: nginx repo_service_group_name: www-data venv_build_host_user_name: ""{{ repo_service_user_name }}"" venv_build_host_group_name: ""{{ repo_service_group_name }}""",,6,0
openstack%2Fironic~stable%2Ftrain~Icd5df674970de8302c47393a4317b12e4bb3139d,openstack/ironic,stable/train,Icd5df674970de8302c47393a4317b12e4bb3139d,"Fix ""is not"" used to compare strings",ABANDONED,2021-08-20 16:13:49.000000000,2021-08-21 01:47:37.000000000,,[],"[{'number': 1, 'created': '2021-08-20 16:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6316ea85c14ddf94effbbecd6ded8ac80cb6304', 'message': 'Fix ""is not"" used to compare strings\n\nCurrently the following SyntxWarning is observed in unit tests, and it\nseems ""is not"" is used to compare strings.\n\n SyntaxWarning: ""is not"" with a literal. Did you mean ""!=""?\n\nThis change fixes that incorrect usage by != , which is the correct\nway to compare strings.\n\nChange-Id: Icd5df674970de8302c47393a4317b12e4bb3139d\n'}, {'number': 2, 'created': '2021-08-20 16:15:59.000000000', 'files': ['ironic/drivers/modules/snmp.py', 'ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bc8bed7544d1277cdc614a01318a0dd3b700983', 'message': 'Fix ""is not"" used to compare strings\n\nCurrently the following SyntxWarning is observed in unit tests, and it\nseems ""is not"" is used to compare strings.\n\n SyntaxWarning: ""is not"" with a literal. Did you mean ""!=""?\n\nThis change fixes that incorrect usage by != , which is the correct\nway to compare strings.\n\nChange-Id: Icd5df674970de8302c47393a4317b12e4bb3139d\n'}]",0,805434,4bc8bed7544d1277cdc614a01318a0dd3b700983,5,0,2,9816,,,0,"Fix ""is not"" used to compare strings

Currently the following SyntxWarning is observed in unit tests, and it
seems ""is not"" is used to compare strings.

 SyntaxWarning: ""is not"" with a literal. Did you mean ""!=""?

This change fixes that incorrect usage by != , which is the correct
way to compare strings.

Change-Id: Icd5df674970de8302c47393a4317b12e4bb3139d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/805434/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/snmp.py'],1,b6316ea85c14ddf94effbbecd6ded8ac80cb6304,syntax-warning, if key != 'outlet') if key != 'outlet'), if key is not 'outlet') if key is not 'outlet'),2,2
openstack%2Frequirements~master~If963c4a937bc20f07c9b34ace6f9028bb086f4db,openstack/requirements,master,If963c4a937bc20f07c9b34ace6f9028bb086f4db,update constraint for heat-translator to new release 2.4.1,MERGED,2021-08-20 14:12:57.000000000,2021-08-21 01:29:37.000000000,2021-08-21 01:28:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-20 14:12:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b04da0dd1d673067c5788d8ab5dcfaafa5f97d74', 'message': 'update constraint for heat-translator to new release 2.4.1\n\nmeta: version: 2.4.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: If963c4a937bc20f07c9b34ace6f9028bb086f4db\n'}]",0,805390,b04da0dd1d673067c5788d8ab5dcfaafa5f97d74,12,3,1,11131,,,0,"update constraint for heat-translator to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: If963c4a937bc20f07c9b34ace6f9028bb086f4db
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/805390/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b04da0dd1d673067c5788d8ab5dcfaafa5f97d74,new-release,heat-translator===2.4.1,heat-translator===2.4.0,1,1
openstack%2Ftripleo-ansible~master~Ifff10a19da35a4dd747efb581c54142481138631,openstack/tripleo-ansible,master,Ifff10a19da35a4dd747efb581c54142481138631,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:18:13.000000000,2021-08-21 00:31:51.000000000,2021-08-21 00:31:51.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 01:18:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5369922a4be2c309105b62cf0d660d026a07d29', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ifff10a19da35a4dd747efb581c54142481138631\n""}]",0,790874,f5369922a4be2c309105b62cf0d660d026a07d29,8,3,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ifff10a19da35a4dd747efb581c54142481138631
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/790874/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f5369922a4be2c309105b62cf0d660d026a07d29,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/tripleo-ansible,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/tripleo-ansible,3,3
openstack%2Ftripleo-heat-templates~master~I554d8677156934c4d49acb1346afea16339ad5c2,openstack/tripleo-heat-templates,master,I554d8677156934c4d49acb1346afea16339ad5c2,Drop CollectdAmqpInstances from collectd-write-qdr.yaml,MERGED,2021-07-08 21:03:47.000000000,2021-08-21 00:17:25.000000000,2021-08-21 00:16:12.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}, {'_account_id': 31510}]","[{'number': 1, 'created': '2021-07-08 21:03:47.000000000', 'files': ['releasenotes/notes/collectd-write-qdr-f790703e3f0c3245.yaml', 'environments/metrics/collectd-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/591f2aa2d8b68234c63fbdd4f59a9232a67b7b2f', 'message': 'Drop CollectdAmqpInstances from collectd-write-qdr.yaml\n\nDrop the CollectdAmqpInstances parameter from collectd-write-qdr.yaml in\norder to allow an administrator to override the default specified\ntopics. If the administrator of the cloud used collectd-write-qdr.yaml\nand then needed to override the topics, a merge of the defaults and\ncustom topics would be added to the 10-amqp.conf for collectd, resulting\nin data being published to unused topics.\n\nChange-Id: I554d8677156934c4d49acb1346afea16339ad5c2\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,800113,591f2aa2d8b68234c63fbdd4f59a9232a67b7b2f,13,8,1,7294,,,0,"Drop CollectdAmqpInstances from collectd-write-qdr.yaml

Drop the CollectdAmqpInstances parameter from collectd-write-qdr.yaml in
order to allow an administrator to override the default specified
topics. If the administrator of the cloud used collectd-write-qdr.yaml
and then needed to override the topics, a merge of the defaults and
custom topics would be added to the 10-amqp.conf for collectd, resulting
in data being published to unused topics.

Change-Id: I554d8677156934c4d49acb1346afea16339ad5c2
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/800113/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/collectd-write-qdr-f790703e3f0c3245.yaml', 'environments/metrics/collectd-write-qdr.yaml']",2,591f2aa2d8b68234c63fbdd4f59a9232a67b7b2f,,, CollectdAmqpInstances: notify: notify: true format: JSON presettle: false telemetry: format: JSON presettle: false,16,8
openstack%2Fpuppet-tripleo~master~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,master,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-07 17:47:27.000000000,2021-08-21 00:03:43.000000000,2021-08-21 00:03:43.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 17:47:27.000000000', 'files': ['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8a2dd483942675622c90d04fb36fe607564e1d30', 'message': 'Revert ""Deprecate warnings for Ceilometer and Gnocchi""\n\nThis reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.\n\nReason for revert:\nCeilometer and Gnocchi are not deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n\tmanifests/profile/base/gnocchi.pp\n\nChange-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9\n'}]",0,803852,8a2dd483942675622c90d04fb36fe607564e1d30,10,5,1,9816,,,0,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/52/803852/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ceilometer.pp']",2,8a2dd483942675622c90d04fb36fe607564e1d30,,, warning('Ceilometer is deprecated and is going to be removed in future.') ,0,3
openstack%2Fneutron~stable%2Fussuri~I1f5af36b8c3d5650f890edfed3c33dc206869824,openstack/neutron,stable/ussuri,I1f5af36b8c3d5650f890edfed3c33dc206869824,[ovn]: Create neutron_pg_drop Port Group on init,MERGED,2021-07-27 13:42:33.000000000,2021-08-20 23:30:55.000000000,2021-08-20 23:29:14.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 13:42:33.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6106ac2bd4ab38a0e3a5e80e44da6f02d5322ce', 'message': ""[ovn]: Create neutron_pg_drop Port Group on init\n\nThe patch adds a short living connection in pre-fork routine that\ncreates neutron_pg_drop Port Group. Later after workers are spawned,\neach worker also creates a short living connection and waits for an\nevent that the Port Group was created.\n\nThe short living IDLs limit its tables only for relevant tables so it\ndoesn't fetch the whole OVS DB to the local copy.\n\nCloses-bug: #1866068\n\n Conflicts:\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I1f5af36b8c3d5650f890edfed3c33dc206869824\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit d7c23431ad3959eb5fd74e42ea95d446e4e7566d)\n""}]",0,802528,a6106ac2bd4ab38a0e3a5e80e44da6f02d5322ce,19,4,1,5756,,,0,"[ovn]: Create neutron_pg_drop Port Group on init

The patch adds a short living connection in pre-fork routine that
creates neutron_pg_drop Port Group. Later after workers are spawned,
each worker also creates a short living connection and waits for an
event that the Port Group was created.

The short living IDLs limit its tables only for relevant tables so it
doesn't fetch the whole OVS DB to the local copy.

Closes-bug: #1866068

 Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: I1f5af36b8c3d5650f890edfed3c33dc206869824
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d7c23431ad3959eb5fd74e42ea95d446e4e7566d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/802528/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",7,a6106ac2bd4ab38a0e3a5e80e44da6f02d5322ce,,"from neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb import ovsdb_monitor self._create_neutron_pg_drop() def _create_neutron_pg_drop(self): """"""Create neutron_pg_drop Port Group. The method creates a short living connection to the Northbound database. Because of multiple controllers can attempt to create the Port Group at the same time the transaction can fail and raise RuntimeError. In such case, we make sure the Port Group was created, otherwise the error is something else and it's raised to the caller. """""" idl = ovsdb_monitor.OvnInitPGNbIdl.from_server( ovn_conf.get_ovn_nb_connection(), 'OVN_Northbound', self) with ovsdb_monitor.short_living_ovsdb_api( impl_idl_ovn.OvsdbNbOvnIdl, idl) as pre_ovn_nb_api: try: create_default_drop_port_group(pre_ovn_nb_api) except RuntimeError as re: if pre_ovn_nb_api.get_port_group( ovn_const.OVN_DROP_PORT_GROUP_NAME): LOG.debug( ""Port Group %(port_group)s already exists, "" ""ignoring RuntimeError %(error)s"", { 'port_group': ovn_const.OVN_DROP_PORT_GROUP_NAME, 'error': re}) else: raise self._wait_for_pg_drop_event() def _wait_for_pg_drop_event(self): """"""Wait for event that occurs when neutron_pg_drop Port Group exists. The method creates a short living connection to the Northbound database. It waits for CREATE event caused by the Port Group. Such event occurs when: 1) The Port Group doesn't exist and is created by other process. 2) The Port Group already exists and event is emitted when DB copy is available to the IDL. """""" idl = ovsdb_monitor.OvnInitPGNbIdl.from_server( ovn_conf.get_ovn_nb_connection(), 'OVN_Northbound', self, pg_only=True) with ovsdb_monitor.short_living_ovsdb_api( impl_idl_ovn.OvsdbNbOvnIdl, idl) as ovn_nb_api: ovn_nb_api.idl.neutron_pg_drop_event.wait() def create_default_drop_port_group(nb_idl): pg_name = ovn_const.OVN_DROP_PORT_GROUP_NAME if nb_idl.get_port_group(pg_name): LOG.debug(""Port Group %s already exists"", pg_name) return with nb_idl.transaction(check_error=True) as txn: # If drop Port Group doesn't exist yet, create it. txn.add(nb_idl.pg_add(pg_name, acls=[], may_exist=True)) # Add ACLs to this Port Group so that all traffic is dropped. acls = ovn_acl.add_acls_for_drop_port_group(pg_name) for acl in acls: txn.add(nb_idl.pg_acl_add(may_exist=True, **acl)) ports_with_pg = set() for pg in nb_idl.get_port_groups().values(): ports_with_pg.update(pg['ports']) if ports_with_pg: # Add the ports to the default Port Group txn.add(nb_idl.pg_add_ports(pg_name, list(ports_with_pg)))",,259,17
openstack%2Fnova~master~I168d75da5c04270459ce80d913206910f79bacb6,openstack/nova,master,I168d75da5c04270459ce80d913206910f79bacb6,[ironic] correct capabilities for disk images supported,MERGED,2021-02-02 14:26:48.000000000,2021-08-20 23:20:53.000000000,2021-08-20 23:19:16.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 14:26:48.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c19946d0652ee635415c31003d8547165fe450f', 'message': '[ironic] correct capabilities for disk images supported\n\nGenerally ironic users use whole disk images or partition images,\nand ironic identifies the difference between the two by checking\nif a kernel and ramdisk are in use for the system.\n\nTurns out that an AMI is a partition image, where a kernel and\nramdisk is paired with the desired disk image. So in essence\nwe appear to have supported it all along. Just different names were\nused.\n\nIt *appears* that this should work just fine in most cases unless\nsomeone has somewhat weird settings on their ironic deployment,\nand realistically those should be considered bugs if they are\nencountered.\n\nChange-Id: I168d75da5c04270459ce80d913206910f79bacb6\n'}]",0,773691,2c19946d0652ee635415c31003d8547165fe450f,14,4,1,11655,,,0,"[ironic] correct capabilities for disk images supported

Generally ironic users use whole disk images or partition images,
and ironic identifies the difference between the two by checking
if a kernel and ramdisk are in use for the system.

Turns out that an AMI is a partition image, where a kernel and
ramdisk is paired with the desired disk image. So in essence
we appear to have supported it all along. Just different names were
used.

It *appears* that this should work just fine in most cases unless
someone has somewhat weird settings on their ironic deployment,
and realistically those should be considered bugs if they are
encountered.

Change-Id: I168d75da5c04270459ce80d913206910f79bacb6
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/773691/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,2c19946d0652ee635415c31003d8547165fe450f,," ""supports_image_type_ami"": True,"," ""supports_image_type_ami"": False,",1,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~Ia9189adae01d8515e392abdbede7fd7b3f89e02e,openstack/openstack-ansible-os_neutron,stable/wallaby,Ia9189adae01d8515e392abdbede7fd7b3f89e02e,Fix OVN metadata protocol to point https,MERGED,2021-08-16 10:27:59.000000000,2021-08-20 23:18:35.000000000,2021-08-20 23:16:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-08-16 10:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c8a33bda1ea1f80fd24a714a64188d72979b54d6', 'message': 'Fix OVN metadata protocol to point https\n\nIn OSA recently we moved all our LB endpoint vips to https or all SSL\nand that break ovn metadata which was default using http. This patch\nwill fix that and allow us to override variable.\n\nChange-Id: Ia9189adae01d8515e392abdbede7fd7b3f89e02e\n(cherry picked from commit e5e3ccfae6dbbb164802d3b50c806783c3bd7362)\n'}, {'number': 2, 'created': '2021-08-16 10:28:09.000000000', 'files': ['templates/neutron_ovn_metadata_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f6d9c54a921c1e5f18d5ce300e0cbeb73ddfcc49', 'message': 'Fix OVN metadata protocol to point https\n\nIn OSA recently we moved all our LB endpoint vips to https or all SSL\nand that break ovn metadata which was default using http. This patch\nwill fix that and allow us to override variable.\n\nChange-Id: Ia9189adae01d8515e392abdbede7fd7b3f89e02e\n(cherry picked from commit e5e3ccfae6dbbb164802d3b50c806783c3bd7362)\n'}]",0,804449,f6d9c54a921c1e5f18d5ce300e0cbeb73ddfcc49,10,4,2,28619,,,0,"Fix OVN metadata protocol to point https

In OSA recently we moved all our LB endpoint vips to https or all SSL
and that break ovn metadata which was default using http. This patch
will fix that and allow us to override variable.

Change-Id: Ia9189adae01d8515e392abdbede7fd7b3f89e02e
(cherry picked from commit e5e3ccfae6dbbb164802d3b50c806783c3bd7362)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/49/804449/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron_ovn_metadata_agent.ini.j2'],1,c8a33bda1ea1f80fd24a714a64188d72979b54d6,osa/neutron-ovn-stable/wallaby,"# Protocol to access nova metadata, http or https nova_metadata_protocol = {{ neutron_nova_metadata_protocol }} ",,3,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac,openstack/openstack-ansible-os_neutron,stable/wallaby,I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac,Set ovn hostname using nodename facts,MERGED,2021-08-16 10:27:33.000000000,2021-08-20 23:17:26.000000000,2021-08-20 23:16:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-08-16 10:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0f67a2040c5759efe531bd3fb73f72008305066c', 'message': 'Set ovn hostname using nodename facts\n\nAnsible hostname facts using short hostname which may not work for\nother senario where compute hostname is set to FQDN. OVN required\novs set hostname and compute hostname should be same.\n\nChange-Id: I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac\n(cherry picked from commit 1403c6308bd99e1bb413186600e4693451c79be5)\n'}, {'number': 2, 'created': '2021-08-16 10:27:42.000000000', 'files': ['tasks/providers/setup_ovs_ovn.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/df35816daa06ab5c5e832758f091afebad85301a', 'message': 'Set ovn hostname using nodename facts\n\nAnsible hostname facts using short hostname which may not work for\nother senario where compute hostname is set to FQDN. OVN required\novs set hostname and compute hostname should be same.\n\nChange-Id: I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac\n(cherry picked from commit 1403c6308bd99e1bb413186600e4693451c79be5)\n'}]",0,804448,df35816daa06ab5c5e832758f091afebad85301a,10,4,2,28619,,,0,"Set ovn hostname using nodename facts

Ansible hostname facts using short hostname which may not work for
other senario where compute hostname is set to FQDN. OVN required
ovs set hostname and compute hostname should be same.

Change-Id: I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac
(cherry picked from commit 1403c6308bd99e1bb413186600e4693451c79be5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/48/804448/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/providers/setup_ovs_ovn.yml'],1,0f67a2040c5759efe531bd3fb73f72008305066c,osa/neutron-ovn-stable/wallaby," command: ""ovs-vsctl set open_vswitch . external-ids:hostname='{{ ansible_facts['nodename'] }}'"""," command: ""ovs-vsctl set open_vswitch . external-ids:hostname='{{ ansible_facts['hostname'] }}'""",1,1
openstack%2Frequirements~master~I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3,openstack/requirements,master,I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3,Updated from generate-constraints,MERGED,2021-08-20 06:34:50.000000000,2021-08-20 23:13:32.000000000,2021-08-20 23:12:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 06:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c1b0321b9064527f15250b1b53367eda5850d0e6', 'message': 'Updated from generate-constraints\n\nChange-Id: I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3\n'}, {'number': 2, 'created': '2021-08-20 15:29:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/72a895f4c020dd97c74d97b8dcbe2247dfd7bc3e', 'message': 'Updated from generate-constraints\n\nChange-Id: I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,805339,72a895f4c020dd97c74d97b8dcbe2247dfd7bc3e,13,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/805339/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c1b0321b9064527f15250b1b53367eda5850d0e6,openstack/requirements/constraints/noclob,ntc-templates===2.2.2XStatic-Angular===1.8.2.1simplejson===3.17.4google-auth===2.0.1pkg_resources===0.0.0castellan===3.9.1boto3===1.18.25WebTest===3.0.0botocore===1.21.25glance-store===2.7.0httpx===0.19.0fasteners===0.16.3monasca-statsd===2.3.0,ntc-templates===2.2.0XStatic-Angular===1.5.8.0simplejson===3.17.3google-auth===2.0.0castellan===3.9.0boto3===1.18.24WebTest===2.0.35botocore===1.21.24glance-store===2.6.0httpx===0.18.2fasteners===0.14.1monasca-statsd===2.2.0setuptools===57.4.0,13,13
openstack%2Fnova~stable%2Fwallaby~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/wallaby,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,MERGED,2021-06-23 13:51:08.000000000,2021-08-20 23:10:10.000000000,2021-08-20 23:08:36.000000000,"[{'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 13:51:08.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'releasenotes/notes/bug-1910466-max-vcpu-topologies-with-numa-9a9ceb1b0fc7c33d.yaml', 'nova/virt/hardware.py', 'nova/objects/instance_numa.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9826ca6eb10fc36fb563a42f55715ff5ac51684', 'message': 'Fix max cpu topologies with numa affinity\n\nNova has never supported specifying per numa node\ncpu toplogies. Logically the  cpu toplogy of a guest\nis independent of its numa toplogy and there is no\nway to model different cpu toplogies per numa node\nor implement that in hardware.\n\nThe presence of the code in nova that allowed the generation\nof these invalid configuration has now been removed as it\nbroke the automatic selection of cpu topologies based\non hw:max_[cpus|sockets|threads] flavor and image properties.\n\nThis change removed the incorrect code and related unit\ntests with assert nova could generate invalid topologies.\n\nCloses-Bug: #1910466\nChange-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b\n(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)\n'}]",0,797653,c9826ca6eb10fc36fb563a42f55715ff5ac51684,13,4,1,15334,,,0,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/797653/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'releasenotes/notes/bug-1910466-max-vcpu-topologies-with-numa-9a9ceb1b0fc7c33d.yaml', 'nova/virt/hardware.py', 'nova/objects/instance_numa.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",6,c9826ca6eb10fc36fb563a42f55715ff5ac51684,bug/1910466," 'hw:cpu_policy': 'dedicated'} server = self._run_build_test(flavor_id) ctx = nova_context.get_admin_context() inst = objects.Instance.get_by_uuid(ctx, server['id']) self.assertEqual(2, len(inst.numa_topology.cells)) self.assertLessEqual(inst.vcpu_model.topology.sockets, 2) self.assertLessEqual(inst.vcpu_model.topology.cores, 2) self.assertLessEqual(inst.vcpu_model.topology.threads, 8) self.assertEqual(5, inst.vcpu_model.topology.sockets)"," 'hw:cpu_policy': 'dedicated', 'hw:mem_page_size': 'any' } self._run_build_test(flavor_id, end_status='ERROR') # FIXME(sean-k-mooney): The instance should boot but # it fails due to https://bugs.launchpad.net/nova/+bug/1910466 msg = ""IndexError: list index out of range"" self.assertIn(msg, self.stdlog.logger.output) # ctx = nova_context.get_admin_context() # inst = objects.Instance.get_by_uuid(ctx, server['id']) # self.assertEqual(2, len(inst.numa_topology.cells)) # self.assertLessEqual(inst.vcpu_model.topology.sockets, 2) # self.assertLessEqual(inst.vcpu_model.topology.cores, 2) # self.assertLessEqual(inst.vcpu_model.topology.threads, 8) self.assertEqual(5, inst.numa_topology.cells[0].cpu_topology.cores) self.assertEqual(4, inst.numa_topology.cells[0].cpu_topology.cores) self.assertEqual(1, inst.numa_topology.cells[0].cpu_topology.cores) self.assertEqual(2, inst.numa_topology.cells[0].cpu_topology.threads)",59,306
openstack%2Fdevstack~stable%2Fwallaby~I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9,openstack/devstack,stable/wallaby,I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9,Set swap size to 4G for c8 jobs,ABANDONED,2021-08-19 14:42:35.000000000,2021-08-20 23:05:59.000000000,,[],"[{'number': 1, 'created': '2021-08-19 14:42:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e82076bf60a0f96a81b61d18a0684f74674ec648', 'message': 'Set swap size to 4G for c8 jobs\n\nTempest is failing randomly with different reasons\nas mentioned in the bug, updating swap size those\nissues are not seen.\n\nBefore [1] default swap size used to be 8GB but was dropped\nto 1G so need to configure it in required job itself.\n\nDid couple of tests in [2] and with 4GB+ swap jobs are\nrunning green. On investigation found that with qemu-5\nboth Ubuntu and CentOS jobs have memory crunch, currently\nUbuntu jobs are not impacted as they are running with\nqemu-4.\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941\n[2] https://review.opendev.org/c/openstack/devstack/+/803144\n\nCloses-Bug: #1938914\nChange-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9\n'}]",0,805147,e82076bf60a0f96a81b61d18a0684f74674ec648,8,0,1,13861,,,0,"Set swap size to 4G for c8 jobs

Tempest is failing randomly with different reasons
as mentioned in the bug, updating swap size those
issues are not seen.

Before [1] default swap size used to be 8GB but was dropped
to 1G so need to configure it in required job itself.

Did couple of tests in [2] and with 4GB+ swap jobs are
running green. On investigation found that with qemu-5
both Ubuntu and CentOS jobs have memory crunch, currently
Ubuntu jobs are not impacted as they are running with
qemu-4.

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941
[2] https://review.opendev.org/c/openstack/devstack/+/803144

Closes-Bug: #1938914
Change-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/805147/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e82076bf60a0f96a81b61d18a0684f74674ec648,bug/1938914-stable/wallaby, vars: configure_swap_size: 4096,,2,0
openstack%2Fnova~master~I016773b6d6750db4f34ef6faac6d272c4177d883,openstack/nova,master,I016773b6d6750db4f34ef6faac6d272c4177d883,Change the admin-visible logs for mdev support,MERGED,2021-08-03 16:50:33.000000000,2021-08-20 23:00:43.000000000,2021-08-20 22:57:21.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 16:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e4d353622401a8573642d624a239c61f1bb7758', 'message': ""Change the admin-visible logs for mdev support\n\nNow that we want to support generic stateless mdev devices, we can't\nreally tell of pGPUs and vGPUs in our logs and we need to be less\ngeneric.\n\nChange-Id: I016773b6d6750db4f34ef6faac6d272c4177d883\nPartially-Implements: blueprint generic-mdevs\n""}, {'number': 2, 'created': '2021-08-05 09:31:47.000000000', 'files': ['nova/conf/devices.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9cf07d5aaacf8c61a45b6342d7e7471bab422c12', 'message': ""Change the admin-visible logs for mdev support\n\nNow that we want to support generic stateless mdev devices, we can't\nreally tell of pGPUs and vGPUs in our logs and we need to be more\ngeneric.\n\nChange-Id: I016773b6d6750db4f34ef6faac6d272c4177d883\nPartially-Implements: blueprint generic-mdevs\n""}]",4,803378,9cf07d5aaacf8c61a45b6342d7e7471bab422c12,23,5,2,7166,,,0,"Change the admin-visible logs for mdev support

Now that we want to support generic stateless mdev devices, we can't
really tell of pGPUs and vGPUs in our logs and we need to be more
generic.

Change-Id: I016773b6d6750db4f34ef6faac6d272c4177d883
Partially-Implements: blueprint generic-mdevs
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/803378/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/devices.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,5e4d353622401a8573642d624a239c61f1bb7758,bp/generic-mdevs," self.assertRaises(exception.InvalidLibvirtMdevConfig, self.assertRaises(exception.InvalidLibvirtMdevConfig, ""mdev-capable device name %(name)s can't be guessed from the "" ""ProviderTree roots %(roots)s"", {'name': 'oops_I_did_it_again', 'roots': 'cn'}) self.assertRaises(exception.InvalidLibvirtMdevConfig,"," self.assertRaises(exception.InvalidLibvirtGPUConfig, self.assertRaises(exception.InvalidLibvirtGPUConfig, ""pGPU device name %(name)s can't be guessed from the ProviderTree "" ""roots %(roots)s"", {'name': 'oops_I_did_it_again', 'roots': 'cn'}) self.assertRaises(exception.InvalidLibvirtGPUConfig,",24,23
openstack%2Fnova~stable%2Fwallaby~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/wallaby,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,MERGED,2021-06-23 13:51:08.000000000,2021-08-20 22:59:19.000000000,2021-08-20 22:57:41.000000000,"[{'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 13:51:08.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f994a18b3105047a2231231815d09f96c920958', 'message': 'Test numa and vcpu topologies bug: #1910466\n\nThis change reproduces bug #1910466\nWhen hw:cpu_max_[sockets|cores|threads] is configured\nin addition to an explict numa topologies and cpu pinning\nnova is currently incapable of generating the correct\nvirtual CPU topology resulting in an index out of range\nerror as we attempt to retrieve the first topology\nfrom an empty list.\n\nThis change reproduces the error via a new functional\ntest.\n\nRelated-Bug: #1910466\nChange-Id: I333b3d85deed971678141307dd06545e308cf989\n(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)\n'}]",0,797652,5f994a18b3105047a2231231815d09f96c920958,12,4,1,15334,,,0,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/797652/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,5f994a18b3105047a2231231815d09f96c920958,bug/1910466," host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2) def test_create_server_with_numa_topology_and_cpu_topology_and_pinning( self): """"""Create a server with two NUMA nodes. This should pass and result in a guest NUMA topology with two NUMA nodes, pinned cpus and numa affined memory. """""" host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=4, cpu_threads=1, kB_mem=(1024 * 1024 * 16)) # 16 GB self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:numa_nodes': '2', 'hw:cpu_max_sockets': '2', 'hw:cpu_max_cores': '2', 'hw:cpu_max_threads': '8', 'hw:cpu_policy': 'dedicated', 'hw:mem_page_size': 'any' } flavor_id = self._create_flavor(vcpu=8, extra_spec=extra_spec) self._run_build_test(flavor_id, end_status='ERROR') # FIXME(sean-k-mooney): The instance should boot but # it fails due to https://bugs.launchpad.net/nova/+bug/1910466 msg = ""IndexError: list index out of range"" self.assertIn(msg, self.stdlog.logger.output) # ctx = nova_context.get_admin_context() # inst = objects.Instance.get_by_uuid(ctx, server['id']) # self.assertEqual(2, len(inst.numa_topology.cells)) # self.assertLessEqual(inst.vcpu_model.topology.sockets, 2) # self.assertLessEqual(inst.vcpu_model.topology.cores, 2) # self.assertLessEqual(inst.vcpu_model.topology.threads, 8) "," host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2)",37,2
openstack%2Fnova~master~Idba094f6366a24965804b88da0bc1b9754549c99,openstack/nova,master,Idba094f6366a24965804b88da0bc1b9754549c99,Rename vgpu options to mdev,MERGED,2021-07-21 09:14:15.000000000,2021-08-20 22:59:15.000000000,2021-08-20 22:57:10.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-07-21 09:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d636fea9229eb355e34289b09fc70e43148b91d', 'message': 'Rename vgpu options to mdev\n\nAs a prerequisite for blueprint generic-mdevs we need to rename the\nexisting enabled_vgpu_types options and dynamically generated groups\ninto enabled_mdev_types.\nThere is no upgrade impact for existing users, as the original\noptions are still accepted.\n\nChange-Id: Idba094f6366a24965804b88da0bc1b9754549c99\nPartially-Implements: blueprint generic-mdevs\n'}, {'number': 2, 'created': '2021-07-21 09:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2939ce96bc5014481863a486b0f086c8d14e7c6d', 'message': 'Rename vgpu options to mdev\n\nAs a prerequisite for blueprint generic-mdevs we need to rename the\nexisting enabled_vgpu_types options and dynamically generated groups\ninto enabled_mdev_types.\nThere is no upgrade impact for existing users, as the original\noptions are still accepted.\n\nChange-Id: Idba094f6366a24965804b88da0bc1b9754549c99\nPartially-Implements: blueprint generic-mdevs\n'}, {'number': 3, 'created': '2021-07-29 16:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ee6ca49bbb3c399acf69e7af366307f41b5fbe9', 'message': 'Rename vgpu options to mdev\n\nAs a prerequisite for blueprint generic-mdevs we need to rename the\nexisting enabled_vgpu_types options and dynamically generated groups\ninto enabled_mdev_types.\nThere is no upgrade impact for existing users, as the original\noptions are still accepted.\n\nChange-Id: Idba094f6366a24965804b88da0bc1b9754549c99\nPartially-Implements: blueprint generic-mdevs\n'}, {'number': 4, 'created': '2021-07-30 11:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6df560d8af97af1f1a42e3d9e1d3bc569643f856', 'message': 'Rename vgpu options to mdev\n\nAs a prerequisite for blueprint generic-mdevs we need to rename the\nexisting enabled_vgpu_types options and dynamically generated groups\ninto enabled_mdev_types.\nThere is no upgrade impact for existing users, as the original\noptions are still accepted.\n\nChange-Id: Idba094f6366a24965804b88da0bc1b9754549c99\nPartially-Implements: blueprint generic-mdevs\n'}, {'number': 5, 'created': '2021-07-30 16:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b504f6e2fbd2ab2736e0c5a5bb7009a41b7163df', 'message': 'Rename vgpu options to mdev\n\nAs a prerequisite for blueprint generic-mdevs we need to rename the\nexisting enabled_vgpu_types options and dynamically generated groups\ninto enabled_mdev_types.\nThere is no upgrade impact for existing users, as the original\noptions are still accepted.\n\nChange-Id: Idba094f6366a24965804b88da0bc1b9754549c99\nPartially-Implements: blueprint generic-mdevs\n'}, {'number': 6, 'created': '2021-08-03 16:50:33.000000000', 'files': ['nova/tests/functional/libvirt/test_vgpu.py', 'nova/conf/devices.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/conf/test_devices.py', 'releasenotes/notes/generic_mdevs-0e1b3ef8385f7fae.yaml', 'doc/source/admin/virtual-gpu.rst', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff4d0d002a35022df1cb71029ad82ad8f3b327df', 'message': ""Rename vgpu options to mdev\n\nAs a prerequisite for blueprint generic-mdevs we need to rename the\nexisting enabled_vgpu_types options and dynamically generated groups\ninto enabled_mdev_types.\nThere is no upgrade impact for existing users, as the original\noptions are still accepted.\n\nNOTE(sbauza): As we have a lot of methods and objects named gpu-ish\nlet's just change what we need here and provide followups for\nfixing internal tech debt later.\n\nChange-Id: Idba094f6366a24965804b88da0bc1b9754549c99\nPartially-Implements: blueprint generic-mdevs\n""}]",27,801607,ff4d0d002a35022df1cb71029ad82ad8f3b327df,77,5,6,7166,,,0,"Rename vgpu options to mdev

As a prerequisite for blueprint generic-mdevs we need to rename the
existing enabled_vgpu_types options and dynamically generated groups
into enabled_mdev_types.
There is no upgrade impact for existing users, as the original
options are still accepted.

NOTE(sbauza): As we have a lot of methods and objects named gpu-ish
let's just change what we need here and provide followups for
fixing internal tech debt later.

Change-Id: Idba094f6366a24965804b88da0bc1b9754549c99
Partially-Implements: blueprint generic-mdevs
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/801607/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_vgpu.py', 'nova/conf/devices.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/conf/test_devices.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,0d636fea9229eb355e34289b09fc70e43148b91d,bp/generic-mdevs," self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:06:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:07:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='mdev_nvidia-11') ""enabled_mdev_types' but no corresponding "" self.flags(device_addresses=['0000:84:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:84:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(device_addresses=['whoops'], group='mdev_nvidia-11') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:06:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:07:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11'], group='devices') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:06:00.0'], group='mdev_nvidia-11') self.flags(device_addresses=['0000:07:00.0'], group='mdev_nvidia-12') self.flags(enabled_mdev_types=['nvidia-11', 'nvidia-12'],"," self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:06:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:07:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='vgpu_nvidia-11') ""enabled_vgpu_types' but no corresponding "" self.flags(device_addresses=['0000:84:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:84:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(device_addresses=['whoops'], group='vgpu_nvidia-11') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:84:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:85:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:06:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:07:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11'], group='devices') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'], self.flags(device_addresses=['0000:06:00.0'], group='vgpu_nvidia-11') self.flags(device_addresses=['0000:07:00.0'], group='vgpu_nvidia-12') self.flags(enabled_vgpu_types=['nvidia-11', 'nvidia-12'],",101,97
openstack%2Fnova~stable%2Fussuri~I8296e4be9f0706fab043451b856efadbb7bd41f6,openstack/nova,stable/ussuri,I8296e4be9f0706fab043451b856efadbb7bd41f6,Honor [neutron]http_retries in the manual client,MERGED,2021-06-07 20:19:36.000000000,2021-08-20 22:54:42.000000000,2021-08-20 22:52:57.000000000,"[{'_account_id': 9373}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 20:19:36.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b96f93ed8633d6fd0725c4a11366ffbf38056e65', 'message': 'Honor [neutron]http_retries in the manual client\n\nChange Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side\nconfig option for specifying neutron client retries that maps to the\nksa connect_retries config option to provide parity with the cinder and\nglance clients that have nova side config options.\n\nThat change missed passing CONF.neutron.http_retries to the manual\nclient used for calling the port binding API. This sets the\nconnect_retries attribute on the manual ksa client so http_retries\nwill be honored.\n\nCloses-Bug: #1929886\nRelated-Bug: #1866937\n\nChange-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6\n(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)\n(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)\n(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)\n'}]",0,795176,b96f93ed8633d6fd0725c4a11366ffbf38056e65,16,4,1,4690,,,0,"Honor [neutron]http_retries in the manual client

Change Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side
config option for specifying neutron client retries that maps to the
ksa connect_retries config option to provide parity with the cinder and
glance clients that have nova side config options.

That change missed passing CONF.neutron.http_retries to the manual
client used for calling the port binding API. This sets the
connect_retries attribute on the manual ksa client so http_retries
will be honored.

Closes-Bug: #1929886
Related-Bug: #1866937

Change-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6
(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)
(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)
(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/795176/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,b96f93ed8633d6fd0725c4a11366ffbf38056e65,bug/1929886, client.connect_retries = CONF.neutron.http_retries,,3,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~I89bcf25dfad355c52f1f7d8efee16b20c584da53,openstack/openstack-ansible-os_neutron,stable/wallaby,I89bcf25dfad355c52f1f7d8efee16b20c584da53,Replace centos-8.x jobs with centos-8-stream,MERGED,2021-08-16 10:27:18.000000000,2021-08-20 22:54:15.000000000,2021-08-20 22:50:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-08-16 10:27:18.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ead864ba6e413dac4e68c0ccd501fc23a288671b', 'message': 'Replace centos-8.x jobs with centos-8-stream\n\nCentOS-8.x is EOL in end of 2021. It has some broken repo causing\nfailures. This patch will drop centos-8 jobs and replace with new\ncentos-8-stream.\n\nSet all OVN jobs to non voting to merge required patches to fix OVN.\n\nChange-Id: I89bcf25dfad355c52f1f7d8efee16b20c584da53\n(cherry picked from commit e2f22f7b794698892a640281418765dc8597403d)\n'}]",0,804447,ead864ba6e413dac4e68c0ccd501fc23a288671b,11,4,1,28619,,,0,"Replace centos-8.x jobs with centos-8-stream

CentOS-8.x is EOL in end of 2021. It has some broken repo causing
failures. This patch will drop centos-8 jobs and replace with new
centos-8-stream.

Set all OVN jobs to non voting to merge required patches to fix OVN.

Change-Id: I89bcf25dfad355c52f1f7d8efee16b20c584da53
(cherry picked from commit e2f22f7b794698892a640281418765dc8597403d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/47/804447/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,ead864ba6e413dac4e68c0ccd501fc23a288671b,osa/neutron-ovn-stable/wallaby, name: openstack-ansible-deploy-aio_ovs_lxc-centos-8-stream nodeset: centos-8-stream name: openstack-ansible-deploy-aio_metal_ovs-centos-8-stream nodeset: centos-8-stream - job: name: openstack-ansible-deploy-aio_ovn_lxc-centos-8-stream parent: openstack-ansible-deploy-aio nodeset: centos-8-stream - job: name: openstack-ansible-deploy-aio_ovn_metal-centos-8-stream parent: openstack-ansible-deploy-aio nodeset: centos-8-stream, name: openstack-ansible-deploy-aio_ovs_lxc-centos-8 nodeset: centos-8 name: openstack-ansible-deploy-aio_metal_ovs-centos-8 nodeset: centos-8,34,12
openstack%2Fopenstack-ansible-os_neutron~master~Icb490225ff34354b3f5821c5f7a54a039091c924,openstack/openstack-ansible-os_neutron,master,Icb490225ff34354b3f5821c5f7a54a039091c924,Use list of cluster member for ovn ml2 agent to directly connect,MERGED,2021-08-09 20:42:22.000000000,2021-08-20 22:54:12.000000000,2021-08-20 22:50:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-09 20:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/1346c702c0e3992b86c9a52986795465232a051f', 'message': 'Use list of cluster member for ovn ml2 agent to directly connect\n\nUse list of cluster member in ovn/ml2 agent to directly talk to nb/sb\ncentral services instead of using haproxy lb. ovn-controller agent\nautomatically monitor cluster member and remove them from list if\nthey are dead or not reachable. This is better approch then using\nhaproxy lb.\n\nChange-Id: Icb490225ff34354b3f5821c5f7a54a039091c924\n'}, {'number': 2, 'created': '2021-08-10 04:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/eab2969bfabb86bafa4d36d381d3b3380ad1bd7a', 'message': 'Use list of cluster member for ovn ml2 agent to directly connect\n\nUse list of cluster member in ovn/ml2 agent to directly talk to nb/sb\ncentral services instead of using haproxy lb. ovn-controller agent\nautomatically monitor cluster member and remove them from list if\nthey are dead or not reachable. This is better approch then using\nhaproxy lb.\n\nChange-Id: Icb490225ff34354b3f5821c5f7a54a039091c924\n'}, {'number': 3, 'created': '2021-08-10 04:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/50f378d4972392f4670d8fc359b4d919159cc603', 'message': 'Use list of cluster member for ovn ml2 agent to directly connect\n\nUse list of cluster member in ovn/ml2 agent to directly talk to nb/sb\ncentral services instead of using haproxy lb. ovn-controller agent\nautomatically monitor cluster member and remove them from list if\nthey are dead or not reachable. This is better approch then using\nhaproxy lb.\n\nChange-Id: Icb490225ff34354b3f5821c5f7a54a039091c924\n'}, {'number': 4, 'created': '2021-08-10 15:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/eb9d4fef9588cce793aa66f08e5e63bed923922f', 'message': 'Use list of cluster member for ovn ml2 agent to directly connect\n\nUse list of cluster member in ovn/ml2 agent to directly talk to nb/sb\ncentral services instead of using haproxy lb. ovn-controller agent\nautomatically monitor cluster member and remove them from list if\nthey are dead or not reachable. This is better approch then using\nhaproxy lb.\n\nChange-Id: Icb490225ff34354b3f5821c5f7a54a039091c924\n'}, {'number': 5, 'created': '2021-08-11 08:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c13069c31b433da897c0d881036decb2b600bb83', 'message': 'Use list of cluster member for ovn ml2 agent to directly connect\n\nUse list of cluster member in ovn/ml2 agent to directly talk to nb/sb\ncentral services instead of using haproxy lb. ovn-controller agent\nautomatically monitor cluster member and remove them from list if\nthey are dead or not reachable. This is better approch then using\nhaproxy lb.\n\nChange-Id: Icb490225ff34354b3f5821c5f7a54a039091c924\n'}, {'number': 6, 'created': '2021-08-12 03:45:07.000000000', 'files': ['tasks/providers/setup_ovs_ovn.yml', 'templates/plugins/ml2/ml2_conf.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/454866176f6444c60471ab2c34dc53203a7dbb95', 'message': 'Use list of cluster member for ovn ml2 agent to directly connect\n\nUse list of cluster member in ovn/ml2 agent to directly talk to nb/sb\ncentral services instead of using haproxy lb. ovn-controller agent\nautomatically monitor cluster member and remove them from list if\nthey are dead or not reachable. This is better approch then using\nhaproxy lb.\n\nChange-Id: Icb490225ff34354b3f5821c5f7a54a039091c924\n'}]",4,803990,454866176f6444c60471ab2c34dc53203a7dbb95,28,3,6,28752,,,0,"Use list of cluster member for ovn ml2 agent to directly connect

Use list of cluster member in ovn/ml2 agent to directly talk to nb/sb
central services instead of using haproxy lb. ovn-controller agent
automatically monitor cluster member and remove them from list if
they are dead or not reachable. This is better approch then using
haproxy lb.

Change-Id: Icb490225ff34354b3f5821c5f7a54a039091c924
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/90/803990/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/providers/setup_ovs_ovn.yml', 'templates/plugins/ml2/ml2_conf.ini.j2', 'defaults/main.yml']",3,1346c702c0e3992b86c9a52986795465232a051f,osa/neutron-ovn,"neutron_ovn_nb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6641,tcp:') }}:6641"" neutron_ovn_sb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6642,tcp:') }}:6642""","neutron_ovn_ip: ""{{ internal_lb_vip_address }}""",5,4
openstack%2Fnetworking-generic-switch~master~Ic674d30d2e04a67ca01377bf4985e4ff933c9322,openstack/networking-generic-switch,master,Ic674d30d2e04a67ca01377bf4985e4ff933c9322,Add lower-constraints job to current development branch,MERGED,2021-08-09 15:48:13.000000000,2021-08-20 22:18:12.000000000,2021-08-20 22:14:27.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 15:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/a64fa10c20038e9a2fc6df7931dfc32b3ba8dc93', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nAdjust minimum requirements and test-requirements as consequence of\ncompatibility test.\n\nChange-Id: Ic674d30d2e04a67ca01377bf4985e4ff933c9322\n'}, {'number': 2, 'created': '2021-08-10 08:17:04.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/6b8b7b5a96ab3480b1d81bdbcc49d230247e35d9', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nAdjust minimum requirements and test-requirements as consequence of\ncompatibility test.\n\nChange-Id: Ic674d30d2e04a67ca01377bf4985e4ff933c9322\n'}]",0,803939,6b8b7b5a96ab3480b1d81bdbcc49d230247e35d9,11,3,2,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Adjust minimum requirements and test-requirements as consequence of
compatibility test.

Change-Id: Ic674d30d2e04a67ca01377bf4985e4ff933c9322
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/39/803939/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml']",3,a64fa10c20038e9a2fc6df7931dfc32b3ba8dc93,lower-constraints-revamp, - openstack-lower-constraints-master-branch-jobs,,91,1
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fwallaby~I8bd010cba13946c9c46c3792624841e41e3c2eaf,openstack/openstack-ansible-rabbitmq_server,stable/wallaby,I8bd010cba13946c9c46c3792624841e41e3c2eaf,Fix erlang upgrades for rabbitmq external_repo installs,MERGED,2021-08-17 14:41:53.000000000,2021-08-20 22:06:37.000000000,2021-08-20 22:05:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-17 14:41:53.000000000', 'files': ['vars/debian-11.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5a22d53bff67a1697e09070246679d0d385c5bd9', 'message': ""Fix erlang upgrades for rabbitmq external_repo installs\n\nUpgrading only the 'erlang' package does not pull in updated\ndependencies which can cause rabbitmq to fail to start during an\nupgrade.\n\nThe external and distro dependencies appear to match, so these\nare conformed to ensure that all packages are updated during an\nupgrade.\n\nThis patch additionally switches deployments to the 'erlang-base'\nrather than 'erlang-base-hipe' package which appears to have been\ndiscontinued.\n\nChange-Id: I8bd010cba13946c9c46c3792624841e41e3c2eaf\n(cherry picked from commit bf53f24dd40b9938ba3d10ba35cc87489d285980)\n""}]",0,804861,5a22d53bff67a1697e09070246679d0d385c5bd9,9,3,1,31542,,,0,"Fix erlang upgrades for rabbitmq external_repo installs

Upgrading only the 'erlang' package does not pull in updated
dependencies which can cause rabbitmq to fail to start during an
upgrade.

The external and distro dependencies appear to match, so these
are conformed to ensure that all packages are updated during an
upgrade.

This patch additionally switches deployments to the 'erlang-base'
rather than 'erlang-base-hipe' package which appears to have been
discontinued.

Change-Id: I8bd010cba13946c9c46c3792624841e41e3c2eaf
(cherry picked from commit bf53f24dd40b9938ba3d10ba35cc87489d285980)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/61/804861/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-11.yml', 'vars/debian.yml']",2,5a22d53bff67a1697e09070246679d0d385c5bd9,,rabbitmq_dependencies: - erlang-base,"_rabbitmq_distro_dependencies: - ""{{ (ansible_facts['architecture'] == 'aarch64') | ternary('erlang-base', 'erlang-base-hipe') }}""_rabbitmq_external_dependencies: - erlang rabbitmq_dependencies: ""{{ (rabbitmq_install_method == 'external_repo') | ternary(_rabbitmq_external_dependencies, _rabbitmq_distro_dependencies) }}"" ",3,8
openstack%2Fnova~stable%2Fwallaby~Iac0e634e66cd4e150a50935cf635f626fc11b70e,openstack/nova,stable/wallaby,Iac0e634e66cd4e150a50935cf635f626fc11b70e,api: Align availability zone info with forced host,MERGED,2021-07-26 08:28:21.000000000,2021-08-20 22:06:28.000000000,2021-08-20 22:03:44.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 08:28:21.000000000', 'files': ['nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/58782403cdaad33856fd59715525cee3c63ee3cf', 'message': 'api: Align availability zone info with forced host\n\nUsers can create a server like so:\n\n  $ openstack server create --availability-zone az:host ...\n\nThis is a historical way to request that an instance be scheduled to a\nspecific host and it causes the scheduler to be bypassed. However, no\nvalidation of this availability zone-host combo takes place. The host\ncould in fact belong to a different availability zone. If it does, we\'ll\nend up in a very odd situation whereby the RequestSpec record for the\ninstance will record the availability zone requested by the user at\ncreate time, but the Instance record itself will record the availability\nzone of the host on which the instance was scheduled. This leads to even\nmore confusing behavior when we attempt to do something like live\nmigrate the instance since the RequestSpec record, with its original and\npossibly invalid availability zone information, is used. The\n\'AvailabilityZoneFilter\' will fail an error message like the following:\n\n  Availability Zone \'foo\' requested. ... has AZs: bar\n\nbut the \'openstack server list --long\' command will show a non-foo value\nfor the availability zone column.\n\nThe solution is simple: when given an availability zone-host combo, make\nsure the availability zone requested matches that of the host (or, more\nspecifically, the host is a member of the host aggregates that form the\navailability zone [1]). If not, simply ignore the requested availability\nzone information in favour of using the availability zone of the host,\nlogging a warning just for record keeping purposes. This is deemed\npreferable to failing with HTTP 400 (Bad Request) since what users are\nreally requesting by using this was to schedule to a specific host: the\navailability zone portion of the request is really irrelevant and just\nan artifact of this legacy mechanism to request hosts. If users wish to\ntruly validate a host-availability zone combo, they can use the \'host\'\nfield introduced in microversion 2.74 along with the \'availability_zone\'\nfield:\n\n  $ openstack server create --availability-zone az --host host ...\n\nConflicts:\n  nova/compute/api.py\n\nNOTE(stephenfin): Conflicts are trivial and due to the absence of change\nI81fec10535034f3a81d46713a6eda813f90561cf (""Remove references to\n\'instance_type\'"") which we don\'t want to backport here.\n\n[1] https://docs.openstack.org/nova/latest/admin/aggregates.html\n\nChange-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1934770\n(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)\n'}]",0,802236,58782403cdaad33856fd59715525cee3c63ee3cf,12,3,1,15334,,,0,"api: Align availability zone info with forced host

Users can create a server like so:

  $ openstack server create --availability-zone az:host ...

This is a historical way to request that an instance be scheduled to a
specific host and it causes the scheduler to be bypassed. However, no
validation of this availability zone-host combo takes place. The host
could in fact belong to a different availability zone. If it does, we'll
end up in a very odd situation whereby the RequestSpec record for the
instance will record the availability zone requested by the user at
create time, but the Instance record itself will record the availability
zone of the host on which the instance was scheduled. This leads to even
more confusing behavior when we attempt to do something like live
migrate the instance since the RequestSpec record, with its original and
possibly invalid availability zone information, is used. The
'AvailabilityZoneFilter' will fail an error message like the following:

  Availability Zone 'foo' requested. ... has AZs: bar

but the 'openstack server list --long' command will show a non-foo value
for the availability zone column.

The solution is simple: when given an availability zone-host combo, make
sure the availability zone requested matches that of the host (or, more
specifically, the host is a member of the host aggregates that form the
availability zone [1]). If not, simply ignore the requested availability
zone information in favour of using the availability zone of the host,
logging a warning just for record keeping purposes. This is deemed
preferable to failing with HTTP 400 (Bad Request) since what users are
really requesting by using this was to schedule to a specific host: the
availability zone portion of the request is really irrelevant and just
an artifact of this legacy mechanism to request hosts. If users wish to
truly validate a host-availability zone combo, they can use the 'host'
field introduced in microversion 2.74 along with the 'availability_zone'
field:

  $ openstack server create --availability-zone az --host host ...

Conflicts:
  nova/compute/api.py

NOTE(stephenfin): Conflicts are trivial and due to the absence of change
I81fec10535034f3a81d46713a6eda813f90561cf (""Remove references to
'instance_type'"") which we don't want to backport here.

[1] https://docs.openstack.org/nova/latest/admin/aggregates.html

Change-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1934770
(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/802236/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",4,58782403cdaad33856fd59715525cee3c63ee3cf,bug/1934770," def _validate_host_availability_zone(context, availability_zone, host): """"""Ensure the host belongs in the availability zone. This is slightly tricky and it's probably worth recapping how host aggregates and availability zones are related before reading. Hosts can belong to zero or more host aggregates, but they will always belong to exactly one availability zone. If the user has set the availability zone key on one of the host aggregates that the host is a member of then the host will belong to this availability zone. If the user has not set the availability zone key on any of the host aggregates that the host is a member of or the host is not a member of any host aggregates, then the host will belong to the default availability zone. Setting the availability zone key on more than one of host aggregates that the host is a member of is an error and will be rejected by the API. Given the above, our host-availability zone check needs to vary behavior based on whether we're requesting the default availability zone or not. If we are not, then we simply ask ""does this host belong to a host aggregate and, if so, do any of the host aggregates have the requested availability zone metadata set"". By comparison, if we *are* requesting the default availability zone then we want to ask the inverse, or ""does this host not belong to a host aggregate or, if it does, is the availability zone information unset (or, naughty naughty, set to the default) for each of the host aggregates"". If both cases, if the answer is no then we warn about the mismatch and then use the actual availability zone of the host to avoid mismatches. :param context: The nova auth request context :param availability_zone: The name of the requested availability zone :param host: The name of the requested host :returns: The availability zone that should actually be used for the request """""" aggregates = objects.AggregateList.get_by_host(context, host=host) if not aggregates: # a host is assigned to the default availability zone if it is not # a member of any host aggregates if availability_zone == CONF.default_availability_zone: return availability_zone LOG.warning( ""Requested availability zone '%s' but forced host '%s' "" ""does not belong to any availability zones; ignoring "" ""requested availability zone to avoid bug #1934770"", availability_zone, host, ) return None # only one host aggregate will have the availability_zone field set so # use the first non-null value host_availability_zone = next( (a.availability_zone for a in aggregates if a.availability_zone), None, ) if availability_zone == host_availability_zone: # if there's an exact match, use what the user requested return availability_zone if ( availability_zone == CONF.default_availability_zone and host_availability_zone is None ): # special case the default availability zone since this won't (or # rather shouldn't) be explicitly stored on any host aggregate return availability_zone # no match, so use the host's availability zone information, if any LOG.warning( ""Requested availability zone '%s' but forced host '%s' "" ""does not belong to this availability zone; overwriting "" ""requested availability zone to avoid bug #1934770"", availability_zone, host, ) return None @staticmethod availability_zone = self._validate_host_availability_zone( context, availability_zone, host)",,217,25
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fvictoria~I8bd010cba13946c9c46c3792624841e41e3c2eaf,openstack/openstack-ansible-rabbitmq_server,stable/victoria,I8bd010cba13946c9c46c3792624841e41e3c2eaf,Fix erlang upgrades for rabbitmq external_repo installs,MERGED,2021-08-17 14:46:24.000000000,2021-08-20 22:06:10.000000000,2021-08-20 22:04:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-08-17 14:46:24.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/911f6a7bf86aa856ebad8af063fceba4a299c1ad', 'message': ""Fix erlang upgrades for rabbitmq external_repo installs\n\nUpgrading only the 'erlang' package does not pull in updated\ndependencies which can cause rabbitmq to fail to start during an\nupgrade.\n\nThe external and distro dependencies appear to match, so these\nare conformed to ensure that all packages are updated during an\nupgrade.\n\nThis patch additionally switches deployments to the 'erlang-base'\nrather than 'erlang-base-hipe' package which appears to have been\ndiscontinued.\n\nChange-Id: I8bd010cba13946c9c46c3792624841e41e3c2eaf\n""}]",0,804884,911f6a7bf86aa856ebad8af063fceba4a299c1ad,10,4,1,31542,,,0,"Fix erlang upgrades for rabbitmq external_repo installs

Upgrading only the 'erlang' package does not pull in updated
dependencies which can cause rabbitmq to fail to start during an
upgrade.

The external and distro dependencies appear to match, so these
are conformed to ensure that all packages are updated during an
upgrade.

This patch additionally switches deployments to the 'erlang-base'
rather than 'erlang-base-hipe' package which appears to have been
discontinued.

Change-Id: I8bd010cba13946c9c46c3792624841e41e3c2eaf
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/84/804884/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,911f6a7bf86aa856ebad8af063fceba4a299c1ad,,rabbitmq_dependencies: - erlang-base,"_rabbitmq_distro_dependencies: - ""{{ (ansible_architecture == 'aarch64') | ternary('erlang-base', 'erlang-base-hipe') }}""_rabbitmq_external_dependencies: - erlang rabbitmq_dependencies: ""{{ (rabbitmq_install_method == 'external_repo') | ternary(_rabbitmq_external_dependencies, _rabbitmq_distro_dependencies) }}"" ",2,7
openstack%2Fnova~stable%2Fwallaby~I2f9ad3df25306e070c8c3538bfed1212d6d8682f,openstack/nova,stable/wallaby,I2f9ad3df25306e070c8c3538bfed1212d6d8682f,Allow deletion of compute service with no compute nodes,MERGED,2021-07-29 08:45:57.000000000,2021-08-20 22:05:14.000000000,2021-08-20 22:03:37.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 08:45:57.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/df5158bf3f80fd4362725dc280de67b88ece9952', 'message': ""Allow deletion of compute service with no compute nodes\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. Previously, this exception would\nget bubbled up as an error 500 in the API. This patch catches it and\nallows service deletion to complete succefully.\n\nCloses bug: 1860312\nChange-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f\n(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)\n""}]",0,802841,df5158bf3f80fd4362725dc280de67b88ece9952,30,3,1,8864,,,0,"Allow deletion of compute service with no compute nodes

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. Previously, this exception would
get bubbled up as an error 500 in the API. This patch catches it and
allows service deletion to complete succefully.

Closes bug: 1860312
Change-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f
(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/802841/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py']",2,df5158bf3f80fd4362725dc280de67b88ece9952,bug/1860312," compute_nodes = [] try: compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) self._assert_no_in_progress_migrations( context, id, compute_nodes) except exception.ComputeHostNotFound: # NOTE(artom) Consider the following situation: # - Using the Ironic virt driver # - Replacing (so removing and re-adding) all baremetal # nodes associated with a single nova-compute service # The update resources periodic will have destroyed the # compute node records because they're no longer being # reported by the virt driver. If we then attempt to # manually delete the compute service record, # get_all_host() above will raise, as there are no longer # any compute node records for the host. Catch it here and # continue to allow compute service deletion. pass"," compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) self._assert_no_in_progress_migrations( context, id, compute_nodes)",20,9
openstack%2Fnova~stable%2Fwallaby~I03eec634b25582ec9643cacf3e5868c101176983,openstack/nova,stable/wallaby,I03eec634b25582ec9643cacf3e5868c101176983,Reproducer unit test for bug 1860312,MERGED,2021-07-29 08:45:57.000000000,2021-08-20 21:59:15.000000000,2021-08-20 21:56:09.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 08:45:57.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6cd23c3b4928b421b8c706f9cc218020779e367', 'message': ""Reproducer unit test for bug 1860312\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. This exception gets bubbled up as\nan error 500 in the API. This patch adds a unit test to demonstrate\nthis.\n\nRelated bug: 1860312\nChange-Id: I03eec634b25582ec9643cacf3e5868c101176983\n(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)\n""}]",0,802840,e6cd23c3b4928b421b8c706f9cc218020779e367,12,3,1,8864,,,0,"Reproducer unit test for bug 1860312

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. This exception gets bubbled up as
an error 500 in the API. This patch adds a unit test to demonstrate
this.

Related bug: 1860312
Change-Id: I03eec634b25582ec9643cacf3e5868c101176983
(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/802840/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_services.py'],1,e6cd23c3b4928b421b8c706f9cc218020779e367,bug/1860312," @mock.patch( 'nova.objects.ComputeNodeList.get_all_by_host', side_effect=exception.ComputeHostNotFound(host='fake-compute-host')) def test_services_delete_compute_host_not_found( self, mock_get_all_by_host): compute = objects.Service(self.ctxt, **{'host': 'fake-compute-host', 'binary': 'nova-compute', 'topic': 'compute', 'report_count': 0}) compute.create() # FIXME(artom) Until bug 1860312 is fixed, the ComputeHostNotFound # error will get bubbled up to the API as an error 500. self.assertRaises( webob.exc.HTTPInternalServerError, self.controller.delete, self.req, compute.id) mock_get_all_by_host.assert_called_with( self.req.environ['nova.context'], 'fake-compute-host') ",,19,0
openstack%2Fnova~stable%2Fwallaby~I2ae7e9782316e3662e4e51e3f5ba0ef597bf281b,openstack/nova,stable/wallaby,I2ae7e9782316e3662e4e51e3f5ba0ef597bf281b,Fix request path to query a resource provider by uuid,MERGED,2021-07-30 16:40:03.000000000,2021-08-20 21:57:58.000000000,2021-08-20 21:56:03.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-30 16:40:03.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62a3fa4fff70a1d03998626406a71b7dc09da733', 'message': 'Fix request path to query a resource provider by uuid\n\nTo query a resource provider by uuid, request path should look like\n /resource_providers?uuid=<uuid>\nistead of\n /resource_providers&uuid=<uuid>\n\nThis change fixes the wrong path so that ""nova-manage placement audit""\ncommand can look up the target resource provider properly.\n\nCloses-Bug: #1936278\nChange-Id: I2ae7e9782316e3662e4e51e3f5ba0ef597bf281b\n(cherry picked from commit 1d3373dcf0a05d4a2c5b51fc1b74d41ec1bb1175)\n'}]",0,803070,62a3fa4fff70a1d03998626406a71b7dc09da733,20,4,1,9816,,,0,"Fix request path to query a resource provider by uuid

To query a resource provider by uuid, request path should look like
 /resource_providers?uuid=<uuid>
istead of
 /resource_providers&uuid=<uuid>

This change fixes the wrong path so that ""nova-manage placement audit""
command can look up the target resource provider properly.

Closes-Bug: #1936278
Change-Id: I2ae7e9782316e3662e4e51e3f5ba0ef597bf281b
(cherry picked from commit 1d3373dcf0a05d4a2c5b51fc1b74d41ec1bb1175)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/803070/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,62a3fa4fff70a1d03998626406a71b7dc09da733,bug/1936278, url += '?uuid=%s' % kwargs['uuid'], url += '&uuid=%s' % kwargs['uuid'],1,1
openstack%2Ftripleo-docs~master~I89bde6703f2661a1ed2305a3c846c1269a965fdd,openstack/tripleo-docs,master,I89bde6703f2661a1ed2305a3c846c1269a965fdd,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:23:18.000000000,2021-08-20 21:57:20.000000000,2021-08-20 21:55:44.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 08:23:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/bbf6e4b29a37a95166ab91277e51f155e64e141f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I89bde6703f2661a1ed2305a3c846c1269a965fdd\n""}]",0,788204,bbf6e4b29a37a95166ab91277e51f155e64e141f,8,3,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I89bde6703f2661a1ed2305a3c846c1269a965fdd
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/04/788204/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bbf6e4b29a37a95166ab91277e51f155e64e141f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/tripleo-docs/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/tripleo-docs/latest/,3,3
openstack%2Ftripleo-ha-utils~master~I553278217772a4f87d053b2632baf485cac5bfad,openstack/tripleo-ha-utils,master,I553278217772a4f87d053b2632baf485cac5bfad,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:24:40.000000000,2021-08-20 21:47:32.000000000,2021-08-20 21:47:32.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 08:24:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/73af2b0f64c109f1a502e677238a3c6fec31fd00', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I553278217772a4f87d053b2632baf485cac5bfad\n""}]",0,788205,73af2b0f64c109f1a502e677238a3c6fec31fd00,7,3,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I553278217772a4f87d053b2632baf485cac5bfad
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/05/788205/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,73af2b0f64c109f1a502e677238a3c6fec31fd00,,description_file =author_email = rasca@redhat.com home_page = https://github.com/openstack/tripleo-ha-utils/,description-file =author-email = rasca@redhat.com home-page = https://github.com/openstack/tripleo-ha-utils/,3,3
openstack%2Fpython-ironicclient~master~I3678c29fb090244f5e00208e4dcc8f1ad8a54ff5,openstack/python-ironicclient,master,I3678c29fb090244f5e00208e4dcc8f1ad8a54ff5,Add lower-constraints job to current development branch,MERGED,2021-08-12 09:59:07.000000000,2021-08-20 21:47:24.000000000,2021-08-20 21:36:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 09:59:07.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/61b46c3401fc3382b9d0daaee4f84dac70d50bab', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nAdjust min versions in requirements.txt accordingly.\n\nChange-Id: I3678c29fb090244f5e00208e4dcc8f1ad8a54ff5\n'}]",0,804374,61b46c3401fc3382b9d0daaee4f84dac70d50bab,9,3,1,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Adjust min versions in requirements.txt accordingly.

Change-Id: I3678c29fb090244f5e00208e4dcc8f1ad8a54ff5
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/74/804374/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,61b46c3401fc3382b9d0daaee4f84dac70d50bab,lower-constraints-revamp, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,33,1
openstack%2Fbifrost~stable%2Fwallaby~I261dc97f878a9a8e8bba8f59a4c2886832c68ce9,openstack/bifrost,stable/wallaby,I261dc97f878a9a8e8bba8f59a4c2886832c68ce9,Fix Redeploy Playbook,MERGED,2021-07-12 08:15:59.000000000,2021-08-20 21:31:13.000000000,2021-08-20 21:29:12.000000000,"[{'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 32523}]","[{'number': 1, 'created': '2021-07-12 08:15:59.000000000', 'files': ['playbooks/redeploy-dynamic.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a645ff65ff6a802066b51243b17c364a5ec09b68', 'message': 'Fix Redeploy Playbook\n\nThis commit fixes 2 issues in redeploy playbook\n\n- Default value of ironic_url is not set, added default(omit) to use\nenvironment variable for connecting to ironic\n\n- provision_state and maintenance is actually not set when pulling\nironic facts. This commit changes the playbook to refer to the value\nregistered in node_info.\n\nChange-Id: I261dc97f878a9a8e8bba8f59a4c2886832c68ce9\n(cherry picked from commit 43062e2fe7eb20202c67ec9253909a8f599ee643)\n'}]",0,800379,a645ff65ff6a802066b51243b17c364a5ec09b68,10,4,1,23851,,,0,"Fix Redeploy Playbook

This commit fixes 2 issues in redeploy playbook

- Default value of ironic_url is not set, added default(omit) to use
environment variable for connecting to ironic

- provision_state and maintenance is actually not set when pulling
ironic facts. This commit changes the playbook to refer to the value
registered in node_info.

Change-Id: I261dc97f878a9a8e8bba8f59a4c2886832c68ce9
(cherry picked from commit 43062e2fe7eb20202c67ec9253909a8f599ee643)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/79/800379/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/redeploy-dynamic.yaml'],1,a645ff65ff6a802066b51243b17c364a5ec09b68,fix_redeploy-stable/wallaby," ironic_url: ""{{ ironic_url | default(omit) }}"" - node_info.node.provision_state == ""active"" or node_info.node.provision_state == ""deploy failed"" or node_info.node.provision_state == ""error"" - not node_info.node.maintenance | bool ironic_url: ""{{ ironic_url | default(omit) }}"" - node_info.node.provision_state == ""available"" - not node_info.node.maintenance | bool - node_info.node.provision_state == ""available"" - not node_info.node.maintenance | bool ironic_url: ""{{ ironic_url | default(omit) }}"""," ironic_url: ""{{ ironic_url }}"" - provision_state == ""active"" or provision_state == ""deploy failed"" or provision_state == ""error"" - not maintenance | bool ironic_url: ""{{ ironic_url }}"" - provision_state == ""available"" - not maintenance | bool - provision_state == ""available"" - not maintenance | bool ironic_url: ""{{ ironic_url }}""",11,11
openstack%2Fbifrost~master~I2995f744996ea36e9e1004332de158acb62a9965,openstack/bifrost,master,I2995f744996ea36e9e1004332de158acb62a9965,Changes made to install documentation,MERGED,2021-08-13 21:01:50.000000000,2021-08-20 21:30:45.000000000,2021-08-20 21:29:14.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-13 21:01:50.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a79892ca23d5efa2c983e4fbd7e922b627f47b0e', 'message': 'Changes made to install documentation\n\n* Added developer mode parameter to Quick start with bifrost-cli\n\nChange-Id: I2995f744996ea36e9e1004332de158acb62a9965\n'}]",0,804548,a79892ca23d5efa2c983e4fbd7e922b627f47b0e,8,3,1,33512,,,0,"Changes made to install documentation

* Added developer mode parameter to Quick start with bifrost-cli

Change-Id: I2995f744996ea36e9e1004332de158acb62a9965
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/48/804548/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,a79892ca23d5efa2c983e4fbd7e922b627f47b0e,document-fix,"``--develop`` Install services in develop mode, so that the changes to the repositories in ``/opt`` get immediately reflected in the environment. ",,5,0
openstack%2Fbifrost~stable%2Fwallaby~I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89,openstack/bifrost,stable/wallaby,I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89,Improve main function,MERGED,2021-08-09 08:06:20.000000000,2021-08-20 21:29:56.000000000,2021-08-20 21:26:08.000000000,"[{'_account_id': 8726}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 08:06:20.000000000', 'files': ['bifrost/cli.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/164bfc9b2da8adc02f62fa1c951a6efffc7d9041', 'message': ""Improve main function\n\nThe main function is wrapped with a sys.exit function[1] which has an optional\nargument but the current implementation doesn't return a value in case of a\nsuccessful execution. This change ensures that main function returns a value\nconsumed by sys.exit function.\n\n[1] https://docs.python.org/3/library/sys.html#sys.exit\n\nChange-Id: I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89\n""}]",0,803833,164bfc9b2da8adc02f62fa1c951a6efffc7d9041,9,4,1,23851,,,0,"Improve main function

The main function is wrapped with a sys.exit function[1] which has an optional
argument but the current implementation doesn't return a value in case of a
successful execution. This change ensures that main function returns a value
consumed by sys.exit function.

[1] https://docs.python.org/3/library/sys.html#sys.exit

Change-Id: I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/33/803833/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/cli.py'],1,164bfc9b2da8adc02f62fa1c951a6efffc7d9041,, return str(exc) except KeyboardInterrupt: return 'Aborting by user request' return 0, sys.exit(str(exc)) except KeyboardInterrupt: sys.exit('Aborting by user request'),3,2
openstack%2Fsushy-tools~master~Ib28a19a930bb95a328f5b2d4c80a84126cb8b963,openstack/sushy-tools,master,Ib28a19a930bb95a328f5b2d4c80a84126cb8b963,Add lower-constraints job to current development branch,MERGED,2021-08-12 10:07:58.000000000,2021-08-20 21:16:58.000000000,2021-08-20 21:12:35.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 10:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/72ab4af2c15cf266c1df6f935840f0275cf2a0c6', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nChange-Id: Ib28a19a930bb95a328f5b2d4c80a84126cb8b963\n'}, {'number': 2, 'created': '2021-08-20 08:39:14.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9a7cd1effaa1906428137a3b5eb8dd935ec648f1', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nChange-Id: Ib28a19a930bb95a328f5b2d4c80a84126cb8b963\n'}]",0,804376,9a7cd1effaa1906428137a3b5eb8dd935ec648f1,16,3,2,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Change-Id: Ib28a19a930bb95a328f5b2d4c80a84126cb8b963
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/76/804376/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml']",2,72ab4af2c15cf266c1df6f935840f0275cf2a0c6,lower-constraints-revamp, - openstack-lower-constraints-master-branch-jobs - openstack-python3-xena-jobs - release-notes-jobs-python3, - openstack-python3-xena-jobs - release-notes-jobs-python3,16,2
openstack%2Ftripleo-docs~master~Ia36d42a7162da741ba11558bacea7c9a7e44f0cd,openstack/tripleo-docs,master,Ia36d42a7162da741ba11558bacea7c9a7e44f0cd,ovs-dpdk: fixing deploy command,MERGED,2021-07-29 23:25:37.000000000,2021-08-20 21:06:44.000000000,2021-08-20 21:05:09.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 23:25:37.000000000', 'files': ['deploy-guide/source/features/ovs_dpdk_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e7390d5a88c4f9ce791526b4338ab489114c9ed1', 'message': 'ovs-dpdk: fixing deploy command\n\nThe neutron-ovs-dpdk environment file is now under services.\n\nAlso, the host-config-and-reboot template is not required anymore.\n\nChange-Id: Ia36d42a7162da741ba11558bacea7c9a7e44f0cd\n'}]",0,802970,e7390d5a88c4f9ce791526b4338ab489114c9ed1,10,6,1,27419,,,0,"ovs-dpdk: fixing deploy command

The neutron-ovs-dpdk environment file is now under services.

Also, the host-config-and-reboot template is not required anymore.

Change-Id: Ia36d42a7162da741ba11558bacea7c9a7e44f0cd
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/70/802970/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/ovs_dpdk_config.rst'],1,e7390d5a88c4f9ce791526b4338ab489114c9ed1,, -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovs-dpdk.yaml \, -e /usr/share/openstack-tripleo-heat-templates/environments/host-config-and-reboot.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/neutron-ovs-dpdk.yaml \,1,2
openstack%2Fironic~master~Ida7adb3c02db6279ef934797614eaa7be1f35daa,openstack/ironic,master,Ida7adb3c02db6279ef934797614eaa7be1f35daa,Allow reboot to hard disk following iso ramdisk deploy.,MERGED,2021-07-09 19:07:18.000000000,2021-08-20 20:16:13.000000000,2021-07-12 09:11:14.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-09 19:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3dce2c2f18db13b044a2be2d6acb6da75c65e19', 'message': 'Allow reboot to HD following iso ramdisk deploy.\n\nRe-uses the force_persistent_boot_device driver_info option\nwhich can be set to ``Never`` in order to set the virtual\nmedia to one time boot.\n\nStory: 2009042\nTask: 42805\n\nChange-Id: Ida7adb3c02db6279ef934797614eaa7be1f35daa\n'}, {'number': 2, 'created': '2021-07-10 08:55:32.000000000', 'files': ['releasenotes/notes/not-presistent-9c552f4209a84820.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'doc/source/admin/ramdisk-boot.rst', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3bad548ce3d34207aa70fde8342082fe243bee31', 'message': 'Allow reboot to hard disk following iso ramdisk deploy.\n\nRe-uses the force_persistent_boot_device driver_info option\nwhich can be set to ``Never`` in order to set the virtual\nmedia to one time boot.\n\nStory: 2009042\nTask: 42805\n\nChange-Id: Ida7adb3c02db6279ef934797614eaa7be1f35daa\n'}]",1,800300,3bad548ce3d34207aa70fde8342082fe243bee31,17,4,2,1926,,,0,"Allow reboot to hard disk following iso ramdisk deploy.

Re-uses the force_persistent_boot_device driver_info option
which can be set to ``Never`` in order to set the virtual
media to one time boot.

Story: 2009042
Task: 42805

Change-Id: Ida7adb3c02db6279ef934797614eaa7be1f35daa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/800300/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/not-presistent-9c552f4209a84820.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'doc/source/admin/ramdisk-boot.rst', 'ironic/drivers/modules/redfish/boot.py']",4,e3dce2c2f18db13b044a2be2d6acb6da75c65e19,," persistent = True if node.driver_info.get('force_persistent_boot_device', 'Default') == 'Never': persistent = False self._set_boot_device(task, boot_devices.CDROM, persistent=persistent)"," self._set_boot_device(task, boot_devices.CDROM, persistent=True)",79,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~I13903aed7863d311cf7bc7f7784222785608b3dc,openstack/openstack-ansible,stable/wallaby,I13903aed7863d311cf7bc7f7784222785608b3dc,Add guide for distribution upgrades to docs,MERGED,2021-08-19 11:10:26.000000000,2021-08-20 19:41:59.000000000,2021-08-20 19:39:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-19 11:10:26.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/upgrades/distribution-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2d39e392821d11cfbdb77277cf83efd7a5b70e85', 'message': 'Add guide for distribution upgrades to docs\n\nThis builds upon a guide which was only included in the docs for\nthe rocky release.\n\nThis has been tested against two deployments running the victoria\nrelease with ubuntu bionic, moving to ubuntu focal.\n\nChange-Id: I13903aed7863d311cf7bc7f7784222785608b3dc\n(cherry picked from commit e48485b83d1fece5018debb89bb3048c0c323cd3)\n'}]",0,805140,2d39e392821d11cfbdb77277cf83efd7a5b70e85,8,4,1,28619,,,0,"Add guide for distribution upgrades to docs

This builds upon a guide which was only included in the docs for
the rocky release.

This has been tested against two deployments running the victoria
release with ubuntu bionic, moving to ubuntu focal.

Change-Id: I13903aed7863d311cf7bc7f7784222785608b3dc
(cherry picked from commit e48485b83d1fece5018debb89bb3048c0c323cd3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/805140/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/upgrades/distribution-upgrades.rst']",2,2d39e392821d11cfbdb77277cf83efd7a5b70e85,,"===================== Distribution upgrades ===================== This guide provides information about upgrading from one distribution release to the next. .. note:: This guide was written when upgrading from Ubuntu Bionic to Focal during the Victoria release cycle. Introduction ============ OpenStack Ansible supports operating system distribution upgrades during specific release cycles. These can be observed by consulting the operating system compatibility matrix, and identifying where two versions of the same operating system are supported. Upgrades should be performed in the order specified in this guide to minimise the risk of service interruptions. Upgrades must also be carried out by performing a fresh installation of the target system's operating system, before running openstack-ansible to install services on this host. Ordering ======== This guide includes a suggested order for carrying out upgrades. This may need to be adapted dependent on the extent to which you have customised your OpenStack Ansible deployment. Critically, it is important to consider when you upgrade 'repo' hosts/containers. At least one 'repo' host should be upgraded before you upgrade any API hosts/containers. The last 'repo' host to be upgraded should be the 'primary', and should not be carried out until after the final service which does not support '--limit' is upgraded. If this order is adapted, it will be necessary to restore some files to the 'repo' host from a backup part-way through the process. This will be necessary if no 'repo' hosts remain which run the older operating system version, which prevents older packages from being built. Beyond these requirements, a suggested order for upgrades is a follows: #. Infrastructure services (Galera, RabbitMQ, APIs, HAProxy) In all cases, secondary or backup instances should be upgraded first #. Compute nodes #. Network nodes Pre-Requisites ============== * Ensure that all hosts in your target deployment have been installed and configured using a matching version of OpenStack Ansible. Ideally perform a minor upgrade to the latest version of the OpenStack release cycle which you are currently running first in order to reduce the risk of encountering bugs. * Check any OpenStack Ansible variables which you customise to ensure that they take into account the new and old operating system version (for example custom package repositories and version pinning). * Perform backups of critical data, in particular the Galera database in case of any failures. It is also recommended to back up the '/var/www/repo' directory on the primary 'repo' host in case it needs to be restored mid-upgrade. * Identify your 'primary' HAProxy/Galera/RabbitMQ/repo infrastructure host In a simple 3 infrastructure hosts setup, these services/containers usually end up being all on the the same host. The 'primary' will be the LAST box you'll want to reinstall. * HAProxy/keepalived Finding your HAProxy/keepalived primary is as easy as .. code:: console ssh {{ external_lb_vip_address }} Or preferably if you've installed HAProxy with stats, like so; .. code-block:: yaml haproxy_stats_enabled: true haproxy_stats_bind_address: ""{{ external_lb_vip_address }}"" and can visit https://admin:password@external_lb_vip_address:1936/ and read 'Statistics Report for pid # on infrastructure_host' * repo_container Check all your repo_containers and look for /etc/lsyncd/lsyncd.conf.lua Warnings ======== * During the upgrade process, some OpenStack services cannot be deployed by using Ansible's '--limit'. As such, it will be necessary to deploy some services to mixed operating system versions at the same time. The following services are known to lack support for '--limit': * RabbitMQ * Repo Server * Keystone * In the same way as OpenStack Ansible major (and some minor) upgrades, there will be brief interruptions to the entire Galera and RabbitMQ clusters during the upgrade which will result in brief service interruptions. * When taking down 'memcached' instances for upgrades you may encounter performance issues with the APIs. Deploying Infrastructure Hosts ============================== #. Drain RabbitMQ connections (optional) In order to cleanly hand over connections from one member of the RabbitMQ cluster to another, the instance being reinstalled should be drained. This can be achieved by running the following from the instance to be reinstalled and waiting for the RabbitMQ admin interface to indicate that socket descriptors have reduced to zero. .. code:: console rabbitmq-upgrade drain #. Disable HAProxy back ends (optional) If you wish to minimise error states in HAProxy, services on hosts which are being reinstalled can be set in maintenance mode (MAINT). Log into your primary HAProxy/keepalived and run something similar to .. code:: console echo ""disable server repo_all-back/<infrahost>_repo_container-<hash>"" | socat /var/run/haproxy.stat stdio for each API or service instance you wish to disable. Or if you've enabled haproxy_stats as described above, you can visit https://admin:password@external_lb_vip_address:1936/ and select them and 'Set state to MAINT' #. Reinstall an infrastructure host's operating system As noted above, this should be carried out for non-primaries first, ideally starting with a 'repo' host. #. Clearing out stale information #. Removing stale ansible-facts .. code:: console rm /etc/openstack_deploy/ansible-facts/reinstalled_host* (* because we're deleting all container facts for the host as well.) #. If RabbitMQ was running on this host We forget it by running these commands on another RabbitMQ host. .. code:: console rabbitmqctl cluster_status rabbitmqctl forget_cluster_node rabbit@removed_host_rabbitmq_container #. If it is NOT a 'primary', install everything on the new host .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* openstack-ansible setup-infrastructure.yml --limit localhost,repo_all,rabbitmq_all,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,keystone_all,reinstalled_host* (* because we need to include containers in the limit) #. If it IS a 'primary', do these steps .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* Temporarily set your primary Galera in MAINT in HAProxy .. code:: console openstack-ansible galera-install.yml --limit localhost,reinstalled_host* Note that at this point, the Ansible role will have taken the primary Galera out of MAINT in HAProxy. You may wish to temporarily put it back into MAINT until you are sure it is working correctly. You'll now have mariadb running, but it's not synced info from the non-primaries. To fix this we ssh to the primary Galera, and restart the mariadb.service and verify everything is in order. .. code:: console systemctl restart mariadb.service mysql mysql> SHOW STATUS LIKE ""wsrep_cluster_%""; mysql> SHOW DATABASES; Everything should be sync'ed and in order now. You can take your primary Galera from MAINT to READY We can move on to RabbitMQ primary .. code:: console openstack-ansible rabbitmq-install.yml The RabbitMQ primary will also be in a cluster of it's own. You will need to fix this by running these commands on the primary. .. code:: console rabbitmqctl stop_app rabbitmqctl join_cluster rabbit@some_operational_rabbitmq_container rabbitmqctl start_app rabbitmqctl cluster_status Everything should now be in a working state and we can finish it off with .. code:: console openstack-ansible setup-infrastructure.yml --limit localhost,repo_all,rabbitmq_all,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,keystone_all,reinstalled_host* #. Adjust HAProxy status If HAProxy was set into MAINT mode, this can now be removed for services which have been restored. For the 'repo' host, it is important that the freshly installed hosts are set to READY in HAProxy, and any which remain on the old operating system are set to 'MAINT'. Deploying Compute & Network Hosts ================================= #. Disable the hypervisor service on compute hosts and migrate any VMs to another available hypervisor. #. Reinstall a host's operating system #. Clear out stale ansible-facts .. code:: console rm /etc/openstack_deploy/ansible-facts/reinstalled_host* (* because we're deleting all container facts for the host as well.) #. Execute the following: .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* openstack-ansible setup-infrastructure.yml --limit localhost,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,reinstalled_host* (* because we need to include containers in the limit) .. note:: During this upgrade cycle it was noted that network nodes required a restart to bring some tenant interfaces online after running setup-openstack. Additionally, BGP speakers (used for IPv6) had to be re-initialised from the command line. These steps were necessary before reinstalling further network nodes to prevent HA Router interruptions. ",,282,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~I13903aed7863d311cf7bc7f7784222785608b3dc,openstack/openstack-ansible,stable/victoria,I13903aed7863d311cf7bc7f7784222785608b3dc,Add guide for distribution upgrades to docs,MERGED,2021-08-19 11:10:41.000000000,2021-08-20 19:41:30.000000000,2021-08-20 19:39:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-08-19 11:10:41.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/upgrades/distribution-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/897d2c5d1668859bb5204af3a52ae203a773dd72', 'message': 'Add guide for distribution upgrades to docs\n\nThis builds upon a guide which was only included in the docs for\nthe rocky release.\n\nThis has been tested against two deployments running the victoria\nrelease with ubuntu bionic, moving to ubuntu focal.\n\nChange-Id: I13903aed7863d311cf7bc7f7784222785608b3dc\n(cherry picked from commit e48485b83d1fece5018debb89bb3048c0c323cd3)\n'}]",0,805141,897d2c5d1668859bb5204af3a52ae203a773dd72,8,3,1,28619,,,0,"Add guide for distribution upgrades to docs

This builds upon a guide which was only included in the docs for
the rocky release.

This has been tested against two deployments running the victoria
release with ubuntu bionic, moving to ubuntu focal.

Change-Id: I13903aed7863d311cf7bc7f7784222785608b3dc
(cherry picked from commit e48485b83d1fece5018debb89bb3048c0c323cd3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/805141/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/upgrades/distribution-upgrades.rst']",2,897d2c5d1668859bb5204af3a52ae203a773dd72,,"===================== Distribution upgrades ===================== This guide provides information about upgrading from one distribution release to the next. .. note:: This guide was written when upgrading from Ubuntu Bionic to Focal during the Victoria release cycle. Introduction ============ OpenStack Ansible supports operating system distribution upgrades during specific release cycles. These can be observed by consulting the operating system compatibility matrix, and identifying where two versions of the same operating system are supported. Upgrades should be performed in the order specified in this guide to minimise the risk of service interruptions. Upgrades must also be carried out by performing a fresh installation of the target system's operating system, before running openstack-ansible to install services on this host. Ordering ======== This guide includes a suggested order for carrying out upgrades. This may need to be adapted dependent on the extent to which you have customised your OpenStack Ansible deployment. Critically, it is important to consider when you upgrade 'repo' hosts/containers. At least one 'repo' host should be upgraded before you upgrade any API hosts/containers. The last 'repo' host to be upgraded should be the 'primary', and should not be carried out until after the final service which does not support '--limit' is upgraded. If this order is adapted, it will be necessary to restore some files to the 'repo' host from a backup part-way through the process. This will be necessary if no 'repo' hosts remain which run the older operating system version, which prevents older packages from being built. Beyond these requirements, a suggested order for upgrades is a follows: #. Infrastructure services (Galera, RabbitMQ, APIs, HAProxy) In all cases, secondary or backup instances should be upgraded first #. Compute nodes #. Network nodes Pre-Requisites ============== * Ensure that all hosts in your target deployment have been installed and configured using a matching version of OpenStack Ansible. Ideally perform a minor upgrade to the latest version of the OpenStack release cycle which you are currently running first in order to reduce the risk of encountering bugs. * Check any OpenStack Ansible variables which you customise to ensure that they take into account the new and old operating system version (for example custom package repositories and version pinning). * Perform backups of critical data, in particular the Galera database in case of any failures. It is also recommended to back up the '/var/www/repo' directory on the primary 'repo' host in case it needs to be restored mid-upgrade. * Identify your 'primary' HAProxy/Galera/RabbitMQ/repo infrastructure host In a simple 3 infrastructure hosts setup, these services/containers usually end up being all on the the same host. The 'primary' will be the LAST box you'll want to reinstall. * HAProxy/keepalived Finding your HAProxy/keepalived primary is as easy as .. code:: console ssh {{ external_lb_vip_address }} Or preferably if you've installed HAProxy with stats, like so; .. code-block:: yaml haproxy_stats_enabled: true haproxy_stats_bind_address: ""{{ external_lb_vip_address }}"" and can visit https://admin:password@external_lb_vip_address:1936/ and read 'Statistics Report for pid # on infrastructure_host' * repo_container Check all your repo_containers and look for /etc/lsyncd/lsyncd.conf.lua Warnings ======== * During the upgrade process, some OpenStack services cannot be deployed by using Ansible's '--limit'. As such, it will be necessary to deploy some services to mixed operating system versions at the same time. The following services are known to lack support for '--limit': * RabbitMQ * Repo Server * Keystone * In the same way as OpenStack Ansible major (and some minor) upgrades, there will be brief interruptions to the entire Galera and RabbitMQ clusters during the upgrade which will result in brief service interruptions. * When taking down 'memcached' instances for upgrades you may encounter performance issues with the APIs. Deploying Infrastructure Hosts ============================== #. Drain RabbitMQ connections (optional) In order to cleanly hand over connections from one member of the RabbitMQ cluster to another, the instance being reinstalled should be drained. This can be achieved by running the following from the instance to be reinstalled and waiting for the RabbitMQ admin interface to indicate that socket descriptors have reduced to zero. .. code:: console rabbitmq-upgrade drain #. Disable HAProxy back ends (optional) If you wish to minimise error states in HAProxy, services on hosts which are being reinstalled can be set in maintenance mode (MAINT). Log into your primary HAProxy/keepalived and run something similar to .. code:: console echo ""disable server repo_all-back/<infrahost>_repo_container-<hash>"" | socat /var/run/haproxy.stat stdio for each API or service instance you wish to disable. Or if you've enabled haproxy_stats as described above, you can visit https://admin:password@external_lb_vip_address:1936/ and select them and 'Set state to MAINT' #. Reinstall an infrastructure host's operating system As noted above, this should be carried out for non-primaries first, ideally starting with a 'repo' host. #. Clearing out stale information #. Removing stale ansible-facts .. code:: console rm /etc/openstack_deploy/ansible-facts/reinstalled_host* (* because we're deleting all container facts for the host as well.) #. If RabbitMQ was running on this host We forget it by running these commands on another RabbitMQ host. .. code:: console rabbitmqctl cluster_status rabbitmqctl forget_cluster_node rabbit@removed_host_rabbitmq_container #. If it is NOT a 'primary', install everything on the new host .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* openstack-ansible setup-infrastructure.yml --limit localhost,repo_all,rabbitmq_all,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,keystone_all,reinstalled_host* (* because we need to include containers in the limit) #. If it IS a 'primary', do these steps .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* Temporarily set your primary Galera in MAINT in HAProxy .. code:: console openstack-ansible galera-install.yml --limit localhost,reinstalled_host* Note that at this point, the Ansible role will have taken the primary Galera out of MAINT in HAProxy. You may wish to temporarily put it back into MAINT until you are sure it is working correctly. You'll now have mariadb running, but it's not synced info from the non-primaries. To fix this we ssh to the primary Galera, and restart the mariadb.service and verify everything is in order. .. code:: console systemctl restart mariadb.service mysql mysql> SHOW STATUS LIKE ""wsrep_cluster_%""; mysql> SHOW DATABASES; Everything should be sync'ed and in order now. You can take your primary Galera from MAINT to READY We can move on to RabbitMQ primary .. code:: console openstack-ansible rabbitmq-install.yml The RabbitMQ primary will also be in a cluster of it's own. You will need to fix this by running these commands on the primary. .. code:: console rabbitmqctl stop_app rabbitmqctl join_cluster rabbit@some_operational_rabbitmq_container rabbitmqctl start_app rabbitmqctl cluster_status Everything should now be in a working state and we can finish it off with .. code:: console openstack-ansible setup-infrastructure.yml --limit localhost,repo_all,rabbitmq_all,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,keystone_all,reinstalled_host* #. Adjust HAProxy status If HAProxy was set into MAINT mode, this can now be removed for services which have been restored. For the 'repo' host, it is important that the freshly installed hosts are set to READY in HAProxy, and any which remain on the old operating system are set to 'MAINT'. Deploying Compute & Network Hosts ================================= #. Disable the hypervisor service on compute hosts and migrate any VMs to another available hypervisor. #. Reinstall a host's operating system #. Clear out stale ansible-facts .. code:: console rm /etc/openstack_deploy/ansible-facts/reinstalled_host* (* because we're deleting all container facts for the host as well.) #. Execute the following: .. code:: console openstack-ansible setup-hosts.yml --limit localhost,reinstalled_host* openstack-ansible setup-infrastructure.yml --limit localhost,reinstalled_host* openstack-ansible setup-openstack.yml --limit localhost,reinstalled_host* (* because we need to include containers in the limit) .. note:: During this upgrade cycle it was noted that network nodes required a restart to bring some tenant interfaces online after running setup-openstack. Additionally, BGP speakers (used for IPv6) had to be re-initialised from the command line. These steps were necessary before reinstalling further network nodes to prevent HA Router interruptions. ",,282,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I7072617770d258b2ba790fa274d2153c01bfe650,openstack/python-tripleoclient,stable/train,I7072617770d258b2ba790fa274d2153c01bfe650,[train-only] Honour DeploymentServerBlacklist,MERGED,2021-08-18 05:02:25.000000000,2021-08-20 19:32:24.000000000,2021-08-20 19:29:46.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 05:02:25.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/935c6592cdf9a324ad0775d26681bb004ed667a9', 'message': ""[train-only] Honour DeploymentServerBlacklist\n\nWith external-update/upgrade run, --limit is not mandatory,\nas it can be run on all nodes. However, we don't seem to honor\nblacklisted hosts.\n\nThis is fine from ussuri onwards after we dropped mistral[1] and\nused deployment.config_download() for all these.\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/707894\nChange-Id: I7072617770d258b2ba790fa274d2153c01bfe650\n""}]",0,804946,935c6592cdf9a324ad0775d26681bb004ed667a9,8,3,1,8833,,,0,"[train-only] Honour DeploymentServerBlacklist

With external-update/upgrade run, --limit is not mandatory,
as it can be run on all nodes. However, we don't seem to honor
blacklisted hosts.

This is fine from ussuri onwards after we dropped mistral[1] and
used deployment.config_download() for all these.

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/707894
Change-Id: I7072617770d258b2ba790fa274d2153c01bfe650
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/804946/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py']",3,935c6592cdf9a324ad0775d26681bb004ed667a9,," @mock.patch('tripleoclient.utils.get_stack_output_item', autospec=True) mock_confirm, mock_inventory, mock_stack_output): mock_stack_output.return_value = [] @mock.patch('tripleoclient.utils.get_stack_output_item', autospec=True) mock_confirm, mock_inventory, mock_stack_output): mock_stack_output.return_value = ['compute1', 'compute2'] nodes='!compute1:!compute2',"," mock_confirm, mock_inventory): mock_confirm, mock_inventory): nodes=None,",28,10
openstack%2Fglance~master~I1beb5f18d4f7663bfb25d28d0db7ebd02a3af0ba,openstack/glance,master,I1beb5f18d4f7663bfb25d28d0db7ebd02a3af0ba,DNM [Master] functional-py36 timeout test,ABANDONED,2021-08-17 21:45:43.000000000,2021-08-20 19:20:51.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 21:45:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/80856edcb38878cafc9aa4dd207c0a8ba8ba70f2', 'message': 'DNM [Master] functional-py36 timeout test\n\nChange-Id: I1beb5f18d4f7663bfb25d28d0db7ebd02a3af0ba\n'}]",0,804921,80856edcb38878cafc9aa4dd207c0a8ba8ba70f2,23,2,1,9303,,,0,"DNM [Master] functional-py36 timeout test

Change-Id: I1beb5f18d4f7663bfb25d28d0db7ebd02a3af0ba
",git fetch https://review.opendev.org/openstack/glance refs/changes/21/804921/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,80856edcb38878cafc9aa4dd207c0a8ba8ba70f2,timeout-test, gate: jobs: - openstack-tox-functional-py36 - openstack-tox-functional-py36 experimental: jobs: - glance-tox-py38-glance_store-tips - glance-tox-py36-glance_store-tips - glance-tox-functional-py38-glance_store-tips - glance-tox-functional-py36-glance_store-tips - barbican-tempest-plugin-simple-crypto - grenade-multinode - tempest-pg-full:, templates: - check-requirements - integrated-gate-storage - openstack-python3-xena-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - glance-tox-functional-py38-rbac-defaults - glance-code-constants-check - glance-ceph-thin-provisioning: voting: false - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files - glance-secure-rbac-protection-functional gate: jobs: - openstack-tox-functional-py36 - openstack-tox-functional-py38 - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files - glance-secure-rbac-protection-functional experimental: jobs: - glance-tox-py38-glance_store-tips - glance-tox-py36-glance_store-tips - glance-tox-functional-py38-glance_store-tips - glance-tox-functional-py36-glance_store-tips - barbican-tempest-plugin-simple-crypto - grenade-multinode - tempest-pg-full: irrelevant-files: *tempest-irrelevant-files,14,54
openstack%2Foslo.utils~master~I000dcc5db4e19e24f824a271c78e24529a8dd61a,openstack/oslo.utils,master,I000dcc5db4e19e24f824a271c78e24529a8dd61a,setup.cfg: Replace dashes with underscores,MERGED,2021-08-11 03:04:06.000000000,2021-08-20 19:07:28.000000000,2021-08-20 19:05:54.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-11 03:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3d5380f7237ffd4c585534b91844af1ce8a07405', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n    supported in future versions. Please use the underscore name\n      'description_file' instead\n\n      [1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I000dcc5db4e19e24f824a271c78e24529a8dd61a\n""}, {'number': 2, 'created': '2021-08-20 16:23:11.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/cf45c2cf8a9ac7308cf425a8c5263314cc398dc9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\n\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages like the following\non new enough versions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I000dcc5db4e19e24f824a271c78e24529a8dd61a\n""}]",0,804187,cf45c2cf8a9ac7308cf425a8c5263314cc398dc9,10,3,2,32238,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].

Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages like the following
on new enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I000dcc5db4e19e24f824a271c78e24529a8dd61a
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/87/804187/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3d5380f7237ffd4c585534b91844af1ce8a07405,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/oslo.utils/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/oslo.utils/latest/ python-requires = >=3.6,4,4
openstack%2Fswift~master~I39306fa2109516855931a9850dac3e25188f3cad,openstack/swift,master,I39306fa2109516855931a9850dac3e25188f3cad,Exit if server_per_port fails to bind all children,NEW,2021-08-20 17:21:46.000000000,2021-08-20 19:06:48.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 17:21:46.000000000', 'files': ['swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8349d0518699e70c4ba11d8c4a1e03252bf60c81', 'message': 'Exit if server_per_port fails to bind all children\n\nBecause server_per_port can change with a ring reload we have to be\ncareful about shutting down.\n\nTODO: what if just a single port fails over and over again?\n\nCloses-Bug: #1940694\nChange-Id: I39306fa2109516855931a9850dac3e25188f3cad\n'}]",3,805441,8349d0518699e70c4ba11d8c4a1e03252bf60c81,4,2,1,1179,,,0,"Exit if server_per_port fails to bind all children

Because server_per_port can change with a ring reload we have to be
careful about shutting down.

TODO: what if just a single port fails over and over again?

Closes-Bug: #1940694
Change-Id: I39306fa2109516855931a9850dac3e25188f3cad
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/805441/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/wsgi.py'],1,8349d0518699e70c4ba11d8c4a1e03252bf60c81,fix-bind-logs, no_children = False no_children = False if no_children: raise Exception('what are we even doing here?') no_children = True,,5,0
openstack%2Fpuppet-openstack-integration~master~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,master,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,MERGED,2021-08-20 15:43:16.000000000,2021-08-20 19:05:37.000000000,2021-08-20 19:05:37.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4cc55467468a7a5c69a61b76130f5700616fd7c9', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n'}, {'number': 2, 'created': '2021-08-20 15:43:34.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f45e67023c0fde517dffd1251cb9dcd57bb1cb7c', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n'}]",0,805413,f45e67023c0fde517dffd1251cb9dcd57bb1cb7c,8,2,2,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/13/805413/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,4cc55467468a7a5c69a61b76130f5700616fd7c9,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'master' ",0,4
openstack%2Fcinder~master~Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a,openstack/cinder,master,Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a,[SVF] Fix issue to get volume relationship details,MERGED,2021-04-27 11:50:11.000000000,2021-08-20 19:05:01.000000000,2021-08-17 19:09:25.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 12670}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 11:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b67a211bd419bbf3ed61aa16a67da762dbee57db', 'message': '[SVF] Fix issue to get volume relationship details\n\nUpdated IBM Storwize cinder driver to fix an issue while fetching\nrelationship details of a volume with replication enabled.\n\ncloses bug: #1926286\n\nChange-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a\n'}, {'number': 2, 'created': '2021-05-26 13:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8a6e72336809d818902082a1a3f55d70afc135d', 'message': '[SVF] Fix issue to get volume relationship details\n\n[Spectrum Virtualize Family] Fix the issue while fetching\nrelationship details of a volume with replication enabled.\n\nCloses-Bug: #1926286\n\nChange-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a\n'}, {'number': 3, 'created': '2021-05-26 14:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5755a8388a5f09434702f81fa0db561e11a69a0', 'message': '[SVF] Fix issue to get volume relationship details\n\n[Spectrum Virtualize Family] Fix the issue while fetching\nrelationship details of a volume with replication enabled.\n\nCloses-Bug: #1926286\n\nChange-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a\n'}, {'number': 4, 'created': '2021-07-29 07:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a08328364699afd21187e958baf7df69f5e8c348', 'message': '[SVF] Fix issue to get volume relationship details\n\n[Spectrum Virtualize Family] Fix the issue while fetching\nrelationship details of a volume with replication enabled.\n\nCloses-Bug: #1926286\n\nChange-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a\n'}, {'number': 5, 'created': '2021-08-12 15:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d29c8e48cb566848b80f7019dcc097323df6cb8', 'message': '[SVF] Fix issue to get volume relationship details\n\n[Spectrum Virtualize Family] Fix the issue while fetching\nrelationship details of a volume with replication enabled.\n\nCloses-Bug: #1926286\n\nChange-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a\n'}, {'number': 6, 'created': '2021-08-12 16:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7f39ad162770dedf11f946e7c23a2c97c1165bc', 'message': '[SVF] Fix issue to get volume relationship details\n\n[Spectrum Virtualize Family] Fix the issue while fetching\nrelationship details of a volume with replication enabled.\n\nCloses-Bug: #1926286\n\nChange-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a\n'}, {'number': 7, 'created': '2021-08-13 10:56:27.000000000', 'files': ['releasenotes/notes/bug-1926286-ibm-svf-fix-volume-relationship-properties-fetch-issue-6b443f8521cbb15c.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eaafd81e9a121830ce430123a1651b33e7cfff41', 'message': '[SVF] Fix issue to get volume relationship details\n\n[Spectrum Virtualize Family] Fix the issue while fetching\nrelationship details of a volume with replication enabled.\n\nDuring some bulk cinder operations such as volume create,\nretype and clone for a volume with replication enabled,\nreplication properties to metadata are not being updated\nproperly due to an error response from the storage backend\nwhile trying to fetch volume-relationship details. Users will\nfeel that the operation is successful but have no idea that\nvolume metadata is partially updated or not updated correctly.\nSo, given a fix by applying a retry mechanism to get\nvolume-relationship details and raising an exception if that\nbackend call still gives an error response.\n\nCloses-Bug: #1926286\n\nChange-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a\n'}]",5,788253,eaafd81e9a121830ce430123a1651b33e7cfff41,196,5,7,32266,,,0,"[SVF] Fix issue to get volume relationship details

[Spectrum Virtualize Family] Fix the issue while fetching
relationship details of a volume with replication enabled.

During some bulk cinder operations such as volume create,
retype and clone for a volume with replication enabled,
replication properties to metadata are not being updated
properly due to an error response from the storage backend
while trying to fetch volume-relationship details. Users will
feel that the operation is successful but have no idea that
volume metadata is partially updated or not updated correctly.
So, given a fix by applying a retry mechanism to get
volume-relationship details and raising an exception if that
backend call still gives an error response.

Closes-Bug: #1926286

Change-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/788253/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,b67a211bd419bbf3ed61aa16a67da762dbee57db,bug/1926286," try: rel_info = self._helpers.get_relationship_info(volume.name) except Exception as ex: LOG.error('_update_replication_properties: Failed to fetch ' 'relationship details for the volume %(volume)s. ' 'Exception: %(err)s.', {'volume': volume['name'], 'err': ex}) model_update['status'] = fields.VolumeStatus.ERROR return model_update ", rel_info = self._helpers.get_relationship_info(volume.name),10,1
openstack%2Fcinder~master~I4ca2d2bb8dd4dbf8f8d8918bf51001f10049f6a7,openstack/cinder,master,I4ca2d2bb8dd4dbf8f8d8918bf51001f10049f6a7,conditional_update(): disable false pylint error message,MERGED,2021-08-10 17:00:34.000000000,2021-08-20 19:00:49.000000000,2021-08-20 18:58:40.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-10 17:00:34.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d613ce06cc02b3599c6154662a9a714fe43a2856', 'message': 'conditional_update(): disable false pylint error message\n\nDisable an E1137 that pylint generates in\nconditional_update().  The ""order"" variable is always\na list and not a tuple when it contains keys.\n\nChange-Id: I4ca2d2bb8dd4dbf8f8d8918bf51001f10049f6a7\n'}]",0,804118,d613ce06cc02b3599c6154662a9a714fe43a2856,48,4,1,4523,,,0,"conditional_update(): disable false pylint error message

Disable an E1137 that pylint generates in
conditional_update().  The ""order"" variable is always
a list and not a tuple when it contains keys.

Change-Id: I4ca2d2bb8dd4dbf8f8d8918bf51001f10049f6a7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/804118/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,d613ce06cc02b3599c6154662a9a714fe43a2856,," # pylint: disable=E1137; (""order"" is known to be a list, here)",,1,0
openstack%2Fnova~master~I221013216c4bdd241a894fb0a68c95d98d649c33,openstack/nova,master,I221013216c4bdd241a894fb0a68c95d98d649c33,VMWare: Use get_hardware_devices throughout,MERGED,2021-08-18 13:01:49.000000000,2021-08-20 19:00:22.000000000,2021-08-20 18:58:32.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 13:01:49.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f2aa3e9d83219a2f504907c2ff02a04aefde7d6', 'message': 'VMWare: Use get_hardware_devices throughout\n\nInstead of retrieving the hardware devices\nthrough a get_object_property directly,\nand then inconsistently handling the normalisation\nin the called function or in the caller,\nuse get_hardware_devices everywhere and handle\nthe normalisation there.\n\nChange-Id: I221013216c4bdd241a894fb0a68c95d98d649c33\n'}]",0,805017,1f2aa3e9d83219a2f504907c2ff02a04aefde7d6,12,3,1,24434,,,0,"VMWare: Use get_hardware_devices throughout

Instead of retrieving the hardware devices
through a get_object_property directly,
and then inconsistently handling the normalisation
in the called function or in the caller,
use get_hardware_devices everywhere and handle
the normalisation there.

Change-Id: I221013216c4bdd241a894fb0a68c95d98d649c33
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/805017/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/vm_util.py']",5,1f2aa3e9d83219a2f504907c2ff02a04aefde7d6,vmwareapi_dry_get_hardware_devices," for device in hardware_devices: hardware_devices = get_hardware_devices(session, vm_ref) hardware_devices = get_hardware_devices(session, vm_ref)"," if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices.VirtualDevice: hardware_devices = session._call_method(vutil, ""get_object_property"", vm_ref, ""config.hardware.device"") if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice hardware_devices = session._call_method(vutil, ""get_object_property"", vm_ref, ""config.hardware.device"") if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice",18,69
openstack%2Fswift~master~Iad6a3bcc99a26550048346dffec9aee432828f3a,openstack/swift,master,Iad6a3bcc99a26550048346dffec9aee432828f3a,use a context manager to apply --no-auto-shard option,MERGED,2020-12-18 11:58:18.000000000,2021-08-20 19:00:17.000000000,2021-08-20 18:58:43.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 11:58:18.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9f9360833cd3d84cb9f483ce1a2ddc42c33a0b7f', 'message': 'use a context manager to apply --no-auto-shard option\n\n...so that it gets unapplied at end of the run_* methods\n\nThis is probably overkill, but does guard against unforeseen\nside-effects if the daemon run_* methods were ever called more than\nonce with different kwargs.\n\nChange-Id: Iad6a3bcc99a26550048346dffec9aee432828f3a\n'}]",3,767703,9f9360833cd3d84cb9f483ce1a2ddc42c33a0b7f,14,3,1,7847,,,0,"use a context manager to apply --no-auto-shard option

...so that it gets unapplied at end of the run_* methods

This is probably overkill, but does guard against unforeseen
side-effects if the daemon run_* methods were ever called more than
once with different kwargs.

Change-Id: Iad6a3bcc99a26550048346dffec9aee432828f3a
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/767703/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,9f9360833cd3d84cb9f483ce1a2ddc42c33a0b7f,p-shard-repair,"from contextlib import contextmanager @contextmanager def _set_auto_shard_from_command_line(self, **kwargs): conf_auto_shard = self.auto_shard try: yield finally: self.auto_shard = conf_auto_shard with self._set_auto_shard_from_command_line(**kwargs): self.reported = time.time() time.sleep(random() * self.interval) while True: begin = time.time() try: self._one_shard_cycle(devices_to_shard=Everything(), partitions_to_shard=Everything()) except (Exception, Timeout): self.logger.increment('errors') self.logger.exception('Exception in sharder') elapsed = time.time() - begin self.logger.info( 'Container sharder cycle completed: %.02fs', elapsed) if elapsed < self.interval: time.sleep(self.interval - elapsed) with self._set_auto_shard_from_command_line(**kwargs): begin = self.reported = time.time() self._one_shard_cycle(devices_to_shard=devices_to_shard, partitions_to_shard=partitions_to_shard) elapsed = time.time() - begin self.logger.info( 'Container sharder ""once"" mode completed: %.02fs', elapsed)"," def _set_auto_shard_from_command_line(self, **kwargs): self._set_auto_shard_from_command_line(**kwargs) self.reported = time.time() time.sleep(random() * self.interval) while True: begin = time.time() try: self._one_shard_cycle(devices_to_shard=Everything(), partitions_to_shard=Everything()) except (Exception, Timeout): self.logger.increment('errors') self.logger.exception('Exception in sharder') elapsed = time.time() - begin self.logger.info( 'Container sharder cycle completed: %.02fs', elapsed) if elapsed < self.interval: time.sleep(self.interval - elapsed) self._set_auto_shard_from_command_line(**kwargs) begin = self.reported = time.time() self._one_shard_cycle(devices_to_shard=devices_to_shard, partitions_to_shard=partitions_to_shard) elapsed = time.time() - begin self.logger.info( 'Container sharder ""once"" mode completed: %.02fs', elapsed)",30,23
openstack%2Frequirements~master~I8f2233b8d19978c6a12a260960948e4ec3297b95,openstack/requirements,master,I8f2233b8d19978c6a12a260960948e4ec3297b95,update constraint for metalsmith to new release 1.5.1,MERGED,2021-08-20 13:51:22.000000000,2021-08-20 19:00:16.000000000,2021-08-20 18:58:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-20 13:51:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/421a799c24616cbfea311d7ca3965ce268365905', 'message': 'update constraint for metalsmith to new release 1.5.1\n\nmeta: version: 1.5.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5e2ada4bd525d9568d53eea58e1264adcc81dd84\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I8f2233b8d19978c6a12a260960948e4ec3297b95\n'}]",0,805385,421a799c24616cbfea311d7ca3965ce268365905,9,3,1,11131,,,0,"update constraint for metalsmith to new release 1.5.1

meta: version: 1.5.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5e2ada4bd525d9568d53eea58e1264adcc81dd84
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I8f2233b8d19978c6a12a260960948e4ec3297b95
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/805385/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,421a799c24616cbfea311d7ca3965ce268365905,new-release,metalsmith===1.5.1,metalsmith===1.5.0,1,1
openstack%2Fopenstack-tempest-skiplist~master~Iaa22816430cad5b2d163b920b2d5db830cc275a4,openstack/openstack-tempest-skiplist,master,Iaa22816430cad5b2d163b920b2d5db830cc275a4,Update FloatingIpMultipleRoutersTest in skiplist,MERGED,2021-08-20 14:25:43.000000000,2021-08-20 18:49:36.000000000,2021-08-20 18:48:00.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 14:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ed93dcdacb5215a515b94b17a98e54387449c0ef', 'message': 'Update FloatingIpMultipleRoutersTest in skiplist\n\nAs described in bug #1940568, the test is frequently failing so\nwe are moving it to skiplist to unblock jobs.\nAdding job:\n - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-wallaby\n\nRelated-Bug: #1940568\nChange-Id: Iaa22816430cad5b2d163b920b2d5db830cc275a4\n'}, {'number': 2, 'created': '2021-08-20 15:12:14.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/88ee6527a93c92927205731933bbc23ad3afedf0', 'message': 'Update FloatingIpMultipleRoutersTest in skiplist\n\nAs described in bug #1940568, the test is frequently failing so\nwe are moving it to skiplist to unblock jobs.\nAdding job:\n - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-wallaby\n\nRelated-Bug: #1940568\nChange-Id: Iaa22816430cad5b2d163b920b2d5db830cc275a4\n'}]",1,805393,88ee6527a93c92927205731933bbc23ad3afedf0,11,3,2,30002,,,0,"Update FloatingIpMultipleRoutersTest in skiplist

As described in bug #1940568, the test is frequently failing so
we are moving it to skiplist to unblock jobs.
Adding job:
 - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-wallaby

Related-Bug: #1940568
Change-Id: Iaa22816430cad5b2d163b920b2d5db830cc275a4
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/93/805393/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,ed93dcdacb5215a515b94b17a98e54387449c0ef,bug/1940568, - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-wallaby,,1,0
openstack%2Foslo.messaging~master~I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd,openstack/oslo.messaging,master,I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd,amqp1: Do not reuse _socket_connection on reconnect,MERGED,2021-08-04 19:09:10.000000000,2021-08-20 18:12:24.000000000,2021-08-20 18:09:40.000000000,"[{'_account_id': 8770}, {'_account_id': 9257}, {'_account_id': 15334}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-04 19:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4da420d87c6f1886e05766e2c7b9f14452141f9f', 'message': ""amqp1: Do not reuse _socket_connection on reconnect\n\nEach _SocketConnection object is unique per-peer.  For example, the\nproperties attribute may contain keys such as 'x-ssl-peer-name'.\nReusing the existing _socket_connection during failover will cause the\nTLS handshake to fail since the peer name will not match.  There is\npotential for other similar-yet-unexplored bad things to happen as\nwell.\n\nInstead, reconnect by waking up the eventloop via the _do_reconnect\nmethod, which reconstructs the connection properties to reflect the\nnew (failed-over-to) host and ultimately crates a new\n_SocketConnection (or re-uses a *valid* old one) in\neventloop.Thread.connect().\n\nCloses-Bug: #1938945\nChange-Id: I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd\n""}, {'number': 2, 'created': '2021-08-10 21:04:38.000000000', 'files': ['oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f9de265f392dca5386491120593d57b124342c5f', 'message': ""amqp1: Do not reuse _socket_connection on reconnect\n\nEach _SocketConnection object is unique per-peer.  For example, the\nproperties attribute may contain keys such as 'x-ssl-peer-name'.\nReusing the existing _socket_connection during failover will cause the\nTLS handshake to fail since the peer name will not match.  There is\npotential for other similar-yet-unexplored bad things to happen as\nwell.\n\nInstead, reconnect by waking up the eventloop via the _do_reconnect\nmethod, which reconstructs the connection properties to reflect the\nnew (failed-over-to) host and ultimately crates a new\n_SocketConnection (or re-uses a *valid* old one) in\neventloop.Thread.connect().\n\nCloses-Bug: #1938945\nChange-Id: I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd\n""}]",0,803508,f9de265f392dca5386491120593d57b124342c5f,12,6,2,9257,,,0,"amqp1: Do not reuse _socket_connection on reconnect

Each _SocketConnection object is unique per-peer.  For example, the
properties attribute may contain keys such as 'x-ssl-peer-name'.
Reusing the existing _socket_connection during failover will cause the
TLS handshake to fail since the peer name will not match.  There is
potential for other similar-yet-unexplored bad things to happen as
well.

Instead, reconnect by waking up the eventloop via the _do_reconnect
method, which reconstructs the connection properties to reflect the
new (failed-over-to) host and ultimately crates a new
_SocketConnection (or re-uses a *valid* old one) in
eventloop.Thread.connect().

Closes-Bug: #1938945
Change-Id: I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/08/803508/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/amqp1_driver/controller.py'],1,4da420d87c6f1886e05766e2c7b9f14452141f9f,amqp1-fix-tls-failover, self.processor.wakeup(lambda: self._do_connect()), self._socket_connection.connect(host),1,1
openstack%2Foslo.messaging~master~Ia2f977795abc2e81a996e299867e05d41057f33f,openstack/oslo.messaging,master,Ia2f977795abc2e81a996e299867e05d41057f33f,amqp1: re-organize TestFailover to be reused by TestSSL,MERGED,2021-08-10 21:04:38.000000000,2021-08-20 18:11:02.000000000,2021-08-20 18:09:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-10 21:04:38.000000000', 'files': ['oslo_messaging/tests/drivers/test_amqp_driver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/01f5b3787494f0402c22c9e1fe78d293154dac6a', 'message': 'amqp1: re-organize TestFailover to be reused by TestSSL\n\nThis breaks out the generation of brokers and transport_url into\nseparate methods.  These methods are used in the next patch in this\nseries, where TestSSL is updated to inherit from TestFailover, and\nTestSSL overrides the _gen_brokers and _gen_transport_url methods to\nsupply the necessary SSL-aware options.\n\nChange-Id: Ia2f977795abc2e81a996e299867e05d41057f33f\n'}]",0,804141,01f5b3787494f0402c22c9e1fe78d293154dac6a,8,3,1,9257,,,0,"amqp1: re-organize TestFailover to be reused by TestSSL

This breaks out the generation of brokers and transport_url into
separate methods.  These methods are used in the next patch in this
series, where TestSSL is updated to inherit from TestFailover, and
TestSSL overrides the _gen_brokers and _gen_transport_url methods to
supply the necessary SSL-aware options.

Change-Id: Ia2f977795abc2e81a996e299867e05d41057f33f
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/41/804141/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_amqp_driver.py'],1,01f5b3787494f0402c22c9e1fe78d293154dac6a,amqp1-fix-tls-failover," self._brokers = self._gen_brokers() self._broker_url = self._gen_transport_url(hosts) def _gen_brokers(self): return [FakeBroker(self.conf.oslo_messaging_amqp, product=""qpid-cpp""), FakeBroker(self.conf.oslo_messaging_amqp, product=""routable"")] def _gen_transport_url(self, hosts): return oslo_messaging.TransportURL(self.conf, transport=""amqp"", hosts=hosts) "," self._brokers = [FakeBroker(self.conf.oslo_messaging_amqp, product=""qpid-cpp""), FakeBroker(self.conf.oslo_messaging_amqp, product=""routable"")] self._broker_url = oslo_messaging.TransportURL(self.conf, transport=""amqp"", hosts=hosts)",13,7
openstack%2Fnova~master~Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8,openstack/nova,master,Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8,smartnic support - reject server move and suspend,MERGED,2021-03-11 07:46:21.000000000,2021-08-20 18:03:59.000000000,2021-08-19 18:13:22.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-03-11 07:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de0358a2e1c355c40fb38af627ca787da60b8088', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 2, 'created': '2021-03-11 07:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c003ab2658c488245ddb62e0ae0316427281e27', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 3, 'created': '2021-03-11 07:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08222a0adba64a170d98accc31468f8c9b87a4ea', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 4, 'created': '2021-03-11 08:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/744a0547db5a6336bc799f8ebd2c88115a65ab04', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 5, 'created': '2021-03-30 08:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09843d5965262affd8aae0b0fd326ad71c854172', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 6, 'created': '2021-05-14 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1b5b9d7c8f9a8251a6417d0416a4f53b0e6843b', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 7, 'created': '2021-05-20 06:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4078179da2ccaa431514b9a2ed3fa62c41518343', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 8, 'created': '2021-05-21 08:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d94598d9487422ebde46863db600b22ecedad3c5', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 9, 'created': '2021-06-02 06:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c911090eb07cdf8a603988c17637c55965b8dfbf', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 10, 'created': '2021-06-08 07:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/514462d07cfc223f90d8ff9bafec12437ab3aff8', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 11, 'created': '2021-06-09 06:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04120d376a3c52387fb6caad8226cb247791fe0f', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 12, 'created': '2021-06-11 08:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41af04636706e0332198379441d894612cfdbac4', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 13, 'created': '2021-06-15 02:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fec1201aa46e514f97cbaa4eafa8634c5415588f', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 14, 'created': '2021-06-15 07:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b00f2fb30b3be9ae0e0a50391c138a796efabf08', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 15, 'created': '2021-06-16 07:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83746914ae63de4c5b95d33db2ac7fc6e6e4855d', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 16, 'created': '2021-06-17 07:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c1c0385ea7b17974b893c5e3d65cad7142ff89b', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 17, 'created': '2021-06-17 09:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3f436f1e95ec8767119e56b9512fec401167fd3', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 18, 'created': '2021-06-18 07:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6096b22d485cb58bd50cf9e95e9fc27ece9f71e6', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 19, 'created': '2021-06-21 05:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66fbc2ad8cfe4745ae9d7974b56d648e46f58808', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 20, 'created': '2021-06-25 07:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9694e057d2e7b98602d0644beefb4cd3b21a0f97', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 21, 'created': '2021-06-25 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c17e6e3a4581401b6aace2cee7c765b231c68f7', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 22, 'created': '2021-06-28 06:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f93c8f1eadb0eb1421d39c3624319bb2eabf3e24', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 23, 'created': '2021-06-29 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16c6a4b6c428c2bbce7189c4adce99daad39a2bb', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 24, 'created': '2021-06-30 01:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86ddd06cff2e4b0ad8f48c728900166bc1fb19b7', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 25, 'created': '2021-06-30 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab94b812ff4714be8ef9bf870f4fd9111facaf58', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 26, 'created': '2021-07-02 03:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adcabde471f8c70c8d3298227c0da77dc555ac49', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 27, 'created': '2021-07-05 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/823329b5e7ceffe54edbb1cd0841eb9a98b39ad8', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 28, 'created': '2021-07-13 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b12743121ba2bf7746474804f12421db3cf2cb1', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 29, 'created': '2021-07-14 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9556d09fbb072f20c3efb4a6eb8fc4ee9e5355bb', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port that request multi devices\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 30, 'created': '2021-07-15 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13475cee30bbb9c9f0dbf0b77541b3cea6f7ac4e', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\t- attach/detach a smartnic port\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port which have a malformed device\nprofile that request multi devices, like:\n  {\n      ""resources:CUSTOM_ACCELERATOR_FPGA"": ""2"",\n      ""trait:CUSTOM_INTEL_PAC_ARRIA10"": ""required"",\n  }\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 31, 'created': '2021-07-16 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/851c9bfd7cf9bf093156da1b84b8c0f0104f9491', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\t- attach/detach a smartnic port\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port which have a malformed device\nprofile that request multi devices, like:\n  {\n      ""resources:CUSTOM_ACCELERATOR_FPGA"": ""2"",\n      ""trait:CUSTOM_INTEL_PAC_ARRIA10"": ""required"",\n  }\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}, {'number': 32, 'created': '2021-08-05 08:02:19.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/api/openstack/compute/shelve.py', 'nova/objects/service.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/accelerator/cyborg.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_api.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/exception.py', 'nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/network/neutron.py', 'nova/tests/unit/policies/test_servers.py', 'releasenotes/notes/smartnic-support-0339efe4b68075fe.yaml', 'nova/api/openstack/compute/suspend_server.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f53176d2f4303b909ecad18cb0f027bfcd0b7ae', 'message': 'smartnic support - reject server move and suspend\n\nServer with ARQ in the port does not support move and suspend,\nreject these operations in API stage:\n\n\t- resize\n\t- shelve\n\t- live_migrate\n\t- evacuate\n\t- suspend\n\t- attach/detach a smartnic port\n\nReject create server with smartnic in port if minimal compute\nservice version less than 57\n\nReject create server with port which have a malformed device\nprofile that request multi devices, like:\n  {\n      ""resources:CUSTOM_ACCELERATOR_FPGA"": ""2"",\n      ""trait:CUSTOM_INTEL_PAC_ARRIA10"": ""required"",\n  }\n\nImplements: blueprint sriov-smartnic-support\nChange-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8\n'}]",32,779913,1f53176d2f4303b909ecad18cb0f027bfcd0b7ae,212,6,32,7543,,,0,"smartnic support - reject server move and suspend

Server with ARQ in the port does not support move and suspend,
reject these operations in API stage:

	- resize
	- shelve
	- live_migrate
	- evacuate
	- suspend
	- attach/detach a smartnic port

Reject create server with smartnic in port if minimal compute
service version less than 57

Reject create server with port which have a malformed device
profile that request multi devices, like:
  {
      ""resources:CUSTOM_ACCELERATOR_FPGA"": ""2"",
      ""trait:CUSTOM_INTEL_PAC_ARRIA10"": ""required"",
  }

Implements: blueprint sriov-smartnic-support
Change-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/779913/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",6,de0358a2e1c355c40fb38af627ca787da60b8088,bp/sriov-smartnic-support," info_cache = objects.InstanceInfoCache() info_cache.network_info = model.NetworkInfo([]) instance.info_cache = info_cache def _test_block_port_accelerators(self, instance, args_info): @compute_api.block_port_accelerators() def myfunc(self, context, instance, *args, **kwargs): args_info['args'] = (context, instance, *args) args_info['kwargs'] = dict(**kwargs) args = ('arg1', 'arg2') kwargs = {'arg3': 'dummy3', 'arg4': 'dummy4'} myfunc(mock.ANY, self.context, instance, *args, **kwargs) expected_args = (self.context, instance, *args) return expected_args, kwargs def test_block_port_accelerators_no_ACCELERATOR_DIRECT(self): instance = self._create_instance_obj() nw_info = model.NetworkInfo.hydrate([]) instance.info_cache.network_info = nw_info args_info = {} expected_args, kwargs = self._test_block_port_accelerators( instance, args_info) self.assertEqual(expected_args, args_info['args']) self.assertEqual(kwargs, args_info['kwargs']) def test_block_port_accelerators_with_ACCELERATOR_DIRECT(self): instance = self._create_instance_obj() nw_info = model.NetworkInfo.hydrate( [{'vnic_type': model.VNIC_TYPE_ACCELERATOR_DIRECT}]) instance.info_cache.network_info = nw_info args_info = {} self.assertRaisesRegex(exception.ForbiddenWithAccelerators, 'Forbidden with instances that have accelerators.', self._test_block_port_accelerators, instance, args_info) self.assertEqual({}, args_info) def test_block_port_accelerators_with_ACCELERATOR_DIRECT_PHYSICAL(self): instance = self._create_instance_obj() nw_info = model.NetworkInfo.hydrate( [{'vnic_type': model.VNIC_TYPE_ACCELERATOR_DIRECT_PHYSICAL}]) instance.info_cache.network_info = nw_info args_info = {} self.assertRaisesRegex(exception.ForbiddenWithAccelerators, 'Forbidden with instances that have accelerators.', self._test_block_port_accelerators, instance, args_info) self.assertEqual({}, args_info) @mock.patch.object(compute_utils, 'create_image') def test_shelve_with_unsupport_port_accelerators( self, mock_create_img, mock_get_arq_uuids): instance = self._create_instance_obj() nw_info = model.NetworkInfo.hydrate( [{'vnic_type': model.VNIC_TYPE_ACCELERATOR_DIRECT_PHYSICAL}]) instance.info_cache.network_info = nw_info with test.nested( mock.patch('nova.compute.utils.is_volume_backed_instance', return_value=False), mock.patch.object(objects.Instance, 'save'), mock.patch.object(self.compute_api, '_record_action_start'), ) as ( mock_volume_backend, mock_instance_save, mock_record_action ): self.assertRaises( exception.ForbiddenWithAccelerators, self.compute_api.shelve, self.context, instance) @mock.patch('nova.accelerator.cyborg._CyborgClient.' 'get_arq_uuids_for_instance')", instance.info_cache = objects.InstanceInfoCache(),107,8
openstack%2Fcinder~stable%2Fstein~Iaeeb7745335a81419ef4d49fc996c566d68690ba,openstack/cinder,stable/stein,Iaeeb7745335a81419ef4d49fc996c566d68690ba,DNM Dummy change to test a cinder-tempest-plugin/stein fix,ABANDONED,2021-06-28 15:47:55.000000000,2021-08-20 18:01:25.000000000,,"[{'_account_id': 12670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 15:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e0c7615641513ed909b7d36cb48d171aef92b2a', 'message': 'DNM Dummy change to test a cinder-tempest-plugin/stein fix\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/798344\nChange-Id: Iaeeb7745335a81419ef4d49fc996c566d68690ba\n'}, {'number': 2, 'created': '2021-06-28 16:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63539e8953e03d6dbaf97cba7071cc746d4089b3', 'message': 'DNM Dummy change to test a cinder-tempest-plugin/stein fix\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/798344\nChange-Id: Iaeeb7745335a81419ef4d49fc996c566d68690ba\n'}, {'number': 3, 'created': '2021-06-28 20:33:35.000000000', 'files': ['cinder/quota.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/572ae3c674c84360491cf8715e90da3a242878eb', 'message': 'DNM Dummy change to test a cinder-tempest-plugin/stein fix\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/798344\nChange-Id: Iaeeb7745335a81419ef4d49fc996c566d68690ba\n'}]",0,798347,572ae3c674c84360491cf8715e90da3a242878eb,19,2,3,10459,,,0,"DNM Dummy change to test a cinder-tempest-plugin/stein fix

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/798344
Change-Id: Iaeeb7745335a81419ef4d49fc996c566d68690ba
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/798347/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,9e0c7615641513ed909b7d36cb48d171aef92b2a,pin-stein-last,,,2,0
openstack%2Foslo.db~stable%2Fussuri~Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,openstack/oslo.db,stable/ussuri,Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""",MERGED,2021-06-30 08:18:34.000000000,2021-08-20 18:00:22.000000000,2021-08-20 17:57:08.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-06-30 08:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2c0253bd0d9d4e7bd52c76ba4fa29ee8881c76c5', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)\n'}, {'number': 2, 'created': '2021-08-04 09:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ba74dfeedd324e77bca15044fe81b0f60512381d', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)\n'}, {'number': 3, 'created': '2021-08-04 09:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/85ce1950e5067a5c60a3f4363bc3e5f1de8c510f', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)\n(cherry picked from commit 698e909bc22e3568e11959ed3cff64aa94a39922)\n(cherry picked from commit 81e55722dc83744c7cc5fc6a062248843519db69)\n'}, {'number': 4, 'created': '2021-08-04 12:50:38.000000000', 'files': ['releasenotes/notes/fix-mysql-duplicate-key-error-information-update-548888bc44b8dbd7.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a051545781d8ce9604b52bbe6dacde55a5e51629', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)\n(cherry picked from commit 698e909bc22e3568e11959ed3cff64aa94a39922)\n(cherry picked from commit 81e55722dc83744c7cc5fc6a062248843519db69)\n'}]",0,798765,a051545781d8ce9604b52bbe6dacde55a5e51629,15,3,4,33244,,,0,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""

Followup of change: Ic78059b625e73cece355541cb4d89e641abc1103

Change-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346
(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)
(cherry picked from commit 698e909bc22e3568e11959ed3cff64aa94a39922)
(cherry picked from commit 81e55722dc83744c7cc5fc6a062248843519db69)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/65/798765/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-mysql-duplicate-key-error-information-update-548888bc44b8dbd7.yaml'],1,2c0253bd0d9d4e7bd52c76ba4fa29ee8881c76c5,releasenote-mysql-duplicate-key-error-update-handler-stable/ussuri,"--- fixes: - | In mysql 8.0.19, duplicate key error information is extended to include the table name of the key. Previously, duplicate key error information included only the key value and key name. This extends capabilities to handle changes in duplicate key error information with newer mysql version since 8.0.19. ",,8,0
openstack%2Foslo.db~stable%2Fussuri~Ic78059b625e73cece355541cb4d89e641abc1103,openstack/oslo.db,stable/ussuri,Ic78059b625e73cece355541cb4d89e641abc1103,Added handler for mysql 8.0.19 duplicate key error update,MERGED,2021-06-30 08:15:36.000000000,2021-08-20 17:58:38.000000000,2021-08-20 17:57:06.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-06-30 08:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/826de1053269e49894cfddf357c0040f60f78b58', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nIn mysql 8.0.19 , Duplicate key error information is extended to\ninclude the table name of the key.Previously, duplicate key error\ninformation included only the key value and key name.\n\nUnit tests are provided for updated changes.\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\nCloses-Bug: #1896916\n(cherry picked from commit 2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd)\n'}, {'number': 2, 'created': '2021-08-04 08:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/41f631663143c3cda0a00ce367882c04db5587d6', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nIn mysql 8.0.19 , Duplicate key error information is extended to\ninclude the table name of the key.Previously, duplicate key error\ninformation included only the key value and key name.\n\nUnit tests are provided for updated changes.\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\nCloses-Bug: #1896916\n(cherry picked from commit 2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd)\n'}, {'number': 3, 'created': '2021-08-04 09:04:41.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/79bfbd6ec7705ca558c34b6e368f95d93ddf94b0', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nIn mysql 8.0.19 , Duplicate key error information is extended to\ninclude the table name of the key.Previously, duplicate key error\ninformation included only the key value and key name.\n\nUnit tests are provided for updated changes.\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\nCloses-Bug: #1896916\n(cherry picked from commit 2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd)\n(cherry picked from commit b32b643acc0528099a88504d4d824cdc002a85df)\n(cherry picked from commit 8867e335da5451779d54a05e3f6194a3361582af)\n'}]",0,798762,79bfbd6ec7705ca558c34b6e368f95d93ddf94b0,14,3,3,33244,,,0,"Added handler for mysql 8.0.19 duplicate key error update

In mysql 8.0.19 , Duplicate key error information is extended to
include the table name of the key.Previously, duplicate key error
information included only the key value and key name.

Unit tests are provided for updated changes.

Change-Id: Ic78059b625e73cece355541cb4d89e641abc1103
Closes-Bug: #1896916
(cherry picked from commit 2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd)
(cherry picked from commit b32b643acc0528099a88504d4d824cdc002a85df)
(cherry picked from commit 8867e335da5451779d54a05e3f6194a3361582af)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/62/798762/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py']",2,826de1053269e49894cfddf357c0040f60f78b58,handle_duplicate_mysql_key_error-stable/ussuri," def test_mysql_duplicate_entry_key_start_with_tablename(self): self._run_dupe_constraint_test( ""mysql"", ""1062 (23000): Duplicate entry '2' for key 'tbl.uniq_tbl0b'"", expected_columns=['b'], expected_value='2' ) def test_mysql_duplicate_entry_key_start_with_tablename_binary(self): self._run_dupe_constraint_test( ""mysql"", ""(1062, \'Duplicate entry "" ""\\\'\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E\\\' "" ""for key \\\'tbl.uniq_tbl0c1\\\'\')"", expected_columns=['c1'], expected_value=""\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E"" ) self._run_dupe_constraint_test( ""mysql"", ""(1062, \'Duplicate entry "" ""''\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E!,' "" ""for key 'tbl.uniq_tbl0c1'\')"", expected_columns=['c1'], expected_value=""'\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E!,"" ) ",,35,0
openstack%2Fdebtcollector~master~Ifc98b578c4cb6f917e1fc62177fd09ff4d25b6d4,openstack/debtcollector,master,Ifc98b578c4cb6f917e1fc62177fd09ff4d25b6d4,Replace deprecated inspect.getargspec,MERGED,2021-07-15 11:53:00.000000000,2021-08-20 17:51:15.000000000,2021-08-20 17:49:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-15 11:53:00.000000000', 'files': ['debtcollector/tests/test_deprecation.py'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/0bf5bf5f2a4775d6cbd634594757dac3524e5f23', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: Ifc98b578c4cb6f917e1fc62177fd09ff4d25b6d4\n'}]",0,800927,0bf5bf5f2a4775d6cbd634594757dac3524e5f23,8,3,1,9816,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ifc98b578c4cb6f917e1fc62177fd09ff4d25b6d4
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/27/800927/1 && git format-patch -1 --stdout FETCH_HEAD,['debtcollector/tests/test_deprecation.py'],1,0bf5bf5f2a4775d6cbd634594757dac3524e5f23,getargspec," self.assertEqual(inspect.getfullargspec(KittyKat.supermeow), inspect.getfullargspec(KittyKat.meow)) self.assertEqual(inspect.getfullargspec(blip_blop_unwrapped), inspect.getfullargspec(blip_blop)) self.assertEqual(inspect.getfullargspec(blip_blop_blip_unwrapped), inspect.getfullargspec(blip_blop_blip)) inspect.getfullargspec(crimson_lightning_unwrapped), inspect.getfullargspec(crimson_lightning)) self.assertEqual(inspect.getfullargspec(f_unwrapped), inspect.getfullargspec(f))"," self.assertEqual(inspect.getargspec(KittyKat.supermeow), inspect.getargspec(KittyKat.meow)) self.assertEqual(inspect.getargspec(blip_blop_unwrapped), inspect.getargspec(blip_blop)) self.assertEqual(inspect.getargspec(blip_blop_blip_unwrapped), inspect.getargspec(blip_blop_blip)) inspect.getargspec(crimson_lightning_unwrapped), inspect.getargspec(crimson_lightning)) self.assertEqual(inspect.getargspec(f_unwrapped), inspect.getargspec(f))",10,10
openstack%2Foslo.config~master~Ie7971577aeba299aaf9406fc97793d946342eaeb,openstack/oslo.config,master,Ie7971577aeba299aaf9406fc97793d946342eaeb,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-12-01 10:02:49.000000000,2021-08-20 17:50:44.000000000,2021-08-20 17:49:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-01 10:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/44f01eab5919e3c6c71e79773f37717fa9274ac0', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ie7971577aeba299aaf9406fc97793d946342eaeb\n'}, {'number': 2, 'created': '2021-06-03 02:13:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/807d9c5ca4369ca75a8a4fedbf45d252457ca573', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ie7971577aeba299aaf9406fc97793d946342eaeb\n'}]",0,764919,807d9c5ca4369ca75a8a4fedbf45d252457ca573,15,3,2,32029,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ie7971577aeba299aaf9406fc97793d946342eaeb
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/19/764919/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44f01eab5919e3c6c71e79773f37717fa9274ac0,TOX_CONSTRAINTS_FILE, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Foslo.privsep~master~I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d,openstack/oslo.privsep,master,I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d,Add except path with exception debug to send_recv,MERGED,2021-08-02 15:59:23.000000000,2021-08-20 17:46:42.000000000,2021-08-20 17:45:19.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-02 15:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/47941fb4f7b77e6530bbdf2cd9561e2663646e35', 'message': 'Add except path with exception debug to send_recv\n\nThe related bug resulted when an exception occurred within the future.result()\ncall. This caused the finally block to be executed, and therefore myid to be\ndeleted from self.outstanding_msgs prior, which therefore caused\n_reader_main() to raise an AssertionError because the msgid was no longer in\noutstanding_msgs. This is a small step forward to log a warning when this\nsiutation occurs.\n\nRelated-Bug: #1927868\nChange-Id: I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d\n'}, {'number': 2, 'created': '2021-08-02 16:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/ef860be2175625a47edfdfed60b965c3e10de252', 'message': 'Add except path with exception debug to send_recv\n\nThe related bug resulted when an exception occurred within the\nfuture.result() call. This caused the finally block to be executed,\nand therefore myid to be deleted from self.outstanding_msgs prior,\nwhich therefore caused _reader_main() to raise an AssertionError\nbecause the msgid was no longer in outstanding_msgs. This is a\nsmall step forward to log a warning when this siutation occurs.\n\nRelated-Bug: #1927868\nChange-Id: I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d\n'}, {'number': 3, 'created': '2021-08-02 16:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/0fca3f4677b32c43a8ecca3cc8afabe0503ceb00', 'message': 'Add except path with exception debug to send_recv\n\nThe related bug resulted when an exception occurred within the\nfuture.result() call. This caused the finally block to be executed,\nand therefore myid to be deleted from self.outstanding_msgs prior\nto _reader_main() checking if the msgid not in self.outstanding_msgs.\nThis caused _reader_main() to raise an AssertionError because the\nmsgid was no longer in outstanding_msgs. This is a small step forward\nto log a warning when this siutation occurs.\n\nRelated-Bug: #1927868\nChange-Id: I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d\n'}, {'number': 4, 'created': '2021-08-02 17:26:16.000000000', 'files': ['oslo_privsep/comm.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/4f1450677ff7c6b22496c391ab87dc79c86c3ef4', 'message': 'Add except path with exception debug to send_recv\n\nThe related bug resulted when an exception occurred within the\nfuture.result() call. This caused the finally block to be executed,\nand therefore myid to be deleted from self.outstanding_msgs prior\nto _reader_main() checking if the msgid not in self.outstanding_msgs.\nThis caused _reader_main() to raise an AssertionError because the\nmsgid was no longer in outstanding_msgs. This is a small step forward\nto log a warning when this siutation occurs.\n\nRelated-Bug: #1927868\nChange-Id: I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d\n'}]",3,803225,4f1450677ff7c6b22496c391ab87dc79c86c3ef4,12,3,4,11805,,,0,"Add except path with exception debug to send_recv

The related bug resulted when an exception occurred within the
future.result() call. This caused the finally block to be executed,
and therefore myid to be deleted from self.outstanding_msgs prior
to _reader_main() checking if the msgid not in self.outstanding_msgs.
This caused _reader_main() to raise an AssertionError because the
msgid was no longer in outstanding_msgs. This is a small step forward
to log a warning when this siutation occurs.

Related-Bug: #1927868
Change-Id: I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/25/803225/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_privsep/comm.py'],1,47941fb4f7b77e6530bbdf2cd9561e2663646e35,,"import sys except: LOG.warning(""Unexpected error: {}"".format(sys.exc_info()[0])) raise",,4,0
openstack%2Foslo.messaging~master~I4f286cf3af0d578f472b84fe355c812910c7a121,openstack/oslo.messaging,master,I4f286cf3af0d578f472b84fe355c812910c7a121,"Revert ""Disable AMQP 1.0 SSL unit tests""",MERGED,2021-08-05 20:33:06.000000000,2021-08-20 17:43:35.000000000,2021-08-20 17:41:57.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-05 20:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/365bdb684240554dc2f98a51a3ddb7311c8b5122', 'message': 'Revert ""Disable AMQP 1.0 SSL unit tests""\n\nThis reverts commit 8f5cfda6642ea7f75206d3183c2507e2e83c5693.\n\nReason for revert: This was supposed to be temporary to unblock the gate.  Whatever broke SSL cert generation in the first place appears to be fixed because I can run SSL tests now.\n\nChange-Id: I4f286cf3af0d578f472b84fe355c812910c7a121\n'}, {'number': 2, 'created': '2021-08-10 21:04:38.000000000', 'files': ['oslo_messaging/tests/drivers/test_amqp_driver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fc49e04e6df4f3245ae8a313d8ba4a54d48c42a0', 'message': 'Revert ""Disable AMQP 1.0 SSL unit tests""\n\nThis reverts commit 8f5cfda6642ea7f75206d3183c2507e2e83c5693.\n\nReason for revert: This was supposed to be temporary to unblock the gate.  Whatever broke SSL cert generation in the first place appears to be fixed because I can run SSL tests now.\n\nChange-Id: I4f286cf3af0d578f472b84fe355c812910c7a121\n'}]",0,803670,fc49e04e6df4f3245ae8a313d8ba4a54d48c42a0,10,7,2,9257,,,0,"Revert ""Disable AMQP 1.0 SSL unit tests""

This reverts commit 8f5cfda6642ea7f75206d3183c2507e2e83c5693.

Reason for revert: This was supposed to be temporary to unblock the gate.  Whatever broke SSL cert generation in the first place appears to be fixed because I can run SSL tests now.

Change-Id: I4f286cf3af0d578f472b84fe355c812910c7a121
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/70/803670/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_amqp_driver.py'],1,365bdb684240554dc2f98a51a3ddb7311c8b5122,amqp1-fix-tls-failover,"SSL_ENABLED = (_proton and getattr(_proton.SSL, ""present"", lambda: False)())","# SSL_ENABLED = (_proton and getattr(_proton.SSL, ""present"", lambda: False)()) SSL_ENABLED = False",1,2
openstack%2Fnova~master~Iadcc1944b43cc11d5e9d4c27e4949d811c2dcdfb,openstack/nova,master,Iadcc1944b43cc11d5e9d4c27e4949d811c2dcdfb,Improve prep_resize reschedule unit test,MERGED,2021-07-09 18:53:42.000000000,2021-08-20 17:24:54.000000000,2021-08-20 17:22:01.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 18:53:42.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be9fe5ce6154ef116e631a11589bf60c9ecc4b71', 'message': 'Improve prep_resize reschedule unit test\n\nUnit test test_prep_resize_errors_migration was\nfailing on _get_scheduler_hints instead of\n_prep_resize. This change fixes the unit test\nto raise the error in the proper statement and\nvalidate the intended code path.\n\nChange-Id: Iadcc1944b43cc11d5e9d4c27e4949d811c2dcdfb\n'}]",0,800297,be9fe5ce6154ef116e631a11589bf60c9ecc4b71,14,3,1,14567,,,0,"Improve prep_resize reschedule unit test

Unit test test_prep_resize_errors_migration was
failing on _get_scheduler_hints instead of
_prep_resize. This change fixes the unit test
to raise the error in the proper statement and
validate the intended code path.

Change-Id: Iadcc1944b43cc11d5e9d4c27e4949d811c2dcdfb
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/800297/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute_mgr.py'],1,be9fe5ce6154ef116e631a11589bf60c9ecc4b71,," request_spec = objects.RequestSpec() request_spec, request_spec, {}, []) mock_pr.assert_called_once_with( self.context, mock.sentinel.image, instance, flavor, {}, 'node', migration, request_spec, False)"," mock.sentinel.request_spec, mock.sentinel.request_spec, {}, [])",7,2
openstack%2Fpuppet-ironic~master~I48e3f36115825f620dfc924fe097cdce92deb80d,openstack/puppet-ironic,master,I48e3f36115825f620dfc924fe097cdce92deb80d,Expose sync_power_state_workers,MERGED,2021-08-20 08:32:27.000000000,2021-08-20 17:24:09.000000000,2021-08-20 17:22:23.000000000,"[{'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 08:32:27.000000000', 'files': ['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/add-sync-power-state-workers-57a03f7db87e679c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9e2422cc4ee8168ba64b68f8a33010c166beeb12', 'message': 'Expose sync_power_state_workers\n\nThe sync_power_state_workers parameter allows to tune the parallelism\nin BMC connections when getting the power state. This may be needed to\ncope with misbehaving BMCs or IPMI power status failures due to UDP\npacket loss.\n\nChange-Id: I48e3f36115825f620dfc924fe097cdce92deb80d\n'}]",0,805357,9e2422cc4ee8168ba64b68f8a33010c166beeb12,8,3,1,11292,,,0,"Expose sync_power_state_workers

The sync_power_state_workers parameter allows to tune the parallelism
in BMC connections when getting the power state. This may be needed to
cope with misbehaving BMCs or IPMI power status failures due to UDP
packet loss.

Change-Id: I48e3f36115825f620dfc924fe097cdce92deb80d
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/57/805357/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/add-sync-power-state-workers-57a03f7db87e679c.yaml']",3,9e2422cc4ee8168ba64b68f8a33010c166beeb12,sync_power_state_workers,--- features: - | Expose the ``sync_power_state_workers`` in ``ironic::conductor``. ,,14,0
openstack%2Fcinder~master~Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,openstack/cinder,master,Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,Allow removing NFS snapshots in error status,MERGED,2019-08-28 20:40:03.000000000,2021-08-20 17:23:49.000000000,2021-08-20 17:18:30.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16373}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29631}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30615}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-28 20:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b5f7bd4cb2c289f1cc9094b5e9f9dae90246c3b', 'message': ""NFS snapshot deletion issue\n\nWIP\nCan't delete snapshots in error status.\n\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 2, 'created': '2019-08-30 16:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5459d92c33b67e9ab762156f650105e280dda0e5', 'message': ""NFS doesn't remove snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots when 'snapshot support' is set to\nFalse. However, I'm able to 'create' error snapshots anyway.\nBecause of that, I have snapshots in error state that I'm not able to delete.\n\nIn order to fix this, the driver should look for any NFS snapshot file in the local\npath even when the snapshot support is False. If there are some files, the driver\navoids to check the snapshot support and just delete the snapshot.\n\nIt makes sense to block creating snapshots when snapshot support is False. However,\nwhen deleting snapshot we don't want to block attempts to delete a broken snapshot\nDB entry, which is necessary to clean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 3, 'created': '2019-09-04 19:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7800079e9e685a1ac8caf6013b1c1309f61a820e', 'message': ""NFS doesn't remove snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots when 'snapshot support' is set to\nFalse. However, I'm able to 'create' error snapshots anyway.\nBecause of that, I have snapshots in error state that I'm not able to delete.\n\nIn order to fix this, the driver should look for any NFS snapshot file in the local\npath even when the snapshot support is False. If there are some files, the driver\navoids to check the snapshot support and just delete the snapshot.\n\nIt makes sense to block creating snapshots when snapshot support is False. However,\nwhen deleting snapshot we don't want to block attempts to delete a broken snapshot\nDB entry, which is necessary to clean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 4, 'created': '2019-09-05 17:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/660219688d5579cbd7ae5aac489c63f1f1c8cb98', 'message': ""Allow removing NFS snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots when 'snapshot support' is set to\nFalse. However, I'm able to 'create' error snapshots anyway.\nBecause of that, I have snapshots in error state that I'm not able to delete.\n\nIt makes sense to block creating snapshots when snapshot support is False. However,\nwhen deleting snapshot we don't want to block attempts to delete a broken snapshot\nDB entry, which is necessary to clean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 5, 'created': '2019-12-03 22:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e6715986445673d94ec8c1b4d5fdae345013f40', 'message': ""Allow removing NFS snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots in error state when snapshot\nsupport is disable. The purpose of this fix is checking the previous\nsnapshot status and allow deleting snapshots in error state.\n\nThe root of the problem comes from the NFS driver. The driver allow you\nto create snapshots even if snapshot support is disable.\nBecause of that, I have snapshots in error state that I'm not able to delete.\n\nIt makes sense to block creating snapshots when snapshot support is False. However,\nwhen deleting snapshot we don't want to block attempts to delete a broken snapshot\nDB entry, which is necessary to clean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 6, 'created': '2020-01-31 13:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb139e0ed8b27e7fa774235ab9e0108ec3b2c19d', 'message': ""Allow removing NFS snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots in error state when snapshot\nsupport is disable. The purpose of this fix is checking the previous\nsnapshot status and allow deleting snapshots in error state.\n\nThe root of the problem comes from the NFS driver. The driver allow you\nto create snapshots even if snapshot support is disable.\nBecause of that, I have snapshots in error state that I'm not able to delete.\n\nIt makes sense to block creating snapshots when snapshot support is False. However,\nwhen deleting snapshot we don't want to block attempts to delete a broken snapshot\nDB entry, which is necessary to clean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 7, 'created': '2020-01-31 14:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/405d4e3e92728a69495d669b7e4b3873f134cd9d', 'message': ""Allow removing NFS snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots in error state when snapshot\nsupport is disable. The purpose of this fix is checking the previous\nsnapshot status and allow deleting snapshots in error state.\n\nThe root of the problem comes from the NFS driver. The driver allow you\nto create snapshots even if snapshot support is disable.\nBecause of that, I have snapshots in error state that I'm not able to delete.\n\nIt makes sense to block creating snapshots when snapshot support is False. However,\nwhen deleting snapshot we don't want to block attempts to delete a broken snapshot\nDB entry, which is necessary to clean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 8, 'created': '2020-01-31 14:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e13b3b0eea86f99ade7b5f247fd35c54cdcb15b9', 'message': ""Allow removing NFS snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots in error state when snapshot\nsupport is disable. The purpose of this fix is checking the previous\nsnapshot status and allow deleting snapshots in error state.\n\nThe root of the problem comes from the NFS driver. The driver allow you\nto create snapshots even if snapshot support is disable.\nBecause of that, I have snapshots in error state that I'm not able to delete.\n\nIt makes sense to block creating snapshots when snapshot support is False. However,\nwhen deleting snapshot we don't want to block attempts to delete a broken snapshot\nDB entry, which is necessary to clean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 9, 'created': '2021-07-14 13:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5126fea9315a17ff6467c1137cd62d2894efef3b', 'message': ""Allow removing NFS snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots in error state when\nsnapshot support is disable. The purpose of this fix is checking the\nprevious snapshot status and allow deleting snapshots in error state.\n\nThe root of the problem comes from the NFS driver. The driver allow\nyou to create snapshots even if snapshot support is disable.\nBecause of that, I have snapshots in error state that I'm not able\nto delete.\n\nIt makes sense to block creating snapshots when snapshot support is\nFalse. However, when deleting snapshot we don't want to block\nattempts to delete a broken snapshot DB entry, which is necessary to\nclean up a failed snapshot create.\n\nPartial-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 10, 'created': '2021-07-14 13:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7182c1e14ec62e45c0878d12ee976c75282de558', 'message': ""Allow removing NFS snapshots in error status\n\nThe NFS driver doesn't allow to delete snapshots in error state when\nsnapshot support is disable. The purpose of this fix is checking the\nprevious snapshot status and allow deleting snapshots in error state.\n\nThe root of the problem comes from the NFS driver. The driver allow\nyou to create snapshots even if snapshot support is disable.\nBecause of that, I have snapshots in error state that I'm not able\nto delete.\n\nIt makes sense to block creating snapshots when snapshot support is\nFalse. However, when deleting snapshot we don't want to block\nattempts to delete a broken snapshot DB entry, which is necessary to\nclean up a failed snapshot create.\n\nPartial-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n""}, {'number': 11, 'created': '2021-07-20 23:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fa34ddf076ac3631228a4631a1eec5772bed9d3', 'message': 'Allow removing NFS snapshots in error status\n\nThe NFS driver doesn\'t allow to delete snapshots in error state when\nsnapshot support is disable. \n\nI\'m facing some scenarios where snapshots are enabled then a snapshot\nis created and after that then snapshots are disabled. This results\nin error state snapshots that can\'t be deleted.  Another scenario is\n- with nfs snapshot support disable from the beginning- the API layer\nallows the snapshot to be created but the NFS driver sets the status\nto ""error"" leaving the snapshot in the DB with error state.\nBecause of that, I have snapshots in error state that I\'m not able\nto delete.\n\nThe purpose of this fix allow deleting snapshots in error state.\nIt makes sense to block creating snapshots when snapshot support is\nFalse. However, when deleting snapshot we don\'t want to block\nattempts to delete a broken snapshot DB entry, which is necessary to\nclean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n'}, {'number': 12, 'created': '2021-07-23 17:17:16.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5714bdb8447a38440585116f784a322143711959', 'message': 'Allow removing NFS snapshots in error status\n\nThe NFS driver doesn\'t allow to delete snapshots in error state when\nsnapshot support is disable.\n\nI\'m facing some scenarios where snapshots are enabled then a snapshot\nis created and after that then snapshots are disabled. This results\nin error state snapshots that can\'t be deleted.  Another scenario is\n- with nfs snapshot support disable from the beginning- the API layer\nallows the snapshot to be created but the NFS driver sets the status\nto ""error"" leaving the snapshot in the DB with error state.\nBecause of that, I have snapshots in error state that I\'m not able\nto delete.\n\nThe purpose of this fix allow deleting snapshots in error state.\nIt makes sense to block creating snapshots when snapshot support is\nFalse. However, when deleting snapshot we don\'t want to block\nattempts to delete a broken snapshot DB entry, which is necessary to\nclean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n'}]",19,679138,5714bdb8447a38440585116f784a322143711959,298,50,12,20813,,,0,"Allow removing NFS snapshots in error status

The NFS driver doesn't allow to delete snapshots in error state when
snapshot support is disable.

I'm facing some scenarios where snapshots are enabled then a snapshot
is created and after that then snapshots are disabled. This results
in error state snapshots that can't be deleted.  Another scenario is
- with nfs snapshot support disable from the beginning- the API layer
allows the snapshot to be created but the NFS driver sets the status
to ""error"" leaving the snapshot in the DB with error state.
Because of that, I have snapshots in error state that I'm not able
to delete.

The purpose of this fix allow deleting snapshots in error state.
It makes sense to block creating snapshots when snapshot support is
False. However, when deleting snapshot we don't want to block
attempts to delete a broken snapshot DB entry, which is necessary to
clean up a failed snapshot create.

Closes-Bug: #1842088
Change-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/679138/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,0b5f7bd4cb2c289f1cc9094b5e9f9dae90246c3b,bug/1842088," info_path = self._local_path_volume_info(snapshot.volume) snap_exist = self._read_info_file(info_path, empty_if_missing=True) if snap_exist: return self._delete_snapshot(snapshot) else: self._check_snapshot_support() return self._delete_snapshot(snapshot) ",,8,0
openstack%2Fnova~master~Ib4950728d461a12ddfb8794c3c5be7ea07167fbb,openstack/nova,master,Ib4950728d461a12ddfb8794c3c5be7ea07167fbb,tests: Remove 'stub_out_trusted_certs',MERGED,2020-12-04 02:30:14.000000000,2021-08-20 17:23:06.000000000,2021-08-20 17:17:45.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-04 02:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1db28d427e6ea900e2fb793a19ebc98d212d040a', 'message': 'Fix invalid list-equal judgement\n\n""is"" can\'t be used to judge whether two lists are the same.\n\n>>> columns = [\'trusted_certs\']\n>>> columns is [\'trusted_certs\']\nFalse\n\nChange-Id: Ib4950728d461a12ddfb8794c3c5be7ea07167fbb\n'}, {'number': 2, 'created': '2021-07-29 11:47:58.000000000', 'files': ['nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/48f35058fe6f821644b4b188a1273a4d8e547d78', 'message': ""tests: Remove 'stub_out_trusted_certs'\n\nWe don't fetch TrustedCert objects like this. Instead, we simply access\n'instance.trusted_certs', which has already been configured earlier in\nthe '_action_rebuild' method in 'nova.api.openstack.compute.servers'.\n\nChange-Id: Ib4950728d461a12ddfb8794c3c5be7ea07167fbb\n""}]",0,765432,48f35058fe6f821644b4b188a1273a4d8e547d78,27,5,2,20190,,,0,"tests: Remove 'stub_out_trusted_certs'

We don't fetch TrustedCert objects like this. Instead, we simply access
'instance.trusted_certs', which has already been configured earlier in
the '_action_rebuild' method in 'nova.api.openstack.compute.servers'.

Change-Id: Ib4950728d461a12ddfb8794c3c5be7ea07167fbb
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/765432/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/fakes.py'],1,1db28d427e6ea900e2fb793a19ebc98d212d040a,list_equal, if columns == ['trusted_certs']:, if columns is ['trusted_certs']:,1,1
openstack%2Frequirements~master~I78f9c066d853def41d35a6db536922f9bd49f392,openstack/requirements,master,I78f9c066d853def41d35a6db536922f9bd49f392,update constraint for glance_store to new release 2.7.0,MERGED,2021-08-19 13:27:39.000000000,2021-08-20 17:22:44.000000000,2021-08-20 17:18:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 13:27:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/351976550c476c1fb24ae85f2947438dee918ce1', 'message': 'update constraint for glance_store to new release 2.7.0\n\nmeta: version: 2.7.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ib13cbe6e35c83d89216ad24958c4004affba13cb\nmeta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I78f9c066d853def41d35a6db536922f9bd49f392\n'}]",0,805220,351976550c476c1fb24ae85f2947438dee918ce1,30,3,1,11131,,,0,"update constraint for glance_store to new release 2.7.0

meta: version: 2.7.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib13cbe6e35c83d89216ad24958c4004affba13cb
meta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I78f9c066d853def41d35a6db536922f9bd49f392
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/805220/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,351976550c476c1fb24ae85f2947438dee918ce1,new-release,glance-store===2.7.0,glance-store===2.6.0,1,1
openstack%2Fnova~master~Iff44abf002aac548340ffab0a6f85bc4906738a3,openstack/nova,master,Iff44abf002aac548340ffab0a6f85bc4906738a3,Add logs when cannot fit numa,MERGED,2021-06-26 09:58:14.000000000,2021-08-20 17:21:50.000000000,2021-08-20 17:21:50.000000000,"[{'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-26 09:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd3fe5a1b75b2a67da7e52d9b6dc3e521dcf4973', 'message': ""Add logs when cannot fit numa\n\nWhen 'host_topology' can not be satified with 'requested_topology',\nnova-compute returns the msg to nova-conductor but there is no logs\nin nova-compute.log. Thouth there are some debug logs, but `debug`\nconfiguration is not be set to true in production environment. So\n the warning log should be added.\n\nChange-Id: Iff44abf002aac548340ffab0a6f85bc4906738a3\n""}, {'number': 2, 'created': '2021-06-27 11:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfb3c4e8b2512433e1075926ab2f326f65fe8ee1', 'message': ""Add logs when cannot fit numa\n\nWhen 'host_topology' can not be satified with 'requested_topology',\nnova-compute returns the msg to nova-conductor but there is no logs\nin nova-compute.log. Thouth there are some debug logs, but `debug`\nconfiguration is not be set to true in production environment. So\n the warning log should be added.\n\nChange-Id: Iff44abf002aac548340ffab0a6f85bc4906738a3\n""}, {'number': 3, 'created': '2021-07-03 02:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a0771a5b29ad9786e2e68769fddab2f54c1f91e', 'message': ""Add logs when cannot fit numa\n\nWhen 'host_topology' can not be satified with 'requested_topology',\nnova-compute returns the msg to nova-conductor but there is no logs\nin nova-compute.log. Thouth there are some debug logs, but `debug`\nconfiguration is not be set to true in production environment. So\n the warning log should be added.\n\nCloses-Bug: #1934412\nChange-Id: Iff44abf002aac548340ffab0a6f85bc4906738a3\n""}, {'number': 4, 'created': '2021-07-05 01:12:37.000000000', 'files': ['nova/compute/claims.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97a566ad9c3a6ab059dc94d154fb747e4b7d9ccd', 'message': ""Add logs when cannot fit numa\n\nWhen 'host_topology' can not be satified with 'requested_topology',\nnova-compute returns the msg to nova-conductor but there is no logs\nin nova-compute.log. So this patch adds some info log.\n\nCloses-Bug: #1934412\nChange-Id: Iff44abf002aac548340ffab0a6f85bc4906738a3\n""}]",15,798187,97a566ad9c3a6ab059dc94d154fb747e4b7d9ccd,49,5,4,23950,,,0,"Add logs when cannot fit numa

When 'host_topology' can not be satified with 'requested_topology',
nova-compute returns the msg to nova-conductor but there is no logs
in nova-compute.log. So this patch adds some info log.

Closes-Bug: #1934412
Change-Id: Iff44abf002aac548340ffab0a6f85bc4906738a3
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/798187/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/claims.py'],1,bd3fe5a1b75b2a67da7e52d9b6dc3e521dcf4973,change-798187-2," LOG.warning(_(""Requested instance NUMA topology together "" ""with requested PCI devices cannot fit the "" ""given host NUMA topology"")) LOG.warning(_(""Requested instance NUMA topology cannot "" ""fit the given host NUMA topology""))",,5,0
openstack%2Fcinder~stable%2Fwallaby~I179f23d3e6c62d02c069be0dd3d60968a2119568,openstack/cinder,stable/wallaby,I179f23d3e6c62d02c069be0dd3d60968a2119568,Add libcgroup related packages in bindep.txt,MERGED,2021-07-19 00:22:03.000000000,2021-08-20 17:21:30.000000000,2021-08-20 17:18:42.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-07-19 00:22:03.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba4dc6f937821451e476a8e6bd2fcb01c21542e2', 'message': 'Add libcgroup related packages in bindep.txt\n\nTo use volume_copy_bps_limit option, libcgroup package is required.\nThis change adds cgroup-tools for dpkg based distros and libcgroup-tools\nfor rpm based distros.\n\nCloses-Bug: #1931049\nChange-Id: I179f23d3e6c62d02c069be0dd3d60968a2119568\n(cherry picked from commit ca1e0bd76beafa20a2240260b1a5116b6ea6bfcd)\n'}]",0,801236,ba4dc6f937821451e476a8e6bd2fcb01c21542e2,23,6,1,25613,,,0,"Add libcgroup related packages in bindep.txt

To use volume_copy_bps_limit option, libcgroup package is required.
This change adds cgroup-tools for dpkg based distros and libcgroup-tools
for rpm based distros.

Closes-Bug: #1931049
Change-Id: I179f23d3e6c62d02c069be0dd3d60968a2119568
(cherry picked from commit ca1e0bd76beafa20a2240260b1a5116b6ea6bfcd)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/801236/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ba4dc6f937821451e476a8e6bd2fcb01c21542e2,bug/1931049-stable/wallaby,libcgroup-tools [platform:rpm] cgroup-tools [platform:dpkg],,2,0
openstack%2Fnova~master~Id08dafa72d617ca85e66d50b3c91045e0e8723d0,openstack/nova,master,Id08dafa72d617ca85e66d50b3c91045e0e8723d0,scheduler: Merge 'FilterScheduler' into base class,MERGED,2021-02-02 11:28:48.000000000,2021-08-20 17:21:10.000000000,2021-08-20 17:17:37.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc8cde70b0616d2a042d068c1c0fe38dbc27cf82', 'message': ""scheduler: Merge 'FilterScheduler' into base class\n\nThere are no longer any custom filters. We don't need the abstract base\nclass. Merge the code in and give it a more useful 'SchedulerDriver'\nname.\n\nChange-Id: Id08dafa72d617ca85e66d50b3c91045e0e8723d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9f0048687a18b8aaac3f6774668206daccf18e6', 'message': ""scheduler: Merge 'FilterScheduler' into base class\n\nThere are no longer any custom filters. We don't need the abstract base\nclass. Merge the code in and give it a more useful 'SchedulerDriver'\nname.\n\nChange-Id: Id08dafa72d617ca85e66d50b3c91045e0e8723d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3c6a69172f6a4f2482c4fb1ad06b86064d45663', 'message': ""scheduler: Merge 'FilterScheduler' into base class\n\nThere are no longer any custom filters. We don't need the abstract base\nclass. Merge the code in and give it a more useful 'SchedulerDriver'\nname.\n\nChange-Id: Id08dafa72d617ca85e66d50b3c91045e0e8723d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35d8986171dae9b464e2dd9d288ee8576746ac5b', 'message': ""scheduler: Merge 'FilterScheduler' into base class\n\nThere are no longer any custom filters. We don't need the abstract base\nclass. Merge the code in and give it a more useful 'SchedulerDriver'\nname.\n\nChange-Id: Id08dafa72d617ca85e66d50b3c91045e0e8723d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-06-29 15:58:32.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'doc/source/contributor/testing/eventlet-profiling.rst', 'nova/conductor/tasks/migrate.py', 'nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_driver.py', 'nova/tests/unit/scheduler/weights/test_cross_cell.py', 'nova/scheduler/driver.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1790204.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0534cc2893dbe7bf844f7223cfbba84a2a4e782', 'message': ""scheduler: Merge 'FilterScheduler' into base class\n\nThere are no longer any custom filters. We don't need the abstract base\nclass. Merge the code in and give it a more useful 'SchedulerDriver'\nname.\n\nChange-Id: Id08dafa72d617ca85e66d50b3c91045e0e8723d0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,773643,e0534cc2893dbe7bf844f7223cfbba84a2a4e782,52,3,5,15334,,,0,"scheduler: Merge 'FilterScheduler' into base class

There are no longer any custom filters. We don't need the abstract base
class. Merge the code in and give it a more useful 'SchedulerDriver'
name.

Change-Id: Id08dafa72d617ca85e66d50b3c91045e0e8723d0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/773643/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'doc/source/contributor/testing/eventlet-profiling.rst', 'nova/conductor/tasks/migrate.py', 'nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_driver.py', 'nova/tests/unit/scheduler/weights/test_cross_cell.py', 'nova/scheduler/driver.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1790204.py']",11,dc8cde70b0616d2a042d068c1c0fe38dbc27cf82,remove-custom-schedulers," integrated_helpers.ProviderUsageBaseTestCase, ): Since Pike, the scheduler uses Placement to ""claim"" resources"," integrated_helpers.ProviderUsageBaseTestCase): Since Pike, the FilterScheduler uses Placement to ""claim"" resources",590,680
openstack%2Frequirements~master~I4337bb27399cd49f87fd2e68a9ea917d3ebde44d,openstack/requirements,master,I4337bb27399cd49f87fd2e68a9ea917d3ebde44d,update constraint for castellan to new release 3.9.1,MERGED,2021-08-19 12:52:20.000000000,2021-08-20 17:20:56.000000000,2021-08-20 17:18:10.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-19 12:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/52044053aeeff06b7ad170b83261bc95ff5184f9', 'message': 'update constraint for castellan to new release 3.9.1\n\nmeta: version: 3.9.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I63492f11606983f672011cafb03b21fe14fb0214\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I4337bb27399cd49f87fd2e68a9ea917d3ebde44d\n'}, {'number': 2, 'created': '2021-08-19 19:41:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d004ffd815ada96370640614e612ced40d2d1da7', 'message': 'update constraint for castellan to new release 3.9.1\n\nmeta: version: 3.9.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I63492f11606983f672011cafb03b21fe14fb0214\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I4337bb27399cd49f87fd2e68a9ea917d3ebde44d\n'}]",0,805208,d004ffd815ada96370640614e612ced40d2d1da7,34,3,2,11131,,,0,"update constraint for castellan to new release 3.9.1

meta: version: 3.9.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I63492f11606983f672011cafb03b21fe14fb0214
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4337bb27399cd49f87fd2e68a9ea917d3ebde44d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/805208/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,52044053aeeff06b7ad170b83261bc95ff5184f9,new-release,castellan===3.9.1,castellan===3.9.0,1,1
openstack%2Fnova~stable%2Fwallaby~I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a,openstack/nova,stable/wallaby,I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a,Retry lvm volume and volume group query,MERGED,2021-06-16 16:31:31.000000000,2021-08-20 17:20:55.000000000,2021-08-20 17:17:57.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 16:31:31.000000000', 'files': ['nova/tests/unit/privsep/test_fs.py', 'nova/privsep/fs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b2434c173959aa728de8bfc1a0f1e1027ee0466', 'message': 'Retry lvm volume and volume group query\n\nWe observed that the vgs and lvs queries the our lvm driver uses can\nintermittently fail with error code 11 (EAGAIN). So this patch enabled\nthe retry in oslo_concurrency.processutils for these calls.\n\nChange-Id: I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a\nCloses-Bug: #1931710\n(cherry picked from commit e59fc77c3d924cfab6ddcd780ae0604a84e64c30)\n'}]",0,796707,2b2434c173959aa728de8bfc1a0f1e1027ee0466,15,5,1,15334,,,0,"Retry lvm volume and volume group query

We observed that the vgs and lvs queries the our lvm driver uses can
intermittently fail with error code 11 (EAGAIN). So this patch enabled
the retry in oslo_concurrency.processutils for these calls.

Change-Id: I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a
Closes-Bug: #1931710
(cherry picked from commit e59fc77c3d924cfab6ddcd780ae0604a84e64c30)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/796707/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/privsep/test_fs.py', 'nova/privsep/fs.py']",2,2b2434c173959aa728de8bfc1a0f1e1027ee0466,bug/1931710," # NOTE(gibi): We see intermittent faults querying volume groups failing # with error code -11, hence the retry. See bug 1931710 return processutils.execute( 'vgs', '--noheadings', '--nosuffix', '--separator', '|', '--units', 'b', '-o', 'vg_size,vg_free', vg, attempts=3, delay_on_retry=True, ) return processutils.execute( 'lvs', '--noheadings', '-o', 'lv_name', vg, attempts=3, delay_on_retry=True)"," return processutils.execute('vgs', '--noheadings', '--nosuffix', '--separator', '|', '--units', 'b', '-o', 'vg_size,vg_free', vg) return processutils.execute('lvs', '--noheadings', '-o', 'lv_name', vg)",15,6
openstack%2Fcinder~master~I48a5572052cd2cf1dd984f0e4be5703f1e6bc558,openstack/cinder,master,I48a5572052cd2cf1dd984f0e4be5703f1e6bc558,Replace deprecated tenacity.Retrying.call,MERGED,2021-07-22 18:11:31.000000000,2021-08-20 17:18:17.000000000,2021-08-20 17:18:17.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-07-22 18:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8d9ef906649f823a30f735cd4d8dab03703826a', 'message': 'Replace deprecated tenacity.Retrying.call\n\n... by the __call__ method following the deprecation in the tenacity\nlibrary[1].\n\n[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f\n\nChange-Id: I48a5572052cd2cf1dd984f0e4be5703f1e6bc558\n'}, {'number': 2, 'created': '2021-07-23 12:06:00.000000000', 'files': ['cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd0e409b7a1a51ef87336420a2bf32f842f1e7c0', 'message': 'Replace deprecated tenacity.Retrying.call\n\n... by the __call__ method following the deprecation in the tenacity\nlibrary[1].\n\n[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f\n\nChange-Id: I48a5572052cd2cf1dd984f0e4be5703f1e6bc558\n'}]",1,801916,bd0e409b7a1a51ef87336420a2bf32f842f1e7c0,54,4,2,9816,,,0,"Replace deprecated tenacity.Retrying.call

... by the __call__ method following the deprecation in the tenacity
library[1].

[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f

Change-Id: I48a5572052cd2cf1dd984f0e4be5703f1e6bc558
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/801916/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/utils.py'],1,a8d9ef906649f823a30f735cd4d8dab03703826a,retrying-call," return r(f, *args, **kwargs)"," return r.call(f, *args, **kwargs)",1,1
openstack%2Fcinder~master~I485e87b9a80bb4acec7f9bfde188e601663becb7,openstack/cinder,master,I485e87b9a80bb4acec7f9bfde188e601663becb7,Doc: api-ref doc update,MERGED,2021-05-27 11:48:36.000000000,2021-08-20 17:18:06.000000000,2021-08-20 17:18:06.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-27 11:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c0881ef7c796489d7ea892010c60d5656be1ca2', 'message': 'Doc: api-ref doc update\n\nVolume multi-attach support was added in cinder and\nnova in queens release.\n\nChange-Id: I485e87b9a80bb4acec7f9bfde188e601663becb7\n'}, {'number': 2, 'created': '2021-07-19 08:43:50.000000000', 'files': ['api-ref/source/v3/volumes-v3-volumes.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/98de5e08bf38cc09e4923a8f7d56f2b8136bcdeb', 'message': 'Doc: api-ref doc update\n\nVolume multi-attach support was added in cinder and\nnova in queens release.\n\nChange-Id: I485e87b9a80bb4acec7f9bfde188e601663becb7\n'}]",1,793386,98de5e08bf38cc09e4923a8f7d56f2b8136bcdeb,32,8,2,30615,,,0,"Doc: api-ref doc update

Volume multi-attach support was added in cinder and
nova in queens release.

Change-Id: I485e87b9a80bb4acec7f9bfde188e601663becb7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/793386/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-volumes.inc'],1,0c0881ef7c796489d7ea892010c60d5656be1ca2,,drive. You can attach a volume to the instance.,drive. You can attach a volume to one instance at a time.,1,1
openstack%2Fcinder~master~I49e0adea8fbd97d49f4386b8240320ea2baf3661,openstack/cinder,master,I49e0adea8fbd97d49f4386b8240320ea2baf3661,Doc: Remove backup_id from backup import url and parameter,MERGED,2021-08-09 10:06:38.000000000,2021-08-20 17:18:02.000000000,2021-08-20 17:18:02.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-08-09 10:06:38.000000000', 'files': ['api-ref/source/v3/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b9143fae980f118c6e439a7f09184b571d9567f', 'message': 'Doc: Remove backup_id from backup import url and parameter\n\nIn the documentation for importing backups the backup_id is removed\nbecause the backup_id is generated after the upload and the user\ndoes not need to provide it. Therefore the request parameter\nbackup_id has also been removed.\n\nCloses-Bug: #1930526\nChange-Id: I49e0adea8fbd97d49f4386b8240320ea2baf3661\n'}]",0,803896,7b9143fae980f118c6e439a7f09184b571d9567f,23,4,1,33830,,,0,"Doc: Remove backup_id from backup import url and parameter

In the documentation for importing backups the backup_id is removed
because the backup_id is generated after the upload and the user
does not need to provide it. Therefore the request parameter
backup_id has also been removed.

Closes-Bug: #1930526
Change-Id: I49e0adea8fbd97d49f4386b8240320ea2baf3661
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/803896/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/ext-backups.inc'],1,7b9143fae980f118c6e439a7f09184b571d9567f,,.. rest_method:: POST /v3/{project_id}/backups/import_record,.. rest_method:: POST /v3/{project_id}/backups/{backup_id}/import_record - backup_id: backup_id_required,1,2
openstack%2Fpuppet-nova~stable%2Fwallaby~I35b964d96e6a558f1a10daa2391a398db60ea800,openstack/puppet-nova,stable/wallaby,I35b964d96e6a558f1a10daa2391a398db60ea800,Allow for a more permissible regex,MERGED,2021-08-18 08:15:19.000000000,2021-08-20 17:09:16.000000000,2021-08-20 17:09:16.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 08:15:19.000000000', 'files': ['lib/puppet/provider/nova_aggregate/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7ff77f8225f3974c04fdb6f3a9a6ddd2ff8a926a', 'message': ""Allow for a more permissible regex\n\nSome openstack installations use characters that are not in \\w, the\nold regex, now moved to string2hash was more permissible, and\nthere's probably no reason the regex in pythondict2hash can't be\njust as permissible.\n\nChange-Id: I35b964d96e6a558f1a10daa2391a398db60ea800\n(cherry picked from commit 7111aa75f98b9038824d2a47e36dfd6d5043c80e)\n""}]",0,804862,7ff77f8225f3974c04fdb6f3a9a6ddd2ff8a926a,9,3,1,25600,,,0,"Allow for a more permissible regex

Some openstack installations use characters that are not in \w, the
old regex, now moved to string2hash was more permissible, and
there's probably no reason the regex in pythondict2hash can't be
just as permissible.

Change-Id: I35b964d96e6a558f1a10daa2391a398db60ea800
(cherry picked from commit 7111aa75f98b9038824d2a47e36dfd6d5043c80e)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/62/804862/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_aggregate/openstack.rb'],1,7ff77f8225f3974c04fdb6f3a9a6ddd2ff8a926a,," return JSON.parse(input.gsub(/u'([^']*)'/, '""\1""').gsub(/'/, '""'))"," return JSON.parse(input.gsub(/u'(\w*)'/, '""\1""').gsub(/'/, '""'))",1,1
openstack%2Fkolla-ansible~stable%2Fussuri~I6aa8db2214e07906f1f3e035411fc80ba911a274,openstack/kolla-ansible,stable/ussuri,I6aa8db2214e07906f1f3e035411fc80ba911a274,nova: Use cinder user for Ceph,MERGED,2021-08-09 08:55:04.000000000,2021-08-20 16:59:08.000000000,2021-08-20 16:56:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 08:55:04.000000000', 'files': ['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fcad47657a280949a81053d65cc10a24fc2f242e', 'message': 'nova: Use cinder user for Ceph\n\nIn Ussuri, nova stopped using separate Ceph keys for the volumes and vms\npools by default. Instead, we set ceph_nova_keyring to the value of\nceph_cinder_keyring by default, which is ceph.client.cinder.keyring.\nThis is in line with the Ceph OpenStack integration guide [1]. However,\nthe user used by nova to access the vms pool (ceph_nova_user) defaults\nto nova, meaning that nova will still try to use a\nceph.client.nova.keyring, which probably does not exist. We did not see\nthis issue in CI, because we set ceph_nova_user to cinder.\n\nThis change fixes the issue by setting ceph_nova_user to the value of\nceph_cinder_user by default, which is cinder.\n\nCloses-Bug: #1934145\nRelated-Bug: #1928690\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/\n\nChange-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274\n'}]",0,803840,fcad47657a280949a81053d65cc10a24fc2f242e,10,3,1,14826,,,0,"nova: Use cinder user for Ceph

In Ussuri, nova stopped using separate Ceph keys for the volumes and vms
pools by default. Instead, we set ceph_nova_keyring to the value of
ceph_cinder_keyring by default, which is ceph.client.cinder.keyring.
This is in line with the Ceph OpenStack integration guide [1]. However,
the user used by nova to access the vms pool (ceph_nova_user) defaults
to nova, meaning that nova will still try to use a
ceph.client.nova.keyring, which probably does not exist. We did not see
this issue in CI, because we set ceph_nova_user to cinder.

This change fixes the issue by setting ceph_nova_user to the value of
ceph_cinder_user by default, which is cinder.

Closes-Bug: #1934145
Related-Bug: #1928690

[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/

Change-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/803840/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml']",3,fcad47657a280949a81053d65cc10a24fc2f242e,,"ceph_nova_user: ""{{ ceph_cinder_user }}""","ceph_nova_user: ""nova""",23,8
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/victoria,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:49:11.000000000,2021-08-20 16:58:57.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-08-20 15:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/797826add060f10129edc931e633529a7d74fc40', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)\n'}, {'number': 2, 'created': '2021-08-20 15:49:53.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a91a2d527fdbe8c30041ba962f72295bc8deeeae', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)\n'}]",0,805418,a91a2d527fdbe8c30041ba962f72295bc8deeeae,4,1,2,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/18/805418/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,797826add060f10129edc931e633529a7d74fc40,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'stable/victoria' ",0,4
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/ussuri,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:51:37.000000000,2021-08-20 16:58:55.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-08-20 15:51:37.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f9bf139206332539dc22009557acdf7251b09c01', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)\n(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)\n'}]",0,805420,f9bf139206332539dc22009557acdf7251b09c01,3,1,1,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/20/805420/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,f9bf139206332539dc22009557acdf7251b09c01,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'stable/ussuri' ",0,4
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/train,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:52:44.000000000,2021-08-20 16:58:50.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-08-20 15:52:44.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)\n(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)\n(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)\n'}]",0,805423,5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa,3,1,1,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)
(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/23/805423/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'stable/train' ",0,4
openstack%2Fpuppet-openstack-integration~stable%2Fstein~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/stein,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:55:47.000000000,2021-08-20 16:58:47.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-08-20 15:55:47.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/296bd5fcb7d1ed8aff00b5c00662069c0f5b7615', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)\n(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)\n(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)\n(cherry picked from commit 5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa)\n'}]",0,805425,296bd5fcb7d1ed8aff00b5c00662069c0f5b7615,3,1,1,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)
(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)
(cherry picked from commit 5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/25/805425/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,296bd5fcb7d1ed8aff00b5c00662069c0f5b7615,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'stable/stein' ",0,4
openstack%2Fpuppet-openstack-integration~stable%2Frocky~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/rocky,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:58:25.000000000,2021-08-20 16:58:44.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-08-20 15:58:25.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bad552505e3ecc4759e448a5cbd7ee32a4ffef64', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)\n(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)\n(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)\n(cherry picked from commit 5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa)\n(cherry picked from commit 296bd5fcb7d1ed8aff00b5c00662069c0f5b7615)\n'}]",0,805427,bad552505e3ecc4759e448a5cbd7ee32a4ffef64,3,1,1,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)
(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)
(cherry picked from commit 5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa)
(cherry picked from commit 296bd5fcb7d1ed8aff00b5c00662069c0f5b7615)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/27/805427/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,bad552505e3ecc4759e448a5cbd7ee32a4ffef64,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'stable/rocky' ",0,4
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/queens,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 16:00:03.000000000,2021-08-20 16:58:40.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-08-20 16:00:03.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b7644170a606915733327f99a3f3c8c1273384a1', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)\n(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)\n(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)\n(cherry picked from commit 5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa)\n(cherry picked from commit 296bd5fcb7d1ed8aff00b5c00662069c0f5b7615)\n(cherry picked from commit bad552505e3ecc4759e448a5cbd7ee32a4ffef64)\n'}]",0,805430,b7644170a606915733327f99a3f3c8c1273384a1,3,1,1,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)
(cherry picked from commit f9bf139206332539dc22009557acdf7251b09c01)
(cherry picked from commit 5ec66b97cfa212d68b07741b933dbe5e5d7fb7fa)
(cherry picked from commit 296bd5fcb7d1ed8aff00b5c00662069c0f5b7615)
(cherry picked from commit bad552505e3ecc4759e448a5cbd7ee32a4ffef64)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/30/805430/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,b7644170a606915733327f99a3f3c8c1273384a1,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'stable/queens' ",0,4
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/wallaby,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:47:46.000000000,2021-08-20 16:58:29.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-08-20 15:47:46.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0fec0a3f72a99abf318656068dee3ff714489fef', 'message': 'Remove remaining reference to puppet-monasca\n\n... which should have been deleted by the previous change[1].\n\n[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934\n\nConflicts:\n\tPuppetfile\n\nResolved conflict caused by branch overrides.\n\nChange-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd\n(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)\n'}]",0,805415,0fec0a3f72a99abf318656068dee3ff714489fef,3,1,1,9816,,,0,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/15/805415/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,0fec0a3f72a99abf318656068dee3ff714489fef,retire-puppet-monasca,,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'stable/wallaby' ",0,4
openstack%2Fkolla-ansible~stable%2Fvictoria~I6aa8db2214e07906f1f3e035411fc80ba911a274,openstack/kolla-ansible,stable/victoria,I6aa8db2214e07906f1f3e035411fc80ba911a274,nova: Use cinder user for Ceph,MERGED,2021-08-09 08:55:00.000000000,2021-08-20 16:52:17.000000000,2021-08-20 16:50:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 08:55:00.000000000', 'files': ['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8aa8e617d982222e4b3c8d6a26b7190baca1b199', 'message': 'nova: Use cinder user for Ceph\n\nIn Ussuri, nova stopped using separate Ceph keys for the volumes and vms\npools by default. Instead, we set ceph_nova_keyring to the value of\nceph_cinder_keyring by default, which is ceph.client.cinder.keyring.\nThis is in line with the Ceph OpenStack integration guide [1]. However,\nthe user used by nova to access the vms pool (ceph_nova_user) defaults\nto nova, meaning that nova will still try to use a\nceph.client.nova.keyring, which probably does not exist. We did not see\nthis issue in CI, because we set ceph_nova_user to cinder.\n\nThis change fixes the issue by setting ceph_nova_user to the value of\nceph_cinder_user by default, which is cinder.\n\nCloses-Bug: #1934145\nRelated-Bug: #1928690\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/\n\nChange-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274\n'}]",0,803839,8aa8e617d982222e4b3c8d6a26b7190baca1b199,10,3,1,14826,,,0,"nova: Use cinder user for Ceph

In Ussuri, nova stopped using separate Ceph keys for the volumes and vms
pools by default. Instead, we set ceph_nova_keyring to the value of
ceph_cinder_keyring by default, which is ceph.client.cinder.keyring.
This is in line with the Ceph OpenStack integration guide [1]. However,
the user used by nova to access the vms pool (ceph_nova_user) defaults
to nova, meaning that nova will still try to use a
ceph.client.nova.keyring, which probably does not exist. We did not see
this issue in CI, because we set ceph_nova_user to cinder.

This change fixes the issue by setting ceph_nova_user to the value of
ceph_cinder_user by default, which is cinder.

Closes-Bug: #1934145
Related-Bug: #1928690

[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/

Change-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/803839/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml']",3,8aa8e617d982222e4b3c8d6a26b7190baca1b199,,"ceph_nova_user: ""{{ ceph_cinder_user }}""","ceph_nova_user: ""nova""",23,8
openstack%2Fkolla-ansible~stable%2Fwallaby~I6aa8db2214e07906f1f3e035411fc80ba911a274,openstack/kolla-ansible,stable/wallaby,I6aa8db2214e07906f1f3e035411fc80ba911a274,nova: Use cinder user for Ceph,MERGED,2021-08-09 08:54:57.000000000,2021-08-20 16:52:12.000000000,2021-08-20 16:50:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 08:54:57.000000000', 'files': ['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d22e3e995ca2018dfc504da45a869032ed5cd7d3', 'message': 'nova: Use cinder user for Ceph\n\nIn Ussuri, nova stopped using separate Ceph keys for the volumes and vms\npools by default. Instead, we set ceph_nova_keyring to the value of\nceph_cinder_keyring by default, which is ceph.client.cinder.keyring.\nThis is in line with the Ceph OpenStack integration guide [1]. However,\nthe user used by nova to access the vms pool (ceph_nova_user) defaults\nto nova, meaning that nova will still try to use a\nceph.client.nova.keyring, which probably does not exist. We did not see\nthis issue in CI, because we set ceph_nova_user to cinder.\n\nThis change fixes the issue by setting ceph_nova_user to the value of\nceph_cinder_user by default, which is cinder.\n\nCloses-Bug: #1934145\nRelated-Bug: #1928690\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/\n\nChange-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274\n'}]",0,803838,d22e3e995ca2018dfc504da45a869032ed5cd7d3,15,3,1,14826,,,0,"nova: Use cinder user for Ceph

In Ussuri, nova stopped using separate Ceph keys for the volumes and vms
pools by default. Instead, we set ceph_nova_keyring to the value of
ceph_cinder_keyring by default, which is ceph.client.cinder.keyring.
This is in line with the Ceph OpenStack integration guide [1]. However,
the user used by nova to access the vms pool (ceph_nova_user) defaults
to nova, meaning that nova will still try to use a
ceph.client.nova.keyring, which probably does not exist. We did not see
this issue in CI, because we set ceph_nova_user to cinder.

This change fixes the issue by setting ceph_nova_user to the value of
ceph_cinder_user by default, which is cinder.

Closes-Bug: #1934145
Related-Bug: #1928690

[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/

Change-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/803838/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml']",3,d22e3e995ca2018dfc504da45a869032ed5cd7d3,,"ceph_nova_user: ""{{ ceph_cinder_user }}""","ceph_nova_user: ""nova""",23,8
openstack%2Fcharm-hacluster~master~Ie97d09f5bd319a4adf93abd44fc465c77fd20620,openstack/charm-hacluster,master,Ie97d09f5bd319a4adf93abd44fc465c77fd20620,"Set loglevel of ""Pacemaker is ready"" to TRACE",MERGED,2021-08-20 12:26:13.000000000,2021-08-20 16:46:34.000000000,2021-08-20 16:46:34.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 12:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/23122b199d824670eab28ffe74b9607305b92039', 'message': 'Set loglevel of ""Pacemaker is ready"" from DEBUG to TRACE\n\nChange-Id: Ie97d09f5bd319a4adf93abd44fc465c77fd20620\n'}, {'number': 2, 'created': '2021-08-20 12:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/c4041f1cca4b587589fa7395e3ff3f12d8aaec59', 'message': 'Set loglevel of ""Pacemaker is ready"" to TRACE\n\nChange-Id: Ie97d09f5bd319a4adf93abd44fc465c77fd20620\n'}, {'number': 3, 'created': '2021-08-20 12:42:04.000000000', 'files': ['hooks/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e2249d05e1aa57a27415f4966221dc62b3b2b61e', 'message': 'Set loglevel of ""Pacemaker is ready"" to TRACE\n\nCloses-Bug: #1889482\nChange-Id: Ie97d09f5bd319a4adf93abd44fc465c77fd20620\n'}]",0,805369,e2249d05e1aa57a27415f4966221dc62b3b2b61e,9,3,3,33830,,,0,"Set loglevel of ""Pacemaker is ready"" to TRACE

Closes-Bug: #1889482
Change-Id: Ie97d09f5bd319a4adf93abd44fc465c77fd20620
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/69/805369/3 && git format-patch -1 --stdout FETCH_HEAD,['hooks/utils.py'],1,23122b199d824670eab28ffe74b9607305b92039,," TRACE, log(""Pacemaker is ready"", level=TRACE)"," log(""Pacemaker is ready"", DEBUG)",2,1
openstack%2Fcharm-ceph-mon~master~I279142d386a8bf369c0b9dff3b7be9d65f314bf5,openstack/charm-ceph-mon,master,I279142d386a8bf369c0b9dff3b7be9d65f314bf5,Add support dashboard relation,MERGED,2021-08-19 12:15:08.000000000,2021-08-20 16:42:34.000000000,2021-08-20 16:42:34.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 12:15:08.000000000', 'files': ['hooks/ceph_hooks.py', 'hooks/dashboard-relation-joined', 'unit_tests/test_ceph_hooks.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/be716fea825a3c8b32fe5f8537a61503b26e9299', 'message': 'Add support dashboard relation\n\nAdd support for the dashbaord relation. The relation enables the\nmons to signal to the dashboard that the cluster is ready.\n\nChange-Id: I279142d386a8bf369c0b9dff3b7be9d65f314bf5\n'}]",0,805196,be716fea825a3c8b32fe5f8537a61503b26e9299,13,4,1,12549,,,0,"Add support dashboard relation

Add support for the dashbaord relation. The relation enables the
mons to signal to the dashboard that the cluster is ready.

Change-Id: I279142d386a8bf369c0b9dff3b7be9d65f314bf5
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/96/805196/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'hooks/dashboard-relation-joined', 'unit_tests/test_ceph_hooks.py', 'metadata.yaml']",4,be716fea825a3c8b32fe5f8537a61503b26e9299,dashboard-support, dashboard: interface: ceph-dashboard,,39,0
openstack%2Fpuppet-openstack_spec_helper~master~I1ebf5d929cb28f25025fed6bb10b514f15db1b45,openstack/puppet-openstack_spec_helper,master,I1ebf5d929cb28f25025fed6bb10b514f15db1b45,Pin puppet_litmus to work on ruby 2.5,ABANDONED,2021-08-18 16:54:00.000000000,2021-08-20 16:28:28.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 16:54:00.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/0315d4de2020994a10d6f1083944d223cceaa24b', 'message': 'Pin puppet_litmus to work on ruby 2.5\n\nv0.28.0 only works with ruby 2.6, so pin it to a lower version\n\nCloses-Bug: #1940444\nChange-Id: I1ebf5d929cb28f25025fed6bb10b514f15db1b45\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,805059,0315d4de2020994a10d6f1083944d223cceaa24b,4,2,1,6926,,,0,"Pin puppet_litmus to work on ruby 2.5

v0.28.0 only works with ruby 2.6, so pin it to a lower version

Closes-Bug: #1940444
Change-Id: I1ebf5d929cb28f25025fed6bb10b514f15db1b45
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/59/805059/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,0315d4de2020994a10d6f1083944d223cceaa24b,," spec.add_dependency 'puppet_litmus', ['< 0.28.0']", spec.add_dependency 'puppet_litmus',1,1
openstack%2Foslotest~master~I10fabadd45447ed9b860ba761707de65e2aa6578,openstack/oslotest,master,I10fabadd45447ed9b860ba761707de65e2aa6578,Changed minversion in tox to 3.18.0,ABANDONED,2021-06-04 08:45:36.000000000,2021-08-20 16:26:30.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 08:45:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/305e1f7ce6c9217f2426a5a47cbf4c6658d7f1b8', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I10fabadd45447ed9b860ba761707de65e2aa6578\n""}]",0,794749,305e1f7ce6c9217f2426a5a47cbf4c6658d7f1b8,5,3,1,32326,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I10fabadd45447ed9b860ba761707de65e2aa6578
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/49/794749/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,305e1f7ce6c9217f2426a5a47cbf4c6658d7f1b8,,minversion = 3.18.1,minversion = 3.1.0,1,1
openstack%2Fnova~master~I8d68016cecb0269a5f9af88b0a08578f85403e23,openstack/nova,master,I8d68016cecb0269a5f9af88b0a08578f85403e23,api: Improve extra spec validator help texts,MERGED,2021-03-23 11:23:53.000000000,2021-08-20 16:26:08.000000000,2021-08-20 16:17:26.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 11:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/657bf0b581b6a307cc3a80b63bc10d0afa6565f4', 'message': 'api: Improve extra spec validator help texts\n\nCorrect a variety of gaps and other issues seen while improving the\nflavor docs.\n\nChange-Id: I8d68016cecb0269a5f9af88b0a08578f85403e23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-27 15:56:13.000000000', 'files': ['nova/api/validation/extra_specs/hw_rng.py', 'nova/api/validation/extra_specs/quota.py', 'nova/api/validation/extra_specs/null.py', 'nova/api/validation/extra_specs/hw.py', 'nova/api/validation/extra_specs/pci_passthrough.py', 'doc/source/admin/cpu-topologies.rst', 'nova/api/validation/extra_specs/os.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4f9b03c5c0a907345e999dcf70ef18eac40dcda', 'message': 'api: Improve extra spec validator help texts\n\nCorrect a variety of gaps and other issues seen while improving the\nflavor docs.\n\nChange-Id: I8d68016cecb0269a5f9af88b0a08578f85403e23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,782412,d4f9b03c5c0a907345e999dcf70ef18eac40dcda,26,3,2,15334,,,0,"api: Improve extra spec validator help texts

Correct a variety of gaps and other issues seen while improving the
flavor docs.

Change-Id: I8d68016cecb0269a5f9af88b0a08578f85403e23
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/782412/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/validation/extra_specs/hw_rng.py', 'nova/api/validation/extra_specs/quota.py', 'nova/api/validation/extra_specs/hw.py', 'nova/api/validation/extra_specs/pci_passthrough.py', 'doc/source/admin/cpu-topologies.rst']",5,657bf0b581b6a307cc3a80b63bc10d0afa6565f4,docs,:nova:extra-spec:`hw:numa_cpus.{num}` and :nova:extra-spec:`hw:numa_mem.{num}`,:nova:extra-spec:`hw:numa_cpus.{id}` and :nova:extra-spec:`hw:numa_mem.{id}`,250,92
openstack%2Fnova~master~If78c55fed6be9906ed4799daf4f5b99f394ee268,openstack/nova,master,If78c55fed6be9906ed4799daf4f5b99f394ee268,VmWare: Fix deprecation warning in unit tests,MERGED,2021-08-18 13:47:23.000000000,2021-08-20 16:23:40.000000000,2021-08-20 16:16:54.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 13:47:23.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f548f313673e7b0b08e8a4f9d5f149a056ab341', 'message': 'VmWare: Fix deprecation warning in unit tests\n\nBy setting the vcenter version to MIN_VC_VERSION (<NEXT_MIN_VC_VERSION),\nthe tests trigger logging the deprecation warning.\nBy setting it to NEXT_MIN_VC_VERSION, we can avoid that\n\nChange-Id: If78c55fed6be9906ed4799daf4f5b99f394ee268\n'}]",0,805024,3f548f313673e7b0b08e8a4f9d5f149a056ab341,12,3,1,24434,,,0,"VmWare: Fix deprecation warning in unit tests

By setting the vcenter version to MIN_VC_VERSION (<NEXT_MIN_VC_VERSION),
the tests trigger logging the deprecation warning.
By setting it to NEXT_MIN_VC_VERSION, we can avoid that

Change-Id: If78c55fed6be9906ed4799daf4f5b99f394ee268
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/805024/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py']",2,3f548f313673e7b0b08e8a4f9d5f149a056ab341,vmwareapi_fix_deprecation," self.assertEqual(5005000, stats['hypervisor_version'])"," self.assertEqual(5001000, stats['hypervisor_version'])",5,3
openstack%2Ftripleo-validations~stable%2Fussuri~I6ee5d51537fd54ece436b64d6d7137516ccc0882,openstack/tripleo-validations,stable/ussuri,I6ee5d51537fd54ece436b64d6d7137516ccc0882,[ussuri-only] Stop requiring ansible 2.8,MERGED,2021-08-19 19:29:35.000000000,2021-08-20 16:23:17.000000000,2021-08-20 16:13:41.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-19 19:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ff0ed404f82b74f44c251167eaec1e671f358321', 'message': ""[ussuri-only] Stop requiring ansible 2.8\n\nIt appears 2.8 doesn't work with the molecule podman jobs.\nCloses-Bug: #1938266\n\nChange-Id: I6ee5d51537fd54ece436b64d6d7137516ccc0882\n""}, {'number': 2, 'created': '2021-08-19 19:38:12.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/712125d562de6e360e60a4202873f4d449d5b54f', 'message': ""[ussuri-only] Stop requiring ansible 2.8\n\nIt appears 2.8 doesn't work with the molecule podman jobs.\nCloses-Bug: #1938266\n\nChange-Id: I6ee5d51537fd54ece436b64d6d7137516ccc0882\n""}]",0,805290,712125d562de6e360e60a4202873f4d449d5b54f,9,7,2,14985,,,0,"[ussuri-only] Stop requiring ansible 2.8

It appears 2.8 doesn't work with the molecule podman jobs.
Closes-Bug: #1938266

Change-Id: I6ee5d51537fd54ece436b64d6d7137516ccc0882
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/90/805290/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,ff0ed404f82b74f44c251167eaec1e671f358321,bug/1938266,"ansible>=2.8,!=2.8.9,!=2.9.12,<2.10.0 # GPLv3+","ansible==2.8,!=2.8.9,!=2.9.12,<2.10.0 # GPLv3+",1,1
openstack%2Fnova~master~I2152fd63f61cfa84faef90ce24880f03fb391eee,openstack/nova,master,I2152fd63f61cfa84faef90ce24880f03fb391eee,fixtures: Add legacy APIs to cinder fixture,MERGED,2021-08-19 12:12:04.000000000,2021-08-20 16:17:18.000000000,2021-08-20 15:24:19.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 12:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c10c5a6f586ac3aa7cbadce803a555114b09156', 'message': 'fixtures: Add legacy APIs to cinder fixture\n\nA TODO is left to wire these up correctly within the fixture, for the\ntime being we just need to ensure the methods within\nnova.volume.cinder.API are mocked.\n\nChange-Id: I2152fd63f61cfa84faef90ce24880f03fb391eee\n'}, {'number': 2, 'created': '2021-08-19 12:36:13.000000000', 'files': ['nova/tests/fixtures/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a0ae569efbed7c9ef6379fb9b4631c889096944', 'message': 'fixtures: Add legacy APIs to cinder fixture\n\nA TODO is left to wire these up correctly within the fixture, for the\ntime being we just need to ensure the methods within\nnova.volume.cinder.API are mocked.\n\nChange-Id: I2152fd63f61cfa84faef90ce24880f03fb391eee\n'}]",3,805195,8a0ae569efbed7c9ef6379fb9b4631c889096944,24,3,2,10135,,,0,"fixtures: Add legacy APIs to cinder fixture

A TODO is left to wire these up correctly within the fixture, for the
time being we just need to ensure the methods within
nova.volume.cinder.API are mocked.

Change-Id: I2152fd63f61cfa84faef90ce24880f03fb391eee
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/805195/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/cinder.py'],1,2c10c5a6f586ac3aa7cbadce803a555114b09156,bug/1939545," # TODO(lyarwood): These legacy cinderv2 APIs aren't currently wired # into the fixture but should be in the future before we migrate any # remaining legacy exports to cinderv3 attachments. self.test.stub_out( 'nova.volume.cinder.API.initialize_connection', lambda *args, **kwargs: None) self.test.stub_out( 'nova.volume.cinder.API.terminate_connection', lambda *args, **kwargs: None)",,9,0
openstack%2Fnova~master~I0f34c89855069119974d75d31833b974ba705306,openstack/nova,master,I0f34c89855069119974d75d31833b974ba705306,docs: Explicitly state lack of support for node renaming,MERGED,2021-06-09 17:39:52.000000000,2021-08-20 16:17:10.000000000,2021-08-20 16:17:10.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-09 17:39:52.000000000', 'files': ['doc/source/install/overview.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a0b2d34822d5347a8a83d1bb68592f6c1a1d102', 'message': 'docs: Explicitly state lack of support for node renaming\n\nNova does not support renaming a node once it has been deployed.\nPreviously, this was not mentioned anywhere in our docs. This patches\nadds a warning to that effect to the installation guide.\n\nChange-Id: I0f34c89855069119974d75d31833b974ba705306\n'}]",0,795607,7a0b2d34822d5347a8a83d1bb68592f6c1a1d102,16,5,1,8864,,,0,"docs: Explicitly state lack of support for node renaming

Nova does not support renaming a node once it has been deployed.
Previously, this was not mentioned anywhere in our docs. This patches
adds a warning to that effect to the installation guide.

Change-Id: I0f34c89855069119974d75d31833b974ba705306
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/795607/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/overview.rst'],1,7a0b2d34822d5347a8a83d1bb68592f6c1a1d102,,".. warning:: Once a cloud has been deployed, changing the host name of *any* node in the deployment is not supported. In some cases, it may be possible to remove a node from the deployment, and add it again under a different host name. Renaming a node in situ will result in problems that will require multiple manual fixes. ",,8,0
openstack%2Ftripleo-validations~stable%2Fvictoria~Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,openstack/tripleo-validations,stable/victoria,Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,Trigger molecule jobs when modifying molecule-requirements.txt file,MERGED,2021-08-19 14:32:49.000000000,2021-08-20 16:13:42.000000000,2021-08-20 16:13:42.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 14:32:49.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ebe54465f610fbcfd7a3c41c86b6d271580421e8', 'message': 'Trigger molecule jobs when modifying molecule-requirements.txt file\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)\n'}]",0,805233,ebe54465f610fbcfd7a3c41c86b6d271580421e8,6,3,1,14985,,,0,"Trigger molecule jobs when modifying molecule-requirements.txt file

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979
(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/33/805233/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,ebe54465f610fbcfd7a3c41c86b6d271580421e8,molecule-stable/victoria, - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt,,44,0
openstack%2Ftripleo-validations~stable%2Fussuri~Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,openstack/tripleo-validations,stable/ussuri,Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,Trigger molecule jobs when modifying molecule-requirements.txt file,MERGED,2021-08-19 14:34:29.000000000,2021-08-20 16:13:39.000000000,2021-08-20 16:13:39.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-19 14:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7a09516887f26020caf8d4d8367b0f626aa023c0', 'message': 'Trigger molecule jobs when modifying molecule-requirements.txt file\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)\n'}, {'number': 2, 'created': '2021-08-19 19:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d820595cfc801f8ad4815eacf58feab6ec0b9147', 'message': 'Trigger molecule jobs when modifying molecule-requirements.txt file\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)\n'}, {'number': 3, 'created': '2021-08-19 19:37:59.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c61c0a659892800b52eae29007c9cba5feebd46f', 'message': 'Trigger molecule jobs when modifying molecule-requirements.txt file\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)\n'}]",0,805235,c61c0a659892800b52eae29007c9cba5feebd46f,9,8,3,14985,,,0,"Trigger molecule jobs when modifying molecule-requirements.txt file

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979
(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/35/805235/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,7a09516887f26020caf8d4d8367b0f626aa023c0,molecule-stable/ussuri, - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt,,43,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I952b65f4b6ba7430ed374987b73b788ee0619114,openstack/tripleo-heat-templates,stable/wallaby,I952b65f4b6ba7430ed374987b73b788ee0619114,Move the remaining wallaby jobs to cephadm,MERGED,2021-08-18 14:27:23.000000000,2021-08-20 16:13:36.000000000,2021-08-20 16:13:36.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-18 14:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f03184d79b2f1df57c735c624b7181c3079bf516', 'message': 'Move the remaining wallaby jobs to cephadm\n\nWe recently switched on master and wallaby to cephadm for all the\nceph related jobs.\nThis change aligns the remanining 010 jobs to cephadm.\n\nChange-Id: I952b65f4b6ba7430ed374987b73b788ee0619114\n'}, {'number': 2, 'created': '2021-08-19 12:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9eb4214f63e222b5d6a11ff83ed0f931e4c178f3', 'message': 'Move the remaining wallaby jobs to cephadm\n\nWe recently switched on master and wallaby to cephadm for all the\nceph related jobs.\nThis change aligns the remanining 010 jobs to cephadm.\n\nChange-Id: I952b65f4b6ba7430ed374987b73b788ee0619114\n'}, {'number': 3, 'created': '2021-08-20 06:21:32.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/362279b9cf8aac2bcf7b411bbc0875cea849f109', 'message': 'Move the remaining wallaby jobs to cephadm\n\nWe recently switched on master and wallaby to cephadm for all the\nceph related jobs.\nThis change aligns the remanining 010 jobs to cephadm.\n\nChange-Id: I952b65f4b6ba7430ed374987b73b788ee0619114\n'}]",7,805034,362279b9cf8aac2bcf7b411bbc0875cea849f109,30,9,3,25402,,,0,"Move the remaining wallaby jobs to cephadm

We recently switched on master and wallaby to cephadm for all the
ceph related jobs.
This change aligns the remanining 010 jobs to cephadm.

Change-Id: I952b65f4b6ba7430ed374987b73b788ee0619114
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/805034/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml']",2,f03184d79b2f1df57c735c624b7181c3079bf516,," OS::TripleO::Services::CephClient: ../../deployment/cephadm/ceph-client.yaml OS::TripleO::Services::CephMgr: ../../deployment/cephadm/ceph-mgr.yaml OS::TripleO::Services::CephMon: ../../deployment/cephadm/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../deployment/cephadm/ceph-osd.yaml CephPoolDefaultPgNum: 8 CephConfigPath: ""/etc/ceph"" CephClientConfigVars: ""{{ playbook_dir }}/cephadm/ceph_client.yml"" CephSpecFqdn: true CephOsdSpec: data_devices: paths: - /dev/ceph_vg/ceph_lv_data"," OS::TripleO::Services::CephClient: ../../deployment/ceph-ansible/ceph-client.yaml OS::TripleO::Services::CephMgr: ../../deployment/ceph-ansible/ceph-mgr.yaml OS::TripleO::Services::CephMon: ../../deployment/ceph-ansible/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../deployment/ceph-ansible/ceph-osd.yaml CephAnsibleDisksConfig: osd_objectstore: bluestore osd_scenario: lvm lvm_volumes: - data: ceph_lv_data data_vg: ceph_vg db: ceph_lv_db db_vg: ceph_vg wal: ceph_lv_wal wal_vg: ceph_vg CephPoolDefaultPgNum: 32 CephAnsibleExtraConfig: centos_package_dependencies: [] ceph_osd_docker_memory_limit: '1g' ceph_mds_docker_memory_limit: '1g' mon_host_v1: { 'enabled': False } handler_health_mon_check_retries: 10 handler_health_mon_check_delay: 20 CephAnsiblePlaybookVerbosity: 1 CephAnsibleEnvironmentVariables: ANSIBLE_SSH_RETRIES: 4 DEFAULT_FORKS: 3 CephAnsibleRepo: ""tripleo-centos-ceph-nautilus""",24,50
openstack%2Fopenstack-helm-infra~master~I05900939e81606240009421a2878b19b4738c4a5,openstack/openstack-helm-infra,master,I05900939e81606240009421a2878b19b4738c4a5,[WIP] Fix libvirt privileged issues,ABANDONED,2021-08-02 18:50:41.000000000,2021-08-20 16:04:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-02 18:50:41.000000000', 'files': ['libvirt/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be6d3b4a9993afc6df7ede89898bd139c14d8d9b', 'message': '[WIP] Fix libvirt privileged issues\n\nChange-Id: I05900939e81606240009421a2878b19b4738c4a5\n'}]",0,803249,be6d3b4a9993afc6df7ede89898bd139c14d8d9b,3,1,1,29298,,,0,"[WIP] Fix libvirt privileged issues

Change-Id: I05900939e81606240009421a2878b19b4738c4a5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/49/803249/1 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/values.yaml'],1,be6d3b4a9993afc6df7ede89898bd139c14d8d9b,, privileged: false, privileged: true,1,1
openstack%2Ftripleo-heat-templates~master~I9a27edadbc3dbced6ae794feac0d043e1e648299,openstack/tripleo-heat-templates,master,I9a27edadbc3dbced6ae794feac0d043e1e648299,Enable CephDashboard for scenario001,MERGED,2021-08-17 16:55:45.000000000,2021-08-20 15:52:04.000000000,2021-08-20 15:52:04.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-17 16:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6eff3af2210932039ef337510f076710bce2943', 'message': 'Enable CephDashboard for scenario001\n\nThis change just moves (and enables) the Ceph Dashboard to scenario001\ninstead of scenario004.\n\nChange-Id: I9a27edadbc3dbced6ae794feac0d043e1e648299\n'}, {'number': 2, 'created': '2021-08-18 15:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/108957109693ce793d20c0f44e4b405d50d2368c', 'message': 'Enable CephDashboard for scenario001\n\nThis change just moves (and enables) the Ceph Dashboard to scenario001\ninstead of scenario004.\n\nChange-Id: I9a27edadbc3dbced6ae794feac0d043e1e648299\n'}, {'number': 3, 'created': '2021-08-18 18:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81d7de89b4168318c2b31a0d2a4ea89ffa9211cb', 'message': 'Enable CephDashboard for scenario001\n\nThis change just moves (and enables) the Ceph Dashboard to scenario001\ninstead of scenario004.\n\nChange-Id: I9a27edadbc3dbced6ae794feac0d043e1e648299\n'}, {'number': 4, 'created': '2021-08-19 06:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a3bb366a371b6458e286f481fbd263387ce5468', 'message': 'Enable CephDashboard for scenario001\n\nThis change just moves (and enables) the Ceph Dashboard to scenario001\ninstead of scenario004.\n\nChange-Id: I9a27edadbc3dbced6ae794feac0d043e1e648299\n'}, {'number': 5, 'created': '2021-08-19 16:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09d94231694039d881c8de2cb52874044b24b8c8', 'message': 'Enable CephDashboard for scenario001\n\nThis change just moves (and enables) the Ceph Dashboard to scenario001\ninstead of scenario004.\n\nChange-Id: I9a27edadbc3dbced6ae794feac0d043e1e648299\n'}, {'number': 6, 'created': '2021-08-20 06:21:59.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fe0d28ad11d5be0955b017bd1a8272f2a6fb8a7', 'message': 'Enable CephDashboard for scenario001\n\nThis change just moves (and enables) the Ceph Dashboard to scenario001\ninstead of scenario004.\n\nChange-Id: I9a27edadbc3dbced6ae794feac0d043e1e648299\n'}]",0,804896,7fe0d28ad11d5be0955b017bd1a8272f2a6fb8a7,40,7,6,25402,,,0,"Enable CephDashboard for scenario001

This change just moves (and enables) the Ceph Dashboard to scenario001
instead of scenario004.

Change-Id: I9a27edadbc3dbced6ae794feac0d043e1e648299
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/804896/6 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,f6eff3af2210932039ef337510f076710bce2943,enable_ceph_dashboard, CephEnableDashboard: true,,1,0
openstack%2Fpuppet-monasca~master~I6d9314bef6781599a39038a5a405f84c8db9807a,openstack/puppet-monasca,master,I6d9314bef6781599a39038a5a405f84c8db9807a,Retire puppet-monasca - Step 2: Remove Project Content,MERGED,2021-08-19 02:03:52.000000000,2021-08-20 15:39:18.000000000,2021-08-20 15:39:18.000000000,"[{'_account_id': 6547}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 02:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/81d451d15f0973332caccd818384111b48820d06', 'message': 'Retire puppet-monasca - Step 2: Remove Project Content\n\nDepends-on: https://review.opendev.org/805098\nChange-Id: I6d9314bef6781599a39038a5a405f84c8db9807a\n'}, {'number': 2, 'created': '2021-08-19 16:47:49.000000000', 'files': ['templates/notification.conf.erb', 'examples/apiserver.pp', 'manifests/checks/disk.pp', 'templates/checks/http_check.erb', 'templates/vertica/prune_vertica.py.erb', 'manifests/api.pp', 'spec/classes/monasca_agent_spec.rb', 'lib/puppet/type/monasca_config.rb', 'manifests/checks/vertica.pp', 'files/vertica/mon_alarms_schema.sql', 'spec/unit/type/monasca_config_spec.rb', 'manifests/checks/instances/apache.pp', 'files/vertica/update_vertica_stats.sh', 'spec/unit/provider/monasca_config/ini_setting_spec.rb', 'templates/vertica/vsql.erb', 'lib/puppet/provider/monasca_ini/ini_setting.rb', 'manifests/kafka/topics.pp', 'manifests/checks/instances/zk.pp', 'manifests/persister/startup_script.pp', 'spec/classes/monasca_checks_rabbitmq_spec.rb', 'templates/vertica/create_mon_db.sh.erb', 'files/agent_requirements.txt', 'templates/checks/rabbitmq.erb', 'manifests/checks/instances/rabbitmq.pp', 'manifests/storm/config.pp', 'spec/classes/monasca_alarmdefs_spec.rb', 'templates/checks/host_alive.yaml.erb', 'templates/persister-startup-script.erb', 'manifests/checks/libvirt.pp', 'releasenotes/source/ussuri.rst', 'manifests/checks/instances/process.pp', 'manifests/config.pp', 'templates/checks/zk.erb', 'spec/acceptance/monasca_alarmdefs_spec.rb', 'Puppetfile_extras', 'releasenotes/notes/deprecate-alarmdefs-b82d96e8ac36cdee.yaml', 'manifests/checks/instances/mysql.pp', 'templates/checks/disk.erb', 'manifests/vertica/config.pp', 'templates/persister-config.yml.erb', 'manifests/checks/instances/memory.pp', 'templates/vertica/mon_users.sql.erb', 'templates/bootstrap-alarm-definitions.py.erb', 'templates/vertica/drop_vertica_partitions.py.erb', 'examples/init.pp', 'templates/vertica/create_mon_db_cluster.sh.erb', 'manifests/checks/instances/host_alive.pp', 'spec/classes/monasca_notification_spec.rb', 'templates/mon.sql.erb', 'Gemfile', 'releasenotes/source/victoria.rst', 'manifests/checks/instances/nagios_wrapper.pp', 'examples/storm.pp', 'manifests/db/mysql.pp', 'manifests/checks/instances/solidfire.pp', 'templates/checks/ovs.yaml.erb', 'bindep.txt', 'manifests/checks/instances/disk.pp', 'templates/bootstrap-influxdb.sh.erb', 'templates/checks/memory.erb', 'templates/checks/vertica.yaml.erb', 'manifests/alarmdefs.pp', 'Rakefile', 'manifests/checks/apache.pp', 'spec/classes/monasca_checks_ovs_spec.rb', 'spec/spec_helper_acceptance.rb', 'spec/classes/monasca_keystone_auth_spec.rb', 'files/monasca_stack.sh', 'templates/checks/apache.erb', 'manifests/persister.pp', '.zuul.yaml', 'spec/unit/type/monasca_ini.rb', 'templates/checks/network.erb', 'spec/unit/provider/monasca_ini/ini_setting_spec.rb', 'manifests/checks/http_check.pp', 'templates/thresh-config.yml.erb', 'lib/puppet/provider/monasca_config/ini_setting.rb', 'templates/api-config.yml.erb', 'templates/checks/nagios_wrapper.yaml.erb', 'spec/acceptance/monasca_config_spec.rb', 'README.rst', 'manifests/checks/zk.pp', 'spec/shared_examples.rb', 'CONTRIBUTING.rst', 'templates/supervisor.conf.erb', 'lib/puppet/type/agent_config.rb', 'manifests/checks/ovs.pp', 'manifests/params.pp', 'releasenotes/source/rocky.rst', 'LICENSE', 'manifests/checks/instances/network.pp', 'manifests/persister/config.pp', 'lib/puppet/provider/agent_config/ini_setting.rb', 'manifests/kafka/config.pp', 'manifests/notification.pp', 'templates/alarm_definition_config.json.erb', 'templates/notification_assignments.json.erb', 'templates/storm-startup-script.erb', 'releasenotes/source/wallaby.rst', 'manifests/checks/load.pp', 'spec/unit/provider/agent_config/ini_setting_spec.rb', 'templates/agent.yaml.erb', 'templates/vertica/mon_schema.sql.erb', 'spec/classes/monasca_checks_libvirt_spec.rb', 'manifests/checks/instances/cpu.pp', 'manifests/checks/mysql.pp', 'releasenotes/source/index.rst', 'manifests/checks/cpu.pp', 'manifests/virtualenv/instance.pp', 'spec/classes/monasca_api_spec.rb', 'manifests/influxdb/bootstrap.pp', 'README.md', 'manifests/virtualenv/agent_instance.pp', 'metadata.json', 'spec/spec_helper.rb', 'templates/config.js.erb', 'setup.cfg', 'templates/vm_alarm_cleanup.py.erb', 'files/monasca-thresh', 'tox.ini', 'manifests/checks/nagios_wrapper.pp', 'manifests/keystone/auth.pp', 'manifests/checks/network.pp', 'releasenotes/notes/puppet4-mysql-func-5a0aec333e429d3f.yaml', '.gitignore', 'manifests/thresh.pp', 'manifests/checks/host_alive.pp', 'templates/checks/solidfire.erb', 'manifests/checks/memory.pp', 'manifests/checks/rabbitmq.pp', 'manifests/checks/solidfire.pp', 'files/vertica/mon_metrics_schema.sql', 'releasenotes/notes/release-note-ubuntu-py3-2f3de3fab77d1991.yaml', 'templates/monasca-agent.init.erb', 'files/monasca-api.conf', 'manifests/agent.pp', 'templates/notification_config.json.erb', 'releasenotes/source/_static/.placeholder', 'files/vertica/mon_grants.sql', 'templates/checks/load.erb', 'releasenotes/source/stein.rst', 'manifests/checks/instances/http_check.pp', 'manifests/checks/instances/load.pp', 'lib/puppet/type/monasca_ini.rb', 'templates/notification.yaml.erb', 'templates/checks/cpu.erb', 'manifests/storm/startup_script.pp', 'releasenotes/notes/keystone-auth-name-dc84be6eb135881e.yaml', 'manifests/init.pp', 'templates/checks/host_alive.erb', 'templates/checks/nagios_wrapper.erb', 'templates/checks/mysql.erb', 'templates/checks/libvirt.yaml.erb', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'spec/unit/type/agent_config.rb', 'templates/checks/process.erb', 'doc/requirements.txt', 'manifests/checks/process.pp', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/b14a6251fd2daed805c5484182cf8d4f2e8dafc0', 'message': 'Retire puppet-monasca - Step 2: Remove Project Content\n\nDepends-on: https://review.opendev.org/805098\nChange-Id: I6d9314bef6781599a39038a5a405f84c8db9807a\n'}]",1,805099,b14a6251fd2daed805c5484182cf8d4f2e8dafc0,18,4,2,9816,,,0,"Retire puppet-monasca - Step 2: Remove Project Content

Depends-on: https://review.opendev.org/805098
Change-Id: I6d9314bef6781599a39038a5a405f84c8db9807a
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/99/805099/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/notification.conf.erb', 'examples/apiserver.pp', 'manifests/checks/disk.pp', 'templates/checks/http_check.erb', 'templates/vertica/prune_vertica.py.erb', 'manifests/api.pp', 'spec/classes/monasca_agent_spec.rb', 'lib/puppet/type/monasca_config.rb', 'manifests/checks/vertica.pp', 'files/vertica/mon_alarms_schema.sql', 'spec/unit/type/monasca_config_spec.rb', 'manifests/checks/instances/apache.pp', 'files/vertica/update_vertica_stats.sh', 'spec/unit/provider/monasca_config/ini_setting_spec.rb', 'templates/vertica/vsql.erb', 'lib/puppet/provider/monasca_ini/ini_setting.rb', 'manifests/kafka/topics.pp', 'manifests/checks/instances/zk.pp', 'manifests/persister/startup_script.pp', 'spec/classes/monasca_checks_rabbitmq_spec.rb', 'templates/vertica/create_mon_db.sh.erb', 'files/agent_requirements.txt', 'templates/checks/rabbitmq.erb', 'manifests/checks/instances/rabbitmq.pp', 'manifests/storm/config.pp', 'spec/classes/monasca_alarmdefs_spec.rb', 'templates/checks/host_alive.yaml.erb', 'templates/persister-startup-script.erb', 'manifests/checks/libvirt.pp', 'releasenotes/source/ussuri.rst', 'manifests/checks/instances/process.pp', 'manifests/config.pp', 'templates/checks/zk.erb', 'spec/acceptance/monasca_alarmdefs_spec.rb', 'Puppetfile_extras', 'releasenotes/notes/deprecate-alarmdefs-b82d96e8ac36cdee.yaml', 'manifests/checks/instances/mysql.pp', 'templates/checks/disk.erb', 'manifests/vertica/config.pp', 'templates/persister-config.yml.erb', 'manifests/checks/instances/memory.pp', 'templates/vertica/mon_users.sql.erb', 'templates/bootstrap-alarm-definitions.py.erb', 'templates/vertica/drop_vertica_partitions.py.erb', 'examples/init.pp', 'templates/vertica/create_mon_db_cluster.sh.erb', 'manifests/checks/instances/host_alive.pp', 'spec/classes/monasca_notification_spec.rb', 'templates/mon.sql.erb', 'Gemfile', 'releasenotes/source/victoria.rst', 'manifests/checks/instances/nagios_wrapper.pp', 'examples/storm.pp', 'manifests/db/mysql.pp', 'manifests/checks/instances/solidfire.pp', 'templates/checks/ovs.yaml.erb', 'bindep.txt', 'manifests/checks/instances/disk.pp', 'templates/bootstrap-influxdb.sh.erb', 'templates/checks/memory.erb', 'templates/checks/vertica.yaml.erb', 'manifests/alarmdefs.pp', 'Rakefile', 'manifests/checks/apache.pp', 'spec/classes/monasca_checks_ovs_spec.rb', 'spec/spec_helper_acceptance.rb', 'spec/classes/monasca_keystone_auth_spec.rb', 'files/monasca_stack.sh', 'templates/checks/apache.erb', 'manifests/persister.pp', '.zuul.yaml', 'spec/unit/type/monasca_ini.rb', 'templates/checks/network.erb', 'spec/unit/provider/monasca_ini/ini_setting_spec.rb', 'manifests/checks/http_check.pp', 'templates/thresh-config.yml.erb', 'lib/puppet/provider/monasca_config/ini_setting.rb', 'templates/api-config.yml.erb', 'templates/checks/nagios_wrapper.yaml.erb', 'spec/acceptance/monasca_config_spec.rb', 'README.rst', 'manifests/checks/zk.pp', 'spec/shared_examples.rb', 'CONTRIBUTING.rst', 'templates/supervisor.conf.erb', 'lib/puppet/type/agent_config.rb', 'manifests/checks/ovs.pp', 'manifests/params.pp', 'releasenotes/source/rocky.rst', 'LICENSE', 'manifests/checks/instances/network.pp', 'manifests/persister/config.pp', 'lib/puppet/provider/agent_config/ini_setting.rb', 'manifests/kafka/config.pp', 'manifests/notification.pp', 'templates/alarm_definition_config.json.erb', 'templates/notification_assignments.json.erb', 'templates/storm-startup-script.erb', 'releasenotes/source/wallaby.rst', 'manifests/checks/load.pp', 'spec/unit/provider/agent_config/ini_setting_spec.rb', 'templates/agent.yaml.erb', 'templates/vertica/mon_schema.sql.erb', 'spec/classes/monasca_checks_libvirt_spec.rb', 'manifests/checks/instances/cpu.pp', 'manifests/checks/mysql.pp', 'releasenotes/source/index.rst', 'manifests/checks/cpu.pp', 'manifests/virtualenv/instance.pp', 'spec/classes/monasca_api_spec.rb', 'manifests/influxdb/bootstrap.pp', 'README.md', 'manifests/virtualenv/agent_instance.pp', 'metadata.json', 'spec/spec_helper.rb', 'templates/config.js.erb', 'setup.cfg', 'templates/vm_alarm_cleanup.py.erb', 'files/monasca-thresh', 'tox.ini', 'manifests/checks/nagios_wrapper.pp', 'manifests/keystone/auth.pp', 'manifests/checks/network.pp', 'releasenotes/notes/puppet4-mysql-func-5a0aec333e429d3f.yaml', '.gitignore', 'manifests/thresh.pp', 'manifests/checks/host_alive.pp', 'templates/checks/solidfire.erb', 'manifests/checks/memory.pp', 'manifests/checks/rabbitmq.pp', 'manifests/checks/solidfire.pp', 'files/vertica/mon_metrics_schema.sql', 'releasenotes/notes/release-note-ubuntu-py3-2f3de3fab77d1991.yaml', 'templates/monasca-agent.init.erb', 'files/monasca-api.conf', 'manifests/agent.pp', 'templates/notification_config.json.erb', 'releasenotes/source/_static/.placeholder', 'files/vertica/mon_grants.sql', 'templates/checks/load.erb', 'releasenotes/source/stein.rst', 'manifests/checks/instances/http_check.pp', 'manifests/checks/instances/load.pp', 'lib/puppet/type/monasca_ini.rb', 'templates/notification.yaml.erb', 'templates/checks/cpu.erb', 'manifests/storm/startup_script.pp', 'releasenotes/notes/keystone-auth-name-dc84be6eb135881e.yaml', 'manifests/init.pp', 'templates/checks/host_alive.erb', 'templates/checks/nagios_wrapper.erb', 'templates/checks/mysql.erb', 'templates/checks/libvirt.yaml.erb', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'spec/unit/type/agent_config.rb', 'templates/checks/process.erb', 'doc/requirements.txt', 'manifests/checks/process.pp', 'releasenotes/source/conf.py']",160,81d451d15f0973332caccd818384111b48820d06,retire-puppet-monasca,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. #sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. #needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. #source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. copyright = u'2018, Puppet OpenStack Developers' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. #language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: #today = '' # Else, today_fmt is used as the format for a strftime call. #today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. #default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. #add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). #add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. #show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. #modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. #keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. #html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". #html_title = None # A shorter title for the navigation bar. Default is the same as html_title. #html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. #html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. #html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. #html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. #html_use_smartypants = True # Custom sidebar templates, maps document names to template names. #html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. #html_additional_pages = {} # If false, no module index is generated. #html_domain_indices = True # If false, no index is generated. #html_use_index = True # If true, the index is split into individual pages for each letter. #html_split_index = False # If true, links to the reST sources are added to the pages. #html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. #html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. #html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. #html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). #html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'puppet-monascaReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'puppet-monascaReleaseNotes.tex', u'puppet-monasca Release Notes Documentation', u'2018, Puppet OpenStack Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. #latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. #latex_use_parts = False # If true, show page references after internal links. #latex_show_pagerefs = False # If true, show URL addresses after external links. #latex_show_urls = False # Documents to append as an appendix to all manuals. #latex_appendices = [] # If false, no module index is generated. #latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'puppet-monascareleasenotes', u'puppet-monasca Release Notes Documentation', [u'2018, Puppet OpenStack Developers'], 1) ] # If true, show URL addresses after external links. #man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'puppet-monascaReleaseNotes', u'puppet-monasca Release Notes Documentation', u'2018, Puppet OpenStack Developers', 'puppet-monascaReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. #texinfo_appendices = [] # If false, no module index is generated. #texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. #texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. #texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] # openstackdocstheme options openstackdocs_repo_name = 'openstack/puppet-monasca' openstackdocs_bug_project = 'puppet-monasca' openstackdocs_bug_tag = '' openstackdocs_auto_name = False ",8,8640
openstack%2Fnova~master~I3a512f25e3a47349c13807dd90864f3a4270764c,openstack/nova,master,I3a512f25e3a47349c13807dd90864f3a4270764c,fup: Mock all unix connectors in os-brick fixture,MERGED,2021-08-11 12:19:22.000000000,2021-08-20 15:28:50.000000000,2021-08-20 15:25:07.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/546aee725af7ba3e6d526474d8b9e3ba0a67906f', 'message': 'fup: Mock all unix connectors in os-brick fixture\n\nChange-Id: I3a512f25e3a47349c13807dd90864f3a4270764c\n'}, {'number': 2, 'created': '2021-08-11 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dacd0d31bca300180744c04aff4d2cc48b08451a', 'message': 'fup: Mock all unix connectors in os-brick fixture\n\nChange-Id: I3a512f25e3a47349c13807dd90864f3a4270764c\n'}, {'number': 3, 'created': '2021-08-11 18:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a3d428655dfc0e3aa0f13683e3b1d89ae364800', 'message': 'fup: Mock all unix connectors in os-brick fixture\n\nChange-Id: I3a512f25e3a47349c13807dd90864f3a4270764c\n'}, {'number': 4, 'created': '2021-08-12 08:39:26.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1939545.py', 'nova/tests/fixtures/os_brick.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce128798f54d1c0ee7ab09b8189eda93830cd69b', 'message': 'fup: Mock all unix connectors in os-brick fixture\n\nChange-Id: I3a512f25e3a47349c13807dd90864f3a4270764c\n'}]",0,804233,ce128798f54d1c0ee7ab09b8189eda93830cd69b,23,3,4,10135,,,0,"fup: Mock all unix connectors in os-brick fixture

Change-Id: I3a512f25e3a47349c13807dd90864f3a4270764c
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/804233/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1939545.py', 'nova/tests/fixtures/os_brick.py']",2,546aee725af7ba3e6d526474d8b9e3ba0a67906f,,"import mock from os_brick.initiator import connector as brick_connector for connector in brick_connector.unix_connector_list: self.useFixture( fixtures.MonkeyPatch( f""{connector}.connect_volume"", mock.Mock(return_value={'path': '/dev/sda'}) ) ) self.useFixture( fixtures.MonkeyPatch( f""{connector}.disconnect_volume"", mock.Mock() ) ) self.useFixture( fixtures.MonkeyPatch( f""{connector}.extend_volume"", mock.Mock() ) )",,22,14
openstack%2Fnova~master~Iea8896682fc28e3a5cd25afa45238272bee745e1,openstack/nova,master,Iea8896682fc28e3a5cd25afa45238272bee745e1,compute: Ensure updates to bdms during pre_live_migration are saved,MERGED,2021-08-11 12:19:22.000000000,2021-08-20 15:27:01.000000000,2021-08-20 15:23:57.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd63600d45711887a74a53fd14a351139c0185fd', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n'}, {'number': 2, 'created': '2021-08-11 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b4a6994b910cf156c3be03b3ca916191c455d0c', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n'}, {'number': 3, 'created': '2021-08-11 18:52:53.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/962eda94d52321c3237da870c3d0455c6f0e851b', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n'}]",8,804230,962eda94d52321c3237da870c3d0455c6f0e851b,33,5,3,10135,,,0,"compute: Ensure updates to bdms during pre_live_migration are saved

When connecting volumes to the underlying host the virt drivers can
attempt to stash additional metadata returned from os-brick into the
connection_info associated with a bdm. This pretty janky behaviour
relies on someone later calling .save() against the underlying
BlockDeviceMapping object to persist these changes into the database as
happens in the driver block device layer during a standard volume
attach.

However during pre_live_migration no call was made to .save() resulting
in the changes made to the connection_info being lost. This change
simply introduces this call at the end of the pre_live_migration method
on the destination via the driver bdm objects we provide in
block_device_info.

Closes-Bug: #1939545
Change-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/804230/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",3,dd63600d45711887a74a53fd14a351139c0185fd,bug/1939545," # Again get the volume bdm and assert that the saved connection_info # contains device_path. self.assertIn('device_path', connection_info.get('data'))"," # FIXME(lyarwood): This is bug #1939545, again get the volume bdm and # assert that the saved connection_info doesn't contain device_path. self.assertNotIn('device_path', connection_info.get('data'))",18,3
openstack%2Fnova~master~I7ffcb69f6f1613ddd3427472148b8e780a268271,openstack/nova,master,I7ffcb69f6f1613ddd3427472148b8e780a268271,fup: Move OSBrickFixture into base.ServersTestBase,MERGED,2021-08-11 12:19:22.000000000,2021-08-20 15:24:53.000000000,2021-08-20 15:24:53.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96b555fe0dbef0980dad08aac6c867a8ec242a8d', 'message': 'fup: Move OSBrickFixture into base.ServersTestBase\n\nChange-Id: I7ffcb69f6f1613ddd3427472148b8e780a268271\n'}, {'number': 2, 'created': '2021-08-11 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f471960add6f6b40f743cf824e8bcfb4f135eda3', 'message': 'fup: Move OSBrickFixture into base.ServersTestBase\n\nChange-Id: I7ffcb69f6f1613ddd3427472148b8e780a268271\n'}, {'number': 3, 'created': '2021-08-11 18:52:53.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/79ec4e2938615a7524fd4c7c05cddeee8256f4a3', 'message': 'fup: Move OSBrickFixture into base.ServersTestBase\n\nChange-Id: I7ffcb69f6f1613ddd3427472148b8e780a268271\n'}]",0,804231,79ec4e2938615a7524fd4c7c05cddeee8256f4a3,29,3,3,10135,,,0,"fup: Move OSBrickFixture into base.ServersTestBase

Change-Id: I7ffcb69f6f1613ddd3427472148b8e780a268271
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/804231/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",4,96b555fe0dbef0980dad08aac6c867a8ec242a8d,bug/1939545,,from nova.tests import fixtures as nova_fixtures # TODO(lyarwood): Move into base.ServersTestBase self.useFixture(nova_fixtures.OSBrickFixture()) ,1,8
openstack%2Fnova~master~Ib8009f38f20b008d08148f7f591af13b1ca5b420,openstack/nova,master,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,MERGED,2021-08-11 20:01:04.000000000,2021-08-20 15:24:39.000000000,2021-08-20 15:24:39.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 20:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70f77de32beea9bbe3855fa7e674fb6aefd6e85e', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n'}, {'number': 2, 'created': '2021-08-12 09:20:19.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/31bedfc09c1d35242e0b8101343f6e64ac63157d', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n'}]",0,804299,31bedfc09c1d35242e0b8101343f6e64ac63157d,22,3,2,10135,,,0,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/804299/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_live_migration.py'],1,70f77de32beea9bbe3855fa7e674fb6aefd6e85e,bug/1939545,"from oslo_serialization import jsonutilsfrom nova import contextfrom nova import objects * Assert that the expected source attachment is recorded in the bdm * Wrap pre_live_migration on the dest and assert that we switch over to the new attachment and connection_info on the dest. * Assert that the original src connection_info is in the bdm # Assert that this attachment_id is stashed in the connection_info # of the bdm so we can assert things again after the failure ctxt = context.get_admin_context() bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertEqual(src_attachment_id, bdm.attachment_id) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( src_attachment_id, connection_info['data']['attachment_id']) dest_pre_live_mig = self.computes['dest'].manager.pre_live_migration # Wrap pre_live_migration on the destination so we can assert that # we do switch over to the new attachment before the failure # and then later rollback to the source attachment def wrap_pre_live_migration(*args, **kwargs): # Continue with pre_live_migration before we assert anything dest_pre_live_mig(*args, **kwargs) # Assert that we now has two attachments in the fixture, one for # the src and another for the dest. attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(2, len(attachments)) # Assert that the dest attachment id is saved in the bdm # and the connection_info from the fixture. bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertNotEqual(src_attachment_id, bdm.attachment_id) dest_attachment_id = bdm.attachment_id connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( dest_attachment_id, connection_info['data']['attachment_id']) with mock.patch.object( self.computes['dest'].manager, 'pre_live_migration', wrap_pre_live_migration ): # Migrate the instance and wait until the migration errors out # thanks to our mocked version of live_migration raising # TestingException self._live_migrate(server, 'error', server_expected_state='ERROR') # Assert that the connection_info has reverted back to the src bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertEqual(src_attachment_id, bdm.attachment_id) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( src_attachment_id, connection_info['data']['attachment_id']) "," # Migrate the instance and wait until the migration errors out thanks # to our mocked version of live_migration raising TestingException self._live_migrate(server, 'error', server_expected_state='ERROR')",62,3
openstack%2Fnova~master~Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,openstack/nova,master,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,MERGED,2021-08-11 20:01:04.000000000,2021-08-20 15:24:04.000000000,2021-08-20 15:24:04.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 20:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/275bc6c847bc451a263ae9a7e7fbe828bd99b3f2', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n'}, {'number': 2, 'created': '2021-08-12 09:20:19.000000000', 'files': ['nova/tests/fixtures/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n'}]",0,804298,d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30,24,3,2,10135,,,0,"fup: Make connection_info returned by CinderFixture unique per attachment

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/804298/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/cinder.py'],1,275bc6c847bc451a263ae9a7e7fbe828bd99b3f2,bug/1939545," # Dict of connection_info for the above volumes keyed by the volume id def _find_connection_info(volume_id, attachment_id): """"""Find the connection_info associated with an attachment :returns: A connection_info dict based on a deepcopy associated with the volume_id but containing the attachment_id, making it unique for the attachment. """""" connection_info = copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake') ) ) connection_info['data']['attachment_id'] = attachment_id return connection_info attachment['connection_info'] = _find_connection_info( volume_id, attachment_id) 'connection_info': _find_connection_info( volume_id, attachment_id) 'connection_info': _find_connection_info( volume_id, attachment_id)"," # Dict of connection_info for the above volumes key'd by the volume id # TODO(lyarwood): Make this unique and tracked per attachment somehow. connection_info = self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake')) attachment['connection_info'] = copy.deepcopy(connection_info) 'connection_info': copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake'))) 'connection_info': copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake')))",22,12
openstack%2Fopenstack-helm-infra~master~I02bafef5e8559c70fa2959f52e027fbf8a1f771c,openstack/openstack-helm-infra,master,I02bafef5e8559c70fa2959f52e027fbf8a1f771c,chore(tiller): removes tiller chart,MERGED,2021-04-28 21:16:51.000000000,2021-08-20 15:00:01.000000000,2021-05-04 03:32:35.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-04-28 21:16:51.000000000', 'files': ['tiller/templates/configmap-bin.yaml', 'tiller/templates/deployment-tiller.yaml', 'tiller/values.yaml', 'tiller/requirements.yaml', 'tiller/Chart.yaml', 'tiller/templates/job-image-repo-sync.yaml', 'tiller/templates/service-tiller-deploy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2adfeadd8adbf5d99187106cf5d2956f0afeeab', 'message': 'chore(tiller): removes tiller chart\n\nHelm2 has been deprecated [0] and along with that the need of tiller.\nThis patch set removes the tiller chart.\n\n[0] https://helm.sh/blog/helm-v2-deprecation-timeline/\n\nChange-Id: I02bafef5e8559c70fa2959f52e027fbf8a1f771c\nSigned-off-by: Tin <tin@irrational.io>\n'}]",0,788592,b2adfeadd8adbf5d99187106cf5d2956f0afeeab,17,4,1,20466,,,0,"chore(tiller): removes tiller chart

Helm2 has been deprecated [0] and along with that the need of tiller.
This patch set removes the tiller chart.

[0] https://helm.sh/blog/helm-v2-deprecation-timeline/

Change-Id: I02bafef5e8559c70fa2959f52e027fbf8a1f771c
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/788592/1 && git format-patch -1 --stdout FETCH_HEAD,"['tiller/templates/configmap-bin.yaml', 'tiller/templates/deployment-tiller.yaml', 'tiller/values.yaml', 'tiller/requirements.yaml', 'tiller/Chart.yaml', 'tiller/templates/job-image-repo-sync.yaml', 'tiller/templates/service-tiller-deploy.yaml']",7,b2adfeadd8adbf5d99187106cf5d2956f0afeeab,rm/tiller,,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.service_tiller_deploy }} {{- $envAll := . }} {{- $prometheus_annotations := $envAll.Values.monitoring.prometheus.tiller }} --- apiVersion: v1 kind: Service metadata: labels: app: helm name: tiller name: tiller-deploy annotations: {{- if .Values.monitoring.prometheus.enabled }} {{ tuple $prometheus_annotations | include ""helm-toolkit.snippets.prometheus_service_annotations"" | indent 4 }} {{- end }} spec: ports: - name: tiller port: 44134 protocol: TCP targetPort: tiller - name: metrics port: 44135 protocol: TCP targetPort: metrics selector: app: helm name: tiller sessionAffinity: None type: ClusterIP {{- end }} ",0,345
openstack%2Freleases~master~Ie9da222706d9b9cabf97527cfc1e51d4f3a2d95e,openstack/releases,master,Ie9da222706d9b9cabf97527cfc1e51d4f3a2d95e,fix xena's schedule,MERGED,2021-08-20 14:26:57.000000000,2021-08-20 14:49:11.000000000,2021-08-20 14:49:11.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 14:26:57.000000000', 'files': ['doc/source/xena/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3dabe26c6f2dace6702f0f96b34ec10cf247dfee', 'message': ""fix xena's schedule\n\nChange-Id: Ie9da222706d9b9cabf97527cfc1e51d4f3a2d95e\n""}]",0,805394,3dabe26c6f2dace6702f0f96b34ec10cf247dfee,7,3,1,28522,,,0,"fix xena's schedule

Change-Id: Ie9da222706d9b9cabf97527cfc1e51d4f3a2d95e
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/805394/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/xena/schedule.yaml'],1,3dabe26c6f2dace6702f0f96b34ec10cf247dfee,fix-xena-schedule, project-specific: - x-oslo-feature-freeze x-project: - x-final-lib, x-project: - x-final-lib project-specific: - x-oslo-feature-freeze,4,4
openstack%2Felection~master~I3b79b94b671c446b4fa4c4161aab41273048dcb4,openstack/election,master,I3b79b94b671c446b4fa4c4161aab41273048dcb4,Add Eyal Bar-Ilan candidacy for Vitrage PTL,MERGED,2021-08-19 05:11:57.000000000,2021-08-20 14:41:29.000000000,2021-08-20 14:40:04.000000000,"[{'_account_id': 2799}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 05:11:57.000000000', 'files': ['candidates/yoga/Vitrage/.placeholder', 'candidates/yoga/Vitrage/eyalb1@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/69bb3919c26f94a6ea6586ac5a46c2d0af1a39b1', 'message': 'Add Eyal Bar-Ilan candidacy for Vitrage PTL\n\nChange-Id: I3b79b94b671c446b4fa4c4161aab41273048dcb4\n'}]",0,805112,69bb3919c26f94a6ea6586ac5a46c2d0af1a39b1,8,3,1,19134,,,0,"Add Eyal Bar-Ilan candidacy for Vitrage PTL

Change-Id: I3b79b94b671c446b4fa4c4161aab41273048dcb4
",git fetch https://review.opendev.org/openstack/election refs/changes/12/805112/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/yoga/Vitrage/.placeholder', 'candidates/yoga/Vitrage/eyalb1@gmail.com']",2,69bb3919c26f94a6ea6586ac5a46c2d0af1a39b1,,"Hi, I'm writing this to announce my candidacy for Vitrage Project Team Lead in the Yoga cycle. I have been a core contributor from day one and hope continue to work on Vitrage and improve it. Eyal Bar Ilan ",,9,0
openstack%2Fnova~master~I5b80778153ab95d30336f5340307e9f77c29e1ca,openstack/nova,master,I5b80778153ab95d30336f5340307e9f77c29e1ca,WIP compute: Remove no-op setup_networks_on_host calls,ABANDONED,2021-08-02 10:58:26.000000000,2021-08-20 14:39:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-02 10:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52e4c1def6c89f348c8870053ee9966bd02ebc78', 'message': 'WIP compute: Remove no-op setup_networks_on_host calls\n\nWith nova-network no longer supported we can go ahead and remove these\nno-op calls to setup_networks_on_host during the live migration flow.\n\nChange-Id: I5b80778153ab95d30336f5340307e9f77c29e1ca\n'}, {'number': 2, 'created': '2021-08-19 12:11:41.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/81289c7738e00a0dda7dd7940c69db12d24d73f7', 'message': 'WIP compute: Remove no-op setup_networks_on_host calls\n\nWith nova-network no longer supported we can go ahead and remove these\nno-op calls to setup_networks_on_host during the live migration flow.\n\nChange-Id: I5b80778153ab95d30336f5340307e9f77c29e1ca\n'}]",0,803191,81289c7738e00a0dda7dd7940c69db12d24d73f7,15,1,2,10135,,,0,"WIP compute: Remove no-op setup_networks_on_host calls

With nova-network no longer supported we can go ahead and remove these
no-op calls to setup_networks_on_host during the live migration flow.

Change-Id: I5b80778153ab95d30336f5340307e9f77c29e1ca
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/803191/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,52e4c1def6c89f348c8870053ee9966bd02ebc78,,," # NOTE(tr3buchet): setup networks on destination host # this is called a second time because # multi_host does not create the bridge in # plug_vifs # NOTE(mriedem): This is a no-op for neutron. self.network_api.setup_networks_on_host(context, instance, self.host) # NOTE(vish): this is necessary to update dhcp for nova-network # NOTE(mriedem): This is a no-op for neutron. self.network_api.setup_networks_on_host(context, instance, self.host) # NOTE(tr3buchet): setup networks on source host (really it's re-setup # for nova-network) # NOTE(mriedem): This is a no-op for neutron. self.network_api.setup_networks_on_host(context, instance, self.host)",0,14
openstack%2Felection~master~I2d15d8886c3c86154d66ee9e89541123d8c0955e,openstack/election,master,I2d15d8886c3c86154d66ee9e89541123d8c0955e,Add Andrey Pavlov candidacy for Ec2 API,MERGED,2021-08-19 20:22:43.000000000,2021-08-20 14:37:56.000000000,2021-08-20 14:35:59.000000000,"[{'_account_id': 2799}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 20:22:43.000000000', 'files': ['candidates/yoga/Ec2_Api/andrey.mp@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/dfa111c72dc3edf5ad20f58a1ff242aa25d254b0', 'message': 'Add Andrey Pavlov candidacy for Ec2 API\n\nChange-Id: I2d15d8886c3c86154d66ee9e89541123d8c0955e\n'}]",0,805293,dfa111c72dc3edf5ad20f58a1ff242aa25d254b0,8,3,1,10234,,,0,"Add Andrey Pavlov candidacy for Ec2 API

Change-Id: I2d15d8886c3c86154d66ee9e89541123d8c0955e
",git fetch https://review.opendev.org/openstack/election refs/changes/93/805293/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Ec2_Api/andrey.mp@gmail.com'],1,dfa111c72dc3edf5ad20f58a1ff242aa25d254b0,,"Hi all, I would like to continue to run for PTLship. Best regards, Andrey Pavlov. ",,6,0
openstack%2Felection~master~I1eba298e9416ee8e2c4b5b6a5fb51ab0f0519ee9,openstack/election,master,I1eba298e9416ee8e2c4b5b6a5fb51ab0f0519ee9,Add Vishal Manchanda candidacy for Horizon PTL(Yoga),MERGED,2021-08-20 05:22:45.000000000,2021-08-20 14:35:31.000000000,2021-08-20 14:32:28.000000000,"[{'_account_id': 2799}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 05:22:45.000000000', 'files': ['candidates/yoga/Horizon/manchandavishal143@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/2433fc02f3dc5aa9c1c2ae18666a273f301238b9', 'message': 'Add Vishal Manchanda candidacy for Horizon PTL(Yoga)\n\nChange-Id: I1eba298e9416ee8e2c4b5b6a5fb51ab0f0519ee9\n'}]",0,805332,2433fc02f3dc5aa9c1c2ae18666a273f301238b9,8,3,1,29313,,,0,"Add Vishal Manchanda candidacy for Horizon PTL(Yoga)

Change-Id: I1eba298e9416ee8e2c4b5b6a5fb51ab0f0519ee9
",git fetch https://review.opendev.org/openstack/election refs/changes/32/805332/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Horizon/manchandavishal143@gmail.com'],1,2433fc02f3dc5aa9c1c2ae18666a273f301238b9,,"Hi everyone, I would like to announce my candidacy for PTL of Horizon for Yoga release. I have served as horizon PTL in Xena cycle and as first time being PTL role, it was a great experience for me. I have been doing my best effort in Xena and made sure that we continued serving the horizon responsibility in a better way and Improving the many things in horizon like filling more feature gaps, triaging bugs, migrating horizon and its plugins to the current LTS version of nodejs. There are still many things left that need to be improved in horizon [1] which I will try to do in the next cycle. [1] https://etherpad.opendev.org/p/horizon-release-priorities Thanks for reading and consideration my candidacy for Yoga cycle. Vishal Manchanda (irc: vishalmanchanda) ",,17,0
openstack%2Foctavia~master~Ica759236f395c7bec28c794d2f1df5e0b690939a,openstack/octavia,master,Ica759236f395c7bec28c794d2f1df5e0b690939a,Alias change amphorav2 -> amphora,MERGED,2020-07-10 09:41:50.000000000,2021-08-20 14:34:20.000000000,2021-08-20 14:31:16.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-10 09:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28cafe91bcca4ee0843a5f6babb14f1521befe94', 'message': 'Alias change amphorav2 -> amphora\n\nFor testing grenade job.\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 2, 'created': '2020-07-10 12:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5920f5716b9461da8e7b69c8a883980386e629a6', 'message': 'Alias change amphorav2 -> amphora\n\nFor testing grenade job.\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 3, 'created': '2020-07-13 08:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/037ba0fb686331012318a86fb08fe03cc1db891f', 'message': 'Alias change amphorav2 -> amphora\n\nFor testing grenade job.\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 4, 'created': '2020-09-18 09:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e693ae1eeeb84c1bf6aada043835f8fd0a81d02', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 5, 'created': '2020-10-08 12:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/57c6122d3a045af65f73d8e7b4a10032b5ec55c4', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 6, 'created': '2020-10-27 08:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7d4ca6393622934072b130236786a058c9e7fb9a', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 7, 'created': '2020-10-30 10:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a27e98026f5c3312aef510be9706fe5302a27b3', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 8, 'created': '2020-11-03 09:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/da5b160fc70ee90a534afbeb2f9c5fe04e718f77', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 9, 'created': '2020-11-17 07:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b66db467d95cf0783b86abecfede3e3adbe1947', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 10, 'created': '2020-11-17 13:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13daef25727b85e0be693ffcae0bdb5fff26fdce', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 11, 'created': '2020-11-19 08:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/20ec31a3b97f697f32ffce042d5c2f7e95aa7536', 'message': 'Alias change amphorav2 -> amphora\n\nDepends-On: https://review.opendev.org/#/c/763319/\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 12, 'created': '2020-11-25 10:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/306b4464c235bd2b47971f29445c089100261fe6', 'message': 'Alias change amphorav2 -> amphora\n\nDepends-On: https://review.opendev.org/#/c/763319/\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 13, 'created': '2020-11-26 12:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/89dc7106f95cdfe43c525c7d0e0139d156e1bfae', 'message': 'Alias change amphorav2 -> amphora\n\nDepends-On: https://review.opendev.org/#/c/763319/\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 14, 'created': '2020-12-03 07:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c3a57de21b93889cbcb19723ec274f0271909a4b', 'message': 'Alias change amphorav2 -> amphora\n\nDepends-On: https://review.opendev.org/#/c/763319/\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 15, 'created': '2020-12-03 07:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3362ee69d36413f769ed952442eedd075f3ac98e', 'message': 'Alias change amphorav2 -> amphora\n\nDepends-On: https://review.opendev.org/#/c/763319/\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 16, 'created': '2020-12-03 12:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d39910eaa065202d5014ce717f86a064e9a0ae3', 'message': 'Alias change amphorav2 -> amphora\n\nDepends-On: https://review.opendev.org/#/c/763319/\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 17, 'created': '2020-12-03 12:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/94afffe48ff01f54be32af5a2fd76485579915ac', 'message': 'Alias change amphorav2 -> amphora\n\nDepends-On: https://review.opendev.org/#/c/763319/\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 18, 'created': '2020-12-04 10:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/81264e5d9d563646a6af06f1d21acf3172a730ca', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 19, 'created': '2020-12-04 14:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dfee00815cee1e26ad710e95f1c62dad0c9a519d', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 20, 'created': '2021-01-11 12:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/be31e4c535e5c6439f4bbd344da8faff37c76c1f', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 21, 'created': '2021-02-20 07:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/430b318eaeee6baa4207b83dc31d281ae277ecf8', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 22, 'created': '2021-03-10 08:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8c4c000e826276a20dc06043c39f0246b686f26c', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 23, 'created': '2021-03-24 09:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4042634395748d346a5cdb5bb00dae1b8de0dbb2', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 24, 'created': '2021-04-20 15:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8168cd7730bae860bdb3f021370740451618357f', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 25, 'created': '2021-04-21 09:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1685a02fe2b08a1f0c295adbbecee08b1a189236', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 26, 'created': '2021-04-23 12:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/284003e84e4b9f5ebcf9851c9b8f17789b7f4391', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 27, 'created': '2021-04-29 19:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2545d9b3ef3447d7e95abf089c710969117e741a', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 28, 'created': '2021-04-30 12:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/12af350fd804a059a2bcae78bed8e4d755957b10', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 29, 'created': '2021-05-03 09:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2550bcc2fe260ef7354f0a61ef230d92f14dd45', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 30, 'created': '2021-05-06 09:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8a30fb5f25f0a1352d05a6fbdb33796b887d232', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 31, 'created': '2021-05-06 11:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/855e283143200e41f6fc79b15d18d18f86b28177', 'message': 'Alias change amphorav2 -> amphora\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 32, 'created': '2021-05-11 08:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ba86f3d91e43ffc76709f8966503d0f7b85934ac', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 33, 'created': '2021-05-13 09:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/426c9969551966856442a4f72d87b23b79cfa8b7', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 34, 'created': '2021-05-31 07:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/60a70bbbf88c3681a346d829b1cb94792ae8f717', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 35, 'created': '2021-06-08 11:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c12502765ae7e9d5392f5afd18ce8851e2cca22f', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 36, 'created': '2021-06-22 07:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ac8900ddce58fba3a0201961973451047e660e5c', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 37, 'created': '2021-07-08 05:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8f56f2e7ef96a099225df712090f45ffddd3024', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 38, 'created': '2021-07-19 07:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/438e9478741c416b3c87dd447d1aea2bcbbc2e2b', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 39, 'created': '2021-08-19 14:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8451f3a9c6b4413ac22058ef68b65d78db409572', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}, {'number': 40, 'created': '2021-08-19 20:48:43.000000000', 'files': ['octavia/common/constants.py', 'releasenotes/notes/switch-default-amphora-provider-7e17f90d7d4b2ee7.yaml', 'octavia/controller/housekeeping/house_keeping.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/controller/healthmanager/health_manager.py', 'setup.cfg', 'octavia/controller/queue/v2/consumer.py', 'octavia/tests/unit/controller/housekeeping/test_house_keeping.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1aef468ec819802bee3cf43f4eeb1fa52c5b01c8', 'message': 'Alias change amphorav2 -> amphora\n\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\n\nChange-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a\n'}]",29,740432,1aef468ec819802bee3cf43f4eeb1fa52c5b01c8,136,5,40,7249,,,0,"Alias change amphorav2 -> amphora

Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>

Change-Id: Ica759236f395c7bec28c794d2f1df5e0b690939a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/32/740432/33 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,28cafe91bcca4ee0843a5f6babb14f1521befe94,, amphora = octavia.api.drivers.amphora_driver.v2.driver:AmphoraProviderDriver, amphora = octavia.api.drivers.amphora_driver.v1.driver:AmphoraProviderDriver,1,1
openstack%2Felection~master~I9a2e0b510960c734a49939bfcbe137d89cc98157,openstack/election,master,I9a2e0b510960c734a49939bfcbe137d89cc98157,Add Ke Chen candidacy for Cyborg,MERGED,2021-08-18 14:17:20.000000000,2021-08-20 14:34:08.000000000,2021-08-20 14:32:05.000000000,"[{'_account_id': 2799}, {'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 33229}]","[{'number': 1, 'created': '2021-08-18 14:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/3778c52b4a4d2a897b2abbd53e931a8fcd9002a2', 'message': 'Add Ke Chen candidacy for Cyborg\n\nChange-Id: I9a2e0b510960c734a49939bfcbe137d89cc98157\n'}, {'number': 2, 'created': '2021-08-18 14:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/8fd2467339a76be9b2c8aed819b1eb1f470e77d8', 'message': 'Add Ke Chen candidacy for Cyborg\n\nChange-Id: I9a2e0b510960c734a49939bfcbe137d89cc98157\n'}, {'number': 3, 'created': '2021-08-18 14:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/26969e24d839ae1fc2c37d765f058ca532f31cc3', 'message': 'Add Ke Chen candidacy for Cyborg\n\nChange-Id: I9a2e0b510960c734a49939bfcbe137d89cc98157\n'}, {'number': 4, 'created': '2021-08-19 00:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/82fdb70da2f7624564184bb737f30f51778ae2cc', 'message': 'Add Ke Chen candidacy for Cyborg\n\nChange-Id: I9a2e0b510960c734a49939bfcbe137d89cc98157\n'}, {'number': 5, 'created': '2021-08-19 01:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/97c148b04295481cf474994ad81800f81ebf556b', 'message': 'Add Ke Chen candidacy for Cyborg\n\nChange-Id: I9a2e0b510960c734a49939bfcbe137d89cc98157\n'}, {'number': 6, 'created': '2021-08-19 01:12:00.000000000', 'files': ['candidates/yoga/Cyborg/chen.ke14@zte.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/0e069022400590fb66a393b1438582cc13afeefe', 'message': 'Add Ke Chen candidacy for Cyborg\n\nChange-Id: I9a2e0b510960c734a49939bfcbe137d89cc98157\n'}]",0,805032,0e069022400590fb66a393b1438582cc13afeefe,20,10,6,28748,,,0,"Add Ke Chen candidacy for Cyborg

Change-Id: I9a2e0b510960c734a49939bfcbe137d89cc98157
",git fetch https://review.opendev.org/openstack/election refs/changes/32/805032/2 && git format-patch -1 --stdout FETCH_HEAD,['yoga/Cyborg/chen.ke14@zte.com.cn'],1,3778c52b4a4d2a897b2abbd53e931a8fcd9002a2,,"Hi, I would like to announce my candidacy for Cyborg PTL for the Yoga cycle. As an openstack enthusiast, I have been engaged in openstack for 4 years. I was lucky to make friends with openstack projects such as Cyborg and Watcher in 2018. I met many interesting partners, such as Matt riedemann, Sundar nadathur, Huang Zhipeng, Liuli, Baoyumeng, Zhurong, Licanwei, Fengshaohe, Wangxinran, Shogo, Zhangbailin, Songwenping and others. You let me see the charm of the community and rigorous working attitude, thanks. In the past two years, except for the watcher project, I spent most of my time dealing with cyborg. To be honest, I know cyborg very well. At present, cyborg can manage FPGA, GPU, smartnic and other acceleration devices. Users can create virtual machines with acceleration resources as needed, which is a very cool thing. However, our cyborg project still has many things to do. In the next y version, I think there are mainly the following five things to do: 1. Optimize the interaction between Nova and cyborg. The existing interface is synchronous call. On cyborg side, we can change synchronization to asynchronous to save the landing time of concurrent virtual machines. 2. Support for more drivers and more universal drivers; At present, vgpu driver is not supported in cyborg. I hope to implement it in the next version. 3. Implementation of disable and enable acceleration devices. 4. More bugfix and documentation enhancements. 5. More virtual machine operation support, such as cold migration. Cyborg is expected to give users more and more convenient experience. Thanks, Ke Chen(chenke) ",,38,0
openstack%2Fopenstack-helm~master~Iab8cff315d331d6c48504e0f8f42a06ef6131089,openstack/openstack-helm,master,Iab8cff315d331d6c48504e0f8f42a06ef6131089,[WIP]Auto-detect number of workers for nova,ABANDONED,2021-06-22 17:06:50.000000000,2021-08-20 14:09:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 17:06:50.000000000', 'files': ['nova/templates/bin/_nova-api-metadata-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a6285399c10a4140daaf215dced2e411959ebb2', 'message': '[WIP]Auto-detect number of workers for nova\n\nChange-Id: Iab8cff315d331d6c48504e0f8f42a06ef6131089\n'}]",3,797514,2a6285399c10a4140daaf215dced2e411959ebb2,5,1,1,31746,,,0,"[WIP]Auto-detect number of workers for nova

Change-Id: Iab8cff315d331d6c48504e0f8f42a06ef6131089
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/797514/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_nova-api-metadata-init.sh.tpl'],1,2a6285399c10a4140daaf215dced2e411959ebb2,,"metadata_workers=""{{- .Values.conf.nova.DEFAULT.metadata_workers -}}"" if [ ""$metadata_workers"" == ""%"" ] ; then count=$(nproc) metadata_workers=$(( count / 4 )) fimetadata_workers=$metadata_workers",,6,1
openstack%2Fhorizon~stable%2Fvictoria~I4c5e6a571319eb1388a110dca3d67006298df4bf,openstack/horizon,stable/victoria,I4c5e6a571319eb1388a110dca3d67006298df4bf,Add the filter function in c-bak dashboard [victoria],ABANDONED,2021-06-07 15:50:54.000000000,2021-08-20 14:07:56.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-07 15:50:54.000000000', 'files': ['openstack_dashboard/dashboards/project/backups/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3b7e8101d1b4ee5a9d9140b453059dffb7a89cf2', 'message': 'Add the filter function in c-bak dashboard [victoria]\n\nChange-Id: I4c5e6a571319eb1388a110dca3d67006298df4bf\n'}]",0,795128,3b7e8101d1b4ee5a9d9140b453059dffb7a89cf2,5,3,1,31746,,,0,"Add the filter function in c-bak dashboard [victoria]

Change-Id: I4c5e6a571319eb1388a110dca3d67006298df4bf
",git fetch https://review.opendev.org/openstack/horizon refs/changes/28/795128/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/backups/tables.py'],1,3b7e8101d1b4ee5a9d9140b453059dffb7a89cf2,,"class BackupsFilterAction(tables.FilterAction): def filter(self, table, volumes, filter_string): q = filter_string.lower() return [volume for volume in volumes if q in volume.name.lower()] table_actions = (DeleteBackup, BackupsFilterAction,)"," table_actions = (DeleteBackup,)",9,1
openstack%2Freleases~master~Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf,openstack/releases,master,Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf,Release final heat-translator for Xena,MERGED,2021-08-16 09:25:40.000000000,2021-08-20 13:55:15.000000000,2021-08-20 13:55:15.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c27b3dc31ac772d0caa71b0e36d8efde8387f76e', 'message': 'Release final heat-translator for Xena\n\nThis proposed a release for heat-translator to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.4.0..0b8fba5\n0b8fba5 [ussuri][goal] Update contributor documentation\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf\n'}, {'number': 2, 'created': '2021-08-19 07:32:59.000000000', 'files': ['deliverables/xena/heat-translator.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0fe5a4e15cce085f4ee873c60e55a80702aaec4d', 'message': 'Release final heat-translator for Xena\n\nThis proposed a release for heat-translator to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.4.0..0b8fba5\n0b8fba5 [ussuri][goal] Update contributor documentation\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf\n'}]",0,804659,0fe5a4e15cce085f4ee873c60e55a80702aaec4d,17,4,2,28522,,,0,"Release final heat-translator for Xena

This proposed a release for heat-translator to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.4.0..0b8fba5
0b8fba5 [ussuri][goal] Update contributor documentation

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/804659/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/heat-translator.yaml'],1,c27b3dc31ac772d0caa71b0e36d8efde8387f76e,xena-final-non-client-libs, - version: 2.5.0 projects: - repo: openstack/heat-translator hash: 0b8fba577f4ba2ff5131f71fc72ef846400ccc88,,4,0
openstack%2Fnova~master~I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8,openstack/nova,master,I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8,libvirt: Mock the os-brick connector within base.ServersTestBase,ABANDONED,2020-05-18 14:31:00.000000000,2021-08-20 13:53:33.000000000,,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-18 14:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/656c65e92d7f439a0218945f58bcd2410d879e5d', 'message': 'libvirt: Mock the connector within ServersTestBase\n\nThis is a commonly required fixture across\nnova.tests.functional.libvirt.base.ServersTestBase derived tests.\n\nChange-Id: I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8\n'}, {'number': 2, 'created': '2021-02-17 11:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f91a829095371597a7b89c4aa36e72bdcf2eee1e', 'message': 'libvirt: Mock the os-brick connector within base.ServersTestBase\n\nThis is a commonly enough required fixture across\nlibvirt.base.ServersTestBase derived functional tests.\n\nChange-Id: I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8\n'}, {'number': 3, 'created': '2021-04-19 18:30:18.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5302e3ecf1eb2e5665c22af83116020b5f3016d4', 'message': 'libvirt: Mock the os-brick connector within base.ServersTestBase\n\nThis is a commonly enough required fixture across\nlibvirt.base.ServersTestBase derived functional tests.\n\nChange-Id: I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8\n'}]",4,728914,5302e3ecf1eb2e5665c22af83116020b5f3016d4,25,10,3,10135,,,0,"libvirt: Mock the os-brick connector within base.ServersTestBase

This is a commonly enough required fixture across
libvirt.base.ServersTestBase derived functional tests.

Change-Id: I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/728914/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/base.py']",2,656c65e92d7f439a0218945f58bcd2410d879e5d,,"from nova.tests.unit.virt.libvirt import fake_os_brick_connector self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.connector', fake_os_brick_connector))",,4,4
openstack%2Freleases~master~I5e2ada4bd525d9568d53eea58e1264adcc81dd84,openstack/releases,master,I5e2ada4bd525d9568d53eea58e1264adcc81dd84,Release final metalsmith for Xena,MERGED,2021-08-16 09:31:41.000000000,2021-08-20 13:31:54.000000000,2021-08-20 13:31:54.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bcff72f3ff53efe0354ecb9355270ca2ce76e49e', 'message': 'Release final metalsmith for Xena\n\nThis proposed a release for metalsmith to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 1.5.0..1224d2b\ne1e6cc3 Set glance limit for baremetal friendly images\n419e384 Replace deprecated import of ABCs from collections\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I5e2ada4bd525d9568d53eea58e1264adcc81dd84\n'}, {'number': 2, 'created': '2021-08-20 11:40:13.000000000', 'files': ['deliverables/xena/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/743d8a1af12d269b5aceb27c9e02086a3f9252dc', 'message': 'Release final metalsmith for Xena\n\nThis proposed a release for metalsmith to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 1.5.0..2a39acc6d5\nd9c167d Use importlib instead of imp\ne1e6cc3 Set glance limit for baremetal friendly images\n419e384 Replace deprecated import of ABCs from collections\n606c88b Changed minversion in tox to 3.18.0\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I5e2ada4bd525d9568d53eea58e1264adcc81dd84\n'}]",0,804662,743d8a1af12d269b5aceb27c9e02086a3f9252dc,13,7,2,28522,,,0,"Release final metalsmith for Xena

This proposed a release for metalsmith to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 1.5.0..2a39acc6d5
d9c167d Use importlib instead of imp
e1e6cc3 Set glance limit for baremetal friendly images
419e384 Replace deprecated import of ABCs from collections
606c88b Changed minversion in tox to 3.18.0

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I5e2ada4bd525d9568d53eea58e1264adcc81dd84
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/804662/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/metalsmith.yaml'],1,bcff72f3ff53efe0354ecb9355270ca2ce76e49e,xena-final-non-client-libs, - version: 1.5.1 projects: - repo: openstack/metalsmith hash: 1224d2b7dd2b6f2cd3a4f2fd9d6b35416bdfa526,,4,0
openstack%2Fironic~master~I5524a76594bb784f59be4d4e3970f72d4497891b,openstack/ironic,master,I5524a76594bb784f59be4d4e3970f72d4497891b,Make curl in DevStack Bypass Proxy,MERGED,2021-08-11 06:16:53.000000000,2021-08-20 13:31:34.000000000,2021-08-20 13:29:49.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-11 06:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37f131b138f0724bb07322b4ad6310f321939008', 'message': 'Make curl in DevStack Bypass Proxy\n\nThis commit modifies curl option in wait_for_nova_resources not to\nuse proxy with --noproxy option. Without this option, if you run\nDevStack behind proxy, curl command fails with timeout &\nwait_for_nova_resources also fails.\nBecause curl only accesses Placement service API, this modification\nshould be fair.\n\nChange-Id: I5524a76594bb784f59be4d4e3970f72d4497891b\n'}, {'number': 2, 'created': '2021-08-11 06:21:05.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c3e20d859504fbc96816489d8571d6bc0dc9a1e', 'message': 'Make curl in DevStack Bypass Proxy\n\nThis commit modifies curl option in wait_for_nova_resources to\nbypass proxy with --noproxy option. Without this option, if you run\nDevStack behind proxy, curl command fails with timeout &\nwait_for_nova_resources also fails.\nBecause curl only accesses Placement service API, this modification\nshould be fair.\n\nChange-Id: I5524a76594bb784f59be4d4e3970f72d4497891b\n'}]",0,804201,1c3e20d859504fbc96816489d8571d6bc0dc9a1e,19,3,2,30566,,,0,"Make curl in DevStack Bypass Proxy

This commit modifies curl option in wait_for_nova_resources to
bypass proxy with --noproxy option. Without this option, if you run
DevStack behind proxy, curl command fails with timeout &
wait_for_nova_resources also fails.
Because curl only accesses Placement service API, this modification
should be fair.

Change-Id: I5524a76594bb784f59be4d4e3970f72d4497891b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/804201/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,37f131b138f0724bb07322b4ad6310f321939008,modify_devstack_curl_noproxy," providers=$(curl --noproxy '*' -sH ""X-Auth-Token: $token"" $endpoint/resource_providers \ amount=$(curl --noproxy '*' -sH ""X-Auth-Token: $token"" $endpoint/resource_providers/$p/inventories \ rp_traits=$(curl --noproxy '*' -sH ""X-Auth-Token: $token"" \"," providers=$(curl -sH ""X-Auth-Token: $token"" $endpoint/resource_providers \ amount=$(curl -sH ""X-Auth-Token: $token"" $endpoint/resource_providers/$p/inventories \ rp_traits=$(curl -sH ""X-Auth-Token: $token"" \",3,3
openstack%2Ftripleo-validations~stable%2Fussuri~I5c4d674ecc55107e14d627d9144982011f6c2873,openstack/tripleo-validations,stable/ussuri,I5c4d674ecc55107e14d627d9144982011f6c2873,DNM: verbose molecule test,ABANDONED,2021-08-19 18:06:52.000000000,2021-08-20 13:15:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-19 18:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fb80c6df4404eff1fdeff9d3275a2135714d6790', 'message': 'DNM: verbose molecule test\n\nChange-Id: I5c4d674ecc55107e14d627d9144982011f6c2873\n'}, {'number': 2, 'created': '2021-08-19 18:24:49.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0ad8addd588c7c6539a02798e3b1f53c0945726a', 'message': 'DNM: verbose molecule test\n\nChange-Id: I5c4d674ecc55107e14d627d9144982011f6c2873\n'}]",1,805262,0ad8addd588c7c6539a02798e3b1f53c0945726a,5,1,2,14985,,,0,"DNM: verbose molecule test

Change-Id: I5c4d674ecc55107e14d627d9144982011f6c2873
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/62/805262/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/layout.yaml']",2,fb80c6df4404eff1fdeff9d3275a2135714d6790,dnm,, - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-standalone-tv-validation: vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-tv-validation: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,1,516
openstack%2Fkolla-ansible~stable%2Fussuri~I7b58cb84295726e0edc1b38fc5f2437a5196c20a,openstack/kolla-ansible,stable/ussuri,I7b58cb84295726e0edc1b38fc5f2437a5196c20a,Fix regression in image pull action,MERGED,2021-08-19 13:49:52.000000000,2021-08-20 13:02:03.000000000,2021-08-20 13:00:30.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-19 13:49:52.000000000', 'files': ['ansible/roles/common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16fe223bcf4e51cb0e1bb3bd05dde0121d621b1c', 'message': 'Fix regression in image pull action\n\n... for the common role.\n\nUssuri-only\nVictoria+ not affected because Victoria dropped the reliance on\nimporting the common role via meta.\n\nMore details inline.\n\nRegression introduced by ec4afcafbdac7e5a0cd85cb4335a005b27c6e555\n""Refactor and optimise image pulling""\n\nChange-Id: I7b58cb84295726e0edc1b38fc5f2437a5196c20a\n'}]",0,805225,16fe223bcf4e51cb0e1bb3bd05dde0121d621b1c,13,5,1,30491,,,0,"Fix regression in image pull action

... for the common role.

Ussuri-only
Victoria+ not affected because Victoria dropped the reliance on
importing the common role via meta.

More details inline.

Regression introduced by ec4afcafbdac7e5a0cd85cb4335a005b27c6e555
""Refactor and optimise image pulling""

Change-Id: I7b58cb84295726e0edc1b38fc5f2437a5196c20a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/805225/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/defaults/main.yml'],1,16fe223bcf4e51cb0e1bb3bd05dde0121d621b1c,fix-pulling,"# NOTE(yoctozepto): we need this in Ussuri for the common role because # it is imported via meta and it could happen that it gets imported by # nova-cell first (a very common case - separate computes) which sets # this variable and makes pull action work for nova_cell twice instead # due to how variable precedence and shadowing work in Ansible. kolla_role_name: ""common"" ",,7,0
openstack%2Ftripleo-heat-templates~master~I1ff3363259397bba60f5ec09086cb7de34e7af8b,openstack/tripleo-heat-templates,master,I1ff3363259397bba60f5ec09086cb7de34e7af8b,container-puppet.sh idempotency on restart,MERGED,2021-08-19 20:32:14.000000000,2021-08-20 12:59:01.000000000,2021-08-20 12:47:29.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-19 20:32:14.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e4361c878556979569a886db69b97bacf00fa29', 'message': 'container-puppet.sh idempotency on restart\n\nWhen restarting a container-puppet-{service} container,\nmake sure to remove /etc/puppet from its storage,\notherwise the config generation might fail, for example\nwhen using upload-puppet-module with a stack update.\n\nChange-Id: I1ff3363259397bba60f5ec09086cb7de34e7af8b\nCloses-Bug: #1940571\n'}]",1,805301,2e4361c878556979569a886db69b97bacf00fa29,9,5,1,20778,,,0,"container-puppet.sh idempotency on restart

When restarting a container-puppet-{service} container,
make sure to remove /etc/puppet from its storage,
otherwise the config generation might fail, for example
when using upload-puppet-module with a stack update.

Change-Id: I1ff3363259397bba60f5ec09086cb7de34e7af8b
Closes-Bug: #1940571
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/805301/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,2e4361c878556979569a886db69b97bacf00fa29,bug/1940571,rm -rf /etc/puppet,,1,0
openstack%2Fnetworking-baremetal~master~I26d6dceeda4983c988b56be70b4bae4cc2c7dc85,openstack/networking-baremetal,master,I26d6dceeda4983c988b56be70b4bae4cc2c7dc85,Add lower-constraints job to current development branch,MERGED,2021-08-09 14:32:34.000000000,2021-08-20 12:54:30.000000000,2021-08-20 12:50:02.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 14:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/6de680c8ae7644f51f1c0fd4197c6245fb444896', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nAdjust minimum requirements and test-requirements as consequence of\ncompatibility tetst.\n\nChange-Id: I26d6dceeda4983c988b56be70b4bae4cc2c7dc85\n'}, {'number': 2, 'created': '2021-08-10 08:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/021e04dde737d0b5b914b20c5db7e4470b7eb1d1', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nAdjust minimum requirements and test-requirements as consequence of\ncompatibility tetst.\n\nChange-Id: I26d6dceeda4983c988b56be70b4bae4cc2c7dc85\n'}, {'number': 3, 'created': '2021-08-10 08:17:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/cd69016601675016bccaaf611528a6439e254b68', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nAdjust minimum requirements and test-requirements as consequence of\ncompatibility tetst.\n\nChange-Id: I26d6dceeda4983c988b56be70b4bae4cc2c7dc85\n'}]",0,803933,cd69016601675016bccaaf611528a6439e254b68,25,3,3,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Adjust minimum requirements and test-requirements as consequence of
compatibility tetst.

Change-Id: I26d6dceeda4983c988b56be70b4bae4cc2c7dc85
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/33/803933/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml']",4,6de680c8ae7644f51f1c0fd4197c6245fb444896,lower-constraints-revamp, - openstack-lower-constraints-master-branch-jobs,,82,4
openstack%2Fironic~master~Ieab097c63f218c3c262f013c29495f5393dd3cfc,openstack/ironic,master,Ieab097c63f218c3c262f013c29495f5393dd3cfc,Remove hardcoded parameters from insert_media call,NEW,2021-07-28 01:31:06.000000000,2021-08-20 12:47:59.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32177}]","[{'number': 1, 'created': '2021-07-28 01:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9a3b4a879b01323095d8156825b24ab6073f496', 'message': 'Remove hardcoded parameters from insert_media call\n\nRemoving hardcoded Inserted and WriteProtected values from sushy\ninsert_media calls. This is to match sushy change:\nhttps://review.opendev.org/c/openstack/sushy/+/802452\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 2, 'created': '2021-07-28 04:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/62fad8738d76b977b7ea1d1dc4f10858433ec46c', 'message': 'Remove hardcoded parameters from insert_media call\n\nRemoving hardcoded Inserted and WriteProtected values from sushy\ninsert_media calls. This is to match sushy change:\nhttps://review.opendev.org/c/openstack/sushy/+/802452\n\nBugzilla reference: https://bugzilla.redhat.com/show_bug.cgi?id=1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 3, 'created': '2021-07-28 10:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6df468b23f620737feccc81ba760349e7af5a642', 'message': 'Remove hardcoded parameters from insert_media call\n\nRemoving hardcoded Inserted and WriteProtected values from sushy\ninsert_media calls. This is to match sushy change:\nhttps://review.opendev.org/c/openstack/sushy/+/802452\n\nBugzilla reference: https://bugzilla.redhat.com/show_bug.cgi?id=1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 4, 'created': '2021-07-29 01:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd135d41d359fd3116d513f1fa1a8a7c720beab1', 'message': 'Remove hardcoded parameters from insert_media call\n\nRemoving hardcoded Inserted and WriteProtected values from sushy\ninsert_media calls. This is to match sushy change:\nhttps://review.opendev.org/c/openstack/sushy/+/802452\nwhich is a part of a change set enabling support for Redfish\nvirtual media on SuperMicro X11/X12 systems.\n\nStory: 2009086\nTask: 42908\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 5, 'created': '2021-08-20 05:14:27.000000000', 'files': ['releasenotes/notes/remove-hardcoded-insert-media-attrs-6621a811f46cf8d3.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7be44e303d8841c484c481cf953c3f6a017f259f', 'message': 'Remove hardcoded parameters from insert_media call\n\nRemoving hardcoded Inserted and WriteProtected values from sushy\ninsert_media calls. This is to match sushy change:\nhttps://review.opendev.org/c/openstack/sushy/+/802452\nwhich is a part of a change set enabling support for Redfish\nvirtual media on SuperMicro X11/X12 systems.\n\nStory: 2009086\nTask: 42908\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}]",17,802643,7be44e303d8841c484c481cf953c3f6a017f259f,36,4,5,32177,,,0,"Remove hardcoded parameters from insert_media call

Removing hardcoded Inserted and WriteProtected values from sushy
insert_media calls. This is to match sushy change:
https://review.opendev.org/c/openstack/sushy/+/802452
which is a part of a change set enabling support for Redfish
virtual media on SuperMicro X11/X12 systems.

Story: 2009086
Task: 42908
rhbz#1986238

Change-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/802643/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-hardcoded-insert-media-attrs-6621a811f46cf8d3.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py']",3,a9a3b4a879b01323095d8156825b24ab6073f496,BZ1986238, v_media.insert_media(boot_url)," v_media.insert_media(boot_url, inserted=True, write_protected=True)",7,3
openstack%2Felection~master~Ie587c7f53c2ec332f494696270674e998727b664,openstack/election,master,Ie587c7f53c2ec332f494696270674e998727b664,Add Martin Kopec candidacy for Quality_Assurance PTL,MERGED,2021-08-19 22:48:45.000000000,2021-08-20 12:44:32.000000000,2021-08-20 12:41:57.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 22:48:45.000000000', 'files': ['candidates/yoga/Quality_Assurance/mkopec@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/7421a095cdae53359adb1bdaa9045592606d64d9', 'message': 'Add Martin Kopec candidacy for Quality_Assurance PTL\n\nChange-Id: Ie587c7f53c2ec332f494696270674e998727b664\n'}]",0,805313,7421a095cdae53359adb1bdaa9045592606d64d9,9,4,1,22873,,,0,"Add Martin Kopec candidacy for Quality_Assurance PTL

Change-Id: Ie587c7f53c2ec332f494696270674e998727b664
",git fetch https://review.opendev.org/openstack/election refs/changes/13/805313/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Quality_Assurance/mkopec@redhat.com'],1,7421a095cdae53359adb1bdaa9045592606d64d9,,"Hi everyone, I would like to propose my candidacy and continue serving as Quality Assurance PTL in the Yoga cycle. I would like to thank all the contributors, core reviewers, and anyone involved, all this wouldn't be possible without you. In the Xena cycle we have finished Tempest scenario manager effort [2] which had been ongoing for a few cycles. We have declared the interface stable which helps decreasing the code duplicity among tempest plugins. We have also finished a good number of priority items carrying for several cycles. Involvment in an open source contest [3] held by Red Hat really helped here as we had got a chance to cooperate with students passionate about open source. My priorities in the Yoga cycle will be: * Guiding and motivating more contributors to QA projects. * Start removing any duplicated code from tempest plugins as a result of declaring tempest's plugin interface stable in the Xena cycle. * Keep decreasing the bug counts and watching over open reviews as these are cruical activities to keep us moving forward. * Complete priority items from the previous cycles. [1] https://www.stackalytics.com/?user_id=mkopec [2] https://etherpad.opendev.org/p/tempest-scenario-manager [3] https://etherpad.opendev.org/p/openstack-open-source-contest-2021 Thanks for your consideration! -- Martin Kopec (kopecmartin) ",,36,0
openstack%2Felection~master~I7aa11a4f1ccde530601eb8b6c2c28eed8eb2acfd,openstack/election,master,I7aa11a4f1ccde530601eb8b6c2c28eed8eb2acfd,Add Pierre Riteau's candidacy for Blazar PTL (Yoga),MERGED,2021-08-19 21:09:05.000000000,2021-08-20 12:43:19.000000000,2021-08-20 12:41:53.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 21:09:05.000000000', 'files': ['candidates/yoga/Blazar/pierre@stackhpc.com'], 'web_link': 'https://opendev.org/openstack/election/commit/df56e25e6e666fcbf725b563ee83314c9c16c14e', 'message': ""Add Pierre Riteau's candidacy for Blazar PTL (Yoga)\n\nChange-Id: I7aa11a4f1ccde530601eb8b6c2c28eed8eb2acfd\n""}]",0,805306,df56e25e6e666fcbf725b563ee83314c9c16c14e,8,3,1,15197,,,0,"Add Pierre Riteau's candidacy for Blazar PTL (Yoga)

Change-Id: I7aa11a4f1ccde530601eb8b6c2c28eed8eb2acfd
",git fetch https://review.opendev.org/openstack/election refs/changes/06/805306/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Blazar/pierre@stackhpc.com'],1,df56e25e6e666fcbf725b563ee83314c9c16c14e,yoga-blazar,"Hi, I would like to self-nominate for the role of PTL of Blazar for the Yoga release cycle. I have been PTL since the Stein cycle and I am willing to continue in this role. During the Xena cycle, an existing contributor became a core reviewer and we also welcomed changes from new contributors. I will keep working with the community to maintain the Blazar software for their use cases and encourage the addition of new functionalities, such as providing a calendar view in the dashboard or supporting preemptible instances. Thank you for your support, Pierre Riteau (priteau) ",,15,0
openstack%2Felection~master~Ib4fb6c1d3cca3e01055973d2bea4a2817af43db0,openstack/election,master,Ib4fb6c1d3cca3e01055973d2bea4a2817af43db0,Adding Lingxian Kong candidacy for Trove in Yoga,MERGED,2021-08-19 03:03:16.000000000,2021-08-20 12:41:56.000000000,2021-08-20 12:41:56.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 03:03:16.000000000', 'files': ['candidates/yoga/Trove/anlin.kong@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/ccce4a1641d15ead8a61870dbbe0f885297387ed', 'message': 'Adding Lingxian Kong candidacy for Trove in Yoga\n\nChange-Id: Ib4fb6c1d3cca3e01055973d2bea4a2817af43db0\n'}]",0,805106,ccce4a1641d15ead8a61870dbbe0f885297387ed,7,3,1,6732,,,0,"Adding Lingxian Kong candidacy for Trove in Yoga

Change-Id: Ib4fb6c1d3cca3e01055973d2bea4a2817af43db0
",git fetch https://review.opendev.org/openstack/election refs/changes/06/805106/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Trove/anlin.kong@gmail.com'],1,ccce4a1641d15ead8a61870dbbe0f885297387ed,yoga-trove-ptl,"I'm writing this in order to announce my candidacy for Trove PTL during the Yoga development cycle. I started my PTL responsibility from Train and I'd like to continue to improve and maintain this project. Trove has been improved a lot during Wallaby[1], given the project has been adopted by some public and private clouds over the world. As you can guess, the cloud[2] I'm working for also deployed Trove in the beginning of this year. In Yoga, I will keep improving Trove for production usage. Any feedback and contributions are welcome. [1]: https://docs.openstack.org/releasenotes/trove/wallaby.html [2]: https://catalystcloud.nz/services/paas/managed-database/ Lingxian Kong (lxkong) ",,18,0
openstack%2Felection~master~Ia11ffaef6bc5b14e2ae538a4d422ae80820cd555,openstack/election,master,Ia11ffaef6bc5b14e2ae538a4d422ae80820cd555,Add Masakari Yoga yoctozepto candidacy as PTL,MERGED,2021-08-19 08:37:17.000000000,2021-08-20 12:41:54.000000000,2021-08-20 12:41:54.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 08:37:17.000000000', 'files': ['candidates/yoga/Masakari/radoslaw.piliszek@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/97b00ca16f574cb93c18ee64f6107ffa11e2fe85', 'message': 'Add Masakari Yoga yoctozepto candidacy as PTL\n\nChange-Id: Ia11ffaef6bc5b14e2ae538a4d422ae80820cd555\n'}]",0,805163,97b00ca16f574cb93c18ee64f6107ffa11e2fe85,7,3,1,30491,,,0,"Add Masakari Yoga yoctozepto candidacy as PTL

Change-Id: Ia11ffaef6bc5b14e2ae538a4d422ae80820cd555
",git fetch https://review.opendev.org/openstack/election refs/changes/63/805163/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Masakari/radoslaw.piliszek@gmail.com'],1,97b00ca16f574cb93c18ee64f6107ffa11e2fe85,masakari-yoga-yoctozepto,"Dears, I have been making sure Masakari is alive and well during the last 2 cycles (Wallaby and Xena). I have also ensured Masakari's smooth release at the end of its Victoria cycle before that. I also contribute to the Kolla project which is able to deploy Masakari with its monitors and the required Pacemaker stack. I plan to continue my work around the project, focusing on improving the reliability of and community confidence in Masakari by ensuring we align with the rest of the OpenStack, run meetings, have complete, healthy and robust gating, triage bugs, handle the mailing list, and improve our docs and contribution transparency. Radosław Piliszek (yoctozepto) ",,16,0
openstack%2Felection~master~Ie91bdfde25d896eb83073fd5863dcd7a98b80235,openstack/election,master,Ie91bdfde25d896eb83073fd5863dcd7a98b80235,Adding Douglas Mendizábal candidacy for Barbican,MERGED,2021-08-18 16:59:44.000000000,2021-08-20 12:39:50.000000000,2021-08-20 12:37:08.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 16:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/99de571a6fa6f95d5a4718796d4a058c452b385d', 'message': 'Add Barbican PTL candidacy for Yoga cycle\n\nChange-Id: Ie91bdfde25d896eb83073fd5863dcd7a98b80235\n'}, {'number': 2, 'created': '2021-08-18 17:00:52.000000000', 'files': ['candidates/yoga/Barbican/dmendiza@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/f408c84b27713416849bfbdee67fc06cfbb39a95', 'message': 'Adding Douglas Mendizábal candidacy for Barbican\n\nChange-Id: Ie91bdfde25d896eb83073fd5863dcd7a98b80235\n'}]",0,805063,f408c84b27713416849bfbdee67fc06cfbb39a95,9,3,2,7973,,,0,"Adding Douglas Mendizábal candidacy for Barbican

Change-Id: Ie91bdfde25d896eb83073fd5863dcd7a98b80235
",git fetch https://review.opendev.org/openstack/election refs/changes/63/805063/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Barbican/dmendiza@redhat.com'],1,99de571a6fa6f95d5a4718796d4a058c452b385d,,"Hi All, I would like to continue to serve as Barbican PTL for the Yoga cycle. I'm looking forward to keep the project moving forward and hopefully alleviate some of the pain points we've defined for the Yoga cycle. Thanks, - Douglas Mendizábal (redrobot) ",,9,0
openstack%2Felection~master~Ie94eb98706dc7679f5c531471b93543055075587,openstack/election,master,Ie94eb98706dc7679f5c531471b93543055075587,Add Gage Hugo candidacy for OpenStack Helm,MERGED,2021-08-19 01:32:50.000000000,2021-08-20 12:38:33.000000000,2021-08-20 12:37:07.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 01:32:50.000000000', 'files': ['candidates/yoga/OpenStack_Helm/gagehugo@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/09e7bf2cbb42243c0ef2d2c969ff9947b054ae4e', 'message': 'Add Gage Hugo candidacy for OpenStack Helm\n\nChange-Id: Ie94eb98706dc7679f5c531471b93543055075587\n'}]",0,805095,09e7bf2cbb42243c0ef2d2c969ff9947b054ae4e,9,3,1,21420,,,0,"Add Gage Hugo candidacy for OpenStack Helm

Change-Id: Ie94eb98706dc7679f5c531471b93543055075587
",git fetch https://review.opendev.org/openstack/election refs/changes/95/805095/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/OpenStack_Helm/gagehugo@gmail.com'],1,09e7bf2cbb42243c0ef2d2c969ff9947b054ae4e,osh,"Hello everyone, I would like to continue serving as the OpenStack-Helm PTL for the Yoga cycle. Throughout the Xena cycle, we continued to improve on the stability and performance of the various charts as well as updated the list of supported releases of openstack to current. I would like to continue this work, moving towards the goal of making all the services more easily deployable and performant. Thank you! - Gage ",,14,0
openstack%2Fansible-role-qdrouterd~master~I2239b1da5db5d7e711bdd8b8a8391a959de6308a,openstack/ansible-role-qdrouterd,master,I2239b1da5db5d7e711bdd8b8a8391a959de6308a,Update master for stable/stein,ABANDONED,2019-04-08 09:13:38.000000000,2021-08-20 12:34:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-04-08 09:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/707fd8b12ae45bd004e1d224238cd248c476a4fd', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I2239b1da5db5d7e711bdd8b8a8391a959de6308a\nSem-Ver: feature\n'}, {'number': 2, 'created': '2020-10-19 12:43:07.000000000', 'files': ['releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/da045d9b87a27cf4e6ee29493a5d62ade357f2b5', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I2239b1da5db5d7e711bdd8b8a8391a959de6308a\nSem-Ver: feature\n'}]",0,650647,da045d9b87a27cf4e6ee29493a5d62ade357f2b5,9,2,2,22816,,,0,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: I2239b1da5db5d7e711bdd8b8a8391a959de6308a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/47/650647/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/stein.rst'],1,707fd8b12ae45bd004e1d224238cd248c476a4fd,reno-stein,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,,6,0
openstack%2Fopenstack-ansible-os_masakari~master~I104b2b8969a2e2d2ab8a204a664ca263af873a31,openstack/openstack-ansible-os_masakari,master,I104b2b8969a2e2d2ab8a204a664ca263af873a31,Update master for stable/stein,ABANDONED,2019-04-08 09:19:32.000000000,2021-08-20 12:34:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-08 09:19:32.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/1c0cd996a2615b520eb7e14c3a1fe95039beb984', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I104b2b8969a2e2d2ab8a204a664ca263af873a31\nSem-Ver: feature\n'}]",0,650748,1c0cd996a2615b520eb7e14c3a1fe95039beb984,8,1,1,22816,,,0,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: I104b2b8969a2e2d2ab8a204a664ca263af873a31
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/48/650748/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/stein.rst']",2,1c0cd996a2615b520eb7e14c3a1fe95039beb984,reno-stein,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,,6,0
openstack%2Felection~master~I3b1e1ac4c2a721a1af42de4e315a35b7b0b900cd,openstack/election,master,I3b1e1ac4c2a721a1af42de4e315a35b7b0b900cd,Add Dan Smith TC candidacy for Yoga,MERGED,2021-08-19 16:02:11.000000000,2021-08-20 12:31:34.000000000,2021-08-20 12:29:56.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 16:02:11.000000000', 'files': ['candidates/yoga/TC/dms@danplanet.com'], 'web_link': 'https://opendev.org/openstack/election/commit/41afb64476845c876601d0aab7a777e134a3eabd', 'message': 'Add Dan Smith TC candidacy for Yoga\n\nChange-Id: I3b1e1ac4c2a721a1af42de4e315a35b7b0b900cd\n'}]",0,805247,41afb64476845c876601d0aab7a777e134a3eabd,9,4,1,4393,,,0,"Add Dan Smith TC candidacy for Yoga

Change-Id: I3b1e1ac4c2a721a1af42de4e315a35b7b0b900cd
",git fetch https://review.opendev.org/openstack/election refs/changes/47/805247/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/TC/dms@danplanet.com'],1,41afb64476845c876601d0aab7a777e134a3eabd,yoga-tc-dms,"Hi, I am declaring my candidacy for the Technical Committee. I have been working on OpenStack since 2012, primarily as core reviewer on and contributor to Nova and Glance, but also in various other projects such as Oslo (oslo.versionedobjects, oslo.messaging), Placement, Grenade, and devstack. I have been on the TC for a year now, and have been focused on keeping the TC aware and involved with day-to-day developer-facing issues, such as gate performance. That has gone well and yielded improvement in reducing spurious failures across multiple projects, as well as paring down of duplicative testing and addressing other performance issues. In the next cycle, we are coming up against the deprecation of our logstash framework due to lack of support, which may be the next big push we need to make to keep critical developer infrastructure available. --Dan ",,20,0
openstack%2Ftrove~master~I80334c07aed448b9fab75a0203705630ca59b676,openstack/trove,master,I80334c07aed448b9fab75a0203705630ca59b676,Update metadata API with method GET,NEW,2021-08-20 10:46:18.000000000,2021-08-20 12:30:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-20 10:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/10641f6a1aef329234434dfe4532ca43693fc563', 'message': 'Update metadata API with method GET\n\nChange-Id: I80334c07aed448b9fab75a0203705630ca59b676\n'}, {'number': 2, 'created': '2021-08-20 10:46:48.000000000', 'files': ['trove/common/exception.py', 'trove/common/policies/metadata.py', 'trove/common/api.py', 'trove/metadata/__init__.py', 'trove/common/policies/__init__.py', 'trove/db/sqlalchemy/session.py', 'trove/metadata/views.py', 'trove/metadata/models.py', 'trove/metadata/service.py', 'trove/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/fc0cd07967949e90c26f75e80ac17dd6ee73499e', 'message': 'Update metadata API with method GET\n\nTask: #42106\nStory: #2008747\nChange-Id: I80334c07aed448b9fab75a0203705630ca59b676\n'}]",0,805364,fc0cd07967949e90c26f75e80ac17dd6ee73499e,7,1,2,33668,,,0,"Update metadata API with method GET

Task: #42106
Story: #2008747
Change-Id: I80334c07aed448b9fab75a0203705630ca59b676
",git fetch https://review.opendev.org/openstack/trove refs/changes/64/805364/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/api.py', 'trove/common/exception.py', 'trove/common/policies/metadata.py', 'trove/metadata/__init__.py', 'trove/common/policies/__init__.py', 'trove/db/sqlalchemy/session.py', 'trove/metadata/views.py', 'trove/metadata/models.py', 'trove/common/policies/base.py', 'trove/metadata/service.py']",10,10641f6a1aef329234434dfe4532ca43693fc563,update-metadata-api-method-get,"# Copyright 2021 BizFly Cloud # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from oslo_utils import strutils from trove.metadata import views from trove.metadata.models import Metadata from trove.common import policy from trove.common import wsgi LOG = logging.getLogger(__name__) class MetadataController(wsgi.Controller): """""" Controller for accessing metadata in the OpenStack API. """""" def list(self, req, tenant_id): """"""List All Metadata of tenant_id."""""" LOG.debug(""Listing all metadata for tenant %s"", tenant_id) key = req.GET.get('key') value = req.GET.get('value') resource_type = req.GET.get('resource_type') project_id = req.GET.get('project_id') all_projects = strutils.bool_from_string(req.GET.get('all_projects')) context = req.environ[wsgi.CONTEXT_KEY] if project_id or all_projects: policy.authorize_on_tenant(context, 'metadata:list:all_projects') else: policy.authorize_on_tenant(context, 'metadata:list') metadatas = Metadata.load( project_id=project_id or context.project_id, key=key, value=value, resource_type=resource_type, all_projects=all_projects ) view = views.MetadataViews(metadatas) return wsgi.Result(view.data(), 200) def index(self, req, tenant_id, resource_type, resource_id): """"""List All Metadata of resource."""""" LOG.debug(""Listing all metadata in resource for tenant %s"", tenant_id) context = req.environ[wsgi.CONTEXT_KEY] policy.authorize_on_tenant(context, 'metadata:index') metadatas = Metadata.load( project_id=context.project_id, resource_type=resource_type, resource_id=resource_id ) view = views.MetadataViews(metadatas) return wsgi.Result(view.data(), 200) def show(self, req, tenant_id, resource_type, resource_id, key): """"""Show Metadata Item Details."""""" LOG.debug(""Showing metadata for tenant %s"", tenant_id) context = req.environ[wsgi.CONTEXT_KEY] metadata = Metadata.get( project_id=context.project_id, resource_type=resource_type, resource_id=resource_id, key=key ) policy.authorize_on_target(context, 'metadata:show', {'tenant': metadata.project_id}) return wsgi.Result(views.MetadataView(metadata).data(), 200) ",,341,2
openstack%2Ftripleo-heat-templates~master~Icb2bc7cde405584c29ff61609cd104b16ddc67ea,openstack/tripleo-heat-templates,master,Icb2bc7cde405584c29ff61609cd104b16ddc67ea,Remove deprecated ipv6 corosync parameters,MERGED,2020-07-08 09:20:11.000000000,2021-08-20 12:26:29.000000000,2021-08-20 12:26:29.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-07-08 09:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7b0f89e5a591f49664c82ca011c138ca448758a', 'message': 'WIP Remove deprecated ipv6 corosync parameters\n\nThose are not used anymore since we moved to pcs 0.10/rhel 8 which\nuses kronosnet as the default corosync protocol.\n\nChange-Id: Icb2bc7cde405584c29ff61609cd104b16ddc67ea\nRelated-Bug: #1886789\n'}, {'number': 2, 'created': '2021-08-18 07:19:06.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e737e3f3a5e0e23230093afe149a178966585eab', 'message': 'Remove deprecated ipv6 corosync parameters\n\nThose are not used anymore since we moved to pcs 0.10/rhel 8 which\nuses kronosnet as the default corosync protocol.\n\nIn fact corosync_ipv6 in puppet has been removed via\nIaecced845b80e958c7ad0ef96896f1202259cca2 (Fix up cluster_setup_extras\nusage)\n\nChange-Id: Icb2bc7cde405584c29ff61609cd104b16ddc67ea\nRelated-Bug: #1886789\n'}]",0,739936,e737e3f3a5e0e23230093afe149a178966585eab,14,6,2,20172,,,0,"Remove deprecated ipv6 corosync parameters

Those are not used anymore since we moved to pcs 0.10/rhel 8 which
uses kronosnet as the default corosync protocol.

In fact corosync_ipv6 in puppet has been removed via
Iaecced845b80e958c7ad0ef96896f1202259cca2 (Fix up cluster_setup_extras
usage)

Change-Id: Icb2bc7cde405584c29ff61609cd104b16ddc67ea
Related-Bug: #1886789
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/739936/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,a7b0f89e5a591f49664c82ca011c138ca448758a,fix-extras,," CorosyncIPv6: default: false description: Enable IPv6 in Corosync type: booleanparameter_groups: - label: deprecated description: | The following parameters are deprecated and will be removed. They should not be relied on for new deployments. If you have concerns regarding deprecated parameters, please contact the TripleO development team on IRC or the OpenStack mailing list. parameters: - CorosyncIPv6 is_ipv6: equals: - {get_param: [ServiceData, net_ip_version_map, {get_param: [ServiceNetMap, PacemakerNetwork]}]} - 6 corosync_ipv6: {if: [is_ipv6, true, false]}",0,19
openstack%2Fnova~master~I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,openstack/nova,master,I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,Add a regression test for bug 1939545,MERGED,2021-08-11 12:19:22.000000000,2021-08-20 12:23:16.000000000,2021-08-20 11:03:58.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0db5d332f000a9b8d62c92a83fc35e13cc510b23', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n""}, {'number': 2, 'created': '2021-08-11 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4375cd19496f00a59b519c9a5b3218ada5008851', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n""}, {'number': 3, 'created': '2021-08-11 18:52:53.000000000', 'files': ['nova/tests/fixtures/cinder.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/268b7169554f871d3813d78e79861934d086484d', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n""}]",2,804229,268b7169554f871d3813d78e79861934d086484d,28,4,3,10135,,,0,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/804229/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/cinder.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",2,0db5d332f000a9b8d62c92a83fc35e13cc510b23,bug/1939545,"# Copyright 2021, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock from oslo_serialization import jsonutils from nova import context from nova import objects from nova.tests import fixtures as nova_fixtures from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional import integrated_helpers from nova.tests.functional.libvirt import base class TestLiveMigrateUpdateDevicePath( base.ServersTestBase, integrated_helpers.InstanceHelperMixin ): """"""Regression test for bug 1939545 Assert the behaviour of the libvirt driver during pre_live_migration with instances that have block based volumes attached. Bug #1939545 covering the case where the returned path from os-brick isn't being saved into the connection_info of the associated bdm in Nova. """""" api_major_version = 'v2.1' microversion = 'latest' ADMIN_API = True def setUp(self): super().setUp() # TODO(lyarwood): Move into base.ServersTestBase self.useFixture(nova_fixtures.OSBrickFixture()) # TODO(lyarwood): Move into base.ServersTestBase to allow live # migrations to pass without changes by the test classes. self.useFixture(fixtures.MonkeyPatch( 'nova.tests.fixtures.libvirt.Domain.migrateToURI3', self._migrate_stub)) self.start_compute( hostname='src', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.start_compute( hostname='dest', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) def _migrate_stub(self, domain, destination, params, flags): dest = self.computes['dest'] dest.driver._host.get_connection().createXML( params['destination_xml'], 'fake-createXML-doesnt-care-about-flags') source = self.computes['src'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server['id']) dom.complete_job() self.migrate_stub_ran = True # TODO(lyarwood): Move this into the os-brick fixture and repeat for all # provided connectors at runtime. @mock.patch( 'os_brick.initiator.connectors.iscsi.ISCSIConnector.connect_volume') @mock.patch( 'os_brick.initiator.connectors.iscsi.ISCSIConnector.disconnect_volume') def test_live_migrate_update_device_path( self, mock_disconnect_volume, mock_connect_volume ): self.server = self._create_server(host='src', networks='none') volume_id = self.cinder.ISCSI_BACKED_VOL # TODO(lyarwood): As above, move this into the os-brick fixture. mock_connect_volume.return_value = {'path': '/dev/sda'} self.api.post_server_volume( self.server['id'], {'volumeAttachment': {'volumeId': volume_id}}) # Get the volume bdm and assert that the connection_info is set with # device_path from the volume driver. ctxt = context.get_admin_context() bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, self.server['id']) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('device_path', connection_info.get('data')) # Live migrate the instance to another host self._live_migrate(self.server) # FIXME(lyarwood): This is bug #1939545, again get the volume bdm and # assert that the saved connection_info doesn't contain device_path. bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, self.server['id']) connection_info = jsonutils.loads(bdm.connection_info) self.assertNotIn('device_path', connection_info.get('data')) ",,150,18
openstack%2Fnova~master~Ia53ff43e6964963cdf295604ba0fb7171389606e,openstack/nova,master,Ia53ff43e6964963cdf295604ba0fb7171389606e,Invalidate provider tree when compute node disappears,MERGED,2019-11-20 13:05:42.000000000,2021-08-20 12:08:29.000000000,2021-08-20 12:05:24.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 20223}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25564}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-20 13:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1650891ca7e0cae86d51d300ddf73159de603488', 'message': 'Invalidate provider tree when compute node disappears\n\nBackport: Train, Stein\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 2, 'created': '2019-11-20 19:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff734372ffe4690ddf0f0735f79a51057f0a1f05', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 3, 'created': '2020-02-21 17:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6bc4d300170c724564895c36706e3e60f0e6fd2', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 4, 'created': '2020-04-03 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63c89f936c6db233fd8f6575479d3d031def8a35', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 5, 'created': '2020-04-21 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0d4f91bd2fe1a3a221cf1787f8c048409931dd1', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 6, 'created': '2020-12-17 22:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/906c9d499ca3cfcb5a9619be1fe85a69b869d955', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 7, 'created': '2021-03-05 00:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c65c231456f6c8cc60a8ca5aae6e6760865634b', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 8, 'created': '2021-04-28 14:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dcc6bfa63c1ab06d86b07bcdd05838a8ad35dec', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 9, 'created': '2021-06-10 00:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee8e7a92412d12d63a6c8fc6c518f71bfe522b71', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 10, 'created': '2021-07-07 19:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ef594ca4d59d4a4a0dbbf977e531e3802a9e6d2', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 11, 'created': '2021-07-07 21:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9851f253b6bf25cf48c71bd16fa98af82100cbec', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}, {'number': 12, 'created': '2021-08-12 13:27:05.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n'}]",0,695188,2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789,99,17,12,14826,,,0,"Invalidate provider tree when compute node disappears

There is a race condition in nova-compute with the ironic virt driver
as nodes get rebalanced. It can lead to compute nodes being removed in
the DB and not repopulated. Ultimately this prevents these nodes from
being scheduled to.

The issue being addressed here is that if a compute node is deleted by a
host which thinks it is an orphan, then the resource provider for that
node might also be deleted. The compute host that owns the node might
not recreate the resource provider if it exists in the provider tree
cache.

This change fixes the issue by clearing resource providers from the
provider tree cache for which a compute node entry does not exist. Then,
when the available resource for the node is updated, the resource
providers are not found in the cache and get recreated in placement.

Change-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e
Related-Bug: #1853009
Related-Bug: #1841481
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/695188/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",4,1650891ca7e0cae86d51d300ddf73159de603488,bug/1853009," # FIXME(mgoddard): Resource provider not recreated here, due to # https://bugs.launchpad.net/nova/+bug/1853159. self.assertFalse(host1.manager.rt.reportclient._provider_tree.exists( # The resource provider has now been created. self.assertEqual(1, len(rps), rps) self.assertEqual(nodename, rps[0]['name'])"," # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. self.assertTrue(host1.manager.rt.reportclient._provider_tree.exists( # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. # There is still no RP. self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host1.manager.rt.reportclient._provider_tree.exists( nodename))",21,18
openstack%2Fnova~master~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,master,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,MERGED,2019-11-20 13:05:42.000000000,2021-08-20 12:07:01.000000000,2021-08-20 12:05:16.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-20 13:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75a6a485b08538c651537c77cdc5576a6a6c9b56', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nBackport: Train, Stein, Rocky\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 2, 'created': '2019-11-20 19:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d4d25d74c7beacaa46ea45c100a95196ed26829', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 3, 'created': '2020-02-21 17:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e38cf7becd38e4f69b693dcbbdf89005afaf09f', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 4, 'created': '2020-04-03 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f81aa657060b4f5d616dab37ff111ddbbf6f485a', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 5, 'created': '2020-04-21 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ffcbfa2448c2e5b9fae2d66a7cd2a70ba07ee63', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 6, 'created': '2020-12-17 22:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b2653217b4092c57c7200d267a9d6c75bc7a59b', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 7, 'created': '2021-03-05 00:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cb0cc84339e8d543eb190d0f931f88a56b09540', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 8, 'created': '2021-04-28 14:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f5a078dd7bbe5b6b38cf8e04d916281dc418409', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 9, 'created': '2021-06-10 00:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc1efde5d7107e121e8a09a4e59c7657de8b683a', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 10, 'created': '2021-07-07 19:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82b2680ccb3b3a4548017e505eb8c849a2f6b17b', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 11, 'created': '2021-07-07 21:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e849dda23f3e3e1e71a1abcb9119d7985d1707c5', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}, {'number': 12, 'created': '2021-08-12 13:27:05.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/32676a9f45807ea8770dc7bdff1e859673af1b61', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n'}]",1,695187,32676a9f45807ea8770dc7bdff1e859673af1b61,121,16,12,14826,,,0,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/695187/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",3,75a6a485b08538c651537c77cdc5576a6a6c9b56,bug/1853009," # Verify that the node was recreated. self._assert_hypervisor_api(nodename, 'host1') # But due to https://bugs.launchpad.net/nova/+bug/1853159 the compute # node is not cached in the RT. self.assertNotIn(nodename, host1.manager.rt.compute_nodes) # host1[1]: Should add compute node to RT cache and recreate resource # provider. # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. host1.manager.update_available_resource(ctxt) # Verify that the node still exists. self._assert_hypervisor_api(nodename, 'host1') # And it is now in the RT cache. self.assertIn(nodename, host1.manager.rt.compute_nodes) # There is still no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host1.manager.rt.reportclient._provider_tree.exists( nodename)) "," # FIXME(mgoddard): Compute node not recreated here, because it is # already in RT.compute_nodes. See # https://bugs.launchpad.net/nova/+bug/1853009. # Verify that the node was not recreated. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) # But the compute node exists in the RT. self.assertIn(nodename, host1.manager.rt.compute_nodes)",43,11
openstack%2Ftripleo-common~master~I946df38ada9b2197076963e6140653f85d7c2cbc,openstack/tripleo-common,master,I946df38ada9b2197076963e6140653f85d7c2cbc,Fix upload-artifacts and its installation,MERGED,2021-08-17 17:07:51.000000000,2021-08-20 12:04:42.000000000,2021-08-20 12:03:29.000000000,"[{'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-17 17:07:51.000000000', 'files': ['scripts/upload-artifacts', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7428219d9f6904970b9024680f1b0c331a26b36a', 'message': 'Fix upload-artifacts and its installation\n\nFix the content of DeployArtifactFILEs in the generated\nenvironment file. The absolute path of the artifact is\nnow properly formatted, and the script correctly handles\nmultiple files passed in parameters.\n\nFix the installation of the script in setup.cfg.\n\nTested manually with multiple artifacts, and via\nupload-puppet-modules (single artifact).\n\nChange-Id: I946df38ada9b2197076963e6140653f85d7c2cbc\nCloses-Bug: #1933336\n'}]",0,804899,7428219d9f6904970b9024680f1b0c331a26b36a,23,7,1,20778,,,0,"Fix upload-artifacts and its installation

Fix the content of DeployArtifactFILEs in the generated
environment file. The absolute path of the artifact is
now properly formatted, and the script correctly handles
multiple files passed in parameters.

Fix the installation of the script in setup.cfg.

Tested manually with multiple artifacts, and via
upload-puppet-modules (single artifact).

Change-Id: I946df38ada9b2197076963e6140653f85d7c2cbc
Closes-Bug: #1933336
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/804899/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upload-artifacts', 'setup.cfg']",2,7428219d9f6904970b9024680f1b0c331a26b36a,bug/1933336, scripts/upload-artifacts,,3,1
openstack%2Fneutron~master~I55e674ec73ea07352740353210375e76e972a87d,openstack/neutron,master,I55e674ec73ea07352740353210375e76e972a87d,WIP: Privsep with timeout for some privsep call,ABANDONED,2021-06-06 15:04:52.000000000,2021-08-20 11:52:30.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 15:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfbe45a1e22fbdbc62718618590812429bac1a9a', 'message': 'Privsep with timout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nTODO:\n- unit tests\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 2, 'created': '2021-06-07 09:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f37313026aba1c2589c8f5005ce281dcff7ff176', 'message': 'Privsep with timout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nTODO:\n- unit tests\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 3, 'created': '2021-06-09 12:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5be8e2ff9e04b05d4569834677236b7a8ad434be', 'message': 'Privsep with timout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nTODO:\n- unit tests\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 4, 'created': '2021-06-28 11:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69766613e1cfe49c822429e76b7fb76e50974e3f', 'message': 'Privsep with timout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 5, 'created': '2021-07-06 07:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81190dd7ef823365fe101f75ab6c801ab8a6e8d2', 'message': 'Privsep with timout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 6, 'created': '2021-07-06 09:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10ca23ceea84d8e7fe8157d75f1deb1c459ed0c1', 'message': 'Privsep with timeout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 7, 'created': '2021-07-06 09:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87c7ed1eefc0010d929316746fd56c3b6a5fcba6', 'message': 'Privsep with timeout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 8, 'created': '2021-07-06 11:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/969330fc390400804f7f8f89fc568aa3592a73bd', 'message': 'Privsep with timeout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 9, 'created': '2021-07-06 15:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd9320bc8cfc943d0df25ebdfca84ccb548f4372', 'message': 'Privsep with timeout for get_link_devices call\n\nAdd timeout to get_link_devices privsep decorator.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 10, 'created': '2021-07-07 13:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4ea6b68a429c568350d32ae2882ccd9fbde456d', 'message': 'Privsep with timeout for some privsep call\n\nAdd timeout to get_link_devices, open_namespace and list_netns privsep\ndecorators.\nRevert 07337f9e99cdcfb1af3546a537d5595330e8bded.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 11, 'created': '2021-07-08 14:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01e43e2066b13914eada17f086a733e7b6985d8d', 'message': 'Privsep with timeout for some privsep call\n\nAdd timeout to get_link_devices, open_namespace and list_netns privsep\ndecorators.\nRevert 07337f9e99cdcfb1af3546a537d5595330e8bded.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 12, 'created': '2021-07-09 08:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/610b88e3ac4af7aea759cc1b7f6865310896c801', 'message': 'WIP: Privsep with timeout for some privsep call\n\nAdd timeout to get_link_devices, open_namespace and list_netns privsep\ndecorators.\nRevert 07337f9e99cdcfb1af3546a537d5595330e8bded.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}, {'number': 13, 'created': '2021-07-09 11:46:41.000000000', 'files': ['requirements.txt', 'neutron/privileged/__init__.py', 'lower-constraints.txt', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1067201f1a2136cf935dae57588b8e1f5a92a8de', 'message': 'WIP: Privsep with timeout for some privsep call\n\nAdd timeout to get_link_devices, open_namespace and list_netns privsep\ndecorators.\nRevert 07337f9e99cdcfb1af3546a537d5595330e8bded.\n\nChange-Id: I55e674ec73ea07352740353210375e76e972a87d\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993\nRelated-Bug: #1930401\n'}]",25,794994,1067201f1a2136cf935dae57588b8e1f5a92a8de,85,4,13,8313,,,0,"WIP: Privsep with timeout for some privsep call

Add timeout to get_link_devices, open_namespace and list_netns privsep
decorators.
Revert 07337f9e99cdcfb1af3546a537d5595330e8bded.

Change-Id: I55e674ec73ea07352740353210375e76e972a87d
Depends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/794993
Related-Bug: #1930401
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/794994/12 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,cfbe45a1e22fbdbc62718618590812429bac1a9a,bug/1930401,import oslo_privsep.daemonfrom oslo_privsep import daemon@privileged.default.entrypoint(timeout=30) except daemon.FailedToDropPrivileges: raise,@privileged.default.entrypoint,5,1
openstack%2Fpython-solumclient~master~I1d466f81e23c08ecb7b96093cfdf7d91c00f9877,openstack/python-solumclient,master,I1d466f81e23c08ecb7b96093cfdf7d91c00f9877,remove unicode from code,NEW,2021-01-03 08:45:53.000000000,2021-08-20 11:33:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-03 08:45:53.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/e41dca83d816da383f5dffa747fe1dd77b8c1487', 'message': 'remove unicode from code\n\nChange-Id: I1d466f81e23c08ecb7b96093cfdf7d91c00f9877\n'}]",0,769037,e41dca83d816da383f5dffa747fe1dd77b8c1487,3,2,1,30384,,,0,"remove unicode from code

Change-Id: I1d466f81e23c08ecb7b96093cfdf7d91c00f9877
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/37/769037/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,e41dca83d816da383f5dffa747fe1dd77b8c1487,,"copyright = '2013, OpenStack Foundation' 'python-solumclient Documentation', 'OpenStack Foundation', 'manual'),","copyright = u'2013, OpenStack Foundation' u'python-solumclient Documentation', u'OpenStack Foundation', 'manual'),",3,3
openstack%2Fnova~master~Ice4071722de54e8d20bb8c3795be22f1995940cd,openstack/nova,master,Ice4071722de54e8d20bb8c3795be22f1995940cd,Add functional regression test for bug 1853009,MERGED,2019-11-19 15:08:56.000000000,2021-08-20 11:07:10.000000000,2021-08-20 11:04:06.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2019-11-19 15:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f2d3b044a3dd81d21f95c069d4f9ca2ec6b6912', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 2, 'created': '2019-11-20 13:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efea3ca45bb50e642a1d2abe1ec09e051d2952f1', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 3, 'created': '2020-02-21 17:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13210b1f021ed2c406689ffe2910a6e0751b7534', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 4, 'created': '2020-04-03 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d447fe9815885dff2627b149ab8c82c1958f933a', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 5, 'created': '2020-04-21 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/600162e7102e102001a348b0f2d429b856d898f4', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 6, 'created': '2020-12-17 22:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f78076ee49ccaa31546bc804d76206c84a65179', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 7, 'created': '2021-03-05 00:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b488601bd0241f1f44b326ceb80067eb19f4d018', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 8, 'created': '2021-04-28 14:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a894fefc4f99db81d967cae0c23454c5a62b8ba', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 9, 'created': '2021-06-10 00:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d69967d271ba6bbb0c53a37a03ef8cb72a8c9a94', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 10, 'created': '2021-07-07 19:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5a89c4a090566c14cc77488bd51889c6f3af107', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 11, 'created': '2021-07-07 21:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d173e41f376723f5b051f3b792f920c7558a4937', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}, {'number': 12, 'created': '2021-08-12 13:27:05.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59d9871e8a0672538f8ffc43ae99b3d1c4b08909', 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n'}]",34,695012,59d9871e8a0672538f8ffc43ae99b3d1c4b08909,86,15,12,14826,,,0,"Add functional regression test for bug 1853009

Bug 1853009 describes a race condition involving multiple nova-compute
services with ironic. As the compute services start up, the hash ring
rebalances, and the compute services have an inconsistent view of which
is responsible for a compute node.

The sequence of actions here is adapted from a real world log [1], where
multiple nova-compute services were started simultaneously. In some
cases mocks are used to simulate race conditions.

There are three main issues with the behaviour:

* host2 deletes the orphan node compute node after host1 has taken
  ownership of it.

* host1 assumes that another compute service will not delete its nodes.
  Once a node is in rt.compute_nodes, it is not removed again unless the
  node is orphaned. This prevents host1 from recreating the compute
  node.

* host1 assumes that another compute service will not delete its
  resource providers. Once an RP is in the provider tree, it is not
  removed.

This functional test documents the current behaviour, with the idea that
it can be updated as this behaviour is fixed.

[1] http://paste.openstack.org/show/786272/

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd
Related-Bug: #1853009
Related-Bug: #1853159
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/695012/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1853009.py'],1,6f2d3b044a3dd81d21f95c069d4f9ca2ec6b6912,bug/1853009,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import context from nova import exception from nova import objects from nova.tests.functional import integrated_helpers class NodeRebalanceDeletedComputeNodeRaceTestCase( integrated_helpers.ProviderUsageBaseTestCase): """"""Regression test for bug 1853009 observed in Rocky & later. When an ironic node re-balances from one host to another, there can be a race where the old host deletes the orphan compute node after the new host has taken ownership of it which results in the new host failing to create the compute node and resource provider because the ResourceTracker does not detect a change. """""" # Make sure we're using the fake driver that has predictable uuids # for each node. compute_driver = 'fake.PredictableNodeUUIDDriver' def _assert_hypervisor_api(self, nodename, expected_host): # We should have one compute node shown by the API. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(1, len(hypervisors), hypervisors) hypervisor = hypervisors[0] self.assertEqual(nodename, hypervisor['hypervisor_hostname']) self.assertEqual(expected_host, hypervisor['service']['host']) def _start_compute(self, host): host = self.start_service('compute', host) # Ironic compute driver has rebalances_nodes = True. host.manager.driver.rebalances_nodes = True return host def setUp(self): super(NodeRebalanceDeletedComputeNodeRaceTestCase, self).setUp() nodename = 'fake-node' ctxt = context.get_admin_context() # Simulate a service running and then stopping. # host2 runs, creates fake-node, then is stopped. The fake-node compute # node is destroyed. This leaves a soft-deleted node in the DB. host2 = self._start_compute('host2') host2.manager.driver._set_nodes([nodename]) host2.manager.update_available_resource(ctxt) host2.stop() cn = objects.ComputeNode.get_by_host_and_nodename( ctxt, 'host2', nodename) cn.destroy() def test_node_rebalance_deleted_compute_node_race(self): nodename = 'fake-node' ctxt = context.get_admin_context() # First we create a compute service to manage our node. # When start_service runs, it will create a host1 ComputeNode. We want # to delete that and inject our fake node into the driver which will # be re-balanced to another host later. host1 = self._start_compute('host1') host1.manager.driver._set_nodes([nodename]) # Run the update_available_resource periodic to register fake-node and # have it managed by host1. This will also detect the ""host1"" node as # orphaned and delete it along with its resource provider. # host1[1]: Finds no compute record in RT. Tries to create one # (_init_compute_node). # FIXME(mgoddard): This shows a traceback with SQL rollback due to # soft-deleted node. The create seems to succeed but breaks the RT # update for this node. See # https://bugs.launchpad.net/nova/+bug/1853159. host1.manager.update_available_resource(ctxt) self._assert_hypervisor_api(nodename, 'host1') # There should only be one resource provider (fake-node). original_rps = self._get_all_providers() self.assertEqual(1, len(original_rps), original_rps) self.assertEqual(nodename, original_rps[0]['name']) # Simulate a re-balance by starting host2 and make it manage fake-node. # At this point both host1 and host2 think they own fake-node. host2 = self._start_compute('host2') host2.manager.driver._set_nodes([nodename]) # host2[1]: Finds no compute record in RT, 'moves' existing node from # host1 host2.manager.update_available_resource(ctxt) # Assert that fake-node was re-balanced from host1 to host2. self.assertIn('ComputeNode fake-node moving from host1 to host2', self.stdlog.logger.output) self._assert_hypervisor_api(nodename, 'host2') # host2[2]: Begins periodic update, queries compute nodes for this # host, finds the fake-node. cn = objects.ComputeNode.get_by_host_and_nodename( ctxt, 'host2', nodename) # host1[2]: Finds no compute record in RT, 'moves' existing node from # host2 host1.manager.update_available_resource(ctxt) # Assert that fake-node was re-balanced from host2 to host1. self.assertIn('ComputeNode fake-node moving from host2 to host1', self.stdlog.logger.output) self._assert_hypervisor_api(nodename, 'host1') # Complete rebalance, as host2 realises it does not own fake-node. host2.manager.driver._set_nodes([]) # host2[2]: Deletes orphan compute node. # Mock out the compute node query to simulate a race condition where # the list includes an orphan compute node that is taken ownership of # by host1 by the time host2 deletes it. # FIXME(mgoddard): Ideally host2 would not delete a node that does not # belong to it. See https://bugs.launchpad.net/nova/+bug/1853009. with mock.patch('nova.compute.manager.ComputeManager.' '_get_compute_nodes_in_db') as mock_get: mock_get.return_value = [cn] host2.manager.update_available_resource(ctxt) # Verify that the node was deleted. self.assertIn(""Deleting orphan compute node %s hypervisor host "" ""is fake-node, nodes are"" % cn.id, self.stdlog.logger.output) hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # host1[3]: Should recreate compute node and resource provider. # FIXME(mgoddard): Compute node not recreated here, because it is # already in RT.compute_nodes. See # https://bugs.launchpad.net/nova/+bug/1853009. # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. host1.manager.update_available_resource(ctxt) # Verify that the node was not recreated. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) # But the compute node exists in the RT. self.assertIn(nodename, host1.manager.rt.compute_nodes) # There is no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host1.manager.rt.reportclient._provider_tree.exists( nodename)) # This fails due to the lack of a resource provider. self.assertIn('Skipping removal of allocations for deleted instances', self.stdlog.logger.output) ",,171,0
openstack%2Fnova~master~I6660b38677f130e4b6c70c7b84c6098f8cf2e3ee,openstack/nova,master,I6660b38677f130e4b6c70c7b84c6098f8cf2e3ee,tests: Sanity check some tests,MERGED,2021-08-06 14:08:13.000000000,2021-08-20 09:33:50.000000000,2021-08-19 20:58:31.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cd3621cdd5997b437d45ee75209260632bca856', 'message': ""tests: Sanity check some tests\n\nMove some tests around and remove some unnecessary helpers, pending\nupcoming tests for microversion 2.89. An unnecessary test,\n'test_create_multiple_instance_with_neutron_port', is also removed since\nit duplicates others tests.\n\nChange-Id: I6660b38677f130e4b6c70c7b84c6098f8cf2e3ee\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-08-19 10:23:10.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cb3e11952d1933aa25e302323d6d92de4dfd0247', 'message': ""tests: Sanity check some tests\n\nMove some tests around and remove some unnecessary helpers, pending\nupcoming tests for microversion 2.89. An unnecessary test,\n'test_create_multiple_instance_with_neutron_port', is also removed since\nit duplicates others tests.\n\nChange-Id: I6660b38677f130e4b6c70c7b84c6098f8cf2e3ee\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,803755,cb3e11952d1933aa25e302323d6d92de4dfd0247,24,3,2,15334,,,0,"tests: Sanity check some tests

Move some tests around and remove some unnecessary helpers, pending
upcoming tests for microversion 2.89. An unnecessary test,
'test_create_multiple_instance_with_neutron_port', is also removed since
it duplicates others tests.

Change-Id: I6660b38677f130e4b6c70c7b84c6098f8cf2e3ee
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/803755/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/compute/test_api.py']",3,9cd3621cdd5997b437d45ee75209260632bca856,bp/configurable-instance-hostnames," # Tests that if port is specified then there is only one instance # allowed (i.e max_count == 1) as we can't share the same port across # multiple instances. objects=[objects.NetworkRequest(port_id=uuids.port_id)], ) self.assertRaises( exception.MultiplePortsNotApplicable, max_count=2, requested_networks=requested_networks) # Tests that if ip is specified then there is only one instance request # allowed (i.e max_count == 1) requested_networks = objects.NetworkRequestList(objects=[ objects.NetworkRequest( network_id=uuids.net_id, address='10.0.0.1')]) self.assertRaises( exception.InvalidFixedIpAndMaxCountRequest, self.compute_api.create, self.context, 'fake_flavor', 'image_id', max_count=2, requested_networks=requested_networks)"," # Tests that if port is specified there is only one instance booting # (i.e max_count == 1) as we can't share the same port across multiple # instances. port = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' address = '10.0.0.1' min_count = 1 max_count = 2 objects=[objects.NetworkRequest(address=address, port_id=port)]) self.assertRaises(exception.MultiplePortsNotApplicable, min_count=min_count, max_count=max_count, requested_networks=requested_networks) def _test_specified_ip_and_multiple_instances_helper(self, requested_networks): # Tests that if ip is specified there is only one instance booting # (i.e max_count == 1) min_count = 1 max_count = 2 self.assertRaises(exception.InvalidFixedIpAndMaxCountRequest, self.compute_api.create, self.context, ""fake_flavor"", 'image_id', min_count=min_count, max_count=max_count, requested_networks=requested_networks) network = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' address = '10.0.0.1' requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=network, address=address)]) self._test_specified_ip_and_multiple_instances_helper( requested_networks)",109,132
openstack%2Fhorizon~master~I172986a831b1293e9d1102262d392d7c43cf318e,openstack/horizon,master,I172986a831b1293e9d1102262d392d7c43cf318e,WIP: Add create rule operation to QoS Policy,ABANDONED,2021-07-16 06:59:05.000000000,2021-08-20 09:23:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-16 06:59:05.000000000', 'files': ['openstack_dashboard/static/app/core/network_qos/actions/create.action.service.spec.js', 'openstack_dashboard/api/rest/neutron.py', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js', 'openstack_dashboard/static/app/core/network_qos/actions/addrule.action.service.js', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/static/app/core/network_qos/actions/workflow/addrule.workflow.service.js', 'openstack_dashboard/static/app/core/network_qos/actions/actions.module.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/dabdfcef4cd959daf8b807f916c923fed57db6fa', 'message': 'WIP: Add create rule operation to QoS Policy\n\nAdded creating rules to the qos policy.\nMinimun-bandwidth, Dscp-marking and Bandwidth-limit rules\nare added\n\nChange-Id: I172986a831b1293e9d1102262d392d7c43cf318e\n'}]",27,801020,dabdfcef4cd959daf8b807f916c923fed57db6fa,3,1,1,33643,,,0,"WIP: Add create rule operation to QoS Policy

Added creating rules to the qos policy.
Minimun-bandwidth, Dscp-marking and Bandwidth-limit rules
are added

Change-Id: I172986a831b1293e9d1102262d392d7c43cf318e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/801020/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/network_qos/actions/create.action.service.spec.js', 'openstack_dashboard/api/rest/neutron.py', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js', 'openstack_dashboard/static/app/core/network_qos/actions/addrule.action.service.js', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/static/app/core/network_qos/actions/workflow/addrule.workflow.service.js', 'openstack_dashboard/static/app/core/network_qos/actions/actions.module.js']",7,dabdfcef4cd959daf8b807f916c923fed57db6fa,create-qos-policy," 'horizon.app.core.network_qos.actions.addrule.service', addRuleService, id: 'addruleAction', service: addRuleService, template: { text: gettext('Add Rule') } } ); qosResourceType.itemActions .append({",,357,1
openstack%2Fnova~master~Ia99aeb37785284e129b01d336da17ea907db95b7,openstack/nova,master,Ia99aeb37785284e129b01d336da17ea907db95b7,api: Rename 'parameter_types.hostname' -> 'fqdn',MERGED,2021-03-03 18:54:57.000000000,2021-08-20 08:57:30.000000000,2021-08-19 16:44:15.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 18:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/269be070c363f1fea358aff4b6acef0e82cd0baf', 'message': ""Rename 'parameter_types.hostname' -> 'fqdn'\n\nThis better reflects its actual meaning.\n\nThe 'hostname_or_ip_address' parameter type is removed as it has been\nunused since support for support for the 'os-cells' API was removed in\nchange Iddb519008515f591cf1d884872a5887afbe766f2.\n\nChange-Id: Ia99aeb37785284e129b01d336da17ea907db95b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-03-04 11:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a07b79a36c1d872e8f19593c479ca4fd4744c5e4', 'message': ""api: Rename 'parameter_types.hostname' -> 'fqdn'\n\nThis better reflects its actual meaning.\n\nThe 'hostname_or_ip_address' parameter type is removed as it has been\nunused since support for support for the 'os-cells' API was removed in\nchange Iddb519008515f591cf1d884872a5887afbe766f2.\n\nChange-Id: Ia99aeb37785284e129b01d336da17ea907db95b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-03-10 17:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2abbca951f718c6ad5db5897abc65098ca97430', 'message': ""api: Rename 'parameter_types.hostname' -> 'fqdn'\n\nThis better reflects its actual meaning.\n\nThe 'hostname_or_ip_address' parameter type is removed as it has been\nunused since support for support for the 'os-cells' API was removed in\nchange Iddb519008515f591cf1d884872a5887afbe766f2.\n\nChange-Id: Ia99aeb37785284e129b01d336da17ea907db95b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-22 16:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b94600f2de76a7a10c447e8ac160da2f25896f42', 'message': ""api: Rename 'parameter_types.hostname' -> 'fqdn'\n\nThis better reflects its actual meaning.\n\nThe 'hostname_or_ip_address' parameter type is removed as it has been\nunused since support for support for the 'os-cells' API was removed in\nchange Iddb519008515f591cf1d884872a5887afbe766f2.\n\nChange-Id: Ia99aeb37785284e129b01d336da17ea907db95b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-28 17:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df5087c08ca97154d59ff89a4a2bf45ccccb9c84', 'message': ""api: Rename 'parameter_types.hostname' -> 'fqdn'\n\nThis better reflects its actual meaning.\n\nThe 'hostname_or_ip_address' parameter type is removed as it has been\nunused since support for support for the 'os-cells' API was removed in\nchange Iddb519008515f591cf1d884872a5887afbe766f2.\n\nChange-Id: Ia99aeb37785284e129b01d336da17ea907db95b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-06 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9c6cab9c448abcaee58e76dbea64046af295169', 'message': ""api: Rename 'parameter_types.hostname' -> 'fqdn'\n\nThis better reflects its actual meaning.\n\nThe 'hostname_or_ip_address' parameter type is removed as it has been\nunused since support for support for the 'os-cells' API was removed in\nchange Iddb519008515f591cf1d884872a5887afbe766f2.\n\nChange-Id: Ia99aeb37785284e129b01d336da17ea907db95b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-08-19 10:19:42.000000000', 'files': ['nova/api/openstack/compute/schemas/servers.py', 'nova/api/validation/parameter_types.py', 'nova/api/openstack/compute/schemas/aggregates.py', 'nova/api/openstack/compute/schemas/evacuate.py', 'nova/api/openstack/compute/schemas/services.py', 'nova/tests/unit/test_api_validation.py', 'nova/api/openstack/compute/schemas/hypervisors.py', 'nova/api/openstack/compute/schemas/migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b543f8226c751d0a357b5c4e42bae68186e1b28c', 'message': ""api: Rename 'parameter_types.hostname' -> 'fqdn'\n\nThis better reflects its actual meaning.\n\nThe 'hostname_or_ip_address' parameter type is removed as it has been\nunused since support for support for the 'os-cells' API was removed in\nchange Iddb519008515f591cf1d884872a5887afbe766f2.\n\nChange-Id: Ia99aeb37785284e129b01d336da17ea907db95b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,778549,b543f8226c751d0a357b5c4e42bae68186e1b28c,63,4,7,15334,,,0,"api: Rename 'parameter_types.hostname' -> 'fqdn'

This better reflects its actual meaning.

The 'hostname_or_ip_address' parameter type is removed as it has been
unused since support for support for the 'os-cells' API was removed in
change Iddb519008515f591cf1d884872a5887afbe766f2.

Change-Id: Ia99aeb37785284e129b01d336da17ea907db95b7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/778549/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/schemas/servers.py', 'nova/api/validation/parameter_types.py', 'nova/api/openstack/compute/schemas/aggregates.py', 'nova/api/openstack/compute/schemas/evacuate.py', 'nova/api/openstack/compute/schemas/services.py', 'nova/api/openstack/compute/schemas/hypervisors.py', 'nova/tests/unit/test_api_validation.py', 'nova/api/openstack/compute/schemas/migrate_server.py']",8,269be070c363f1fea358aff4b6acef0e82cd0baf,bp/configurable-instance-hostnames,host = copy.deepcopy(parameter_types.fqdn),host = copy.deepcopy(parameter_types.hostname),15,59
openstack%2Fcharm-rabbitmq-server~master~If948fc921ee0b63682946c7cc879ac50e971e588,openstack/charm-rabbitmq-server,master,If948fc921ee0b63682946c7cc879ac50e971e588,Move cron max file age calculation to rabbit_utils,MERGED,2021-08-19 03:53:53.000000000,2021-08-20 08:29:08.000000000,2021-08-20 08:29:08.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-19 03:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/5edb993835250338cc33e78f4b02a07eef4cd3d6', 'message': 'Move cron max file age calculation to rabbit_utils\n\nThe check_rabbitmq_queues nrpe check accesses the cron file created\nfor running collect stats job. This is done in order to determine if\nthe stats are too old and an alert should be raised. The nagios user\ndoes not have access to read the cron job when running in a hardened\nenvironment where /etc/cron.d is not readable.\n\nThis change refactors this logic to move the calculation of maximum\nage for a stats file from the check_rabbitmq_queues script and into\nthe rabbit_utils code where it is generating the nrpe configuration.\nA new (optional) parameter is added to the check_rabbitmq_queues\nscript to accept the maximum age in seconds a file can last be\nmodified.\n\nThis change also removes the trust support in hooks/install and\nhooks/upgrade charm as the rabbit_utils.py file needs to import a\ndependency which is installed by the scripts. It is cleaned up to make\nsure the croniter package is always installed on install or upgrade.\n\nChange-Id: If948fc921ee0b63682946c7cc879ac50e971e588\nCloses-Bug: #1940495\n'}, {'number': 2, 'created': '2021-08-19 09:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/072a0b17aa1d04d5955f117ddcaf7c29aae40b15', 'message': 'Move cron max file age calculation to rabbit_utils\n\nThe check_rabbitmq_queues nrpe check accesses the cron file created\nfor running collect stats job. This is done in order to determine if\nthe stats are too old and an alert should be raised. The nagios user\ndoes not have access to read the cron job when running in a hardened\nenvironment where /etc/cron.d is not readable.\n\nThis change refactors this logic to move the calculation of maximum\nage for a stats file from the check_rabbitmq_queues script and into\nthe rabbit_utils code where it is generating the nrpe configuration.\nA new (optional) parameter is added to the check_rabbitmq_queues\nscript to accept the maximum age in seconds a file can last be\nmodified.\n\nThis change also removes the trusty support in hooks/install and\nhooks/upgrade-charm as the rabbit_utils.py file needs to import a\ndependency which is installed by the scripts. It is cleaned up to make\nsure the croniter package is always installed on install or upgrade.\n\nChange-Id: If948fc921ee0b63682946c7cc879ac50e971e588\nCloses-Bug: #1940495\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 3, 'created': '2021-08-19 09:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/54a52ca567137cd4d578e9548d7fd33179d3fa88', 'message': 'Move cron max file age calculation to rabbit_utils\n\nThe check_rabbitmq_queues nrpe check accesses the cron file created\nfor running collect stats job. This is done in order to determine if\nthe stats are too old and an alert should be raised. The nagios user\ndoes not have access to read the cron job when running in a hardened\nenvironment where /etc/cron.d is not readable.\n\nThis change refactors this logic to move the calculation of maximum\nage for a stats file from the check_rabbitmq_queues script and into\nthe rabbit_utils code where it is generating the nrpe configuration.\nA new (optional) parameter is added to the check_rabbitmq_queues\nscript to accept the maximum age in seconds a file can last be\nmodified.\n\nThis change also removes the trusty support in hooks/install and\nhooks/upgrade-charm as the rabbit_utils.py file needs to import a\ndependency which is installed by the scripts. It is cleaned up to make\nsure the croniter package is always installed on install or upgrade.\n\nChange-Id: If948fc921ee0b63682946c7cc879ac50e971e588\nCloses-Bug: #1940495\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 4, 'created': '2021-08-19 12:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/e8064ede480703abe9cb83f95cfdd89544752cbe', 'message': 'Move cron max file age calculation to rabbit_utils\n\nThe check_rabbitmq_queues nrpe check accesses the cron file created\nfor running collect stats job. This is done in order to determine if\nthe stats are too old and an alert should be raised. The nagios user\ndoes not have access to read the cron job when running in a hardened\nenvironment where /etc/cron.d is not readable.\n\nThis change refactors this logic to move the calculation of maximum\nage for a stats file from the check_rabbitmq_queues script and into\nthe rabbit_utils code where it is generating the nrpe configuration.\nA new (optional) parameter is added to the check_rabbitmq_queues\nscript to accept the maximum age in seconds a file can last be\nmodified.\n\nThis change also removes the trusty support in hooks/install and\nhooks/upgrade-charm as the rabbit_utils.py file needs to import a\ndependency which is installed by the scripts. It is cleaned up to make\nsure the croniter package is always installed on install or upgrade.\n\nChange-Id: If948fc921ee0b63682946c7cc879ac50e971e588\nCloses-Bug: #1940495\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 5, 'created': '2021-08-19 12:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/119f46526356d68b30e1c4b13f1f1bb89e04b7a9', 'message': 'Move cron max file age calculation to rabbit_utils\n\nThe check_rabbitmq_queues nrpe check accesses the cron file created\nfor running collect stats job. This is done in order to determine if\nthe stats are too old and an alert should be raised. The nagios user\ndoes not have access to read the cron job when running in a hardened\nenvironment where /etc/cron.d is not readable.\n\nThis change refactors this logic to move the calculation of maximum\nage for a stats file from the check_rabbitmq_queues script and into\nthe rabbit_utils code where it is generating the nrpe configuration.\nA new (optional) parameter is added to the check_rabbitmq_queues\nscript to accept the maximum age in seconds a file can last be\nmodified.\n\nThis change also removes the trusty support in hooks/install and\nhooks/upgrade-charm as the rabbit_utils.py file needs to import a\ndependency which is installed by the scripts. It is cleaned up to make\nsure the croniter package is always installed on install or upgrade.\n\nChange-Id: If948fc921ee0b63682946c7cc879ac50e971e588\nCloses-Bug: #1940495\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 6, 'created': '2021-08-19 13:12:23.000000000', 'files': ['tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'unit_tests/test_nrpe_checks.py', 'unit_tests/test_rabbit_utils.py', 'files/check_rabbitmq_queues.py', 'hooks/install', 'hooks/upgrade-charm', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fd8d018babb16de3ea54f9c99bdd4a9c572695ea', 'message': 'Move cron max file age calculation to rabbit_utils\n\nThe check_rabbitmq_queues nrpe check accesses the cron file created\nfor running collect stats job. This is done in order to determine if\nthe stats are too old and an alert should be raised. The nagios user\ndoes not have access to read the cron job when running in a hardened\nenvironment where /etc/cron.d is not readable.\n\nThis change refactors this logic to move the calculation of maximum\nage for a stats file from the check_rabbitmq_queues script and into\nthe rabbit_utils code where it is generating the nrpe configuration.\nA new (optional) parameter is added to the check_rabbitmq_queues\nscript to accept the maximum age in seconds a file can last be\nmodified.\n\nThis change also removes the trusty support in hooks/install and\nhooks/upgrade-charm as the rabbit_utils.py file needs to import a\ndependency which is installed by the scripts. It is cleaned up to make\nsure the croniter package is always installed on install or upgrade.\n\nChange-Id: If948fc921ee0b63682946c7cc879ac50e971e588\nCloses-Bug: #1940495\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",3,805109,fd8d018babb16de3ea54f9c99bdd4a9c572695ea,29,5,6,8992,,,0,"Move cron max file age calculation to rabbit_utils

The check_rabbitmq_queues nrpe check accesses the cron file created
for running collect stats job. This is done in order to determine if
the stats are too old and an alert should be raised. The nagios user
does not have access to read the cron job when running in a hardened
environment where /etc/cron.d is not readable.

This change refactors this logic to move the calculation of maximum
age for a stats file from the check_rabbitmq_queues script and into
the rabbit_utils code where it is generating the nrpe configuration.
A new (optional) parameter is added to the check_rabbitmq_queues
script to accept the maximum age in seconds a file can last be
modified.

This change also removes the trusty support in hooks/install and
hooks/upgrade-charm as the rabbit_utils.py file needs to import a
dependency which is installed by the scripts. It is cleaned up to make
sure the croniter package is always installed on install or upgrade.

Change-Id: If948fc921ee0b63682946c7cc879ac50e971e588
Closes-Bug: #1940495
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/09/805109/6 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nrpe_checks.py', 'unit_tests/test_rabbit_utils.py', 'files/check_rabbitmq_queues.py', 'hooks/install', 'hooks/upgrade-charm', 'hooks/rabbit_utils.py']",6,5edb993835250338cc33e78f4b02a07eef4cd3d6,bug/1940495,"from croniter import ( croniter, CroniterBadCronError, CroniterUnsupportedSyntaxError, ) from datetime import datetime # Validate that the cron schedule for nrpe status checks is correct. An # invalid cron schedule will not prevent the rabbitmq service from # running but may cause problems with nrpe checks. schedule = config('stats_cron_schedule') if schedule and not is_cron_schedule_valid(schedule): message += "". stats_cron_schedule is invalid"" def is_cron_schedule_valid(cron_schedule): """"""Returns whether or not the stats_cron_schedule can be properly parsed. :param cron_schedule: the cron schedule to validate :return: True if the cron schedule defined can be parsed by the croniter library, False otherwise """""" try: croniter(cron_schedule).get_next(datetime) return True except (CroniterBadCronError, CroniterUnsupportedSyntaxError): return False def get_max_stats_file_age(): """"""Returns the max stats file ages for NRPE checks. Max stats file ages are determined by a heuristic of 2x the configured interval in the stats_cron_schedule config value. :return: the maximum age (in seconds) the queues check should consider a stats file as aged. If a cron schedule is not defined, then return 0. :rtype: int """""" cron_schedule = config('stats_cron_schedule') if not cron_schedule: return 0 try: it = croniter(cron_schedule) interval = it.get_next(datetime) - it.get_prev(datetime) return int(interval.total_seconds() * 2) except (CroniterBadCronError, CroniterUnsupportedSyntaxError) as err: # The config value is being passed straight into croniter and it may # not be valid which will cause croniter to raise an error. Catch any # of the errors raised. log('Specified cron schedule is invalid: %s' % err, level=ERROR) return 0 max_age = get_max_stats_file_age() if max_age > 0: cmd += ' -m {}'.format(max_age) ",,161,65
openstack%2Fdevstack~master~I924cdf727818b33d71fe71ac110f224164c6b453,openstack/devstack,master,I924cdf727818b33d71fe71ac110f224164c6b453,Updated from generate-devstack-plugins-list,MERGED,2021-08-20 06:13:37.000000000,2021-08-20 08:11:51.000000000,2021-08-20 08:10:16.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 06:13:37.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/14b7fc500367a24ed995d6598738c6f42dfe49ad', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I924cdf727818b33d71fe71ac110f224164c6b453\n'}]",0,805336,14b7fc500367a24ed995d6598738c6f42dfe49ad,7,2,1,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I924cdf727818b33d71fe71ac110f224164c6b453
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/805336/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,14b7fc500367a24ed995d6598738c6f42dfe49ad,openstack/devstack/plugins,,openstack/glance `https://opendev.org/openstack/glance <https://opendev.org/openstack/glance>`__,0,1
openstack%2Fpython-tripleoclient~master~Iac18b7d7ece804e6590bb45902f0bdb3e979e60a,openstack/python-tripleoclient,master,Iac18b7d7ece804e6590bb45902f0bdb3e979e60a,Preventing infinite loop behavior in export,ABANDONED,2021-06-23 11:34:36.000000000,2021-08-20 08:01:59.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 11:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b45c6bb50ddc00fdf01c9bcc2d1a83032e04f5dd', 'message': 'Preventing infinite loop behavior in export\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iac18b7d7ece804e6590bb45902f0bdb3e979e60a\n'}, {'number': 2, 'created': '2021-06-23 14:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a280068ec08f368c00eccca7bf97530401ac895', 'message': 'Preventing infinite loop behavior in export\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iac18b7d7ece804e6590bb45902f0bdb3e979e60a\n'}, {'number': 3, 'created': '2021-06-24 08:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1379747dc65355372db820db98e835bb8a3ffd9a', 'message': 'Preventing infinite loop behavior in export\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iac18b7d7ece804e6590bb45902f0bdb3e979e60a\n'}, {'number': 4, 'created': '2021-06-24 11:48:43.000000000', 'files': ['tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/143c6bcc1c269a4a6ce635f8aa6f438cd9c0e4bd', 'message': 'Preventing infinite loop behavior in export\n\nCloses-Bug: #1916505\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iac18b7d7ece804e6590bb45902f0bdb3e979e60a\n'}]",2,797624,143c6bcc1c269a4a6ce635f8aa6f438cd9c0e4bd,13,2,4,32926,,,0,"Preventing infinite loop behavior in export

Closes-Bug: #1916505
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iac18b7d7ece804e6590bb45902f0bdb3e979e60a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/797624/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/export.py'],1,b45c6bb50ddc00fdf01c9bcc2d1a83032e04f5dd,exportstack/guard," """"""Export stack information. :param heat: :type heat: :: :: :: :: :: :: :: :: data to export parameter: Parameter to be exported file: IF file specified it is taken as source instead of heat output.File is relative to <config-download-dir>/stack. filter: in case only specific settings should be exported from parameter data. """""" export_parameters = { for export_key, export_param in export_parameters.items(): with open(file, 'r') as parameter_file: try: export_data = json.load(parameter_file) raise RuntimeError("," # data to export # parameter: Parameter to be exported # file: IF file specified it is taken as source instead of heat # output.File is relative to <config-download-dir>/stack. # filter: in case only specific settings should be # exported from parameter data. export_data = { for export_key, export_param in export_data.items(): with open(file, 'r') as ff: try: export_data = json.load(ff) raise Exception(",24,11
openstack%2Freleases~master~I9a6245e4b38bd329696e3c6277e33bbd33a0d26d,openstack/releases,master,I9a6245e4b38bd329696e3c6277e33bbd33a0d26d,Release final neutron-lib for Xena,MERGED,2021-08-16 09:35:25.000000000,2021-08-20 08:00:26.000000000,2021-08-20 08:00:26.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bf756bae3049d03601882e0508a2965038af6c99', 'message': 'Release final neutron-lib for Xena\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.13.0..8b2fbe6\n77723c9 Rephrase QoSRuleParameterConflict message\nec29bdf Add FlowDirectionAndAnyEnumField common type\n83b6727 Add API extension definition for QoS minimum pps rule\n7505776 multi-ext-gw: api-def and api-ref\n3a07a64 [Docs] Add api-ref for the address groups\n270184e Use placement version allowing re-parenting RP update\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I9a6245e4b38bd329696e3c6277e33bbd33a0d26d\n'}, {'number': 2, 'created': '2021-08-19 11:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fa28d5197c2119c4a43bfed12bac3fe8785ac074', 'message': 'Release final neutron-lib for Xena\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.13.0..\n6df74e0 Introduce new bgp_associations API definition\neb2c8a3 extension for adding bfd monitors to extraroutes\nc6f576e Use explicit ""dict_or_nodata"" validation for ""external_gateway_info""\n8ca7087 Move packet_rate_limit type to neutron-lib\n7e2d0ed Fix url display in bpg_speaker\n1d64353 Add port-resource-request-groups shim API ext\n77723c9 Rephrase QoSRuleParameterConflict message\nf8c5b72 BFD api def\nfb4775c Allow PUT on direction param in QoS minimum pps rule\nec29bdf Add FlowDirectionAndAnyEnumField common type\n83b6727 Add API extension definition for QoS minimum pps rule\n7505776 multi-ext-gw: api-def and api-ref\n3a07a64 [Docs] Add api-ref for the address groups\n270184e Use placement version allowing re-parenting RP update\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I9a6245e4b38bd329696e3c6277e33bbd33a0d26d\n'}, {'number': 3, 'created': '2021-08-19 15:33:44.000000000', 'files': ['deliverables/xena/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9b6167e547613a477dd83ca12008967dc483a490', 'message': 'Release final neutron-lib for Xena\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.13.0..HEAD\n794fc70 Add util to generate resource request group UUID\n6df74e0 Introduce new bgp_associations API definition\neb2c8a3 extension for adding bfd monitors to extraroutes\nc6f576e Use explicit ""dict_or_nodata"" validation for ""external_gateway_info""\n8ca7087 Move packet_rate_limit type to neutron-lib\n7e2d0ed Fix url display in bpg_speaker\n1d64353 Add port-resource-request-groups shim API ext\n77723c9 Rephrase QoSRuleParameterConflict message\nf8c5b72 BFD api def\nfb4775c Allow PUT on direction param in QoS minimum pps rule\nec29bdf Add FlowDirectionAndAnyEnumField common type\n83b6727 Add API extension definition for QoS minimum pps rule\n7505776 multi-ext-gw: api-def and api-ref\n3a07a64 [Docs] Add api-ref for the address groups\n270184e Use placement version allowing re-parenting RP update\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I9a6245e4b38bd329696e3c6277e33bbd33a0d26d\n'}]",2,804666,9b6167e547613a477dd83ca12008967dc483a490,27,8,3,28522,,,0,"Release final neutron-lib for Xena

This proposed a release for neutron-lib to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.13.0..HEAD
794fc70 Add util to generate resource request group UUID
6df74e0 Introduce new bgp_associations API definition
eb2c8a3 extension for adding bfd monitors to extraroutes
c6f576e Use explicit ""dict_or_nodata"" validation for ""external_gateway_info""
8ca7087 Move packet_rate_limit type to neutron-lib
7e2d0ed Fix url display in bpg_speaker
1d64353 Add port-resource-request-groups shim API ext
77723c9 Rephrase QoSRuleParameterConflict message
f8c5b72 BFD api def
fb4775c Allow PUT on direction param in QoS minimum pps rule
ec29bdf Add FlowDirectionAndAnyEnumField common type
83b6727 Add API extension definition for QoS minimum pps rule
7505776 multi-ext-gw: api-def and api-ref
3a07a64 [Docs] Add api-ref for the address groups
270184e Use placement version allowing re-parenting RP update

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I9a6245e4b38bd329696e3c6277e33bbd33a0d26d
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/804666/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron-lib.yaml'],1,bf756bae3049d03601882e0508a2965038af6c99,xena-final-non-client-libs, - version: 2.14.0 projects: - repo: openstack/neutron-lib hash: 8b2fbe6b64b038e0d0adc4423835b4605e0e4cea,,4,0
openstack%2Fskyline-console~master~I656fee63a4d54d3f17ed58617749aa79fa6ab6ec,openstack/skyline-console,master,I656fee63a4d54d3f17ed58617749aa79fa6ab6ec,fix: Fix some style,MERGED,2021-08-20 07:32:40.000000000,2021-08-20 07:57:31.000000000,2021-08-20 07:57:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-08-20 07:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0f9afcf176bb605e93154f2ade4bc68b57d8d4ad', 'message': 'fix: Fix some style & etc.\n\n1. fix overview style\n2. change menu position\n3. fix metadata detail json css\n4. stop propagation for manage metadata input\n\nChange-Id: I656fee63a4d54d3f17ed58617749aa79fa6ab6ec\n'}, {'number': 2, 'created': '2021-08-20 07:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5e5713baea3752ea8d3aa3bf836149c64ff87bb1', 'message': 'fix: Fix some style & etc.\n\n1. fix overview style\n2. change menu position\n3. fix metadata detail json css\n4. stop propagation for manage metadata input\n\nChange-Id: I656fee63a4d54d3f17ed58617749aa79fa6ab6ec\n'}, {'number': 3, 'created': '2021-08-20 07:55:06.000000000', 'files': ['src/pages/configuration/containers/Metadata/Detail/styles.less', 'src/layouts/admin-menu.jsx', 'src/pages/base/containers/Overview/index.jsx', 'src/pages/base/containers/Overview/style.less', 'src/pages/configuration/containers/Metadata/Detail/BaseDetail.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/df3d0617c77dcb518f13fe8721d2d55696d31989', 'message': 'fix: Fix some style\n\n1. fix overview style\n2. change menu position\n3. fix metadata detail json css\n\nChange-Id: I656fee63a4d54d3f17ed58617749aa79fa6ab6ec\n'}]",1,805345,df3d0617c77dcb518f13fe8721d2d55696d31989,15,3,3,33636,,,0,"fix: Fix some style

1. fix overview style
2. change menu position
3. fix metadata detail json css

Change-Id: I656fee63a4d54d3f17ed58617749aa79fa6ab6ec
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/45/805345/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/configuration/containers/Metadata/Detail/styles.less', 'src/layouts/admin-menu.jsx', 'src/pages/base/containers/Overview/index.jsx', 'src/pages/configuration/containers/Metadata/actions/Manage.jsx', 'src/pages/base/containers/Overview/style.less', 'src/pages/configuration/containers/Metadata/Detail/BaseDetail.jsx']",6,0f9afcf176bb605e93154f2ade4bc68b57d8d4ad,,"import styles from './styles.less'; <pre className={styles.json_data}> {JSON.stringify(this.detailData, null, 4)} </pre>"," <div> <pre>{JSON.stringify(this.detailData, null, 4)}</pre> </div>",34,19
openstack%2Fskyline-console~master~Ie15de4ea52f98eb3e414d64d3b3abf7be02e9fa8,openstack/skyline-console,master,Ie15de4ea52f98eb3e414d64d3b3abf7be02e9fa8,fix: Fix the return information of quota exceeded is not clear,MERGED,2021-08-20 07:25:50.000000000,2021-08-20 07:57:15.000000000,2021-08-20 07:57:15.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30474}]","[{'number': 1, 'created': '2021-08-20 07:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/57e6ffe02f491ccea41ae2505858aa3690531517', 'message': 'fix: Fix the return information of quota exceeded is not clear\n\nFix the return information for quota exceeded to simple style but others with detail style\n\nChange-Id: Ie15de4ea52f98eb3e414d64d3b3abf7be02e9fa8\n'}, {'number': 2, 'created': '2021-08-20 07:54:00.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/components/StepForm/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f17e0896b29d7bdf91d7375b9fb7dd6f06a4c62b', 'message': 'fix: Fix the return information of quota exceeded is not clear\n\nFix the return information for quota exceeded to simple style but others with detail style\n\nChange-Id: Ie15de4ea52f98eb3e414d64d3b3abf7be02e9fa8\n'}]",2,805344,f17e0896b29d7bdf91d7375b9fb7dd6f06a4c62b,9,3,2,33689,,,0,"fix: Fix the return information of quota exceeded is not clear

Fix the return information for quota exceeded to simple style but others with detail style

Change-Id: Ie15de4ea52f98eb3e414d64d3b3abf7be02e9fa8
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/44/805344/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/components/StepForm/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx']",4,57e6ffe02f491ccea41ae2505858aa3690531517,patch-dev,"import Notify from 'components/Notify'; onOk = () => { const { data } = this.state; this.values = data; this.onSubmit(data).then( () => { this.routing.push(this.listUrl); Notify.success(this.successText); }, (err) => { const { data: { forbidden: { message = '' } = {} } = {} } = err; if ( message && typeof message === 'string' && message.indexOf('Quota exceeded') !== -1 ) { Notify.error(t('Quota exceeded')); } else { Notify.errorWithDetail(this.errorText, err); } } ); };",,35,0
openstack%2Ftripleo-heat-templates~master~I062f82a001c3edeade13912ed9b044695143de85,openstack/tripleo-heat-templates,master,I062f82a001c3edeade13912ed9b044695143de85,Add BGP EVPN support to the FRR service,MERGED,2021-06-29 11:29:47.000000000,2021-08-20 07:40:59.000000000,2021-08-20 07:40:59.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 11:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a84d58d644f73ad58ede7b90419b39fc833bbb8', 'message': 'Add BGP EVPN support to the FRR service\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/798626\nChange-Id: I062f82a001c3edeade13912ed9b044695143de85\n'}, {'number': 2, 'created': '2021-08-19 12:46:35.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f11b5edc286afa63f9eab7fa2b9ffaff65ceea45', 'message': 'Add BGP EVPN support to the FRR service\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/798626\nChange-Id: I062f82a001c3edeade13912ed9b044695143de85\n'}]",0,798645,f11b5edc286afa63f9eab7fa2b9ffaff65ceea45,19,4,2,6469,,,0,"Add BGP EVPN support to the FRR service

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/798626
Change-Id: I062f82a001c3edeade13912ed9b044695143de85
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/798645/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,1a84d58d644f73ad58ede7b90419b39fc833bbb8,ovn_bgp_agent," FrrBgpL2VpnEnabled: type: boolean default: false description: Enable BGP L2VPN EVPN address family. FrrBgpL2VpnEbgpMultihop: type: number default: 0 description: > Allows sessions with eBGP neighbors to establish when they are multiple hops away. Value 0 disables multi-hop eBGP peering. FrrBgpL2VpnUplinkActivate: type: boolean default: true description: > Enable the list of uplink network interfaces defined in FrrBgpUplinks. FrrBgpL2VpnPeers: default: [] description: List of EVPN neighbor peers. type: comma_delimited_list FrrBgpL2vpnPeersScope: default: 'external' type: string description: Either peer with internal (iBGP) or external (eBGP) neighbors. constraints: - allowed_values: ['internal', 'external'] tripleo_frr_bgp_l2vpn: {get_param: FrrBgpL2VpnEnabled} tripleo_frr_bgp_l2vpn_ebgp_multihop: {get_param: FrrBgpL2VpnEbgpMultihop} tripleo_frr_bgp_l2vpn_uplink_activate: {get_param: FrrBgpL2VpnUplinkActivate} tripleo_frr_bgp_l2vpn_peers: {get_param: FrrBgpL2VpnPeers} tripleo_frr_bgp_l2vpn_peers_scope: {get_param: FrrBgpL2vpnPeersScope}",,30,0
openstack%2Frequirements~master~I23c18c5cd8eff1d683e7c1b9e4377b4907a979d8,openstack/requirements,master,I23c18c5cd8eff1d683e7c1b9e4377b4907a979d8,update constraint for monasca-statsd to new release 2.3.0,MERGED,2021-08-19 20:37:29.000000000,2021-08-20 07:21:48.000000000,2021-08-20 07:19:46.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 20:37:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fffa521e33bb7af07fd250613f0207c2a22f1e2f', 'message': 'update constraint for monasca-statsd to new release 2.3.0\n\nmeta: version: 2.3.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic8dc785e8fef1c564a23db094485da6b3e78aae4\nmeta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I23c18c5cd8eff1d683e7c1b9e4377b4907a979d8\n'}]",0,805302,fffa521e33bb7af07fd250613f0207c2a22f1e2f,19,2,1,11131,,,0,"update constraint for monasca-statsd to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic8dc785e8fef1c564a23db094485da6b3e78aae4
meta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I23c18c5cd8eff1d683e7c1b9e4377b4907a979d8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/805302/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fffa521e33bb7af07fd250613f0207c2a22f1e2f,new-release,monasca-statsd===2.3.0,monasca-statsd===2.2.0,1,1
openstack%2Fskyline-console~master~Icd697e0b5238a25307c3d24fc6742600f892b547,openstack/skyline-console,master,Icd697e0b5238a25307c3d24fc6742600f892b547,fix: Fix system_reader role operation permission bug,MERGED,2021-08-20 00:54:16.000000000,2021-08-20 07:08:59.000000000,2021-08-20 07:08:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-20 00:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fc986027d5c4ee2a2bfed3c8db3cfceb14a8f44c', 'message': 'fix: Disable system_reader action in administrator\n\n1. Disable system_reader action in administrator\n2. Fix check system/project admin/reader/member\n\nChange-Id: Icd697e0b5238a25307c3d24fc6742600f892b547\n'}, {'number': 2, 'created': '2021-08-20 01:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/03d2328f0c7f1d58d0fc2f8ba8410de0a8c33d9f', 'message': 'fix: Disable system_reader action in administrator\n\n1. Disable system_reader action in administrator\n2. Fix system_reader for T, todo: check system/project admin/reader/member\n\nChange-Id: Icd697e0b5238a25307c3d24fc6742600f892b547\n'}, {'number': 3, 'created': '2021-08-20 06:35:01.000000000', 'files': ['src/components/Tables/Base/index.jsx', 'src/pages/configuration/containers/Setting/actions/View.jsx', 'src/containers/List/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/components/Tables/Base/BatchActionButtons/index.jsx', 'src/layouts/Base/index.jsx', 'src/components/Tables/Base/PrimaryActionButtons/index.jsx', 'src/components/Tables/Base/Action/index.jsx', 'src/stores/root.js', 'src/resources/policy.js', 'src/components/Tables/Base/ItemActionButtons/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/34c13a2dcbdcd2d559df22b16659810fcfc3a40b', 'message': 'fix: Fix system_reader role operation permission bug\n\n1. Fix system_reader role has operation permissions on administrator page\n2. Mark TODO of supported system scope roles\n\nChange-Id: Icd697e0b5238a25307c3d24fc6742600f892b547\n'}]",0,805321,34c13a2dcbdcd2d559df22b16659810fcfc3a40b,10,2,3,30434,,,0,"fix: Fix system_reader role operation permission bug

1. Fix system_reader role has operation permissions on administrator page
2. Mark TODO of supported system scope roles

Change-Id: Icd697e0b5238a25307c3d24fc6742600f892b547
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/21/805321/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Tables/Base/index.jsx', 'src/pages/configuration/containers/Setting/actions/View.jsx', 'src/containers/List/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/components/Tables/Base/BatchActionButtons/index.jsx', 'src/layouts/Base/index.jsx', 'config/webpack.dev.js', 'src/components/Tables/Base/PrimaryActionButtons/index.jsx', 'src/components/Tables/Base/Action/index.jsx', 'src/resources/policy.js', 'src/components/Tables/Base/ItemActionButtons/index.jsx']",11,fc986027d5c4ee2a2bfed3c8db3cfceb14a8f44c,," const { actions, isAdminPage } = this.props; const results = await getAllowedResults({ actions: this.actionList, data: item, key: 'action', containerProps, isAdminPage, });"," const { actions } = this.props; const results = await getAllowedResults( this.actionList, item, 'action', containerProps );",98,41
openstack%2Fskyline-console~master~Idf1a105e4802f21da0a50c95eef32f2f0380b1dc,openstack/skyline-console,master,Idf1a105e4802f21da0a50c95eef32f2f0380b1dc,fix: Fix validator,ABANDONED,2021-08-20 06:14:49.000000000,2021-08-20 07:03:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-20 06:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/766010dc1e0730f7cb54a84022879065cb51fae0', 'message': 'fix: Fix validator\n\nAdd .: to validaotr regexp\n\nChange-Id: Idf1a105e4802f21da0a50c95eef32f2f0380b1dc\n'}, {'number': 2, 'created': '2021-08-20 06:21:20.000000000', 'files': ['src/utils/validate.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/24c808a86ead3de3dcba26a3d3c89d821be06023', 'message': 'fix: Fix validator\n\nAdd .: to validator regexp\n\nChange-Id: Idf1a105e4802f21da0a50c95eef32f2f0380b1dc\n'}]",0,805337,24c808a86ead3de3dcba26a3d3c89d821be06023,5,2,2,33689,,,0,"fix: Fix validator

Add .: to validator regexp

Change-Id: Idf1a105e4802f21da0a50c95eef32f2f0380b1dc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/37/805337/2 && git format-patch -1 --stdout FETCH_HEAD,['src/utils/validate.js'],1,766010dc1e0730f7cb54a84022879065cb51fae0,patch-dev," 'The name should start with upper letter, lower letter or chinese, and be a string of 1 to 128, characters can only contain ""0-9, a-z, A-Z, ""-\'_()[].:^"".' 'The name should start with upper letter, lower letter or chinese, and be a string of 1 to 128, characters can only contain ""0-9, a-z, A-Z, ""-\'_()[].:^"".'"," 'The name should start with upper letter, lower letter or chinese, and be a string of 1 to 128, characters can only contain ""0-9, a-z, A-Z, ""-\'_()[].^"".' 'The name should start with upper letter, lower letter or chinese, and be a string of 1 to 128, characters can only contain ""0-9, a-z, A-Z, ""-\'_()."".'",2,2
openstack%2Fpython-tripleoclient~master~I0836f8c0e8265a1b3f273d445c4eb41850028efd,openstack/python-tripleoclient,master,I0836f8c0e8265a1b3f273d445c4eb41850028efd,Check for neutron resources with ephemeral Heat,MERGED,2021-08-10 20:59:38.000000000,2021-08-20 07:01:24.000000000,2021-08-20 06:56:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-10 20:59:38.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6e90bd9dc409303bbdf8ce4d35a9e7ee9c57975', 'message': 'Check for neutron resources with ephemeral Heat\n\nWhen using ephemeral Heat, the Neutron service is not available to Heat.\nThis change adds a check on the resource_registry to see if any\nresources map to Neutron types. If any are found, an exception is\nraised.\n\nChange-Id: I0836f8c0e8265a1b3f273d445c4eb41850028efd\n'}]",0,804139,e6e90bd9dc409303bbdf8ce4d35a9e7ee9c57975,14,4,1,7144,,,0,"Check for neutron resources with ephemeral Heat

When using ephemeral Heat, the Neutron service is not available to Heat.
This change adds a check on the resource_registry to see if any
resources map to Neutron types. If any are found, an exception is
raised.

Change-Id: I0836f8c0e8265a1b3f273d445c4eb41850028efd
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/804139/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",3,e6e90bd9dc409303bbdf8ce4d35a9e7ee9c57975,, if parsed_args.heat_type != 'installed': utils.check_neutron_resources(env),,34,0
openstack%2Ftripleo-ansible~master~I4c8d000425b54ab2bc1275dc1fb74029eef87131,openstack/tripleo-ansible,master,I4c8d000425b54ab2bc1275dc1fb74029eef87131,Setting language for the python3.6 tox environment,MERGED,2021-08-19 05:53:26.000000000,2021-08-20 07:01:19.000000000,2021-08-20 06:55:59.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-19 05:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6e9524421b42d1a975abbeade58ce85e458063a8', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nChange-Id: I4c8d000425b54ab2bc1275dc1fb74029eef87131\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1940313\n'}, {'number': 2, 'created': '2021-08-19 08:39:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e3626a16c383fbdf3f80042a3c43cd2d9567eb9', 'message': 'Setting language for the python3.6 tox environment\n\nBy ensuring the locale is set to US utf-8 we can avoid\nencoding errors.\n\nChange-Id: I4c8d000425b54ab2bc1275dc1fb74029eef87131\nCloses-Bug: #1940313\n'}]",1,805116,9e3626a16c383fbdf3f80042a3c43cd2d9567eb9,16,4,2,28223,,,0,"Setting language for the python3.6 tox environment

By ensuring the locale is set to US utf-8 we can avoid
encoding errors.

Change-Id: I4c8d000425b54ab2bc1275dc1fb74029eef87131
Closes-Bug: #1940313
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/805116/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6e9524421b42d1a975abbeade58ce85e458063a8,encodingfix, LC_ALL=en_US.UTF-8,,1,0
openstack%2Ftripleo-heat-templates~master~Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049,openstack/tripleo-heat-templates,master,Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049,Add DeployedCeph boolean parameter,MERGED,2021-06-22 20:42:46.000000000,2021-08-20 06:56:05.000000000,2021-08-20 06:56:05.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-22 20:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef6affa98c04af52d998988017a986f4a19e962b', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be configured\nso that the overcloud can use it (create cephx keys, pools, configure RGW\nwith haproxy, etc), then this parameter should be set to true. Set this\nparameter to false to have cephadm deploy the ceph cluster during overcloud\ndeployment. DeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}, {'number': 2, 'created': '2021-06-22 20:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b14a9cc72ac69aed5698fe9bade6228eae0c261', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}, {'number': 3, 'created': '2021-06-23 01:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a77e74525133e377761bd2e0360a46f2ddbccd44', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}, {'number': 4, 'created': '2021-06-23 04:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae94042c27da043f41a92c7b5febff480956c3ac', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}, {'number': 5, 'created': '2021-07-02 14:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10a876ae8fd4972d2a2647eb6762a7d69bda1b0f', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}, {'number': 6, 'created': '2021-07-06 21:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f6b81a3ce9cd516a44e4c01e7bce316afec5cab', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}, {'number': 7, 'created': '2021-07-29 14:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffdc241456654431ec59954e4936a8959b9ee44b', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}, {'number': 8, 'created': '2021-08-02 19:57:25.000000000', 'files': ['deployment/cephadm/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/feb93b26b42673d1958917603f2498b9456fb34c', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n'}]",5,797539,feb93b26b42673d1958917603f2498b9456fb34c,53,6,8,18002,,,0,"Add DeployedCeph boolean parameter

If the Ceph cluster has already been deployed but needs to be
configured so that the overcloud can use it (create cephx keys,
pools, configure RGW with haproxy, etc), then this parameter
should be set to true. Set this parameter to false to have
cephadm deploy the ceph cluster during overcloud deployment.
DeployedCeph and CephDynamicSpec are mutually exclusive.

Depends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839
Change-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/797539/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,ef6affa98c04af52d998988017a986f4a19e962b,deployed_ceph," DeployedCeph: default: false type: boolean description: | If the Ceph cluster has already been deployed but needs to be configured so that the overcloud can use it (create cephx keys, pools, configure RGW with haproxy, etc), then this parameter should be set to true. Set this parameter to false to have cephadm deploy the ceph cluster during overcloud deployment. DeployedCeph and CephDynamicSpec are mutually exclusive. tripleo_cephadm_deployed_ceph: {get_param: DeployedCeph} when: - (groups['ceph_mon'] | default([]) | length > 0 or groups['ceph_nfs'] | default([]) | length > 0) - not {get_param: DeployedCeph} - name: Deploy or configure the cephadm Ceph cluster", # This is supposed to run a playbook which is responsible to # deploy Ceph using cephadm. # The storage network is supposed to be available since we are # at step 2 # TODO: (fpantano) Remove this section when --network-ports is # available and Ceph deployment can be moved **before** # the overcloud. when: groups['ceph_mon'] | default([]) | length > 0 or groups['ceph_nfs'] | default([]) | length > 0 - name: Deploy the ceph cluster using cephadm,15,10
openstack%2Fansible-role-tripleo-modify-image~master~I57720cc1d7da96f9277b62298cabce9ff7765f47,openstack/ansible-role-tripleo-modify-image,master,I57720cc1d7da96f9277b62298cabce9ff7765f47,Remove config of container_build_tool,MERGED,2021-08-10 11:50:04.000000000,2021-08-20 06:56:03.000000000,2021-08-20 06:56:03.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-10 11:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/202ab6ae925c98d1e1b656bf90fe5ae0cb74a7f5', 'message': 'Remove config of container_build_tool\n\nBecause there is no docker supported anymore, remove all custom\nconfig of ""container_build_tool"", only ""buildah"" is supported.\n\nChange-Id: I57720cc1d7da96f9277b62298cabce9ff7765f47\n'}, {'number': 2, 'created': '2021-08-10 11:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/f26a6b37bde3318fd28ee3e4c0556e1c973ad419', 'message': 'Remove config of container_build_tool\n\nBecause there is no docker supported anymore, remove all custom\nconfig of ""container_build_tool"", only ""buildah"" is supported.\n\nChange-Id: I57720cc1d7da96f9277b62298cabce9ff7765f47\n'}, {'number': 3, 'created': '2021-08-11 10:24:41.000000000', 'files': ['tasks/yum_install.yml', 'tasks/modify_image.yml', 'README.rst', 'tasks/precheck.yml', 'tasks/yum_update.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/0b9fdccb8b3232fbc65f84c3aae25780f21f13b4', 'message': 'Remove config of container_build_tool\n\nBecause there is no docker supported anymore, remove all custom\nconfig of ""container_build_tool"", only ""buildah"" is supported.\n\nChange-Id: I57720cc1d7da96f9277b62298cabce9ff7765f47\n'}]",4,804069,0b9fdccb8b3232fbc65f84c3aae25780f21f13b4,35,5,3,10969,,,0,"Remove config of container_build_tool

Because there is no docker supported anymore, remove all custom
config of ""container_build_tool"", only ""buildah"" is supported.

Change-Id: I57720cc1d7da96f9277b62298cabce9ff7765f47
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/69/804069/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/yum_install.yml', 'tasks/modify_image.yml', 'README.rst', 'tasks/precheck.yml', 'tasks/yum_update.yml', 'defaults/main.yml']",6,202ab6ae925c98d1e1b656bf90fe5ae0cb74a7f5,modify-test,,container_build_tool: 'buildah',6,27
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic0159e4efc862583baa646009aebe5b8168fcc36,openstack/tripleo-heat-templates,stable/wallaby,Ic0159e4efc862583baa646009aebe5b8168fcc36,Add a role to run independent designate bind backends,MERGED,2021-08-10 11:19:27.000000000,2021-08-20 06:55:57.000000000,2021-08-20 06:55:57.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-10 11:19:27.000000000', 'files': ['roles/DesignateBind.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de71d5b1d2e6fdd3a53e9ad501599bae8ec3b10e', 'message': 'Add a role to run independent designate bind backends\n\nDesignate can manage multiple instances of bind backend instances and\nthere are advantages to running bind on dedicated hosts in some cases.\n\nChange-Id: Ic0159e4efc862583baa646009aebe5b8168fcc36\n(cherry picked from commit 30ddf42420398eea899b1d9ee3b9ec1f61a415da)\n'}]",0,804067,de71d5b1d2e6fdd3a53e9ad501599bae8ec3b10e,7,3,1,6681,,,0,"Add a role to run independent designate bind backends

Designate can manage multiple instances of bind backend instances and
there are advantages to running bind on dedicated hosts in some cases.

Change-Id: Ic0159e4efc862583baa646009aebe5b8168fcc36
(cherry picked from commit 30ddf42420398eea899b1d9ee3b9ec1f61a415da)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/804067/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/DesignateBind.yaml'],1,de71d5b1d2e6fdd3a53e9ad501599bae8ec3b10e,designate-wallaby,############################################################################### # Role: DesignateBind # ############################################################################### - name: DesignateBind description: | Standalone role for bind instances being used as backends for Designate CountDefault: 1 tags: - external_bridge networks: External: subnet: external_subnet InternalApi: subnet: internal_api_subnet default_route_networks: ['External'] HostnameFormatDefault: '%stackname%-designate-bind-%index%' ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AuditD - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::Collectd - OS::TripleO::Services::DesignateBind - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::Securetty - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned ,,42,0
openstack%2Ftripleo-heat-templates~master~Ib6f345d01c27c870bb4211a5aa69a0f22d2dddb0,openstack/tripleo-heat-templates,master,Ib6f345d01c27c870bb4211a5aa69a0f22d2dddb0,Create the tftpboot ppc64le folder,MERGED,2021-08-19 16:51:00.000000000,2021-08-20 06:16:17.000000000,2021-08-20 06:08:43.000000000,"[{'_account_id': 7353}, {'_account_id': 8161}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31324}]","[{'number': 1, 'created': '2021-08-19 16:51:00.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/fix-ironic-ppc64le-tftp-folder-creation-36e73d187334dbbe.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99f04ef90da033b4323457e975899b27743a45c1', 'message': 'Create the tftpboot ppc64le folder\n\nThe firmware loader built into power hardware requires the ppc64le\nfolder within the tftpboot folders for assets to be located and\nutilized for boot operations. If not pre-existing, this folder has\nto be manually created, which is unfriendly to use and can create\nconfusion easily.\n\nRelated: rhbz#1984448\nChange-Id: Ib6f345d01c27c870bb4211a5aa69a0f22d2dddb0\n'}]",0,805253,99f04ef90da033b4323457e975899b27743a45c1,11,6,1,11655,,,0,"Create the tftpboot ppc64le folder

The firmware loader built into power hardware requires the ppc64le
folder within the tftpboot folders for assets to be located and
utilized for boot operations. If not pre-existing, this folder has
to be manually created, which is unfriendly to use and can create
confusion easily.

Related: rhbz#1984448
Change-Id: Ib6f345d01c27c870bb4211a5aa69a0f22d2dddb0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/805253/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/fix-ironic-ppc64le-tftp-folder-creation-36e73d187334dbbe.yaml']",2,99f04ef90da033b4323457e975899b27743a45c1,,--- fixes: - | Fixes issues with PPC64le hardware utilization where documented steps require a ``/tftpboot/ppc64le`` folder to exist for artifacts to be placed as it is required path for the firmware loader in order to boot the kernel and ramdisk. The folder is now automatically created for the container. ,,8,0
openstack%2Fcyborg~master~I3b687738c170dea60fca7fb2fe74fa5bbc37ab02,openstack/cyborg,master,I3b687738c170dea60fca7fb2fe74fa5bbc37ab02,Changed minversion in tox to 3.18.0,MERGED,2021-08-13 02:19:59.000000000,2021-08-20 06:15:54.000000000,2021-08-20 06:10:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-13 02:19:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b30baf0ff2cee69d88dca7229290ce17c16f1b05', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I3b687738c170dea60fca7fb2fe74fa5bbc37ab02\n""}]",0,804468,b30baf0ff2cee69d88dca7229290ce17c16f1b05,8,4,1,31412,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I3b687738c170dea60fca7fb2fe74fa5bbc37ab02
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/68/804468/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b30baf0ff2cee69d88dca7229290ce17c16f1b05,,minversion = 3.18.0allowlist_externals =allowlist_externals = rm,minversion = 3.1.1whitelist_externals =whitelist_externals = rm,3,3
openstack%2Fpython-cyborgclient~master~I2d3591e41ae35479b613487a81c43548c7cd3f9c,openstack/python-cyborgclient,master,I2d3591e41ae35479b613487a81c43548c7cd3f9c,Replace deprecated inspect.getargspec,MERGED,2021-08-13 08:51:49.000000000,2021-08-20 06:15:54.000000000,2021-08-20 06:04:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-08-13 08:51:49.000000000', 'files': ['cyborgclient/common/cliutils.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/ec2a079753c49caed4ae866277bb979e6340e298', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I2d3591e41ae35479b613487a81c43548c7cd3f9c\n'}]",0,804503,ec2a079753c49caed4ae866277bb979e6340e298,8,3,1,32291,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I2d3591e41ae35479b613487a81c43548c7cd3f9c
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/03/804503/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/common/cliutils.py'],1,ec2a079753c49caed4ae866277bb979e6340e298,, argspec = inspect.getfullargspec(fn), argspec = inspect.getargspec(fn),1,1
openstack%2Fskyline-console~master~I76f10ffbd513d4e40f658ec8acb61e3311cfedf1,openstack/skyline-console,master,I76f10ffbd513d4e40f658ec8acb61e3311cfedf1,fix: Fix securityGroup Rule creating,MERGED,2021-08-19 07:33:56.000000000,2021-08-20 06:14:04.000000000,2021-08-20 06:14:04.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-08-19 07:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5b8c4f128d7a10a8cda9d9ab191035d9923b85ab', 'message': '[Animbus]fix: Fix securityGroup Rule creating\n\n1. Change protocol list\n2. Add creating button in securityGroup list\n3. Add link for remote group id\n\nIssue: 97436\nChange-Id: I76f10ffbd513d4e40f658ec8acb61e3311cfedf1\n'}, {'number': 2, 'created': '2021-08-19 07:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/265439d49bf073a3573819e405433ecd745249de', 'message': 'fix: Fix securityGroup Rule creating\n\n1. Change protocol list\n2. Add creating button in securityGroup list\n3. Add link for remote group id\n\nChange-Id: I76f10ffbd513d4e40f658ec8acb61e3311cfedf1\n'}, {'number': 3, 'created': '2021-08-19 08:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8088bdaf37034d0821d93d4bae42d3a8bf2c52bd', 'message': 'fix: Fix securityGroup Rule creating\n\n1. Change protocol list\n2. Add creating button in securityGroup list\n3. Add link for remote group id\n\nChange-Id: I76f10ffbd513d4e40f658ec8acb61e3311cfedf1\n'}, {'number': 4, 'created': '2021-08-19 09:05:54.000000000', 'files': ['src/components/TableButton/RuleButton.jsx', 'src/locales/zh.json', 'src/pages/network/containers/SecurityGroup/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/SecurityGroups/index.jsx', 'src/components/Tables/Base/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/locales/en.json', 'src/pages/network/containers/SecurityGroup/actions/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Create.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/index.jsx', 'src/resources/security-group-rule.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ad94bb6345f801a014c59f18e848129b61757175', 'message': 'fix: Fix securityGroup Rule creating\n\n1. Change protocol list\n2. Add creating button in securityGroup list\n3. Add link for remote group id\n\nChange-Id: I76f10ffbd513d4e40f658ec8acb61e3311cfedf1\n'}]",0,805152,ad94bb6345f801a014c59f18e848129b61757175,13,3,4,33689,,,0,"fix: Fix securityGroup Rule creating

1. Change protocol list
2. Add creating button in securityGroup list
3. Add link for remote group id

Change-Id: I76f10ffbd513d4e40f658ec8acb61e3311cfedf1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/52/805152/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/TableButton/RuleButton.jsx', 'src/locales/zh.json', 'src/pages/network/containers/SecurityGroup/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/SecurityGroups/index.jsx', 'src/components/Tables/Base/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/locales/en.json', 'src/pages/network/containers/SecurityGroup/actions/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Create.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/index.jsx', 'src/resources/security-group-rule.jsx']",12,5b8c4f128d7a10a8cda9d9ab191035d9923b85ab,patch-dev,"import React from 'react';import { Link } from 'react-router-dom';export const getSelfColumns = (self) => [ render: (value) => value || '0.0.0.0/0', render: (value) => { return ( <div> {value ? ( <Link to={`/security/${self.getUrl('security-group')}/detail/${value}`} > {value} </Link> ) : ( '-' )} </div> ); },","export const columns = [ valueRender: 'noValue', valueRender: 'noValue',export const tableOptions = { filterParams, columns, }; ",109,155
openstack%2Ftripleo-heat-templates~master~I5b8c71793476dd7673015928254d8fa8b499351d,openstack/tripleo-heat-templates,master,I5b8c71793476dd7673015928254d8fa8b499351d,Enable debug of memcached when Debug is enabled,MERGED,2021-08-17 14:20:22.000000000,2021-08-20 06:08:46.000000000,2021-08-20 06:08:46.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-17 14:20:22.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/073e581e62b961ce1e4871e74c9717dd34673c8c', 'message': 'Enable debug of memcached when Debug is enabled\n\nThis restores the previous behavior changed by recent refactoring about\nthe *Debug parameters, and ensures that the global Debug parameter also\naffects memcached logging.\n\nCloses-Bug: #1940303\nChange-Id: I5b8c71793476dd7673015928254d8fa8b499351d\n'}]",0,804880,073e581e62b961ce1e4871e74c9717dd34673c8c,11,5,1,9816,,,0,"Enable debug of memcached when Debug is enabled

This restores the previous behavior changed by recent refactoring about
the *Debug parameters, and ensures that the global Debug parameter also
affects memcached logging.

Closes-Bug: #1940303
Change-Id: I5b8c71793476dd7673015928254d8fa8b499351d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/804880/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,073e581e62b961ce1e4871e74c9717dd34673c8c,bug/1940303, memcached_debug: or: - {get_param: Debug} - {get_param: MemcachedDebug} - memcached_debug, service_debug: {get_param: MemcachedDebug} - service_debug,5,2
openstack%2Fnova~master~I59afef70b2b38c61b3c58ac90a1a405532b92832,openstack/nova,master,I59afef70b2b38c61b3c58ac90a1a405532b92832,Accelerator smartnic SRIOV support,MERGED,2021-08-12 03:08:37.000000000,2021-08-20 05:27:50.000000000,2021-08-20 05:26:09.000000000,"[{'_account_id': 5754}, {'_account_id': 7543}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2021-08-12 03:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/711c30e5501bc1ead3c77595d81b02187e3cb151', 'message': 'Accelerator smartnic SRIOV support\n\nSince Xena release, nova supports creating servers with\nSRIOV provisioned with the Cyborg service.\n\nChange-Id: I59afef70b2b38c61b3c58ac90a1a405532b92832\n'}, {'number': 2, 'created': '2021-08-17 02:26:08.000000000', 'files': ['api-guide/source/accelerator-support.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2226ec4e3b9ecbd070f1545e40063ede1f1aa44a', 'message': 'Accelerator smartnic SRIOV support\n\nSince Xena release, nova supports creating servers with\nSRIOV provisioned with the Cyborg service.\n\nChange-Id: I59afef70b2b38c61b3c58ac90a1a405532b92832\n'}]",3,804320,2226ec4e3b9ecbd070f1545e40063ede1f1aa44a,21,5,2,7543,,,0,"Accelerator smartnic SRIOV support

Since Xena release, nova supports creating servers with
SRIOV provisioned with the Cyborg service.

Change-Id: I59afef70b2b38c61b3c58ac90a1a405532b92832
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/804320/2 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/accelerator-support.rst'],1,711c30e5501bc1ead3c77595d81b02187e3cb151,bp/sriov-smartnic-support," ======================= Using SRIOV with Cyborg ======================= Starting from Xena release, nova supports creating servers with SRIOV provisioned with the Cyborg service. To launch servers with accelerators, the administrator (or an user with appropriate privileges) must do the following: * Create a device profile in Cyborg, which specifies what accelerator resources need to be provisioned. (See `Cyborg device profiles API`_, `Cyborg SRIOV Test Report`_.) .. _`Cyborg device profiles API`: https://docs.openstack.org/api-ref/accelerator/v2/index.html#device-profiles .. _`Cyborg SRIOV Test Report`: https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelNic * Set the device profile name as an neutron port device profile with this syntax: .. code:: openstack port create $port_name --network $network_name --device-profile $device_profile_name --vnic-type=accelerator-direct * create a server with that port: .. code:: openstack server create --flavor $myflavor --image $myimage $servername --nic port-id=$port-ID Nova supports only specific operations for instances with accelerators. The lists of supported and unsupported operations are as below: * Supported operations. * Creation and deletion. * Reboots (soft and hard). * Pause and unpause. * Stop and start. * Rebuild. * Rescue and unrescue. * Take a snapshot. * Backup. * Unsupported operations * Resize. * Suspend and resume. * Cold migration. * Live migration. * Shelve and unshelve. * Evacuate. * Attach/detach a port with device profile.",,54,0
openstack%2Frequirements~master~Idf3da49c005afc0a9205ab13321e42e3dca54114,openstack/requirements,master,Idf3da49c005afc0a9205ab13321e42e3dca54114,update constraint for os_vif to new release 2.6.0,MERGED,2021-08-19 20:43:51.000000000,2021-08-20 05:27:35.000000000,2021-08-20 05:26:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 20:43:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/70640d9bfde87e3e71eb2503fb4409533602f9a7', 'message': 'update constraint for os_vif to new release 2.6.0\n\nmeta: version: 2.6.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ica7db7d1bc036226584206e988509ac1706e3b6a\nmeta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Idf3da49c005afc0a9205ab13321e42e3dca54114\n'}]",0,805303,70640d9bfde87e3e71eb2503fb4409533602f9a7,13,2,1,11131,,,0,"update constraint for os_vif to new release 2.6.0

meta: version: 2.6.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ica7db7d1bc036226584206e988509ac1706e3b6a
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Idf3da49c005afc0a9205ab13321e42e3dca54114
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/805303/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,70640d9bfde87e3e71eb2503fb4409533602f9a7,new-release,os-vif===2.6.0,os-vif===2.5.0,1,1
openstack%2Ftripleo-common~stable%2Ftrain~If2b295042cfa2d71f26ad151062630b3cc836e94,openstack/tripleo-common,stable/train,If2b295042cfa2d71f26ad151062630b3cc836e94,Replace upgrades template when providers run again,MERGED,2021-08-16 18:55:39.000000000,2021-08-20 03:41:34.000000000,2021-08-20 03:37:53.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-16 18:55:39.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/89d1797e406d002dd0dd9d75d37f78689f8a4416', 'message': 'Replace upgrades template when providers run again\n\nThe upgrades template was commented out to get\na change through that fixed failing content providers.\n\nThis template can be added back when the two\nrelevant release content provider jobs are\npassing again.\n\nChange-Id: If2b295042cfa2d71f26ad151062630b3cc836e94\n'}]",0,804798,89d1797e406d002dd0dd9d75d37f78689f8a4416,9,6,1,9976,,,0,"Replace upgrades template when providers run again

The upgrades template was commented out to get
a change through that fixed failing content providers.

This template can be added back when the two
relevant release content provider jobs are
passing again.

Change-Id: If2b295042cfa2d71f26ad151062630b3cc836e94
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/804798/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,89d1797e406d002dd0dd9d75d37f78689f8a4416,replace-upgrades-train, - tripleo-upgrades-train-pipeline, # - tripleo-upgrades-train-pipeline,1,1
openstack%2Ftripleo-common~master~I64acd78017763f78e60b0e6fdf23f15cefc6a0df,openstack/tripleo-common,master,I64acd78017763f78e60b0e6fdf23f15cefc6a0df,Fix issue in upload artifact tooling,ABANDONED,2021-06-23 12:17:50.000000000,2021-08-20 03:26:58.000000000,,"[{'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-23 12:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55170fd51f95a27d42f71bac6ace8a74acb5b77c', 'message': ""Fix issue in upload artifact tooling\n\nChange [1] updates upload artifacts tooling for swiftless\nundercloud, but the upload-artifacts script is not included\nin setup.cfg and hence it throws 'command not found' error.\n\nThis change adds upload-artifacts script in setup.cfg and\nalso fix the NameError by defining files attribute.\n\n[1] If7307bfd61456aaebd28aae20ac5c9025c25d68c\n\nChange-Id: I64acd78017763f78e60b0e6fdf23f15cefc6a0df\n""}, {'number': 2, 'created': '2021-06-23 12:29:31.000000000', 'files': ['scripts/upload-artifacts', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2da18f6df178e4068b35c1a0826ce87ec647fb8f', 'message': ""Fix issue in upload artifact tooling\n\nChange [1] updates upload artifacts tooling for swiftless\nundercloud, but the upload-artifacts script is not included\nin setup.cfg and hence it throws 'command not found' error.\n\nThis change adds upload-artifacts script in setup.cfg and\nalso fixes the NameError by defining files attribute in\nupload-aritfacts script.\n\n[1] If7307bfd61456aaebd28aae20ac5c9025c25d68c\n\nCloses-Bug: 1933336\nChange-Id: I64acd78017763f78e60b0e6fdf23f15cefc6a0df\n""}]",0,797628,2da18f6df178e4068b35c1a0826ce87ec647fb8f,7,5,2,20733,,,0,"Fix issue in upload artifact tooling

Change [1] updates upload artifacts tooling for swiftless
undercloud, but the upload-artifacts script is not included
in setup.cfg and hence it throws 'command not found' error.

This change adds upload-artifacts script in setup.cfg and
also fixes the NameError by defining files attribute in
upload-aritfacts script.

[1] If7307bfd61456aaebd28aae20ac5c9025c25d68c

Closes-Bug: 1933336
Change-Id: I64acd78017763f78e60b0e6fdf23f15cefc6a0df
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/797628/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upload-artifacts', 'setup.cfg']",2,55170fd51f95a27d42f71bac6ace8a74acb5b77c,lp_1933336, scripts/upload-artifacts,,2,0
openstack%2Fcyborg-tempest-plugin~master~If189ff2f2b8534a22aa75279c689eac5a2e347ae,openstack/cyborg-tempest-plugin,master,If189ff2f2b8534a22aa75279c689eac5a2e347ae,Add description check for device profile create,MERGED,2021-08-10 09:06:35.000000000,2021-08-20 02:59:24.000000000,2021-08-20 02:59:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-10 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/f31df06a6ab75956d60d40d99cf82c1b2fd03fc7', 'message': 'Add description check for device profile create\n\nChange-Id: If189ff2f2b8534a22aa75279c689eac5a2e347ae\n'}, {'number': 2, 'created': '2021-08-11 05:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/14dd296ff5b4b0ce87df4d4a47254e8f6a04ab9a', 'message': 'Add description check for device profile create\n\nDepends-on: https://review.opendev.org/c/openstack/cyborg/+/804198\nChange-Id: If189ff2f2b8534a22aa75279c689eac5a2e347ae\n'}, {'number': 3, 'created': '2021-08-13 04:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/b42f839b8ebc16fb7d12d2cb36e68f3ee88c80df', 'message': 'Add description check for device profile create\n\nDepends-on: https://review.opendev.org/c/openstack/cyborg/+/804198\nChange-Id: If189ff2f2b8534a22aa75279c689eac5a2e347ae\n'}, {'number': 4, 'created': '2021-08-18 00:33:51.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/tests/api/test_device_profile_negative.py', 'cyborg_tempest_plugin/services/cyborg_data.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/d3d38a1c8d6f02715d2aed74f39533e42d73ee30', 'message': 'Add description check for device profile create\n\nChange-Id: If189ff2f2b8534a22aa75279c689eac5a2e347ae\n'}]",1,804053,d3d38a1c8d6f02715d2aed74f39533e42d73ee30,27,4,4,31412,,,0,"Add description check for device profile create

Change-Id: If189ff2f2b8534a22aa75279c689eac5a2e347ae
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/53/804053/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/services/cyborg_data.py']",2,f31df06a6ab75956d60d40d99cf82c1b2fd03fc7,," }], ""description"": ""fpga-num-1-dp1-desc""", }],3,1
openstack%2Fopenstacksdk~master~I623eef83227a5c1be50f0a62909377a4b13fb633,openstack/openstacksdk,master,I623eef83227a5c1be50f0a62909377a4b13fb633,"Fix ""400 error when create image with protected parameter""",NEW,2021-08-18 11:21:27.000000000,2021-08-20 02:02:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-18 11:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/723260cb47737dec26fb9ee77c430d1b1a8a0e79', 'message': 'Fix ""400 error when create image with protected parameter""\n\nStory: 2009127\nTask: 43041\nChange-Id: I623eef83227a5c1be50f0a62909377a4b13fb633\n'}, {'number': 2, 'created': '2021-08-19 01:25:21.000000000', 'files': ['openstack/image/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f87b685ae7c5287a755edaaee5341232132503a4', 'message': 'Fix ""400 error when create image with protected parameter""\n\nStory: 2009127\nTask: 43041\nChange-Id: I623eef83227a5c1be50f0a62909377a4b13fb633\n'}]",0,804987,f87b685ae7c5287a755edaaee5341232132503a4,6,1,2,31525,,,0,"Fix ""400 error when create image with protected parameter""

Story: 2009127
Task: 43041
Change-Id: I623eef83227a5c1be50f0a62909377a4b13fb633
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/87/804987/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/_proxy.py'],1,723260cb47737dec26fb9ee77c430d1b1a8a0e79,story/2009127,"_RAW_PROPERTIES = ('protected', 'tags', 'is_protected')","_RAW_PROPERTIES = ('protected', 'tags')",1,1
openstack%2Frequirements~master~Iec931864d97fa95c520a05b295cce615d8a13be7,openstack/requirements,master,Iec931864d97fa95c520a05b295cce615d8a13be7,update constraint for kuryr-lib to new release 2.4.0,MERGED,2021-08-19 19:25:55.000000000,2021-08-20 01:55:44.000000000,2021-08-20 01:54:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 19:25:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/91e9457e42909ee5384ee7410f242413ad033a40', 'message': 'update constraint for kuryr-lib to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I58a3b8c17174c8ed9a822cfdf139b5b30c6a00d4\nmeta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Iec931864d97fa95c520a05b295cce615d8a13be7\n'}]",0,805269,91e9457e42909ee5384ee7410f242413ad033a40,8,2,1,11131,,,0,"update constraint for kuryr-lib to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I58a3b8c17174c8ed9a822cfdf139b5b30c6a00d4
meta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Iec931864d97fa95c520a05b295cce615d8a13be7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/805269/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,91e9457e42909ee5384ee7410f242413ad033a40,new-release,kuryr-lib===2.4.0,kuryr-lib===2.3.0,1,1
openstack%2Fstorlets~master~If8de8e59c6145f982b6f9ec6d5bbf0fa21427671,openstack/storlets,master,If8de8e59c6145f982b6f9ec6d5bbf0fa21427671,devstack: Make OpenJDK version configurable,MERGED,2021-08-07 13:45:24.000000000,2021-08-20 01:54:56.000000000,2021-08-20 01:53:43.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 13:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a5412623699de68a006d79937fcb1631c0dedbcf', 'message': 'devstack: Make OpenJDK version configurable\n\nChange-Id: If8de8e59c6145f982b6f9ec6d5bbf0fa21427671\n'}, {'number': 2, 'created': '2021-08-07 14:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/37150e3a5e60e9362aeeee2dd973fb0c6ff13832', 'message': 'devstack: Make OpenJDK version configurable\n\nChange-Id: If8de8e59c6145f982b6f9ec6d5bbf0fa21427671\n'}, {'number': 3, 'created': '2021-08-19 09:15:30.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e2060cd3426899bcdac8f710e68b5146007d0986', 'message': 'devstack: Make OpenJDK version configurable\n\nChange-Id: If8de8e59c6145f982b6f9ec6d5bbf0fa21427671\n'}]",0,803826,e2060cd3426899bcdac8f710e68b5146007d0986,14,2,3,9816,,,0,"devstack: Make OpenJDK version configurable

Change-Id: If8de8e59c6145f982b6f9ec6d5bbf0fa21427671
",git fetch https://review.opendev.org/openstack/storlets refs/changes/26/803826/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a5412623699de68a006d79937fcb1631c0dedbcf,docker-nosuid,"STORLETS_JDK_VERSION=${STORLETS_JRE_VERSION:-11} install_package openjdk-${STORLETS_JDK_VERSION}-jdk-headless ant cat <<EOF > ${TMP_REGISTRY_PREFIX}/repositories/${STORLETS_DOCKER_BASE_IMG_NAME}_jre${STORLETS_JDK_VERSION}/Dockerfile apt-get install ${PYTHON_PACKAGES} openjdk-${STORLETS_JDK_VERSION}-jre-headless -y && \ mkdir -p ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre${STORLETS_JDK_VERSION} cd ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre${STORLETS_JDK_VERSION}} docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre${STORLETS_JDK_VERSION}} . cat <<EOF > ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre${STORLETS_JDK_VERSION}_storlets/Dockerfile FROM ${STORLETS_DOCKER_BASE_IMG_NAME}_jre${STORLETS_JDK_VERSION} mkdir -p ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre${STORLETS_JDK_VERSION}_storlets cd ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre${STORLETS_JDK_VERSION}_storlets docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre${STORLETS_JDK_VERSION}_storlets .FROM ${STORLETS_DOCKER_BASE_IMG_NAME}_jre${STORLETS_JDK_VERSION}_storlets"," install_package openjdk-11-jdk-headless ant cat <<EOF > ${TMP_REGISTRY_PREFIX}/repositories/${STORLETS_DOCKER_BASE_IMG_NAME}_jre11/Dockerfile apt-get install ${PYTHON_PACKAGES} openjdk-11-jre-headless -y && \ mkdir -p ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre11 cd ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre11 docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11 . cat <<EOF > ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre11_storlets/Dockerfile FROM ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11 mkdir -p ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre11_storlets cd ${TMP_REGISTRY_PREFIX}/repositories/""$STORLETS_DOCKER_BASE_IMG_NAME""_jre11_storlets docker build -q -t ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11_storlets .FROM ${STORLETS_DOCKER_BASE_IMG_NAME}_jre11_storlets",13,12
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,openstack/python-tripleoclient,stable/victoria,I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,Fix network environment validation,MERGED,2021-08-18 12:15:06.000000000,2021-08-20 01:29:37.000000000,2021-08-20 01:26:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 32240}]","[{'number': 1, 'created': '2021-08-18 12:15:06.000000000', 'files': ['tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d4485ef1125ffdd31edf48a291a36284719c117', 'message': ""Fix network environment validation\n\nNetwork environment validation fails when accessing value\nwith the key 'os_net_config' from the nic-config files.\nFix the dictionary keys needed to fetch the network\nconfig from nic_data.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f\n(cherry picked from commit 930abb12b355fa6fcf2dded780e2031be24c2964)\n""}]",0,804995,8d4485ef1125ffdd31edf48a291a36284719c117,8,3,1,24245,,,0,"Fix network environment validation

Network environment validation fails when accessing value
with the key 'os_net_config' from the nic-config files.
Fix the dictionary keys needed to fetch the network
config from nic_data.

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f
(cherry picked from commit 930abb12b355fa6fcf2dded780e2031be24c2964)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/804995/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/v1/overcloud_netenv_validate.py']",2,8d4485ef1125ffdd31edf48a291a36284719c117,bug/1923612-stable/victoria, 'str_replace']['params']['$network_config']['network_config'], 'os_net_config']['network_config'],7,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8,openstack/python-tripleoclient,stable/wallaby,Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8,Remove deprecation warnings for the role command,MERGED,2021-08-16 10:54:26.000000000,2021-08-20 01:28:29.000000000,2021-08-20 01:26:57.000000000,"[{'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-16 10:54:26.000000000', 'files': ['tripleoclient/v1/overcloud_roles.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a88ba3767f518cf4f0cdf678f3ace21a56e4b6fa', 'message': ""Remove deprecation warnings for the role command\n\nThe `role` commands are warning users that they have been deprecated\nand informing users that they should use the alternative `roles`\ncommands. Sadly, we have no such `roles` plugin, so following the\ndeprecation warning provides false information which results in an\nerror should the command be used.\n\nThis change removes the deprecations warnings for the `role` commands.\nIf this needs to be refactored later we can; however, given the\ninformation is wrong and there's no alternative plugin to use, making\nthe UX bad, we're removing the misinformation.\n\nChange-Id: Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit f0f1d271a1e35568e0c979aca3442cfad543db96)\n""}]",0,804713,a88ba3767f518cf4f0cdf678f3ace21a56e4b6fa,12,5,1,32114,,,0,"Remove deprecation warnings for the role command

The `role` commands are warning users that they have been deprecated
and informing users that they should use the alternative `roles`
commands. Sadly, we have no such `roles` plugin, so following the
deprecation warning provides false information which results in an
error should the command be used.

This change removes the deprecations warnings for the `role` commands.
If this needs to be refactored later we can; however, given the
information is wrong and there's no alternative plugin to use, making
the UX bad, we're removing the misinformation.

Change-Id: Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit f0f1d271a1e35568e0c979aca3442cfad543db96)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/804713/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_roles.py'],1,a88ba3767f518cf4f0cdf678f3ace21a56e4b6fa,tinkering-netv2-stable/wallaby," """"""List availables roles."""""" """"""Show information about a given role."""""" "," """"""List availables roles (DEPRECATED). Please use ""openstack overcloud roles list"" instead. """""" self.log.warning('This command is deprecated. Please use ""openstack ' 'overcloud roles list"" instead.') """"""Show information about a given role (DEPRECATED). Please use ""openstack overcloud roles show"" intead. """""" self.log.warning('This command is deprecated. Please use ""openstack ' 'overcloud roles show"" instead.')",2,11
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I3a154dbedd115d121bfc826513141c2d8be98508,openstack/python-tripleoclient,stable/victoria,I3a154dbedd115d121bfc826513141c2d8be98508,Fetch stack after updating it,MERGED,2021-08-19 10:37:36.000000000,2021-08-20 01:28:22.000000000,2021-08-20 01:26:54.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-19 10:37:36.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/203acc3f324273fd11a6b8d27ef1d8ef3ac439a3', 'message': ""Fetch stack after updating it\n\nWe update the stack assuming that there would be no change\nduring upgrades. This does not allow blacklisting nodes\nduring upgrades.\n\nThis probably won't be relevant for master/wallaby with\nephemeral heat. Only proposed for backport to older branches.\n\nChange-Id: I3a154dbedd115d121bfc826513141c2d8be98508\n(cherry picked from commit 7dd1f6e26fa1e6ed587896a7ad2131397eb45024)\n""}]",0,805138,203acc3f324273fd11a6b8d27ef1d8ef3ac439a3,9,4,1,8833,,,0,"Fetch stack after updating it

We update the stack assuming that there would be no change
during upgrades. This does not allow blacklisting nodes
during upgrades.

This probably won't be relevant for master/wallaby with
ephemeral heat. Only proposed for backport to older branches.

Change-Id: I3a154dbedd115d121bfc826513141c2d8be98508
(cherry picked from commit 7dd1f6e26fa1e6ed587896a7ad2131397eb45024)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/38/805138/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,203acc3f324273fd11a6b8d27ef1d8ef3ac439a3,," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name"," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name ",3,5
openstack%2Ftripleo-ansible~master~Ib6a2ff88cad2722369378c9e1322655d040204e4,openstack/tripleo-ansible,master,Ib6a2ff88cad2722369378c9e1322655d040204e4,Give user the full path to sosreport,MERGED,2021-08-11 06:16:19.000000000,2021-08-20 01:27:03.000000000,2021-08-20 01:27:03.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-11 06:16:19.000000000', 'files': ['tripleo_ansible/playbooks/cli-support-collect-logs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1dd014a09d84bd76a84b1b52236d8b2a7c463db', 'message': ""Give user the full path to sosreport\n\nSmall change to improve user experience.\nWe'll return the full path to the sosreport\nto make it easy to copy and paste.\n\nChange-Id: Ib6a2ff88cad2722369378c9e1322655d040204e4\n""}]",0,804200,f1dd014a09d84bd76a84b1b52236d8b2a7c463db,8,4,1,30073,,,0,"Give user the full path to sosreport

Small change to improve user experience.
We'll return the full path to the sosreport
to make it easy to copy and paste.

Change-Id: Ib6a2ff88cad2722369378c9e1322655d040204e4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/804200/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-support-collect-logs.yaml'],1,f1dd014a09d84bd76a84b1b52236d8b2a7c463db,ux_fullpath," msg: ""Log collection archive: {{ archive_file }}, stored here: {{ sos_destination }}/{{ archive_file | basename }}"""," msg: ""Log collection archive: {{ archive_file }}, stored here: {{ sos_destination }}""",1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I42e8993825c9ed956543755daf8cb6e414b1d790,openstack/tripleo-ansible,stable/wallaby,I42e8993825c9ed956543755daf8cb6e414b1d790,Use different name to distinguish between facts and vars in octavia,MERGED,2021-08-11 19:48:42.000000000,2021-08-20 01:27:01.000000000,2021-08-20 01:27:01.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-11 19:48:42.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_config/tasks/certificate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/836fc3389c96f98b8c736922de48441f3494a91e', 'message': 'Use different name to distinguish between facts and vars in octavia\n\nansible facts take precedence over vars in ansible apparently so octavia\ncontroller configuration did not properly update certificates on hosts.\n\nCloses-Bug: #1939445\nChange-Id: I42e8993825c9ed956543755daf8cb6e414b1d790\n(cherry picked from commit 6d4ee79d28c63cb61d6aabb0854f2d3fc3bfc48a)\n'}]",0,804297,836fc3389c96f98b8c736922de48441f3494a91e,7,5,1,6681,,,0,"Use different name to distinguish between facts and vars in octavia

ansible facts take precedence over vars in ansible apparently so octavia
controller configuration did not properly update certificates on hosts.

Closes-Bug: #1939445
Change-Id: I42e8993825c9ed956543755daf8cb6e414b1d790
(cherry picked from commit 6d4ee79d28c63cb61d6aabb0854f2d3fc3bfc48a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/804297/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_config/tasks/certificate.yml']",2,836fc3389c96f98b8c736922de48441f3494a91e,bug/1939445-wallaby," - content: ""{{ updated_private_key_content }}"" - content: ""{{ updated_ca_cert_content }}"" - content: ""{{ updated_service_pem_content }}"""," - content: ""{{ private_key_content }}"" - content: ""{{ ca_cert_content }}"" - content: ""{{ service_pem_content }}""",6,6
openstack%2Ftripleo-ansible~stable%2Fwallaby~I55139d44996ba5b0a39b45cd5ead571d617ff309,openstack/tripleo-ansible,stable/wallaby,I55139d44996ba5b0a39b45cd5ead571d617ff309,Adjust molecule jobs for Ansible 2.11,MERGED,2021-08-18 10:35:36.000000000,2021-08-20 01:27:00.000000000,2021-08-20 01:27:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-18 10:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fc5fcbb833d209f9e4aeb7cf3cba254cbdb5f4e', 'message': 'Adjust molecule jobs for Ansible 2.11\n\nAdd community.crypto collection to testing of tripleo-transfer role,\nsince it uses openssh_keypair module.\nChange-Id: I55139d44996ba5b0a39b45cd5ead571d617ff309\n(cherry picked from commit e7ec5d3128a5a9699fe03d395d8f9d57cb0e2979)\n'}, {'number': 2, 'created': '2021-08-18 10:37:18.000000000', 'files': ['tripleo_ansible/requirements.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/ansible-collections-requirements.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ddf67070e0872d1d6018ac0bac4f3a77108f27f', 'message': 'Adjust molecule jobs for Ansible 2.11\n\nAdd community.crypto collection to testing of tripleo-transfer role,\nsince it uses openssh_keypair module.\nChange-Id: I55139d44996ba5b0a39b45cd5ead571d617ff309\n(cherry picked from commit e7ec5d3128a5a9699fe03d395d8f9d57cb0e2979)\n'}]",0,804990,9ddf67070e0872d1d6018ac0bac4f3a77108f27f,12,3,2,10969,,,0,"Adjust molecule jobs for Ansible 2.11

Add community.crypto collection to testing of tripleo-transfer role,
since it uses openssh_keypair module.
Change-Id: I55139d44996ba5b0a39b45cd5ead571d617ff309
(cherry picked from commit e7ec5d3128a5a9699fe03d395d8f9d57cb0e2979)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/804990/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/requirements.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/ansible-collections-requirements.yml']",3,6fc5fcbb833d209f9e4aeb7cf3cba254cbdb5f4e,2.11-stable/wallaby,"<<<<<<< HEAD (f3eb15 Merge ""tripleo-kernel: Adding reboot_protection variable"" in) ======= collections: - name: https://opendev.org/openstack/ansible-collections-openstack.git type: git - containers.podman - community.general - ansible.posix - community.crypto >>>>>>> CHANGE (e7ec5d Adjust molecule jobs for Ansible 2.11) ",,13,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iffab9c82f9ecdd5845cc93484ae15f70c9153341,openstack/tripleo-ansible,stable/wallaby,Iffab9c82f9ecdd5845cc93484ae15f70c9153341,BnR: managed ceph properly to take a backup of the node,MERGED,2021-08-19 15:07:05.000000000,2021-08-20 01:26:58.000000000,2021-08-20 01:26:58.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-19 15:07:05.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e38da96878feea65b70fc9fdfd5e2ed3141ef480', 'message': 'BnR: managed ceph properly to take a backup of the node\n\nThis patch stops ceph services before doing a backup and\nstarts the ceph services after the backup. No matter how\nceph was installed (ceph-ansible or cephadm)\n\nChange-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341\n(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)\n'}]",0,805148,e38da96878feea65b70fc9fdfd5e2ed3141ef480,7,3,1,22954,,,0,"BnR: managed ceph properly to take a backup of the node

This patch stops ceph services before doing a backup and
starts the ceph services after the backup. No matter how
ceph was installed (ceph-ansible or cephadm)

Change-Id: Iffab9c82f9ecdd5845cc93484ae15f70c9153341
(cherry picked from commit 9e85dd4943da47938b14a967f1b9548d202b03f0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/805148/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_start.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_stop.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/cephadm_stat.yml']",8,e38da96878feea65b70fc9fdfd5e2ed3141ef480,lightbackups-stable/wallaby,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Stat cephadm file stat: path: ""{{ tripleo_backup_and_restore_cephadm_path }}"" register: stat_cephadm become: true ignore_errors: true tags: - bar_create_recover_image - name: List Ceph daemon instances on this host shell: ""{{ tripleo_backup_and_restore_cephadm_path }} ls --no-detail"" register: cephadm_ls become: true when: stat_cephadm.stat.exists tags: - bar_create_recover_image ",,215,12
openstack%2Fmasakari~master~I60459407e49a88c2231217152fc078346e5f4b4f,openstack/masakari,master,I60459407e49a88c2231217152fc078346e5f4b4f,Generate PDF documentation,MERGED,2019-10-03 08:48:43.000000000,2021-08-20 01:06:53.000000000,2021-08-20 01:05:30.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-03 08:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/963a8d5870d079ce674f0592600cf57c1b431d8f', 'message': 'Generate PDF documentation\n\nChange-Id: I60459407e49a88c2231217152fc078346e5f4b4f\n'}, {'number': 2, 'created': '2019-10-06 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3edff1cdc8cd83a605fab92591a6f5af9ee3c59e', 'message': 'Generate PDF documentation\n\nChange-Id: I60459407e49a88c2231217152fc078346e5f4b4f\n'}, {'number': 3, 'created': '2021-08-17 16:43:05.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/configuration/recovery_config.rst', 'doc/source/cli/index.rst', 'doc/source/configuration/config.rst', 'doc/source/user/how_to_get_involved.rst', 'doc/source/conf.py', 'doc/source/install/install_and_configure_ubuntu.rst', 'doc/requirements.txt', 'doc/source/install/install_and_configure.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/7b47a2a7a4319503570d534cefa61758088918a3', 'message': ""Generate PDF documentation\n\nFor PDFLaTeX, remove the irrelevant parts (contributing,\nsearch) and those that break (full config examples).\nAdditionally, this replaces fancy quotes as they don't work\nin PDFLaTeX either (it handles regular quotes internally).\n\nChange-Id: I60459407e49a88c2231217152fc078346e5f4b4f\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",0,686357,7b47a2a7a4319503570d534cefa61758088918a3,20,4,3,26490,,,0,"Generate PDF documentation

For PDFLaTeX, remove the irrelevant parts (contributing,
search) and those that break (full config examples).
Additionally, this replaces fancy quotes as they don't work
in PDFLaTeX either (it handles regular quotes internally).

Change-Id: I60459407e49a88c2231217152fc078346e5f4b4f
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari refs/changes/57/686357/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,963a8d5870d079ce674f0592600cf57c1b431d8f,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,32,3
openstack%2Fplacement~master~I97157a1a581b319529f702d99f7f9765ed40e1f4,openstack/placement,master,I97157a1a581b319529f702d99f7f9765ed40e1f4,Changed minversion in tox to 3.18.0,ABANDONED,2021-08-13 03:34:27.000000000,2021-08-20 00:35:14.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-13 03:34:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/e5b806707fec4e389aa6f121773a8339442ead86', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I97157a1a581b319529f702d99f7f9765ed40e1f4\n""}]",0,804471,e5b806707fec4e389aa6f121773a8339442ead86,4,2,1,31412,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I97157a1a581b319529f702d99f7f9765ed40e1f4
",git fetch https://review.opendev.org/openstack/placement refs/changes/71/804471/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e5b806707fec4e389aa6f121773a8339442ead86,,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I3a154dbedd115d121bfc826513141c2d8be98508,openstack/python-tripleoclient,stable/wallaby,I3a154dbedd115d121bfc826513141c2d8be98508,Fetch stack after updating it,MERGED,2021-08-19 10:37:15.000000000,2021-08-20 00:30:20.000000000,2021-08-20 00:28:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-19 10:37:15.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13f7f2fc1059ad4baaef602ccc9d7588630caeb1', 'message': ""Fetch stack after updating it\n\nWe update the stack assuming that there would be no change\nduring upgrades. This does not allow blacklisting nodes\nduring upgrades.\n\nThis probably won't be relevant for master/wallaby with\nephemeral heat. Only proposed for backport to older branches.\n\nChange-Id: I3a154dbedd115d121bfc826513141c2d8be98508\n(cherry picked from commit 7dd1f6e26fa1e6ed587896a7ad2131397eb45024)\n""}]",0,805137,13f7f2fc1059ad4baaef602ccc9d7588630caeb1,9,4,1,8833,,,0,"Fetch stack after updating it

We update the stack assuming that there would be no change
during upgrades. This does not allow blacklisting nodes
during upgrades.

This probably won't be relevant for master/wallaby with
ephemeral heat. Only proposed for backport to older branches.

Change-Id: I3a154dbedd115d121bfc826513141c2d8be98508
(cherry picked from commit 7dd1f6e26fa1e6ed587896a7ad2131397eb45024)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/805137/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,13f7f2fc1059ad4baaef602ccc9d7588630caeb1,," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name"," stack = oooutils.get_stack(clients.orchestration, parsed_args.stack) stack_name = stack.stack_name ",3,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6403449c458609ca4874e5485d8a3326fcc9d87e,openstack/tripleo-heat-templates,stable/wallaby,I6403449c458609ca4874e5485d8a3326fcc9d87e,Change tests to run on ansible-core 2.11,MERGED,2021-08-18 10:44:19.000000000,2021-08-20 00:28:50.000000000,2021-08-20 00:28:50.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-18 10:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b067320555c6c4ed31427c013ed2de3d61eb64e2', 'message': 'Change tests to run on ansible-core 2.11\n\nChange-Id: I6403449c458609ca4874e5485d8a3326fcc9d87e\n'}, {'number': 2, 'created': '2021-08-18 12:18:35.000000000', 'files': ['test-ansible-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc15c764550c7b06518e83f4b6d09dadf2a17aeb', 'message': 'Change tests to run on ansible-core 2.11\n\nChange-Id: I6403449c458609ca4874e5485d8a3326fcc9d87e\n'}]",0,804991,fc15c764550c7b06518e83f4b6d09dadf2a17aeb,9,3,2,10969,,,0,"Change tests to run on ansible-core 2.11

Change-Id: I6403449c458609ca4874e5485d8a3326fcc9d87e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/804991/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-requirements.txt'],1,b067320555c6c4ed31427c013ed2de3d61eb64e2,2.11-stable/wallaby,ansible-core<2.12 # GPL,ansible>=2.8.6 # GPL,1,1
openstack%2Fnova~master~Ia6a13e3c25f4276a595026a4cda7944898da43b7,openstack/nova,master,Ia6a13e3c25f4276a595026a4cda7944898da43b7,api: Pass request to 'addresses' view builder,MERGED,2021-08-06 14:08:13.000000000,2021-08-19 23:25:55.000000000,2021-08-19 20:58:11.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-06 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35acae3b1a40adce5e2a311d4d49eff2d61017ee', 'message': ""api: Pass request to 'addresses' view builder\n\nWe'll need this to add some microversion-specific behavior in the near\nfuture. An out-of-date comment is removed.\n\nChange-Id: Ia6a13e3c25f4276a595026a4cda7944898da43b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-08-19 10:19:42.000000000', 'files': ['nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/ips.py', 'nova/api/openstack/compute/views/addresses.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0942163c829d79495223a91580c3fe7f43d67ccb', 'message': ""api: Pass request to 'addresses' view builder\n\nWe'll need this to add some microversion-specific behavior in the near\nfuture. An out-of-date comment is removed.\n\nChange-Id: Ia6a13e3c25f4276a595026a4cda7944898da43b7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,803753,0942163c829d79495223a91580c3fe7f43d67ccb,29,4,2,15334,,,0,"api: Pass request to 'addresses' view builder

We'll need this to add some microversion-specific behavior in the near
future. An out-of-date comment is removed.

Change-Id: Ia6a13e3c25f4276a595026a4cda7944898da43b7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/803753/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/ips.py', 'nova/api/openstack/compute/views/addresses.py']",3,35acae3b1a40adce5e2a311d4d49eff2d61017ee,bp/configurable-instance-hostnames," def basic(self, request, ip, extend_address=False): def show(self, request, network, label, extend_address=False): return { label: [self.basic(request, ip, extend_address) for ip in all_ips], } def index(self, request, networks, extend_address=False): network_dict = self.show(request, network, label, extend_address) return {'addresses': addresses}"," def basic(self, ip, extend_address=False): def show(self, network, label, extend_address=False): return {label: [self.basic(ip, extend_address) for ip in all_ips]} def index(self, networks, extend_address=False): network_dict = self.show(network, label, extend_address) return dict(addresses=addresses)",15,14
openstack%2Fglance~master~I060f22145d2915bfd0b0b3efc2912c24e89b9a30,openstack/glance,master,I060f22145d2915bfd0b0b3efc2912c24e89b9a30,Check download_image policy in the API,MERGED,2021-08-13 20:35:59.000000000,2021-08-19 22:35:06.000000000,2021-08-19 21:23:57.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-13 20:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/35c60ba7a5d47692fa864090f0dde27b51af5e08', 'message': ""Check download_image policy in the API\n\nNote that this adds a clause to the download exception handler which\nreturns 404 if the user can't download the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nAlso Cache middleware do not have any influence of policy refactoring.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I060f22145d2915bfd0b0b3efc2912c24e89b9a30\n""}, {'number': 2, 'created': '2021-08-16 19:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/69a83934df247c73e35e4b0fc1063c69f62ee56f', 'message': ""Check download_image policy in the API\n\nNote that this adds a clause to the download exception handler which\nreturns 404 if the user can't download the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nAlso Cache middleware do not have any influence of policy refactoring.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I060f22145d2915bfd0b0b3efc2912c24e89b9a30\n""}, {'number': 3, 'created': '2021-08-16 19:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/004402ed675ec8003973522429b03a9d4e7da336', 'message': ""Check download_image policy in the API\n\nNote that this adds a clause to the download exception handler which\nreturns 404 if the user can't download the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nAlso Cache middleware do not have any influence of policy refactoring.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I060f22145d2915bfd0b0b3efc2912c24e89b9a30\n""}, {'number': 4, 'created': '2021-08-17 17:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8f2b5ec5699df2df3e8e7ec264a67a21a0249433', 'message': ""Check download_image policy in the API\n\nNote that this adds a clause to the download exception handler which\nreturns 404 if the user can't download the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nAlso Cache middleware do not have any influence of policy refactoring.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I060f22145d2915bfd0b0b3efc2912c24e89b9a30\n""}, {'number': 5, 'created': '2021-08-18 09:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/25333dc7dff2ba065a2114a6b42d2d51daeb5f34', 'message': ""Check download_image policy in the API\n\nNote that this adds a clause to the download exception handler which\nreturns 404 if the user can't download the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nAlso Cache middleware do not have any influence of policy refactoring.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I060f22145d2915bfd0b0b3efc2912c24e89b9a30\n""}, {'number': 6, 'created': '2021-08-19 15:48:04.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/middleware/cache.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/6ffd80f9c0b15d3c2fdf17476c1a1348ea0705ce', 'message': ""Check download_image policy in the API\n\nNote that this adds a clause to the download exception handler which\nreturns 404 if the user can't download the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nAlso Cache middleware do not have any influence of policy refactoring.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I060f22145d2915bfd0b0b3efc2912c24e89b9a30\n""}]",13,804547,6ffd80f9c0b15d3c2fdf17476c1a1348ea0705ce,48,4,6,9303,,,0,"Check download_image policy in the API

Note that this adds a clause to the download exception handler which
returns 404 if the user can't download the image via policy, but leaves
the existing internal forbidden->403 handler because of how image
property protections work.

Also Cache middleware do not have any influence of policy refactoring.

Partially-Implements: blueprint policy-refactor

Change-Id: I060f22145d2915bfd0b0b3efc2912c24e89b9a30
",git fetch https://review.opendev.org/openstack/glance refs/changes/47/804547/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/middleware/cache.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",5,35c60ba7a5d47692fa864090f0dde27b51af5e08,policy-refactor," def test_download_image(self): self.policy.download_image() self.enforcer.enforce.assert_called_once_with(self.context, 'download_image', mock.ANY) ",,70,1
openstack%2Fpuppet-ironic~master~I5fc1d691642f184b6fdd4bfcba5314b3ea11b583,openstack/puppet-ironic,master,I5fc1d691642f184b6fdd4bfcba5314b3ea11b583,Deprecate invalid ironic_api_paste_ini,MERGED,2021-08-11 05:47:34.000000000,2021-08-19 22:14:44.000000000,2021-08-19 22:13:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 05:47:34.000000000', 'files': ['spec/classes/ironic_config_spec.rb', 'releasenotes/notes/deprecate-ironic_api_paste_ini-7100439884d6febe.yaml', 'lib/puppet/type/ironic_api_paste_ini.rb', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7f88e87fe814dbf7cb7152461a2d923a0eb80bee', 'message': 'Deprecate invalid ironic_api_paste_ini\n\nIronic has never used api-paste.ini but defines pipeline in code.\nThe ironic_api_paste_ini resource type to manage api-paste.ini is\ndeprecated because the resource is just invalid.\n\nChange-Id: I5fc1d691642f184b6fdd4bfcba5314b3ea11b583\n'}]",0,804199,7f88e87fe814dbf7cb7152461a2d923a0eb80bee,15,3,1,9816,,,0,"Deprecate invalid ironic_api_paste_ini

Ironic has never used api-paste.ini but defines pipeline in code.
The ironic_api_paste_ini resource type to manage api-paste.ini is
deprecated because the resource is just invalid.

Change-Id: I5fc1d691642f184b6fdd4bfcba5314b3ea11b583
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/99/804199/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_config_spec.rb', 'lib/puppet/type/ironic_api_paste_ini.rb', 'releasenotes/notes/deprecate-ironic_api_paste_ini-7100439884d6febe.yaml', 'manifests/config.pp']",4,7f88e87fe814dbf7cb7152461a2d923a0eb80bee,api-paste.ini,"# DEPRECATED PARAMETERS # # DEPRECATED PARAMETERS $ironic_api_paste_ini = undef, if $ironic_api_paste_ini != undef { warning('The ironic_api_paste_ini parameter is deprecated and has no effect') } "," $ironic_api_paste_ini = {}, validate_legacy(Hash, 'validate_hash', $ironic_api_paste_ini) create_resources('ironic_api_paste_ini', $ironic_api_paste_ini)",18,15
openstack%2Fwhitebox-tempest-plugin~master~If3c2e9647707b1d9604a38bb3090571bec6bf15a,openstack/whitebox-tempest-plugin,master,If3c2e9647707b1d9604a38bb3090571bec6bf15a,Remove needless api subdirectory,ABANDONED,2021-08-19 20:30:12.000000000,2021-08-19 22:07:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-19 20:30:12.000000000', 'files': ['whitebox_tempest_plugin/compute/test_nvdimm.py', 'whitebox_tempest_plugin/api/__init__.py', 'whitebox_tempest_plugin/compute/__init__.py', 'whitebox_tempest_plugin/compute/test_live_migration.py', 'whitebox_tempest_plugin/compute/test_multiqueue.py', 'whitebox_tempest_plugin/compute/test_validate_selinux_labels.py', 'README.rst', 'whitebox_tempest_plugin/compute/base.py', 'whitebox_tempest_plugin/compute/test_vpmu.py', 'whitebox_tempest_plugin/compute/test_sriov.py', 'whitebox_tempest_plugin/compute/test_cpu_model_extra_flags.py', 'whitebox_tempest_plugin/compute/test_virtio_rng.py', 'whitebox_tempest_plugin/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/compute/test_pointer_device_type.py', 'whitebox_tempest_plugin/compute/test_hw_video_type.py', 'whitebox_tempest_plugin/compute/test_virtio_scsi_attach.py', 'whitebox_tempest_plugin/compute/test_volume_encryption.py', 'whitebox_tempest_plugin/compute/test_vgpu.py', 'whitebox_tempest_plugin/compute/test_rx_tx_queue_size.py', 'whitebox_tempest_plugin/tests/test_base.py', 'whitebox_tempest_plugin/compute/test_file_backed_memory.py', 'whitebox_tempest_plugin/compute/test_volume_negative.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7d57dce3138084817d4f2a533008007b00d1ca94', 'message': 'Remove needless api subdirectory\n\nWhitebox does not distinguish between API and scenario tests. Remove\nthe pointless api subdirectory.\n\nChange-Id: If3c2e9647707b1d9604a38bb3090571bec6bf15a\n'}]",0,805294,7d57dce3138084817d4f2a533008007b00d1ca94,3,1,1,8864,,,0,"Remove needless api subdirectory

Whitebox does not distinguish between API and scenario tests. Remove
the pointless api subdirectory.

Change-Id: If3c2e9647707b1d9604a38bb3090571bec6bf15a
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/94/805294/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/compute/test_nvdimm.py', 'whitebox_tempest_plugin/api/__init__.py', 'whitebox_tempest_plugin/compute/__init__.py', 'whitebox_tempest_plugin/compute/test_live_migration.py', 'whitebox_tempest_plugin/compute/test_multiqueue.py', 'whitebox_tempest_plugin/compute/test_validate_selinux_labels.py', 'README.rst', 'whitebox_tempest_plugin/compute/base.py', 'whitebox_tempest_plugin/compute/test_vpmu.py', 'whitebox_tempest_plugin/compute/test_sriov.py', 'whitebox_tempest_plugin/compute/test_cpu_model_extra_flags.py', 'whitebox_tempest_plugin/compute/test_virtio_rng.py', 'whitebox_tempest_plugin/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/compute/test_pointer_device_type.py', 'whitebox_tempest_plugin/compute/test_hw_video_type.py', 'whitebox_tempest_plugin/compute/test_virtio_scsi_attach.py', 'whitebox_tempest_plugin/compute/test_volume_encryption.py', 'whitebox_tempest_plugin/compute/test_vgpu.py', 'whitebox_tempest_plugin/compute/test_rx_tx_queue_size.py', 'whitebox_tempest_plugin/tests/test_base.py', 'whitebox_tempest_plugin/compute/test_file_backed_memory.py', 'whitebox_tempest_plugin/compute/test_volume_negative.py']",22,7d57dce3138084817d4f2a533008007b00d1ca94,interface_change_rx_queue,from whitebox_tempest_plugin.compute import base,from whitebox_tempest_plugin.api.compute import base,26,25
openstack%2Fironic~stable%2Fwallaby~I4805d410b4bc98196e77d8c44a217e363dc88f0a,openstack/ironic,stable/wallaby,I4805d410b4bc98196e77d8c44a217e363dc88f0a,Retry stdlib ssl.SSLError,MERGED,2021-08-06 07:48:37.000000000,2021-08-19 21:04:22.000000000,2021-08-19 21:02:33.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-06 07:48:37.000000000', 'files': ['releasenotes/notes/sslerror-287edf7f8b3c5f1c.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d593c4f43c7dd17e4c782e28dab04707d7432383', 'message': ""Retry stdlib ssl.SSLError\n\nApparently, connection to the agent can fail with\n\n    Unexpected error when processing next clean step.\n    SSLError: ('timed out',): ssl.SSLError: ('timed out',)\n\nThis change adds SSLError to retriable errors since most of them are\nrelated to temporary conditions, and the certificate validation failure\nis handled by requests separately.\n\nChange-Id: I4805d410b4bc98196e77d8c44a217e363dc88f0a\n(cherry picked from commit 528eb9e4a99762dea5ef5e08f3dd42d459ce2d1c)\n""}]",0,803675,d593c4f43c7dd17e4c782e28dab04707d7432383,18,2,1,10239,,,0,"Retry stdlib ssl.SSLError

Apparently, connection to the agent can fail with

    Unexpected error when processing next clean step.
    SSLError: ('timed out',): ssl.SSLError: ('timed out',)

This change adds SSLError to retriable errors since most of them are
related to temporary conditions, and the certificate validation failure
is handled by requests separately.

Change-Id: I4805d410b4bc98196e77d8c44a217e363dc88f0a
(cherry picked from commit 528eb9e4a99762dea5ef5e08f3dd42d459ce2d1c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/803675/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/sslerror-287edf7f8b3c5f1c.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,d593c4f43c7dd17e4c782e28dab04707d7432383,sslerror-stable/wallaby,"import ssl self.client.session.post.side_effect = [ requests.Timeout(error), ssl.SSLError('timed out'), requests.ConnectionError(error), requests.Timeout(error)] ssl.SSLError('timed out'),"," self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), requests.Timeout(error), requests.Timeout(error)] requests.Timeout(error),",13,6
openstack%2Ftempest~master~I00a9cc48866e41c3c559628de5af4ba017beba39,openstack/tempest,master,I00a9cc48866e41c3c559628de5af4ba017beba39,Fix cleanup of default security group when preprov creds are used,MERGED,2021-08-10 13:33:39.000000000,2021-08-19 21:00:12.000000000,2021-08-19 20:58:07.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-08-10 13:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8278f7e73bb04fda309215371352ca4ac9acb52', 'message': 'Fix cleanup of default security group when preprov creds are used\n\nPatch [1] fixes cleanup of default security group for\ntempest.api.network.admin.test_negative_quotas.* tests but also\nintroduces a bug [2] that makes the tests fail when preprovisioned\ncredentials are used.\n\nThis patch reverts some changes from patch [1] and tries to\nfix the cleanup of default security group in a way that works\nalso for preprovisioned credentials.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/797466/7\n[2] https://bugs.launchpad.net/tempest/+bug/1939049\n\nCloses-Bug: 1939049\nChange-Id: I00a9cc48866e41c3c559628de5af4ba017beba39\n'}, {'number': 2, 'created': '2021-08-18 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/09bd7da986f1ae866765bde848b33147c23b721b', 'message': 'Fix cleanup of default security group when preprov creds are used\n\nPatch [1] fixes cleanup of default security group for\ntempest.api.network.admin.test_negative_quotas.* tests but also\nintroduces a bug [2] that makes the tests fail when preprovisioned\ncredentials are used.\n\nThis patch reverts some changes from patch [1] and tries to\nfix the cleanup of default security group in a way that works\nalso for preprovisioned credentials.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/797466/7\n[2] https://bugs.launchpad.net/tempest/+bug/1939049\n\nCloses-Bug: 1939049\nChange-Id: I00a9cc48866e41c3c559628de5af4ba017beba39\n'}, {'number': 3, 'created': '2021-08-18 14:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a6219885cd86f2d5b9a01db2f50aad510aeb91a', 'message': 'Fix cleanup of default security group when preprov creds are used\n\nPatch [1] fixes cleanup of default security group for\ntempest.api.network.admin.test_negative_quotas.* tests but also\nintroduces a bug [2] that makes the tests fail when preprovisioned\ncredentials are used.\n\nThis patch reverts some changes from patch [1] and tries to\nfix the cleanup of default security group in a way that works\nalso for preprovisioned credentials.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/797466/7\n[2] https://bugs.launchpad.net/tempest/+bug/1939049\n\nCloses-Bug: 1939049\nChange-Id: I00a9cc48866e41c3c559628de5af4ba017beba39\n'}, {'number': 4, 'created': '2021-08-19 07:52:17.000000000', 'files': ['tempest/lib/common/dynamic_creds.py', 'tempest/lib/common/cred_provider.py', 'tempest/api/network/admin/test_negative_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/10a649b098279220468532dfc92db3779fed492a', 'message': 'Fix cleanup of default security group when preprov creds are used\n\nPatch [1] fixes cleanup of default security group for\ntempest.api.network.admin.test_negative_quotas.* tests but also\nintroduces a bug [2] that makes the tests fail when preprovisioned\ncredentials are used.\n\nThis patch reverts some changes from patch [1] and tries to\nfix the cleanup of default security group in a way that works\nalso for preprovisioned credentials.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/797466/7\n[2] https://bugs.launchpad.net/tempest/+bug/1939049\n\nCloses-Bug: 1939049\nChange-Id: I00a9cc48866e41c3c559628de5af4ba017beba39\n'}]",2,804088,10a649b098279220468532dfc92db3779fed492a,17,3,4,30674,,,0,"Fix cleanup of default security group when preprov creds are used

Patch [1] fixes cleanup of default security group for
tempest.api.network.admin.test_negative_quotas.* tests but also
introduces a bug [2] that makes the tests fail when preprovisioned
credentials are used.

This patch reverts some changes from patch [1] and tries to
fix the cleanup of default security group in a way that works
also for preprovisioned credentials.

[1] https://review.opendev.org/c/openstack/tempest/+/797466/7
[2] https://bugs.launchpad.net/tempest/+bug/1939049

Closes-Bug: 1939049
Change-Id: I00a9cc48866e41c3c559628de5af4ba017beba39
",git fetch https://review.opendev.org/openstack/tempest refs/changes/88/804088/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/dynamic_creds.py', 'tempest/api/network/admin/test_negative_quotas.py']",2,b8278f7e73bb04fda309215371352ca4ac9acb52,fix/test_network_quota_exceeding," sec_client = self.os_admin.security_groups_client resp_body = sec_client.list_security_groups( tenant_id=self.project['id'], name=""default"") if resp_body['security_groups']: sec_group_id = resp_body['security_groups'][0]['id'] sec_client.delete_security_group(sec_group_id)", self.credentials_provider.cleanup_default_secgroup(self.project['id']),10,4
