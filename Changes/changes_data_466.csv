id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fnova~stable%2Fqueens~Ifa4df2bde2d9799727b29c63f2037fcd3eaa4b87,openstack/nova,stable/queens,Ifa4df2bde2d9799727b29c63f2037fcd3eaa4b87,stable-only: fix typo in IVS related privsep method,MERGED,2018-09-24 15:22:33.000000000,2018-10-08 13:26:32.000000000,2018-10-04 03:11:31.000000000,"[{'_account_id': 7}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 20751}, {'_account_id': 22255}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 15:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa5b51d6db0dd8bb4a41a34c1cd4caf215964d41', 'message': 'fix typo in IVS related privsep method\n\n - as part of this change [1], methods requiring root access for\n   IVS  were moved to a separate file\n - there was a typo that causes failure to plug VM interface\n - this fixes the typo\n\n[1] https://review.openstack.org/#/c/489438/\n\nChange-Id: Ifa4df2bde2d9799727b29c63f2037fcd3eaa4b87\nCloses-Bug: #1794126\n'}, {'number': 2, 'created': '2018-10-03 19:28:31.000000000', 'files': ['nova/privsep/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c9bd9ce6e0fe9eb6e8e2a16fe04615662a4f0f0', 'message': 'stable-only: fix typo in IVS related privsep method\n\n - as part of this change [1], methods requiring root access for\n   IVS  were moved to a separate file\n - there was a typo that causes failure to plug VM interface\n - this fixes the typo and includes the original file existence\n   check to the utility method\n\nThis is a stable-only change for Queens because the code in\nquestion was removed in Rocky [2].\n\n[1] Ic48087fdf283b3ba503294a944be91be0c338132\n[2] Icf948f6ee1c0da2327fb5eac61fec6e89ac30531\n\nChange-Id: Ifa4df2bde2d9799727b29c63f2037fcd3eaa4b87\nCloses-Bug: #1794126\n'}]",3,604817,0c9bd9ce6e0fe9eb6e8e2a16fe04615662a4f0f0,23,15,2,20751,,,0,"stable-only: fix typo in IVS related privsep method

 - as part of this change [1], methods requiring root access for
   IVS  were moved to a separate file
 - there was a typo that causes failure to plug VM interface
 - this fixes the typo and includes the original file existence
   check to the utility method

This is a stable-only change for Queens because the code in
question was removed in Rocky [2].

[1] Ic48087fdf283b3ba503294a944be91be0c338132
[2] Icf948f6ee1c0da2327fb5eac61fec6e89ac30531

Change-Id: Ifa4df2bde2d9799727b29c63f2037fcd3eaa4b87
Closes-Bug: #1794126
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/604817/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/privsep/libvirt.py'],1,aa5b51d6db0dd8bb4a41a34c1cd4caf215964d41,bug/1794126," disable_ipv6_path = ('/proc/sys/net/ipv6/conf/%s/disable_ipv6' % interface) if not os.path.exists(disable_ipv6_path): return with open(disable_ipv6_path, 'w') as f:"," with open('/proc/sys/net/ipv6/conf/%s/disable_ipv' % interface, 'w') as f:",4,1
openstack%2Fnova-specs~master~I768317dbf3f9bfaa57020fc2b1377ecb127ab10e,openstack/nova-specs,master,I768317dbf3f9bfaa57020fc2b1377ecb127ab10e,Specify doctree directory,ABANDONED,2018-09-18 15:32:03.000000000,2018-10-08 13:19:22.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-18 15:32:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/49274ab27d2d8972374fffa2fac9044c891d3970', 'message': 'Specify doctree directory\n\nSphinx 1.8 has changed where doctree directories are emitted. Rather\nthan hide this directory, simply specify where these files should go.\n\nChange-Id: I768317dbf3f9bfaa57020fc2b1377ecb127ab10e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,603421,49274ab27d2d8972374fffa2fac9044c891d3970,4,2,1,15334,,,0,"Specify doctree directory

Sphinx 1.8 has changed where doctree directories are emitted. Rather
than hide this directory, simply specify where these files should go.

Change-Id: I768317dbf3f9bfaa57020fc2b1377ecb127ab10e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/21/603421/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,49274ab27d2d8972374fffa2fac9044c891d3970,trivial,commands = sphinx-build -b html -d doc/build/doctrees doc/source doc/build/html,commands = sphinx-build -b html doc/source doc/build/html,1,1
openstack%2Fgovernance~master~Ifdb23c28a0c8a42542919dd02d8f459af324deec,openstack/governance,master,Ifdb23c28a0c8a42542919dd02d8f459af324deec,Use tox-docs for building,MERGED,2018-10-07 08:16:07.000000000,2018-10-08 13:19:18.000000000,2018-10-08 13:19:18.000000000,"[{'_account_id': 2472}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-07 08:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/cc0c700ece5af7cb24fd096c2d56c3ed719c8b7a', 'message': 'Use tox-docs for building\n\nSwitch docs to new PTI docs interface using tox-docs via\nthe template build-openstack-docs-pti.\n\nChange-Id: Ifdb23c28a0c8a42542919dd02d8f459af324deec\n'}, {'number': 2, 'created': '2018-10-07 08:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/deec7b2d0f6ce92f061ffe22b8714a0d974de4cf', 'message': 'Use tox-docs for building\n\nSwitch docs to new PTI docs interface using tox-docs via\nthe template build-openstack-docs-pti.\n\nNeeded-By: https://review.openstack.org/608443\nChange-Id: Ifdb23c28a0c8a42542919dd02d8f459af324deec\n'}, {'number': 3, 'created': '2018-10-07 08:33:10.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/governance/commit/9864d1504f74a8204a370e83a903ba5aa013ba2d', 'message': 'Use tox-docs for building\n\nSwitch docs to new PTI docs interface using tox-docs via\nthe template build-openstack-docs-pti.\n\nFix tox.ini to use proper output directory.\n\nWith this change, Zuul now uses ""tox -e docs"" for building\ndocumentation following the updated PTI.\n\nNeeded-By: https://review.openstack.org/608443\nChange-Id: Ifdb23c28a0c8a42542919dd02d8f459af324deec\n'}]",0,608442,9864d1504f74a8204a370e83a903ba5aa013ba2d,12,3,3,6547,,,0,"Use tox-docs for building

Switch docs to new PTI docs interface using tox-docs via
the template build-openstack-docs-pti.

Fix tox.ini to use proper output directory.

With this change, Zuul now uses ""tox -e docs"" for building
documentation following the updated PTI.

Needed-By: https://review.openstack.org/608443
Change-Id: Ifdb23c28a0c8a42542919dd02d8f459af324deec
",git fetch https://review.opendev.org/openstack/governance refs/changes/42/608442/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cc0c700ece5af7cb24fd096c2d56c3ed719c8b7a,code-change, - build-openstack-docs-pti, - build-openstack-sphinx-docs-python3,1,1
openstack%2Fgovernance~master~Ifbc6db87e41f01311b430080b97154d01708a2d4,openstack/governance,master,Ifbc6db87e41f01311b430080b97154d01708a2d4,Reverse sort order for resolution date globs,MERGED,2018-10-05 14:40:55.000000000,2018-10-08 13:17:58.000000000,2018-10-08 13:17:58.000000000,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 14:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7edd8cbef897aaab1945e8b04095d674f36bc144', 'message': ""Reverse sort order for resolution date globs\n\nSphinx 1.5 and later allows a :reversed: parameter for :glob:\ntoctrees. Since we're presenting our resolution index in reverse\nchronological order grouped by year, reversing the glob order keeps\nthe dates within each year consistently ordered as well. Yes, this\nis probably me being OCD.\n\nThe SIGs governance resolution file was inconsistently named,\nleading to it showing up outside the expected sort order. Rename the\nfile and add a permanent redirect from the old URL to the new one.\n\nRelated cleanup, the main index toctree was incorrectly marked as a\n:glob: even though it didn't use any wildcard patterns so has been\ncorrected.\n\nChange-Id: Ifbc6db87e41f01311b430080b97154d01708a2d4\n""}, {'number': 2, 'created': '2018-10-05 16:44:49.000000000', 'files': ['doc/source/index.rst', 'resolutions/superseded/index.rst', 'resolutions/index.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess', 'resolutions/20180319-sig-governance.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/b94da111e735cb34873cbadeadf47cfcb10eefc9', 'message': ""Reverse sort order for resolution date globs\n\nSphinx 1.5 and later allows a :reversed: parameter for :glob:\ntoctrees. Since we're presenting our resolution index in reverse\nchronological order grouped by year, reversing the glob order keeps\nthe dates within each year consistently ordered as well. Yes, this\nis probably me being OCD.\n\nThe SIGs governance resolution file was inconsistently named,\nleading to it showing up outside the expected sort order. Rename the\nfile and add a permanent redirect from the old URL to the new one.\n\nRelated cleanup, the main index toctree was incorrectly marked as a\n:glob: even though it didn't use any wildcard patterns so has been\ncorrected.\n\nChange-Id: Ifbc6db87e41f01311b430080b97154d01708a2d4\n""}]",2,608280,b94da111e735cb34873cbadeadf47cfcb10eefc9,13,5,2,5263,,,0,"Reverse sort order for resolution date globs

Sphinx 1.5 and later allows a :reversed: parameter for :glob:
toctrees. Since we're presenting our resolution index in reverse
chronological order grouped by year, reversing the glob order keeps
the dates within each year consistently ordered as well. Yes, this
is probably me being OCD.

The SIGs governance resolution file was inconsistently named,
leading to it showing up outside the expected sort order. Rename the
file and add a permanent redirect from the old URL to the new one.

Related cleanup, the main index toctree was incorrectly marked as a
:glob: even though it didn't use any wildcard patterns so has been
corrected.

Change-Id: Ifbc6db87e41f01311b430080b97154d01708a2d4
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/608280/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'resolutions/superseded/index.rst', 'resolutions/index.rst', 'doc/source/_extra/.htaccess', 'resolutions/20180319-sig-governance.rst']",5,7edd8cbef897aaab1945e8b04095d674f36bc144,code-change,,,9,2
openstack%2Fgovernance~master~I1ba63b4e2f72ccfd9876f646212acae8479eb5b5,openstack/governance,master,I1ba63b4e2f72ccfd9876f646212acae8479eb5b5,add Mohammed Naser as vice chair,MERGED,2018-10-03 15:32:36.000000000,2018-10-08 13:17:58.000000000,2018-10-08 13:17:58.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 15:32:36.000000000', 'files': ['reference/members'], 'web_link': 'https://opendev.org/openstack/governance/commit/0dd4fbdf014e321fb85a803e7c2da37a4e954dca', 'message': 'add Mohammed Naser as vice chair\n\nMohammed has agreed to serve as vice chair again this term.\n\nChange-Id: I1ba63b4e2f72ccfd9876f646212acae8479eb5b5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,607616,0dd4fbdf014e321fb85a803e7c2da37a4e954dca,16,8,1,2472,,,0,"add Mohammed Naser as vice chair

Mohammed has agreed to serve as vice chair again this term.

Change-Id: I1ba63b4e2f72ccfd9876f646212acae8479eb5b5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/16/607616/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/members'],1,0dd4fbdf014e321fb85a803e7c2da37a4e954dca,formal-vote,Mohammed Naser (mnaser) <mnaser@vexxhost.com> [April 2019] {vice chair},Mohammed Naser (mnaser) <mnaser@vexxhost.com> [April 2019],1,1
openstack%2Fdevstack~master~I208f2ed0ce288269708707f479e256d5f44e60b2,openstack/devstack,master,I208f2ed0ce288269708707f479e256d5f44e60b2,etcd3: Allow for multi-host deployments,ABANDONED,2018-07-11 12:53:14.000000000,2018-10-08 13:17:51.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-11 12:53:14.000000000', 'files': ['lib/etcd3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e7ca9eb088a00d9ad74e0d434aaa2701209bac30', 'message': ""etcd3: Allow for multi-host deployments\n\nThis reverts the accidental revert of 19279b0f8 that was introduced in\n146332e34. Without this, it's not possible to start the devstack@etcd\nservice on hosts other than SERVICE_HOST for the reasons illustrated in\nthe original commit.\n\nChange-Id: I208f2ed0ce288269708707f479e256d5f44e60b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1768185\n""}]",0,581727,e7ca9eb088a00d9ad74e0d434aaa2701209bac30,11,7,1,15334,,,0,"etcd3: Allow for multi-host deployments

This reverts the accidental revert of 19279b0f8 that was introduced in
146332e34. Without this, it's not possible to start the devstack@etcd
service on hosts other than SERVICE_HOST for the reasons illustrated in
the original commit.

Change-Id: I208f2ed0ce288269708707f479e256d5f44e60b2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1768185
",git fetch https://review.opendev.org/openstack/devstack refs/changes/27/581727/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/etcd3'],1,e7ca9eb088a00d9ad74e0d434aaa2701209bac30,bug/1768185," cmd+="" --advertise-client-urls http://$HOST_IP:$ETCD_PORT"" cmd+="" --listen-client-urls http://$HOST_IP:$ETCD_PORT"""," cmd+="" --advertise-client-urls http://$SERVICE_HOST:$ETCD_PORT"" cmd+="" --listen-client-urls http://$SERVICE_HOST:$ETCD_PORT""",2,2
openstack%2Fnova-powervm~master~I18be7fc2284387d2f4d492ca68de6091f4bb8b66,openstack/nova-powervm,master,I18be7fc2284387d2f4d492ca68de6091f4bb8b66,Fix message handling with VirtualInterfacePlugException class usage,MERGED,2018-10-04 16:40:49.000000000,2018-10-08 13:13:43.000000000,2018-10-08 13:13:43.000000000,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16551}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 16:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/30a994cd2dca8d6caa6ceac0f56821134c6a55be', 'message': ""Fix message handling with VirtualInterfacePlugException class usage\n\nWhen a VNIC attach fails, the actual error message thrown from the\nplatform gets swallowed in the console showing only the generic\nmessage in the exception class. This is due to the formatting\nstring passed to the exception class, though the\nVirtualInterfacePlugException class definition doesn't accept one.\n\nChange-Id: I18be7fc2284387d2f4d492ca68de6091f4bb8b66\nCloses-Bug: #1796072\n""}, {'number': 2, 'created': '2018-10-04 16:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/46b38430fed5c736dfcab3024104fe9d949676a0', 'message': ""Fix message handling with VirtualInterfacePlugException class usage\n\nWhen a VNIC attach fails, the actual error message thrown from the\nplatform gets swallowed in the console showing only the generic\nmessage in the exception class. This is due to the formatting\nstring passed to the exception class, though the\nVirtualInterfacePlugException class definition doesn't accept one.\n\nChange-Id: I18be7fc2284387d2f4d492ca68de6091f4bb8b66\nCloses-Bug: #1796072\n""}, {'number': 3, 'created': '2018-10-05 07:12:06.000000000', 'files': ['nova_powervm/virt/powervm/vif.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f7c7051ee98f5b61197b7e82cf5eb53d4ab7e68c', 'message': ""Fix message handling with VirtualInterfacePlugException class usage\n\nWhen a VNIC attach fails, the actual error message thrown from the\nplatform gets swallowed in the console showing only the generic\nmessage in the exception class. This is due to the formatting\nstring passed to the exception class, though the\nVirtualInterfacePlugException class definition doesn't accept one.\n\nChange-Id: I18be7fc2284387d2f4d492ca68de6091f4bb8b66\nCloses-Bug: #1796072\n""}]",6,608023,f7c7051ee98f5b61197b7e82cf5eb53d4ab7e68c,17,5,3,16551,,,0,"Fix message handling with VirtualInterfacePlugException class usage

When a VNIC attach fails, the actual error message thrown from the
platform gets swallowed in the console showing only the generic
message in the exception class. This is due to the formatting
string passed to the exception class, though the
VirtualInterfacePlugException class definition doesn't accept one.

Change-Id: I18be7fc2284387d2f4d492ca68de6091f4bb8b66
Closes-Bug: #1796072
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/23/608023/3 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/vif.py'],1,30a994cd2dca8d6caa6ceac0f56821134c6a55be,bug/1796072, raise exception.VirtualInterfacePlugException(he.args[0]) raise exception.VirtualInterfacePlugException(msg), raise exception.VirtualInterfacePlugException(reason=he.args[0]) raise exception.VirtualInterfacePlugException(message=msg),2,2
openstack%2Fopenstackdocstheme~master~I49cb01a34d069dc5f6d79c3b8e1307d1e0c78cf3,openstack/openstackdocstheme,master,I49cb01a34d069dc5f6d79c3b8e1307d1e0c78cf3,Generate more helpful version numbers,ABANDONED,2018-03-23 11:27:12.000000000,2018-10-08 13:12:37.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 11:27:12.000000000', 'files': ['openstackdocstheme/ext.py'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/762fa9d5d1207c7019189edfdb4730c208930ca4', 'message': ""Generate more helpful version numbers\n\npbr bases its version numbers on git tags and automatically increments\nthese version numbers when you make commits to a branch. For example,\nthe version of a branch whose last tag is '17.0.0' will be '17.0.0',\nwhile the version of that same branch with two additional commits will\nbe '17.0.1.dev2'. This is useful from a development context but is\nrather unusual from a documentation perspective, particularly on stable\nbranches, as this is not seen as the documentation for a future version\nbut rather the modified documentation for a past version.\n\nModify the behavior of the feature to transform the 'N+1.devM' suffix to\n'N-post', so '17.0.1.dev2' would become '17.0.0-post'.\n\nChange-Id: I49cb01a34d069dc5f6d79c3b8e1307d1e0c78cf3\n""}]",2,555742,762fa9d5d1207c7019189edfdb4730c208930ca4,5,2,1,15334,,,0,"Generate more helpful version numbers

pbr bases its version numbers on git tags and automatically increments
these version numbers when you make commits to a branch. For example,
the version of a branch whose last tag is '17.0.0' will be '17.0.0',
while the version of that same branch with two additional commits will
be '17.0.1.dev2'. This is useful from a development context but is
rather unusual from a documentation perspective, particularly on stable
branches, as this is not seen as the documentation for a future version
but rather the modified documentation for a past version.

Modify the behavior of the feature to transform the 'N+1.devM' suffix to
'N-post', so '17.0.1.dev2' would become '17.0.0-post'.

Change-Id: I49cb01a34d069dc5f6d79c3b8e1307d1e0c78cf3
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/42/555742/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/ext.py'],1,762fa9d5d1207c7019189edfdb4730c208930ca4,configure-version-author-license,"def _get_project_version(project_name): """"""Returns string version of the project, or None. Returns a version string of format 'X.Y.Z' or 'X.Y.Z-post'. """""" try: version = packaging.get_version(project_name) except Exception: return None if not version or 'dev' not in version: return version # get_version returns a string representation of the version. We need to # deconstruct this once again. version = pbr_version.SemanticVersion.from_pip_string(version) version = version.decrement() return '-'.join([version.brief_string(), 'post']) version = _get_project_version(project_name)", try: version = packaging.get_version(project_name) except Exception: version = None,22,4
openstack%2Fcharm-vault~master~Ic4e481452a46cc0500437113640509b387912ddc,openstack/charm-vault,master,Ic4e481452a46cc0500437113640509b387912ddc,Add action to generate root CA,MERGED,2018-09-25 13:34:37.000000000,2018-10-08 12:39:28.000000000,2018-10-08 12:39:28.000000000,"[{'_account_id': 935}, {'_account_id': 10068}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 29191}]","[{'number': 1, 'created': '2018-09-25 13:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b1fc51634b1d18f80cfc9c78e9857066b3dbe956', 'message': 'Add action to generate root CA\n\nAllows Vault to act as the root CA, rather than an intermediary CA.\nAlso adds an action to fetch the root CA certificate after the fact.\nAlso cleans up interaction with the relation by using the Endpoint refactor.\n\nChange-Id: Ic4e481452a46cc0500437113640509b387912ddc\nPartial-Bug: 1776976\nDepends-On: https://github.com/juju-solutions/interface-tls-certificates/pull/6\n'}, {'number': 2, 'created': '2018-09-27 18:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c694bcd1e12c4faf0f9f832dd7a9c4c7d89c8453', 'message': 'Add action to generate root CA\n\nAllows Vault to act as the root CA, rather than an intermediary CA.\nAlso adds an action to fetch the root CA certificate after the fact.\nAlso cleans up interaction with the relation by using the Endpoint refactor.\nAlso adds config option to enable automatic generation of the root CA.\n\nChange-Id: Ic4e481452a46cc0500437113640509b387912ddc\nPartial-Bug: 1776976\nDepends-On: https://github.com/juju-solutions/interface-tls-certificates/pull/6\nSigned-off-by: Cory Johns <johnsca@gmail.com>\n'}, {'number': 3, 'created': '2018-10-01 16:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/498d16b274d136c55dbfb82974a445049dfe705a', 'message': 'Add action to generate root CA\n\nAllows Vault to act as the root CA, rather than an intermediary CA.\nAlso adds an action to fetch the root CA certificate after the fact.\nAlso cleans up interaction with the relation by using the Endpoint refactor.\nAlso adds config option to enable automatic generation of the root CA.\n\nChange-Id: Ic4e481452a46cc0500437113640509b387912ddc\nPartial-Bug: 1776976\nDepends-On: https://github.com/juju-solutions/interface-tls-certificates/pull/6\nSigned-off-by: Cory Johns <johnsca@gmail.com>\n'}, {'number': 4, 'created': '2018-10-01 22:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d5177136e9dfbc394c3aadc7198cda7bd878386c', 'message': 'Add action to generate root CA\n\nAllows Vault to act as the root CA, rather than an intermediary CA.\nAlso adds an action to fetch the root CA certificate after the fact.\nAlso cleans up interaction with the relation by using the Endpoint refactor.\nAlso adds config option to enable automatic generation of the root CA.\n\nChange-Id: Ic4e481452a46cc0500437113640509b387912ddc\nPartial-Bug: 1776976\nDepends-On: https://github.com/juju-solutions/interface-tls-certificates/pull/6\nSigned-off-by: Cory Johns <johnsca@gmail.com>\n'}, {'number': 5, 'created': '2018-10-03 18:32:21.000000000', 'files': ['src/actions/generate-root-ca', 'src/config.yaml', 'src/actions/get-root-ca', 'unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'src/actions.yaml', 'src/actions/disable-pki', 'src/lib/charm/vault_pki.py', 'src/actions/actions.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/98684d7482bcb675ae0a6aeefbd0a3df138d0b9d', 'message': ""Add action to generate root CA\n\nAllows Vault to act as the root CA, rather than an intermediary CA.\n\nAdds an action to fetch the root CA certificate after the fact.\nCleans up interaction with the relation by using the Endpoint refactor.\nAdds config option to enable automatic generation of the root CA.\nIncreases timeout checking for Vault health to 5 min, since we've seen 4\nminute startup times in CI.\n\nChange-Id: Ic4e481452a46cc0500437113640509b387912ddc\nPartial-Bug: 1776976\nDepends-On: https://github.com/juju-solutions/interface-tls-certificates/pull/6\nSigned-off-by: Cory Johns <johnsca@gmail.com>\n""}]",2,605074,98684d7482bcb675ae0a6aeefbd0a3df138d0b9d,42,8,5,29191,,,0,"Add action to generate root CA

Allows Vault to act as the root CA, rather than an intermediary CA.

Adds an action to fetch the root CA certificate after the fact.
Cleans up interaction with the relation by using the Endpoint refactor.
Adds config option to enable automatic generation of the root CA.
Increases timeout checking for Vault health to 5 min, since we've seen 4
minute startup times in CI.

Change-Id: Ic4e481452a46cc0500437113640509b387912ddc
Partial-Bug: 1776976
Depends-On: https://github.com/juju-solutions/interface-tls-certificates/pull/6
Signed-off-by: Cory Johns <johnsca@gmail.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/74/605074/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/generate-root-ca', 'src/actions/get-root-ca', 'unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'src/actions.yaml', 'src/lib/charm/vault_pki.py', 'src/actions/actions.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",9,b1fc51634b1d18f80cfc9c78e9857066b3dbe956,bug/1776976," import hvac @patch.object(vault_pki, 'sort_sans') def test_generate_certificate(self, get_local_client, configure_pki_backend, is_ca_ready, sort_sans): client_mock.write.return_value = {'data': 'data'} sort_sans.side_effect = lambda l: (l[0], l[1]) write_calls = [ mock.call( 'charm-pki-local/issue/local', common_name='example.com', ), mock.call( 'charm-pki-local/issue/local', common_name='example.com', ip_sans='ip1', alt_names='alt1', ), mock.call( 'charm-pki-local/issue/local-client', common_name='example.com', ip_sans='ip1,ip2', alt_names='alt1,alt2', ), ] vault_pki.generate_certificate('server', 'example.com', ([], [])) vault_pki.generate_certificate('server', 'example.com', (['ip1'], ['alt1'])) vault_pki.generate_certificate('client', 'example.com', (['ip1', 'ip2'], ['alt1', 'alt2'])) client_mock.write.assert_has_calls(write_calls) def test_generate_certificate_not_ready(self, get_local_client, configure_pki_backend, is_ca_ready): client_mock = mock.MagicMock() get_local_client.return_value = client_mock is_ca_ready.return_value = False with self.assertRaises(vault_pki.vault.VaultNotReady): vault_pki.generate_certificate('server', 'exmaple.com', []) @patch.object(vault_pki, 'is_ca_ready') @patch.object(vault_pki, 'configure_pki_backend') @patch.object(vault_pki.vault, 'get_local_client') def test_generate_certificate_invalid_type(self, get_local_client, configure_pki_backend, is_ca_ready): with self.assertRaises(vault_pki.vault.VaultInvalidRequest): vault_pki.generate_certificate('unknown', 'exmaple.com', []) @patch.object(vault_pki, 'is_ca_ready') @patch.object(vault_pki, 'configure_pki_backend') def test_generate_certificate_invalid_request(self, get_local_client, configure_pki_backend, is_ca_ready): client_mock = mock.MagicMock() get_local_client.return_value = client_mock is_ca_ready.return_value = True client_mock.write.side_effect = hvac.exceptions.InvalidRequest with self.assertRaises(vault_pki.vault.VaultInvalidRequest): vault_pki.generate_certificate('server', 'exmaple.com', []) @patch.object(vault_pki, 'configure_pki_backend') @patch.object(vault_pki.vault, 'get_local_client') def test_get_csr(self, get_local_client, configure_pki_backend): def test_get_csr_explicit(self, get_local_client, configure_pki_backend): max_ttl='87598h', server_flag=True, client_flag=True), mock.call( 'charm-pki-local/roles/local-client', allowed_domains='exmaple.com', allow_subdomains=True, enforce_hostnames=False, allow_any_name=True, max_ttl='87598h', server_flag=False, client_flag=True), max_ttl='42h', server_flag=True, client_flag=True), mock.call( 'charm-pki-local/roles/local-client', allowed_domains='exmaple.com', allow_subdomains=False, enforce_hostnames=True, allow_any_name=False, max_ttl='42h', server_flag=False, client_flag=True), @patch.object(vault_pki.vault, 'get_access_address') @patch.object(vault_pki, 'is_ca_ready') @patch.object(vault_pki, 'configure_pki_backend') @patch.object(vault_pki.vault, 'get_local_client') def test_generate_root_ca(self, get_local_client, configure_pki_backend, is_ca_ready, get_access_address): mock_client = get_local_client.return_value mock_client.write.return_value = {'data': {'certificate': 'cert'}} is_ca_ready.return_value = False get_access_address.return_value = 'addr' rv = vault_pki.generate_root_ca(ttl='0h', allow_any_name=True, allowed_domains='domains', allow_bare_domains=True, allow_subdomains=True, allow_glob_domains=False, enforce_hostnames=True, max_ttl='0h') self.assertEqual(rv, 'cert') mock_client.write.assert_has_calls([ mock.call('charm-pki-local/root/generate/internal', common_name='Vault Root Certificate Authority ' '(charm-pki-local)', ttl='0h'), mock.call('charm-pki-local/config/urls', issuing_certificates='addr/v1/charm-pki-local/ca', crl_distribution_points='addr/v1/charm-pki-local/crl'), mock.call('charm-pki-local/roles/local', allow_any_name=True, allowed_domains='domains', allow_bare_domains=True, allow_subdomains=True, allow_glob_domains=False, enforce_hostnames=True, max_ttl='0h', server_flag=True, client_flag=True), mock.call('charm-pki-local/roles/local-client', allow_any_name=True, allowed_domains='domains', allow_bare_domains=True, allow_subdomains=True, allow_glob_domains=False, enforce_hostnames=True, max_ttl='0h', server_flag=False, client_flag=True), ]) @patch.object(vault_pki.vault, 'get_access_address') @patch.object(vault_pki, 'is_ca_ready') @patch.object(vault_pki, 'configure_pki_backend') @patch.object(vault_pki.vault, 'get_local_client') def test_generate_root_ca_already_init(self, get_local_client, configure_pki_backend, is_ca_ready, get_access_address): is_ca_ready.return_value = True with self.assertRaises(vault_pki.vault.VaultError): vault_pki.generate_root_ca() ","import datetime import jsonfrom cryptography.x509.extensions import ExtensionNotFound def test_get_server_certificate(self, get_local_client, configure_pki_backend, is_ca_ready): vault_pki.get_server_certificate('bob.example.com') client_mock.write.assert_called_once_with( 'charm-pki-local/issue/local', common_name='bob.example.com' ) def test_get_server_certificate_sans(self, get_local_client, configure_pki_backend, is_ca_ready): vault_pki.get_server_certificate( 'bob.example.com', ip_sans=['10.10.10.10', '192.197.45.23'], alt_names=['localunit', 'public.bob.example.com']) client_mock.write.assert_called_once_with( 'charm-pki-local/issue/local', alt_names='localunit,public.bob.example.com', common_name='bob.example.com', ip_sans='10.10.10.10,192.197.45.23' ) @patch.object(vault_pki.vault, 'is_backend_mounted') def test_get_csr(self, get_local_client, is_backend_mounted): is_backend_mounted.return_value = True @patch.object(vault_pki.vault, 'is_backend_mounted') def test_get_csr_config_backend(self, get_local_client, is_backend_mounted, configure_pki_backend): is_backend_mounted.return_value = False client_mock = mock.MagicMock() get_local_client.return_value = client_mock client_mock.write.return_value = { 'data': { 'csr': 'somecert'}} self.assertEqual(vault_pki.get_csr(), 'somecert') client_mock.write.assert_called_once_with( 'charm-pki-local/intermediate/generate/internal', common_name=('Vault Intermediate Certificate Authority' ' (charm-pki-local)'), ttl='87599h') configure_pki_backend.assert_called_once_with( client_mock, 'charm-pki-local') @patch.object(vault_pki.vault, 'is_backend_mounted') @patch.object(vault_pki.vault, 'get_local_client') def test_get_csr_explicit(self, get_local_client, is_backend_mounted): is_backend_mounted.return_value = False max_ttl='87598h') max_ttl='42h') @patch.object(vault_pki.hookenv, 'related_units') @patch.object(vault_pki.hookenv, 'relation_ids') @patch.object(vault_pki.hookenv, 'local_unit') def test_get_vault_units(self, local_unit, relation_ids, related_units): local_unit.return_value = 'vault/3' relation_ids.return_value = 'certificates:34' related_units.return_value = ['vault/1', 'vault/5'] self.assertEqual( vault_pki.get_vault_units(), ['vault/3', 'vault/1', 'vault/5']) def _get_matching_cert_from_relation(self, vault_relation, cert_match, func_args, expected_bundle, expected_newest_calls): self.patch_object(vault_pki.hookenv, 'relation_get') self.patch_object(vault_pki.hookenv, 'relation_id') self.patch_object(vault_pki, 'select_newest') self.patch_object(vault_pki, 'cert_matches_request') self.patch_object(vault_pki, 'get_vault_units') self.relation_get.side_effect = lambda unit, rid: vault_relation[unit] self.cert_matches_request.side_effect = \ lambda w, x, y, z: cert_match[w] self.get_vault_units.return_value = ['vault/3', 'vault/1', 'vault/5'] self.relation_id.return_value = 'certificates:23' self.select_newest.side_effect = lambda x: x[0] rget_calls = [ mock.call(unit='vault/3', rid='certificates:23'), mock.call(unit='vault/1', rid='certificates:23'), mock.call(unit='vault/5', rid='certificates:23')] self.assertEqual( vault_pki.get_matching_cert_from_relation(*func_args), expected_bundle) self.relation_get.assert_has_calls(rget_calls) self.select_newest.assert_called_once_with(expected_newest_calls) def test_get_matching_cert_from_relation(self): _rinfo = { 'vault/1': { 'keystone_0.server.cert': 'V1CERT', 'keystone_0.server.key': 'V1KEY'}, 'vault/3': {}, 'vault/5': {}, } _cmatch = { 'V1CERT': True } self._get_matching_cert_from_relation( _rinfo, _cmatch, ('keystone/0', 'ks.bob.com', ['10.0.0.23'], ['junit1.maas.local']), {'private_key': 'V1KEY', 'certificate': 'V1CERT'}, [{'private_key': 'V1KEY', 'certificate': 'V1CERT'}]) def test_get_matching_cert_from_relation_batch_single(self): _rinfo = { 'vault/1': {}, 'vault/3': { 'processed_requests': json.dumps({ 'ks.bob.com': { 'cert': 'V3CERT', 'key': 'V3KEY'}})}, 'vault/5': {}, } _cmatch = { 'V3CERT': True } self._get_matching_cert_from_relation( _rinfo, _cmatch, ('keystone/0', 'ks.bob.com', ['10.0.0.23'], ['junit1.maas.local']), {'private_key': 'V3KEY', 'certificate': 'V3CERT'}, [{'private_key': 'V3KEY', 'certificate': 'V3CERT'}]) def test_get_matching_cert_from_relation_batch_multi_one_match(self): _rinfo = { 'vault/1': {}, 'vault/3': { 'processed_requests': json.dumps({ 'ks.bob.com': { 'cert': 'V3CERT', 'key': 'V3KEY'}})}, 'vault/5': { 'processed_requests': json.dumps({ 'glance.bob.com': { 'cert': 'V5CERT', 'key': 'V5KEY'}})}, } _cmatch = { 'V3CERT': True } self._get_matching_cert_from_relation( _rinfo, _cmatch, ('keystone/0', 'ks.bob.com', ['10.0.0.23'], ['junit1.maas.local']), {'private_key': 'V3KEY', 'certificate': 'V3CERT'}, [{'private_key': 'V3KEY', 'certificate': 'V3CERT'}]) def test_get_matching_cert_from_relation_batch_multi_two_match(self): _rinfo = { 'vault/1': {}, 'vault/3': { 'processed_requests': json.dumps({ 'ks.bob.com': { 'cert': 'V3CERT', 'key': 'V3KEY'}})}, 'vault/5': { 'processed_requests': json.dumps({ 'ks.bob.com': { 'cert': 'V5CERT', 'key': 'V5KEY'}})}, } _cmatch = { 'V3CERT': True, 'V5CERT': True } self._get_matching_cert_from_relation( _rinfo, _cmatch, ('keystone/0', 'ks.bob.com', ['10.0.0.23'], ['junit1.maas.local']), {'private_key': 'V3KEY', 'certificate': 'V3CERT'}, [ {'private_key': 'V3KEY', 'certificate': 'V3CERT'}, {'private_key': 'V5KEY', 'certificate': 'V5CERT'}]) def test_get_matching_cert_from_relation_batch_multi_sans_mismatch(self): _rinfo = { 'vault/1': {}, 'vault/3': { 'processed_requests': json.dumps({ 'ks.bob.com': { 'cert': 'V3CERT', 'key': 'V3KEY'}})}, 'vault/5': { 'processed_requests': json.dumps({ 'ks.bob.com': { 'cert': 'V5CERT', 'key': 'V5KEY'}})}, } _cmatch = { 'V3CERT': False, 'V5CERT': True } self._get_matching_cert_from_relation( _rinfo, _cmatch, ('keystone/0', 'ks.bob.com', ['10.0.0.23'], ['junit1.maas.local']), {'private_key': 'V5KEY', 'certificate': 'V5CERT'}, [{'private_key': 'V5KEY', 'certificate': 'V5CERT'}]) @patch.object(vault_pki, 'certificate_information') def test_cert_matches_request(self, certificate_information): certificate_information.return_value = { 'cn': 'ks.bob.com', 'ip_sans': ['10.0.0.10'], 'alt_names': ['unit1.bob.com']} self.assertTrue( vault_pki.cert_matches_request( 'pem', 'ks.bob.com', ['10.0.0.10'], ['unit1.bob.com'])) @patch.object(vault_pki, 'certificate_information') def test_cert_matches_request_mismatch_cn(self, certificate_information): certificate_information.return_value = { 'cn': 'glance.bob.com', 'ip_sans': ['10.0.0.10'], 'alt_names': ['unit1.bob.com']} self.assertFalse( vault_pki.cert_matches_request( 'pem', 'ks.bob.com', ['10.0.0.10'], ['unit1.bob.com'])) @patch.object(vault_pki, 'certificate_information') def test_cert_matches_request_mismatch_ipsan(self, certificate_information): certificate_information.return_value = { 'cn': 'glance.bob.com', 'ip_sans': ['10.0.0.10', '10.0.0.20'], 'alt_names': ['unit1.bob.com']} self.assertFalse( vault_pki.cert_matches_request( 'pem', 'ks.bob.com', ['10.0.0.10'], ['unit1.bob.com'])) @patch.object(vault_pki, 'certificate_information') def test_cert_matches_request_cn_in_san(self, certificate_information): certificate_information.return_value = { 'cn': 'ks.bob.com', 'ip_sans': ['10.0.0.10'], 'alt_names': ['ks.bob.com', 'unit1.bob.com']} self.assertTrue( vault_pki.cert_matches_request( 'pem', 'ks.bob.com', ['10.0.0.10'], ['unit1.bob.com'])) @patch.object(vault_pki.x509, 'load_pem_x509_certificate') def test_certificate_information(self, load_pem_x509_certificate): x509_mock = mock.MagicMock(not_valid_after=""10 Mar 1976"") x509_name_mock = mock.MagicMock(value='ks.bob.com') x509_mock.subject.get_attributes_for_oid.return_value = [ x509_name_mock] x509_sans_mock = mock.MagicMock() sans = [ ['10.0.0.0.10'], ['sans1.bob.com']] x509_sans_mock.value.get_values_for_type = lambda x: sans.pop() x509_mock.extensions.get_extension_for_oid.return_value = \ x509_sans_mock load_pem_x509_certificate.return_value = x509_mock self.assertEqual( vault_pki.certificate_information('pem'), { 'cn': 'ks.bob.com', 'not_valid_after': '10 Mar 1976', 'ip_sans': ['10.0.0.0.10'], 'alt_names': ['sans1.bob.com']}) @patch.object(vault_pki.x509, 'load_pem_x509_certificate') def test_certificate_information_no_sans(self, load_pem_x509_certificate): x509_mock = mock.MagicMock(not_valid_after=""10 Mar 1976"") x509_name_mock = mock.MagicMock(value='ks.bob.com') x509_mock.subject.get_attributes_for_oid.return_value = [ x509_name_mock] x509_mock.extensions.get_extension_for_oid.side_effect = \ ExtensionNotFound('msg', 'oid') load_pem_x509_certificate.return_value = x509_mock self.assertEqual( vault_pki.certificate_information('pem'), { 'cn': 'ks.bob.com', 'not_valid_after': '10 Mar 1976', 'ip_sans': [], 'alt_names': []}) @patch.object(vault_pki.x509, 'load_pem_x509_certificate') def test_select_newest(self, load_pem_x509_certificate): def _load_pem_x509(pem): pem = pem.decode() cmock1 = mock.MagicMock( not_valid_after=datetime.datetime(2018, 5, 3)) cmock2 = mock.MagicMock( not_valid_after=datetime.datetime(2018, 5, 4)) cmock3 = mock.MagicMock( not_valid_after=datetime.datetime(2018, 5, 5)) certs = { 'cert1': cmock1, 'cert2': cmock2, 'cert3': cmock3} return certs[pem] load_pem_x509_certificate.side_effect = lambda x, y: _load_pem_x509(x) certs = [ {'certificate': 'cert1'}, {'certificate': 'cert2'}, {'certificate': 'cert3'}] self.assertEqual( vault_pki.select_newest(certs), {'certificate': 'cert3'}) @patch.object(vault_pki, 'get_matching_cert_from_relation') @patch.object(vault_pki, 'get_server_certificate') def test_process_cert_request(self, get_server_certificate, get_matching_cert_from_relation): get_matching_cert_from_relation.return_value = 'cached_bundle' self.assertEqual( vault_pki.process_cert_request( 'ks.bob.com', ['10.0.0.10', 'sans1.bob.com'], 'keystone_0', False), 'cached_bundle') get_matching_cert_from_relation.assert_called_once_with( 'keystone_0', 'ks.bob.com', ['10.0.0.10'], ['sans1.bob.com']) get_server_certificate.assert_not_called() @patch.object(vault_pki, 'get_matching_cert_from_relation') @patch.object(vault_pki, 'get_server_certificate') def test_process_cert_request_reissue(self, get_server_certificate, get_matching_cert_from_relation): get_server_certificate.return_value = 'new_bundle' self.assertEqual( vault_pki.process_cert_request( 'ks.bob.com', ['10.0.0.10', 'sans1.bob.com'], 'keystone_0', True), 'new_bundle') get_matching_cert_from_relation.assert_not_called() get_server_certificate.assert_called_once_with( 'ks.bob.com', ip_sans=['10.0.0.10'], alt_names=['sans1.bob.com'])",554,739
openstack%2Fmistral~master~Ib442fbb79b5c237d634586c3169cf8c7f595da1c,openstack/mistral,master,Ib442fbb79b5c237d634586c3169cf8c7f595da1c,Add entry point to allow for oslo.policy CLI usage,MERGED,2018-09-19 16:25:34.000000000,2018-10-08 12:33:22.000000000,2018-10-08 12:33:22.000000000,"[{'_account_id': 9712}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 16:25:34.000000000', 'files': ['mistral/api/access_control.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5e3cdec9183435fd1badcf6a9d5f2c7987e3ef10', 'message': 'Add entry point to allow for oslo.policy CLI usage\n\nThe oslo.policy library exposes entry points so that users can\ngenerate sample policy files and templates. The entry points do\nexpect some things to be done by the service in order to work,\nthough.\n\nThis commit adds an entry point for oslo.policy so that it can\nconsume an enforcer that has been initialized with mistrals\npolicies. The library will use this to generate useful things\nfor users like templates and sample policy files.\n\nChange-Id: Ib442fbb79b5c237d634586c3169cf8c7f595da1c\nCloses-Bug: 1793346\n'}]",0,603843,5e3cdec9183435fd1badcf6a9d5f2c7987e3ef10,9,3,1,5046,,,0,"Add entry point to allow for oslo.policy CLI usage

The oslo.policy library exposes entry points so that users can
generate sample policy files and templates. The entry points do
expect some things to be done by the service in order to work,
though.

This commit adds an entry point for oslo.policy so that it can
consume an enforcer that has been initialized with mistrals
policies. The library will use this to generate useful things
for users like templates and sample policy files.

Change-Id: Ib442fbb79b5c237d634586c3169cf8c7f595da1c
Closes-Bug: 1793346
",git fetch https://review.opendev.org/openstack/mistral refs/changes/43/603843/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/api/access_control.py', 'setup.cfg']",2,5e3cdec9183435fd1badcf6a9d5f2c7987e3ef10,bug/1793346,oslo.policy.enforcer = mistral = mistral.api.access_control:get_enforcer py_mini_racer = mistral.utils.javascript:PyMiniRacerEvaluator , py_mini_racer = mistral.utils.javascript:PyMiniRacerEvaluator,27,1
openstack%2Foslo.utils~master~I04dd5a7d0f6ec2920671dfa612439427dffefd52,openstack/oslo.utils,master,I04dd5a7d0f6ec2920671dfa612439427dffefd52,Fix exception raise at rpdb session,MERGED,2018-09-06 15:09:52.000000000,2018-10-08 12:32:57.000000000,2018-10-08 12:32:57.000000000,"[{'_account_id': 6928}, {'_account_id': 8478}, {'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27838}]","[{'number': 1, 'created': '2018-09-06 15:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c2ef42792589e4170e77a89b8cb114ff76daf5d1', 'message': 'Fix exception raise at rpdb session\n\nSome components raise unrelated exceptions during rpdb session due to\nunaware attribute handling of file-like objects\n\nChange-Id: I04dd5a7d0f6ec2920671dfa612439427dffefd52\nCloses-bug: #1791104\n'}, {'number': 2, 'created': '2018-09-07 07:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/d06784a0c9b2d574a83b5d66bfd657ec0b916d24', 'message': 'Fix exception raise at rpdb session\n\nSome components raise unrelated exceptions during rpdb session due to\nunaware attribute handling of file-like objects\n\nChange-Id: I04dd5a7d0f6ec2920671dfa612439427dffefd52\nCloses-bug: #1791104\n'}, {'number': 3, 'created': '2018-09-07 07:16:02.000000000', 'files': ['oslo_utils/encodeutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/6e0b90be22ccd1d22f937cb16128875a2e28746f', 'message': 'Fix exception raise at rpdb session\n\nSome components raise unrelated exceptions during rpdb session due to\nunaware attribute handling of file-like objects\n\nChange-Id: I04dd5a7d0f6ec2920671dfa612439427dffefd52\nCloses-bug: #1791104\n'}]",3,600465,6e0b90be22ccd1d22f937cb16128875a2e28746f,14,6,3,27838,,,0,"Fix exception raise at rpdb session

Some components raise unrelated exceptions during rpdb session due to
unaware attribute handling of file-like objects

Change-Id: I04dd5a7d0f6ec2920671dfa612439427dffefd52
Closes-bug: #1791104
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/65/600465/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/encodeutils.py'],1,c2ef42792589e4170e77a89b8cb114ff76daf5d1,bug/1791104," incoming = getattr(sys.stdin, 'encoding', None) or \ sys.getdefaultencoding() incoming = getattr(sys.stdin, 'encoding', None) or \ sys.getdefaultencoding()", incoming = (sys.stdin.encoding or sys.getdefaultencoding()) incoming = (sys.stdin.encoding or sys.getdefaultencoding()),4,4
openstack%2Fpython-novaclient~master~Icb97def5e4d65a31add7c60c205d5f9f0dfc4520,openstack/python-novaclient,master,Icb97def5e4d65a31add7c60c205d5f9f0dfc4520,Update the CLI reference,MERGED,2018-09-30 23:08:05.000000000,2018-10-08 12:31:56.000000000,2018-10-08 12:31:56.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-30 23:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/09530bbbce33468ebe6701618b29bf14f1de8688', 'message': 'Update the CLI reference\n\nUpdate the CLI reference according to the latest CLIs.\n\nThe CLI reference (doc/source/cli/nova.rst) has been imported\nfrom openstack-manuals since If19cfcafc90fddb930c124a5b9845d4eae1f6093.\nWe can update the CLI reference synchronously with changing the CLIs\ncurrently.\nSo remove the description of nova CLI version in the reference.\n\nChange-Id: Icb97def5e4d65a31add7c60c205d5f9f0dfc4520\nCloses-Bug: #1795283\n'}, {'number': 2, 'created': '2018-10-02 12:04:08.000000000', 'files': ['doc/source/cli/nova.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3b269568191948fa74abc2a5d0fbdc575f8c6ba2', 'message': 'Update the CLI reference\n\nUpdate the CLI reference according to the latest CLIs.\n\nThe CLI reference (doc/source/cli/nova.rst) has been imported\nfrom openstack-manuals since If19cfcafc90fddb930c124a5b9845d4eae1f6093.\nWe can update the CLI reference synchronously with changing the CLIs\ncurrently.\nSo remove the description of nova CLI version in the reference.\n\nChange-Id: Icb97def5e4d65a31add7c60c205d5f9f0dfc4520\nCloses-Bug: #1795283\n'}]",0,606871,3b269568191948fa74abc2a5d0fbdc575f8c6ba2,9,3,2,7634,,,0,"Update the CLI reference

Update the CLI reference according to the latest CLIs.

The CLI reference (doc/source/cli/nova.rst) has been imported
from openstack-manuals since If19cfcafc90fddb930c124a5b9845d4eae1f6093.
We can update the CLI reference synchronously with changing the CLIs
currently.
So remove the description of nova CLI version in the reference.

Change-Id: Icb97def5e4d65a31add7c60c205d5f9f0dfc4520
Closes-Bug: #1795283
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/71/606871/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova.rst'],1,09530bbbce33468ebe6701618b29bf14f1de8688,bug/1795283," [--collect-timing] [--os-auth-type <name>] [--os-auth-url OS_AUTH_URL] [--os-system-scope OS_SYSTEM_SCOPE]``flavor-update`` Update the description of an existing flavor. (Supported by API versions '2.55' - '2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] List hypervisors. (Supported by API versions '2.0' - '2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version]``instance-usage-audit-log`` List/Get server usage audits. (Supported by API versions '2.22' - '2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] (Supported by API versions '2.23' - '2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] (Supported by API versions '2.23' - '2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] (Supported by API versions '2.26' - '2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] [--key-name <key-name>] [--user-data <user-data>] [--description <description>] [--tags <tags>] [--return-reservation-id] Block device mapping in the format <dev-name>=<id>:<type>:<size(GiB)>:<delete-on-terminate>. block device in MB(for swap) and in GiB(for device of <size> GiB and format it to <format>.``--tags <tags>`` Tags for the server.Tags must be separated by commas: --tags <tag1,tag2> (Supported by API versions '2.52' - '2.latest') ``--return-reservation-id`` Return a reservation id bound to created servers. [--description <description>] Disk size in GiB. Ephemeral space size in GiB (default 0).``--description <description>`` A free form description of the flavor. Limited to 65535 characters in length. Only printable characters are allowed. (Supported by API versions '2.55' - '2.latest') .. versionadded:: 3.0.0 usage: nova host-evacuate [--target_host <target_host>] [--force] [--strict] <host> The hypervisor hostname (or pattern) to search for. .. warning:: Use a fully qualified domain name if you only want to evacuate from a specific host.``--strict`` Evacuate host with exact hypervisor hostname match [--strict] The hypervisor hostname (or pattern) to search for. .. warning:: Use a fully qualified domain name if you only want to live migrate from a specific host.``--strict`` live Evacuate host with exact hypervisor hostname match usage: nova host-meta [--strict] <host> <action> <key=value> [<key=value> ...] The hypervisor hostname (or pattern) to search for. .. warning:: Use a fully qualified domain name if you only want to update metadata for servers on a specific host.**Optional arguments:** ``--strict`` Set host-meta to the hypervisor with exact hostname match usage: nova host-servers-migrate [--strict] <host> The hypervisor hostname (or pattern) to search for. .. warning:: Use a fully qualified domain name if you only want to cold migrate from a specific host. **Optional arguments:** ``--strict`` Migrate host with exact hypervisor hostname match Name or ID of the hypervisor. Starting with microversion 2.53 the ID must be a UUID. Name or ID of the hypervisor. Starting with microversion 2.53 the ID must be a UUID... _nova_instance-usage-audit-log: nova instance-usage-audit-log ----------------------------- .. code-block:: console usage: nova instance-usage-audit-log [--before <before>] List/Get server usage audits. **Optional arguments:** ``--before <before>`` Filters the response by the date and time before which to list usage audits. The date and time stamp format is as follows: CCYY-MM-DD hh:mm:ss.NNNNNN ex 2015-08-27 09:49:58 or 2015-08-27 09:49:58.123456. [--fixed-ip <fixed_ip>] [--tag <tag>]``--tag <tag>`` Tag for the attached interface. (Supported by API versions '2.49' - '2.latest') .. versionadded:: 3.3.0 .. versionadded:: 3.3.0 usage: nova migrate [--host <host>] [--poll] <server>``--host <host>`` Destination host name. (Supported by API versions '2.56' - '2.latest') [--key-name <key-name>] [--key-unset] [--user-data <user-data>] [--user-data-unset]``--key-name <key-name>`` Keypair name to set in the server. Cannot be specified with the '--key-unset' option. (Supported by API versions '2.54' - '2.latest') ``--key-unset`` Unset keypair in the server. Cannot be specified with the '--key-name' option. (Supported by API versions '2.54' - '2.latest') ``--user-data <user-data>`` User data file to pass to be exposed by the metadata server. (Supported by API versions '2.57' - '2.latest') ``--user-data-unset`` Unset user_data in the server. Cannot be specified with the '--user-data' option. (Supported by API versions '2.57' - '2.latest')**Optional arguments:** .. versionadded:: 3.3.0 .. versionadded:: 3.3.0 .. versionadded:: 4.1.0 .. versionadded:: 4.1.0 .. versionadded:: 4.1.0 .. versionadded:: 4.1.0 .. versionadded:: 4.1.0 ID of service as a UUID. (Supported by API versions '2.53' - '2.latest') usage: nova service-disable [--reason <reason>] <id>``<id>`` ID of the service as a UUID. (Supported by API versions '2.53' - '2.latest') Reason for disabling the service. usage: nova service-enable <id>``<id>`` ID of the service as a UUID. (Supported by API versions '2.53' - '2.latest') usage: nova service-force-down [--unset] <id>.. versionadded:: 2.27.0 ``<id>`` ID of the service as a UUID. (Supported by API versions '2.53' - '2.latest') Unset the forced_down state of the service... versionadded:: 3.3.0 usage: nova volume-attach [--tag <tag>] <server> <volume> [<device>]**Optional arguments:** ``--tag <tag>`` Tag for the attached volume. (Supported by API versions '2.49' - '2.latest') .. _nova_bash-completion: nova bash-completion -------------------- .. code-block:: console usage: nova bash-completion Prints all of the commands and options to stdout so that the nova.bash_completion script doesn't have to hard code them.","This chapter documents :command:`nova` version ``9.0.1``. [--os-auth-type <name>] [--os-auth-url OS_AUTH_URL] List hypervisors. (Supported by API versions '2.0' - '2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] (Supported by API versions '2.22' -'2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] (Supported by API versions '2.23' -'2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] (Supported by API versions '2.23' -'2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] (Supported by API versions '2.26' -'2.latest') [hint: use '--os-compute-api-version' flag to show help message for proper version] [--file <dst-path=src-path>] [--key-name <key-name>] [--user-data <user-data>] [--description <description>]``--file <dst-path=src-path>`` Store arbitrary files from <src-path> locally to <dst-path> on the new server. Limited by the injected_files quota value. Block device mapping in the format <dev-name>=<id>:<type>:<size(GB)>:<delete-on-terminate>. block device in MB(for swap) and in GB(for device of <size> GB and format it to <format>. Disk size in GB. Ephemeral space size in GB (default 0). usage: nova host-evacuate [--target_host <target_host>] [--force] <host> Name of host. usage: nova host-meta <host> <action> <key=value> [<key=value> ...] Name of host. usage: nova host-servers-migrate <host> Name or ID of the hypervisor to show the details of. Name or ID of the hypervisor to show the uptime of. [--fixed-ip <fixed_ip>] usage: nova migrate [--poll] <server> [--injected-files <injected-files>] [--injected-file-content-bytes <injected-file-content-bytes>] [--injected-file-path-bytes <injected-file-path-bytes>]``--injected-files <injected-files>`` New value for the ""injected-files"" quota. ``--injected-file-content-bytes <injected-file-content-bytes>`` New value for the ""injected-file-content-bytes"" quota. ``--injected-file-path-bytes <injected-file-path-bytes>`` New value for the ""injected-file-path-bytes"" quota. [--injected-files <injected-files>] [--injected-file-content-bytes <injected-file-content-bytes>] [--injected-file-path-bytes <injected-file-path-bytes>]``--injected-files <injected-files>`` New value for the ""injected-files"" quota. ``--injected-file-content-bytes <injected-file-content-bytes>`` New value for the ""injected-file-content-bytes"" quota. ``--injected-file-path-bytes <injected-file-path-bytes>`` New value for the ""injected-file-path-bytes"" quota. [--file <dst-path=src-path>]``--file <dst-path=src-path>`` Store arbitrary files from <src-path> locally to <dst-path> on the new server. You may store up to 5 files. ID of service. usage: nova service-disable [--reason <reason>] <hostname> <binary>``<hostname>`` Name of host. ``<binary>`` Service binary. Reason for disabling service. usage: nova service-enable <hostname> <binary>``<hostname>`` Name of host. ``<binary>`` Service binary. usage: nova service-force-down [--unset] <hostname> <binary>``<hostname>`` Name of host. ``<binary>`` Service binary. Unset the force state down of service. usage: nova volume-attach <server> <volume> [<device>]",199,165
openstack%2Fpython-novaclient~master~I2c399490f320a202b41a8f8d36710a36621c4853,openstack/python-novaclient,master,I2c399490f320a202b41a8f8d36710a36621c4853,"Follow up ""Fix up userdata argument to rebuild""",MERGED,2018-10-04 03:22:16.000000000,2018-10-08 12:31:55.000000000,2018-10-08 12:31:55.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 03:22:16.000000000', 'files': ['novaclient/v2/shell.py', 'releasenotes/notes/fix-rebuild-userdata-9315e5784feb8ba9.yaml', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/47dc339ab9bb2985d750dae11d0b3b8b2c85d2b2', 'message': 'Follow up ""Fix up userdata argument to rebuild""\n\nThis patch is a follow-up patch for\nI9752d849aa0e6cf608db0def3ca89565cff4debc.\n\n* Add checking a message of an exception in the unit test\n* Add \'with\' statement when opening a file\n* Fix descriptions in the release note\n\nChange-Id: I2c399490f320a202b41a8f8d36710a36621c4853\n'}]",1,607800,47dc339ab9bb2985d750dae11d0b3b8b2c85d2b2,7,3,1,7634,,,0,"Follow up ""Fix up userdata argument to rebuild""

This patch is a follow-up patch for
I9752d849aa0e6cf608db0def3ca89565cff4debc.

* Add checking a message of an exception in the unit test
* Add 'with' statement when opening a file
* Fix descriptions in the release note

Change-Id: I2c399490f320a202b41a8f8d36710a36621c4853
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/00/607800/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/shell.py', 'releasenotes/notes/fix-rebuild-userdata-9315e5784feb8ba9.yaml', 'novaclient/tests/unit/v2/test_shell.py']",3,47dc339ab9bb2985d750dae11d0b3b8b2c85d2b2,followup_bug1794419," ex = self.assertRaises(exceptions.CommandError, self.run_command, cmd, api_version='2.57') self.assertIn(""Can't open '%(user_data)s': "" ""[Errno 2] No such file or directory: '%(user_data)s'"" % {'user_data': invalid_file}, six.text_type(ex))"," self.assertRaises(exceptions.CommandError, self.run_command, cmd, api_version='2.57')",14,7
openstack%2Fcharm-nova-cloud-controller~feature%2Fcellsv2~I67de8982ab8bbc635b98334cf967235e905ebac6,openstack/charm-nova-cloud-controller,feature/cellsv2,I67de8982ab8bbc635b98334cf967235e905ebac6,Fix assess status for super-conductor,ABANDONED,2018-08-03 13:51:56.000000000,2018-10-08 12:30:55.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-03 13:51:56.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e6ad0822246ed27d1ec9e715a5d62c91027e5d2b', 'message': 'Fix assess status for super-conductor\n\nIn a cells deployment its possible that the top-level\nnova-cloud-controller will have no compute nodes associated with it.\nThis change fixes the work load status in that scenario.\n\nThere is also a drive by fix to return empty contexts for the cell\ndb and amqp contexts if the relation do not yet exists.\n\nChange-Id: I67de8982ab8bbc635b98334cf967235e905ebac6\n'}]",0,588578,e6ad0822246ed27d1ec9e715a5d62c91027e5d2b,4,2,1,12549,,,0,"Fix assess status for super-conductor

In a cells deployment its possible that the top-level
nova-cloud-controller will have no compute nodes associated with it.
This change fixes the work load status in that scenario.

There is also a drive by fix to return empty contexts for the cell
db and amqp contexts if the relation do not yet exists.

Change-Id: I67de8982ab8bbc635b98334cf967235e905ebac6
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/78/588578/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py']",3,e6ad0822246ed27d1ec9e715a5d62c91027e5d2b,fix-status," 'compute': ['nova-compute', 'nova-cell-api'], # Add the cell context as its not used for rendering files, only for # assessing status. configs.register('', [nova_cc_context.NovaCellV2()]) if not db_rid: return {} if not amq_rid: return {}"," 'compute': ['nova-compute'],",28,3
openstack%2Foslo.cache~master~Iee39e1ab0a1dd282dd2d04a4cf95ae63685e658d,openstack/oslo.cache,master,Iee39e1ab0a1dd282dd2d04a4cf95ae63685e658d,Always build universal wheels,MERGED,2018-10-05 08:47:34.000000000,2018-10-08 12:10:59.000000000,2018-10-08 12:10:59.000000000,"[{'_account_id': 2472}, {'_account_id': 9257}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 08:47:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/77c36842842b8ca4cccc5f4d3c458e869ff9b48a', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Iee39e1ab0a1dd282dd2d04a4cf95ae63685e658d\n'}]",0,608183,77c36842842b8ca4cccc5f4d3c458e869ff9b48a,6,4,1,28522,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Iee39e1ab0a1dd282dd2d04a4cf95ae63685e658d
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/83/608183/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,77c36842842b8ca4cccc5f4d3c458e869ff9b48a,wheel,[bdist_wheel],[wheel],1,1
openstack%2Ftripleo-upgrade~master~I59387b201486fbc4c32c4146366881635ddca544,openstack/tripleo-upgrade,master,I59387b201486fbc4c32c4146366881635ddca544,SSH to node before validating services.,MERGED,2018-10-01 12:09:04.000000000,2018-10-08 12:07:59.000000000,2018-10-08 12:07:59.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-01 12:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4d0016eaa6d184c28ba0cf5f8930a1ef0769d332', 'message': ""SSH to node before validating services.\n\nHaving reply on SSH's port doesn't mean system is fully up\nand user can log in.\nTo be sure system is up-n-running ssh to machine and run command\nthere.\n\nChange-Id: I59387b201486fbc4c32c4146366881635ddca544\n""}, {'number': 2, 'created': '2018-10-01 14:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/880439a1ad0ace524d0f1db7391a660952b22d65', 'message': ""SSH to node before validating services.\n\nHaving reply on SSH's port doesn't mean system is fully up\nand user can log in.\nTo be sure system is up-n-running ssh to machine and run command\nthere.\nAdjust syntx for 'jq' call.\n\nChange-Id: I59387b201486fbc4c32c4146366881635ddca544\n""}, {'number': 3, 'created': '2018-10-04 10:54:38.000000000', 'files': ['tasks/common/undercloud_validate_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/204787bfd6f0faba7a2ad799404ac4fac3cb0f9a', 'message': ""SSH to node before validating services.\n\nHaving reply on SSH's port doesn't mean system is fully up\nand user can log in.\nTo be sure system is up-n-running ssh to machine and run command\nthere.\nAdjust syntx for 'jq' call.\n\nChange-Id: I59387b201486fbc4c32c4146366881635ddca544\n""}]",6,606934,204787bfd6f0faba7a2ad799404ac4fac3cb0f9a,22,6,3,21537,,,0,"SSH to node before validating services.

Having reply on SSH's port doesn't mean system is fully up
and user can log in.
To be sure system is up-n-running ssh to machine and run command
there.
Adjust syntx for 'jq' call.

Change-Id: I59387b201486fbc4c32c4146366881635ddca544
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/606934/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_validate_upgrade.yaml'],1,4d0016eaa6d184c28ba0cf5f8930a1ef0769d332,check-node-ssh," - name: check undercloud is ssh-able shell: id || echo ""NOT_READY"" register: id_ssh until: ""'{{ ansible_user }}' in id_ssh.stdout"" retries: 100 delay: 3 ",,7,0
openstack%2Ftooz~master~Ia417920a7600aacd43f17b95ecd6a34b5faa226b,openstack/tooz,master,Ia417920a7600aacd43f17b95ecd6a34b5faa226b,Ensure consistent encoding of strings for ID,MERGED,2018-09-11 16:25:39.000000000,2018-10-08 12:03:09.000000000,2018-10-08 12:03:09.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-11 16:25:39.000000000', 'files': ['tooz/drivers/memcached.py', 'tooz/drivers/etcd3.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/b5ebc60660f24e462ad5ee4aeb7028276f47d449', 'message': ""Ensure consistent encoding of strings for ID\n\nEnsure that ID's are correctly binary encoded when strings are\nprovided, resolving compatibility issues with Python 3.\n\nChange-Id: Ia417920a7600aacd43f17b95ecd6a34b5faa226b\nRelated-Bug: 1530888\n""}]",0,601632,b5ebc60660f24e462ad5ee4aeb7028276f47d449,7,3,1,935,,,0,"Ensure consistent encoding of strings for ID

Ensure that ID's are correctly binary encoded when strings are
provided, resolving compatibility issues with Python 3.

Change-Id: Ia417920a7600aacd43f17b95ecd6a34b5faa226b
Related-Bug: 1530888
",git fetch https://review.opendev.org/openstack/tooz refs/changes/32/601632/1 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/drivers/memcached.py', 'tooz/drivers/etcd3.py']",2,b5ebc60660f24e462ad5ee4aeb7028276f47d449,bug/1530888," return self.GROUP_PREFIX + utils.to_binary(group_id) + b""/"" return self._encode_group_id(group_id) + utils.to_binary(member_id)"," return self.GROUP_PREFIX + group_id + b""/"" return self._encode_group_id(group_id) + member_id",5,5
openstack%2Foslo.config~master~Ic5e5089a8ff62660392a92cfc9c0aa29d4d32e0a,openstack/oslo.config,master,Ic5e5089a8ff62660392a92cfc9c0aa29d4d32e0a,Always build universal wheels,MERGED,2018-10-05 11:52:58.000000000,2018-10-08 12:02:42.000000000,2018-10-08 12:02:42.000000000,"[{'_account_id': 708}, {'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 11:52:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3ed560af136c717fa2ccf81d93281106de35a904', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: Ic5e5089a8ff62660392a92cfc9c0aa29d4d32e0a\n'}]",0,608243,3ed560af136c717fa2ccf81d93281106de35a904,6,4,1,28522,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: Ic5e5089a8ff62660392a92cfc9c0aa29d4d32e0a
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/43/608243/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3ed560af136c717fa2ccf81d93281106de35a904,wheel,[bdist_wheel],[wheel],1,1
openstack%2Foslo.context~master~I04791f928c4818119085f207948fee1555978d13,openstack/oslo.context,master,I04791f928c4818119085f207948fee1555978d13,Always build universal wheels,MERGED,2018-10-05 12:04:17.000000000,2018-10-08 11:59:13.000000000,2018-10-08 11:59:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 12:04:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/b2b0f2c084e8ae067c59e0c4ed07c17e542fa376', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: I04791f928c4818119085f207948fee1555978d13\n'}]",0,608246,b2b0f2c084e8ae067c59e0c4ed07c17e542fa376,6,2,1,28522,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: I04791f928c4818119085f207948fee1555978d13
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/46/608246/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b2b0f2c084e8ae067c59e0c4ed07c17e542fa376,wheel,[bdist_wheel],[wheel],1,1
openstack%2Ftripleo-quickstart~master~I51bacd97d06f6252194ce39dbc3ea290b2c12bd7,openstack/tripleo-quickstart,master,I51bacd97d06f6252194ce39dbc3ea290b2c12bd7,Fix a broken link to go to how to enable the developer mode inside the basic usage page. The link to go to documentation to enable the developer mode is broken. Provided link: https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.htmlfordevmode Expected link: https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.html Closes-Bug: 1796090,MERGED,2018-10-04 13:40:17.000000000,2018-10-08 11:55:52.000000000,2018-10-06 00:14:31.000000000,"[{'_account_id': 9107}, {'_account_id': 9257}, {'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-04 13:40:17.000000000', 'files': ['doc/source/basic-usage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ce706a090944443205a4d4d444cc77296ed3c6ea', 'message': 'Fix a broken link to go to how to enable the developer mode inside the basic usage page.\nThe link to go to documentation to enable the developer mode\nis broken.\nProvided link: https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.htmlfordevmode\nExpected link: https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.html\nCloses-Bug: 1796090\n\nChange-Id: I51bacd97d06f6252194ce39dbc3ea290b2c12bd7\n'}]",0,607961,ce706a090944443205a4d4d444cc77296ed3c6ea,23,9,1,28522,,,0,"Fix a broken link to go to how to enable the developer mode inside the basic usage page.
The link to go to documentation to enable the developer mode
is broken.
Provided link: https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.htmlfordevmode
Expected link: https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.html
Closes-Bug: 1796090

Change-Id: I51bacd97d06f6252194ce39dbc3ea290b2c12bd7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/61/607961/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/basic-usage.rst'],1,ce706a090944443205a4d4d444cc77296ed3c6ea,bug/1796090,the `OpenStack Documentation for devmode <https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.html>`_,the `OpenStack Documentation <https://docs.openstack.org/tripleo-docs/latest/contributor/reproduce-ci.html for devmode>`_,2,3
openstack%2Foslo.messaging~master~I3369303d278af6154cdcf06b727e8ff941dc410a,openstack/oslo.messaging,master,I3369303d278af6154cdcf06b727e8ff941dc410a,always build universal wheels,MERGED,2018-10-04 15:03:38.000000000,2018-10-08 11:55:18.000000000,2018-10-05 16:29:34.000000000,"[{'_account_id': 2472}, {'_account_id': 9107}, {'_account_id': 9796}, {'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-04 15:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1a44787fbe01710bb9153dd01e91c3a9f7f5a221', 'message': 'always build universal wheels\n\nAll of our projects are pure python, so we can build universal wheels by default.\n\nChange-Id: I3369303d278af6154cdcf06b727e8ff941dc410a\n'}, {'number': 2, 'created': '2018-10-04 17:57:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e9ed47f41662340503df3ec0ad9f2a5d7479bd6b', 'message': 'always build universal wheels\n\nAll of our projects are pure python, so we can build universal wheels by default.\n\nChange-Id: I3369303d278af6154cdcf06b727e8ff941dc410a\n'}]",1,607980,e9ed47f41662340503df3ec0ad9f2a5d7479bd6b,10,7,2,28522,,,0,"always build universal wheels

All of our projects are pure python, so we can build universal wheels by default.

Change-Id: I3369303d278af6154cdcf06b727e8ff941dc410a
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/80/607980/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.cfg']",2,1a44787fbe01710bb9153dd01e91c3a9f7f5a221,wheel,[bdist_wheel],[wheel],2,2
openstack%2Fpuppet-ironic~stable%2Fpike~I5d8a534bf282cc6e544513c0051a556728be121d,openstack/puppet-ironic,stable/pike,I5d8a534bf282cc6e544513c0051a556728be121d,Move back beaker jobs,MERGED,2018-09-12 15:05:50.000000000,2018-10-08 11:47:47.000000000,2018-10-08 11:47:47.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-12 15:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/78e6acb63e1c99cafd99fd0cbde7d3b38c72bb47', 'message': ""Move back beaker jobs\n\nMoves back the beaker jobs as non-voting\nfor pike. The xenial job will fail we need\nto investigate why there's an issue with\nthe pike ironic on ubuntu xenial but this\ncan be changed back.\n\nChange-Id: I5d8a534bf282cc6e544513c0051a556728be121d\n""}, {'number': 2, 'created': '2018-10-04 09:19:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0ffe4e1bbaa751d88d01722176b9c35c02b1bc9e', 'message': ""Move back beaker jobs\n\nMoves back the beaker jobs as non-voting\nfor pike. The xenial job will fail we need\nto investigate why there's an issue with\nthe pike ironic on ubuntu xenial but this\ncan be changed back.\n\nChange-Id: I5d8a534bf282cc6e544513c0051a556728be121d\n""}]",0,602059,0ffe4e1bbaa751d88d01722176b9c35c02b1bc9e,14,4,2,16137,,,0,"Move back beaker jobs

Moves back the beaker jobs as non-voting
for pike. The xenial job will fail we need
to investigate why there's an issue with
the pike ironic on ubuntu xenial but this
can be changed back.

Change-Id: I5d8a534bf282cc6e544513c0051a556728be121d
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/59/602059/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,78e6acb63e1c99cafd99fd0cbde7d3b38c72bb47,602059, - puppet-openstack-beaker-jobs, check: jobs: - puppet-openstack-beaker-centos-7 - puppet-openstack-beaker-xenial: voting: false gate: jobs: - puppet-openstack-beaker-centos-7 - puppet-openstack-beaker-xenial: # TODO(AJaeger): Remove once jobs are removed # from project-config. voting: false ,1,13
openstack%2Foslo.config~master~Id23d7bbb38c6780621f09b2e24c0cc88831bdb1a,openstack/oslo.config,master,Id23d7bbb38c6780621f09b2e24c0cc88831bdb1a,Add release note and documentation for config validator,MERGED,2018-09-12 21:19:52.000000000,2018-10-08 11:40:07.000000000,2018-10-08 11:40:07.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28278}]","[{'number': 1, 'created': '2018-09-12 21:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/463fd32522e297d68466785fcd87d05fb13fea07', 'message': 'Add release note and documentation for config validator\n\nChange-Id: Id23d7bbb38c6780621f09b2e24c0cc88831bdb1a\n'}, {'number': 2, 'created': '2018-09-26 19:49:57.000000000', 'files': ['doc/source/cli/index.rst', 'doc/source/cli/validator.rst', 'releasenotes/notes/config-validator-256817f2183994fd.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/1f17b823e0fbe082db74f1707af3888cacc6a3e4', 'message': 'Add release note and documentation for config validator\n\nChange-Id: Id23d7bbb38c6780621f09b2e24c0cc88831bdb1a\n'}]",2,602169,1f17b823e0fbe082db74f1707af3888cacc6a3e4,12,6,2,6928,,,0,"Add release note and documentation for config validator

Change-Id: Id23d7bbb38c6780621f09b2e24c0cc88831bdb1a
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/69/602169/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/index.rst', 'doc/source/cli/validator.rst', 'releasenotes/notes/config-validator-256817f2183994fd.yaml']",3,463fd32522e297d68466785fcd87d05fb13fea07,config-validation,"--- features: - | A validator for config files is now available. When run against a config file, it will report an error for any options present that aren't defined in the service and will report a warning for any deprecated options in the file. In order to discover the available options for a service, it can either use the sample config generator configuration file or a machine-readable sample config generated elsewhere. ",,73,0
openstack%2Foslo.config~master~I7afe65c4abcbf8cdf1f5299ed3826c7205074e28,openstack/oslo.config,master,I7afe65c4abcbf8cdf1f5299ed3826c7205074e28,Add support for machine-readable files to validator,MERGED,2018-08-17 21:19:10.000000000,2018-10-08 11:40:06.000000000,2018-10-08 11:40:06.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-17 21:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a13b086147bf50c7477e3338d1c6ec0398719977', 'message': 'Add support for machine-readable files to validator\n\nIn some cases it may be easier to generate a machine-readable sample\nconfig file and use that to validate a config file instead of using\nthe config generator directly.\n\nChange-Id: I7afe65c4abcbf8cdf1f5299ed3826c7205074e28\n'}, {'number': 2, 'created': '2018-09-12 21:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/f6fef37765a3b3b46b416b35fd2cd88f1e2f6d3d', 'message': 'Add support for machine-readable files to validator\n\nIn some cases it may be easier to generate a machine-readable sample\nconfig file and use that to validate a config file instead of using\nthe config generator directly.\n\nChange-Id: I7afe65c4abcbf8cdf1f5299ed3826c7205074e28\n'}, {'number': 3, 'created': '2018-09-26 19:49:57.000000000', 'files': ['oslo_config/validator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/e3cd230c066e92397d6f91f13818daab49def1ac', 'message': 'Add support for machine-readable files to validator\n\nIn some cases it may be easier to generate a machine-readable sample\nconfig file and use that to validate a config file instead of using\nthe config generator directly.\n\nChange-Id: I7afe65c4abcbf8cdf1f5299ed3826c7205074e28\n'}]",0,593194,e3cd230c066e92397d6f91f13818daab49def1ac,13,4,3,6928,,,0,"Add support for machine-readable files to validator

In some cases it may be easier to generate a machine-readable sample
config file and use that to validate a config file instead of using
the config generator directly.

Change-Id: I7afe65c4abcbf8cdf1f5299ed3826c7205074e28
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/94/593194/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/validator.py'],1,a13b086147bf50c7477e3338d1c6ec0398719977,config-validation,"import yaml cfg.StrOpt( 'opt-data', help='Path to a YAML file containing definitions of options, as ' 'output by the config generator.'), if conf.namespace: groups = generator._get_groups(generator._list_opts(conf.namespace)) opt_data = generator._generate_machine_readable_data(groups, conf) elif conf.opt_data: with open(conf.opt_data) as f: opt_data = yaml.safe_load(f) else: # TODO(bnemec): Implement this logic with group? raise RuntimeError('Neither namespace or opt-data provided.')"," required=True, groups = generator._get_groups(generator._list_opts(conf.namespace)) opt_data = generator._generate_machine_readable_data(groups, conf)",14,3
openstack%2Foslo.config~master~I410b16ffcfb069140bd51dffaba7d56eada1a7e9,openstack/oslo.config,master,I410b16ffcfb069140bd51dffaba7d56eada1a7e9,Simple config validator,MERGED,2018-05-11 21:51:38.000000000,2018-10-08 11:33:04.000000000,2018-10-08 11:33:04.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8911}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-05-11 21:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/51c5eec800dbe941b5da64376080d6ecbc9c2516', 'message': 'WIP: Simple config validator\n\nThis is a very basic config validator that just reads the provided\nconfig file and compares it with the machine readable sample config\ndata from the config generator to find any options that are not\ndefined in the project or any deprecated options.\n\nChange-Id: I410b16ffcfb069140bd51dffaba7d56eada1a7e9\n'}, {'number': 2, 'created': '2018-05-14 19:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/db8fbe771856408a0dfbd9660e7664e54fcb3e99', 'message': 'WIP: Simple config validator\n\nThis is a very basic config validator that just reads the provided\nconfig file and compares it with the machine readable sample config\ndata from the config generator to find any options that are not\ndefined in the project or any deprecated options.\n\nChange-Id: I410b16ffcfb069140bd51dffaba7d56eada1a7e9\n'}, {'number': 3, 'created': '2018-08-17 21:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/5ca846e4d6a1c7af5afefebddff72ba7bf14b341', 'message': 'WIP: Simple config validator\n\nThis is a very basic config validator that just reads the provided\nconfig file and compares it with the machine readable sample config\ndata from the config generator to find any options that are not\ndefined in the project or any deprecated options.\n\nChange-Id: I410b16ffcfb069140bd51dffaba7d56eada1a7e9\n'}, {'number': 4, 'created': '2018-09-12 21:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/dd4778f67459f9238b014d877d7d8a9dc23f9900', 'message': 'Simple config validator\n\nThis is a very basic config validator that just reads the provided\nconfig file and compares it with the machine readable sample config\ndata from the config generator to find any options that are not\ndefined in the project. It will also warn about deprecated options\nin use in the provided file.\n\nChange-Id: I410b16ffcfb069140bd51dffaba7d56eada1a7e9\n'}, {'number': 5, 'created': '2018-09-26 19:49:57.000000000', 'files': ['oslo_config/validator.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/9362ccfa1ad909246eefa171397e7b9ef5ee6db6', 'message': 'Simple config validator\n\nThis is a very basic config validator that just reads the provided\nconfig file and compares it with the machine readable sample config\ndata from the config generator to find any options that are not\ndefined in the project. It will also warn about deprecated options\nin use in the provided file.\n\nChange-Id: I410b16ffcfb069140bd51dffaba7d56eada1a7e9\n'}]",2,567950,9362ccfa1ad909246eefa171397e7b9ef5ee6db6,24,6,5,6928,,,0,"Simple config validator

This is a very basic config validator that just reads the provided
config file and compares it with the machine readable sample config
data from the config generator to find any options that are not
defined in the project. It will also warn about deprecated options
in use in the provided file.

Change-Id: I410b16ffcfb069140bd51dffaba7d56eada1a7e9
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/50/567950/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/validator.py', 'setup.cfg']",2,51c5eec800dbe941b5da64376080d6ecbc9c2516,config-validation, oslo-config-validator = oslo_config.validator:main,,115,0
openstack%2Fpython-novaclient~master~I1b3736f25e59669624331d8f86820a45181c6760,openstack/python-novaclient,master,I1b3736f25e59669624331d8f86820a45181c6760,Update the contributor guide,MERGED,2018-10-01 10:04:17.000000000,2018-10-08 11:31:17.000000000,2018-10-08 11:31:17.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 10:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/58069cbaa1b96f8fa1cd983e655c80824f9ab756', 'message': 'Update the contributor guide\n\nAdd missing tox targets in contributor/testing.rst.\nReplace the launchpad link to nova project with\nthe launchpad link to python-novaclient project\nin contributor/index.rst.\n\nChange-Id: I1b3736f25e59669624331d8f86820a45181c6760\nCloses-Bug: #1795353\n'}, {'number': 2, 'created': '2018-10-02 12:03:35.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f22685f588fafc6846d6fb5ceabb7b0be5ce8270', 'message': 'Update the contributor guide\n\nAdd missing tox targets in contributor/testing.rst.\nReplace the launchpad link to nova project with\nthe launchpad link to python-novaclient project\nin contributor/index.rst.\n\nChange-Id: I1b3736f25e59669624331d8f86820a45181c6760\nCloses-Bug: #1795353\n'}]",0,606926,f22685f588fafc6846d6fb5ceabb7b0be5ce8270,11,4,2,7634,,,0,"Update the contributor guide

Add missing tox targets in contributor/testing.rst.
Replace the launchpad link to nova project with
the launchpad link to python-novaclient project
in contributor/index.rst.

Change-Id: I1b3736f25e59669624331d8f86820a45181c6760
Closes-Bug: #1795353
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/26/606926/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/contributor/index.rst']",2,58069cbaa1b96f8fa1cd983e655c80824f9ab756,bug/1795353,Code is hosted at `git.openstack.org`__. Submit bugs to the python-novaclient project on `Launchpad`__. Submit code to the `openstack/python-novaclient` project using `Gerrit`__.__ https://bugs.launchpad.net/python-novaclient,Code is hosted at `git.openstack.org`__. Submit bugs to the Nova project on `Launchpad`__. Submit code to the `openstack/python-novaclient` project using `Gerrit`__.__ https://launchpad.net/nova,13,7
openstack%2Foslo.i18n~master~If413df68ea4e3535f45e538c6dded4a2877edd99,openstack/oslo.i18n,master,If413df68ea4e3535f45e538c6dded4a2877edd99,Always build universal wheels,MERGED,2018-10-05 07:36:46.000000000,2018-10-08 11:29:51.000000000,2018-10-08 11:29:51.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 07:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/4598d17deeb4355e4bced6cf3004267607c13fbc', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: If413df68ea4e3535f45e538c6dded4a2877edd99\n'}, {'number': 2, 'created': '2018-10-05 08:44:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/d08ab879879e042436beefa56ac45d1a8c06ec5d', 'message': 'Always build universal wheels\n\nAll of our projects are pure python, so we can build\nuniversal wheels by default.\n\nChange-Id: If413df68ea4e3535f45e538c6dded4a2877edd99\n'}]",0,608174,d08ab879879e042436beefa56ac45d1a8c06ec5d,8,4,2,28522,,,0,"Always build universal wheels

All of our projects are pure python, so we can build
universal wheels by default.

Change-Id: If413df68ea4e3535f45e538c6dded4a2877edd99
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/74/608174/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4598d17deeb4355e4bced6cf3004267607c13fbc,wheel,[bdist wheel],[wheel],1,1
openstack%2Fmonasca-common~master~Idd29b6d5460510ec02ec10853a0809185e5823cd,openstack/monasca-common,master,Idd29b6d5460510ec02ec10853a0809185e5823cd,fix tox python3 overrides,MERGED,2018-09-29 23:51:04.000000000,2018-10-08 11:12:23.000000000,2018-10-08 11:12:23.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-09-29 23:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/09606f1e2ffd0f9c62f143f80799652252616741', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Idd29b6d5460510ec02ec10853a0809185e5823cd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-04 13:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/a91e05f75f7d7ea4fc837938243c3a93cd369b3f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Idd29b6d5460510ec02ec10853a0809185e5823cd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-10-04 15:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/cdd52aa4e47e1ccc3eb04919a1f2b9b10230c940', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Idd29b6d5460510ec02ec10853a0809185e5823cd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-10-05 08:13:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/3cdad50696a2d5809591afa99f1ef117bb46f4ba', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Idd29b6d5460510ec02ec10853a0809185e5823cd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606660,3cdad50696a2d5809591afa99f1ef117bb46f4ba,13,3,4,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Idd29b6d5460510ec02ec10853a0809185e5823cd
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/60/606660/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,09606f1e2ffd0f9c62f143f80799652252616741,python3-first,basepython = python3,basepython = python2.7,1,1
openstack%2Fos-traits~master~I222865cbec85d2da5ca7cd1ba5cfacf7f3f180e1,openstack/os-traits,master,I222865cbec85d2da5ca7cd1ba5cfacf7f3f180e1,Removed older version of python added 3.5,MERGED,2018-09-29 09:52:02.000000000,2018-10-08 11:08:47.000000000,2018-10-08 11:08:47.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 09:52:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/25ea3e4a679677183e88bcf1ad7200a2e9988cdd', 'message': 'Removed older version of python added 3.5\n\nIn setup.cfg file the python 3.5 is added\n\nChange-Id: I222865cbec85d2da5ca7cd1ba5cfacf7f3f180e1\n'}]",0,606370,25ea3e4a679677183e88bcf1ad7200a2e9988cdd,7,3,1,17499,,,0,"Removed older version of python added 3.5

In setup.cfg file the python 3.5 is added

Change-Id: I222865cbec85d2da5ca7cd1ba5cfacf7f3f180e1
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/70/606370/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,25ea3e4a679677183e88bcf1ad7200a2e9988cdd,, Programming Language :: Python :: 3.5, Programming Language :: Python :: 3.3 Programming Language :: Python :: 3.4,1,2
openstack%2Ftripleo-validations~stable%2Frocky~Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1,openstack/tripleo-validations,stable/rocky,Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1,Use containerized location of ironic inspector.conf for validation,MERGED,2018-10-05 23:38:33.000000000,2018-10-08 11:01:15.000000000,2018-10-08 11:01:15.000000000,"[{'_account_id': 9317}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 23:38:33.000000000', 'files': ['validations/switch-vlans.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4064fb713c7c717683e9d8e926634b6a6b8dff23', 'message': 'Use containerized location of ironic inspector.conf for validation\n\nThis uses the containerized location of inspector.conf in the switch-vlans\nvalidation, it is no longer available at /etc/ironic-inspector/inspector.conf.\n\nChange-Id: Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1\n(cherry picked from commit a178605986557a32816196066950e42dda4fcac0)\n'}]",0,608384,4064fb713c7c717683e9d8e926634b6a6b8dff23,7,4,1,21909,,,0,"Use containerized location of ironic inspector.conf for validation

This uses the containerized location of inspector.conf in the switch-vlans
validation, it is no longer available at /etc/ironic-inspector/inspector.conf.

Change-Id: Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1
(cherry picked from commit a178605986557a32816196066950e42dda4fcac0)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/84/608384/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/switch-vlans.yaml'],1,4064fb713c7c717683e9d8e926634b6a6b8dff23,ironic-container-stable/rocky, ini: path=/var/lib/config-data/ironic_inspector/etc/ironic-inspector/inspector.conf section=swift key=auth_url ini: path=/var/lib/config-data/ironic_inspector/etc/ironic-inspector/inspector.conf section=swift key=password, ini: path=/etc/ironic-inspector/inspector.conf section=swift key=auth_url ini: path=/etc/ironic-inspector/inspector.conf section=swift key=password,2,2
openstack%2Fkolla-ansible~master~I90d2380b610d3caa988ee667e7c42511d3bbd937,openstack/kolla-ansible,master,I90d2380b610d3caa988ee667e7c42511d3bbd937,Fix bug in deploying ceilometer using dev mode,MERGED,2018-10-03 02:10:53.000000000,2018-10-08 10:59:31.000000000,2018-10-08 10:59:30.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23303}, {'_account_id': 23717}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-10-03 02:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/153b6bbf84d88f5b94ebb0e184881d4cea1211be', 'message': 'Fix bug in deploying ceilometer using dev mode\n\nSince the configuration file of the panko module was referenced as a\nvariable during the deployment of the ceilometer module, the\nproject_name variable of the ceilometer module was overwritten,\nresulting in an error when deploying the ceilometer module using the\ndevelopment mode. This patch will fix this problem.\n\nChange-Id: I90d2380b610d3caa988ee667e7c42511d3bbd937\nCloses-Bug: #1795770\n'}, {'number': 2, 'created': '2018-10-03 03:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dc13b6388b6358e19e93b5595915f20574fcaf3', 'message': 'Fix bug in deploying ceilometer using dev mode\n\nSince the configuration file of the panko module was referenced as a\nvariable during the deployment of the ceilometer module, the\nproject_name variable of the ceilometer module was overwritten,\nresulting in an error when deploying the ceilometer module using the\ndevelopment mode. This patch will fix this problem.\n\nChange-Id: I90d2380b610d3caa988ee667e7c42511d3bbd937\nCloses-Bug: #1795770\n'}, {'number': 3, 'created': '2018-10-08 01:51:36.000000000', 'files': ['ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/ceilometer/tasks/clone.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a1c906435eecf9454cf9a91b5e4fd09f23f7df1', 'message': 'Fix bug in deploying ceilometer using dev mode\n\nSince the configuration file of the panko module was referenced as a\nvariable during the deployment of the ceilometer module, the\nproject_name variable of the ceilometer module was overwritten,\nresulting in an error when deploying the ceilometer module using the\ndevelopment mode. This patch will fix this problem.\n\nChange-Id: I90d2380b610d3caa988ee667e7c42511d3bbd937\nCloses-Bug: #1795770\n'}]",3,607448,9a1c906435eecf9454cf9a91b5e4fd09f23f7df1,21,5,3,23303,,,0,"Fix bug in deploying ceilometer using dev mode

Since the configuration file of the panko module was referenced as a
variable during the deployment of the ceilometer module, the
project_name variable of the ceilometer module was overwritten,
resulting in an error when deploying the ceilometer module using the
development mode. This patch will fix this problem.

Change-Id: I90d2380b610d3caa988ee667e7c42511d3bbd937
Closes-Bug: #1795770
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/607448/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/ceilometer/tasks/clone.yml']",2,153b6bbf84d88f5b94ebb0e184881d4cea1211be,bug/1795770," dest: ""{{ kolla_dev_repos_directory }}/ceilometer"""," dest: ""{{ kolla_dev_repos_directory }}/{{ project_name }}""",2,2
openstack%2Foslotest~master~Idf29423516692da939f2bafb96018e35956ee9d4,openstack/oslotest,master,Idf29423516692da939f2bafb96018e35956ee9d4,Fix nits in timeout change,MERGED,2018-09-24 20:12:38.000000000,2018-10-08 10:58:09.000000000,2018-10-08 10:58:09.000000000,"[{'_account_id': 2}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 20:12:38.000000000', 'files': ['oslotest/timeout.py', 'releasenotes/notes/timeout-scaling-52741beadde528e5.yaml'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/a381d7275ba4f323993b02524ef5d090d4941892', 'message': 'Fix nits in timeout change\n\nJust a typo and comment update.\n\nChange-Id: Idf29423516692da939f2bafb96018e35956ee9d4\n'}]",0,604892,a381d7275ba4f323993b02524ef5d090d4941892,7,3,1,6928,,,0,"Fix nits in timeout change

Just a typo and comment update.

Change-Id: Idf29423516692da939f2bafb96018e35956ee9d4
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/92/604892/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslotest/timeout.py', 'releasenotes/notes/timeout-scaling-52741beadde528e5.yaml']",2,a381d7275ba4f323993b02524ef5d090d4941892,604616," New class variable, ``DEFAULT_TIMEOUT`` was added that lets test suite"," New class varable, ``DEFAULT_TIMEOUT`` was added that lets test suite",2,2
openstack%2Fheat~master~I7eaf3039b2c1c54a5b37add7f54f05fd11493670,openstack/heat,master,I7eaf3039b2c1c54a5b37add7f54f05fd11493670,Imported Translations from Zanata,MERGED,2018-10-08 06:24:08.000000000,2018-10-08 10:57:23.000000000,2018-10-08 10:57:22.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-08 06:24:08.000000000', 'files': ['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/a7dce8178f2bd6f308cc9182e48ac4e2d4445103', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7eaf3039b2c1c54a5b37add7f54f05fd11493670\n'}]",0,608583,a7dce8178f2bd6f308cc9182e48ac4e2d4445103,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7eaf3039b2c1c54a5b37add7f54f05fd11493670
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/608583/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po']",11,a7dce8178f2bd6f308cc9182e48ac4e2d4445103,zanata/translations,"""POT-Creation-Date: 2018-10-05 22:20+0000\n""","""POT-Creation-Date: 2018-08-10 05:51+0000\n""""Toggle to enable/disable caching when Orchestration Engine validates "" ""property constraints of stack.During property validation with constraints "" ""Orchestration Engine caches requests to other OpenStack services. Please "" ""note that the global toggle for oslo.cache(enabled=True in [cache] group) "" ""must be enabled to use this feature."" msgstr """" ""Conmute para habilitar/deshabilitar el almacenamiento en memoria caché "" ""cuando el motor de orquestación valide las restricciones de las propiedades "" ""de la pila. Durante la validación de propiedades con restricciones, el motor "" ""de orquestación capta solicitudes dirigidas a otros servicios de OpenStack. "" ""Observe que el conmutador global para oslo.cache(enabled=True del grupo "" ""[cache]) debe estar habilitado para poder utilizar esta característica."" msgid """"",14,144
openstack%2Fheat~master~I7663b2270bf325cd8e3dd194f2994227fd6f5e8a,openstack/heat,master,I7663b2270bf325cd8e3dd194f2994227fd6f5e8a,Fail to release a stack_lock in the database is a fatal action.,MERGED,2018-08-14 18:20:25.000000000,2018-10-08 10:57:20.000000000,2018-10-08 10:57:19.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 15435}, {'_account_id': 22348}, {'_account_id': 22776}]","[{'number': 1, 'created': '2018-08-14 18:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/afa7d43e14930a04ab0061734235575141b5e79d', 'message': 'Fail to release a stack_lock in the database is a fatal action.\n\nWhen a heat-engine thread activity completes, it calls release on\nits stack_lock object in the database. If that release action fails\ndue to an inability to update the database, that engine process is no\nlonger usable. This code catches that failure, logs it, and terminates\nthat engine process so that a new one can be started. New heat engines\nwill automatically purge stale stack_locks from the database.\n\nThis bug is very timing specific. The DB error needs to exist when the\nstack_lock release fails\n\nChange-Id: I7663b2270bf325cd8e3dd194f2994227fd6f5e8a\nStory: 2003439\nTask: 24635\n'}, {'number': 2, 'created': '2018-09-14 18:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0921a15b904c5fd37967b5d8d67d41725a787496', 'message': 'Fail to release a stack_lock in the database is a fatal action.\n\nWhen a heat-engine thread activity completes, it calls release on\nits stack_lock object in the database. If that release action fails\ndue to an inability to update the database, that engine process is no\nlonger usable. This code catches that failure, logs it, and terminates\nthat engine process so that a new one can be started. New heat engines\nwill automatically purge stale stack_locks from the database.\nAlso, make sure that if the thread exit does not teardown the process\nafter 1 second, the non blockable os level exit call will be invoked.\n\nThis bug is very timing specific. The DB error needs to exist when the\nstack_lock release fails\n\nChange-Id: I7663b2270bf325cd8e3dd194f2994227fd6f5e8a\nStory: 2003439\nTask: 24635\n'}, {'number': 3, 'created': '2018-09-19 18:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c1a75154843aa254abed5b8ec34d565e0b077d09', 'message': 'Fail to release a stack_lock in the database is a fatal action.\n\nWhen a heat-engine thread activity completes, it calls release on\nits stack_lock object in the database. If that release action fails\ndue to an inability to update the database, that engine process is no\nlonger usable. This code catches that failure, logs it, and terminates\nthat engine process so that a new one can be started. New heat engines\nwill automatically purge stale stack_locks from the database.\nAlso, make sure that if the thread exit does not teardown the process\nafter 1 second, the non blockable os level exit call will be invoked.\n\nThis bug is very timing specific. The DB error needs to exist when the\nstack_lock release fails\n\nChange-Id: I7663b2270bf325cd8e3dd194f2994227fd6f5e8a\nStory: 2003439\nTask: 24635\n'}, {'number': 4, 'created': '2018-09-19 18:19:34.000000000', 'files': ['heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d7daa3438d72aee2343cae47a4e76edba7b52197', 'message': 'Fail to release a stack_lock in the database is a fatal action.\n\nWhen a heat-engine thread activity completes, it calls release on\nits stack_lock object in the database. If that release action fails\ndue to an inability to update the database, that engine process is no\nlonger usable. This code catches that failure, logs it, and terminates\nthat engine process so that a new one can be started. New heat engines\nwill automatically purge stale stack_locks from the database.\nAlso, make sure that if the thread exit does not teardown the process\nafter 5 seconds, the non blockable os level exit call will be invoked.\n\nThis bug is very timing specific. The DB error needs to exist when the\nstack_lock release fails\n\nChange-Id: I7663b2270bf325cd8e3dd194f2994227fd6f5e8a\nStory: 2003439\nTask: 24635\n'}]",2,591817,d7daa3438d72aee2343cae47a4e76edba7b52197,20,7,4,22776,,,0,"Fail to release a stack_lock in the database is a fatal action.

When a heat-engine thread activity completes, it calls release on
its stack_lock object in the database. If that release action fails
due to an inability to update the database, that engine process is no
longer usable. This code catches that failure, logs it, and terminates
that engine process so that a new one can be started. New heat engines
will automatically purge stale stack_locks from the database.
Also, make sure that if the thread exit does not teardown the process
after 5 seconds, the non blockable os level exit call will be invoked.

This bug is very timing specific. The DB error needs to exist when the
stack_lock release fails

Change-Id: I7663b2270bf325cd8e3dd194f2994227fd6f5e8a
Story: 2003439
Task: 24635
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/591817/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service.py'],1,afa7d43e14930a04ab0061734235575141b5e79d,stx-bug-fix,"import sys try: lock.release() except Exception: LOG.exception(""FATAL. Failed stack_lock release. Exiting"") sys.exit(-1)", lock.release(),6,1
openstack%2Ftripleo-heat-templates~master~Ib8bb98fd08192b5e924d549201dcbf83b46d1fe1,openstack/tripleo-heat-templates,master,Ib8bb98fd08192b5e924d549201dcbf83b46d1fe1,Remove TLS endpoint files,ABANDONED,2018-09-12 21:16:15.000000000,2018-10-08 10:44:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-12 21:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62bb1433a667b82eb3d771c7ae5941fccc807939', 'message': 'Remove TLS endpoint files\n\nThese files should be fetched from the environments/ssl/ directory\ninstead.\n\nChange-Id: Ib8bb98fd08192b5e924d549201dcbf83b46d1fe1\n'}, {'number': 2, 'created': '2018-09-12 21:24:31.000000000', 'files': ['environments/no-tls-endpoints-public-ip.yaml', 'environments/tls-everywhere-endpoints-dns.yaml', 'releasenotes/notes/remove-tls-endpoint-files-72b19003220b805f.yaml', 'environments/inject-trust-anchor-hiera.yaml', 'environments/tls-endpoints-public-ip.yaml', 'environments/tls-endpoints-public-dns.yaml', 'environments/inject-trust-anchor.yaml', 'environments/enable-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bae4b1d60c94d70b2d8cf5867f935e3e10a06fe7', 'message': 'Remove TLS endpoint files\n\nThese files should be fetched from the environments/ssl/ directory\ninstead.\n\nDepends-On: I1bfdb6d064f3b10b269dedafd36ca367139fe1df\nChange-Id: Ib8bb98fd08192b5e924d549201dcbf83b46d1fe1\n'}]",0,602168,bae4b1d60c94d70b2d8cf5867f935e3e10a06fe7,5,2,2,10873,,,0,"Remove TLS endpoint files

These files should be fetched from the environments/ssl/ directory
instead.

Depends-On: I1bfdb6d064f3b10b269dedafd36ca367139fe1df
Change-Id: Ib8bb98fd08192b5e924d549201dcbf83b46d1fe1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/602168/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/no-tls-endpoints-public-ip.yaml', 'environments/tls-everywhere-endpoints-dns.yaml', 'releasenotes/notes/remove-tls-endpoint-files-72b19003220b805f.yaml', 'environments/tls-endpoints-public-ip.yaml', 'environments/tls-endpoints-public-dns.yaml']",5,62bb1433a667b82eb3d771c7ae5941fccc807939,remove-old-tls-files,,"# ************************************************************************************* # DEPRECATED: Use tripleo-heat-templates/environments/ssl/tls-endpoints-public-dns.yaml # instead. # ************************************************************************************* # Use this environment when deploying an SSL-enabled overcloud where the public # endpoint is a DNS name. parameter_defaults: EndpointMap: AodhAdmin: {protocol: 'http', port: '8042', host: 'IP_ADDRESS'} AodhInternal: {protocol: 'http', port: '8042', host: 'IP_ADDRESS'} AodhPublic: {protocol: 'https', port: '13042', host: 'CLOUDNAME'} BarbicanAdmin: {protocol: 'http', port: '9311', host: 'IP_ADDRESS'} BarbicanInternal: {protocol: 'http', port: '9311', host: 'IP_ADDRESS'} BarbicanPublic: {protocol: 'https', port: '13311', host: 'CLOUDNAME'} CephRgwAdmin: {protocol: 'http', port: '8080', host: 'IP_ADDRESS'} CephRgwInternal: {protocol: 'http', port: '8080', host: 'IP_ADDRESS'} CephRgwPublic: {protocol: 'https', port: '13808', host: 'CLOUDNAME'} CinderAdmin: {protocol: 'http', port: '8776', host: 'IP_ADDRESS'} CinderInternal: {protocol: 'http', port: '8776', host: 'IP_ADDRESS'} CinderPublic: {protocol: 'https', port: '13776', host: 'CLOUDNAME'} CongressAdmin: {protocol: 'http', port: '1789', host: 'IP_ADDRESS'} CongressInternal: {protocol: 'http', port: '1789', host: 'IP_ADDRESS'} CongressPublic: {protocol: 'https', port: '13789', host: 'CLOUDNAME'} DesignateAdmin: {protocol: 'http', port: '9001', host: 'IP_ADDRESS'} DesignateInternal: {protocol: 'http', port: '9001', host: 'IP_ADDRESS'} DesignatePublic: {protocol: 'https', port: '13001', host: 'CLOUDNAME'} DockerRegistryInternal: {protocol: 'https', port: '8787', host: 'CLOUDNAME'} Ec2ApiAdmin: {protocol: 'http', port: '8788', host: 'IP_ADDRESS'} Ec2ApiInternal: {protocol: 'http', port: '8788', host: 'IP_ADDRESS'} Ec2ApiPublic: {protocol: 'https', port: '13788', host: 'CLOUDNAME'} GaneshaInternal: {protocol: 'nfs', port: '2049', host: 'IP_ADDRESS'} GlanceAdmin: {protocol: 'http', port: '9292', host: 'IP_ADDRESS'} GlanceInternal: {protocol: 'http', port: '9292', host: 'IP_ADDRESS'} GlancePublic: {protocol: 'https', port: '13292', host: 'CLOUDNAME'} GnocchiAdmin: {protocol: 'http', port: '8041', host: 'IP_ADDRESS'} GnocchiInternal: {protocol: 'http', port: '8041', host: 'IP_ADDRESS'} GnocchiPublic: {protocol: 'https', port: '13041', host: 'CLOUDNAME'} HeatAdmin: {protocol: 'http', port: '8004', host: 'IP_ADDRESS'} HeatInternal: {protocol: 'http', port: '8004', host: 'IP_ADDRESS'} HeatPublic: {protocol: 'https', port: '13004', host: 'CLOUDNAME'} HeatUIConfig: {protocol: 'http', port: '3000', host: 'IP_ADDRESS'} HeatCfnAdmin: {protocol: 'http', port: '8000', host: 'IP_ADDRESS'} HeatCfnInternal: {protocol: 'http', port: '8000', host: 'IP_ADDRESS'} HeatCfnPublic: {protocol: 'https', port: '13005', host: 'CLOUDNAME'} HorizonPublic: {protocol: 'https', port: '443', host: 'CLOUDNAME'} IronicAdmin: {protocol: 'http', port: '6385', host: 'IP_ADDRESS'} IronicInternal: {protocol: 'http', port: '6385', host: 'IP_ADDRESS'} IronicPublic: {protocol: 'https', port: '13385', host: 'CLOUDNAME'} IronicUIConfig: {protocol: 'http', port: '3000', host: 'IP_ADDRESS'} IronicInspectorAdmin: {protocol: 'http', port: '5050', host: 'IP_ADDRESS'} IronicInspectorInternal: {protocol: 'http', port: '5050', host: 'IP_ADDRESS'} IronicInspectorPublic: {protocol: 'https', port: '13050', host: 'CLOUDNAME'} IronicInspectorUIConfig: {protocol: 'http', port: '3000', host: 'IP_ADDRESS'} KeystoneAdmin: {protocol: 'http', port: '35357', host: 'IP_ADDRESS'} KeystoneInternal: {protocol: 'http', port: '5000', host: 'IP_ADDRESS'} KeystonePublic: {protocol: 'https', port: '13000', host: 'CLOUDNAME'} KeystoneUIConfig: {protocol: 'http', port: '3000', host: 'IP_ADDRESS'} ManilaAdmin: {protocol: 'http', port: '8786', host: 'IP_ADDRESS'} ManilaInternal: {protocol: 'http', port: '8786', host: 'IP_ADDRESS'} ManilaPublic: {protocol: 'https', port: '13786', host: 'CLOUDNAME'} MistralAdmin: {protocol: 'http', port: '8989', host: 'IP_ADDRESS'} MistralInternal: {protocol: 'http', port: '8989', host: 'IP_ADDRESS'} MistralPublic: {protocol: 'https', port: '13989', host: 'CLOUDNAME'} MistralUIConfig: {protocol: 'http', port: '3000', host: 'IP_ADDRESS'} MysqlInternal: {protocol: 'mysql+pymysql', port: '3306', host: 'IP_ADDRESS'} NeutronAdmin: {protocol: 'http', port: '9696', host: 'IP_ADDRESS'} NeutronInternal: {protocol: 'http', port: '9696', host: 'IP_ADDRESS'} NeutronPublic: {protocol: 'https', port: '13696', host: 'CLOUDNAME'} NovaAdmin: {protocol: 'http', port: '8774', host: 'IP_ADDRESS'} NovaInternal: {protocol: 'http', port: '8774', host: 'IP_ADDRESS'} NovaPublic: {protocol: 'https', port: '13774', host: 'CLOUDNAME'} NovaUIConfig: {protocol: 'http', port: '3000', host: 'IP_ADDRESS'} NovaPlacementAdmin: {protocol: 'http', port: '8778', host: 'IP_ADDRESS'} NovaPlacementInternal: {protocol: 'http', port: '8778', host: 'IP_ADDRESS'} NovaPlacementPublic: {protocol: 'https', port: '13778', host: 'CLOUDNAME'} NovaVNCProxyAdmin: {protocol: 'http', port: '6080', host: 'IP_ADDRESS'} NovaVNCProxyInternal: {protocol: 'http', port: '6080', host: 'IP_ADDRESS'} NovaVNCProxyPublic: {protocol: 'https', port: '13080', host: 'CLOUDNAME'} OctaviaAdmin: {protocol: 'http', port: '9876', host: 'IP_ADDRESS'} OctaviaInternal: {protocol: 'http', port: '9876', host: 'IP_ADDRESS'} OctaviaPublic: {protocol: 'https', port: '13876', host: 'CLOUDNAME'} OpenDaylightAdmin: {protocol: 'http', port: '8081', host: 'IP_ADDRESS'} OpenDaylightInternal: {protocol: 'http', port: '8081', host: 'IP_ADDRESS'} OpenshiftAdmin: {protocol: 'http', port: '8443', host: 'IP_ADDRESS'} OpenshiftInternal: {protocol: 'http', port: '8443', host: 'IP_ADDRESS'} OpenshiftPublic: {protocol: 'http', port: '8443', host: 'IP_ADDRESS'} PankoAdmin: {protocol: 'http', port: '8977', host: 'IP_ADDRESS'} PankoInternal: {protocol: 'http', port: '8977', host: 'IP_ADDRESS'} PankoPublic: {protocol: 'https', port: '13977', host: 'CLOUDNAME'} SaharaAdmin: {protocol: 'http', port: '8386', host: 'IP_ADDRESS'} SaharaInternal: {protocol: 'http', port: '8386', host: 'IP_ADDRESS'} SaharaPublic: {protocol: 'https', port: '13386', host: 'CLOUDNAME'} SwiftAdmin: {protocol: 'http', port: '8080', host: 'IP_ADDRESS'} SwiftInternal: {protocol: 'http', port: '8080', host: 'IP_ADDRESS'} SwiftPublic: {protocol: 'https', port: '13808', host: 'CLOUDNAME'} SwiftUIConfig: {protocol: 'http', port: '3000', host: 'IP_ADDRESS'} TackerAdmin: {protocol: 'http', port: '9890', host: 'IP_ADDRESS'} TackerInternal: {protocol: 'http', port: '9890', host: 'IP_ADDRESS'} TackerPublic: {protocol: 'https', port: '13989', host: 'CLOUDNAME'} ZaqarAdmin: {protocol: 'http', port: '8888', host: 'IP_ADDRESS'} ZaqarInternal: {protocol: 'http', port: '8888', host: 'IP_ADDRESS'} ZaqarPublic: {protocol: 'https', port: '13888', host: 'CLOUDNAME'} ZaqarWebSocketAdmin: {protocol: 'ws', port: '9000', host: 'IP_ADDRESS'} ZaqarWebSocketInternal: {protocol: 'ws', port: '9000', host: 'IP_ADDRESS'} ZaqarWebSocketPublic: {protocol: 'wss', port: '9000', host: 'CLOUDNAME'} ZaqarWebSocketUIConfig: {protocol: 'ws', port: '3000', host: 'IP_ADDRESS'} ",9,431
openstack%2Fopenstack-manuals~master~I30a650140cde20fff34b6c02e136ba6b43662d92,openstack/openstack-manuals,master,I30a650140cde20fff34b6c02e136ba6b43662d92,Fix the incorrect reference URL,MERGED,2018-10-08 03:28:00.000000000,2018-10-08 10:39:36.000000000,2018-10-08 10:39:36.000000000,"[{'_account_id': 2394}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-08 03:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a97cd152d2b0355acc646fd55bbfe508333bd6ca', 'message': 'Fix the incorrect reference URL\n\nChange-Id: I30a650140cde20fff34b6c02e136ba6b43662d92\nCloses-Bug: #1796372\n'}, {'number': 2, 'created': '2018-10-08 07:07:41.000000000', 'files': ['doc/image-guide/source/image-metadata.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6084f10333d7662a4f98994db49fd52bf9bf68f2', 'message': 'Fix the incorrect reference URL\n\nChange-Id: I30a650140cde20fff34b6c02e136ba6b43662d92\nCloses-Bug: #1796372\n'}]",1,608510,6084f10333d7662a4f98994db49fd52bf9bf68f2,11,5,2,16523,,,0,"Fix the incorrect reference URL

Change-Id: I30a650140cde20fff34b6c02e136ba6b43662d92
Closes-Bug: #1796372
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/10/608510/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/image-guide/source/image-metadata.rst'],1,a97cd152d2b0355acc646fd55bbfe508333bd6ca,bug/1796372,`Image service property keys <https://docs.openstack.org/python-glanceclient/latest/cli/property-keys.html>`_.,`OpenStack Command-Line Reference <https://docs.openstack.org/cli-reference/glance.html#image-service-property-keys>`_.,2,2
openstack%2Fdesignate~master~Ib107d8076150b35d8fe90a3c98ec9460ca505849,openstack/designate,master,Ib107d8076150b35d8fe90a3c98ec9460ca505849,Imported Translations from Zanata,MERGED,2018-10-08 07:54:48.000000000,2018-10-08 10:29:17.000000000,2018-10-08 10:29:17.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-10-08 07:54:48.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/fd33c85716e78c6132221dae91e7188848a664fd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib107d8076150b35d8fe90a3c98ec9460ca505849\n'}]",0,608601,fd33c85716e78c6132221dae91e7188848a664fd,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib107d8076150b35d8fe90a3c98ec9460ca505849
",git fetch https://review.opendev.org/openstack/designate refs/changes/01/608601/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,fd33c85716e78c6132221dae91e7188848a664fd,zanata/translations,"""POT-Creation-Date: 2018-09-28 06:51+0000\n""""PO-Revision-Date: 2018-10-07 11:53+0000\n""msgid ""7.0.0-19"" msgstr ""7.0.0-19""","""POT-Creation-Date: 2018-09-06 02:51+0000\n""""PO-Revision-Date: 2018-09-07 11:23+0000\n""msgid ""7.0.0-14"" msgstr ""7.0.0-14""",4,4
openstack%2Fpuppet-tripleo~stable%2Frocky~I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2,openstack/puppet-tripleo,stable/rocky,I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2,Make sure that ceph-nfs and the VIP start in the right order,MERGED,2018-10-07 10:08:44.000000000,2018-10-08 10:16:43.000000000,2018-10-07 18:35:30.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-07 10:08:44.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6805fcad88e3ef2b14e39c7e7ecb84806e8155cf', 'message': 'Make sure that ceph-nfs and the VIP start in the right order\n\nCurrently there is a race where ceph-nfs is free to be started before\nthe colocation constraint with the VIP is created. This issue is\nexacerbated by the fact that the container being started (via a systemd\nunit file managed by pacemaker) never fails in case the daemon\nencounters an error, because it has inside it:\n/usr/bin/ganesha.nfsd ""${GANESHA_OPTIONS[@]}"" -L /var/log/ganesha/ganesha.log ""${GANESHA_EPOCH}"" || return 0\n\nSince the container never fails, docker never exits and so systemd and\npacemaker think everything is fine and it won\'t get rescheduled on\nanother node.\n\nWe can avoid this issue completely if we can guarantee that\nwe start the VIP and the ceph-nfs service on the bootstrap node only\n(by tagging only that node with the right property) and only later we\nadd the node property on all the other nodes.\n\nThe drawback of this approach is that, barring any failures, ceph-nfs\nwill always be started on the master node for that service.\n\nChange-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2\n(cherry picked from commit 318e20a828ebf70e4a2644148c9b921d7007b5f0)\n'}]",0,608446,6805fcad88e3ef2b14e39c7e7ecb84806e8155cf,9,3,1,9003,,,0,"Make sure that ceph-nfs and the VIP start in the right order

Currently there is a race where ceph-nfs is free to be started before
the colocation constraint with the VIP is created. This issue is
exacerbated by the fact that the container being started (via a systemd
unit file managed by pacemaker) never fails in case the daemon
encounters an error, because it has inside it:
/usr/bin/ganesha.nfsd ""${GANESHA_OPTIONS[@]}"" -L /var/log/ganesha/ganesha.log ""${GANESHA_EPOCH}"" || return 0

Since the container never fails, docker never exits and so systemd and
pacemaker think everything is fine and it won't get rescheduled on
another node.

We can avoid this issue completely if we can guarantee that
we start the VIP and the ceph-nfs service on the bootstrap node only
(by tagging only that node with the right property) and only later we
add the node property on all the other nodes.

The drawback of this approach is that, barring any failures, ceph-nfs
will always be started on the master node for that service.

Change-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2
(cherry picked from commit 318e20a828ebf70e4a2644148c9b921d7007b5f0)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/46/608446/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,6805fcad88e3ef2b14e39c7e7ecb84806e8155cf,nfs-ganesha-ceph-stable/rocky," if $pacemaker_master { # At step2 we only create the node property on master so that # both VIP and (later at step5) ceph-nfs service can start on master # node only. This way we can guarantee that the VIP and ceph-nfs are # colocated. Later we expand the properties on all nodes where ceph_nfs # is supposed to run. pacemaker::property { 'ceph-nfs-role-node-property': property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $::hostname, } # See comment on pacemaker::property at step2 $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names') $ceph_nfs_short_node_names.each |String $node_name| { pacemaker::property { ""ceph-nfs-role-${node_name}"": property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $node_name, } } -> Pacemaker::Property<||>"," pacemaker::property { 'ceph-nfs-role-node-property': property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $::hostname, } if $pacemaker_master {",23,6
openstack%2Fnetworking-midonet~master~Iff91332fe1302e3895b468dfdb4869e0d28a28d0,openstack/networking-midonet,master,Iff91332fe1302e3895b468dfdb4869e0d28a28d0,gate_hook: Switch the grenade job to lib/neutron,MERGED,2018-01-10 06:40:59.000000000,2018-10-08 10:01:22.000000000,2018-10-08 10:01:11.000000000,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 19307}, {'_account_id': 22255}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-10 06:40:59.000000000', 'files': ['devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/92e3cea5cc0be6bdeea0c6db3f949d741eecbd37', 'message': 'gate_hook: Switch the grenade job to lib/neutron\n\nCloses-Bug: #1742372\nChange-Id: Iff91332fe1302e3895b468dfdb4869e0d28a28d0\n'}]",0,532429,92e3cea5cc0be6bdeea0c6db3f949d741eecbd37,29,6,1,6854,,,0,"gate_hook: Switch the grenade job to lib/neutron

Closes-Bug: #1742372
Change-Id: Iff91332fe1302e3895b468dfdb4869e0d28a28d0
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/29/532429/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ci/gate_hook.sh'],1,92e3cea5cc0be6bdeea0c6db3f949d741eecbd37,bug/1741187, _LEGACY=False," export DEVSTACK_LOCAL_CONFIG+=$'\n'""Q_PLUGIN=ml2"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""Q_ML2_PLUGIN_MECHANISM_DRIVERS=midonet"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""Q_ML2_PLUGIN_TYPE_DRIVERS=midonet,uplink"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""Q_ML2_TENANT_NETWORK_TYPE=midonet"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""ML2_L3_PLUGIN=midonet.neutron.services.l3.l3_midonet.MidonetL3ServicePlugin"" _LEGACY=True",1,6
openstack%2Fkolla-ansible~master~I03e3ab57ce538c0f86d1442c7bd30d3ce9012637,openstack/kolla-ansible,master,I03e3ab57ce538c0f86d1442c7bd30d3ce9012637,Custom configuration for grafana,MERGED,2018-02-27 14:04:20.000000000,2018-10-08 09:58:10.000000000,2018-04-16 08:06:37.000000000,"[{'_account_id': 7488}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26556}]","[{'number': 1, 'created': '2018-02-27 14:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0cc27aff4bac3b87df8caa7db578a5ce8844cb87', 'message': 'Ldap configuraton for grafana\n\nAdd ldap configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 2, 'created': '2018-02-27 14:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34ae0da5b0260233247b1a0a05a6c019fb57c440', 'message': 'Ldap configuraton for grafana\n\nAdd ldap configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 3, 'created': '2018-02-27 14:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d63edb6426fc9b9882211f7991a8ae5e2b4629e', 'message': 'Ldap configuraton for grafana\n\nAdd ldap configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 4, 'created': '2018-02-27 15:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b053b2ad81f2b708dd3988ad08075d9568018b7', 'message': 'Ldap configuraton for grafana\n\nAdd ldap configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 5, 'created': '2018-02-27 15:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab275f8735c9c04fd993b2d276bd8052d49a4b6f', 'message': 'Custom configuraton for grafana\n\nAdd custom configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 6, 'created': '2018-02-28 11:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b87c4f19ea23cb08688d1ba89d727f9ec0f61218', 'message': 'Custom configuraton for grafana\n\nAdd custom configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 7, 'created': '2018-02-28 13:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/14c4eb5aaf32c6b35bb04827088e3302668993e7', 'message': 'Custom configuration for grafana\n\nAdd custom configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 8, 'created': '2018-03-02 11:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcd662e5fdc4acbccf30b689d2359c7570dd8d9a', 'message': 'Custom configuration for grafana\n\nAdd custom configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 9, 'created': '2018-03-02 15:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c18fc17b4ce63504eeb1d2ca45c868e37c20293', 'message': 'Custom configuration for grafana\n\nAdd custom configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 10, 'created': '2018-03-28 08:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c49872fa41b0df3a5ac7c993ed6b0b45105a7c93', 'message': 'Custom configuration for grafana\n\nAdd custom configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}, {'number': 11, 'created': '2018-04-13 08:44:05.000000000', 'files': ['ansible/roles/grafana/templates/grafana.json.j2', 'ansible/roles/grafana/tasks/config.yml', 'releasenotes/notes/ldap-grafana-configuration-0112d84771addbe7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/965669b461bdc054708d349ba6f57737060c4dc0', 'message': 'Custom configuration for grafana\n\nAdd custom configuration for grafana\n\nChange-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637\n'}]",3,548291,965669b461bdc054708d349ba6f57737060c4dc0,31,7,11,18368,,,0,"Custom configuration for grafana

Add custom configuration for grafana

Change-Id: I03e3ab57ce538c0f86d1442c7bd30d3ce9012637
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/548291/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/grafana/templates/grafana.json.j2', 'ansible/roles/grafana/tasks/config.yml', 'ansible/roles/grafana/handlers/main.yml']",3,0cc27aff4bac3b87df8caa7db578a5ce8844cb87,ldap_conf_grafana, or grafana_ldap.changed | bool,,23,0
openstack%2Fmonasca-common~master~Idcb8b11778ce02596c1c02417ee6c88a33c7da03,openstack/monasca-common,master,Idcb8b11778ce02596c1c02417ee6c88a33c7da03,Fix coverage job for Python 3,MERGED,2018-10-04 12:04:49.000000000,2018-10-08 09:55:41.000000000,2018-10-08 09:55:41.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26733}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-10-04 12:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/080410cadc65d589cf3fb4fab86cf73b3372e572', 'message': 'Add coverage check job to Zuul\n\nChange-Id: Idcb8b11778ce02596c1c02417ee6c88a33c7da03\n'}, {'number': 2, 'created': '2018-10-04 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/10fe9ba4f2e5a51e27a28ab1228a82e340f9a1cf', 'message': 'Fix coverage job for Python 3\n\n* add coverage check job to Zuul\n* migrate to stestr as described in PTI [1]\n* unmock OffsetOutOfRangeError to correctly recognize it as Exception\nand not a mock. Otherwise TypeError exception is thrown [2].\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs\n[2] http://logs.openstack.org/60/606660/2/check/openstack-tox-cover/b3c1492/testr_results.html.gz\n\nChange-Id: Idcb8b11778ce02596c1c02417ee6c88a33c7da03\nStory: 2003240\nTask: 26900\n'}, {'number': 3, 'created': '2018-10-05 08:09:19.000000000', 'files': ['monasca_common/tests/test_kafka.py', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/1017229c3998a473c32ca73aab86ec8477bcb59b', 'message': 'Fix coverage job for Python 3\n\n* add coverage check job to Zuul\n* migrate to stestr as described in PTI [1]\n* unmock OffsetOutOfRangeError to correctly recognize it as Exception\nand not a mock. Otherwise TypeError exception is thrown [2].\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs\n[2] http://logs.openstack.org/60/606660/2/check/openstack-tox-cover/b3c1492/testr_results.html.gz\n\nChange-Id: Idcb8b11778ce02596c1c02417ee6c88a33c7da03\nStory: 2003240\nTask: 26900\n'}]",4,607945,1017229c3998a473c32ca73aab86ec8477bcb59b,20,6,3,16222,,,0,"Fix coverage job for Python 3

* add coverage check job to Zuul
* migrate to stestr as described in PTI [1]
* unmock OffsetOutOfRangeError to correctly recognize it as Exception
and not a mock. Otherwise TypeError exception is thrown [2].

[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs
[2] http://logs.openstack.org/60/606660/2/check/openstack-tox-cover/b3c1492/testr_results.html.gz

Change-Id: Idcb8b11778ce02596c1c02417ee6c88a33c7da03
Story: 2003240
Task: 26900
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/45/607945/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,080410cadc65d589cf3fb4fab86cf73b3372e572,python3-first, - openstack-cover-jobs,,1,0
openstack%2Fpython-tripleoclient~master~I16cfb50fd34ad4e8d61b78ea1db33cb7a844fdc3,openstack/python-tripleoclient,master,I16cfb50fd34ad4e8d61b78ea1db33cb7a844fdc3,Fix overcloudrc creation in upgrade commands,MERGED,2018-10-03 16:28:49.000000000,2018-10-08 09:47:36.000000000,2018-10-07 00:36:12.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-03 16:28:49.000000000', 'files': ['tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/84dd5ee8845fd16e9d3ad1fc38015269bc2e0d5e', 'message': 'Fix overcloudrc creation in upgrade commands\n\nThis fixes a small omission from\nIb100163a5c9a5d2e6cca6cbc5a186e8e5cbc19ce to pass the clients object\nto the overcloudrc creation method as it expects.\n\nChange-Id: I16cfb50fd34ad4e8d61b78ea1db33cb7a844fdc3\nCloses-Bug: #1795928\n'}]",0,607633,84dd5ee8845fd16e9d3ad1fc38015269bc2e0d5e,19,7,1,8042,,,0,"Fix overcloudrc creation in upgrade commands

This fixes a small omission from
Ib100163a5c9a5d2e6cca6cbc5a186e8e5cbc19ce to pass the clients object
to the overcloudrc creation method as it expects.

Change-Id: I16cfb50fd34ad4e8d61b78ea1db33cb7a844fdc3
Closes-Bug: #1795928
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/607633/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py']",2,84dd5ee8845fd16e9d3ad1fc38015269bc2e0d5e,bug/1795928," clients, container=stack_name)"," clients.workflow_engine, container=stack_name)",2,4
openstack%2Fpuppet-nova~stable%2Frocky~I2ba3e3e6dd06bf0efbcb83f18121cc013bb022f8,openstack/puppet-nova,stable/rocky,I2ba3e3e6dd06bf0efbcb83f18121cc013bb022f8,Deprecate unused notify_on_api_faults parameter,MERGED,2018-09-18 05:50:07.000000000,2018-10-08 09:47:14.000000000,2018-10-08 09:47:14.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 23825}]","[{'number': 1, 'created': '2018-09-18 05:50:07.000000000', 'files': ['releasenotes/notes/deprecate_notify_on_api_faults-c7eb47adc3c92671.yaml', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fa332842fbaaf7f99ee56d81af7fa3049b2536a2', 'message': 'Deprecate unused notify_on_api_faults parameter\n\nThe notify_on_api_faults parameter is removed from nova config\noptions in change I608b6ebdc69d31eb2a11ac6479fa4f2e8c20f7d1\nhence it needs to be deprecated in puppet-nova as well.\n\nChange-Id: I2ba3e3e6dd06bf0efbcb83f18121cc013bb022f8\n(cherry picked from commit 3a5199e5f78c087975a7005cef808bb58e06cb40)\n'}]",0,603280,fa332842fbaaf7f99ee56d81af7fa3049b2536a2,24,8,1,20733,,,0,"Deprecate unused notify_on_api_faults parameter

The notify_on_api_faults parameter is removed from nova config
options in change I608b6ebdc69d31eb2a11ac6479fa4f2e8c20f7d1
hence it needs to be deprecated in puppet-nova as well.

Change-Id: I2ba3e3e6dd06bf0efbcb83f18121cc013bb022f8
(cherry picked from commit 3a5199e5f78c087975a7005cef808bb58e06cb40)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/80/603280/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_notify_on_api_faults-c7eb47adc3c92671.yaml', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb']",3,fa332842fbaaf7f99ee56d81af7fa3049b2536a2,deprecate_notify_on_api_faults-stable/rocky,," :notify_on_api_faults => true, is_expected.to contain_nova_config('notifications/notify_on_api_faults').with_value(true) context 'with deprecated notify_api_faults parameter' do let :params do { :notify_on_api_faults => :undef, :notify_api_faults => 'true' } end it 'configures notify_on_api_faults using the deprecated parameter' do is_expected.to contain_nova_config('notifications/notify_on_api_faults').with_value('true') end end ",16,23
openstack%2Fpaunch~master~Icce715e14c45576275c22fdb2c923e8ff4bb121a,openstack/paunch,master,Icce715e14c45576275c22fdb2c923e8ff4bb121a,zuul: run tripleo-ci-centos-7-containerized-undercloud-upgrades,MERGED,2018-10-07 15:42:33.000000000,2018-10-08 09:30:07.000000000,2018-10-08 09:30:07.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-07 15:42:33.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/paunch/commit/fd01df5c5c266b021ea908718d67d2a34ff1ae8d', 'message': ""zuul: run tripleo-ci-centos-7-containerized-undercloud-upgrades\n\nWe'll need this job in Stein to test upgrades from Docker to Podman.\n\nChange-Id: Icce715e14c45576275c22fdb2c923e8ff4bb121a\n""}]",0,608456,fd01df5c5c266b021ea908718d67d2a34ff1ae8d,9,5,1,3153,,,0,"zuul: run tripleo-ci-centos-7-containerized-undercloud-upgrades

We'll need this job in Stein to test upgrades from Docker to Podman.

Change-Id: Icce715e14c45576275c22fdb2c923e8ff4bb121a
",git fetch https://review.opendev.org/openstack/paunch refs/changes/56/608456/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,fd01df5c5c266b021ea908718d67d2a34ff1ae8d,ci, check: jobs: - tripleo-ci-centos-7-containerized-undercloud-upgrades gate: queue: tripleo jobs: - tripleo-ci-centos-7-containerized-undercloud-upgrades,,7,0
openstack%2Fkeystonemiddleware~stable%2Fpike~I0eda5981cbb661f63790258cf8e70c7340615159,openstack/keystonemiddleware,stable/pike,I0eda5981cbb661f63790258cf8e70c7340615159,Fix KeystoneMiddleware memcachepool abstraction,ABANDONED,2018-07-18 18:38:30.000000000,2018-10-08 09:28:50.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23561}]","[{'number': 1, 'created': '2018-07-18 18:38:30.000000000', 'files': ['keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/tests/unit/auth_token/test_cache.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f4f4394e3fb7e9ef66fd823b201ce062f1c5dc5f', 'message': ""Fix KeystoneMiddleware memcachepool abstraction\n\nKeystonemiddleware's abstraction for the memcache pool was broken\nwhen converting to use a queue.Queue. The logic that placed the\nconnection back into the pool was moved to .acquire and the reserve\nmethod was not using acquire.\n\nChange-Id: I0eda5981cbb661f63790258cf8e70c7340615159\nCloses-Bug: #1782404\n(cherry picked from commit dea1e94d6c89b5df630f30cf61464ed67d5d1ab0)\n""}]",0,583699,f4f4394e3fb7e9ef66fd823b201ce062f1c5dc5f,7,3,1,2903,,,0,"Fix KeystoneMiddleware memcachepool abstraction

Keystonemiddleware's abstraction for the memcache pool was broken
when converting to use a queue.Queue. The logic that placed the
connection back into the pool was moved to .acquire and the reserve
method was not using acquire.

Change-Id: I0eda5981cbb661f63790258cf8e70c7340615159
Closes-Bug: #1782404
(cherry picked from commit dea1e94d6c89b5df630f30cf61464ed67d5d1ab0)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/99/583699/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/tests/unit/auth_token/test_cache.py']",2,f4f4394e3fb7e9ef66fd823b201ce062f1c5dc5f,bug/1782404,"import fixturesfrom keystonemiddleware.auth_token import _cache class TestMemcachePoolAbstraction(utils.TestCase): def setUp(self): super(TestMemcachePoolAbstraction, self).setUp() self.useFixture(fixtures.MockPatch( 'oslo_cache._memcache_pool._MemcacheClient')) def test_abstraction_layer_reserve_places_connection_back_in_pool(self): cache_pool = _cache._MemcacheClientPool( memcache_servers=[], arguments={}, maxsize=1, unused_timeout=10) conn = None with cache_pool.reserve() as client: self.assertEqual(cache_pool._pool._acquired, 1) conn = client self.assertEqual(cache_pool._pool._acquired, 0) with cache_pool.reserve() as client: # Make sure the connection we got before is in-fact the one we # get again. self.assertEqual(conn, client)",,27,1
openstack%2Fmistral~master~I841c15230fe2bc1e605a985bb1b9cd6131ac795c,openstack/mistral,master,I841c15230fe2bc1e605a985bb1b9cd6131ac795c,Make task execution logging more readable and informative,MERGED,2018-09-19 08:23:02.000000000,2018-10-08 09:28:45.000000000,2018-10-08 09:28:45.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 08:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4e56b16972fad3672de09d5b335dd31f5c35f523', 'message': 'Make task execution logging more readable and informative\n\n* Changed a debug log statement more readable for tasks\n* Minor style changes\n\nChange-Id: I841c15230fe2bc1e605a985bb1b9cd6131ac795c\n'}, {'number': 2, 'created': '2018-10-01 04:38:34.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/services/workflows.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c802ad2851f89792de807673e78838a524948aca', 'message': 'Make task execution logging more readable and informative\n\n* Changed a debug log statement more readable for tasks\n* Minor style changes\n\nChange-Id: I841c15230fe2bc1e605a985bb1b9cd6131ac795c\n'}]",0,603593,c802ad2851f89792de807673e78838a524948aca,12,6,2,8731,,,0,"Make task execution logging more readable and informative

* Changed a debug log statement more readable for tasks
* Minor style changes

Change-Id: I841c15230fe2bc1e605a985bb1b9cd6131ac795c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/93/603593/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/services/workflows.py']",2,4e56b16972fad3672de09d5b335dd31f5c35f523,various_fixes," LOG.debug(""Registering standard workflows..."") LOG.debug(""Syncing db..."") LOG.debug(""Creating workflows..."") definition, validate=True"," LOG.debug(""Registering standard workflows"") LOG.debug(""Syncing db"") LOG.debug(""Creating workflows"") definition, validate=True",14,7
openstack%2Fwatcher-tempest-plugin~master~I577c35f427519136828d8efb87b3e00f37ec2f5c,openstack/watcher-tempest-plugin,master,I577c35f427519136828d8efb87b3e00f37ec2f5c,improve scenario test,MERGED,2018-09-14 06:06:24.000000000,2018-10-08 09:21:06.000000000,2018-10-08 09:21:06.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}, {'_account_id': 24872}]","[{'number': 1, 'created': '2018-09-14 06:06:24.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/base.py', 'watcher_tempest_plugin/tests/scenario/test_execute_basic_optim.py', 'watcher_tempest_plugin/tests/scenario/test_execute_workload_balancing.py', 'watcher_tempest_plugin/tests/scenario/test_execute_actuator.py', 'watcher_tempest_plugin/tests/scenario/test_execute_zone_migration.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/8e129128b2b26e726c2130e45d0ab15815a3695f', 'message': 'improve scenario test\n\nmove some common functions to base class\n\nChange-Id: I577c35f427519136828d8efb87b3e00f37ec2f5c\n'}]",0,602529,8e129128b2b26e726c2130e45d0ab15815a3695f,8,3,1,21692,,,0,"improve scenario test

move some common functions to base class

Change-Id: I577c35f427519136828d8efb87b3e00f37ec2f5c
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/29/602529/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_tempest_plugin/tests/scenario/base.py', 'watcher_tempest_plugin/tests/scenario/test_execute_basic_optim.py', 'watcher_tempest_plugin/tests/scenario/test_execute_workload_balancing.py', 'watcher_tempest_plugin/tests/scenario/test_execute_actuator.py', 'watcher_tempest_plugin/tests/scenario/test_execute_zone_migration.py']",5,8e129128b2b26e726c2130e45d0ab15815a3695f,improve_scenario_test,," @classmethod def get_hypervisors_setup(cls): hypervisors_client = cls.mgr.hypervisor_client hypervisors = hypervisors_client.list_hypervisors( detail=True)['hypervisors'] return hypervisors @classmethod def get_compute_nodes_setup(cls): services_client = cls.mgr.services_client available_services = services_client.list_services()['services'] return [srv for srv in available_services if srv.get('binary') == 'nova-compute'] def _migrate_server_to(self, server_id, dest_host, volume_backed=False): kwargs = dict() kwargs['disk_over_commit'] = False block_migration = (CONF.compute_feature_enabled. block_migration_for_live_migration and not volume_backed) body = self.mgr.servers_client.live_migrate_server( server_id, host=dest_host, block_migration=block_migration, **kwargs) return body @classmethod def wait_for_compute_node_setup(cls): def _are_compute_nodes_setup(): try: hypervisors = cls.get_hypervisors_setup() available_hypervisors = set( hyp['hypervisor_hostname'] for hyp in hypervisors if hyp['state'] == 'up') available_services = set( service['host'] for service in cls.get_compute_nodes_setup() if service['state'] == 'up') return ( len(available_hypervisors) == len(available_services) and len(hypervisors) >= 2) except Exception as exc: LOG.exception(exc) return False assert test_utils.call_until_true( func=_are_compute_nodes_setup, duration=600, sleep_for=2 ) @classmethod def rollback_compute_nodes_status(cls): current_compute_nodes_setup = cls.get_compute_nodes_setup() for cn_setup in current_compute_nodes_setup: cn_hostname = cn_setup.get('host') matching_cns = [ cns for cns in cls.initial_compute_nodes_setup if cns.get('host') == cn_hostname ] initial_cn_setup = matching_cns[0] # Should return a single result if cn_setup.get('status') != initial_cn_setup.get('status'): if initial_cn_setup.get('status') == 'enabled': rollback_func = cls.mgr.services_client.enable_service else: rollback_func = cls.mgr.services_client.disable_service rollback_func(binary='nova-compute', host=cn_hostname) def _create_one_instance_per_host(self): """"""Create 1 instance per compute node This goes up to the min_compute_nodes threshold so that things don't get crazy if you have 1000 compute nodes but set min to 3. """""" host_client = self.mgr.hosts_client all_hosts = host_client.list_hosts()['hosts'] compute_nodes = [x for x in all_hosts if x['service'] == 'compute'] created_instances = [] for _ in compute_nodes[:CONF.compute.min_compute_nodes]: # by getting to active state here, this means this has # landed on the host in question. instance = self.create_server(image_id=CONF.compute.image_ref, wait_until='ACTIVE', clients=self.os_primary) instance = self.mgr.servers_client.show_server( instance['id'])['server'] created_instances.append(instance) return created_instances def _pack_all_created_instances_on_one_host(self, instances): hypervisors = [ hyp['hypervisor_hostname'] for hyp in self.get_hypervisors_setup() if hyp['state'] == 'up'] node = hypervisors[0] for instance in instances: if instance.get('OS-EXT-SRV-ATTR:hypervisor_hostname') != node: self._migrate_server_to(instance['id'], node) return node ",103,356
openstack%2Fcinder~master~Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee,openstack/cinder,master,Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee,WIP: Make backup init_host more effectively,ABANDONED,2018-09-30 07:48:34.000000000,2018-10-08 09:12:01.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-30 07:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ba2cfe700824d89abbcb94dfa4fc0a3420a8fca', 'message': 'WIP: Make backup init_host more effectively\n\nWe only cleanup some middle-state backup in manager.init_host,\nif we get all backups from db, we will waste much time to fetch\nredundant backups (such as, deleted/available backups), especially\nin the public cloud, we have tons of normal-state backup.\n\nThis patch try to add support the filters to backup.get_by_host(),\nand only fetch the backups which we need to cleanup in init_host.\n\nTODO: add UT and plus the bug link\n\nChange-Id: Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee\n'}, {'number': 2, 'created': '2018-10-08 02:28:19.000000000', 'files': ['cinder/backup/manager.py', 'cinder/db/api.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4847948c4bc2ef4d8a126b55e0f3b6870070744', 'message': 'WIP: Make backup init_host more effectively\n\nWe only cleanup some middle-state backup in manager.init_host,\nif we get all backups from db, we will waste much time to fetch\nredundant backups (such as, deleted/available backups), especially\nin the public cloud, we have tons of normal-state backup.\n\nThis patch try to add support the filters to backup.get_by_host(),\nand only fetch the backups which we need to cleanup in init_host.\n\nTODO: add UT and plus the bug link\n\nChange-Id: Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee\n'}]",0,606800,c4847948c4bc2ef4d8a126b55e0f3b6870070744,33,21,2,20722,,,0,"WIP: Make backup init_host more effectively

We only cleanup some middle-state backup in manager.init_host,
if we get all backups from db, we will waste much time to fetch
redundant backups (such as, deleted/available backups), especially
in the public cloud, we have tons of normal-state backup.

This patch try to add support the filters to backup.get_by_host(),
and only fetch the backups which we need to cleanup in init_host.

TODO: add UT and plus the bug link

Change-Id: Iae01cff8c1a633ec5b46e930674fef6a8f3eeeee
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/606800/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/db/api.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py']",4,2ba2cfe700824d89abbcb94dfa4fc0a3420a8fca,bug/x,"def backup_get_all_by_host(context, host, filters=None): if not filters: filters = {} else: filters = filters.copy() filters['host'] = host return _backup_get_all(context, filters=filters)","def backup_get_all_by_host(context, host): return model_query( context, models.Backup).options( joinedload('backup_metadata')).filter_by(host=host).all()",22,11
openstack%2Fkolla-ansible~master~If98ca7cd9630b5622132a00718cb09304b8285b3,openstack/kolla-ansible,master,If98ca7cd9630b5622132a00718cb09304b8285b3,Allow fluentd to read barbican-api.log,MERGED,2018-09-26 09:12:00.000000000,2018-10-08 09:05:42.000000000,2018-10-05 08:14:40.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-09-26 09:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23f7c9fe21b281202a8f5c3c7bba7483ed1ded38', 'message': 'Allow fluentd to read barbican-api.log\n\nBarbican API uses uWSGI, which by default writes out log files using\n0640 permissions and default ownership for the user. This means that the\nlog file in /var/log/kolla/barbican/barbican-api.log is not readable by\nfluentd.\n\nThis was tested via the following command on a queens deployment:\n\n$ docker exec -it fluentd bash\nfind /var/log/kolla/ -type f | while read f; do test -r $f || echo\n""Cannot read $f""; done\nCannot read /var/log/kolla/barbican/barbican-api.log\n\nGenerally there are a few ways in which access is provided to log file\nfor fluentd:\n\n1. Set log file ownership to $USER:kolla, permissions to 0640.\n2. Set log file ownership to $USER:$USER, permissions to 0644.\n3. MariaDB is a special case, and uses 0640 with the fluentd user added\nto the mysql group.\n\nOf these, 2. seems the most secure.\n\nThis change uses the log-owner config option to set the log file\nownership to barbican:kolla.\n\nChange-Id: If98ca7cd9630b5622132a00718cb09304b8285b3\nCloses-Bug: #1794472\n'}, {'number': 2, 'created': '2018-09-26 10:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81ee897983b20eb39691a545a2658d23c9ac8ee8', 'message': 'Allow fluentd to read barbican-api.log\n\nBarbican API uses uWSGI, which by default writes out log files using\n0640 permissions and default ownership for the user. This means that the\nlog file in /var/log/kolla/barbican/barbican-api.log is not readable by\nfluentd.\n\nThis was tested via the following command on a queens deployment:\n\n$ docker exec -it fluentd bash\nfind /var/log/kolla/ -type f | while read f; do test -r $f || echo\n""Cannot read $f""; done\nCannot read /var/log/kolla/barbican/barbican-api.log\n\nGenerally there are a few ways in which access is provided to log file\nfor fluentd:\n\n1. Set log file ownership to $USER:kolla, permissions to 0640.\n2. Set log file ownership to $USER:$USER, permissions to 0644.\n3. MariaDB is a special case, and uses 0640 with the fluentd user added\nto the mysql group.\n\nOf these, 2. seems the most secure.\n\nThis change uses the --logfile-chmod argument to set the log file\npermissions to 644, since it does not appear possible to specify a group\nto change ownership to using --logfile-chown. We use command line\narguments since putting the option in the config file does not seem to\nwork. Perhaps it is an ordering issue.\n\nChange-Id: If98ca7cd9630b5622132a00718cb09304b8285b3\nCloses-Bug: #1794472\n'}, {'number': 3, 'created': '2018-09-26 10:43:11.000000000', 'files': ['ansible/roles/barbican/templates/barbican-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e635db8f1ccc45f3c28c915bfd970c020455760', 'message': 'Allow fluentd to read barbican-api.log\n\nBarbican API uses uWSGI, which by default writes out log files using\n0640 permissions and default ownership for the user. This means that the\nlog file in /var/log/kolla/barbican/barbican-api.log is not readable by\nfluentd.\n\nThis was tested via the following command on a queens deployment:\n\n$ docker exec -it fluentd bash\nfind /var/log/kolla/ -type f | while read f; do test -r $f || echo\n""Cannot read $f""; done\nCannot read /var/log/kolla/barbican/barbican-api.log\n\nGenerally there are a few ways in which access is provided to log file\nfor fluentd:\n\n1. Set log file ownership to $USER:kolla, permissions to 0640.\n2. Set log file ownership to $USER:$USER, permissions to 0644.\n3. MariaDB is a special case, and uses 0640 with the fluentd user added\nto the mysql group.\n\nOf these, 1. seems the most secure.\n\nThis change uses the --logfile-chmod argument to set the log file\npermissions to 644, since it does not appear possible to specify a group\nto change ownership to using --logfile-chown. We use command line\narguments since putting the option in the config file does not seem to\nwork. Perhaps it is an ordering issue.\n\nChange-Id: If98ca7cd9630b5622132a00718cb09304b8285b3\nCloses-Bug: #1794472\n'}]",1,605372,8e635db8f1ccc45f3c28c915bfd970c020455760,15,6,3,14826,,,0,"Allow fluentd to read barbican-api.log

Barbican API uses uWSGI, which by default writes out log files using
0640 permissions and default ownership for the user. This means that the
log file in /var/log/kolla/barbican/barbican-api.log is not readable by
fluentd.

This was tested via the following command on a queens deployment:

$ docker exec -it fluentd bash
find /var/log/kolla/ -type f | while read f; do test -r $f || echo
""Cannot read $f""; done
Cannot read /var/log/kolla/barbican/barbican-api.log

Generally there are a few ways in which access is provided to log file
for fluentd:

1. Set log file ownership to $USER:kolla, permissions to 0640.
2. Set log file ownership to $USER:$USER, permissions to 0644.
3. MariaDB is a special case, and uses 0640 with the fluentd user added
to the mysql group.

Of these, 1. seems the most secure.

This change uses the --logfile-chmod argument to set the log file
permissions to 644, since it does not appear possible to specify a group
to change ownership to using --logfile-chown. We use command line
arguments since putting the option in the config file does not seem to
work. Perhaps it is an ordering issue.

Change-Id: If98ca7cd9630b5622132a00718cb09304b8285b3
Closes-Bug: #1794472
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/605372/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/barbican/templates/barbican-api.ini.j2'],1,23f7c9fe21b281202a8f5c3c7bba7483ed1ded38,bug/1794472,logfile-chown = barbican:kolla,,1,0
openstack%2Fnova~master~I342b9b12ec869431c3abad75eb8194c34151a281,openstack/nova,master,I342b9b12ec869431c3abad75eb8194c34151a281,Don't emit warning when ironic properties are zero,MERGED,2018-09-27 14:34:13.000000000,2018-10-08 09:02:34.000000000,2018-10-04 22:05:34.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14826}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-09-27 14:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/864c3cf1eae072bcff8f33327aa0bfa20837fa8b', 'message': ""Don't emit warning when ironic properties are zero\n\nIf an ironic node is registered without either of the 'memory_mb' or\n'cpus' properties, the following warning messages are seen in the\nnova-compute logs:\n\nWarning, memory usage is 0 for <instance> on baremetal node <node>.\nWarning, number of cpus is 0 for <instance> on baremetal node <node>.\n\nAs of the Rocky release [1], the standard compute resources (VCPU,\nMEMORY_MB, DISK_GB) are not registered with placement for ironic nodes.\nThey were not required to be set since the Pike release, but still this\nwarning is emitted.\n\nThis change removes these warning messages.\n\nBackport: rocky, queens, pike\n\n[1] https://review.openstack.org/#/c/565841/\n\nChange-Id: I342b9b12ec869431c3abad75eb8194c34151a281\n""}, {'number': 2, 'created': '2018-09-27 14:38:25.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/63b9c88386998bc584786ecb8ea7a2aae971a384', 'message': ""Don't emit warning when ironic properties are zero\n\nIf an ironic node is registered without either of the 'memory_mb' or\n'cpus' properties, the following warning messages are seen in the\nnova-compute logs:\n\nWarning, memory usage is 0 for <instance> on baremetal node <node>.\nWarning, number of cpus is 0 for <instance> on baremetal node <node>.\n\nAs of the Rocky release [1], the standard compute resources (VCPU,\nMEMORY_MB, DISK_GB) are not registered with placement for ironic nodes.\nThey were not required to be set since the Pike release, but still this\nwarning is emitted.\n\nThis change removes these warning messages.\n\nBackport: rocky, queens, pike\n\n[1] https://review.openstack.org/#/c/565841/\n\nChange-Id: I342b9b12ec869431c3abad75eb8194c34151a281\nCloses-Bug: #1794773\n""}]",0,605754,63b9c88386998bc584786ecb8ea7a2aae971a384,32,18,2,14826,,,0,"Don't emit warning when ironic properties are zero

If an ironic node is registered without either of the 'memory_mb' or
'cpus' properties, the following warning messages are seen in the
nova-compute logs:

Warning, memory usage is 0 for <instance> on baremetal node <node>.
Warning, number of cpus is 0 for <instance> on baremetal node <node>.

As of the Rocky release [1], the standard compute resources (VCPU,
MEMORY_MB, DISK_GB) are not registered with placement for ironic nodes.
They were not required to be set since the Pike release, but still this
warning is emitted.

This change removes these warning messages.

Backport: rocky, queens, pike

[1] https://review.openstack.org/#/c/565841/

Change-Id: I342b9b12ec869431c3abad75eb8194c34151a281
Closes-Bug: #1794773
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/605754/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,864c3cf1eae072bcff8f33327aa0bfa20837fa8b,bug/1794773,," properties = self._parse_node_properties(node) memory_kib = properties['memory_mb'] * 1024 if memory_kib == 0: LOG.warning(""Warning, memory usage is 0 for "" ""%(instance)s on baremetal node %(node)s."", {'instance': instance.uuid, 'node': instance.node}) num_cpu = properties['cpus'] if num_cpu == 0: LOG.warning(""Warning, number of cpus is 0 for "" ""%(instance)s on baremetal node %(node)s."", {'instance': instance.uuid, 'node': instance.node}) ",0,15
openstack%2Fcharm-nova-compute~master~Id39262c53f207bb61b0a60954d5a077562e4e6f3,openstack/charm-nova-compute,master,Id39262c53f207bb61b0a60954d5a077562e4e6f3,Support for neutron context without credentials,MERGED,2018-10-05 09:57:49.000000000,2018-10-08 09:01:17.000000000,2018-10-08 09:01:17.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 09:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e4067b2bac896402bf74fd5c77132a34a4be4aa9', 'message': 'Support for neutron context without credentials\n\nIf the compute node is deployed in a cell it will get service\ncredentials via a direct relationship with keystone and not\nfrom a nova-cloud-controller relation. This change adds support\nfor having a complete CloudComputeContext without having\nservice credentials.\n\nChange-Id: Id39262c53f207bb61b0a60954d5a077562e4e6f3\n'}, {'number': 2, 'created': '2018-10-05 14:36:46.000000000', 'files': ['hooks/nova_compute_utils.py', 'hooks/nova_compute_context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/core/host.py', 'tests/basic_deployment.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'unit_tests/test_nova_compute_contexts.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e5a8c29f4f70295cf68f7c466d9528996a5766ee', 'message': 'Support for neutron context without credentials\n\nIf the compute node is deployed in a cell it will get service\ncredentials via a direct relationship with keystone and not\nfrom a nova-cloud-controller relation. This change adds support\nfor having a complete CloudComputeContext without having\nservice credentials.\n\nChange-Id: Id39262c53f207bb61b0a60954d5a077562e4e6f3\n'}]",0,608199,e5a8c29f4f70295cf68f7c466d9528996a5766ee,14,4,2,12549,,,0,"Support for neutron context without credentials

If the compute node is deployed in a cell it will get service
credentials via a direct relationship with keystone and not
from a nova-cloud-controller relation. This change adds support
for having a complete CloudComputeContext without having
service credentials.

Change-Id: Id39262c53f207bb61b0a60954d5a077562e4e6f3
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/99/608199/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_contexts.py']",3,e4067b2bac896402bf74fd5c77132a34a4be4aa9,feature/cellsv2,," 'service_protocol': None, 'service_host': None, 'service_port': None, 'admin_tenant_name': None, 'admin_user': None, 'admin_password': None, 'auth_protocol': None, 'auth_host': None, 'auth_port': None, 'api_version': None,",51,26
openstack%2Fcharm-nova-cloud-controller~master~Ic6ddc29426319b98b147c29031f60485fccc513f,openstack/charm-nova-cloud-controller,master,Ic6ddc29426319b98b147c29031f60485fccc513f,Add support for cells v2,MERGED,2018-10-05 09:27:47.000000000,2018-10-08 08:59:42.000000000,2018-10-08 08:59:42.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 09:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a306304f89d03a70f1538ba680a4141f03a6cd69', 'message': 'Add support for cells v2\n\nThis change adds relations necessary for registering a compute cell\nwith the superconductor. For a cell to be registered this charm\nmust have relations with the compute cells conductor, database and\nmessage queue. Only when all these relations are complete can the\nregistration happen. Below are major changes included in this PR.\n\n* Add nova-cell-api relation for communicating with the\n  nova-cell-conductor\n* Add shared-db-cell relation for communicating with the\n  a compute cells database.\n* Add amqp-cell relation for communicating with the\n  a compute cells message queue.\n* Add methods for registering cells with the\n  superconductors database.\n* Charm helper sync\n\nChange-Id: Ic6ddc29426319b98b147c29031f60485fccc513f\n'}, {'number': 2, 'created': '2018-10-05 11:50:32.000000000', 'files': ['hooks/nova-cell-api-relation-changed', 'hooks/nova-cell-api-relation-joined', 'hooks/nova-cell-api-relation-broken', 'hooks/amqp-cell-relation-broken', 'hooks/shared-db-cell-relation-joined', 'hooks/shared-db-cell-relation-changed', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/amqp-cell-relation-changed', 'hooks/nova_cc_utils.py', 'metadata.yaml', 'hooks/amqp-cell-relation-joined', 'hooks/nova_cc_hooks.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py', 'hooks/shared-db-cell-relation-broken'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6695d79c958b0c35c0d5983a21139a40bca1fe47', 'message': 'Add support for cells v2\n\nThis change adds relations necessary for registering a compute cell\nwith the superconductor. For a cell to be registered this charm\nmust have relations with the compute cells conductor, database and\nmessage queue. Only when all these relations are complete can the\nregistration happen. Below are major changes included in this PR.\n\n* Add nova-cell-api relation for communicating with the\n  nova-cell-conductor\n* Add shared-db-cell relation for communicating with the\n  a compute cells database.\n* Add amqp-cell relation for communicating with the\n  a compute cells message queue.\n* Add methods for registering cells with the\n  superconductors database.\n* Charm helper sync\n\nChange-Id: Ic6ddc29426319b98b147c29031f60485fccc513f\n'}]",0,608192,6695d79c958b0c35c0d5983a21139a40bca1fe47,12,4,2,12549,,,0,"Add support for cells v2

This change adds relations necessary for registering a compute cell
with the superconductor. For a cell to be registered this charm
must have relations with the compute cells conductor, database and
message queue. Only when all these relations are complete can the
registration happen. Below are major changes included in this PR.

* Add nova-cell-api relation for communicating with the
  nova-cell-conductor
* Add shared-db-cell relation for communicating with the
  a compute cells database.
* Add amqp-cell relation for communicating with the
  a compute cells message queue.
* Add methods for registering cells with the
  superconductors database.
* Charm helper sync

Change-Id: Ic6ddc29426319b98b147c29031f60485fccc513f
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/92/608192/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova-cell-api-relation-changed', 'hooks/nova-cell-api-relation-joined', 'hooks/nova-cell-api-relation-broken', 'hooks/amqp-cell-relation-broken', 'hooks/shared-db-cell-relation-joined', 'hooks/shared-db-cell-relation-changed', 'hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/amqp-cell-relation-changed', 'hooks/nova_cc_utils.py', 'metadata.yaml', 'hooks/amqp-cell-relation-joined', 'hooks/nova_cc_hooks.py', 'hooks/shared-db-cell-relation-broken']",15,a306304f89d03a70f1538ba680a4141f03a6cd69,feature/cellsv2,nova_cc_hooks.py,,412,114
openstack%2Fhorizon~master~I0f91c85ba1bf9d09346bb65c62404d6f349e9951,openstack/horizon,master,I0f91c85ba1bf9d09346bb65c62404d6f349e9951,Imported Translations from Zanata,MERGED,2018-10-08 07:34:43.000000000,2018-10-08 08:57:39.000000000,2018-10-08 08:57:39.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-08 07:34:43.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/781c05a705df718370ff39e34a6085dba08a2c59', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0f91c85ba1bf9d09346bb65c62404d6f349e9951\n'}]",0,608593,781c05a705df718370ff39e34a6085dba08a2c59,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0f91c85ba1bf9d09346bb65c62404d6f349e9951
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/608593/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,781c05a705df718370ff39e34a6085dba08a2c59,zanata/translations,"""POT-Creation-Date: 2018-10-06 16:41+0000\n""""PO-Revision-Date: 2018-10-07 11:42+0000\n""msgid ""14.0.0.0rc1-76"" msgstr ""14.0.0.0rc1-76""","""POT-Creation-Date: 2018-10-05 09:58+0000\n""""PO-Revision-Date: 2018-10-05 11:16+0000\n""msgid ""14.0.0.0rc1-74"" msgstr ""14.0.0.0rc1-74""",4,4
openstack%2Fmurano-dashboard~master~I3cd8cfb1aae169c5c481a5083b98ff5062748063,openstack/murano-dashboard,master,I3cd8cfb1aae169c5c481a5083b98ff5062748063,Use standard cover tox env,ABANDONED,2018-09-28 00:36:25.000000000,2018-10-08 08:55:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-28 00:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/7e07e88547cc02a0a610ae7dbb12d730d0460463', 'message': 'TEST\n\nChange-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063\n'}, {'number': 2, 'created': '2018-09-28 06:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/b4cfcd568df6df2baa8a9bd4ba7b4b0dd0e87254', 'message': 'Use standard cover tox env\n\nChange-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063\n'}, {'number': 3, 'created': '2018-10-06 02:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8307715a17b868026263f09f66b66b2f92ac3635', 'message': 'Use standard cover tox env\n\nChange-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063\n'}, {'number': 4, 'created': '2018-10-06 03:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/12fce9c64e0cb95a95311ac8865656bddc7c5df5', 'message': 'Use standard cover tox env\n\nChange-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063\n'}, {'number': 5, 'created': '2018-10-06 04:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/84033d1b8666882c63c9542028de5da879d6dfe0', 'message': 'Use standard cover tox env\n\nChange-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063\n'}, {'number': 6, 'created': '2018-10-08 07:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/5c521a1ed76a95b50812be20b05cbc3bb8e6a555', 'message': 'Use standard cover tox env\n\nChange-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063\n'}, {'number': 7, 'created': '2018-10-08 07:54:26.000000000', 'files': ['tools/cover.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/1d12eaa89b0faeddff975dd388b7b01a35714c12', 'message': 'Use standard cover tox env\n\nChange-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063\n'}]",0,605897,1d12eaa89b0faeddff975dd388b7b01a35714c12,12,1,7,14107,,,0,"Use standard cover tox env

Change-Id: I3cd8cfb1aae169c5c481a5083b98ff5062748063
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/97/605897/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/middleware.py'],1,7e07e88547cc02a0a610ae7dbb12d730d0460463,,,,1,0
openstack%2Fpuppet-gnocchi~master~I85f45086139079ff8c0576c1d314bfb7178a43e1,openstack/puppet-gnocchi,master,I85f45086139079ff8c0576c1d314bfb7178a43e1,Add purge_config option,MERGED,2016-06-08 02:38:08.000000000,2018-10-08 08:42:07.000000000,2016-06-08 14:01:55.000000000,"[{'_account_id': 3}, {'_account_id': 7732}, {'_account_id': 7745}]","[{'number': 1, 'created': '2016-06-08 02:38:08.000000000', 'files': ['spec/classes/gnocchi_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/d826734fb925f7c517ac4446475ad8c976c51597', 'message': 'Add purge_config option\n\nAdd the option in order to facilitate management.\nUser can ensure that only the options they hoped\nare configured.\n\nChange-Id: I85f45086139079ff8c0576c1d314bfb7178a43e1\n'}]",0,326786,d826734fb925f7c517ac4446475ad8c976c51597,14,3,1,9414,,,0,"Add purge_config option

Add the option in order to facilitate management.
User can ensure that only the options they hoped
are configured.

Change-Id: I85f45086139079ff8c0576c1d314bfb7178a43e1
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/86/326786/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/gnocchi_init_spec.rb', 'manifests/init.pp']",2,d826734fb925f7c517ac4446475ad8c976c51597,add_purge_config_option,"# [*purge_config*] # (optional) Whether to set only the specified config options # in the gnocchi config. # Defaults to false. # $purge_config = false, resources { 'gnocchi_config': purge => $purge_config, } ",,24,3
openstack%2Fkeystone~master~I15d70034502aae454ab16935e4957ed5f4d76976,openstack/keystone,master,I15d70034502aae454ab16935e4957ed5f4d76976,Docs: Remove the TokenAuth middleware,MERGED,2018-06-05 03:13:21.000000000,2018-10-08 08:36:08.000000000,2018-10-08 08:36:08.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-06-05 03:13:21.000000000', 'files': ['doc/source/getting-started/architecture.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/32a4f410bf487b404db3e6a7db453361cff306ca', 'message': 'Docs: Remove the TokenAuth middleware\n\nFollowing by I09310bab6bd728127288ba4c3cf8f884a31e2b98\n\nChange-Id: I15d70034502aae454ab16935e4957ed5f4d76976\n'}]",0,572248,32a4f410bf487b404db3e6a7db453361cff306ca,9,4,1,19779,,,0,"Docs: Remove the TokenAuth middleware

Following by I09310bab6bd728127288ba4c3cf8f884a31e2b98

Change-Id: I15d70034502aae454ab16935e4957ed5f4d76976
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/572248/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting-started/architecture.rst'],1,32a4f410bf487b404db3e6a7db453361cff306ca,tokenauth, pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context json_body ec2_extension_v3 s3_extension service_v3, pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension_v3 s3_extension service_v3,1,1
openstack%2Fglance~master~Ia7d6af7165077aa93c76185c28c355c06a202088,openstack/glance,master,Ia7d6af7165077aa93c76185c28c355c06a202088,Handle StopIteration for Py3.7 PEP 0479,MERGED,2018-07-13 16:06:01.000000000,2018-10-08 08:36:07.000000000,2018-10-08 08:36:07.000000000,"[{'_account_id': 4257}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 10608}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-13 16:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0ede62861ded19c4931349a115d1da15b34c50a3', 'message': 'Handle StopIteration for Py3.7 PEP 0479\n\nReplace raise of StopIteration with return.\n\nPEP 0479, https://www.python.org/dev/peps/pep-0479/, makes the\nfollowing change: ""when StopIteration is raised inside a generator,\nit is replaced it with RuntimeError"".\nAnd states: ""If raise StopIteration occurs directly in a generator,\nsimply replace it with return.""\n\nChange-Id: Ia7d6af7165077aa93c76185c28c355c06a202088\nCloses-Bug: #1781627\n'}, {'number': 2, 'created': '2018-07-13 17:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bf8e35e7aa621a3a2f4cb7d7ed35df459992cbe1', 'message': 'Handle StopIteration for Py3.7 PEP 0479\n\nReplace raise of StopIteration with return.\n\nPEP 0479, https://www.python.org/dev/peps/pep-0479/, makes the\nfollowing change: ""when StopIteration is raised inside a generator,\nit is replaced it with RuntimeError"".\nAnd states: ""If raise StopIteration occurs directly in a generator,\nsimply replace it with return.""\n\nChange-Id: Ia7d6af7165077aa93c76185c28c355c06a202088\nCloses-Bug: #1781627\n'}, {'number': 3, 'created': '2018-07-14 01:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b8cfe3931514cc2f5c8043a5859d3346ab976e27', 'message': 'Handle StopIteration for Py3.7 PEP 0479\n\nReplace raise of StopIteration with return.\n\nPEP 0479, https://www.python.org/dev/peps/pep-0479/, makes the\nfollowing change: ""when StopIteration is raised inside a generator,\nit is replaced it with RuntimeError"".\nAnd states: ""If raise StopIteration occurs directly in a generator,\nsimply replace it with return.""\n\nChange-Id: Ia7d6af7165077aa93c76185c28c355c06a202088\nCloses-Bug: #1781627\n'}, {'number': 4, 'created': '2018-07-14 11:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b286a29bbf7f7afc5b2e57a3517bb93e87458142', 'message': 'Handle StopIteration for Py3.7 PEP 0479\n\nReplace raise of StopIteration with return.\n\nPEP 0479, https://www.python.org/dev/peps/pep-0479/, makes the\nfollowing change: ""when StopIteration is raised inside a generator,\nit is replaced it with RuntimeError"".\nAnd states: ""If raise StopIteration occurs directly in a generator,\nsimply replace it with return.""\n\nChange-Id: Ia7d6af7165077aa93c76185c28c355c06a202088\nCloses-Bug: #1781627\n'}, {'number': 5, 'created': '2018-08-07 18:44:31.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f537389811dcc5e0ec5ee02883f75a3baa34479e', 'message': 'Handle StopIteration for Py3.7 PEP 0479\n\nReplace raise of StopIteration with return.\n\nPEP 0479, https://www.python.org/dev/peps/pep-0479/, makes the\nfollowing change: ""when StopIteration is raised inside a generator,\nit is replaced it with RuntimeError"".\nAnd states: ""If raise StopIteration occurs directly in a generator,\nsimply replace it with return.""\n\nChange-Id: Ia7d6af7165077aa93c76185c28c355c06a202088\nCloses-Bug: #1781627\n'}]",2,582628,f537389811dcc5e0ec5ee02883f75a3baa34479e,27,7,5,11805,,,0,"Handle StopIteration for Py3.7 PEP 0479

Replace raise of StopIteration with return.

PEP 0479, https://www.python.org/dev/peps/pep-0479/, makes the
following change: ""when StopIteration is raised inside a generator,
it is replaced it with RuntimeError"".
And states: ""If raise StopIteration occurs directly in a generator,
simply replace it with return.""

Change-Id: Ia7d6af7165077aa93c76185c28c355c06a202088
Closes-Bug: #1781627
",git fetch https://review.opendev.org/openstack/glance refs/changes/28/582628/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/tests/unit/api/test_common.py']",2,0ede62861ded19c4931349a115d1da15b34c50a3,bug/1781627, return, raise StopIteration(),2,2
openstack%2Ftripleo-ha-utils~master~I8f1e78e41368863aecb6962c16bba2240c3dc05c,openstack/tripleo-ha-utils,master,I8f1e78e41368863aecb6962c16bba2240c3dc05c,Add tags to validate HA playbook,MERGED,2018-10-04 13:25:27.000000000,2018-10-08 08:25:08.000000000,2018-10-08 08:25:08.000000000,"[{'_account_id': 20936}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 13:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/ebee9fa8471f9d9d31fee271d9eba4ba71fd0a78', 'message': 'Add tags to validate HA playbook\n\nThis commit add tags inside the validate ha playbook, so that a user\nwill be able to execute atomically the HA validation tests when the\nplaybook is included in other playbooks (like it happens in\nqucikstart).\n\nChange-Id: I8f1e78e41368863aecb6962c16bba2240c3dc05c\n'}, {'number': 2, 'created': '2018-10-05 08:23:10.000000000', 'files': ['playbooks/overcloud-validate-ha.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/2e2cff1969664700631a61075e47c68fb3a05db5', 'message': 'Add tags to validate HA playbook\n\nThis commit add tags inside the validate ha playbook, so that a user\nwill be able to execute atomically the HA validation tests when the\nplaybook is included in other playbooks (like it happens in\nqucikstart).\n\nChange-Id: I8f1e78e41368863aecb6962c16bba2240c3dc05c\n'}]",0,607957,2e2cff1969664700631a61075e47c68fb3a05db5,8,2,2,20936,,,0,"Add tags to validate HA playbook

This commit add tags inside the validate ha playbook, so that a user
will be able to execute atomically the HA validation tests when the
playbook is included in other playbooks (like it happens in
qucikstart).

Change-Id: I8f1e78e41368863aecb6962c16bba2240c3dc05c
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/57/607957/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/overcloud-validate-ha.yml'],1,ebee9fa8471f9d9d31fee271d9eba4ba71fd0a78,add_tags_for_validate_ha_pb, tags: - overcloud-validate-ha tags: - overcloud-validate-ha,,4,0
openstack%2Fdevstack~master~Ie942518b587d193a7de55ffcc0a2848406146eb2,openstack/devstack,master,Ie942518b587d193a7de55ffcc0a2848406146eb2,Update horizon wsgi wrapper to the recommended one,MERGED,2018-09-08 18:37:08.000000000,2018-10-08 08:17:35.000000000,2018-10-08 08:17:35.000000000,"[{'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 1736}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-08 18:37:08.000000000', 'files': ['files/apache-horizon.template'], 'web_link': 'https://opendev.org/openstack/devstack/commit/41fe3ebd4b1570c83ddf45cb8c240528aa06a56c', 'message': 'Update horizon wsgi wrapper to the recommended one\n\nDuring Rocky cycle, horizon updates the path of the wsgi wrapper\nto the one recommended by Django [1]. The old path will be dropped\nin the T release.\n\n[1] https://review.openstack.org/#/c/561802/\n\nRelated-Bug: #1763204\nChange-Id: Ie942518b587d193a7de55ffcc0a2848406146eb2\n'}]",0,600970,41fe3ebd4b1570c83ddf45cb8c240528aa06a56c,23,11,1,841,,,0,"Update horizon wsgi wrapper to the recommended one

During Rocky cycle, horizon updates the path of the wsgi wrapper
to the one recommended by Django [1]. The old path will be dropped
in the T release.

[1] https://review.openstack.org/#/c/561802/

Related-Bug: #1763204
Change-Id: Ie942518b587d193a7de55ffcc0a2848406146eb2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/600970/1 && git format-patch -1 --stdout FETCH_HEAD,['files/apache-horizon.template'],1,41fe3ebd4b1570c83ddf45cb8c240528aa06a56c,bug/1763204, WSGIScriptAlias %WEBROOT% %HORIZON_DIR%/openstack_dashboard/wsgi.py, WSGIScriptAlias %WEBROOT% %HORIZON_DIR%/openstack_dashboard/wsgi/django.wsgi,1,1
openstack%2Fdevstack~master~I28aebffce6c5561360a9e44c1abc44b709054c30,openstack/devstack,master,I28aebffce6c5561360a9e44c1abc44b709054c30,Fix common systemd pitfalls die msg,MERGED,2018-09-26 13:52:25.000000000,2018-10-08 08:17:32.000000000,2018-10-08 08:17:32.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 25618}]","[{'number': 1, 'created': '2018-09-26 13:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6120354c52f0be60f7a0482172f66971854a6b2e', 'message': 'Fix common systemd pitfalls die msg\n\nThat change introduces correct way of generating msg\nfor die in common systemd pitfalls.\n\nChange-Id: I28aebffce6c5561360a9e44c1abc44b709054c30\n'}, {'number': 2, 'created': '2018-09-26 14:01:13.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4e16c3dd5f4c5740ab92facf2083282440df9ac0', 'message': 'Fix common systemd pitfalls die msg\n\nThat change introduces correct way of generating msg\nfor die in common systemd pitfalls.\n\nCo-Authored-By: Szymon Datko <szymon.datko@corp.ovh.com>\nCo-Authored-By: Piotr Bielak <piotr.bielak@corp.ovh.com>\nChange-Id: I28aebffce6c5561360a9e44c1abc44b709054c30\n'}]",3,605426,4e16c3dd5f4c5740ab92facf2083282440df9ac0,12,6,2,25618,,,0,"Fix common systemd pitfalls die msg

That change introduces correct way of generating msg
for die in common systemd pitfalls.

Co-Authored-By: Szymon Datko <szymon.datko@corp.ovh.com>
Co-Authored-By: Piotr Bielak <piotr.bielak@corp.ovh.com>
Change-Id: I28aebffce6c5561360a9e44c1abc44b709054c30
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/605426/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,6120354c52f0be60f7a0482172f66971854a6b2e,fix_die_msg_for_common_systemd_pitfalls," read -r -d '' msg << EOF || true # read returns 1 for EOF, but for us it's ok read -r -d '' msg << EOF || true # read returns 1 for EOF, but for us it's ok", local msg=<<EOF local msg=<<EOF,2,2
openstack%2Fkeystone~master~I7d8b0f673051306b90950f64cd4f029389024828,openstack/keystone,master,I7d8b0f673051306b90950f64cd4f029389024828,Follow Zuul job rename,MERGED,2018-10-05 18:54:02.000000000,2018-10-08 08:17:30.000000000,2018-10-08 08:17:30.000000000,"[{'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 18:54:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/659ab0a840152825fc17e3f38ea9a578f55125fb', 'message': 'Follow Zuul job rename\n\nChange https://review.openstack.org/604868 imported the job\nlegacy-keystoneclient-dsvm-functional and renamed it as\nkeystoneclient-devstack-functional.\n\nFollow this job rename.\n\nChange-Id: I7d8b0f673051306b90950f64cd4f029389024828\n'}]",0,608337,659ab0a840152825fc17e3f38ea9a578f55125fb,11,4,1,6547,,,0,"Follow Zuul job rename

Change https://review.openstack.org/604868 imported the job
legacy-keystoneclient-dsvm-functional and renamed it as
keystoneclient-devstack-functional.

Follow this job rename.

Change-Id: I7d8b0f673051306b90950f64cd4f029389024828
",git fetch https://review.opendev.org/openstack/keystone refs/changes/37/608337/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,659ab0a840152825fc17e3f38ea9a578f55125fb,update-zuul, - keystoneclient-devstack-functional:, - legacy-keystoneclient-dsvm-functional:,1,1
openstack%2Fnetworking-odl~stable%2Fqueens~I560d6f5914eb3285459eb654b41de32dd4029fb2,openstack/networking-odl,stable/queens,I560d6f5914eb3285459eb654b41de32dd4029fb2,DNM: Control commit to use as a reference of test results,ABANDONED,2018-10-04 07:39:59.000000000,2018-10-08 08:10:43.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5196}, {'_account_id': 6773}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 07:39:59.000000000', 'files': ['networking_odl/ml2/mech_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/54027f21919dee9d61631046774bc0c9eb0b1d6f', 'message': 'DNM: Control commit to use as a reference of test results\n\nChange-Id: I560d6f5914eb3285459eb654b41de32dd4029fb2\n'}]",0,607829,54027f21919dee9d61631046774bc0c9eb0b1d6f,3,6,1,26507,,,0,"DNM: Control commit to use as a reference of test results

Change-Id: I560d6f5914eb3285459eb654b41de32dd4029fb2
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/29/607829/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/ml2/mech_driver_v2.py'],1,54027f21919dee9d61631046774bc0c9eb0b1d6f,control, MechanismDriver for OpenStack Neutron.., MechanismDriver for OpenStack Neutron.,1,1
openstack%2Fdevstack~master~Ifad7bcc15582f5c68c0c6be08a0018ab9a77e1b0,openstack/devstack,master,Ifad7bcc15582f5c68c0c6be08a0018ab9a77e1b0,Use the canonical en_US.UTF-8 name instead of en_US.utf8,ABANDONED,2018-09-06 15:18:25.000000000,2018-10-08 07:55:09.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10459}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-06 15:18:25.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bbac55c528f7837214c7f8a9e122ee14aa90751b', 'message': 'Use the canonical en_US.UTF-8 name instead of en_US.utf8\n\nChange-Id: Ifad7bcc15582f5c68c0c6be08a0018ab9a77e1b0\n'}]",1,600466,bbac55c528f7837214c7f8a9e122ee14aa90751b,9,6,1,10459,,,0,"Use the canonical en_US.UTF-8 name instead of en_US.utf8

Change-Id: Ifad7bcc15582f5c68c0c6be08a0018ab9a77e1b0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/66/600466/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,bbac55c528f7837214c7f8a9e122ee14aa90751b,utf8-locale-name,# So... en_US.UTF-8 it is. That's existed for a very long time. It is aLC_ALL=en_US.UTF-8,# So... en_US.utf8 it is. That's existed for a very long time. It is aLC_ALL=en_US.utf8,2,2
openstack%2Fpython-zunclient~master~I9638ee363ae85c36e421dc997fe2dcad5d4d71cc,openstack/python-zunclient,master,I9638ee363ae85c36e421dc997fe2dcad5d4d71cc,Encode injected file data in containers module,MERGED,2018-09-30 23:40:35.000000000,2018-10-08 07:45:35.000000000,2018-10-08 07:45:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-09-30 23:40:35.000000000', 'files': ['zunclient/common/utils.py', 'zunclient/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/3d0457ebe0e95560de1c5803281ddf13f6dfe25e', 'message': 'Encode injected file data in containers module\n\nWe encode file content before sending it via HTTP. In before,\nwe encode injected file content in CLI shell module so the file\nis encoded only when users are using CLI commands.\nThis commit moves encoding down to containers module so that it\nwill be available for non-CLI users as well.\n\nChange-Id: I9638ee363ae85c36e421dc997fe2dcad5d4d71cc\n'}]",0,606873,3d0457ebe0e95560de1c5803281ddf13f6dfe25e,6,2,1,11536,,,0,"Encode injected file data in containers module

We encode file content before sending it via HTTP. In before,
we encode injected file content in CLI shell module so the file
is encoded only when users are using CLI commands.
This commit moves encoding down to containers module so that it
will be available for non-CLI users as well.

Change-Id: I9638ee363ae85c36e421dc997fe2dcad5d4d71cc
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/73/606873/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/common/utils.py', 'zunclient/v1/containers.py']",2,3d0457ebe0e95560de1c5803281ddf13f6dfe25e,," self._process_mounts(kwargs) def _process_mounts(self, kwargs): mounts = kwargs.get('mounts', None) if mounts: for mount in mounts: if mount['type'] == 'bind': mount['source'] = utils.encode_file_data(mount['source']) self._process_mounts(kwargs)",,10,1
openstack%2Ffreezer-api~master~I61ed4dab13ff17b4612f3454b5b96a549530ba41,openstack/freezer-api,master,I61ed4dab13ff17b4612f3454b5b96a549530ba41,Add freezer_api.api.v2.clients unit test cases,MERGED,2018-10-07 03:17:53.000000000,2018-10-08 07:41:44.000000000,2018-10-08 07:41:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-07 03:17:53.000000000', 'files': ['freezer_api/tests/unit/common.py', 'freezer_api/tests/unit/v2/test_clients.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/ef24c928e037ef66b37b1520a5db922f96d7cbfc', 'message': 'Add freezer_api.api.v2.clients unit test cases\n\n1. Add \'freezer_api.api.v2.clients\'  module\'s unit test cases.\n2. Add ""project_id"" key-value to \'fake_client_info_0\'&\'fake_client_info_1\' dicts.\n\nChange-Id: I61ed4dab13ff17b4612f3454b5b96a549530ba41\n'}]",0,608438,ef24c928e037ef66b37b1520a5db922f96d7cbfc,8,3,1,21069,,,0,"Add freezer_api.api.v2.clients unit test cases

1. Add 'freezer_api.api.v2.clients'  module's unit test cases.
2. Add ""project_id"" key-value to 'fake_client_info_0'&'fake_client_info_1' dicts.

Change-Id: I61ed4dab13ff17b4612f3454b5b96a549530ba41
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/38/608438/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/tests/unit/common.py', 'freezer_api/tests/unit/v2/test_clients.py']",2,ef24c928e037ef66b37b1520a5db922f96d7cbfc,ut_patch,"# (c) Copyright 2018 ZTE Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import falcon import mock from freezer_api.api.v2 import clients as v2_clients from freezer_api.common import exceptions from freezer_api.tests.unit import common class TestClientsCollectionResource(common.FreezerBaseTestCase): def setUp(self): super(TestClientsCollectionResource, self).setUp() self.mock_db = mock.Mock() self.mock_req = mock.MagicMock() self.mock_req.env.__getitem__.side_effect = common.get_req_items self.mock_req.get_header.return_value = common.fake_data_0_user_id self.mock_req.status = falcon.HTTP_200 self.resource = v2_clients.ClientsCollectionResource(self.mock_db) self.mock_json_body = mock.Mock() self.mock_json_body.return_value = {} self.resource.json_body = self.mock_json_body def test_on_get_return_empty_list(self): self.mock_db.get_client.return_value = [] expected_result = {'clients': []} self.resource.on_get(self.mock_req, self.mock_req, common.fake_client_info_0['project_id']) result = self.mock_req.body self.assertEqual(expected_result, result) self.assertEqual(falcon.HTTP_200, self.mock_req.status) def test_on_get_return_correct_list(self): self.mock_db.get_client.return_value = [common.fake_client_entry_0, common.fake_client_entry_1] expected_result = {'clients': [common.fake_client_entry_0, common.fake_client_entry_1]} self.resource.on_get(self.mock_req, self.mock_req, common.fake_client_info_0['project_id']) result = self.mock_req.body self.assertEqual(expected_result, result) self.assertEqual(falcon.HTTP_200, self.mock_req.status) def test_on_post_raises_when_missing_body(self): self.mock_db.add_client.return_value = common.fake_client_info_0[ 'client_id'] self.assertRaises(exceptions.BadDataFormat, self.resource.on_post, self.mock_req, self.mock_req, common.fake_client_info_0['project_id']) def test_on_post_inserts_correct_data(self): self.mock_json_body.return_value = common.fake_client_info_0 self.mock_db.add_client.return_value = common.fake_client_info_0[ 'client_id'] expected_result = {'client_id': common.fake_client_info_0['client_id']} self.resource.on_post(self.mock_req, self.mock_req, common.fake_client_info_0['project_id']) self.assertEqual(falcon.HTTP_201, self.mock_req.status) self.assertEqual(expected_result, self.mock_req.body) class TestClientsResource(common.FreezerBaseTestCase): def setUp(self): super(TestClientsResource, self).setUp() self.mock_db = mock.Mock() self.mock_req = mock.MagicMock() self.mock_req.env.__getitem__.side_effect = common.get_req_items self.mock_req.get_header.return_value = common.fake_data_0_user_id self.mock_req.status = falcon.HTTP_200 self.resource = v2_clients.ClientsResource(self.mock_db) self.mock_json_body = mock.Mock() self.mock_json_body.return_value = {} self.resource.json_body = self.mock_json_body def test_create_resource(self): self.assertIsInstance(self.resource, v2_clients.ClientsResource) def test_on_get_return_no_result_and_404_when_not_found(self): self.mock_db.get_client.return_value = [] self.mock_req.body = None self.resource.on_get(self.mock_req, self.mock_req, common.fake_client_info_0['project_id'], common.fake_client_info_0['client_id']) self.assertIsNone(self.mock_req.body) self.assertEqual(falcon.HTTP_404, self.mock_req.status) def test_on_get_return_correct_data(self): self.mock_db.get_client.return_value = [common.fake_client_entry_0] expected_result = common.fake_client_entry_0 self.resource.on_get(self.mock_req, self.mock_req, common.fake_client_info_0['project_id'], common.fake_client_info_0['client_id']) result = self.mock_req.body self.assertEqual(expected_result, result) self.assertEqual(falcon.HTTP_200, self.mock_req.status) def test_on_delete_removes_proper_data(self): self.resource.on_delete(self.mock_req, self.mock_req, common.fake_client_info_0['project_id'], common.fake_client_info_0['client_id']) result = self.mock_req.body expected_result = {'client_id': common.fake_client_info_0['client_id']} self.assertEqual(falcon.HTTP_204, self.mock_req.status) self.assertEqual(expected_result, result) ",,118,0
openstack%2Fpython-zunclient~master~I9c8b052ee56fcc5a72030d289d9152f847209a87,openstack/python-zunclient,master,I9c8b052ee56fcc5a72030d289d9152f847209a87,Remove an empty line in .zuul.yaml,MERGED,2018-10-02 02:19:52.000000000,2018-10-08 07:39:21.000000000,2018-10-08 07:39:21.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-10-02 02:19:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/ae8339e1e9c01339164a1fd8164277fea88a0cc4', 'message': 'Remove an empty line in .zuul.yaml\n\nChange-Id: I9c8b052ee56fcc5a72030d289d9152f847209a87\n'}]",0,607087,ae8339e1e9c01339164a1fd8164277fea88a0cc4,6,2,1,11536,,,0,"Remove an empty line in .zuul.yaml

Change-Id: I9c8b052ee56fcc5a72030d289d9152f847209a87
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/87/607087/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ae8339e1e9c01339164a1fd8164277fea88a0cc4,,,,0,1
openstack%2Ffreezer~stable%2Fqueens~I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb,openstack/freezer,stable/queens,I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb,Fixes starting freezer-scheduler with --no-daemon,MERGED,2018-05-15 11:50:05.000000000,2018-10-08 07:32:05.000000000,2018-10-08 07:32:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 23735}, {'_account_id': 26139}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-05-15 11:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/487c57cfd356a0ed3abb90dcbc00d7000dc15058', 'message': ""Fixes starting freezer-scheduler with --no-daemon\n\nWhen using flag --no-daemon, freezer-scheduler --no-daemon start fails with\nAttributeError: 'NoDaemon' object has no attribute 'restart'\n(freezer_scheduler.py: L251). This patch adds missing dummy methods for reload\nand restart actions.\n\nChange-Id: I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb\n""}, {'number': 2, 'created': '2018-05-17 11:19:14.000000000', 'files': ['freezer/scheduler/daemon.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/ac05bdcb29b5bd8e976f565454c765056d509df8', 'message': ""Fixes starting freezer-scheduler with --no-daemon\n\nWhen using flag --no-daemon, freezer-scheduler --no-daemon start fails\nwith AttributeError: 'NoDaemon' object has no attribute 'restart'\n(freezer_scheduler.py: L251). This patch adds missing dummy methods for\nreload and restart actions.\n\nChange-Id: I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb\n""}]",0,568564,ac05bdcb29b5bd8e976f565454c765056d509df8,32,6,2,26139,,,0,"Fixes starting freezer-scheduler with --no-daemon

When using flag --no-daemon, freezer-scheduler --no-daemon start fails
with AttributeError: 'NoDaemon' object has no attribute 'restart'
(freezer_scheduler.py: L251). This patch adds missing dummy methods for
reload and restart actions.

Change-Id: I72a0a4f68503b7c143cbe6c6f13cfbdc08e6ccbb
",git fetch https://review.opendev.org/openstack/freezer refs/changes/64/568564/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/scheduler/daemon.py'],1,487c57cfd356a0ed3abb90dcbc00d7000dc15058,, def restart(self): pass def reload(self): pass ,,6,0
openstack%2Fcharm-keystone~stable%2F18.08~I02726c07ee4ed1e78ea1bfaa93adc2564a1a8236,openstack/charm-keystone,stable/18.08,I02726c07ee4ed1e78ea1bfaa93adc2564a1a8236,Assign username from config if none is given,MERGED,2018-10-04 20:10:44.000000000,2018-10-08 07:29:45.000000000,2018-10-08 07:29:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 20:10:44.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/fc8439fe49a579c826b87df3dc9f62de87a73e3d', 'message': ""Assign username from config if none is given\n\nWhen hooks/keystone_utils.py:get_admin_passwd is called without the user\nparameter, the parameter should default to config('admin-user')\n\nAlso changed the log, to use the parameter for consistency with facts.\n\nDon't assume 'admin' is always the username for admin, when setting the\nadmin password.\n\nAdded unittests to check the various options, either specifying the\nusername via function arguments, or use setting from\nconfig('admin-user').\n\nChange-Id: I02726c07ee4ed1e78ea1bfaa93adc2564a1a8236\nCloses-Bug: 1794893\n(cherry picked from commit 78f2e5e049dd9dbebd06197683aeb2e4238f4de2)\n""}]",0,608071,fc8439fe49a579c826b87df3dc9f62de87a73e3d,7,3,1,29213,,,0,"Assign username from config if none is given

When hooks/keystone_utils.py:get_admin_passwd is called without the user
parameter, the parameter should default to config('admin-user')

Also changed the log, to use the parameter for consistency with facts.

Don't assume 'admin' is always the username for admin, when setting the
admin password.

Added unittests to check the various options, either specifying the
username via function arguments, or use setting from
config('admin-user').

Change-Id: I02726c07ee4ed1e78ea1bfaa93adc2564a1a8236
Closes-Bug: 1794893
(cherry picked from commit 78f2e5e049dd9dbebd06197683aeb2e4238f4de2)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/71/608071/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,fc8439fe49a579c826b87df3dc9f62de87a73e3d,bug/1794893," if user is None: user = config('admin-user') log(""Generating new passwd for user: %s"" % user) user = config('admin-user')"," log(""Generating new passwd for user: %s"" % config(""admin-user"")) user = 'admin'",48,3
openstack%2Fswift~master~I0671f65f5214337c07644cb0bb4a945c5857ab9d,openstack/swift,master,I0671f65f5214337c07644cb0bb4a945c5857ab9d,Tolerate missing containers when trying to clean up,MERGED,2018-09-28 23:03:06.000000000,2018-10-08 07:16:35.000000000,2018-10-08 07:16:34.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 23:03:06.000000000', 'files': ['test/functional/swift_test_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/96866808b8fd45675c6bf1491f990b496e35b705', 'message': 'Tolerate missing containers when trying to clean up\n\nSeen in the gate:\n\n    Traceback (most recent call last):\n      File ""test/functional/tests.py"", line 97, in setUpClass\n        cls.env.setUp()\n      File ""test/functional/tests.py"", line 2561, in setUp\n        super(TestFileComparisonEnv, cls).setUp()\n      File ""test/functional/tests.py"", line 81, in setUp\n        cls.account.delete_containers()\n      File ""test/functional/swift_test_client.py"", line 495, in delete_containers\n        cont.update_metadata(hdrs={\'x-versions-location\': \'\'})\n      File ""test/functional/swift_test_client.py"", line 558, in update_metadata\n        self.conn.make_path(self.path))\n    test.functional.swift_test_client.ResponseError: 404: \'Not Found\'\n\nPresumably, this was because the account-update to remove the container\nfrom listings had to be handled async, so a deleted container still\nshowed up in listings.\n\nWe might still hit errors when we go to empty out the already-deleted\ncontainer, though :-/\n\nChange-Id: I0671f65f5214337c07644cb0bb4a945c5857ab9d\n'}]",0,606217,96866808b8fd45675c6bf1491f990b496e35b705,6,2,1,15343,,,0,"Tolerate missing containers when trying to clean up

Seen in the gate:

    Traceback (most recent call last):
      File ""test/functional/tests.py"", line 97, in setUpClass
        cls.env.setUp()
      File ""test/functional/tests.py"", line 2561, in setUp
        super(TestFileComparisonEnv, cls).setUp()
      File ""test/functional/tests.py"", line 81, in setUp
        cls.account.delete_containers()
      File ""test/functional/swift_test_client.py"", line 495, in delete_containers
        cont.update_metadata(hdrs={'x-versions-location': ''})
      File ""test/functional/swift_test_client.py"", line 558, in update_metadata
        self.conn.make_path(self.path))
    test.functional.swift_test_client.ResponseError: 404: 'Not Found'

Presumably, this was because the account-update to remove the container
from listings had to be handled async, so a deleted container still
showed up in listings.

We might still hit errors when we go to empty out the already-deleted
container, though :-/

Change-Id: I0671f65f5214337c07644cb0bb4a945c5857ab9d
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/606217/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/swift_test_client.py'],1,96866808b8fd45675c6bf1491f990b496e35b705,," cont.update_metadata(hdrs={'x-versions-location': ''}, tolerate_missing=True) def update_metadata(self, hdrs=None, cfg=None, tolerate_missing=False): if 200 <= self.conn.response.status <= 299: return True if tolerate_missing and self.conn.response.status == 404: return True raise ResponseError(self.conn.response, 'POST', self.conn.make_path(self.path))"," cont.update_metadata(hdrs={'x-versions-location': ''}) def update_metadata(self, hdrs=None, cfg=None): if not 200 <= self.conn.response.status <= 299: raise ResponseError(self.conn.response, 'POST', self.conn.make_path(self.path)) return True",9,6
openstack%2Fnova~stable%2Frocky~If1c901b974bc7295927b3f033a04eaa6ac36f603,openstack/nova,stable/rocky,If1c901b974bc7295927b3f033a04eaa6ac36f603,Not set instance to ERROR if set_admin_password failed,MERGED,2018-10-05 06:34:27.000000000,2018-10-08 07:16:31.000000000,2018-10-08 07:16:31.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 06:34:27.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae39c0332d773226e3bd7dd0f81da9660b7ba7cb', 'message': 'Not set instance to ERROR if set_admin_password failed\n\nIn some cases, an instance will be set to ERROR state when\nset_admin_password failed (some Exception like Forbidden)\nthis is inconsistent to other exceptions and also\nset_admin_password is a sync call from API to compute,\nwe can simply return the error to the upper layer (operator or\nuser) to avoid make user run reset to restore instance\nstatus since no changes to guest at all.\n\nChange-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603\nCloses-Bug: 1757061\n(cherry picked from commit 513f2d3d254e2ffcc5c9eb786bc1c7d52036d392)\n'}]",0,608165,ae39c0332d773226e3bd7dd0f81da9660b7ba7cb,19,12,1,9373,,,0,"Not set instance to ERROR if set_admin_password failed

In some cases, an instance will be set to ERROR state when
set_admin_password failed (some Exception like Forbidden)
this is inconsistent to other exceptions and also
set_admin_password is a sync call from API to compute,
we can simply return the error to the upper layer (operator or
user) to avoid make user run reset to restore instance
status since no changes to guest at all.

Change-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603
Closes-Bug: 1757061
(cherry picked from commit 513f2d3d254e2ffcc5c9eb786bc1c7d52036d392)
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/608165/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,ae39c0332d773226e3bd7dd0f81da9660b7ba7cb,bug/1757061,," self._set_instance_obj_error_state(context, instance)",2,8
openstack%2Ftripleo-quickstart-extras~master~I68abd23b2235ce9d7ea5adfb69b3226572035391,openstack/tripleo-quickstart-extras,master,I68abd23b2235ce9d7ea5adfb69b3226572035391,Fix tls_tht module - KeyError issue,ABANDONED,2018-10-08 06:57:40.000000000,2018-10-08 07:08:44.000000000,,"[{'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 18846}, {'_account_id': 20172}, {'_account_id': 20970}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-10-08 06:57:40.000000000', 'files': ['roles/overcloud-ssl/library/tls_tht.py'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2841631a58fb7b61e1b995c442377440506d3900', 'message': ""Fix tls_tht module - KeyError issue\n\n'resource_registry' is not a key in:\n    environments/ssl/enable-tls.yaml\n\nOS::TripleO::NodeTLSData: does not seem to be used\nanymore. Dropping it from tls_tht module.\n\nCloses-Bug: #1796626\nChange-Id: I68abd23b2235ce9d7ea5adfb69b3226572035391\n""}]",0,608588,2841631a58fb7b61e1b995c442377440506d3900,4,6,1,24245,,,0,"Fix tls_tht module - KeyError issue

'resource_registry' is not a key in:
    environments/ssl/enable-tls.yaml

OS::TripleO::NodeTLSData: does not seem to be used
anymore. Dropping it from tls_tht module.

Closes-Bug: #1796626
Change-Id: I68abd23b2235ce9d7ea5adfb69b3226572035391
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/88/608588/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-ssl/library/tls_tht.py'],1,2841631a58fb7b61e1b995c442377440506d3900,bug/1796626,," output_dict[""resource_registry""][""OS::TripleO::NodeTLSData""] = \ ""{}/puppet/extraconfig/tls/tls-cert-inject.yaml"".format(source_dir) ",0,3
openstack%2Fopenstack-helm-infra~master~Ic06747822dd614d6fae5bfa0b281e468bb276f83,openstack/openstack-helm-infra,master,Ic06747822dd614d6fae5bfa0b281e468bb276f83,Update fluentd docker image,ABANDONED,2018-06-27 11:42:32.000000000,2018-10-08 07:04:36.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 26931}]","[{'number': 1, 'created': '2018-06-27 11:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd484c4860ca53677d61f28186c9b43d8749b14b', 'message': ""Update fluentd docker image\n\nThis PS is for a change of fluentd's docker image. Current docker image is\nmade by the kolla project. Kolla install the fluentd from the repository.\nSo, it is hard to check the version of fluentd instantly.\n\nCurrent image, use a old version (0.x) and the fluentd.io announce 1.x now.\nThe fluentd v1.2 officially contains the elasticsearch plugin which is used\nin fluent-logging. So, I suggest to use the latest offical image from the\nfluend.io\n\nChange-Id: Ic06747822dd614d6fae5bfa0b281e468bb276f83\n""}, {'number': 2, 'created': '2018-06-28 07:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7ec3c7b157eeb57c92fcab6afa9923ecde629f2', 'message': ""Update fluentd docker image\n\nThis PS is for a change of fluentd's docker image. Current docker image is\nmade by the kolla project. Kolla install the fluentd from the repository.\nSo, it is hard to check the version of fluentd instantly.\n\nCurrent image, use a old version (0.x) and the fluentd.io announce 1.x now.\nThe fluentd v1.2 officially contains the elasticsearch plugin which is used\nin fluent-logging. So, I suggest to use the latest offical image from the\nfluend.io\n\nChange-Id: Ic06747822dd614d6fae5bfa0b281e468bb276f83\n""}, {'number': 3, 'created': '2018-06-28 07:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15242dc91e6b61f5883366834686f1f428d97ff5', 'message': ""Update fluentd docker image\n\nThis PS is for a change of fluentd's docker image. Current docker image is\nmade by the kolla project. Kolla install the fluentd from the repository.\nSo, it is hard to check the version of fluentd instantly.\n\nCurrent image, use a old version (0.x) and the fluentd.io announce 1.x now.\nThe fluentd v1.2 officially contains the elasticsearch plugin which is used\nin fluent-logging. So, I suggest to use the latest offical image from the\nfluentd.io\n\nChange-Id: Ic06747822dd614d6fae5bfa0b281e468bb276f83\n""}, {'number': 4, 'created': '2018-06-28 13:22:45.000000000', 'files': ['fluent-logging/templates/deployment-fluentd.yaml', 'fluent-logging/templates/bin/_fluentd.sh.tpl', 'fluent-logging/templates/configmap-etc.yaml', 'fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/99d851dd0b16d97404dbd931d6c9812a634b027f', 'message': ""Update fluentd docker image\n\nThis PS is for a change of fluentd's docker image. Current docker image is\nmade by the kolla project. Kolla install the fluentd from the repository.\nSo, it is hard to check the version of fluentd instantly.\n\nCurrent image, use a old version (0.x) and the fluentd.io announce 1.x now.\nThe fluentd v1.2 officially contains the elasticsearch plugin which is used\nin fluent-logging. So, I suggest to use the latest offical image from the\nfluentd.io\n\nChange-Id: Ic06747822dd614d6fae5bfa0b281e468bb276f83\n""}]",2,578361,99d851dd0b16d97404dbd931d6c9812a634b027f,10,3,4,26931,,,0,"Update fluentd docker image

This PS is for a change of fluentd's docker image. Current docker image is
made by the kolla project. Kolla install the fluentd from the repository.
So, it is hard to check the version of fluentd instantly.

Current image, use a old version (0.x) and the fluentd.io announce 1.x now.
The fluentd v1.2 officially contains the elasticsearch plugin which is used
in fluent-logging. So, I suggest to use the latest offical image from the
fluentd.io

Change-Id: Ic06747822dd614d6fae5bfa0b281e468bb276f83
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/578361/1 && git format-patch -1 --stdout FETCH_HEAD,"['fluent-logging/templates/deployment-fluentd.yaml', 'fluent-logging/templates/bin/_fluentd.sh.tpl', 'fluent-logging/templates/configmap-etc.yaml', 'fluent-logging/values.yaml']",4,fd484c4860ca53677d61f28186c9b43d8749b14b,fluent/fluentd_image_change, fluentd: docker.io/fluent/fluentd-kubernetes-daemonset:stable-elasticsearch Time_as_Integer: True fluentd:, fluentd: docker.io/kolla/ubuntu-source-fluentd:ocata td_agent:,12,8
openstack%2Fzaqar~master~Ic18f76fef2b139a3edefecc6004846b11ee7653e,openstack/zaqar,master,Ic18f76fef2b139a3edefecc6004846b11ee7653e,Cleanup .zuul.yaml,MERGED,2018-09-30 09:49:52.000000000,2018-10-08 06:33:25.000000000,2018-10-08 06:33:25.000000000,"[{'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 7385}, {'_account_id': 8846}, {'_account_id': 12321}, {'_account_id': 14203}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-09-30 09:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6b5b8155d462806f21ce7656bfc775c072c396c8', 'message': 'Cleanup .zuul.yaml\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n* Remove install-guide-jobs template, this stayed in project-config\n  and is wrong on this branch.\n\nImport job legacy-rally-dsvm-zaqar-zaqar and rename according to\nZuul v3 naming conventions.\n\nChange-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e\n'}, {'number': 2, 'created': '2018-09-30 09:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d7dc1bc750aed121bfc50fc999ff03e96cfd2deb', 'message': ""Cleanup .zuul.yaml\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n* Remove install-guide-jobs template, this stayed in project-config\n  and is wrong on this branch.\n* Remove branches condition, there's an implicit one, this is not\n  needed.\n\nImport job legacy-rally-dsvm-zaqar-zaqar and rename according to\nZuul v3 naming conventions.\n\nChange-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e\n""}, {'number': 3, 'created': '2018-09-30 10:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/20e11cc0ff2b527401d63be8a38f7a726aa626b4', 'message': ""Cleanup .zuul.yaml\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n* Remove install-guide-jobs template, this stayed in project-config\n  and is wrong on this branch.\n* Remove branches condition, there's an implicit one, this is not\n  needed.\n* Remove job tripleo-ci-centos-7-scenario002-multinode-oooq that\n  only runs in pike, it gets ignored in this file.\n\nImport job legacy-rally-dsvm-zaqar-zaqar and rename according to\nZuul v3 naming conventions.\n\nChange-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e\n""}, {'number': 4, 'created': '2018-09-30 10:25:53.000000000', 'files': ['playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml', 'playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/49d6cfaaf8a1b4a970a5ca6c36a41439d1f8f968', 'message': ""Cleanup .zuul.yaml\n\nSmall cleanups:\n\n* Use openstack-lower-constraints-jobs template, remove individual\n  jobs.\n* Sort list of templates\n* Remove install-guide-jobs template, this stayed in project-config\n  and is wrong on this branch.\n* Remove branches condition, there's an implicit one, this is not\n  needed.\n* Remove job tripleo-ci-centos-7-scenario002-multinode-oooq that\n  only runs in pike, it gets ignored in this file.\n\nImport job legacy-rally-dsvm-zaqar-zaqar and rename according to\nZuul v3 naming conventions.\n\nChange-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e\n""}]",0,606837,49d6cfaaf8a1b4a970a5ca6c36a41439d1f8f968,21,12,4,6547,,,0,"Cleanup .zuul.yaml

Small cleanups:

* Use openstack-lower-constraints-jobs template, remove individual
  jobs.
* Sort list of templates
* Remove install-guide-jobs template, this stayed in project-config
  and is wrong on this branch.
* Remove branches condition, there's an implicit one, this is not
  needed.
* Remove job tripleo-ci-centos-7-scenario002-multinode-oooq that
  only runs in pike, it gets ignored in this file.

Import job legacy-rally-dsvm-zaqar-zaqar and rename according to
Zuul v3 naming conventions.

Change-Id: Ic18f76fef2b139a3edefecc6004846b11ee7653e
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/37/606837/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml', 'playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml', '.zuul.yaml']",3,6b5b8155d462806f21ce7656bfc775c072c396c8,update-zuul,- job: name: zaqar-rally parent: legacy-dsvm-base run: playbooks/legacy/rally-dsvm-zaqar-zaqar/run.yaml post-run: playbooks/legacy/rally-dsvm-zaqar-zaqar/post.yaml timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/aodh - openstack/ceilometer - openstack/diskimage-builder - openstack/ironic - openstack/magnum - openstack/networking-bgpvpn - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/neutron-vpnaas - openstack/octavia - openstack/panko - openstack/python-magnumclient - openstack/python-senlinclient - openstack/python-watcherclient - openstack/python-zaqarclient - openstack/rally - openstack/senlin - openstack/tripleo-image-elements - openstack/watcher - openstack/zaqar - openstack/zaqar-ui - check-requirements - openstack-lower-constraints-jobs - openstack-python-jobs - zaqar-rally:, - openstack-python-jobs - check-requirements - install-guide-jobs - openstack-tox-lower-constraints - legacy-rally-dsvm-zaqar-zaqar: - openstack-tox-lower-constraints,251,6
openstack%2Fos-brick~master~Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0,openstack/os-brick,master,Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0,The validation of iscsi session should be case insensitive,MERGED,2018-09-21 03:20:21.000000000,2018-10-08 05:51:59.000000000,2018-10-02 23:22:47.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-09-21 03:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/faa3d7376ae23fed3d9d7d1baca84e57f0eb6a6c', 'message': ""The validation of iscsi session should be case insensitive\n\nThe validation of iscsi session should be case insensitive since IPv6\naddress is case insensitive. If the portal address are all lower cases,\nand the address get from 'iscsiadm -m session' contain upper cases,\nthe validation of iscsi session will failed, the loop will be endless.\n\nChange-Id: Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0\nCloses-bug: #1793627\n""}, {'number': 2, 'created': '2018-09-21 03:22:34.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8782c4accfea8a745676517c1880810cfa07feac', 'message': ""The validation of iscsi session should be case insensitive\n\nThe validation of iscsi session should be case insensitive since IPv6\naddress is case insensitive. If the portal address are all lower cases,\nand the address get from 'iscsiadm -m session' contain upper cases,\nthe validation of iscsi session will failed, the loop will be endless.\n\nChange-Id: Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0\nCloses-bug: #1793627\n""}]",0,604253,8782c4accfea8a745676517c1880810cfa07feac,22,16,2,26114,,,0,"The validation of iscsi session should be case insensitive

The validation of iscsi session should be case insensitive since IPv6
address is case insensitive. If the portal address are all lower cases,
and the address get from 'iscsiadm -m session' contain upper cases,
the validation of iscsi session will failed, the loop will be endless.

Change-Id: Ief5108e40f13cc53d8d9e9c5d1a5054f58f72aa0
Closes-bug: #1793627
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/53/604253/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,faa3d7376ae23fed3d9d7d1baca84e57f0eb6a6c,bug/1793627, portal.lower() == s[2].lower() and s[4] == target_iqn):, portal == s[2] and s[4] == target_iqn):,33,1
openstack%2Fdiskimage-builder~master~I4867c39a2995e35a0a1e9cba8f786cf4e6188141,openstack/diskimage-builder,master,I4867c39a2995e35a0a1e9cba8f786cf4e6188141,fix a typo,MERGED,2018-10-05 09:26:09.000000000,2018-10-08 05:46:04.000000000,2018-10-08 05:46:04.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-05 09:26:09.000000000', 'files': ['diskimage_builder/lib/common-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b85bc24761a505295be1cefc66e7d54aa1ae18e3', 'message': 'fix a typo\n\nChange-Id: I4867c39a2995e35a0a1e9cba8f786cf4e6188141\n'}]",0,608191,b85bc24761a505295be1cefc66e7d54aa1ae18e3,8,4,1,17130,,,0,"fix a typo

Change-Id: I4867c39a2995e35a0a1e9cba8f786cf4e6188141
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/91/608191/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/common-functions'],1,b85bc24761a505295be1cefc66e7d54aa1ae18e3,fixtypo,"# This is the ""internal"" version of dib-run-parts. Note the currently","# This is the ""internal"" verison of dib-run-parts. Note the currently",1,1
openstack%2Fsecurity-doc~master~I1c79db2752d3316d27aad8af258719d6b4ad9f6c,openstack/security-doc,master,I1c79db2752d3316d27aad8af258719d6b4ad9f6c,fix tox python3 overrides,MERGED,2018-09-29 23:53:39.000000000,2018-10-08 05:43:48.000000000,2018-10-08 05:43:47.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d4cd4551198c593452d64dd4cd131ce1a075cead', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I1c79db2752d3316d27aad8af258719d6b4ad9f6c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-09-30 09:08:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/eb0efbb4ebc5a3f46a9a01061744bda91a88be05', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I1c79db2752d3316d27aad8af258719d6b4ad9f6c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606716,eb0efbb4ebc5a3f46a9a01061744bda91a88be05,9,2,2,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I1c79db2752d3316d27aad8af258719d6b4ad9f6c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/16/606716/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d4cd4551198c593452d64dd4cd131ce1a075cead,python3-first,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fnova~master~I395ac34189c9fc010a37d4a73fac151d0f625ba2,openstack/nova,master,I395ac34189c9fc010a37d4a73fac151d0f625ba2,Time how long select_destinations() takes in conductor,MERGED,2017-11-01 21:06:35.000000000,2018-10-08 05:41:08.000000000,2018-09-28 05:06:41.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-01 21:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c70e78369fb05404197b1d002d4663460585ce1e', 'message': ""Time how long select_destinations() takes in conductor\n\nWhen we see weird bugs due to race windows, like bug 1729371,\nit would be good to know if we're spending an inordinate amount\nof time in the scheduler selecting destinations because that\ncan have a real effect on things happening before the instance\nis created in a cell during the initial create.\n\nChange-Id: I395ac34189c9fc010a37d4a73fac151d0f625ba2\nRelated-Bug: #1729371\n""}, {'number': 2, 'created': '2018-08-29 21:23:10.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf92b72ce9307e2faf220a75ca858289cf46406c', 'message': ""Time how long select_destinations() takes in conductor\n\nWhen we see weird bugs due to race windows, like bug 1729371,\nit would be good to know if we're spending an inordinate amount\nof time in the scheduler selecting destinations because that\ncan have a real effect on things happening before the instance\nis created in a cell during the initial create.\n\nChange-Id: I395ac34189c9fc010a37d4a73fac151d0f625ba2\nRelated-Bug: #1729371\n""}]",1,517108,bf92b72ce9307e2faf220a75ca858289cf46406c,82,21,2,6873,,,0,"Time how long select_destinations() takes in conductor

When we see weird bugs due to race windows, like bug 1729371,
it would be good to know if we're spending an inordinate amount
of time in the scheduler selecting destinations because that
can have a real effect on things happening before the instance
is created in a cell during the initial create.

Change-Id: I395ac34189c9fc010a37d4a73fac151d0f625ba2
Related-Bug: #1729371
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/517108/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,c70e78369fb05404197b1d002d4663460585ce1e,bug/1729371,"from oslo_utils import timeutils def _schedule_instances(self, context, request_spec, instance_uuids): with timeutils.StopWatch() as timer: hosts = self.scheduler_client.select_destinations(context, request_spec, instance_uuids) LOG.debug('Took %0.2f seconds to select destinations for %s ' 'instance(s).', timer.elapsed(), len(instance_uuids))"," def _schedule_instances(self, context, request_spec, instance_uuids=None): hosts = self.scheduler_client.select_destinations(context, request_spec, instance_uuids)",7,4
openstack%2Fnova~master~If1e355d6174f15a1880e97115a2cf3f9f4be837e,openstack/nova,master,If1e355d6174f15a1880e97115a2cf3f9f4be837e,Replace usage of get_legacy_facade() with get_engine(),MERGED,2018-09-28 22:10:29.000000000,2018-10-08 05:41:06.000000000,2018-10-02 22:16:39.000000000,"[{'_account_id': 1063}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-28 22:10:29.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/020651ad3d14066af34dc5d1d96cec7c6ffe5cd9', 'message': ""Replace usage of get_legacy_facade() with get_engine()\n\nWe've been seeing warnings emitted to the python 3 unit tests:\n\n  OsloDBDeprecationWarning: EngineFacade is deprecated; please use\n  oslo_db.sqlalchemy.enginefacade\n\nwhich stem from our use of the get_legacy_facade() oslo.db method.\n\nThis replaces the get_legacy_facade() usage with the get_engine()\nmethod from the transaction context manager.\n\nCloses-Bug: #1795078\n\nChange-Id: If1e355d6174f15a1880e97115a2cf3f9f4be837e\n""}]",4,606213,020651ad3d14066af34dc5d1d96cec7c6ffe5cd9,21,14,1,4690,,,0,"Replace usage of get_legacy_facade() with get_engine()

We've been seeing warnings emitted to the python 3 unit tests:

  OsloDBDeprecationWarning: EngineFacade is deprecated; please use
  oslo_db.sqlalchemy.enginefacade

which stem from our use of the get_legacy_facade() oslo.db method.

This replaces the get_legacy_facade() usage with the get_engine()
method from the transaction context manager.

Closes-Bug: #1795078

Change-Id: If1e355d6174f15a1880e97115a2cf3f9f4be837e
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/606213/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,020651ad3d14066af34dc5d1d96cec7c6ffe5cd9,bug/1795078, if use_slave: return ctxt_mgr.reader.get_engine() return ctxt_mgr.writer.get_engine() return api_context_manager.writer.get_engine(), return ctxt_mgr.get_legacy_facade().get_engine(use_slave=use_slave) return api_context_manager.get_legacy_facade().get_engine(),19,23
openstack%2Fnova~master~If96e3d038346f16cc93209bccf3db028bacfe59b,openstack/nova,master,If96e3d038346f16cc93209bccf3db028bacfe59b,Handle missing marker during online data migration,MERGED,2018-09-25 18:16:34.000000000,2018-10-08 05:38:22.000000000,2018-10-05 03:14:09.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27566}, {'_account_id': 28433}]","[{'number': 1, 'created': '2018-09-25 18:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9fb739927f86aa5a8344eb373347f3c608ad2db', 'message': ""Handle missing marker during online data migration\n\nDuring upgrade the instance used by the request spec marker could be\ndeleted and purged between sessions. This would cause the database\nonline data migration to fail as the marker instance couldn't be found.\n\nFix by handling the MarkerNotFound exception and re-trying without the\nmarker. This will go through all the instances and reset the marker when\ndone.\n\nCloses-Bug: #1793419\nChange-Id: If96e3d038346f16cc93209bccf3db028bacfe59b\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n""}, {'number': 2, 'created': '2018-09-28 17:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b1693072344b1b57a18f5d5780c1b11cdc10a78', 'message': ""Handle missing marker during online data migration\n\nDuring upgrade the instance used by the request spec marker could be\ndeleted and purged between sessions. This would cause the database\nonline data migration to fail as the marker instance couldn't be found.\n\nFix by handling the MarkerNotFound exception and re-trying without the\nmarker. This will go through all the instances and reset the marker when\ndone.\n\nCloses-Bug: #1793419\nChange-Id: If96e3d038346f16cc93209bccf3db028bacfe59b\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n""}, {'number': 3, 'created': '2018-10-01 19:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a8052cb47b5734975a0941f44e3bf691f99a767', 'message': ""Handle missing marker during online data migration\n\nDuring upgrade the instance used by the request spec marker could be\ndeleted and purged between sessions. This would cause the database\nonline data migration to fail as the marker instance couldn't be found.\n\nFix by handling the MarkerNotFound exception and re-trying without the\nmarker. This will go through all the instances and reset the marker when\ndone.\n\nCloses-Bug: #1793419\nChange-Id: If96e3d038346f16cc93209bccf3db028bacfe59b\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n""}, {'number': 4, 'created': '2018-10-02 00:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de70d8d08a9bd8467684fdef4293f30bcae03019', 'message': ""Handle missing marker during online data migration\n\nDuring upgrade the instance used by the request spec marker could be\ndeleted and purged between sessions. This would cause the database\nonline data migration to fail as the marker instance couldn't be found.\n\nFix by handling the MarkerNotFound exception and re-trying without the\nmarker. This will go through all the instances and reset the marker when\ndone.\n\nCloses-Bug: #1793419\nChange-Id: If96e3d038346f16cc93209bccf3db028bacfe59b\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n""}, {'number': 5, 'created': '2018-10-04 13:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb4093ea27ca6fe9173ddca0b609a9dcdb8ddd1a', 'message': ""Handle missing marker during online data migration\n\nDuring upgrade the instance used by the request spec marker could be\ndeleted and purged between sessions. This would cause the database\nonline data migration to fail as the marker instance couldn't be found.\n\nFix by handling the MarkerNotFound exception and re-trying without the\nmarker. This will go through all the instances and reset the marker when\ndone.\n\nCloses-Bug: #1793419\nChange-Id: If96e3d038346f16cc93209bccf3db028bacfe59b\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n""}, {'number': 6, 'created': '2018-10-04 16:13:53.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/functional/db/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff03b157b930de23e5912802cbfbc86889c869c2', 'message': ""Handle missing marker during online data migration\n\nDuring upgrade the instance used by the request spec marker could be\ndeleted and purged between sessions. This would cause the database\nonline data migration to fail as the marker instance couldn't be found.\n\nFix by handling the MarkerNotFound exception and re-trying without the\nmarker. This will go through all the instances and reset the marker when\ndone.\n\nCloses-Bug: #1793419\nChange-Id: If96e3d038346f16cc93209bccf3db028bacfe59b\nSigned-off-by: Jack Ding <jack.ding@windriver.com>\n""}]",14,605164,ff03b157b930de23e5912802cbfbc86889c869c2,98,21,6,28433,,,0,"Handle missing marker during online data migration

During upgrade the instance used by the request spec marker could be
deleted and purged between sessions. This would cause the database
online data migration to fail as the marker instance couldn't be found.

Fix by handling the MarkerNotFound exception and re-trying without the
marker. This will go through all the instances and reset the marker when
done.

Closes-Bug: #1793419
Change-Id: If96e3d038346f16cc93209bccf3db028bacfe59b
Signed-off-by: Jack Ding <jack.ding@windriver.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/605164/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/functional/db/test_request_spec.py']",2,b9fb739927f86aa5a8344eb373347f3c608ad2db,bug/1793419," def test_migration_with_missing_marker(self): self._create_instances(old=2, total=5) match, done = request_spec.migrate_instances_add_request_spec( self.context, 2) self.assertEqual(2, match) self.assertEqual(2, done) # Delete and purge the marker instance from api table while leaving # the spec in request_specs table. This simulates db purge that runs # between 2 sessions of upgrades and triggers exception.MarkerNotFound # in the latter session. self.api.delete_server(self.instances[1].uuid) db.archive_deleted_rows(max_rows=100) admin_context = context.get_admin_context() db.purge_shadow_tables(admin_context, None) # Run again the migration call for making sure that we don't check # again the same instances match, done = request_spec.migrate_instances_add_request_spec( self.context, 3) self.assertEqual(3, match) self.assertEqual(0, done) # Make sure we ran over all the instances match, done = request_spec.migrate_instances_add_request_spec( self.context, 50) self.assertEqual(1, match) self.assertEqual(0, done) # Make sure all instances have now a related RequestSpec for instance in self.instances: uuid = instance.uuid try: spec = objects.RequestSpec.get_by_instance_uuid( self.context, uuid) self.assertEqual(instance.project_id, spec.project_id) except exception.RequestSpecNotFound: self.fail(""RequestSpec not found for instance UUID :%s "", uuid)",,51,1
openstack%2Fdevstack~master~If18031ab98c9060e5825c3a8d3c647bd3705cd9c,openstack/devstack,master,If18031ab98c9060e5825c3a8d3c647bd3705cd9c,Use bash-style test for Fedora version,MERGED,2018-10-04 19:42:30.000000000,2018-10-08 05:28:29.000000000,2018-10-08 05:28:29.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 19:42:30.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e991f7da457e0f1343ca13e8adeb0f6334b04990', 'message': ""Use bash-style test for Fedora version\n\nOld-style test fails on Ubuntu when python3 enabled, with:\n\n.../devstack/inc/python: line 52: [: 16.04: integer expression expected\n\nUse bash-style test, which doesn't attempt to evaluate the RHS if the\nLHS evaluates to false\n\nChange-Id: If18031ab98c9060e5825c3a8d3c647bd3705cd9c\nCloses-Bug: #1796174\n""}]",0,608065,e991f7da457e0f1343ca13e8adeb0f6334b04990,11,7,1,23561,,,0,"Use bash-style test for Fedora version

Old-style test fails on Ubuntu when python3 enabled, with:

.../devstack/inc/python: line 52: [: 16.04: integer expression expected

Use bash-style test, which doesn't attempt to evaluate the RHS if the
LHS evaluates to false

Change-Id: If18031ab98c9060e5825c3a8d3c647bd3705cd9c
Closes-Bug: #1796174
",git fetch https://review.opendev.org/openstack/devstack refs/changes/65/608065/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,e991f7da457e0f1343ca13e8adeb0f6334b04990,bug/1796174," if python3_enabled && [[ ""$os_VENDOR"" == ""Fedora"" && $os_RELEASE -gt 26 ]]; then"," if python3_enabled && [ ""$os_VENDOR"" = ""Fedora"" -a $os_RELEASE -gt 26 ]; then",1,1
openstack%2Fdevstack~master~Id83cb3cdd62517045c45388f88cb3de0e3d75da1,openstack/devstack,master,Id83cb3cdd62517045c45388f88cb3de0e3d75da1,fix tox python3 overrides,MERGED,2018-06-12 00:26:19.000000000,2018-10-08 05:28:28.000000000,2018-10-08 05:28:28.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-06-12 00:26:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/51aec325e6252703371ab001bea0853af05ca2d8', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Id83cb3cdd62517045c45388f88cb3de0e3d75da1\n'}]",0,574496,51aec325e6252703371ab001bea0853af05ca2d8,15,9,1,17499,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Id83cb3cdd62517045c45388f88cb3de0e3d75da1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/96/574496/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,51aec325e6252703371ab001bea0853af05ca2d8,,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fcinder~master~I94285efa7fb8abf6b82a7e68b9c02e68694dbe05,openstack/cinder,master,I94285efa7fb8abf6b82a7e68b9c02e68694dbe05,fix a typo in docstring,ABANDONED,2018-10-05 10:20:54.000000000,2018-10-08 05:04:36.000000000,,"[{'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-05 10:20:54.000000000', 'files': ['releasenotes/notes/transfer-snapshots-with-volume-a7763570a807c742.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/78df1ebd2af7946a0770fce5dcbc11a195be6a0b', 'message': 'fix a typo in docstring\n\nChange-Id: I94285efa7fb8abf6b82a7e68b9c02e68694dbe05\n'}]",0,608204,78df1ebd2af7946a0770fce5dcbc11a195be6a0b,24,22,1,17130,,,0,"fix a typo in docstring

Change-Id: I94285efa7fb8abf6b82a7e68b9c02e68694dbe05
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/608204/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/transfer-snapshots-with-volume-a7763570a807c742.yaml'],1,78df1ebd2af7946a0770fce5dcbc11a195be6a0b,fixtypo," 'v3/volume_transfers'. After microversion 3.55, if users don't want to"," 'v3/volume_transfers'. After microverison 3.55, if users don't want to",1,1
openstack%2Ftripleo-heat-templates~master~Idd257cf4666b853eb4c52861f9f400b6dbdeeadb,openstack/tripleo-heat-templates,master,Idd257cf4666b853eb4c52861f9f400b6dbdeeadb,Add config option for ODL IPv6 deployment,MERGED,2018-07-23 19:44:02.000000000,2018-10-08 04:57:35.000000000,2018-10-07 23:11:50.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14287}, {'_account_id': 14985}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-23 19:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33807ebecca22843809a3be70a3879aa63ed7185', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}, {'number': 2, 'created': '2018-08-09 11:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d8d5a3450756be31c71464836c8582880833052', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}, {'number': 3, 'created': '2018-08-24 04:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/984aa32656ae6dbd4b18e19f351590a5c1507150', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}, {'number': 4, 'created': '2018-08-30 05:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/041cfc3ee25e7111b170df3b9472b376d4737343', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}, {'number': 5, 'created': '2018-09-03 13:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3269bcd1a25057b32cea485c8bc6310ee08e5cfe', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}, {'number': 6, 'created': '2018-09-05 08:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/027b5e077e477741a7fab5a25bfc8dde31f394f8', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}, {'number': 7, 'created': '2018-09-13 15:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37a7d3aa9a2612a84c5fe9e477c8f949581ca072', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}, {'number': 8, 'created': '2018-10-05 07:49:51.000000000', 'files': ['puppet/services/opendaylight-ovs.yaml', 'environments/network-isolation-v6.j2.yaml', 'releasenotes/notes/add-support-for-IPv6-deployment-4c5b577cfb38c416.yaml', 'puppet/services/opendaylight-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53b2cc0b56e956a1ade2cab0fae7bce6e5ada868', 'message': 'Add config option for ODL IPv6 deployment\n\nAdd a flag to specify which IP version to\ndeploy ODL on via Puppet-ODL.\n\nChange-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb\nCloses-Bug: #1783196\n'}]",2,585015,53b2cc0b56e956a1ade2cab0fae7bce6e5ada868,85,10,8,20866,,,0,"Add config option for ODL IPv6 deployment

Add a flag to specify which IP version to
deploy ODL on via Puppet-ODL.

Change-Id: Idd257cf4666b853eb4c52861f9f400b6dbdeeadb
Closes-Bug: #1783196
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/585015/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/opendaylight-api.yaml'],1,33807ebecca22843809a3be70a3879aa63ed7185,ODL_IPv6_support, OpenDaylightEnableIPv6Deployment: description: Enable deployment of ODL over IPv6 underlay network type: boolean default: false opendaylight::enable_ipv6: {get_param: OpenDaylightEnableIPv6Deployment},,5,0
openstack%2Fdiskimage-builder~master~I3c0df2e8a597edd4792dfdf637e5223d16810f19,openstack/diskimage-builder,master,I3c0df2e8a597edd4792dfdf637e5223d16810f19,uncap networkx to match global-requirements.,ABANDONED,2018-06-12 01:25:14.000000000,2018-10-08 04:56:42.000000000,,"[{'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-12 01:25:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6dd382846ec29cce3e9f8783c8ec065b02593219', 'message': 'uncap networkx to match global-requirements.\n\nChange-Id: I3c0df2e8a597edd4792dfdf637e5223d16810f19\n'}]",0,574503,6dd382846ec29cce3e9f8783c8ec065b02593219,8,4,1,14288,,,0,"uncap networkx to match global-requirements.

Change-Id: I3c0df2e8a597edd4792dfdf637e5223d16810f19
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/574503/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6dd382846ec29cce3e9f8783c8ec065b02593219,uncap_networkx,networkx>=1.10 # BSD,"networkx<2.0,>=1.10 # BSD",1,1
openstack%2Fkeystone~master~Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74,openstack/keystone,master,Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74,Avoid using dict.get() in assertions,MERGED,2018-10-03 05:00:51.000000000,2018-10-08 04:56:33.000000000,2018-10-08 04:56:32.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-03 05:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7043cd236781c0153c2efcd9c3ff8ca634adf5e9', 'message': 'Avoid using dict.get() in assertions\n\nThe method dict.get(key) will return None\nin the following two cases:\n\nA. if there is no key in the dictionary.\nB. if the real value of the key is just None.\n\nThe above two cases will results in passing\nthe assertion which is not the expected\nbehaviour of the test.\n\nChange-Id: Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74\n'}, {'number': 2, 'created': '2018-10-05 00:12:12.000000000', 'files': ['keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/test_v3_filters.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/84e1b9ac15c6ebe63eca8406ef03e0fb1273eb13', 'message': 'Avoid using dict.get() in assertions\n\nThe method dict.get(key) will return None\nin the following two cases:\n\nA. if there is no key in the dictionary.\nB. if the real value of the key is just None.\n\nThe above two cases will results in passing\nthe assertion which is not the expected\nbehaviour of the test.\n\nChange-Id: Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74\n'}]",2,607463,84e1b9ac15c6ebe63eca8406ef03e0fb1273eb13,12,4,2,27621,,,0,"Avoid using dict.get() in assertions

The method dict.get(key) will return None
in the following two cases:

A. if there is no key in the dictionary.
B. if the real value of the key is just None.

The above two cases will results in passing
the assertion which is not the expected
behaviour of the test.

Change-Id: Ib4a7f2d5beb1e4e9b4d8d9dd90de3f52a5c29e74
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/607463/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/test_v3_filters.py']",4,7043cd236781c0153c2efcd9c3ff8ca634adf5e9,," self.assertNotIn('truncated', r.result) self.assertNotIn('truncated', r.result)", self.assertIsNone(r.result.get('truncated')) self.assertIsNone(r.result.get('truncated')),13,13
openstack%2Fpython-tripleoclient~stable%2Frocky~Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,openstack/python-tripleoclient,stable/rocky,Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,Create DeployIdentifier for standalone,MERGED,2018-10-07 02:56:12.000000000,2018-10-08 04:52:44.000000000,2018-10-08 04:52:44.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-07 02:56:12.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46fa58c419632252e103ab77cfc237070467b84b', 'message': 'Create DeployIdentifier for standalone\n\nThere is a bunch of update logic in the framework that expects that a\nDeployIdentifier will be set on updates in order to function correctly.\nThis change adds the generation of a DeployIdentifier to our update\nlogic to ensure that we are passing it to the deployment on updates.\n\nChange-Id: Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a\nCloses-Bug: #1796421\n(cherry picked from commit 5d4cebf3959ff706ce26f364fb905a94b36f58bd)\n'}]",0,608437,46fa58c419632252e103ab77cfc237070467b84b,7,3,1,14985,,,0,"Create DeployIdentifier for standalone

There is a bunch of update logic in the framework that expects that a
DeployIdentifier will be set on updates in order to function correctly.
This change adds the generation of a DeployIdentifier to our update
logic to ensure that we are passing it to the deployment on updates.

Change-Id: Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a
Closes-Bug: #1796421
(cherry picked from commit 5d4cebf3959ff706ce26f364fb905a94b36f58bd)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/608437/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,46fa58c419632252e103ab77cfc237070467b84b,bug/1796421-stable/rocky," @mock.patch('time.time', return_value=123) mock_yaml_load, mock_time): found_identifier = False if a.get('parameter_defaults', {}).get('DeployIdentifier', None): self.assertTrue( a['parameter_defaults']['DeployIdentifier'] == 123) found_identifier = True self.assertTrue(found_identifier)", mock_yaml_load):,13,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ibc735ac4326a9217469e368c074de8b0df7689bd,openstack/tripleo-heat-templates,stable/rocky,Ibc735ac4326a9217469e368c074de8b0df7689bd,Update standalone role,MERGED,2018-10-07 02:52:35.000000000,2018-10-08 04:52:43.000000000,2018-10-08 04:52:43.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-07 02:52:35.000000000', 'files': ['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'environments/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/standalone/standalone-overcloud.yaml', 'releasenotes/notes/all-in-one-via-undercloud.yaml-8766b43a20a4270f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4f07255d853fb861093e18a98b05a041d4f6a8e', 'message': 'Update standalone role\n\nThe standalone role can be used either with the tripleo deploy command\nto deploy locally, or it can be used with an undercloud to deploy an\nall-in-one node. This change provides a sample set of environment files\nfor both deployment mechanisms.\n\nChange-Id: Ibc735ac4326a9217469e368c074de8b0df7689bd\nRelated-Blueprint: all-in-one\n(cherry picked from commit ba81e1f4d66041615f068c8bc2e07773ec252a35)\n'}]",0,608436,d4f07255d853fb861093e18a98b05a041d4f6a8e,7,3,1,14985,,,0,"Update standalone role

The standalone role can be used either with the tripleo deploy command
to deploy locally, or it can be used with an undercloud to deploy an
all-in-one node. This change provides a sample set of environment files
for both deployment mechanisms.

Change-Id: Ibc735ac4326a9217469e368c074de8b0df7689bd
Related-Blueprint: all-in-one
(cherry picked from commit ba81e1f4d66041615f068c8bc2e07773ec252a35)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/608436/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/standalone.yaml', 'roles/Standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/standalone/standalone-overcloud.yaml', 'releasenotes/notes/all-in-one-via-undercloud.yaml-8766b43a20a4270f.yaml']",6,d4f07255d853fb861093e18a98b05a041d4f6a8e,bp/all-in-one-stable/rocky,"--- features: - | We now provide an example set of environment files that can be used to deploy a single all-in-one standalone cloud node via the 'openstack overcloud deploy' and 'openstack tripleo deploy' (experimental) commands. For the overcloud deployment, use `environments/standalone/standalone-overcloud.yaml`. For the tripleo deploy deployment, use `environments/standalone/standalone-tripleo.yaml`. deprecations: - | The environments/standalone.yaml has been deprecated and should be replaced with environments/standalone/standalone-tripleo.yaml when using the 'openstack tripleo deploy' command. ",,476,3
openstack%2Fpuppet-tripleo~stable%2Fqueens~I4833525ae98d95c3ad84e3f79f30b8078c394ee1,openstack/puppet-tripleo,stable/queens,I4833525ae98d95c3ad84e3f79f30b8078c394ee1,Disable chrony-wait,MERGED,2018-10-06 15:33:38.000000000,2018-10-08 04:49:04.000000000,2018-10-08 04:49:04.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-06 15:33:38.000000000', 'files': ['manifests/profile/base/time/ntp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b9fb5dbed2921f268ddfdcf73d17290b55bfb08c', 'message': 'Disable chrony-wait\n\nThe chrony-wait service also prevents ntpd from starting on reboots.\nThis service should be disabled if present and running on the host when\nusing ntp.\n\nChange-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1\nCloses-Bug: #1795986\n(cherry picked from commit 594aff428938ff9fc6c9058c84bab49fb43868bb)\n'}]",0,608413,b9fb5dbed2921f268ddfdcf73d17290b55bfb08c,7,3,1,14985,,,0,"Disable chrony-wait

The chrony-wait service also prevents ntpd from starting on reboots.
This service should be disabled if present and running on the host when
using ntp.

Change-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1
Closes-Bug: #1795986
(cherry picked from commit 594aff428938ff9fc6c9058c84bab49fb43868bb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/13/608413/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/time/ntp.pp'],1,b9fb5dbed2921f268ddfdcf73d17290b55bfb08c,bug/1795986-stable/queens," service { 'chrony-wait': ensure => stopped, enable => false, before => Class['ntp'] }",,5,0
openstack%2Fproject-config~master~I1351d586d8c4211677300eb2e606ef6007ca816b,openstack/project-config,master,I1351d586d8c4211677300eb2e606ef6007ca816b,Use prepare-zanata-client role,MERGED,2018-10-04 20:07:25.000000000,2018-10-08 04:37:37.000000000,2018-10-08 04:37:37.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 20:07:25.000000000', 'files': ['playbooks/translation/upstream-translation-update.yaml', 'roles/prep-zanata/files/create-zanata-xml.py', 'roles/prep-zanata/files/ZanataUtils.py', 'playbooks/translation/propose-translation-update.yaml', 'roles/prep-zanata/files/get-modulename.py', 'roles/prep-zanata/defaults/main.yaml', 'roles/prep-zanata/README.rst', 'roles/prep-zanata/tasks/main.yaml', 'roles/prep-zanata/files/upstream_translation_update.sh', 'roles/prep-zanata/files/query-zanata-project-version.py', 'roles/prep-zanata/templates/zanata.ini', 'roles/prep-zanata/files/common_translation_update.sh', 'roles/prep-zanata/files/propose_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f341464308389e9484ee4923baecb777ac9d6b2', 'message': 'Use prepare-zanata-client role\n\nThe prep-zanata role has been moved to openstack-zuul-jobs and renamed\nto prepare-zanata-client, use it now and remove the now obsolete role.\n\nChange-Id: I1351d586d8c4211677300eb2e606ef6007ca816b\nDepends-On: https://review.openstack.org/525760\n'}]",0,608069,0f341464308389e9484ee4923baecb777ac9d6b2,7,3,1,6547,,,0,"Use prepare-zanata-client role

The prep-zanata role has been moved to openstack-zuul-jobs and renamed
to prepare-zanata-client, use it now and remove the now obsolete role.

Change-Id: I1351d586d8c4211677300eb2e606ef6007ca816b
Depends-On: https://review.openstack.org/525760
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/608069/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/translation/upstream-translation-update.yaml', 'roles/prep-zanata/files/create-zanata-xml.py', 'roles/prep-zanata/files/ZanataUtils.py', 'playbooks/translation/propose-translation-update.yaml', 'roles/prep-zanata/files/get-modulename.py', 'roles/prep-zanata/defaults/main.yaml', 'roles/prep-zanata/README.rst', 'roles/prep-zanata/tasks/main.yaml', 'roles/prep-zanata/files/upstream_translation_update.sh', 'roles/prep-zanata/files/query-zanata-project-version.py', 'roles/prep-zanata/templates/zanata.ini', 'roles/prep-zanata/files/common_translation_update.sh', 'roles/prep-zanata/files/propose_translation_update.sh']",13,0f341464308389e9484ee4923baecb777ac9d6b2,prep-zanata,,"#!/bin/bash -xe # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. PROJECT=$1 BRANCH=$2 JOBNAME=$3 # Replace /'s in the branch name with -'s because Zanata does not # allow /'s in version names. ZANATA_VERSION=${BRANCH//\//-} SCRIPTSDIR=""$( cd ""$( dirname ""${BASH_SOURCE[0]}"" )"" && pwd )"" source $SCRIPTSDIR/common_translation_update.sh init_branch $BRANCH function cleanup_module { local modulename=$1 # Remove obsolete files. cleanup_po_files ""$modulename"" cleanup_pot_files ""$modulename"" # Compress downloaded po files, this needs to be done after # cleanup_po_files since that function needs to have information the # number of untranslated strings. compress_po_files ""$modulename"" } # Add all po files to the git repo in a target directory function git_add_po_files { local target_dir=$1 local po_file_count po_file_count=`find $1 -name *.po | wc -l` if [ $po_file_count -ne 0 ]; then git add $target_dir/*/* fi } # Add all JSON files to the git repo (used in javascript translations) function git_add_json_files { local target_dir=$1 local json_file_count json_file_count=`find $1 -name '*.json' | wc -l` if [ $json_file_count -ne 0 ]; then git add $target_dir/* fi } # Propose updates for manuals function propose_manuals { # Pull updated translations from Zanata. pull_from_zanata ""$PROJECT"" # Compress downloaded po files case ""$PROJECT"" in openstack-manuals) # Cleanup po and pot files cleanup_module ""doc"" ;; api-site) # Cleanup po and pot files cleanup_module ""api-quick-start"" cleanup_module ""firstapp"" ;; security-doc) cleanup_module ""security-guide"" ;; esac # Add imported upstream translations to git for FILE in ${DocFolder}/*; do DOCNAME=${FILE#${DocFolder}/} if [ -d ${DocFolder}/${DOCNAME}/locale ] ; then git_add_po_files ${DocFolder}/${DOCNAME}/locale fi if [ -d ${DocFolder}/${DOCNAME}/source/locale ] ; then git_add_po_files ${DocFolder}/${DOCNAME}/source/locale fi done } # Propose updates for training-guides function propose_training_guides { # Pull updated translations from Zanata. pull_from_zanata ""$PROJECT"" # Cleanup po and pot files cleanup_module ""doc/upstream-training"" # Add all changed files to git git_add_po_files doc/upstream-training/source/locale } # Propose updates for i18n function propose_i18n { # Pull updated translations from Zanata. pull_from_zanata ""$PROJECT"" # Cleanup po and pot files cleanup_module ""doc"" # Add all changed files to git git_add_po_files doc/source/locale } # Propose updates for python and django projects function propose_python_django { local modulename=$1 local version=$2 # Check for empty directory and exit early local content content=$(ls -A $modulename/locale/) if [[ ""$content"" == """" ]] ; then return fi # Now add all changed files to git. # Note we add them here to not have to differentiate in the functions # between new files and files already under git control. git_add_po_files $modulename/locale # Cleanup po and pot files cleanup_module ""$modulename"" if [ ""$version"" == ""master"" ] ; then # Remove not anymore translated log files on master, but not # on released stable branches. cleanup_log_files ""$modulename"" fi # Check first whether directory exists, it might be missing if # there are no translations. if [[ -d ""$modulename/locale/"" ]] ; then # Some files were changed, add changed files again to git, so # that we can run git diff properly. git_add_po_files $modulename/locale fi } # Handle either python or django proposals function handle_python_django_project { local project=$1 setup_project ""$project"" ""$ZANATA_VERSION"" pull_from_zanata ""$project"" handle_python_django $project python handle_python_django $project django handle_project_doc $project } # Handle project doc proposals function handle_project_doc { local project=$1 # doing only things in the test repos for project doc translation if ! [[ ""$project"" =~ ^(horizon|openstack-ansible|openstack-helm)$ ]]; then return fi # setup_project and pull_from_zanata are already done # we start directly with generating .pot files extract_messages_doc # cleanup po and pot files cleanup_module ""doc"" # Add all changed files to git git_add_po_files doc/source/locale } # Handle either python or django proposals function handle_python_django { local project=$1 # kind can be ""python"" or ""django"" local kind=$2 local module_names module_names=$(get_modulename $project $kind) if [ -n ""$module_names"" ]; then if [[ ""$kind"" == ""django"" ]] ; then install_horizon fi propose_releasenotes ""$ZANATA_VERSION"" for modulename in $module_names; do # Note that we need to generate the pot files so that we # can calculate how many strings are translated. case ""$kind"" in django) # Update the .pot file extract_messages_django ""$modulename"" ;; python) # Extract messages from project except log messages extract_messages_python ""$modulename"" ;; esac propose_python_django ""$modulename"" ""$ZANATA_VERSION"" done fi } function propose_releasenotes { local version=$1 # This function does not check whether releasenote publishing and # testing are set up in zuul/layout.yaml. If releasenotes exist, # they get pushed to the translation server. # Note that releasenotes only get translated on master. if [[ ""$version"" == ""master"" && -f releasenotes/source/conf.py ]]; then # Note that we need to generate these so that we can calculate # how many strings are translated. extract_messages_releasenotes ""keep_workdir"" local lang_po local locale_dir=releasenotes/source/locale for lang_po in $(find $locale_dir -name 'releasenotes.po'); do check_releasenotes_per_language $lang_po done # Remove the working directory. We no longer needs it. rm -rf releasenotes/work # Cleanup POT files. # PO files are already clean up in check_releasenotes_translations. cleanup_pot_files ""releasenotes"" # Compress downloaded po files, this needs to be done after # cleanup_po_files since that function needs to have information the # number of untranslated strings. compress_po_files ""releasenotes"" # Add all changed files to git - if there are # translated files at all. if [ -d releasenotes/source/locale/ ] ; then git_add_po_files releasenotes/source/locale fi fi # Remove any releasenotes translations from stable branches, they # are not needed there. if [[ ""$version"" != ""master"" && -d releasenotes/source/locale ]]; then # Note that content might exist, e.g. from downloaded translations, # but are not under git control. git rm --ignore-unmatch -rf releasenotes/source/locale fi } function propose_reactjs { pull_from_zanata ""$PROJECT"" # Clean up files (removes incomplete translations and untranslated strings) cleanup_module ""i18n"" # Convert po files to ReactJS i18n JSON format for lang in `find i18n/*.po -printf ""%f\n"" | sed 's/\.po$//'`; do npm run po2json -- ./i18n/$lang.po -o ./i18n/$lang.json # The files are created as a one-line JSON file - expand them python -m json.tool ./i18n/$lang.json ./i18n/locales/$lang.json rm ./i18n/$lang.json done # Add JSON files to git git_add_json_files i18n/locales } # Setup git repository for git review. setup_git # Check whether a review already exists, setup review commit message. # Function setup_review calls setup_commit_message which will set CHANGE_ID and # CHANGE_NUM if a change exists and will always set COMMIT_MSG. setup_review ""$BRANCH"" # If a change already exists, let's pull it in and compute the # 'git patch-id' of it. PREV_PATCH_ID="""" if [[ -n ${CHANGE_NUM} ]]; then # Ignore errors we get in case we can't download the patch with # git-review. If that happens then we will submit a new patch. set +e git review -d ${CHANGE_NUM} RET=$? if [[ ""$RET"" -eq 0 ]]; then PREV_PATCH_ID=$(git show | git patch-id | awk '{print $1}') fi set -e # The git review changed our branch, go back to our correct branch git checkout -f ${BRANCH} fi # Setup venv - needed for all projects for subunit setup_venv case ""$PROJECT"" in api-site|openstack-manuals|security-doc) init_manuals ""$PROJECT"" setup_manuals ""$PROJECT"" ""$ZANATA_VERSION"" propose_manuals propose_releasenotes ""$ZANATA_VERSION"" ;; training-guides) setup_training_guides ""$ZANATA_VERSION"" propose_training_guides ;; i18n) setup_i18n ""$ZANATA_VERSION"" propose_i18n ;; tripleo-ui) setup_reactjs_project ""$PROJECT"" ""$ZANATA_VERSION"" propose_reactjs ;; *) # Common setup for python and django repositories handle_python_django_project $PROJECT ;; esac # Filter out commits we do not want. filter_commits # Propose patch to gerrit if there are changes. send_patch ""$BRANCH"" if [ $INVALID_PO_FILE -eq 1 ] ; then echo ""At least one po file in invalid. Fix all invalid files on the"" echo ""translation server."" exit 1 fi # Tell finish function that everything is fine. ERROR_ABORT=0 ",2,1851
openstack%2Fzaqar~master~I9c0c179662734faa5d7c83e663f831c6ebf1f92c,openstack/zaqar,master,I9c0c179662734faa5d7c83e663f831c6ebf1f92c,Update link for blueprints of zaqar-ui,MERGED,2018-10-02 02:48:03.000000000,2018-10-08 04:13:38.000000000,2018-10-08 04:13:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28035}, {'_account_id': 28950}]","[{'number': 1, 'created': '2018-10-02 02:48:03.000000000', 'files': ['doc/source/contributor/welcome.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/dd0c1f7fc967470ff3062e6452b5d56a619fa790', 'message': 'Update link for blueprints of zaqar-ui\n\nChange-Id: I9c0c179662734faa5d7c83e663f831c6ebf1f92c\n'}]",0,607091,dd0c1f7fc967470ff3062e6452b5d56a619fa790,7,3,1,25747,,,0,"Update link for blueprints of zaqar-ui

Change-Id: I9c0c179662734faa5d7c83e663f831c6ebf1f92c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/91/607091/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/welcome.rst'],1,dd0c1f7fc967470ff3062e6452b5d56a619fa790,bp/s,.. _`integrate Zaqar to the OpenStack Dashboard (Horizon)` : https://blueprints.launchpad.net/zaqar-ui/,.. _`integrate Zaqar to the OpenStack Dashboard (Horizon)` : https://blueprints.launchpad.net/zaqar/+spec/zaqar-horizon-integration,1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I4833525ae98d95c3ad84e3f79f30b8078c394ee1,openstack/puppet-tripleo,stable/rocky,I4833525ae98d95c3ad84e3f79f30b8078c394ee1,Disable chrony-wait,MERGED,2018-10-06 15:33:28.000000000,2018-10-08 04:07:35.000000000,2018-10-08 04:07:34.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-06 15:33:28.000000000', 'files': ['manifests/profile/base/time/ntp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/681e07a7c320f6da307ab57e6e77e8c23c8d51b5', 'message': 'Disable chrony-wait\n\nThe chrony-wait service also prevents ntpd from starting on reboots.\nThis service should be disabled if present and running on the host when\nusing ntp.\n\nChange-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1\nCloses-Bug: #1795986\n(cherry picked from commit 594aff428938ff9fc6c9058c84bab49fb43868bb)\n'}]",0,608412,681e07a7c320f6da307ab57e6e77e8c23c8d51b5,7,3,1,14985,,,0,"Disable chrony-wait

The chrony-wait service also prevents ntpd from starting on reboots.
This service should be disabled if present and running on the host when
using ntp.

Change-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1
Closes-Bug: #1795986
(cherry picked from commit 594aff428938ff9fc6c9058c84bab49fb43868bb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/12/608412/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/time/ntp.pp'],1,681e07a7c320f6da307ab57e6e77e8c23c8d51b5,bug/1795986-stable/rocky," service { 'chrony-wait': ensure => stopped, enable => false, before => Class['ntp'] }",,5,0
openstack%2Fos-net-config~stable%2Frocky~I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,openstack/os-net-config,stable/rocky,I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,Allow list_of_routes to be [] in config,MERGED,2018-10-06 00:27:14.000000000,2018-10-08 04:06:55.000000000,2018-10-08 04:06:55.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-06 00:27:14.000000000', 'files': ['os_net_config/schema.yaml', 'releasenotes/notes/allow-list-of-routes-to-be-empty-323690796760630d.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/bedb54a8a5d5caa5d022b4aa265a35a702e8dd87', 'message': 'Allow list_of_routes to be [] in config\n\nThis changes the schema validation to allow an empty\nlist of routes to be specified in the configuration.\n\nCloses-Bug: #1792992\nChange-Id: I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1\n(cherry picked from commit acf646383ba1b5ecb982a0e57e093f841842c396)\n'}]",0,608386,bedb54a8a5d5caa5d022b4aa265a35a702e8dd87,8,4,1,24245,,,0,"Allow list_of_routes to be [] in config

This changes the schema validation to allow an empty
list of routes to be specified in the configuration.

Closes-Bug: #1792992
Change-Id: I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1
(cherry picked from commit acf646383ba1b5ecb982a0e57e093f841842c396)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/86/608386/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'releasenotes/notes/allow-list-of-routes-to-be-empty-323690796760630d.yaml']",2,bedb54a8a5d5caa5d022b4aa265a35a702e8dd87,bug/1792992-stable/rocky,--- other: - | The schema now allow the ``routes`` option to be an empty list. (Previously at least one route was was required.) Bug: `1792992 <https://bugs.launchpad.net/os-net-config/+bug/1792992>_`. ,,7,1
openstack%2Fos-refresh-config~master~I4e3c8a76cee08a327c1e648605e70f5e58eb9490,openstack/os-refresh-config,master,I4e3c8a76cee08a327c1e648605e70f5e58eb9490,fix tox python3 overrides,MERGED,2018-10-04 01:40:25.000000000,2018-10-08 04:06:55.000000000,2018-10-08 04:06:55.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 01:40:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/33096222a655d0a13efdaee615d664a2d8e9a0c2', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I4e3c8a76cee08a327c1e648605e70f5e58eb9490\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,607752,33096222a655d0a13efdaee615d664a2d8e9a0c2,7,3,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I4e3c8a76cee08a327c1e648605e70f5e58eb9490
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/52/607752/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,33096222a655d0a13efdaee615d664a2d8e9a0c2,python3-first,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fzun~stable%2Frocky~If94b0fb52e0dd6766941fc76a4690b5ec33c0a37,openstack/zun,stable/rocky,If94b0fb52e0dd6766941fc76a4690b5ec33c0a37,Don't unmount device twice,MERGED,2018-09-29 19:17:29.000000000,2018-10-08 03:33:57.000000000,2018-10-08 03:33:57.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27190}]","[{'number': 1, 'created': '2018-09-29 19:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d8c3c8c5891dc2ad0c5e895d1aa3a98b4c925f18', 'message': ""Don't unmount device twice\n\nOn deleting a container with auto-removed cinder volume, the method\n'_unmount_device' is called twice. The second call will fail because\nthe device is already unmounted and the directory is deleted.\nThis commit fixes this issue.\n\nCloses-Bug: #1791469\nChange-Id: If94b0fb52e0dd6766941fc76a4690b5ec33c0a37\n(cherry picked from commit 94b687502e57e256d942a6ebbebdc13b92a0cafd)\n""}, {'number': 2, 'created': '2018-09-29 20:56:15.000000000', 'files': ['zun/tests/unit/volume/test_driver.py', 'zun/volume/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/ed5e51faa53725d0ac78b79ca7293949635b0eaf', 'message': ""Don't unmount device twice\n\nOn deleting a container with auto-removed cinder volume, the method\n'_unmount_device' is called twice. The second call will fail because\nthe device is already unmounted and the directory is deleted.\nThis commit fixes this issue.\n\nCloses-Bug: #1791469\nChange-Id: If94b0fb52e0dd6766941fc76a4690b5ec33c0a37\n(cherry picked from commit 94b687502e57e256d942a6ebbebdc13b92a0cafd)\n""}]",0,606613,ed5e51faa53725d0ac78b79ca7293949635b0eaf,9,3,2,11536,,,0,"Don't unmount device twice

On deleting a container with auto-removed cinder volume, the method
'_unmount_device' is called twice. The second call will fail because
the device is already unmounted and the directory is deleted.
This commit fixes this issue.

Closes-Bug: #1791469
Change-Id: If94b0fb52e0dd6766941fc76a4690b5ec33c0a37
(cherry picked from commit 94b687502e57e256d942a6ebbebdc13b92a0cafd)
",git fetch https://review.opendev.org/openstack/zun refs/changes/13/606613/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/volume/test_driver.py', 'zun/volume/driver.py']",2,d8c3c8c5891dc2ad0c5e895d1aa3a98b4c925f18,bug/1791469,, self._unmount_device(volume),1,3
openstack%2Fnetworking-midonet~master~Ia5ed0f38a1952992f31968cc407eb4993aabcdf1,openstack/networking-midonet,master,Ia5ed0f38a1952992f31968cc407eb4993aabcdf1,"Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""",MERGED,2017-08-03 02:35:38.000000000,2018-10-08 03:24:33.000000000,2018-10-08 03:24:25.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 22255}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-03 02:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/47fc6c70ed1ea75fb041d6c81863bb0230d54f63', 'message': 'Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""\n\nThis reverts commit 9199ed3494e65bae04e5f08588eba679dd9157e0.\n\nChange-Id: Ia5ed0f38a1952992f31968cc407eb4993aabcdf1\n'}, {'number': 2, 'created': '2017-10-17 04:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/96ecbe498ef8498481f8aa4585d1f1eda59cc0fc', 'message': 'Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""\n\nThis reverts commit 9199ed3494e65bae04e5f08588eba679dd9157e0.\n\nAlso, switch MIDONET_YUM_URI to master as well.\n\nChange-Id: Ia5ed0f38a1952992f31968cc407eb4993aabcdf1\n'}, {'number': 3, 'created': '2017-10-19 11:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/525892ca00dddc2cae299222ace1305ccf4d3b6c', 'message': 'Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""\n\nThis reverts commit 9199ed3494e65bae04e5f08588eba679dd9157e0.\n\nAlso, switch MIDONET_YUM_URI to master as well.\n\nChange-Id: Ia5ed0f38a1952992f31968cc407eb4993aabcdf1\n'}, {'number': 4, 'created': '2017-10-23 17:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6b21f13f6663c017ad89d7337454ff7b5083f0d0', 'message': 'Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""\n\nThis reverts commit 9199ed3494e65bae04e5f08588eba679dd9157e0.\n\nAlso, switch MIDONET_YUM_URI to master as well.\n\nChange-Id: Ia5ed0f38a1952992f31968cc407eb4993aabcdf1\n'}, {'number': 5, 'created': '2017-10-23 18:31:34.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/16f4b661060c3910bc2833880bb24b41d1c3ab52', 'message': 'Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""\n\nThis reverts commit 9199ed3494e65bae04e5f08588eba679dd9157e0.\n\nAlso, switch MIDONET_YUM_URI to master as well.\n\nChange-Id: Ia5ed0f38a1952992f31968cc407eb4993aabcdf1\n'}]",0,490295,16f4b661060c3910bc2833880bb24b41d1c3ab52,90,6,5,6854,,,0,"Revert ""Revert ""Revert ""devstack: Switch to MidoNet 5.4""""""

This reverts commit 9199ed3494e65bae04e5f08588eba679dd9157e0.

Also, switch MIDONET_YUM_URI to master as well.

Change-Id: Ia5ed0f38a1952992f31968cc407eb4993aabcdf1
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/95/490295/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,47fc6c70ed1ea75fb041d6c81863bb0230d54f63,install-from-source,MIDONET_DEB_URI=${MIDONET_DEB_URI:-http://builds.midonet.org/devstack}MIDONET_BRANCH=${MIDONET_BRANCH:-master},MIDONET_DEB_URI=${MIDONET_DEB_URI:-http://builds.midonet.org/midonet-5.4}MIDONET_BRANCH=${MIDONET_BRANCH:-staging/v5.4},2,2
openstack%2Fzun~master~I3a13c8953eae1ccf7bc0b871ac24785979b579ac,openstack/zun,master,I3a13c8953eae1ccf7bc0b871ac24785979b579ac,Add the missing argument in CommandError,MERGED,2018-09-30 18:18:26.000000000,2018-10-08 03:24:19.000000000,2018-10-08 03:24:19.000000000,"[{'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-09-30 18:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/70c19768c022f15852a3135e4999523181c21b51', 'message': ""Add the missing argument in CommandError\n\nThe CommandError class takes 'error' as an keyword argument but\nit is missing in callers. This commit fixes it.\n\nChange-Id: I3a13c8953eae1ccf7bc0b871ac24785979b579ac\n""}, {'number': 2, 'created': '2018-09-30 19:24:39.000000000', 'files': ['zun/container/docker/driver.py', 'zun/container/os_capability/host_capability.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/2f8082575119e7f9537c306f210789ff3a21b410', 'message': ""Add the missing argument in CommandError\n\nThe CommandError class takes 'error' as an keyword argument but\nit is missing in callers. This commit fixes it.\n\nChange-Id: I3a13c8953eae1ccf7bc0b871ac24785979b579ac\n""}]",0,606863,2f8082575119e7f9537c306f210789ff3a21b410,9,3,2,11536,,,0,"Add the missing argument in CommandError

The CommandError class takes 'error' as an keyword argument but
it is missing in callers. This commit fixes it.

Change-Id: I3a13c8953eae1ccf7bc0b871ac24785979b579ac
",git fetch https://review.opendev.org/openstack/zun refs/changes/63/606863/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/container/docker/driver.py', 'zun/container/os_capability/host_capability.py']",2,70c19768c022f15852a3135e4999523181c21b51,," except processutils.ProcessExecutionError as e: raise exception.CommandError(cmd='lspci', error=six.text_type(e))", except processutils.ProcessExecutionError: raise exception.CommandError(cmd='lspci'),7,4
openstack%2Fwatcher-tempest-plugin~master~Ib024112957747185ab4efc780b3a9cc75a0d7aaf,openstack/watcher-tempest-plugin,master,Ib024112957747185ab4efc780b3a9cc75a0d7aaf,Add start actionplan test,MERGED,2018-09-04 02:57:03.000000000,2018-10-08 03:04:22.000000000,2018-10-08 03:04:22.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-04 02:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/880b92364fe651132a7f71234fa764f06b8407de', 'message': 'Add start actionplan test\n\nChange-Id: Ib024112957747185ab4efc780b3a9cc75a0d7aaf\n'}, {'number': 2, 'created': '2018-09-27 06:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/67d4693f6bb459ce034c414e62b7a68252900a71', 'message': 'Add start actionplan test\n\nChange-Id: Ib024112957747185ab4efc780b3a9cc75a0d7aaf\n'}, {'number': 3, 'created': '2018-09-27 10:57:18.000000000', 'files': ['watcher_tempest_plugin/tests/api/admin/base.py', 'watcher_tempest_plugin/tests/api/admin/test_action_plan.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/3acd59f8c63351074ebfca13a94fff418efba7f6', 'message': 'Add start actionplan test\n\nChange-Id: Ib024112957747185ab4efc780b3a9cc75a0d7aaf\n'}]",0,599483,3acd59f8c63351074ebfca13a94fff418efba7f6,23,3,3,21692,,,0,"Add start actionplan test

Change-Id: Ib024112957747185ab4efc780b3a9cc75a0d7aaf
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/83/599483/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_tempest_plugin/tests/api/admin/base.py', 'watcher_tempest_plugin/tests/api/admin/test_action_plan.py']",2,880b92364fe651132a7f71234fa764f06b8407de,improve_actionplan_test," def test_execute_action_plan(self): _, goal = self.client.show_goal(""dummy"") _, audit_template = self.create_audit_template(goal['uuid']) _, audit = self.create_audit(audit_template['uuid']) self.assertTrue(test_utils.call_until_true( func=functools.partial(self.has_audit_finished, audit['uuid']), duration=30, sleep_for=.5 )) _, action_plans = self.client.list_action_plans( audit_uuid=audit['uuid']) action_plan = action_plans['action_plans'][0] _, action_plan = self.client.show_action_plan(action_plan['uuid']) self.assertEqual('RECOMMENDED', action_plan['state']) self.client.start_action_plan(action_plan['uuid']) _, action_plan = self.client.show_action_plan(action_plan['uuid']) self.assertEqual('SUCCEEDED', action_plan['state']) @decorators.attr(type='smoke')",,41,0
openstack%2Fpatrole~master~I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8,openstack/patrole,master,I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8,Add test for list routers function,ABANDONED,2018-09-17 21:01:02.000000000,2018-10-08 02:59:39.000000000,,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 17896}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-09-17 21:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7c244658acccbc4af325474b119464d11ace8644', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function for\nfor verifying policy.\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}, {'number': 2, 'created': '2018-09-17 21:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/87072109b5904b7ba787a6d1bfce9331683903b9', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function for\nfor verifying policy.\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}, {'number': 3, 'created': '2018-09-18 14:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/42bbc6571fc047dae2af73d888fa8016036ed210', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function and\nverifying that it returns the empty list.\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}, {'number': 4, 'created': '2018-09-18 14:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5910d13806a280f689876f0726cb29b57eeee935', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function and\nverifying that it returns an empty list.\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}, {'number': 5, 'created': '2018-09-18 16:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/97904493099a049d08882b98b4edc0da891256c8', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function and\nverifying that it returns an empty list.\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}, {'number': 6, 'created': '2018-09-18 16:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a1a9b5ad26c3ffeef75b1640de8d7ed71045df32', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function and\nchecks that it returned an empty list.\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}, {'number': 7, 'created': '2018-09-18 16:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5b44319b4ef70c505937ee85c6d7a89982017be1', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function and\nchecks that it returned an empty list.\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}, {'number': 8, 'created': '2018-09-18 16:59:26.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_routers_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/e6ec14df157de0ddba520540bb41a7f26e021bc6', 'message': ""Add test for list routers function\n\nList router action [0] doesn't have its own policy, but it uses\nthe get_router policy for each router in the list. So the test creates\na router and calls the routers_client.list_routers() function and\nchecks that it returned an empty list.\n\n[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers\n\nChange-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8\n""}]",5,603230,e6ec14df157de0ddba520540bb41a7f26e021bc6,19,14,8,8911,,,0,"Add test for list routers function

List router action [0] doesn't have its own policy, but it uses
the get_router policy for each router in the list. So the test creates
a router and calls the routers_client.list_routers() function and
checks that it returned an empty list.

[0] https://developer.openstack.org/api-ref/network/v2/index.html#list-routers

Change-Id: I18664f8db85cfdc4f4dd4dde59c69d3ebe9f2dc8
",git fetch https://review.opendev.org/openstack/patrole refs/changes/30/603230/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/network/test_routers_rbac.py'],1,7c244658acccbc4af325474b119464d11ace8644,get_routers," @rbac_rule_validation.action(service=""neutron"", rules=[""get_router""], expected_error_codes=[404]) @decorators.idempotent_id('86816700-12d1-4173-a50f-34bd137f47e6') def test_list_routers(self): """"""List Routers RBAC test for the neutron get_router policy for list routers action """""" with self.rbac_utils.override_role(self): self.routers_client.list_routers(id=self.router['id'])",,11,0
openstack%2Fdevstack-tools~master~I6faa7c3e39f02d765d7ceed4a69490b2092c6fee,openstack/devstack-tools,master,I6faa7c3e39f02d765d7ceed4a69490b2092c6fee,fix tox python3 overrides,MERGED,2018-09-29 23:49:43.000000000,2018-10-08 02:50:49.000000000,2018-10-08 02:50:49.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:49:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/4f1ca7601f240df5cb0893d1726a429819d434a7', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I6faa7c3e39f02d765d7ceed4a69490b2092c6fee\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606629,4f1ca7601f240df5cb0893d1726a429819d434a7,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I6faa7c3e39f02d765d7ceed4a69490b2092c6fee
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/29/606629/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4f1ca7601f240df5cb0893d1726a429819d434a7,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fbashate~master~I34a4f1a2e8f51547f882d01d00290d0e6ac3fd56,openstack/bashate,master,I34a4f1a2e8f51547f882d01d00290d0e6ac3fd56,fix tox python3 overrides,MERGED,2018-09-29 23:49:34.000000000,2018-10-08 02:48:18.000000000,2018-10-08 02:48:17.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:49:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bashate/commit/8dbfc3e3919816fab19c635565497fcb1345ff09', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I34a4f1a2e8f51547f882d01d00290d0e6ac3fd56\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606626,8dbfc3e3919816fab19c635565497fcb1345ff09,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I34a4f1a2e8f51547f882d01d00290d0e6ac3fd56
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/bashate refs/changes/26/606626/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8dbfc3e3919816fab19c635565497fcb1345ff09,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,6,0
openstack%2Fopenstack-helm~master~I686297e25627d88ff9bd32df0a3f7ee8afc11f58,openstack/openstack-helm,master,I686297e25627d88ff9bd32df0a3f7ee8afc11f58,[nova] Allow deterministic setting of 'ironic.memcache_secret_key,MERGED,2018-09-26 03:31:24.000000000,2018-10-08 02:41:39.000000000,2018-10-08 02:41:39.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26449}]","[{'number': 1, 'created': '2018-09-26 03:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c82a1cef423601f3f73a73f7df758fbab3f9842', 'message': ""[nova] Allow deterministic setting of 'ironic.memcache_secret_key\n\nIf conf.nova.ironic.memcache_secret_key is not explicitly set, derive\nit from endpoints.oslo_cache.auth.memcache_secret_key or use a random\nvalue.\n\nThis means when installing charts where we explicitly set\nendpoints.oslo_cache.auth.memcache_secret_key upgrades without changes\nwon't churn.\n\nChange-Id: I686297e25627d88ff9bd32df0a3f7ee8afc11f58\n""}, {'number': 2, 'created': '2018-10-06 05:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/791adbf4ef3365fc0f3dc1f8763319ad04b51734', 'message': ""[nova] Allow deterministic setting of 'ironic.memcache_secret_key\n\nIf conf.nova.ironic.memcache_secret_key is not explicitly set, derive\nit from endpoints.oslo_cache.auth.memcache_secret_key or use a random\nvalue.\n\nThis means when installing charts where we explicitly set\nendpoints.oslo_cache.auth.memcache_secret_key upgrades without changes\nwon't churn.\n\nChange-Id: I686297e25627d88ff9bd32df0a3f7ee8afc11f58\n""}, {'number': 3, 'created': '2018-10-07 07:26:29.000000000', 'files': ['nova/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ae990e6224ca21f4ff48d12bacc521499e956d9', 'message': ""[nova] Allow deterministic setting of 'ironic.memcache_secret_key\n\nIf conf.nova.ironic.memcache_secret_key is not explicitly set, derive\nit from endpoints.oslo_cache.auth.memcache_secret_key or use a random\nvalue.\n\nThis means when installing charts where we explicitly set\nendpoints.oslo_cache.auth.memcache_secret_key upgrades without changes\nwon't churn.\n\nChange-Id: I686297e25627d88ff9bd32df0a3f7ee8afc11f58\n""}]",0,605321,8ae990e6224ca21f4ff48d12bacc521499e956d9,23,8,3,8898,,,0,"[nova] Allow deterministic setting of 'ironic.memcache_secret_key

If conf.nova.ironic.memcache_secret_key is not explicitly set, derive
it from endpoints.oslo_cache.auth.memcache_secret_key or use a random
value.

This means when installing charts where we explicitly set
endpoints.oslo_cache.auth.memcache_secret_key upgrades without changes
won't churn.

Change-Id: I686297e25627d88ff9bd32df0a3f7ee8afc11f58
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/21/605321/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/configmap-etc.yaml'],1,0c82a1cef423601f3f73a73f7df758fbab3f9842,nova-be-less-random,"{{- $_ := (default (randAlphaNum 64) .Values.endpoints.oslo_cache.auth.memcache_secret_key) | set .Values.conf.nova.ironic ""memcache_secret_key"" -}}","{{- $_ := randAlphaNum 64 | set .Values.conf.nova.ironic ""memcache_secret_key"" -}}",1,1
openstack%2Fcinder~master~If21bd6c6aa9cef45f57f32034e26502cd02743b2,openstack/cinder,master,If21bd6c6aa9cef45f57f32034e26502cd02743b2,nimble storage: retype support,MERGED,2018-09-11 04:45:19.000000000,2018-10-08 02:31:43.000000000,2018-10-02 08:57:00.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16668}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-11 04:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5f75a51f0937a1b29106e3482e4224a51a6d852', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 2, 'created': '2018-09-11 04:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9844746efcddf0e71f276b7ec12d0dc8926e82f', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 3, 'created': '2018-09-11 04:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f334a0d9c3e129433ff27d030d18b0e8cab377c9', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 4, 'created': '2018-09-11 05:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/731d83e97c79a7c5e84070ea2f18c68ebda0efc8', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 5, 'created': '2018-09-11 18:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26016b1420a20441d9e94a825c8f3574428d004e', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 6, 'created': '2018-09-12 15:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3a1c8c4e2a72ce72b0402729e5649cde9239c09', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 7, 'created': '2018-09-12 17:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa32f5242bd786ba2815e0a41b339cd88121f8e0', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 8, 'created': '2018-09-25 18:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce0ccea9c46d7b1a80e3065e30546a93adf49ff4', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 9, 'created': '2018-09-25 18:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47b8333ea8e74e9c290473fd2b8c43145089d8b3', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 10, 'created': '2018-09-25 18:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83c8ae369901f4707acf77a5367803f17c61feca', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 11, 'created': '2018-09-25 18:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1bcde9f819fbc338eb5e2e725b810753b66676f', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 12, 'created': '2018-09-25 22:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc8723f6ccc19971700aca6cdbccc0d958425c3e', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n- update the provider location for fetching the\ncorrect discovery ip for volume discovery\n- prevent failures on snap deletetion / offline\n  as they could already be in those states\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 13, 'created': '2018-09-28 15:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd24004020d7315d8ec3f39d5ec85b56dfd608fe', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n- update the provider location for fetching the\ncorrect discovery ip for volume discovery\n- prevent failures on snap deletetion / offline\n  as they could already be in those states\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}, {'number': 14, 'created': '2018-10-01 15:03:20.000000000', 'files': ['cinder/volume/drivers/nimble.py', 'releasenotes/notes/nimble-retype-support-18f717072948ba6d.yaml', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb17168c26dc5cc8f14d7f7395d55f7231ad5321', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n- update the provider location for fetching the\ncorrect discovery ip for volume discovery\n- prevent failures on snap deletetion / offline\n  as they could already be in those states\n\nChange-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}]",32,601492,fb17168c26dc5cc8f14d7f7395d55f7231ad5321,251,43,14,16668,,,0,"nimble storage: retype support

retype support between 2 nimble backends with and
without migration
- update the provider location for fetching the
correct discovery ip for volume discovery
- prevent failures on snap deletetion / offline
  as they could already be in those states

Change-Id: If21bd6c6aa9cef45f57f32034e26502cd02743b2
Closes-Bug: #1790907
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/601492/14 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nimble.py', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/tests/unit/volume/drivers/test_nimble.py']",3,a5f75a51f0937a1b29106e3482e4224a51a6d852,bug/1790907," return_value=['', ''])) return_value=['', ''])) return_value={ 'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes', 'nimble:multi-initiator': 'false', 'nimble:iops-limit': '1024'})) def test_retype(self): self.mock_client_service.get_vol_info.return_value = ( FAKE_GET_VOL_INFO_ONLINE) retype, update = self.driver.retype(None, FAKE_GET_VOL_INFO_ONLINE, None, None, None) self.assertTrue(retype) self.assertIsNone(update) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( 'nimble', 'nimble_pass', '10.18.108.55', 'default', '*')) 'target_discovered': False, @mock.patch(NIMBLE_ISCSI_DRIVER + '._get_data_ips') @mock.patch(NIMBLE_ISCSI_DRIVER + "".get_lun_number"") @mock.patch(NIMBLE_ISCSI_DRIVER + '._get_gst_for_group') def test_initialize_connection_group_scoped_target(self, mock_gst_name, mock_lun_number, mock_data_ips): mock_data_ips.return_value = ['12', '13'] mock_lun_number.return_value = 0 mock_gst_name.return_value = ""group_target_name"" self.mock_client_service.get_initiator_grp_list.return_value = ( FAKE_IGROUP_LIST_RESPONSE) expected_res = { 'driver_volume_type': 'iscsi', 'data': { 'target_discovered': False, 'volume_id': 12, 'target_iqns': ['group_target_name', 'group_target_name'], 'target_luns': [0, 0], 'target_portals': ['12', '13']}} self.assertEqual( expected_res, self.driver.initialize_connection( {'name': 'test-volume', 'provider_location': '12 group_target_name', 'id': 12}, {'initiator': 'test-initiator1'})) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( 'nimble', 'nimble_pass', '10.18.108.55', 'default', '*')) 'target_discovered': False, 'target_discovered': False, {'initiator': 'test-initiator3'})"," return_value = ['', ''])) return_value = ['', ''])) return_value= {'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes', 'nimble:multi-initiator': 'false', 'nimble:iops-limit': '1024'})) {'initiator': 'test-initiator3'}) ",266,45
openstack%2Fopenstack-ansible-nspawn_hosts~master~I6d26c021d5687664c28e9a38001536602d26aca5,openstack/openstack-ansible-nspawn_hosts,master,I6d26c021d5687664c28e9a38001536602d26aca5,Avoid repeating CIDR twice,ABANDONED,2018-10-08 01:13:13.000000000,2018-10-08 01:56:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-08 01:13:13.000000000', 'files': ['tasks/nspawn_networking.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/a152ed362896198c1764cd3f46ed84ad04c2de18', 'message': 'Avoid repeating CIDR twice\n\nThe recent clean-ups in the code has missed an extra removal\nof CIDRs which would result in it written twice and the route\nfailing to get installed properly.\n\nChange-Id: I6d26c021d5687664c28e9a38001536602d26aca5\n'}]",0,608475,a152ed362896198c1764cd3f46ed84ad04c2de18,3,1,1,1004,,,0,"Avoid repeating CIDR twice

The recent clean-ups in the code has missed an extra removal
of CIDRs which would result in it written twice and the route
failing to get installed properly.

Change-Id: I6d26c021d5687664c28e9a38001536602d26aca5
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/75/608475/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nspawn_networking.yml'],1,a152ed362896198c1764cd3f46ed84ad04c2de18,, {% set _ = start_commands.append('-/sbin/ip route add ' ~ net_cidr ~ ' dev ' ~ mv_interface ~ ' metric 100 proto kernel scope link table local') %}, {% set _ = start_commands.append('-/sbin/ip route add ' ~ net_cidr ~ '/' ~ (value.netmask | default('32')) ~ ' dev ' ~ mv_interface ~ ' metric 100 proto kernel scope link table local') %},1,1
openstack%2Fneutron-specs~master~I6152e56fcbbae3f23460466b26ae52e5866c6d1c,openstack/neutron-specs,master,I6152e56fcbbae3f23460466b26ae52e5866c6d1c,Host Bindings of Provider Networks,ABANDONED,2018-07-02 00:42:28.000000000,2018-10-08 01:44:17.000000000,,"[{'_account_id': 333}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15070}, {'_account_id': 22348}, {'_account_id': 28550}]","[{'number': 1, 'created': '2018-07-02 00:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c24a194604754e47a137af6a5fe20b5caf1c3d6e', 'message': 'Host Bindings of Provider Networks\n\nNeutron does not present a user-friendly way to realize a host level\nseparation for provider networks\' creation and management. This spec\nintroduces ""host bindings of provider networks"" to permit availability\nand physical topology to be made visible to the cloud operator for\nnetwork configuration, which facilitates the ops when a huge number of\ncomplex and non-homogeneous l2 networks are deployed.\n\nImplements: blueprint host-bindings-of-provider-networks\nChange-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 2, 'created': '2018-07-02 01:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aefdace15f535aec43bb7d29e6132ce32d034bd8', 'message': 'Host Bindings of Provider Networks\n\nNeutron does not present a user-friendly way to realize a host level\nseparation for provider networks\' creation and management.\n\nThis spec introduces ""host bindings of provider networks"" to permit\navailability and physical topology to be made visible to the cloud\noperator for network configuration, which facilitates the ops when a\nhuge number of complex and non-homogeneous l2 networks are deployed.\n\nImplements: blueprint host-bindings-of-provider-networks\nChange-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 3, 'created': '2018-07-02 01:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c165f6489765e78758cecabfbf53afb53430b31f', 'message': 'Host Bindings of Provider Networks\n\nNeutron does not present a user-friendly way to realize a host level\nseparation for provider networks\' creation and management.\n\nThis spec introduces ""host bindings of provider networks"" to permit\navailability and physical topology to be made visible to the cloud\noperator for network configuration, which facilitates the ops when a\nhuge number of complex and non-homogeneous l2 networks are deployed.\n\nImplements: blueprint host-bindings-of-provider-networks\nChange-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 4, 'created': '2018-07-02 06:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/30be0eae5cc16b8caf54a748810295a5c88724e2', 'message': 'Host Bindings of Provider Networks\n\nNeutron does not present a user-friendly way to realize a host level\nseparation for provider networks\' creation and management.\n\nThis spec introduces ""host bindings of provider networks"" to permit\navailability and physical topology to be made visible to the cloud\noperator for network configuration, which facilitates the ops when a\nhuge number of complex and non-homogeneous l2 networks are deployed.\n\nImplements: blueprint host-bindings-of-provider-networks\nChange-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 5, 'created': '2018-07-02 06:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3f7fc13cd3084cd8930ab89710f35b0874e90bc0', 'message': 'Host Bindings of Provider Networks\n\nNeutron does not present a user-friendly way to realize a host level\nseparation for provider networks\' creation and management.\n\nThis spec introduces ""host bindings of provider networks"" to permit\navailability and physical topology to be made visible to the cloud\noperator for network configuration, which facilitates the ops when a\nhuge number of complex and non-homogeneous l2 networks are deployed.\n\nImplements: blueprint host-bindings-of-provider-networks\nChange-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}, {'number': 6, 'created': '2018-07-02 07:08:22.000000000', 'files': ['specs/stein/host-bindings-of-provider-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1258ec5b0be3c4707baaff297c035925d429cb54', 'message': 'Host Bindings of Provider Networks\n\nNeutron does not present a user-friendly way to realize a host level\nseparation for provider networks\' creation and management.\n\nThis spec introduces ""host bindings of provider networks"" to permit\navailability and physical topology to be made visible to the cloud\noperator for network configuration, which facilitates the ops when a\nhuge number of complex and non-homogeneous l2 networks are deployed.\n\nImplements: blueprint host-bindings-of-provider-networks\nChange-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c\nSigned-off-by: Kailun Qin <kailun.qin@intel.com>\n'}]",3,579410,1258ec5b0be3c4707baaff297c035925d429cb54,16,6,6,28373,,,0,"Host Bindings of Provider Networks

Neutron does not present a user-friendly way to realize a host level
separation for provider networks' creation and management.

This spec introduces ""host bindings of provider networks"" to permit
availability and physical topology to be made visible to the cloud
operator for network configuration, which facilitates the ops when a
huge number of complex and non-homogeneous l2 networks are deployed.

Implements: blueprint host-bindings-of-provider-networks
Change-Id: I6152e56fcbbae3f23460466b26ae52e5866c6d1c
Signed-off-by: Kailun Qin <kailun.qin@intel.com>
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/10/579410/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/host-bindings-of-provider-networks.rst'],1,c24a194604754e47a137af6a5fe20b5caf1c3d6e,bp/host-bindings-of-provider-networks,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Host Bindings of Provider Networks ================================== Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/host-bindings-of-provider-networks Provider networks are commonly used in a Telecom context. Applications that run inside the OpenStack deployment might require a huge number of direct layer-2 access to applications residing in the existing physical network infrastructures. The current neutron implementation does not present a user-friendly method to realize a host level separation for provider networks’ creation and management. This spec proposes a “host bindings of provider networks” feature to address the issues cited above. It permits availability and physical topology to be made visible to the cloud operator for network configuration. Problem Description =================== Provider networks offer layer-2 connectivity to instances with optional support for DHCP and metadata services. These networks connect, or map, to existing layer-2 networks in the data center, typically using VLAN (802.1q) tagging to identify and separate them [1]. Under some Cloud and Telecom circumstances, there are user stories/scenarios which require a host of provider networks to map to/extend the existing physical network infrastructures. Their deployments can be complex and non-homogeneous. However, each host has limited interfaces (e.g. generally 2 interfaces for data) which enforces provider networks to be created on shared or separate sets of hosts. This also makes its management complicated. Therefore, for maximum ease of use, a user interface with admin privilege is needed to designate explicitly the hosts to reside with when creating provider networks and have instances scheduled/rescheduled to them correspondingly. In addition to scheduling/rescheduling decisions based on that availability, it will also permit connectivity tests (to be proposed thru another BP) to be tracked, reported and visualized, facilitating automated and user level validation for both host and switch configurations. Having the ability to semantically validate and audit the configuration is imperative for a successful deployment. Under failure conditions, the cloud operator can quickly discern whether a network outage is a result of a physical host failure or a switching failure by correlation to the physical host impacts. Use Case -------- An example of use case is illustrated below: * The main target is to connect, map to or extend a large number of existing l2 physical network infrastructures with one cloud. * n hosts: Host 0, ...Host k, Host k+1..., Host n are deployed in this cloud. * m provider networks: providernet-0, ...providernet-x…, providernet-m need to be created and managed for reaching the main target. Given that the interfaces available on each host cannot meet the required number of physical networks, it is necessary to distribute/split up provider networks to create on different hosts specified. +------------------+ | Physical Network | +------------+---------+ Infrastructures +--------+-------------+ | | +---------+--------+ | | | | | | | | | | | | +----+----+ +----+----+ +----+----+ +----+----+ +----+----+ | Host 0 | | Host 1 |.........| Host k | | Host k+1|...| Host n | +----+----+ +----+----+ +----+----+ +----+----+ +----+----+ | | | | | +---------providernet-0----------+ +providernet-x+ | | | +------------providernet-m------------+ A possible workflow is presented as follows: 1. Deploy the bridge mappings with the target physical networks on the hosts; 2. Create provider networks with the host binding parameters; 3. Create host aggregates which should include the set of hosts to bind; 4. Follow the general steps to launch an instance on the provider network created [2] and verify that instances should not be scheduled to hosts not bound with. Proposed Change =============== This spec proposes to tackle this problem via a new extension API to the network resource. The extension adds a new attribute provider:host_bindings to represent, specify and configure the hosts to be bound with when creating provider networks. Instances (VMs, DHCP agents/namespaces etc.) scheduled/rescheduled should always respect the host binding rules. The field should be read-only by project users and read-write by any user with an admin role. Data Model Impact ----------------- A new attribute will be added to the ‘networks’ table as a Neutron extension. +-----------------+--------+----------------+--------+-------------------+ | Attribute Name | Type | Access | Default| Validation/ | | | | | Value | Conversion | +=================+========+================+========+===================+ | host_bindings | list | R, project RW,| None | None, a list of | | | | user w/ admin | | unique strings | | | | role | | | +-----------------+--------+----------------+--------+-------------------+ REST API Impact --------------- A new API extension to the networks resource is going to be introduced. EXTENDED_ATTRIBUTES_2_0 = { 'networks': { 'provider:host_bindings': { 'allow_post': True, 'allow_put': True, 'validate': {'type:list_of_unique_strings’: validate_list_of_unique_strings}, 'default': None, 'enforce_policy': True, 'is_filter': True, 'is_visible': True} }, } Examples -------- Binding the provider network: network-uuid with host bindings to host0, host1 and host3: PUT /v2.0/networks/<network-uuid> Accept: application/json { ""network"": { ""provider:host_bindings"": [“host0”, “host1”, “host2”] } } Command Line Client Impact -------------------------- openstack network create [--provider:host_bindings <list of hosts to bind>] <network> Argument --provider:host_bindings is optional. Other Impact ------------ Provider networks’ DHCP scheduling/rescheduling will need to be restricted on the hosts bound with. Other End User Impact --------------------- Users will be able to specify the hosts during create/update provider networks. Host aggregates according to the host bindings will have to be created by end users for Nova’s VM scheduling. Other Deployer Impact --------------------- Deployers will have to follow the host bindings on provider networks to deploy the bridge mappings on each host. Alternatives ------------ Most of the functions Host Binding Provider Network provides can find alternatives at the deployment level or have solutions already implemented in Neutron. However, it will expose an API way for easier administration. The two main requirements/values for adding this feature enhancement are: * Limited interface number on each host which cannot meet provider networks’ requirements. We need to create provider networks separately on sets of hosts specified. * Current (VM, DHCP, L3 etc.) scheduling may not follow the host level separation. I.E., instances are scheduled/rescheduled across all the hosts eligible. We may have the following alternatives to address the above potential issues but might be constrained by limitations: * For 1), with deployment level solutions, the problem can be solved. We can directly configure bridge_mappings on each host by using deployment tools to connect, map to the target physical networks (bridge_mappings = physnet1:br-ex,physnet2:br-ex2). Besides, even though with host binding attribute added in provider networks, the deployment regarding bridge mappings is still needed since the host binding information is nothing but just records in DB which may serve the other services like scheduling. As for the VM scheduling by Nova, aggregates is always needed in which case host binding provider networks won’t help neither. If no host aggregates is configured, nova will fail to bind port when setting up networks on host and then trigger rescheduling to try with a next host eligible. * For 2), the current neutron implementation about DHCP scheduling has already checked and selected the hostable dhcp agents for a given provider network. It gathers bridge or interface mappings information from the agents’ configurations and compares it with the input network to decide whether the agent is hostable for the given input (network type, physical networks mapped are matched or not). If not, the provider network will not be scheduled to the DHCP agent. However, referring to the host segments functionality where, based on the state reported by the agent, a table is updated to track which hosts have access to which provider networks. This is being used by current Neutron to make DHCP scheduling decisions but bugs were fouond recently in how it handles multiple mechanism drivers see [A1] and [A2]. In addition to this functionality issue, there are also performance costs of accessing the information for complex queries which may impact for scheduling purposes and require further improvements. [A1] https://bugs.launchpad.net/neutron/+bug/1732448 [A2] https://bugs.launchpad.net/neutron/+bug/1732445 Implementation ============== Assignee(s) ----------- * Kailun Qin <kailun.qin@intel.com> Work Items ---------- * Add the DB model and extend the table column. * Extend current API. * Adjust existing schedulers to refer to the host binding information. * Add related tests. Add CLI openstackclient. * Documentation. Dependencies ============ None Testing ======= Unit tests, functional tests, API tests and scenario tests are necessary. Documentation Impact ==================== The Neutron API reference will need to be updated. References ========== [1] https://docs.openstack.org/neutron/latest/admin/intro-os-networking.html [2] https://docs.openstack.org/mitaka/install-guide-ubuntu/launch-instance-provider.html Related Information ------------------- Neutron v2 API: https://developer.openstack.org/api-ref/network/v2/ ",,262,0
openstack%2Fneutron-specs~master~I8c91d13f1be60007f57c7f3e04898c6febfd3fd5,openstack/neutron-specs,master,I8c91d13f1be60007f57c7f3e04898c6febfd3fd5,Fault Management,ABANDONED,2018-09-05 09:36:58.000000000,2018-10-08 01:32:20.000000000,,"[{'_account_id': 4694}, {'_account_id': 8976}, {'_account_id': 13995}, {'_account_id': 15070}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 28439}, {'_account_id': 28550}]","[{'number': 1, 'created': '2018-09-05 09:36:58.000000000', 'files': ['specs/stein/fault-management.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6133a8b5c921a543c76014e26876ae991b3b0bcc', 'message': 'Fault Management\n\nThe current neutron implementation has several high availability and\nrescheduling features to enhance its reliability, availability and\nserviceability. However, it does not implement a mechanism to directly\nreport stateful fault information via a fault management interface,\nwhich limits reporting and automated recovery capabilities.\n\nThis spec proposes to add a fault management driver to be implemented in\nneutron that will perform the OS-level fault management implementation\nto generate alarms, report issues when something goes wrong, and also to\nget, clear the fault states for ports, agents, hosts, provider networks\netc. This enables another external entity to monitor the faults of\ndifferent severity levels occurred in neutron and make fault\nhandling/scheduling decisions for the related services.\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint fault-management\nChange-Id: I8c91d13f1be60007f57c7f3e04898c6febfd3fd5\n'}]",9,599982,6133a8b5c921a543c76014e26876ae991b3b0bcc,7,8,1,28373,,,0,"Fault Management

The current neutron implementation has several high availability and
rescheduling features to enhance its reliability, availability and
serviceability. However, it does not implement a mechanism to directly
report stateful fault information via a fault management interface,
which limits reporting and automated recovery capabilities.

This spec proposes to add a fault management driver to be implemented in
neutron that will perform the OS-level fault management implementation
to generate alarms, report issues when something goes wrong, and also to
get, clear the fault states for ports, agents, hosts, provider networks
etc. This enables another external entity to monitor the faults of
different severity levels occurred in neutron and make fault
handling/scheduling decisions for the related services.

Co-Authored-By: Matt Peters <matt.peters@windriver.com>

Implements: blueprint fault-management
Change-Id: I8c91d13f1be60007f57c7f3e04898c6febfd3fd5
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/82/599982/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/fault-management.rst'],1,6133a8b5c921a543c76014e26876ae991b3b0bcc,bp/fault-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ Fault Management ================ Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/fault-management The current neutron implementation has several high availability and rescheduling features to enhance its reliability, availability and serviceability. However, it does not implement a mechanism to directly report stateful fault information via a fault management interface, which limits reporting and automated recovery capabilities. This spec proposes to add a fault management driver to be implemented in neutron that will perform the OS-level fault management implementation to generate alarms, report issues when something goes wrong, and also to get, clear the fault states for ports, agents, hosts, provider networks etc. This enables another external entity to monitor the faults of different severity levels occurred in neutron and make fault handling/scheduling decisions for the related services. Problem Description =================== Many environments, even today, may have limited, unreliable or unpredictable connectivity caused by various types of failures or faults. Fault management is thus crucial in no matter a cloud, telecom or an edge context to deal with those situations in a swift, accurate and comprehensively considered way. UseCase I --------- Report different levels of fault alarms to an external fault management engine to let it make scheduling/rescheduling decisions, in order to support more complicated and extensible fault monitoring and handling cases. UseCase II ---------- Enable external fault management engine to send fault handling operations back to neutron to sync up the local fault status and execute the underlying fault-resolving mechanism. Proposed Change =============== The idea is to implement a fault management driver in neutron which uses a Fault Management client library as backend which provides APIs to raise/clear/update active alarms of different severity levels. In this way, an external entity will be able to play the role of fault monitor/manager/scheduling engine to deal with faults or errors of varied levels happen in neutron. Data Model Impact ----------------- None REST API Impact --------------- None Command Line Client Impact -------------------------- None Other Impact ------------ * Dependencies with system host management and provider network management are expected. * Necessary adjustments to the existing OVS agent are expected. * A sample fault management extension to expose the manage interfaces could be added with support based on the fault management driver proposed. Other Deployer Impact --------------------- This feature can be deployed in a number of ways, but the preferred option is to add a parameter in config and then based on that to enable the fault management in neutron. Implementation ============== Assignee(s) ----------- Work Items ---------- * Add the fault management driver and related interfaces for neutron. * Add the sample fault management extension and API if needed. * Add related tests. * Documentation. Dependencies ============ None Testing ======= Unit tests, functional tests and scenario tests are necessary. Documentation Impact ==================== The Neutron API reference will need to be updated. References ========== Related Information ------------------- ",,129,0
openstack%2Fneutron-specs~master~I8fc86f589d77f878c6c1d1959db3608b4996d563,openstack/neutron-specs,master,I8fc86f589d77f878c6c1d1959db3608b4996d563,System Host Management,ABANDONED,2018-09-05 09:35:43.000000000,2018-10-08 01:31:54.000000000,,"[{'_account_id': 4694}, {'_account_id': 8976}, {'_account_id': 11975}, {'_account_id': 15070}, {'_account_id': 22348}, {'_account_id': 28439}, {'_account_id': 28550}]","[{'number': 1, 'created': '2018-09-05 09:35:43.000000000', 'files': ['specs/stein/system-host-management.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/741daea6ede31375889bf78303b5b13e3d11e5ca', 'message': 'System Host Management\n\nCurrently, neutron does not provide an independent system host\nmanagement ability. Instead, the host segments functionality is based on\nthe state reported by the agent according to the deployment level\nconfigurations, a table is updated to track which hosts have access to\nwhich provider networks. This is being used to make DHCP scheduling\ndecisions but bugs have been identified in how they handle multiple\nmechanism drivers (see [1] and [2]). In addition, there are also\nperformance costs with accessing the information for complex\nqueries which may impact larger deployments during scheduling\noperations, and therefore require further improvements.\n\nThis spec proposes an host extension which adds host management to the\nneutron API. It is expected that another entity (e.g., NFV-VIM or Bare\nMetal and Node Management) is sending host update notifications to let\nneutron know when hosts are added, deleted or when they change state. It\nalso allows for that external entity to tell neutron which provider\nnetworks are associated to which host. This enables neutron to make\nscheduling decisions about where DHCP and router services can be\nscheduled. This also enables neutron to generate, report host-level\nissues when something goes wrong. Otherwise, the system will operate\nbased on agent availability only, if the extension is not loaded and\nhost state is not being managed.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1732448\n[2] https://bugs.launchpad.net/neutron/+bug/1732445\n\nCo-Authored-By: Matt Peters <matt.peters@windriver.com>\n\nImplements: blueprint system-host-management\nChange-Id: I8fc86f589d77f878c6c1d1959db3608b4996d563\n'}]",20,599981,741daea6ede31375889bf78303b5b13e3d11e5ca,6,7,1,28373,,,0,"System Host Management

Currently, neutron does not provide an independent system host
management ability. Instead, the host segments functionality is based on
the state reported by the agent according to the deployment level
configurations, a table is updated to track which hosts have access to
which provider networks. This is being used to make DHCP scheduling
decisions but bugs have been identified in how they handle multiple
mechanism drivers (see [1] and [2]). In addition, there are also
performance costs with accessing the information for complex
queries which may impact larger deployments during scheduling
operations, and therefore require further improvements.

This spec proposes an host extension which adds host management to the
neutron API. It is expected that another entity (e.g., NFV-VIM or Bare
Metal and Node Management) is sending host update notifications to let
neutron know when hosts are added, deleted or when they change state. It
also allows for that external entity to tell neutron which provider
networks are associated to which host. This enables neutron to make
scheduling decisions about where DHCP and router services can be
scheduled. This also enables neutron to generate, report host-level
issues when something goes wrong. Otherwise, the system will operate
based on agent availability only, if the extension is not loaded and
host state is not being managed.

[1] https://bugs.launchpad.net/neutron/+bug/1732448
[2] https://bugs.launchpad.net/neutron/+bug/1732445

Co-Authored-By: Matt Peters <matt.peters@windriver.com>

Implements: blueprint system-host-management
Change-Id: I8fc86f589d77f878c6c1d1959db3608b4996d563
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/81/599981/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/system-host-management.rst'],1,741daea6ede31375889bf78303b5b13e3d11e5ca,bp/system-host-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== System Host Management ====================== Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/system-host-management Currently, neutron does not provide an independent system host management ability. Instead, the host segments functionality is based on the state reported by the agent according to the deployment level configurations, a table is updated to track which hosts have access to which provider networks. This is being used to make DHCP scheduling decisions but bugs have been identified in how they handle multiple mechanism drivers (see [1] and [2]). In addition, there are also performance costs with accessing the information for complex queries which may impact larger deployments during scheduling operations, and therefore require further improvements. This spec proposes an host extension which adds host management to the neutron API. It is expected that another entity (e.g., NFV-VIM or Bare Metal and Node Management) is sending host update notifications to let neutron know when hosts are added, deleted or when they change state. It also allows for that external entity to tell neutron which provider networks are associated to which host. This enables neutron to make scheduling decisions about where DHCP and router services can be scheduled. This also enables neutron to generate, report host-level issues when something goes wrong. Otherwise, the system will operate based on agent availability only, if the extension is not loaded and host state is not being managed. Problem Description =================== This feature attempts to fill in the gap where current neutron does not provide a way to manage system hosts and bind them with provider networks. Several example use cases are demonstrated below. UseCase I --------- Provide the direct host level bindings of provider networks together with the API management. This permits availability and physical topology to be made visible to the cloud operator for network configuration. UseCase II ---------- Enable neutron or cloud administrators to make auto or manual scheduling/rescheduling decisions based on the system host availability. UseCase III ----------- Permit connectivity tests to be tracked, reported and visualized, facilitating automated and user level validation for both host and switch configurations. Cloud network infrastructure deployments can be complex and non-homogeneous, therefore having the ability to semantically validate and audit the configuration is imperative for a successful deployment. Under failure conditions, the cloud operator can quickly discern whether a network outage is a result of a physical host failure or a switching failure by correlation to the physical host impacts. UseCase IV ---------- Enable neutron to generate, report host-level issues when something goes wrong. Proposed Change =============== Data Model Impact ----------------- The following new tables are added as part of the system host management feature:: CREATE TABLE hosts ( id CHAR(36) NOT NULL PRI KEY, name VARCHAR(255) NOT NULL UNIQUE KEY, availability ENUM(constants.HOST_UP, constants.HOST_DOWN) NOT NULL, created_at DateTime NOT NULL, updated_at DateTime ); CREATE TABLE hostinterfaces ( id CHAR(36) NOT NULL PRI KEY, host_id CHAR(36), mtu INT NOT NULL, network_type VARCHAR(255) NOT NULL, vlans VARCHAR(255) NOT NULL, created_at DateTime NOT NULL, updated_at DateTime CONSTRAINT 'host_id_constraint' FOREIGN KEY ('host_id') REFERENCES 'hosts' ('id') ON DELETE CASCADE ); CREATE TABLE hostinterfaceprovidernetbindings ( providernet_id CHAR(36) NOT NULL, interface_id CHAR(36) NOT NULL, CONSTRAINT 'providernet_id_constraint' FOREIGN KEY ('providernet_id') REFERENCES 'providernets' ('id') ON DELETE CASCADE, CONSTRAINT 'interface_id_constraint' FOREIGN KEY ('interface_id') REFERENCES 'hostinterfaces' ('id') ON DELETE CASCADE, CONSTRAINT 'providernet_id_interface_id_constraint' PRIMARY KEY (providernet_id, interface_id) ); CREATE TABLE hostprovidernetbindings ( providernet_id CHAR(36) NOT NULL, host_id CHAR(36) NOT NULL, CONSTRAINT 'providernet_id_constraint' FOREIGN KEY ('providernet_id') REFERENCES 'providernets' ('id') ON DELETE CASCADE, CONSTRAINT 'host_id_constraint' FOREIGN KEY ('interface_id') REFERENCES 'hosts' ('id') ON DELETE CASCADE, CONSTRAINT 'providernet_id_host_id_constraint' PRIMARY KEY (providernet_id, host_id) ); Resource Extension ------------------ The following new resources are being introduced and their attributes maps would be like: .. code-block:: python RESOURCE_ATTRIBUTE_MAP = { 'hosts': { 'id': {'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:uuid': None}}, 'name': {'allow_post': True, 'allow_put': False, 'is_visible': True}, 'availability': {'allow_post': True, 'allow_put': True, 'validate': {'type:values': ['UP', 'DOWN', 'up', 'down']}, 'is_visible': True}, 'created_at': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'updated_at': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'is_visible': False}, 'agents': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'subnets': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'routers': {'allow_post': False, 'allow_put': False, 'is_visible': True}, 'ports': {'allow_post': False, 'allow_put': False, 'is_visible': True}, }, } In addition, neutron routers will be extended with an attribute host which exposes the host assigned to the routers resource. .. code-block:: python EXTENDED_ATTRIBUTES_2_0 = { 'routers': { 'host': {'allow_post': False, 'allow_put': False, 'enforce_policy': True, 'is_visible': True}, }, } REST API Impact --------------- The following system host management Rest APIs will be provided in line with the new resources previously introduced: Create host. POST /v2.0/hosts/<host-uuid> Delete host. DELETE /v2.0/hosts/<host-uuid> Update host. PUT /v2.0/hosts/<host-uuid> Example use cases could be: * Updates the availability status of a host. * Bind an interface with a set of provider networks while also providing system information about an interface. * Unbind an interface to clear all provider network mappings. List hosts. GET /v2.0/hosts List host. GET /v2.0/hosts/<host-uuid> Command Line Client Impact -------------------------- Openstack Client would add system host management related CLIs, for instance: * openstack host list * openstack host show * openstack host create * openstack host update * openstack host delete * openstack host bind-interface * openstack host unbind-interface Other Impact ------------ * Agent-side changes for DHCP, L3 agent etc. are expected to accommodate the server-side implementation. * A host driver will be needed to handle the underlying operations. * Current network DCHP and router scheduling/rescheduling will have to refer to the system host information this feature provides. * Necessary adjustments to the existing ML2 plugins are expected. * Connectivity testing could be added with support based on system host management. Implementation ============== Assignee(s) ----------- Work Items ---------- * Add the DB model and extend the table column. * Extend current API. * Add the extension proposed and implement both the server-side and agent-side changes identified. * Adjust existing schedulers to refer to the system host information obtained. * Implement the host driver to deal with the underlying operations. * Add related tests. * Add CLI openstackclient. * Documentation. Dependencies ============ None Testing ======= Unit tests, functional tests, API tests and scenario tests are necessary. Documentation Impact ==================== The Neutron API reference will need to be updated. References ========== [1] https://bugs.launchpad.net/neutron/+bug/1732448 [2] https://bugs.launchpad.net/neutron/+bug/1732445 Related Information ------------------- Neutron v2 API: https://developer.openstack.org/api-ref/network/v2/ ",,264,0
openstack%2Fswift~master~I4c8dafe34fcfea354b254b9137f31184cbd6a762,openstack/swift,master,I4c8dafe34fcfea354b254b9137f31184cbd6a762,internal_client: Require that request_tries be positive,MERGED,2018-10-05 17:51:58.000000000,2018-10-08 01:15:35.000000000,2018-10-08 01:15:35.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}, {'_account_id': 26240}]","[{'number': 1, 'created': '2018-10-05 17:51:58.000000000', 'files': ['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3770f3f2281e9ac6b9292325803f8d6c5e26ea5b', 'message': 'internal_client: Require that request_tries be positive\n\nThis way the error is obvious and at initialization time, rather than being\nan UnboundLocalError that waits until you actually make requests.\n\nChange-Id: I4c8dafe34fcfea354b254b9137f31184cbd6a762\n'}]",0,608330,3770f3f2281e9ac6b9292325803f8d6c5e26ea5b,11,3,1,15343,,,0,"internal_client: Require that request_tries be positive

This way the error is obvious and at initialization time, rather than being
an UnboundLocalError that waits until you actually make requests.

Change-Id: I4c8dafe34fcfea354b254b9137f31184cbd6a762
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/608330/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py']",2,3770f3f2281e9ac6b9292325803f8d6c5e26ea5b,, if request_tries < 1: raise ValueError('request_tries must be positive'),,11,6
openstack%2Fos-apply-config~master~I1853dafac8f854812744acf50706cdef15a87936,openstack/os-apply-config,master,I1853dafac8f854812744acf50706cdef15a87936,fix tox python3 overrides,MERGED,2018-10-03 21:13:33.000000000,2018-10-08 01:10:31.000000000,2018-10-08 01:10:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 21:13:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/68818cece6ad418287ea843d5616890dd72a2c38', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I1853dafac8f854812744acf50706cdef15a87936\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,607717,68818cece6ad418287ea843d5616890dd72a2c38,7,3,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I1853dafac8f854812744acf50706cdef15a87936
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/17/607717/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,68818cece6ad418287ea843d5616890dd72a2c38,python3-first,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Ftripleo-common~master~I81ba3a8c287712e0248476e64da0136fc09e26d5,openstack/tripleo-common,master,I81ba3a8c287712e0248476e64da0136fc09e26d5,Improve validations output for troubleshooting.,MERGED,2018-07-09 11:15:00.000000000,2018-10-08 01:10:30.000000000,2018-10-08 01:10:30.000000000,"[{'_account_id': 8042}, {'_account_id': 8532}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-07-09 11:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b15b6893c6c1eb283f1fc45ecb063443e39fa0c4', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory-Board: #2002911\n'}, {'number': 2, 'created': '2018-07-09 11:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/433dc8fe9e2e33142c7cf1ca9ce8fb5b11c2d522', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}, {'number': 3, 'created': '2018-07-09 16:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/abebae436c0dfbe6dcab95c0f233ab965d64b740', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}, {'number': 4, 'created': '2018-07-09 17:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2dc388c17f32fb1643524c4e1021b4289ad6985', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}, {'number': 5, 'created': '2018-07-09 20:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5cdb4f2d138415e5118e36c0ea944f25abc3f06', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}, {'number': 6, 'created': '2018-07-09 20:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c6518e42fd0a4261e2c0a4bb54a54d7b59b99204', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}, {'number': 7, 'created': '2018-07-10 07:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e22034122530ec53878b632914913930f890340e', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}, {'number': 8, 'created': '2018-07-10 13:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ede90efb1f2e94f8087e1659215e24ddbe640fa7', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}, {'number': 9, 'created': '2018-10-07 03:09:11.000000000', 'files': ['workbooks/validations.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1d17a9992528f3d70a59b10de6a53c2178eea998', 'message': 'Improve validations output for troubleshooting.\n\nCurrently, the tripleo validations are being used to\nevaluate the status of the environment before/after\ncertain steps (post-deploy, pre-upgrade, post-upgrade)\nHowever, when obtaining the workflow execution output,\nif some of the validations failed there is no information\nabout which one, and the reason behind.\n\nThis patch allows identifying the validation being run\nin the run_validation action and publishes the results\nfor the group or list of validations being run in the\nrun_validations and run_validation_group workflows.\n\nChange-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5\nStory: #2002911\n'}]",3,581007,1d17a9992528f3d70a59b10de6a53c2178eea998,46,13,9,26343,,,0,"Improve validations output for troubleshooting.

Currently, the tripleo validations are being used to
evaluate the status of the environment before/after
certain steps (post-deploy, pre-upgrade, post-upgrade)
However, when obtaining the workflow execution output,
if some of the validations failed there is no information
about which one, and the reason behind.

This patch allows identifying the validation being run
in the run_validation action and publishes the results
for the group or list of validations being run in the
run_validations and run_validation_group workflows.

Change-Id: I81ba3a8c287712e0248476e64da0136fc09e26d5
Story: #2002911
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/581007/8 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/validations.yaml'],1,b15b6893c6c1eb283f1fc45ecb063443e39fa0c4,581007, validation: <% $.validation_name %> workflow: tripleo.validations.v1.run_validation input: validation_name: <% $.validation %> plan: <% $.plan %> queue_name: <% $.queue_name %> result: <% task().result %> result: <% task(run_validations).result.where($.status = 'FAILED') %> workflow: tripleo.validations.v1.run_validation input: validation_name: <% $.validation %> plan: <% $.plan %> queue_name: <% $.queue_name %> result: <% task().result %> result: <% task(run_validation_group).result.where($.status = 'FAILED') %>, workflow: tripleo.validations.v1.run_validation validation_name=<% $.validation %> plan=<% $.plan %> queue_name=<% $.queue_name %> workflow: tripleo.validations.v1.run_validation validation_name=<% $.validation %> plan=<% $.plan %> queue_name=<% $.queue_name %>,15,2
openstack%2Fironic-inspector-specs~master~I7f262bdc896b30e68529bcf88a01859d8a91aa58,openstack/ironic-inspector-specs,master,I7f262bdc896b30e68529bcf88a01859d8a91aa58,fix tox python3 overrides,MERGED,2018-10-03 02:11:12.000000000,2018-10-08 00:59:46.000000000,2018-10-08 00:59:45.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-10-03 02:11:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector-specs/commit/d483072562376018ac0d8dd8636c96dc8d9b315a', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7f262bdc896b30e68529bcf88a01859d8a91aa58\n'}]",0,607449,d483072562376018ac0d8dd8636c96dc8d9b315a,8,4,1,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7f262bdc896b30e68529bcf88a01859d8a91aa58
",git fetch https://review.opendev.org/openstack/ironic-inspector-specs refs/changes/49/607449/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d483072562376018ac0d8dd8636c96dc8d9b315a,,basepython = python3,,1,0
openstack%2Fpuppet-neutron~master~Ibfe0c78d346ad0b0e283bff595ce982ba176f668,openstack/puppet-neutron,master,Ibfe0c78d346ad0b0e283bff595ce982ba176f668,Update neutron packages name for Fedora,MERGED,2018-09-27 16:40:42.000000000,2018-10-08 00:15:16.000000000,2018-10-08 00:15:16.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 16:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3536d5c97bfcfc7e145c6da80fb2ee6b34187edd', 'message': 'Update neutron packages name for Fedora\n\nFor Fedora use python3 packages. Neutron python3 packages\nare now available at [1].\n\n[1] https://trunk.rdoproject.org/fedora/current/\n\nChange-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668\n'}, {'number': 2, 'created': '2018-10-03 05:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/30006f5d63da0c3073effcb41c75c0fdb4b4d8db', 'message': 'Update neutron packages name for Fedora\n\nFor Fedora use python3 packages. Neutron python3 packages\nare now available at [1].\n\n[1] https://trunk.rdoproject.org/fedora/current/\n\nChange-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668\n'}, {'number': 3, 'created': '2018-10-03 10:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9384f1b79e4831f63315c85a45bf6c4e0e14f74e', 'message': 'Update neutron packages name for Fedora\n\nFor Fedora use python3 packages. Neutron python3 packages\nare now available at [1].\n\n[1] https://trunk.rdoproject.org/fedora/current/\n\nChange-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668\n'}, {'number': 4, 'created': '2018-10-05 06:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/23e5c586ae56893ca62135cddc04d2ac945ce94e', 'message': 'Update neutron packages name for Fedora\n\nFor Fedora use python3 packages. Neutron python3 packages\nare now available at [1].\n\n[1] https://trunk.rdoproject.org/fedora/current/\n\nChange-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668\n'}, {'number': 5, 'created': '2018-10-05 09:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/90f18666fda14126e51e959c490e10396f9d3bd2', 'message': 'Update neutron packages name for Fedora\n\nFor Fedora use python3 packages. Neutron python3 packages\nare now available at [1].\n\n[1] https://trunk.rdoproject.org/fedora/current/\n\nChange-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668\n'}, {'number': 6, 'created': '2018-10-05 10:53:35.000000000', 'files': ['manifests/agents/bigswitch.pp', 'spec/classes/neutron_plugins_ml2_spec.rb', 'spec/classes/neutron_agents_metadata_spec.rb', 'manifests/services/lbaas.pp', 'spec/classes/neutron_plugins_opencontrail_spec.rb', 'spec/classes/neutron_plugins_ml2_mellanox_spec.rb', 'spec/classes/neutron_plugins_ml2_cisco_nexus_spec.rb', 'spec/classes/neutron_plugins_midonet_spec.rb', 'spec/classes/neutron_agents_n1kv_vem_spec.rb', 'spec/classes/neutron_plugins_plumgrid_spec.rb', 'spec/classes/neutron_agents_l3_spec.rb', 'spec/classes/neutron_plugins_ml2_cisco_spec.rb', 'spec/classes/neutron_agents_vpnaas_spec.rb', 'spec/classes/neutron_plugins_ml2_cisco_ucsm_spec.rb', 'manifests/params.pp', 'spec/classes/neutron_plugins_ml2_cisco_vts_spec.rb', 'spec/classes/neutron_agents_metering_spec.rb', 'spec/classes/neutron_plugins_ml2_bigswitch_restproxy_spec.rb', 'spec/classes/neutron_server_spec.rb', 'spec/classes/neutron_plugins_ml2_midonet_spec.rb', 'spec/classes/neutron_agents_lbaas_spec.rb', 'spec/classes/neutron_init_spec.rb', 'spec/classes/neutron_plugins_ml2_opendaylight_spec.rb', 'spec/classes/neutron_agents_dhcp_spec.rb', 'spec/classes/neutron_plugins_nvp_spec.rb', 'spec/classes/neutron_agents_ovn_metadata_spec.rb', 'spec/classes/neutron_plugins_cisco_spec.rb', 'spec/classes/neutron_plugins_ml2_mlnx_sdn_assist_spec.rb', 'spec/classes/neutron_services_fwaas_spec.rb', 'spec/classes/neutron_services_vpnaas_spec.rb', 'spec/classes/neutron_services_lbaas_spec.rb', 'spec/classes/neutron_plugins_nuage_spec.rb', 'spec/classes/neutron_plugins_ml2_bigswitch_spec.rb', 'spec/classes/neutron_agents_ml2_linuxbridge_spec.rb', 'spec/classes/neutron_plugins_ml2_cisco_type_nexus_vxlan_spec.rb', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'spec/classes/neutron_plugins_ml2_cisco_nexus1000v_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/afe371f89710a5e07377724ebf1fd85bfd7e5636', 'message': 'Update neutron packages name for Fedora\n\nFor Fedora use python3 packages. Neutron python3 packages\nare now available at [1].\n\n[1] https://trunk.rdoproject.org/fedora/current/\n\nChange-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668\n'}]",8,605805,afe371f89710a5e07377724ebf1fd85bfd7e5636,22,7,6,13861,,,0,"Update neutron packages name for Fedora

For Fedora use python3 packages. Neutron python3 packages
are now available at [1].

[1] https://trunk.rdoproject.org/fedora/current/

Change-Id: Ibfe0c78d346ad0b0e283bff595ce982ba176f668
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/05/605805/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/bigswitch.pp', 'manifests/params.pp', 'manifests/services/lbaas.pp']",3,3536d5c97bfcfc7e145c6da80fb2ee6b34187edd,enable-py3," if ($::os_package_type == 'debian') or ($::operatingsystem == 'Fedora') { $pyvers = '3' } else { $pyvers = '' } ensure_packages([""python${pyvers}-neutron-lbaas""], { ensure_packages([""python${pyvers}-neutron-lbaas""], {"," ensure_packages(['python3-neutron-lbaas'], { ensure_packages(['python-neutron-lbaas'], {",23,11
openstack%2Fpuppet-nova~stable%2Frocky~Iaf3711030166a25bd3a5d6c27003ecd271be115a,openstack/puppet-nova,stable/rocky,Iaf3711030166a25bd3a5d6c27003ecd271be115a,Remove pick() for default_floating_pool,MERGED,2018-10-04 09:09:47.000000000,2018-10-08 00:09:08.000000000,2018-10-08 00:09:08.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 09:09:47.000000000', 'files': ['manifests/network/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3ac15e5c1d90ff76a232b0865269a6177e7e0e38', 'message': 'Remove pick() for default_floating_pool\n\nThe nova::api::default_floating_pool option is removed\nbut the pick in nova::network::neutron was not removed\nwhich causes a warning.\n\nChange-Id: Iaf3711030166a25bd3a5d6c27003ecd271be115a\n(cherry picked from commit c203ae2ede0653fb20f685692ebbc200fef8c409)\n'}]",0,607860,3ac15e5c1d90ff76a232b0865269a6177e7e0e38,6,2,1,16137,,,0,"Remove pick() for default_floating_pool

The nova::api::default_floating_pool option is removed
but the pick in nova::network::neutron was not removed
which causes a warning.

Change-Id: Iaf3711030166a25bd3a5d6c27003ecd271be115a
(cherry picked from commit c203ae2ede0653fb20f685692ebbc200fef8c409)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/60/607860/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/network/neutron.pp'],1,3ac15e5c1d90ff76a232b0865269a6177e7e0e38,, 'neutron/default_floating_pool': value => $default_floating_pool;," $default_floating_pool_real = pick($::nova::api::default_floating_pool, $default_floating_pool) 'neutron/default_floating_pool': value => $default_floating_pool_real;",1,4
openstack%2Fpuppet-neutron~stable%2Frocky~I4dc1c0867ebc5a61865aabe46aa05716bd4e7452,openstack/puppet-neutron,stable/rocky,I4dc1c0867ebc5a61865aabe46aa05716bd4e7452,Set metadata_agent_package to false for RedHat,MERGED,2018-10-04 09:09:18.000000000,2018-10-07 23:58:07.000000000,2018-10-07 23:58:07.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 09:09:18.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5d3ba85ef18ee9ec3f22070381c6cf0f15ccb115', 'message': ""Set metadata_agent_package to false for RedHat\n\nThe metadata_agent_package variable in the params.pp\nis not set on RedHat but only on Debian based OS family.\n\nThis causes an warning because the if statement in [1] [2].\n\nWe should set the variable to false to suppress the\nwarning message.\n\n[1] https://github.com/openstack/puppet-neutron/blob/master/manifests/agents/metadata.pp#L122\n[2] Unknown variable: '::neutron::params::metadata_agent_package'\n\nChange-Id: I4dc1c0867ebc5a61865aabe46aa05716bd4e7452\n(cherry picked from commit 8d3ffb584d06ea1b4fdcce7896485339cb0baf69)\n""}]",0,607859,5d3ba85ef18ee9ec3f22070381c6cf0f15ccb115,6,2,1,16137,,,0,"Set metadata_agent_package to false for RedHat

The metadata_agent_package variable in the params.pp
is not set on RedHat but only on Debian based OS family.

This causes an warning because the if statement in [1] [2].

We should set the variable to false to suppress the
warning message.

[1] https://github.com/openstack/puppet-neutron/blob/master/manifests/agents/metadata.pp#L122
[2] Unknown variable: '::neutron::params::metadata_agent_package'

Change-Id: I4dc1c0867ebc5a61865aabe46aa05716bd4e7452
(cherry picked from commit 8d3ffb584d06ea1b4fdcce7896485339cb0baf69)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/59/607859/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,5d3ba85ef18ee9ec3f22070381c6cf0f15ccb115,, $metadata_agent_package = false,,1,0
openstack%2Fpuppet-horizon~stable%2Frocky~Ib632dca7f438b39e10903ff75ec2d8f9115cc520,openstack/puppet-horizon,stable/rocky,Ib632dca7f438b39e10903ff75ec2d8f9115cc520,"Fix ""create role"" button in identity/roles",MERGED,2018-10-05 11:54:52.000000000,2018-10-07 21:18:29.000000000,2018-10-07 21:18:29.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8648}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 11:54:52.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/e5878354ef326c40d2d3e82a5e18a9beb8ea1409', 'message': 'Fix ""create role"" button in identity/roles\n\nSince the identity/roles view now uses angular, the\n\'OPENSTACK_KEYSTONE_BACKEND\' value needs to be added to the\nREST_API_REQUIRED_SETTINGS setting for it to work properly,\nas per https://review.openstack.org/#/c/579085/\n\nChange-Id: Ib632dca7f438b39e10903ff75ec2d8f9115cc520\n(cherry picked from commit 1e8909e4c50f71d460cbec8d826ec48e744fcc62)\n'}]",0,608244,e5878354ef326c40d2d3e82a5e18a9beb8ea1409,12,8,1,8648,,,0,"Fix ""create role"" button in identity/roles

Since the identity/roles view now uses angular, the
'OPENSTACK_KEYSTONE_BACKEND' value needs to be added to the
REST_API_REQUIRED_SETTINGS setting for it to work properly,
as per https://review.openstack.org/#/c/579085/

Change-Id: Ib632dca7f438b39e10903ff75ec2d8f9115cc520
(cherry picked from commit 1e8909e4c50f71d460cbec8d826ec48e744fcc62)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/44/608244/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,e5878354ef326c40d2d3e82a5e18a9beb8ea1409,create_role-stable/rocky," 'CREATE_IMAGE_DEFAULTS', 'OPENSTACK_KEYSTONE_BACKEND',]", 'CREATE_IMAGE_DEFAULTS'],2,1
openstack%2Fpuppet-ironic~stable%2Fqueens~I88a0b67a61944565e59f245f02f7e4620f92ec82,openstack/puppet-ironic,stable/queens,I88a0b67a61944565e59f245f02f7e4620f92ec82,Remove ironic inspector dnsmasq bind-interfaces setting,MERGED,2018-10-04 18:59:16.000000000,2018-10-07 21:13:24.000000000,2018-10-07 21:13:24.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 18:59:16.000000000', 'files': ['templates/inspector_dnsmasq_tftp.erb', 'releasenotes/notes/remove-bind-interfaces-98c7021ed271eeee.yaml', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2d4ef7c16afafbba32834bed3cecfd65a3546cb2', 'message': ""Remove ironic inspector dnsmasq bind-interfaces setting\n\nIn order to allow the ironic inspector dnsmasq service to\nreceive packets after the network service is restarted, the\nbind-interfaces option should not be set.  Since the\nironic inspector is bound to the br-ctlplane interface,\nits not necessary to set this field as this dnsmasq instance\nwill only service this interface.\n\nFrom the dnsmasq man page (http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html).\n-z, --bind-interfaces\nOn systems which support it, dnsmasq binds the wildcard address,\neven when it is listening on only some interfaces. It then\ndiscards requests that it shouldn't reply to. This has the\nadvantage of working even when interfaces come and go and\nchange address. This option forces dnsmasq to really bind only\nthe interfaces it is listening on. About the only time when\nthis is useful is when running another nameserver (or another\ninstance of dnsmasq) on the same machine. Setting this option\nalso enables multiple instances of dnsmasq which provide DHCP\nservice to run in the same machine.\n\nWe do run another dnsmasq instance for neutron but that is bound to\nthe tap interface in the namespace.\n\nChange-Id: I88a0b67a61944565e59f245f02f7e4620f92ec82\n(cherry picked from commit 44ad813ee69970191b9dd5d4be278bde88ec48ec)\n(cherry picked from commit 317a1e5bfd7b3e86a2cdcc189f4ef3f45c8336e4)\n""}]",0,608060,2d4ef7c16afafbba32834bed3cecfd65a3546cb2,7,3,1,21909,,,0,"Remove ironic inspector dnsmasq bind-interfaces setting

In order to allow the ironic inspector dnsmasq service to
receive packets after the network service is restarted, the
bind-interfaces option should not be set.  Since the
ironic inspector is bound to the br-ctlplane interface,
its not necessary to set this field as this dnsmasq instance
will only service this interface.

From the dnsmasq man page (http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html).
-z, --bind-interfaces
On systems which support it, dnsmasq binds the wildcard address,
even when it is listening on only some interfaces. It then
discards requests that it shouldn't reply to. This has the
advantage of working even when interfaces come and go and
change address. This option forces dnsmasq to really bind only
the interfaces it is listening on. About the only time when
this is useful is when running another nameserver (or another
instance of dnsmasq) on the same machine. Setting this option
also enables multiple instances of dnsmasq which provide DHCP
service to run in the same machine.

We do run another dnsmasq instance for neutron but that is bound to
the tap interface in the namespace.

Change-Id: I88a0b67a61944565e59f245f02f7e4620f92ec82
(cherry picked from commit 44ad813ee69970191b9dd5d4be278bde88ec48ec)
(cherry picked from commit 317a1e5bfd7b3e86a2cdcc189f4ef3f45c8336e4)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/60/608060/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/inspector_dnsmasq_tftp.erb', 'releasenotes/notes/remove-bind-interfaces-98c7021ed271eeee.yaml', 'templates/inspector_dnsmasq_http.erb']",3,2d4ef7c16afafbba32834bed3cecfd65a3546cb2,dnsmasq-bind-interfaces-stable/rocky-stable/queens,,bind-interfaces,25,2
openstack%2Fpuppet-openstack-cookiecutter~master~Ib79f8e857cc71d5e7ddbaf856e29f2548c624f52,openstack/puppet-openstack-cookiecutter,master,Ib79f8e857cc71d5e7ddbaf856e29f2548c624f52,Dissuade .gitignore references to personal tools,MERGED,2018-10-05 18:27:11.000000000,2018-10-07 20:23:50.000000000,2018-10-07 20:23:50.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 18:27:11.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/.gitignore', '.gitignore'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/47487469e9d131047c8dc288618241ea9980a068', 'message': ""Dissuade .gitignore references to personal tools\n\nDevelopers run all sorts of different tools within Git repositories,\nany of which can leave their own special trashfiles all over the\nplace. We can't every hope to catalog them all, so better to\nrecommend developers simply configure a global core.excludesfile to\nfilter the irrelevant files which tend to get created by their\npersonal choice of tools. Add a comment block explaining this, for\nclarity, and remove the one current editor-specific entry present.\n\nWe can, and should of course, continue to list files created by the\ntools recommended by our workflow (test frameworks, documentation\nand packaging builds, et cetera).\n\nThis change is a port of Ib58a57267b064e4142686de6c37a70dbff04b9a7\nfrom the openstack-dev/cookiecutter repository.\n\nChange-Id: Ib79f8e857cc71d5e7ddbaf856e29f2548c624f52\n""}]",0,608335,47487469e9d131047c8dc288618241ea9980a068,7,3,1,5263,,,0,"Dissuade .gitignore references to personal tools

Developers run all sorts of different tools within Git repositories,
any of which can leave their own special trashfiles all over the
place. We can't every hope to catalog them all, so better to
recommend developers simply configure a global core.excludesfile to
filter the irrelevant files which tend to get created by their
personal choice of tools. Add a comment block explaining this, for
clarity, and remove the one current editor-specific entry present.

We can, and should of course, continue to list files created by the
tools recommended by our workflow (test frameworks, documentation
and packaging builds, et cetera).

This change is a port of Ib58a57267b064e4142686de6c37a70dbff04b9a7
from the openstack-dev/cookiecutter repository.

Change-Id: Ib79f8e857cc71d5e7ddbaf856e29f2548c624f52
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/35/608335/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/.gitignore', '.gitignore']",2,47487469e9d131047c8dc288618241ea9980a068,gitignore-cleanup,"# Add patterns in here to exclude files created by tools integrated with this # repository, such as test frameworks from the project's recommended workflow, # rendered documentation and package builds. # # Don't add patterns to exclude files created by preferred personal tools # (editors, IDEs, your operating system itself even). These should instead be # maintained outside the repository, for example in a ~/.gitignore file added # with: # # git config --global core.excludesfile '~/.gitignore' ",,22,1
openstack%2Ftripleo-repos~master~I07253a00b43d3c5c1096f41ed4b95ec8526232e7,openstack/tripleo-repos,master,I07253a00b43d3c5c1096f41ed4b95ec8526232e7,Use openstack-tox-cover template,MERGED,2018-09-07 09:48:42.000000000,2018-10-07 20:16:44.000000000,2018-10-07 20:16:44.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 09:48:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/dca903e59e2f4b039c671943be41041011a8b3ef', 'message': 'Use openstack-tox-cover template\n\nUse openstack-tox-cover template, this runs the cover job as\nnon-voting in the check queue only.\n\nRemove jobs and use template instead.\n\nChange-Id: I07253a00b43d3c5c1096f41ed4b95ec8526232e7\n'}]",0,600682,dca903e59e2f4b039c671943be41041011a8b3ef,7,4,1,6547,,,0,"Use openstack-tox-cover template

Use openstack-tox-cover template, this runs the cover job as
non-voting in the check queue only.

Remove jobs and use template instead.

Change-Id: I07253a00b43d3c5c1096f41ed4b95ec8526232e7
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/82/600682/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dca903e59e2f4b039c671943be41041011a8b3ef,update-zuul, - openstack-cover-jobs, check: jobs: - openstack-tox-cover: voting: false ,1,5
openstack%2Fansible-role-tripleo-ui~master~Ie01f20fe3ab5176e000b9b50f2d24577df3f0510,openstack/ansible-role-tripleo-ui,master,Ie01f20fe3ab5176e000b9b50f2d24577df3f0510,fix tox python3 overrides,MERGED,2018-10-03 21:13:22.000000000,2018-10-07 20:12:53.000000000,2018-10-07 20:12:53.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 21:13:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-ui/commit/e8bb2c0cb8f6dd4e7d79e0364f402391885e9dae', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ie01f20fe3ab5176e000b9b50f2d24577df3f0510\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,607713,e8bb2c0cb8f6dd4e7d79e0364f402391885e9dae,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ie01f20fe3ab5176e000b9b50f2d24577df3f0510
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-ui refs/changes/13/607713/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e8bb2c0cb8f6dd4e7d79e0364f402391885e9dae,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Fansible-role-tripleo-zaqar~master~Icb14d7965a0aa3d4a9e70e33f9afa5feffde6f04,openstack/ansible-role-tripleo-zaqar,master,Icb14d7965a0aa3d4a9e70e33f9afa5feffde6f04,fix tox python3 overrides,MERGED,2018-10-03 21:13:24.000000000,2018-10-07 20:06:38.000000000,2018-10-07 20:06:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 21:13:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-zaqar/commit/b789127627a75d98a95c3fad3da0eec988402a8e', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Icb14d7965a0aa3d4a9e70e33f9afa5feffde6f04\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,607714,b789127627a75d98a95c3fad3da0eec988402a8e,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Icb14d7965a0aa3d4a9e70e33f9afa5feffde6f04
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-zaqar refs/changes/14/607714/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b789127627a75d98a95c3fad3da0eec988402a8e,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Ftripleo-common~master~Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1,openstack/tripleo-common,master,Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1,Honor blacklist with enable_ssh_admin,MERGED,2018-08-06 21:25:30.000000000,2018-10-07 19:55:51.000000000,2018-10-03 01:46:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-06 21:25:30.000000000', 'files': ['workbooks/access.yaml', 'workbooks/deployment.yaml', 'releasenotes/notes/enable-ssh-admin-honor-blacklist-f1371554ab1b38f6.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/893cd2af3fb9e804e7dac3dd34b27be3cc63e5aa', 'message': 'Honor blacklist with enable_ssh_admin\n\nUse the stack output BlacklistedIpAddresses in the enable_ssh_admin\nworkflow so that the workflow does not use any of the servers in the\nblacklist.\n\nChange-Id: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1\nDepends-On: Ie96acf29a857e4801f5823f26a7de6bc989f39e2\nCloses-Bug: #1785680\n'}]",0,589290,893cd2af3fb9e804e7dac3dd34b27be3cc63e5aa,20,5,1,7144,,,0,"Honor blacklist with enable_ssh_admin

Use the stack output BlacklistedIpAddresses in the enable_ssh_admin
workflow so that the workflow does not use any of the servers in the
blacklist.

Change-Id: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1
Depends-On: Ie96acf29a857e4801f5823f26a7de6bc989f39e2
Closes-Bug: #1785680
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/589290/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/access.yaml', 'workbooks/deployment.yaml', 'releasenotes/notes/enable-ssh-admin-honor-blacklist-f1371554ab1b38f6.yaml']",3,893cd2af3fb9e804e7dac3dd34b27be3cc63e5aa,bug/1785680,--- fixes: - tripleo.access.v1.enable_ssh_admin now honors the server blacklist if one is set. Servers in the blacklist will not be used by the workflow. ,,30,3
openstack%2Fcinder~master~Ifb982a464fdd8313c1172b9ada674c436d73fecc,openstack/cinder,master,Ifb982a464fdd8313c1172b9ada674c436d73fecc,Use Tempest slow job to run all slow tests,MERGED,2018-08-13 11:15:06.000000000,2018-10-07 19:55:51.000000000,2018-10-01 19:28:43.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-08-13 11:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0150e5fabeadccca6a46fd125ac49f7a5e89d2e', 'message': 'Use Tempest slow job to run all slow tests\n\ntempest-slow job run all the slow tests including API\nor scenario slow tests. By running this job will help to\navoid any regressions across projects.\n\nThis new job ""tempest-slow"" will run as voting on check pipeline\nand same job run on nova and neutron gate.\n\nTempest also run ""tempest-slow"" as voting job.\n\nDetailed discussion on ML[2].\n\n[1] http://git.openstack.org/cgit/openstack/tempest/tree/.zuul.yaml#n147\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-May/130394.html\n\nChange-Id: Ifb982a464fdd8313c1172b9ada674c436d73fecc\n'}, {'number': 2, 'created': '2018-10-01 13:28:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/340d162a2e4e2c208cd3c8e6002ff60786c443cd', 'message': 'Use Tempest slow job to run all slow tests\n\ntempest-slow job run all the slow tests including API\nor scenario slow tests. By running this job will help to\navoid any regressions across projects.\n\nThis new job ""tempest-slow"" will run as voting on check pipeline\nand same job run on nova and neutron gate.\n\nTempest also run ""tempest-slow"" as voting job.\n\nDetailed discussion on ML[2].\n\n[1] http://git.openstack.org/cgit/openstack/tempest/tree/.zuul.yaml#n147\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-May/130394.html\n\nChange-Id: Ifb982a464fdd8313c1172b9ada674c436d73fecc\n'}]",0,591354,340d162a2e4e2c208cd3c8e6002ff60786c443cd,69,39,2,8556,,,0,"Use Tempest slow job to run all slow tests

tempest-slow job run all the slow tests including API
or scenario slow tests. By running this job will help to
avoid any regressions across projects.

This new job ""tempest-slow"" will run as voting on check pipeline
and same job run on nova and neutron gate.

Tempest also run ""tempest-slow"" as voting job.

Detailed discussion on ML[2].

[1] http://git.openstack.org/cgit/openstack/tempest/tree/.zuul.yaml#n147
[2] http://lists.openstack.org/pipermail/openstack-dev/2018-May/130394.html

Change-Id: Ifb982a464fdd8313c1172b9ada674c436d73fecc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/591354/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f0150e5fabeadccca6a46fd125ac49f7a5e89d2e,run-tempest-slow-job, - tempest-slow: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,,15,0
openstack%2Fpython-tripleoclient~master~I76531c5fb36135cfd733ddb6980bf43d0295db30,openstack/python-tripleoclient,master,I76531c5fb36135cfd733ddb6980bf43d0295db30,Pass stack name to enable_ssh_admin workflow,MERGED,2018-10-01 14:37:55.000000000,2018-10-07 19:55:39.000000000,2018-10-06 23:56:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-01 14:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/629c229f0033629337f7062bce1132dfcfcf5190', 'message': ""Pass stack name to enable_ssh_admin workflow\n\nPass the stack/plan name to the enable_ssh_admin workflow, otherwise,\nonly the default 'overcloud' name works.\n\nChange-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30\nCloses-Bug: #1795417\n""}, {'number': 2, 'created': '2018-10-02 13:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d0e0dcac3f92bc83390c9ff5c79e555b1b49e27d', 'message': ""Pass stack name to enable_ssh_admin workflow\n\nPass the stack/plan name to the enable_ssh_admin workflow, otherwise,\nonly the default 'overcloud' name works.\n\nChange-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30\nCloses-Bug: #1795417\n""}, {'number': 3, 'created': '2018-10-02 13:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0248328555860e20288a15b4ef4c6c980e830ac3', 'message': ""Pass stack name to enable_ssh_admin workflow\n\nPass the stack/plan name to the enable_ssh_admin workflow, otherwise,\nonly the default 'overcloud' name works.\n\nChange-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30\nCloses-Bug: #1795417\n""}, {'number': 4, 'created': '2018-10-02 17:38:50.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23f19693a522592f502226ccca6e14222e40f7ca', 'message': ""Pass stack name to enable_ssh_admin workflow\n\nPass the stack/plan name to the enable_ssh_admin workflow, otherwise,\nonly the default 'overcloud' name works.\n\nDepends-On: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1\nChange-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30\nCloses-Bug: #1795417\n""}]",0,606964,23f19693a522592f502226ccca6e14222e40f7ca,35,7,4,7144,,,0,"Pass stack name to enable_ssh_admin workflow

Pass the stack/plan name to the enable_ssh_admin workflow, otherwise,
only the default 'overcloud' name works.

Depends-On: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1
Change-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30
Closes-Bug: #1795417
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/64/606964/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",3,629c229f0033629337f7062bce1132dfcfcf5190,bug/1783893," stack.stack_name,",,5,2
openstack%2Fcinder~stable%2Frocky~I74a5b48c414db2b5b9e27d986d776d7c2ae3f383,openstack/cinder,stable/rocky,I74a5b48c414db2b5b9e27d986d776d7c2ae3f383,nimble storage: support for force detach,MERGED,2018-10-05 01:47:18.000000000,2018-10-07 18:31:35.000000000,2018-10-06 19:46:12.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 16668}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-05 01:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6227406e4d9c3f737704a18023bca24eac08e6fb', 'message': ""nimble storage: support for force detach\n\nnimble storage driver doesn't handle force detach with empty connector\ninformation in terminate connection. The fix takes care of empty connectors\nand removing all ACL's on the volume if connector information is absent\n\nChange-Id: I74a5b48c414db2b5b9e27d986d776d7c2ae3f383\nCloses-Bug: #1795070\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n(cherry picked from commit b2d0ac0c2e121ac0107603090974082f29f849c5)\n""}, {'number': 2, 'created': '2018-10-05 01:47:58.000000000', 'files': ['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5814daa354e3c9ac0a9e1d932f7e78f87bd97f8f', 'message': ""nimble storage: support for force detach\n\nnimble storage driver doesn't handle force detach with empty connector\ninformation in terminate connection. The fix takes care of empty connectors\nand removing all ACL's on the volume if connector information is absent\n\nChange-Id: I74a5b48c414db2b5b9e27d986d776d7c2ae3f383\nCloses-Bug: #1795070\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n(cherry picked from commit b2d0ac0c2e121ac0107603090974082f29f849c5)\n""}]",0,608136,5814daa354e3c9ac0a9e1d932f7e78f87bd97f8f,47,19,2,16668,,,0,"nimble storage: support for force detach

nimble storage driver doesn't handle force detach with empty connector
information in terminate connection. The fix takes care of empty connectors
and removing all ACL's on the volume if connector information is absent

Change-Id: I74a5b48c414db2b5b9e27d986d776d7c2ae3f383
Closes-Bug: #1795070
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
(cherry picked from commit b2d0ac0c2e121ac0107603090974082f29f849c5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/608136/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py']",2,6227406e4d9c3f737704a18023bca24eac08e6fb,bug/1795070-stable/rocky," @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( 'nimble', 'nimble_pass', '10.18.108.55', 'default', '*')) def test_terminate_connection_without_connector(self): self.mock_client_service.get_initiator_grp_list.return_value = ( FAKE_IGROUP_LIST_RESPONSE) self.driver.terminate_connection( {'name': 'test-volume', 'provider_location': '12 13', 'id': 12}, None) expected_calls = [mock.call._get_igroupname_for_initiator( 'test-initiator1'), mock.call.remove_all_acls({'name': 'test-volume'})] self.mock_client_service.assert_has_calls( self.mock_client_service.method_calls, expected_calls) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[]))",,54,0
openstack%2Fproject-config~master~Ie6f3f8462e98ca24879db9ef942ec81072330323,openstack/project-config,master,Ie6f3f8462e98ca24879db9ef942ec81072330323,fix rsyslog builds on gentoo,MERGED,2018-10-07 10:14:07.000000000,2018-10-07 15:32:40.000000000,2018-10-07 15:32:40.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-07 10:14:07.000000000', 'files': ['nodepool/elements/infra-package-needs/pre-install.d/00-gentoo-useflags'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a8e7fbe12761d46c8d3bdcddd3ea8bbd619cec9a', 'message': 'fix rsyslog builds on gentoo\n\nA new version was stabilized on the 5th that allows for more complex\nssl usage.\n\nalso, alphabetize the use flag definitions based on package name.\n\nChange-Id: Ie6f3f8462e98ca24879db9ef942ec81072330323\n'}]",0,608447,a8e7fbe12761d46c8d3bdcddd3ea8bbd619cec9a,7,3,1,14288,,,0,"fix rsyslog builds on gentoo

A new version was stabilized on the 5th that allows for more complex
ssl usage.

also, alphabetize the use flag definitions based on package name.

Change-Id: Ie6f3f8462e98ca24879db9ef942ec81072330323
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/608447/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/pre-install.d/00-gentoo-useflags'],1,a8e7fbe12761d46c8d3bdcddd3ea8bbd619cec9a,fix-rsyslog-on-gentoo," echo ""app-admin/rsyslog openssl"" >> /etc/portage/package.use/rsyslog echo ""dev-lang/python sqlite"" >> /etc/portage/package.use/python echo ""sys-libs/zlib static-libs"" >> /etc/portage/package.use/zlib"," echo ""sys-libs/zlib static-libs"" >> /etc/portage/package.use/zlib echo ""dev-lang/python sqlite"" >> /etc/portage/package.use/python",3,2
openstack%2Fpuppet-tripleo~master~Ia0e769925812e91679631bdd631030ab12ceff01,openstack/puppet-tripleo,master,Ia0e769925812e91679631bdd631030ab12ceff01,Do not create metadata ssl proxy if we have metadata api via httpd wsgi,MERGED,2018-08-22 13:30:33.000000000,2018-10-07 15:02:58.000000000,2018-10-06 21:20:48.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 17823}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-08-22 13:30:33.000000000', 'files': ['manifests/profile/base/nova/api.pp', 'releasenotes/notes/nova-metadata-wsgi-ssl-a64c2b9a99deb7a9.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a8bef7a3135d295e667e2e80a2e23e3515a0cb88', 'message': 'Do not create metadata ssl proxy if we have metadata api via httpd wsgi\n\nWith nova metadata api running via wsgi we do not need the ssl proxy when\nconfigure tls-everywhere as we terminate ssl direct in the httpd wsgi.\nWith this change we only create the ssl proxy vhost if we do not run nova\nmetadata via wsgi.\n\nRelated-Bug: 1781405\n\nChange-Id: Ia0e769925812e91679631bdd631030ab12ceff01\n'}]",3,595001,a8bef7a3135d295e667e2e80a2e23e3515a0cb88,41,12,1,17216,,,0,"Do not create metadata ssl proxy if we have metadata api via httpd wsgi

With nova metadata api running via wsgi we do not need the ssl proxy when
configure tls-everywhere as we terminate ssl direct in the httpd wsgi.
With this change we only create the ssl proxy vhost if we do not run nova
metadata via wsgi.

Related-Bug: 1781405

Change-Id: Ia0e769925812e91679631bdd631030ab12ceff01
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/01/595001/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/api.pp', 'releasenotes/notes/nova-metadata-wsgi-ssl-a64c2b9a99deb7a9.yaml']",2,a8bef7a3135d295e667e2e80a2e23e3515a0cb88,bug/1781405,--- fixes: - | With nova metadata api running via wsgi we do not need the ssl proxy when configure tls-everywhere as we terminate ssl direct in the httpd wsgi. With this change we only create the ssl proxy vhost if we do not run nova metadata via wsgi. ,,8,1
openstack%2Fnetworking-odl~master~I7b55e07b73b08323e37ed9d982a38bfc08505678,openstack/networking-odl,master,I7b55e07b73b08323e37ed9d982a38bfc08505678,DNM: TEST 2to3 on functional,ABANDONED,2018-09-03 14:48:04.000000000,2018-10-07 13:57:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-03 14:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/efe12c4225bbbf2751da87285eea98a1724e06e2', 'message': 'DNM: TEST 2to3 on functional\n\nChange-Id: I7b55e07b73b08323e37ed9d982a38bfc08505678\n'}, {'number': 2, 'created': '2018-09-03 15:10:30.000000000', 'files': ['networking_odl/tests/unit/journal/test_full_sync.py', 'networking_odl/tests/unit/qos/test_qos_driver_v2.py', 'networking_odl/journal/recovery.py', 'networking_odl/tests/functional/test_l3.py', 'networking_odl/journal/periodic_task.py', 'networking_odl/tests/functional/db/test_migrations.py', 'networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py', 'networking_odl/common/lightweight_testing.py', 'networking_odl/tests/unit/common/test_odl_features.py', 'networking_odl/tests/unit/journal/test_base_driver.py', 'networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/cmd/analyze_journal.py', 'networking_odl/tests/unit/common/test_utils.py', 'networking_odl/qos/qos_utils.py', 'networking_odl/tests/unit/cmd/test_analyze_journal.py', 'networking_odl/tests/unit/common/test_filters.py', 'networking_odl/cmd/set_ovs_hostconfigs.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/55ceadb4167b0336993df52061b5f65eea35d2fb', 'message': 'DNM: TEST 2to3 on functional\n\nChange-Id: I7b55e07b73b08323e37ed9d982a38bfc08505678\n'}]",0,599418,55ceadb4167b0336993df52061b5f65eea35d2fb,4,1,2,26507,,,0,"DNM: TEST 2to3 on functional

Change-Id: I7b55e07b73b08323e37ed9d982a38bfc08505678
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/18/599418/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/functional/test_l3.py', 'networking_odl/tests/functional/db/test_migrations.py']",2,efe12c4225bbbf2751da87285eea98a1724e06e2,python3-first-missing-patch," meta_def.arg.text == 'CURRENT_TIMESTAMP' and return list(filter(self._filter_mysql_server_func_now, diff))"," meta_def.arg.text == u'CURRENT_TIMESTAMP' and return filter(self._filter_mysql_server_func_now, diff)",3,3
openstack%2Ftripleo-heat-templates~stable%2Frocky~Id48df6db012fb433f9a0e618d0269196f4cfc2c6,openstack/tripleo-heat-templates,stable/rocky,Id48df6db012fb433f9a0e618d0269196f4cfc2c6,Fix TLS when using a containerized undercloud,MERGED,2018-10-07 05:43:42.000000000,2018-10-07 13:41:37.000000000,2018-10-07 13:41:36.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-07 05:43:42.000000000', 'files': ['puppet/services/neutron-metadata.yaml', 'puppet/services/nova-metadata.yaml', 'environments/undercloud.yaml', 'docker/services/nova-metadata.yaml', 'roles_data_undercloud.yaml', 'puppet/services/nova-api.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca765f73c6d0477d1b5a07e94858b428bda23c08', 'message': ""Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n(cherry picked from commit c2139a7db2d0142be033d93f63ca6e75f901821a)\n""}]",0,608440,ca765f73c6d0477d1b5a07e94858b428bda23c08,8,3,1,17216,,,0,"Fix TLS when using a containerized undercloud

Since we moved to containerized UC, TLS Everywhere deployments are broken.
Namely we miss two things:

A. The NAT iptables rule for the nova metadata service to be reachable
B. The setting 'service_metadata_proxy=false' needs to be set for nova
   metadata otherwise the curl calls to setup ipa will fail with the
   following:
[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06
<html>
 <head>
  <title>400 Bad Request</title>
 </head>
 <body>
  <h1>400 Bad Request</h1>
  X-Instance-ID header is missing from request.<br /><br />
 </body>
</html>

A. Is fixed by adding a conditional iptables rule that is only triggered
   when deploying an undercloud (where we set MetadataNATRule to true)

B. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the
   undercloud and then setting the corresponding hiera keys only when
   the parameter != ''. We tried alternative simpler approaches like
   setting NeutronMetadataProxySharedSecret to null but that will break
   heat as the parameter is required and setting it to null breaks heat
   validation (we also tried to make the parameter optional with a
   default: '', but that broke as well)

While we're at it we also remove the neutron metadata service from the
undercloud as it is not needed.

Tested by deploying an undercloud with this change and observing:
A.
Chain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)
 pkts bytes target     prot opt in     out     source               destination
    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775

B.
grep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf
service_metadata_proxy=False

Also a deployment of a TLS overcloud was successful.

Change-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6
Co-Authored-By: Martin Schuppert <mschuppe@redhat.com>
Closes-Bug: #1795722
(cherry picked from commit c2139a7db2d0142be033d93f63ca6e75f901821a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/608440/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-metadata.yaml', 'puppet/services/nova-metadata.yaml', 'environments/undercloud.yaml', 'docker/services/nova-metadata.yaml', 'roles_data_undercloud.yaml', 'puppet/services/nova-api.yaml', 'roles/Undercloud.yaml']",7,ca765f73c6d0477d1b5a07e94858b428bda23c08,bug/1795722-stable/rocky,, - OS::TripleO::Services::NeutronMetadataAgent,40,7
openstack%2Fos-brick~stable%2Frocky~I0f5533c0f00707380aa2e8039bcb99f9fba6687a,openstack/os-brick,stable/rocky,I0f5533c0f00707380aa2e8039bcb99f9fba6687a,Ignore volume disconnect if it is not connected,MERGED,2018-09-23 07:38:44.000000000,2018-10-07 13:36:46.000000000,2018-10-03 17:55:41.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12171}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-09-23 07:38:44.000000000', 'files': ['os_brick/initiator/connectors/nvme.py', 'os_brick/tests/initiator/connectors/test_nvme.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9fcd7a548e25a2edd72d7430fb027ca528edf221', 'message': 'Ignore volume disconnect if it is not connected\n\nStarting a VM with an NVMe volume after compute node reboots fails\nbecause nova try to disconnect the volume then connect it again.\n\nThe proposed fix is to skip volume disconnect if the device not\nconnected.\n\nChange-Id: I0f5533c0f00707380aa2e8039bcb99f9fba6687a\nCloses-Bug: #1792315\n(cherry picked from commit f776f5a56e37391386e2ce0ddc17d830aacecb3c)\n'}]",2,604578,9fcd7a548e25a2edd72d7430fb027ca528edf221,18,14,1,22948,,,0,"Ignore volume disconnect if it is not connected

Starting a VM with an NVMe volume after compute node reboots fails
because nova try to disconnect the volume then connect it again.

The proposed fix is to skip volume disconnect if the device not
connected.

Change-Id: I0f5533c0f00707380aa2e8039bcb99f9fba6687a
Closes-Bug: #1792315
(cherry picked from commit f776f5a56e37391386e2ce0ddc17d830aacecb3c)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/78/604578/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/nvme.py', 'os_brick/tests/initiator/connectors/test_nvme.py']",2,9fcd7a548e25a2edd72d7430fb027ca528edf221,," @mock.patch.object(nvme.NVMeConnector, '_get_nvme_devices') def test_disconnect_volume(self, mock_devices, mock_execute): 'device_path': '/dev/nvme0n1', mock_devices.return_value = '/dev/nvme0n1' @mock.patch.object(nvme.NVMeConnector, '_get_nvme_devices') def test_disconnect_volume_raise(self, mock_devices, mock_execute): mock_devices.return_value = '/dev/nvme0n1' 'device_path': '/dev/nvme0n1',"," def test_disconnect_volume(self, mock_execute): 'device_path': '', def test_disconnect_volume_raise(self, mock_execute): 'device_path': '',",14,4
openstack%2Ftempest~master~Iee0ef884f57999d96dfe6182ab8060cd231dc7cb,openstack/tempest,master,Iee0ef884f57999d96dfe6182ab8060cd231dc7cb,DNM: For testing,ABANDONED,2018-10-05 03:14:46.000000000,2018-10-07 13:16:37.000000000,,"[{'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 03:14:46.000000000', 'files': ['tempest/api/compute/flavors/test_flavors_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd43987b00992ebdad12b263779a29660d386ea6', 'message': 'DNM: For testing\n\nChange-Id: Iee0ef884f57999d96dfe6182ab8060cd231dc7cb\n'}]",0,608152,dd43987b00992ebdad12b263779a29660d386ea6,5,3,1,8556,,,0,"DNM: For testing

Change-Id: Iee0ef884f57999d96dfe6182ab8060cd231dc7cb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/608152/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/flavors/test_flavors_negative.py'],1,dd43987b00992ebdad12b263779a29660d386ea6,testing-interop-job2, def test_boot_new_with_low_ram(self):, def test_boot_with_low_ram(self):,1,1
openstack%2Ftempest~master~Ideecbe95117674ed03ded10e4476389060c426de,openstack/tempest,master,Ideecbe95117674ed03ded10e4476389060c426de,DNM: For Testing1,ABANDONED,2018-10-05 03:16:30.000000000,2018-10-07 13:16:29.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 03:16:30.000000000', 'files': ['tempest/api/compute/flavors/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5513357c7f32460bbc81388f2fd0a389cbebd60b', 'message': 'DNM: For Testing1\n\nChange-Id: Ideecbe95117674ed03ded10e4476389060c426de\n'}]",0,608153,5513357c7f32460bbc81388f2fd0a389cbebd60b,7,5,1,8556,,,0,"DNM: For Testing1

Change-Id: Ideecbe95117674ed03ded10e4476389060c426de
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/608153/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/flavors/test_flavors.py'],1,5513357c7f32460bbc81388f2fd0a389cbebd60b,testing-interop-job1, def test_list_new_flavors(self):, def test_list_flavors(self):,1,1
openstack%2Fkolla~stable%2Fpike~I68b72cf8f933e28f130b1f0cfc7c519bae525483,openstack/kolla,stable/pike,I68b72cf8f933e28f130b1f0cfc7c519bae525483,Bump openstack service version pike,MERGED,2018-09-14 14:56:57.000000000,2018-10-07 12:44:23.000000000,2018-10-07 12:44:23.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-09-14 14:56:57.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/06af84cadb70593f52106c529f9ef3fe455390e7', 'message': 'Bump openstack service version pike\n\nUpdate heat from 9.0.4 to 9.0.5\nUpdate keystone from 12.0.0 to 12.0.1\nUpdate tempest from master to 17.0.0\n\nChange-Id: I68b72cf8f933e28f130b1f0cfc7c519bae525483\n'}]",0,602634,06af84cadb70593f52106c529f9ef3fe455390e7,18,4,1,19316,,,0,"Bump openstack service version pike

Update heat from 9.0.4 to 9.0.5
Update keystone from 12.0.0 to 12.0.1
Update tempest from master to 17.0.0

Change-Id: I68b72cf8f933e28f130b1f0cfc7c519bae525483
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/602634/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,06af84cadb70593f52106c529f9ef3fe455390e7,bump-version-pike," 'heat-9.0.5.tar.gz')}, 'keystone-12.0.1.tar.gz')}, 'tempest-17.0.0.tar.gz')},"," 'heat-9.0.4.tar.gz')}, 'keystone-12.0.0.tar.gz')}, 'tempest-master.tar.gz')},",3,3
openstack%2Ftempest~master~I84cc3e525066940739b90f49ac984b8162e12356,openstack/tempest,master,I84cc3e525066940739b90f49ac984b8162e12356,Capping nova-cert test cases to Pike.,ABANDONED,2018-08-22 09:46:53.000000000,2018-10-07 12:39:34.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 17927}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-08-22 09:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc57e2f078a2689599d94aa4b51ecd899f5cba01', 'message': 'Removal of test cases for nova-cert\n\nChange-Id: I84cc3e525066940739b90f49ac984b8162e12356\nCloses-Bug:#1788371\n'}, {'number': 2, 'created': '2018-08-22 13:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8989bb06eee278c828f6d302bc3a94227d4e821', 'message': 'Removal of test cases for nova-cert\n\nLink: https://specs.openstack.org/openstack/nova-specs/specs/pike/implemented/remove-nova-cert.html\n\nChange-Id: I84cc3e525066940739b90f49ac984b8162e12356\nCloses-Bug:#1788371\n'}, {'number': 3, 'created': '2018-10-07 11:44:19.000000000', 'files': ['tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5fb717ecb844d70cd18fd7f7f6812d33bc84613b', 'message': 'Capping nova-cert test cases to Pike.\n\nSince this below blueprint introduces this change in Pike thus capping the nova-cert\ntest cases to Pike. Files tempest/api/compute/certificates/__init__.py\nand tempest/api/compute/certificates/test_certificates.py may be removed once Pike goes EOL.\n\nLink: https://specs.openstack.org/openstack/nova-specs/specs/pike/implemented/remove-nova-cert.html\nUseful Link: https://docs.openstack.org/releasenotes/nova/pike.html -> The latest Compute\nAPI microversion supported for Pike is v2.53\n\nChange-Id: I84cc3e525066940739b90f49ac984b8162e12356\nCloses-Bug:#1788371\n'}]",0,594919,5fb717ecb844d70cd18fd7f7f6812d33bc84613b,15,5,3,17927,,,0,"Capping nova-cert test cases to Pike.

Since this below blueprint introduces this change in Pike thus capping the nova-cert
test cases to Pike. Files tempest/api/compute/certificates/__init__.py
and tempest/api/compute/certificates/test_certificates.py may be removed once Pike goes EOL.

Link: https://specs.openstack.org/openstack/nova-specs/specs/pike/implemented/remove-nova-cert.html
Useful Link: https://docs.openstack.org/releasenotes/nova/pike.html -> The latest Compute
API microversion supported for Pike is v2.53

Change-Id: I84cc3e525066940739b90f49ac984b8162e12356
Closes-Bug:#1788371
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/594919/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/certificates/__init__.py', 'tempest/api/compute/certificates/test_certificates.py']",2,dc57e2f078a2689599d94aa4b51ecd899f5cba01,bug/1788371,,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.compute import base from tempest import config from tempest.lib import decorators CONF = config.CONF class CertificatesV2TestJSON(base.BaseV2ComputeTest): @classmethod def skip_checks(cls): super(CertificatesV2TestJSON, cls).skip_checks() if not CONF.compute_feature_enabled.nova_cert: raise cls.skipException(""Nova cert is not available"") @decorators.idempotent_id('c070a441-b08e-447e-a733-905909535b1b') def test_create_root_certificate(self): # create certificates self.certificates_client.create_certificate() @decorators.idempotent_id('3ac273d0-92d2-4632-bdfc-afbc21d4606c') def test_get_root_certificate(self): # get the root certificate self.certificates_client.show_certificate('root') ",0,39
openstack%2Fos-vif~master~Ifbc44337c09e0f2ccf421798803ff7e794ed0b70,openstack/os-vif,master,Ifbc44337c09e0f2ccf421798803ff7e794ed0b70,Add multiqueue port profile for VIFGeneric,ABANDONED,2018-05-29 15:57:09.000000000,2018-10-07 10:36:09.000000000,,"[{'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 20751}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2018-05-29 15:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e21160aa995fcab24af71bfad496af69e075fbdf', 'message': ""Add multiqueue field to VIFGeneric\n\nOS-VIF plugins using a VIFGeneric object cannot currently reliably check\nwhether a multiqueue TAP device needs to be created on plugging. This\nleads to an annoying conflict, where the hypervisor can expect a\nmultiqueue capable TAP device, but OS-VIF has no direct way of\ncommunicating this to the plugin.\n\nThis is a blocker for kernel vrouter migration to OS-VIF.\n\nThis patch adds the 'multiqueue' field to VIFGeneric and increases the\nversion of that object.\n\nChange-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nAcked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>\n""}, {'number': 2, 'created': '2018-05-30 22:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c0fea149e3f56ba4ed80c595a76dc3f8801d6c57', 'message': ""Add multiqueue field to InstanceInfo\n\nOS-VIF plugins using a VIFGeneric object cannot currently reliably check\nwhether a multiqueue TAP device needs to be created on plugging. This\nleads to an annoying conflict, where the hypervisor can expect a\nmultiqueue capable TAP device, but OS-VIF has no direct way of\ncommunicating this to the plugin.\n\nIn Nova, the check whether to enable multiqueue on virtio interfaces is\ndone at the instance level by the hypervisor. Even though multiqueue is\ntechnically a per-VIF attribute, it's a better fit with Nova to pass\nit via the InstanceInfo object.\n\nThis is a blocker for kernel vrouter migration to OS-VIF.\n\nThis patch adds the 'multiqueue' field to InstanceInfo and increases the\nversion of that object.\n\nChange-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nAcked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>\n""}, {'number': 3, 'created': '2018-05-31 07:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9980e7beabe36e77ec324cc459b641316a423e02', 'message': ""Add multiqueue field to InstanceInfo\n\nOS-VIF plugins using a VIFGeneric object cannot currently reliably check\nwhether a multiqueue TAP device needs to be created on plugging. This\nleads to an annoying conflict, where the hypervisor can expect a\nmultiqueue capable TAP device, but OS-VIF has no direct way of\ncommunicating this to the plugin.\n\nIn Nova, the check whether to enable multiqueue on virtio interfaces is\ndone at the instance level by the hypervisor. Even though multiqueue is\ntechnically a per-VIF attribute, it's a better fit with Nova to pass\nit via the InstanceInfo object.\n\nThis is a blocker for kernel vrouter migration to OS-VIF.\n\nThis patch adds the 'multiqueue' field to InstanceInfo and increases the\nversion of that object.\n\nChange-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nAcked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>\n""}, {'number': 4, 'created': '2018-05-31 11:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f897362d3e970088cb8bef22b12322206517a46c', 'message': ""Add virtio_multiqueue field to InstanceInfo\n\nOS-VIF plugins using a VIFGeneric object cannot currently reliably check\nwhether a multiqueue TAP device needs to be created on plugging. This\nleads to an annoying conflict, where the hypervisor can expect a\nmultiqueue capable TAP device, but OS-VIF has no direct way of\ncommunicating this to the plugin.\n\nIn Nova, the check whether to enable multiqueue on virtio interfaces is\ndone at the instance level by the hypervisor. Even though multiqueue is\ntechnically a per-VIF attribute, it's a better fit with Nova to pass\nit via the InstanceInfo object.\n\nThis is a blocker for kernel vrouter migration to OS-VIF.\n\nThis patch adds the 'virtio_multiqueue' field to InstanceInfo and\nincreases the version of that object.\n\nChange-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nAcked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>\n""}, {'number': 5, 'created': '2018-05-31 14:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f28e759c730a062bb14edd6a22d6f58377604d20', 'message': ""Add virtio_multiqueue field to InstanceInfo\n\nOS-VIF plugins using a VIFGeneric object cannot currently reliably check\nwhether a multiqueue TAP device needs to be created on plugging. This\nleads to an annoying conflict, where the hypervisor can expect a\nmultiqueue capable TAP device, but OS-VIF has no direct way of\ncommunicating this to the plugin.\n\nIn Nova, the check whether to enable multiqueue on virtio interfaces is\ndone at the instance level by the hypervisor. Even though multiqueue is\ntechnically a per-VIF attribute, it's a better fit with Nova to pass\nit via the InstanceInfo object.\n\nThis is a blocker for kernel vrouter migration to OS-VIF.\n\nThis patch adds the 'virtio_multiqueue' field to InstanceInfo and\nincreases the version of that object.\n\nChange-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nAcked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>\n""}, {'number': 6, 'created': '2018-05-31 21:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/031c7ec79b5883ac09768176d3f0f90610b35531', 'message': ""Add multiqueue port profile for VIFGeneric\n\nOS-VIF plugins using a VIFGeneric object cannot currently reliably check\nwhether a multiqueue TAP device needs to be created on plugging. This\nleads to an annoying conflict, where the hypervisor can expect a\nmultiqueue capable TAP device, but OS-VIF has no direct way of\ncommunicating this to the plugin.\n\nIn Nova, the check whether to enable multiqueue on virtio interfaces is\ndone at the instance level by the hypervisor. The intention is to pass\nthe results of that check to the OS-VIF plugin via the port profile.\n\nThis is a blocker for kernel vrouter migration to OS-VIF.\n\nThis patch adds VIFPortProfileGenericMultiqueue with a\n'virtio_multiqueue' field.\n\nNeeded-By: I047856982251fddc631679fb2dbcea0f3b0db097\nNeeded-By: I1a449c3d77309193b22caadb9e48323d7b1510c6\nChange-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nAcked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>\n""}, {'number': 7, 'created': '2018-06-01 13:56:55.000000000', 'files': ['os_vif/objects/vif.py', 'os_vif/tests/unit/test_objects.py', 'releasenotes/notes/add-generic-multiqueue-port-profile-b33dc1104adb8b3e.yaml', 'doc/source/user/vif-types.rst', 'os_vif/tests/unit/test_vif.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/08e3b9ece15e6c3849e0b0e26235f1f60bcc3548', 'message': ""Add multiqueue port profile for VIFGeneric\n\nThe VIFGeneric os-vif type is used for the kernel TAP based plugging. If\nthe os-vif plugin has not created a TAP device, the hypervisor will\ncreate one (multiqueue enabled, if set). If the os-vif plugin has to\ncreate a multiqueue TAP device, it needs a hint if multiqueue is\ndesired.\n\nIn Nova, the check whether to enable multiqueue on virtio interfaces is\ndone at the instance level by the hypervisor. The intention is to pass\nthe results of that check to the os-vif plugin via the port profile.\n\nThis patch adds VIFPortProfileGenericMultiqueue with a\n'virtio_multiqueue' field.\n\nNeeded-By: I1a449c3d77309193b22caadb9e48323d7b1510c6\nChange-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70\nSigned-off-by: Jan Gutter <jan.gutter@netronome.com>\nAcked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>\n""}]",11,570959,08e3b9ece15e6c3849e0b0e26235f1f60bcc3548,53,8,7,25733,,,0,"Add multiqueue port profile for VIFGeneric

The VIFGeneric os-vif type is used for the kernel TAP based plugging. If
the os-vif plugin has not created a TAP device, the hypervisor will
create one (multiqueue enabled, if set). If the os-vif plugin has to
create a multiqueue TAP device, it needs a hint if multiqueue is
desired.

In Nova, the check whether to enable multiqueue on virtio interfaces is
done at the instance level by the hypervisor. The intention is to pass
the results of that check to the os-vif plugin via the port profile.

This patch adds VIFPortProfileGenericMultiqueue with a
'virtio_multiqueue' field.

Needed-By: I1a449c3d77309193b22caadb9e48323d7b1510c6
Change-Id: Ifbc44337c09e0f2ccf421798803ff7e794ed0b70
Signed-off-by: Jan Gutter <jan.gutter@netronome.com>
Acked-by: Frikkie Scholtz <frikkie.scholtz@netronome.com>
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/59/570959/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/objects/vif.py', 'os_vif/tests/unit/test_objects.py', 'os_vif/tests/unit/test_vif.py', 'releasenotes/notes/add-multiqueue-to-vif-generic-4b2005e131940ee7.yaml']",4,e21160aa995fcab24af71bfad496af69e075fbdf,vrouter-os-vif-conversion,"--- features: - The generic vif object has been modified to enable requesting multiqueue support. Before the 'multiqueue' field was added, the os-vif plugin would have had to use a backdoor mechanism to coordinate enabling multiqueue on the devices it created. Because of this new field the VIFGeneric object version has been updated to 1.1. ",,35,5
openstack%2Fpuppet-tripleo~master~I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2,openstack/puppet-tripleo,master,I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2,Make sure that ceph-nfs and the VIP start in the right order,MERGED,2018-02-15 16:58:11.000000000,2018-10-07 10:08:44.000000000,2018-10-07 00:52:01.000000000,"[{'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 20172}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-15 16:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/28b372104fb3b576a9468e4f49a190282348a027', 'message': 'WIP Make sure that ceph-nfs and the VIP start in the right order\n\nCurrently there is a race where ceph-nfs is free to be started before\nthe colocation constraint with the VIP is created. This issue is\nexacerbated by the fact that the container being started (via a systemd\nunit file managed by pacemaker) never fails in case the daemon\nencounters an error, because it has inside it:\n/usr/bin/ganesha.nfsd ""${GANESHA_OPTIONS[@]}"" -L /var/log/ganesha/ganesha.log ""${GANESHA_EPOCH}"" || return 0\n\nSince the container never fails, docker never exits and so systemd and\npacemaker think everything is fine and it won\'t get rescheduled on\nanother node.\n\nWe can avoid this issue completely if we can guarantee that\nwe start the VIP and the ceph-nfs service on the bootstrap node only\n(by tagging only that node with the right property) and only later we\nadd the node property on all the other nodes.\n\nThe drawback of this approach is that, barring any failures, ceph-nfs\nwill always be started on the master node for that service.\n\nChange-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2\n'}, {'number': 2, 'created': '2018-09-13 15:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d4c49e3ac9f0c26f24fe4c63863d5907a5d1fba2', 'message': 'WIP Make sure that ceph-nfs and the VIP start in the right order\n\nCurrently there is a race where ceph-nfs is free to be started before\nthe colocation constraint with the VIP is created. This issue is\nexacerbated by the fact that the container being started (via a systemd\nunit file managed by pacemaker) never fails in case the daemon\nencounters an error, because it has inside it:\n/usr/bin/ganesha.nfsd ""${GANESHA_OPTIONS[@]}"" -L /var/log/ganesha/ganesha.log ""${GANESHA_EPOCH}"" || return 0\n\nSince the container never fails, docker never exits and so systemd and\npacemaker think everything is fine and it won\'t get rescheduled on\nanother node.\n\nWe can avoid this issue completely if we can guarantee that\nwe start the VIP and the ceph-nfs service on the bootstrap node only\n(by tagging only that node with the right property) and only later we\nadd the node property on all the other nodes.\n\nThe drawback of this approach is that, barring any failures, ceph-nfs\nwill always be started on the master node for that service.\n\nChange-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2\n'}, {'number': 3, 'created': '2018-10-01 07:41:46.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/318e20a828ebf70e4a2644148c9b921d7007b5f0', 'message': 'Make sure that ceph-nfs and the VIP start in the right order\n\nCurrently there is a race where ceph-nfs is free to be started before\nthe colocation constraint with the VIP is created. This issue is\nexacerbated by the fact that the container being started (via a systemd\nunit file managed by pacemaker) never fails in case the daemon\nencounters an error, because it has inside it:\n/usr/bin/ganesha.nfsd ""${GANESHA_OPTIONS[@]}"" -L /var/log/ganesha/ganesha.log ""${GANESHA_EPOCH}"" || return 0\n\nSince the container never fails, docker never exits and so systemd and\npacemaker think everything is fine and it won\'t get rescheduled on\nanother node.\n\nWe can avoid this issue completely if we can guarantee that\nwe start the VIP and the ceph-nfs service on the bootstrap node only\n(by tagging only that node with the right property) and only later we\nadd the node property on all the other nodes.\n\nThe drawback of this approach is that, barring any failures, ceph-nfs\nwill always be started on the master node for that service.\n\nChange-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2\n'}]",0,545035,318e20a828ebf70e4a2644148c9b921d7007b5f0,32,8,3,20172,,,0,"Make sure that ceph-nfs and the VIP start in the right order

Currently there is a race where ceph-nfs is free to be started before
the colocation constraint with the VIP is created. This issue is
exacerbated by the fact that the container being started (via a systemd
unit file managed by pacemaker) never fails in case the daemon
encounters an error, because it has inside it:
/usr/bin/ganesha.nfsd ""${GANESHA_OPTIONS[@]}"" -L /var/log/ganesha/ganesha.log ""${GANESHA_EPOCH}"" || return 0

Since the container never fails, docker never exits and so systemd and
pacemaker think everything is fine and it won't get rescheduled on
another node.

We can avoid this issue completely if we can guarantee that
we start the VIP and the ceph-nfs service on the bootstrap node only
(by tagging only that node with the right property) and only later we
add the node property on all the other nodes.

The drawback of this approach is that, barring any failures, ceph-nfs
will always be started on the master node for that service.

Change-Id: I78c16c9fb28211a7a8ec2187ae76b9a072b76ea2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/545035/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,28b372104fb3b576a9468e4f49a190282348a027,nfs-ganesha-ceph," if $pacemaker_master { # At step2 we only create the node property on master so that # both VIP and (later at step5) ceph-nfs service can start on master # node only. This way we can guarantee that the VIP and ceph-nfs are # colocated. Later we expand the properties on all nodes where ceph_nfs # is supposed to run. pacemaker::property { 'ceph-nfs-role-node-property': property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $::hostname, } # See comment on pacemaker::property at step2 $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names') $ceph_nfs_short_node_names.each |String $node_name| { pacemaker::property { ""ceph-nfs-role-${node_name}"": property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $node_name, } } -> Pacemaker::Property<||>"," pacemaker::property { 'ceph-nfs-role-node-property': property => 'ceph-nfs-role', value => true, tries => $pcs_tries, node => $::hostname, } if $pacemaker_master {",23,6
openstack%2Ftripleo-heat-templates~master~I23d678a4b2c92ad2e913594b0b8844605fe36355,openstack/tripleo-heat-templates,master,I23d678a4b2c92ad2e913594b0b8844605fe36355,ceilometer: Use new archive policies,MERGED,2018-09-19 09:29:58.000000000,2018-10-07 09:06:33.000000000,2018-10-07 09:06:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-19 09:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33eed5cfc389ff50ada6e7ba82c9c4773a2372c7', 'message': 'ceilometer: sync default change\n\nCeilometer now creates it own archive policies.\n\nThis change ensure we use the new one.\n\nChange-Id: I23d678a4b2c92ad2e913594b0b8844605fe36355\n'}, {'number': 2, 'created': '2018-09-19 13:36:10.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'puppet/services/ceilometer-base.yaml', 'ci/environments/scenario002-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b71a4c0737681770e2863c8d6a5b962f4a974f4', 'message': 'ceilometer: Use new archive policies\n\nCeilometer now creates it own archive policies.\n\nThis change ensures we use the new one.\n\nChange-Id: I23d678a4b2c92ad2e913594b0b8844605fe36355\n'}]",0,603621,7b71a4c0737681770e2863c8d6a5b962f4a974f4,27,6,2,2813,,,0,"ceilometer: Use new archive policies

Ceilometer now creates it own archive policies.

This change ensures we use the new one.

Change-Id: I23d678a4b2c92ad2e913594b0b8844605fe36355
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/603621/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ceilometer-base.yaml'],1,33eed5cfc389ff50ada6e7ba82c9c4773a2372c7,sileht/ceilo-fixes, default: 'ceilometer-low-rate', default: 'low',1,1
openstack%2Ftripleo-heat-templates~master~Ie519e9684dc527cc384e11fb8f32b532dd2da1d7,openstack/tripleo-heat-templates,master,Ie519e9684dc527cc384e11fb8f32b532dd2da1d7,Enable health check for OVN containers,MERGED,2018-05-14 11:43:19.000000000,2018-10-07 08:42:39.000000000,2018-10-07 08:42:39.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 10237}, {'_account_id': 11090}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-14 11:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e9055ef2219007ce8f677e7632cea7b94be57cb', 'message': 'Enable health check for OVN containers\n\nThis patch enables container health check execution for ovn_controller\nand ovn_dbs_bundle containers.\n\nChange-Id: Ie519e9684dc527cc384e11fb8f32b532dd2da1d7\nDepends-On: Ie724b155fa071da9f1baee193cf79e2ecdc2ff30\n'}, {'number': 2, 'created': '2018-09-12 08:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca856ec06923af36464a33fd512f8860efe957f0', 'message': 'Enable health check for OVN containers\n\nThis patch enables container health check execution for ovn_controller\nand ovn_dbs_bundle containers.\n\nChange-Id: Ie519e9684dc527cc384e11fb8f32b532dd2da1d7\nDepends-On: Ie724b155fa071da9f1baee193cf79e2ecdc2ff30\n'}, {'number': 3, 'created': '2018-09-12 13:34:43.000000000', 'files': ['docker/services/ovn-dbs.yaml', 'docker/services/ovn-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e44d9deef0d83b6697e93752bfd5e04e2f30ed34', 'message': 'Enable health check for OVN containers\n\nThis patch enables container health check execution for ovn_controller\nand ovn_dbs_bundle containers.\n\nChange-Id: Ie519e9684dc527cc384e11fb8f32b532dd2da1d7\nDepends-On: Ie724b155fa071da9f1baee193cf79e2ecdc2ff30\n'}]",7,568267,e44d9deef0d83b6697e93752bfd5e04e2f30ed34,43,13,3,5241,,,0,"Enable health check for OVN containers

This patch enables container health check execution for ovn_controller
and ovn_dbs_bundle containers.

Change-Id: Ie519e9684dc527cc384e11fb8f32b532dd2da1d7
Depends-On: Ie724b155fa071da9f1baee193cf79e2ecdc2ff30
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/568267/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/ovn-dbs.yaml', 'docker/services/ovn-controller.yaml']",2,7e9055ef2219007ce8f677e7632cea7b94be57cb,healthcheck/ovn-services, healthcheck: test: /openstack/healthcheck,,4,0
openstack%2Ftripleo-ci~master~I37f9f8a99584fcbdfc5f937baf755eb12045e18e,openstack/tripleo-ci,master,I37f9f8a99584fcbdfc5f937baf755eb12045e18e,Ignore whitespace at periodic flag,MERGED,2018-10-05 10:57:44.000000000,2018-10-07 08:42:38.000000000,2018-10-07 08:42:38.000000000,"[{'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-05 10:57:44.000000000', 'files': ['playbooks/tripleo-ci/vars/common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b0647a3926b009d7d0c15e4e94f2a6083370e0e8', 'message': 'Ignore whitespace at periodic flag\n\nWe were going to always evaluate it to false, there were a whitespace\nafter expanding the jinja template.\n\nChange-Id: I37f9f8a99584fcbdfc5f937baf755eb12045e18e\n'}]",0,608225,b0647a3926b009d7d0c15e4e94f2a6083370e0e8,12,5,1,27898,,,0,"Ignore whitespace at periodic flag

We were going to always evaluate it to false, there were a whitespace
after expanding the jinja template.

Change-Id: I37f9f8a99584fcbdfc5f937baf755eb12045e18e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/25/608225/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/vars/common.yaml'],1,b0647a3926b009d7d0c15e4e94f2a6083370e0e8,, {%- else -%}, {% else %},1,1
openstack%2Ftripleo-ci~master~I1dea572774a3f397aa82eefd92c0a8160b9c0a74,openstack/tripleo-ci,master,I1dea572774a3f397aa82eefd92c0a8160b9c0a74,Run-v3: set log path only if zuul.change is defined,MERGED,2018-10-04 20:50:11.000000000,2018-10-07 08:14:09.000000000,2018-10-07 08:14:09.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 20:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dd1cfca7b53ec0d1c8a068b8c17ea4590ac28639', 'message': 'Run-v3: set log path only if zuul.change is defined\n\nNow that the periodic jobs are using the same workflow, LOG_PATH cannot\nbe correctly formed since no zuul.change is defined in periodic\npipeline.\nPut a conditional to export LOG_PATH only when zuul.change is set\n\nChange-Id: I1dea572774a3f397aa82eefd92c0a8160b9c0a74\n'}, {'number': 2, 'created': '2018-10-04 21:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/da5cc1d3f59276e59956fb27af066f5f678c6152', 'message': 'Run-v3: set log path only if zuul.change is defined\n\nNow that the periodic jobs are using the same workflow, LOG_PATH cannot\nbe correctly formed since no zuul.change is defined in periodic\npipeline.\nAdding the legacy role to set the log path and changing the bash env var\nto use that value\n\nChange-Id: I1dea572774a3f397aa82eefd92c0a8160b9c0a74\n'}, {'number': 3, 'created': '2018-10-07 02:05:31.000000000', 'files': ['playbooks/tripleo-ci/run-v3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/64768ad71fd94e2f5d8976d2bac138761f358f22', 'message': 'Run-v3: set log path only if zuul.change is defined\n\nNow that the periodic jobs are using the same workflow, LOG_PATH cannot\nbe correctly formed since no zuul.change is defined in periodic\npipeline.\nAdding the legacy role to set the log path and changing the bash env var\nto use that value\n\nChange-Id: I1dea572774a3f397aa82eefd92c0a8160b9c0a74\n'}]",1,608080,64768ad71fd94e2f5d8976d2bac138761f358f22,20,4,3,10022,,,0,"Run-v3: set log path only if zuul.change is defined

Now that the periodic jobs are using the same workflow, LOG_PATH cannot
be correctly formed since no zuul.change is defined in periodic
pipeline.
Adding the legacy role to set the log path and changing the bash env var
to use that value

Change-Id: I1dea572774a3f397aa82eefd92c0a8160b9c0a74
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/80/608080/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/run-v3.yaml'],1,dd1cfca7b53ec0d1c8a068b8c17ea4590ac28639,fix-log-path, {% if zuul.change is defined %} {% endif %},,2,0
openstack%2Fironic~master~I6b10b340fbd4e8f3de2b5ad8c1e0c9db0f18aba4,openstack/ironic,master,I6b10b340fbd4e8f3de2b5ad8c1e0c9db0f18aba4,Clarify hash ring race release note,ABANDONED,2018-10-05 11:34:29.000000000,2018-10-07 06:49:09.000000000,,[],"[{'number': 1, 'created': '2018-10-05 11:34:29.000000000', 'files': ['releasenotes/notes/hash-ring-race-da0d584de1f46788.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c59ea718f2c7d4589479b29b1b30de905bc63463', 'message': 'Clarify hash ring race release note\n\nFixes a typo and clarifies that the reset interval was only really\nignored on the API side.\n\nChange-Id: I6b10b340fbd4e8f3de2b5ad8c1e0c9db0f18aba4\n'}]",1,608238,c59ea718f2c7d4589479b29b1b30de905bc63463,3,0,1,10343,,,0,"Clarify hash ring race release note

Fixes a typo and clarifies that the reset interval was only really
ignored on the API side.

Change-Id: I6b10b340fbd4e8f3de2b5ad8c1e0c9db0f18aba4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/608238/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/hash-ring-race-da0d584de1f46788.yaml'],1,c59ea718f2c7d4589479b29b1b30de905bc63463,bug/1792872," The ``hash_ring_reset_interval`` configuration option was changed from 180 to 15 seconds. Previously, this option was essentially ignored on the API side, becase the hash ring was reset on each API access. The lower value minimizes the probability of a request routed to a wrong conductor when the ring needs rebalancing."," The ``hash_ring_reset_interval`` configuration option was changed from 180 to 15 seconds. Previously this option was essentially ignored, becase the hash ring was reset on each API access. The lower value minimizes the probability of a requested routed to a wrong conductor when the ring needs rebalancing.",5,5
openstack%2Frequirements~master~I63e0f45c4c89fe537cf5924adf9e2f5b9225f0f8,openstack/requirements,master,I63e0f45c4c89fe537cf5924adf9e2f5b9225f0f8,Updated from generate-constraints,ABANDONED,2018-10-07 06:23:21.000000000,2018-10-07 06:38:19.000000000,,[],"[{'number': 1, 'created': '2018-10-07 06:23:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a35345d17a0c96a62602124b097c04e42aeab099', 'message': 'Updated from generate-constraints\n\nChange-Id: I63e0f45c4c89fe537cf5924adf9e2f5b9225f0f8\n'}]",0,608441,a35345d17a0c96a62602124b097c04e42aeab099,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I63e0f45c4c89fe537cf5924adf9e2f5b9225f0f8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/608441/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a35345d17a0c96a62602124b097c04e42aeab099,openstack/requirements/constraints,oslo.messaging===9.0.0ruamel.yaml===0.15.72opentracing===2.0.0,oslo.messaging===8.1.2ruamel.yaml===0.15.71opentracing===1.3.0,3,3
openstack%2Ftripleo-heat-templates~master~Id48df6db012fb433f9a0e618d0269196f4cfc2c6,openstack/tripleo-heat-templates,master,Id48df6db012fb433f9a0e618d0269196f4cfc2c6,Fix TLS when using a containerized undercloud,MERGED,2018-10-02 18:57:35.000000000,2018-10-07 05:43:42.000000000,2018-10-07 00:52:09.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-10-02 18:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5651680d707a92bc9c9feb129598f10e1979daa9', 'message': ""WIP Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nWIP: Because I need to check about hard-coding br-ctlplane (while it\nis done in instack-undercloud, I wonder if we need to be smarter\nnow that we have routed network and what not)\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n""}, {'number': 2, 'created': '2018-10-03 06:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59c6388d5e17474f203056e0a0b8b0f514eaa007', 'message': ""WIP Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nWIP: Because I need to check about hard-coding br-ctlplane (while it\nis done in instack-undercloud, I wonder if we need to be smarter\nnow that we have routed network and what not)\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n""}, {'number': 3, 'created': '2018-10-04 06:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57f6c0cc23fb7a87063ce59941192520e99b259a', 'message': ""Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n""}, {'number': 4, 'created': '2018-10-04 12:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57b9b0393662386a31367f1ee81939e00234479b', 'message': ""Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n""}, {'number': 5, 'created': '2018-10-05 05:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bddba8ced6813ad24ac0533fe9077379a31afb4e', 'message': ""Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n""}, {'number': 6, 'created': '2018-10-05 10:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22cae3e1d9feccda05008b0a26bff5a80b2c9c96', 'message': ""Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n""}, {'number': 7, 'created': '2018-10-06 13:25:18.000000000', 'files': ['puppet/services/neutron-metadata.yaml', 'puppet/services/nova-metadata.yaml', 'environments/undercloud.yaml', 'docker/services/nova-metadata.yaml', 'roles_data_undercloud.yaml', 'puppet/services/nova-api.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2139a7db2d0142be033d93f63ca6e75f901821a', 'message': ""Fix TLS when using a containerized undercloud\n\nSince we moved to containerized UC, TLS Everywhere deployments are broken.\nNamely we miss two things:\n\nA. The NAT iptables rule for the nova metadata service to be reachable\nB. The setting 'service_metadata_proxy=false' needs to be set for nova\n   metadata otherwise the curl calls to setup ipa will fail with the\n   following:\n[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06\n<html>\n <head>\n  <title>400 Bad Request</title>\n </head>\n <body>\n  <h1>400 Bad Request</h1>\n  X-Instance-ID header is missing from request.<br /><br />\n </body>\n</html>\n\nA. Is fixed by adding a conditional iptables rule that is only triggered\n   when deploying an undercloud (where we set MetadataNATRule to true)\n\nB. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the\n   undercloud and then setting the corresponding hiera keys only when\n   the parameter != ''. We tried alternative simpler approaches like\n   setting NeutronMetadataProxySharedSecret to null but that will break\n   heat as the parameter is required and setting it to null breaks heat\n   validation (we also tried to make the parameter optional with a\n   default: '', but that broke as well)\n\nWhile we're at it we also remove the neutron metadata service from the\nundercloud as it is not needed.\n\nTested by deploying an undercloud with this change and observing:\nA.\nChain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)\n pkts bytes target     prot opt in     out     source               destination\n    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775\n\nB.\ngrep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf\nservice_metadata_proxy=False\n\nAlso a deployment of a TLS overcloud was successful.\n\nChange-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6\nCo-Authored-By: Martin Schuppert <mschuppe@redhat.com>\nCloses-Bug: #1795722\n""}]",15,607343,c2139a7db2d0142be033d93f63ca6e75f901821a,59,11,7,20172,,,0,"Fix TLS when using a containerized undercloud

Since we moved to containerized UC, TLS Everywhere deployments are broken.
Namely we miss two things:

A. The NAT iptables rule for the nova metadata service to be reachable
B. The setting 'service_metadata_proxy=false' needs to be set for nova
   metadata otherwise the curl calls to setup ipa will fail with the
   following:
[root@overcloud-controller-0 log]# curl http://169.254.169.254/openstack/2016-10-06
<html>
 <head>
  <title>400 Bad Request</title>
 </head>
 <body>
  <h1>400 Bad Request</h1>
  X-Instance-ID header is missing from request.<br /><br />
 </body>
</html>

A. Is fixed by adding a conditional iptables rule that is only triggered
   when deploying an undercloud (where we set MetadataNATRule to true)

B. Is fixed by setting NeutronMetadataProxySharedSecret to '' on the
   undercloud and then setting the corresponding hiera keys only when
   the parameter != ''. We tried alternative simpler approaches like
   setting NeutronMetadataProxySharedSecret to null but that will break
   heat as the parameter is required and setting it to null breaks heat
   validation (we also tried to make the parameter optional with a
   default: '', but that broke as well)

While we're at it we also remove the neutron metadata service from the
undercloud as it is not needed.

Tested by deploying an undercloud with this change and observing:
A.
Chain PREROUTING (policy ACCEPT 106 packets, 6698 bytes)
 pkts bytes target     prot opt in     out     source               destination
    0     0 REDIRECT   tcp  --  br-ctlplane *       0.0.0.0/0            169.254.169.254      multiport dports 80 state NEW /* 999 undercloud nat ipv4 */ redir ports 8775

B.
grep -ir ^service_metadata_proxy /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf
service_metadata_proxy=False

Also a deployment of a TLS overcloud was successful.

Change-Id: Id48df6db012fb433f9a0e618d0269196f4cfc2c6
Co-Authored-By: Martin Schuppert <mschuppe@redhat.com>
Closes-Bug: #1795722
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/607343/7 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-metadata.yaml', 'environments/undercloud.yaml', 'docker/services/nova-metadata.yaml', 'roles_data_undercloud.yaml', 'puppet/services/nova-api.yaml', 'roles/Undercloud.yaml']",6,5651680d707a92bc9c9feb129598f10e1979daa9,bug/1795722,, - OS::TripleO::Services::NeutronMetadataAgent,39,8
openstack%2Ftripleo-quickstart-extras~master~I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27,openstack/tripleo-quickstart-extras,master,I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27,Standalone configurable virt type,MERGED,2018-10-01 15:17:57.000000000,2018-10-07 05:02:30.000000000,2018-10-07 05:02:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-01 15:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fbe877a78ea3c9c19f3d71d4c8efaaa85c45dc3f', 'message': 'Handle virtualized standalone by default\n\nThis change adds an option called standalone_virtualized to the\nstandalone role which will generate a virtual machine friendly\nstandalone parameters for the deployment. It is set to True by default\nwhich is needed for CI. If being deployed on baremetal it can be set to\nFalse.\n\nChange-Id: I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27\n'}, {'number': 2, 'created': '2018-10-01 19:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/35b8989e9012b698dcb53ea6239dcc07b27c382c', 'message': 'Handle virtualized standalone by default\n\nThis change adds an option called standalone_virtualized to the\nstandalone role which will generate a virtual machine friendly\nstandalone parameters for the deployment. It is set to True by default\nwhich is needed for CI. If being deployed on baremetal it can be set to\nFalse.\n\nChange-Id: I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27\n'}, {'number': 3, 'created': '2018-10-01 19:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6b6d721c246e3b5ee15d51c7945b8ca1940d73b', 'message': 'Handle virtualized standalone by default\n\nThis change adds an option called standalone_libvirt_type to the\nstandalone role which will generate a virtual machine friendly\nstandalone parameters for the deployment. It is set to qemu by default\nwhich is needed for CI. If being deployed on baremetal it can be set to\nkvm.\n\nChange-Id: I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27\n'}, {'number': 4, 'created': '2018-10-01 19:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b521e55449d5b2faa8f0ef4f9eca54d2cc235062', 'message': 'Standalone configurable virt type\n\nThis change adds an option called standalone_libvirt_type to the\nstandalone role which will generate the libvirt type standalone\nparameters for the deployment.\n\nChange-Id: I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27\n'}, {'number': 5, 'created': '2018-10-01 19:53:49.000000000', 'files': ['playbooks/multinode-standalone.yml', 'roles/standalone/README.md', 'roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d89affe0071136bfa96ce4645c63f1d540b2e528', 'message': 'Standalone configurable virt type\n\nThis change adds an option called standalone_libvirt_type to the\nstandalone role which will generate the libvirt type standalone\nparameters for the deployment.\n\nChange-Id: I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27\n'}]",10,606973,d89affe0071136bfa96ce4645c63f1d540b2e528,49,9,5,14985,,,0,"Standalone configurable virt type

This change adds an option called standalone_libvirt_type to the
standalone role which will generate the libvirt type standalone
parameters for the deployment.

Change-Id: I3f71b4d38049692c7b2f9ff4cd785d177ba5fc27
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/606973/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/README.md', 'roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone/defaults/main.yml']",3,fbe877a78ea3c9c19f3d71d4c8efaaa85c45dc3f,standalone-qemu,standalone_virtualized: True ,,10,0
openstack%2Ftripleo-quickstart-extras~master~Ida8529beb06bf9ba525c7abac625abed87d0e4da,openstack/tripleo-quickstart-extras,master,Ida8529beb06bf9ba525c7abac625abed87d0e4da,Fix nits with configure-tempest,MERGED,2018-09-14 16:59:38.000000000,2018-10-07 04:47:35.000000000,2018-10-07 04:47:35.000000000,"[{'_account_id': 3153}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-14 16:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/855216e5135cbfef5733655609c31f3535d985c1', 'message': 'Fix nits with configure-tempest\n\nSee comments from https://review.openstack.org/#/c/600586\n\nChange-Id: Ida8529beb06bf9ba525c7abac625abed87d0e4da\n'}, {'number': 2, 'created': '2018-09-14 17:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/63e4e9374f8ea87175bd99c3e01113fc4103e532', 'message': 'Fix nits with configure-tempest\n\nSee comments from https://review.openstack.org/#/c/600586\n\nChange-Id: Ida8529beb06bf9ba525c7abac625abed87d0e4da\n'}, {'number': 3, 'created': '2018-10-02 19:30:51.000000000', 'files': ['roles/validate-tempest/templates/configure-tempest.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d2389fbfe1fd7d5761864425a52fcb4942f0e741', 'message': 'Fix nits with configure-tempest\n\nSee comments from https://review.openstack.org/#/c/600586\n\nChange-Id: Ida8529beb06bf9ba525c7abac625abed87d0e4da\n'}]",0,602681,d2389fbfe1fd7d5761864425a52fcb4942f0e741,33,6,3,14985,,,0,"Fix nits with configure-tempest

See comments from https://review.openstack.org/#/c/600586

Change-Id: Ida8529beb06bf9ba525c7abac625abed87d0e4da
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/81/602681/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/configure-tempest.sh.j2'],1,855216e5135cbfef5733655609c31f3535d985c1,bp/all-in-one,{% if tempest_os_cloud != '' %}{% if tempest_os_cloud == '' %},{% if tempest_os_cloud is defined and tempest_os_cloud != '' %}{% if not tempest_os_cloud != '' %},2,2
openstack%2Fproject-config~master~I081b23c1acec4b832bbfe1bae96d63e31ff6d335,openstack/project-config,master,I081b23c1acec4b832bbfe1bae96d63e31ff6d335,set use flags for systemd,MERGED,2018-10-07 02:28:39.000000000,2018-10-07 04:46:08.000000000,2018-10-07 04:46:08.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-07 02:28:39.000000000', 'files': ['nodepool/elements/infra-package-needs/pre-install.d/00-gentoo-useflags'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9c0292db707c09b8a68ffa7409f4a0f20b215b49', 'message': 'set use flags for systemd\n\nChange-Id: I081b23c1acec4b832bbfe1bae96d63e31ff6d335\n'}]",0,608435,9c0292db707c09b8a68ffa7409f4a0f20b215b49,7,3,1,14288,,,0,"set use flags for systemd

Change-Id: I081b23c1acec4b832bbfe1bae96d63e31ff6d335
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/608435/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/pre-install.d/00-gentoo-useflags'],1,9c0292db707c09b8a68ffa7409f4a0f20b215b49,osa-needs-importd," echo ""sys-apps/systemd audit curl gcrypt importd lzma nat"" >> /etc/portage/package.use/systemd",,1,0
openstack%2Frequirements~master~Ife29d57033aa6a855a5fc1370ca1a8aa248f5600,openstack/requirements,master,Ife29d57033aa6a855a5fc1370ca1a8aa248f5600,Updated from generate-constraints,MERGED,2018-10-05 06:27:09.000000000,2018-10-07 04:27:37.000000000,2018-10-07 04:27:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 06:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f89d139b358eca4b282f9dbaaed9194c0c4b738b', 'message': 'Updated from generate-constraints\n\nChange-Id: Ife29d57033aa6a855a5fc1370ca1a8aa248f5600\n'}, {'number': 2, 'created': '2018-10-06 06:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a99e00428d622fed9b7b586aacd5cae025b98503', 'message': 'Updated from generate-constraints\n\nChange-Id: Ife29d57033aa6a855a5fc1370ca1a8aa248f5600\n'}, {'number': 3, 'created': '2018-10-06 20:26:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/69e4fd73a776300011e0d41ea14b339398dfcb64', 'message': 'Updated from generate-constraints\n\nChange-Id: Ife29d57033aa6a855a5fc1370ca1a8aa248f5600\n'}]",0,608164,69e4fd73a776300011e0d41ea14b339398dfcb64,11,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Ife29d57033aa6a855a5fc1370ca1a8aa248f5600
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/608164/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f89d139b358eca4b282f9dbaaed9194c0c4b738b,openstack/requirements/constraints/noclob,ryu===4.29pytest===3.8.2alabaster===0.7.12oslo.messaging===9.0.0django-nose===1.4.6pifpaf===2.1.2opentracing===2.0.0botocore===1.12.17sphinxcontrib-apidoc===0.3.0,ryu===4.27pytest===3.8.1alabaster===0.7.11oslo.messaging===8.1.2django-nose===1.4.5pifpaf===2.1.1opentracing===1.3.0botocore===1.12.15sphinxcontrib-apidoc===0.2.1,9,9
openstack%2Fswift~master~I389948278cebd52490e07bcd417b79fca3cbc84e,openstack/swift,master,I389948278cebd52490e07bcd417b79fca3cbc84e,OSprofiler in OpenStack Swift,ABANDONED,2017-05-26 08:36:05.000000000,2018-10-07 03:05:03.000000000,,"[{'_account_id': 3}, {'_account_id': 5241}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-05-26 08:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc60107c8f66a1de604684ddde39dc3ef20f9d1f', 'message': '[WiP] OSprofiler in OpenStack Swift\n\nThis is the very first PoC of OSprofiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nTODOs:\n    - Adding more trace points\n    - Unit tests\n    - Documentation\n    - Release notes\n    - Configuration notices\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 2, 'created': '2017-05-26 08:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eea7861b0922ad4ddcd59d244eb758393823f0cf', 'message': '[WiP] OSprofiler in OpenStack Swift\n\nThis is the very first PoC of OSprofiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nTODOs:\n    - Adding more trace points\n    - Unit tests\n    - Documentation\n    - Release notes\n    - Configuration notices\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 3, 'created': '2017-05-26 08:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/118c2db8cadb9bbfb9195cd37394e7da5a5e674c', 'message': '[WiP] OSprofiler in OpenStack Swift\n\nThis is the very first PoC of OSprofiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nTODOs:\n    - Adding more trace points\n    - Unit tests\n    - Documentation\n    - Release notes\n    - Configuration notices\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 4, 'created': '2017-05-26 09:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/41ad4f81d0c84a97db4b849fdaa6f9706cb64524', 'message': '[WiP] OSprofiler in OpenStack Swift\n\nThis is the very first PoC of OSprofiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nTODOs:\n    - Adding more trace points\n    - Unit tests\n    - Documentation\n    - Release notes\n    - Configuration notices\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 5, 'created': '2017-05-26 09:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f6503e4b0317f1a175ec14d2519caf9e80efcef7', 'message': '[WiP] OSprofiler in OpenStack Swift\n\nThis is the very first PoC of OSprofiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nTODOs:\n    - Adding more trace points\n    - Unit tests\n    - Documentation\n    - Release notes\n    - Configuration notices\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 6, 'created': '2017-05-30 09:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5fe1995e45999e78fa7c0a77edbed8d624219234', 'message': '[WiP] OSprofiler in OpenStack Swift\n\nThis is the very first PoC of OSprofiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nTODOs:\n    - Adding more trace points\n    - Unit tests\n    - Documentation\n    - Release notes\n    - Configuration notices\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 7, 'created': '2017-06-06 09:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/53810331455829c09cd6bb504b22297c97261b8c', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 8, 'created': '2017-06-07 02:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5cc9d9fcf0d286135cad762beeffcfab3969ee65', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 9, 'created': '2017-06-09 09:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92be7e78c2c15e49f5549c2fb96291b785b15110', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 10, 'created': '2017-06-09 09:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92d8fe670e5c5440b0fcb701670d62e58d3767cb', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 11, 'created': '2017-06-12 10:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a64c63a13ab0a73b9afca94333bc105a449f7834', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 12, 'created': '2017-06-14 10:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1c09f4008d5e4be06985450a6f4038003616ac75', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 13, 'created': '2017-06-19 02:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/33a2bf60682309c65fc85aa3c275cf182025f469', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 14, 'created': '2017-06-30 02:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42b975406f98e76b24dc18819e0297a42a315bae', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 15, 'created': '2017-07-06 01:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9dee9622a5035dbf403c82fec59b81ddc69b57e2', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 16, 'created': '2017-07-17 02:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6d085d80a20b3bf24d11ac8af511cc1e41037191', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 17, 'created': '2017-07-24 04:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e1e1012b5489ec6b54d849ed2d4f981b9eac2138', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 18, 'created': '2017-09-11 03:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6da653bcfb905130266de92d9558ff9d088c3682', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 19, 'created': '2017-09-11 07:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d448809663910170b1ac1900e36e839623628d37', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 20, 'created': '2017-09-22 07:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aef5dbb9a620a8dbc547a664f55408e902f3a47c', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 21, 'created': '2017-10-12 08:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/302b930b4766bc1122872da6561dd6b35c24f858', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 22, 'created': '2018-03-23 07:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e2bdea6c8c8eafb84adca17b66fa0da80889a773', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 23, 'created': '2018-04-13 03:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/823de62d4f8294b1edd411c1b7b34eae1f8784b2', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 24, 'created': '2018-04-15 16:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0bf2b18b48e777a81f66108a9604e1948bc6e1da', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 25, 'created': '2018-04-26 09:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba9cdf491e1eaa21133ef52ebdf1c7578efe6692', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 26, 'created': '2018-05-02 07:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d71faf75378b987d7c98472ab9cfe63c98ce712', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 27, 'created': '2018-05-16 13:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a3a118f4e699042c6a0dd18f61a84db7ecbd9c8c', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 28, 'created': '2018-05-28 02:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3dc29755aa192fadd00a23bc9ec6ada0c5346e9', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 29, 'created': '2018-05-28 03:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/31203e6a6d4ed28271495cf62dabc28479d742ce', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 30, 'created': '2018-08-31 04:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d3f85606aebb8ac50843c2f55b10f426da37c1e3', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}, {'number': 31, 'created': '2018-09-01 14:21:56.000000000', 'files': ['swift/account/backend.py', 'swift/obj/server.py', 'etc/container-server.conf-sample', 'swift/common/middleware/profiler.py', 'test-requirements.txt', 'doc/source/middleware.rst', 'swift/account/server.py', 'test/unit/common/test_profiler.py', 'swift/common/wsgi.py', 'etc/object-server.conf-sample', 'doc/source/index.rst', 'swift/common/db.py', 'swift/common/utils.py', 'etc/proxy-server.conf-sample', 'etc/account-server.conf-sample', 'setup.cfg', 'swift/container/backend.py', 'swift/common/profiler.py', 'doc/source/profiling.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/588ddd3d355f07c06004ea8d0e911442d9918f3d', 'message': 'OSprofiler in OpenStack Swift\n\nThis patch adds OSprofiler into Swift, also a guide of using\nOSProfiler in Swift.\nOSprofiler is a distributed tracing for OpenStack internal services.\n\nAdd OSprofiler tracing for Swift:\n    - WSGI Middleware to trace HTTP requests between swift services\n    - Trace SQLite DB calls\n\nAdd OSProfiler documentation in Swift doc.\n\nReference:\n    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/\n    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt\n\nDemos (in devstack: swift + keystone, client: python-openstackclient):\n    - Create container: https://tovin07.github.io/swift/swift-container-create.html\n    - Create object: https://tovin07.github.io/swift/swift-object-create.html\n    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html\n    - List container: https://tovin07.github.io/swift/swift-list-container.html\n\nSpecification: https://review.openstack.org/#/c/103825/\n\nCo-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>\n\nChange-Id: I389948278cebd52490e07bcd417b79fca3cbc84e\n'}]",8,468316,588ddd3d355f07c06004ea8d0e911442d9918f3d,103,6,31,23630,,,0,"OSprofiler in OpenStack Swift

This patch adds OSprofiler into Swift, also a guide of using
OSProfiler in Swift.
OSprofiler is a distributed tracing for OpenStack internal services.

Add OSprofiler tracing for Swift:
    - WSGI Middleware to trace HTTP requests between swift services
    - Trace SQLite DB calls

Add OSProfiler documentation in Swift doc.

Reference:
    - OSprofiler documentation: https://docs.openstack.org/developer/osprofiler/
    - OSprofiler requirements: https://github.com/openstack/osprofiler/blob/master/requirements.txt

Demos (in devstack: swift + keystone, client: python-openstackclient):
    - Create container: https://tovin07.github.io/swift/swift-container-create.html
    - Create object: https://tovin07.github.io/swift/swift-object-create.html
    - Delete object: https://tovin07.github.io/swift/swift-object-delete.html
    - List container: https://tovin07.github.io/swift/swift-list-container.html

Specification: https://review.openstack.org/#/c/103825/

Co-Authored-By: Hieu LE <hieulq@vn.fujitsu.com>

Change-Id: I389948278cebd52490e07bcd417b79fca3cbc84e
",git fetch https://review.opendev.org/openstack/swift refs/changes/16/468316/16 && git format-patch -1 --stdout FETCH_HEAD,"['swift/account/backend.py', 'swift/obj/server.py', 'etc/container-server.conf-sample', 'swift/common/middleware/profiler.py', 'test-requirements.txt', 'swift/account/server.py', 'swift/common/wsgi.py', 'etc/object-server.conf-sample', 'swift/common/db.py', 'swift/common/utils.py', 'etc/proxy-server.conf-sample', 'etc/account-server.conf-sample', 'setup.cfg', 'swift/container/backend.py', 'swift/common/profiler.py']",15,bc60107c8f66a1de604684ddde39dc3ef20f9d1f,osprofiler-in-swift,"# Copyright 2017 Fujitsu Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from swift.common import utils from swift.common.middleware import profiler osprofiler_initializer = utils.try_import('osprofiler.initializer') osprofiler_profiler = utils.try_import('osprofiler.profiler') def setup(logger): """"""Initialize OSprofiler in Swift"""""" CONF = profiler.CONF if CONF and hasattr(CONF, 'profiler') and CONF.profiler.enabled: osprofiler_initializer.init_from_conf( conf=CONF, context={}, project='swift', service=CONF.binary, host=CONF.host) logger.info('OSProfiler is enabled.') def trace_cls(name, **kwargs): """"""Wrap the OSProfiler trace_cls decorator Wrap the OSProfiler trace_cls decorator so that it will not try to patch the class unless OSProfiler is present and enabled in the config :param name: The name of action. E.g. wsgi, rpc, db, etc.. :param kwargs: Any other keyword args used by profiler.trace_cls """""" def decorator(cls): CONF = profiler.CONF if CONF and hasattr(CONF, 'profiler') and CONF.profiler.enabled: trace_decorator = osprofiler_profiler.trace_cls(name, kwargs) return trace_decorator(cls) return cls return decorator ",,276,8
openstack%2Fpython-tripleoclient~master~Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,openstack/python-tripleoclient,master,Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a,Create DeployIdentifier for standalone,MERGED,2018-10-05 22:57:51.000000000,2018-10-07 02:56:12.000000000,2018-10-07 00:52:07.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-05 22:57:51.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d4cebf3959ff706ce26f364fb905a94b36f58bd', 'message': 'Create DeployIdentifier for standalone\n\nThere is a bunch of update logic in the framework that expects that a\nDeployIdentifier will be set on updates in order to function correctly.\nThis change adds the generation of a DeployIdentifier to our update\nlogic to ensure that we are passing it to the deployment on updates.\n\nChange-Id: Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a\nCloses-Bug: #1796421\n'}]",0,608377,5d4cebf3959ff706ce26f364fb905a94b36f58bd,9,4,1,14985,,,0,"Create DeployIdentifier for standalone

There is a bunch of update logic in the framework that expects that a
DeployIdentifier will be set on updates in order to function correctly.
This change adds the generation of a DeployIdentifier to our update
logic to ensure that we are passing it to the deployment on updates.

Change-Id: Icf9a8f1c8049e46cc33541c5c40fc0d706a5869a
Closes-Bug: #1796421
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/608377/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,5d4cebf3959ff706ce26f364fb905a94b36f58bd,bug/1796421," @mock.patch('time.time', return_value=123) mock_yaml_load, mock_time): found_identifier = False if a.get('parameter_defaults', {}).get('DeployIdentifier', None): self.assertTrue( a['parameter_defaults']['DeployIdentifier'] == 123) found_identifier = True self.assertTrue(found_identifier)", mock_yaml_load):,13,2
openstack%2Ftripleo-heat-templates~master~Ibc735ac4326a9217469e368c074de8b0df7689bd,openstack/tripleo-heat-templates,master,Ibc735ac4326a9217469e368c074de8b0df7689bd,Update standalone role,MERGED,2018-09-25 17:20:13.000000000,2018-10-07 02:52:35.000000000,2018-10-02 18:52:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-25 17:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba866a117e3473796ec3968775e8774cf8109517', 'message': 'Update standalone role\n\nThe standalone role can be used either with the tripleo deploy command\nto deploy locally, or it can be used with an undercloud to deploy an\nall-in-one node. This change provides a sample set of environment files\nfor both deployment mechanisms.\n\nChange-Id: Ibc735ac4326a9217469e368c074de8b0df7689bd\nRelated-Blueprint: all-in-one\n'}, {'number': 2, 'created': '2018-09-26 20:14:34.000000000', 'files': ['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'environments/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/standalone/standalone-overcloud.yaml', 'releasenotes/notes/all-in-one-via-undercloud.yaml-8766b43a20a4270f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba81e1f4d66041615f068c8bc2e07773ec252a35', 'message': 'Update standalone role\n\nThe standalone role can be used either with the tripleo deploy command\nto deploy locally, or it can be used with an undercloud to deploy an\nall-in-one node. This change provides a sample set of environment files\nfor both deployment mechanisms.\n\nChange-Id: Ibc735ac4326a9217469e368c074de8b0df7689bd\nRelated-Blueprint: all-in-one\n'}]",3,605156,ba81e1f4d66041615f068c8bc2e07773ec252a35,26,8,2,14985,,,0,"Update standalone role

The standalone role can be used either with the tripleo deploy command
to deploy locally, or it can be used with an undercloud to deploy an
all-in-one node. This change provides a sample set of environment files
for both deployment mechanisms.

Change-Id: Ibc735ac4326a9217469e368c074de8b0df7689bd
Related-Blueprint: all-in-one
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/605156/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/standalone.yaml', 'roles/Standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/standalone/standalone-overcloud.yaml', 'releasenotes/notes/all-in-one-via-undercloud.yaml-8766b43a20a4270f.yaml']",6,ba866a117e3473796ec3968775e8774cf8109517,bp/all-in-one,"--- features: - | We now provide an example set of environment files that can be used to deploy a single all-in-one standalone cloud node via the 'openstack overcloud deploy' and 'openstack tripleo deploy' (experimental) commands. For the overcloud deployment, use `environments/standalone/standalone-overcloud.yaml`. For the tripleo deploy deployment, use `environments/standalone/standalone-tripleo.yaml`. deprecations: - | The environments/standalone.yaml has been deprecated and should be replaced with environments/standalone/standalone-tripleo.yaml when using the 'openstack tripleo deploy' command. ",,481,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,openstack/tripleo-heat-templates,stable/queens,Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,"docker-puppet.py: used dedicated hiera entry, not uuid",MERGED,2018-10-03 16:41:27.000000000,2018-10-07 02:23:14.000000000,2018-10-07 02:23:14.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 16:41:27.000000000', 'files': ['puppet/role.role.j2.yaml', 'docker/services/containers-common.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e39c57b02ca593f6bf7313aa13ff5fbacbae8536', 'message': ""docker-puppet.py: used dedicated hiera entry, not uuid\n\nCurrently it is not possible to do per-node customization inside\ndocker-puppet.py because it overrides the fact 'uuid'.\n\nThis change adds a dedicated docker_puppet entry in hiera.yaml so that\ndocker-puppet.py needs to do nothing special for\n/etc/puppet/hieradata/docker_puppet.json to be included in the hiera\nmerge.\n\nConflicts:\n        docker/docker-puppet.py\nChange-Id: Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb\nDepends-On: https://review.openstack.org/#/c/607635/\nCloses-Bug: #1761624\n(cherry picked from commit 6bbc3b51dfa6c9ea744dbb7b6212db7c56e8d827)\n""}]",0,607647,e39c57b02ca593f6bf7313aa13ff5fbacbae8536,10,4,1,27427,,,0,"docker-puppet.py: used dedicated hiera entry, not uuid

Currently it is not possible to do per-node customization inside
docker-puppet.py because it overrides the fact 'uuid'.

This change adds a dedicated docker_puppet entry in hiera.yaml so that
docker-puppet.py needs to do nothing special for
/etc/puppet/hieradata/docker_puppet.json to be included in the hiera
merge.

Conflicts:
        docker/docker-puppet.py
Change-Id: Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb
Depends-On: https://review.openstack.org/#/c/607635/
Closes-Bug: #1761624
(cherry picked from commit 6bbc3b51dfa6c9ea744dbb7b6212db7c56e8d827)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/607647/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/role.role.j2.yaml', 'docker/services/containers-common.yaml', 'docker/docker-puppet.py']",3,e39c57b02ca593f6bf7313aa13ff5fbacbae8536,bug/1761624," echo ""{\\""step\\"": $STEP}"" > /etc/puppet/hieradata/docker_puppet.json # $::deployment_type in puppet-tripleo export FACTER_deployment_type=containers FACTER_hostname=$HOSTNAME /usr/bin/puppet apply --summarize \"," echo ""{\\""step\\"": $STEP}"" > /etc/puppet/hieradata/docker.json FACTER_hostname=$HOSTNAME FACTER_uuid=docker /usr/bin/puppet apply --summarize \",8,4
openstack%2Ftripleo-heat-templates~stable%2Frocky~Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,openstack/tripleo-heat-templates,stable/rocky,Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb,"docker-puppet.py: used dedicated hiera entry, not uuid",MERGED,2018-10-03 16:38:43.000000000,2018-10-07 02:23:10.000000000,2018-10-07 02:23:09.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 16:38:43.000000000', 'files': ['puppet/role.role.j2.yaml', 'docker/services/containers-common.yaml', 'docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/091cd60d069af2cd7eb3eb4b56cba733a4c66f86', 'message': ""docker-puppet.py: used dedicated hiera entry, not uuid\n\nCurrently it is not possible to do per-node customization inside\ndocker-puppet.py because it overrides the fact 'uuid'.\n\nThis change adds a dedicated docker_puppet entry in hiera.yaml so that\ndocker-puppet.py needs to do nothing special for\n/etc/puppet/hieradata/docker_puppet.json to be included in the hiera\nmerge.\n\nConflicts:\n\tdocker/docker-puppet.py\nChange-Id: Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb\nDepends-On: https://review.openstack.org/#/c/607631/\nCloses-Bug: #1761624\n(cherry picked from commit 6bbc3b51dfa6c9ea744dbb7b6212db7c56e8d827)\n""}]",0,607639,091cd60d069af2cd7eb3eb4b56cba733a4c66f86,7,4,1,27427,,,0,"docker-puppet.py: used dedicated hiera entry, not uuid

Currently it is not possible to do per-node customization inside
docker-puppet.py because it overrides the fact 'uuid'.

This change adds a dedicated docker_puppet entry in hiera.yaml so that
docker-puppet.py needs to do nothing special for
/etc/puppet/hieradata/docker_puppet.json to be included in the hiera
merge.

Conflicts:
	docker/docker-puppet.py
Change-Id: Icf37dcd63e0152ee15e9f0079b45e31a4f8d9fbb
Depends-On: https://review.openstack.org/#/c/607631/
Closes-Bug: #1761624
(cherry picked from commit 6bbc3b51dfa6c9ea744dbb7b6212db7c56e8d827)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/607639/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/role.role.j2.yaml', 'docker/services/containers-common.yaml', 'docker/docker-puppet.py']",3,091cd60d069af2cd7eb3eb4b56cba733a4c66f86,bug/1761624," echo ""{\\""step\\"": $STEP}"" > /etc/puppet/hieradata/docker_puppet.json # $::deployment_type in puppet-tripleo export FACTER_deployment_type=containers FACTER_hostname=$HOSTNAME /usr/bin/puppet apply --summarize \"," echo ""{\\""step\\"": $STEP}"" > /etc/puppet/hieradata/docker.json FACTER_hostname=$HOSTNAME FACTER_uuid=docker /usr/bin/puppet apply --summarize \",8,4
openstack%2Fpuppet-tripleo~stable%2Fqueens~I5270778a7c4da2c383cf98c746b77c9b210e9ba0,openstack/puppet-tripleo,stable/queens,I5270778a7c4da2c383cf98c746b77c9b210e9ba0,adding deployment_type fact in support,MERGED,2018-10-03 16:31:33.000000000,2018-10-07 01:50:29.000000000,2018-10-07 01:50:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 16:31:33.000000000', 'files': ['manifests/profile/base/database/mysql/client.pp', 'spec/classes/tripleo_profile_base_database_mysql_client_spec.rb', 'manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9f0aa72d94ea429f24b8824ac052971dad5fc5af', 'message': 'adding deployment_type fact in support\n\nWe have added a deployment_type fact to indicate when puppet is being\nexecuted within a container.\n\nChange-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0\nRelated-Bug: #1761624\nNeeded-By: https://review.openstack.org/#/c/559182/\n(cherry picked from commit 2c7e877e581153ddc17dfd976b0779b3ccebf315)\n'}]",0,607635,9f0aa72d94ea429f24b8824ac052971dad5fc5af,7,3,1,27427,,,0,"adding deployment_type fact in support

We have added a deployment_type fact to indicate when puppet is being
executed within a container.

Change-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0
Related-Bug: #1761624
Needed-By: https://review.openstack.org/#/c/559182/
(cherry picked from commit 2c7e877e581153ddc17dfd976b0779b3ccebf315)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/607635/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/mysql/client.pp', 'spec/classes/tripleo_profile_base_database_mysql_client_spec.rb', 'manifests/fencing.pp']",3,9f0aa72d94ea429f24b8824ac052971dad5fc5af,fencexvm-bundle-stable/queens, if $::uuid != 'docker' and $::deployment_type != 'containers' {, if $::uuid != 'docker' {,24,2
openstack%2Fpython-tripleoclient~master~I092b6dea5a77fc2691c7af5517a76172f8866bd7,openstack/python-tripleoclient,master,I092b6dea5a77fc2691c7af5517a76172f8866bd7,Allow to actually disable heat-native,MERGED,2018-09-28 14:43:37.000000000,2018-10-07 01:46:32.000000000,2018-10-07 01:46:32.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-28 14:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/baa9f851566aa8c260230c5d1a064d9c6a51cba1', 'message': ""Allow to actually disable heat-native\n\nThe way heat-native was implemented, we couldn't disable it.\n\nNow, operators can pass: --heat-native=False or configure\nheat_native=False in undercloud.conf, then heat native will actually be\ndisabled.\n\nChange-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7\nCloses-Bug: #1795000\n""}, {'number': 2, 'created': '2018-09-28 15:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0cf5e7ea15e505f506016a9c0849b4c35acc15f9', 'message': ""Allow to actually disable heat-native\n\nThe way heat-native was implemented, we couldn't disable it.\n\nNow, operators can pass: --heat-native=False or configure\nheat_native=False in undercloud.conf, then heat native will actually be\ndisabled.\n\nChange-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7\nCloses-Bug: #1795000\n""}, {'number': 3, 'created': '2018-09-28 15:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/40ab7d0863668c7ca5c113c163d8804908668738', 'message': ""Allow to actually disable heat-native\n\nThe way heat-native was implemented, we couldn't disable it.\n\nNow, operators can pass: --heat-native=False or configure\nheat_native=False in undercloud.conf, then heat native will actually be\ndisabled.\nAlso 'latest' tag doesn't exist for centos-binary-heat-all so we default\nto current-tripleo with is a safe default for us.\n\nChange-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7\nCloses-Bug: #1795000\n""}, {'number': 4, 'created': '2018-09-28 16:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fdbef3a9fa36dd979c657d020383215fc9bfad92', 'message': ""Allow to actually disable heat-native\n\nThe way heat-native was implemented, we couldn't disable it.\nAnd when disabled, it was not working.\n\n- operators can now pass: --heat-native=False or configure\n  heat_native=False in undercloud.conf, then heat native will actually be\n  disabled.\n- 'latest' tag doesn't exist for centos-binary-heat-all so we default\n  to current-tripleo with is a safe default for us.\n- when the heat_all container is done, it returns 137 (kill -9) which is\n  good but we don't want to fail on that.\n\nChange-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7\nCloses-Bug: #1795000\n""}, {'number': 5, 'created': '2018-10-02 21:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/52a389e0c024b8e934944f5a6e7f704c14d95eff', 'message': ""Allow to actually disable heat-native\n\nThe way heat-native was implemented, we couldn't disable it.\nAnd when disabled, it was not working.\n\n- operators can now pass: --heat-native=False or configure\n  heat_native=False in undercloud.conf, then heat native will actually be\n  disabled.\n- 'latest' tag doesn't exist for centos-binary-heat-all so we default\n  to current-tripleo with is a safe default for us.\n- when the heat_all container is done, it returns 137 (kill -9) which is\n  good but we don't want to fail on that.\n\nChange-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7\nCloses-Bug: #1795000\n""}, {'number': 6, 'created': '2018-10-06 19:54:09.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5a960e88ee8efd2cb213290976029be5b39ea97', 'message': ""Allow to actually disable heat-native\n\nThe way heat-native was implemented, we couldn't disable it.\nAnd when disabled, it was not working.\n\n- operators can now pass: --heat-native=False or configure\n  heat_native=False in undercloud.conf, then heat native will actually be\n  disabled.\n- 'latest' tag doesn't exist for centos-binary-heat-all so we default\n  to current-tripleo with is a safe default for us.\n- when the heat_all container is done, it returns 137 (kill -9) which is\n  good but we don't want to fail on that.\n\nChange-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7\nCloses-Bug: #1795000\n""}]",0,606100,e5a960e88ee8efd2cb213290976029be5b39ea97,44,5,6,3153,,,0,"Allow to actually disable heat-native

The way heat-native was implemented, we couldn't disable it.
And when disabled, it was not working.

- operators can now pass: --heat-native=False or configure
  heat_native=False in undercloud.conf, then heat native will actually be
  disabled.
- 'latest' tag doesn't exist for centos-binary-heat-all so we default
  to current-tripleo with is a safe default for us.
- when the heat_all container is done, it returns 137 (kill -9) which is
  good but we don't want to fail on that.

Change-Id: I092b6dea5a77fc2691c7af5517a76172f8866bd7
Closes-Bug: #1795000
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/606100/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'tripleoclient/v1/tripleo_deploy.py']",2,baa9f851566aa8c260230c5d1a064d9c6a51cba1,bug/1795000," if parsed_args.heat_native is not None and \ parsed_args.heat_native.lower() == ""false"": self.heat_launch = heat_launcher.HeatDockerLauncher( self.heat_launch = heat_launcher.HeatNativeLauncher( if parsed_args.heat_native is not None and \ parsed_args.heat_native.lower() == ""true"": dest='heat_native', nargs='?', default=None, const=""true"","," if parsed_args.heat_native: self.heat_launch = heat_launcher.HeatNativeLauncher( self.heat_launch = heat_launcher.HeatDockerLauncher( if parsed_args.heat_native: action='store_true', default=True,",16,7
openstack%2Fcinder~master~Ie344e6f988cf71e97272910e84e0034ab8c317ff,openstack/cinder,master,Ie344e6f988cf71e97272910e84e0034ab8c317ff,api-ref: remove encryption from Show-an-encryption-type,MERGED,2018-09-30 07:52:03.000000000,2018-10-07 01:25:40.000000000,2018-10-02 16:57:13.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-30 07:52:03.000000000', 'files': ['api-ref/source/v3/volumes-v3-types.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd9e1764e069b52e372317de638d3e6781ed590b', 'message': 'api-ref: remove encryption from Show-an-encryption-type\n\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html#show-an-encryption-type\nencryption is not a field in the response of ""Show an encryption type"",\nthis is to remove it.\n\nChange-Id: Ie344e6f988cf71e97272910e84e0034ab8c317ff\n'}]",0,606803,dd9e1764e069b52e372317de638d3e6781ed590b,36,31,1,20190,,,0,"api-ref: remove encryption from Show-an-encryption-type

https://developer.openstack.org/api-ref/block-storage/v3/index.html#show-an-encryption-type
encryption is not a field in the response of ""Show an encryption type"",
this is to remove it.

Change-Id: Ie344e6f988cf71e97272910e84e0034ab8c317ff
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/606803/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-types.inc'],1,dd9e1764e069b52e372317de638d3e6781ed590b,bp/volume-response-schema-validation,, - encryption: encryption,0,1
openstack%2Ftripleo-ci~master~Ib59c64932e3529b80f611192883a2a5e4c9f06df,openstack/tripleo-ci,master,Ib59c64932e3529b80f611192883a2a5e4c9f06df,Remove 3node from CI,MERGED,2018-10-05 17:40:10.000000000,2018-10-07 00:52:15.000000000,2018-10-07 00:52:14.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-05 17:40:10.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e19fe96215f9bd65bdcf8ca17eb2ca7e22c2258f', 'message': ""Remove 3node from CI\n\nThis job is continually broken and just eats up resources. Let's remove\nthis for now.\n\nChange-Id: Ib59c64932e3529b80f611192883a2a5e4c9f06df\n""}]",0,608326,e19fe96215f9bd65bdcf8ca17eb2ca7e22c2258f,8,4,1,14985,,,0,"Remove 3node from CI

This job is continually broken and just eats up resources. Let's remove
this for now.

Change-Id: Ib59c64932e3529b80f611192883a2a5e4c9f06df
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/26/608326/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,e19fe96215f9bd65bdcf8ca17eb2ca7e22c2258f,reduce-consumption,, - tripleo-ci-centos-7-3nodes-multinode - tripleo-ci-centos-7-3nodes-multinode,0,2
openstack%2Fpython-tripleoclient~stable%2Frocky~I23f5bef9585ea6aa54edaa5f278625fa6ba9b0f9,openstack/python-tripleoclient,stable/rocky,I23f5bef9585ea6aa54edaa5f278625fa6ba9b0f9,Zaqar on the containerized undercloud should not use Redis,MERGED,2018-10-03 22:37:45.000000000,2018-10-07 00:52:13.000000000,2018-10-07 00:52:13.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 22:37:45.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9547320303c6ec8791c93b3471a663b28c7f6eb0', 'message': ""Zaqar on the containerized undercloud should not use Redis\n\nLet's use the newly-introduced zaqar-swift-backend.yaml file in order\nto not pull in redis automatically on the containerized undercloud.\n\nChange-Id: I23f5bef9585ea6aa54edaa5f278625fa6ba9b0f9\nDepends-On: Ic11b4790a1a2c2336cd432784f19922e76e028ad\nCloses-Bug: #1795027\n(cherry picked from commit fa0a7acb639422d7497eff0830252ab3ff82421e)\n""}]",0,607734,9547320303c6ec8791c93b3471a663b28c7f6eb0,11,4,1,14985,,,0,"Zaqar on the containerized undercloud should not use Redis

Let's use the newly-introduced zaqar-swift-backend.yaml file in order
to not pull in redis automatically on the containerized undercloud.

Change-Id: I23f5bef9585ea6aa54edaa5f278625fa6ba9b0f9
Depends-On: Ic11b4790a1a2c2336cd432784f19922e76e028ad
Closes-Bug: #1795027
(cherry picked from commit fa0a7acb639422d7497eff0830252ab3ff82421e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/607734/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py']",2,9547320303c6ec8791c93b3471a663b28c7f6eb0,bug/1795027-stable/rocky," tht_templates, ""environments/services/zaqar-swift-backend.yaml"")]"," tht_templates, ""environments/services/zaqar.yaml"")]",12,12
openstack%2Ftripleo-heat-templates~master~I112b63096c8dce05176b0939a7678bec02987294,openstack/tripleo-heat-templates,master,I112b63096c8dce05176b0939a7678bec02987294,check mode: puppet host,MERGED,2018-09-17 23:48:23.000000000,2018-10-07 00:52:05.000000000,2018-10-07 00:52:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-17 23:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad1894a7b39e07b27322eff4723c14c326e529c0', 'message': 'check mode: puppet host\n\nAdds check mode support for puppet host tasks.\n\nThis works by writing the new puppet host manifest under\n/var/lib/tripleo-config/check-mode, and diffing it against the existing\nversion of the manifest.\n\nPuppet is also run with --noop, so that it only reports on what changes\nwould have been made.\n\nIt also uses the check mode hiera configuration at\n/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera\ndata is also accounted for when puppet runs with --noop.\n\nDepends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163\nChange-Id: I112b63096c8dce05176b0939a7678bec02987294\n'}, {'number': 2, 'created': '2018-09-18 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8ac10ce6af20e36201c555a40bac2399cce8323', 'message': 'check mode: puppet host\n\nAdds check mode support for puppet host tasks.\n\nThis works by writing the new puppet host manifest under\n/var/lib/tripleo-config/check-mode, and diffing it against the existing\nversion of the manifest.\n\nPuppet is also run with --noop, so that it only reports on what changes\nwould have been made.\n\nIt also uses the check mode hiera configuration at\n/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera\ndata is also accounted for when puppet runs with --noop.\n\nDepends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163\nChange-Id: I112b63096c8dce05176b0939a7678bec02987294\n'}, {'number': 3, 'created': '2018-09-19 18:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffab78d7e718a61eb0bf2de2edd4a925401c880f', 'message': 'check mode: puppet host\n\nAdds check mode support for puppet host tasks.\n\nThis works by writing the new puppet host manifest under\n/var/lib/tripleo-config/check-mode, and diffing it against the existing\nversion of the manifest.\n\nPuppet is also run with --noop, so that it only reports on what changes\nwould have been made.\n\nIt also uses the check mode hiera configuration at\n/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera\ndata is also accounted for when puppet runs with --noop.\n\nDepends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163\nChange-Id: I112b63096c8dce05176b0939a7678bec02987294\n'}, {'number': 4, 'created': '2018-09-20 21:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee9e0d844d9bf5d6fe141d66ab77031ecf9ffc13', 'message': 'check mode: puppet host\n\nAdds check mode support for puppet host tasks.\n\nThis works by writing the new puppet host manifest under\n/var/lib/tripleo-config/check-mode, and diffing it against the existing\nversion of the manifest.\n\nPuppet is also run with --noop, so that it only reports on what changes\nwould have been made.\n\nIt also uses the check mode hiera configuration at\n/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera\ndata is also accounted for when puppet runs with --noop.\n\nDepends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163\nChange-Id: I112b63096c8dce05176b0939a7678bec02987294\n'}, {'number': 5, 'created': '2018-09-24 14:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bcf8f641d446e0ff0681802ca7d3b6b4c12f650', 'message': 'check mode: puppet host\n\nAdds check mode support for puppet host tasks.\n\nThis works by writing the new puppet host manifest under\n/var/lib/tripleo-config/check-mode, and diffing it against the existing\nversion of the manifest.\n\nPuppet is also run with --noop, so that it only reports on what changes\nwould have been made.\n\nIt also uses the check mode hiera configuration at\n/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera\ndata is also accounted for when puppet runs with --noop.\n\nDepends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163\nChange-Id: I112b63096c8dce05176b0939a7678bec02987294\n'}, {'number': 6, 'created': '2018-09-29 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cfa86064475e07b667f7ae64d5ee9bb71f518cf', 'message': 'check mode: puppet host\n\nAdds check mode support for puppet host tasks.\n\nThis works by writing the new puppet host manifest under\n/var/lib/tripleo-config/check-mode, and diffing it against the existing\nversion of the manifest.\n\nPuppet is also run with --noop, so that it only reports on what changes\nwould have been made.\n\nIt also uses the check mode hiera configuration at\n/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera\ndata is also accounted for when puppet runs with --noop.\n\nDepends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163\nChange-Id: I112b63096c8dce05176b0939a7678bec02987294\n'}, {'number': 7, 'created': '2018-10-01 18:25:43.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d0f16d4303e1b99e72a0c16932c92c912df61ed', 'message': 'check mode: puppet host\n\nAdds check mode support for puppet host tasks.\n\nThis works by writing the new puppet host manifest under\n/var/lib/tripleo-config/check-mode, and diffing it against the existing\nversion of the manifest.\n\nPuppet is also run with --noop, so that it only reports on what changes\nwould have been made.\n\nIt also uses the check mode hiera configuration at\n/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera\ndata is also accounted for when puppet runs with --noop.\n\nDepends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163\nChange-Id: I112b63096c8dce05176b0939a7678bec02987294\n'}]",0,603252,6d0f16d4303e1b99e72a0c16932c92c912df61ed,57,7,7,7144,,,0,"check mode: puppet host

Adds check mode support for puppet host tasks.

This works by writing the new puppet host manifest under
/var/lib/tripleo-config/check-mode, and diffing it against the existing
version of the manifest.

Puppet is also run with --noop, so that it only reports on what changes
would have been made.

It also uses the check mode hiera configuration at
/etc/puppet/check-mode/hiera.yaml if it exists so that the updated hiera
data is also accounted for when puppet runs with --noop.

Depends-On: Ibe0c2ab79c35f04ce51e7a1ade0e8ff72b430163
Change-Id: I112b63096c8dce05176b0939a7678bec02987294
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/603252/6 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,ad1894a7b39e07b27322eff4723c14c326e529c0,check-mode," - name: Delete existing /var/lib/tripleo-config/check-mode directory for check mode file: path: /var/lib/tripleo-config/check-mode state: absent tags: - host_config - container_puppet - container_puppet_tasks - container_config_scripts - container_startup_configs when: - ansible_check_mode ignore_errors: true check_mode: no - name: Create /var/lib/tripleo-config/check-mode directory for check mode file: path: /var/lib/tripleo-config/check-mode state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - host_config - container_puppet - container_puppet_tasks - container_config_scripts - container_startup_configs when: - ansible_check_mode check_mode: no dest: /var/lib/tripleo-config/{{ ansible_check_mode | ternary('check-mode/', '') }}puppet_step_config.pp check_mode: no diff: no - name: Diff puppet step_config manifest changes for check mode command: diff -uN /var/lib/tripleo-config/puppet_step_config.pp /var/lib/tripleo-config/check-mode/puppet_step_config.pp register: diff_results tags: - host_config check_mode: no when: - ansible_check_mode - ansible_diff_mode failed_when: false changed_when: diff_results.rc == 1 - name: Diff puppet step_config manifest changes for check mode debug: var: diff_results.stdout_lines changed_when: diff_results.rc == 1 when: - ansible_check_mode - ansible_diff_mode tags: - host_config dest: /etc/puppet/{{ ansible_check_mode | ternary('check-mode/', '') }}hieradata/config_step.json check_mode: no tags: - host_config - name: Check for /etc/puppet/check-mode/hiera.yaml for check mode stat: path: /etc/puppet/check-mode/hiera.yaml register: check_mode_hiera_yaml when: ansible_check_mode {{ ansible_check_mode | ternary('--noop', '') }} {{ (ansible_check_mode and check_mode_hiera_yaml.stat.exists) | ternary('--hiera_config /etc/puppet/check-mode/hiera.yaml', '') }} /var/lib/tripleo-config/puppet_step_config{{ ansible_check_mode | ternary('_check_mode', '') }}.pp check_mode: no", dest: /var/lib/tripleo-config/puppet_step_config.pp dest: /etc/puppet/hieradata/config_step.json /var/lib/tripleo-config/puppet_step_config.pp check_mode: no,72,4
openstack%2Ftripleo-common~stable%2Frocky~I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,openstack/tripleo-common,stable/rocky,I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,Add on-error task to parse_node_data_lookup,MERGED,2018-10-04 08:24:42.000000000,2018-10-07 00:52:04.000000000,2018-10-07 00:52:04.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 08:24:42.000000000', 'files': ['workbooks/ceph-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d709699b4cace989007344b69c67fe59d57c935b', 'message': ""Add on-error task to parse_node_data_lookup\n\nIf the ceph-ansible workbook fails to parse node_data_lookup\nbecause it does not contain valid JSON, then fail the task\nwith a message that the NodeDataLookup JSON isn't valid.\n\nChange-Id: I4b05933bd8b24119ed2d1040af60b4b3a2e3140f\nCloses-Bug: #1784967\n(cherry picked from commit 5b1c4c00eea2242b82bd68498b45b7f65adbf811)\n""}]",0,607840,d709699b4cace989007344b69c67fe59d57c935b,12,5,1,6796,,,0,"Add on-error task to parse_node_data_lookup

If the ceph-ansible workbook fails to parse node_data_lookup
because it does not contain valid JSON, then fail the task
with a message that the NodeDataLookup JSON isn't valid.

Change-Id: I4b05933bd8b24119ed2d1040af60b4b3a2e3140f
Closes-Bug: #1784967
(cherry picked from commit 5b1c4c00eea2242b82bd68498b45b7f65adbf811)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/607840/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/ceph-ansible.yaml'],1,d709699b4cace989007344b69c67fe59d57c935b,bug/1784967-stable/rocky," on-error: - fail(msg=<% 'Ceph deployment stopped, NodeDataLookup (node_data_lookup) is not valid JSON. {0}'.format($.node_data_lookup) %>)",,2,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I8d1db69d520da069099f919f286e6a553dd645a5,openstack/tripleo-heat-templates,stable/rocky,I8d1db69d520da069099f919f286e6a553dd645a5,Mount /usr/share/ceph-ansible into mistral-executor,MERGED,2018-10-03 17:06:46.000000000,2018-10-07 00:52:02.000000000,2018-10-07 00:52:02.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 17:06:46.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1efba039d49c882334e28361d93992eee54a37a3', 'message': 'Mount /usr/share/ceph-ansible into mistral-executor\n\nThe undercloud needs to be able to run the playbooks shipping with\nceph-ansible so we mount them from the hosting node in undercloud.yaml\n\nChange-Id: I8d1db69d520da069099f919f286e6a553dd645a5\nCloses-Bug: 1794027\n(cherry picked from commit 5ca0b91275a834961737bc99536f8cf627850476)\n'}]",0,607652,1efba039d49c882334e28361d93992eee54a37a3,19,6,1,6796,,,0,"Mount /usr/share/ceph-ansible into mistral-executor

The undercloud needs to be able to run the playbooks shipping with
ceph-ansible so we mount them from the hosting node in undercloud.yaml

Change-Id: I8d1db69d520da069099f919f286e6a553dd645a5
Closes-Bug: 1794027
(cherry picked from commit 5ca0b91275a834961737bc99536f8cf627850476)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/607652/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,1efba039d49c882334e28361d93992eee54a37a3,bug/1794027-stable/rocky, MistralExecutorExtraVolumes: - /usr/share/ceph-ansible:/usr/share/ceph-ansible:ro,,2,0
openstack%2Ftripleo-common~master~I4a67d1ebd8a8111426aaf799d55bf973778e48e3,openstack/tripleo-common,master,I4a67d1ebd8a8111426aaf799d55bf973778e48e3,"Revert ""Add container runtime packages for cron image""",MERGED,2018-10-03 09:46:54.000000000,2018-10-07 00:51:58.000000000,2018-10-07 00:51:58.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25865}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-03 09:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4246e8f0ff6c06ac8f6ae6ee5ffc869bba9f6e2a', 'message': 'Revert ""Add container runtime packages for cron image""\n\nnot needed any more as we fallback to copytruncate\n\nThis reverts commit 305445bac6ccf2cb491f451412035f08aa2928ba.\n\nChange-Id: I4a67d1ebd8a8111426aaf799d55bf973778e48e3\n'}, {'number': 2, 'created': '2018-10-03 12:08:15.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2cb528b17fd8600207c78a5d2cfb1bedab293629', 'message': 'Revert ""Add container runtime packages for cron image""\n\nnot needed any more as we fallback to copytruncate\n\nThis reverts commit 305445bac6ccf2cb491f451412035f08aa2928ba.\n\nChange-Id: I4a67d1ebd8a8111426aaf799d55bf973778e48e3\n'}]",0,607516,2cb528b17fd8600207c78a5d2cfb1bedab293629,23,10,2,6926,,,0,"Revert ""Add container runtime packages for cron image""

not needed any more as we fallback to copytruncate

This reverts commit 305445bac6ccf2cb491f451412035f08aa2928ba.

Change-Id: I4a67d1ebd8a8111426aaf799d55bf973778e48e3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/607516/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,4246e8f0ff6c06ac8f6ae6ee5ffc869bba9f6e2a,bug/1780139,,# NOTE: Logrotate-crond needs to restart some non-SIGHUP friendly containers # to make them reopen log files after the logs rotated {% set cron_packages_append = ['docker'] %} # NOTE: Split this apart because we'll need to backport docker but not podman {% set cron_packages_append = cron_packages_append|default([]) + ['podman'] %} ,0,7
openstack%2Ftripleo-heat-templates~master~I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11,openstack/tripleo-heat-templates,master,I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11,This file intorduces OVN as a controller. I've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn' There could be other param defaults needs to be added and i'm not aware of.,MERGED,2018-07-31 14:42:06.000000000,2018-10-07 00:36:08.000000000,2018-10-07 00:36:07.000000000,"[{'_account_id': 7144}, {'_account_id': 10068}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 18575}, {'_account_id': 19999}, {'_account_id': 21626}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-31 14:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9fde365dcc3e76fcaf21067605c4f9fbb32496e', 'message': ""This files intorduces OVN as a controller.\nI've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn'\nThere could be other param defaults needs to be added and i'm not aware of.\n\nChange-Id: I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11\n""}, {'number': 2, 'created': '2018-07-31 15:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77874081d96468b400a4d22d0f11df0888816d63', 'message': ""This files intorduces OVN as a controller.\nI've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn'\nThere could be other param defaults needs to be added and i'm not aware of.\n\nChange-Id: I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11\n""}, {'number': 3, 'created': '2018-08-08 15:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1e2062bfbd8c69b01c03f54075107ab9317249b', 'message': ""This file intorduces OVN as a controller.\nI've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn'\nThere could be other param defaults needs to be added and i'm not aware of.\n\nChange-Id: I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11\n""}, {'number': 4, 'created': '2018-08-15 16:07:59.000000000', 'files': ['environments/services/neutron-sfc-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9e2d39a631d32157101657b74caa44418e824eb', 'message': ""This file intorduces OVN as a controller.\nI've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn'\nThere could be other param defaults needs to be added and i'm not aware of.\n\nChange-Id: I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11\n""}]",4,587491,c9e2d39a631d32157101657b74caa44418e824eb,49,9,4,28802,,,0,"This file intorduces OVN as a controller.
I've cloned the neutron-sfc.yaml file and added to the parameter_defaults NeutronSfcDriver:'ovn'
There could be other param defaults needs to be added and i'm not aware of.

Change-Id: I82fc10fb75ed4d804eda8a1b7bee5dd63e5efd11
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/587491/4 && git format-patch -1 --stdout FETCH_HEAD,['environments/neutron-sfc-ovn.yaml'],1,e9fde365dcc3e76fcaf21067605c4f9fbb32496e,OVN-SFC,"# A Heat environment file that can be used to deploy Neutron SFC service # resource_registry: # # FIXME(bogdando): switch it, once it is containerized # OS::TripleO::Services::NeutronSfcApi: ../puppet/services/neutron-sfc-api.yaml # # parameter_defaults: # NeutronSfcDriver: 'ovn' # NeutronServicePlugins: 'flow_classifier,sfc' ",,8,0
openstack%2Ftripleo-common~master~I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e,openstack/tripleo-common,master,I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e,Add image building config file for Fedora and py3,MERGED,2018-08-28 20:37:55.000000000,2018-10-07 00:36:06.000000000,2018-10-07 00:36:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-28 20:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0867e7956993c84519c347c96985e887e71796e0', 'message': ""Add image building config file for Fedora 28\n\nHere's an image building configuration file that can be used to build\novercloud full images on Fedora 28.\n\nChange-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e\nRelated-Blueprint: python3-support\n""}, {'number': 2, 'created': '2018-08-28 20:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/82dea8b432dab71cd88792620038bd464d3587f4', 'message': ""Add image building config file for Fedora 28\n\nHere's an image building configuration file that can be used to build\novercloud full images on Fedora 28.\n\nChange-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e\nRelated-Blueprint: python3-support\n""}, {'number': 3, 'created': '2018-08-29 15:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f89df81e15655f60ac798f4b7885d4e84de27e3', 'message': ""Add image building config file for Fedora and py3\n\nHere's an image building configuration file that can be used to build\novercloud full images on Fedora 28.\n\nChange-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e\nRelated-Blueprint: python3-support\n""}, {'number': 4, 'created': '2018-08-29 15:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb0eaf284819f4c23171726afbb12e56213831ea', 'message': ""Add image building config file for Fedora and py3\n\nHere's an image building configuration file that can be used to build\novercloud full images on Fedora 28.\n\nChange-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e\nRelated-Blueprint: python3-support\n""}, {'number': 5, 'created': '2018-08-29 15:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/88604be0df3b32500a63ce24ae5b836fd3b7384b', 'message': ""Add image building config file for Fedora and py3\n\nHere's an image building configuration file that can be used to build\novercloud full images on Fedora 28.\n\nChange-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e\nRelated-Blueprint: python3-support\n""}, {'number': 6, 'created': '2018-09-05 13:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/690515f52adf54f1364eeeeba9505fb1d50e6626', 'message': ""Add image building config file for Fedora and py3\n\nHere's an image building configuration file that can be used to build\novercloud full images on Fedora 28.\n\nChange-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e\nRelated-Blueprint: python3-support\n""}, {'number': 7, 'created': '2018-10-03 18:32:38.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-fedora.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49ca8f5454ffd159c36e74e2203222b5bb12eeab', 'message': ""Add image building config file for Fedora and py3\n\nHere's an image building configuration file that can be used to build\novercloud full images on Fedora 28.\n\nChange-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e\nRelated-Blueprint: python3-support\n""}]",3,597234,49ca8f5454ffd159c36e74e2203222b5bb12eeab,46,8,7,14985,,,0,"Add image building config file for Fedora and py3

Here's an image building configuration file that can be used to build
overcloud full images on Fedora 28.

Change-Id: I43e3dbcfeab4f5237e79f42bad39e52bed9aef0e
Related-Blueprint: python3-support
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/597234/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-fedora28.yaml'],1,0867e7956993c84519c347c96985e887e71796e0,bp/python3-support,"disk_images: - imagename: overcloud-full type: qcow2 distro: fedora elements: - baremetal - dhcp-all-interfaces - openvswitch - overcloud-agent - overcloud-base - overcloud-controller - overcloud-compute - overcloud-ceph-storage - puppet-modules - stable-interface-names - grub2 - element-manifest - dynamic-login - iptables - enable-packages-install - override-pip-and-virtualenv - dracut-regenerate - remove-machine-id - remove-resolvconf - openssh - disable-nouveau packages: - python-psutil - python-debtcollector - plotnetcfg - sos - ntp - device-mapper-multipath - openstack-heat-agents - os-net-config - jq - dbus-python options: - ""--min-tmpfs=7"" environment: DIB_PYTHON_VERSION: '3' - imagename: ironic-python-agent # This is bogus, but there's no initrd type in diskimage-builder type: qcow2 distro: fedora # So we just override the extension instead imageext: initramfs elements: - ironic-agent - ironic-agent-multipath - dynamic-login - element-manifest - network-gateway - enable-packages-install - override-pip-and-virtualenv packages: - python-hardware-detect options: - ""--min-tmpfs=7"" environment: DIB_PYTHON_VERSION: '3' ",,63,0
openstack%2Fpuppet-tripleo~master~Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036,openstack/puppet-tripleo,master,Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036,Include missing config classes,MERGED,2018-09-19 18:45:33.000000000,2018-10-07 00:36:05.000000000,2018-10-07 00:36:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-19 18:45:33.000000000', 'files': ['manifests/profile/base/ironic_inspector.pp', 'manifests/profile/base/sahara.pp', 'manifests/profile/base/congress.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/tacker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4592234a2c3370c7ddd5683fe82069a0a7f4e9d9', 'message': 'Include missing config classes\n\nIf a user wants to use an extra config to tune something that we do not\ncurrently expose then they need to use the various config classes\navailable in the puppet modules. This change adds an include for the\nmissing classes for congress, ironic, sahara, tacker and zaqar.\n\nChange-Id: Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036\nRelated-Bug: #1793361\n'}]",0,603867,4592234a2c3370c7ddd5683fe82069a0a7f4e9d9,19,6,1,14985,,,0,"Include missing config classes

If a user wants to use an extra config to tune something that we do not
currently expose then they need to use the various config classes
available in the puppet modules. This change adds an include for the
missing classes for congress, ironic, sahara, tacker and zaqar.

Change-Id: Ic3bea5a2081fc5194471e35b765e7ef8a9f5b036
Related-Bug: #1793361
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/67/603867/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ironic_inspector.pp', 'manifests/profile/base/sahara.pp', 'manifests/profile/base/congress.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/tacker.pp']",5,4592234a2c3370c7ddd5683fe82069a0a7f4e9d9,bug/1793361, include ::tacker::config,,5,0
openstack%2Ftripleo-heat-templates~master~I8c2ad6329b5c4226edae9ea80baf3bca8dd06e65,openstack/tripleo-heat-templates,master,I8c2ad6329b5c4226edae9ea80baf3bca8dd06e65,"Revert ""Allow a containerized logrotate to access docker""",MERGED,2018-10-03 09:48:27.000000000,2018-10-07 00:36:04.000000000,2018-10-07 00:36:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-03 09:48:27.000000000', 'files': ['docker/services/logrotate-crond.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd2b7a18569c2f33ae8e54b69cdc8dec95fbd4fe', 'message': 'Revert ""Allow a containerized logrotate to access docker""\n\nnot needed any more as we fallback to copytruncate\n\nThis reverts commit 2b1afc0483f849046b404099944653015fc11a04.\n\nChange-Id: I8c2ad6329b5c4226edae9ea80baf3bca8dd06e65\n'}]",0,607518,bd2b7a18569c2f33ae8e54b69cdc8dec95fbd4fe,21,11,1,6926,,,0,"Revert ""Allow a containerized logrotate to access docker""

not needed any more as we fallback to copytruncate

This reverts commit 2b1afc0483f849046b404099944653015fc11a04.

Change-Id: I8c2ad6329b5c4226edae9ea80baf3bca8dd06e65
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/607518/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/logrotate-crond.yaml'],1,bd2b7a18569c2f33ae8e54b69cdc8dec95fbd4fe,bug/1780139,, - /var/run/docker.sock:/var/run/docker.sock:rw,0,1
openstack%2Fnetworking-midonet~stable%2Fqueens~I3ba97349451ae8cdb7d6d6f9243dde69b780508c,openstack/networking-midonet,stable/queens,I3ba97349451ae8cdb7d6d6f9243dde69b780508c,import zuul job settings from project-config,MERGED,2018-08-30 00:08:43.000000000,2018-10-07 00:33:21.000000000,2018-10-07 00:33:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-30 00:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/76ae218f2f98c436852110b3bf6268e6641c3fcc', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I3ba97349451ae8cdb7d6d6f9243dde69b780508c\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-10-04 20:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/83fb593156a189f43ae7afc115c0aefe6858d483', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I3ba97349451ae8cdb7d6d6f9243dde69b780508c\nStory: #2002586\nTask: #24314\n'}, {'number': 3, 'created': '2018-10-05 06:34:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0297c0f0dc8778351fb796f53f258460d7980c36', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I3ba97349451ae8cdb7d6d6f9243dde69b780508c\nStory: #2002586\nTask: #24314\n'}]",0,597937,0297c0f0dc8778351fb796f53f258460d7980c36,19,7,3,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I3ba97349451ae8cdb7d6d6f9243dde69b780508c
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/37/597937/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,76ae218f2f98c436852110b3bf6268e6641c3fcc,python3-first, templates: - check-requirements - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - publish-openstack-sphinx-docs - release-notes-jobs - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-cover: voting: false required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service periodic: jobs: - legacy-periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - legacy-periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service post: jobs: - publish-openstack-python-branch-tarball: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service,,116,0
openstack%2Fos-apply-config~stable%2Frocky~I7a89af863f54537d49b62ea07a84fa51e76dcd3c,openstack/os-apply-config,stable/rocky,I7a89af863f54537d49b62ea07a84fa51e76dcd3c,Update UPPER_CONSTRAINTS_FILE for stable/rocky,MERGED,2018-08-24 14:41:19.000000000,2018-10-06 23:56:49.000000000,2018-10-06 23:56:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-24 14:41:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/387ecfa05f87cb622f27fdb9f42bde6a70464dd8', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I7a89af863f54537d49b62ea07a84fa51e76dcd3c\n""}]",0,596324,387ecfa05f87cb622f27fdb9f42bde6a70464dd8,11,4,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I7a89af863f54537d49b62ea07a84fa51e76dcd3c
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/24/596324/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,387ecfa05f87cb622f27fdb9f42bde6a70464dd8,create-rocky, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fos-apply-config~stable%2Frocky~Ibb88b8da289ad3533917cd4bfb76afb2fabe783c,openstack/os-apply-config,stable/rocky,Ibb88b8da289ad3533917cd4bfb76afb2fabe783c,Update .gitreview for stable/rocky,MERGED,2018-08-24 14:41:17.000000000,2018-10-06 23:56:49.000000000,2018-10-06 23:56:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-24 14:41:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/ff40481c7a78fb6905af90361570cfc20e365729', 'message': 'Update .gitreview for stable/rocky\n\nChange-Id: Ibb88b8da289ad3533917cd4bfb76afb2fabe783c\n'}]",0,596323,ff40481c7a78fb6905af90361570cfc20e365729,11,4,1,22816,,,0,"Update .gitreview for stable/rocky

Change-Id: Ibb88b8da289ad3533917cd4bfb76afb2fabe783c
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/23/596323/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ff40481c7a78fb6905af90361570cfc20e365729,create-rocky,defaultbranch=stable/rocky,,1,0
openstack%2Fopenstack-ansible-tests~master~I23bdbe0f6230a289fe09e5585aafe12a17824149,openstack/openstack-ansible-tests,master,I23bdbe0f6230a289fe09e5585aafe12a17824149,zuul: ubuntu: Switch functional jobs Bionic,MERGED,2018-10-01 09:55:39.000000000,2018-10-06 23:38:25.000000000,2018-10-06 23:38:25.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 09:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d9c102b4fb34e3f0cd1a947539c7f6af4d2b1469', 'message': ""zuul: ubuntu: Switch functional jobs Bionic\n\nThe Ubuntu Xenial version is being phased out in the 'S' release in\nfavour of the Ubuntu Bionic one, so lets drop the functional jobs.\n\nChange-Id: I23bdbe0f6230a289fe09e5585aafe12a17824149\n""}, {'number': 2, 'created': '2018-10-06 22:13:56.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/dd9fe367f8d08adaa2f7aed5b7b9257a32ef8468', 'message': ""zuul: ubuntu: Switch functional jobs Bionic\n\nThe Ubuntu Xenial version is being phased out in the 'S' release in\nfavour of the Ubuntu Bionic one, so lets drop the functional jobs.\n\nChange-Id: I23bdbe0f6230a289fe09e5585aafe12a17824149\n""}]",0,606923,dd9fe367f8d08adaa2f7aed5b7b9257a32ef8468,12,4,2,23163,,,0,"zuul: ubuntu: Switch functional jobs Bionic

The Ubuntu Xenial version is being phased out in the 'S' release in
favour of the Ubuntu Bionic one, so lets drop the functional jobs.

Change-Id: I23bdbe0f6230a289fe09e5585aafe12a17824149
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/23/606923/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,d9c102b4fb34e3f0cd1a947539c7f6af4d2b1469,fix-jobs,, - openstack-ansible-functional-ubuntu-xenial - openstack-ansible-functional-ubuntu-xenial,0,2
openstack%2Fpuppet-tripleo~stable%2Frocky~I5270778a7c4da2c383cf98c746b77c9b210e9ba0,openstack/puppet-tripleo,stable/rocky,I5270778a7c4da2c383cf98c746b77c9b210e9ba0,adding deployment_type fact in support,MERGED,2018-10-03 16:23:57.000000000,2018-10-06 23:37:15.000000000,2018-10-06 23:37:15.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 16:23:57.000000000', 'files': ['manifests/profile/base/database/mysql/client.pp', 'spec/classes/tripleo_profile_base_database_mysql_client_spec.rb', 'manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/501f10c48508f7e178a78617ca4be4b47a9f52fb', 'message': 'adding deployment_type fact in support\n\nWe have added a deployment_type fact to indicate when puppet is being\nexecuted within a container.\n\nChange-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0\nRelated-Bug: #1761624\n(cherry picked from commit 2c7e877e581153ddc17dfd976b0779b3ccebf315)\n'}]",0,607631,501f10c48508f7e178a78617ca4be4b47a9f52fb,12,3,1,27427,,,0,"adding deployment_type fact in support

We have added a deployment_type fact to indicate when puppet is being
executed within a container.

Change-Id: I5270778a7c4da2c383cf98c746b77c9b210e9ba0
Related-Bug: #1761624
(cherry picked from commit 2c7e877e581153ddc17dfd976b0779b3ccebf315)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/31/607631/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/mysql/client.pp', 'spec/classes/tripleo_profile_base_database_mysql_client_spec.rb', 'manifests/fencing.pp']",3,501f10c48508f7e178a78617ca4be4b47a9f52fb,bug/1761624-stable/rocky, if $::uuid != 'docker' and $::deployment_type != 'containers' {, if $::uuid != 'docker' {,24,2
openstack%2Fopenstack-ansible-plugins~master~I770a6a3e08490b7ae74752178e69be43ec484dc5,openstack/openstack-ansible-plugins,master,I770a6a3e08490b7ae74752178e69be43ec484dc5,Updates provider_network plugin to support geneve,MERGED,2018-07-20 17:06:59.000000000,2018-10-06 23:06:30.000000000,2018-10-06 23:06:30.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 16011}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25262}]","[{'number': 1, 'created': '2018-07-20 17:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/22818e7c86474d53074b350d1bfc4edb1d21a0c8', 'message': 'Updates provider_network plugin to support geneve\n\nThis commit updates the provider_network library to support\ngeneve for use with Open Virtual Networking (OVN).\n\nChange-Id: I770a6a3e08490b7ae74752178e69be43ec484dc5\nImplements: networking-ovn support\nPartial-Bug: #1782625\n'}, {'number': 2, 'created': '2018-08-21 17:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9e541750a47ea0f3965cd2cd4d28bb9f1ec61663', 'message': 'Updates provider_network plugin to support geneve\n\nThis commit updates the provider_network library to support\ngeneve for use with Open Virtual Networking (OVN).\n\nChange-Id: I770a6a3e08490b7ae74752178e69be43ec484dc5\nImplements: networking-ovn support\nPartial-Bug: #1782625\n'}, {'number': 3, 'created': '2018-10-02 12:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b1b7285c9e3d1d287655d60c7154db7f20e8bad7', 'message': 'Updates provider_network plugin to support geneve\n\nThis commit updates the provider_network library to support\ngeneve for use with Open Virtual Networking (OVN).\n\nChange-Id: I770a6a3e08490b7ae74752178e69be43ec484dc5\nImplements: networking-ovn support\nPartial-Bug: #1782625\n'}, {'number': 4, 'created': '2018-10-02 12:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/1a9c9ee5b5b9d4bfed9d5386d492db851e07dd9a', 'message': 'Updates provider_network plugin to support geneve\n\nThis commit updates the provider_network library to support\ngeneve for use with Open Virtual Networking (OVN).\n\nChange-Id: I770a6a3e08490b7ae74752178e69be43ec484dc5\nImplements: networking-ovn support\nPartial-Bug: #1782625\n'}, {'number': 5, 'created': '2018-10-02 12:57:11.000000000', 'files': ['library/provider_networks'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/bc3e3b074cda33397979a9cb26f4bec866f044cd', 'message': 'Updates provider_network plugin to support geneve\n\nThis commit updates the provider_network library to support\ngeneve for use with Open Virtual Networking (OVN).\n\nChange-Id: I770a6a3e08490b7ae74752178e69be43ec484dc5\nImplements: networking-ovn support\nPartial-Bug: #1782625\n'}]",2,584447,bc3e3b074cda33397979a9cb26f4bec866f044cd,24,7,5,16011,,,0,"Updates provider_network plugin to support geneve

This commit updates the provider_network library to support
geneve for use with Open Virtual Networking (OVN).

Change-Id: I770a6a3e08490b7ae74752178e69be43ec484dc5
Implements: networking-ovn support
Partial-Bug: #1782625
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/47/584447/1 && git format-patch -1 --stdout FETCH_HEAD,['library/provider_networks'],1,22818e7c86474d53074b350d1bfc4edb1d21a0c8,bug/1782625,"# container_bridge: ""br-vxlan"" # container_type: ""veth"" # container_interface: ""eth10"" # ip_from_q: ""tunnel"" # type: ""geneve"" # range: ""1:1000"" # net_name: ""geneve"" # group_binds: # - neutron_ovn_northd # - neutron_ovn_controlle # - network:# ""network_types"": ""vxlan,flat,vlan,geneve"",# ""vlan"", # ""geneve""# ""network_geneve_ranges"": ""1:1000"", # ""network_geneve_ranges_list"": [ # ""1:1000"" # ] self.network_geneve_ranges = list() elif net['network']['type'] == ""geneve"": if ""geneve"" not in self.network_types: self.network_types.append('geneve') self.network_geneve_ranges.append(net['network']['range']) if net['network']['type'] not in ['raw', 'vxlan', 'geneve']: 'network_geneve_ranges': ','.join(pnp.network_geneve_ranges), 'network_geneve_ranges_list': pnp.network_geneve_ranges,","# ""network_types"": ""vxlan,flat,vlan"",# ""vlan"" if net['network']['type'] not in ['raw', 'vxlan']:",26,3
openstack%2Fopenstack-ansible-os_aodh~master~I0e03df709650d16167f45643dc615beba89fc5b1,openstack/openstack-ansible-os_aodh,master,I0e03df709650d16167f45643dc615beba89fc5b1,Trivial: Fix the pep8 warning,MERGED,2018-08-06 07:13:22.000000000,2018-10-06 22:50:24.000000000,2018-10-06 22:50:24.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-08-06 07:13:22.000000000', 'files': ['tests/ansible-role-requirements.yml', 'examples/playbook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/4753a2203fc5833f8fe23aadc2271d2ad021f354', 'message': 'Trivial: Fix the pep8 warning\n\nThe yaml should start with ""---""\n\nChange-Id: I0e03df709650d16167f45643dc615beba89fc5b1\n'}]",0,589029,4753a2203fc5833f8fe23aadc2271d2ad021f354,16,5,1,21486,,,0,"Trivial: Fix the pep8 warning

The yaml should start with ""---""

Change-Id: I0e03df709650d16167f45643dc615beba89fc5b1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/29/589029/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible-role-requirements.yml', 'examples/playbook.yml']",2,4753a2203fc5833f8fe23aadc2271d2ad021f354,,---,,2,0
openstack%2Fopenstack-ansible-ops~master~I5312e88d4f41033a223d145e72f0767be45adda1,openstack/openstack-ansible-ops,master,I5312e88d4f41033a223d145e72f0767be45adda1,Make OSA repo clone optional,MERGED,2018-09-15 15:30:29.000000000,2018-10-06 22:07:05.000000000,2018-10-06 22:07:05.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 13487}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-15 15:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c6926013dae77b839698a9c1d3b605bd5c0e9224', 'message': 'Make OSA repo clone optional\n\nI am working on an experimental approach to running the MNAIO playbooks\nin a local docker container with osa and osa-ops already checked out and\nvolume-mounted into the docker container. This change supports that\napproach by making the git clone step optional in the deploy-osa.yml\nplaybook.\n\nChange-Id: I5312e88d4f41033a223d145e72f0767be45adda1\n'}, {'number': 2, 'created': '2018-10-04 19:44:52.000000000', 'files': ['multi-node-aio/playbooks/deploy-osa.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ebfe08b9eff4977e0c667bfa71c0f486ce3643a6', 'message': ""Make OSA repo clone optional\n\nI am working on an experimental approach to running the MNAIO playbooks\nin a local docker container with osa and osa-ops already checked out and\nvolume-mounted into the docker container. This change supports that\napproach by making the git clone step optional in the deploy-osa.yml\nplaybook.\n\nAlso, don't force update the OSA repo.\n\nChange-Id: I5312e88d4f41033a223d145e72f0767be45adda1\n""}]",3,602861,ebfe08b9eff4977e0c667bfa71c0f486ce3643a6,14,7,2,13487,,,0,"Make OSA repo clone optional

I am working on an experimental approach to running the MNAIO playbooks
in a local docker container with osa and osa-ops already checked out and
volume-mounted into the docker container. This change supports that
approach by making the git clone step optional in the deploy-osa.yml
playbook.

Also, don't force update the OSA repo.

Change-Id: I5312e88d4f41033a223d145e72f0767be45adda1
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/61/602861/2 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/deploy-osa.yml'],1,c6926013dae77b839698a9c1d3b605bd5c0e9224,make-osa-repo-clone-optional, - clone_osa | default(true) | bool,,1,0
openstack%2Fzun~master~I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37,openstack/zun,master,I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37,Fix a typo in the docstring,MERGED,2018-10-05 09:04:09.000000000,2018-10-06 21:52:10.000000000,2018-10-06 21:52:10.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 09:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6d1178a99ccc3c91b500812c79c8d4f321cc5809', 'message': 'Fix a typo in the docstring\n\nChange-Id: I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37\n'}, {'number': 2, 'created': '2018-10-06 19:36:47.000000000', 'files': ['zun/common/exception.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/31e02d5b93accb5e978599da83fc678849e610d1', 'message': 'Fix a typo in the docstring\n\nChange-Id: I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37\n'}]",1,608188,31e02d5b93accb5e978599da83fc678849e610d1,9,2,2,17130,,,0,"Fix a typo in the docstring

Change-Id: I3a54bc75652235a6edfadbd1c9961c9ddb2d0f37
",git fetch https://review.opendev.org/openstack/zun refs/changes/88/608188/1 && git format-patch -1 --stdout FETCH_HEAD,"['！', 'zun/common/exception.py']",2,6d1178a99ccc3c91b500812c79c8d4f321cc5809,fixtypo, # versionobjects kilo/master different version can, # verisonobjects kilo/master different version can,20,1
openstack%2Ftripleo-quickstart-extras~master~Ic13488cbebe2ec5fb3a60f04898c3af12280d62c,openstack/tripleo-quickstart-extras,master,Ic13488cbebe2ec5fb3a60f04898c3af12280d62c,Add ability to specify undercloud install command,MERGED,2018-09-27 14:23:02.000000000,2018-10-06 21:20:47.000000000,2018-10-06 21:20:47.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-27 14:23:02.000000000', 'files': ['roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud-install.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0a63a77f54d8c92aed604b83d043d0ce3ccb07e8', 'message': ""Add ability to specify undercloud install command\n\nIn Stein we've dropped the undercloud install via instack so we need to\nbe able to override the command so that we can properly continue\ntesting instack-undercloud.\n\nChange-Id: Ic13488cbebe2ec5fb3a60f04898c3af12280d62c\nRelated-Blueprint: remove-instack-undercloud\n""}]",0,605747,0a63a77f54d8c92aed604b83d043d0ce3ccb07e8,30,7,1,14985,,,0,"Add ability to specify undercloud install command

In Stein we've dropped the undercloud install via instack so we need to
be able to override the command so that we can properly continue
testing instack-undercloud.

Change-Id: Ic13488cbebe2ec5fb3a60f04898c3af12280d62c
Related-Blueprint: remove-instack-undercloud
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/605747/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud-install.sh.j2']",3,0a63a77f54d8c92aed604b83d043d0ce3ccb07e8,bp/remove-instack-undercloud,{{ undercloud_install_cmd }} {{ undercloud_install_cli_options }},openstack undercloud install {{ undercloud_install_cli_options }},3,1
openstack%2Fpbr~master~I7f915ecdc819bc4d3c6811949f12bdadb108a1ab,openstack/pbr,master,I7f915ecdc819bc4d3c6811949f12bdadb108a1ab,packaging: Remove support for pyN requirement files,MERGED,2018-07-05 15:36:44.000000000,2018-10-06 21:14:59.000000000,2018-10-06 21:14:58.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 15:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/85587816346d8e789b9b3a56f527e560170814eb', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2018-07-05 16:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/01f87d34e01fcf84c3d071c9a38bfc10a8d7d40e', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2018-07-06 10:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/6176e26be6668b551cbf3d4bb8871a5f5507efa2', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2018-07-06 14:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/5976a6eaca5c242a2ff2b10c906d9779347c29b5', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2018-07-10 14:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/4798859dc9a9b89e9af0444485d7277614cfd78a', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2018-07-17 09:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/ae783051751aca682fef1c5993ae172afd0bf230', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2018-07-18 09:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d411d26dfb4851b85b03853da354f8aaa33d4508', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2018-07-18 09:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/bdce9a1d82287eb2aab7f460b20b4cb9029f397a', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2018-07-18 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a3307d2c6c9dd5171ea0bafd1c7e5ed5bba23ee2', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 10, 'created': '2018-07-18 14:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7ff248ef73274f297c11c5b73006e50c5140b08f', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 11, 'created': '2018-07-19 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/592ecca0f1695ed5b4c0d62f151c1d24513c9c0a', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 12, 'created': '2018-07-23 10:08:42.000000000', 'files': ['pbr/packaging.py', 'pbr/tests/test_packaging.py', 'doc/source/user/using.rst', 'doc/source/user/features.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/8ea9d9262de318bf24d32246e6891d7a39d4b91b', 'message': 'packaging: Remove support for pyN requirement files\n\nChange-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,580417,8ea9d9262de318bf24d32246e6891d7a39d4b91b,41,8,12,15334,,,0,"packaging: Remove support for pyN requirement files

Change-Id: I7f915ecdc819bc4d3c6811949f12bdadb108a1ab
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/17/580417/4 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/packaging.py', 'pbr/tests/test_packaging.py', 'doc/source/user/using.rst', 'doc/source/user/features.rst']",4,85587816346d8e789b9b3a56f527e560170814eb,the-great-cleanup,.. versionchanged:: 5.0 Previously you could specify requirements for a given major version of Python using requirments files with a ``-pyN`` suffix. This was deprecated in 4.0 and removed in 5.0 in favour of environment markers. ,You can also have a requirement file for each specific major version of Python. If you want to have a different package list for Python 3 then just drop a ``requirements-py3.txt`` and it will be used instead. ,14,34
openstack%2Fopenstack-helm~master~I3ccc41f3ab97868ecfef7517185c92b0124924ac,openstack/openstack-helm,master,I3ccc41f3ab97868ecfef7517185c92b0124924ac,Libvirt: Remove libvirt dockerfile from repo,MERGED,2018-10-03 13:19:40.000000000,2018-10-06 20:28:34.000000000,2018-10-06 20:28:34.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 13:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/434c87af9be019c8df4be03a227ed506db265db3', 'message': 'Libvirt: Remove libvirt dockerfile from repo\n\nThis PS removes the libvirt dockerfile from the repo, as it and the\nchart beling in openstack-helm-infra.\n\nDepends-On: https://review.openstack.org/#/c/607072\n\nChange-Id: I3ccc41f3ab97868ecfef7517185c92b0124924ac\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-05 04:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2bcf8a0e59465023e0d72bd817c082ad3d1f427', 'message': 'Libvirt: Remove libvirt dockerfile from repo\n\nThis PS removes the libvirt dockerfile from the repo, as it and the\nchart beling in openstack-helm-infra.\n\nDepends-On: https://review.openstack.org/#/c/607072\n\nChange-Id: I3ccc41f3ab97868ecfef7517185c92b0124924ac\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-10-05 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb7c24cd8a5de059242d37b0c152b788354ef63b', 'message': 'Libvirt: Remove libvirt dockerfile from repo\n\nThis PS removes the libvirt dockerfile from the repo, as it and the\nchart beling in openstack-helm-infra.\n\nDepends-On: https://review.openstack.org/#/c/607072\n\nChange-Id: I3ccc41f3ab97868ecfef7517185c92b0124924ac\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-10-05 20:52:03.000000000', 'files': ['tools/images/libvirt/Dockerfile.ubuntu.xenial', 'tools/overrides/releases/newton/kolla.yaml', 'tools/images/libvirt/Makefile', 'tools/images/libvirt/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bdacef72eb050ca10ffe0a86ac01700b0701e1f4', 'message': 'Libvirt: Remove libvirt dockerfile from repo\n\nThis PS removes the libvirt dockerfile from the repo, as it and the\nchart beling in openstack-helm-infra.\n\nDepends-On: https://review.openstack.org/#/c/608355/\n\nChange-Id: I3ccc41f3ab97868ecfef7517185c92b0124924ac\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,607567,bdacef72eb050ca10ffe0a86ac01700b0701e1f4,14,4,4,23928,,,0,"Libvirt: Remove libvirt dockerfile from repo

This PS removes the libvirt dockerfile from the repo, as it and the
chart beling in openstack-helm-infra.

Depends-On: https://review.openstack.org/#/c/608355/

Change-Id: I3ccc41f3ab97868ecfef7517185c92b0124924ac
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/607567/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/libvirt/Dockerfile.ubuntu.xenial', 'tools/images/libvirt/Makefile', 'tools/images/libvirt/README.rst']",3,434c87af9be019c8df4be03a227ed506db265db3,remove-libvirt,,"Libvirt Container ================= This container builds a small image with Libvirt for use with OpenStack-Helm. Instructions ------------ OS Specific Host setup: ~~~~~~~~~~~~~~~~~~~~~~~ Ubuntu: ^^^^^^^ From a freshly provisioned Ubuntu 16.04 LTS host run: .. code:: bash sudo apt-get update -y sudo apt-get install -y \ docker.io \ git Build the Libvirt Image ~~~~~~~~~~~~~~~~~~~~~~~ A known good image is published to dockerhub on a fairly regular basis, but if you wish to build your own image, from the root directory of the OpenStack-Helm repo run: .. code:: bash LIBVIRT_VERSION=1.3.1-1ubuntu10.19 DISTRO=ubuntu DISTRO_RELEASE=xenial CEPH_RELEASE=luminous sudo docker build \ --network=host \ --force-rm \ --pull \ --no-cache \ --file=./tools/images/libvirt/Dockerfile.${DISTRO}.xenial \ --build-arg LIBVIRT_VERSION=""${LIBVIRT_VERSION}"" \ --build-arg CEPH_RELEASE=""${CEPH_RELEASE}"" \ -t docker.io/openstackhelm/libvirt:${DISTRO}-${DISTRO_RELEASE}-${LIBVIRT_VERSION%-*} \ tools/images/libvirt sudo docker push docker.io/openstackhelm/libvirt:${DISTRO}-${DISTRO_RELEASE}-${LIBVIRT_VERSION%-*} ",0,135
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic11b4790a1a2c2336cd432784f19922e76e028ad,openstack/tripleo-heat-templates,stable/rocky,Ic11b4790a1a2c2336cd432784f19922e76e028ad,Add a zaqar-swift-backend environment file,MERGED,2018-10-03 22:37:34.000000000,2018-10-06 19:07:25.000000000,2018-10-06 19:07:25.000000000,"[{'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 22:37:34.000000000', 'files': ['environments/services/zaqar-swift-backend.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6bf333a930fa28f1afcd45e6b695d307a7dbe6a0', 'message': 'Add a zaqar-swift-backend environment file\n\nThe main purpose of this file is to enable the zaqar service\nbut, unlike the environments/services/zaqar.yaml file it explicitely\ndisables the redis service as this is meant to be used with\nswift/sqlalchemy.\n\nThe main use case here being the containerized undercloud\n\nChange-Id: Ic11b4790a1a2c2336cd432784f19922e76e028ad\nPartial-Bug: #1795027\n(cherry picked from commit 242bef164a16c740b35a8182693c360cabdf678f)\n'}]",0,607733,6bf333a930fa28f1afcd45e6b695d307a7dbe6a0,17,5,1,14985,,,0,"Add a zaqar-swift-backend environment file

The main purpose of this file is to enable the zaqar service
but, unlike the environments/services/zaqar.yaml file it explicitely
disables the redis service as this is meant to be used with
swift/sqlalchemy.

The main use case here being the containerized undercloud

Change-Id: Ic11b4790a1a2c2336cd432784f19922e76e028ad
Partial-Bug: #1795027
(cherry picked from commit 242bef164a16c740b35a8182693c360cabdf678f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/607733/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/services/zaqar-swift-backend.yaml'],1,6bf333a930fa28f1afcd45e6b695d307a7dbe6a0,bug/1795027-stable/rocky,# Env file to enable zaqar without makins use of Redis as a backend resource_registry: OS::TripleO::Services::Zaqar: ../../docker/services/zaqar.yaml OS::TripleO::Services::Redis: OS::Heat::None ,,4,0
openstack%2Fpuppet-nova~stable%2Frocky~I869af3ebd37691e0117e320661bf9edabce4efd6,openstack/puppet-nova,stable/rocky,I869af3ebd37691e0117e320661bf9edabce4efd6,Set valid_interfaces for placement,MERGED,2018-09-25 13:31:55.000000000,2018-10-06 18:43:57.000000000,2018-10-06 18:43:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-25 13:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7b733d94745a8e7646ae3d2a8034ef8d63cf1180', 'message': ""Set valid_interfaces for placement\n\nThe os_interface config option in the placement\nsection was removed and has no effect so if\nanybody is using the os_interface parameter\nfor this class it doesn't do anything.\n\nSee release notes [1]. This changes so that the\npuppet interface is intact but the correct config\noption is set.\n\nThis is fixed for Stein with [2].\n\n[1] https://docs.openstack.org/releasenotes/nova/rocky.html\n[2] https://review.openstack.org/#/c/605069/\n\nChange-Id: I869af3ebd37691e0117e320661bf9edabce4efd6\n""}, {'number': 2, 'created': '2018-09-25 13:32:15.000000000', 'files': ['manifests/placement.pp', 'spec/classes/nova_placement_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/561fc22c4198a51a2b64c469ae8fef7680a27460', 'message': ""Set valid_interfaces for placement\n\nThe os_interface config option in the placement\nsection was removed and has no effect so if\nanybody is using the os_interface parameter\nfor this class it doesn't do anything.\n\nSee release notes [1]. This changes so that the\npuppet interface is intact but the correct config\noption is set.\n\nThis is fixed for Stein with [2].\n\n[1] https://docs.openstack.org/releasenotes/nova/rocky.html\n[2] https://review.openstack.org/#/c/605069/\n\nChange-Id: I869af3ebd37691e0117e320661bf9edabce4efd6\n""}]",0,605071,561fc22c4198a51a2b64c469ae8fef7680a27460,18,6,2,16137,,,0,"Set valid_interfaces for placement

The os_interface config option in the placement
section was removed and has no effect so if
anybody is using the os_interface parameter
for this class it doesn't do anything.

See release notes [1]. This changes so that the
puppet interface is intact but the correct config
option is set.

This is fixed for Stein with [2].

[1] https://docs.openstack.org/releasenotes/nova/rocky.html
[2] https://review.openstack.org/#/c/605069/

Change-Id: I869af3ebd37691e0117e320661bf9edabce4efd6
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/71/605071/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/placement.pp', 'spec/classes/nova_placement_spec.rb']",2,7b733d94745a8e7646ae3d2a8034ef8d63cf1180,, is_expected.to contain_nova_config('placement/valid_interfaces').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('placement/valid_interfaces').with_value(params[:os_interface]), is_expected.to contain_nova_config('placement/os_interface').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('placement/os_interface').with_value(params[:os_interface]),3,3
openstack%2Fpuppet-tripleo~master~Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8,openstack/puppet-tripleo,master,Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8,Add additional tuning options for mariadb/galera,MERGED,2018-09-20 06:42:41.000000000,2018-10-06 18:36:33.000000000,2018-10-06 18:36:33.000000000,"[{'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 11816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-20 06:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6adb65a180b41aebdb2363a4e6b09c4847ca222b', 'message': ""This introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size\n- innodb_flush_method\n- table_open_cache\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n""}, {'number': 2, 'created': '2018-09-20 06:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9317b49f70ef16541ead1035c2e2dab7125d58c2', 'message': ""Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size\n- innodb_flush_method\n- table_open_cache\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n""}, {'number': 3, 'created': '2018-09-20 06:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/88a2f22a427f5373c3b4f50c4fc2814eb722f419', 'message': ""Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size\n- innodb_flush_method\n- table_open_cache\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n""}, {'number': 4, 'created': '2018-09-20 06:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a22d438608f8a6285a1ec4d81ad43cb80a8ed9fa', 'message': ""Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size\n- innodb_flush_method\n- table_open_cache\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n""}, {'number': 5, 'created': '2018-09-20 07:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f9c4717986a637e47f5afedf7b2b53e880731b6', 'message': ""Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size\n- innodb_flush_method\n- table_open_cache\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n""}, {'number': 6, 'created': '2018-09-20 07:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2d69db98bad523c2efbdd22cf648953c3fba6cce', 'message': ""Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size\n- innodb_flush_method\n- table_open_cache\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n""}, {'number': 7, 'created': '2018-09-20 08:04:31.000000000', 'files': ['manifests/profile/base/database/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9289a3e9dea89300eb69c05fa6b0d1baf06eeebe', 'message': ""Add additional tuning options for mariadb/galera\n\nThis introduces additional mariadb tuning options, namely:\n\n- innodb_log_file_size:\n\n  Configure the size in bytes of each log file in a log group.\n  Generally, the combined size of the log files should be large enough\n  that the server can smooth out peaks and troughs in workload activity,\n  which often means that there is enough redo log space to handle more\n  than an hour of write activity.\n  The larger the value, the less checkpoint flush activity is required\n  in the buffer pool, saving disk I/O.\n\n- innodb_flush_method\n\n  Defines the method used to flush data to InnoDB data files and log files,\n  which can affect I/O throughput. If innodb_flush_method is set to NULL\n  on a Unix-like system, the fsync option is used by default.\n\n  The innodb_flush_method options for Unix-like systems include:\n\n  - fsync: InnoDB uses the fsync() system call to flush the data and log files.\n  - O_DSYNC: InnoDB uses O_SYNC to open and flush the log files,\n    and fsync() to flush the data files.\n  - littlesync: currently unsupported. Use at your own risk.\n  - nosync: currently unsupported. Use at your own risk.\n  - O_DIRECT: InnoDB uses O_DIRECT to open the data files,\n    and uses fsync() to flush both the data and log files.\n\n- table_open_cache\n\n  The number of open tables for all threads. Increasing this value\n  increases the number of file descriptors that mysqld requires.\n  You can check whether you need to increase the table cache by checking the\n  Opened_tables status variable. If the value of Opened_tables is large\n  and you do not use FLUSH TABLES often, then you should increase the value of\n  the table_open_cache variable.\n\ndefault value for all three is 'undef'.\n\nChange-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8\n""}]",4,603996,9289a3e9dea89300eb69c05fa6b0d1baf06eeebe,34,10,7,19705,,,0,"Add additional tuning options for mariadb/galera

This introduces additional mariadb tuning options, namely:

- innodb_log_file_size:

  Configure the size in bytes of each log file in a log group.
  Generally, the combined size of the log files should be large enough
  that the server can smooth out peaks and troughs in workload activity,
  which often means that there is enough redo log space to handle more
  than an hour of write activity.
  The larger the value, the less checkpoint flush activity is required
  in the buffer pool, saving disk I/O.

- innodb_flush_method

  Defines the method used to flush data to InnoDB data files and log files,
  which can affect I/O throughput. If innodb_flush_method is set to NULL
  on a Unix-like system, the fsync option is used by default.

  The innodb_flush_method options for Unix-like systems include:

  - fsync: InnoDB uses the fsync() system call to flush the data and log files.
  - O_DSYNC: InnoDB uses O_SYNC to open and flush the log files,
    and fsync() to flush the data files.
  - littlesync: currently unsupported. Use at your own risk.
  - nosync: currently unsupported. Use at your own risk.
  - O_DIRECT: InnoDB uses O_DIRECT to open the data files,
    and uses fsync() to flush both the data and log files.

- table_open_cache

  The number of open tables for all threads. Increasing this value
  increases the number of file descriptors that mysqld requires.
  You can check whether you need to increase the table cache by checking the
  Opened_tables status variable. If the value of Opened_tables is large
  and you do not use FLUSH TABLES often, then you should increase the value of
  the table_open_cache variable.

default value for all three is 'undef'.

Change-Id: Idcb1c5b4b7556ed9e26319305f3b6b0d00369ef8
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/96/603996/7 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/database/mysql.pp'],1,6adb65a180b41aebdb2363a4e6b09c4847ca222b,RHBZ1631154,"# [*innodb_log_file_size*] # (Optional) Configure the size in bytes of each log file in a log group. # Defaults to hiera('innodb_log_file_size', undef) # # [*innodb_flush_method*] # (Optional) Defines the method used to flush data to InnoDB data files and log files. # Defaults to hiera('innodb_flush_method', undef) # # [*table_open_cache*] # (Optional) Configure the number of open tables for all threads. # Increasing this value increases the number of file descriptors that mysqld requires. # Defaults to hiera('table_open_cache', undef) # $innodb_log_file_size = hiera('innodb_log_file_size', undef), $table_open_cache = hiera('table_open_cache', undef), $innodb_flush_method = hiera('innodb_flush_method', undef), 'innodb_log_file_size' => $innodb_log_file_size, 'table_open_cache' => $table_open_cache, 'innodb_flush_method' => $innodb_flush_method,",,19,0
openstack%2Ftripleo-quickstart-extras~master~Ia29a3aaeb23e63d68cfe4891436446093016ea3c,openstack/tripleo-quickstart-extras,master,Ia29a3aaeb23e63d68cfe4891436446093016ea3c,Rebase undercloud.conf template,MERGED,2018-09-24 22:14:23.000000000,2018-10-06 18:36:18.000000000,2018-10-06 18:36:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8997}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-24 22:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/67dd140c685e7c326903607746374cb6fda42f0e', 'message': 'Rebase undercloud.conf template\n\nWith the changes to undercloud for routed networks support\nthe configuration file structure was changed. This updates\nthe undercloud.conf template in quickstart to reflect these\nchanges.\n\nRelated-Bug: #1794038\nChange-Id: Ia29a3aaeb23e63d68cfe4891436446093016ea3c\n'}, {'number': 2, 'created': '2018-09-24 23:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3d1070f8cdc5c47487189bd0b120754ab2a8ab7c', 'message': 'Rebase undercloud.conf template\n\nWith the changes to undercloud for routed networks support\nthe configuration file structure was changed. This updates\nthe undercloud.conf template in quickstart to reflect these\nchanges.\n\nRelated-Bug: #1794038\nChange-Id: Ia29a3aaeb23e63d68cfe4891436446093016ea3c\n'}, {'number': 3, 'created': '2018-10-06 10:10:30.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/52db4aefb747552c507f5473390eaeb18fab6ab2', 'message': 'Rebase undercloud.conf template\n\nWith the changes to undercloud for routed networks support\nthe configuration file structure was changed. This updates\nthe undercloud.conf template in quickstart to reflect these\nchanges.\n\nRelated-Bug: #1794038\nChange-Id: Ia29a3aaeb23e63d68cfe4891436446093016ea3c\n'}]",2,604922,52db4aefb747552c507f5473390eaeb18fab6ab2,22,11,3,24245,,,0,"Rebase undercloud.conf template

With the changes to undercloud for routed networks support
the configuration file structure was changed. This updates
the undercloud.conf template in quickstart to reflect these
changes.

Related-Bug: #1794038
Change-Id: Ia29a3aaeb23e63d68cfe4891436446093016ea3c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/22/604922/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/undercloud.conf.j2'],1,67dd140c685e7c326903607746374cb6fda42f0e,bug/1794038,"{% if release in ['mitaka', 'newton', 'ocata', 'pike'] %}{% endif %}{% if release in ['mitaka', 'newton', 'ocata', 'pike'] %}{% endif %}{% if release in ['mitaka', 'newton', 'ocata', 'pike'] %}{% endif %} {% if release in ['mitaka', 'newton', 'ocata', 'pike'] %}{% endif %}{% if release in ['mitaka', 'newton', 'ocata', 'pike'] %}{% endif %} {% if release in ['mitaka', 'newton', 'ocata', 'pike'] %}{% endif %} {% if release not in ['mitaka', 'newton', 'ocata', 'pike'] %} # List of routed network subnets for provisioning and introspection. # Comma separated list of names/tags. For each network a section/group # needs to be added to the configuration file with these parameters # set: cidr, dhcp_start, dhcp_end, inspection_iprange, gateway and # masquerade_network. Note: The section/group must be placed before or # after any other section. (See the example section [ctlplane-subnet] # in the sample configuration file.) (list value) subnets = ctlplane-subnet # Name of the local subnet, where the PXE boot and DHCP interfaces for # overcloud instances is located. The IP address of the # local_ip/local_interface should reside in this subnet. (string # value) local_subnet = ctlplane-subnet # Network CIDR for the Neutron-managed subnet for Overcloud instances. # (string value) # Deprecated group/name - [DEFAULT]/network_cidr cidr = {{undercloud_network_cidr}} # Start of DHCP allocation range for PXE and DHCP of Overcloud # instances on this network. (string value) # Deprecated group/name - [DEFAULT]/dhcp_start dhcp_start = {{undercloud_dhcp_start|default( undercloud_network_cidr|nthhost(5))}} # End of DHCP allocation range for PXE and DHCP of Overcloud instances # on this network. (string value) # Deprecated group/name - [DEFAULT]/dhcp_end dhcp_end = dhcp_end = {{undercloud_dhcp_end|default( undercloud_network_cidr|nthhost(30))}} # Network gateway for the Neutron-managed network for Overcloud # instances on this network. (string value) # Deprecated group/name - [DEFAULT]/network_gateway gateway = {{undercloud_network_gateway|default( undercloud_network_cidr|nthhost(1))}} # Temporary IP range that will be given to nodes on this network # during the inspection process. Should not overlap with the range # defined by dhcp_start and dhcp_end, but should be in the same ip # subnet. (string value) # Deprecated group/name - [DEFAULT]/inspection_iprange inspection_iprange = {{undercloud_inspection_iprange|default( '%s,%s' % (undercloud_network_cidr|nthhost(100), undercloud_network_cidr|nthhost(120)))}} # The network will be masqueraded for external access. (boolean value) masquerade={{ ctlplane_masquerade|default(false) }}", {% if ctlplane_masquerade|default(false)|bool %}masquerade={{ ctlplane_masquerade }},64,2
openstack%2Fpbr~master~I9a77a4f6397464c33181d8b4bd2a9ae79c058b47,openstack/pbr,master,I9a77a4f6397464c33181d8b4bd2a9ae79c058b47,docs: Add docs for reno integration,MERGED,2018-09-24 12:06:41.000000000,2018-10-06 18:34:58.000000000,2018-10-06 18:34:58.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 12:06:41.000000000', 'files': ['doc/source/index.rst', 'doc/source/user/features.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/dac6f829af0fcca3586d7e953c7020692ae700c0', 'message': 'docs: Add docs for reno integration\n\nChange-Id: I9a77a4f6397464c33181d8b4bd2a9ae79c058b47\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,604754,dac6f829af0fcca3586d7e953c7020692ae700c0,8,5,1,15334,,,0,"docs: Add docs for reno integration

Change-Id: I9a77a4f6397464c33181d8b4bd2a9ae79c058b47
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/54/604754/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/user/features.rst']",2,dac6f829af0fcca3586d7e953c7020692ae700c0,587204," ``MANIFEST.in``, ``RELEASENOTES.txt``)Release Notes ~~~~~~~~~~~~~ .. admonition:: Summary *pbr* will automatically use *reno* \'s ``build_reno`` setuptools command to generate a release notes file, if reno is available and configured. If using *reno*, you may wish to include a copy of the release notes in your packages. *reno* provides a ``build_reno`` `setuptools command`__ and, if reno is present and configured, *pbr* will automatically call this to generate a release notes file for inclusion in your package. __ https://docs.openstack.org/reno/latest/user/setuptools.html ", ``MANIFEST.in``),17,1
openstack%2Fhorizon~stable%2Frocky~I276eebf0f11406bf354f5d8bbecef7b244d6d340,openstack/horizon,stable/rocky,I276eebf0f11406bf354f5d8bbecef7b244d6d340,Add enabled check in Backups panel,MERGED,2018-09-27 13:40:25.000000000,2018-10-06 18:27:09.000000000,2018-10-06 18:27:09.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6737}, {'_account_id': 8648}, {'_account_id': 11880}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 13:40:25.000000000', 'files': ['openstack_dashboard/dashboards/project/backups/panel.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/19865eec5bc4a5a0ee402a55295dda2e52c2422c', 'message': 'Add enabled check in Backups panel\n\nIf enable_backup is False in OPENSTACK_CINDER_FEATURES\nthen we should not display the backups panel.\n\nChange-Id: I276eebf0f11406bf354f5d8bbecef7b244d6d340\nCloses-Bug: #1778771\n(cherry picked from commit 6c2225bab8b007023e031d829bc72e8e50e6f1df)\n'}]",0,605715,19865eec5bc4a5a0ee402a55295dda2e52c2422c,11,7,1,28619,,,0,"Add enabled check in Backups panel

If enable_backup is False in OPENSTACK_CINDER_FEATURES
then we should not display the backups panel.

Change-Id: I276eebf0f11406bf354f5d8bbecef7b244d6d340
Closes-Bug: #1778771
(cherry picked from commit 6c2225bab8b007023e031d829bc72e8e50e6f1df)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/605715/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/backups/panel.py'],1,19865eec5bc4a5a0ee402a55295dda2e52c2422c,bug/1778771-stable/rocky,from openstack_dashboard import api @staticmethod def can_register(): return api.cinder.volume_backup_supported(None),,6,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~I834043c559004bbf5eeaf0a611cfa70ff29b7b05,openstack/python-tripleoclient,stable/queens,I834043c559004bbf5eeaf0a611cfa70ff29b7b05,Issue a message to update nodes after updating images,MERGED,2018-08-23 13:14:25.000000000,2018-10-06 18:19:40.000000000,2018-10-06 18:19:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9317}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-08-23 13:14:25.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bec731e094f32a40b6f8999ff845bef6ecf51192', 'message': 'Issue a message to update nodes after updating images\n\nCurrently it may be confusing for operators that the image upload\ncommand does not update nodes when uploading new versions of images.\nThis change adds a reminder to do so.\n\nConflicts:\n\ttripleoclient/v1/overcloud_image.py\n\nChange-Id: I834043c559004bbf5eeaf0a611cfa70ff29b7b05\nCloses-Bug: #1786970\n(cherry picked from commit 9e717d67d72b2e53aec9795eb38dcb884886dc11)\n'}]",0,595765,bec731e094f32a40b6f8999ff845bef6ecf51192,12,8,1,10239,,,0,"Issue a message to update nodes after updating images

Currently it may be confusing for operators that the image upload
command does not update nodes when uploading new versions of images.
This change adds a reminder to do so.

Conflicts:
	tripleoclient/v1/overcloud_image.py

Change-Id: I834043c559004bbf5eeaf0a611cfa70ff29b7b05
Closes-Bug: #1786970
(cherry picked from commit 9e717d67d72b2e53aec9795eb38dcb884886dc11)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/595765/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",2,bec731e094f32a40b6f8999ff845bef6ecf51192,bug/1786970, self.assertFalse(self.cmd.updated) self.assertTrue(self.cmd.updated),,9,0
openstack%2Foslo.log~master~Icfb399cfe3dce89dfd5fb5079295a4947828417a,openstack/oslo.log,master,Icfb399cfe3dce89dfd5fb5079295a4947828417a,Add devstack job with JSONFormatter configured,MERGED,2018-05-03 17:16:43.000000000,2018-10-06 17:37:00.000000000,2018-10-06 17:37:00.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-03 17:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/23c1e49bc696377cbbf7823a6fb2cb89b716ee9a', 'message': 'Add devstack job with JSONFormatter configured\n\nChange-Id: Icfb399cfe3dce89dfd5fb5079295a4947828417a\n'}, {'number': 2, 'created': '2018-10-05 22:18:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/fa045daa01f3f4186cc87502075f645069f3eaa8', 'message': ""Add devstack job with JSONFormatter configured\n\nWe've run into issues in the past where a service passed something\nto the logger that broke JSONFormatter. To try to catch those sooner,\nadd a job that configures the services to use JSONFormatter. This\nshould provide a more realistic test of the formatter than we can\nhope to accomplish in unit tests.\n\nChange-Id: Icfb399cfe3dce89dfd5fb5079295a4947828417a\n""}]",3,566125,fa045daa01f3f4186cc87502075f645069f3eaa8,13,4,2,6928,,,0,"Add devstack job with JSONFormatter configured

We've run into issues in the past where a service passed something
to the logger that broke JSONFormatter. To try to catch those sooner,
add a job that configures the services to use JSONFormatter. This
should provide a more realistic test of the formatter than we can
hope to accomplish in unit tests.

Change-Id: Icfb399cfe3dce89dfd5fb5079295a4947828417a
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/25/566125/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/legacy/oslo.log-jsonformatter/post.yaml', 'playbooks/legacy/oslo.log-jsonformatter/run.yaml']",3,23c1e49bc696377cbbf7823a6fb2cb89b716ee9a,jsonformatter-job,"- hosts: all name: oslo.log-jsonformatter tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] ENABLE_FILE_INJECTION=True [[post-config|$NOVA_CONF]] [DEFAULT] use_json = True [[post-config|$NEUTRON_CONF]] [DEFAULT] use_json = True [[post-config|$GLANCE_CONF]] [DEFAULT] use_json = True [[post-config|$CINDER_CONF]] [DEFAULT] use_json = True [[post-config|$KEYSTONE_CONF]] [DEFAULT] use_json = True EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TLSPROXY=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,111,1
openstack%2Fpbr~master~I0eff88e5736243291d4777f642bc48c32deafa39,openstack/pbr,master,I0eff88e5736243291d4777f642bc48c32deafa39,Use templates for cover and lower-constraints,MERGED,2018-09-08 14:50:01.000000000,2018-10-06 17:30:38.000000000,2018-10-06 17:30:38.000000000,"[{'_account_id': 6547}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-08 14:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/49493e6b9c4702dc1cf31c24922dfeaf2979b30a', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template.\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nChange-Id: I0eff88e5736243291d4777f642bc48c32deafa39\n'}, {'number': 2, 'created': '2018-09-08 16:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/6848252d989087614030de18a3f19458838ea0c9', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template.\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nAdd coverage to test-requirements, otherwise tox -e cover will fail.\n\nChange-Id: I0eff88e5736243291d4777f642bc48c32deafa39\n'}, {'number': 3, 'created': '2018-09-29 17:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/885725356023d765ae28bf71ba35b13ec4f396ba', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template.\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nAdd coverage to test-requirements, otherwise tox -e cover will fail.\n\nChange-Id: I0eff88e5736243291d4777f642bc48c32deafa39\n'}, {'number': 4, 'created': '2018-09-29 20:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/f6af1ca6a4fed8d667293169526e6d2535bbbf14', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template.\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nAdd coverage to test-requirements, otherwise tox -e cover will fail.\n\nChange-Id: I0eff88e5736243291d4777f642bc48c32deafa39\n'}, {'number': 5, 'created': '2018-09-30 06:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/ca3f720e725b4420a5c05d5ead868a128720f850', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template.\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nAdd coverage to test-requirements, otherwise tox -e cover will fail.\n\nChange-Id: I0eff88e5736243291d4777f642bc48c32deafa39\n'}, {'number': 6, 'created': '2018-10-05 13:26:23.000000000', 'files': ['test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/58cccf098b33f3336d8ccda36c182f9d77c5611c', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template.\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nAdd coverage to test-requirements, otherwise tox -e cover will fail.\n\nChange-Id: I0eff88e5736243291d4777f642bc48c32deafa39\n'}]",0,600943,58cccf098b33f3336d8ccda36c182f9d77c5611c,25,4,6,6547,,,0,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job
in the check queue only.

Use openstack-lower-constraints-jobs template.

Remove jobs that are part of the templates.

Sort list of templates.

Add coverage to test-requirements, otherwise tox -e cover will fail.

Change-Id: I0eff88e5736243291d4777f642bc48c32deafa39
",git fetch https://review.opendev.org/openstack/pbr refs/changes/43/600943/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,49493e6b9c4702dc1cf31c24922dfeaf2979b30a,update-zuul, - lib-forward-testing - lib-forward-testing-python3 - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-pypy-jobs-nonvoting - publish-openstack-docs-pti, - lib-forward-testing - lib-forward-testing-python3 - openstack-pypy-jobs-nonvoting - publish-openstack-docs-pti - openstack-tox-lower-constraints - openstack-tox-lower-constraints post: jobs: - openstack-tox-cover,6,9
openstack%2Fironic~master~I4dbb5800738836ececb77cf047f8c93cd83a63d5,openstack/ironic,master,I4dbb5800738836ececb77cf047f8c93cd83a63d5,Remove unnecessary checks in periodic task methods,MERGED,2018-10-03 17:38:08.000000000,2018-10-06 16:58:54.000000000,2018-10-06 16:58:54.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 17:38:08.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a00ebf4ec7068626a6925c011c904117213aaf6f', 'message': ""Remove unnecessary checks in periodic task methods\n\nRemove unnecessary checks. They aren't needed because the\nperiodic task is disabled in those cases, so the method is\nnever run.\n\nThis is a follow up to f39aae0c95567d78e9a29dbb7e74abe1104c97d0.\n\nChange-Id: I4dbb5800738836ececb77cf047f8c93cd83a63d5\n""}]",0,607656,a00ebf4ec7068626a6925c011c904117213aaf6f,17,9,1,6618,,,0,"Remove unnecessary checks in periodic task methods

Remove unnecessary checks. They aren't needed because the
periodic task is disabled in those cases, so the method is
never run.

This is a follow up to f39aae0c95567d78e9a29dbb7e74abe1104c97d0.

Change-Id: I4dbb5800738836ececb77cf047f8c93cd83a63d5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/607656/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py']",2,a00ebf4ec7068626a6925c011c904117213aaf6f,rloo_followup,," @mock.patch.object(manager.ConductorManager, '_mapped_to_this_conductor') @mock.patch.object(dbapi.IMPL, 'get_nodeinfo_list') def test___send_sensor_data_disabled(self, get_nodeinfo_list_mock, _mapped_to_this_conductor_mock): self._start_service() get_nodeinfo_list_mock.reset_mock() with mock.patch.object(manager.ConductorManager, '_spawn_worker') as _spawn_mock: self.service._send_sensor_data(self.context) self.assertFalse(get_nodeinfo_list_mock.called) self.assertFalse(_mapped_to_this_conductor_mock.called) self.assertFalse(_spawn_mock.called) def test_disabled(self, get_nodeinfo_mock, mapped_mock, acquire_mock): self.config(deploy_callback_timeout=0, group='conductor') self.service._check_deploy_timeouts(self.context) self.assertFalse(get_nodeinfo_mock.called) self.assertFalse(mapped_mock.called) self.assertFalse(acquire_mock.called) def test__check_inspect_timeouts_disabled(self, get_nodeinfo_mock, mapped_mock, acquire_mock): self.config(inspect_wait_timeout=0, group='conductor') self.service._check_inspect_wait_timeouts(self.context) self.assertFalse(get_nodeinfo_mock.called) self.assertFalse(mapped_mock.called) self.assertFalse(acquire_mock.called) ",0,43
openstack%2Fhorizon~master~I8856e4e91b25f059645eb5e0356d207f6fc119f2,openstack/horizon,master,I8856e4e91b25f059645eb5e0356d207f6fc119f2,Remove nose references from Horizon,MERGED,2018-09-22 17:12:19.000000000,2018-10-06 16:31:08.000000000,2018-10-06 16:31:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 11880}, {'_account_id': 22348}, {'_account_id': 27578}]","[{'number': 1, 'created': '2018-09-22 17:12:19.000000000', 'files': ['.gitignore', 'doc/source/admin/customize-configure.rst', 'horizon/test/settings.py', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/770afab1bf57d8581a26eabdf314886d3c60706e', 'message': ""Remove nose references from Horizon\n\nCommit I7fb2fd7dd40f301ea822154b9809a9a07610c507 changed test runner to\nnot use nose. So it's safe to remove all references now.\n\nChange-Id: I8856e4e91b25f059645eb5e0356d207f6fc119f2\n""}]",0,604554,770afab1bf57d8581a26eabdf314886d3c60706e,11,6,1,1736,,,0,"Remove nose references from Horizon

Commit I7fb2fd7dd40f301ea822154b9809a9a07610c507 changed test runner to
not use nose. So it's safe to remove all references now.

Change-Id: I8856e4e91b25f059645eb5e0356d207f6fc119f2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/604554/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'doc/source/admin/customize-configure.rst', 'horizon/test/settings.py', 'lower-constraints.txt', 'setup.cfg']",5,770afab1bf57d8581a26eabdf314886d3c60706e,cleanup-nose-references,,[nosetests] verbosity=2 detailed-errors=1 ,0,16
openstack%2Fhorizon~master~I604c8ecab63ccd16fa1fb1ea45738c5e6a313230,openstack/horizon,master,I604c8ecab63ccd16fa1fb1ea45738c5e6a313230,Imported Translations from Zanata,MERGED,2018-10-06 07:22:25.000000000,2018-10-06 16:16:08.000000000,2018-10-06 16:16:08.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-06 07:22:25.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6f7deef342cc3007cd6beab79e7ca6afb1aa40fd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I604c8ecab63ccd16fa1fb1ea45738c5e6a313230\n'}]",0,608402,6f7deef342cc3007cd6beab79e7ca6afb1aa40fd,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I604c8ecab63ccd16fa1fb1ea45738c5e6a313230
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/608402/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po']",2,6f7deef342cc3007cd6beab79e7ca6afb1aa40fd,zanata/translations,"""POT-Creation-Date: 2018-10-05 10:01+0000\n""""PO-Revision-Date: 2018-10-05 08:43+0000\n""msgctxt ""Current status of Volume Group Snapshot"" msgid ""Available"" msgstr ""Disponível"" msgid ""Create Volume Group"" msgstr ""Criar Grupo de Volume"" msgctxt ""Current status of Volume Group Snapshot"" msgid ""Error"" msgstr ""Erro"" msgid ""Group"" msgstr ""Grupo"" msgid ""Group Snapshots"" msgstr ""Snapshots de Grupo"" msgctxt ""Current status of Volume Group Snapshot"" msgid ""In-use"" msgstr ""Em uso"" msgid ""Quota exceeded for creating snapshots"" msgstr ""Cota excedida para criação de snapshots"" msgid ""Roles from Groups"" msgstr ""Papéis de Grupos"" msgid ""Unable to display the groups of this project."" msgstr ""Não é possível exibir os grupos deste projeto."" msgid ""Unable to display the users of this project."" msgstr ""Não é possível exibir os usuários deste projeto."" msgid ""Unable to retrieve group"" msgstr ""Não é possível recuperar grupo."" msgid ""Unable to retrieve group information."" msgstr ""Não é possível recuperar informações de grupo."" msgid ""Unable to retrieve volume group snapshots."" msgstr ""Não é possível recuperar snapshots de grupo de volume."" msgid ""Unable to retrieve volume groups."" msgstr ""Não é possível recuperar grupos de volumes."" ","""POT-Creation-Date: 2018-10-02 15:04+0000\n""""PO-Revision-Date: 2018-10-03 08:01+0000\n""",51,6
openstack%2Ftripleo-quickstart-extras~master~I59493e71326891333863e295d06b01d320e50b5c,openstack/tripleo-quickstart-extras,master,I59493e71326891333863e295d06b01d320e50b5c,Always pass docker.yml when using containers,MERGED,2018-10-04 12:37:54.000000000,2018-10-06 16:13:29.000000000,2018-10-06 16:13:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 20172}, {'_account_id': 20936}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 12:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6ed648f8e5e82518ff619f9bafd71174626f21d2', 'message': 'Always pass docker.yml when using containers\n\nAccording to the way we deploy via containers we always need to pass\ndocker.yml, otherwise deployment problems can happen.\n\nChange-Id: I59493e71326891333863e295d06b01d320e50b5c\n'}, {'number': 2, 'created': '2018-10-04 13:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/faedd8ed7ea1b51ffa9aa704bc872d0eeb1d8d4c', 'message': 'Always pass docker.yml when using containers\n\nAccording to the way we deploy via containers we always need to pass\ndocker.yml, otherwise deployment problems can happen.\n\nChange-Id: I59493e71326891333863e295d06b01d320e50b5c\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1796030\n'}, {'number': 3, 'created': '2018-10-04 13:38:41.000000000', 'files': ['roles/overcloud-deploy/tasks/pre-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/49bff74a805614efa070987e80e54084b0e04e1b', 'message': 'Always pass docker.yml when using containers\n\nAccording to the way we deploy via containers we always need to pass\ndocker.yml, otherwise deployment problems can happen.\n\nChange-Id: I59493e71326891333863e295d06b01d320e50b5c\nCloses-Bug: #1796030\n'}]",3,607950,49bff74a805614efa070987e80e54084b0e04e1b,32,8,3,20936,,,0,"Always pass docker.yml when using containers

According to the way we deploy via containers we always need to pass
docker.yml, otherwise deployment problems can happen.

Change-Id: I59493e71326891333863e295d06b01d320e50b5c
Closes-Bug: #1796030
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/50/607950/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/pre-deploy.yml'],1,6ed648f8e5e82518ff619f9bafd71174626f21d2,bug/1796030,," {% if release in ['pike','queens'] %} {% endif %}",0,2
openstack%2Ftripleo-docs~master~I873b7004fc7868dcb7e6d3247ba637f2d1d31937,openstack/tripleo-docs,master,I873b7004fc7868dcb7e6d3247ba637f2d1d31937,Add featureset_override instructions,MERGED,2018-08-27 17:34:11.000000000,2018-10-06 15:58:22.000000000,2018-10-06 15:58:22.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-08-27 17:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a3a81235a2c6b309306885b9e784264b502b4db7', 'message': 'Add featureset_override instructions\n\nDescribes how projects can run a popular CI job and override post\ndeployment settings, more specifically, tempest tests.\n\nDepends-On: https://review.openstack.org/#/c/594511\nChange-Id: I873b7004fc7868dcb7e6d3247ba637f2d1d31937\n'}, {'number': 2, 'created': '2018-09-04 10:27:52.000000000', 'files': ['doc/source/contributor/check_gates.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/efc49095b2de2cfc835b01c87e11418157b6aa9d', 'message': 'Add featureset_override instructions\n\nDescribes how projects can run a popular CI job and override post\ndeployment settings, more specifically, tempest tests.\n\nDepends-On: https://review.openstack.org/#/c/594511\nChange-Id: I873b7004fc7868dcb7e6d3247ba637f2d1d31937\n'}]",6,596848,efc49095b2de2cfc835b01c87e11418157b6aa9d,22,12,2,8175,,,0,"Add featureset_override instructions

Describes how projects can run a popular CI job and override post
deployment settings, more specifically, tempest tests.

Depends-On: https://review.openstack.org/#/c/594511
Change-Id: I873b7004fc7868dcb7e6d3247ba637f2d1d31937
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/48/596848/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/check_gates.rst'],1,a3a81235a2c6b309306885b9e784264b502b4db7,featureset_override,"featureset override ------------------- The set of tempest tests that run for a given TripleO CI job is defined in the `featureset config files <https://github.com/openstack/tripleo-quickstart/tree/master/config/general_config>`_. You may want to run a popular TripleO CI job with a custom set of Tempest tests and override the default Tempest run. This can be accomplished through `featureset_override` group of vars in Zuul job config. This setting allows projects to override featureset post deployment configuration. The overridable settings are: - `run_tempest`: To run tempest or not (true|false). - `tempest_whitelist`: List of tests you want to be executed. - `test_black_regex`: Set of tempest tests to skip. For a given job `tripleo-ci-centos-7-scenario001-multinode-oooq-container`, you can create a new abstract layer job and overrides the tempest tests:: - job: name: scn001-multinode-oooq-container-custom-tempest parent: tripleo-ci-centos-7-scenario001-multinode-oooq-container abstract: true ... vars: featureset_override: run_tempest: true tempest_whitelist: - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' In a similar way, for skipping Tempest run for the scenario001 job, you can do something like:: - job: name: scn001-multinode-oooq-container-skip-tempest parent: tripleo-ci-centos-7-scenario001-multinode-oooq-container abstract: true ... vars: featureset_override: run_tempest: false",,41,0
openstack%2Fneutron~master~I7bb29bbe68f7e9afbc20704948661dd5e9dae912,openstack/neutron,master,I7bb29bbe68f7e9afbc20704948661dd5e9dae912,Remove population of is_filter keyword,MERGED,2018-10-02 15:19:38.000000000,2018-10-06 15:33:56.000000000,2018-10-06 15:33:56.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-02 15:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bd8f32d4c68a5f3e17cb625b3f639446f35ef5e', 'message': ""Remove population of is_filter keyword\n\nThe population of is_filter in network_ip_availability and\nportbindings_extended modules was a walk-around for the missing\nof this keyword in neutron-lib's resource attributes.\nRight now, a newer version of neutron-lib is released so this\nwalk-around can be removed.\n\nChange-Id: I7bb29bbe68f7e9afbc20704948661dd5e9dae912\n""}, {'number': 2, 'created': '2018-10-02 19:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4e3feb528eee1fa6b7e9a520cfc6d9d054f749f', 'message': ""Remove population of is_filter keyword\n\nThe population of is_filter in network_ip_availability and\nportbindings_extended modules was a walk-around for the missing\nof this keyword in neutron-lib's resource attributes.\nThis issue is resolved in the release of neutron-lib 1.19.0\nso this walk-around can be removed.\n\nChange-Id: I7bb29bbe68f7e9afbc20704948661dd5e9dae912\n""}, {'number': 3, 'created': '2018-10-02 20:45:23.000000000', 'files': ['neutron/extensions/network_ip_availability.py', 'neutron/extensions/portbindings_extended.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b43b8c446dac3ed24eebd0b712b569c6f71eba2c', 'message': ""Remove population of is_filter keyword\n\nThe population of is_filter in network_ip_availability and\nportbindings_extended modules was a walk-around for the missing\nof this keyword in neutron-lib's resource attributes.\nThis issue is resolved in the release of neutron-lib 1.19.0\nso this walk-around can be removed.\n\nDepends-On: https://review.openstack.org/#/c/605690/\nChange-Id: I7bb29bbe68f7e9afbc20704948661dd5e9dae912\n""}]",4,607289,b43b8c446dac3ed24eebd0b712b569c6f71eba2c,32,13,3,27654,,,0,"Remove population of is_filter keyword

The population of is_filter in network_ip_availability and
portbindings_extended modules was a walk-around for the missing
of this keyword in neutron-lib's resource attributes.
This issue is resolved in the release of neutron-lib 1.19.0
so this walk-around can be removed.

Depends-On: https://review.openstack.org/#/c/605690/
Change-Id: I7bb29bbe68f7e9afbc20704948661dd5e9dae912
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/607289/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/network_ip_availability.py', 'neutron/extensions/portbindings_extended.py']",2,3bd8f32d4c68a5f3e17cb625b3f639446f35ef5e,,," # TODO(hongbin): Delete _populate_is_filter_keyword once neutron-lib # containing https://review.openstack.org/#/c/583437/ is released. cls._populate_is_filter_keyword(params) @classmethod def _populate_is_filter_keyword(cls, params): filter_keys = [pbe_ext.HOST, pbe_ext.VIF_TYPE, pbe_ext.VNIC_TYPE, pbe_ext.STATUS] for name in params: if name in filter_keys: params[name]['is_filter'] = True",0,24
openstack%2Fopenstacksdk~master~I3ede4fd0b12a65effade238c4ea967aca51869ba,openstack/openstacksdk,master,I3ede4fd0b12a65effade238c4ea967aca51869ba,Make RateLimitingTaskManager the TaskManager,MERGED,2018-09-22 13:29:10.000000000,2018-10-06 15:33:52.000000000,2018-10-06 15:33:52.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-22 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/049f665c9ab7ae78665a575f203d8f6019656d4e', 'message': 'Make RateLimitingTaskManager the TaskManager\n\nThere isn\'t really a reason to not run the multi-threaded rate-limiting\ntask manager all the time.\n\nModify it slightly so that rate=None means ""don\'t rate limit"", which\nshould keep the existing behavior.\n\nChange-Id: I3ede4fd0b12a65effade238c4ea967aca51869ba\n'}, {'number': 2, 'created': '2018-09-24 12:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b87dcdbcd232e0d48f65c16c37851b0acafe1443', 'message': 'Make RateLimitingTaskManager the TaskManager\n\nThere isn\'t really a reason to not run the multi-threaded rate-limiting\ntask manager all the time.\n\nModify it slightly so that rate=None means ""don\'t rate limit"", which\nshould keep the existing behavior.\n\nChange-Id: I3ede4fd0b12a65effade238c4ea967aca51869ba\n'}, {'number': 3, 'created': '2018-09-24 14:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6cb139091c6baed23cb243d42ae578fe4fd87ad9', 'message': 'Make RateLimitingTaskManager the TaskManager\n\nThere isn\'t really a reason to not run the multi-threaded rate-limiting\ntask manager all the time.\n\nModify it slightly so that rate=None means ""don\'t rate limit"", which\nshould keep the existing behavior.\n\nChange-Id: I3ede4fd0b12a65effade238c4ea967aca51869ba\n'}, {'number': 4, 'created': '2018-09-25 14:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/47b4e0c680ad3a71cf441bf76c164ae154dfe9a6', 'message': 'Make RateLimitingTaskManager the TaskManager\n\nThere isn\'t really a reason to not run the multi-threaded rate-limiting\ntask manager all the time.\n\nModify it slightly so that rate=None means ""don\'t rate limit"", which\nshould keep the existing behavior.\n\nChange-Id: I3ede4fd0b12a65effade238c4ea967aca51869ba\n'}, {'number': 5, 'created': '2018-10-06 13:28:20.000000000', 'files': ['openstack/task_manager.py', 'openstack/tests/unit/cloud/test_task_manager.py', 'openstack/connection.py', 'openstack/_adapter.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9db8bae0a197c067f065a1991bd573f9d6fffcfd', 'message': 'Make RateLimitingTaskManager the TaskManager\n\nThere isn\'t really a reason to not run the multi-threaded rate-limiting\ntask manager all the time.\n\nModify it slightly so that rate=None means ""don\'t rate limit"", which\nshould keep the existing behavior.\n\nChange-Id: I3ede4fd0b12a65effade238c4ea967aca51869ba\n'}]",2,604520,9db8bae0a197c067f065a1991bd573f9d6fffcfd,21,5,5,2,,,0,"Make RateLimitingTaskManager the TaskManager

There isn't really a reason to not run the multi-threaded rate-limiting
task manager all the time.

Modify it slightly so that rate=None means ""don't rate limit"", which
should keep the existing behavior.

Change-Id: I3ede4fd0b12a65effade238c4ea967aca51869ba
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/20/604520/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/task_manager.py', 'openstack/tests/unit/cloud/test_task_manager.py', 'openstack/connection.py']",3,049f665c9ab7ae78665a575f203d8f6019656d4e,task-manager, self.task_manager.start(),,47,64
openstack%2Fopenstacksdk~master~I0fcefb78cf66a60a4c08de8d39d44222a56a8725,openstack/openstacksdk,master,I0fcefb78cf66a60a4c08de8d39d44222a56a8725,Import rate limiting TaskManager from nodepool,MERGED,2018-06-11 14:55:38.000000000,2018-10-06 15:33:51.000000000,2018-10-06 15:33:51.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-11 14:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7fec3b99d27dc90ab8e03826a0459b9924fd4a10', 'message': 'Import rate limiting TaskManager from nodepool\n\nThere is logic in the caching and batching layer in shade that is in\nservice of the rate limiting TaskManager from nodepool- but the logic in\nthat TaskManager is nowhere to be found in the openstacksdk codebase.\nThis leads people to want to make changes without the whole picture.\n\nPull in the code from nodepool so that we can have a full discussion\nabout things like caching and retries ... and potentially even add some\ntests that run things under it.\n\nDepends-On: https://review.openstack.org/414759\nChange-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725\n'}, {'number': 2, 'created': '2018-06-11 15:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ba09e88cb2461ca402c9908f7bae0cffef6b7f25', 'message': 'Import rate limiting TaskManager from nodepool\n\nThere is logic in the caching and batching layer in shade that is in\nservice of the rate limiting TaskManager from nodepool- but the logic in\nthat TaskManager is nowhere to be found in the openstacksdk codebase.\nThis leads people to want to make changes without the whole picture.\n\nPull in the code from nodepool so that we can have a full discussion\nabout things like caching and retries ... and potentially even add some\ntests that run things under it.\n\nDepends-On: https://review.openstack.org/414759\nChange-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725\n'}, {'number': 3, 'created': '2018-07-05 18:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b8017104d5c0c2510198ef685140e70083319259', 'message': 'Import rate limiting TaskManager from nodepool\n\nThere is logic in the caching and batching layer in shade that is in\nservice of the rate limiting TaskManager from nodepool- but the logic in\nthat TaskManager is nowhere to be found in the openstacksdk codebase.\nThis leads people to want to make changes without the whole picture.\n\nPull in the code from nodepool so that we can have a full discussion\nabout things like caching and retries ... and potentially even add some\ntests that run things under it.\n\nDepends-On: https://review.openstack.org/414759\nChange-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725\n'}, {'number': 4, 'created': '2018-09-22 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/07ce606f19cc4dea79720a846f7b64795098e5fd', 'message': 'Import rate limiting TaskManager from nodepool\n\nThere is logic in the caching and batching layer in shade that is in\nservice of the rate limiting TaskManager from nodepool- but the logic in\nthat TaskManager is nowhere to be found in the openstacksdk codebase.\nThis leads people to want to make changes without the whole picture.\n\nPull in the code from nodepool so that we can have a full discussion\nabout things like caching and retries ... and potentially even add some\ntests that run things under it.\n\nChange-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725\n'}, {'number': 5, 'created': '2018-09-24 12:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/924be4bd120c4ca8f1b374dc5a4fdaa4a7a9903d', 'message': 'Import rate limiting TaskManager from nodepool\n\nThere is logic in the caching and batching layer in shade that is in\nservice of the rate limiting TaskManager from nodepool- but the logic in\nthat TaskManager is nowhere to be found in the openstacksdk codebase.\nThis leads people to want to make changes without the whole picture.\n\nPull in the code from nodepool so that we can have a full discussion\nabout things like caching and retries ... and potentially even add some\ntests that run things under it.\n\nChange-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725\n'}, {'number': 6, 'created': '2018-09-25 14:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e277f389ee8435f672d76b1745d694f1dc465a0d', 'message': 'Import rate limiting TaskManager from nodepool\n\nThere is logic in the caching and batching layer in shade that is in\nservice of the rate limiting TaskManager from nodepool- but the logic in\nthat TaskManager is nowhere to be found in the openstacksdk codebase.\nThis leads people to want to make changes without the whole picture.\n\nPull in the code from nodepool so that we can have a full discussion\nabout things like caching and retries ... and potentially even add some\ntests that run things under it.\n\nChange-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725\n'}, {'number': 7, 'created': '2018-10-06 13:27:54.000000000', 'files': ['openstack/exceptions.py', 'openstack/task_manager.py', 'openstack/tests/unit/cloud/test_task_manager.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/348c9e8da32984b6cbdea5e29729034c0216cfb3', 'message': 'Import rate limiting TaskManager from nodepool\n\nThere is logic in the caching and batching layer in shade that is in\nservice of the rate limiting TaskManager from nodepool- but the logic in\nthat TaskManager is nowhere to be found in the openstacksdk codebase.\nThis leads people to want to make changes without the whole picture.\n\nPull in the code from nodepool so that we can have a full discussion\nabout things like caching and retries ... and potentially even add some\ntests that run things under it.\n\nChange-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725\n'}]",15,574285,348c9e8da32984b6cbdea5e29729034c0216cfb3,42,4,7,2,,,0,"Import rate limiting TaskManager from nodepool

There is logic in the caching and batching layer in shade that is in
service of the rate limiting TaskManager from nodepool- but the logic in
that TaskManager is nowhere to be found in the openstacksdk codebase.
This leads people to want to make changes without the whole picture.

Pull in the code from nodepool so that we can have a full discussion
about things like caching and retries ... and potentially even add some
tests that run things under it.

Change-Id: I0fcefb78cf66a60a4c08de8d39d44222a56a8725
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/85/574285/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/exceptions.py', 'openstack/task_manager.py']",2,7fec3b99d27dc90ab8e03826a0459b9924fd4a10,task-manager," def join(self): """""" This is a direct action passthrough TaskManager """""" pass class RateLimitingTaskManager(TaskManager): def __init__(self, name, rate, workers=5): super(TaskManager, self).__init__( name=name, workers=workers) self.daemon = True self.queue = queue.Queue() self._running = True self.rate = float(rate) self.statsd = stats.get_client() self._thread = threading.Thread(target=self.run) def start(self): self._thread.start() def stop(self): self._running = False self.queue.put(None) def join(self): self._thread.join() def run(self): last_ts = 0 try: while True: task = self.queue.get() if not task: if not self._running: break continue while True: delta = time.time() - last_ts if delta >= self.rate: break time.sleep(self.rate - delta) self._log.debug( ""TaskManager {name} queue size: {size})"".format( name=self.name, size=self.queue.qsize())) self.run_task(task) self.queue.task_done() except Exception: self._log.exception(""TaskManager died"") raise def submit_task(self, task): if not self._running: raise exceptions.TaskManagerStopped( ""TaskManager {name} is no longer running"".format( name=self.name)) self.queue.put(task) return task.wait() ",,63,0
openstack%2Fpuppet-tripleo~master~I4833525ae98d95c3ad84e3f79f30b8078c394ee1,openstack/puppet-tripleo,master,I4833525ae98d95c3ad84e3f79f30b8078c394ee1,Disable chrony-wait,MERGED,2018-10-03 22:03:01.000000000,2018-10-06 15:33:38.000000000,2018-10-05 23:30:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 22:03:01.000000000', 'files': ['manifests/profile/base/time/ntp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/594aff428938ff9fc6c9058c84bab49fb43868bb', 'message': 'Disable chrony-wait\n\nThe chrony-wait service also prevents ntpd from starting on reboots.\nThis service should be disabled if present and running on the host when\nusing ntp.\n\nChange-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1\nCloses-Bug: #1795986\n'}]",0,607727,594aff428938ff9fc6c9058c84bab49fb43868bb,17,5,1,14985,,,0,"Disable chrony-wait

The chrony-wait service also prevents ntpd from starting on reboots.
This service should be disabled if present and running on the host when
using ntp.

Change-Id: I4833525ae98d95c3ad84e3f79f30b8078c394ee1
Closes-Bug: #1795986
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/607727/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/time/ntp.pp'],1,594aff428938ff9fc6c9058c84bab49fb43868bb,bug/1795986," service { 'chrony-wait': ensure => stopped, enable => false, before => Class['ntp'] }",,5,0
openstack%2Ftripleo-heat-templates~master~Ic0fb84fb7c711d4706b75885e69cbd052cd56f42,openstack/tripleo-heat-templates,master,Ic0fb84fb7c711d4706b75885e69cbd052cd56f42,Consolidate openshift-ansible global variables,MERGED,2018-09-24 10:15:37.000000000,2018-10-06 15:21:02.000000000,2018-10-06 15:21:01.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-24 10:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84e7f5b2e8cb19112296e83c59f9f46d0f152fd7', 'message': 'Consolidate openshift-ansible global variables\n\nMerge openshift/global_defaults.yml into openshift/global_vars.yml file\nsince they serve the exact same purpose.\n\nAlso remove duplicated variables that were set in inventory file for\nglusterfs nodes.\n\nChange-Id: Ic0fb84fb7c711d4706b75885e69cbd052cd56f42\n'}, {'number': 2, 'created': '2018-09-25 16:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fcd099c28afa2bb3c1e63746d37f39425ec164a', 'message': 'Consolidate openshift-ansible global variables\n\nMerge openshift/global_defaults.yml into openshift/global_vars.yml file\nsince they serve the exact same purpose.\n\nAlso remove duplicated variables that were set in inventory file for\nglusterfs nodes.\n\nChange-Id: Ic0fb84fb7c711d4706b75885e69cbd052cd56f42\n'}, {'number': 3, 'created': '2018-09-26 11:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a2602f77de6e13a317ca8bf4b213a7f5cadc78d', 'message': 'Consolidate openshift-ansible global variables\n\nMerge openshift/global_defaults.yml into openshift/global_vars.yml file\nsince they serve the exact same purpose.\n\nAlso remove duplicated variables that were set in inventory file for\nglusterfs nodes.\n\nChange-Id: Ic0fb84fb7c711d4706b75885e69cbd052cd56f42\n'}, {'number': 4, 'created': '2018-10-03 18:49:44.000000000', 'files': ['extraconfig/services/openshift-cns.yaml', 'extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c67c34554173f626de66ea3b5f46f244bbb89807', 'message': 'Consolidate openshift-ansible global variables\n\nMerge openshift/global_defaults.yml into openshift/global_vars.yml file\nsince they serve the exact same purpose.\n\nAlso remove duplicated variables that were set in inventory file for\nglusterfs nodes.\n\nChange-Id: Ic0fb84fb7c711d4706b75885e69cbd052cd56f42\n'}]",0,604726,c67c34554173f626de66ea3b5f46f244bbb89807,23,6,4,13039,,,0,"Consolidate openshift-ansible global variables

Merge openshift/global_defaults.yml into openshift/global_vars.yml file
since they serve the exact same purpose.

Also remove duplicated variables that were set in inventory file for
glusterfs nodes.

Change-Id: Ic0fb84fb7c711d4706b75885e69cbd052cd56f42
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/604726/4 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-cns.yaml', 'extraconfig/services/openshift-master.yaml', 'extraconfig/services/openshift-node.yaml']",3,84e7f5b2e8cb19112296e83c59f9f46d0f152fd7,tripleo-openshift,, containerized: true,2,15
openstack%2Ftripleo-heat-templates~master~I6810709263e3cda56fa3aa70797bcc5ca1b28671,openstack/tripleo-heat-templates,master,I6810709263e3cda56fa3aa70797bcc5ca1b28671,Make glusterfs the default sc when deploying with CNS,MERGED,2018-09-24 10:15:37.000000000,2018-10-06 15:19:15.000000000,2018-10-06 15:19:15.000000000,"[{'_account_id': 4328}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-24 10:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ecb005c1133ce9c4b444d41bed486040560c448', 'message': ""Make glusterfs the default sc when deploying with CNS\n\nGlusterFS is the recommended storage solution for OpenShift. Mark the\ndeployed GlusterFS cluster as the default storage class when deploying\nwith CNS.\n\nThis is possible to change it back to not being the default storage\nclass by setting 'openshift_storage_glusterfs_storageclass_default:\nfalse' in the OpenShiftGlusterNodeVars heat parameter.\n\nChange-Id: I6810709263e3cda56fa3aa70797bcc5ca1b28671\n""}, {'number': 2, 'created': '2018-09-25 16:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a475a3e98ebde612999ad3b009b514bf249668b', 'message': ""Make glusterfs the default sc when deploying with CNS\n\nGlusterFS is the recommended storage solution for OpenShift. Mark the\ndeployed GlusterFS cluster as the default storage class when deploying\nwith CNS.\n\nThis is possible to change it back to not being the default storage\nclass by setting 'openshift_storage_glusterfs_storageclass_default:\nfalse' in the OpenShiftGlusterNodeVars heat parameter.\n\nChange-Id: I6810709263e3cda56fa3aa70797bcc5ca1b28671\n""}, {'number': 3, 'created': '2018-09-26 11:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4b04adf3afabd470e49aa083023722805cfa73f', 'message': ""Make glusterfs the default sc when deploying with CNS\n\nGlusterFS is the recommended storage solution for OpenShift. Mark the\ndeployed GlusterFS cluster as the default storage class when deploying\nwith CNS.\n\nThis is possible to change it back to not being the default storage\nclass by setting 'openshift_storage_glusterfs_storageclass_default:\nfalse' in the OpenShiftGlusterNodeVars heat parameter.\n\nChange-Id: I6810709263e3cda56fa3aa70797bcc5ca1b28671\n""}, {'number': 4, 'created': '2018-10-03 18:49:39.000000000', 'files': ['extraconfig/services/openshift-cns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d90bb11ea4aa346fc2fa9861490253636e90ff54', 'message': ""Make glusterfs the default sc when deploying with CNS\n\nGlusterFS is the recommended storage solution for OpenShift. Mark the\ndeployed GlusterFS cluster as the default storage class when deploying\nwith CNS.\n\nThis is possible to change it back to not being the default storage\nclass by setting 'openshift_storage_glusterfs_storageclass_default:\nfalse' in the OpenShiftGlusterNodeVars heat parameter.\n\nChange-Id: I6810709263e3cda56fa3aa70797bcc5ca1b28671\n""}]",0,604725,d90bb11ea4aa346fc2fa9861490253636e90ff54,22,5,4,13039,,,0,"Make glusterfs the default sc when deploying with CNS

GlusterFS is the recommended storage solution for OpenShift. Mark the
deployed GlusterFS cluster as the default storage class when deploying
with CNS.

This is possible to change it back to not being the default storage
class by setting 'openshift_storage_glusterfs_storageclass_default:
false' in the OpenShiftGlusterNodeVars heat parameter.

Change-Id: I6810709263e3cda56fa3aa70797bcc5ca1b28671
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/604725/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-cns.yaml'],1,5ecb005c1133ce9c4b444d41bed486040560c448,tripleo-openshift, openshift_storage_glusterfs_storageclass_default: true,,1,0
openstack%2Ftripleo-heat-templates~master~I43052662e913a02945f22e9f541a45ce2d9d828c,openstack/tripleo-heat-templates,master,I43052662e913a02945f22e9f541a45ce2d9d828c,Introduce OpenShiftGlusterNodeVars heat param,MERGED,2018-09-24 10:15:37.000000000,2018-10-06 15:19:14.000000000,2018-10-06 15:19:14.000000000,"[{'_account_id': 4328}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-24 10:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40a9af0330e67a5b295a62c280b09b148ff5d892', 'message': 'Introduce OpenShiftGlusterNodeVars heat param\n\nRemoves conflict on OpenShiftGlobalVariables param that was overwritten\nby the openshift-cns.yaml environment file. The default options for CNS\nas now moved into the extraconfig/services/openshift-cns.yaml template\nand can be overwritten by setting the OpenShiftGlusterNodeVars heat\nparameter.\n\nChange-Id: I43052662e913a02945f22e9f541a45ce2d9d828c\n'}, {'number': 2, 'created': '2018-09-25 16:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ba6a91af6befd7e3d28d5f38e84666fbfe82f02', 'message': 'Introduce OpenShiftGlusterNodeVars heat param\n\nRemoves conflict on OpenShiftGlobalVariables param that was overwritten\nby the openshift-cns.yaml environment file. The default options for CNS\nas now moved into the extraconfig/services/openshift-cns.yaml template\nand can be overwritten by setting the OpenShiftGlusterNodeVars heat\nparameter.\n\nChange-Id: I43052662e913a02945f22e9f541a45ce2d9d828c\n'}, {'number': 3, 'created': '2018-09-26 11:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44c3c67786a953233603b70a915c6f14527618cc', 'message': 'Introduce OpenShiftGlusterNodeVars heat param\n\nRemoves conflict on OpenShiftGlobalVariables param that was overwritten\nby the openshift-cns.yaml environment file. The default options for CNS\nas now moved into the extraconfig/services/openshift-cns.yaml template\nand can be overwritten by setting the OpenShiftGlusterNodeVars heat\nparameter.\n\nChange-Id: I43052662e913a02945f22e9f541a45ce2d9d828c\n'}, {'number': 4, 'created': '2018-10-03 18:49:33.000000000', 'files': ['extraconfig/services/openshift-cns.yaml', 'environments/openshift-cns.yaml', 'extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd5dddb58d13250c35d1c8091a773da7a8c349a0', 'message': 'Introduce OpenShiftGlusterNodeVars heat param\n\nRemoves conflict on OpenShiftGlobalVariables param that was overwritten\nby the openshift-cns.yaml environment file. The default options for CNS\nas now moved into the extraconfig/services/openshift-cns.yaml template\nand can be overwritten by setting the OpenShiftGlusterNodeVars heat\nparameter.\n\nChange-Id: I43052662e913a02945f22e9f541a45ce2d9d828c\n'}]",3,604724,bd5dddb58d13250c35d1c8091a773da7a8c349a0,25,5,4,13039,,,0,"Introduce OpenShiftGlusterNodeVars heat param

Removes conflict on OpenShiftGlobalVariables param that was overwritten
by the openshift-cns.yaml environment file. The default options for CNS
as now moved into the extraconfig/services/openshift-cns.yaml template
and can be overwritten by setting the OpenShiftGlusterNodeVars heat
parameter.

Change-Id: I43052662e913a02945f22e9f541a45ce2d9d828c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/604724/3 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/services/openshift-cns.yaml', 'environments/openshift-cns.yaml']",2,40a9af0330e67a5b295a62c280b09b148ff5d892,tripleo-openshift,, parameter_defaults: OpenShiftGlobalVariables: openshift_storage_glusterfs_namespace: glusterfs openshift_storage_glusterfs_name: storage,47,44
openstack%2Ftripleo-heat-templates~master~I794558bd6048e68e03540c10191f44aaa9fdb707,openstack/tripleo-heat-templates,master,I794558bd6048e68e03540c10191f44aaa9fdb707,Fix inventory files for newer openshift-ansible,MERGED,2018-09-19 07:10:31.000000000,2018-10-06 15:02:30.000000000,2018-10-06 15:02:30.000000000,"[{'_account_id': 4328}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-19 07:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da223fefe41db641b6ff5e3ca10258bac8e2768a', 'message': ""Fix inventory files for newer openshift-ansible\n\nThe openshift_hostname variable added to the nodes was causing the\nopenshift-ansible to check for pods with names that didn't match the\nreal name of the pods, i.e. names composed of IP addresses vs\nhostnames.\n\nChange-Id: I794558bd6048e68e03540c10191f44aaa9fdb707\nDepends-On: Ia4b9668f9bd4b9ae900f007aa99d21b6f12c032e\n""}, {'number': 2, 'created': '2018-09-19 07:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/256ab6425e6d9bea8fddd42cb55bd302e6d7310d', 'message': ""Fix inventory files for newer openshift-ansible\n\nThe openshift_hostname variable added to the nodes was causing the\nopenshift-ansible to check for pods with names that didn't match the\nreal name of the pods, i.e. names composed of IP addresses vs\nhostnames.\n\nChange-Id: I794558bd6048e68e03540c10191f44aaa9fdb707\nDepends-On: Ia4b9668f9bd4b9ae900f007aa99d21b6f12c032e\n""}, {'number': 3, 'created': '2018-09-19 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a50fe3c9fc950cb289ca46c5cbde8703baded56f', 'message': ""Fix inventory files for newer openshift-ansible\n\nThe openshift_hostname variable added to the nodes was causing the\nopenshift-ansible to check for pods with names that didn't match the\nreal name of the pods, i.e. names composed of IP addresses vs\nhostnames.\n\nChange-Id: I794558bd6048e68e03540c10191f44aaa9fdb707\nDepends-On: Ia4b9668f9bd4b9ae900f007aa99d21b6f12c032e\n""}, {'number': 4, 'created': '2018-09-24 10:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a6ad07a27e12bf7b360fd362828d89e0f67f3d2', 'message': ""Fix inventory files for newer openshift-ansible\n\nThe openshift_hostname variable added to the nodes was causing the\nopenshift-ansible to check for pods with names that didn't match the\nreal name of the pods, i.e. names composed of IP addresses vs\nhostnames.\n\nChange-Id: I794558bd6048e68e03540c10191f44aaa9fdb707\nDepends-On: Ia4b9668f9bd4b9ae900f007aa99d21b6f12c032e\n""}, {'number': 5, 'created': '2018-09-25 16:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed80d8ba2ade3f029bdbefc57129225615a1aee4', 'message': ""Fix inventory files for newer openshift-ansible\n\nThe openshift_hostname variable added to the nodes was causing the\nopenshift-ansible to check for pods with names that didn't match the\nreal name of the pods, i.e. names composed of IP addresses vs\nhostnames.\n\nChange-Id: I794558bd6048e68e03540c10191f44aaa9fdb707\nDepends-On: Ia4b9668f9bd4b9ae900f007aa99d21b6f12c032e\n""}, {'number': 6, 'created': '2018-10-03 18:48:15.000000000', 'files': ['extraconfig/services/openshift-node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a04ceaa407ac1caeddef30b6a9df803a4222056b', 'message': ""Fix inventory files for newer openshift-ansible\n\nThe openshift_hostname variable added to the nodes was causing the\nopenshift-ansible to check for pods with names that didn't match the\nreal name of the pods, i.e. names composed of IP addresses vs\nhostnames.\n\nChange-Id: I794558bd6048e68e03540c10191f44aaa9fdb707\n""}]",0,603577,a04ceaa407ac1caeddef30b6a9df803a4222056b,33,6,6,13039,,,0,"Fix inventory files for newer openshift-ansible

The openshift_hostname variable added to the nodes was causing the
openshift-ansible to check for pods with names that didn't match the
real name of the pods, i.e. names composed of IP addresses vs
hostnames.

Change-Id: I794558bd6048e68e03540c10191f44aaa9fdb707
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/603577/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-node.yaml'],1,da223fefe41db641b6ff5e3ca10258bac8e2768a,tripleo-openshift,," openshift_hostname: ""{{hostvars[item][openshift_master_network + '_ip']}}""",0,1
openstack%2Fcinder~stable%2Frocky~Iaf8a3f0bed5af053d5ea7796d84d5d77f1608458,openstack/cinder,stable/rocky,Iaf8a3f0bed5af053d5ea7796d84d5d77f1608458,NetApp SolidFire: Fix force_detach,MERGED,2018-10-03 14:35:35.000000000,2018-10-06 14:08:01.000000000,2018-10-04 22:49:46.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-03 14:35:35.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/fix-netapp-force_detach-36bdf75dd2c9a030.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfcd4b2f1be3ab37ae0801dd523ce952577cda14', 'message': 'NetApp SolidFire: Fix force_detach\n\nFixes force_detach for SolidFire driver.\n\nChange-Id: Iaf8a3f0bed5af053d5ea7796d84d5d77f1608458\nCloses-Bug: #1788458\n(cherry picked from commit 62bdcbf7ab5d0e55d4c7bf011f6dd2a08a03c4ed)\n'}]",1,607595,bfcd4b2f1be3ab37ae0801dd523ce952577cda14,21,17,1,24407,,,0,"NetApp SolidFire: Fix force_detach

Fixes force_detach for SolidFire driver.

Change-Id: Iaf8a3f0bed5af053d5ea7796d84d5d77f1608458
Closes-Bug: #1788458
(cherry picked from commit 62bdcbf7ab5d0e55d4c7bf011f6dd2a08a03c4ed)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/607595/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/fix-netapp-force_detach-36bdf75dd2c9a030.yaml']",3,bfcd4b2f1be3ab37ae0801dd523ce952577cda14,bug/1788458,--- fixes: - Fixes force_detach behavior for volumes in NetApp SolidFire driver. ,,69,16
openstack%2Ftripleo-common~master~Ic9076a0a1a8e1360495dcf0eb766118ec63dc362,openstack/tripleo-common,master,Ic9076a0a1a8e1360495dcf0eb766118ec63dc362,Load and persist modules from the host.,MERGED,2018-10-02 08:57:52.000000000,2018-10-06 12:52:54.000000000,2018-10-06 12:52:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26828}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-02 08:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18e0be38b24dde1475b2e396e595aea0fb0d7580', 'message': 'Load and persist modules from the host.\n\nThis reusable ansible role will be used in tripleo-heat-templates\nin order to load known kernel modules such as ip_vs, iscsi and some\nother that are for now loaded from within the containers.\n\nChange-Id: Ic9076a0a1a8e1360495dcf0eb766118ec63dc362\n'}, {'number': 2, 'created': '2018-10-03 18:23:10.000000000', 'files': ['roles/tripleo-module-load/defaults/main.yaml', 'roles/tripleo-module-load/tasks/main.yaml', 'roles/tripleo-module-load/templates/module-load.conf.j2', 'releasenotes/notes/tripleo-module-load-80f7fd8c8dd6a81e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/72dbb3cb6b4404a73db15ee189a0b42df2758489', 'message': 'Load and persist modules from the host.\n\nThis reusable ansible role will be used in tripleo-heat-templates\nin order to load known kernel modules such as ip_vs, iscsi and some\nother that are for now loaded from within the containers.\n\nChange-Id: Ic9076a0a1a8e1360495dcf0eb766118ec63dc362\n'}]",0,607130,72dbb3cb6b4404a73db15ee189a0b42df2758489,29,8,2,28223,,,0,"Load and persist modules from the host.

This reusable ansible role will be used in tripleo-heat-templates
in order to load known kernel modules such as ip_vs, iscsi and some
other that are for now loaded from within the containers.

Change-Id: Ic9076a0a1a8e1360495dcf0eb766118ec63dc362
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/607130/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-module-load/defaults/main.yaml', 'roles/tripleo-module-load/tasks/main.yaml', 'roles/tripleo-module-load/templates/module-load.conf.j2', 'releasenotes/notes/tripleo-module-load-80f7fd8c8dd6a81e.yaml']",4,18e0be38b24dde1475b2e396e595aea0fb0d7580,module-load-role,--- features: - Loads and persist kernel modules from the host directly. ,,64,0
openstack%2Ftripleo-heat-templates~master~Iee088e1279bff2cdb7a3601288804f626bff29a3,openstack/tripleo-heat-templates,master,Iee088e1279bff2cdb7a3601288804f626bff29a3,Configure haproxy for openshift infra,MERGED,2018-09-10 10:18:13.000000000,2018-10-06 12:46:01.000000000,2018-10-06 12:46:01.000000000,"[{'_account_id': 4328}, {'_account_id': 10873}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-10 10:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59170b9f498c67bea5afcd4e5a85895e48332e5a', 'message': 'WIP Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 2, 'created': '2018-09-12 09:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f137c86a984865c57676ddecc720d110184acdba', 'message': 'WIP Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 3, 'created': '2018-09-12 15:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b799d40afb70ab77829da3672530b78fe1e19939', 'message': 'WIP Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: Ib50a6709e6b153a7662ef332259d4e35de7edb3e\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 4, 'created': '2018-09-13 13:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/288de8fa8292a85120f5ad15895f72cf57744e9b', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: Ib50a6709e6b153a7662ef332259d4e35de7edb3e\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 5, 'created': '2018-09-14 13:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9943efd3dbad5fb558da6e76a8b636f2d75e37df', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: Ib50a6709e6b153a7662ef332259d4e35de7edb3e\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 6, 'created': '2018-09-17 12:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a27d98f8f9561bdbee0ff24c9da364e2f6f27a4', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: Ib50a6709e6b153a7662ef332259d4e35de7edb3e\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 7, 'created': '2018-09-17 13:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ed11c0af67cd560e3dfc6ae09ac7f698e47c308', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: Ib50a6709e6b153a7662ef332259d4e35de7edb3e\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 8, 'created': '2018-09-17 13:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e53927c15965e1166c276f18451812ec2e1e906a', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: Ib50a6709e6b153a7662ef332259d4e35de7edb3e\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 9, 'created': '2018-09-17 13:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/adb576b4f8aa4e83ec694664648ec44e768f2ebb', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: Ib50a6709e6b153a7662ef332259d4e35de7edb3e\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 10, 'created': '2018-09-18 09:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dd342b4f0705e128e3827d82d25c0d09309656b', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 11, 'created': '2018-09-18 10:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63a422013134a3bfc5fba24f07ecbe731648ab06', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 12, 'created': '2018-09-19 07:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93a6f6dc1eac4fad24f76e653132cd791a5b032c', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 13, 'created': '2018-09-19 07:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3d41c2c30a3c5aa51e1832cfb794664477988be', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 14, 'created': '2018-09-19 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c42ed691d7c2e993f160eed116934e29c9442dd5', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 15, 'created': '2018-09-24 10:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9ecdb450271f5b475247b07f54344af0f86be31', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}, {'number': 16, 'created': '2018-09-25 16:47:08.000000000', 'files': ['environments/no-tls-endpoints-public-ip.yaml', 'environments/tls-everywhere-endpoints-dns.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/no-tls-endpoints-public.yaml', 'roles/OpenShiftAllInOne.yaml', 'roles/OpenShiftInfra.yaml', 'network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/tls-endpoints-public-ip.yaml', 'environments/tls-endpoints-public-dns.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/openshift.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'extraconfig/services/openshift-infra.yaml', 'network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2bcc10d5a3df5732fb872e5958fcfba24b181de', 'message': 'Configure haproxy for openshift infra\n\nOpenshift Routers are located on the infra node and need to be highly\navailable on ports 80 and 443.\n\nDepends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92\nChange-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3\n'}]",2,601241,b2bcc10d5a3df5732fb872e5958fcfba24b181de,65,6,16,13039,,,0,"Configure haproxy for openshift infra

Openshift Routers are located on the infra node and need to be highly
available on ports 80 and 443.

Depends-On: I5de14152904d06c49e9d5b2df6e3f09a35f23d92
Change-Id: Iee088e1279bff2cdb7a3601288804f626bff29a3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/601241/16 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/no-tls-endpoints-public.yaml', 'roles/OpenShiftAllInOne.yaml', 'roles/OpenShiftInfra.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/openshift.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'extraconfig/services/openshift-infra.yaml', 'network/service_net_map.j2.yaml']",12,59170b9f498c67bea5afcd4e5a85895e48332e5a,tripleo-openshift, OpenshiftInfraNetwork: internal_api,,111,3
openstack%2Ftripleo-common~master~I37825806a170166e009d6cb6a39777e2ccb76e09,openstack/tripleo-common,master,I37825806a170166e009d6cb6a39777e2ccb76e09,Use templates for cover,MERGED,2018-09-22 16:03:23.000000000,2018-10-06 11:55:58.000000000,2018-10-06 11:55:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-22 16:03:23.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d0f903e06915e900f1c4e0f6acfcfcfce414d082', 'message': 'Use templates for cover\n\nSmall cleanups:\n\n* Use openstack-tox-cover template, this runs the cover job\n  in the check queue only. Remove individual cover jobs.\n* Sort list of templates\n\nChange-Id: I37825806a170166e009d6cb6a39777e2ccb76e09\n'}]",0,604551,d0f903e06915e900f1c4e0f6acfcfcfce414d082,27,5,1,6547,,,0,"Use templates for cover

Small cleanups:

* Use openstack-tox-cover template, this runs the cover job
  in the check queue only. Remove individual cover jobs.
* Sort list of templates

Change-Id: I37825806a170166e009d6cb6a39777e2ccb76e09
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/604551/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d0f903e06915e900f1c4e0f6acfcfcfce414d082,update-zuul, - openstack-cover-jobs - publish-openstack-docs-pti - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal - tripleo-undercloud-jobs, - tripleo-undercloud-jobs - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal - publish-openstack-docs-pti - openstack-tox-cover: voting: false ,5,7
openstack%2Fnetworking-ovn~stable%2Fpike~Ib399efc0654373a9be7fad351961c10b1b426bec,openstack/networking-ovn,stable/pike,Ib399efc0654373a9be7fad351961c10b1b426bec,import zuul job settings from project-config,MERGED,2018-08-30 00:07:53.000000000,2018-10-06 10:24:38.000000000,2018-10-06 10:24:38.000000000,"[{'_account_id': 1131}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-30 00:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4df6baa34e592b69a189f256167cd273f353c703', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ib399efc0654373a9be7fad351961c10b1b426bec\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-10-04 20:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/43a10bba10341431999472bf37ea51e734e44f0f', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ib399efc0654373a9be7fad351961c10b1b426bec\nStory: #2002586\nTask: #24314\n'}, {'number': 3, 'created': '2018-10-04 20:26:37.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f37d0337591276f639401697e79c798b8122b127', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ib399efc0654373a9be7fad351961c10b1b426bec\nStory: #2002586\nTask: #24314\n'}]",1,597924,f37d0337591276f639401697e79c798b8122b127,23,7,3,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ib399efc0654373a9be7fad351961c10b1b426bec
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/24/597924/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4df6baa34e592b69a189f256167cd273f353c703,python3-first, templates: - openstack-python-jobs-neutron - publish-openstack-sphinx-docs - release-notes-jobs - check-requirements - openstack-python35-jobs-neutron - openstack-tox-cover: required-projects: - openstack/neutron voting: false periodic: jobs: - openstack-tox-py35-with-ovsdbapp-master: required-projects: - openstack/neutron ,,16,0
openstack%2Fpuppet-cinder~master~Ic97f672a83a9e5d895be5e69c015c9bd8494e602,openstack/puppet-cinder,master,Ic97f672a83a9e5d895be5e69c015c9bd8494e602,Add report_discard_supported config option,ABANDONED,2018-09-11 14:41:02.000000000,2018-10-06 09:05:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-11 14:41:02.000000000', 'files': ['manifests/backend/rbd.pp', 'releasenotes/notes/report-discard-supported-98f4d5f0595607ee.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a7ab45561a5c22d9f298733c7faba38b1900df56', 'message': ""Add report_discard_supported config option\n\nAdds the config option report_discard_supported\nto the cinder::backend::rbd backend.\n\nSee documentation about this config option here [1].\nThere is no spec tests for this backend so I've not\nadded any, might write something in the future.\n\n[1] https://docs.openstack.org/mitaka/config-reference/block-storage/block-storage-sample-configuration-files.html\n\nChange-Id: Ic97f672a83a9e5d895be5e69c015c9bd8494e602\n""}]",0,601611,a7ab45561a5c22d9f298733c7faba38b1900df56,8,4,1,16137,,,0,"Add report_discard_supported config option

Adds the config option report_discard_supported
to the cinder::backend::rbd backend.

See documentation about this config option here [1].
There is no spec tests for this backend so I've not
added any, might write something in the future.

[1] https://docs.openstack.org/mitaka/config-reference/block-storage/block-storage-sample-configuration-files.html

Change-Id: Ic97f672a83a9e5d895be5e69c015c9bd8494e602
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/11/601611/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/rbd.pp', 'releasenotes/notes/report-discard-supported-98f4d5f0595607ee.yaml']",2,a7ab45561a5c22d9f298733c7faba38b1900df56,,--- features: - | Added new parameter cinder::backend::rbd::report_discard_supported that if set to true will notify clients that the backend support discard. ,,11,0
openstack%2Ftraining-guides~master~Ib34eeb2dbec96789fab69962f08dcd16b7bd9b23,openstack/training-guides,master,Ib34eeb2dbec96789fab69962f08dcd16b7bd9b23,Imported Translations from Zanata,MERGED,2018-10-06 06:08:29.000000000,2018-10-06 07:46:31.000000000,2018-10-06 07:46:31.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-06 06:08:29.000000000', 'files': ['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/662e5d05ba5cf319f160a24d51f4267d12e694cd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib34eeb2dbec96789fab69962f08dcd16b7bd9b23\n'}]",0,608399,662e5d05ba5cf319f160a24d51f4267d12e694cd,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib34eeb2dbec96789fab69962f08dcd16b7bd9b23
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/99/608399/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",6,662e5d05ba5cf319f160a24d51f4267d12e694cd,zanata/translations,"""POT-Creation-Date: 2018-10-04 20:53+0000\n""","""POT-Creation-Date: 2018-09-01 11:21+0000\n""msgid ""Prepare an environment by yourself from scratch:"" msgstr ""Erstellen Sie selbst eine Umgebung von Grund auf:"" msgid ""Prepared virtual machine image with a development environment:"" msgstr ""Vorbereitetes virtuelles Maschinenbild mit einer Entwicklungsumgebung:"" ",17,132
openstack%2Fmonasca-notification~master~If1023b4c2d19b21feb4de05424af203f89507468,openstack/monasca-notification,master,If1023b4c2d19b21feb4de05424af203f89507468,Add tooling for building Docker image,MERGED,2018-07-25 11:11:58.000000000,2018-10-06 07:01:32.000000000,2018-10-06 07:01:32.000000000,"[{'_account_id': 16222}, {'_account_id': 16253}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-07-25 11:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/188c3142f41ce6e6eb16554afe5dfaebbe2a9c93', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 2, 'created': '2018-07-26 13:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/ae2d49e5ef07de65310ff75865f29f4ba16936ed', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 3, 'created': '2018-08-01 09:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/e1362871c52a707129dfc50a40424a7589c8692a', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 4, 'created': '2018-09-07 11:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/e437802fabee7ee375b76b1b6b893c2636166578', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 5, 'created': '2018-09-12 12:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3136c5249dfca3ff0a1b37c46192eee05b6ca46c', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 6, 'created': '2018-09-13 08:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/75baf74afad9859d5688591f0c6e238e223bb3eb', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 7, 'created': '2018-09-20 11:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/d8e6e572d1ec40f8fe223053efde3d0ef83f8332', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 8, 'created': '2018-09-20 12:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/56d81e9d78bcd744fdf18040caaab971f730d99b', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}, {'number': 9, 'created': '2018-10-05 13:43:24.000000000', 'files': ['docker/Dockerfile', 'docker/start.sh', 'docker/README.rst', 'docker/notification.yaml.j2', 'docker/health_check.py', 'docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/392b325a73693c3d6b1efe6b3bced0ca0ca3570b', 'message': 'Add tooling for building Docker image\n\nChange-Id: If1023b4c2d19b21feb4de05424af203f89507468\nStory: 2001694\nTask: 23181\n'}]",10,585712,392b325a73693c3d6b1efe6b3bced0ca0ca3570b,28,6,9,16253,,,0,"Add tooling for building Docker image

Change-Id: If1023b4c2d19b21feb4de05424af203f89507468
Story: 2001694
Task: 23181
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/12/585712/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/Dockerfile', 'docker/start.sh', 'docker/README.rst', 'docker/mysql_check.py', 'docker/notification.yaml.j2', 'docker/health_check.py', 'docker/build_image.sh']",7,188c3142f41ce6e6eb16554afe5dfaebbe2a9c93,new_docker_image,"#!/bin/bash # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # TODO(Dobroslaw): move this script to monasca-common/docker folder # and leave here small script to download it and execute using env variables # to minimize code duplication. set -x # Print each script step. set -eo pipefail # Exit the script if any statement returns error. # This script is used for building Docker image with proper labels. # # Example usage: # $ ./build_image.sh <repository_version> <upper_constains_branch> # # To build from master branch (default): # $ ./build_image.sh # To build specific version run this script in the following way: # $ ./build_image.sh stable/queens # Building from specific commit: # $ ./build_image.sh cb7f226 # When building from a tag monasca-common will be used in version available # in upper constraint file: # $ ./build_image.sh 2.5.0 # To build image from Gerrit patch sets that is targeting branch stable/queens: # $ ./build_image.sh refs/changes/51/558751/1 stable/queens [ -z ""$DOCKER_IMAGE"" ] && \ DOCKER_IMAGE=$(\grep DOCKER_IMAGE Dockerfile | cut -f2 -d""="") : ""${REPO_VERSION:=$1}"" [ -z ""$REPO_VERSION"" ] && \ REPO_VERSION=$(\grep REPO_VERSION Dockerfile | cut -f2 -d""="") # Let's stick to more readable version and disable SC2001 here. # shellcheck disable=SC2001 REPO_VERSION_CLEAN=$(echo ""$REPO_VERSION"" | sed 's|/|-|g') [ -z ""$APP_REPO"" ] && APP_REPO=$(\grep APP_REPO Dockerfile | cut -f2 -d""="") GITHUB_REPO=$(echo ""$APP_REPO"" | sed 's/git.openstack.org/github.com/' | \ sed 's/ssh:/https:/') : ""${CONSTRAINTS_BRANCH:=$2}"" [ -z ""$CONSTRAINTS_BRANCH"" ] && \ CONSTRAINTS_BRANCH=$(\grep CONSTRAINTS_BRANCH Dockerfile | cut -f2 -d""="") # When using stable version of repository use same stable constraints file. case ""$REPO_VERSION"" in *stable*) CONSTRAINTS_BRANCH_CLEAN=""$REPO_VERSION"" ;; *) CONSTRAINTS_BRANCH_CLEAN=""$CONSTRAINTS_BRANCH"" ;; esac # Clone project to temporary directory for getting proper commit number from # branches and tags. We need this for setting proper image labels. # Docker does not allow to get any data from inside of system when building # image. TMP_DIR=$(mktemp -d) ( cd ""$TMP_DIR"" # This many steps are needed to support gerrit patch sets. git init git remote add origin ""$APP_REPO"" git fetch origin ""$REPO_VERSION"" git reset --hard FETCH_HEAD ) GIT_COMMIT=$(git -C ""$TMP_DIR"" rev-parse FETCH_HEAD) [ -z ""${GIT_COMMIT}"" ] && echo ""No git commit hash found"" && exit 1 rm -rf ""$TMP_DIR"" # TODO(Dobroslaw): find a way to set label monasca-common with version # we will be using with app. CREATION_TIME=$(date -u +""%Y-%m-%dT%H:%M:%SZ"") # Docker tags don't like colons so use shorter version of ISO 8601 for them. CREATION_TIME_SHORT=$(date -d ""$CREATION_TIME"" -u +""%Y%m%dT%H%M%SZ"") docker build --no-cache \ --build-arg CREATION_TIME=""$CREATION_TIME"" \ --build-arg GITHUB_REPO=""$GITHUB_REPO"" \ --build-arg APP_REPO=""$APP_REPO"" \ --build-arg REPO_VERSION=""$REPO_VERSION"" \ --build-arg GIT_COMMIT=""$GIT_COMMIT"" \ --build-arg CONSTRAINTS_BRANCH=""$CONSTRAINTS_BRANCH_CLEAN"" \ --tag ""$DOCKER_IMAGE"":""$REPO_VERSION_CLEAN"" \ --tag ""$DOCKER_IMAGE"":""$REPO_VERSION_CLEAN""-""$CREATION_TIME_SHORT"" . ",,484,0
openstack%2Fmonasca-specs~master~I59f3effcdba39199d61d70a201d8e760840d3627,openstack/monasca-specs,master,I59f3effcdba39199d61d70a201d8e760840d3627,Upgrade Apache Kafka client,MERGED,2018-09-10 13:06:04.000000000,2018-10-06 06:56:31.000000000,2018-10-06 06:56:31.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-09-10 13:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/7b87c65970f8dfcd606d2674fe0180e243a7bc52', 'message': 'Upgrade Apache Kafka client\n\nCurrently in all Python Monasca components the copy of `kafka-python`\nlibrary in version 0.9.5 (released on Feb 16, 2016) is used. This\nspecification describes the process of upgrading the Apache Kafka client\nto `confluent-kafka-python`. This will improve the performance and\nreliability. Sticking with the old frozen client version is also\nunacceptable in terms of security.\n\nChange-Id: I59f3effcdba39199d61d70a201d8e760840d3627\nStory: 2003705\nTask: 26360\n'}, {'number': 2, 'created': '2018-10-02 12:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/4e139a442ea3cecad0755e4933e85b4fb785e97c', 'message': 'Upgrade Apache Kafka client\n\nCurrently in all Python Monasca components the copy of `kafka-python`\nlibrary in version 0.9.5 (released on Feb 16, 2016) is used. This\nspecification describes the process of upgrading the Apache Kafka client\nto `confluent-kafka-python`. This will improve the performance and\nreliability. Sticking with the old frozen client version is also\nunacceptable in terms of security.\n\nChange-Id: I59f3effcdba39199d61d70a201d8e760840d3627\nStory: 2003705\nTask: 26360\n'}, {'number': 3, 'created': '2018-10-02 12:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/da39536108da07df1905ecd2229bf416fbf52d93', 'message': 'Upgrade Apache Kafka client\n\nCurrently in all Python Monasca components the copy of `kafka-python`\nlibrary in version 0.9.5 (released on Feb 16, 2016) is used. This\nspecification describes the process of upgrading the Apache Kafka client\nto `confluent-kafka-python`. This will improve the performance and\nreliability. Sticking with the old frozen client version is also\nunacceptable in terms of security.\n\nChange-Id: I59f3effcdba39199d61d70a201d8e760840d3627\nStory: 2003705\nTask: 26360\n'}, {'number': 4, 'created': '2018-10-04 11:36:23.000000000', 'files': ['doc/source/specs/stein/index.rst', 'doc/source/index.rst', 'doc/source/specs/stein/template.rst', 'doc/source/specs/stein/approved', 'doc/source/specs/stein/implemented', 'specs/stein/approved/upgrade-kafka-client.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/a4674a5e7f606898d568c5391a56d28f2350b447', 'message': 'Upgrade Apache Kafka client\n\nCurrently in all Python Monasca components the copy of `kafka-python`\nlibrary in version 0.9.5 (released on Feb 16, 2016) is used. This\nspecification describes the process of upgrading the Apache Kafka client\nto `confluent-kafka-python`. This will improve the performance and\nreliability. Sticking with the old frozen client version is also\nunacceptable in terms of security.\n\nChange-Id: I59f3effcdba39199d61d70a201d8e760840d3627\nStory: 2003705\nTask: 26360\n'}]",0,601268,a4674a5e7f606898d568c5391a56d28f2350b447,15,6,4,16222,,,0,"Upgrade Apache Kafka client

Currently in all Python Monasca components the copy of `kafka-python`
library in version 0.9.5 (released on Feb 16, 2016) is used. This
specification describes the process of upgrading the Apache Kafka client
to `confluent-kafka-python`. This will improve the performance and
reliability. Sticking with the old frozen client version is also
unacceptable in terms of security.

Change-Id: I59f3effcdba39199d61d70a201d8e760840d3627
Story: 2003705
Task: 26360
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/68/601268/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stein-template.rst', 'specs/stein/approved/upgrade-kafka-client.rst']",2,7b87c65970f8dfcd606d2674fe0180e243a7bc52,601268,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Upgrade Apache Kafka client =========================== Include the URL of your story: https://storyboard.openstack.org/#!/story/2003705 Currently in all Python Monasca components the copy of `kafka-python` library in version 0.9.5 (released on Feb 16, 2016) is used [1]_. This specification describes the process of upgrading the Apache Kafka client to `confluent-kafka-python` [2]_. This will improve the performance and reliability. Sticking with the old frozen client version is also unacceptable in terms of security. Problem description =================== The use of `KeyedProducer` and `SimpleConsumer` in `kafka-python` library has been deprecated as of version 1.0.0 [3]_. Further use of this code poses a security risk. Additionally, the profiling of `monasca-persister` has shown that most of the time is spent during the consumption of Kafka messages (TODO: add source). Thus, there is a big potential on improving overall Monasca performance by upgrading the used Kafka client. Proposed change =============== The wiki page hosted by Apache Software Foundation lists available Python clients [4]_. There are currently three actively maintained and supported clients: `confluent-kafka-python`, `kafka-python` and `pykafka`. Several benchmarks have shown [5]_, [6]_ that the client maintained by Confluent is both the fastest and most complete. There is significant performance improvement when using asynchronous producer (~50x). Sending messages asynchronously will require more care to avoid duplicating the persisted data but performance gain justifies that. `confluent-kafka-python` is also the only client which offers support for Apache Avro serialization which reduces the size of messages and thus additionally speeds up communication. The proposed change includes using: * `confluent-kafka-python` library * in asynchronous mode Code changes will affect following components: * monasca-common * monasca-{log,event}-api * monasca-persister * monasca-notification * monasca-transform Java components (`monasca-thresh` and `monasca-persister`) are out of scope of this specification. Client upgrading in these components should be handled separately. This client has an external dependency on `librdkafka`, a finely tuned C client. Alternatives ------------ * `pykafka` * new version of `kafka-python` * use synchronous mode Data model impact ----------------- No data model impact. REST API impact --------------- No REST API impact. Security impact --------------- This change will improve the security because of removing the deprecated and unmaintained code. Other end user impact --------------------- No end user impact. Performance Impact ------------------ This change should dramatically improve the performance of the complete solution. In particular performance of `monasca-persister` and `monasca-api` is expected to improve. Other deployer impact --------------------- New libraries should be packaged and deployed: * `confluent-kafka-python` * `librdkafka` Developer impact ---------------- Implementation ============== Assignee(s) ----------- Primary assignee: witek Other contributors: <launchpad-id or None> Work Items ---------- * add `confluent-kafka-python` to global-requirements * implement common routines in `monasca-common` * use new code in: * monasca-{log,events}-api * monasca-persister * monasca-notification * monasca-transform * delete old deprecated code Dependencies ============ New packages have to be build for: * `confluent-kafka-python` * `librdkafka` Testing ======= We should test the implementation using existing integration tests (tempest). Additionally we should test the scenario when the producer fails to receive response from Kafka for some of the messages in the bulk. It should be avoided that duplicate entries are created in the database. The implantation should be followed by executing following tests on the complete stack: * stress * endurance * performance Documentation Impact ==================== No documentation impact. References ========== .. [1] https://github.com/dpkp/kafka-python/releases/tag/v0.9.5 .. [2] https://github.com/confluentinc/confluent-kafka-python .. [3] https://github.com/dpkp/kafka-python/blob/master/docs/changelog.rst#100-feb-15-2016 .. [4] https://cwiki.apache.org/confluence/display/KAFKA/Clients#Clients-Python .. [5] https://github.com/monasca/monasca-perf/blob/master/kafka_python_client_perf/monascaInvestigationKafkaPythonAPIs.md .. [6] http://activisiongamescience.github.io/2016/06/15/Kafka-Client-Benchmarking/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced ",,538,0
openstack%2Fopenstack-helm-infra~master~Ica30950a8200f5755897b51fd2b4d24c69a10e61,openstack/openstack-helm-infra,master,Ica30950a8200f5755897b51fd2b4d24c69a10e61,Gate: Move to K8s 1.10.8,MERGED,2018-10-05 12:45:03.000000000,2018-10-06 06:30:08.000000000,2018-10-06 06:30:08.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 12:45:03.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19376ee9e625a714473adce932f2b2ea21cfb391', 'message': 'Gate: Move to K8s 1.10.8\n\nThis PS moves to use k8s 1.10.8, which includes a couple of fixes\nfor PVC mounts.\n\n* https://github.com/kubernetes/kubernetes/pull/66863\n\nChange-Id: Ica30950a8200f5755897b51fd2b4d24c69a10e61\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,608255,19376ee9e625a714473adce932f2b2ea21cfb391,9,3,1,23928,,,0,"Gate: Move to K8s 1.10.8

This PS moves to use k8s 1.10.8, which includes a couple of fixes
for PVC mounts.

* https://github.com/kubernetes/kubernetes/pull/66863

Change-Id: Ica30950a8200f5755897b51fd2b4d24c69a10e61
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/608255/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml']",2,19376ee9e625a714473adce932f2b2ea21cfb391,k8s/version, kubernetes: v1.10.8, kubernetes: v1.10.7,2,2
openstack%2Fopenstack-helm-infra~master~Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1,openstack/openstack-helm-infra,master,Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1,[DNM] impatient,ABANDONED,2018-10-03 15:13:09.000000000,2018-10-06 05:50:55.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 15:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/759d9ce85e1e048cbf1fdc5cc97748132bcaaed3', 'message': '[DNM] impatient\n\nChange-Id: Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1\n'}, {'number': 2, 'created': '2018-10-05 02:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee50a80b83692b24f531d7d07fdc9c49a3fa82d3', 'message': '[DNM] impatient\n\nChange-Id: Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1\n'}, {'number': 3, 'created': '2018-10-05 14:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5466fad00256dd64e50f8ebd78dc9217ac17f739', 'message': '[DNM] impatient\n\nChange-Id: Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1\n'}, {'number': 4, 'created': '2018-10-05 21:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a7daac0f50273eeaf101defc94c40ef4c8bba74d', 'message': '[DNM] impatient\n\nChange-Id: Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1\n'}, {'number': 5, 'created': '2018-10-06 03:53:12.000000000', 'files': ['tools/deployment/developer/common/110-nagios.sh', 'tools/deployment/developer/common/100-grafana.sh', 'tools/deployment/developer/common/130-fluent-logging.sh', 'tools/deployment/developer/common/050-prometheus.sh', 'tools/deployment/common/040-ldap.sh', 'tools/deployment/developer/nfs/120-elasticsearch.sh', 'tools/deployment/developer/nfs/020-ingress.sh', 'tools/deployment/common/090-process-exporter.sh', 'tools/deployment/developer/common/060-alertmanager.sh', 'tools/deployment/common/070-kube-state-metrics.sh', 'tools/deployment/common/080-node-exporter.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee68f196302e5146e74f2880f84d596d237667e6', 'message': '[DNM] impatient\n\nChange-Id: Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1\n'}]",0,607612,ee68f196302e5146e74f2880f84d596d237667e6,22,2,5,8898,,,0,"[DNM] impatient

Change-Id: Ied444c2f2e755a8e2f82e6ac498236a68fa6fda1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/607612/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/common/110-nagios.sh', 'tools/deployment/developer/common/100-grafana.sh', 'tools/deployment/developer/common/130-fluent-logging.sh', 'tools/deployment/developer/common/050-prometheus.sh', 'tools/deployment/common/040-ldap.sh', 'tools/deployment/developer/nfs/120-elasticsearch.sh', 'tools/deployment/developer/nfs/020-ingress.sh', 'tools/deployment/common/070-kube-state-metrics.sh', 'tools/deployment/common/080-node-exporter.sh', 'tools/deployment/common/090-process-exporter.sh', 'tools/deployment/developer/common/060-alertmanager.sh']",11,759d9ce85e1e048cbf1fdc5cc97748132bcaaed3,cheetah-blood,, #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh osh-infra #NOTE: Validate Deployment info helm status prometheus-alertmanager,0,66
openstack%2Fopenstack-helm-infra~master~I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13,openstack/openstack-helm-infra,master,I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13,fix tox python3 overrides,MERGED,2018-09-29 23:52:25.000000000,2018-10-06 05:16:18.000000000,2018-10-06 05:16:18.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-09-29 23:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ed4741599576a810878723cda209cd75904baad', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-01 06:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a2d3b50970488b936f108021209438c61b641fd', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-10-05 16:19:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3641940dc545b7f6f62337ff763a98fa8c0ade4', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606688,e3641940dc545b7f6f62337ff763a98fa8c0ade4,20,4,3,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I2ced79bfdfb8dd17f966fdf985e06b2f835cfa13
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/606688/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ed4741599576a810878723cda209cd75904baad,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Fpython-karborclient~master~I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed,openstack/python-karborclient,master,I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed,Remove PyPI downloads,MERGED,2018-06-07 14:43:55.000000000,2018-10-06 05:08:00.000000000,2018-10-06 05:08:00.000000000,"[{'_account_id': 17151}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-07 14:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/e0cd79ab989b7825151a723fdbd912205372c90d', 'message': 'Remove PyPI downloads\n\nAccording to official site,\nhttps://packaging.python.org/guides/analyzing-pypi-package-downloads/\nPyPI package download statistics is no longer maintained and thus\nshould be removed.\n\nChange-Id: I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed\n'}, {'number': 2, 'created': '2018-10-06 02:45:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/db689c650fb8bad7eddaa6595024b16c65896b93', 'message': 'Remove PyPI downloads\n\nAccording to official site,\nhttps://packaging.python.org/guides/analyzing-pypi-package-downloads/\nPyPI package download statistics is no longer maintained and thus\nshould be removed.\n\nChange-Id: I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed\n'}]",0,573267,db689c650fb8bad7eddaa6595024b16c65896b93,10,4,2,25562,,,0,"Remove PyPI downloads

According to official site,
https://packaging.python.org/guides/analyzing-pypi-package-downloads/
PyPI package download statistics is no longer maintained and thus
should be removed.

Change-Id: I0cdc7bdfa4a8c36d57a2c0f5391a7e8c53925fed
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/67/573267/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e0cd79ab989b7825151a723fdbd912205372c90d,remove_pypi_downloads,,.. image:: https://img.shields.io/pypi/dm/python-karborclient.svg :target: https://pypi.org/project/python-karborclient/ :alt: Downloads ,0,4
openstack%2Fmurano-dashboard~master~Ic056a9b0fa7749ea55392993f26a5e9120463404,openstack/murano-dashboard,master,Ic056a9b0fa7749ea55392993f26a5e9120463404,TEST,ABANDONED,2018-10-06 02:34:52.000000000,2018-10-06 04:27:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-06 02:34:52.000000000', 'files': ['muranodashboard/middleware.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/7f7af01b64926aebd551c8c76ac2ee0db5222e76', 'message': 'TEST\n\nChange-Id: Ic056a9b0fa7749ea55392993f26a5e9120463404\n'}]",0,608392,7f7af01b64926aebd551c8c76ac2ee0db5222e76,3,1,1,14107,,,0,"TEST

Change-Id: Ic056a9b0fa7749ea55392993f26a5e9120463404
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/92/608392/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/middleware.py'],1,7f7af01b64926aebd551c8c76ac2ee0db5222e76,,,,1,0
openstack%2Fopenstack-helm~master~Ie3b1d7a7528cb7b09af25e9d46831853bb650c97,openstack/openstack-helm,master,Ie3b1d7a7528cb7b09af25e9d46831853bb650c97,Switch to the latest Configuration Guide,MERGED,2018-09-15 19:18:41.000000000,2018-10-06 04:17:00.000000000,2018-10-06 04:16:59.000000000,"[{'_account_id': 6547}, {'_account_id': 8898}, {'_account_id': 17765}, {'_account_id': 20156}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-15 19:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e0bf98ef15e7acd818c6a0e20febb49d3abb9ff', 'message': 'Switch to the Rocky Configuration Guide\n\nChange-Id: Ie3b1d7a7528cb7b09af25e9d46831853bb650c97\n'}, {'number': 2, 'created': '2018-09-21 13:08:29.000000000', 'files': ['doc/source/install/multinode.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef3165076c87c703c10b564e570452ad91923183', 'message': 'Switch to the latest Configuration Guide\n\nDepends-On: https://review.openstack.org/#/c/602883/\n\nChange-Id: Ie3b1d7a7528cb7b09af25e9d46831853bb650c97\n'}]",0,602882,ef3165076c87c703c10b564e570452ad91923183,15,6,2,17765,,,0,"Switch to the latest Configuration Guide

Depends-On: https://review.openstack.org/#/c/602883/

Change-Id: Ie3b1d7a7528cb7b09af25e9d46831853bb650c97
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/82/602882/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/multinode.rst'],1,2e0bf98ef15e7acd818c6a0e20febb49d3abb9ff,,OpenStack `Configuration <https://docs.openstack.org/rocky/configuration/>`_,OpenStack `Configuration <https://docs.openstack.org/queens/configuration/>`_,1,1
openstack%2Fmurano-dashboard~master~I62dae5d1218f2308a449ce58f7e93832195699e3,openstack/murano-dashboard,master,I62dae5d1218f2308a449ce58f7e93832195699e3,Imported Translations from Zanata,MERGED,2018-09-29 03:37:03.000000000,2018-10-06 02:49:35.000000000,2018-10-06 02:49:35.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 03:37:03.000000000', 'files': ['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/25dae5edf855085f91bd4d5355d948c6f23e8fd0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I62dae5d1218f2308a449ce58f7e93832195699e3\n'}]",0,606243,25dae5edf855085f91bd4d5355d948c6f23e8fd0,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I62dae5d1218f2308a449ce58f7e93832195699e3
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/43/606243/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'],1,25dae5edf855085f91bd4d5355d948c6f23e8fd0,zanata/translations,"""Project-Id-Version: murano-dashboard\n""""POT-Creation-Date: 2018-09-10 02:39+0000\n""""PO-Revision-Date: 2018-09-17 01:14+0000\n""msgid ""Rocky Series Release Notes"" msgstr ""Rocky Serie Releasenotes"" ","""Project-Id-Version: Murano Dashboard Release Notes\n""""POT-Creation-Date: 2018-03-20 03:52+0000\n""""PO-Revision-Date: 2018-03-20 02:31+0000\n""",6,3
openstack%2Fyaql~master~I21480026e566b3a312d34f7e446c6ef29593feff,openstack/yaql,master,I21480026e566b3a312d34f7e446c6ef29593feff,fix tox python3 overrides,MERGED,2018-06-09 17:17:13.000000000,2018-10-06 02:48:46.000000000,2018-10-06 02:48:46.000000000,"[{'_account_id': 14107}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-09 17:17:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/yaql/commit/fe4cdefd6f7fe651691610547e5a4d7eb057c8cc', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I21480026e566b3a312d34f7e446c6ef29593feff\n'}]",0,574036,fe4cdefd6f7fe651691610547e5a4d7eb057c8cc,7,3,1,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I21480026e566b3a312d34f7e446c6ef29593feff
",git fetch https://review.opendev.org/openstack/yaql refs/changes/36/574036/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fe4cdefd6f7fe651691610547e5a4d7eb057c8cc,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Fsolum-specs~master~Ibd4c522c499dc740f69fd65fb25b589525e099d0,openstack/solum-specs,master,Ibd4c522c499dc740f69fd65fb25b589525e099d0,fix tox python3 overrides,MERGED,2018-09-29 23:53:51.000000000,2018-10-06 02:28:10.000000000,2018-10-06 02:28:10.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:53:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum-specs/commit/78dc891556693401a53de5cfd6997c6ef4bcaf32', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ibd4c522c499dc740f69fd65fb25b589525e099d0\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606721,78dc891556693401a53de5cfd6997c6ef4bcaf32,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ibd4c522c499dc740f69fd65fb25b589525e099d0
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/solum-specs refs/changes/21/606721/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,78dc891556693401a53de5cfd6997c6ef4bcaf32,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Fmurano-specs~master~Id58d48b4d42bd4bef006d866942bd01b945dca71,openstack/murano-specs,master,Id58d48b4d42bd4bef006d866942bd01b945dca71,fix tox python3 overrides,MERGED,2018-09-29 23:51:27.000000000,2018-10-06 02:26:21.000000000,2018-10-06 02:26:21.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:51:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/8eda2a0047a9a4fbe6f1a8055a92f873f69bc662', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Id58d48b4d42bd4bef006d866942bd01b945dca71\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606669,8eda2a0047a9a4fbe6f1a8055a92f873f69bc662,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Id58d48b4d42bd4bef006d866942bd01b945dca71
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/murano-specs refs/changes/69/606669/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8eda2a0047a9a4fbe6f1a8055a92f873f69bc662,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Fmurano-apps~master~Ibb9d71afe0b9d23b5080af89f64a3acba73b4dcc,openstack/murano-apps,master,Ibb9d71afe0b9d23b5080af89f64a3acba73b4dcc,fix tox python3 overrides,MERGED,2018-09-29 23:51:24.000000000,2018-10-06 02:22:43.000000000,2018-10-06 02:22:43.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:51:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-apps/commit/f9e43a6c2a03fb1cb4dbbc3e304589d7ae4d18e1', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ibb9d71afe0b9d23b5080af89f64a3acba73b4dcc\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606668,f9e43a6c2a03fb1cb4dbbc3e304589d7ae4d18e1,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ibb9d71afe0b9d23b5080af89f64a3acba73b4dcc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/murano-apps refs/changes/68/606668/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f9e43a6c2a03fb1cb4dbbc3e304589d7ae4d18e1,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Ftripleo-heat-templates~master~Ied81ed342dbeb026225b01aeed66aca7411b3555,openstack/tripleo-heat-templates,master,Ied81ed342dbeb026225b01aeed66aca7411b3555,Fix error in Tenant network routes definition,MERGED,2018-09-24 13:42:15.000000000,2018-10-06 02:10:20.000000000,2018-10-06 02:04:11.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-24 13:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4664048eb14c35d520cedd225c7ad7bd769881fe', 'message': ""Fix error in Tenant network routes definition\n\nDeploying with network_data_routed.yaml is throwing\n'Unknown Property ip_netmask' for the Tenant network routes.\nFix the network_data_routed.yaml definition to use the\nright keys for the route definition.\n\nChange-Id: Ied81ed342dbeb026225b01aeed66aca7411b3555\n""}, {'number': 2, 'created': '2018-09-24 14:03:26.000000000', 'files': ['network_data_routed.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00652b65960b34ae101a0e4152dec1dd40093d1d', 'message': ""Fix error in Tenant network routes definition\n\nDeploying with network_data_routed.yaml is throwing\n'Unknown Property ip_netmask' for the Tenant network routes.\nFix the network_data_routed.yaml definition to use the\nright keys for the route definition.\n\nChange-Id: Ied81ed342dbeb026225b01aeed66aca7411b3555\n""}]",0,604784,00652b65960b34ae101a0e4152dec1dd40093d1d,29,8,2,18575,,,0,"Fix error in Tenant network routes definition

Deploying with network_data_routed.yaml is throwing
'Unknown Property ip_netmask' for the Tenant network routes.
Fix the network_data_routed.yaml definition to use the
right keys for the route definition.

Change-Id: Ied81ed342dbeb026225b01aeed66aca7411b3555
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/604784/2 && git format-patch -1 --stdout FETCH_HEAD,['network_data_routed.yaml'],1,4664048eb14c35d520cedd225c7ad7bd769881fe,fix_tenant_routes," routes: [{'destination':'172.16.0.0/20', 'next_hop':'172.16.0.1'}]"," routes: [{'ip_netmask':'172.16.0.0/20', 'next_hop':'172.16.0.1'}]",1,1
openstack%2Ftripleo-quickstart-extras~master~I00e2f9b7755b7e32b7ed20b482d851aacb17464e,openstack/tripleo-quickstart-extras,master,I00e2f9b7755b7e32b7ed20b482d851aacb17464e,Add podman support for log collection,MERGED,2018-09-25 14:24:08.000000000,2018-10-06 01:58:51.000000000,2018-10-06 01:58:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-09-25 14:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6605789c7e2f6bfd6722e18a1494a31fa48e1f5c', 'message': 'Added podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 2, 'created': '2018-09-25 14:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a37179b5f1fe9377431ea63153a7830f9f550a34', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 3, 'created': '2018-09-25 14:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/182bb5d55ec665b53b1f1b4e40260f5abee535f2', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 4, 'created': '2018-09-26 13:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f33f97b0d80cefd559357381da74069587e5a9f6', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 5, 'created': '2018-09-29 00:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/00cbf4ae6a7f88e28e9f075e61b2eca6214dc2da', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 6, 'created': '2018-09-29 13:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dc8d028e6ff0b6f2303dcb9d8d12975308a75ac0', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 7, 'created': '2018-10-01 22:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d212a8682dfe9522cead1de9760a621349be3482', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 8, 'created': '2018-10-02 01:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24fb51ab233ee482d451df4d03d1fd1196c94763', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 9, 'created': '2018-10-02 12:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e660c82752f2f883fd15eecc1438e9c40c85dead', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 10, 'created': '2018-10-03 10:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ba3b0d6ab961bf13a95bd8f5cf4f8650d7fa8881', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}, {'number': 11, 'created': '2018-10-05 12:20:13.000000000', 'files': ['roles/collect-logs/tasks/collect.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/47914f502de34d48baf547c9f43121208d8f9862', 'message': 'Add podman support for log collection\n\nWe want to ensure we get all the logs we want, from both docker\nand podman engines, even if we get some mixed environment for\nsome reason.\n\nChange-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e\n'}]",0,605090,47914f502de34d48baf547c9f43121208d8f9862,91,8,11,28223,,,0,"Add podman support for log collection

We want to ensure we get all the logs we want, from both docker
and podman engines, even if we get some mixed environment for
some reason.

Change-Id: I00e2f9b7755b7e32b7ed20b482d851aacb17464e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/90/605090/10 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect-logs/tasks/collect.yml'],1,6605789c7e2f6bfd6722e18a1494a31fa48e1f5c,podman/collect-logs," register: odl_container_enabled - name: check if ODL is enabled via podman shell: podman ps | grep opendaylight_api register: odl_container_enabled when: odl_container_enabled.rc != 0 when: (odl_rpm_enabled.rc == 0) or (odl_container_enabled.rc == 0) when: (odl_rpm_enabled.rc == 0) or (odl_container_enabled.rc == 0) - name: Collect container info and logs for engine in docker podman; do if [ $engine = 'docker' ]; then (command -v docker && systemctl is-active docker) || continue fi if [ $engine == 'podman' ]; then command -v podman || continue fi BASE_CONTAINER_EXTRA=/var/log/extra/${engine}; mkdir -p $BASE_CONTAINER_EXTRA; ALL_FILE=$BASE_CONTAINER_EXTRA/${engine}_allinfo.log; CONTAINER_INFO_CMDS=( ""${engine} ps --all --size"" ""${engine} images"" ""${engine} stats --all --no-stream"" ""${engine} info"" if [ $engine = 'docker' ]; then DOCKER_INFO_CMDS+=(""${engine} volume ls"") fi INFO_DIR=$BASE_CONTAINER_EXTRA/containers/${cont}; CONTAINER_CONT_INFO_CMDS=( ""${engine} top $cont auxw"" ""${engine} exec $cont top -bwn1"" ""${engine} exec $cont yum list installed"" ""${engine} inspect $cont"" for cmd in ""${CONTAINER_CONT_INFO_CMDS[@]}""; do ${engine} logs $cont &> $INFO_DIR/stdout.log; ${engine} cp $cont:/var/lib/kolla/config_files/config.json $INFO_DIR/config.json; if ! ${engine} exec $cont stat $BASE_CONTAINER_EXTRA 2>1 > /dev/null; then ${engine} cp $cont:/var/log $INFO_DIR/log; # NOTE(flaper87) Copy contents from the logs volume. We can expect this # volume to exist in a containerized environment. if [ $engine = 'docker' ]; then cp -r /var/lib/docker/volumes/logs/_data $BASE_CONTAINER_EXTRA/logs; fi done"," register: odl_docker_enabled when: (odl_rpm_enabled.rc == 0) or (odl_docker_enabled.rc == 0) when: (odl_rpm_enabled.rc == 0) or (odl_docker_enabled.rc == 0) - name: Collect docker info and logs if command -v docker && systemctl is-active docker; then BASE_DOCKER_EXTRA=/var/log/extra/docker; mkdir -p $BASE_DOCKER_EXTRA; ALL_FILE=$BASE_DOCKER_EXTRA/docker_allinfo.log; DOCKER_INFO_CMDS=( ""docker ps --all --size"" ""docker images"" ""docker volume ls"" ""docker stats --all --no-stream"" ""docker info"" INFO_DIR=$BASE_DOCKER_EXTRA/containers/${cont}; DOCKER_CONTAINER_INFO_CMDS=( ""docker top $cont auxw"" ""docker exec $cont top -bwn1"" ""docker exec $cont yum list installed"" ""docker inspect $cont"" for cmd in ""${DOCKER_CONTAINER_INFO_CMDS[@]}""; do docker logs $cont &> $INFO_DIR/stdout.log; docker cp $cont:/var/lib/kolla/config_files/config.json $INFO_DIR/config.json; if ! docker exec $cont stat $BASE_DOCKER_EXTRA 2>1 > /dev/null; then docker cp $cont:/var/log $INFO_DIR/log; # NOTE(flaper87) Copy contents from the logs volume. We can expect this # volume to exist in a containerized environment. cp -r /var/lib/docker/volumes/logs/_data $BASE_DOCKER_EXTRA/logs; fi",48,29
openstack%2Ftripleo-heat-templates~master~I32993c6dfbd561c16ef1fdce508bf899aff1d940,openstack/tripleo-heat-templates,master,I32993c6dfbd561c16ef1fdce508bf899aff1d940,Ensure ceph-ansible source directory is present,MERGED,2018-10-04 21:15:01.000000000,2018-10-06 01:34:25.000000000,2018-10-06 01:34:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-04 21:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8554a87e832d733af81809d28d57f38e1ce93ac', 'message': ""Ensure ceph-ansible source directory is present\n\nDocker doesn't complain when a directory doesn't exist\nin a bind mount, while Podman does complain. Ensure the\ndirectory is present in the mistral-executor container\nhost prep tasks.\n\nChange-Id: I32993c6dfbd561c16ef1fdce508bf899aff1d940\nFixes-Bug: #1796188\n""}, {'number': 2, 'created': '2018-10-05 19:40:58.000000000', 'files': ['docker/services/mistral-executor.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/977de9821b8e3f725bb070795a51550d444a2b42', 'message': ""Ensure ceph-ansible source directory is present\n\nDocker doesn't complain when a directory doesn't exist\nin a bind mount, while Podman does complain. Ensure the\ndirectory is present in the mistral-executor container\nhost prep tasks.\n\nChange-Id: I32993c6dfbd561c16ef1fdce508bf899aff1d940\nFixes-Bug: #1796188\n""}]",1,608086,977de9821b8e3f725bb070795a51550d444a2b42,20,6,2,18002,,,0,"Ensure ceph-ansible source directory is present

Docker doesn't complain when a directory doesn't exist
in a bind mount, while Podman does complain. Ensure the
directory is present in the mistral-executor container
host prep tasks.

Change-Id: I32993c6dfbd561c16ef1fdce508bf899aff1d940
Fixes-Bug: #1796188
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/608086/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/mistral-executor.yaml'],1,a8554a87e832d733af81809d28d57f38e1ce93ac,bug/1796188, - name: create ceph-ansible source directory file: path: /usr/share/ceph-ansible state: directory setype: svirt_sandbox_file_t,,5,0
openstack%2Fcinder~stable%2Fqueens~I8bb312a4311205c78b0ca50e3abf366a9974949f,openstack/cinder,stable/queens,I8bb312a4311205c78b0ca50e3abf366a9974949f,nimble storage: retype support,MERGED,2018-10-02 17:39:39.000000000,2018-10-06 01:33:01.000000000,2018-10-03 20:57:56.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 16668}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-02 17:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/14418ca3d83905688606fe7b95c0af34f0172abb', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n- update the provider location for fetching the\ncorrect discovery ip for volume discovery\n- prevent failures on snap deletetion / offline\n  as they could already be in those states\n\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n(cherry picked from commit fb17168c26dc5cc8f14d7f7395d55f7231ad5321)\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n\nConflicts:\n\tcinder/volume/drivers/nimble.py\n\nChange-Id: I8bb312a4311205c78b0ca50e3abf366a9974949f\n'}, {'number': 2, 'created': '2018-10-02 17:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3f2a8861016c3169f4ce82f17000da2bd8e70e5', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n- update the provider location for fetching the\ncorrect discovery ip for volume discovery\n- prevent failures on snap deletetion / offline\n  as they could already be in those states\n\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n(cherry picked from commit fb17168c26dc5cc8f14d7f7395d55f7231ad5321)\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n\nChange-Id: I8bb312a4311205c78b0ca50e3abf366a9974949f\n'}, {'number': 3, 'created': '2018-10-02 17:40:41.000000000', 'files': ['cinder/volume/drivers/nimble.py', 'releasenotes/notes/nimble-retype-support-18f717072948ba6d.yaml', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecb06ef6fc8403140639a2c1b0fac49bf2c7480d', 'message': 'nimble storage: retype support\n\nretype support between 2 nimble backends with and\nwithout migration\n- update the provider location for fetching the\ncorrect discovery ip for volume discovery\n- prevent failures on snap deletetion / offline\n  as they could already be in those states\n\nCloses-Bug: #1790907\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n(cherry picked from commit fb17168c26dc5cc8f14d7f7395d55f7231ad5321)\n\nChange-Id: I8bb312a4311205c78b0ca50e3abf366a9974949f\nSigned-off-by: Raunak Kumar <rkumar@nimblestorage.com>\n'}]",1,607331,ecb06ef6fc8403140639a2c1b0fac49bf2c7480d,35,24,3,16668,,,0,"nimble storage: retype support

retype support between 2 nimble backends with and
without migration
- update the provider location for fetching the
correct discovery ip for volume discovery
- prevent failures on snap deletetion / offline
  as they could already be in those states

Closes-Bug: #1790907
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
(cherry picked from commit fb17168c26dc5cc8f14d7f7395d55f7231ad5321)

Change-Id: I8bb312a4311205c78b0ca50e3abf366a9974949f
Signed-off-by: Raunak Kumar <rkumar@nimblestorage.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/607331/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nimble.py', 'releasenotes/notes/nimble-retype-support-18f717072948ba6d.yaml', 'cinder/tests/unit/volume/drivers/test_nimble.py']",3,14418ca3d83905688606fe7b95c0af34f0172abb,bug/1790907,"FAKE_TYPE_ID_NEW = fake.VOLUME_TYPE2_ID return_value=['', ''])) return_value=['', ''])) expected_calls = [ mock.call.login(), mock.call.online_vol('testvolume', False), return_value={ 'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes', 'nimble:multi-initiator': 'false', 'nimble:iops-limit': '1024'})) @mock.patch.object(volume_types, 'get_volume_type', mock.Mock(type_id=FAKE_TYPE_ID_NEW, return_value={ 'id': FAKE_TYPE_ID_NEW, 'extra_specs': {'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes', 'nimble:multi-initiator': 'false', 'nimble:iops-limit': '1024'}})) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( 'nimble', 'nimble_pass', '10.18.108.55', 'default', '*')) def test_retype(self): self.mock_client_service.get_vol_info.return_value = ( FAKE_GET_VOL_INFO_ONLINE) retype, update = self.driver.retype(None, FAKE_GET_VOL_INFO_ONLINE, volume_types.get_volume_type( None, FAKE_TYPE_ID_NEW), None, None) self.assertTrue(retype) self.assertIsNone(update) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) 'target_discovered': False, @mock.patch(NIMBLE_ISCSI_DRIVER + '._get_data_ips') @mock.patch(NIMBLE_ISCSI_DRIVER + "".get_lun_number"") @mock.patch(NIMBLE_ISCSI_DRIVER + '._get_gst_for_group') def test_initialize_connection_group_scoped_target(self, mock_gst_name, mock_lun_number, mock_data_ips): mock_data_ips.return_value = ['12', '13'] mock_lun_number.return_value = 0 mock_gst_name.return_value = ""group_target_name"" self.mock_client_service.get_initiator_grp_list.return_value = ( FAKE_IGROUP_LIST_RESPONSE) expected_res = { 'driver_volume_type': 'iscsi', 'data': { 'target_discovered': False, 'volume_id': 12, 'target_iqns': ['group_target_name', 'group_target_name'], 'target_luns': [0, 0], 'target_portals': ['12', '13']}} self.assertEqual( expected_res, self.driver.initialize_connection( {'name': 'test-volume', 'provider_location': '12 group_target_name', 'id': 12}, {'initiator': 'test-initiator1'})) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( 'nimble', 'nimble_pass', '10.18.108.55', 'default', '*')) 'target_discovered': False, 'target_discovered': False,"," return_value = ['', ''])) return_value = ['', ''])) expected_calls = [mock.call.online_vol( 'testvolume', False), return_value= {'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes', 'nimble:multi-initiator': 'false', 'nimble:iops-limit': '1024'}))",249,41
openstack%2Fnetworking-bagpipe~stable%2Focata~I95ce65b27e278c0e9910eada2872bcfb7e807c9c,openstack/networking-bagpipe,stable/ocata,I95ce65b27e278c0e9910eada2872bcfb7e807c9c,import zuul job settings from project-config,MERGED,2018-08-30 00:06:50.000000000,2018-10-06 01:09:36.000000000,2018-10-06 01:09:36.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 8871}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-30 00:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/376716c01d53bc078a9c5252c2ca41096e9a98b5', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I95ce65b27e278c0e9910eada2872bcfb7e807c9c\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-10-04 07:33:32.000000000', 'files': ['tools/tox_install.sh', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f3db339b961f6ce7d1fb5afe81bc213f9053fbf3', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nFix tools/tox_install.sh to work with current OpenStack CI docs job.\n\nChange-Id: I95ce65b27e278c0e9910eada2872bcfb7e807c9c\nStory: #2002586\nTask: #24314\n'}]",0,597908,f3db339b961f6ce7d1fb5afe81bc213f9053fbf3,15,6,2,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Fix tools/tox_install.sh to work with current OpenStack CI docs job.

Change-Id: I95ce65b27e278c0e9910eada2872bcfb7e807c9c
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/08/597908/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,376716c01d53bc078a9c5252c2ca41096e9a98b5,python3-first,- project: templates: - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - publish-openstack-sphinx-docs - release-notes-jobs - check-requirements - periodic-stable-jobs-neutron check: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-pep8: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py27: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py35: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack/networking-sfc - legacy-tempest-dsvm-networking-bagpipe: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-tempest-dsvm-networking-bgpvpn-bagpipe: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ gate: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-pep8: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py27: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py35: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack/networking-sfc - legacy-tempest-dsvm-networking-bagpipe: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-tempest-dsvm-networking-bgpvpn-bagpipe: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ post: jobs: - publish-openstack-python-branch-tarball: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack/networking-sfc periodic: jobs: - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc periodic-stable: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py27: required-projects: - openstack/networking-bgpvpn - openstack/networking-sfc ,,94,0
openstack%2Fopenstack-helm-infra~master~I5097d8893b92d020f7a5a1cb5925dec0b01d4da2,openstack/openstack-helm-infra,master,I5097d8893b92d020f7a5a1cb5925dec0b01d4da2,Libvirt: Fix image,MERGED,2018-10-05 20:42:03.000000000,2018-10-06 00:58:41.000000000,2018-10-06 00:58:41.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-10-05 20:42:03.000000000', 'files': ['tools/images/libvirt/Dockerfile.ubuntu.xenial', 'libvirt/values.yaml', 'tools/images/libvirt/Makefile', 'tools/images/libvirt/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8880d27add6d1a7d1cf8f3b6566f742cdaa4690', 'message': 'Libvirt: Fix image\n\nThis PS fixes the libvirt image, buy removing the ubuntu-cloud\narchive repo and pinning to a good version.\n\nChange-Id: I5097d8893b92d020f7a5a1cb5925dec0b01d4da2\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,608355,f8880d27add6d1a7d1cf8f3b6566f742cdaa4690,9,4,1,23928,,,0,"Libvirt: Fix image

This PS fixes the libvirt image, buy removing the ubuntu-cloud
archive repo and pinning to a good version.

Change-Id: I5097d8893b92d020f7a5a1cb5925dec0b01d4da2
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/608355/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/libvirt/Dockerfile.ubuntu.xenial', 'libvirt/values.yaml', 'tools/images/libvirt/Makefile', 'tools/images/libvirt/README.rst']",4,f8880d27add6d1a7d1cf8f3b6566f742cdaa4690,," LIBVIRT_VERSION=1.3.1-1ubuntu10.24 --build-arg LIBVIRT_VERSION=""${LIBVIRT_VERSION}"" \ -t docker.io/openstackhelm/libvirt:${DISTRO}-${DISTRO_RELEASE}-${LIBVIRT_VERSION} \ sudo docker push docker.io/openstackhelm/libvirt:${DISTRO}-${DISTRO_RELEASE}-${LIBVIRT_VERSION}"," TARGET_OPENSTACK_VERSION=ocata --build-arg TARGET_OPENSTACK_VERSION=""${TARGET_OPENSTACK_VERSION}"" \ -t docker.io/openstackhelm/libvirt:${DISTRO}-${DISTRO_RELEASE}-${TARGET_OPENSTACK_VERSION} \ sudo docker push docker.io/openstackhelm/libvirt:${DISTRO}-${DISTRO_RELEASE}-${TARGET_OPENSTACK_VERSION}",10,12
openstack%2Fironic~master~I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb,openstack/ironic,master,I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb,Fixes a race condition in the hash ring code,MERGED,2018-10-04 11:00:48.000000000,2018-10-06 00:31:32.000000000,2018-10-06 00:31:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10112}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-04 11:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d831644ad5f026ec32019f90ffb9f29eced9ccab', 'message': 'Fixes a race condition in the hash ring code\n\nThe current hash ring code suffers from several problems:\n\n1. The cache is reset on any get_topic_for call, which means that the\n   cache is not used between API calls. Previously it was done to work\n   around the situation when a new conductor is not visible until the API\n   process restarts.  Currently we refresh the hash rings periodically.\n\n   This patch removes resetting the cache. To avoid waiting 2 minutes to\n   be able to use a new driver, hash rings are rebuilt when a ring is\n   not found.\n\n2. The reset of the cache races with the hot path in the get_ring call.\n   It is possible that the reset happens after the class-level cache\n   variable is checked but before it is used, yielding None.\n\n   This patch stores the value of the class-level variable to a local\n   variable before checking, thus ensuring None is never returned.\n\nAs a side effect, the driver API now also returns HTTP 503 when no\nconductors are active. This is consistent with the previous fix for other\nAPI endpoints.\n\nFinally, some logging was added to the modified code to make this kind\nof problems more debugable in the future.\n\nChange-Id: I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb\nStory: #2003966\nTask: #26896\nPartial-Bug: #1792872\n'}, {'number': 2, 'created': '2018-10-04 13:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d57e990ae455b4a6a629a2939b7af71e7f9d8f21', 'message': 'Fixes a race condition in the hash ring code\n\nThe current hash ring code suffers from several problems:\n\n1. The cache is reset on any get_topic_for call, which means that the\n   cache is not used between API calls. Previously it was done to work\n   around the situation when a new conductor is not visible until the API\n   process restarts. Currently we refresh the hash rings periodically.\n\n   This patch removes resetting the cache. To avoid waiting 2 minutes to\n   be able to use a new driver:\n   1) the hash ring cache is always rebuilt when a ring is not found,\n   2) the hash_ring_reset_interval option was changed to 15 seconds.\n\n2. The reset of the cache races with the hot path in the get_ring call.\n   It is possible that the reset happens after the class-level cache\n   variable is checked but before it is used, yielding None.\n\n   This patch stores the value of the class-level variable to a local\n   variable before checking, thus ensuring None is never returned.\n\nFinally, some logging was added to the modified code to make this kind\nof problems more debugable in the future.\n\nChange-Id: I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb\nStory: #2003966\nTask: #26896\nPartial-Bug: #1792872\n'}, {'number': 3, 'created': '2018-10-05 11:36:48.000000000', 'files': ['ironic/common/hash_ring.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'releasenotes/notes/hash-ring-race-da0d584de1f46788.yaml', 'ironic/conf/default.py', 'ironic/tests/unit/common/test_hash_ring.py', 'ironic/conductor/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5471157e4fdb5a735a29d88f5ad3af0d4b765ea3', 'message': 'Fixes a race condition in the hash ring code\n\nThe current hash ring code suffers from several problems:\n\n1. The cache is reset on any get_topic_for call, which means that the\n   cache is not used between API calls. Previously it was done to work\n   around the situation when a new conductor is not visible until the API\n   process restarts. Currently we refresh the hash rings periodically.\n\n   This patch removes resetting the cache. To avoid waiting 2 minutes to\n   be able to use a new driver:\n   1) the hash ring cache is always rebuilt when a ring is not found,\n   2) the hash_ring_reset_interval option was changed to 15 seconds.\n\n2. The reset of the cache races with the hot path in the get_ring call.\n   It is possible that the reset happens after the class-level cache\n   variable is checked but before it is used, yielding None.\n\n   This patch stores the value of the class-level variable to a local\n   variable before checking, thus ensuring None is never returned.\n\nFinally, some logging was added to the modified code to make this kind\nof problems more debugable in the future.\n\nChange-Id: I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb\nStory: #2003966\nTask: #26896\nPartial-Bug: #1792872\n'}]",11,607904,5471157e4fdb5a735a29d88f5ad3af0d4b765ea3,47,15,3,10239,,,0,"Fixes a race condition in the hash ring code

The current hash ring code suffers from several problems:

1. The cache is reset on any get_topic_for call, which means that the
   cache is not used between API calls. Previously it was done to work
   around the situation when a new conductor is not visible until the API
   process restarts. Currently we refresh the hash rings periodically.

   This patch removes resetting the cache. To avoid waiting 2 minutes to
   be able to use a new driver:
   1) the hash ring cache is always rebuilt when a ring is not found,
   2) the hash_ring_reset_interval option was changed to 15 seconds.

2. The reset of the cache races with the hot path in the get_ring call.
   It is possible that the reset happens after the class-level cache
   variable is checked but before it is used, yielding None.

   This patch stores the value of the class-level variable to a local
   variable before checking, thus ensuring None is never returned.

Finally, some logging was added to the modified code to make this kind
of problems more debugable in the future.

Change-Id: I6e18c6ec23a053b59c76fcadd52b13d84d81b4fb
Story: #2003966
Task: #26896
Partial-Bug: #1792872
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/607904/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/hash_ring.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'releasenotes/notes/hash-ring-race-da0d584de1f46788.yaml', 'ironic/tests/unit/common/test_hash_ring.py', 'ironic/conductor/rpcapi.py']",5,d831644ad5f026ec32019f90ffb9f29eced9ccab,bug/1792872,," self.ring_manager.reset() # There are no conductors, temporary failure - 503 Service Unavailable if not self.ring_manager.ring: raise exception.TemporaryFailure() ",78,30
openstack%2Ftripleo-heat-templates~master~I6cc562cfb9617348f8f9128e700af481481be232,openstack/tripleo-heat-templates,master,I6cc562cfb9617348f8f9128e700af481481be232,Remove parameter reference to non-exisingt parameter,MERGED,2018-09-21 22:17:36.000000000,2018-10-06 00:27:49.000000000,2018-10-05 01:37:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 20866}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-21 22:17:36.000000000', 'files': ['network/config/bond-with-vlans/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e68da67c0dc829eda2b2be1ac6ed4b7578fcb507', 'message': 'Remove parameter reference to non-exisingt parameter\n\nThe ControlPlaneRoutes parameter referenced in\nnetwork/config/bond-with-vlans/role.role.j2.yaml does\nnot exist.\n\nCloses-Bug: #1793833\nChange-Id: I6cc562cfb9617348f8f9128e700af481481be232\n'}]",0,604490,e68da67c0dc829eda2b2be1ac6ed4b7578fcb507,13,9,1,24245,,,0,"Remove parameter reference to non-exisingt parameter

The ControlPlaneRoutes parameter referenced in
network/config/bond-with-vlans/role.role.j2.yaml does
not exist.

Closes-Bug: #1793833
Change-Id: I6cc562cfb9617348f8f9128e700af481481be232
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/604490/1 && git format-patch -1 --stdout FETCH_HEAD,['network/config/bond-with-vlans/role.role.j2.yaml'],1,e68da67c0dc829eda2b2be1ac6ed4b7578fcb507,bug/1793833,, - get_param: ControlPlaneRoutes,0,1
openstack%2Fos-net-config~master~I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,openstack/os-net-config,master,I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1,Allow list_of_routes to be [] in config,MERGED,2018-09-17 17:45:12.000000000,2018-10-06 00:27:14.000000000,2018-10-06 00:14:35.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-09-17 17:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8c7fd6b35d98cc914ff7d5cd3b56f2ce400b653f', 'message': 'Allow list_of_routes to be [] in config\n\nThis changes the schema validation to allow an empty\nlist of routes to be specified in the configuration.\n\nCloses-Bug: #1792992\nChange-Id: I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1\n'}, {'number': 2, 'created': '2018-10-05 06:24:09.000000000', 'files': ['os_net_config/schema.yaml', 'releasenotes/notes/allow-list-of-routes-to-be-empty-323690796760630d.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/acf646383ba1b5ecb982a0e57e093f841842c396', 'message': 'Allow list_of_routes to be [] in config\n\nThis changes the schema validation to allow an empty\nlist of routes to be specified in the configuration.\n\nCloses-Bug: #1792992\nChange-Id: I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1\n'}]",0,603192,acf646383ba1b5ecb982a0e57e093f841842c396,18,7,2,24245,,,0,"Allow list_of_routes to be [] in config

This changes the schema validation to allow an empty
list of routes to be specified in the configuration.

Closes-Bug: #1792992
Change-Id: I808cdd9c352f3e0dd0b75b8b8b738b97d82da7c1
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/92/603192/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'releasenotes/notes/allow-list-of-routes-to-be-empty-323690796760630d.yaml']",2,8c7fd6b35d98cc914ff7d5cd3b56f2ce400b653f,bug/1792992,--- other: - | The schema now allow the ``routes`` option to be an empty list. (Previously at least one route was was required.) Bug: `1792992 <https://bugs.launchpad.net/os-net-config/+bug/1792992>_`. ,,7,1
openstack%2Fopenstack-helm~master~I64e9c703ef41e2ea5f9607684dbfdddbcf7a4f65,openstack/openstack-helm,master,I64e9c703ef41e2ea5f9607684dbfdddbcf7a4f65,WIP Ceph chart cleanup,ABANDONED,2018-08-23 05:29:06.000000000,2018-10-06 00:19:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-08-23 05:29:06.000000000', 'files': ['tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2433b9e533be2f91052fe462773cd015202670b9', 'message': 'WIP Ceph chart cleanup\n\n- Remove unused blocks of code/overrides\n\nChange-Id: I64e9c703ef41e2ea5f9607684dbfdddbcf7a4f65\n'}]",3,595483,2433b9e533be2f91052fe462773cd015202670b9,5,3,1,24165,,,0,"WIP Ceph chart cleanup

- Remove unused blocks of code/overrides

Change-Id: I64e9c703ef41e2ea5f9607684dbfdddbcf7a4f65
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/595483/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh']",2,2433b9e533be2f91052fe462773cd015202670b9,,, object_store: namespace: ceph,0,8
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7be814c269091bd6ceb45f066356acbb856d0f55,openstack/tripleo-heat-templates,stable/rocky,I7be814c269091bd6ceb45f066356acbb856d0f55,Add networks to IronicConductor role.,MERGED,2018-10-02 08:04:50.000000000,2018-10-06 00:14:33.000000000,2018-10-06 00:14:32.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-02 08:04:50.000000000', 'files': ['roles/IronicConductor.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60f2bf933ec8da94969c7604e71af596cefc0e5f', 'message': 'Add networks to IronicConductor role.\n\nThe IronicConductor.yaml file was missing networks.\n\nChange-Id: I7be814c269091bd6ceb45f066356acbb856d0f55\n(cherry picked from commit 366cd639a6cdeac8b0800ead2f9011a4d27b4f61)\n'}]",0,607120,60f2bf933ec8da94969c7604e71af596cefc0e5f,16,6,1,10239,,,0,"Add networks to IronicConductor role.

The IronicConductor.yaml file was missing networks.

Change-Id: I7be814c269091bd6ceb45f066356acbb856d0f55
(cherry picked from commit 366cd639a6cdeac8b0800ead2f9011a4d27b4f61)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/607120/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/IronicConductor.yaml'],1,60f2bf933ec8da94969c7604e71af596cefc0e5f,ironic-network-stable/rocky, networks: - InternalApi,,2,0
openstack%2Ftripleo-ui~master~I7a6ebd93b8a2d83650e7e3e6b9f9164972f6e5a8,openstack/tripleo-ui,master,I7a6ebd93b8a2d83650e7e3e6b9f9164972f6e5a8,Prepare the first tag for Stein 10.0.0,MERGED,2018-10-05 14:48:01.000000000,2018-10-06 00:14:31.000000000,2018-10-06 00:14:31.000000000,"[{'_account_id': 3153}, {'_account_id': 10112}, {'_account_id': 14985}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 14:48:01.000000000', 'files': ['npm-shrinkwrap.json', 'package.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/f672e31b56e5f82cff52d7afd053f4e635c17abe', 'message': 'Prepare the first tag for Stein 10.0.0\n\nChange-Id: I7a6ebd93b8a2d83650e7e3e6b9f9164972f6e5a8\n'}]",0,608281,f672e31b56e5f82cff52d7afd053f4e635c17abe,8,5,1,3153,,,0,"Prepare the first tag for Stein 10.0.0

Change-Id: I7a6ebd93b8a2d83650e7e3e6b9f9164972f6e5a8
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/81/608281/1 && git format-patch -1 --stdout FETCH_HEAD,"['npm-shrinkwrap.json', 'package.json']",2,f672e31b56e5f82cff52d7afd053f4e635c17abe,stein," ""version"": ""10.0.0"","," ""version"": ""9.3.0"",",2,2
openstack%2Fpuppet-tripleo~master~I1bf4724267ec1f446a385316298a71455e547726,openstack/puppet-tripleo,master,I1bf4724267ec1f446a385316298a71455e547726,First tag for Stein 10.0.0,MERGED,2018-10-05 14:17:27.000000000,2018-10-06 00:14:30.000000000,2018-10-06 00:14:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-05 14:17:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/91262ec31c951be3e6e021d4887c94082c847e29', 'message': 'First tag for Stein 10.0.0\n\nChange-Id: I1bf4724267ec1f446a385316298a71455e547726\n'}]",0,608276,91262ec31c951be3e6e021d4887c94082c847e29,8,4,1,3153,,,0,"First tag for Stein 10.0.0

Change-Id: I1bf4724267ec1f446a385316298a71455e547726
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/608276/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,91262ec31c951be3e6e021d4887c94082c847e29,stein," ""version"": ""10.0.0"","," ""version"": ""9.3.0"",",1,1
openstack%2Ftripleo-common~stable%2Frocky~I60928f032c7ee5eb7ff2c5daa2da38f2b324539b,openstack/tripleo-common,stable/rocky,I60928f032c7ee5eb7ff2c5daa2da38f2b324539b,"Revert ""Add container runtime packages for cron image""",MERGED,2018-10-03 09:46:29.000000000,2018-10-06 00:14:29.000000000,2018-10-06 00:14:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 09:46:29.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a0474e66391cc6ed732e63a0379570c8b752c71', 'message': 'Revert ""Add container runtime packages for cron image""\n\nnot needed any more as we fallback to copytruncate\n\nThis reverts commit fc31a1c649cca06d0340a15a55339757ff002775.\n\nChange-Id: I60928f032c7ee5eb7ff2c5daa2da38f2b324539b\n'}]",0,607514,8a0474e66391cc6ed732e63a0379570c8b752c71,10,6,1,6926,,,0,"Revert ""Add container runtime packages for cron image""

not needed any more as we fallback to copytruncate

This reverts commit fc31a1c649cca06d0340a15a55339757ff002775.

Change-Id: I60928f032c7ee5eb7ff2c5daa2da38f2b324539b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/607514/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,8a0474e66391cc6ed732e63a0379570c8b752c71,bug/1715374-stable/rocky,,# NOTE: Logrotate-crond needs to restart some non-SIGHUP friendly containers # to make them reopen log files after the logs rotated {% set cron_packages_append = ['docker'] %} ,0,4
openstack%2Fswift~master~Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521,openstack/swift,master,Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521,Move base64-decoding/unpickling into DatabaseBroker,MERGED,2018-10-05 22:00:28.000000000,2018-10-05 23:56:02.000000000,2018-10-05 23:56:02.000000000,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 22:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f549366c027116f2c3a8795a5281aef1bcbc862', 'message': 'Move base64-decoding/unpickling into DatabaseBroker\n\n...which was the one responsible for pickling and encoding the data in\nthe first place.\n\nChange-Id: Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521\n'}, {'number': 2, 'created': '2018-10-05 22:08:20.000000000', 'files': ['swift/account/backend.py', 'swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4ca605c51e44e817ad73e9e7c229d5738b44dd9f', 'message': 'Move base64-decoding/unpickling into DatabaseBroker\n\n...which was the one responsible for pickling and encoding the data in\nthe first place.\n\nChange-Id: Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521\n'}]",0,608369,4ca605c51e44e817ad73e9e7c229d5738b44dd9f,7,2,2,15343,,,0,"Move base64-decoding/unpickling into DatabaseBroker

...which was the one responsible for pickling and encoding the data in
the first place.

Change-Id: Ia7fad7ddd7cf95c8a0168dd6c899c80ddfdd3521
",git fetch https://review.opendev.org/openstack/swift refs/changes/69/608369/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/account/backend.py', 'swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py']",4,6f549366c027116f2c3a8795a5281aef1bcbc862,581905," (name, timestamp, size, content_type, etag, deleted) = entry[:6] if len(entry) > 6: storage_policy_index = entry[6] if len(entry) > 7: content_type_timestamp = entry[7] if len(entry) > 8: meta_timestamp = entry[8]","import six.moves.cPickle as pickle data = pickle.loads(entry.decode('base64')) (name, timestamp, size, content_type, etag, deleted) = data[:6] if len(data) > 6: storage_policy_index = data[6] if len(data) > 7: content_type_timestamp = data[7] if len(data) > 8: meta_timestamp = data[8]",20,20
openstack%2Fswift~master~I32cff110f0771d6d92a881ef52e482aa17d8dbe4,openstack/swift,master,I32cff110f0771d6d92a881ef52e482aa17d8dbe4,DB follow-up,MERGED,2018-10-05 21:43:17.000000000,2018-10-05 23:56:00.000000000,2018-10-05 23:56:00.000000000,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 21:43:17.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6e7ca26169bcf6f2b51bddddb921b10c252e29d9', 'message': 'DB follow-up\n\nChange-Id: I32cff110f0771d6d92a881ef52e482aa17d8dbe4\nRelated-Change: I0dab4ff013f300396cff7313bc27b9d5644fe8a7\n'}]",0,608367,6e7ca26169bcf6f2b51bddddb921b10c252e29d9,6,2,1,15343,,,0,"DB follow-up

Change-Id: I32cff110f0771d6d92a881ef52e482aa17d8dbe4
Related-Change: I0dab4ff013f300396cff7313bc27b9d5644fe8a7
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/608367/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py']",2,6e7ca26169bcf6f2b51bddddb921b10c252e29d9,581905, stub_dict.clear() stub_dict.update(kwargs)," for key in list(stub_dict.keys()): del stub_dict[key] for key, value in kwargs.items(): stub_dict[key] = value",4,6
openstack%2Fswift~master~I0dab4ff013f300396cff7313bc27b9d5644fe8a7,openstack/swift,master,I0dab4ff013f300396cff7313bc27b9d5644fe8a7,py3: Adapt db.py,MERGED,2018-07-11 22:59:09.000000000,2018-10-05 23:55:59.000000000,2018-10-05 23:55:58.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-11 22:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/33c6c54c8bd5c95727262bc59d0ad44a79a3660f', 'message': ""py3: Adapt db.py\n\nAside from the minimally necessary, this patch changes a decision we\nmade previously about having the body of HTTPException in binary\n(as required by the WSGI). It's just too much trouble. The patch\ndoes not attempt to undo all the b'' in HTTPNotFound and the like,\nbut allows leaving them alone in the future.\n\nChange-Id: I0dab4ff013f300396cff7313bc27b9d5644fe8a7\n""}, {'number': 2, 'created': '2018-09-12 03:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad4d19c85968b694a7db0c5a07e40b303c95486d', 'message': ""py3: Adapt db.py\n\nAside from the minimally necessary, this patch changes a decision we\nmade previously about having the body of HTTPException in binary\n(as required by the WSGI). It's just too much trouble. The patch\ndoes not attempt to undo all the b'' in HTTPNotFound and the like,\nbut allows leaving them alone in the future.\n\nChange-Id: I0dab4ff013f300396cff7313bc27b9d5644fe8a7\n""}, {'number': 3, 'created': '2018-09-12 03:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/82c263735186dfcaa7c5ccd498b014e29ba817de', 'message': 'py3: Adapt db.py\n\nChange-Id: I0dab4ff013f300396cff7313bc27b9d5644fe8a7\n'}, {'number': 4, 'created': '2018-09-25 03:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0a7f524546c9584bb411fcbf4e3bcc58d5e83a16', 'message': 'py3: Adapt db.py\n\nChange-Id: I0dab4ff013f300396cff7313bc27b9d5644fe8a7\n'}, {'number': 5, 'created': '2018-10-04 22:23:36.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/e3a5b63cc7ebc281bbde248f7ef86f968aa9d277', 'message': 'py3: Adapt db.py\n\nChange-Id: I0dab4ff013f300396cff7313bc27b9d5644fe8a7\n'}]",8,581905,e3a5b63cc7ebc281bbde248f7ef86f968aa9d277,22,3,5,597,,,0,"py3: Adapt db.py

Change-Id: I0dab4ff013f300396cff7313bc27b9d5644fe8a7
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/581905/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py', 'swift/common/swob.py', 'tox.ini']",4,33c6c54c8bd5c95727262bc59d0ad44a79a3660f,, test/unit/common/test_db.py \,,52,29
openstack%2Fneutron~master~I9530cd2433e0e34f05667d33bd6469b2592f8738,openstack/neutron,master,I9530cd2433e0e34f05667d33bd6469b2592f8738,fix tox python3 overrides,MERGED,2018-09-29 23:51:51.000000000,2018-10-05 23:55:55.000000000,2018-10-05 23:55:55.000000000,"[{'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-09-29 23:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e80337c7e61376b7925468901e3e48f65e88ba8', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-01 20:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a911eab4585ad54c80a61c9a6093099c4175254a', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-10-01 21:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c99df928643a33b86719e05ab449deb0f31f11a0', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-10-02 00:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61d12f849aaa3e6b70f927116dbf8b23cb95f686', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2018-10-02 00:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c7e886bd1d4fad593a185571870ac83e37b227c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2018-10-03 08:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71c5c32513aaabb51065211d927eddf0ff147fa6', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 7, 'created': '2018-10-04 13:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f51df134f186e89e2eef7bbf45b033e52cae459d', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 8, 'created': '2018-10-04 18:04:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1307cb758782c62c044f4dd5f7330852c6b9b75e', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",1,606676,1307cb758782c62c044f4dd5f7330852c6b9b75e,57,11,8,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I9530cd2433e0e34f05667d33bd6469b2592f8738
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/606676/8 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8e80337c7e61376b7925468901e3e48f65e88ba8,python3-first,basepython = python3basepython = python3,basepython = python2.7basepython = python2.7,2,2
openstack%2Fneutron~master~I0af951f4346f9290c2eba6aad17f772fbf27bb2f,openstack/neutron,master,I0af951f4346f9290c2eba6aad17f772fbf27bb2f,use payloads for AGENT BEFORE_DELETE callbacks,MERGED,2018-08-23 17:59:55.000000000,2018-10-05 23:55:52.000000000,2018-10-05 23:55:52.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-08-23 17:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/412bc9aa9879971ecb83e096633236dc4c787736', 'message': ""use payloads for AGENT BEFORE_DELETE callbacks\n\nThis patch switches BEFORE_DELETE callback events for AGENT resources\nover to the payload style args use a DBEventPayload object. In addition,\nthe _delete_mac_associated_with_agent is now refactored into it's own\nmethod to allow the context parameter to be parsed by\nretry_if_session_inactive.\n\nNeutronLibImpact\n\nChange-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f\n""}, {'number': 2, 'created': '2018-08-24 21:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4beaf0e23d6ac5d9a55d4764e03a0535723ef017', 'message': ""use payloads for AGENT BEFORE_DELETE callbacks\n\nThis patch switches BEFORE_DELETE callback events for AGENT resources\nover to the payload style args use a DBEventPayload object. In addition,\nthe _delete_mac_associated_with_agent is now refactored into it's own\nmethod to allow the context parameter to be parsed by\nretry_if_session_inactive.\n\nNeutronLibImpact\n\nChange-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f\n""}, {'number': 3, 'created': '2018-08-30 18:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/531ebf3dab27f681eac3ef3d7c61c94ce63bdba0', 'message': ""use payloads for AGENT BEFORE_DELETE callbacks\n\nThis patch switches BEFORE_DELETE callback events for AGENT resources\nover to the payload style args use a DBEventPayload object. In addition,\nthe _delete_mac_associated_with_agent is now refactored into it's own\nmethod to allow the context parameter to be parsed by\nretry_if_session_inactive.\n\nNeutronLibImpact\n\nChange-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f\n""}, {'number': 4, 'created': '2018-09-06 16:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f382ed594871136dfb99c1bc4ebb71ac83c30ca', 'message': ""use payloads for AGENT BEFORE_DELETE callbacks\n\nThis patch switches BEFORE_DELETE callback events for AGENT resources\nover to the payload style args use a DBEventPayload object. In addition,\nthe _delete_mac_associated_with_agent is now refactored into it's own\nmethod to allow the context parameter to be parsed by\nretry_if_session_inactive.\n\nNeutronLibImpact\n\nChange-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f\n""}, {'number': 5, 'created': '2018-09-17 16:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a9b50d838f32d400bc04e41174b40c358cbfd42', 'message': ""use payloads for AGENT BEFORE_DELETE callbacks\n\nThis patch switches BEFORE_DELETE callback events for AGENT resources\nover to the payload style args use a DBEventPayload object. In addition,\nthe _delete_mac_associated_with_agent is now refactored into it's own\nmethod to allow the context parameter to be parsed by\nretry_if_session_inactive.\n\nNeutronLibImpact\n\nChange-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f\n""}, {'number': 6, 'created': '2018-10-02 17:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc396d2c38e16fe49b663dea8121a36b36c81b31', 'message': ""use payloads for AGENT BEFORE_DELETE callbacks\n\nThis patch switches BEFORE_DELETE callback events for AGENT resources\nover to the payload style args use a DBEventPayload object. In addition,\nthe _delete_mac_associated_with_agent is now refactored into it's own\nmethod to allow the context parameter to be parsed by\nretry_if_session_inactive.\n\nNeutronLibImpact\n\nChange-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f\n""}, {'number': 7, 'created': '2018-10-03 09:59:24.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/db/dvr_mac_db.py', 'neutron/tests/unit/db/test_dvr_mac_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a24efcb705d37c945bd5afc407b80b2c756a62f', 'message': ""use payloads for AGENT BEFORE_DELETE callbacks\n\nThis patch switches BEFORE_DELETE callback events for AGENT resources\nover to the payload style args use a DBEventPayload object. In addition,\nthe _delete_mac_associated_with_agent is now refactored into it's own\nmethod to allow the context parameter to be parsed by\nretry_if_session_inactive.\n\nNeutronLibImpact\n\nChange-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f\n""}]",7,595850,6a24efcb705d37c945bd5afc407b80b2c756a62f,86,18,7,5367,,,0,"use payloads for AGENT BEFORE_DELETE callbacks

This patch switches BEFORE_DELETE callback events for AGENT resources
over to the payload style args use a DBEventPayload object. In addition,
the _delete_mac_associated_with_agent is now refactored into it's own
method to allow the context parameter to be parsed by
retry_if_session_inactive.

NeutronLibImpact

Change-Id: I0af951f4346f9290c2eba6aad17f772fbf27bb2f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/595850/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/db/dvr_mac_db.py', 'neutron/tests/unit/db/test_dvr_mac_db.py']",3,412bc9aa9879971ecb83e096633236dc4c787736,use-callback-payloads," registry.publish(resources.AGENT, events.BEFORE_DELETE, self, payload=events.DBEventPayload( self.ctx, states=(agent1,))) registry.publish(resources.AGENT, events.BEFORE_DELETE, self, payload=events.DBEventPayload( self.ctx, states=(agent,)))"," registry.notify(resources.AGENT, events.BEFORE_DELETE, self, context=self.ctx, agent=agent1) registry.notify(resources.AGENT, events.BEFORE_DELETE, self, context=self.ctx, agent=agent)",20,10
openstack%2Fheat~master~I5ccfb1d947fb2a61af674b2da11f85fbafd473b8,openstack/heat,master,I5ccfb1d947fb2a61af674b2da11f85fbafd473b8,Add a set of Placeholder classes,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:51:58.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 01:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b8dd6ef9c2ffe7f09e39f64003fae4baa528491f', 'message': 'Add a set of Placeholder classes\n\nThese classes will enable us to represent placeholder values for resource\nIDs, resource attributes, and parameter values. These can be used to\nprovide more robust validation of templates at times where actual values\nare not known.\n\nChange-Id: I5ccfb1d947fb2a61af674b2da11f85fbafd473b8\nStory: #2003915\nTask: 26807\n'}, {'number': 2, 'created': '2018-10-04 01:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fcbc1c86510f685c946e3dc3e72e71236f5de08f', 'message': 'Add a set of Placeholder classes\n\nThese classes will enable us to represent placeholder values for resource\nIDs, resource attributes, and parameter values. These can be used to\nprovide more robust validation of templates at times where actual values\nare not known.\n\nChange-Id: I5ccfb1d947fb2a61af674b2da11f85fbafd473b8\nStory: #2003915\nTask: 26807\n'}, {'number': 3, 'created': '2018-10-05 22:10:07.000000000', 'files': ['heat/engine/placeholder.py', 'heat/tests/test_placeholder.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5a625420e9f8c8a94892693c56ef0d08f133a511', 'message': 'Add a set of Placeholder classes\n\nThese classes will enable us to represent placeholder values for resource\nIDs, resource attributes, and parameter values. These can be used to\nprovide more robust validation of templates at times where actual values\nare not known.\n\nChange-Id: I5ccfb1d947fb2a61af674b2da11f85fbafd473b8\nStory: #2003915\nTask: 26807\n'}]",0,606229,5a625420e9f8c8a94892693c56ef0d08f133a511,9,2,3,4257,,,0,"Add a set of Placeholder classes

These classes will enable us to represent placeholder values for resource
IDs, resource attributes, and parameter values. These can be used to
provide more robust validation of templates at times where actual values
are not known.

Change-Id: I5ccfb1d947fb2a61af674b2da11f85fbafd473b8
Story: #2003915
Task: 26807
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/606229/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/placeholder.py', 'heat/tests/test_placeholder.py']",2,b8dd6ef9c2ffe7f09e39f64003fae4baa528491f,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import six from heat.engine import constraints from heat.engine import placeholder from heat.tests import common class StringPlaceholderTest(common.HeatTestCase): def test_is_string(self): sp = placeholder.StringPlaceholder('foo') self.assertIsInstance(sp, six.text_type) self.assertIsInstance(sp, placeholder.Placeholder) def test_default(self): sp = placeholder.StringPlaceholder('bar') self.assertEqual('bar', sp) def test_default_bytes(self): sp = placeholder.StringPlaceholder(b'bar') self.assertEqual('bar', sp) def test_default_unicode(self): sp = placeholder.StringPlaceholder('\u2603') self.assertEqual('\u2603', sp) def test_default_unicode_bytes(self): sp = placeholder.StringPlaceholder('\u2603'.encode('utf-8')) self.assertEqual('\u2603', sp) def test_no_constraints(self): sp = placeholder.StringPlaceholder('blarg') self.assertEqual([], sp.constraints) def test_constraints(self): sp = placeholder.StringPlaceholder('wibble', ['a', 'b', 'c']) self.assertEqual(['a', 'b', 'c'], sp.constraints) def test_unique(self): s1 = placeholder.StringPlaceholder('baz', [1, 2, 3]) s2 = placeholder.StringPlaceholder('baz', [4, 5, 6]) self.assertIsNot(s1, s2) self.assertEqual(s1, s2) self.assertEqual([1, 2, 3], s1.constraints) self.assertEqual([4, 5, 6], s2.constraints) def test_typed(self): rp = placeholder.typed_StringPlaceholder('myresource') self.assertEqual('myresource', rp) def test_typed_no_constraint(self): rp = placeholder.typed_StringPlaceholder('myresource', None) self.assertEqual('myresource', rp) self.assertEqual([], rp.constraints) def test_typed_constraint(self): rp = placeholder.typed_StringPlaceholder('myresource', 'nova.keypair') self.assertEqual('myresource', rp) self.assertIsInstance(rp.constraints, collections.Sequence) self.assertEqual(1, len(rp.constraints)) constraint = rp.constraints[0] self.assertIsInstance(constraint, constraints.CustomConstraint) self.assertEqual('nova.keypair', constraint.name) class IntPlaceholderTest(common.HeatTestCase): def test_is_int(self): ip = placeholder.IntPlaceholder(0) self.assertIsInstance(ip, int) self.assertIsInstance(ip, placeholder.Placeholder) def test_default(self): ip = placeholder.IntPlaceholder(42) self.assertEqual(42, ip) def test_no_constraints(self): ip = placeholder.IntPlaceholder(0) self.assertEqual([], ip.constraints) def test_constraints(self): ip = placeholder.IntPlaceholder(0, ['a', 'b', 'c']) self.assertEqual(['a', 'b', 'c'], ip.constraints) def test_unique(self): i1 = placeholder.IntPlaceholder(1, [1, 2, 3]) i2 = placeholder.IntPlaceholder(1, [4, 5, 6]) self.assertIsNot(i1, i2) self.assertEqual(i1, i2) self.assertEqual([1, 2, 3], i1.constraints) self.assertEqual([4, 5, 6], i2.constraints) class DictPlaceholderTest(common.HeatTestCase): def test_is_dict(self): dp = placeholder.DictPlaceholder() self.assertIsInstance(dp, dict) self.assertIsInstance(dp, collections.Mapping) self.assertIsInstance(dp, placeholder.Placeholder) def test_no_constraints(self): dp = placeholder.DictPlaceholder() self.assertEqual([], dp.constraints) def test_constraints(self): dp = placeholder.DictPlaceholder(constraints=['a', 'b', 'c']) self.assertEqual(['a', 'b', 'c'], dp.constraints) def test_no_default_no_contents(self): dp = placeholder.DictPlaceholder() self.assertFalse(dp) self.assertEqual(0, len(dp)) self.assertEqual([], list(iter(dp))) self.assertEqual([], list(dp.values())) self.assertIsNone(dp['foo']) def test_default_no_contents(self): dp = placeholder.DictPlaceholder('foo') self.assertFalse(dp) self.assertEqual(0, len(dp)) self.assertEqual([], list(iter(dp))) self.assertEqual([], list(dp.values())) self.assertEqual('foo', dp['bar']) def test_no_default_contents(self): dp = placeholder.DictPlaceholder(contents={'blarg': 'wibble'}) self.assertEqual(1, len(dp)) self.assertEqual(['blarg'], list(iter(dp))) self.assertEqual(['wibble'], list(dp.values())) self.assertIsNone(dp['foo']) self.assertEqual('wibble', dp['blarg']) def test_default_contents(self): dp = placeholder.DictPlaceholder('baz', {'blarg': 'wibble'}) self.assertEqual(1, len(dp)) self.assertEqual(['blarg'], list(iter(dp))) self.assertEqual(['wibble'], list(dp.values())) self.assertEqual('baz', dp['foo']) self.assertEqual('wibble', dp['blarg']) class ListPlaceholderTest(common.HeatTestCase): def test_is_list(self): lp = placeholder.ListPlaceholder() self.assertIsInstance(lp, list) self.assertIsInstance(lp, collections.Sequence) self.assertIsInstance(lp, placeholder.Placeholder) def test_no_constraints(self): lp = placeholder.ListPlaceholder() self.assertEqual([], lp.constraints) def test_constraints(self): lp = placeholder.ListPlaceholder(constraints=['a', 'b', 'c']) self.assertEqual(['a', 'b', 'c'], lp.constraints) def test_no_default(self): lp = placeholder.ListPlaceholder() self.assertEqual(0, len(lp)) self.assertEqual([], list(iter(lp))) self.assertIsNone(lp[42]) def test_default(self): lp = placeholder.ListPlaceholder('foo') self.assertEqual(0, len(lp)) self.assertEqual([], list(iter(lp))) self.assertEqual('foo', lp[99]) ",,322,0
openstack%2Fheat~master~Ib2479594625e4732e179984572666be7577228c0,openstack/heat,master,Ib2479594625e4732e179984572666be7577228c0,Return placeholder values from FnGetAtt() pre-flight,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:42:55.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 01:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8d74c669ef52a9201244c3099f4ec39f63c7006c', 'message': 'Return placeholder values from FnGetAtt() pre-flight\n\nWhen doing pre-flight validation, return a placeholder value from FnGetAtt\ninstead of None, if the type of the attribute is known from the attribute\nschema.\n\nThis should allow some errors to be detected earlier. If the types are\nmismatched this can be detected before creating any of the resources.\n\nIt should also allow some valid templates to pass validation where they\npreviously would have been rejected (e.g. when passing attributes to YAQL\nfunctions that are not expecting None as an input).\n\nChange-Id: Ib2479594625e4732e179984572666be7577228c0\nStory: #2003915\nTask: 26806\n'}, {'number': 2, 'created': '2018-10-04 01:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/564717ffa34e955b2c1dc1eb16ae500e9b8d1823', 'message': 'Return placeholder values from FnGetAtt() pre-flight\n\nWhen doing pre-flight validation, return a placeholder value from FnGetAtt\ninstead of None, if the type of the attribute is known from the attribute\nschema.\n\nThis should allow some errors to be detected earlier. If the types are\nmismatched this can be detected before creating any of the resources.\n\nIt should also allow some valid templates to pass validation where they\npreviously would have been rejected (e.g. when passing attributes to YAQL\nfunctions that are not expecting None as an input).\n\nChange-Id: Ib2479594625e4732e179984572666be7577228c0\nStory: #2003915\nTask: 26806\n'}, {'number': 3, 'created': '2018-10-04 01:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b05e4655ba9dcfdca641263e4075e6639557cb0d', 'message': 'Return placeholder values from FnGetAtt() pre-flight\n\nWhen doing pre-flight validation, return a placeholder value from FnGetAtt\ninstead of None, if the type of the attribute is known from the attribute\nschema.\n\nThis should allow some errors to be detected earlier. If the types are\nmismatched this can be detected before creating any of the resources.\n\nIt should also allow some valid templates to pass validation where they\npreviously would have been rejected (e.g. when passing attributes to YAQL\nfunctions that are not expecting None as an input).\n\nChange-Id: Ib2479594625e4732e179984572666be7577228c0\nStory: #2003915\nTask: 26806\n'}, {'number': 4, 'created': '2018-10-05 22:10:07.000000000', 'files': ['heat/tests/test_metadata_refresh.py', 'heat/engine/attributes.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1c6ee009fbdbd9ea99b8d5e1630ea6a97bdc5726', 'message': 'Return placeholder values from FnGetAtt() pre-flight\n\nWhen doing pre-flight validation, return a placeholder value from FnGetAtt\ninstead of None, if the type of the attribute is known from the attribute\nschema.\n\nThis should allow some errors to be detected earlier. If the types are\nmismatched this can be detected before creating any of the resources.\n\nIt should also allow some valid templates to pass validation where they\npreviously would have been rejected (e.g. when passing attributes to YAQL\nfunctions that are not expecting None as an input).\n\nChange-Id: Ib2479594625e4732e179984572666be7577228c0\nStory: #2003915\nTask: 26806\n'}]",0,606231,1c6ee009fbdbd9ea99b8d5e1630ea6a97bdc5726,11,2,4,4257,,,0,"Return placeholder values from FnGetAtt() pre-flight

When doing pre-flight validation, return a placeholder value from FnGetAtt
instead of None, if the type of the attribute is known from the attribute
schema.

This should allow some errors to be detected earlier. If the types are
mismatched this can be detected before creating any of the resources.

It should also allow some valid templates to pass validation where they
previously would have been rejected (e.g. when passing attributes to YAQL
functions that are not expecting None as an input).

Change-Id: Ib2479594625e4732e179984572666be7577228c0
Story: #2003915
Task: 26806
",git fetch https://review.opendev.org/openstack/heat refs/changes/31/606231/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_metadata_refresh.py', 'heat/engine/attributes.py', 'heat/engine/resource.py']",3,8d74c669ef52a9201244c3099f4ec39f63c7006c,," yield attr, self.attributes.get_placeholder(*path)"," # TODO(ricolin) make better placeholder values here yield attr, None",63,5
openstack%2Ftripleo-validations~master~Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1,openstack/tripleo-validations,master,Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1,Use containerized location of ironic inspector.conf for validation,MERGED,2018-10-03 18:32:46.000000000,2018-10-05 23:38:33.000000000,2018-10-05 19:34:19.000000000,"[{'_account_id': 9317}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 18:32:46.000000000', 'files': ['validations/switch-vlans.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a178605986557a32816196066950e42dda4fcac0', 'message': 'Use containerized location of ironic inspector.conf for validation\n\nThis uses the containerized location of inspector.conf in the switch-vlans\nvalidation, it is no longer available at /etc/ironic-inspector/inspector.conf.\n\nChange-Id: Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1\n'}]",0,607684,a178605986557a32816196066950e42dda4fcac0,8,4,1,21909,,,0,"Use containerized location of ironic inspector.conf for validation

This uses the containerized location of inspector.conf in the switch-vlans
validation, it is no longer available at /etc/ironic-inspector/inspector.conf.

Change-Id: Ie6491d9fe09027fa4eb1b9223f950e99b6b7c4d1
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/84/607684/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/switch-vlans.yaml'],1,a178605986557a32816196066950e42dda4fcac0,ironic-container, ini: path=/var/lib/config-data/ironic_inspector/etc/ironic-inspector/inspector.conf section=swift key=auth_url ini: path=/var/lib/config-data/ironic_inspector/etc/ironic-inspector/inspector.conf section=swift key=password, ini: path=/etc/ironic-inspector/inspector.conf section=swift key=auth_url ini: path=/etc/ironic-inspector/inspector.conf section=swift key=password,2,2
openstack%2Fheat~master~Iebd4d61f160c35ac61fa6465260749f18b07ca16,openstack/heat,master,Iebd4d61f160c35ac61fa6465260749f18b07ca16,Annotate resource reference ID type constraints,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:35:58.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 01:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6a9851a49743d251765f87a40b4621049713047e', 'message': 'Annotate resource reference ID type constraints\n\nThis allows placeholder values to know the type of the string returned by\n{get_resource: }, so that any mismatches can be detected early in\nvalidation.\n\nChange-Id: Iebd4d61f160c35ac61fa6465260749f18b07ca16\nStory: #2003915\nTask: 26808\n\n'}, {'number': 2, 'created': '2018-10-04 01:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/118d7ad2765a3624cc669b70ff5568120c360b8a', 'message': 'Annotate resource reference ID type constraints\n\nThis allows placeholder values to know the type of the string returned by\n{get_resource: }, so that any mismatches can be detected early in\nvalidation.\n\nChange-Id: Iebd4d61f160c35ac61fa6465260749f18b07ca16\nStory: #2003915\nTask: 26808\n\n'}, {'number': 3, 'created': '2018-10-04 01:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed1dfa3ee9e92d36759e3a8fb5a42cfea8828de8', 'message': 'Annotate resource reference ID type constraints\n\nThis allows placeholder values to know the type of the string returned by\n{get_resource: }, so that any mismatches can be detected early in\nvalidation.\n\nChange-Id: Iebd4d61f160c35ac61fa6465260749f18b07ca16\nStory: #2003915\nTask: 26808\n\n'}, {'number': 4, 'created': '2018-10-05 22:10:07.000000000', 'files': ['heat/engine/resources/openstack/neutron/qos.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/sahara/cluster.py', 'heat/engine/resources/openstack/sahara/templates.py', 'heat/engine/resources/openstack/keystone/role.py', 'heat/engine/resources/openstack/octavia/pool.py', 'heat/engine/resources/openstack/cinder/encrypted_volume_type.py', 'heat/engine/resources/openstack/glance/image.py', 'heat/engine/resources/openstack/neutron/lbaas/pool.py', 'heat/engine/resources/openstack/keystone/domain.py', 'heat/engine/resources/openstack/neutron/sfc/port_pair_group.py', 'heat/engine/resources/openstack/octavia/loadbalancer.py', 'heat/engine/resources/openstack/octavia/l7policy.py', 'heat/engine/resources/openstack/senlin/policy.py', 'heat/engine/resources/openstack/keystone/group.py', 'heat/engine/resources/openstack/neutron/net.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/openstack/sahara/image.py', 'heat/engine/resources/openstack/barbican/container.py', 'heat/engine/resources/openstack/cinder/qos_specs.py', 'heat/engine/resources/openstack/keystone/region.py', 'heat/engine/resources/openstack/neutron/segment.py', 'heat/engine/resources/openstack/keystone/user.py', 'heat/engine/resources/openstack/neutron/sfc/port_pair.py', 'heat/engine/resources/openstack/senlin/profile.py', 'heat/engine/resources/openstack/mistral/workflow.py', 'heat/engine/resources/openstack/cinder/volume_type.py', 'heat/engine/resources/openstack/neutron/lbaas/listener.py', 'heat/engine/resources/openstack/senlin/cluster.py', 'heat/engine/resources/openstack/zaqar/queue.py', 'heat/engine/resources/openstack/neutron/security_group.py', 'heat/engine/resources/openstack/octavia/listener.py', 'heat/engine/resources/openstack/monasca/notification.py', 'heat/engine/resources/openstack/neutron/lbaas/loadbalancer.py', 'heat/engine/resources/openstack/neutron/address_scope.py', 'heat/engine/resources/openstack/keystone/service.py', 'heat/engine/resources/openstack/manila/share_type.py', 'heat/engine/resources/openstack/magnum/cluster_template.py', 'heat/engine/resources/openstack/designate/zone.py', 'heat/engine/resources/openstack/sahara/data_source.py', 'heat/engine/resources/openstack/keystone/project.py', 'heat/engine/resources/openstack/neutron/sfc/flow_classifier.py', 'heat/engine/resources/openstack/barbican/secret.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/resources/openstack/neutron/port.py', 'heat/engine/resources/openstack/neutron/subnetpool.py', 'heat/engine/resources/openstack/nova/flavor.py', 'heat/engine/resources/openstack/neutron/subnet.py', 'heat/engine/resources/openstack/manila/share_network.py', 'heat/engine/resources/openstack/nova/keypair.py', 'heat/engine/resources/openstack/designate/domain.py', 'heat/engine/resources/openstack/sahara/job_binary.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6b2bdf5d0546045864ef6b9ca754344b74713ddd', 'message': 'Annotate resource reference ID type constraints\n\nThis allows placeholder values to know the type of the string returned by\n{get_resource: }, so that any mismatches can be detected early in\nvalidation.\n\nChange-Id: Iebd4d61f160c35ac61fa6465260749f18b07ca16\nStory: #2003915\nTask: 26808\n\n'}]",0,606233,6b2bdf5d0546045864ef6b9ca754344b74713ddd,9,2,4,4257,,,0,"Annotate resource reference ID type constraints

This allows placeholder values to know the type of the string returned by
{get_resource: }, so that any mismatches can be detected early in
validation.

Change-Id: Iebd4d61f160c35ac61fa6465260749f18b07ca16
Story: #2003915
Task: 26808

",git fetch https://review.opendev.org/openstack/heat refs/changes/33/606233/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/qos.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/sahara/cluster.py', 'heat/engine/resources/openstack/sahara/templates.py', 'heat/engine/resources/openstack/keystone/role.py', 'heat/engine/resources/openstack/octavia/pool.py', 'heat/engine/resources/openstack/cinder/encrypted_volume_type.py', 'heat/engine/resources/openstack/glance/image.py', 'heat/engine/resources/openstack/neutron/lbaas/pool.py', 'heat/engine/resources/openstack/keystone/domain.py', 'heat/engine/resources/openstack/neutron/sfc/port_pair_group.py', 'heat/engine/resources/openstack/octavia/loadbalancer.py', 'heat/engine/resources/openstack/octavia/l7policy.py', 'heat/engine/resources/openstack/senlin/policy.py', 'heat/engine/resources/openstack/keystone/group.py', 'heat/engine/resources/openstack/neutron/net.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/openstack/sahara/image.py', 'heat/engine/resources/openstack/barbican/container.py', 'heat/engine/resources/openstack/cinder/qos_specs.py', 'heat/engine/resources/openstack/keystone/region.py', 'heat/engine/resources/openstack/neutron/segment.py', 'heat/engine/resources/openstack/keystone/user.py', 'heat/engine/resources/openstack/neutron/sfc/port_pair.py', 'heat/engine/resources/openstack/senlin/profile.py', 'heat/engine/resources/openstack/mistral/workflow.py', 'heat/engine/resources/openstack/cinder/volume_type.py', 'heat/engine/resources/openstack/neutron/lbaas/listener.py', 'heat/engine/resources/openstack/senlin/cluster.py', 'heat/engine/resources/openstack/zaqar/queue.py', 'heat/engine/resources/openstack/neutron/security_group.py', 'heat/engine/resources/openstack/octavia/listener.py', 'heat/engine/resources/openstack/monasca/notification.py', 'heat/engine/resources/openstack/neutron/lbaas/loadbalancer.py', 'heat/engine/resources/openstack/neutron/address_scope.py', 'heat/engine/resources/openstack/keystone/service.py', 'heat/engine/resources/openstack/manila/share_type.py', 'heat/engine/resources/openstack/magnum/cluster_template.py', 'heat/engine/resources/openstack/designate/zone.py', 'heat/engine/resources/openstack/sahara/data_source.py', 'heat/engine/resources/openstack/keystone/project.py', 'heat/engine/resources/openstack/neutron/sfc/flow_classifier.py', 'heat/engine/resources/openstack/barbican/secret.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/resources/openstack/neutron/port.py', 'heat/engine/resources/openstack/neutron/subnetpool.py', 'heat/engine/resources/openstack/nova/flavor.py', 'heat/engine/resources/openstack/neutron/subnet.py', 'heat/engine/resources/openstack/manila/share_network.py', 'heat/engine/resources/openstack/nova/keypair.py', 'heat/engine/resources/openstack/designate/domain.py', 'heat/engine/resources/openstack/sahara/job_binary.py']",52,6a9851a49743d251765f87a40b4621049713047e,, refid_type_constraint = 'sahara.job_binary' ,,104,0
openstack%2Fheat~master~Ia0e52aa336f504c8bb84cd37c26985eb842e79d4,openstack/heat,master,Ia0e52aa336f504c8bb84cd37c26985eb842e79d4,Return placeholder values from FnGetRefId() pre-flight,NEW,2018-09-29 01:11:23.000000000,2018-10-05 23:35:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-09-29 01:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4f99188e2b84da0fc25f8692250f8c5a77d4f612', 'message': ""Return placeholder values from FnGetRefId() pre-flight\n\nInstead of just returning a string when a refid value isn't known yet\n(because the resource hasn't been created), return a Placeholder object\nthat can carry data about the meaning of the return value.\n\nChange-Id: Ia0e52aa336f504c8bb84cd37c26985eb842e79d4\nStory: #2003915\nTask: 26803\n""}, {'number': 2, 'created': '2018-10-04 01:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5d8842e5c0d066d119778389100557ddf1ab718c', 'message': ""Return placeholder values from FnGetRefId() pre-flight\n\nInstead of just returning a string when a refid value isn't known yet\n(because the resource hasn't been created), return a Placeholder object\nthat can carry data about the meaning of the return value.\n\nChange-Id: Ia0e52aa336f504c8bb84cd37c26985eb842e79d4\nStory: #2003915\nTask: 26803\n""}, {'number': 3, 'created': '2018-10-04 01:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/45df7f2d6e43d5b10be65e1cbdbfd7ffabea7231', 'message': ""Return placeholder values from FnGetRefId() pre-flight\n\nInstead of just returning a string when a refid value isn't known yet\n(because the resource hasn't been created), return a Placeholder object\nthat can carry data about the meaning of the return value.\n\nChange-Id: Ia0e52aa336f504c8bb84cd37c26985eb842e79d4\nStory: #2003915\nTask: 26803\n""}, {'number': 4, 'created': '2018-10-05 22:10:07.000000000', 'files': ['heat/engine/resources/aws/cfn/stack.py', 'heat/engine/resources/aws/cfn/wait_condition_handle.py', 'heat/engine/resources/aws/ec2/eip.py', 'heat/engine/resources/openstack/heat/random_string.py', 'heat/engine/resources/aws/autoscaling/scaling_policy.py', 'heat/engine/resources/template_resource.py', 'heat/engine/resource.py', 'doc/source/developing_guides/pluginguide.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/ce4b0de2259037be9fdb26a73daa77e78729de36', 'message': ""Return placeholder values from FnGetRefId() pre-flight\n\nInstead of just returning a string when a refid value isn't known yet\n(because the resource hasn't been created), return a Placeholder object\nthat can carry data about the meaning of the return value.\n\nChange-Id: Ia0e52aa336f504c8bb84cd37c26985eb842e79d4\nStory: #2003915\nTask: 26803\n""}]",0,606232,ce4b0de2259037be9fdb26a73daa77e78729de36,7,1,4,4257,,,0,"Return placeholder values from FnGetRefId() pre-flight

Instead of just returning a string when a refid value isn't known yet
(because the resource hasn't been created), return a Placeholder object
that can carry data about the meaning of the return value.

Change-Id: Ia0e52aa336f504c8bb84cd37c26985eb842e79d4
Story: #2003915
Task: 26803
",git fetch https://review.opendev.org/openstack/heat refs/changes/32/606232/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/cfn/stack.py', 'heat/engine/resources/aws/cfn/wait_condition_handle.py', 'heat/engine/resources/aws/ec2/eip.py', 'heat/engine/resources/openstack/heat/random_string.py', 'heat/engine/resources/aws/autoscaling/scaling_policy.py', 'heat/engine/resources/template_resource.py', 'heat/engine/resource.py', 'doc/source/developing_guides/pluginguide.rst']",8,4f99188e2b84da0fc25f8692250f8c5a77d4f612,,"Defining the Reference ID Type ****************************** The resource plugin can define the type of the string value that it returns, by specifying the name of a custom constraint: .. code-block:: python refid_type_constraint = 'nova.keypair' This information is used when validating templates. refid_type_constraint = 'service.fooresource' ",,31,10
openstack%2Fpbr~master~I89eb8c6d627790680a61a0a4b7490191b6e8e90c,openstack/pbr,master,I89eb8c6d627790680a61a0a4b7490191b6e8e90c,Special case long_description_content_type,MERGED,2018-04-30 09:33:21.000000000,2018-10-05 23:32:06.000000000,2018-10-05 23:32:06.000000000,"[{'_account_id': 4190}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8911}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-30 09:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/029bd74ff990bd3e1230a060211a3004b886002d', 'message': 'Special case long_description_content_type\n\nAs described in the pypa pull request, special-case passing through\nthe long_description_content_type to setuptools.\n\nChange-Id: I89eb8c6d627790680a61a0a4b7490191b6e8e90c\nCloses-Bug: #1762494\n'}, {'number': 2, 'created': '2018-05-04 03:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/75eec7a71255f533e290d8bd00c32983ceab5288', 'message': 'Special case long_description_content_type\n\nAs described in the pypa pull request, special-case passing through\nthese fields into the metadata.  setuptools will maintain them.\n\nChange-Id: I89eb8c6d627790680a61a0a4b7490191b6e8e90c\nCloses-Bug: #1762494\n'}, {'number': 3, 'created': '2018-09-27 03:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/56255d3a5cfb0b1bc6794be948eb1bafbe58c86b', 'message': 'Special case long_description_content_type\n\nAs described in the pypa pull request[0], special-case passing through\nthese fields into the metadata. The setuptools will maintain them.\n\n[0] https://github.com/pypa/setuptools/pull/1343\n\nChange-Id: I89eb8c6d627790680a61a0a4b7490191b6e8e90c\nCloses-Bug: #1762494\n'}, {'number': 4, 'created': '2018-09-27 05:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7c0e20caeea51f3e318e1fc3186b6dafe53a2d32', 'message': 'Special case long_description_content_type\n\nAs described in the pypa pull request, special-case passing through\nthese fields into the metadata.  setuptools will maintain them.\n\nChange-Id: I89eb8c6d627790680a61a0a4b7490191b6e8e90c\nCloses-Bug: #1762494\n'}, {'number': 5, 'created': '2018-10-05 13:24:49.000000000', 'files': ['releasenotes/notes/long-descr-content-type-f9a1003acbb8740f.yaml', 'pbr/core.py', 'doc/source/user/features.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/77e75e25e383fb8319be7b46eca3d1d10136bc22', 'message': 'Special case long_description_content_type\n\nAs described in the pypa pull request, special-case passing through\nthese fields into the metadata.  setuptools will maintain them.\n\nChange-Id: I89eb8c6d627790680a61a0a4b7490191b6e8e90c\nCloses-Bug: #1762494\n'}]",2,565177,77e75e25e383fb8319be7b46eca3d1d10136bc22,34,6,5,7118,,,0,"Special case long_description_content_type

As described in the pypa pull request, special-case passing through
these fields into the metadata.  setuptools will maintain them.

Change-Id: I89eb8c6d627790680a61a0a4b7490191b6e8e90c
Closes-Bug: #1762494
",git fetch https://review.opendev.org/openstack/pbr refs/changes/77/565177/5 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/util.py', 'pbr/core.py']",2,029bd74ff990bd3e1230a060211a3004b886002d,bug/1762494," # Note this is not part of the distutils metadata, # it's specific to setuptools. Thus dist.metadata # doesn't contain a value for it yet. Special-case # adding it. # See https://github.com/pypa/setuptools/pull/1343 if key == 'long_description_content_type': setattr(dist.metadata, 'long_description_content_type', val) else: msg = 'Unknown distribution option: %s' % repr(key) warnings.warn(msg)", msg = 'Unknown distribution option: %s' % repr(key) warnings.warn(msg),13,3
openstack%2Foslo.i18n~master~I3edb3d275a078b3be30c9a6f339fab9321601ec8,openstack/oslo.i18n,master,I3edb3d275a078b3be30c9a6f339fab9321601ec8,Use templates for cover and lower-constraints,MERGED,2018-09-07 10:16:14.000000000,2018-10-05 23:24:33.000000000,2018-10-05 23:24:33.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 10:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/4eac8760cb08ea60ef9be1b46e26bcfdc81501a7', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job as\nnon-voting in the check queue only.\n\nUse openstack-lower-constraints-jobs template\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nChange-Id: I3edb3d275a078b3be30c9a6f339fab9321601ec8\n'}, {'number': 2, 'created': '2018-09-07 11:52:48.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/0444336f6a7576fc903bf263df9186de6614db46', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job as\nnon-voting in the check queue only.\n\nUse openstack-lower-constraints-jobs template\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nFix cover invocation in tox.ini.\n\nChange-Id: I3edb3d275a078b3be30c9a6f339fab9321601ec8\n'}]",1,600695,0444336f6a7576fc903bf263df9186de6614db46,9,3,2,6547,,,0,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job as
non-voting in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Sort list of templates.

Fix cover invocation in tox.ini.

Change-Id: I3edb3d275a078b3be30c9a6f339fab9321601ec8
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/95/600695/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4eac8760cb08ea60ef9be1b46e26bcfdc81501a7,update-zuul, templates: - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python35-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3, check: jobs: - openstack-tox-lower-constraints gate: jobs: - openstack-tox-lower-constraints templates: - openstack-python-jobs - openstack-python35-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs post: jobs: - openstack-tox-cover,7,14
openstack%2Ftaskflow~master~Ie7971023eed04f6479c05c1d2a1dfd2a948b07e1,openstack/taskflow,master,Ie7971023eed04f6479c05c1d2a1dfd2a948b07e1,Use templates for cover and lower-constraints,MERGED,2018-09-07 10:42:43.000000000,2018-10-05 23:22:57.000000000,2018-10-05 23:22:57.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 10:42:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f34aea96083de22e46504c0becf89be097d93df6', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template\n\nRemove jobs that are part of the templates.\n\nSort list of templates.\n\nChange-Id: Ie7971023eed04f6479c05c1d2a1dfd2a948b07e1\n'}]",0,600704,f34aea96083de22e46504c0becf89be097d93df6,7,3,1,6547,,,0,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job
in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Sort list of templates.

Change-Id: Ie7971023eed04f6479c05c1d2a1dfd2a948b07e1
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/04/600704/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f34aea96083de22e46504c0becf89be097d93df6,update-zuul, - openstack-lower-constraints-jobs - openstack-cover-jobs - openstack-python-jobs - openstack-python35-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3, check: jobs: - openstack-tox-lower-constraints gate: jobs: - openstack-tox-lower-constraints - openstack-python-jobs - openstack-python35-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs post: jobs: - openstack-tox-cover,7,14
openstack%2Foctavia~master~I916ccb7658d4849b3c208405ec40fc1a0eab4ba7,openstack/octavia,master,I916ccb7658d4849b3c208405ec40fc1a0eab4ba7,HTTPS HMs need the same validation path as HTTP++,MERGED,2018-10-04 23:09:34.000000000,2018-10-05 23:20:16.000000000,2018-10-05 23:20:16.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 23:09:34.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c88c553ae619f41e2989bd045a049a0889f55bf', 'message': ""HTTPS HMs need the same validation path as HTTP++\n\nSecond take on this patch, didn't realize the Create and the Update\npaths were different. Same exact change as the other patch, but in the\nupdate validation method.\n\nFor reference: https://review.openstack.org/#/c/604924/\n\nChange-Id: I916ccb7658d4849b3c208405ec40fc1a0eab4ba7\n""}]",0,608099,2c88c553ae619f41e2989bd045a049a0889f55bf,7,3,1,10273,,,0,"HTTPS HMs need the same validation path as HTTP++

Second take on this patch, didn't realize the Create and the Update
paths were different. Same exact change as the other patch, but in the
update validation method.

For reference: https://review.openstack.org/#/c/604924/

Change-Id: I916ccb7658d4849b3c208405ec40fc1a0eab4ba7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/608099/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/health_monitor.py']",2,2c88c553ae619f41e2989bd045a049a0889f55bf,," if db_hm.type not in (consts.HEALTH_MONITOR_HTTP, consts.HEALTH_MONITOR_HTTPS):", if db_hm.type != consts.HEALTH_MONITOR_HTTP:,25,1
openstack%2Fos-brick~stable%2Frocky~If801dfc2462c0d3f986eebd4108087139934610d,openstack/os-brick,stable/rocky,If801dfc2462c0d3f986eebd4108087139934610d,Succeed on iSCSI detach when path just went down,MERGED,2018-10-01 20:34:22.000000000,2018-10-05 22:50:55.000000000,2018-10-03 15:50:35.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13953}, {'_account_id': 15670}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-10-01 20:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/766ba6b72f9b0716644ed7618f2583edaae5a893', 'message': ""Succeed on iSCSI detach when path just went down\n\nIf the iSCSI connection to a device goes down right after we flush it,\nor if one of the paths of a multipath device goes down right before we\nstart disconnecting, the detach will fail even though it should succeed.\n\nWe'll see a VolumePathNotRemoved exception listing volumes that had not\ndisappeared.\n\nThis happens because, under those circumstances, it may take up to 30\nseconds for the SCSI device to be removed from /dev, but expect it to\ndisappear in 6 seconds (first check happens, immediately, then another\nin 2 seconds, and another in 4 seconds).\n\nSince the device will be removed if we wait a bit more, this patch makes\nit so that we wait for up to 30 seconds for the removal.\n\nTo ensure we wait as little time as possible, we change the way we wait\nfor the devices to be removed.  Instead of checking, sleeping for 2 and\nthen for 4 seconds, and then checking again, we just sleep 500ms between\nchecks, and we do the DEBUG log every 5 seconds.\n\nChange-Id: If801dfc2462c0d3f986eebd4108087139934610d\nCloses-Bug: #1794829\n""}, {'number': 2, 'created': '2018-10-01 20:40:13.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b75411de2b2aadd1eafd2f8f8b1579df357bf09f', 'message': ""Succeed on iSCSI detach when path just went down\n\nIf the iSCSI connection to a device goes down right after we flush it,\nor if one of the paths of a multipath device goes down right before we\nstart disconnecting, the detach will fail even though it should succeed.\n\nWe'll see a VolumePathNotRemoved exception listing volumes that had not\ndisappeared.\n\nThis happens because, under those circumstances, it may take up to 30\nseconds for the SCSI device to be removed from /dev, but expect it to\ndisappear in 6 seconds (first check happens, immediately, then another\nin 2 seconds, and another in 4 seconds).\n\nSince the device will be removed if we wait a bit more, this patch makes\nit so that we wait for up to 30 seconds for the removal.\n\nTo ensure we wait as little time as possible, we change the way we wait\nfor the devices to be removed.  Instead of checking, sleeping for 2 and\nthen for 4 seconds, and then checking again, we just sleep 500ms between\nchecks, and we do the DEBUG log every 5 seconds.\n\nChange-Id: If801dfc2462c0d3f986eebd4108087139934610d\nCloses-Bug: #1794829\n(cherry-picked from b9c7bc2b597d944cbc404d6bf5fedc35d095a897)\n""}]",0,607041,b75411de2b2aadd1eafd2f8f8b1579df357bf09f,17,12,2,13953,,,0,"Succeed on iSCSI detach when path just went down

If the iSCSI connection to a device goes down right after we flush it,
or if one of the paths of a multipath device goes down right before we
start disconnecting, the detach will fail even though it should succeed.

We'll see a VolumePathNotRemoved exception listing volumes that had not
disappeared.

This happens because, under those circumstances, it may take up to 30
seconds for the SCSI device to be removed from /dev, but expect it to
disappear in 6 seconds (first check happens, immediately, then another
in 2 seconds, and another in 4 seconds).

Since the device will be removed if we wait a bit more, this patch makes
it so that we wait for up to 30 seconds for the removal.

To ensure we wait as little time as possible, we change the way we wait
for the devices to be removed.  Instead of checking, sleeping for 2 and
then for 4 seconds, and then checking again, we just sleep 500ms between
checks, and we do the DEBUG log every 5 seconds.

Change-Id: If801dfc2462c0d3f986eebd4108087139934610d
Closes-Bug: #1794829
(cherry-picked from b9c7bc2b597d944cbc404d6bf5fedc35d095a897)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/41/607041/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,766ba6b72f9b0716644ed7618f2583edaae5a893,bug/1794829,"import timeimport six exist = ['/dev/' + volume_name for volume_name in volumes_names] # It can take up to 30 seconds to remove a SCSI device if the path # failed right before we start detaching, which is unlikely, but we # still shouldn't fail in that case. for i in range(61): exist = [path for path in exist if os.path.exists(path)] if not exist: LOG.debug(""SCSI volumes %s have been removed."", str_names) return # Don't sleep on the last try since we are quitting if i < 60: time.sleep(0.5) # Log every 5 seconds if i % 10 == 0: LOG.debug('%s still exist.', ', '.join(exist)) raise exception.VolumePathNotRemoved(volume_path=exist)","import six @utils.retry(exceptions=exception.VolumePathNotRemoved) exist = [volume_name for volume_name in volumes_names if os.path.exists('/dev/' + volume_name)] if exist: LOG.debug('%s still exist.', ', '.join(exist)) raise exception.VolumePathNotRemoved(volume_path=exist) LOG.debug(""SCSI volumes %s have been removed."", str_names)",20,9
openstack%2Foslo.messaging~master~I945a2aca60347dad672cc406cd33e80e93c588a7,openstack/oslo.messaging,master,I945a2aca60347dad672cc406cd33e80e93c588a7,Fix oslo.messaging default transport,MERGED,2018-10-05 09:42:07.000000000,2018-10-05 22:48:55.000000000,2018-10-05 22:48:55.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 8871}, {'_account_id': 16137}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-10-05 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d8155450935d81fc71b6477cfd9dadd792bd7686', 'message': 'Rabbitmq default are broken\n\nChange-Id: I945a2aca60347dad672cc406cd33e80e93c588a7\n'}, {'number': 2, 'created': '2018-10-05 10:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/873a8ddc892064701aa6f4ff7cc47166ecc3c434', 'message': 'Fix oslo.messaging default transport\n\nChange d3f6ca0b47e2a5a3413b27617d9655f02b191c6a have broken\noslo.messaging defaults, no more transport are selected by default and\noslo.messaging just crash:\n\n    Traceback (most recent call last):\n      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/mock/mock.py"", line 1305, in patched\n        return func(*args, **keywargs)\n      File ""oslo_messaging/tests/test_transport.py"", line 111, in test_get_transport\n        transport_ = oslo_messaging.get_transport(self.conf, **kwargs)\n      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/debtcollector/removals.py"", line 242, in wrapper\n        return f(*args, **kwargs)\n      File ""oslo_messaging/transport.py"", line 247, in get_transport\n        transport_cls=RPCTransport)\n      File ""oslo_messaging/transport.py"", line 205, in _get_transport\n        url.transport.split(\'+\')[0],\n    AttributeError: \'NoneType\' object has no attribute \'split\'\n\nThis change restores rabbit:// as default.\n\nChange-Id: I945a2aca60347dad672cc406cd33e80e93c588a7\n'}, {'number': 3, 'created': '2018-10-05 13:22:05.000000000', 'files': ['oslo_messaging/transport.py', 'oslo_messaging/tests/test_transport.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/172cfb33f3ee207531a9e82fbc8293d24009a256', 'message': 'Fix oslo.messaging default transport\n\nChange d3f6ca0b47e2a5a3413b27617d9655f02b191c6a have broken\noslo.messaging defaults, no more transport are selected by default and\noslo.messaging just crash:\n\n    Traceback (most recent call last):\n      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/mock/mock.py"", line 1305, in patched\n        return func(*args, **keywargs)\n      File ""oslo_messaging/tests/test_transport.py"", line 111, in test_get_transport\n        transport_ = oslo_messaging.get_transport(self.conf, **kwargs)\n      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/debtcollector/removals.py"", line 242, in wrapper\n        return f(*args, **kwargs)\n      File ""oslo_messaging/transport.py"", line 247, in get_transport\n        transport_cls=RPCTransport)\n      File ""oslo_messaging/transport.py"", line 205, in _get_transport\n        url.transport.split(\'+\')[0],\n    AttributeError: \'NoneType\' object has no attribute \'split\'\n\nThis change restores rabbit:// as default.\n\nChange-Id: I945a2aca60347dad672cc406cd33e80e93c588a7\n'}]",0,608196,172cfb33f3ee207531a9e82fbc8293d24009a256,19,8,3,2813,,,0,"Fix oslo.messaging default transport

Change d3f6ca0b47e2a5a3413b27617d9655f02b191c6a have broken
oslo.messaging defaults, no more transport are selected by default and
oslo.messaging just crash:

    Traceback (most recent call last):
      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/mock/mock.py"", line 1305, in patched
        return func(*args, **keywargs)
      File ""oslo_messaging/tests/test_transport.py"", line 111, in test_get_transport
        transport_ = oslo_messaging.get_transport(self.conf, **kwargs)
      File ""/home/sileht/workspace/openstack/oslo.messaging/.tox/py27/lib/python2.7/site-packages/debtcollector/removals.py"", line 242, in wrapper
        return f(*args, **kwargs)
      File ""oslo_messaging/transport.py"", line 247, in get_transport
        transport_cls=RPCTransport)
      File ""oslo_messaging/transport.py"", line 205, in _get_transport
        url.transport.split('+')[0],
    AttributeError: 'NoneType' object has no attribute 'split'

This change restores rabbit:// as default.

Change-Id: I945a2aca60347dad672cc406cd33e80e93c588a7
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/96/608196/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/test_transport.py'],1,d8155450935d81fc71b6477cfd9dadd792bd7686,," ('default', dict(url=None, transport_url=None, control_exchange=None, allowed=None, expect=dict(backend='rabbit:', exchange=None, url='rabbit:', allowed=[]))),",,7,0
openstack%2Foctavia~stable%2Fqueens~I507974993b39c6ed333d1bb2c3dd6bc756be67a6,openstack/octavia,stable/queens,I507974993b39c6ed333d1bb2c3dd6bc756be67a6,Add note to lower constraints for Jinja and pyOpenSSL,MERGED,2018-09-28 17:04:49.000000000,2018-10-05 22:47:41.000000000,2018-10-05 22:47:41.000000000,"[{'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 17:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4989f6c70dd5836ce0bbae5b5b537a32bca458ce', 'message': 'Add note to lower constraints for Jinja and pyOpenSSL\n\nChange-Id: I507974993b39c6ed333d1bb2c3dd6bc756be67a6\n'}, {'number': 2, 'created': '2018-10-01 21:29:44.000000000', 'files': ['doc/source/contributor/guides/dev-quick-start.rst', 'releasenotes/notes/add-note-to-lower-constraints-for-jinja-and-pyopenssl-1e5d556745e48fa1.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e04ddb3740f114992ec8002cf71d584276555193', 'message': 'Add note to lower constraints for Jinja and pyOpenSSL\n\nChange-Id: I507974993b39c6ed333d1bb2c3dd6bc756be67a6\n'}]",0,606142,e04ddb3740f114992ec8002cf71d584276555193,12,4,2,6469,,,0,"Add note to lower constraints for Jinja and pyOpenSSL

Change-Id: I507974993b39c6ed333d1bb2c3dd6bc756be67a6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/606142/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/guides/dev-quick-start.rst'],1,4989f6c70dd5836ce0bbae5b5b537a32bca458ce,606142,.. warning:: Octavia Queens release was released with insufficient lower constraints for Jinja2 and pyOpenSSL requirements. Please make sure your environment can install Jinja2>=2.10 and pyOpenSSL>=17.1.0 before continuing. ,,5,0
openstack%2Fopenstack-ansible-os_nova~stable%2Frocky~I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192,openstack/openstack-ansible-os_nova,stable/rocky,I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192,Revert region name option to os_region_name for Cinder,MERGED,2018-08-26 06:27:58.000000000,2018-10-05 22:25:11.000000000,2018-10-05 22:25:11.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-26 06:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7aec8b9c930e5052ca5f7af2260cdca8ec17120a', 'message': 'Revert region name option to os_region_name for Cinder\n\nThe os_region_name option was changed to region_name for most\nservices inside Nova, however, it was not changed for Cinder as\nthat retains os_region_name.\n\nChange-Id: I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192\n(cherry picked from commit 8057f777f5f1262eb1748f0ac2afbf3227ae8305)\n'}, {'number': 2, 'created': '2018-09-09 07:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3be725ef05310352c88c93b243e89b9c103d298e', 'message': 'Revert region name option to os_region_name for Cinder\n\nThe os_region_name option was changed to region_name for most\nservices inside Nova, however, it was not changed for Cinder as\nthat retains os_region_name.\n\nChange-Id: I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192\n(cherry picked from commit 8057f777f5f1262eb1748f0ac2afbf3227ae8305)\n'}, {'number': 3, 'created': '2018-09-27 07:38:21.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/bd718fed1a9a7ac87bb74481cdb02015b19f8e46', 'message': 'Revert region name option to os_region_name for Cinder\n\nThe os_region_name option was changed to region_name for most\nservices inside Nova, however, it was not changed for Cinder as\nthat retains os_region_name.\n\nChange-Id: I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192\n(cherry picked from commit 8057f777f5f1262eb1748f0ac2afbf3227ae8305)\n'}]",0,596577,bd718fed1a9a7ac87bb74481cdb02015b19f8e46,32,6,3,1004,,,0,"Revert region name option to os_region_name for Cinder

The os_region_name option was changed to region_name for most
services inside Nova, however, it was not changed for Cinder as
that retains os_region_name.

Change-Id: I2f92d3e5cdfdfbb4a69b968d2e4d4d15389b7192
(cherry picked from commit 8057f777f5f1262eb1748f0ac2afbf3227ae8305)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/77/596577/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,7aec8b9c930e5052ca5f7af2260cdca8ec17120a,rocky-deploy,os_region_name = {{ nova_service_region }},region_name = {{ nova_service_region }},1,1
openstack%2Fopenstacksdk~master~I005a6d9b195a6cceae855d1392a29f12d6782a55,openstack/openstacksdk,master,I005a6d9b195a6cceae855d1392a29f12d6782a55,Set endpoint_override from endpoint with noauth,MERGED,2018-09-21 16:30:59.000000000,2018-10-05 22:20:48.000000000,2018-10-05 22:20:48.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-21 16:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b25cab6440f33b45a4bda959bfb166ab7e2ddbda', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 2, 'created': '2018-09-21 16:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/702444211727df4feaaeced10fcee38c3e8da1a3', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 3, 'created': '2018-09-21 17:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec7c0b7a510cf4586059f2931b696eb034fa8dc6', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 4, 'created': '2018-09-23 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6e47a4c454ce11897a443b414d31153cfa2f78f5', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 5, 'created': '2018-09-23 17:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0308464ccb4d38de722d8ad6b4906df7e9ed782c', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 6, 'created': '2018-09-24 12:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f75e8f153d0a346a123a6e23ddeb4f6ccebb40a6', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 7, 'created': '2018-09-25 10:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5adbe28da1ef4c782147d810dd3af6fc7c4c23a8', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 8, 'created': '2018-09-26 18:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d1e3c8c37f41a584b6119cba3784b2f4c47ae171', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 9, 'created': '2018-09-28 13:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bd0b85961150aaf4995b8392dec859c57b897fd7', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}, {'number': 10, 'created': '2018-10-05 13:35:27.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/tests/unit/cloud/test_operator_noauth.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a70c29134ef0c426d4a28d41940ee661601dceec', 'message': ""Set endpoint_override from endpoint with noauth\n\nWhen noauth is used via the 'none' auth_type, the endpoint given\nactually wants to get passed to keystoneauth as an endpoint_override for\nthat service, otherwise discovery from keystoneauth no worky.\n\nChange-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55\n""}]",1,604415,a70c29134ef0c426d4a28d41940ee661601dceec,31,4,10,2,,,0,"Set endpoint_override from endpoint with noauth

When noauth is used via the 'none' auth_type, the endpoint given
actually wants to get passed to keystoneauth as an endpoint_override for
that service, otherwise discovery from keystoneauth no worky.

Change-Id: I005a6d9b195a6cceae855d1392a29f12d6782a55
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/15/604415/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/config/cloud_region.py'],1,b25cab6440f33b45a4bda959bfb166ab7e2ddbda,discovery," if not value: if self.config.get('auth_type') in ('none', None): # If endpoint is given and we're using the none auth type, # then the endpoint value is the endpoint_override for every # service. value = self.config.get('auth', {}).get('endpoint')",,6,0
openstack%2Fopenstacksdk~master~I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace,openstack/openstacksdk,master,I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace,Remove profile,MERGED,2018-09-21 16:30:59.000000000,2018-10-05 22:20:47.000000000,2018-10-05 22:20:47.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-21 16:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9f364d50d22fa8d354da9e6db3a41d43781db467', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}, {'number': 2, 'created': '2018-09-23 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/737925e18d2ab1f566c03fd9f5770526878696c0', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}, {'number': 3, 'created': '2018-09-23 17:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/835982b45ee7ae5ad1d46a0896ef24af49b29407', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}, {'number': 4, 'created': '2018-09-24 12:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f80553e40199300d4abc2f47fe1239ee3b4a53d', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}, {'number': 5, 'created': '2018-09-25 10:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d03f5dbffeeed4c0ad16ea0ee9c8ad9d5ac33b2f', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}, {'number': 6, 'created': '2018-09-26 18:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b4a8b0314a035969e90671ba06fe8483d815e628', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}, {'number': 7, 'created': '2018-09-28 13:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2878837969e8e50cb305b196dbaea9633c23877a', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}, {'number': 8, 'created': '2018-10-05 13:35:27.000000000', 'files': ['openstack/tests/unit/test_connection.py', 'releasenotes/notes/removed-profile-b033d870937868a1.yaml', 'openstack/profile.py', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a030d82e509f14e3bd2177b01f36115773712917', 'message': 'Remove profile\n\nprofile has been deprecated for a couple of releases now and its use has\nbeen removed from python-openstackclient and python-senlinclient. Remove\nit in anticipation of a 1.0 release.\n\nChange-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace\n'}]",0,604414,a030d82e509f14e3bd2177b01f36115773712917,39,4,8,2,,,0,"Remove profile

profile has been deprecated for a couple of releases now and its use has
been removed from python-openstackclient and python-senlinclient. Remove
it in anticipation of a 1.0 release.

Change-Id: I2005b05eeed4f84ee8fc8745c13f8d68a0da0ace
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/604414/7 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_connection.py', 'releasenotes/notes/removed-profile-b033d870937868a1.yaml', 'openstack/profile.py', 'openstack/connection.py']",4,9f364d50d22fa8d354da9e6db3a41d43781db467,discovery, if session:," # TODO(shade) Remove these once we've shifted # python-openstackclient to not use the profile interface. authenticator=None, profile=None, :param authenticator: DEPRECATED. Only exists for short-term backwards compatibility for python-openstackclient while we transition. See :doc:`transition_from_profile` for details. :param profile: DEPRECATED. Only exists for short-term backwards compatibility for python-openstackclient while we transition. See :doc:`transition_from_profile` for details. if profile: import openstack.profile # TODO(shade) Remove this once we've shifted # python-openstackclient to not use the profile interface. self.config = openstack.profile._get_config_from_profile( profile, authenticator, **kwargs) elif session:",6,239
openstack%2Fswift~master~Ib07050c386f86c60af3e689708090aea4337c766,openstack/swift,master,Ib07050c386f86c60af3e689708090aea4337c766,Micro cleanup by using dict.clear,ABANDONED,2018-10-05 21:43:17.000000000,2018-10-05 21:44:13.000000000,,[],"[{'number': 1, 'created': '2018-10-05 21:43:17.000000000', 'files': ['test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4bd12c1ed23d7d504900773f74d4b33100c74120', 'message': 'Micro cleanup by using dict.clear\n\nChange-Id: Ib07050c386f86c60af3e689708090aea4337c766\n'}]",0,608366,4bd12c1ed23d7d504900773f74d4b33100c74120,2,0,1,597,,,0,"Micro cleanup by using dict.clear

Change-Id: Ib07050c386f86c60af3e689708090aea4337c766
",git fetch https://review.opendev.org/openstack/swift refs/changes/66/608366/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_db.py'],1,4bd12c1ed23d7d504900773f74d4b33100c74120,cleanup/clear, stub_dict.clear(), for key in stub_dict.keys(): del stub_dict[key],1,2
openstack%2Fnova~master~Iefff121640e04abdbb6a4ae546c447f168dc8af9,openstack/nova,master,Iefff121640e04abdbb6a4ae546c447f168dc8af9,Run ServerMovingTests with nested resources,MERGED,2018-09-20 13:17:52.000000000,2018-10-05 21:27:05.000000000,2018-10-05 21:27:05.000000000,"[{'_account_id': 7}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-20 13:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6ebe2ec62c6ae6d196caafab48507c720e5f9c8', 'message': 'Run ServerMovingTests with nested resources\n\nThis patch duplicate the functional test from ServerMovingTest twice.\nFirst to run them against compute nodes that have nested RP tree. Second\nto actually request resource from such nested RPs.\n\nChange-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 2, 'created': '2018-09-26 13:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8de1f66dff8ccbd50a4ab3e797781653051ae17b', 'message': 'Run ServerMovingTests with nested resources\n\nThis patch duplicate the functional test from ServerMovingTest twice.\nFirst to run them against compute nodes that have nested RP tree. Second\nto actually request resource from such nested RPs.\n\nChange-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 3, 'created': '2018-09-28 08:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33e2f9fdce3c3c4e1354f0cc50eeeccab05e20fe', 'message': 'Run ServerMovingTests with nested resources\n\nThis patch duplicate the functional test from ServerMovingTest twice.\nFirst to run them against compute nodes that have nested RP tree. Second\nto actually request resource from such nested RPs.\n\nChange-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 4, 'created': '2018-10-02 15:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad53dd87ec893d6ae9686af68ac6d775b65af79f', 'message': 'Run ServerMovingTests with nested resources\n\nThis patch duplicates the functional test from ServerMovingTest twice.\nFirst to run them against compute nodes that have nested RP tree. Second\nto actually request resources from those nested RPs.\n\nChange-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 5, 'created': '2018-10-03 07:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1457575f6580b4deffbaad89dce5161bfafad21', 'message': 'Run ServerMovingTests with nested resources\n\nThis patch duplicates the functional test from ServerMovingTest twice.\nFirst to run them against compute nodes that have nested RP tree. Second\nto actually request resources from those nested RPs.\n\nChange-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 6, 'created': '2018-10-03 07:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9188ef40b25afb07ef5a0250e8e49ed16a80cdb4', 'message': 'Run ServerMovingTests with nested resources\n\nThis patch duplicates the functional test from ServerMovingTest twice.\nFirst to run them against compute nodes that have nested RP tree. Second\nto actually request resources from those nested RPs.\n\nChange-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 7, 'created': '2018-10-04 13:31:08.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2202d7726bb41a2d3228297545327d5b41f35f7e', 'message': 'Run ServerMovingTests with nested resources\n\nThis patch duplicates the functional test from ServerMovingTest twice.\nFirst to run them against compute nodes that have nested RP tree. Second\nto actually request resources from those nested RPs.\n\nChange-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9\nBlueprint: use-nested-allocation-candidates\n'}]",50,604084,2202d7726bb41a2d3228297545327d5b41f35f7e,103,19,7,9708,,,0,"Run ServerMovingTests with nested resources

This patch duplicates the functional test from ServerMovingTest twice.
First to run them against compute nodes that have nested RP tree. Second
to actually request resources from those nested RPs.

Change-Id: Iefff121640e04abdbb6a4ae546c447f168dc8af9
Blueprint: use-nested-allocation-candidates
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/604084/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/virt/fake.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py']",4,a6ebe2ec62c6ae6d196caafab48507c720e5f9c8,bp/use-nested-allocation-candidates," self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) # The target host usage should be according to the new flavor self.assertFlavorMatchesUsage(self.flavor2, dest_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, server['id'], dest_rp_uuid) # and the target host usage should be according to the new flavor self.assertFlavorMatchesUsage(self.flavor2, dest_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor2, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor3, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor3, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertRequestMatchesUsage(zero_usage, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage(zero_usage, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) def _check_allocation_during_evacuate( self, flavor, server_uuid, source_root_rp_uuid, dest_root_rp_uuid): allocations = self._get_allocations_by_server_uuid(server_uuid) self.assertEqual(2, len(allocations)) self.assertFlavorMatchesUsage(flavor, source_root_rp_uuid) self.assertFlavorMatchesUsage(flavor, dest_root_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self._check_allocation_during_evacuate( self.flavor1, server['id'], source_rp_uuid, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self._check_allocation_during_evacuate( self.flavor1, server['id'], source_rp_uuid, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], current_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], current_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.flavor1, server['id'], source_rp_uuid) self.flavor1, migrate_data.migration.uuid, source_rp_uuid) self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorsMatchesUsage( self.flavor1, self.flavor2, rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, uuid_orig) self.assertFlavorMatchesUsage(self.flavor2, uuid_dest) # the target host usage should be according to the flavor self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) # the source host has no usage self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, failed_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, failed_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, migration_uuid, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, migration_uuid, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) class ServerMovingTestsWithNestedComputes(ServerMovingTests): """"""Runs all the server moving tests while the computes has nested trees. The servers still do not require any nested resources though. """""" compute_driver = 'fake.MediumFakeDriverWithNestedCustomResources' class ServerMovingTestsWithNestedResourceRequests( ServerMovingTestsWithNestedComputes): """"""Runs all the server moving tests while the computes has nested trees. The servers also request resources from the nested RP. """""" def setUp(self): super(ServerMovingTestsWithNestedResourceRequests, self).setUp() # modify the flavors used in the ServerMoving test base class to # require one piece of CUSTOM_MAGIC resource as well. for flavor in [self.flavor1, self.flavor2, self.flavor3]: self.api.post_extra_spec( flavor['id'], {'extra_specs': {'resources:CUSTOM_MAGIC': 1}}) # save the extre_specs in the flavor stored in the test case as # well flavor['extra_specs'] = {'resources:CUSTOM_MAGIC': 1} def _check_allocation_during_evacuate( self, flavor, server_uuid, source_root_rp_uuid, dest_root_rp_uuid): # NOTE(gibi): evacuate is the only case when the same consumer has # allocation from two different RP trees so we need a special check # here. allocations = self._get_allocations_by_server_uuid(server_uuid) source_rps = self._get_all_rp_uuids_in_a_tree(source_root_rp_uuid) dest_rps = self._get_all_rp_uuids_in_a_tree(dest_root_rp_uuid) self.assertEqual(set(source_rps + dest_rps), set(allocations.keys())) import collections total_source_allocation = collections.defaultdict(int) total_dest_allocation = collections.defaultdict(int) for rp, alloc in allocations.items(): for rc, value in alloc['resources'].items(): if rp in source_rps: total_source_allocation[rc] += value else: total_dest_allocation[rc] += value self.assertEqual( self._resources_from_flavor(flavor), total_source_allocation) self.assertEqual( self._resources_from_flavor(flavor), total_dest_allocation) import unittest @unittest.expectedFailure def test_live_migrate_force(self): # This test shows a bug. The replace_allocation_with_migration() call # only returns the allocation on the compute RP and therefore the # LiveMigrationTask._held_migration only stores and reapplies that # during the move. Therefore the allocation on the child RP is lost # during the force live migration super(ServerMovingTestsWithNestedComputes, self).test_live_migrate_force() @unittest.expectedFailure def test_evacuate(self): # This test shows a bug. It seems that when the source allocation is # dropped after the failed evacuate nova only drops the allocation from # the root RP but not from the child RP. super(ServerMovingTestsWithNestedComputes, self).test_evacuate() @unittest.expectedFailure def test_evacuate_rebuild_on_dest_fails(self): # This test shows a bug. It seems that when the rebuild fails on the # destination host only the root RP allocation is deleted on the dest # host. super(ServerMovingTestsWithNestedComputes, self).test_evacuate_rebuild_on_dest_fails() @unittest.expectedFailure def test_evacuate_claim_on_dest_fails(self): # This test shows a bug. It seems that when the evacuation fails on the # destination host only the root RP allocation is deleted on the dest # host. super(ServerMovingTestsWithNestedComputes, self).test_evacuate_claim_on_dest_fails() @unittest.expectedFailure def test_evacuate_forced_host(self): # This test shows a bug. When the conductor tries to claim the same # resources on the dest host that was on the source host it only # considers the root RP allocations therefore the child RP allocation # isn't replicated on the dest host. super(ServerMovingTestsWithNestedComputes, self).test_evacuate_forced_host()"," source_usages = self._get_provider_usages(source_rp_uuid) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages, 'Target host %s still has usage after the resize ' 'has been reverted' % dest_hostname) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) allocations = self._get_allocations_by_server_uuid(server['id']) # and the server allocates only from the target host self.assertEqual(1, len(allocations)) source_usages = self._get_provider_usages(source_rp_uuid) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages, 'The source host %s still has usages after the ' 'resize has been confirmed' % source_hostname) # and the target host allocation should be according to the new flavor self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) source_usages = self._get_provider_usages(source_rp_uuid) # and the target host allocation should be according to the new flavor self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages, 'The source host %s still has usages after the ' 'resize has been confirmed' % source_hostname) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, dest_allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor3, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor3, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual(zero_usage, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual(zero_usage, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) current_usages = self._get_provider_usages(current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, current_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[current_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) current_usages = self._get_provider_usages(current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, current_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[current_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertIn(source_rp_uuid, allocations) self.flavor1, allocations[source_rp_uuid]['resources']) _allocations = self._get_allocations_by_server_uuid( migrate_data.migration.uuid) self.assertEqual(1, len(_allocations)) self.assertIn(source_rp_uuid, _allocations) self.flavor1, _allocations[source_rp_uuid]['resources']) _allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(_allocations)) self.assertIn(dest_rp_uuid, _allocations) self.flavor1, _allocations[dest_rp_uuid]['resources']) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertIn(source_rp_uuid, allocations) self.flavor1, allocations[source_rp_uuid]['resources']) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) failed_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorsMatchAllocation( self.flavor1, self.flavor2, usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) source_usages = self._get_provider_usages(uuid_orig) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) source_usages = self._get_provider_usages(uuid_orig) dest_usages = self._get_provider_usages(uuid_dest) self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # and the server allocates only from the target host self.assertEqual(1, len(allocations)) source_usages = self._get_provider_usages(source_rp_uuid) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages, 'The source host %s still has usages after the ' 'resize has been confirmed' % source_hostname) # and the target host allocation should be according to the flavor self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages, 'Target host %s still has usage after the ' 'resize has been reverted' % dest_hostname) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, dest_usages) failed_usages = self._get_provider_usages(failed_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) failed_usages = self._get_provider_usages(failed_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, alloc) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, alloc) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(migration_uuid) self.assertEqual(1, len(allocations)) self.assertIn(source_rp_uuid, allocations) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, source_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, dest_allocation) allocations = self._get_allocations_by_server_uuid(migration_uuid) self.assertEqual(1, len(allocations)) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, source_allocation)",466,451
openstack%2Fcinder~driverfixes%2Fmitaka~If7e965993153216651be8ea8c111809875080929,openstack/cinder,driverfixes/mitaka,If7e965993153216651be8ea8c111809875080929,Move zuul jobs in-tree,MERGED,2018-10-01 16:07:06.000000000,2018-10-05 20:52:21.000000000,2018-10-02 18:01:16.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 11611}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-01 16:07:06.000000000', 'files': ['.gitignore', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/04e91db296207dcdc8a050456f93213213fe3ed5', 'message': 'Move zuul jobs in-tree\n\nOfficial branches now have their jobs defined in-tree. We need to define\nour jobs locally so our limited checks are run for driverfixes patches.\n\nChange-Id: If7e965993153216651be8ea8c111809875080929\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,606991,04e91db296207dcdc8a050456f93213213fe3ed5,17,13,1,11904,,,0,"Move zuul jobs in-tree

Official branches now have their jobs defined in-tree. We need to define
our jobs locally so our limited checks are run for driverfixes patches.

Change-Id: If7e965993153216651be8ea8c111809875080929
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/606991/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.zuul.yaml']",2,04e91db296207dcdc8a050456f93213213fe3ed5,,- project: check: jobs: - openstack-tox-pep8 - openstack-tox-py27 gate: jobs: - openstack-tox-pep8 - openstack-tox-py27 ,,10,0
openstack%2Fcinder~driverfixes%2Fnewton~Ie831e3894a49150e2522e2d016bf20f9e64299d4,openstack/cinder,driverfixes/newton,Ie831e3894a49150e2522e2d016bf20f9e64299d4,Move zuul jobs in-tree,MERGED,2018-10-01 16:04:50.000000000,2018-10-05 20:45:30.000000000,2018-10-02 18:01:14.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 11611}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-01 16:04:50.000000000', 'files': ['.gitignore', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e230e17ff56a6196492926b1b591666ec61f778a', 'message': 'Move zuul jobs in-tree\n\nOfficial branches now have their jobs defined in-tree. We need to define\nour jobs locally so our limited checks are run for driverfixes patches.\n\nChange-Id: Ie831e3894a49150e2522e2d016bf20f9e64299d4\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,606990,e230e17ff56a6196492926b1b591666ec61f778a,17,13,1,11904,,,0,"Move zuul jobs in-tree

Official branches now have their jobs defined in-tree. We need to define
our jobs locally so our limited checks are run for driverfixes patches.

Change-Id: Ie831e3894a49150e2522e2d016bf20f9e64299d4
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/606990/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.zuul.yaml']",2,e230e17ff56a6196492926b1b591666ec61f778a,,- project: check: jobs: - openstack-tox-pep8 - openstack-tox-py27 gate: jobs: - openstack-tox-pep8 - openstack-tox-py27 ,,10,0
openstack%2Fopenstack-helm-infra~master~Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e,openstack/openstack-helm-infra,master,Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e,Disable Ceph RADOS Gateway dynamic bucket resharding. Problem was discovered regarding issues being caused by RGW dynamic bucket resharding. It is at this time recommended to disable this feature.,MERGED,2018-10-01 16:37:58.000000000,2018-10-05 20:32:57.000000000,2018-10-05 20:32:57.000000000,"[{'_account_id': 8898}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}]","[{'number': 1, 'created': '2018-10-01 16:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4b927aeee4030ef99f623a46e0138cf01a585fdc', 'message': 'Disable RGW dynamic bucket resharding. Follow upstream and downstream recommendations.\n\nChange-Id: Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e\n'}, {'number': 2, 'created': '2018-10-01 16:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b8d9f278456f828a298cd0fb947143f1c938d76', 'message': 'Disable RGW dynamic bucket resharding.\nProblem was discovered regarding problems being caused by RGW dynamic bucket resharding. It is at this time recommended to disable this feature.\n\nChange-Id: Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e\n'}, {'number': 3, 'created': '2018-10-01 16:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5123759e1d79e55b90ed7604a141825b660524b', 'message': 'Disable Ceph RADOS Gateway dynamic bucket resharding.\nProblem was discovered regarding issues being caused by RGW dynamic\nbucket resharding. It is at this time recommended to disable this feature.\n\nChange-Id: Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e\n'}, {'number': 4, 'created': '2018-10-05 16:20:10.000000000', 'files': ['ceph-rgw/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05391252f8a7279871267bb08196e67659f43892', 'message': 'Disable Ceph RADOS Gateway dynamic bucket resharding.\nProblem was discovered regarding issues being caused by RGW dynamic\nbucket resharding. It is at this time recommended to disable this feature.\n\nChange-Id: Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e\n'}]",0,607001,05391252f8a7279871267bb08196e67659f43892,20,7,4,29053,,,0,"Disable Ceph RADOS Gateway dynamic bucket resharding.
Problem was discovered regarding issues being caused by RGW dynamic
bucket resharding. It is at this time recommended to disable this feature.

Change-Id: Id524415f4ed08ee5374f7fd3b53f6e36c3ab084e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/607001/3 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/values.yaml'],1,4b927aeee4030ef99f623a46e0138cf01a585fdc,, #NOTE (JCL): See http://tracker.ceph.com/issues/24937 #NOTE (JCL): See https://tracker.ceph.com/issues/24551 rgw_dynamic_resharding: false,,3,0
openstack%2Fopenstack-helm-infra~master~I783a2acc03592471c81a8a54e1dc0df140b34a42,openstack/openstack-helm-infra,master,I783a2acc03592471c81a8a54e1dc0df140b34a42,Adding Falco,MERGED,2018-08-30 18:20:57.000000000,2018-10-05 20:24:50.000000000,2018-10-05 20:24:50.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-08-30 18:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06fc05c1b543482f41193a7e7608cda03dbe7abe', 'message': '[WIP] Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 2, 'created': '2018-08-31 15:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0ac55a0027ffc5220682d9315c66c4626bb8608', 'message': '[WIP] Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 3, 'created': '2018-09-05 14:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e88e531ca8466de8471205eaa3a547aeb69b1f11', 'message': '[WIP] Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 4, 'created': '2018-09-05 20:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/487ecc19f03195e642acc52746e724f7a4e1104f', 'message': '[WIP] Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 5, 'created': '2018-09-06 11:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61f494fde4826f8e96ca5acb26378560645b24a7', 'message': '[WIP] Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 6, 'created': '2018-09-24 20:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/896ffd8d35722765144bc6f39adad1af567a692c', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 7, 'created': '2018-09-25 13:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3b7cf7a467437b7776c5ec44596fca920a8248e', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 8, 'created': '2018-09-25 18:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17747d4fbbdfefa5170c4c3d52285d09d91044bf', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 9, 'created': '2018-09-26 20:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/676dde9bd4b78f740b2d05ba4a5e23fcb0f206d1', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 10, 'created': '2018-09-27 16:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd9a87875b924c4643c9d794831efde876bb0ca3', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 11, 'created': '2018-10-01 12:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70846eba0c04183dafff452702047a11996cda8d', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 12, 'created': '2018-10-02 12:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf92b7c40123c7e776a1a887aa34fb973a493b77', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}, {'number': 13, 'created': '2018-10-05 16:18:51.000000000', 'files': ['tools/deployment/common/150-falco.sh', 'falco/templates/bin/_falco.sh.tpl', 'falco/templates/configmap-etc.yaml', 'falco/templates/job-image-repo-sync.yaml', 'tools/deployment/multinode/150-falco.sh', 'falco/values.yaml', 'falco/templates/configmap-rules.yaml', 'playbooks/osh-infra-multinode-deploy.yaml', 'falco/templates/daemonset.yaml', 'falco/templates/configmap-bin.yaml', 'falco/Chart.yaml', 'falco/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a34a7d8e50288ff4851a4fad5cbf19a3492d45d4', 'message': 'Adding Falco\n\nThis commit adds falco daemonset of the node for behavioral activity\nmonitor designed to detect anomalous activity.\n\nChange-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42\n'}]",87,598297,a34a7d8e50288ff4851a4fad5cbf19a3492d45d4,101,9,13,24780,,,0,"Adding Falco

This commit adds falco daemonset of the node for behavioral activity
monitor designed to detect anomalous activity.

Change-Id: I783a2acc03592471c81a8a54e1dc0df140b34a42
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/598297/8 && git format-patch -1 --stdout FETCH_HEAD,"['falco/values.yaml', 'falco/templates/clusterrolebinding.yaml', 'falco/rules/falco_rules.local.yaml', 'falco/templates/configmap.yaml', 'falco/templates/configmap-rules.yaml', 'falco/rules/falco_rules.yaml', 'falco/templates/daemonset.yaml', 'falco/Chart.yaml', 'falco/requirements.yaml', 'falco/templates/clusterrole.yaml']",10,06fc05c1b543482f41193a7e7608cda03dbe7abe,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.falco }} --- kind: ClusterRole apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: {{ .Values.serviceAccountName }} labels: app: falco chart: ""{{ .Chart.Name }}-{{ .Chart.Version }}"" release: ""{{ .Release.Name }}"" heritage: ""{{ .Release.Service }}"" rules: - apiGroups: - extensions - """" resources: - nodes - namespaces - pods - replicationcontrollers - services - events - configmaps verbs: - get - list - watch - nonResourceURLs: - /healthz - /healthz/* verbs: - get {{- end -}} ",,2202,0
openstack%2Fneutron-tempest-plugin~master~If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4,openstack/neutron-tempest-plugin,master,If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4,Fix raising TimeoutException in tests,MERGED,2018-10-04 12:33:07.000000000,2018-10-05 19:59:45.000000000,2018-10-05 19:59:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 12:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b13ad9bdef951a410760bc2abafc362c61406f50', 'message': 'Fix raising TimeoutException in tests\n\nTimeoutException was imported from neutron_tempest_plugin.exceptions\nmodule but there is no such class there.\nThis exception is defined in tempest.lib.exceptions module and\nthis patch changes to use it from there properly.\n\nTrivialFix\n\nChange-Id: If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4\n'}, {'number': 2, 'created': '2018-10-04 14:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d8d062e744f65e3aefda05ea6bdf9fea9d2207cb', 'message': 'Fix raising TimeoutException in tests\n\nTimeoutException was imported from neutron_tempest_plugin.exceptions\nmodule but there is no such class there.\nThis exception is defined in tempest.lib.exceptions module and\nthis patch changes to use it from there properly.\n\nTrivialFix\n\nChange-Id: If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4\n'}, {'number': 3, 'created': '2018-10-05 06:54:56.000000000', 'files': ['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/scenario/test_floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/168e50108a66f0453b38d373d1508ee8bcfafbaa', 'message': 'Fix raising TimeoutException in tests\n\nTimeoutException was imported from neutron_tempest_plugin.exceptions\nmodule but there is no such class there.\nThis exception is defined in tempest.lib.exceptions module and\nthis patch changes to use it from there properly.\n\nTrivialFix\n\nChange-Id: If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4\n'}]",4,607948,168e50108a66f0453b38d373d1508ee8bcfafbaa,21,7,3,11975,,,0,"Fix raising TimeoutException in tests

TimeoutException was imported from neutron_tempest_plugin.exceptions
module but there is no such class there.
This exception is defined in tempest.lib.exceptions module and
this patch changes to use it from there properly.

TrivialFix

Change-Id: If32d8414207cdb9dd8016e8bb1f8ff47164ca1e4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/48/607948/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/scenario/test_floatingip.py']",2,b13ad9bdef951a410760bc2abafc362c61406f50,fix-nit-in-fip-tests,from tempest.lib import exceptions as tempest_exceptions raise tempest_exceptions.TimeoutException(message) raise tempest_exceptions.TimeoutException(message), raise exceptions.TimeoutException(message) raise exceptions.TimeoutException(message),4,3
openstack%2Fos-net-config~stable%2Fqueens~I8f879072799cef29c09ddc74bd71069dd168ec88,openstack/os-net-config,stable/queens,I8f879072799cef29c09ddc74bd71069dd168ec88,Restart ivs/nvfswitch after config file is updated,MERGED,2018-10-01 20:55:17.000000000,2018-10-05 19:34:20.000000000,2018-10-05 19:34:20.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-01 20:55:17.000000000', 'files': ['os_net_config/impl_ifcfg.py', 'releasenotes/notes/restart-ivs-nvfswitch-after-change-0825ea78aae8f138.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cc235aa7cb2c0faa387f11c7a15b121c03fab244', 'message': 'Restart ivs/nvfswitch after config file is updated\n\nThis change - https://review.openstack.org/#/c/561609/, removed the\nrestart of ivs/nvfswitch to avoid network interruptions. However,\nwhen a change is made to the config file then ivs/nvfswitch must be\nrestarted in order to pick up the change.\n\nCloses-Bug: #1794182\nChange-Id: I8f879072799cef29c09ddc74bd71069dd168ec88\n(cherry picked from commit 2495c9ddaa0e7bde9b93e62b02ac146791ff1f21)\n(cherry picked from commit 0571a6baf535651e0cfdbf2fa3688ab15c3a71e9)\n'}]",0,607051,cc235aa7cb2c0faa387f11c7a15b121c03fab244,17,5,1,21909,,,0,"Restart ivs/nvfswitch after config file is updated

This change - https://review.openstack.org/#/c/561609/, removed the
restart of ivs/nvfswitch to avoid network interruptions. However,
when a change is made to the config file then ivs/nvfswitch must be
restarted in order to pick up the change.

Closes-Bug: #1794182
Change-Id: I8f879072799cef29c09ddc74bd71069dd168ec88
(cherry picked from commit 2495c9ddaa0e7bde9b93e62b02ac146791ff1f21)
(cherry picked from commit 0571a6baf535651e0cfdbf2fa3688ab15c3a71e9)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/51/607051/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/impl_ifcfg.py', 'releasenotes/notes/restart-ivs-nvfswitch-after-change-0825ea78aae8f138.yaml']",2,cc235aa7cb2c0faa387f11c7a15b121c03fab244,bug/1794182-stable/rocky-stable/queens,"--- fixes: - When the ivs interface (or nfvswitch) configuration changes, ivs (or nvfswitch) needs to be restarted in order to pick up the new configuration. ",,15,2
openstack%2Foslo-specs~master~Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9,openstack/oslo-specs,master,Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9,config: Protecting Plaintext Secrets,MERGED,2017-06-14 17:43:33.000000000,2018-10-05 19:25:37.000000000,2018-10-05 19:25:37.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6062}, {'_account_id': 6928}, {'_account_id': 7065}, {'_account_id': 7973}, {'_account_id': 8532}, {'_account_id': 8731}, {'_account_id': 8866}, {'_account_id': 10608}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 11904}, {'_account_id': 13637}, {'_account_id': 20099}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22604}, {'_account_id': 27954}, {'_account_id': 28223}]","[{'number': 1, 'created': '2017-06-14 17:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/3f3c39030860291275c1483fe19b20641eace010', 'message': 'Protecting Plaintext Password\n\nUse a Secret Management Store to\nprotect plaintext passowords in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 2, 'created': '2017-06-14 17:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/bec81d259f502db66f2961a19374590f32c5970d', 'message': 'Protecting Plaintext Password\n\nUse a Secret Management Store to\nprotect plaintext passowords in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 3, 'created': '2017-06-14 19:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/1cc09b7600b250e96f277a55323b0c8b9210c9f6', 'message': 'Protecting Plaintext Password\n\nUse a Secret Management Store to\nprotect plaintext passowords in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 4, 'created': '2017-06-16 20:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/2a899a789dedc23668cedef1f9d0141828f7efdb', 'message': 'Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 5, 'created': '2017-09-20 12:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/b67c286d06ff23f71511275b0710dcda63ba7e49', 'message': 'Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 6, 'created': '2017-09-20 12:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/850e0147e9c61094404429176c4204b42aeb4c08', 'message': 'Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 7, 'created': '2017-10-17 19:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/6071d424d9d426ea97cf414773161ff824f0cd9e', 'message': 'Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 8, 'created': '2017-10-17 19:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/8f83339aeffd50a8474f0e8ad4cdc2d88eae2942', 'message': 'Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 9, 'created': '2018-05-08 13:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/8d4081c170bd73d25a23a7bf86f4df9681064e1f', 'message': 'Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 10, 'created': '2018-05-09 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/91e632502518f07c8c028363abc2a0fb2d9f0f23', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 11, 'created': '2018-05-15 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/ce0b7597e0b6225cb211b1aa731a626a61f4953e', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 12, 'created': '2018-05-16 12:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/58c86370fae7e4f4c86712948d5c0a1135c8ce62', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 13, 'created': '2018-06-07 19:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/1afe976505d0337309c93197ec359fb7e7e0d805', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 14, 'created': '2018-06-15 12:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/8e8637394e050cddfea7e38ecb544b948db9972c', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 15, 'created': '2018-06-19 13:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/7addb63a981315bcf0544fbf959184a199912b00', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 16, 'created': '2018-06-19 20:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/7cad8cc6e53813ea1445389c3a82dc94b85f9511', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 17, 'created': '2018-08-16 13:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/fbb8e8fdd670fd89ee7b6c8780df54bff474f074', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}, {'number': 18, 'created': '2018-10-05 17:57:06.000000000', 'files': ['doc/source/index.rst', 'specs/stein/secret-management-store.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/0d6fa3247968fd19a566827782bf01b0a567ce04', 'message': 'config: Protecting Plaintext Secrets\n\nUse a Secret Management Store to\nprotect plaintext values in the\nOpenStack Services.\n\nChange-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9\nImplements: bp protect-plaintext-passwords\n'}]",82,474304,0d6fa3247968fd19a566827782bf01b0a567ce04,87,20,18,8866,,,0,"config: Protecting Plaintext Secrets

Use a Secret Management Store to
protect plaintext values in the
OpenStack Services.

Change-Id: Ib2811960b40fe56ac09a48ac4c7658ffb9ee78b9
Implements: bp protect-plaintext-passwords
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/04/474304/14 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/queen/secret-management-store.rst']",2,3f3c39030860291275c1483fe19b20641eace010,bp/protect-plaintext-passwords,"============================= Protecting Plaintext Password ============================= `bp protecting plaintext password https://blueprints.launchpad.net/oslo.config/+spec/protect-plaintext-passwords` Problem description =================== Current OpenStack services require plaintext passwords and credentials for various access, e.g. database, keystoneauth, etc. Even with proper file permissions set on these files, often time during troubleshooting sessions, these configuration files are send via emails without the passwords properly redacted. Also, the ability to change passwords across multiple nodes are heavily relying on the deployment tools of choice (ansible, fuel, etc.) Proposed change =============== Use a Secret Management Store which OpenStack already support such as Barbican, to store those secret. We should use oslo.config to load this configuration files. In addition, we have to modify the iniparser to replace values from external sources, so doing this change, we don't have any plaintext password in config files anymore. To perform this action, we should use the Custodia project, that is a service to manage, retrieve and store secrets for other processes. Something like: !{SECRET:container_ref:key_name} retrieves information from backend store To summarize, the proposal change is putting a 'SECRET:<reference>' value in the configuration file, which triggers oslo.config to call Custodia to retrieve the secret. Example: service_foo.conf: # before password=f00_p4ssw0rd # after passowrd=!{SECRET:4c17fe26-e363-455f-ad63-1c654cb12d93:foo_password} Alternatives ------------ * Encrypt the configuration files: Which requires decryption keys and make difficult to update configurations * Configuration Management DB (CMDB): Need to secure database connection credentials Security impact --------------- This change want to make more secure OpenStack services passwords and credentials management, removing the plaintext passwords in the OpenStack services configuration files by using a secure and encrypted alternative such as the Custodia service. Configuration Impact -------------------- The operator should update their configuration files to point to the password reference and no more using plaintext passwords. Implementation ============== Assignee(s) ----------- Primary assignee: gagehugo Other contributors: raildo Milestones ---------- This will be a short change, we want this to land in the Queen release Work Items ---------- * Documentation Impact ==================== We should document how to update the OpenStack Services configuration file to use the proper password references instead of the plaintext passwords. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,140,0
openstack%2Fpuppet-openstack-integration~master~I59e0f28f19363dc3ea00b8295efe5695f9420550,openstack/puppet-openstack-integration,master,I59e0f28f19363dc3ea00b8295efe5695f9420550,Updated from Puppet OpenStack modules constraints,MERGED,2018-09-14 06:07:24.000000000,2018-10-05 19:19:50.000000000,2018-10-05 19:19:49.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-14 06:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/354ed907cbcb1c631039ae456f54791097bdc4e1', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I59e0f28f19363dc3ea00b8295efe5695f9420550\n'}, {'number': 2, 'created': '2018-09-21 03:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/29082430cb8bcca8ce3537b2b6ec2fef5ff7be4b', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I59e0f28f19363dc3ea00b8295efe5695f9420550\n'}, {'number': 3, 'created': '2018-09-29 03:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/429cc437eb1ae346961afef4d7d53f2f02b18217', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I59e0f28f19363dc3ea00b8295efe5695f9420550\n'}, {'number': 4, 'created': '2018-10-02 06:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/67e91d8b36a430728d7e3feb43d43ffd41f05c20', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I59e0f28f19363dc3ea00b8295efe5695f9420550\n'}, {'number': 5, 'created': '2018-10-05 06:19:07.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ef26d2fbfb537d7d9f06e76a4bed504688a1c43d', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I59e0f28f19363dc3ea00b8295efe5695f9420550\n'}]",0,602530,ef26d2fbfb537d7d9f06e76a4bed504688a1c43d,40,5,5,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I59e0f28f19363dc3ea00b8295efe5695f9420550
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/30/602530/5 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,354ed907cbcb1c631039ae456f54791097bdc4e1,openstack/puppet/constraints, :ref => '6.1.0', :ref => '6.0.0',1,1
openstack%2Fironic-specs~master~I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4,openstack/ironic-specs,master,I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4,Follow-up to Stein priorities,MERGED,2018-10-01 18:14:09.000000000,2018-10-05 19:04:04.000000000,2018-10-05 19:04:04.000000000,"[{'_account_id': 6618}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 18:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1967d4b5d065a186be71f9409af06c4ff91d6687', 'message': 'Follow-up to Stein priorities\n\nChange-Id: I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4\n'}, {'number': 2, 'created': '2018-10-02 18:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/28e4fd8f541072d498e2eaff6bfe61f365bf9b96', 'message': 'Follow-up to Stein priorities\n\nChange-Id: I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4\n'}, {'number': 3, 'created': '2018-10-03 14:00:23.000000000', 'files': ['priorities/stein-priorities.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d37539b26a620d8506bfcecb5686900ba1c0fbbd', 'message': 'Follow-up to Stein priorities\n\nChange-Id: I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4\n'}]",5,607016,d37539b26a620d8506bfcecb5686900ba1c0fbbd,14,5,3,11655,,,0,"Follow-up to Stein priorities

Change-Id: I8fe11d7a9c66a3fb3f75de04cbb2583f886922c4
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/16/607016/1 && git format-patch -1 --stdout FETCH_HEAD,['priorities/stein-priorities.rst'],1,1967d4b5d065a186be71f9409af06c4ff91d6687,,"| `Upgrade Checker`_ | TheJulia, rloo || `Python3 First`_ | derek, TheJulia || `iPXE/PXE interface split`_ | TheJulia, stendulker || `UEFI First`_ | hshiina || `HTTPClient booting`_ | TheJulia || `DHCP-less/L3 virtual media boot`_ | shekar, stendulker || `Deployment state callbacks to nova`_ | TheJulia, jroll || `Smartnic Support`_ | TheJulia, mkrai, moshele |We also desire for third party CI to begin to leverage Python3, with a goal of approximately 50% of third party CI jobs until we stop supporting Python2. `here <http://specs.openstack.org/openstack/ironic-specs/specs/approved/ipxe-boot-interface.html>`_.This work is exclusively in the ironic virt driver in the `openstack/nova``here <http://specs.openstack.org/openstack/ironic-specs/specs/approved/L3-based-deployment.html>`.consist of worker execution improvements, an evaluation and possiblecontrol plane. Presently the design model requires that nodes are able to`here <https://review.openstack.org/#/c/212206/>`_.The goal is ultimately to provide a CLI for the user to be able to understand the available steps that can be utilized.","| `Upgrade Checker`_ | TheJulia || `Python3 First`_ | ? || `iPXE/PXE interface split`_ | TheJulia || `UEFI First`_ | ? || `HTTPClient booting`_ | ?TheJulia? || `DHCP-less/L3 virtual media boot`_ | shekar || `Deployment state callbacks to nova`_ | TheJulia, ?jroll? || `Smartnic Support`_ | TheJulia, mkrai |`here <http://specs.openstack.org/openstack/ironic-specs/specs/not-implemented/ipxe-boot-interface.html>`.This work is exlusively in the ironic virt driver in the `openstack/nova``here <http://specs.openstack.org/openstack/ironic-specs/specs/not-implemented/L3-based-deployment.html>`.consist of worker execution improvments, an evaluation and possiblecontrol plane. Presently the design model requires nodes are able to`here <https://review.openstack.org/#/c/212206/>`.The goal is ultimately to provide a CLI user to be able to understand the available steps that can be utilized.",19,16
openstack%2Fapi-site~master~I4b03ee2dd201b486ba357cdcde3e0992e107754d,openstack/api-site,master,I4b03ee2dd201b486ba357cdcde3e0992e107754d,Switch to python3 in tox.ini,MERGED,2018-09-30 09:24:23.000000000,2018-10-05 19:00:50.000000000,2018-10-05 19:00:50.000000000,"[{'_account_id': 6547}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-30 09:24:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/api-site/commit/e222150abdec220dddd583ba90b787e64af8e839', 'message': 'Switch to python3 in tox.ini\n\nWe build everything with python3 now, update tox.ini for this.\n\nChange-Id: I4b03ee2dd201b486ba357cdcde3e0992e107754d\n'}]",0,606834,e222150abdec220dddd583ba90b787e64af8e839,7,3,1,6547,,,0,"Switch to python3 in tox.ini

We build everything with python3 now, update tox.ini for this.

Change-Id: I4b03ee2dd201b486ba357cdcde3e0992e107754d
",git fetch https://review.opendev.org/openstack/api-site refs/changes/34/606834/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e222150abdec220dddd583ba90b787e64af8e839,python3-first,basepython = python3basepython = python2,basepython = python2.7,2,1
openstack%2Fpython-ironicclient~master~I91bc5cb0f3c69be5686e59fd8bb5b74d7d0ae6dc,openstack/python-ironicclient,master,I91bc5cb0f3c69be5686e59fd8bb5b74d7d0ae6dc,Modify useful links to project resources in README,MERGED,2018-09-28 13:26:43.000000000,2018-10-05 18:59:14.000000000,2018-10-05 18:59:14.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 13:26:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8fb4f2824680c95bbf3b0035f78f651e5b0c04b5', 'message': 'Modify useful links to project resources in README\n\nFollows on from discussion in Ibd62c7bfc5ff77a16690cfa98f7164906a49abad.\n\nChange-Id: I91bc5cb0f3c69be5686e59fd8bb5b74d7d0ae6dc\n'}]",0,606072,8fb4f2824680c95bbf3b0035f78f651e5b0c04b5,9,3,1,14826,,,0,"Modify useful links to project resources in README

Follows on from discussion in Ibd62c7bfc5ff77a16690cfa98f7164906a49abad.

Change-Id: I91bc5cb0f3c69be5686e59fd8bb5b74d7d0ae6dc
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/72/606072/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8fb4f2824680c95bbf3b0035f78f651e5b0c04b5,readme,Project resources -----------------,Useful Links ------------,2,2
openstack%2Fsecurity-doc~master~Id769398c5765e2cd37b8cfed4740fdf6631c558d,openstack/security-doc,master,Id769398c5765e2cd37b8cfed4740fdf6631c558d,Remove duplicate setup.cfg options,MERGED,2018-09-30 09:08:33.000000000,2018-10-05 18:54:23.000000000,2018-10-05 18:54:23.000000000,"[{'_account_id': 6547}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-30 09:08:33.000000000', 'files': ['security-threat-analysis/setup.cfg', 'security-guide/setup.cfg'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/7a919df0928037a4142d212359292f4970536cb1', 'message': 'Remove duplicate setup.cfg options\n\nWe cannot have duplicate classifiers here, the configparser complains\nabout these now.\n\nChange-Id: Id769398c5765e2cd37b8cfed4740fdf6631c558d\n'}]",0,606832,7a919df0928037a4142d212359292f4970536cb1,7,3,1,6547,,,0,"Remove duplicate setup.cfg options

We cannot have duplicate classifiers here, the configparser complains
about these now.

Change-Id: Id769398c5765e2cd37b8cfed4740fdf6631c558d
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/32/606832/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-threat-analysis/setup.cfg', 'security-guide/setup.cfg']",2,7a919df0928037a4142d212359292f4970536cb1,python3-first,,Intended Audience :: Information Technology,0,2
openstack%2Fpython-keystoneclient~master~Ia1a0efa0591d0e37e22a8cac24b72af63604f087,openstack/python-keystoneclient,master,Ia1a0efa0591d0e37e22a8cac24b72af63604f087,Import legacy keystoneclient-dsvm-functional,MERGED,2018-09-24 18:22:34.000000000,2018-10-05 18:54:22.000000000,2018-10-05 12:12:01.000000000,"[{'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 18:22:34.000000000', 'files': ['playbooks/keystoneclient-dsvm-functional/post.yaml', '.zuul.yaml', 'playbooks/keystoneclient-dsvm-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/727bf035129d5a64aa57e630be86381ca8673864', 'message': 'Import legacy keystoneclient-dsvm-functional\n\nImport Zuul v2 legacy job so that it can be modified and\nconverted to v3 in-repo.\n\nChange-Id: Ia1a0efa0591d0e37e22a8cac24b72af63604f087\n'}]",3,604868,727bf035129d5a64aa57e630be86381ca8673864,11,4,1,6547,,,0,"Import legacy keystoneclient-dsvm-functional

Import Zuul v2 legacy job so that it can be modified and
converted to v3 in-repo.

Change-Id: Ia1a0efa0591d0e37e22a8cac24b72af63604f087
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/68/604868/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/keystoneclient-dsvm-functional/post.yaml', '.zuul.yaml', 'playbooks/keystoneclient-dsvm-functional/run.yaml']",3,727bf035129d5a64aa57e630be86381ca8673864,update-zuul,"- hosts: all name: Autoconverted job legacy-keystoneclient-dsvm-functional from old job gate-keystoneclient-dsvm-functional-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export BRANCH_OVERRIDE=default export DEVSTACK_PROJECT_FROM_GIT=python-keystoneclient if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi function post_test_hook { # Configure and run functional tests $BASE/new/python-keystoneclient/keystoneclient/tests/functional/hooks/post_test_hook.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,139,1
openstack%2Fos-brick~master~I30723c5224cb9cc8d02a6099491aa2f4b1cbec46,openstack/os-brick,master,I30723c5224cb9cc8d02a6099491aa2f4b1cbec46,Add LIO barbican tests to .zuul.yaml,MERGED,2018-03-27 20:19:16.000000000,2018-10-05 18:51:04.000000000,2018-10-02 16:04:14.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2018-03-27 20:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9caab0554d989499aad2140fe76ba28b5e46bf55', 'message': ""Add .zuul.yaml\n\nLoad the LIO job from Cinder's repo where it\nis defined.\n\nChange-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46\n""}, {'number': 2, 'created': '2018-03-27 20:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cc4e6cb325ad36a38739500da1ab68f9b435fbad', 'message': ""Add .zuul.yaml\n\nLoad the LIO job from Cinder's repo where it\nis defined.\n\nChange-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46\n""}, {'number': 3, 'created': '2018-03-27 20:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/783cdebfddf35c41400b977f8ef7931b5bbdd17a', 'message': ""Add .zuul.yaml\n\nLoad the LIO job from Cinder's repo where it\nis defined.\n\nChange-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46\n""}, {'number': 4, 'created': '2018-07-16 16:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5055e0f9a38eb4ff14b8feaffbaa0c5bd4c0027e', 'message': ""Add .zuul.yaml\n\nLoad the LIO job from Cinder's repo where it\nis defined.\n\nChange-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46\n""}, {'number': 5, 'created': '2018-07-16 16:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cfd8908a13900ec78ea57238ae32b90d8d8b5883', 'message': ""Add LIO barbican tests to .zuul.yaml\n\nLoad the LIO job from Cinder's repo where it\nis defined.\n\nChange-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46\n""}, {'number': 6, 'created': '2018-08-21 21:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2d6dda66648abf8165eea24675d136dd35b1682e', 'message': ""Add LIO barbican tests to .zuul.yaml\n\nLoad the LIO job from Cinder's repo where it\nis defined.\n\nChange-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46\n""}, {'number': 7, 'created': '2018-10-01 15:19:42.000000000', 'files': ['.gitignore', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e506d8322080bb9a2796bd12707f83986fa5d955', 'message': ""Add LIO barbican tests to .zuul.yaml\n\nLoad the LIO job from Cinder's repo where it\nis defined.\n\nChange-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46\n""}]",0,557036,e506d8322080bb9a2796bd12707f83986fa5d955,69,23,7,4523,,,0,"Add LIO barbican tests to .zuul.yaml

Load the LIO job from Cinder's repo where it
is defined.

Change-Id: I30723c5224cb9cc8d02a6099491aa2f4b1cbec46
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/36/557036/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.zuul.yaml']",2,9caab0554d989499aad2140fe76ba28b5e46bf55,557036,- project: check: jobs: cinder-tempest-dsvm-lvm-lio-barbican gate: jobs: cinder-tempest-dsvm-lvm-lio-barbican - job: name: os-brick-cinder-tempest-dsvm-lvm-lio-barbican parent: cinder-tempest-dsvm-lvm-lio-barbican required-projects: - openstack/cinder ,,14,0
openstack%2Fcinder~master~I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc,openstack/cinder,master,I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc,hosts api ref: all fields should be of type string,MERGED,2018-09-19 06:24:15.000000000,2018-10-05 18:50:40.000000000,2018-10-02 16:57:31.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27078}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-19 06:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9388c650606b98845a12b7be62a705065fc62d3a', 'message': 'hosts api ref: all fields should be of type string\n\nI512bfc97a1c3d4a508daf580d99fefe2a9ae4e13 tries to add\nschema validation for volume hosts, and there are some\ninconsistencies in api ref doc.\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html#show-host-details-for-a-project\nas the Response Example shows, all fields should be of\ntype string, not integer.\n\nChange-Id: I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc\n'}, {'number': 2, 'created': '2018-09-30 01:37:06.000000000', 'files': ['api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a87f2b92d0b9b8b0a8ea585e3ef971bed8e4b648', 'message': 'hosts api ref: all fields should be of type string\n\nI512bfc97a1c3d4a508daf580d99fefe2a9ae4e13 tries to add\nschema validation for volume hosts, and there are some\ninconsistencies in api ref doc.\nhttps://developer.openstack.org/api-ref/block-storage/v3/index.html#show-host-details-for-a-project\nas the Response Example shows, all fields should be of\ntype string, not integer.\n\nChange-Id: I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc\n'}]",0,603565,a87f2b92d0b9b8b0a8ea585e3ef971bed8e4b648,65,37,2,20190,,,0,"hosts api ref: all fields should be of type string

I512bfc97a1c3d4a508daf580d99fefe2a9ae4e13 tries to add
schema validation for volume hosts, and there are some
inconsistencies in api ref doc.
https://developer.openstack.org/api-ref/block-storage/v3/index.html#show-host-details-for-a-project
as the Response Example shows, all fields should be of
type string, not integer.

Change-Id: I8c6c50be45a1c923a8b7091d14cd5ae994d6e2cc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/603565/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,9388c650606b98845a12b7be62a705065fc62d3a,bp/volume-response-schema-validation, type: string type: string type: string, type: integer type: integer type: integer,3,3
openstack%2Fnova~master~I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486,openstack/nova,master,I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486,De-dupe subnet IDs when calling neutron /subnets API,MERGED,2018-10-04 17:43:30.000000000,2018-10-05 18:46:48.000000000,2018-10-05 18:32:49.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-04 17:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cf470d28b714a4f6811bb017624f6c74e876e70', 'message': 'De-dupe subnet IDs when calling neutron /subnets API\n\nIn the _get_subnets_from_port method, we call the neutron /subnets API\nto list subnets filtered by subnet IDs. We get the subnet IDs by\niterating all of the fixed IPs for the instance and sending the list of\ncorresponding subnet IDs. The python-neutronclient sends the list of\nsubnet IDs as a query string in the URI. When an instance has a large\nnumber of interfaces attached, the list of subnet IDs can be too long\nfor the URI, resulting in a RequestURITooLong error from neutronclient.\n\nThis de-dupes the subnet IDs before calling neutron, to handle the case\nwhere an instance has a large number of interfaces attached, but many\nof them are on the same subnet.\n\nCloses-Bug: #1796074\n\nChange-Id: I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486\n'}, {'number': 2, 'created': '2018-10-04 18:06:55.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab5fc6870260d3b3c3bce90a7123c17816bf0093', 'message': 'De-dupe subnet IDs when calling neutron /subnets API\n\nIn the _get_subnets_from_port method, we call the neutron /subnets API\nto list subnets filtered by subnet IDs. We get the subnet IDs by\niterating all of the fixed IPs for the instance and sending the list of\ncorresponding subnet IDs. The python-neutronclient sends the list of\nsubnet IDs as a query string in the URI. When an instance has a large\nnumber of interfaces attached, the list of subnet IDs can be too long\nfor the URI, resulting in a RequestURITooLong error from neutronclient.\n\nThis de-dupes the subnet IDs before calling neutron, to handle the case\nwhere an instance has a large number of interfaces attached, but many\nof them are on the same subnet.\n\nCloses-Bug: #1796074\n\nChange-Id: I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486\n'}]",2,608040,ab5fc6870260d3b3c3bce90a7123c17816bf0093,24,14,2,4690,,,0,"De-dupe subnet IDs when calling neutron /subnets API

In the _get_subnets_from_port method, we call the neutron /subnets API
to list subnets filtered by subnet IDs. We get the subnet IDs by
iterating all of the fixed IPs for the instance and sending the list of
corresponding subnet IDs. The python-neutronclient sends the list of
subnet IDs as a query string in the URI. When an instance has a large
number of interfaces attached, the list of subnet IDs can be too long
for the URI, resulting in a RequestURITooLong error from neutronclient.

This de-dupes the subnet IDs before calling neutron, to handle the case
where an instance has a large number of interfaces attached, but many
of them are on the same subnet.

Closes-Bug: #1796074

Change-Id: I5b52ff81f74ae7cb11e6f012ab7e53cfc6821486
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/608040/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,5cf470d28b714a4f6811bb017624f6c74e876e70,bug/1796074," # add another IP on the same subnet and verify the subnet is deduped port_data['fixed_ips'].append({'ip_address': '10.0.1.3', 'subnet_id': 'my_subid1'})",,4,1
openstack%2Fopenstack-ansible-os_tacker~master~I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6,openstack/openstack-ansible-os_tacker,master,I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6,Tacker uses OpenStack Barbican for secret keys,MERGED,2018-09-27 15:30:45.000000000,2018-10-05 18:37:00.000000000,2018-10-05 18:37:00.000000000,"[{'_account_id': 538}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 10068}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 13095}, {'_account_id': 14805}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}, {'_account_id': 25505}, {'_account_id': 27749}]","[{'number': 1, 'created': '2018-09-27 15:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/535e0d1e7eabed6dd81bbddc700093c685e12f25', 'message': '[WIP]Introduce the Barbican in XCI for SFC-HA scenario\n\nThe barbican OS component is introduced for SFC HA deployed scenario.\nThe reason behind is that In HA scenarios we need Openstack Barbican to\ngather and store the fernet keys so Tacker can access them and be\nable to register new VIMs.\n\nJIRA: SFC-131\n\nChange-Id: I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}, {'number': 2, 'created': '2018-09-28 14:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/aea193c1df865869378664658cf717ea984ac5b4', 'message': '[WIP]Tacker uses OpenStack Barbican for secret keys\n\nUse the OpenStack Barbican component instead of OpenStack Keystone\nas secret key handler.\nThe reason behind is the way that Tacker handles the secret keys of\ncomplex scenarios (specially the scenarios with HA) and how they are\nstored or retrieved between different VMs or Blades.\n\nChange-Id: I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}, {'number': 3, 'created': '2018-10-03 14:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/dccb8fb2d82578c34a7b9c42d7bbdd23c0c9f5ac', 'message': 'Tacker uses OpenStack Barbican for secret keys\n\nUse the OpenStack Barbican component instead of OpenStack Keystone\nas secret key handler.\nThe reason behind is the way that Tacker handles the secret keys of\ncomplex scenarios (specially the scenarios with HA) and how they are\nstored or retrieved between different VMs or Blades.\n\nChange-Id: I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}, {'number': 4, 'created': '2018-10-05 07:37:53.000000000', 'files': ['templates/tacker.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/dc536599f80ba29255e744463c0e1e896fd8a206', 'message': 'Tacker uses OpenStack Barbican for secret keys\n\nUse the OpenStack Barbican component instead of OpenStack Keystone\nas secret key handler.\nThe reason behind is the way that Tacker handles the secret keys of\ncomplex scenarios (specially the scenarios with HA) and how they are\nstored or retrieved between different VMs or Blades.\n\nChange-Id: I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}]",10,605784,dc536599f80ba29255e744463c0e1e896fd8a206,25,20,4,27749,,,0,"Tacker uses OpenStack Barbican for secret keys

Use the OpenStack Barbican component instead of OpenStack Keystone
as secret key handler.
The reason behind is the way that Tacker handles the secret keys of
complex scenarios (specially the scenarios with HA) and how they are
stored or retrieved between different VMs or Blades.

Change-Id: I63d40c5239d2585e8bb7ac3b9338252c9e28c4c6
Signed-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/84/605784/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/tacker.conf.j2', 'defaults/main.yml']",2,535e0d1e7eabed6dd81bbddc700093c685e12f25,,"## Barbican service tacker_use_barbican_flag: ""{{ use_barbican_flag | default(False) }}""",,3,0
openstack%2Fnova~master~Icd280d4daecabd1760080790e4aefc33dc2bece0,openstack/nova,master,Icd280d4daecabd1760080790e4aefc33dc2bece0,conf: Use new-style choice values,MERGED,2018-01-03 13:50:59.000000000,2018-10-05 18:32:55.000000000,2018-10-05 18:32:55.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-03 13:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8386255278e5c4fd4b97ed770b2d0eaf16885b5', 'message': ""conf: Use new-style choice values\n\nSupport for value-description tuples for the 'choices' parameters was\nrecently added to oslo.config [1]. Start using this in nova.\n\n[1] https://review.openstack.org/#/c/526012/\n\nChange-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0\n""}, {'number': 2, 'created': '2018-01-04 16:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08576a0c761e472cee532b6d2c47f1fe122f8a30', 'message': ""conf: Use new-style choice values\n\nSupport for value-description tuples for the 'choices' parameters was\nrecently added to oslo.config [1]. Start using this in nova.\n\n[1] https://review.openstack.org/#/c/526012/\n\nChange-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0\n""}, {'number': 3, 'created': '2018-03-26 14:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/248b23ab23d339a0c745e71a94b5f51a926ee006', 'message': ""conf: Use new-style choice values\n\nSupport for value-description tuples for the 'choices' parameters was\nrecently added to oslo.config [1]. Start using this in nova.\n\n[1] https://review.openstack.org/#/c/526012/\n\nChange-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0\n""}, {'number': 4, 'created': '2018-05-08 11:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c7f57b77485f79423e793790899e1424f45a6cb', 'message': ""conf: Use new-style choice values\n\nSupport for value-description tuples for the 'choices' parameters was\nrecently added to oslo.config [1]. Start using this in nova.\n\n[1] https://review.openstack.org/#/c/526012/\n\nChange-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0\n""}, {'number': 5, 'created': '2018-08-22 10:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fd620c9237453718599d392ac192c7b34e05364', 'message': ""conf: Use new-style choice values\n\nSupport for value-description tuples for the 'choices' parameters was\nrecently added to oslo.config [1]. Start using this in nova.\n\n[1] https://review.openstack.org/#/c/526012/\n\nChange-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0\n""}, {'number': 6, 'created': '2018-08-28 09:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1ebcbc6fc890675db53d3782d83dfd0a6b49a29', 'message': ""conf: Use new-style choice values\n\nSupport for value-description tuples for the 'choices' parameters was\nrecently added to oslo.config [1]. Start using this in nova.\n\n[1] https://review.openstack.org/#/c/526012/\n\nChange-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0\n""}, {'number': 7, 'created': '2018-09-12 15:45:34.000000000', 'files': ['nova/conf/compute.py', 'nova/conf/notifications.py', 'nova/conf/servicegroup.py', 'nova/conf/vnc.py', 'nova/conf/quota.py', 'nova/conf/libvirt.py', 'nova/conf/api.py', 'nova/conf/configdrive.py', 'nova/conf/xenserver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a53a29ccf0bea32eeb5352c93280dece36e1ee28', 'message': ""conf: Use new-style choice values\n\nSupport for value-description tuples for the 'choices' parameters was\nrecently added to oslo.config [1]. Start using this in nova.\n\n[1] https://review.openstack.org/#/c/526012/\n\nChange-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0\n""}]",60,530924,a53a29ccf0bea32eeb5352c93280dece36e1ee28,127,24,7,15334,,,0,"conf: Use new-style choice values

Support for value-description tuples for the 'choices' parameters was
recently added to oslo.config [1]. Start using this in nova.

[1] https://review.openstack.org/#/c/526012/

Change-Id: Icd280d4daecabd1760080790e4aefc33dc2bece0
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/530924/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/notifications.py', 'nova/conf/servicegroup.py', 'requirements.txt', 'nova/conf/libvirt.py', 'nova/conf/configdrive.py', 'nova/conf/xenserver.py']",7,a8386255278e5c4fd4b97ed770b2d0eaf16885b5,choice-descriptions," choices=[ ('all', 'will cache all images'), ('some', 'will only cache images that have the image_property ' '``cache_in_nova=True``'), ('none', 'turns off caching entirely')],"," choices=('all', 'some', 'none'), Possible values: * `all`: will cache all images. * `some`: will only cache images that have the image_property `cache_in_nova=True`. * `none`: turns off caching entirely.",87,112
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9f45340cf6caf7811aa03a1b2aa16eec599d4faa,openstack/tripleo-heat-templates,stable/rocky,I9f45340cf6caf7811aa03a1b2aa16eec599d4faa,Don't fail ironic upgrade if xinetd isn't present,MERGED,2018-10-04 14:17:01.000000000,2018-10-05 18:19:29.000000000,2018-10-05 18:19:28.000000000,"[{'_account_id': 6926}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26828}, {'_account_id': 27898}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-10-04 14:17:01.000000000', 'files': ['docker/services/ironic-pxe.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e5a4373708e714a60f200d1fea4f5b174fb8593', 'message': ""Don't fail ironic upgrade if xinetd isn't present\n\nWhen upgrading from Rocky to master in CI, we don't seem to have\nxinetd present in the overcloud, and attempting to restart it fails\nthe upgrade. Check if it's running before trying to restart it.\n\nChange-Id: I9f45340cf6caf7811aa03a1b2aa16eec599d4faa\nCloses-Bug: #1792527\n(cherry picked from commit 8e127bce07ce0579f7f4e6728410de38de5ecaf1)\n""}]",0,607966,8e5a4373708e714a60f200d1fea4f5b174fb8593,11,7,1,8042,,,0,"Don't fail ironic upgrade if xinetd isn't present

When upgrading from Rocky to master in CI, we don't seem to have
xinetd present in the overcloud, and attempting to restart it fails
the upgrade. Check if it's running before trying to restart it.

Change-Id: I9f45340cf6caf7811aa03a1b2aa16eec599d4faa
Closes-Bug: #1792527
(cherry picked from commit 8e127bce07ce0579f7f4e6728410de38de5ecaf1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/607966/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ironic-pxe.yaml'],1,8e5a4373708e714a60f200d1fea4f5b174fb8593,bug/1792527-stable/rocky, - name: query if xinetd is active failed_when: false shell: systemctl is-active xinetd register: xinetd_active_result when: xinetd_active_result.rc == 0,,5,0
openstack%2Fspecs-cookiecutter~master~Ic2279ec74622aa09969befba646018b3665613d5,openstack/specs-cookiecutter,master,Ic2279ec74622aa09969befba646018b3665613d5,Clean up .gitignore references to personal tools,NEW,2018-10-05 17:50:19.000000000,2018-10-05 17:51:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-05 17:50:19.000000000', 'files': ['{{cookiecutter.repo_name}}/.gitignore'], 'web_link': 'https://opendev.org/openstack/specs-cookiecutter/commit/051617fe071633c93325b0baa1666a4d174536ef', 'message': 'Clean up .gitignore references to personal tools\n\nDevelopers run all sorts of different tools within Git repositories,\nany of which can leave their own special trashfiles all over the\nplace. We can\'t every hope to catalog them all, so better to\nrecommend developers simply configure a global core.excludesfile to\nfilter the irrelevant files which tend to get created by their\npersonal choice of tools.\n\nTo this end, remove the long-standing sections for ""Mr Developer""\nand ""Editors"" since their mere existence here sends the signal that\nwe welcome (and have time to review) additions for any old tool\nsomeone ever might happen to try. Also add a comment block\nexplaining this, for clarity.\n\nWe can, and should of course, continue to list files created by the\ntools recommended by our workflow (test frameworks called from tox,\ndocumentation and packaging builds, et cetera).\n\nThis change is a port of Ib58a57267b064e4142686de6c37a70dbff04b9a7\nfrom the openstack-dev/cookiecutter repository.\n\nChange-Id: Ic2279ec74622aa09969befba646018b3665613d5\n'}]",0,608329,051617fe071633c93325b0baa1666a4d174536ef,3,1,1,5263,,,0,"Clean up .gitignore references to personal tools

Developers run all sorts of different tools within Git repositories,
any of which can leave their own special trashfiles all over the
place. We can't every hope to catalog them all, so better to
recommend developers simply configure a global core.excludesfile to
filter the irrelevant files which tend to get created by their
personal choice of tools.

To this end, remove the long-standing sections for ""Mr Developer""
and ""Editors"" since their mere existence here sends the signal that
we welcome (and have time to review) additions for any old tool
someone ever might happen to try. Also add a comment block
explaining this, for clarity.

We can, and should of course, continue to list files created by the
tools recommended by our workflow (test frameworks called from tox,
documentation and packaging builds, et cetera).

This change is a port of Ib58a57267b064e4142686de6c37a70dbff04b9a7
from the openstack-dev/cookiecutter repository.

Change-Id: Ic2279ec74622aa09969befba646018b3665613d5
",git fetch https://review.opendev.org/openstack/specs-cookiecutter refs/changes/29/608329/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/.gitignore'],1,051617fe071633c93325b0baa1666a4d174536ef,gitignore-cleanup,"# Add patterns in here to exclude files created by tools integrated with this # repository, such as test frameworks from the project's recommended workflow, # rendered documentation and package builds. # # Don't add patterns to exclude files created by preferred personal tools # (editors, IDEs, your operating system itself even). These should instead be # maintained outside the repository, for example in a ~/.gitignore file added # with: # # git config --global core.excludesfile '~/.gitignore' # Bytecompiled Python",# Mr Developer .mr.developer.cfg .project .pydevproject # Editors *~ .*.swp,12,9
openstack%2Fansible-role-container-registry~master~If73e11531ff3a035ddb0664792c364a247b521b8,openstack/ansible-role-container-registry,master,If73e11531ff3a035ddb0664792c364a247b521b8,Allow docker image download/upload concurrency,ABANDONED,2018-09-26 19:42:17.000000000,2018-10-05 17:46:41.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-26 19:42:17.000000000', 'files': ['README.rst', 'templates/docker-daemon.json.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/dcf0b317d357e8d4ebd1568f358e0134f80bb44b', 'message': 'Allow docker image download/upload concurrency\n\nDocker allows the tuning of the current number of downloads for each\npull or push request. By default downloads are set to 3 and uploads are\nset to 5. This change allows these to be configured by the registry\nclass.\n\nChange-Id: If73e11531ff3a035ddb0664792c364a247b521b8\n'}]",0,605511,dcf0b317d357e8d4ebd1568f358e0134f80bb44b,7,5,1,14985,,,0,"Allow docker image download/upload concurrency

Docker allows the tuning of the current number of downloads for each
pull or push request. By default downloads are set to 3 and uploads are
set to 5. This change allows these to be configured by the registry
class.

Change-Id: If73e11531ff3a035ddb0664792c364a247b521b8
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/11/605511/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'templates/docker-daemon.json.j2', 'defaults/main.yml']",3,dcf0b317d357e8d4ebd1568f358e0134f80bb44b,concurrent-settings,container_registry_max_downloads: -1 container_registry_max_uploads: -1,,14,0
openstack%2Ftripleo-heat-templates~master~I72e636b37c71e6f5131ea8cc98d707101b7190ba,openstack/tripleo-heat-templates,master,I72e636b37c71e6f5131ea8cc98d707101b7190ba,Increase docker pull/push concurrency,ABANDONED,2018-09-26 19:50:39.000000000,2018-10-05 17:46:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-26 19:50:39.000000000', 'files': ['puppet/services/docker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afafe574d29d8010efa458bdbed3360d28bcd28d', 'message': 'Increase docker pull/push concurrency\n\nBy default the max number of layers downloaded at one time for a\npull is set to 3 and the max number of layers uploaded at one time for\na push is set to 5. This increases the downloads to 8 and the uploads\n12.\n\nChange-Id: I72e636b37c71e6f5131ea8cc98d707101b7190ba\nDepends-On: https://review.openstack.org/#/c/605511/\n'}]",0,605514,afafe574d29d8010efa458bdbed3360d28bcd28d,12,7,1,14985,,,0,"Increase docker pull/push concurrency

By default the max number of layers downloaded at one time for a
pull is set to 3 and the max number of layers uploaded at one time for
a push is set to 5. This increases the downloads to 8 and the uploads
12.

Change-Id: I72e636b37c71e6f5131ea8cc98d707101b7190ba
Depends-On: https://review.openstack.org/#/c/605511/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/605514/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/docker.yaml'],1,afafe574d29d8010efa458bdbed3360d28bcd28d,concurrent-settings, DockerMaxConcurrentDownloads: default: 8 description: Set the max concurrent downloads for each pull in docker type: number DockerMaxConcurrentUploads: default: 12 description: Set the max concurrent uploads for each push in docker type: number container_registry_max_downloads: {get_param: DockerMaxConcurrentDownloads} container_registry_max_uploads: {get_param: DockerMaxConcurrentUploads},,10,0
openstack%2Fmagnum~master~I1c5e24feebdd2309beede332b44d0328a8b744a3,openstack/magnum,master,I1c5e24feebdd2309beede332b44d0328a8b744a3,change dist name to match PyPI,ABANDONED,2018-09-28 18:33:06.000000000,2018-10-05 17:46:01.000000000,,"[{'_account_id': 2472}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-09-28 18:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6afbc455441d4f78e8fb4e8c061f98e8697f4213', 'message': 'change dist name to match PyPI\n\nWe are updating all Python projects to publish packages to PyPI. There\nare previous versions of magnum published under the name\n""openstack-magnum"" and the name ""magnum"" is controlled by another\nproject. This patch changes the dist name to ""openstack-magnum"" so\nthat new packages can be built and published under that name more\neasily. It has no effect on the way magnum code should be imported or\nanything else.\n\nChange-Id: I1c5e24feebdd2309beede332b44d0328a8b744a3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-01 18:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/57c5f48c5ddbba87ef46ff9ef4bab27b36062eef', 'message': 'change dist name to match PyPI\n\nWe are updating all Python projects to publish packages to PyPI. There\nare previous versions of magnum published under the name\n""openstack-magnum"" and the name ""magnum"" is controlled by another\nproject. This patch changes the dist name to ""openstack-magnum"" so\nthat new packages can be built and published under that name more\neasily. It has no effect on the way magnum code should be imported or\nanything else.\n\nChange-Id: I1c5e24feebdd2309beede332b44d0328a8b744a3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-10-01 18:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d60c33be1491c14de30080c50f7e248e192ab0e7', 'message': 'change dist name to match PyPI\n\nWe are updating all Python projects to publish packages to PyPI. There\nare previous versions of magnum published under the name\n""openstack-magnum"" and the name ""magnum"" is controlled by another\nproject. This patch changes the dist name to ""openstack-magnum"" so\nthat new packages can be built and published under that name more\neasily. It has no effect on the way magnum code should be imported or\nanything else.\n\nChange-Id: I1c5e24feebdd2309beede332b44d0328a8b744a3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-10-01 21:43:51.000000000', 'files': ['magnum/__init__.py', 'magnum/version.py', 'setup.cfg', 'releasenotes/notes/change-dist-name-536d1c6af38104dc.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8c1fec8d9cfd1ff9261d8f159c62162f8a009e7f', 'message': 'change dist name to match PyPI\n\nWe are updating all Python projects to publish packages to PyPI. There\nare previous versions of magnum published under the name\n""openstack-magnum"" and the name ""magnum"" is controlled by another\nproject. This patch changes the dist name to ""openstack-magnum"" so\nthat new packages can be built and published under that name more\neasily. It has no effect on the way magnum code should be imported or\nanything else.\n\nChange-Id: I1c5e24feebdd2309beede332b44d0328a8b744a3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606162,8c1fec8d9cfd1ff9261d8f159c62162f8a009e7f,14,4,4,2472,,,0,"change dist name to match PyPI

We are updating all Python projects to publish packages to PyPI. There
are previous versions of magnum published under the name
""openstack-magnum"" and the name ""magnum"" is controlled by another
project. This patch changes the dist name to ""openstack-magnum"" so
that new packages can be built and published under that name more
easily. It has no effect on the way magnum code should be imported or
anything else.

Change-Id: I1c5e24feebdd2309beede332b44d0328a8b744a3
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/62/606162/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6afbc455441d4f78e8fb4e8c061f98e8697f4213,change-dist-name,name = openstack-magnum,name = magnum,1,1
openstack%2Fnetworking-midonet~stable%2Fqueens~Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,openstack/networking-midonet,stable/queens,Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,Remove a few extensions from NETWORK_API_EXTENSIONS,MERGED,2018-08-29 02:29:52.000000000,2018-10-05 17:43:47.000000000,2018-10-05 17:43:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-29 02:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0644162a1ea499a8f817240cd787dbe7e0587622', 'message': 'Remove a few extensions from NETWORK_API_EXTENSIONS\n\nThis commit removes the following extensions from the list.\n\ttimestamp_core\n\ttag\n\ttag_ext\n\nThose extensions have been removed long before. [1] [2]\nThe mismatch has been exposed by the recently added\ntempest test case. [3]\n\n[1] I2ee2ed4c713d88345adc55b022feb95653eec663\n[2] I97095453610fff114d999a526d67e78119546ff5\n[3] I4c59f407c30020e3865e96e67a1b61361e699014\n\nCloses-Bug: #1789323\nChange-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d\n'}, {'number': 2, 'created': '2018-09-04 03:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/3d7661e31ead0531cdf5fac23fab3eaf5cc7ff71', 'message': ""Remove a few extensions from NETWORK_API_EXTENSIONS\n\nThis commit removes the following extensions from the list.\n\ttimestamp_core\n\ttag\n\ttag_ext\n\nThose extensions have been removed long before. [1] [2]\nThe mismatch has been exposed by the recently added\ntempest test case. [3]\n\n[1] I2ee2ed4c713d88345adc55b022feb95653eec663\n[2] I97095453610fff114d999a526d67e78119546ff5\n[3] I4c59f407c30020e3865e96e67a1b61361e699014\n\nAlso, make the grenade job non-voting for now because\nit would take long to fix it.\n1. It needs to be fixed in the base branch (right now\n   it's stable/queens) as grenade uses the base branch's\n   tempest.conf (thus NETWORK_API_EXTENSIONS) as it is\n   for the target branch.\n2. Right now stable/queens gate is broken for unrelated reasons\n\nCloses-Bug: #1789323\nChange-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d\n(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)\n""}, {'number': 3, 'created': '2018-09-13 10:54:33.000000000', 'files': ['devstack/ci/hooks/tempest_plugins_advsvc', '.zuul.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a71f447ce72c7408033ffd622270d8ffd9a588cd', 'message': ""Remove a few extensions from NETWORK_API_EXTENSIONS\n\nThis commit removes the following extensions from the list.\n\ttimestamp_core\n\ttag\n\ttag_ext\n\nThose extensions have been removed long before. [1] [2]\nThe mismatch has been exposed by the recently added\ntempest test case. [3]\n\n[1] I2ee2ed4c713d88345adc55b022feb95653eec663\n[2] I97095453610fff114d999a526d67e78119546ff5\n[3] I4c59f407c30020e3865e96e67a1b61361e699014\n\nAlso, make the grenade job non-voting for now because\nit would take long to fix it.\n1. It needs to be fixed in the base branch (right now\n   it's stable/queens) as grenade uses the base branch's\n   tempest.conf (thus NETWORK_API_EXTENSIONS) as it is\n   for the target branch.\n2. Right now stable/queens gate is broken for unrelated reasons\n\nCloses-Bug: #1789323\n\nThis commit includes the following unrelated changes to pass\nthe gate.\n----------------------------------------\nDisable rally job for now\n\nrally_openstack 1.2.0 doesn't seem compatible with queens.\n\nRelated-Bug: #1792364\n----------------------------------------\nStop installing neutron-lbaas tempest plugin for now\n\nIt doesn't seem compatible with tempest master.\n\nRelated-Bug: #1792357\n----------------------------------------\n\nChange-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d\n(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)\n""}]",0,597357,a71f447ce72c7408033ffd622270d8ffd9a588cd,18,4,3,6854,,,0,"Remove a few extensions from NETWORK_API_EXTENSIONS

This commit removes the following extensions from the list.
	timestamp_core
	tag
	tag_ext

Those extensions have been removed long before. [1] [2]
The mismatch has been exposed by the recently added
tempest test case. [3]

[1] I2ee2ed4c713d88345adc55b022feb95653eec663
[2] I97095453610fff114d999a526d67e78119546ff5
[3] I4c59f407c30020e3865e96e67a1b61361e699014

Also, make the grenade job non-voting for now because
it would take long to fix it.
1. It needs to be fixed in the base branch (right now
   it's stable/queens) as grenade uses the base branch's
   tempest.conf (thus NETWORK_API_EXTENSIONS) as it is
   for the target branch.
2. Right now stable/queens gate is broken for unrelated reasons

Closes-Bug: #1789323

This commit includes the following unrelated changes to pass
the gate.
----------------------------------------
Disable rally job for now

rally_openstack 1.2.0 doesn't seem compatible with queens.

Related-Bug: #1792364
----------------------------------------
Stop installing neutron-lbaas tempest plugin for now

It doesn't seem compatible with tempest master.

Related-Bug: #1792357
----------------------------------------

Change-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d
(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/57/597357/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,0644162a1ea499a8f817240cd787dbe7e0587622,bug/1789323-stable/queens,"NETWORK_API_EXTENSIONS+=,service-type,rbac-policies","NETWORK_API_EXTENSIONS+=,timestamp_core,tag,service-type,rbac-policiesNETWORK_API_EXTENSIONS+=,tag-ext",1,2
openstack%2Fnetworking-midonet~stable%2Fpike~I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48,openstack/networking-midonet,stable/pike,I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48,import zuul job settings from project-config,MERGED,2018-08-30 00:07:45.000000000,2018-10-05 17:43:45.000000000,2018-10-05 17:43:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-30 00:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d5d7149f6f065e9fcc93a45b1f5912905e32b7f9', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-10-04 20:30:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/638d22ff12053ac118a268ba6313b2e045a58c68', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48\nStory: #2002586\nTask: #24314\n'}]",1,597922,638d22ff12053ac118a268ba6313b2e045a58c68,13,5,2,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I42dd5ae4b40204c8f7ada8ac98db7020a3fe6d48
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/22/597922/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d5d7149f6f065e9fcc93a45b1f5912905e32b7f9,python3-first," templates: - check-requirements - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - publish-openstack-sphinx-docs - release-notes-jobs - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-cover: voting: false required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service periodic: jobs: - legacy-periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - legacy-periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service periodic-stable: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service post: jobs: - publish-openstack-python-branch-tarball: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - {name: openstack/rally, override-checkout: 0.12.1}"," - {""name"": ""openstack/rally"", ""override-checkout"": ""0.12.1""}",137,1
openstack%2Fnetworking-midonet~stable%2Frocky~I0d5295e3dcfd6e4bcae5de41f098495cff801fcc,openstack/networking-midonet,stable/rocky,I0d5295e3dcfd6e4bcae5de41f098495cff801fcc,import zuul job settings from project-config,MERGED,2018-08-30 00:09:40.000000000,2018-10-05 17:43:43.000000000,2018-10-05 17:43:43.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-30 00:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8acd42b7277807f5ca506d78e750ed02ecf9c29b', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I0d5295e3dcfd6e4bcae5de41f098495cff801fcc\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-10-04 20:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5dc946603b07abc8f7651948b51f0d5f94985375', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I0d5295e3dcfd6e4bcae5de41f098495cff801fcc\nStory: #2002586\nTask: #24314\n'}, {'number': 3, 'created': '2018-10-05 06:33:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/60788e790b22b90fc40d6d64d4de05f3dbd14b3f', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I0d5295e3dcfd6e4bcae5de41f098495cff801fcc\nStory: #2002586\nTask: #24314\n'}]",0,597952,60788e790b22b90fc40d6d64d4de05f3dbd14b3f,19,7,3,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I0d5295e3dcfd6e4bcae5de41f098495cff801fcc
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/52/597952/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8acd42b7277807f5ca506d78e750ed02ecf9c29b,python3-first, templates: - check-requirements - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - publish-openstack-sphinx-docs - release-notes-jobs - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-cover: voting: false required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service periodic: jobs: - legacy-periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - legacy-periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service post: jobs: - publish-openstack-python-branch-tarball: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service,,116,0
openstack%2Foslo.serialization~master~Ia06cc37b736d5a874286dd76ccb5511d4b29c385,openstack/oslo.serialization,master,Ia06cc37b736d5a874286dd76ccb5511d4b29c385,Update the home-page to latest,MERGED,2018-08-29 13:06:30.000000000,2018-10-05 17:28:07.000000000,2018-10-05 17:28:07.000000000,"[{'_account_id': 6928}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-08-29 13:06:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/181de14da10a84a04cb4f54277d96e1ccb0b124e', 'message': 'Update the home-page to latest\n\nChange-Id: Ia06cc37b736d5a874286dd76ccb5511d4b29c385\n'}]",0,597507,181de14da10a84a04cb4f54277d96e1ccb0b124e,11,7,1,21691,,,0,"Update the home-page to latest

Change-Id: Ia06cc37b736d5a874286dd76ccb5511d4b29c385
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/07/597507/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,181de14da10a84a04cb4f54277d96e1ccb0b124e,,home-page = https://docs.openstack.org/oslo.serialization/latest/,home-page = http://docs.openstack.org/developer/oslo.serialization/,1,1
openstack%2Foslotest~master~Id46f74ab4a8f64f7159effc8fa4d552f8217c498,openstack/oslotest,master,Id46f74ab4a8f64f7159effc8fa4d552f8217c498,Use templates for cover and lower-constraints,MERGED,2018-09-07 10:20:00.000000000,2018-10-05 17:19:14.000000000,2018-10-05 17:19:14.000000000,"[{'_account_id': 2}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 10:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/848b448a42b816b632305df46202885dc4addcc6', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job as\nnon-voting in the check queue only.\n\nUse openstack-lower-constraints-jobs template\n\nRemove jobs that are part of the templates.\n\nSort list of templates alphabetically.\n\nChange-Id: Id46f74ab4a8f64f7159effc8fa4d552f8217c498\n'}, {'number': 2, 'created': '2018-09-07 10:38:26.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/99bf2bd40f762fcdeae6e6101f9342cf8b168b8c', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job\nin the check queue only.\n\nUse openstack-lower-constraints-jobs template\n\nRemove jobs that are part of the templates.\n\nSort list of templates alphabetically.\n\nFix tox.ini for cover to work.\n\nChange-Id: Id46f74ab4a8f64f7159effc8fa4d552f8217c498\n'}]",0,600698,99bf2bd40f762fcdeae6e6101f9342cf8b168b8c,10,4,2,6547,,,0,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job
in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Sort list of templates alphabetically.

Fix tox.ini for cover to work.

Change-Id: Id46f74ab4a8f64f7159effc8fa4d552f8217c498
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/98/600698/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,848b448a42b816b632305df46202885dc4addcc6,update-zuul, templates: - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3, check: jobs: - openstack-tox-lower-constraints gate: jobs: - openstack-tox-lower-constraints templates: - publish-openstack-docs-pti - check-requirements - release-notes-jobs-python3 - periodic-stable-jobs post: jobs: - openstack-tox-cover,6,13
openstack%2Ftrove~master~I6e389db5aed8db25b49906b2479af081237fc909,openstack/trove,master,I6e389db5aed8db25b49906b2479af081237fc909,Fix cover job,MERGED,2018-09-24 17:28:53.000000000,2018-10-05 17:19:13.000000000,2018-10-05 17:19:13.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28646}, {'_account_id': 28671}, {'_account_id': 28695}]","[{'number': 1, 'created': '2018-09-24 17:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2860739c6ef40da853c18685b9a6968c371922f9', 'message': 'Start fixing cover job\n\nThe job is currently broken, add some first fixes to get it run\nwith stestr.\n\nChange-Id: I6e389db5aed8db25b49906b2479af081237fc909\n'}, {'number': 2, 'created': '2018-10-01 13:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/98c35e1a95b72d7bbdcb43712d720bc330642b3a', 'message': 'Fix cover job\n\nThe job is currently broken, it runs with testr while\nwe switched to stestr. Use the usual setup for coverage as done by\nother projects using stestr in cover.\n\nPreviously, we run with concurrency=1 - continue to do so.\n\nChange-Id: I6e389db5aed8db25b49906b2479af081237fc909\n'}, {'number': 3, 'created': '2018-10-01 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6cd444b98dc5693c369521e3f84f7bdbfced6807', 'message': 'Fix cover job\n\nThe job is currently broken, it runs with testr while\nwe switched to stestr. Use the usual setup for coverage as done by\nother projects using stestr in cover.\n\nPreviously, we run with concurrency=1 - continue to do so.\n\nChange-Id: I6e389db5aed8db25b49906b2479af081237fc909\n'}, {'number': 4, 'created': '2018-10-01 18:33:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/53576ec07ab0f781d813876d69d17aafb8d3592d', 'message': 'Fix cover job\n\nThe job is currently broken, it runs with testr while\nwe switched to stestr. Use the usual setup for coverage as done by\nother projects using stestr in cover.\n\nPreviously, we run with concurrency=1 - continue to run in serial mode.\n\nChange-Id: I6e389db5aed8db25b49906b2479af081237fc909\n'}]",11,604854,53576ec07ab0f781d813876d69d17aafb8d3592d,20,5,4,6547,,,0,"Fix cover job

The job is currently broken, it runs with testr while
we switched to stestr. Use the usual setup for coverage as done by
other projects using stestr in cover.

Previously, we run with concurrency=1 - continue to run in serial mode.

Change-Id: I6e389db5aed8db25b49906b2479af081237fc909
",git fetch https://review.opendev.org/openstack/trove refs/changes/54/604854/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2860739c6ef40da853c18685b9a6968c371922f9,python3-first,setenv = {[testenv]setenv} PYTHON=coverage run --source trove --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml," {[testenv]commands} coverage erase python setup.py testr --coverage --testr-args=""--concurrency=1"" coverage html coverage xml",7,5
openstack%2Fneutron~master~I9783ee588de1ec4b91a665b9dc89fdba3e2d90df,openstack/neutron,master,I9783ee588de1ec4b91a665b9dc89fdba3e2d90df,Upgrade pylint to a version that works with python3,MERGED,2018-10-01 20:36:07.000000000,2018-10-05 17:14:15.000000000,2018-10-05 17:14:15.000000000,"[{'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-01 20:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1075547e61196affe5af2227bf0c19921f5fd10c', 'message': 'upgrade pylint to a version that works with python3\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-01 21:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e6980491977cd8b217e487f53fbe4a80b57893e', 'message': 'upgrade pylint to a version that works with python3\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-10-02 00:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56a9c895f28bb3a42080fd0e6221a9655712b159', 'message': 'upgrade pylint to a version that works with python3\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-10-02 00:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3b39efc800c5d2eb9fde17619e47dbc554bc8b0', 'message': 'upgrade pylint to a version that works with python3\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2018-10-02 21:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86c020dde9b7fd79bd0aedc6295a8dfe411ec19d', 'message': 'Upgrade pylint to a version that works with python3\n\nAlso fixed some six.moves errors as well.\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2018-10-03 08:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1b9af2c43357191b5cf39d866ae463028d68a23', 'message': 'Upgrade pylint to a version that works with python3\n\nAlso fixed some six.moves errors as well.\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 7, 'created': '2018-10-04 13:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6aea95775863f38f059f4029545d22987659355c', 'message': 'Upgrade pylint to a version that works with python3\n\nAlso fixed some six.moves errors as well.\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 8, 'created': '2018-10-04 18:03:25.000000000', 'files': ['neutron/tests/unit/api/v2/test_base.py', 'neutron/pecan_wsgi/controllers/root.py', 'test-requirements.txt', 'neutron/api/api_common.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/test_wsgi.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2530ccff8f0a0105d1626c65616080b27682e129', 'message': 'Upgrade pylint to a version that works with python3\n\nAlso fixed some six.moves errors as well.\n\nChange-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,607047,2530ccff8f0a0105d1626c65616080b27682e129,64,16,8,2472,,,0,"Upgrade pylint to a version that works with python3

Also fixed some six.moves errors as well.

Change-Id: I9783ee588de1ec4b91a665b9dc89fdba3e2d90df
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/607047/8 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1075547e61196affe5af2227bf0c19921f5fd10c,python3-first,astroid==1.6.5 # LGPLv2.1 pylint==1.9.2 # GPLv2,pylint==1.4.5 # GPLv2,2,1
openstack%2Fproject-team-guide~master~If8ba9748b07a20e07e2664f48ea452e595c82f3d,openstack/project-team-guide,master,If8ba9748b07a20e07e2664f48ea452e595c82f3d,Disable cycle banner,MERGED,2018-09-14 15:51:21.000000000,2018-10-05 17:13:58.000000000,2018-10-05 17:13:58.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-14 15:51:21.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/138d536ab88103b17505f6d5c70613b1cd7c8f6e', 'message': 'Disable cycle banner\n\nThe project-team-guide is not a per-cycle document but currently\ndisplays the top banner warning that it is not the version for the\ncurrently supported release. This sets the openstackdocstheme option to\ndisable this behavior.\n\nChange-Id: If8ba9748b07a20e07e2664f48ea452e595c82f3d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,602659,138d536ab88103b17505f6d5c70613b1cd7c8f6e,8,4,1,11904,,,0,"Disable cycle banner

The project-team-guide is not a per-cycle document but currently
displays the top banner warning that it is not the version for the
currently supported release. This sets the openstackdocstheme option to
disable this behavior.

Change-Id: If8ba9748b07a20e07e2664f48ea452e595c82f3d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/59/602659/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,138d536ab88103b17505f6d5c70613b1cd7c8f6e,stable-banner,"html_theme_options = { ""display_badge"": False, }",#html_theme_options = {},3,1
openstack%2Foslo-specs~master~I5ea198ad806f7a65c4c4f17b9cf06cdd08bba251,openstack/oslo-specs,master,I5ea198ad806f7a65c4c4f17b9cf06cdd08bba251,fix tox python3 overrides,MERGED,2018-09-29 23:52:35.000000000,2018-10-05 17:13:27.000000000,2018-10-05 17:13:27.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:52:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/64a8dd52508598b48c9991355092f747e7859380', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I5ea198ad806f7a65c4c4f17b9cf06cdd08bba251\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606692,64a8dd52508598b48c9991355092f747e7859380,6,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I5ea198ad806f7a65c4c4f17b9cf06cdd08bba251
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/92/606692/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,64a8dd52508598b48c9991355092f747e7859380,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Fneutron-vpnaas~master~Iccd8b6a73946d841a383ac9558fec3ae031373cd,openstack/neutron-vpnaas,master,Iccd8b6a73946d841a383ac9558fec3ae031373cd,fix tox python3 overrides,MERGED,2018-09-29 23:52:05.000000000,2018-10-05 17:07:36.000000000,2018-10-05 17:07:36.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:52:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f55e503dc8a88ee93a8be7d04e8d01b0c9bab979', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iccd8b6a73946d841a383ac9558fec3ae031373cd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",3,606681,f55e503dc8a88ee93a8be7d04e8d01b0c9bab979,7,3,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iccd8b6a73946d841a383ac9558fec3ae031373cd
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/81/606681/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f55e503dc8a88ee93a8be7d04e8d01b0c9bab979,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Fpython-ironicclient~master~Ifc1891ada442b2046a3e967fc26104b4b5a77b8f,openstack/python-ironicclient,master,Ifc1891ada442b2046a3e967fc26104b4b5a77b8f,Fix a typo in the docstring,MERGED,2018-10-05 08:59:35.000000000,2018-10-05 17:00:55.000000000,2018-10-05 17:00:54.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 08:59:35.000000000', 'files': ['ironicclient/tests/unit/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9afae61ac211fb6a6633fc53c2428fac75383d70', 'message': 'Fix a typo in the docstring\n\nChange-Id: Ifc1891ada442b2046a3e967fc26104b4b5a77b8f\n'}]",0,608185,9afae61ac211fb6a6633fc53c2428fac75383d70,6,2,1,17130,,,0,"Fix a typo in the docstring

Change-Id: Ifc1891ada442b2046a3e967fc26104b4b5a77b8f
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/85/608185/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/unit/test_client.py'],1,9afae61ac211fb6a6633fc53c2428fac75383d70,fixtypo, # as a request must be triggered in order for any version, # as a request must be triggered in order for any verison,1,1
openstack%2Fmonasca-api~master~I19c13427b52f906b2e9e028cf6272a5e7261238e,openstack/monasca-api,master,I19c13427b52f906b2e9e028cf6272a5e7261238e,Set up logging for monasca-persister in devstack,MERGED,2018-10-02 11:44:32.000000000,2018-10-05 16:53:50.000000000,2018-10-05 16:53:50.000000000,"[{'_account_id': 6873}, {'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 11:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5399ad37ecdc437069d4b84f5aecd637e9e5c970', 'message': 'Set up logging for monasca-persister in devstack\n\nChange-Id: I19c13427b52f906b2e9e028cf6272a5e7261238e\n'}, {'number': 2, 'created': '2018-10-02 13:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/8bd78bb185c51fd8243ae9705847c64f61e69843', 'message': ""Set up logging for monasca-persister in devstack\n\nInstead of `log_config_append` option use devstack's `setup_logging`\nfunction to set up logging in the way consistent with other OpenStack\ncomponents. This should allow correct indexing of monasca-persister logs\nwith project-infra grok patterns.\n\nStory: 2003911\nTask: 26839\n\nChange-Id: I19c13427b52f906b2e9e028cf6272a5e7261238e\n""}, {'number': 3, 'created': '2018-10-05 10:00:45.000000000', 'files': ['devstack/lib/persister.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a23fd147167828863941f4f93e966ee0975ed3a5', 'message': ""Set up logging for monasca-persister in devstack\n\nInstead of `log_config_append` option use devstack's `setup_logging`\nfunction to set up logging in the way consistent with other OpenStack\ncomponents. This should allow correct indexing of monasca-persister logs\nwith project-infra grok patterns.\n\nAlso, set default log level for kafka_lib.client module to INFO to\nreduce log message size and avoid long log messages.\n\nStory: 2003911\nTask: 26839\n\nChange-Id: I19c13427b52f906b2e9e028cf6272a5e7261238e\n""}]",2,607163,a23fd147167828863941f4f93e966ee0975ed3a5,16,5,3,16222,,,0,"Set up logging for monasca-persister in devstack

Instead of `log_config_append` option use devstack's `setup_logging`
function to set up logging in the way consistent with other OpenStack
components. This should allow correct indexing of monasca-persister logs
with project-infra grok patterns.

Also, set default log level for kafka_lib.client module to INFO to
reduce log message size and avoid long log messages.

Story: 2003911
Task: 26839

Change-Id: I19c13427b52f906b2e9e028cf6272a5e7261238e
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/63/607163/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/persister.sh'],1,5399ad37ecdc437069d4b84f5aecd637e9e5c970,607163," # Set up logging if [ ""$SYSLOG"" != ""False"" ]; then iniset $MONASCA_PERSISTER_CONF DEFAULT use_syslog ""True"" fi # Format logging setup_logging $MONASCA_PERSISTER_CONF iniset $MONASCA_PERSISTER_CONF DEFAULT debug $ENABLE_DEBUG_LOG_LEVEL"," install -m 600 ${MONASCA_PERSISTER_DIR}/etc/monasca/persister-logging.conf ${MONASCA_PERSISTER_LOGGING_CONF} iniset ""$MONASCA_PERSISTER_CONF"" DEFAULT log_config_append ${MONASCA_PERSISTER_LOGGING_CONF}",9,3
openstack%2Fgovernance~master~I82849176775484328b3939b4e0c66aaf7a35f49d,openstack/governance,master,I82849176775484328b3939b4e0c66aaf7a35f49d,show the modification time of each page individually,MERGED,2018-10-03 16:12:54.000000000,2018-10-05 16:47:03.000000000,2018-10-05 16:47:03.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 16:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/2bcb365d689cb537a483564262f9ab56b558c859', 'message': 'show the modification time of each page individually\n\nUse the git history of each page to show when it was modified. For\npages generated from the project list, show the modification time of\nthe input data file.\n\nChange-Id: I82849176775484328b3939b4e0c66aaf7a35f49d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-04 13:14:35.000000000', 'files': ['doc/source/_exts/page_context.py', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/f7f0a065f61df8e6320e3fc18f6f3fbe0bdc9344', 'message': ""show the modification time of each page individually\n\nThe old way of setting last_updated for the output showed a single\nvalue on all pages, which makes it more difficult to know how up to\ndate a given resolution or policy is. The output was also formatted as\nbinary strings, which rendered poorly with b'' wrapped around the\nactual timestamp.\n\nThis change uses the git history of each page to show when it was\nmodified. For pages generated from the project list, show the\nmodification time of the input data file. For pages rendered from\ntemplates, without a source file, use the current build time. Always\nreturn the value as a unicode string.\n\nChange-Id: I82849176775484328b3939b4e0c66aaf7a35f49d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,607629,f7f0a065f61df8e6320e3fc18f6f3fbe0bdc9344,15,7,2,2472,,,0,"show the modification time of each page individually

The old way of setting last_updated for the output showed a single
value on all pages, which makes it more difficult to know how up to
date a given resolution or policy is. The output was also formatted as
binary strings, which rendered poorly with b'' wrapped around the
actual timestamp.

This change uses the git history of each page to show when it was
modified. For pages generated from the project list, show the
modification time of the input data file. For pages rendered from
templates, without a source file, use the current build time. Always
return the value as a unicode string.

Change-Id: I82849176775484328b3939b4e0c66aaf7a35f49d
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/29/607629/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,2bcb365d689cb537a483564262f9ab56b558c859,code-change,"import datetimehtml_last_updated_fmt = '%Y-%m-%d' def _get_last_updated_file(src_file): if not os.path.exists(src_file): return None try: last_updated_t = subprocess.check_output( [ 'git', 'log', '-n1', '--format=%ad', '--date=format:%Y-%m-%d %H:%M:%S', '--', src_file, ] ).decode('utf-8').strip() return datetime.datetime.strptime(last_updated_t, '%Y-%m-%d %H:%M:%S') except (ValueError, subprocess.CalledProcessError) as err: return None def _get_last_updated(app, pagename): last_updated = None full_src_file = app.builder.env.doc2path(pagename) # Strip the prefix from the filename so the git command recognizes # the file as part of the current repository. src_file = full_src_file[len(app.builder.env.srcdir):].lstrip('/') last_updated = _get_last_updated_file(src_file) if last_updated is None: if pagename.startswith('reference/projects'): # We couldn't get the update time for a project page, so # look at the YAML input file instead. last_updated = _get_last_updated_file('reference/projects.yaml') return last_updated def html_page_context(app, pagename, templatename, context, doctree): # Use the last modified date from git instead of applying a single # value to the entire site. context['last_updated'] = _get_last_updated(app, pagename) def setup(app): app.connect('html-page-context', html_page_context)","git_cmd = [""git"", ""log"", ""--pretty=format:'%ad, commit %h'"", ""--date=local"", ""-n1""] html_last_updated_fmt = str(subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0])",43,4
openstack%2Fgovernance~master~I160e31389fae571d45a35444c281507d8aef345e,openstack/governance,master,I160e31389fae571d45a35444c281507d8aef345e,Inherit openstackdocstheme for TC site,MERGED,2018-09-24 23:48:31.000000000,2018-10-05 16:44:39.000000000,2018-10-05 16:44:39.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 11655}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 23:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4f11b5dc31ab91187d79b18c46ab5fe1cc86dff6', 'message': 'Use openstackdocstheme for TC site\n\nChange-Id: I160e31389fae571d45a35444c281507d8aef345e\n'}, {'number': 2, 'created': '2018-09-28 11:03:28.000000000', 'files': ['doc/source/_themes/tc/static/openstack_logo.png', 'doc/source/_themes/tc/static/header_bg.jpg', 'test-requirements.txt', 'doc/source/_themes/tc/static/default.css', 'doc/source/_themes/tc/theme.conf', 'doc/source/conf.py', 'doc/source/_themes/tc/layout.html', 'doc/source/_themes/tc/static/tweaks.css', 'doc/source/_themes/tc/static/tc.css', 'doc/source/_themes/tc/static/basic.css', 'doc/source/_themes/governance/sidebartoc_menu.html', 'doc/source/_themes/tc/static/header-line.gif', 'doc/source/_themes/governance/theme.conf'], 'web_link': 'https://opendev.org/openstack/governance/commit/bf83ea4b273f0b1821166533b3c093d093ee1d5f', 'message': 'Inherit openstackdocstheme for TC site\n\nRather than use a fully custom theme for the TC site,\ninherit from openstackdocstheme. This uses the new\ndisplay_global_toc_section and root_title options to\nmake it look closer to what we currently have, and\nintroduces a governance-specific sidebar TOC dropdown.\n\nChange-Id: I160e31389fae571d45a35444c281507d8aef345e\n'}]",3,604935,bf83ea4b273f0b1821166533b3c093d093ee1d5f,25,9,2,4257,,,0,"Inherit openstackdocstheme for TC site

Rather than use a fully custom theme for the TC site,
inherit from openstackdocstheme. This uses the new
display_global_toc_section and root_title options to
make it look closer to what we currently have, and
introduces a governance-specific sidebar TOC dropdown.

Change-Id: I160e31389fae571d45a35444c281507d8aef345e
",git fetch https://review.opendev.org/openstack/governance refs/changes/35/604935/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_themes/tc/static/openstack_logo.png', 'doc/source/_themes/tc/static/basic.css', 'doc/source/_themes/tc/static/header_bg.jpg', 'test-requirements.txt', 'doc/source/_themes/tc/static/header-line.gif', 'doc/source/_themes/tc/static/default.css', 'doc/source/_themes/tc/theme.conf', 'doc/source/conf.py', 'doc/source/_themes/tc/layout.html', 'doc/source/_themes/tc/static/tweaks.css', 'doc/source/_themes/tc/static/tc.css']",11,4f11b5dc31ab91187d79b18c46ab5fe1cc86dff6,code-change,,"/* * nature.css_t * ~~~~~~~~~~~~ * * Sphinx stylesheet -- nature theme. * * :copyright: Copyright 2007-2011 by the Sphinx team, see AUTHORS. * :license: BSD, see LICENSE for details. * */ @import url(""basic.css""); /* -- page layout ----------------------------------------------------------- */ body { font-family: Arial, sans-serif; font-size: 100%; background-color: #111; color: #555; margin: 0; padding: 0; } div.documentwrapper { float: left; width: 100%; } div.bodywrapper { margin: 0 0 0 {{ theme_sidebarwidth|toint }}px; } hr { border: 1px solid #B1B4B6; } div.document { background-color: #eee; } div.body { background-color: #ffffff; color: #3E4349; padding: 0 30px 30px 30px; font-size: 0.9em; } div.footer { color: #555; width: 100%; padding: 13px 0; text-align: center; font-size: 75%; } div.footer a { color: #444; text-decoration: underline; } div.related { background-color: #6BA81E; line-height: 32px; color: #fff; text-shadow: 0px 1px 0 #444; font-size: 0.9em; } div.related a { color: #E2F3CC; } div.sphinxsidebar { font-size: 0.75em; line-height: 1.5em; } div.sphinxsidebarwrapper{ padding: 20px 0; } div.sphinxsidebar h3, div.sphinxsidebar h4 { font-family: Arial, sans-serif; color: #222; font-size: 1.2em; font-weight: normal; margin: 0; padding: 5px 10px; background-color: #ddd; text-shadow: 1px 1px 0 white } div.sphinxsidebar h4{ font-size: 1.1em; } div.sphinxsidebar h3 a { color: #444; } div.sphinxsidebar p { color: #888; padding: 5px 20px; } div.sphinxsidebar p.topless { } div.sphinxsidebar ul { margin: 10px 20px; padding: 0; color: #000; } div.sphinxsidebar a { color: #444; } div.sphinxsidebar input { border: 1px solid #ccc; font-family: sans-serif; font-size: 1em; } div.sphinxsidebar input[type=text]{ margin-left: 20px; } /* -- body styles ----------------------------------------------------------- */ a { color: #005B81; text-decoration: none; } a:hover { color: #E32E00; text-decoration: underline; } div.body h1, div.body h2, div.body h3, div.body h4, div.body h5, div.body h6 { font-family: Arial, sans-serif; background-color: #BED4EB; font-weight: normal; color: #212224; margin: 30px 0px 10px 0px; padding: 5px 0 5px 10px; text-shadow: 0px 1px 0 white } div.body h1 { border-top: 20px solid white; margin-top: 0; font-size: 200%; } div.body h2 { font-size: 150%; background-color: #C8D5E3; } div.body h3 { font-size: 120%; background-color: #D8DEE3; } div.body h4 { font-size: 110%; background-color: #D8DEE3; } div.body h5 { font-size: 100%; background-color: #D8DEE3; } div.body h6 { font-size: 100%; background-color: #D8DEE3; } a.headerlink { color: #c60f0f; font-size: 0.8em; padding: 0 4px 0 4px; text-decoration: none; } a.headerlink:hover { background-color: #c60f0f; color: white; } div.body p, div.body dd, div.body li { line-height: 1.5em; } div.admonition p.admonition-title + p { display: inline; } div.highlight{ background-color: white; } div.note { background-color: #edf2f7; border: 1px solid #2a4e68; } div.seealso { background-color: #ffc; border: 1px solid #ff6; } div.topic { background-color: #eee; } div.warning { background-color: #ffe4e4; border: 1px solid #f66; } div.important { background-color: #feffbe; border: 1px solid #d7aa16; } div.caution { background-color: #eee; border: 1px solid #ccc; } div.tip { background-color: #eee; border: 1px solid #ccc; } p.admonition-title { display: inline; } p.admonition-title:after { content: "":""; } pre { padding: 10px; background-color: White; color: #222; line-height: 1.2em; border: 1px solid #C6C9CB; font-size: 1.1em; margin: 1.5em 0 1.5em 0; -webkit-box-shadow: 1px 1px 1px #d8d8d8; -moz-box-shadow: 1px 1px 1px #d8d8d8; } tt { background-color: #ecf0f3; color: #222; /* padding: 1px 2px; */ font-size: 1.1em; font-family: monospace; } .viewcode-back { font-family: Arial, sans-serif; } div.viewcode-block:target { background-color: #f4debf; border-top: 1px solid #ac9; border-bottom: 1px solid #ac9; } ",3,1162
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I0ff8202455b576227b882670c7254487b5e11f25,openstack/cookbook-openstack-compute,stable/queens,I0ff8202455b576227b882670c7254487b5e11f25,Add www_authenticate_uri to keystone_authtoken,MERGED,2018-10-05 09:58:14.000000000,2018-10-05 16:44:37.000000000,2018-10-05 16:44:37.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 09:58:14.000000000', 'files': ['recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/96591e345206cb149f90b7ea1c92d4d28082bc63', 'message': 'Add www_authenticate_uri to keystone_authtoken\n\nWithout www_authenticate_uri set, nova logs contain warnings:\n\nWARNING keystonemiddleware.auth_token\n        Configuring www_authenticate_uri to point to the public identity\n        endpoint is required; clients may not be able to authenticate\n        against an admin endpoint\n\nbackport: queens\n\nChange-Id: I0ff8202455b576227b882670c7254487b5e11f25\n(cherry picked from commit 7053785ecf736dfd5ea022446d1a99df9e56f604)\n'}]",0,608200,96591e345206cb149f90b7ea1c92d4d28082bc63,7,3,1,11109,,,0,"Add www_authenticate_uri to keystone_authtoken

Without www_authenticate_uri set, nova logs contain warnings:

WARNING keystonemiddleware.auth_token
        Configuring www_authenticate_uri to point to the public identity
        endpoint is required; clients may not be able to authenticate
        against an admin endpoint

backport: queens

Change-Id: I0ff8202455b576227b882670c7254487b5e11f25
(cherry picked from commit 7053785ecf736dfd5ea022446d1a99df9e56f604)
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/00/608200/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/nova-common.rb'],1,96591e345206cb149f90b7ea1c92d4d28082bc63,www_auth-stable/queens, conf['keystone_authtoken']['www_authenticate_uri'] = auth_url,,1,0
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I07aeb7617ca152f66ec239cef4bcbef642c66bf7,openstack/cookbook-openstack-compute,stable/queens,I07aeb7617ca152f66ec239cef4bcbef642c66bf7,Make nova.conf more readable,MERGED,2018-10-05 09:58:50.000000000,2018-10-05 16:41:39.000000000,2018-10-05 16:41:39.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 09:58:50.000000000', 'files': ['templates/default/nova.conf.erb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/b9740194cbc96a1018f402b74e080811145a53d9', 'message': 'Make nova.conf more readable\n\nThis patch replaces nova.conf.erb with openstack-service.conf.erb from\nthe openstack-common cookbook.\n\nBesides removing some redundancy, it also makes nova.conf more readable\n(due to a fix to openstack-service.conf.erb that never made it to\nnova.conf.erb).\n\nbackport: queens pike\n\nChange-Id: I07aeb7617ca152f66ec239cef4bcbef642c66bf7\n(cherry picked from commit 55b58702faaf08a1a3ab2cb5203cfc078582a353)\n'}]",0,608201,b9740194cbc96a1018f402b74e080811145a53d9,7,3,1,11109,,,0,"Make nova.conf more readable

This patch replaces nova.conf.erb with openstack-service.conf.erb from
the openstack-common cookbook.

Besides removing some redundancy, it also makes nova.conf more readable
(due to a fix to openstack-service.conf.erb that never made it to
nova.conf.erb).

backport: queens pike

Change-Id: I07aeb7617ca152f66ec239cef4bcbef642c66bf7
(cherry picked from commit 55b58702faaf08a1a3ab2cb5203cfc078582a353)
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/01/608201/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default/nova.conf.erb', 'recipes/nova-common.rb']",2,b9740194cbc96a1018f402b74e080811145a53d9,conf_space-stable/queens,# merge all config options and secrets to be used in nova.conf source 'openstack-service.conf.erb' cookbook 'openstack-common',# merge all config options and secrets to be used in the nova.conf.erb source 'nova.conf.erb',3,14
openstack%2Foslo.config~master~I0c3d63d459b0671f8db857e76c2ea2e960a0e8d6,openstack/oslo.config,master,I0c3d63d459b0671f8db857e76c2ea2e960a0e8d6,Pass old_values dict to upgrade_converter,ABANDONED,2018-10-04 17:57:20.000000000,2018-10-05 16:41:23.000000000,,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28278}]","[{'number': 1, 'created': '2018-10-04 17:57:20.000000000', 'files': ['oslo_config/migrator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/1b9d1e26d9051bc608878a7989d20e3b261b7f77', 'message': 'Pass old_values dict to upgrade_converter\n\nThis changes the type of the old_value parameter passed to the\nupgrade_converter callback to a dict that has the following structure:\n\n{old_group: {old_option_name: old_value}}\n\nThis should allow us to have callbacks in the future that process\nmultiple values without changing the type of the parameter, which\nwould break existing implementations.\n\nChange-Id: I0c3d63d459b0671f8db857e76c2ea2e960a0e8d6\n'}]",0,608047,1b9d1e26d9051bc608878a7989d20e3b261b7f77,7,4,1,6928,,,0,"Pass old_values dict to upgrade_converter

This changes the type of the old_value parameter passed to the
upgrade_converter callback to a dict that has the following structure:

{old_group: {old_option_name: old_value}}

This should allow us to have callbacks in the future that process
multiple values without changing the type of the parameter, which
would break existing implementations.

Change-Id: I0c3d63d459b0671f8db857e76c2ea2e960a0e8d6
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/47/608047/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/migrator.py'],1,1b9d1e26d9051bc608878a7989d20e3b261b7f77,migrator-dict," old_values = {section: {old_key: old_value}} new_value = _upgrade_value(upgrade_converter, option, old_values) old_values = {section: {key: old_value}} old_values,"," new_value = _upgrade_value(upgrade_converter, option, old_value) old_value,",4,2
openstack%2Fcinder~stable%2Fqueens~I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a,openstack/cinder,stable/queens,I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a,Fix image volume cache max size and max count limits,MERGED,2018-09-28 19:49:56.000000000,2018-10-05 16:31:27.000000000,2018-10-05 16:31:27.000000000,"[{'_account_id': 4523}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-28 19:49:56.000000000', 'files': ['cinder/image/cache.py', 'cinder/tests/unit/image/test_cache.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe0c082529c301e28fd7dd517f564eaaed944475', 'message': 'Fix image volume cache max size and max count limits\n\nFix the code that enforces the image volume cache max size and max count\nlimits so that each limit functions independently from the other.\n\nThis fixes a bug where the code would function correctly when both were\nset to zero (unlimited) or when both limits were set (non-zero), but would\nmisbehave when only one limit was set and the other unlimited.\n\nCloses-Bug: #1792944\nChange-Id: I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a\n(cherry picked from commit 74249de6398dbec8592591667b83a5612bf4a969)\n(cherry picked from commit 4c2b41d5b531c1e3cd87172d30f280f89e2505a3)\n'}]",0,606187,fe0c082529c301e28fd7dd517f564eaaed944475,25,21,1,21129,,,0,"Fix image volume cache max size and max count limits

Fix the code that enforces the image volume cache max size and max count
limits so that each limit functions independently from the other.

This fixes a bug where the code would function correctly when both were
set to zero (unlimited) or when both limits were set (non-zero), but would
misbehave when only one limit was set and the other unlimited.

Closes-Bug: #1792944
Change-Id: I8b4843c2e9392139b42d6e2ebd2c5e1cd09d4c7a
(cherry picked from commit 74249de6398dbec8592591667b83a5612bf4a969)
(cherry picked from commit 4c2b41d5b531c1e3cd87172d30f280f89e2505a3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/606187/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/cache.py', 'cinder/tests/unit/image/test_cache.py']",2,fe0c082529c301e28fd7dd517f564eaaed944475,bug/1792944," cache = self._build_cache(max_gb=30, max_count=0) cache = self._build_cache(max_gb=0, max_count=2)"," cache = self._build_cache(max_gb=30, max_count=10) cache = self._build_cache(max_gb=30, max_count=2)",6,4
openstack%2Fnetworking-ovn~stable%2Frocky~I865da811157aa41bf0c7f1cf1089b93cb373707e,openstack/networking-ovn,stable/rocky,I865da811157aa41bf0c7f1cf1089b93cb373707e,Fix wrong path in doc config,MERGED,2018-10-03 14:07:54.000000000,2018-10-05 16:31:10.000000000,2018-10-05 16:31:10.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 14:07:54.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/99b02f63ddc8b12e9cd47bd67053bee720bbba8a', 'message': 'Fix wrong path in doc config\n\nThis patch fixes wrong path which prevents doc from being correctly\nbuilt.\n\nChange-Id: I865da811157aa41bf0c7f1cf1089b93cb373707e\nCloses-Bug: #1795883\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry-picked from commit 993ef63b667174575a5ca4dbf5f8a631eab981c9)\n'}]",0,607580,99b02f63ddc8b12e9cd47bd67053bee720bbba8a,8,4,1,23804,,,0,"Fix wrong path in doc config

This patch fixes wrong path which prevents doc from being correctly
built.

Change-Id: I865da811157aa41bf0c7f1cf1089b93cb373707e
Closes-Bug: #1795883
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry-picked from commit 993ef63b667174575a5ca4dbf5f8a631eab981c9)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/80/607580/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,99b02f63ddc8b12e9cd47bd67053bee720bbba8a,bug/1795883-stable/rocky," config_file_path = '../../etc/oslo-config-generator/%s' % config_file output_file_path = '_static/config_samples/%s' % config_file.rsplit('.', 1)[0]"," config_file_path = '../../etc/oslo-config-generator/%s' % conf output_file_path = '_static/config_samples/%s' % conf.rsplit('.', 1)[0]",3,2
openstack%2Fbifrost~master~I923ed22ea16c8692f803ac7656f5d105f9a32032,openstack/bifrost,master,I923ed22ea16c8692f803ac7656f5d105f9a32032,scripts: collect-test-info.sh: Collect baremetal information,MERGED,2018-10-05 13:51:05.000000000,2018-10-05 16:20:14.000000000,2018-10-05 16:20:14.000000000,"[{'_account_id': 5805}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 13:51:05.000000000', 'files': ['scripts/collect-test-info.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d1c9bd8101cf66000b7ea9388068df4d31b5a8e1', 'message': 'scripts: collect-test-info.sh: Collect baremetal information\n\nCollect baremetal node information which can help debug issues.\n\nChange-Id: I923ed22ea16c8692f803ac7656f5d105f9a32032\n'}]",1,608265,d1c9bd8101cf66000b7ea9388068df4d31b5a8e1,7,3,1,23163,,,0,"scripts: collect-test-info.sh: Collect baremetal information

Collect baremetal node information which can help debug issues.

Change-Id: I923ed22ea16c8692f803ac7656f5d105f9a32032
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/65/608265/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/collect-test-info.sh'],1,d1c9bd8101cf66000b7ea9388068df4d31b5a8e1,fix-vm-logs,# Copy baremetal information source $HOME/openrc for vm in $(openstack baremetal node list -c Name -f value); do openstack baremetal node show $vm >> ${LOG_LOCATION}/baremetal.txt done ,,6,0
openstack%2Fbifrost~master~I83866b7650a38a885c94c0b7933443f30bef02c4,openstack/bifrost,master,I83866b7650a38a885c94c0b7933443f30bef02c4,scripts: collect-test-info.sh: Collect PXE scripts,MERGED,2018-10-05 13:51:05.000000000,2018-10-05 16:12:49.000000000,2018-10-05 16:12:49.000000000,"[{'_account_id': 5805}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 13:51:05.000000000', 'files': ['scripts/collect-test-info.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2be2c3839921cbb71ba459191a889e3f9d1db37a', 'message': 'scripts: collect-test-info.sh: Collect PXE scripts\n\nCollect PXE boot scripts which can help us identify VM boot problems.\n\nChange-Id: I83866b7650a38a885c94c0b7933443f30bef02c4\n'}]",1,608264,2be2c3839921cbb71ba459191a889e3f9d1db37a,7,3,1,23163,,,0,"scripts: collect-test-info.sh: Collect PXE scripts

Collect PXE boot scripts which can help us identify VM boot problems.

Change-Id: I83866b7650a38a885c94c0b7933443f30bef02c4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/64/608264/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/collect-test-info.sh'],1,2be2c3839921cbb71ba459191a889e3f9d1db37a,fix-vm-logs,# Copy PXE information mkdir -p ${LOG_LOCATION}/pxe/ cp /httpboot/ipxe.pxe ${LOG_LOCATION}/pxe/ cp -aL /httpboot/pxelinux.cfg/ ${LOG_LOCATION}/pxe/ ,,5,0
openstack%2Fpatrole~master~I6485b6c57795b5fe75e2b339d5c9720da30be564,openstack/patrole,master,I6485b6c57795b5fe75e2b339d5c9720da30be564,Replace rule/expected_error_code with non-deprecated versions,MERGED,2018-08-23 03:36:21.000000000,2018-10-05 16:00:17.000000000,2018-10-05 16:00:17.000000000,"[{'_account_id': 8556}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-08-23 03:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/57d5b5f1abc50220dd25978e48753c108362c194', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}, {'number': 2, 'created': '2018-08-23 03:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/24659c8baea9d216e868ce57eecd45e5b9135c3c', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}, {'number': 3, 'created': '2018-09-10 12:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6afe7ba6b5ed87222bd9684a0eac347071d8daa6', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}, {'number': 4, 'created': '2018-09-19 00:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6e939d45564e2debc877969e4afd09e76186f6d5', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}, {'number': 5, 'created': '2018-09-21 02:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/8b7ac68579c55adbea4b97216003df74b52d7315', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}, {'number': 6, 'created': '2018-10-03 18:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/587a892d27a0b885e3fad5c6c1317862c04d0b6e', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}, {'number': 7, 'created': '2018-10-04 16:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/340fbd9b15f7fd681497373431d25098eeb7c717', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}, {'number': 8, 'created': '2018-10-04 16:23:19.000000000', 'files': ['patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/tests/api/volume/test_snapshot_manage_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_roles_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_metadata_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_tags_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_property_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_snapshots_metadata_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_oauth_consumers_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_manage_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_services_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_extra_specs_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_hosts_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_fixed_ips_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_project_tags_rbac.py', 'patrole_tempest_plugin/tests/unit/test_rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/compute/test_limits_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_transfers_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_quota_sets_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_user_messages_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_quotas_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_routers_rbac.py', 'patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_groups_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_subnetpools_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_actions_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_volume_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_policies_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ip_pools_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_groups_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_types_access_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_availability_zone_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_tokens_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_ep_filter_groups_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_quota_classes_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_domains_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_keypairs_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_images_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_agents_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_limits_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_group_type_specs.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_tokens_negative_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_auth_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_quota_class_sets_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_hypervisor_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_service_providers_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_subnets_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_security_groups_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_manage_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_actions_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_tenant_networks_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_migrations_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_domain_configuration_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_ep_filter_projects_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_snapshots_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_rxtx_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_images_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_security_groups_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_credentials_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_agents_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_users_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_snapshots_actions_rbac.py', 'releasenotes/notes/remove-deprecated-rules-expected-error-codes-params-52071a83113934fd.yaml', 'patrole_tempest_plugin/tests/api/compute/test_hosts_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_group_snapshots_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_qos_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_basic_crud_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_bulk_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_consoles_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_access_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_types_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_instance_usages_audit_log_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_role_assignments_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_services_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_metadata_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_services_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_regions_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_aggregates_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_metering_labels_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_networks_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_policy_association_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_groups_rbac.py', 'doc/source/test_writing_guide.rst', 'patrole_tempest_plugin/tests/api/volume/test_capabilities_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_projects_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_images_member_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_tags_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_endpoints_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_objects_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_oauth_tokens_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_encryption_types_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_migrations_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_types_extra_specs_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_extend_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_backup_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_trusts_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_ports_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_virtual_interfaces_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_resource_types_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_metering_label_rules_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_application_credentials_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_scheduler_stats_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/59f538fdbdf650154779028747285a5e35fa2d17', 'message': 'Replace rule/expected_error_code with non-deprecated versions\n\nThis patch set replaces deprecated occurrences of rule with\nrules and expected_error_code with expected_error_codes in\nrbac_rule_validation.action decorator.\n\nAlong with removing the parameters from the decorator, all the\nAPI tests have been changed to use the non-deprecated parameters\ninstead. Unit tests have also been updated.\n\nChange-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564\n'}]",3,595450,59f538fdbdf650154779028747285a5e35fa2d17,31,4,8,23186,,,0,"Replace rule/expected_error_code with non-deprecated versions

This patch set replaces deprecated occurrences of rule with
rules and expected_error_code with expected_error_codes in
rbac_rule_validation.action decorator.

Along with removing the parameters from the decorator, all the
API tests have been changed to use the non-deprecated parameters
instead. Unit tests have also been updated.

Change-Id: I6485b6c57795b5fe75e2b339d5c9720da30be564
",git fetch https://review.opendev.org/openstack/patrole refs/changes/50/595450/8 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/volume/test_snapshot_manage_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_roles_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_metadata_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_tags_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_property_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_snapshots_metadata_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_oauth_consumers_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_manage_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_services_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_extra_specs_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_hosts_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_fixed_ips_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_project_tags_rbac.py', 'patrole_tempest_plugin/tests/unit/test_rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/compute/test_limits_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_transfers_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_quota_sets_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_user_messages_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_quotas_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_routers_rbac.py', 'patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_groups_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_subnetpools_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_actions_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_volume_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_policies_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ip_pools_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_groups_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_types_access_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_availability_zone_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_tokens_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_ep_filter_groups_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_quota_classes_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_domains_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_keypairs_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_images_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_agents_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_limits_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_group_type_specs.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_tokens_negative_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_auth_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_quota_class_sets_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_hypervisor_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_service_providers_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_subnets_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_security_groups_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_manage_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_actions_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_tenant_networks_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_migrations_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_domain_configuration_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_ep_filter_projects_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_snapshots_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_rxtx_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_images_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_security_groups_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_credentials_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_agents_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_users_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_snapshots_actions_rbac.py', 'releasenotes/notes/remove-deprecated-rules-expected-error-codes-params-52071a83113934fd.yaml', 'patrole_tempest_plugin/tests/api/compute/test_hosts_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_group_snapshots_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_qos_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_basic_crud_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_floating_ips_bulk_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_consoles_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_flavor_access_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_types_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_instance_usages_audit_log_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_role_assignments_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_services_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_metadata_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_services_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_regions_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_aggregates_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_metering_labels_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_networks_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_policy_association_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_groups_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_capabilities_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_projects_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_images_member_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_tags_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_endpoints_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_namespace_objects_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_oauth_tokens_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_encryption_types_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_migrations_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volume_types_extra_specs_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_extend_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_volumes_backup_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_trusts_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_ports_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_virtual_interfaces_rbac.py', 'patrole_tempest_plugin/tests/api/image/test_image_resource_types_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_metering_label_rules_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_application_credentials_rbac.py', 'patrole_tempest_plugin/tests/api/volume/test_scheduler_stats_rbac.py']",105,57d5b5f1abc50220dd25978e48753c108362c194,deprecate-args," rules=[""scheduler_extension:scheduler_stats:get_pools""])"," rule=""scheduler_extension:scheduler_stats:get_pools"")",568,599
openstack%2Fmanila~stable%2Fqueens~I585c15d9eb4eefb843df62f7aad08838c83611e2,openstack/manila,stable/queens,I585c15d9eb4eefb843df62f7aad08838c83611e2,Test share type per test suite changes,MERGED,2018-09-19 15:24:37.000000000,2018-10-05 15:57:44.000000000,2018-10-05 15:57:44.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 27615}]","[{'number': 1, 'created': '2018-09-19 15:24:37.000000000', 'files': ['contrib/ci/pre_test_hook.sh', 'contrib/ci/post_test_hook.sh', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/4c1b1e1b3a4db7e42a5186b41703ee232c07e4db', 'message': 'Test share type per test suite changes\n\nMake default share type and group type\ncreation optional in\nmanila-tempest-minimal-dsvm-dummy job.\n\nDepends-On: https://review.openstack.org/#/c/540070/\nChange-Id: I585c15d9eb4eefb843df62f7aad08838c83611e2\n(cherry picked from commit f9ae7aab057b282f42517718f8e38c20d0c34924)\n'}]",0,603830,4c1b1e1b3a4db7e42a5186b41703ee232c07e4db,23,14,1,16643,,,0,"Test share type per test suite changes

Make default share type and group type
creation optional in
manila-tempest-minimal-dsvm-dummy job.

Depends-On: https://review.openstack.org/#/c/540070/
Change-Id: I585c15d9eb4eefb843df62f7aad08838c83611e2
(cherry picked from commit f9ae7aab057b282f42517718f8e38c20d0c34924)
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/603830/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/pre_test_hook.sh', 'contrib/ci/post_test_hook.sh', 'devstack/plugin.sh', 'devstack/settings']",4,4c1b1e1b3a4db7e42a5186b41703ee232c07e4db,bug/1743472-stable/queens,"# Set this to False to leave ""default_share_type"" and # ""default_share_group_type"" configuration options empty. MANILA_CONFIGURE_DEFAULT_TYPES=${MANILA_CONFIGURE_DEFAULT_TYPES:-True} ",,26,5
openstack%2Fnetworking-bgpvpn~stable%2Focata~I20f667741b01ecc9be0dc3d06386ef1d902ce14d,openstack/networking-bgpvpn,stable/ocata,I20f667741b01ecc9be0dc3d06386ef1d902ce14d,import zuul job settings from project-config,MERGED,2018-08-30 00:06:53.000000000,2018-10-05 15:55:45.000000000,2018-10-05 15:55:45.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-30 00:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b3af670590fabe00e7004f068daa8a49a9ef0cb2', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I20f667741b01ecc9be0dc3d06386ef1d902ce14d\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-08-30 18:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/556274eef3d84966f9a98c72d86bcef97efb0422', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I20f667741b01ecc9be0dc3d06386ef1d902ce14d\nStory: #2002586\nTask: #24314\n'}, {'number': 3, 'created': '2018-10-05 06:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/962c171c70bee9cc2959359ff7f9f2e333ce88cf', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I20f667741b01ecc9be0dc3d06386ef1d902ce14d\nStory: #2002586\nTask: #24314\n'}, {'number': 4, 'created': '2018-10-05 07:35:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e896832064d204963f01e498cb540ee71ade257a', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I20f667741b01ecc9be0dc3d06386ef1d902ce14d\nStory: #2002586\nTask: #24314\n'}]",2,597909,e896832064d204963f01e498cb540ee71ade257a,21,7,4,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I20f667741b01ecc9be0dc3d06386ef1d902ce14d
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/09/597909/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b3af670590fabe00e7004f068daa8a49a9ef0cb2,python3-first,- project: templates: - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - publish-openstack-sphinx-docs - release-notes-jobs - periodic-stable-jobs-neutron - check-requirements check: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/networking-bagpipe - openstack/horizon - openstack-tox-pep8: required-projects: - openstack/networking-bagpipe - openstack/horizon - openstack-tox-py27: required-projects: - openstack/networking-bagpipe - openstack/horizon - openstack-tox-py35: required-projects: - openstack/networking-bagpipe - openstack/horizon - legacy-tempest-dsvm-networking-bgpvpn-bagpipe: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/horizon - legacy-networking-bgpvpn-dsvm-functional gate: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/networking-bagpipe - openstack/horizon - openstack-tox-pep8: required-projects: - openstack/networking-bagpipe - openstack/horizon - openstack-tox-py27: required-projects: - openstack/networking-bagpipe - openstack/horizon - openstack-tox-py35: required-projects: - openstack/networking-bagpipe - openstack/horizon - legacy-tempest-dsvm-networking-bgpvpn-bagpipe: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/horizon - legacy-networking-bgpvpn-dsvm-functional experimental: jobs: - legacy-networking-bgpvpn-dsvm-install - legacy-networking-bgpvpn-bagpipe-dsvm-install - legacy-networking-bgpvpn-bagpipe-dsvm-functional post: jobs: - publish-openstack-python-branch-tarball: required-projects: - openstack/networking-bagpipe - openstack/horizon - publish-openstack-sphinx-docs periodic: jobs: - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/networking-bagpipe - openstack/horizon periodic-stable: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/networking-bagpipe - openstack/horizon - openstack-tox-py27: required-projects: - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon ,,94,0
openstack%2Fcloudkitty~master~Idaeb783cf6fb566d795b1a502f45d9260544ce02,openstack/cloudkitty,master,Idaeb783cf6fb566d795b1a502f45d9260544ce02,Handle the scope id as a regular groupby attribute in storage,MERGED,2018-10-01 14:51:00.000000000,2018-10-05 15:51:08.000000000,2018-10-05 15:51:08.000000000,"[{'_account_id': 9642}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-10-01 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6fb243b1ebdedbae4ac4cdcb621c0f56b2a887ca', 'message': 'Handle the scope id as a regular groupby attribute in storage\n\nUntil now, the scope_id was handled separately in the storage backend.\nGiven that the state is not handled by the storage backend anymore, the\nscope_id should not be treated differently by the storage backend. This aims\nat simplifying cloudkitty\'s internal architecture.\n\nIn order to make the scope available to the whole orchestrator/API context,\na ""scope_key"" option has been added to cloudkitty.conf, and it has been\nremoved from the extra_args from the Gnocchi and Monasca collectors.\n\nChange-Id: Idaeb783cf6fb566d795b1a502f45d9260544ce02\nStory: 2001372\nTask: 26765\n'}, {'number': 2, 'created': '2018-10-01 15:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/73258dbe3e8d74c142fcdfd1e76d79598fd85935', 'message': 'Handle the scope id as a regular groupby attribute in storage\n\nUntil now, the scope_id was handled separately in the storage backend.\nGiven that the state is not handled by the storage backend anymore, the\nscope_id should not be treated differently by the storage backend. This aims\nat simplifying cloudkitty\'s internal architecture.\n\nIn order to make the scope available to the whole orchestrator/API context,\na ""scope_key"" option has been added to cloudkitty.conf, and it has been\nremoved from the extra_args from the Gnocchi and Monasca collectors.\n\nChange-Id: Idaeb783cf6fb566d795b1a502f45d9260544ce02\nStory: 2001372\nTask: 26765\n'}, {'number': 3, 'created': '2018-10-02 07:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9ee02bbd798ba92cc5485841fae579ab7c1949f5', 'message': 'Handle the scope id as a regular groupby attribute in storage\n\nUntil now, the scope_id was handled separately in the storage backend.\nGiven that the state is not handled by the storage backend anymore, the\nscope_id should not be treated differently by the storage backend. This aims\nat simplifying cloudkitty\'s internal architecture.\n\nIn order to make the scope available to the whole orchestrator/API context,\na ""scope_key"" option has been added to cloudkitty.conf, and it has been\nremoved from the extra_args from the Gnocchi and Monasca collectors.\n\nChange-Id: Idaeb783cf6fb566d795b1a502f45d9260544ce02\nStory: 2001372\nTask: 26765\n'}, {'number': 4, 'created': '2018-10-05 11:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cfc355ae521ac9ae92a0272e5fcfd040e2f8895a', 'message': 'Handle the scope id as a regular groupby attribute in storage\n\nUntil now, the scope_id was handled separately in the storage backend.\nGiven that the state is not handled by the storage backend anymore, the\nscope_id should not be treated differently by the storage backend. This aims\nat simplifying cloudkitty\'s internal architecture.\n\nIn order to make the scope available to the whole orchestrator/API context,\na ""scope_key"" option has been added to cloudkitty.conf, and it has been\nremoved from the extra_args from the Gnocchi and Monasca collectors.\n\nChange-Id: Idaeb783cf6fb566d795b1a502f45d9260544ce02\nStory: 2001372\nTask: 26765\n'}, {'number': 5, 'created': '2018-10-05 12:59:47.000000000', 'files': ['cloudkitty/storage/v2/__init__.py', 'releasenotes/notes/add-scope-key-58135c2a5c6dae68.yaml', 'cloudkitty/storage/v2/gnocchi.py', 'cloudkitty/storage/__init__.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0f79fbe944e2f98684b0dd47431480ded7c3abe0', 'message': 'Handle the scope id as a regular groupby attribute in storage\n\nUntil now, the scope_id was handled separately in the storage backend.\nGiven that the state is not handled by the storage backend anymore, the\nscope_id should not be treated differently by the storage backend. This aims\nat simplifying cloudkitty\'s internal architecture.\n\nIn order to make the scope available to the whole orchestrator/API context,\na ""scope_key"" option has been added to cloudkitty.conf, and it has been\nremoved from the extra_args from the Gnocchi and Monasca collectors.\n\nChange-Id: Idaeb783cf6fb566d795b1a502f45d9260544ce02\nStory: 2001372\nTask: 26765\n'}]",6,606965,0f79fbe944e2f98684b0dd47431480ded7c3abe0,17,4,5,23060,,,0,"Handle the scope id as a regular groupby attribute in storage

Until now, the scope_id was handled separately in the storage backend.
Given that the state is not handled by the storage backend anymore, the
scope_id should not be treated differently by the storage backend. This aims
at simplifying cloudkitty's internal architecture.

In order to make the scope available to the whole orchestrator/API context,
a ""scope_key"" option has been added to cloudkitty.conf, and it has been
removed from the extra_args from the Gnocchi and Monasca collectors.

Change-Id: Idaeb783cf6fb566d795b1a502f45d9260544ce02
Story: 2001372
Task: 26765
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/65/606965/5 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v2/__init__.py', 'releasenotes/notes/add-scope-key-58135c2a5c6dae68.yaml', 'cloudkitty/storage/v2/gnocchi.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/collector/monasca.py']",8,6fb243b1ebdedbae4ac4cdcb621c0f56b2a887ca,add-scope-key-opt, scope_key = CONF.collect.scope_key if scope_key not in output[metric_name]['groupby']: output[metric_name]['groupby'].append(scope_key) scope_key = CONF.collect.scope_key if project_id: dimensions[scope_key] = project_id," # This is needed to allow filtering on the project for the Openstack # usecase. May be removed in following releases Required('scope_key', default='project_id'): All(str, Length(min=1)), extra_args = self.conf[metric_name]['extra_args'] if project_id: dimensions[extra_args['scope_key']] = project_id",56,37
openstack%2Foslosphinx~master~Iabf8b371650d10bf96e7aae2f4a6ee891262b532,openstack/oslosphinx,master,Iabf8b371650d10bf96e7aae2f4a6ee891262b532,Update the home-page to latest,MERGED,2018-08-29 13:07:01.000000000,2018-10-05 15:48:51.000000000,2018-10-05 15:48:51.000000000,"[{'_account_id': 6928}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-08-29 13:07:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslosphinx/commit/b1f33b71e49b3d8e511d650f58f5ceea9ba375dd', 'message': 'Update the home-page to latest\n\nChange-Id: Iabf8b371650d10bf96e7aae2f4a6ee891262b532\n'}]",0,597508,b1f33b71e49b3d8e511d650f58f5ceea9ba375dd,13,7,1,21691,,,0,"Update the home-page to latest

Change-Id: Iabf8b371650d10bf96e7aae2f4a6ee891262b532
",git fetch https://review.opendev.org/openstack/oslosphinx refs/changes/08/597508/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b1f33b71e49b3d8e511d650f58f5ceea9ba375dd,,home-page = https://docs.openstack.org/oslosphinx/latest/,home-page = http://docs.openstack.org/developer/oslosphinx,1,1
openstack%2Fbifrost~master~Ibdf8606a3b72c48faffdf2b58b122b690008ba98,openstack/bifrost,master,Ibdf8606a3b72c48faffdf2b58b122b690008ba98,scripts: Fix shell expansion when collecting VM logs,MERGED,2018-10-05 13:34:28.000000000,2018-10-05 15:39:56.000000000,2018-10-05 15:39:56.000000000,"[{'_account_id': 5805}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 13:34:28.000000000', 'files': ['scripts/collect-test-info.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/431b76892936c4e228b42e51916000b6ffbb60ac', 'message': ""scripts: Fix shell expansion when collecting VM logs\n\nThe [[:digit:]] does not work correctly when using sudo\n\n 2018-10-04 14:31:33.319558 | opensuse-423 | + sudo cp '/var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log' /home/zuul/workspace/logs\n 2018-10-04 14:31:33.328756 | opensuse-423 | cp: cannot stat '/var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log': No such file or directory\n\nAs we can see [[:digit:]] is not expanded so no logs are collected. This\nis because the expansion happens by the user but since he does not have\naccess to the directory the command fails. We can fix this by opening a\nsubshell so it gets run with sudo privileges.\n\nChange-Id: Ibdf8606a3b72c48faffdf2b58b122b690008ba98\n""}]",0,608261,431b76892936c4e228b42e51916000b6ffbb60ac,7,3,1,23163,,,0,"scripts: Fix shell expansion when collecting VM logs

The [[:digit:]] does not work correctly when using sudo

 2018-10-04 14:31:33.319558 | opensuse-423 | + sudo cp '/var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log' /home/zuul/workspace/logs
 2018-10-04 14:31:33.328756 | opensuse-423 | cp: cannot stat '/var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log': No such file or directory

As we can see [[:digit:]] is not expanded so no logs are collected. This
is because the expansion happens by the user but since he does not have
access to the directory the command fails. We can fix this by opening a
subshell so it gets run with sudo privileges.

Change-Id: Ibdf8606a3b72c48faffdf2b58b122b690008ba98
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/61/608261/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/collect-test-info.sh'],1,431b76892936c4e228b42e51916000b6ffbb60ac,fix-vm-logs," sudo sh -c ""cp /var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log"" ${LOG_LOCATION}", sudo cp /var/log/libvirt/baremetal_logs/testvm[[:digit:]]_console.log ${LOG_LOCATION},1,1
openstack%2Floci~master~Ibc6aeb407e3f6630ab8d72420fa6f92baf5d6788,openstack/loci,master,Ibc6aeb407e3f6630ab8d72420fa6f92baf5d6788,Fix typo,MERGED,2018-09-20 16:58:59.000000000,2018-10-05 15:26:36.000000000,2018-10-05 15:26:36.000000000,"[{'_account_id': 7822}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-09-20 16:58:59.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/62f35e726cd90565f55ac6ee37c2951394732e5d', 'message': ""Fix typo\n\nI am not sure entropy is rightly used here, but at least I am\nsure it's not entopy.\n\nChange-Id: Ibc6aeb407e3f6630ab8d72420fa6f92baf5d6788\n""}]",0,604164,62f35e726cd90565f55ac6ee37c2951394732e5d,7,3,1,17068,,,0,"Fix typo

I am not sure entropy is rightly used here, but at least I am
sure it's not entopy.

Change-Id: Ibc6aeb407e3f6630ab8d72420fa6f92baf5d6788
",git fetch https://review.opendev.org/openstack/loci refs/changes/64/604164/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,62f35e726cd90565f55ac6ee37c2951394732e5d,fix_typo,"The project is very low-entropy with very little changing, but this is expected.","The project is very low-entopy with very little changing, but this is expected.",1,1
openstack%2Fpuppet-cinder~master~I188d9383937a8425a78611eb168d55264b7b5c9f,openstack/puppet-cinder,master,I188d9383937a8425a78611eb168d55264b7b5c9f,Use backup driver class name,MERGED,2018-10-01 08:29:31.000000000,2018-10-05 15:25:32.000000000,2018-10-05 15:25:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6968}, {'_account_id': 8871}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 08:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1a3a9f7f56a29a18ca0fc54640fbe2abbd036d9d', 'message': 'Use backup driver class name\n\nhttps://review.openstack.org/#/c/595372 removed the capability to use\nthe loading by class name and requires that the backup driver class name\nis provided.\n\nThis fix updates the defaults to use the full module name, for example\n``cinder.backup.drivers.swift.SwiftBackupDriver``.\n\nChange-Id: I188d9383937a8425a78611eb168d55264b7b5c9f\n'}, {'number': 2, 'created': '2018-10-02 14:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5021490fb6cb865f18905c1a5be05b2643f40749', 'message': 'Use backup driver class name\n\nhttps://review.openstack.org/#/c/595372 removed the capability to use\nthe loading by module name and requires that the backup driver class name\nis provided.\n\nThis fix updates the defaults to use the full module name, for example\n``cinder.backup.drivers.swift.SwiftBackupDriver``.\n\nChange-Id: I188d9383937a8425a78611eb168d55264b7b5c9f\n'}, {'number': 3, 'created': '2018-10-02 14:07:07.000000000', 'files': ['manifests/backup/nfs.pp', 'manifests/backup/ceph.pp', 'spec/classes/cinder_backup_tsm_spec.rb', 'manifests/backup/google.pp', 'manifests/backup/tsm.pp', 'spec/classes/cinder_backup_ceph_spec.rb', 'spec/classes/cinder_backup_posix_spec.rb', 'manifests/backup/swift.pp', 'spec/classes/cinder_backup_google_spec.rb', 'spec/classes/cinder_backup_nfs_spec.rb', 'manifests/backup/glusterfs.pp', 'manifests/backup/posix.pp', 'releasenotes/notes/cinder-backup-driver-use-classname-910b92dfb6e67697.yaml', 'spec/classes/cinder_backup_glusterfs_spec.rb', 'spec/classes/cinder_backup_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9a1b28cfb3751c070ec8778cbc31a7726331ddee', 'message': 'Use backup driver class name\n\nhttps://review.openstack.org/#/c/595372 removed the capability to use\nthe loading by module name and requires that the backup driver class name\nis provided.\n\nThis fix updates the defaults to use the full class name, for example\n``cinder.backup.drivers.swift.SwiftBackupDriver``.\n\nChange-Id: I188d9383937a8425a78611eb168d55264b7b5c9f\n'}]",1,606901,9a1b28cfb3751c070ec8778cbc31a7726331ddee,43,10,3,6968,,,0,"Use backup driver class name

https://review.openstack.org/#/c/595372 removed the capability to use
the loading by module name and requires that the backup driver class name
is provided.

This fix updates the defaults to use the full class name, for example
``cinder.backup.drivers.swift.SwiftBackupDriver``.

Change-Id: I188d9383937a8425a78611eb168d55264b7b5c9f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/01/606901/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backup/nfs.pp', 'manifests/backup/ceph.pp', 'spec/classes/cinder_backup_tsm_spec.rb', 'manifests/backup/google.pp', 'manifests/backup/tsm.pp', 'spec/classes/cinder_backup_ceph_spec.rb', 'spec/classes/cinder_backup_posix_spec.rb', 'manifests/backup/swift.pp', 'spec/classes/cinder_backup_google_spec.rb', 'spec/classes/cinder_backup_nfs_spec.rb', 'manifests/backup/glusterfs.pp', 'manifests/backup/posix.pp', 'releasenotes/notes/cinder-backup-driver-use-classname-910b92dfb6e67697.yaml', 'spec/classes/cinder_backup_glusterfs_spec.rb', 'spec/classes/cinder_backup_swift_spec.rb']",15,1a3a9f7f56a29a18ca0fc54640fbe2abbd036d9d,, is_expected.to contain_cinder_config('DEFAULT/backup_driver').with_value('cinder.backup.drivers.swift.SwiftBackupDriver'), is_expected.to contain_cinder_config('DEFAULT/backup_driver').with_value('cinder.backup.drivers.swift'),28,21
openstack%2Fcinder~master~I914fc9d1833f5001ff757f4f70e7d6209aad94c5,openstack/cinder,master,I914fc9d1833f5001ff757f4f70e7d6209aad94c5,Force delete invalid attached volume,ABANDONED,2018-08-30 07:26:46.000000000,2018-10-05 15:21:05.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 15961}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28707}, {'_account_id': 28801}, {'_account_id': 28948}]","[{'number': 1, 'created': '2018-08-30 07:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1db5ba9fddbb4b100a393fce3a624b95702eede2', 'message': 'Enhanced force deletion\n\nIn case of a failure in communication between nova and cinder,\nan instance can be deleted, but the attached volume is not properly\nmarked as detached and cannot be deleted. This fix added a check to\n""force-delete"" to check in nova or any existing attachements and if\nnone exist, delete the volume.\n\nChange-Id: I914fc9d1833f5001ff757f4f70e7d6209aad94c5\n'}, {'number': 2, 'created': '2018-09-10 09:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ea6a07b211e2e472d91d10858ce36c3ffe209ea', 'message': 'Enhanced force deletion\n\nIn case of a failure in communication between nova and cinder,\nan instance can be deleted, but the attached volume is not properly\nmarked as detached and cannot be deleted. This fix added a check to\n""force-delete"" to check in nova or any existing attachements and if\nnone exist, delete the volume.\n\nImplements: blueprint enhanced-force-deletion\nCloses-Bug: #1791213\nStory: 2002608\nTask: 22227\n\nChange-Id: I914fc9d1833f5001ff757f4f70e7d6209aad94c5\n'}, {'number': 3, 'created': '2018-09-15 03:34:52.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/api/contrib/admin_actions.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cd24149d768f5e3f12d4266f06b3d99c2573228', 'message': 'Force delete invalid attached volume\n\nIn case of a failure in communication between nova and cinder,\nan instance can be deleted, but the attached volume is not properly\nmarked as detached and then cannot be deleted forever. Yes we can\n“cinder reset-state"" the volume and then delete it, but it\'s a little\nrude because reset-state will never check the real state and just\nupdate state in database, this may damage a normal volume by human\nmistake and should always use this with caution. This fix added a check\nto ""force-delete"" to check if any valid attachements exists and if\nnone exists, then clean up the attachment information of the volume so\nthat the subsequent code can delete the volume.\n\nImplements: blueprint enhanced-force-deletion\nCloses-Bug: #1791213\nStory: 2002608\nTask: 22227\n\nChange-Id: I914fc9d1833f5001ff757f4f70e7d6209aad94c5\n'}]",7,598067,9cd24149d768f5e3f12d4266f06b3d99c2573228,79,38,3,28948,,,0,"Force delete invalid attached volume

In case of a failure in communication between nova and cinder,
an instance can be deleted, but the attached volume is not properly
marked as detached and then cannot be deleted forever. Yes we can
“cinder reset-state"" the volume and then delete it, but it's a little
rude because reset-state will never check the real state and just
update state in database, this may damage a normal volume by human
mistake and should always use this with caution. This fix added a check
to ""force-delete"" to check if any valid attachements exists and if
none exists, then clean up the attachment information of the volume so
that the subsequent code can delete the volume.

Implements: blueprint enhanced-force-deletion
Closes-Bug: #1791213
Story: 2002608
Task: 22227

Change-Id: I914fc9d1833f5001ff757f4f70e7d6209aad94c5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/598067/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/admin_actions.py', 'cinder/volume/api.py']",2,1db5ba9fddbb4b100a393fce3a624b95702eede2,bug/1791213," if volume['attach_status'] == ""attached"": # Volume is still attached, need to detach first # In some cases, the nova instance is deleted, but the message # doesn't reach cinder and the volume thinks it's still attached. # In case of a force-delete, we call nova to check if the attached # instance is actually present. As a safety measure, the deletion # continues only if nova return that the instance is actually gone. # For any other exception, we cancel the deletion. if force: self._force_delete_volume(context, volume) def _force_delete_volume(self, context, volume): LOG.info(('Forcing volume deletion. Checking if the volume' 'is still attached to nova instances.')) attachments = volume['volume_attachment'] volume_has_instances = False for attachment in attachments: instance_uuid = attachment['instance_uuid'] try: nova.API().get_server(context, instance_uuid) volume_has_instances = True except exception.ServerNotFound: LOG.info(('Attached instance %s ' 'not found in nova.'), instance_uuid) except exception.APITimeout: volume_has_instances = True LOG.error(('Nova API Timeout ' 'for instance %s.'), instance_uuid) except Exception as e: LOG.error(('Nova API exception. ' 'Exception type: %s'), type(e).__name__) volume_has_instances = True if volume_has_instances: LOG.info(('Volume %s still has ' 'instances attached'), volume.id) raise exception.VolumeAttached(volume_id=volume.id) else: LOG.info(('Volume %s has no more attachments. ' 'Deleting'), volume.id) for attachment in attachments: self.detach(context, volume, attachment.id) volume.update({'attach_status': 'detached'}) volume.save() ",,54,1
openstack%2Foslo-cookiecutter~master~I98d28ababca8d2ea848e0499d3abe6c46fe6df05,openstack/oslo-cookiecutter,master,I98d28ababca8d2ea848e0499d3abe6c46fe6df05,Modernize tox.ini,MERGED,2018-09-20 21:03:39.000000000,2018-10-05 15:17:46.000000000,2018-10-05 15:17:45.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-20 21:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/1caaa43488dced5a6c4faee994701204ff212df7', 'message': 'Modernize tox.ini\n\nThe -constraints environments are no longer needed, constraints are\nthe default configuration. Also update the envlist to reflect the\ncurrently supported jobs.\n\nChange-Id: I98d28ababca8d2ea848e0499d3abe6c46fe6df05\n'}, {'number': 2, 'created': '2018-09-21 18:28:24.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/33c099959af810c31f84c0e05605a7fbbe1cb1c7', 'message': 'Modernize tox.ini\n\nThe -constraints environments are no longer needed, constraints are\nthe default configuration. Also update the envlist to reflect the\ncurrently supported jobs.\n\nChange-Id: I98d28ababca8d2ea848e0499d3abe6c46fe6df05\n'}]",0,604212,33c099959af810c31f84c0e05605a7fbbe1cb1c7,10,4,2,6928,,,0,"Modernize tox.ini

The -constraints environments are no longer needed, constraints are
the default configuration. Also update the envlist to reflect the
currently supported jobs.

Change-Id: I98d28ababca8d2ea848e0499d3abe6c46fe6df05
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/12/604212/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/tox.ini'],1,1caaa43488dced5a6c4faee994701204ff212df7,sphinx-build,"envlist = py35,py27,pep8","envlist = py34-constraints,py27-constraints,pypy-constraints,pep8-constraintscommands = flake8 {posargs} [testenv:pep8-constraints]commands = {posargs} [testenv:venv-constraints]deps = {[testenv]deps} coverage setenv = PYTHON=coverage run --source oslo_{{cookiecutter.module_name}} --parallel-mode commands = stestr run '{posargs}' coverage combine coverage html -d cover coverage xml -o cover/coverage.xml [testenv:cover-constraints]commands = sphinx-build -W -b html doc/source doc/build/html [testenv:docs-constraints]commands = oslo_debug_helper {posargs} [testenv:debug-constraints]",1,25
openstack%2Fnova~stable%2Focata~I41b03a34795efe139d5911c605cdbd3c47a2f059,openstack/nova,stable/ocata,I41b03a34795efe139d5911c605cdbd3c47a2f059,zuul: Move legacy jobs to project,ABANDONED,2018-06-04 15:21:43.000000000,2018-10-05 15:17:44.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-04 15:21:43.000000000', 'files': ['.zuul.yaml', 'playbooks/legacy/nova-lvm/run.yaml', 'playbooks/legacy/nova-lvm/post.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae17b67231e159641522cf843340044a3223244', 'message': ""zuul: Move legacy jobs to project\n\nImplement part of step one of the zuulv3 migration guide: move the\npurely nova projects to the nova repo [1]. This does not migrate any\njobs used in other projects nor does it convert what is migrated to use\nthe new 'devstack' or 'devstack-tempest' base jobs. Both of these steps\nshould be done separately.\n\nWhat's migrated:\n\n- experimental:\n  - legacy-tempest-dsvm-nova-lvm (renamed to nova-lvm)\n\nWhat's dropped:\n\n- experimental:\n  - legacy-tempest-dsvm-nova-lxc (no one's using this)\n  - legacy-tempest-dsvm-nova-wsgi-full (WSGI is the default since Pike)\n\nWhat's still to be migrated, here or to other projects:\n\n- check:\n  - legacy-grenade-dsvm-neutron-multinode\n  - legacy-grenade-dsvm-neutron-multinode-live-migration\n  - legacy-tempest-dsvm-cells\n  - legacy-tempest-dsvm-full-devstack-plugin-ceph\n  - legacy-tempest-dsvm-neutron-linuxbridge\n  - legacy-tempest-dsvm-neutron-multinode-full\n  - legacy-tempest-dsvm-neutron-nova-next-full\n  - legacy-tempest-dsvm-multinode-live-migration\n  - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa\n  - legacy-tempest-dsvm-neutron-full\n  - legacy-grenade-dsvm-neutron\n- gate:\n  - legacy-tempest-dsvm-cells\n  - legacy-tempest-dsvm-multinode-live-migration\n  - legacy-tempest-dsvm-neutron-full\n  - legacy-grenade-dsvm-neutron\n- experimental:\n  - legacy-tempest-dsvm-nova-v20-api\n  - legacy-grenade-dsvm-neutron-nova-next\n  - legacy-tempest-dsvm-multinode-full\n  - legacy-tempest-dsvm-neutron-dvr-multinode-full\n  - legacy-tempest-dsvm-neutron-dvr-ha-multinode-full\n  - legacy-tempest-dsvm-neutron-scenario-multinode-lvm-multibackend\n  - ironic-tempest-dsvm-pxe_ipa-full\n  - legacy-tempest-dsvm-nova-os-vif\n  - legacy-tempest-dsvm-nova-libvirt-kvm-apr\n  - legacy-grenade-dsvm-neutron-multinode-zero-downtime\n  - ironic-tempest-dsvm-multitenant-network\n  - ironic-tempest-dsvm-ipa-resourceclasses-partition-pxe_ipmitool-tinyipa\n  - legacy-tempest-dsvm-full-devstack-plugin-nfs\n  - legacy-tripleo-ci-centos-7-nonha-multinode-oooq\n  - legacy-barbican-simple-crypto-dsvm-tempest-nova\n  - legacy-tempest-dsvm-py35-full-devstack-plugin-ceph\n  - legacy-tempest-dsvm-neutron-pg-full\n  - legacy-tempest-dsvm-neutron-full-opensuse-423\n  - legacy-tempest-dsvm-neutron-src-oslo.versionedobjects\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\n Conflicts:\n\t.zuul.yaml\n\nNOTE(melwitt): The conflict is because the nova-tox-functional-py35 job does\nnot exist in Ocata.\n\nChange-Id: I41b03a34795efe139d5911c605cdbd3c47a2f059\n(cherry picked from commit 0db7b77b4615f25217ad646b2e4082994e8dfb73)\n(cherry picked from commit 83484ab5a9e2f787bad3b47f95391c71d1744235)\n""}]",0,572132,9ae17b67231e159641522cf843340044a3223244,13,8,1,4690,,,0,"zuul: Move legacy jobs to project

Implement part of step one of the zuulv3 migration guide: move the
purely nova projects to the nova repo [1]. This does not migrate any
jobs used in other projects nor does it convert what is migrated to use
the new 'devstack' or 'devstack-tempest' base jobs. Both of these steps
should be done separately.

What's migrated:

- experimental:
  - legacy-tempest-dsvm-nova-lvm (renamed to nova-lvm)

What's dropped:

- experimental:
  - legacy-tempest-dsvm-nova-lxc (no one's using this)
  - legacy-tempest-dsvm-nova-wsgi-full (WSGI is the default since Pike)

What's still to be migrated, here or to other projects:

- check:
  - legacy-grenade-dsvm-neutron-multinode
  - legacy-grenade-dsvm-neutron-multinode-live-migration
  - legacy-tempest-dsvm-cells
  - legacy-tempest-dsvm-full-devstack-plugin-ceph
  - legacy-tempest-dsvm-neutron-linuxbridge
  - legacy-tempest-dsvm-neutron-multinode-full
  - legacy-tempest-dsvm-neutron-nova-next-full
  - legacy-tempest-dsvm-multinode-live-migration
  - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa
  - legacy-tempest-dsvm-neutron-full
  - legacy-grenade-dsvm-neutron
- gate:
  - legacy-tempest-dsvm-cells
  - legacy-tempest-dsvm-multinode-live-migration
  - legacy-tempest-dsvm-neutron-full
  - legacy-grenade-dsvm-neutron
- experimental:
  - legacy-tempest-dsvm-nova-v20-api
  - legacy-grenade-dsvm-neutron-nova-next
  - legacy-tempest-dsvm-multinode-full
  - legacy-tempest-dsvm-neutron-dvr-multinode-full
  - legacy-tempest-dsvm-neutron-dvr-ha-multinode-full
  - legacy-tempest-dsvm-neutron-scenario-multinode-lvm-multibackend
  - ironic-tempest-dsvm-pxe_ipa-full
  - legacy-tempest-dsvm-nova-os-vif
  - legacy-tempest-dsvm-nova-libvirt-kvm-apr
  - legacy-grenade-dsvm-neutron-multinode-zero-downtime
  - ironic-tempest-dsvm-multitenant-network
  - ironic-tempest-dsvm-ipa-resourceclasses-partition-pxe_ipmitool-tinyipa
  - legacy-tempest-dsvm-full-devstack-plugin-nfs
  - legacy-tripleo-ci-centos-7-nonha-multinode-oooq
  - legacy-barbican-simple-crypto-dsvm-tempest-nova
  - legacy-tempest-dsvm-py35-full-devstack-plugin-ceph
  - legacy-tempest-dsvm-neutron-pg-full
  - legacy-tempest-dsvm-neutron-full-opensuse-423
  - legacy-tempest-dsvm-neutron-src-oslo.versionedobjects

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

 Conflicts:
	.zuul.yaml

NOTE(melwitt): The conflict is because the nova-tox-functional-py35 job does
not exist in Ocata.

Change-Id: I41b03a34795efe139d5911c605cdbd3c47a2f059
(cherry picked from commit 0db7b77b4615f25217ad646b2e4082994e8dfb73)
(cherry picked from commit 83484ab5a9e2f787bad3b47f95391c71d1744235)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/572132/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/legacy/nova-lvm/run.yaml', 'playbooks/legacy/nova-lvm/post.yaml']",3,9ae17b67231e159641522cf843340044a3223244,bug/1771700,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,85,0
openstack%2Fos-api-ref~master~If175550ba0477a1ae9cce6f6f3c1e3f0c6cae55f,openstack/os-api-ref,master,If175550ba0477a1ae9cce6f6f3c1e3f0c6cae55f,DNM: Attempt to replace monkeypath with mock,ABANDONED,2018-10-05 09:23:38.000000000,2018-10-05 15:16:07.000000000,,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 09:23:38.000000000', 'files': ['os_api_ref/tests/test_basic_example.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/a6938e11f605ef8a08d3ed1acb4dcf13d5861f7a', 'message': ""DNM: Attempt to replace monkeypath with mock\n\nThis isn't doing what I'd expect but I don't know why.\n\nChange-Id: If175550ba0477a1ae9cce6f6f3c1e3f0c6cae55f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,608190,a6938e11f605ef8a08d3ed1acb4dcf13d5861f7a,6,4,1,15334,,,0,"DNM: Attempt to replace monkeypath with mock

This isn't doing what I'd expect but I don't know why.

Change-Id: If175550ba0477a1ae9cce6f6f3c1e3f0c6cae55f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/90/608190/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_api_ref/tests/test_basic_example.py', 'test-requirements.txt']",2,a6938e11f605ef8a08d3ed1acb4dcf13d5861f7a,fix-tests,mock>=2.0.0 # BSD,,3,15
openstack%2Fcinder~stable%2Fqueens~I09724aef341b6fd75891b76bab97edd7d32af0a6,openstack/cinder,stable/queens,I09724aef341b6fd75891b76bab97edd7d32af0a6,VMAX Driver - Fix for get-pools and returned Service Levels,MERGED,2018-08-28 10:43:33.000000000,2018-10-05 15:15:04.000000000,2018-10-02 18:09:43.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-08-28 10:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff2720d1e7f906dbe958794547b48179ce603e3b', 'message': ""VMAX Driver - Fix for get-pools and returned Service Levels\n\nThis code change corrects the issue with not all Service Levels\nbeing returned by 'cinder get-pools' command.\n\nChange-Id: I09724aef341b6fd75891b76bab97edd7d32af0a6\nCloses-Bug: #1784856\n(cherry picked from commit 2896715334d373a3d4873fcc255d98a358e7af1d)\n""}, {'number': 2, 'created': '2018-09-12 11:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8e74c84b95ab6cff9c40be4f78f3ecdd035568f', 'message': ""VMAX Driver - Fix for get-pools and returned Service Levels\n\nThis code change corrects the issue with not all Service Levels\nbeing returned by 'cinder get-pools' command.\n\nChange-Id: I09724aef341b6fd75891b76bab97edd7d32af0a6\nCloses-Bug: #1784856\n(cherry picked from commit 2896715334d373a3d4873fcc255d98a358e7af1d)\n""}, {'number': 3, 'created': '2018-09-27 13:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08ad6aff87a9b662cecfcfc604292fe58d2f683e', 'message': ""VMAX Driver - Fix for get-pools and returned Service Levels\n\nThis code change corrects the issue with not all Service Levels\nbeing returned by 'cinder get-pools' command.\n\nChange-Id: I09724aef341b6fd75891b76bab97edd7d32af0a6\nCloses-Bug: #1784856\n(cherry picked from commit 2896715334d373a3d4873fcc255d98a358e7af1d)\n""}, {'number': 4, 'created': '2018-10-01 14:23:26.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce2509c3dc9bd7613e7d7c5afc4961e3746b2d18', 'message': ""VMAX Driver - Fix for get-pools and returned Service Levels\n\nThis code change corrects the issue with not all Service Levels\nbeing returned by 'cinder get-pools' command.\n\nChange-Id: I09724aef341b6fd75891b76bab97edd7d32af0a6\nCloses-Bug: #1784856\n(cherry picked from commit 2896715334d373a3d4873fcc255d98a358e7af1d)\n""}]",0,597044,ce2509c3dc9bd7613e7d7c5afc4961e3746b2d18,91,26,4,12670,,,0,"VMAX Driver - Fix for get-pools and returned Service Levels

This code change corrects the issue with not all Service Levels
being returned by 'cinder get-pools' command.

Change-Id: I09724aef341b6fd75891b76bab97edd7d32af0a6
Closes-Bug: #1784856
(cherry picked from commit 2896715334d373a3d4873fcc255d98a358e7af1d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/597044/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py']",6,ff2720d1e7f906dbe958794547b48179ce603e3b,bug/1784856,"VMAX_AFA_MODELS = ['VMAX250F', 'VMAX450F', 'VMAX850F', 'VMAX950F'] try: slo = pool['pool_name'].split('+')[0] srp = pool['pool_name'].split('+')[2] array = pool['pool_name'].split('+')[3] except IndexError: slo = pool['pool_name'].split('+')[0] srp = pool['pool_name'].split('+')[1] array = pool['pool_name'].split('+')[2]", slo = pool['pool_name'].split('+')[0] srp = pool['pool_name'].split('+')[2] array = pool['pool_name'].split('+')[3],172,51
openstack%2Foslo-cookiecutter~master~I1337a67c5244c7c370beb03dfef1806c8dec709f,openstack/oslo-cookiecutter,master,I1337a67c5244c7c370beb03dfef1806c8dec709f,Use sphinx-build for all docs venvs,MERGED,2018-09-19 19:50:37.000000000,2018-10-05 15:14:48.000000000,2018-10-05 15:14:48.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 19:50:37.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/628dd03a0bacb5d2865f0abf25bb4c084049fb49', 'message': 'Use sphinx-build for all docs venvs\n\nOne was apparently missed so it was still using setup.py build_sphinx.\n\nChange-Id: I1337a67c5244c7c370beb03dfef1806c8dec709f\n'}]",4,603894,628dd03a0bacb5d2865f0abf25bb4c084049fb49,10,4,1,6928,,,0,"Use sphinx-build for all docs venvs

One was apparently missed so it was still using setup.py build_sphinx.

Change-Id: I1337a67c5244c7c370beb03dfef1806c8dec709f
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/94/603894/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/tox.ini'],1,628dd03a0bacb5d2865f0abf25bb4c084049fb49,sphinx-build,commands = sphinx-build -W -b html doc/source doc/build/html,commands = python setup.py build_sphinx,1,1
openstack%2Fmonasca-common~master~Id72eb0ac7be7077bfaa8b8684a45494c09d92034,openstack/monasca-common,master,Id72eb0ac7be7077bfaa8b8684a45494c09d92034,Remove Docker tag based on timestamp,MERGED,2018-07-31 09:15:16.000000000,2018-10-05 15:14:32.000000000,2018-10-05 15:14:32.000000000,"[{'_account_id': 16222}, {'_account_id': 16253}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 09:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/5de933237a41d10ffbcd82fa53bdf7eb8dc5f182', 'message': ""Remove Docker tag based on timestamp\n\nAs agreed in spec [1] we don't want to create and publish tags based on\ntimestamp.\n\nStory: 2001694\nTask: 23322\n\n[1] http://specs.openstack.org/openstack/monasca-specs/specs/rocky/approved/monasca-services-in-docker.html#work-items\n\nChange-Id: Id72eb0ac7be7077bfaa8b8684a45494c09d92034\n""}, {'number': 2, 'created': '2018-10-05 08:57:59.000000000', 'files': ['docker/example/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/abc3f8dd979961f1dc7197784282f94cfd8cbf49', 'message': ""Remove Docker tag based on timestamp\n\nAs agreed in spec [1] we don't want to create and publish tags based on\ntimestamp.\n\nStory: 2001694\nTask: 23322\n\n[1] http://specs.openstack.org/openstack/monasca-specs/specs/rocky/approved/monasca-services-in-docker.html#work-items\n\nChange-Id: Id72eb0ac7be7077bfaa8b8684a45494c09d92034\n""}]",0,587352,abc3f8dd979961f1dc7197784282f94cfd8cbf49,22,4,2,16222,,,0,"Remove Docker tag based on timestamp

As agreed in spec [1] we don't want to create and publish tags based on
timestamp.

Story: 2001694
Task: 23322

[1] http://specs.openstack.org/openstack/monasca-specs/specs/rocky/approved/monasca-services-in-docker.html#work-items

Change-Id: Id72eb0ac7be7077bfaa8b8684a45494c09d92034
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/52/587352/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/build_base_image.sh', 'docker/example/build_image.sh']",2,5de933237a41d10ffbcd82fa53bdf7eb8dc5f182,587352," --tag ""$DOCKER_IMAGE"":""$REPO_VERSION_CLEAN"" .","# Docker tags don't like colons so use shorter version of ISO 8601 for them. CREATION_TIME_SHORT=$(date -d ""$CREATION_TIME"" -u +""%Y%m%dT%H%M%SZ"") --tag ""$DOCKER_IMAGE"":""$REPO_VERSION_CLEAN"" \ --tag ""$DOCKER_IMAGE"":""$REPO_VERSION_CLEAN""-""$CREATION_TIME_SHORT"" .",2,8
openstack%2Foslo-cookiecutter~master~I04d3da810c8a10c9d5a04b456d8bef10fc4f798f,openstack/oslo-cookiecutter,master,I04d3da810c8a10c9d5a04b456d8bef10fc4f798f,Migrate to stestr,MERGED,2018-09-13 16:30:14.000000000,2018-10-05 15:12:50.000000000,2018-10-05 15:12:50.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-13 16:30:14.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/.coveragerc'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/24fffaf712a8aed0f9b60e2c8f75ab5b47d152b8', 'message': ""Migrate to stestr\n\nSince we're touching the coverage jobs, also fix the coverage\nconfiguration.\n\nChange-Id: I04d3da810c8a10c9d5a04b456d8bef10fc4f798f\n""}]",0,602390,24fffaf712a8aed0f9b60e2c8f75ab5b47d152b8,7,3,1,6928,,,0,"Migrate to stestr

Since we're touching the coverage jobs, also fix the coverage
configuration.

Change-Id: I04d3da810c8a10c9d5a04b456d8bef10fc4f798f
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/90/602390/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/.coveragerc']",2,24fffaf712a8aed0f9b60e2c8f75ab5b47d152b8,stestr,source = oslo_{{cookiecutter.module_name}} omit = oslo_{{cookiecutter.module_name}}/tests/*,"source = {{cookiecutter.module_name}} omit = {{cookiecutter.module_name}}/tests/*,{{cookiecutter.module_name}}/openstack/*",21,5
openstack%2Fopenstacksdk~master~I2abdedb0e810cbd2278012c8a7cf56d14c7b705d,openstack/openstacksdk,master,I2abdedb0e810cbd2278012c8a7cf56d14c7b705d,Support firewall service for SDK,MERGED,2018-08-16 07:54:33.000000000,2018-10-05 15:10:57.000000000,2018-10-05 15:10:57.000000000,"[{'_account_id': 2}, {'_account_id': 9531}, {'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28653}]","[{'number': 1, 'created': '2018-08-16 07:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e46681cae470d8d3ca0a9eb339c9d4c9aa489eaa', 'message': 'Support firewall service for SDK\n\nAdd SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 2, 'created': '2018-08-16 10:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9bbe689219460a172a1c1d8fe962e3bfb9228ad2', 'message': 'Support firewall service for SDK\n\nAdd SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 3, 'created': '2018-08-21 02:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f1e8dda4d99d74a3a6c9e3175ceb91761284417', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 4, 'created': '2018-08-22 01:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3cccbafbd39a4739fa2d3977f7e67104d4e5bd28', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 5, 'created': '2018-08-23 05:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5241f104cef55abe6529f8e90c7ccd01de730342', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 6, 'created': '2018-08-31 12:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c457d61a8c42b07e6192b325613da0aa1cbf2c1e', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 7, 'created': '2018-08-31 14:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/700546870eff5f6d9051af6b89d968e43b8f044a', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 8, 'created': '2018-08-31 23:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/29a8463c6528fb047adc3872f3becf54962ea148', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\n'}, {'number': 9, 'created': '2018-09-13 14:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4dc30068b796483f9733df9dfbb5936b8994926f', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 10, 'created': '2018-09-14 00:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c088b8c3cabbd22ae9aaeffd6f3bb99aaab41dac', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 11, 'created': '2018-09-17 12:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/366ba9ceefd281ab0e9da0e696133d8f38669486', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 12, 'created': '2018-09-18 13:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e1acf21bf5e2cfb44342970ebacb8760cbd5b105', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 13, 'created': '2018-09-19 10:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e3bfb862b26d2c376db755b07f6c2fb4ce35d73d', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 14, 'created': '2018-09-19 15:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/46dbbf59f87769a7b34ba4acfb7a4acf0ed15d2b', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 15, 'created': '2018-09-20 14:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/42839dab9d55d31e400f06e93e6cdabd48354699', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 16, 'created': '2018-09-21 00:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5ec233ad6e5c6b0e51c2be5ffe972d30c8bade43', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 17, 'created': '2018-09-21 16:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2c31e581b9621687345c5aad5120eda4158ca8cf', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 18, 'created': '2018-09-21 17:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bfbdae329512c360084901b2220b2e6b670136f3', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 19, 'created': '2018-09-24 09:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/27d3aa829463701f252ff38fb48fa5d65dbde4da', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 20, 'created': '2018-09-25 10:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ada7e193ee45fd09cea137d06d022a058d44d60e', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 21, 'created': '2018-09-25 13:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5309042890d8b8e3046d921fdd9c5b4de8ac785c', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 22, 'created': '2018-09-25 19:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/edb3c4fbd0f2683e9fde1e2b899b0212e17677a8', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 23, 'created': '2018-09-26 03:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dff17f4898a0651317a2085ebbd2632b57045423', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 24, 'created': '2018-10-04 15:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e51915fb7c24492ebf4ce83aa4ea322f4aad7e6', 'message': ""Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nAlso - because of gate timeouts, this has two other patches squashed in\nto it that clean up tests.\n\nClean up python3 test and remove duplicate jobs\n\nWe want to run with python3 always with python2 being the exception.\n\nUpdate the functional tests to be python3 by default with a\npython2 job to check compat.\n\nRemove python3.5 jobs, since that's covered by python3.6 and the\ndifferences between 3.5 and 3.6 are covered by also having 2.7 in the\ngate.\n\nSimilarly, make the tips jobs python 3.6 only because they are jobs that\naim to ensure interactions between openstacksdk and keystoneauth and\nos-client-config and shade are correct at the unit test level. The\nindividual unit tests should catch actual python 2.7 issues.\n\nRemove cover jobs because we historically haven't cared about the output\nand they take up test nodes. In general it's not that big of a deal, but\nwe tend to be patch-heavy around here, so it feels extravagant to run a\njob we don't actually care about the output of.\n\nSplit advanced networking services into a job\n\nWe're hitting timeouts like crazy- maybe we're just running low on\nresources. Split octavia and designate into their own job. Turn\nswift off in that job.\n\nSkip sdk layer dns functional tests when designate is not present. We\nshould refactor these to deal with both cases.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\n""}, {'number': 25, 'created': '2018-10-04 16:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a7eda4f279929a1fd2809d892e8bb8e04e5bb112', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}, {'number': 26, 'created': '2018-10-05 08:32:19.000000000', 'files': ['openstack/network/v2/firewall_group.py', 'openstack/network/v2/firewall_rule.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/firewall_policy.py', 'openstack/tests/functional/network/v2/test_firewall_group.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/unit/network/v2/test_firewall_group.py', 'releasenotes/notes/firewall-resources-c7589d288dd57e35.yaml', '.zuul.yaml', 'openstack/tests/unit/network/v2/test_firewall_rule.py', 'openstack/tests/functional/network/v2/test_firewall_rule_insert_remove_policy.py', 'openstack/tests/functional/network/v2/test_firewall_policy.py', 'openstack/tests/unit/network/v2/test_firewall_policy.py', 'openstack/tests/functional/network/v2/test_firewall_rule.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5a998529cce3341fa3ee1aba584e4ba39eb8c9dd', 'message': 'Support firewall service for SDK\n\nFWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.\n\nImplements blueprint: firewall-v2-support\nChange-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d\nCo-Authored-By: LIU Yulong <i@liuyulong.me>\nCo-Authored-By: Matthias Lisin <lisin@strato.de>\n'}]",15,592303,5a998529cce3341fa3ee1aba584e4ba39eb8c9dd,73,7,26,27369,,,0,"Support firewall service for SDK

FWaaS v2 API, add SDK API for firewall group, firewall policy and firewall rule.

Implements blueprint: firewall-v2-support
Change-Id: I2abdedb0e810cbd2278012c8a7cf56d14c7b705d
Co-Authored-By: LIU Yulong <i@liuyulong.me>
Co-Authored-By: Matthias Lisin <lisin@strato.de>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/592303/16 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/firewall_group.py', 'openstack/network/v2/firewall_rule.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/firewall_policy.py', 'openstack/tests/functional/network/v2/test_firewall_group.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/unit/network/v2/test_firewall_group.py', 'openstack/tests/unit/network/v2/test_firewall_rule.py', 'openstack/tests/functional/network/v2/test_firewall_rule_insert_remove_policy.py', 'openstack/tests/functional/network/v2/test_firewall_policy.py', 'openstack/tests/unit/network/v2/test_firewall_policy.py', 'openstack/tests/functional/network/v2/test_firewall_rule.py']",12,e46681cae470d8d3ca0a9eb339c9d4c9aa489eaa,python3-first,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from openstack.network.v2 import firewall_rule from openstack.tests.functional import base class TestFirewallRule(base.BaseFunctionalTest): NAME = uuid.uuid4().hex ACTION = 'allow' DEST_IP = '10.0.0.0/24' DEST_PORT = '80' IP_VERSION = 4 SOUR_IP = '10.0.1.0/24' SOUR_PORT = '8000' ID = None @classmethod def setUpClass(cls): super(TestFirewallRule, cls).setUpClass() sot = cls.conn.network.create_firewall_rule( name=cls.NAME, action=cls.ACTION, destination_port=cls.DEST_PORT, destination_ip_address=cls.DEST_IP, ip_version=cls.IP_VERSION, source_ip_address=cls.SOUR_IP, source_port=cls.SOUR_PORT) assert isinstance(sot, firewall_rule.FirewallRule) cls.assertIs(cls.NAME, sot.name) cls.ID = sot.id @classmethod def tearDownClass(cls): sot = cls.conn.network.delete_firewall_rule(cls.ID, ignore_missing=False) cls.assertIs(None, sot) def test_find(self): sot = self.conn.network.find_firewall_rule(self.ID) self.assertEqual(self.ID, sot.id) def test_get(self): sot = self.conn.network.get_firewall_rule(self.ID) self.assertEqual(self.ID, sot.id) self.assertEqual(self.NAME, sot.name) self.assertEqual(self.ACTION, sot.action) self.assertEqual(self.DEST_IP, sot.destination_ip_address) self.assertEqual(self.DEST_PORT, sot.destination_port) self.assertEqual(self.IP_VERSION, sot.ip_version) self.assertEqual(self.SOUR_IP, sot.source_ip_address) self.assertEqual(self.SOUR_PORT, sot.source_port) def test_list(self): ids = [o.id for o in self.conn.network.firewall_rules()] self.assertIn(self.ID, ids) ",,1043,0
openstack%2Fopenstacksdk~master~Ica5a47cc200c8abff1d20af9883c5192fcbb95e1,openstack/openstacksdk,master,Ica5a47cc200c8abff1d20af9883c5192fcbb95e1,Clean up python3 test and split networking into a job,MERGED,2018-09-22 11:21:44.000000000,2018-10-05 15:10:56.000000000,2018-10-05 15:10:56.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-22 11:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5ccf5190588574be340b07a2b1f3ebc6c906fe2c', 'message': 'Set python3 as the default basepython\n\nWe want to run with python3 always with python2 being the exception.\nAlso, update the functional tests to be python3 by default with a\npython2 job to check compat.\n\nChange-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1\n'}, {'number': 2, 'created': '2018-09-25 18:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c6912ba07c6460d76eb61ca324398a4ade4a1d4f', 'message': ""Clean up python3 test and remove duplicate jobs\n\nWe want to run with python3 always with python2 being the exception.\n\nUpdate the functional tests to be python3 by default with a\npython2 job to check compat.\n\nRemove python3.5 jobs, since that's covered by python3.6. Remove cover\njobs because we don't really need to run them on in check and gate.\n\nOnly run shade/os-client-config jobs in check. They aren't fast moving\nprojects, so the chances that they catch something the second time that\ncheck wouldn't get is almost none.\n\nChange-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1\n""}, {'number': 3, 'created': '2018-09-25 19:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9fe273ec7d24bd5bc3e317c434d777bb2bf72e2c', 'message': ""Clean up python3 test and remove duplicate jobs\n\nWe want to run with python3 always with python2 being the exception.\n\nUpdate the functional tests to be python3 by default with a\npython2 job to check compat.\n\nRemove python3.5 jobs, since that's covered by python3.6. Remove cover\njobs because we don't really need to run them on in check and gate.\n\nOnly run shade/os-client-config jobs in check. They aren't fast moving\nprojects, so the chances that they catch something the second time that\ncheck wouldn't get is almost none.\n\nChange-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1\n""}, {'number': 4, 'created': '2018-09-26 15:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/88599f4904427a2a6bbb3f5c83d834161b652ccf', 'message': ""Clean up python3 test and remove duplicate jobs\n\nWe want to run with python3 always with python2 being the exception.\n\nUpdate the functional tests to be python3 by default with a\npython2 job to check compat.\n\nRemove python3.5 jobs, since that's covered by python3.6. Remove cover\njobs because we don't really need to run them on in check and gate.\n\nOnly run shade/os-client-config jobs in check. They aren't fast moving\nprojects, so the chances that they catch something the second time that\ncheck wouldn't get is almost none.\n\nChange-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1\n""}, {'number': 5, 'created': '2018-09-28 14:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/49b4c4f2e73d0ff752f50670471766349ed13fd5', 'message': ""Clean up python3 test and remove duplicate jobs\n\nWe want to run with python3 always with python2 being the exception.\n\nUpdate the functional tests to be python3 by default with a\npython2 job to check compat.\n\nRemove python3.5 jobs, since that's covered by python3.6 and the\ndifferences between 3.5 and 3.6 are covered by also having 2.7 in the\ngate.\n\nSimilarly, make the tips jobs python 3.6 only because they are jobs that\naim to ensure interactions between openstacksdk and keystoneauth and\nos-client-config and shade are correct at the unit test level. The\nindividual unit tests should catch actual python 2.7 issues.\n\nRemove cover jobs because we historically haven't cared about the output\nand they take up test nodes. In general it's not that big of a deal, but\nwe tend to be patch-heavy around here, so it feels extravagant to run a\njob we don't actually care about the output of.\n\nChange-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1\n""}, {'number': 6, 'created': '2018-10-02 14:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/067c096af008f0a3425a93abbb169953e4bca124', 'message': ""Clean up python3 test and remove duplicate jobs\n\nWe want to run with python3 always with python2 being the exception.\n\nUpdate the functional tests to be python3 by default with a\npython2 job to check compat.\n\nRemove python3.5 jobs, since that's covered by python3.6 and the\ndifferences between 3.5 and 3.6 are covered by also having 2.7 in the\ngate.\n\nSimilarly, make the tips jobs python 3.6 only because they are jobs that\naim to ensure interactions between openstacksdk and keystoneauth and\nos-client-config and shade are correct at the unit test level. The\nindividual unit tests should catch actual python 2.7 issues.\n\nRemove cover jobs because we historically haven't cared about the output\nand they take up test nodes. In general it's not that big of a deal, but\nwe tend to be patch-heavy around here, so it feels extravagant to run a\njob we don't actually care about the output of.\n\nChange-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1\n""}, {'number': 7, 'created': '2018-10-04 16:06:49.000000000', 'files': ['openstack/tests/functional/network/v2/test_floating_ip.py', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6befbbe76cc9afedcefb032de9d67b26ce04cd0d', 'message': ""Clean up python3 test and split networking into a job\n\nWe want to run with python3 always with python2 being the exception.\n\nUpdate the functional tests to be python3 by default with a\npython2 job to check compat.\n\nRemove python3.5 jobs, since that's covered by python3.6 and the\ndifferences between 3.5 and 3.6 are covered by also having 2.7 in the\ngate.\n\nSimilarly, make the tips jobs python 3.6 only because they are jobs that\naim to ensure interactions between openstacksdk and keystoneauth and\nos-client-config and shade are correct at the unit test level. The\nindividual unit tests should catch actual python 2.7 issues.\n\nRemove cover jobs because we historically haven't cared about the output\nand they take up test nodes. In general it's not that big of a deal, but\nwe tend to be patch-heavy around here, so it feels extravagant to run a\njob we don't actually care about the output of.\n\nSplit advanced networking services into a job\n\nWe're hitting timeouts like crazy- maybe we're just running low on\nresources. Split octavia and designate into their own job. Turn\nswift off in that job.\n\nSkip sdk layer dns functional tests when designate is not present. We\nshould refactor these to deal with both cases.\n\nChange-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1\n""}]",9,604517,6befbbe76cc9afedcefb032de9d67b26ce04cd0d,36,5,7,2,,,0,"Clean up python3 test and split networking into a job

We want to run with python3 always with python2 being the exception.

Update the functional tests to be python3 by default with a
python2 job to check compat.

Remove python3.5 jobs, since that's covered by python3.6 and the
differences between 3.5 and 3.6 are covered by also having 2.7 in the
gate.

Similarly, make the tips jobs python 3.6 only because they are jobs that
aim to ensure interactions between openstacksdk and keystoneauth and
os-client-config and shade are correct at the unit test level. The
individual unit tests should catch actual python 2.7 issues.

Remove cover jobs because we historically haven't cared about the output
and they take up test nodes. In general it's not that big of a deal, but
we tend to be patch-heavy around here, so it feels extravagant to run a
job we don't actually care about the output of.

Split advanced networking services into a job

We're hitting timeouts like crazy- maybe we're just running low on
resources. Split octavia and designate into their own job. Turn
swift off in that job.

Skip sdk layer dns functional tests when designate is not present. We
should refactor these to deal with both cases.

Change-Id: Ica5a47cc200c8abff1d20af9883c5192fcbb95e1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/17/604517/6 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,5ccf5190588574be340b07a2b1f3ebc6c906fe2c,python3-first,basepython = {env:OPENSTACKSDK_TOX_PYTHON:python3},basepython = python3basepython = {env:OPENSTACKSDK_TOX_PYTHON:python2}basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,11,19
openstack%2Fbifrost~master~I67e45c98473de35c08feb67a9f792270230f6499,openstack/bifrost,master,I67e45c98473de35c08feb67a9f792270230f6499,Allow to specify the public IP to be used for public endpoints,MERGED,2018-10-03 09:02:16.000000000,2018-10-05 15:10:07.000000000,2018-10-05 15:10:06.000000000,"[{'_account_id': 6133}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 09:02:16.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'releasenotes/notes/allow-custom-public-endpoints-ip-4662c246f029589e.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/beb404f19abe3fc0330886e684e105187cf859de', 'message': 'Allow to specify the public IP to be used for public endpoints\n\nThis complements a previous patchset in case the Bifrost deployment\nuser would like to set a specific value instead of using the interface\nIP value. This could be useful in case NAT is used for instance.\n\nChange-Id: I67e45c98473de35c08feb67a9f792270230f6499\n'}]",0,607502,beb404f19abe3fc0330886e684e105187cf859de,7,3,1,19578,,,0,"Allow to specify the public IP to be used for public endpoints

This complements a previous patchset in case the Bifrost deployment
user would like to set a specific value instead of using the interface
IP value. This could be useful in case NAT is used for instance.

Change-Id: I67e45c98473de35c08feb67a9f792270230f6499
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/02/607502/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'releasenotes/notes/allow-custom-public-endpoints-ip-4662c246f029589e.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml']",4,beb404f19abe3fc0330886e684e105187cf859de,allow-setting-public-ip," ironic_inspector_public_url: ""{{ ironic_inspector.keystone.public_url | default('http://127.0.0.1:5050/') | replace('127.0.0.1', public_ip | default(hostvars[inventory_hostname]['ansible_' + ans_network_interface]['ipv4']['address'])) }}"""," ironic_inspector_public_url: ""{{ ironic_inspector.keystone.public_url | default('http://127.0.0.1:5050/') | replace('127.0.0.1', hostvars[inventory_hostname]['ansible_' + ans_network_interface]['ipv4']['address']) }}""",16,3
openstack%2Fpuppet-tripleo~master~I5110426aa26e5fce7ebb4d80d8a2082cbf80519c,openstack/puppet-tripleo,master,I5110426aa26e5fce7ebb4d80d8a2082cbf80519c,Fix postrotate to notify holders of rotated logs,MERGED,2018-08-24 10:28:08.000000000,2018-10-05 15:07:40.000000000,2018-09-30 08:18:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 17720}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25865}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-08-24 10:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b6e7045dca64426a1213e03433a68d25899054f5', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  signals well (LP#1276694).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles not ending with *log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-08-24 11:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a74c31988950520b584c26f1eff5e00a76871fd0', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  signals well (LP#1276694).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles not ending with *log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-08-24 11:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b756ef9285b50f3bc0cb46351d6fc1ba8064619c', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  signals well (LP#1276694).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-08-24 12:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fb6d2e5fe10b250902ffb8dc4e735cf17c25519f', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  signals well (LP#1276694).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-09-10 12:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b1b011276aac1b0a48e63d2c7d6317ebaa49a9f4', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1780139).\n* For nova-compute, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1715374).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-09-10 12:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/76fb7602a209dcaecc6eb4cba5229d2350be5579', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1780139).\n* For nova-compute, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1715374).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nCloses-Bug: #1715374\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-09-12 09:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bf65c03319ed85645c2282c0740660efab684ec6', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1780139).\n* For nova-compute, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1715374).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nCloses-Bug: #1715374\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2018-09-12 09:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/38917c472f75c660e5fcfc0a0b4b95d56014f9c7', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1780139).\n* For nova-compute, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1715374).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nCloses-Bug: #1715374\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2018-09-12 09:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3d0e3fa6ea632f7fcd6e74dd3fff87bd1cf32626', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1780139).\n* For nova-compute, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1715374).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nCloses-Bug: #1715374\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2018-09-24 09:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ce07b286d65563fa8ce7a8107642a659fd2ba9ca', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1780139).\n* For nova-compute, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1715374).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nCloses-Bug: #1715374\nDepends-On: I27663ffc0adb34a61f2f97fef913e9e36592a585\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 11, 'created': '2018-09-29 01:16:01.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d37c74d6382690a05ba3ca10edd7f2acb0fbbb2e', 'message': 'Fix postrotate to notify holders of rotated logs\n\nLsof +L1 locates unlinked and open files and does not work for\nlogrotate, neither with copyteuncate not w/o that option.\n\nInstead, find *.X (X - number) files held and notify the processes\nowning those to make an apropriate actions and reopen new log files to\nstop writing to the rotated files.\n\nThe actions to be taken by such processes are:\n\n* For httpd processes, use USR1 to gracefully reload\n* For neutron-server, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1780139).\n* For nova-compute, restart the container as it cannot process\n  HUP signal well (LP bug #1276694, LP bug #1715374).\n* For other processes, use HUP to reload\n\nThis also fixes the filter to match logfiles ending with *err,\nlike rabbitmq startup errors log.\n\nCloses-Bug: #1780139\nCloses-Bug: #1785659\nCloses-Bug: #1715374\n\nChange-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",5,596275,d37c74d6382690a05ba3ca10edd7f2acb0fbbb2e,78,15,11,6926,,,0,"Fix postrotate to notify holders of rotated logs

Lsof +L1 locates unlinked and open files and does not work for
logrotate, neither with copyteuncate not w/o that option.

Instead, find *.X (X - number) files held and notify the processes
owning those to make an apropriate actions and reopen new log files to
stop writing to the rotated files.

The actions to be taken by such processes are:

* For httpd processes, use USR1 to gracefully reload
* For neutron-server, restart the container as it cannot process
  HUP signal well (LP bug #1276694, LP bug #1780139).
* For nova-compute, restart the container as it cannot process
  HUP signal well (LP bug #1276694, LP bug #1715374).
* For other processes, use HUP to reload

This also fixes the filter to match logfiles ending with *err,
like rabbitmq startup errors log.

Closes-Bug: #1780139
Closes-Bug: #1785659
Closes-Bug: #1715374

Change-Id: I5110426aa26e5fce7ebb4d80d8a2082cbf80519c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/596275/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/logrotate/containers_logrotate.conf.erb'],1,b6e7045dca64426a1213e03433a68d25899054f5,bug/1276694," # HUP to gracefully restart processes owning rotated files # Httpd and neutron-server processes need to take another approach grep -v -e /var/log/containers/httpd/ -e /var/log/containers/neutron/server |\ awk '/\S+\s+[0-9]+\s.*\/var\/log\/containers\/\S+\.[0-9]+$/ {print $2}' |\ # USR1 to gracefully restart httpd processes owning rotated files /sbin/lsof -nPs +L1 +D /var/log/containers 2>/dev/null |\ awk '/\S+\s+[0-9]+\s.*\/var\/log\/containers\/httpd\/\S+\.[0-9]+$/ {print $2}' |\ # FIXME(bogdando): Unhealthy containers can't be restarted, until # --exit-on-unhealthy supported. Therefore we cannot send TERM to self-heal. # LP#1780139: HUP does not work with neutron server API process. # Given above caveats, restart the neutron API container instead, if it is # holding rotated server.log.X file. /sbin/lsof -nPs +L1 +D /var/log/containers/neutron/ 2>/dev/null |\ awk '/\S+\s+[0-9]+\s.*\/var\/log\/containers\/neutron\/server\S+\.[0-9]+$/ {print $1}' |\ grep -q neutron-s && docker restart neutron_api", grep -v /var/log/httpd/ |\ awk '/\S+\s+[0-9]+\s.*\/var\/log\/.*\(deleted\)/ {print $2}' |\ /sbin/lsof -nPs +L1 +D /var/log/containers 2>/dev/null|\ awk '/\S+\s+[0-9]+\s.*\/var\/log\/httpd\/.*\(deleted\)/ {print $2}' |\,15,4
openstack%2Fcinder-tempest-plugin~master~I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66,openstack/cinder-tempest-plugin,master,I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66,GET backup before asserting 'volume_id' and 'snapshot_id',MERGED,2018-10-04 23:49:18.000000000,2018-10-05 15:01:09.000000000,2018-10-05 15:01:09.000000000,"[{'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-10-04 23:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a9ba1762d2f5951b62203d4cb94e52b3bc4644ce', 'message': ""GET backup before asserting 'volume_id' and 'snapshot_id'\n\nRecently, commit 9540ed07abc346e1174e40a9e1ad12cf274c04db was merged\nto remove redundant cleanups in volume backup tests. But there was a\nbug in the change that assumed 'volume_id' and 'snapshot_id' are\nreturned from the backup create API when they are not.\n\nWe need to GET the backup in the API in order to obtain the 'volume_id'\nand 'snapshot_id' for the asserts.\n\nCloses-Bug: #1796207\n\nChange-Id: I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66\n""}, {'number': 2, 'created': '2018-10-04 23:56:22.000000000', 'files': ['cinder_tempest_plugin/api/volume/test_volume_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e935d35956f43d43309ebd67935631c2800479b7', 'message': ""GET backup before asserting 'volume_id' and 'snapshot_id'\n\nRecently, commit c96757b275a77a745c6c80947bdd0bcb2de7eefd was merged\nto remove redundant cleanups in volume backup tests. But there was a\nbug in the change that assumed 'volume_id' and 'snapshot_id' are\nreturned from the backup create API when they are not.\n\nWe need to GET the backup in the API in order to obtain the 'volume_id'\nand 'snapshot_id' for the asserts.\n\nCloses-Bug: #1796207\n\nChange-Id: I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66\n""}]",0,608103,e935d35956f43d43309ebd67935631c2800479b7,10,5,2,4690,,,0,"GET backup before asserting 'volume_id' and 'snapshot_id'

Recently, commit c96757b275a77a745c6c80947bdd0bcb2de7eefd was merged
to remove redundant cleanups in volume backup tests. But there was a
bug in the change that assumed 'volume_id' and 'snapshot_id' are
returned from the backup create API when they are not.

We need to GET the backup in the API in order to obtain the 'volume_id'
and 'snapshot_id' for the asserts.

Closes-Bug: #1796207

Change-Id: I640fe41ec6049bfd980dfcbb6cae95a9a3e97b66
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/03/608103/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/test_volume_backup.py'],1,a9ba1762d2f5951b62203d4cb94e52b3bc4644ce,bug/1796207, # Get a given backup. We need to do this to get the volume_id and # snapshot_id of the backup. They are not returned by the create API. backup = self.backups_client.show_backup(backup['id'])['backup'],,3,0
openstack%2Fneutron~master~Ia73fe052986617dd6ce5e68cced0c4c88516a33e,openstack/neutron,master,Ia73fe052986617dd6ce5e68cced0c4c88516a33e,Update tests neutron.conf to use transport_url,MERGED,2018-10-04 09:40:11.000000000,2018-10-05 15:01:07.000000000,2018-10-05 15:01:07.000000000,"[{'_account_id': 1131}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-04 09:40:11.000000000', 'files': ['neutron/tests/etc/neutron.conf', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d82a5d3c1471524969aafe4a441465ac0ce11f7c', 'message': 'Update tests neutron.conf to use transport_url\n\nThe deprecated rpc_backend parameter was removed from oslo.messaging in\nI193cc0e613459a6dbbfd54ed0901a54ded78d712\n\nUse transport_url parameter instead\n\nChange-Id: Ia73fe052986617dd6ce5e68cced0c4c88516a33e\nCloses-Bug: #1795878\n'}]",0,607872,d82a5d3c1471524969aafe4a441465ac0ce11f7c,21,11,1,21798,,,0,"Update tests neutron.conf to use transport_url

The deprecated rpc_backend parameter was removed from oslo.messaging in
I193cc0e613459a6dbbfd54ed0901a54ded78d712

Use transport_url parameter instead

Change-Id: Ia73fe052986617dd6ce5e68cced0c4c88516a33e
Closes-Bug: #1795878
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/607872/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/etc/neutron.conf', 'neutron/tests/base.py']",2,d82a5d3c1471524969aafe4a441465ac0ce11f7c,bug/1795878,, # neutron.conf includes rpc_backend which needs to be cleaned up,2,3
openstack%2Fmonasca-transform~master~Iaa7c9b9fca48dd2e091049da711e70395f6ec28e,openstack/monasca-transform,master,Iaa7c9b9fca48dd2e091049da711e70395f6ec28e,fix tox python3 overrides,MERGED,2018-08-15 07:05:15.000000000,2018-10-05 14:39:29.000000000,2018-10-05 14:39:29.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-08-15 07:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/914d4a6673120f1f013393c0091664718e57c5df', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iaa7c9b9fca48dd2e091049da711e70395f6ec28e\n'}, {'number': 2, 'created': '2018-10-01 09:26:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/ccd56bf0d43ff7906b5dfe92f4c5cf62b3821bbd', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iaa7c9b9fca48dd2e091049da711e70395f6ec28e\n'}]",0,591929,ccd56bf0d43ff7906b5dfe92f4c5cf62b3821bbd,12,4,2,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iaa7c9b9fca48dd2e091049da711e70395f6ec28e
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/29/591929/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,914d4a6673120f1f013393c0091664718e57c5df,python3-first,basepython = python3basepython = python3basepython = python3,,3,0
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~Ia21b3a6782ab944b7c41564e889e6b12d264b731,openstack/charm-nova-cloud-controller,stable/18.08,Ia21b3a6782ab944b7c41564e889e6b12d264b731,Use v2.1 API for >= Queens,MERGED,2018-10-01 09:17:14.000000000,2018-10-05 14:37:19.000000000,2018-10-05 09:26:10.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 09:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9caee35b1e40df45a14a2419cf83178b63b7f965', 'message': 'Use v2.1 API for >= Queens\n\nSwitch to using the v2.1 API endpoint for OpenStack Queens or later.\n\nCloses-Bug: 1794271\n\nChange-Id: Ia21b3a6782ab944b7c41564e889e6b12d264b731\n(cherry picked from commit 935d30571c7e813ccbfecb9cbbf980f7f2835b08)\n'}, {'number': 2, 'created': '2018-10-03 10:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b0f6791c994f83b0fa0d7809f26b35e46bc5614c', 'message': 'Use v2.1 API for >= Queens\n\nSwitch to using the v2.1 API endpoint for OpenStack Queens or later.\n\nCloses-Bug: 1794271\n\nChange-Id: Ia21b3a6782ab944b7c41564e889e6b12d264b731\n(cherry picked from commit 935d30571c7e813ccbfecb9cbbf980f7f2835b08)\n'}, {'number': 3, 'created': '2018-10-03 10:58:06.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/76a0bf5acfeeefab4e8211fa653e571abf8c70a7', 'message': 'Use v2.1 API for >= Queens\n\nSwitch to using the v2.1 API endpoint for OpenStack Queens or later.\n\nCloses-Bug: 1794271\n\nChange-Id: Ia21b3a6782ab944b7c41564e889e6b12d264b731\n(cherry picked from commit 935d30571c7e813ccbfecb9cbbf980f7f2835b08)\n'}]",0,606914,76a0bf5acfeeefab4e8211fa653e571abf8c70a7,16,4,3,935,,,0,"Use v2.1 API for >= Queens

Switch to using the v2.1 API endpoint for OpenStack Queens or later.

Closes-Bug: 1794271

Change-Id: Ia21b3a6782ab944b7c41564e889e6b12d264b731
(cherry picked from commit 935d30571c7e813ccbfecb9cbbf980f7f2835b08)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/14/606914/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",5,9caee35b1e40df45a14a2419cf83178b63b7f965,stable/add-refstack-filters," # For mimic ceph osd lspools output output = output.replace(""\n"", "","") ",,51,2
openstack%2Fmonasca-transform~master~If98949fa5f49091fbf11c95a65302a4f844538c9,openstack/monasca-transform,master,If98949fa5f49091fbf11c95a65302a4f844538c9,Fix PEP8 tests for Python 3,MERGED,2018-10-01 09:25:05.000000000,2018-10-05 14:36:56.000000000,2018-10-05 14:36:56.000000000,"[{'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-10-01 09:25:05.000000000', 'files': ['monasca_transform/driver/mon_metrics_kafka.py', 'devstack/files/monasca-transform/driver.py', 'devstack/files/monasca-transform/service_runner.py'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/8257dd9f42711864501b44846563948673620708', 'message': 'Fix PEP8 tests for Python 3\n\n* relace long with int\n* replace execfile with exec\n\nChange-Id: If98949fa5f49091fbf11c95a65302a4f844538c9\nStory: 2003240\nTask: 26827\n'}]",0,606919,8257dd9f42711864501b44846563948673620708,9,5,1,16222,,,0,"Fix PEP8 tests for Python 3

* relace long with int
* replace execfile with exec

Change-Id: If98949fa5f49091fbf11c95a65302a4f844538c9
Story: 2003240
Task: 26827
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/19/606919/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_transform/driver/mon_metrics_kafka.py', 'devstack/files/monasca-transform/driver.py', 'devstack/files/monasca-transform/service_runner.py']",3,8257dd9f42711864501b44846563948673620708,python3-first,"exec(open(activate_this_file).read(), dict(__file__=activate_this_file))","execfile(activate_this_file, dict(__file__=activate_this_file))",3,3
openstack%2Foslo.config~master~Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5,openstack/oslo.config,master,Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5,generator: Pass conf to _OptFormatter,MERGED,2018-07-16 22:41:57.000000000,2018-10-05 14:35:31.000000000,2018-10-05 14:35:31.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-16 22:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d103ad5c8f848271c4c7c06dc4ee3ed593e31e1e', 'message': ""generator: Pass conf to _OptFormatter\n\nIn preparation for adding another conf option that would have needed to\nbe kwarg'd all the way down the call stack to the .format method, this\npatch removes the existing `minimal` and `summarize` kwargs from the\nmethods in that call stack and instead makes them instance attributes of\ngenerator._OptFormatter, which is now initialized with the whole\nConfigOpts object rather than those individual options.\n\nThis is just a refactor. There is no functional change (assuming nobody\nis being naughty and consuming the private _OptFormatter class).\n\nChange-Id: Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5\n""}, {'number': 2, 'created': '2018-07-17 16:43:59.000000000', 'files': ['oslo_config/tests/test_generator.py', 'oslo_config/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/6c30a1c8a388f4f0dd4d97de878ff7e605a677eb', 'message': ""generator: Pass conf to _OptFormatter\n\nIn preparation for adding another conf option that would have needed to\nbe kwarg'd all the way down the call stack to the .format method, this\npatch removes the existing `minimal` and `summarize` kwargs from the\nmethods in that call stack and instead makes them instance attributes of\ngenerator._OptFormatter, which is now initialized with the whole\nConfigOpts object rather than those individual options.\n\nThis is just a refactor. There is no functional change (assuming nobody\nis being naughty and consuming the private _OptFormatter class).\n\nChange-Id: Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5\n""}]",0,583063,6c30a1c8a388f4f0dd4d97de878ff7e605a677eb,12,4,2,14070,,,0,"generator: Pass conf to _OptFormatter

In preparation for adding another conf option that would have needed to
be kwarg'd all the way down the call stack to the .format method, this
patch removes the existing `minimal` and `summarize` kwargs from the
methods in that call stack and instead makes them instance attributes of
generator._OptFormatter, which is now initialized with the whole
ConfigOpts object rather than those individual options.

This is just a refactor. There is no functional change (assuming nobody
is being naughty and consuming the private _OptFormatter class).

Change-Id: Ide0f1c6d79d506b979b54e6446786ea9ff51c8d5
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/63/583063/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_generator.py', 'oslo_config/generator.py']",2,d103ad5c8f848271c4c7c06dc4ee3ed593e31e1e,convert-sphinxisms," def __init__(self, conf, output_file=None): :param conf: The config object from _generator_opts self.wrap_width = conf.wrap_width self.minimal = conf.minimal self.summarize = conf.summarize def format(self, opt, group_name): if self.summarize: if self.minimal:def _output_opts(f, group, group_data): if f.minimal and not opt.required: f.format(opt, group) formatter = _OptFormatter(conf, output_file=output_file) _output_opts(formatter, 'DEFAULT', groups.pop('DEFAULT')) _output_opts(formatter, group, group_data)"," def __init__(self, output_file=None, wrap_width=70): :param wrap_width: The maximum length of help lines, 0 to not wrap self.wrap_width = wrap_width def format(self, opt, group_name, minimal=False, summarize=False): :param minimal: enable option by default, marking it as required :param summarize: output a summarized description of the opt if summarize: if minimal:def _output_opts(f, group, group_data, minimal=False, summarize=False): if minimal and not opt.required: f.format(opt, group, minimal, summarize) formatter = _OptFormatter(output_file=output_file, wrap_width=conf.wrap_width) _output_opts(formatter, 'DEFAULT', groups.pop('DEFAULT'), conf.minimal, conf.summarize) _output_opts(formatter, group, group_data, conf.minimal, conf.summarize)",33,30
openstack%2Fcharm-nova-cloud-controller~master~I5aac32377095f8614c4dd3224ac31ab7e2d3a1df,openstack/charm-nova-cloud-controller,master,I5aac32377095f8614c4dd3224ac31ab7e2d3a1df,Update requirements to fix pyyaml dep of charm-tools,ABANDONED,2018-10-02 14:50:15.000000000,2018-10-05 14:33:12.000000000,,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 14:50:15.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/d7badd1842456e2e0c2ed989ac68f33b9cfbd9f8', 'message': 'Update requirements to fix pyyaml dep of charm-tools\n\nChange-Id: I5aac32377095f8614c4dd3224ac31ab7e2d3a1df\n'}]",0,607213,d7badd1842456e2e0c2ed989ac68f33b9cfbd9f8,9,4,1,20635,,,0,"Update requirements to fix pyyaml dep of charm-tools

Change-Id: I5aac32377095f8614c4dd3224ac31ab7e2d3a1df
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/13/607213/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,d7badd1842456e2e0c2ed989ac68f33b9cfbd9f8,fix-reqs,charm-tools>=2.0.0requests>=2.18.4,charm-tools>=2.0.0 requests==2.6.0,2,3
openstack%2Fopenstack-ansible-ops~master~I0e03aa4896ab21a3fa4692bf4c17e80639ce6250,openstack/openstack-ansible-ops,master,I0e03aa4896ab21a3fa4692bf4c17e80639ce6250,fix tox python3 overrides,ABANDONED,2018-06-18 12:54:09.000000000,2018-10-05 14:26:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-06-18 12:54:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/79dbc34e7d457614cb047b4ae7164feea6bd3a1f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I0e03aa4896ab21a3fa4692bf4c17e80639ce6250\n'}]",0,576125,79dbc34e7d457614cb047b4ae7164feea6bd3a1f,4,2,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0e03aa4896ab21a3fa4692bf4c17e80639ce6250
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/25/576125/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,79dbc34e7d457614cb047b4ae7164feea6bd3a1f,pyhon3-first,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,6,0
openstack%2Fnetworking-midonet~stable%2Frocky~Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,openstack/networking-midonet,stable/rocky,Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,Remove a few extensions from NETWORK_API_EXTENSIONS,MERGED,2018-08-28 11:56:10.000000000,2018-10-05 14:25:37.000000000,2018-10-05 14:25:37.000000000,"[{'_account_id': 156}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 26127}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-08-28 11:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b2b51af69b65399c20ee44bd67dec35cb6ebadc6', 'message': 'Remove a few extensions from NETWORK_API_EXTENSIONS\n\nThis commit removes the following extensions from the list.\n\ttimestamp_core\n\ttag\n\ttag_ext\n\nThose extensions have been removed long before. [1] [2]\nThe mismatch has been exposed by the recently added\ntempest test case. [3]\n\n[1] I2ee2ed4c713d88345adc55b022feb95653eec663\n[2] I97095453610fff114d999a526d67e78119546ff5\n[3] I4c59f407c30020e3865e96e67a1b61361e699014\n\nCloses-Bug: #1789323\nChange-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d\n'}, {'number': 3, 'created': '2018-09-04 03:27:49.000000000', 'files': ['.zuul.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/24cfc227dcc97a9aeef918a62f0d26c4b66b881e', 'message': ""Remove a few extensions from NETWORK_API_EXTENSIONS\n\nThis commit removes the following extensions from the list.\n\ttimestamp_core\n\ttag\n\ttag_ext\n\nThose extensions have been removed long before. [1] [2]\nThe mismatch has been exposed by the recently added\ntempest test case. [3]\n\n[1] I2ee2ed4c713d88345adc55b022feb95653eec663\n[2] I97095453610fff114d999a526d67e78119546ff5\n[3] I4c59f407c30020e3865e96e67a1b61361e699014\n\nAlso, make the grenade job non-voting for now because\nit would take long to fix it.\n1. It needs to be fixed in the base branch (right now\n   it's stable/queens) as grenade uses the base branch's\n   tempest.conf (thus NETWORK_API_EXTENSIONS) as it is\n   for the target branch.\n2. Right now stable/queens gate is broken for unrelated reasons\n\nCloses-Bug: #1789323\nChange-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d\n(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)\n""}]",0,597058,24cfc227dcc97a9aeef918a62f0d26c4b66b881e,20,11,2,6854,,,0,"Remove a few extensions from NETWORK_API_EXTENSIONS

This commit removes the following extensions from the list.
	timestamp_core
	tag
	tag_ext

Those extensions have been removed long before. [1] [2]
The mismatch has been exposed by the recently added
tempest test case. [3]

[1] I2ee2ed4c713d88345adc55b022feb95653eec663
[2] I97095453610fff114d999a526d67e78119546ff5
[3] I4c59f407c30020e3865e96e67a1b61361e699014

Also, make the grenade job non-voting for now because
it would take long to fix it.
1. It needs to be fixed in the base branch (right now
   it's stable/queens) as grenade uses the base branch's
   tempest.conf (thus NETWORK_API_EXTENSIONS) as it is
   for the target branch.
2. Right now stable/queens gate is broken for unrelated reasons

Closes-Bug: #1789323
Change-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d
(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/58/597058/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,b2b51af69b65399c20ee44bd67dec35cb6ebadc6,bug/1789323-stable/rocky,"NETWORK_API_EXTENSIONS+=,service-type,rbac-policies","NETWORK_API_EXTENSIONS+=,timestamp_core,tag,service-type,rbac-policiesNETWORK_API_EXTENSIONS+=,tag-ext",1,2
openstack%2Fnetworking-midonet~stable%2Frocky~Iedc1ea5a24db7b162f982f56434e7bab3c4678b6,openstack/networking-midonet,stable/rocky,Iedc1ea5a24db7b162f982f56434e7bab3c4678b6,Update .gitreview for stable/rocky,MERGED,2018-08-09 21:51:34.000000000,2018-10-05 14:25:37.000000000,2018-10-05 14:25:37.000000000,"[{'_account_id': 156}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 26127}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-08-09 21:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f1509d9c57c4f5e9228bdd7f41f12854cc13b9c4', 'message': 'Update .gitreview for stable/rocky\n\nChange-Id: Iedc1ea5a24db7b162f982f56434e7bab3c4678b6\n'}, {'number': 2, 'created': '2018-09-17 01:58:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6a5584f5c01e7cff90f034bef5f9d80a56705952', 'message': 'Update .gitreview for stable/rocky\n\nDepends-On: https://review.openstack.org/#/c/597058/\nChange-Id: Iedc1ea5a24db7b162f982f56434e7bab3c4678b6\n'}]",0,590550,6a5584f5c01e7cff90f034bef5f9d80a56705952,21,10,2,22816,,,0,"Update .gitreview for stable/rocky

Depends-On: https://review.openstack.org/#/c/597058/
Change-Id: Iedc1ea5a24db7b162f982f56434e7bab3c4678b6
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/50/590550/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f1509d9c57c4f5e9228bdd7f41f12854cc13b9c4,create-rocky,defaultbranch=stable/rocky,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I247aa039afc5f073253135ab91b05cb751a73ef7,openstack/openstack-ansible-os_ceilometer,master,I247aa039afc5f073253135ab91b05cb751a73ef7,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:15.000000000,2018-10-05 14:25:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-23 11:39:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/4f2dda61ec635391d6081522773b283864a96b5f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I247aa039afc5f073253135ab91b05cb751a73ef7\n'}]",0,584819,4f2dda61ec635391d6081522773b283864a96b5f,5,3,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I247aa039afc5f073253135ab91b05cb751a73ef7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/19/584819/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4f2dda61ec635391d6081522773b283864a96b5f,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fopenstack-ansible-os_gnocchi~master~Ic0acfd55e767bd956ed382aa3cdb93b44bc3c3fc,openstack/openstack-ansible-os_gnocchi,master,Ic0acfd55e767bd956ed382aa3cdb93b44bc3c3fc,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:24:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-23 11:39:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/d8b6cd859be28773a0e5c6adfb4945a53d1028e7', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ic0acfd55e767bd956ed382aa3cdb93b44bc3c3fc\n'}]",0,584818,d8b6cd859be28773a0e5c6adfb4945a53d1028e7,4,2,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ic0acfd55e767bd956ed382aa3cdb93b44bc3c3fc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/18/584818/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d8b6cd859be28773a0e5c6adfb4945a53d1028e7,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Iff5968b77d3fef0d2bc9d9f9d2b94579992c2ace,openstack/openstack-ansible-openstack_hosts,master,Iff5968b77d3fef0d2bc9d9f9d2b94579992c2ace,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:24:38.000000000,,"[{'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-23 11:39:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/93745a1e4b5a5b2be6043459eccdeb7e08e68c11', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iff5968b77d3fef0d2bc9d9f9d2b94579992c2ace\n'}]",0,584817,93745a1e4b5a5b2be6043459eccdeb7e08e68c11,5,3,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iff5968b77d3fef0d2bc9d9f9d2b94579992c2ace
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/17/584817/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,93745a1e4b5a5b2be6043459eccdeb7e08e68c11,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fos-collect-config~master~Ic5bb4f6d514b6b8f9352046b5f1db43f7edfb8c3,openstack/os-collect-config,master,Ic5bb4f6d514b6b8f9352046b5f1db43f7edfb8c3,Cleanup test-requirements,ABANDONED,2018-01-21 03:38:15.000000000,2018-10-05 14:20:38.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-01-21 03:38:15.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/8e2b0fa67e0da907cc027e2b5356d16c244621d1', 'message': 'Cleanup test-requirements\n\npython-subunit is not used directly anywhere\nand it is dependency of both testrepository\nand os-testr\n(probably was used by some tox wrapper script before)\n\nChange-Id: Ic5bb4f6d514b6b8f9352046b5f1db43f7edfb8c3\n'}]",0,536078,8e2b0fa67e0da907cc027e2b5356d16c244621d1,8,5,1,17130,,,0,"Cleanup test-requirements

python-subunit is not used directly anywhere
and it is dependency of both testrepository
and os-testr
(probably was used by some tox wrapper script before)

Change-Id: Ic5bb4f6d514b6b8f9352046b5f1db43f7edfb8c3
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/78/536078/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8e2b0fa67e0da907cc027e2b5356d16c244621d1,,,python-subunit>=1.0.0 # Apache-2.0/BSD,0,1
openstack%2Fcharm-nova-compute~master~Ia23913f96a2e09c87ec8d30ce14285e147563894,openstack/charm-nova-compute,master,Ia23913f96a2e09c87ec8d30ce14285e147563894,fix a typo in login.defs,ABANDONED,2018-05-24 08:02:11.000000000,2018-10-05 14:19:47.000000000,,"[{'_account_id': 20635}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-24 08:02:11.000000000', 'files': ['hooks/charmhelpers/contrib/hardening/host/templates/login.defs'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/fd54b5658542c02c5594187f77d714fa3305ed00', 'message': 'fix a typo in login.defs\n\nChange-Id: Ia23913f96a2e09c87ec8d30ce14285e147563894\n'}]",0,570333,fd54b5658542c02c5594187f77d714fa3305ed00,4,2,1,17130,,,0,"fix a typo in login.defs

Change-Id: Ia23913f96a2e09c87ec8d30ce14285e147563894
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/33/570333/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/hardening/host/templates/login.defs'],1,fd54b5658542c02c5594187f77d714fa3305ed00,trivialfix,"# overridden by PAM, since the default pam_unix module has it's own built","# overriden by PAM, since the default pam_unix module has it's own built",1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Idacf6cbbec7771f3d2708918ee089033ac0004b0,openstack/openstack-ansible-lxc_hosts,master,Idacf6cbbec7771f3d2708918ee089033ac0004b0,fix tox python3 overrides,ABANDONED,2018-07-23 11:42:11.000000000,2018-10-05 14:16:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-23 11:42:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e846530b3fb0d69cc9d84036e5b2c5a8f8852ad9', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Idacf6cbbec7771f3d2708918ee089033ac0004b0\n'}]",0,584820,e846530b3fb0d69cc9d84036e5b2c5a8f8852ad9,4,2,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Idacf6cbbec7771f3d2708918ee089033ac0004b0
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/20/584820/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e846530b3fb0d69cc9d84036e5b2c5a8f8852ad9,,basepython = python3basepython = python3basepython = python3basepython = python3,,5,0
openstack%2Fopenstack-ansible-os_heat~master~I7552cc9f9af9327fde8b7c4759ab471d7d45c066,openstack/openstack-ansible-os_heat,master,I7552cc9f9af9327fde8b7c4759ab471d7d45c066,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:14:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-23 11:39:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/ea83e25c082a6e92b992442587a74c16b104a34e', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7552cc9f9af9327fde8b7c4759ab471d7d45c066\n'}]",0,584816,ea83e25c082a6e92b992442587a74c16b104a34e,4,2,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7552cc9f9af9327fde8b7c4759ab471d7d45c066
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/16/584816/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ea83e25c082a6e92b992442587a74c16b104a34e,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fkeystone-specs~master~I4b867cd63714cfd5fe6201919d5127d1ca72afa1,openstack/keystone-specs,master,I4b867cd63714cfd5fe6201919d5127d1ca72afa1,Replace Chinese quotes to English quotes,ABANDONED,2018-02-15 03:58:34.000000000,2018-10-05 14:12:12.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-02-15 03:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/58a24e2c5aa5997efef253501a9f18390cdccdf4', 'message': 'Replace Chinese quotes to English quotes\n\nChange-Id: I4b867cd63714cfd5fe6201919d5127d1ca72afa1\n'}, {'number': 2, 'created': '2018-06-05 15:19:27.000000000', 'files': ['specs/keystone/queens/project-tags.rst', 'specs/keystone/juno/hierarchical_multitenancy.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d3fd3d0f2243402c007f9418bee03a79c67ebdcd', 'message': 'Replace Chinese quotes to English quotes\n\nfixing the double-quote chars in the RST source to be regular double-quotes\n\nChange-Id: I4b867cd63714cfd5fe6201919d5127d1ca72afa1\n'}]",1,544773,d3fd3d0f2243402c007f9418bee03a79c67ebdcd,9,3,2,17130,,,0,"Replace Chinese quotes to English quotes

fixing the double-quote chars in the RST source to be regular double-quotes

Change-Id: I4b867cd63714cfd5fe6201919d5127d1ca72afa1
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/73/544773/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/keystone/queens/project-tags.rst', 'specs/keystone/juno/hierarchical_multitenancy.rst']",2,58a24e2c5aa5997efef253501a9f18390cdccdf4,trivialfix,"Create a new column ""parent_project_id"" in table ""project"", when the column","Create a new column “parent_project_id” in table “project”, when the column",6,6
openstack%2Fopenstack-ansible-memcached_server~master~Icbef2418124a677265a053146d452bd71abb45a4,openstack/openstack-ansible-memcached_server,master,Icbef2418124a677265a053146d452bd71abb45a4,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:14.000000000,2018-10-05 14:11:27.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-23 11:39:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/480ded7aa7636c704df3a2b003d7755b75f28c2a', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Icbef2418124a677265a053146d452bd71abb45a4\n'}]",0,584815,480ded7aa7636c704df3a2b003d7755b75f28c2a,7,3,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Icbef2418124a677265a053146d452bd71abb45a4
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/15/584815/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,480ded7aa7636c704df3a2b003d7755b75f28c2a,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fopenstack-ansible-os_almanach~master~I38dac32ade9efcc37aa88ca4404f3ac0c8d96625,openstack/openstack-ansible-os_almanach,master,I38dac32ade9efcc37aa88ca4404f3ac0c8d96625,fix tox python3 overrides,ABANDONED,2018-07-23 11:39:13.000000000,2018-10-05 14:09:51.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-23 11:39:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_almanach/commit/d263226ec9a9039d8e5b82ba531007448b2aeb9f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I38dac32ade9efcc37aa88ca4404f3ac0c8d96625\n'}]",0,584814,d263226ec9a9039d8e5b82ba531007448b2aeb9f,5,3,1,17130,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I38dac32ade9efcc37aa88ca4404f3ac0c8d96625
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_almanach refs/changes/14/584814/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d263226ec9a9039d8e5b82ba531007448b2aeb9f,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fopenstack-helm~master~Ic7361c48b1d617da6e78a77037e2edb27e05b60e,openstack/openstack-helm,master,Ic7361c48b1d617da6e78a77037e2edb27e05b60e,[WIP] Wire linters to openstack-helm-infra plays,ABANDONED,2018-10-05 12:32:35.000000000,2018-10-05 14:07:26.000000000,,[],"[{'number': 1, 'created': '2018-10-05 12:32:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/668585b8b57d2ec80eec51772aa0e8923b3f4cca', 'message': '[WIP] Wire linters to openstack-helm-infra plays\n\nThis would reduce the amount of play needed for linting.\n\nChange-Id: Ic7361c48b1d617da6e78a77037e2edb27e05b60e\n'}]",0,608254,668585b8b57d2ec80eec51772aa0e8923b3f4cca,2,0,1,17068,,,0,"[WIP] Wire linters to openstack-helm-infra plays

This would reduce the amount of play needed for linting.

Change-Id: Ic7361c48b1d617da6e78a77037e2edb27e05b60e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/608254/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,668585b8b57d2ec80eec51772aa0e8923b3f4cca,gates/uniformity, run: ../openstack-helm-infra/playbooks/zuul-linter.yaml required-projects: - openstack/openstack-helm-infra, run: tools/gate/playbooks/zuul-linter.yaml,3,1
openstack%2Fnetworking-midonet~stable%2Focata~I655d3715bd3fa1d1f5062428bb1dc357954b4694,openstack/networking-midonet,stable/ocata,I655d3715bd3fa1d1f5062428bb1dc357954b4694,import zuul job settings from project-config,MERGED,2018-08-30 00:06:57.000000000,2018-10-05 14:06:57.000000000,2018-10-05 14:06:57.000000000,"[{'_account_id': 1131}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-30 00:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6089b4cee06552539ba20ac17fe6b5cb7c5a187c', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I655d3715bd3fa1d1f5062428bb1dc357954b4694\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-10-04 20:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b51adad7480895680a0972561d913059d5fe6e92', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I655d3715bd3fa1d1f5062428bb1dc357954b4694\nStory: #2002586\nTask: #24314\n'}, {'number': 3, 'created': '2018-10-05 06:36:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a1c2a2fb8d0db569303e26bbb5fb6de20397691a', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I655d3715bd3fa1d1f5062428bb1dc357954b4694\nStory: #2002586\nTask: #24314\n'}]",0,597910,a1c2a2fb8d0db569303e26bbb5fb6de20397691a,17,5,3,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I655d3715bd3fa1d1f5062428bb1dc357954b4694
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/10/597910/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6089b4cee06552539ba20ac17fe6b5cb7c5a187c,python3-first, templates: - check-requirements - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - publish-openstack-sphinx-docs - release-notes-jobs - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-cover: voting: false required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - build-openstack-sphinx-docs: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-pep8: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py35: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service periodic: jobs: - legacy-periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - legacy-periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service periodic-stable: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service - openstack-tox-py27: required-projects: - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service post: jobs: - publish-openstack-python-branch-tarball: required-projects: - openstack/neutron-fwaas - openstack/neutron-vpnaas - openstack/neutron-lbaas - openstack/neutron-dynamic-routing - openstack/networking-l2gw - openstack/tap-as-a-service,,136,0
openstack%2Fnetworking-midonet~stable%2Focata~I69663be876def03f47594c838591cfdb10d00871,openstack/networking-midonet,stable/ocata,I69663be876def03f47594c838591cfdb10d00871,Fix sphinx-docs job,MERGED,2018-08-09 16:34:07.000000000,2018-10-05 14:06:56.000000000,2018-10-05 14:06:56.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-09 16:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/02f93a2c2d18f5c5a03e85f63230df81fa638e28', 'message': 'Fix sphinx-docs job\n\nbuild-openstack-sphinx-docs jobs fail on all branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nNote: This commit includes the following unrelated changes\nto pass the gate.\n(Actually I2d125ce2251473f896fc251b8fa51cfa29721850 might not\nbe necessary on this branch. But I included it as it was a part\nof the original commit on master.)\n----------------------------------------\nPin rally to 0.12.1\n\nRally plugin after version 0.12.1 installs the new and latest\nrally-openstack, which has higher requirements of packages and is not\nconstrained by pike\'s upper-constraints.txt during installation. This\ncauses problem on stable/pike and older stable branches: keystone\nservice is not able to start (ContextualVersionConflict, see\nscreen-keystone.txt)\n\nThe patch that introduced the new behaviour:\nhttps://review.openstack.org/#/c/575064/4/devstack/lib/rally\n\n----------------------------------------\nDisable failing style checks (W503, E402) for now.\n\nI (yamamoto) guess they are new with pycodestyle 2.4.0.\n\nRelated-Bug: #1762795\nChange-Id: Ib35d0718bf1410dc8e5c10bb185a00837f2d8b52\n----------------------------------------\nAdd dummy docstrings to avoid Sphinx 1.7.x warnings\n\nWe need to workaround this locally because:\n- It\'s unclear how long os-vif patch [1] will take\n  to be merged.\n- While Neutron patch [2] has been merged, docs build on\n  gate is using released versions of dependencies.\n\nThe idea was taken from keystone. [3]\n\n[1] https://review.openstack.org/#/c/577028/\n[2] https://review.openstack.org/#/c/577029/\n[3] https://review.openstack.org/#/c/578121/\n\nRelated-Bug: #1771092\nChange-Id: I2d125ce2251473f896fc251b8fa51cfa29721850\n----------------------------------------\n\nConflicting file:\n  tox.ini - from upper-constraints we need stable/ocata here, which is\n      already set\n  rally-jobs/plugins/network_plugin.py - because rally has to be pinned,\n      the ""Port rally plugins to use proper modules"" part of the\n      backport has to be left out\n  midonet/neutron/db/l3_db_midonet.py - changed between ocata and pike\n  midonet/os_vif/vif_midonet.py - new file in pike, so removed\n\nCo-Authored-By: eeldill <elod.illes@ericsson.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\nCo-Authored-By: OpenStack Release Bot <infra-root@openstack.org>\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nChange-Id: I69663be876def03f47594c838591cfdb10d00871\n(cherry picked from commit f24c41935cf010e319a8e0e3826f145774a81d6c)\n(cherry picked from commit ae2ed9a6dff37d9b04525643c8fe8dc76766a225)\n'}, {'number': 2, 'created': '2018-10-05 05:38:08.000000000', 'files': ['tools/tox_install.sh', '.zuul.yaml', 'midonet/neutron/db/l3_db_midonet.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/abd9ea280042b1dd1bc76bdff9aa05b7a284dfdb', 'message': 'Fix sphinx-docs job\n\nbuild-openstack-sphinx-docs jobs fail on all branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to pip.\n\nNote: This commit includes the following unrelated changes\nto pass the gate.\n(Actually I2d125ce2251473f896fc251b8fa51cfa29721850 might not\nbe necessary on this branch. But I included it as it was a part\nof the original commit on master.)\n----------------------------------------\nPin rally to 0.12.1\n\nRally plugin after version 0.12.1 installs the new and latest\nrally-openstack, which has higher requirements of packages and is not\nconstrained by pike\'s upper-constraints.txt during installation. This\ncauses problem on stable/pike and older stable branches: keystone\nservice is not able to start (ContextualVersionConflict, see\nscreen-keystone.txt)\n\nThe patch that introduced the new behaviour:\nhttps://review.openstack.org/#/c/575064/4/devstack/lib/rally\n\nBackport Note(yamamoto): Applied to rally-v2 job too.\n----------------------------------------\nDisable failing style checks (W503, E402) for now.\n\nI (yamamoto) guess they are new with pycodestyle 2.4.0.\n\nRelated-Bug: #1762795\nChange-Id: Ib35d0718bf1410dc8e5c10bb185a00837f2d8b52\n----------------------------------------\nAdd dummy docstrings to avoid Sphinx 1.7.x warnings\n\nWe need to workaround this locally because:\n- It\'s unclear how long os-vif patch [1] will take\n  to be merged.\n- While Neutron patch [2] has been merged, docs build on\n  gate is using released versions of dependencies.\n\nThe idea was taken from keystone. [3]\n\n[1] https://review.openstack.org/#/c/577028/\n[2] https://review.openstack.org/#/c/577029/\n[3] https://review.openstack.org/#/c/578121/\n\nRelated-Bug: #1771092\nChange-Id: I2d125ce2251473f896fc251b8fa51cfa29721850\n----------------------------------------\n\nConflicting file:\n  tox.ini - from upper-constraints we need stable/ocata here, which is\n      already set\n  rally-jobs/plugins/network_plugin.py - because rally has to be pinned,\n      the ""Port rally plugins to use proper modules"" part of the\n      backport has to be left out\n  midonet/neutron/db/l3_db_midonet.py - changed between ocata and pike\n  midonet/os_vif/vif_midonet.py - new file in pike, so removed\n\nCo-Authored-By: eeldill <elod.illes@ericsson.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\nCo-Authored-By: OpenStack Release Bot <infra-root@openstack.org>\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nChange-Id: I69663be876def03f47594c838591cfdb10d00871\n(cherry picked from commit f24c41935cf010e319a8e0e3826f145774a81d6c)\n(cherry picked from commit ae2ed9a6dff37d9b04525643c8fe8dc76766a225)\n'}]",0,590421,abd9ea280042b1dd1bc76bdff9aa05b7a284dfdb,14,5,2,17685,,,0,"Fix sphinx-docs job

build-openstack-sphinx-docs jobs fail on all branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to pip.

Note: This commit includes the following unrelated changes
to pass the gate.
(Actually I2d125ce2251473f896fc251b8fa51cfa29721850 might not
be necessary on this branch. But I included it as it was a part
of the original commit on master.)
----------------------------------------
Pin rally to 0.12.1

Rally plugin after version 0.12.1 installs the new and latest
rally-openstack, which has higher requirements of packages and is not
constrained by pike's upper-constraints.txt during installation. This
causes problem on stable/pike and older stable branches: keystone
service is not able to start (ContextualVersionConflict, see
screen-keystone.txt)

The patch that introduced the new behaviour:
https://review.openstack.org/#/c/575064/4/devstack/lib/rally

Backport Note(yamamoto): Applied to rally-v2 job too.
----------------------------------------
Disable failing style checks (W503, E402) for now.

I (yamamoto) guess they are new with pycodestyle 2.4.0.

Related-Bug: #1762795
Change-Id: Ib35d0718bf1410dc8e5c10bb185a00837f2d8b52
----------------------------------------
Add dummy docstrings to avoid Sphinx 1.7.x warnings

We need to workaround this locally because:
- It's unclear how long os-vif patch [1] will take
  to be merged.
- While Neutron patch [2] has been merged, docs build on
  gate is using released versions of dependencies.

The idea was taken from keystone. [3]

[1] https://review.openstack.org/#/c/577028/
[2] https://review.openstack.org/#/c/577029/
[3] https://review.openstack.org/#/c/578121/

Related-Bug: #1771092
Change-Id: I2d125ce2251473f896fc251b8fa51cfa29721850
----------------------------------------

Conflicting file:
  tox.ini - from upper-constraints we need stable/ocata here, which is
      already set
  rally-jobs/plugins/network_plugin.py - because rally has to be pinned,
      the ""Port rally plugins to use proper modules"" part of the
      backport has to be left out
  midonet/neutron/db/l3_db_midonet.py - changed between ocata and pike
  midonet/os_vif/vif_midonet.py - new file in pike, so removed

Co-Authored-By: eeldill <elod.illes@ericsson.com>
Co-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>
Co-Authored-By: OpenStack Release Bot <infra-root@openstack.org>
Co-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>
Change-Id: I69663be876def03f47594c838591cfdb10d00871
(cherry picked from commit f24c41935cf010e319a8e0e3826f145774a81d6c)
(cherry picked from commit ae2ed9a6dff37d9b04525643c8fe8dc76766a225)
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/21/590421/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', '.zuul.yaml', 'midonet/neutron/db/l3_db_midonet.py', 'tox.ini']",4,02f93a2c2d18f5c5a03e85f63230df81fa638e28,bug/1762795,"# W503 line break before binary operator # E402 module level import not at top of file ignore = E125,E126,E128,H404,H405,N530,W503,E402","ignore = E125,E126,E128,H404,H405,N530",20,2
openstack%2Foslo.messaging~stable%2Fqueens~I3c42f8463605927f6f94d6c3a7f05e584476abc1,openstack/oslo.messaging,stable/queens,I3c42f8463605927f6f94d6c3a7f05e584476abc1,Do not access the connection's socket during error callback,MERGED,2018-09-26 03:33:57.000000000,2018-10-05 14:06:49.000000000,2018-10-05 14:06:49.000000000,"[{'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-26 03:33:57.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/34b2931f08df8e435a7e18060ff45c4dca56574a', 'message': ""Do not access the connection's socket during error callback\n\nThe _get_connection_info() method attempts to gather debug information\nfrom the connection, and will reach into the amqp channel to get the\nlocal (client's) TCP port number via the 'sock' property.\n\nIf _get_connection_info() is called from autoretry's on_error handler\nthe 'sock' property notices that the transport is not set and attempts\nto re-connect.  amqp has deprecated this reconnect behavior, and in\nany case the client's socket is irrelevant since the connection may\nnot be valid at this point.\n\nCloses-Bug: #1745166\nChange-Id: I3c42f8463605927f6f94d6c3a7f05e584476abc1\n(cherry picked from commit 361669764fd28b4f6d5f1c6896624f2da4ff5151)\n""}]",0,605322,34b2931f08df8e435a7e18060ff45c4dca56574a,7,3,1,6593,,,0,"Do not access the connection's socket during error callback

The _get_connection_info() method attempts to gather debug information
from the connection, and will reach into the amqp channel to get the
local (client's) TCP port number via the 'sock' property.

If _get_connection_info() is called from autoretry's on_error handler
the 'sock' property notices that the transport is not set and attempts
to re-connect.  amqp has deprecated this reconnect behavior, and in
any case the client's socket is irrelevant since the connection may
not be valid at this point.

Closes-Bug: #1745166
Change-Id: I3c42f8463605927f6f94d6c3a7f05e584476abc1
(cherry picked from commit 361669764fd28b4f6d5f1c6896624f2da4ff5151)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/22/605322/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,34b2931f08df8e435a7e18060ff45c4dca56574a,bug/1745166," info.update(self._get_connection_info(conn_error=True)) '%(sleep_time)d seconds.'), info) def _get_connection_info(self, conn_error=False): # Bug #1745166: set 'conn_error' true if this is being called when the # connection is in a known error state. Otherwise attempting to access # the connection's socket while it is in an error state will cause # py-amqp to attempt reconnecting. if (not conn_error and self.channel and hasattr(self.channel.connection, 'sock')"," info.update(self._get_connection_info()) '%(sleep_time)d seconds. Client port: ' '%(client_port)s'), info) def _get_connection_info(self): if (self.channel and hasattr(self.channel.connection, 'sock')",9,5
openstack%2Fopenstackdocstheme~master~I594136a0ea66d61f60dafc6a853137470efc7d42,openstack/openstackdocstheme,master,I594136a0ea66d61f60dafc6a853137470efc7d42,Add starlingxdocs theme support,MERGED,2018-10-02 16:12:29.000000000,2018-10-05 14:03:52.000000000,2018-10-05 07:38:10.000000000,"[{'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 29039}]","[{'number': 1, 'created': '2018-10-02 16:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/b5dd9152c56f5f6b113a538ffa2c3287b3749bf4', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 2, 'created': '2018-10-03 20:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/d463e520bfdb96a4dc066f132e81f6b27926fe78', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 3, 'created': '2018-10-03 21:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/a1a04ebe7fd1a825c62e989ea96cc2388beed5c4', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 4, 'created': '2018-10-03 21:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/f4839dc7a897eb1d535285f88242a635eb5e8c62', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 5, 'created': '2018-10-04 02:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/8f79880dc025a6be3f21a3410ef97f7aaa0461c4', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 6, 'created': '2018-10-04 02:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/a8372da8c4939c945ab27523173d2086b58b899f', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 7, 'created': '2018-10-04 13:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/a96b807baabf40fb84327fd2abadb6d3935e99ed', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nModify the wording in README.rst and the docs index page regarding\nthe distinction between openstackdocstheme the module and openstackdocs\nand starlingxdocs the themes and their intended uses.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 8, 'created': '2018-10-04 15:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/bf3e2da3985b71bc774bdd6e87c5bdca17da0cb4', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nModify the wording in README.rst and the docs index page regarding\nthe distinction between openstackdocstheme the module and openstackdocs\nand starlingxdocs the themes and their intended uses.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 9, 'created': '2018-10-04 18:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/539d1da62dda2d3d800820e00a5f9bcf9c3790d4', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nModify the wording in README.rst and the docs index page regarding\nthe distinction between openstackdocstheme the module and openstackdocs\nand starlingxdocs the themes and their intended uses.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 10, 'created': '2018-10-04 23:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/323c9ae1a14b1efd843b81dac04e6eb708255e54', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nModify the wording in README.rst and the docs index page regarding\nthe distinction between openstackdocstheme the module and openstackdocs\nand starlingxdocs the themes and their intended uses.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChanges to theme files in starlingx theme so linked items do not try\nand go off to the openstack locations.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\nSigned-off-by: Scott Rifenbark <srifenbark@gmail.com>\n'}, {'number': 11, 'created': '2018-10-05 02:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/abcca274cca86a92e3c67473a5b08953a0739d09', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nModify the wording in README.rst and the docs index page regarding\nthe distinction between openstackdocstheme the module and openstackdocs\nand starlingxdocs the themes and their intended uses.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 12, 'created': '2018-10-05 06:32:54.000000000', 'files': ['openstackdocstheme/theme/openstackdocs_pdf/logo-full.png', 'openstackdocstheme/ext.py', 'openstackdocstheme/theme/starlingxdocs/static/images/StarlingX_Logo_RGB_Stacked_2color.svg', 'openstackdocstheme/theme/starlingxdocs/theme.conf', 'openstackdocstheme/paths.py', 'README.rst', '.zuul.yaml', 'openstackdocstheme/theme/starlingxdocs/static/images/StarlingX_Logo_RGB_Stacked_2color.png', 'openstackdocstheme/theme/openstackdocs/static/images/logo-full.png', 'doc/source/index.rst', 'openstackdocstheme/theme/openstackdocs/static/images/logo-vert.png', 'openstackdocstheme/theme/starlingxdocs/static/images/StarlingX_Logo_RGB_Horizontal_2color.png', 'openstackdocstheme/theme/starlingxdocs/static/images/StarlingX_Logo_RGB_Horizontal_2color.svg', 'openstackdocstheme/theme/starlingxdocs_pdf/pdftheme.sty', 'openstackdocstheme/theme/starlingxdocs_pdf/logo-full.png', 'openstackdocstheme/theme/starlingxdocs/static/images/logo-full.png', 'releasenotes/notes/add-starlingxdocs-10a33318f8630486.yaml', 'openstackdocstheme/theme/starlingxdocs/static/images/logo-vert.png', 'tox.ini', 'openstackdocstheme/theme/starlingxdocs/static/css/combined.css', 'openstackdocstheme/theme/starlingxdocs/static/images/logo-vert.svg', 'openstackdocstheme/theme/starlingxdocs_pdf/logo-full.svg', 'openstackdocstheme/theme/starlingxdocs/static/images/logo-full.svg'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/b0166265a881ae8d46553b452cffe517bb5889a6', 'message': 'Add starlingxdocs theme support\n\nAt the PTG the Docs team and dhellmann decided that openstackdocstheme\nwas the proper place to keep the modifications required to build\na theme for StarlingX and other OpenStack Foundation-related projects.\n\nThis is a minimal set of changes to support a second theme with a couple\nof visual changes thrown in to make obvious that the correct theme\nis being used. The remainder of the visual work will follow.\nBoth PNG and SVG versions of the logo are included.\n\nAdd an additional jobs to build the docs and PDF with the new theme.\n\nModify the wording in README.rst and the docs index page regarding\nthe distinction between openstackdocstheme the module and openstackdocs\nand starlingxdocs the themes and their intended uses.\n\nThere are a number of hard-coded OpenStack-isms that will eventually\nneed to be addressed.\n\nChange-Id: I594136a0ea66d61f60dafc6a853137470efc7d42\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}]",14,607298,b0166265a881ae8d46553b452cffe517bb5889a6,42,7,12,970,,,0,"Add starlingxdocs theme support

At the PTG the Docs team and dhellmann decided that openstackdocstheme
was the proper place to keep the modifications required to build
a theme for StarlingX and other OpenStack Foundation-related projects.

This is a minimal set of changes to support a second theme with a couple
of visual changes thrown in to make obvious that the correct theme
is being used. The remainder of the visual work will follow.
Both PNG and SVG versions of the logo are included.

Add an additional jobs to build the docs and PDF with the new theme.

Modify the wording in README.rst and the docs index page regarding
the distinction between openstackdocstheme the module and openstackdocs
and starlingxdocs the themes and their intended uses.

There are a number of hard-coded OpenStack-isms that will eventually
need to be addressed.

Change-Id: I594136a0ea66d61f60dafc6a853137470efc7d42
Signed-off-by: Dean Troyer <dtroyer@gmail.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/98/607298/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/starlingxdocs/header.html', 'openstackdocstheme/ext.py', 'openstackdocstheme/theme/starlingxdocs/theme.conf', 'openstackdocstheme/paths.py', 'openstackdocstheme/theme/starlingxdocs/titlerow.html', 'openstackdocstheme/theme/starlingxdocs/static/css/combined.css', 'openstackdocstheme/theme/starlingxdocs/static/images/logo-full.svg']",7,b5dd9152c56f5f6b113a538ffa2c3287b3749bf4,stx-theme,"<svg id=""Layer_1"" data-name=""Layer 1"" xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 168.39 36""><defs><style>.cls-1{fill:#685bc7;}.cls-2{fill:#330072;}</style></defs><title>StarlingX_Logo_RGB_Horizontal_2color</title><polygon class=""cls-1"" points=""19.53 7.03 14.26 0 0 0 12.4 16.53 19.53 7.03""/><path class=""cls-1"" d=""M78.17,78.48,86.8,90h14.26L88.6,73.38A16.76,16.76,0,0,1,78.17,78.48Z"" transform=""translate(-59.8 -54)""/><path class=""cls-2"" d=""M91.71,54a9.23,9.23,0,0,0-7.24,3.11L73.71,71.46c6.4,0,7.69-1,11.6-6.1l.82-1.1a4.34,4.34,0,0,1,3.49-1.76l-2.9,3.93c-4.26,5.51-6,6.79-13.43,6.79H72.4L59.8,90h3.09a9.37,9.37,0,0,0,6.72-3.08l7.62-10.17h.11a14.79,14.79,0,0,0,11.08-5.89l7.8-10.41a15.94,15.94,0,0,1,4.84-4.07,26.77,26.77,0,0,0-5.29-1.32C94.53,54,91.71,54,91.71,54Z"" transform=""translate(-59.8 -54)""/><path class=""cls-2"" d=""M110.88,70.86c-2-.52-2.51-.77-2.51-1.53v0c0-.57.51-1,1.49-1a5.49,5.49,0,0,1,3,1.15l1.33-1.93A6.75,6.75,0,0,0,109.9,66c-2.38,0-4.07,1.39-4.07,3.5v0c0,2.31,1.51,3,3.85,3.55,1.94.5,2.34.83,2.34,1.48v0c0,.68-.63,1.1-1.68,1.1a5.33,5.33,0,0,1-3.46-1.41l-1.51,1.8A7.35,7.35,0,0,0,110.29,78c2.51,0,4.27-1.29,4.27-3.6v0C114.56,72.32,113.23,71.47,110.88,70.86Z"" transform=""translate(-59.8 -54)""/><polygon class=""cls-2"" points=""59.06 14.55 62.59 14.55 62.59 23.81 65.15 23.81 65.15 14.55 68.68 14.55 68.68 12.19 59.06 12.19 59.06 14.55""/><path class=""cls-2"" d=""M136.09,66.11l-5,11.7h2.61l1.06-2.61h4.91l1.06,2.61h2.67l-5-11.7Zm-.4,6.84,1.55-3.77L138.78,73Z"" transform=""translate(-59.8 -54)""/><path class=""cls-2"" d=""M158.06,70.06v0a3.64,3.64,0,0,0-1-2.66,4.65,4.65,0,0,0-3.39-1.18h-5.3V77.81h2.55V74.09h2l2.49,3.72h3l-2.83-4.15A3.61,3.61,0,0,0,158.06,70.06Zm-2.58.13c0,1-.72,1.64-2,1.64h-2.59V68.5h2.54c1.24,0,2,.56,2,1.66Z"" transform=""translate(-59.8 -54)""/><polygon class=""cls-2"" points=""106.28 12.19 103.73 12.19 103.73 23.81 112.07 23.81 112.07 21.48 106.28 21.48 106.28 12.19""/><rect class=""cls-2"" x=""117.27"" y=""12.19"" width=""2.55"" height=""11.61""/><polygon class=""cls-2"" points=""133.68 19.34 128.24 12.19 125.89 12.19 125.89 23.81 128.41 23.81 128.41 16.42 134.03 23.81 136.21 23.81 136.21 12.19 133.68 12.19 133.68 19.34""/><path class=""cls-2"" d=""M207.47,73.33H210V75a4.12,4.12,0,0,1-2.41.69A3.48,3.48,0,0,1,204.12,72v0a3.48,3.48,0,0,1,3.33-3.62,4.29,4.29,0,0,1,3,1.18l1.6-1.94a6.37,6.37,0,0,0-4.56-1.6,6,6,0,0,0-6.09,6v0a5.82,5.82,0,0,0,6.11,6,7.52,7.52,0,0,0,5-1.85v-5h-5Z"" transform=""translate(-59.8 -54)""/><polygon class=""cls-2"" points=""164.34 17.87 168.22 12.19 165.32 12.19 162.85 15.96 160.43 12.19 157.44 12.19 161.32 17.9 157.28 23.81 160.18 23.81 162.8 19.83 165.41 23.81 168.39 23.81 164.34 17.87""/></svg>",,4672,3
openstack%2Fnova~master~Ia8809d276c14013c94d84efcfdc0b0eafb303c57,openstack/nova,master,Ia8809d276c14013c94d84efcfdc0b0eafb303c57,Remove error-masking try/except from _run_migration,ABANDONED,2018-09-05 14:41:29.000000000,2018-10-05 14:02:13.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 25562}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-05 14:41:29.000000000', 'files': ['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca21d5b74429d3514b1c36173d49848e569a2b1', 'message': ""Remove error-masking try/except from _run_migration\n\nAs noted in change I9d97b7a904e2b7d15c763e2a067cc5909cc6c9c5,\nif we hit errors in an online data migration method, those\nerrors are logged but masked from the overall result of the\nonline data migration run. So it's possible to get a 0 exit\ncode thinking you've done all of the online data migrations\neven though one might have never run properly because of a bug.\n\nThere is likely no good reason for the blanket try/except in\nthe _run_migration method; it's been there since the code was\nwritten. This change removes it because if a migration method\nhas an exception, we should halt the migration operation rather\nthan log and semi-silently pass. Furthermore, failing with a\nstacktrace is likely advantageous since these things shouldn't\nfail but if they do, we probably need a stacktrace to help\ndebug the root issue.\n\nChange-Id: Ia8809d276c14013c94d84efcfdc0b0eafb303c57\nRelated-Bug: #1790701\n""}]",1,600085,6ca21d5b74429d3514b1c36173d49848e569a2b1,17,15,1,6873,,,0,"Remove error-masking try/except from _run_migration

As noted in change I9d97b7a904e2b7d15c763e2a067cc5909cc6c9c5,
if we hit errors in an online data migration method, those
errors are logged but masked from the overall result of the
online data migration run. So it's possible to get a 0 exit
code thinking you've done all of the online data migrations
even though one might have never run properly because of a bug.

There is likely no good reason for the blanket try/except in
the _run_migration method; it's been there since the code was
written. This change removes it because if a migration method
has an exception, we should halt the migration operation rather
than log and semi-silently pass. Furthermore, failing with a
stacktrace is likely advantageous since these things shouldn't
fail but if they do, we probably need a stacktrace to help
debug the root issue.

Change-Id: Ia8809d276c14013c94d84efcfdc0b0eafb303c57
Related-Bug: #1790701
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/600085/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",2,6ca21d5b74429d3514b1c36173d49848e569a2b1,bug/1790701," found, done = migration_meth(ctxt, count)"," try: found, done = migration_meth(ctxt, count) except Exception: print(_(""Error attempting to run %(method)s"") % dict( method=migration_meth)) found = done = 0 ",4,9
openstack%2Fopenstack-ansible-lxc_hosts~master~Ia3f91544b5f60592c44a2970e983df8bbe829e3a,openstack/openstack-ansible-lxc_hosts,master,Ia3f91544b5f60592c44a2970e983df8bbe829e3a,fix tox python3 overrides,MERGED,2018-09-30 03:05:14.000000000,2018-10-05 14:00:46.000000000,2018-10-03 18:14:40.000000000,"[{'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-09-30 03:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1ef5a18096aed83b96baac5b5f0769c0dceda74a', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ia3f91544b5f60592c44a2970e983df8bbe829e3a\n'}, {'number': 2, 'created': '2018-09-30 12:06:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c52fe44cb20af32d0b6c1f8748c7cf3f5dd9d230', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Ia3f91544b5f60592c44a2970e983df8bbe829e3a\n'}]",0,606765,c52fe44cb20af32d0b6c1f8748c7cf3f5dd9d230,10,3,2,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ia3f91544b5f60592c44a2970e983df8bbe829e3a
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/65/606765/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1ef5a18096aed83b96baac5b5f0769c0dceda74a,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Ftripleo-heat-templates~master~I8a51c9d2cf6a003e9a2234995fc766f9bafa3004,openstack/tripleo-heat-templates,master,I8a51c9d2cf6a003e9a2234995fc766f9bafa3004,Fix misleading Ansible log message,ABANDONED,2018-10-02 13:04:14.000000000,2018-10-05 13:46:03.000000000,,"[{'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-10-02 13:04:14.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98648eecbf0824fbe936d957176fb674d65dee4d', 'message': 'Fix misleading Ansible log message\n\nWe print the task output always, not only when the step fails, so the\nmessage was misleading.\n\nChange-Id: I8a51c9d2cf6a003e9a2234995fc766f9bafa3004\n'}]",3,607179,98648eecbf0824fbe936d957176fb674d65dee4d,16,7,1,8042,,,0,"Fix misleading Ansible log message

We print the task output always, not only when the step fails, so the
message was misleading.

Change-Id: I8a51c9d2cf6a003e9a2234995fc766f9bafa3004
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/607179/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,98648eecbf0824fbe936d957176fb674d65dee4d,misleading-output," - name: ""Debug output for task: Run puppet host configuration for step {{ step }}"" - name: ""Debug output for task: Run docker-puppet tasks (generate config) during step {{ step }}"" - name: ""Debug output for task: Start containers for step {{ step }}"" - name: ""Debug output for task: Run docker-puppet tasks (bootstrap tasks) for step {{ step }}"""," - name: ""Debug output for task which failed: Run puppet host configuration for step {{ step }}"" - name: ""Debug output for task which failed: Run docker-puppet tasks (generate config) during step {{ step }}"" - name: ""Debug output for task which failed: Start containers for step {{ step }}"" - name: ""Debug output for task which failed: Run docker-puppet tasks (bootstrap tasks) for step {{ step }}""",4,4
openstack%2Fnova~master~Ibd84f8af35fc0090899ff5a078b515927db413c9,openstack/nova,master,Ibd84f8af35fc0090899ff5a078b515927db413c9,Make NetworkAPI an abstract base class,ABANDONED,2018-04-11 14:25:12.000000000,2018-10-05 13:43:47.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-11 14:25:12.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/network/api.py', 'nova/network/base_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8d9b3a51f3d4321e7fcba88bcd5738986f843a67', 'message': ""Make NetworkAPI an abstract base class\n\nThis helps prevent some really basic validation errors when extending\nthe API and should help as we strip out nova-network. There weren't as\nmany issues as I suspected there would be but the idea is sound.\n\nChange-Id: Ibd84f8af35fc0090899ff5a078b515927db413c9\n""}]",0,560440,8d9b3a51f3d4321e7fcba88bcd5738986f843a67,15,13,1,15334,,,0,"Make NetworkAPI an abstract base class

This helps prevent some really basic validation errors when extending
the API and should help as we strip out nova-network. There weren't as
many issues as I suspected there would be but the idea is sound.

Change-Id: Ibd84f8af35fc0090899ff5a078b515927db413c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/560440/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/network/api.py', 'nova/network/base_api.py']",3,8d9b3a51f3d4321e7fcba88bcd5738986f843a67,trivial,import abcimport six@six.add_metaclass(abc.ABCMeta) @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod pass @abc.abstractmethod, raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() raise NotImplementedError() ,104,46
openstack%2Fnova~master~I898953ce55d3a558c3a0395866df7c38ef9a7a4f,openstack/nova,master,I898953ce55d3a558c3a0395866df7c38ef9a7a4f,zuul: Add 'mypy' job,ABANDONED,2018-01-30 10:00:35.000000000,2018-10-05 13:43:27.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-30 10:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa1e9ce43ff10d722fc783530f96c51667ba5d7f', 'message': ""zuul: Add 'mypy' job\n\nChange-Id: I898953ce55d3a558c3a0395866df7c38ef9a7a4f\n""}, {'number': 2, 'created': '2018-02-16 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca3d9e5cfc062de9acb593214231b86af87a6699', 'message': ""zuul: Add 'mypy' job\n\nChange-Id: I898953ce55d3a558c3a0395866df7c38ef9a7a4f\n""}, {'number': 3, 'created': '2018-03-02 15:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/758a89bef8674694284e65c5063d32a057bf3141', 'message': ""zuul: Add 'mypy' job\n\nChange-Id: I898953ce55d3a558c3a0395866df7c38ef9a7a4f\n""}, {'number': 4, 'created': '2018-03-26 14:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f366bf3144c280a7788c61670d08a3a3534a8d2', 'message': ""zuul: Add 'mypy' job\n\nChange-Id: I898953ce55d3a558c3a0395866df7c38ef9a7a4f\n""}, {'number': 5, 'created': '2018-05-09 10:29:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd668bc182879a826085f35bd203f97ea4aaf7cc', 'message': ""zuul: Add 'mypy' job\n\nChange-Id: I898953ce55d3a558c3a0395866df7c38ef9a7a4f\n""}]",0,539168,bd668bc182879a826085f35bd203f97ea4aaf7cc,52,14,5,15334,,,0,"zuul: Add 'mypy' job

Change-Id: I898953ce55d3a558c3a0395866df7c38ef9a7a4f
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/539168/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aa1e9ce43ff10d722fc783530f96c51667ba5d7f,bp/integrate-mypy-type-checking,"# TODO(stephenfin): We may wish to move this to openstack-zuul-jobs in the # future, depending on uptake - job: name: nova-openstack-tox-mypy parent: openstack-tox description: | Runs code type checks. This required Python 3. Uses tox with the ``mypy`` environment. irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ vars: tox_envlist: mypy bindep_profile: test py35 check: jobs: - nova-openstack-tox-mypy gate: queue: integrated jobs: - nova-openstack-tox-mypy",,24,0
openstack%2Fnova~master~I354073429e5e824c73d00efbd77432824a2663c4,openstack/nova,master,I354073429e5e824c73d00efbd77432824a2663c4,mypy: Add type annotations to 'nova.pci',ABANDONED,2018-01-26 11:41:51.000000000,2018-10-05 13:43:20.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-26 11:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c6c57a6ed66c8cc48286042d29665b22ecd9a0d', 'message': ""mypy: Add type annotations to 'nova.pci'\n\nThe 'nova.pci' module is poorly understood and difficult to debug.\nStart adding type hints to make this a little easier to parse and catch\ndumb errors. Some code needs to be reworked to make 'mypy' happy, but\nit's mostly just type annotations.\n\nUnfortunately we need to mark the type imports and 'noqa' until such a\ntime as 'flake8' gains support for this feature. For more information,\nrefer to:\n\n- https://github.com/PyCQA/pyflakes/issues/247\n- https://gitlab.com/pycqa/flake8/issues/118\n\nChange-Id: I354073429e5e824c73d00efbd77432824a2663c4\n""}, {'number': 2, 'created': '2018-01-29 16:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/342dfefc18711ef8634901ebb9cc0220e1fa06f4', 'message': ""mypy: Add type annotations to 'nova.pci'\n\nThe 'nova.pci' module is poorly understood and difficult to debug.\nStart adding type hints to make this a little easier to parse and catch\ndumb errors. Some code needs to be reworked to make 'mypy' happy, but\nit's mostly just type annotations.\n\nUnfortunately we need to mark the type imports and 'noqa' until such a\ntime as 'flake8' gains support for this feature. For more information,\nrefer to:\n\n- https://github.com/PyCQA/pyflakes/issues/247\n- https://gitlab.com/pycqa/flake8/issues/118\n\nChange-Id: I354073429e5e824c73d00efbd77432824a2663c4\n""}, {'number': 3, 'created': '2018-02-16 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f116f84fea8db9db6c1f8e3e6cd14332a984b900', 'message': ""mypy: Add type annotations to 'nova.pci'\n\nThe 'nova.pci' module is poorly understood and difficult to debug.\nStart adding type hints to make this a little easier to parse and catch\ndumb errors. Some code needs to be reworked to make 'mypy' happy, but\nit's mostly just type annotations.\n\nUnfortunately we need to mark the type imports and 'noqa' until such a\ntime as 'flake8' gains support for this feature. For more information,\nrefer to:\n\n- https://github.com/PyCQA/pyflakes/issues/247\n- https://gitlab.com/pycqa/flake8/issues/118\n\nChange-Id: I354073429e5e824c73d00efbd77432824a2663c4\n""}, {'number': 4, 'created': '2018-03-02 15:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b128b78d684a130f46971cb0468b60dc5d64bf66', 'message': ""mypy: Add type annotations to 'nova.pci'\n\nThe 'nova.pci' module is poorly understood and difficult to debug.\nStart adding type hints to make this a little easier to parse and catch\ndumb errors. Some code needs to be reworked to make 'mypy' happy, but\nit's mostly just type annotations.\n\nUnfortunately we need to mark the type imports and 'noqa' until such a\ntime as 'flake8' gains support for this feature. For more information,\nrefer to:\n\n- https://github.com/PyCQA/pyflakes/issues/247\n- https://gitlab.com/pycqa/flake8/issues/118\n\nChange-Id: I354073429e5e824c73d00efbd77432824a2663c4\n""}, {'number': 5, 'created': '2018-03-26 14:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/deae756884e7cc73edea714dab0fd5af4d25d532', 'message': ""mypy: Add type annotations to 'nova.pci'\n\nThe 'nova.pci' module is poorly understood and difficult to debug.\nStart adding type hints to make this a little easier to parse and catch\ndumb errors. Some code needs to be reworked to make 'mypy' happy, but\nit's mostly just type annotations.\n\nUnfortunately we need to mark the type imports and 'noqa' until such a\ntime as 'flake8' gains support for this feature. For more information,\nrefer to:\n\n- https://github.com/PyCQA/pyflakes/issues/247\n- https://gitlab.com/pycqa/flake8/issues/118\n\nChange-Id: I354073429e5e824c73d00efbd77432824a2663c4\n""}, {'number': 6, 'created': '2018-05-09 10:29:16.000000000', 'files': ['nova/pci/manager.py', 'nova/pci/devspec.py', 'nova/pci/utils.py', 'nova/pci/request.py', 'mypy-files.txt', 'nova/pci/stats.py', 'nova/pci/whitelist.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f568b0a06f3364bf23b0a348f0833aace70d990', 'message': ""mypy: Add type annotations to 'nova.pci'\n\nThe 'nova.pci' module is poorly understood and difficult to debug.\nStart adding type hints to make this a little easier to parse and catch\ndumb errors. Some code needs to be reworked to make 'mypy' happy, but\nit's mostly just type annotations.\n\nUnfortunately we need to mark the type imports and 'noqa' until such a\ntime as 'flake8' gains support for this feature. For more information,\nrefer to:\n\n- https://github.com/PyCQA/pyflakes/issues/247\n- https://gitlab.com/pycqa/flake8/issues/118\n\nChange-Id: I354073429e5e824c73d00efbd77432824a2663c4\n""}]",5,538224,1f568b0a06f3364bf23b0a348f0833aace70d990,93,15,6,15334,,,0,"mypy: Add type annotations to 'nova.pci'

The 'nova.pci' module is poorly understood and difficult to debug.
Start adding type hints to make this a little easier to parse and catch
dumb errors. Some code needs to be reworked to make 'mypy' happy, but
it's mostly just type annotations.

Unfortunately we need to mark the type imports and 'noqa' until such a
time as 'flake8' gains support for this feature. For more information,
refer to:

- https://github.com/PyCQA/pyflakes/issues/247
- https://gitlab.com/pycqa/flake8/issues/118

Change-Id: I354073429e5e824c73d00efbd77432824a2663c4
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/538224/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/pci/devspec.py', 'nova/pci/utils.py', 'nova/pci/request.py', 'nova/pci/stats.py', 'nova/pci/whitelist.py']",6,8c6c57a6ed66c8cc48286042d29665b22ecd9a0d,bp/integrate-mypy-type-checking,"if False: # For type annotation from nova import objects # noqa import typing # noqa # type: (str) -> None # type: (str) -> typing.List[devspec.PciDeviceSpec] # type: (typing.Dict[str, str]) -> bool # type: (objects.PciDevice) -> typing.Optional[devspec.PciDeviceSpec] return None",,241,70
openstack%2Fnova~master~If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7,openstack/nova,master,If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7,tox: Store list of converted files,ABANDONED,2018-01-26 11:41:51.000000000,2018-10-05 13:43:18.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-26 11:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f67d72e38dd9cdabe9d54111e684992c8d4375f8', 'message': ""tox: Store list of converted files\n\nThis means we don't need to always provide arguments to this function.\n\nChange-Id: If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2018-02-16 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa1d6321dedab02c2b37b149239246f4dfe92ad4', 'message': ""tox: Store list of converted files\n\nThis means we don't need to always provide arguments to this function.\n\nChange-Id: If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7\n""}, {'number': 3, 'created': '2018-03-02 15:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f350af17992150ef1cb3230798ec2371fc1f8da6', 'message': ""tox: Store list of converted files\n\nThis means we don't need to always provide arguments to this function.\n\nChange-Id: If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7\n""}, {'number': 4, 'created': '2018-03-26 14:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f144246601bc96de7fa15869cb5fdb4c5a75f36e', 'message': ""tox: Store list of converted files\n\nThis means we don't need to always provide arguments to this function.\n\nChange-Id: If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7\n""}, {'number': 5, 'created': '2018-05-09 10:29:16.000000000', 'files': ['tools/mypywrap.sh', 'mypy-files.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/280bfb9f0574e97ffb18f2f64eda925ea88e12b7', 'message': ""tox: Store list of converted files\n\nThis means we don't need to always provide arguments to this function.\n\nChange-Id: If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7\n""}]",0,538222,280bfb9f0574e97ffb18f2f64eda925ea88e12b7,71,14,5,15334,,,0,"tox: Store list of converted files

This means we don't need to always provide arguments to this function.

Change-Id: If684d1bf384bb3f5c0d939c6d5e17f0c7eb2b6a7
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/538222/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/mypywrap.sh', 'mypy-files.txt', 'tox.ini']",3,f67d72e38dd9cdabe9d54111e684992c8d4375f8,bp/integrate-mypy-type-checking, bash tools/mypywrap.sh {posargs}, mypy {posargs},24,1
openstack%2Fnova~master~Ia8e95bcb9937505b513528926b58a0db7c90aa66,openstack/nova,master,Ia8e95bcb9937505b513528926b58a0db7c90aa66,tox: Add mypy target,ABANDONED,2018-01-26 11:41:51.000000000,2018-10-05 13:43:16.000000000,,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-26 11:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86b99ba6285ebe609a2b33a116b3e9ac1f9fef93', 'message': 'tox: Add mypy target\n\nmypy is an experimental optional static type checker for Python that\naims to combine the benefits of dynamic (or ""duck"") typing and static\ntyping.\n\nWhile still in development, most features are supported and it\'s already\nbeing used by real world projects like Sphinx. Let\'s start small by\nintegrating it into some of the interfaces that nova exposes. We can\nfurther build upon this if it works out.\n\nChange-Id: Ia8e95bcb9937505b513528926b58a0db7c90aa66\n'}, {'number': 2, 'created': '2018-02-16 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d689364422fd7a37f8f9e77874b7b0ae9ab5b8ad', 'message': 'tox: Add mypy target\n\nmypy is an experimental optional static type checker for Python that\naims to combine the benefits of dynamic (or ""duck"") typing and static\ntyping. While still in development, most features are supported and it\'s\nalready being used by real world projects like Sphinx. Let\'s start small\nby integrating it into some of the interfaces that nova exposes. We can\nfurther build upon this if it works out.\n\nThis change sets up the boilerplate necessary to use mypy in nova. Type\nannotations are not included for any module - these will be added\nseparately.\n\nChange-Id: Ia8e95bcb9937505b513528926b58a0db7c90aa66\n'}, {'number': 3, 'created': '2018-03-02 15:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed8f46db929ae6c9b8c48680f58a40a81f644a5f', 'message': 'tox: Add mypy target\n\nmypy is an experimental optional static type checker for Python that\naims to combine the benefits of dynamic (or ""duck"") typing and static\ntyping. While still in development, most features are supported and it\'s\nalready being used by real world projects like Sphinx. Let\'s start small\nby integrating it into some of the interfaces that nova exposes. We can\nfurther build upon this if it works out.\n\nThis change sets up the boilerplate necessary to use mypy in nova. Type\nannotations are not included for any module - these will be added\nseparately.\n\nChange-Id: Ia8e95bcb9937505b513528926b58a0db7c90aa66\n'}, {'number': 4, 'created': '2018-03-26 14:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/007515031857c5585afbd0645ea3b4bed8e673f9', 'message': 'tox: Add mypy target\n\nmypy is an experimental optional static type checker for Python that\naims to combine the benefits of dynamic (or ""duck"") typing and static\ntyping. While still in development, most features are supported and it\'s\nalready being used by real world projects like Sphinx. Let\'s start small\nby integrating it into some of the interfaces that nova exposes. We can\nfurther build upon this if it works out.\n\nThis change sets up the boilerplate necessary to use mypy in nova. Type\nannotations are not included for any module - these will be added\nseparately.\n\nChange-Id: Ia8e95bcb9937505b513528926b58a0db7c90aa66\n'}, {'number': 5, 'created': '2018-05-09 10:29:16.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/50c150d7cc788a42b6ef22bcedc3530b2fff33ce', 'message': 'tox: Add mypy target\n\nmypy is an experimental optional static type checker for Python that\naims to combine the benefits of dynamic (or ""duck"") typing and static\ntyping. While still in development, most features are supported and it\'s\nalready being used by real world projects like Sphinx. Let\'s start small\nby integrating it into some of the interfaces that nova exposes. We can\nfurther build upon this if it works out.\n\nThis change sets up the boilerplate necessary to use mypy in nova. Type\nannotations are not included for any module - these will be added\nseparately.\n\nChange-Id: Ia8e95bcb9937505b513528926b58a0db7c90aa66\n'}]",1,538221,50c150d7cc788a42b6ef22bcedc3530b2fff33ce,74,16,5,15334,,,0,"tox: Add mypy target

mypy is an experimental optional static type checker for Python that
aims to combine the benefits of dynamic (or ""duck"") typing and static
typing. While still in development, most features are supported and it's
already being used by real world projects like Sphinx. Let's start small
by integrating it into some of the interfaces that nova exposes. We can
further build upon this if it works out.

This change sets up the boilerplate necessary to use mypy in nova. Type
annotations are not included for any module - these will be added
separately.

Change-Id: Ia8e95bcb9937505b513528926b58a0db7c90aa66
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/538221/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'setup.cfg', 'tox.ini']",4,86b99ba6285ebe609a2b33a116b3e9ac1f9fef93,bp/integrate-mypy-type-checking,[testenv:mypy] basepython = python3 deps= {[testenv]deps} commands= mypy {posargs} ,,32,0
openstack%2Fnova-specs~master~Ie16afe61807468df357d9e55ddb98513b7e4b643,openstack/nova-specs,master,Ie16afe61807468df357d9e55ddb98513b7e4b643,Integrate Mypy Type Checking,ABANDONED,2018-01-26 11:17:40.000000000,2018-10-05 13:43:14.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-26 11:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dee8bc838b1d8f7448ee7646f1a1d0507226f9f8', 'message': 'Integrate Mypy Type Checking\n\nChange-Id: Ie16afe61807468df357d9e55ddb98513b7e4b643\n'}, {'number': 2, 'created': '2018-01-30 09:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7702deaccc53df677e96b97a22db883a32340b68', 'message': 'Integrate Mypy Type Checking\n\nChange-Id: Ie16afe61807468df357d9e55ddb98513b7e4b643\n'}, {'number': 3, 'created': '2018-01-30 17:18:51.000000000', 'files': ['specs/rocky/approved/integrate-mypy-type-checking.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/91d96444cbc10c41fd4484684270c66f16d26628', 'message': 'Integrate Mypy Type Checking\n\nChange-Id: Ie16afe61807468df357d9e55ddb98513b7e4b643\n'}]",12,538217,91d96444cbc10c41fd4484684270c66f16d26628,17,6,3,15334,,,0,"Integrate Mypy Type Checking

Change-Id: Ie16afe61807468df357d9e55ddb98513b7e4b643
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/17/538217/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/integrate-mypy-type-checking.rst'],1,dee8bc838b1d8f7448ee7646f1a1d0507226f9f8,bp/integrate-mypy-type-checking,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================ Integrate Mypy Type Checking ============================ https://blueprints.launchpad.net/nova/+spec/integrate-mypy-type-checking Type checking provides numerous benefits for developers and users alike. Let's use it. Problem description =================== Python is the foundation that the entire OpenStack ecosystem is built on. Python provides a level of flexibility and ease-of-use that has allowed OpenStack to rapidly scale but it isn't without its issues. One of such issue is Python's use of dynamic, or *""duck""*, typing. While there are advantages to dynamic typing, mostly in the areas of flexibility and terseness, these advantages appear to morph into disadvantages as applications grow larger. By comparison, the advantages of static typing - programs that easier to understand, maintain, and test - become more important. `mypy`_ is an experimental, optional static type checker that has been in development for over six years [1]_. It provides a way to retrofit existing Python code with type hint, which can then be machine-checked. Not only does this mitigate a whole class of errors but it massively improves that ability of developers to understand and improve the code base. The *mypy* FAQs [2]_ suggest the following types of project would benefit from static typing and, by extension, *mypy*: * Your project is large or complex. * Your codebase must be maintained for a long time. * Multiple developers are working on the same code. * Running tests takes a lot of time or work (type checking may help you find errors early in development, reducing the number of testing iterations). * Some project members (devs or management) don't like dynamic typing, but others prefer dynamic typing and Python syntax. *mypy* could be a solution that everybody finds easy to accept. * You want to future-proof your project even if currently none of the above really apply. All of these apply to *nova*, making it a particularly good candidate for *mypy* integration. .. _mypy: http://mypy-lang.org/ Use Cases --------- * As an operator, I want to minimize the amount of latent bugs found in my deployments. * As a developer, I want my unit tests to run as fast as possible and reduce the number of tests needed for things like type checking. * As a developer, I want the code I'm working on to be as understandable and maintainable as possible. * As a developer, I want to ensure my tests actually validate code with the types of parameters it would encounter in production. Proposed change =============== Integration of *mypy* can be done in a piecemeal fashion, file by file. *mypy*\'s Python 2.7 compatible type annotations [3]_ will be used to maintain Python 2.7 compatibility. Where possible, the `pyannotate`_ tool can and should be used to generate type annotations in an automated manner. .. _pyannotate: https://github.com/dropbox/pyannotate Alternatives ------------ * We don't use static typing and live with this particular shortcoming of Python. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- Users will see fewer bugs. We will likely encounter some latent bugs as integration continues and these will be resolved without the end user ever encountering them. Performance Impact ------------------ None. *mypy* is optional and has basically no runtime overhead. Other deployer impact --------------------- None. Developer impact ---------------- There will be a substantial amount of churn in the code base as the initial type declarations are added. This will unfortunately result in some merge conflicts. Once type checks have been added to a file, developers will be expected to add type declarations to any new code and update type declarations for modified code. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: stephenfinucane Work Items ---------- 1. Add a ``mypy`` target to ``tox.ini``. This will read a list of files that have been updated with type hints. This file will initially be empty. 2. Add type hints to a file, starting with the more complicated code (``nova/pci``, anyone?). Add updated files to the list of files for *mypy* to validate. 3. Repeat step 2 until we have the worst offenders covered, everything covered, or we get bored. Dependencies ============ There is one hard dependency and one optional dependency: ``mypy`` The main tool itself. This is already available in global requirements [4]_. ``mypy_extensions`` This is necessary if we want things like ``TypedDict`` [5]_. It is not currently tracked in global requirements. Testing ======= We should run *mypy* in the gate. Documentation Impact ==================== Developer documentation should be updated to describe what *mypy* is an provide examples for usage. References ========== .. [1] https://github.com/python/mypy/commit/6f0826a9c16 .. [2] http://mypy.readthedocs.io/en/stable/faq.html .. [3] http://mypy.readthedocs.io/en/stable/python2.html .. [4] https://github.com/openstack/requirements/blob/8dc48120/upper-constraints.txt#L266 .. [5] http://mypy.readthedocs.io/en/latest/kinds_of_types.html#typeddict History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,213,0
openstack%2Fdevstack~master~I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11,openstack/devstack,master,I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11,"Remove 'python_version', 'python3_version' functions",ABANDONED,2018-01-18 15:28:57.000000000,2018-10-05 13:42:53.000000000,,"[{'_account_id': 1736}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-18 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/651a7336ad1c7c3ab9bdc9eca737a2b603e90bd3', 'message': ""Use 'python_version', 'python3_version' functions\n\nIt looks like this was missed in the original change [1]. There's a\nsmall typo in one of the functions so this is corrected.\n\n[1] Id826f275b99b9f397b95e817941019fc503daa1d\n\nChange-Id: I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11\n""}, {'number': 2, 'created': '2018-01-23 10:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/41b69dfb24150b62e8822001e6a433a2795f79e8', 'message': ""Remove 'python_version', 'python3_version' functions\n\nThese look like they should have been used starting with the original\nchange [1], but they were not. Instead, there's only two calls to one of\nthe functions, and the other function is uncalled and contains a typo.\nUpdate the two calling function to use the PYTHON variable instead and\njust remove these functions.\n\n[1] Id826f275b99b9f397b95e817941019fc503daa1d\n\nChange-Id: I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11\n""}, {'number': 3, 'created': '2018-05-15 10:25:06.000000000', 'files': ['lib/placement', 'functions-common', 'lib/keystone', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c1f20864875661bda2d24e4fa2ee17f8d1930acc', 'message': ""Remove 'python_version', 'python3_version' functions\n\nThese look like they should have been used starting with the original\nchange [1], but they were not. Instead, there's only two calls to one of\nthe functions, and the other function is uncalled and contains a typo.\nUpdate the two calling function to use the PYTHON variable instead and\njust remove these functions.\n\n[1] Id826f275b99b9f397b95e817941019fc503daa1d\n\nChange-Id: I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11\n""}]",3,535366,c1f20864875661bda2d24e4fa2ee17f8d1930acc,27,7,3,15334,,,0,"Remove 'python_version', 'python3_version' functions

These look like they should have been used starting with the original
change [1], but they were not. Instead, there's only two calls to one of
the functions, and the other function is uncalled and contains a typo.
Update the two calling function to use the PYTHON variable instead and
just remove these functions.

[1] Id826f275b99b9f397b95e817941019fc503daa1d

Change-Id: I92fb3eeb5a111c4c5a55ac4293611fa308e9ee11
",git fetch https://review.opendev.org/openstack/devstack refs/changes/66/535366/3 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'stackrc']",2,651a7336ad1c7c3ab9bdc9eca737a2b603e90bd3,bug/1744096,"_DEFAULT_PYTHON3_VERSION=""$(python3_version)""_DEFAULT_PYTHON2_VERSION=""$(python_version)""","_DEFAULT_PYTHON3_VERSION=""$(_get_python_version python3)""_DEFAULT_PYTHON2_VERSION=""$(_get_python_version python2)""",3,3
openstack%2Fnova~master~I1d9bf27f49306032929274446cf3952bd42e4f8c,openstack/nova,master,I1d9bf27f49306032929274446cf3952bd42e4f8c,rework how we pass candidate request information,ABANDONED,2018-05-03 21:21:51.000000000,2018-10-05 13:41:09.000000000,,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-03 21:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f1f56d6b43c1f0fae3a938a31b943b463d2f6dd', 'message': ""rework how we pass candidate request information\n\nOne thing that's been bothering me is the complexity that has slowly\nbeen creeping in to the AllocationCandidate.get_by_requests() code (and\nall the many functions that are called within it to match providers for\na particular request).\n\nA half dozen functions in the resource_provider.py file were accepting\nthese long lists of parameters -- dicts of requested resource to\namounts, dicts of required and forbidden trait name to ID maps, lists of\nlists of aggregate UUIDs, etc.\n\nI wanted to create an object that tied together related request/matching\npolicy information but didn't place that information in one of the\nversioned objects. The versioned objects are supposed to be as close to\nplain-old-data structures as possible, and adding fields to them that\ncontrol matching logic or that indicate some policy with regards to\ngrouping of providers just seemed to be wrong coupling.\n\nSo, this patch introduces the MatchSpec object. This MatchSpec object is\nconstructed from a list of RequestGroup objects. Upon construction, the\nrequest groups are inspected and a series of translation maps created\nthat allow individual components of a request group to be queried. This\nallowed me to simplify the function signatures of a half dozen or so\nmodule-level functions to just accept this MatchSpec object instead of\nthe many dictish parameters.\n\nHopefully, when we add the granular request groups functionality, this\nMatchSpec object can be used to store various pieces of state\ninformation as the allocation candidates are selected, filtered, and\nmerged depending on the group policy of the request groups.\n\nChange-Id: I1d9bf27f49306032929274446cf3952bd42e4f8c\nblueprint: granular-request-groups\n""}, {'number': 2, 'created': '2018-05-04 17:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7a3b566edf4a803dd89c47ab4ad5d5da37a91b8', 'message': 'rework how we pass candidate request information\n\nOne thing that\'s been bothering me is the complexity that has slowly\nbeen creeping in to the AllocationCandidate.get_by_requests() code (and\nall the many functions that are called within it to match providers for\na particular request).\n\nA half dozen functions in the resource_provider.py file were accepting\nthese long lists of parameters -- dicts of requested resource to\namounts, dicts of required and forbidden trait name to ID maps, lists of\nlists of aggregate UUIDs, etc.\n\nI wanted to create an object that tied together related request/matching\npolicy information but didn\'t place that information in one of the\nversioned objects. The versioned objects are supposed to be as close to\nplain-old-data structures as possible, and adding fields to them that\ncontrol matching logic or that indicate some policy with regards to\ngrouping of providers just seemed to be wrong coupling.\n\nSo, this patch introduces a CandidateSearchContext object. This object\nis constructed from a list of RequestGroup objects. Upon construction,\nthe request groups are inspected and a series of translation maps\ncreated that allow individual components of a request group to be\nqueried. A CandidateSearchContext.group_search_context() method returns\na specialized RequestGroupSearchContext object that stores state for a\nsingle granular request group.\n\nThe reasons I went with new objects, as opposed to modifying the\nRequestGroup objects were two-fold. First, and most importantly, the\nRequestGroup object is defined in the placement lib module and is\nintended for both client and server use. The search context stuff is\nonly relevant on the server side. Secondly, I wanted to keep the\nRequestGroup attribute as just that: stuff about the request for related\nresources and traits. The RequestGroupSearchContext contains information\nthat is relevant to a particular filtering/fitness operation when we\nsearch for particular allocation candidates that meet a particular\nrequest group\'s constraints.\n\nThis allowed me to simplify the function signatures of a half dozen or\nso module-level functions to just accept this RequestGroupSearchContext\nobject instead of the many dictish parameters.\n\nWhen we add the granular request groups functionality, this\nRequestGroupSearchContext object can be used to store various pieces of\nstate information as the allocation candidates are selected, filtered,\nand merged depending on the group policy of the request groups.\nInformation such as the ""anchor providers"" for a particular resource\nprovider included in a set of allocation request records is an example\nof the kind of information that is relevant to a particular iteration of\nthe allocation candidate merging process but isn\'t relevant or useful to\nreturn outside of the AllocationCandidates.get_by_requests() interface.\n\nPrepares for the granular request group merge candidates work by\ncreating an AllocationCandidates._get_by_single_request_group() method\nthat solves for a single request group.  A placeholder\n_merge_candidates() method is supplied along with the docstring from the\ngranular request groups patch.\n\nChange-Id: I1d9bf27f49306032929274446cf3952bd42e4f8c\nblueprint: granular-request-groups\n'}, {'number': 3, 'created': '2018-05-04 21:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9679b0c92f604157760b05ba7c87bfcabff55b74', 'message': 'rework how we pass candidate request information\n\nOne thing that\'s been bothering me is the complexity that has slowly\nbeen creeping in to the AllocationCandidate.get_by_requests() code (and\nall the many functions that are called within it to match providers for\na particular request).\n\nA half dozen functions in the resource_provider.py file were accepting\nthese long lists of parameters -- dicts of requested resource to\namounts, dicts of required and forbidden trait name to ID maps, lists of\nlists of aggregate UUIDs, etc.\n\nI wanted to create an object that tied together related request/matching\npolicy information but didn\'t place that information in one of the\nversioned objects. The versioned objects are supposed to be as close to\nplain-old-data structures as possible, and adding fields to them that\ncontrol matching logic or that indicate some policy with regards to\ngrouping of providers just seemed to be wrong coupling.\n\nSo, this patch introduces a CandidateSearchContext object. This object\nis constructed from a list of RequestGroup objects. Upon construction,\nthe request groups are inspected and a series of translation maps\ncreated that allow individual components of a request group to be\nqueried. A CandidateSearchContext.group_search_context() method returns\na specialized RequestGroupSearchContext object that stores state for a\nsingle granular request group.\n\nThe reasons I went with new objects, as opposed to modifying the\nRequestGroup objects were two-fold. First, and most importantly, the\nRequestGroup object is defined in the placement lib module and is\nintended for both client and server use. The search context stuff is\nonly relevant on the server side. Secondly, I wanted to keep the\nRequestGroup attribute as just that: stuff about the request for related\nresources and traits. The RequestGroupSearchContext contains information\nthat is relevant to a particular filtering/fitness operation when we\nsearch for particular allocation candidates that meet a particular\nrequest group\'s constraints.\n\nThis allowed me to simplify the function signatures of a half dozen or\nso module-level functions to just accept this RequestGroupSearchContext\nobject instead of the many dictish parameters.\n\nWhen we add the granular request groups functionality, this\nRequestGroupSearchContext object can be used to store various pieces of\nstate information as the allocation candidates are selected, filtered,\nand merged depending on the group policy of the request groups.\nInformation such as the ""anchor providers"" for a particular resource\nprovider included in a set of allocation request records is an example\nof the kind of information that is relevant to a particular iteration of\nthe allocation candidate merging process but isn\'t relevant or useful to\nreturn outside of the AllocationCandidates.get_by_requests() interface.\n\nPrepares for the granular request group merge candidates work by\ncreating an AllocationCandidates._get_by_single_request_group() method\nthat solves for a single request group.  A placeholder\n_merge_candidates() method is supplied along with the docstring from the\ngranular request groups patch.\n\nChange-Id: I1d9bf27f49306032929274446cf3952bd42e4f8c\nblueprint: granular-request-groups\n'}, {'number': 4, 'created': '2018-05-09 17:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6a58372e1d00eec3b95bc6317b0351052922d35', 'message': 'rework how we pass candidate request information\n\nOne thing that\'s been bothering me is the complexity that has slowly\nbeen creeping in to the AllocationCandidate.get_by_requests() code (and\nall the many functions that are called within it to match providers for\na particular request).\n\nA half dozen functions in the resource_provider.py file were accepting\nthese long lists of parameters -- dicts of requested resource to\namounts, dicts of required and forbidden trait name to ID maps, lists of\nlists of aggregate UUIDs, etc.\n\nI wanted to create an object that tied together related request/matching\npolicy information but didn\'t place that information in one of the\nversioned objects. The versioned objects are supposed to be as close to\nplain-old-data structures as possible, and adding fields to them that\ncontrol matching logic or that indicate some policy with regards to\ngrouping of providers just seemed to be wrong coupling.\n\nSo, this patch introduces a CandidateSearchContext object. This object\nis constructed from a list of RequestGroup objects. Upon construction,\nthe request groups are inspected and a series of translation maps\ncreated that allow individual components of a request group to be\nqueried. A CandidateSearchContext.group_search_context() method returns\na specialized RequestGroupSearchContext object that stores state for a\nsingle granular request group.\n\nThe reasons I went with new objects, as opposed to modifying the\nRequestGroup objects were two-fold. First, and most importantly, the\nRequestGroup object is defined in the placement lib module and is\nintended for both client and server use. The search context stuff is\nonly relevant on the server side. Secondly, I wanted to keep the\nRequestGroup attribute as just that: stuff about the request for related\nresources and traits. The RequestGroupSearchContext contains information\nthat is relevant to a particular filtering/fitness operation when we\nsearch for particular allocation candidates that meet a particular\nrequest group\'s constraints.\n\nThis allowed me to simplify the function signatures of a half dozen or\nso module-level functions to just accept this RequestGroupSearchContext\nobject instead of the many dictish parameters.\n\nThis RequestGroupSearchContext object can be used to store various\npieces of state information as the allocation candidates are selected,\nfiltered, and merged depending on the group policy of the request\ngroups.  Information such as the ""anchor providers"" for a particular\nresource provider included in a set of allocation request records is an\nexample of the kind of information that is relevant to a particular\niteration of the allocation candidate merging process but isn\'t relevant\nor useful to return outside of the\nAllocationCandidates.get_by_requests() interface. This patch doesn\'t\nremove the AllocationRequest.use_same_provider or\nAllocationRequest.anchor_provider_uuid fields but does provide the\ngroundwork for followup patches to address that.\n\nChange-Id: I1d9bf27f49306032929274446cf3952bd42e4f8c\n'}, {'number': 5, 'created': '2018-05-09 17:16:14.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/util.py', 'nova/api/openstack/placement/handlers/allocation_candidate.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea77e79c8ff50e89b06f073f8933911853f48969', 'message': 'rework how we pass candidate request information\n\nOne thing that\'s been bothering me is the complexity that has slowly\nbeen creeping in to the AllocationCandidate.get_by_requests() code (and\nall the many functions that are called within it to match providers for\na particular request).\n\nA half dozen functions in the resource_provider.py file were accepting\nthese long lists of parameters -- dicts of requested resource to\namounts, dicts of required and forbidden trait name to ID maps, lists of\nlists of aggregate UUIDs, etc.\n\nI wanted to create an object that tied together related request/matching\npolicy information but didn\'t place that information in one of the\nversioned objects. The versioned objects are supposed to be as close to\nplain-old-data structures as possible, and adding fields to them that\ncontrol matching logic or that indicate some policy with regards to\ngrouping of providers just seemed to be wrong coupling.\n\nSo, this patch introduces a CandidateSearchContext object. This object\nis constructed from a list of RequestGroup objects. Upon construction,\nthe request groups are inspected and a series of translation maps\ncreated that allow individual components of a request group to be\nqueried. A CandidateSearchContext.group_search_context() method returns\na specialized RequestGroupSearchContext object that stores state for a\nsingle granular request group.\n\nThe reasons I went with new objects, as opposed to modifying the\nRequestGroup objects were two-fold. First, and most importantly, the\nRequestGroup object is defined in the placement lib module and is\nintended for both client and server use. The search context stuff is\nonly relevant on the server side. Secondly, I wanted to keep the\nRequestGroup attribute as just that: stuff about the request for related\nresources and traits. The RequestGroupSearchContext contains information\nthat is relevant to a particular filtering/fitness operation when we\nsearch for particular allocation candidates that meet a particular\nrequest group\'s constraints.\n\nThis allowed me to simplify the function signatures of a half dozen or\nso module-level functions to just accept this RequestGroupSearchContext\nobject instead of the many dictish parameters.\n\nThis RequestGroupSearchContext object can be used to store various\npieces of state information as the allocation candidates are selected,\nfiltered, and merged depending on the group policy of the request\ngroups.  Information such as the ""anchor providers"" for a particular\nresource provider included in a set of allocation request records is an\nexample of the kind of information that is relevant to a particular\niteration of the allocation candidate merging process but isn\'t relevant\nor useful to return outside of the\nAllocationCandidates.get_by_requests() interface. This patch doesn\'t\nremove the AllocationRequest.use_same_provider or\nAllocationRequest.anchor_provider_uuid fields but does provide the\ngroundwork for followup patches to address that.\n\nChange-Id: I1d9bf27f49306032929274446cf3952bd42e4f8c\n'}]",30,566166,ea77e79c8ff50e89b06f073f8933911853f48969,62,18,5,7,,,0,"rework how we pass candidate request information

One thing that's been bothering me is the complexity that has slowly
been creeping in to the AllocationCandidate.get_by_requests() code (and
all the many functions that are called within it to match providers for
a particular request).

A half dozen functions in the resource_provider.py file were accepting
these long lists of parameters -- dicts of requested resource to
amounts, dicts of required and forbidden trait name to ID maps, lists of
lists of aggregate UUIDs, etc.

I wanted to create an object that tied together related request/matching
policy information but didn't place that information in one of the
versioned objects. The versioned objects are supposed to be as close to
plain-old-data structures as possible, and adding fields to them that
control matching logic or that indicate some policy with regards to
grouping of providers just seemed to be wrong coupling.

So, this patch introduces a CandidateSearchContext object. This object
is constructed from a list of RequestGroup objects. Upon construction,
the request groups are inspected and a series of translation maps
created that allow individual components of a request group to be
queried. A CandidateSearchContext.group_search_context() method returns
a specialized RequestGroupSearchContext object that stores state for a
single granular request group.

The reasons I went with new objects, as opposed to modifying the
RequestGroup objects were two-fold. First, and most importantly, the
RequestGroup object is defined in the placement lib module and is
intended for both client and server use. The search context stuff is
only relevant on the server side. Secondly, I wanted to keep the
RequestGroup attribute as just that: stuff about the request for related
resources and traits. The RequestGroupSearchContext contains information
that is relevant to a particular filtering/fitness operation when we
search for particular allocation candidates that meet a particular
request group's constraints.

This allowed me to simplify the function signatures of a half dozen or
so module-level functions to just accept this RequestGroupSearchContext
object instead of the many dictish parameters.

This RequestGroupSearchContext object can be used to store various
pieces of state information as the allocation candidates are selected,
filtered, and merged depending on the group policy of the request
groups.  Information such as the ""anchor providers"" for a particular
resource provider included in a set of allocation request records is an
example of the kind of information that is relevant to a particular
iteration of the allocation candidate merging process but isn't relevant
or useful to return outside of the
AllocationCandidates.get_by_requests() interface. This patch doesn't
remove the AllocationRequest.use_same_provider or
AllocationRequest.anchor_provider_uuid fields but does provide the
groundwork for followup patches to address that.

Change-Id: I1d9bf27f49306032929274446cf3952bd42e4f8c
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/566166/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py']",3,2f1f56d6b43c1f0fae3a938a31b943b463d2f6dd,placement-decision-state,"from nova.api.openstack.placement import lib as placement_lib resources = { fields.ResourceClass.VCPU: 1, fields.ResourceClass.MEMORY_MB: 64, fields.ResourceClass.DISK_GB: 100, } req_group = placement_lib.RequestGroup(resources=resources) match_spec = rp_obj.MatchSpec(self.ctx, [req_group]) got_rps = rp_obj._get_all_with_shared(self.ctx, match_spec) got_rps = rp_obj._get_all_with_shared(self.ctx, match_spec) got_rps = rp_obj._get_all_with_shared(self.ctx, match_spec) got_rps = rp_obj._get_all_with_shared(self.ctx, match_spec) got_rps = rp_obj._get_all_with_shared(self.ctx, match_spec) got_rps = rp_obj._get_all_with_shared(self.ctx, match_spec)"," def test_trait_ids_from_names_empty_param(self): self.assertRaises(ValueError, rp_obj._trait_ids_from_names, self.ctx, []) resources = self._requested_resources() got_rps = rp_obj._get_all_with_shared( self.ctx, resources, ) got_rps = rp_obj._get_all_with_shared( self.ctx, resources, ) got_rps = rp_obj._get_all_with_shared( self.ctx, resources, ) got_rps = rp_obj._get_all_with_shared( self.ctx, resources, ) got_rps = rp_obj._get_all_with_shared( self.ctx, resources, ) got_rps = rp_obj._get_all_with_shared( self.ctx, resources, )",258,228
openstack%2Fnova~master~I765b783ac95ba6d6952218e1b3dbfcb45622fc74,openstack/nova,master,I765b783ac95ba6d6952218e1b3dbfcb45622fc74,doc: Remove duplicate 'vnc' config opt descriptions,ABANDONED,2018-01-17 11:08:19.000000000,2018-10-05 13:39:41.000000000,,"[{'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-17 11:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/026bb3ee219e56f372268cd3f7a129d2eaee158e', 'message': ""doc: Remove duplicate 'vnc' config opt descriptions\n\nIf these are not already out of date, they will be soon. Just refer to\nthe authoritative resource.\n\nChange-Id: I765b783ac95ba6d6952218e1b3dbfcb45622fc74\n""}, {'number': 2, 'created': '2018-03-26 14:41:28.000000000', 'files': ['doc/source/admin/remote-console-access.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b4a35adb806659153250b3827d03618709bed08', 'message': ""doc: Remove duplicate 'vnc' config opt descriptions\n\nIf these are not already out of date, they will be soon. Just refer to\nthe authoritative resource.\n\nChange-Id: I765b783ac95ba6d6952218e1b3dbfcb45622fc74\n""}]",6,534724,0b4a35adb806659153250b3827d03618709bed08,17,9,2,15334,,,0,"doc: Remove duplicate 'vnc' config opt descriptions

If these are not already out of date, they will be soon. Just refer to
the authoritative resource.

Change-Id: I765b783ac95ba6d6952218e1b3dbfcb45622fc74
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/534724/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/remote-console-access.rst'],1,026bb3ee219e56f372268cd3f7a129d2eaee158e,bp/websocket-proxy-to-host-security,"To customize the VNC console, refer to the options in the :oslo.config:group:`vnc` config group.1. The user requests a serial console connection string for an instance from the REST API. 2. The :program:`nova-api` service asks the :program:`nova-compute` service, which manages that instance, to fulfill that request. :program:`nova-serialproxy` service. 4. The :program:`nova-serialproxy` service then proxies the console interaction to the port of the compute node where the instance is running. That port gets forwarded by the hypervisor into the KVM guest. Serial console configuration options ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To customize the serial console, refer to the options in the :oslo.config:group:`serial_console` config group. Some of these are not intuitive at first and you should keep the following in mind: * The :oslo.config:opt:`serial_console.serialproxy_host` is the address the *nova-serialproxy* service listens to for incoming connections (see step 3). * The :oslo.config:opt:`serial_console.serialproxy_port` value must be the very same as in the URI of :oslo.config:opt:`serial_console.base_url`. * The :oslo.config:opt:`serial_console.base_url` on the compute node will be part of the response the user will get when asking for a serial console connection string (see step 1 from above). This means it needs to be an URL the user can connect to. * The :oslo.config:opt:`serial_console.proxyclient_address` on the compute node will be used by the *nova-serialproxy* service to determine where to connect to for proxying the console interaction.","To customize the VNC console, use the following configuration options in your ``nova.conf`` file: .. note:: To support :ref:`live migration <section_configuring-compute-migrations>`, you cannot specify a specific IP address for ``server_listen``, because that IP address does not exist on the destination host. .. list-table:: **Description of VNC configuration options** :header-rows: 1 :widths: 25 25 * - Configuration option = Default value - Description * - **[DEFAULT]** - * - ``daemon = False`` - (BoolOpt) Become a daemon (background process) * - ``key = None`` - (StrOpt) SSL key file (if separate from cert) * - ``novncproxy_host = 0.0.0.0`` - (StrOpt) Host on which to listen for incoming requests * - ``novncproxy_port = 6080`` - (IntOpt) Port on which to listen for incoming requests * - ``record = False`` - (BoolOpt) Record sessions to FILE.[session_number] * - ``source_is_ipv6 = False`` - (BoolOpt) Source is ipv6 * - ``ssl_only = False`` - (BoolOpt) Disallow non-encrypted connections * - ``web = /usr/share/spice-html5`` - (StrOpt) Run webserver on same port. Serve files from DIR. * - **[vmware]** - * - ``vnc_port = 5900`` - (IntOpt) VNC starting port * - ``vnc_port_total = 10000`` - vnc_port_total = 10000 * - **[vnc]** - * - enabled = True - (BoolOpt) Enable VNC related features * - novncproxy_base_url = http://127.0.0.1:6080/vnc_auto.html - (StrOpt) Location of VNC console proxy, in the form ""http://127.0.0.1:6080/vnc_auto.html"" * - server_listen = 127.0.0.1 - (StrOpt) IP address on which instance vncservers should listen * - server_proxyclient_address = 127.0.0.1 - (StrOpt) The address to which proxy clients (like nova-xvpvncproxy) should connect * - xvpvncproxy_base_url = http://127.0.0.1:6081/console - (StrOpt) Location of nova xvp VNC console proxy, in the form ""http://127.0.0.1:6081/console"" .. note:: - The ``server_proxyclient_address`` defaults to ``127.0.0.1``, which is the address of the compute host that Compute instructs proxies to use when connecting to instance servers. - For all-in-one XenServer domU deployments, set this to ``169.254.0.1.`` - For multi-host XenServer domU deployments, set to a ``dom0 management IP`` on the same network as the proxies. - For multi-host libvirt deployments, set to a host management IP on the same network as the proxies.1. The user requests a serial console connection string for an instance from the REST API. 2. The `nova-api` service asks the `nova-compute` service, which manages that instance, to fulfill that request. `nova-serialproxy` service. 4. The `nova-serialproxy` service then proxies the console interaction to the port of the compute node where the instance is running. That port gets forwarded by the hypervisor into the KVM guest. The config options for those nodes, which are in the section ``[serial_console]`` of your ``nova.conf``, are not intuitive at first. Keep these things in mind: * The ``serialproxy_host`` is the address the `nova-serialproxy` service listens to for incoming connections (see step 3). * The ``serialproxy_port`` value must be the very same as in the URI of ``base_url``. * The ``base_url`` on the compute node will be part of the response the user will get when asking for a serial console connection string (see step 1 from above). This means it needs to be an URL the user can connect to. * The ``proxyclient_address`` on the compute node will be used by the `nova-serialproxy` service to determine where to connect to for proxying the console interaction.",28,89
openstack%2Fpbr~master~I2903089a07bdd2dc96437b9f65f2d2bba2741707,openstack/pbr,master,I2903089a07bdd2dc96437b9f65f2d2bba2741707,Support wheel 0.32.0+,MERGED,2018-10-04 10:21:52.000000000,2018-10-05 13:38:30.000000000,2018-10-05 13:38:30.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8911}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 10:21:52.000000000', 'files': ['test-requirements.txt', 'pbr/tests/test_packaging.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/pbr/commit/f14a3b2b73c6c95edbea8de799cf1df07decdf0e', 'message': ""Support wheel 0.32.0+\n\nWheel 0.32.0 removed the 'wheel install' command [1] and, subsequently,\nthe 'wheel.install' module [2]. It also made 'WheelFile' a subclass of\n'zipfile.ZipFile' rather than a wrapper [2] and deprecated the '[wheel]'\nsection of 'setup.cfg' in favour of '[bdist_wheel]'. Handle these\nchanges.\n\n[1] https://github.com/pypa/wheel/commit/353217fb4\n[2] https://github.com/pypa/wheel/commit/89492505b\n\nChange-Id: I2903089a07bdd2dc96437b9f65f2d2bba2741707\n""}]",11,607894,f14a3b2b73c6c95edbea8de799cf1df07decdf0e,17,8,1,15334,,,0,"Support wheel 0.32.0+

Wheel 0.32.0 removed the 'wheel install' command [1] and, subsequently,
the 'wheel.install' module [2]. It also made 'WheelFile' a subclass of
'zipfile.ZipFile' rather than a wrapper [2] and deprecated the '[wheel]'
section of 'setup.cfg' in favour of '[bdist_wheel]'. Handle these
changes.

[1] https://github.com/pypa/wheel/commit/353217fb4
[2] https://github.com/pypa/wheel/commit/89492505b

Change-Id: I2903089a07bdd2dc96437b9f65f2d2bba2741707
",git fetch https://review.opendev.org/openstack/pbr refs/changes/94/607894/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'pbr/tests/test_packaging.py', 'setup.cfg']",3,f14a3b2b73c6c95edbea8de799cf1df07decdf0e,wheel-0.32.0-support,[bdist_wheel],[wheel],6,5
openstack%2Fnova-specs~master~I774150d903448435012e0e2cc63b84fe00a1fce0,openstack/nova-specs,master,I774150d903448435012e0e2cc63b84fe00a1fce0,"DNM! Make ""reproposals"" more obvious to readers",ABANDONED,2017-09-07 16:24:00.000000000,2018-10-05 13:37:02.000000000,,[],"[{'number': 1, 'created': '2017-09-07 16:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9b42877b016b03a77f548ef82b8dcc08e06f40ff', 'message': 'DNM! Make ""reproposals"" more obvious to readers\n\nSpecs are often considered a good reference guide for how a feature\nworks, and warrant some investment to ensure the spec corresponds to the\nfinal implementation.\n\nWhile we can generally update a spec after the feature is merged to\nreflect the final merged reality, things get a little confusing when a\nspec has been re-proposed one or more times.\n\nWe mitigate this by adding a warning to the top of all specs that have\nbeen later supplanted by a new revision. We add a new file in\n\'specs/{release}\', called \'reproposals\' to track these and avoid\ngrepping every spec during every build. Finally, we add a test to\nenforce this idea going forward.\n\nChange-Id: I774150d903448435012e0e2cc63b84fe00a1fce0\n---\nThis is incomplete because I have recorded files as having notes in them\neven though the notes aren\'t there yet. I\'ll populate this slowly.\n'}, {'number': 2, 'created': '2017-09-07 17:00:38.000000000', 'files': ['specs/juno/approved/migrate-libvirt-volumes.rst', 'specs/juno/approved/tag-instances.rst', 'specs/juno/approved/encryption-with-barbican.rst', 'specs/juno/approved/vmware-spbm-support.rst', 'specs/juno/approved/websocket-proxy-to-host-security.rst', 'specs/juno/approved/vmware-ephemeral-disk-support.rst', 'specs/mitaka/reproposals', 'specs/juno/approved/io-ops-weight.rst', 'tests/test_reproposed_specs.py', 'specs/juno/approved/vmware-vsan-support.rst', 'specs/juno/approved/allocation-ratio-to-resource-tracker.rst', 'specs/juno/approved/use-libvirt-storage-pools.rst', 'specs/juno/approved/ec2-volume-and-snapshot-tags.rst', 'specs/juno/implemented/v2-on-v3-api.rst', 'specs/juno/implemented/i18n-enablement.rst', 'specs/juno/approved/make-resource-tracker-use-objects.rst', 'specs/juno/approved/virt-driver-large-pages.rst', 'specs/juno/approved/nova-pagination.rst', 'specs/kilo/reproposals', 'specs/juno/reproposals', 'specs/juno/approved/db2-database.rst', 'specs/juno/approved/vmware-driver-ova-support.rst', 'specs/juno/approved/enforce-unique-instance-uuid-in-db.rst', 'specs/juno/approved/quiesced-image-snapshots-with-qemu-guest-agent.rst', 'specs/ocata/reproposals', 'specs/juno/approved/virt-driver-cpu-pinning.rst', 'specs/newton/reproposals', 'specs/liberty/reproposals', 'tests/test_directories.py', 'specs/juno/approved/input-output-based-numa-scheduling.rst', 'specs/juno/approved/add-all-in-list-operator-to-extra-spec-ops.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5842cac72d2e04d69feb0a5610fe0285cb0c7dd2', 'message': 'DNM! Make ""reproposals"" more obvious to readers\n\nSpecs are often considered a good reference guide for how a feature\nworks, and warrant some investment to ensure the spec corresponds to the\nfinal implementation.\n\nWhile we can generally update a spec after the feature is merged to\nreflect the final merged reality, things get a little confusing when a\nspec has been re-proposed one or more times.\n\nWe mitigate this by adding a warning to the top of all specs that have\nbeen later supplanted by a new revision. We add a new file in\n\'specs/{release}\', called \'reproposals\' to track these and avoid\ngrepping every spec during every build. Finally, we add a test to\nenforce this idea going forward.\n\nChange-Id: I774150d903448435012e0e2cc63b84fe00a1fce0\n---\nThis is incomplete because I have recorded files as having notes in them\neven though the notes aren\'t there yet. I\'ll populate this slowly.\n'}]",0,501797,5842cac72d2e04d69feb0a5610fe0285cb0c7dd2,6,0,2,15334,,,0,"DNM! Make ""reproposals"" more obvious to readers

Specs are often considered a good reference guide for how a feature
works, and warrant some investment to ensure the spec corresponds to the
final implementation.

While we can generally update a spec after the feature is merged to
reflect the final merged reality, things get a little confusing when a
spec has been re-proposed one or more times.

We mitigate this by adding a warning to the top of all specs that have
been later supplanted by a new revision. We add a new file in
'specs/{release}', called 'reproposals' to track these and avoid
grepping every spec during every build. Finally, we add a test to
enforce this idea going forward.

Change-Id: I774150d903448435012e0e2cc63b84fe00a1fce0
---
This is incomplete because I have recorded files as having notes in them
even though the notes aren't there yet. I'll populate this slowly.
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/97/501797/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/juno/approved/migrate-libvirt-volumes.rst', 'specs/juno/approved/tag-instances.rst', 'specs/juno/approved/encryption-with-barbican.rst', 'specs/juno/approved/vmware-spbm-support.rst', 'specs/juno/approved/websocket-proxy-to-host-security.rst', 'specs/juno/approved/vmware-ephemeral-disk-support.rst', 'specs/mitaka/reproposals', 'specs/juno/approved/io-ops-weight.rst', 'tests/test_reproposed_specs.py', 'specs/juno/approved/vmware-vsan-support.rst', 'specs/juno/approved/allocation-ratio-to-resource-tracker.rst', 'specs/juno/approved/use-libvirt-storage-pools.rst', 'specs/juno/approved/ec2-volume-and-snapshot-tags.rst', 'specs/juno/implemented/v2-on-v3-api.rst', 'specs/juno/implemented/i18n-enablement.rst', 'specs/juno/approved/make-resource-tracker-use-objects.rst', 'specs/juno/approved/virt-driver-large-pages.rst', 'specs/juno/approved/nova-pagination.rst', 'specs/kilo/reproposals', 'specs/juno/reproposals', 'specs/juno/approved/db2-database.rst', 'specs/juno/approved/vmware-driver-ova-support.rst', 'specs/juno/approved/enforce-unique-instance-uuid-in-db.rst', 'specs/juno/approved/quiesced-image-snapshots-with-qemu-guest-agent.rst', 'specs/ocata/reproposals', 'specs/juno/approved/virt-driver-cpu-pinning.rst', 'specs/newton/reproposals', 'specs/liberty/reproposals', 'specs/juno/approved/input-output-based-numa-scheduling.rst', 'specs/juno/approved/add-all-in-list-operator-to-extra-spec-ops.rst']",30,9b42877b016b03a77f548ef82b8dcc08e06f40ff,warnings-for-out-of-date-specs,https://blueprints.launchpad.net/nova/+spec/add-all-in-list-operator-to-extra-spec-ops .. warning:: This spec was reproposed during the Kilo cycle. You may wish to refer to the :doc:`newer spec </specs/kilo/implemented/add-all-in-list-operator-to-extra-spec-ops>` for more accurate information.extra-spec key would be the same:: capabilities:cpu_info:features : <in> aes capabilities:cpu_info:features : <in> vmxsomething like this is needed:: capabilities:cpu_info:features : <all-in> aes vmx,`https://blueprints.launchpad.net/nova/+spec/add-all-in-list- operator-to-extra-spec-ops <https://blueprints.launchpad.net/nova/+spec/add-all-in-list- operator-to-extra-spec-ops>`_extra-spec key would be the same: capabilities:cpu_info:features : <in> aes capabilities:cpu_info:features : <in> vmxsomething like this is needed: capabilities:cpu_info:features : <all-in> aes vmx,384,16
openstack%2Fnova~master~Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27,openstack/nova,master,Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27,Store dns_domain value from neutron,ABANDONED,2017-07-05 16:59:20.000000000,2018-10-05 13:36:03.000000000,,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-05 16:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/768b2dfc52552abfd0e9d9fc319fabc72e825da1', 'message': ""Use dns_domain value from neutron in os-vif wiring\n\nThe 'os_vif.objects.network.Network' object in os-vif recently gained\nsupport for a 'dns_domain' value, which can be used to store the\nequivalent value from neutron's 'neutron.objects.network.Network'\nobject. Wire the two together.\n\nChange-Id: Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27\nPartial-Bug: #1698010\n""}, {'number': 2, 'created': '2017-07-06 13:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ecec58788a510d1bd74059904adacd7963b18b2', 'message': ""Use dns_domain value from neutron in os-vif wiring\n\nThe 'os_vif.objects.network.Network' object in os-vif recently gained\nsupport for a 'dns_domain' value, which can be used to store the\nequivalent value from neutron's 'neutron.objects.network.Network'\nobject. Wire the two together.\n\nChange-Id: Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27\nPartial-Bug: #1698010\n""}, {'number': 3, 'created': '2017-07-06 13:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7287a1a50c48729fc4d7c3d5a168569c4ed3e46b', 'message': ""Store dns_domain value from neutron\n\nNeutron returns an optional 'dns_domain' value as part of a network\nmodel. Start storing this in the meta field of\n'nova.network.model.Network', which we will be able to use elsewhere\nlater.\n\nChange-Id: Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27\nPartial-Bug: #1698010\n""}, {'number': 4, 'created': '2017-09-01 12:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f28ade799236c2fb120697710f8ff651f5924ddf', 'message': ""Store dns_domain value from neutron\n\nNeutron returns an optional 'dns_domain' value as part of a network\nmodel. Start storing this in the meta field of\n'nova.network.model.Network', which we will be able to use elsewhere\nlater.\n\nChange-Id: Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27\nPartial-Bug: #1698010\n""}, {'number': 5, 'created': '2017-09-04 10:14:22.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed80a70f97fa111462038ed179d7074477b3ccf7', 'message': ""Store dns_domain value from neutron\n\nNeutron returns an optional 'dns_domain' value as part of a network\nmodel. Start storing this in the meta field of\n'nova.network.model.Network', which we will be able to use elsewhere\nlater.\n\nChange-Id: Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27\nPartial-Bug: #1698010\n""}]",7,480676,ed80a70f97fa111462038ed179d7074477b3ccf7,50,14,5,15334,,,0,"Store dns_domain value from neutron

Neutron returns an optional 'dns_domain' value as part of a network
model. Start storing this in the meta field of
'nova.network.model.Network', which we will be able to use elsewhere
later.

Change-Id: Ic171eafe6eee7b2d54f6a3de1bcd264cf0b80e27
Partial-Bug: #1698010
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/480676/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,768b2dfc52552abfd0e9d9fc319fabc72e825da1,bug/1698010," 'mtu': 9000, 'dns_domain': 'example.com'}] api.extensions[constants.DNS_INTEGRATION] = 1 api.extensions[constants.PORTBINDING_EXT] = 1 net, iid = api._nw_info_build_network( self.context, fake_port, fake_nets, fake_subnets) self.assertEqual('example.com', net.get_meta('dns_domain')) net, iid = api._nw_info_build_network( self.context, fake_port, fake_nets, fake_subnets) net, iid = api._nw_info_build_network( self.context, fake_port, fake_nets, fake_subnets) self.context, fake_port, fake_nets, fake_subnets) net, iid = api._nw_info_build_network( self.context, fake_port, fake_nets, fake_subnets)"," 'mtu': 9000}] net, iid = api._nw_info_build_network(fake_port, fake_nets, fake_subnets) net, iid = api._nw_info_build_network(fake_port, fake_nets, fake_subnets) net, iid = api._nw_info_build_network(fake_port, fake_nets, fake_subnets) fake_port, fake_nets, fake_subnets) net, iid = api._nw_info_build_network(fake_port, fake_nets, fake_subnets)",31,16
openstack%2Fnova~stable%2Fpike~I1201db996ea6ceaebd49479b298d74585a78b006,openstack/nova,stable/pike,I1201db996ea6ceaebd49479b298d74585a78b006,libvirt: Always escape IPv6 addresses when used in migration URI,ABANDONED,2018-09-19 12:43:41.000000000,2018-10-05 13:30:19.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 11090}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 12:43:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt_fix_ipv6_live_migration-bbcde8f3b7d17921.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be4dbc3a3f6430326de798d0694a199742253a7b', 'message': 'libvirt: Always escape IPv6 addresses when used in migration URI\n\nIf IPv6 is passed to URI it should be wrapped within square brackets.\nThis patch detects IPv6 to form migration URI properly. Domain name, IPv4 or\nalready bracketed IPv6 address will pass as is\n\nExtend tests to include collapsed IPv6 addresses and IPv6 addresses with\nport\n\nChange-Id: I1201db996ea6ceaebd49479b298d74585a78b006\nCloses-Bug: #1786058\n(cherry picked from commit 8b019d6f1e7893a7e308bd79c879e94d3400e007)\n(cherry picked from commit 7ee5499e5507c45249945fa5baf7665bc2f1cc02)\n(cherry picked from commit 551a7a459c6503158cb4512fec8b2dc9c0641abe)\n'}]",0,603738,be4dbc3a3f6430326de798d0694a199742253a7b,8,6,1,10135,,,0,"libvirt: Always escape IPv6 addresses when used in migration URI

If IPv6 is passed to URI it should be wrapped within square brackets.
This patch detects IPv6 to form migration URI properly. Domain name, IPv4 or
already bracketed IPv6 address will pass as is

Extend tests to include collapsed IPv6 addresses and IPv6 addresses with
port

Change-Id: I1201db996ea6ceaebd49479b298d74585a78b006
Closes-Bug: #1786058
(cherry picked from commit 8b019d6f1e7893a7e308bd79c879e94d3400e007)
(cherry picked from commit 7ee5499e5507c45249945fa5baf7665bc2f1cc02)
(cherry picked from commit 551a7a459c6503158cb4512fec8b2dc9c0641abe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/603738/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt_fix_ipv6_live_migration-bbcde8f3b7d17921.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,be4dbc3a3f6430326de798d0694a199742253a7b,bug/1786058," addresses = ('127.0.0.1', '127.0.0.1:4444', '[::1]:4444', '[0:0:0:0:0:0:0:1]:4444', u'127.0.0.1', u'destination', ) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) for dest in addresses: for hyperv, uri in hypervisor_uri_map: self.flags(virt_type=hyperv, group='libvirt') if uri is not None: uri = uri % dest self.assertEqual(uri, drvr._live_migration_uri(dest)) else: self.assertRaises(exception.LiveMigrationURINotAvailable, drvr._live_migration_uri, dest) def test_live_migration_uri_ipv6(self): addresses = ('::1', '0:0:0:0:0:0:0:1', u'::1') hypervisor_uri_map = ( ('xen', 'xenmigr://[%s]/system'), ('kvm', 'qemu+tcp://[%s]/system'), ('qemu', 'qemu+tcp://[%s]/system'), ('parallels', 'parallels+tcp://[%s]/system'), # anything else will return None ('lxc', None), ) for dest in addresses: for hyperv, uri in hypervisor_uri_map: self.flags(virt_type=hyperv, group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) if uri is not None: uri = uri % dest self.assertEqual(uri, drvr._live_migration_uri(dest)) else: self.assertRaises(exception.LiveMigrationURINotAvailable, drvr._live_migration_uri, dest) addresses = ('127.0.0.1', '127.0.0.1:4444', '[::1]:4444', '[0:0:0:0:0:0:0:1]:4444', u'127.0.0.1', u'destination', ) for dest in addresses: uri = 'tcp://%s' self.assertEqual(uri % dest, result) self.assertIsInstance(result, str) def test_migrate_uri_forced_live_migration_inboud_addr_ipv6(self): self.flags(virt_type='kvm', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) addresses = ('::1', '0:0:0:0:0:0:0:1', u'::1') for dest in addresses: uri = 'tcp://[%s]' result = drvr._migrate_uri(dest) self.assertEqual(uri % dest, result)"," dest = 'destination' for hyperv, uri in hypervisor_uri_map: self.flags(virt_type=hyperv, group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) if uri is not None: uri = uri % dest self.assertEqual(uri, drvr._live_migration_uri(dest)) else: self.assertRaises(exception.LiveMigrationURINotAvailable, drvr._live_migration_uri, dest) addresses = ('127.0.0.1', '127.0.0.1:4444', '0:0:0:0:0:0:0:1', '[0:0:0:0:0:0:0:1]:4444', u'127.0.0.1', u'destination') for dest in addresses: self.assertEqual('tcp://%s' % dest, result)",67,15
openstack%2Fnetworking-bgpvpn~stable%2Focata~I93aea1800b6403482a7e15116610efeed02c28a1,openstack/networking-bgpvpn,stable/ocata,I93aea1800b6403482a7e15116610efeed02c28a1,"Fix check, gate and periodic jobs",MERGED,2018-08-27 18:24:45.000000000,2018-10-05 13:16:12.000000000,2018-10-05 13:16:12.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 12021}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28192}]","[{'number': 1, 'created': '2018-08-27 18:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f8f13644af4703793fca91caa0748785e407cb82', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 5 commits that are needed to have successful\ncheck, gate and periodic stable job runs:\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n'}, {'number': 2, 'created': '2018-09-11 15:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/09925ade6ddb0158b750b7120215277e42e39571', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 6 commits that are needed to have successful\ncheck, gate and periodic stable job runs:\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n'}, {'number': 3, 'created': '2018-09-24 14:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/eda6d6f2c2216c9ea4b50466c58882c504a5579e', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 6 commits that are needed to have successful\ncheck, gate and periodic stable job runs:\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n'}, {'number': 4, 'created': '2018-09-25 15:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/d48b859e35e9422d7c320a18a29e8f075685a2f7', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 8 commits that are needed to have successful\ncheck, gate and periodic stable job runs:\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\nNote(elod.illes): a bit of a modification needed in the hook script as\nnot every job calls stestr.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\n7. unbreak tempest tests\n\nThe initialization of the self.networks variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n8. tempest: unbreak scenario test\n\nThe initialization of the self.subnets variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)\n(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)\n'}, {'number': 5, 'created': '2018-09-26 08:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c7c0ac9548bf24325562fd980b727bb5640dc379', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 9 commits that are needed to have successful\ncheck, gate and periodic stable job runs.\n\nNote: All the tempest related fixes are due to the fact that we can\'t\npin the version of tempest that we are using, and hence need to adjust\nthings when tempest evolves.\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\nNote(elod.illes): a bit of a modification needed in the hook script as\nnot every job calls stestr.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\n7. unbreak tempest tests\n\nThe initialization of the self.networks variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n8. tempest: unbreak scenario test\n\nThe initialization of the self.subnets variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n9. tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was literally copied from\ntempest as of today. [1]\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)\n(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)\n(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)\n'}, {'number': 6, 'created': '2018-09-26 15:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/578b19cfb3a2520f8d1fe7705fbe88a3525639d8', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 10 commits that are needed to have successful\ncheck, gate and periodic stable job runs.\n\nNote: All the tempest related fixes are due to the fact that we can\'t\npin the version of tempest that we are using, and hence need to adjust\nthings when tempest evolves.\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\nNote(elod.illes): a bit of a modification needed in the hook script as\nnot every job calls stestr.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\n7. unbreak tempest tests\n\nThe initialization of the self.networks variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n8. tempest: unbreak scenario test\n\nThe initialization of the self.subnets variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n9. tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was literally copied from\ntempest as of today. [1]\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\n10. Register query hooks at BGPVPNPluginDb object creation\n\nThis change also modifies the expected exception raised in tempest\nwhile testing a delete of a bgpvpn by a regular tenant :\nthe Forbidden exception is now raised instead of the NotFound one.\n\nCloses-bug: 1685930\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)\n(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)\n(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)\n(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)\n'}, {'number': 7, 'created': '2018-09-27 08:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/16df3241f8a99d8ce86af462185e2f93c1dad5c9', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 10 commits that are needed to have successful\ncheck, gate and periodic stable job runs.\n\nNote: All the tempest related fixes are due to the fact that we can\'t\npin the version of tempest that we are using, and hence need to adjust\nthings when tempest evolves.\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\nNote(elod.illes): a bit of a modification needed in the hook script as\nnot every job calls stestr.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\n7. unbreak tempest tests\n\nThe initialization of the self.networks variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n8. tempest: unbreak scenario test\n\nThe initialization of the self.subnets variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n9. tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was literally copied from\ntempest as of today. [1]\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\n10. Register query hooks at BGPVPNPluginDb object creation\n\nThis change also modifies the expected exception raised in tempest\nwhile testing a delete of a bgpvpn by a regular tenant :\nthe Forbidden exception is now raised instead of the NotFound one.\n\nNote(elod.illes): only the exception change is cherry-picked from\nthis commit, the networking_bgpvpn/neutron/db/bgpvpn_db.py change\nis skipped.\n\nCloses-bug: 1685930\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)\n(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)\n(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)\n(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)\n'}, {'number': 8, 'created': '2018-10-05 07:34:28.000000000', 'files': ['networking_bgpvpn_tempest/tests/scenario/test_bgpvpn_basic.py', '.gitignore', 'tools/tox_install.sh', 'test-requirements.txt', 'networking_bgpvpn_tempest/tests/api/test_bgpvpn.py', 'networking_bgpvpn_tempest/tests/scenario/manager.py', '.zuul.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/99ab547770a9662ee63851f9ce13b908376a453a', 'message': 'Fix check, gate and periodic jobs\n\nThis is a combination of 10 commits that are needed to have successful\ncheck, gate and periodic stable job runs.\n\nNote: All the tempest related fixes are due to the fact that we can\'t\npin the version of tempest that we are using, and hence need to adjust\nthings when tempest evolves.\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. (stestr change removed)\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\n7. unbreak tempest tests\n\nThe initialization of the self.networks variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n8. tempest: unbreak scenario test\n\nThe initialization of the self.subnets variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n9. tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was literally copied from\ntempest as of today. [1]\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\n10. Register query hooks at BGPVPNPluginDb object creation\n\nThis change also modifies the expected exception raised in tempest\nwhile testing a delete of a bgpvpn by a regular tenant :\nthe Forbidden exception is now raised instead of the NotFound one.\n\nNote(elod.illes): only the exception change is cherry-picked from\nthis commit, the networking_bgpvpn/neutron/db/bgpvpn_db.py change\nis skipped.\n\nCloses-bug: 1685930\n\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)\n(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)\n(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)\n(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)\n\nChange-Id: I93aea1800b6403482a7e15116610efeed02c28a1\n'}]",7,596852,99ab547770a9662ee63851f9ce13b908376a453a,50,8,8,17685,,,0,"Fix check, gate and periodic jobs

This is a combination of 10 commits that are needed to have successful
check, gate and periodic stable job runs.

Note: All the tempest related fixes are due to the fact that we can't
pin the version of tempest that we are using, and hence need to adjust
things when tempest evolves.

1. Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to
pip.

Also some tests still needs networking-odl package to be installed, however
it is removed from the required-projects of networking-bgpvpn, so they
fails now. To fix this, the easiest solution is to add networking-odl
to .zuul.yaml on stable/* branch as required project.

2. Add networking-odl for periodic-stable jobs

periodic-stable jobs fail: networking-odl is required for jobs on queens
and older stable branches. From rocky, there is no tox_install.sh any
more, so this is not needed there.

3. (stestr change removed)

4. use networking-odl from pypi instead of git master

Two reasons:
- no point in tracking master, now that development is done
  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree
- odl master is sometimes broken [1], which impacts our CI

[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481

5. Speed up tox_install.sh

* When installing git repos into tox venv, there is no need to
  use full clone. Shallow clone like --depth 1 is sufficient.
  It speeds up tox venv creation.
* Fix import check for networking-bagpipe and networking-odl.
  Python module names use underscores instead of hyphens,
  so the current iport check always returns false.
  As a result, installation of these projects are run multiple times.
* Allow to specify GIT_BASE for local testing.
  Previously PIP_LOCATION exists, but the tox_install.sh installs
  four repositories so PIP_LOCATION actually cannot be used.

In my local env, the time to prepare tox env was reduced from 4m52s
to 2m39s for the first run and from 42s to 19s for the second run
or later (after applying the first two points above).

Note(elod.illes): some changes of tox_install.sh didn't seem trivial to
git so it needed some manual intervention...

Closes-Bug: 1716746

6. Change sourcing neutron l2 agent script for devstack

Source the l2 agent script only in case and in place where functions
from this are going to be used.

7. unbreak tempest tests

The initialization of the self.networks variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

8. tempest: unbreak scenario test

The initialization of the self.subnets variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

9. tempest: Switch to local copy of tempset/scenario/manager.py

The manager.py file was literally copied from
tempest as of today. [1]

tempest/scenario/manager.py is not a part of tempest stable
interface for plugins. [2]

This was suggested on openstack-dev as a preparation for
the coming refactoring in tempest. [3]

As tempest is branchless, this change needs to be backported
to all relevant stable branches.

[1] d184d619d7adc6ab60055884515055a7f3cf7770
[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use
[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html

10. Register query hooks at BGPVPNPluginDb object creation

This change also modifies the expected exception raised in tempest
while testing a delete of a bgpvpn by a regular tenant :
the Forbidden exception is now raised instead of the NotFound one.

Note(elod.illes): only the exception change is cherry-picked from
this commit, the networking_bgpvpn/neutron/db/bgpvpn_db.py change
is skipped.

Closes-bug: 1685930

(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)
(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)
(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)
(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)
(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)
(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)
(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)
(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)
(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)
(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)
(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)

Change-Id: I93aea1800b6403482a7e15116610efeed02c28a1
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/52/596852/8 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tools/tox_install.sh', 'test-requirements.txt', '.zuul.yaml', 'devstack/post_test_hook.sh', '.stestr.conf']",6,f8f13644af4703793fca91caa0748785e407cb82,python3-first,[DEFAULT] test_path=${OS_TEST_PATH:-./networking_bgpvpn/tests/unit} top_dir=./ ,,66,15
openstack%2Fopenstack-chef~master~I57dd4f389ebce29b53e72ee038beddcd8f15be32,openstack/openstack-chef,master,I57dd4f389ebce29b53e72ee038beddcd8f15be32,fix tox python3 overrides,MERGED,2018-09-29 23:52:12.000000000,2018-10-05 13:16:09.000000000,2018-10-05 13:16:09.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:52:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/cb6c2a8ade96c649589229332245c696ed76604b', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I57dd4f389ebce29b53e72ee038beddcd8f15be32\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606683,cb6c2a8ade96c649589229332245c696ed76604b,15,3,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I57dd4f389ebce29b53e72ee038beddcd8f15be32
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/83/606683/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cb6c2a8ade96c649589229332245c696ed76604b,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Ftempest-tripleo-ui~master~If85d0c902eada277bb95780d728a81e06fc9d86f,openstack/tempest-tripleo-ui,master,If85d0c902eada277bb95780d728a81e06fc9d86f,Add venv testenv to tox.ini,MERGED,2018-10-05 12:21:32.000000000,2018-10-05 13:10:30.000000000,2018-10-05 12:58:22.000000000,"[{'_account_id': 7509}, {'_account_id': 10459}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 12:21:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/b95f916e0febd268d5960fbe91f88bcd88d41669', 'message': 'Add venv testenv to tox.ini\n\nThis is required by the tox role run from python-tarball in the post ci job.\n\nChange-Id: If85d0c902eada277bb95780d728a81e06fc9d86f\n'}]",0,608251,b95f916e0febd268d5960fbe91f88bcd88d41669,10,4,1,20970,,,0,"Add venv testenv to tox.ini

This is required by the tox role run from python-tarball in the post ci job.

Change-Id: If85d0c902eada277bb95780d728a81e06fc9d86f
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/51/608251/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b95f916e0febd268d5960fbe91f88bcd88d41669,venv,setenv = VIRTUAL_ENV={envdir}[testenv:venv] basepython = python3 commands = {posargs} ,,6,0
openstack%2Fbifrost~master~Iceb04d5285aa4fa7b2cff371ab22b0a011369028,openstack/bifrost,master,Iceb04d5285aa4fa7b2cff371ab22b0a011369028,Fix deployment when using Ansible 2.6.5,MERGED,2018-10-02 20:16:06.000000000,2018-10-05 13:03:57.000000000,2018-10-05 13:03:57.000000000,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 20:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/019c6539654e137a47b388408bbf71663494d07c', 'message': 'Fix deployment when using Ansible 2.6.5\n\nDue to a change of lower MySQL module from MySQLdb to\npymsql, Ansible calls to mysql_db and mysql_user\nmodules fail. See https://askubuntu.com/questions/\\\n766334/cant-login-as-mysql-user-root-from-normal-\\\nuser-account-in-ubuntu-16-04\nlink for more information.\n\nChange-Id: Iceb04d5285aa4fa7b2cff371ab22b0a011369028\n'}, {'number': 2, 'created': '2018-10-03 04:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/54c0107dbbf7ac67b7675614cb35b4952ca45d3a', 'message': 'Fix deployment when using Ansible 2.6.5\n\nDue to a change of lower MySQL module from MySQLdb to\npymsql, Ansible calls to mysql_db and mysql_user\nmodules fail. See https://askubuntu.com/questions/\\\n766334/cant-login-as-mysql-user-root-from-normal-\\\nuser-account-in-ubuntu-16-04\nlink for more information.\n\nChange-Id: Iceb04d5285aa4fa7b2cff371ab22b0a011369028\n'}, {'number': 3, 'created': '2018-10-03 04:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d995c1df075c5bfe81f4f39e078d4b80c7ea25ee', 'message': 'Fix deployment when using Ansible 2.6.5\n\nDue to a change of lower MySQL module from MySQLdb to\npymsql, Ansible calls to mysql_db and mysql_user\nmodules fail. See https://askubuntu.com/questions/\\\n766334/cant-login-as-mysql-user-root-from-normal-\\\nuser-account-in-ubuntu-16-04\nlink for more information.\n\nChange-Id: Iceb04d5285aa4fa7b2cff371ab22b0a011369028\n'}, {'number': 4, 'created': '2018-10-03 05:22:41.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4fcba7f246df2a8db6c5371c66847a98323bc4e4', 'message': 'Fix deployment when using Ansible 2.6.5\n\nDue to a change of lower MySQL module from MySQLdb to\npymsql, Ansible calls to mysql_db and mysql_user\nmodules fail. See https://askubuntu.com/questions/\\\n766334/cant-login-as-mysql-user-root-from-normal-\\\nuser-account-in-ubuntu-16-04\nlink for more information.\n\nChange-Id: Iceb04d5285aa4fa7b2cff371ab22b0a011369028\n'}]",0,607357,4fcba7f246df2a8db6c5371c66847a98323bc4e4,13,3,4,19578,,,0,"Fix deployment when using Ansible 2.6.5

Due to a change of lower MySQL module from MySQLdb to
pymsql, Ansible calls to mysql_db and mysql_user
modules fail. See https://askubuntu.com/questions/\
766334/cant-login-as-mysql-user-root-from-normal-\
user-account-in-ubuntu-16-04
link for more information.

Change-Id: Iceb04d5285aa4fa7b2cff371ab22b0a011369028
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/57/607357/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml']",3,019c6539654e137a47b388408bbf71663494d07c,fix-mysql-ansible-265,"- name: Setting MySQL socket fact set_fact: mysql_socket_path: ""/var/run/mysqld/mysqld.sock"" when: ansible_version.full is version_compare('2.6.5', '>=') login_unix_socket: ""{{ mysql_socket_path | default(omit) }}"" login_unix_socket: ""{{ mysql_socket_path | default(omit) }}""",,21,0
openstack%2Fopenstacksdk~master~Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e,openstack/openstacksdk,master,Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e,Split advanced networking services into a job,ABANDONED,2018-10-02 14:23:02.000000000,2018-10-05 12:57:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 28653}]","[{'number': 1, 'created': '2018-10-02 14:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8f24bff23419e4937468f7cd39b32532f9d3c2e9', 'message': ""Split advanced networking services into a job\n\nWe're hitting timeouts like crazy- maybe we're just running low on\nresources. Split octavia, fwaas and designate into their own job. Turn\nswift off in that job. Also, shift heat out of the minimal base job and\ninto the non networking one.\n\nChange-Id: Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e\n""}, {'number': 2, 'created': '2018-10-02 17:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2bf51c2ddb3f4c559266c3c23f2f9b6e6d223566', 'message': ""Split advanced networking services into a job\n\nWe're hitting timeouts like crazy- maybe we're just running low on\nresources. Split octavia, fwaas and designate into their own job. Turn\nswift off in that job. Also, shift heat out of the minimal base job and\ninto the non networking one.\n\nChange-Id: Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e\n""}, {'number': 3, 'created': '2018-10-03 12:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fdc6c8df2521394147ed73e7da06f8bf2ec93c5c', 'message': ""Split advanced networking services into a job\n\nWe're hitting timeouts like crazy- maybe we're just running low on\nresources. Split octavia and designate into their own job. Turn\nswift off in that job.\n\nChange-Id: Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e\n""}, {'number': 4, 'created': '2018-10-03 18:45:44.000000000', 'files': ['openstack/tests/functional/network/v2/test_floating_ip.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5fa7354a69c8f0f55ebc16a41c1b4c644c2c7914', 'message': ""Split advanced networking services into a job\n\nWe're hitting timeouts like crazy- maybe we're just running low on\nresources. Split octavia and designate into their own job. Turn\nswift off in that job.\n\nSkip sdk layer dns functional tests when designate is not present. We\nshould refactor these to deal with both cases.\n\nChange-Id: Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e\n""}]",0,607199,5fa7354a69c8f0f55ebc16a41c1b4c644c2c7914,9,2,4,2,,,0,"Split advanced networking services into a job

We're hitting timeouts like crazy- maybe we're just running low on
resources. Split octavia and designate into their own job. Turn
swift off in that job.

Skip sdk layer dns functional tests when designate is not present. We
should refactor these to deal with both cases.

Change-Id: Ie3c94a8beaac67a6e0dfc129ea18e6817bc2b11e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/99/607199/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8f24bff23419e4937468f7cd39b32532f9d3c2e9,python3-first, - name: openstack/heat vars: devstack_localrc: DISABLE_AMP_IMAGE_BUILD: true devstack_plugins: neutron: https://git.openstack.org/openstack/neutron heat: https://git.openstack.org/openstack/heat tox_environment: OPENSTACKSDK_HAS_HEAT: 1 - job: name: openstacksdk-functional-devstack-networking parent: openstacksdk-functional-devstack description: | Run openstacksdk functional tests against a devstack with advanced networking services enabled. required-projects: s-account: false s-container: false s-object: false s-proxy: false OPENSTACKSDK_HAS_SWIFT: 0, - name: openstack/heat devstack_plugins: heat: https://git.openstack.org/openstack/heat tox_environment: OPENSTACKSDK_HAS_HEAT: 1 DISABLE_AMP_IMAGE_BUILD: true OPENSTACKSDK_HAS_OCTAVIA: 1,22,7
openstack%2Fopenstacksdk~master~Idf36d78c524f60607dc166265a45db0c7226c0d8,openstack/openstacksdk,master,Idf36d78c524f60607dc166265a45db0c7226c0d8,Bump the per-test timeout for functional tests,ABANDONED,2018-10-01 15:38:18.000000000,2018-10-05 12:57:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-01 15:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6859cc298fb16f28673676cacc7aa587e9e857a0', 'message': ""Bump the per-test timeout for functional tests\n\nWe're getting killed here and it's expensive. I'm not crazy about longer\nper-test timeouts, but let's see if this stablizes the gate enough that\nwe can actually figure out why things are running slow.\n\nChange-Id: Idf36d78c524f60607dc166265a45db0c7226c0d8\n""}, {'number': 2, 'created': '2018-10-02 14:23:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fee42890b4db268ce074c8531562cf3e81023207', 'message': ""Bump the per-test timeout for functional tests\n\nWe're getting killed here and it's expensive. I'm not crazy about longer\nper-test timeouts, but let's see if this stablizes the gate enough that\nwe can actually figure out why things are running slow.\n\nChange-Id: Idf36d78c524f60607dc166265a45db0c7226c0d8\n""}]",0,606980,fee42890b4db268ce074c8531562cf3e81023207,5,1,2,2,,,0,"Bump the per-test timeout for functional tests

We're getting killed here and it's expensive. I'm not crazy about longer
per-test timeouts, but let's see if this stablizes the gate enough that
we can actually figure out why things are running slow.

Change-Id: Idf36d78c524f60607dc166265a45db0c7226c0d8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/80/606980/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6859cc298fb16f28673676cacc7aa587e9e857a0,python3-first, OS_TEST_TIMEOUT=600, OS_TEST_TIMEOUT=120,1,1
openstack%2Fmonasca-persister~master~I480e75f6254735f3221fcc02f96086b037256c85,openstack/monasca-persister,master,I480e75f6254735f3221fcc02f96086b037256c85,Turn logging down from DEBUG in persister-logging.conf,MERGED,2018-09-28 23:26:36.000000000,2018-10-05 12:57:21.000000000,2018-10-05 12:57:21.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 23:26:36.000000000', 'files': ['etc/monasca/persister-logging.conf'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/bb8c8fbec93916100618f785ece02f4c88b4b775', 'message': 'Turn logging down from DEBUG in persister-logging.conf\n\nAll the configurations for logging were set to DEBUG, which\ncreates a large amount of output to the console (especially from\nmonasca_common.kafka_lib) which in turn was captured by the\ndevstack screen session for the python tempest gate tests and\ncausing trouble with logstash indexing.\nTurn the default devstack logging to a more reasonable INFO.\n\nChange-Id: I480e75f6254735f3221fcc02f96086b037256c85\nStory: 2003911\n'}]",0,606219,bb8c8fbec93916100618f785ece02f4c88b4b775,9,4,1,10311,,,0,"Turn logging down from DEBUG in persister-logging.conf

All the configurations for logging were set to DEBUG, which
creates a large amount of output to the console (especially from
monasca_common.kafka_lib) which in turn was captured by the
devstack screen session for the python tempest gate tests and
causing trouble with logstash indexing.
Turn the default devstack logging to a more reasonable INFO.

Change-Id: I480e75f6254735f3221fcc02f96086b037256c85
Story: 2003911
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/19/606219/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/monasca/persister-logging.conf'],1,bb8c8fbec93916100618f785ece02f4c88b4b775,,level = INFOlevel = INFOlevel = INFOlevel = INFOformat = %(asctime)s %(levelname)s [%(name)s][%(threadName)s] %(message)s ,level = DEBUGlevel = DEBUGlevel = DEBUGlevel = DEBUGformat = %(asctime)s %(levelname)s [%(name)s][%(threadName)s] %(message)s,5,5
openstack%2Fcinder~master~I3ef59743f2a240a0a15452d9532ca18cf0f4dcab,openstack/cinder,master,I3ef59743f2a240a0a15452d9532ca18cf0f4dcab,Remove systool from rootwrap,MERGED,2018-09-29 18:18:03.000000000,2018-10-05 12:55:11.000000000,2018-10-02 16:57:16.000000000,"[{'_account_id': 24}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-29 18:18:03.000000000', 'files': ['etc/cinder/rootwrap.d/volume.filters'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c03f3c891e6bf0cf4b97f57aca8c33615375f91b', 'message': 'Remove systool from rootwrap\n\nRemove systool from rootrwrap its no longer being used.\n\nChange-Id: I3ef59743f2a240a0a15452d9532ca18cf0f4dcab\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,606610,c03f3c891e6bf0cf4b97f57aca8c33615375f91b,45,33,1,24,,,0,"Remove systool from rootwrap

Remove systool from rootrwrap its no longer being used.

Change-Id: I3ef59743f2a240a0a15452d9532ca18cf0f4dcab
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/606610/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cinder/rootwrap.d/volume.filters'],1,c03f3c891e6bf0cf4b97f57aca8c33615375f91b,privsep,,"systool: CommandFilter, systool, root",0,1
openstack%2Fnova~stable%2Focata~Ib323b74d4ea1e874b476ab5addfc6bc79cb7c751,openstack/nova,stable/ocata,Ib323b74d4ea1e874b476ab5addfc6bc79cb7c751,Don't delete neutron port when attach failed,MERGED,2018-10-03 15:22:23.000000000,2018-10-05 12:50:20.000000000,2018-10-05 12:50:19.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 15:22:23.000000000', 'files': ['nova/network/base_api.py', 'nova/tests/unit/network/test_api.py', 'releasenotes/notes/bug-1645175-b1ef3ad9a3e44ed6.yaml', 'doc/notification_samples/instance-shutdown-end.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbf3b7c70331fc2a7e7fcf3fa2551d806000b967', 'message': ""Don't delete neutron port when attach failed\n\nCurrently, when attaching neutron pre-existing\nport to an instance, if the attach failed, it\nwill also be deleted in Neutron side due to\nbad judgement of the who created the port by\nreading not up-to-date info_cache.\n\nThe workflow starts at:\nhttps://github.com/openstack/nova/blob/9ed0d6114/nova/network/neutronv2/api.py#L881\nordered_ports and preexisting_port_ids are\nthe same when attaching a preexisting port\nto an instance and it calls\nhttps://github.com/openstack/nova/blob/9ed0d6114/nova/network/base_api.py#L246\nwhich calls back into the neutronv2 api code\nhttps://github.com/openstack/nova/blob/9ed0d6114/nova/network/neutronv2/api.py#L1274\nand at this point, compute_utils.refresh_info_cache_for_instance(context,\ninstance) won't have the newly attached port in it(see\ndebug log: http://paste.openstack.org/show/613232/)\nbecause _build_network_info_model() is going to\nprocess it. The instance obj in memoryt with old\ninfo_cache will be used at rollback process and\ncausing the miss-judging.\n\nThis patch fixed it by updating instance.info_cache\nto the new ic after it is created.\n\n Conflicts:\n\tdoc/notification_samples/instance-shutdown-end.json\n\nCo-Authored-By: huangtianhua@huawei.com\nChange-Id: Ib323b74d4ea1e874b476ab5addfc6bc79cb7c751\ncloses-bug: #1645175\n(cherry picked from commit 115cf068a6d48cdf8b0d20a3c5a779bb8120aa9b)\n""}]",1,607614,cbf3b7c70331fc2a7e7fcf3fa2551d806000b967,11,8,1,17685,,,0,"Don't delete neutron port when attach failed

Currently, when attaching neutron pre-existing
port to an instance, if the attach failed, it
will also be deleted in Neutron side due to
bad judgement of the who created the port by
reading not up-to-date info_cache.

The workflow starts at:
https://github.com/openstack/nova/blob/9ed0d6114/nova/network/neutronv2/api.py#L881
ordered_ports and preexisting_port_ids are
the same when attaching a preexisting port
to an instance and it calls
https://github.com/openstack/nova/blob/9ed0d6114/nova/network/base_api.py#L246
which calls back into the neutronv2 api code
https://github.com/openstack/nova/blob/9ed0d6114/nova/network/neutronv2/api.py#L1274
and at this point, compute_utils.refresh_info_cache_for_instance(context,
instance) won't have the newly attached port in it(see
debug log: http://paste.openstack.org/show/613232/)
because _build_network_info_model() is going to
process it. The instance obj in memoryt with old
info_cache will be used at rollback process and
causing the miss-judging.

This patch fixed it by updating instance.info_cache
to the new ic after it is created.

 Conflicts:
	doc/notification_samples/instance-shutdown-end.json

Co-Authored-By: huangtianhua@huawei.com
Change-Id: Ib323b74d4ea1e874b476ab5addfc6bc79cb7c751
closes-bug: #1645175
(cherry picked from commit 115cf068a6d48cdf8b0d20a3c5a779bb8120aa9b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/607614/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/base_api.py', 'nova/tests/unit/network/test_api.py', 'releasenotes/notes/bug-1645175-b1ef3ad9a3e44ed6.yaml', 'doc/notification_samples/instance-shutdown-end.json']",4,cbf3b7c70331fc2a7e7fcf3fa2551d806000b967,bug/1645175," ""ip_addresses"": [],"," ""ip_addresses"": [{ ""nova_object.name"": ""IpPayload"", ""nova_object.namespace"": ""nova"", ""nova_object.version"": ""1.0"", ""nova_object.data"": { ""mac"": ""fa:16:3e:4c:2c:30"", ""address"": ""192.168.1.3"", ""port_uuid"": ""ce531f90-199f-48c0-816c-13e38010b442"", ""meta"": {}, ""version"": 4, ""label"": ""private-network"", ""device_name"": ""tapce531f90-19"" } }],",31,20
openstack%2Fnova~stable%2Focata~I6296cee6b8a4be1dd53c52f6290ebda926cf6465,openstack/nova,stable/ocata,I6296cee6b8a4be1dd53c52f6290ebda926cf6465,Add check for invalid inventory amounts,MERGED,2018-10-02 16:59:52.000000000,2018-10-05 12:50:14.000000000,2018-10-05 12:50:13.000000000,"[{'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 16:59:52.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml', 'nova/api/openstack/placement/handlers/inventory.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3eb967784bbe1c1668d22fdb8cee65dc2417103c', 'message': 'Add check for invalid inventory amounts\n\nThis patch adds sane minimum and maximums to the fields for an inventory\nposting, which will quickly return a 400 error if invalid values are\npassed instead of proceeding, only to fail at the DB layer.\n\nConflicts:\n\tnova/tests/functional/api/openstack/placement/gabbits/inventory.yaml\n\nPartial-Bug: #1673227\n\nChange-Id: I6296cee6b8a4be1dd53c52f6290ebda926cf6465\n(cherry picked from commit 0b2d7c4d028104d3a2a0d5851b194eface707ec3)\n'}]",0,607321,3eb967784bbe1c1668d22fdb8cee65dc2417103c,17,10,1,17685,,,0,"Add check for invalid inventory amounts

This patch adds sane minimum and maximums to the fields for an inventory
posting, which will quickly return a 400 error if invalid values are
passed instead of proceeding, only to fail at the DB layer.

Conflicts:
	nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml

Partial-Bug: #1673227

Change-Id: I6296cee6b8a4be1dd53c52f6290ebda926cf6465
(cherry picked from commit 0b2d7c4d028104d3a2a0d5851b194eface707ec3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/607321/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml', 'nova/api/openstack/placement/handlers/inventory.py']",2,3eb967784bbe1c1668d22fdb8cee65dc2417103c,bug/1673227," ""maximum"": db.MAX_INT, ""minimum"": 1, ""maximum"": db.MAX_INT, ""minimum"": 0, ""maximum"": db.MAX_INT, ""minimum"": 1 ""maximum"": db.MAX_INT, ""minimum"": 1 ""maximum"": db.MAX_INT, ""minimum"": 1 'min_unit': 1, 'max_unit': db.MAX_INT,"," ""maximum"": db.MAX_INT ""maximum"": db.MAX_INT ""maximum"": db.MAX_INT ""maximum"": db.MAX_INT ""maximum"": db.MAX_INT 'min_unit': 0, 'max_unit': 0,",94,9
openstack%2Fnova~stable%2Focata~I2a8dc038d6489e82ad51fdc27d22cf0ab2d66322,openstack/nova,stable/ocata,I2a8dc038d6489e82ad51fdc27d22cf0ab2d66322,Add check for invalid allocation amounts,MERGED,2018-10-02 16:59:52.000000000,2018-10-05 12:50:08.000000000,2018-10-05 12:50:08.000000000,"[{'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 16:59:52.000000000', 'files': ['nova/api/openstack/placement/handlers/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/43ae6df96b85c0e008f575193511ebf28b195edd', 'message': 'Add check for invalid allocation amounts\n\nThis patch adds a check for the amounts in allocations passed to the\nplacement API, and returns an error if any amount is not greater than\nzero.\n\nPartial-Bug: #1673227\n\nChange-Id: I2a8dc038d6489e82ad51fdc27d22cf0ab2d66322\n(cherry picked from commit 6a6d021f818d6145bd2cdc6431f95f40d8372d59)\n'}]",0,607320,43ae6df96b85c0e008f575193511ebf28b195edd,11,8,1,17685,,,0,"Add check for invalid allocation amounts

This patch adds a check for the amounts in allocations passed to the
placement API, and returns an error if any amount is not greater than
zero.

Partial-Bug: #1673227

Change-Id: I2a8dc038d6489e82ad51fdc27d22cf0ab2d66322
(cherry picked from commit 6a6d021f818d6145bd2cdc6431f95f40d8372d59)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/607320/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/handlers/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations.yaml']",2,43ae6df96b85c0e008f575193511ebf28b195edd,bug/1673227,"- name: put an allocation with zero usage PUT: /allocations/599ffd2d-526a-4b2e-8683-f13ad25f9958 request_headers: content-type: application/json data: allocations: - resource_provider: uuid: $ENVIRON['RP_UUID'] resources: DISK_GB: 0 status: 400 response_strings: - ""JSON does not validate: 0 is less than the minimum of 1"" - Failed validating 'minimum' in schema - name: put an allocation with omitted usage PUT: /allocations/599ffd2d-526a-4b2e-8683-f13ad25f9958 request_headers: content-type: application/json data: allocations: - resource_provider: uuid: $ENVIRON['RP_UUID'] status: 400 response_strings: - Failed validating 'required' in schema ",,30,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Fqueens~I3995d40535c60742f47f905c862482a9a2fea5ae,openstack/openstack-ansible-os_keystone,stable/queens,I3995d40535c60742f47f905c862482a9a2fea5ae,Increase retries to mitigate intermittent failure,ABANDONED,2018-09-24 14:45:58.000000000,2018-10-05 12:48:52.000000000,,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 14:45:58.000000000', 'files': ['tasks/keystone_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/39ef387ec1f6611f09e419810100300662a6d127', 'message': 'Increase retries to mitigate intermittent failure\n\nKeystone seems to encounter an error on upgrades where the fetched\nadmin record is missing mfa options. With enough retries the record\nis fetched correctly.\n\nChange-Id: I3995d40535c60742f47f905c862482a9a2fea5ae\nCloses-Bug: 1793389\n'}]",0,604804,39ef387ec1f6611f09e419810100300662a6d127,6,3,1,27926,,,0,"Increase retries to mitigate intermittent failure

Keystone seems to encounter an error on upgrades where the fetched
admin record is missing mfa options. With enough retries the record
is fetched correctly.

Change-Id: I3995d40535c60742f47f905c862482a9a2fea5ae
Closes-Bug: 1793389
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/04/604804/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_service_setup.yml'],1,39ef387ec1f6611f09e419810100300662a6d127,bug/1793389, retries: 15, retries: 5,1,1
openstack%2Foslo.config~master~Ie4897109c87d6dc2952c2eb35b83fe368fb31803,openstack/oslo.config,master,Ie4897109c87d6dc2952c2eb35b83fe368fb31803,python3: Ensure ConfigOpts __iter__ uses list(d.keys()),MERGED,2018-10-04 19:35:55.000000000,2018-10-05 12:45:55.000000000,2018-10-05 12:45:55.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 19:35:55.000000000', 'files': ['oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/7ad146c48791bebee12fbdcdb1ac2427237343c3', 'message': 'python3: Ensure ConfigOpts __iter__ uses list(d.keys())\n\nd.keys() no longer returns a copy of the keys in Python 3.\nThis is part of PEP 3106.\n\nChange-Id: Ie4897109c87d6dc2952c2eb35b83fe368fb31803\nCloses-Bug: #1796163\n'}]",0,608064,7ad146c48791bebee12fbdcdb1ac2427237343c3,10,3,1,11805,,,0,"python3: Ensure ConfigOpts __iter__ uses list(d.keys())

d.keys() no longer returns a copy of the keys in Python 3.
This is part of PEP 3106.

Change-Id: Ie4897109c87d6dc2952c2eb35b83fe368fb31803
Closes-Bug: #1796163
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/64/608064/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/cfg.py'],1,7ad146c48791bebee12fbdcdb1ac2427237343c3,bug/1796163," for key in itertools.chain(list(self._opts.keys()), list(self._groups.keys())):"," for key in itertools.chain(self._opts.keys(), self._groups.keys()):",2,1
openstack%2Fbifrost~master~I4ea97c574fa27b6a3639cbda5d129c9cd0ceb16a,openstack/bifrost,master,I4ea97c574fa27b6a3639cbda5d129c9cd0ceb16a,Allow customization of internal endpoints IP address,MERGED,2018-10-03 09:28:21.000000000,2018-10-05 12:44:47.000000000,2018-10-05 12:44:47.000000000,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 09:28:21.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'releasenotes/notes/allow-custom-private-endpoints-ip-b4f29647569a15ce.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a13a599febaf55ad0df2a6728e933c5e012c5628', 'message': 'Allow customization of internal endpoints IP address\n\nThis will replace the default 127.0.0.1 by say a potential\nIronic internal network IP address.\n\nChange-Id: I4ea97c574fa27b6a3639cbda5d129c9cd0ceb16a\n'}]",0,607509,a13a599febaf55ad0df2a6728e933c5e012c5628,7,3,1,19578,,,0,"Allow customization of internal endpoints IP address

This will replace the default 127.0.0.1 by say a potential
Ironic internal network IP address.

Change-Id: I4ea97c574fa27b6a3639cbda5d129c9cd0ceb16a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/09/607509/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'releasenotes/notes/allow-custom-private-endpoints-ip-b4f29647569a15ce.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml']",4,a13a599febaf55ad0df2a6728e933c5e012c5628,allow-setting-private-ip,"- name: ""Setting internal ironic-inspector URL"" set_fact: ironic_inspector_private_url: ""{{ ironic_inspector.keystone.internal_url | default('http://127.0.0.1:5050/') | replace('127.0.0.1', private_ip) }}"" when: private_ip is defined and private_ip | length > 0 baremetal-introspection internal ""{{ ironic_inspector_private_url | default(ironic_inspector.keystone.internal_url) | default('http://127.0.0.1:5050/') }}"""," baremetal-introspection internal ""{{ ironic_inspector.keystone.internal_url | default('http://127.0.0.1:5050/') }}""",30,3
openstack%2Fgovernance~master~I26400d82543254d25eee75d2340027c1f45b4849,openstack/governance,master,I26400d82543254d25eee75d2340027c1f45b4849,"Fix ""Updated"" entry rendering in new theme",ABANDONED,2018-10-02 10:02:31.000000000,2018-10-05 12:38:43.000000000,,"[{'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 10:02:31.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/def7902118657177d5d722e4f9d5ce3347ab49b9', 'message': 'Fix ""Updated"" entry rendering in new theme\n\nThe ""Updated"" entry was rendered in the new theme as:\nUpdated: b""\'Mon Oct 1 11:47:10 2018, commit c93981c\'""\n\nThis fixes it to look like:\nUpdated: Tue Oct 2 09:31:33 2018, commit 30c257b\n\nChange-Id: I26400d82543254d25eee75d2340027c1f45b4849\n'}]",1,607141,def7902118657177d5d722e4f9d5ce3347ab49b9,6,4,1,308,,,0,"Fix ""Updated"" entry rendering in new theme

The ""Updated"" entry was rendered in the new theme as:
Updated: b""'Mon Oct 1 11:47:10 2018, commit c93981c'""

This fixes it to look like:
Updated: Tue Oct 2 09:31:33 2018, commit 30c257b

Change-Id: I26400d82543254d25eee75d2340027c1f45b4849
",git fetch https://review.opendev.org/openstack/governance refs/changes/41/607141/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,def7902118657177d5d722e4f9d5ce3347ab49b9,code-change,"git_cmd = ""git log --pretty=format:'%ad, commit %h' --date=local -n1"" html_last_updated_fmt = os.popen(git_cmd).read()","git_cmd = [""git"", ""log"", ""--pretty=format:'%ad, commit %h'"", ""--date=local"", ""-n1""] html_last_updated_fmt = str(subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0])",2,4
openstack%2Fcharm-ceph-fs~master~Ida9fed2033b36ff8baaab19e3d9b708ac524ef16,openstack/charm-ceph-fs,master,Ida9fed2033b36ff8baaab19e3d9b708ac524ef16,Pass all CS_ vars to tox env to pickup timeout,MERGED,2018-09-20 11:17:50.000000000,2018-10-05 12:37:15.000000000,2018-10-05 12:37:15.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-20 11:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/57131f55b0b9b7bd4be4f4982302694a3081366c', 'message': 'Pass all CS_ vars to tox env to pickup timeout\n\nChange-Id: Ida9fed2033b36ff8baaab19e3d9b708ac524ef16\n'}, {'number': 2, 'created': '2018-10-05 10:10:32.000000000', 'files': ['src/tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/911c0b5bf608f259a432e05e966ed14f840d29ad', 'message': 'Pass all CS_ vars to tox env to pickup timeout\n\nChange-Id: Ida9fed2033b36ff8baaab19e3d9b708ac524ef16\n'}]",0,604047,911c0b5bf608f259a432e05e966ed14f840d29ad,23,5,2,12549,,,0,"Pass all CS_ vars to tox env to pickup timeout

Change-Id: Ida9fed2033b36ff8baaab19e3d9b708ac524ef16
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/47/604047/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tox.ini'],1,57131f55b0b9b7bd4be4f4982302694a3081366c,bug/cs-timeout,passenv = HOME TERM AMULET_* CS_*,passenv = HOME TERM AMULET_* CS_API_*,1,1
openstack%2Fproject-config~master~Id4ad82487de5885f6581c5e9d6772981771fb25d,openstack/project-config,master,Id4ad82487de5885f6581c5e9d6772981771fb25d,remove job settings for OpenStackAnsible repositories,MERGED,2018-08-29 16:17:00.000000000,2018-10-05 12:35:08.000000000,2018-10-05 12:35:07.000000000,"[{'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-29 16:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f75c961895cb420e9014738b2e35c7d5ed18be91', 'message': 'remove job settings for OpenStackAnsible repositories\n\nThis is a mechanically generated patch to remove the job settings that\nhave been migrated to the git repositories owned by the OpenStackAnsible team.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Id4ad82487de5885f6581c5e9d6772981771fb25d\nStory: #2002586\nTask: #24319\n'}, {'number': 2, 'created': '2018-10-04 11:10:46.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e6931e8484f1554c7a9a843dca79818bf14826e7', 'message': 'remove job settings for OpenStackAnsible repositories\n\nThis is a mechanically generated patch to remove the job settings that\nhave been migrated to the git repositories owned by the OpenStackAnsible team.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Id4ad82487de5885f6581c5e9d6772981771fb25d\nStory: #2002586\nTask: #24319\n'}]",0,597576,e6931e8484f1554c7a9a843dca79818bf14826e7,13,4,2,2472,,,0,"remove job settings for OpenStackAnsible repositories

This is a mechanically generated patch to remove the job settings that
have been migrated to the git repositories owned by the OpenStackAnsible team.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Id4ad82487de5885f6581c5e9d6772981771fb25d
Story: #2002586
Task: #24319
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/597576/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f75c961895cb420e9014738b2e35c7d5ed18be91,python3-first,, templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - check-requirements - publish-openstack-sphinx-docs - deploy-guide-jobs - release-notes-jobs name: openstack/openstack-ansible-apt_package_pinning templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-ceph_client templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-galera_client templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-lxc_container_create templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-lxc_hosts templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-openstack_hosts templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-openstack_openrc templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-ops templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-os_congress templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-os_karbor templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-os_molteniron templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-os_monasca-agent templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-os_monasca-ui templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-os_octavia templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-os_searchlight templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-os_tacker templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-os_tempest templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-pip_install templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-repo_build templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-repo_server templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: name: openstack/openstack-ansible-rsyslog_client templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - project: templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs name: openstack/openstack-ansible-specs templates: - openstack-specs-jobs - check-requirements - project: name: openstack/openstack-ansible-tests templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs post: jobs: - propose-updates: vars: update_target: openstack-ansible-tests - project:,0,337
openstack%2Ftripleo-heat-templates~master~I3a042bfde6dc8b4a5c36c97112bf4324d2370b91,openstack/tripleo-heat-templates,master,I3a042bfde6dc8b4a5c36c97112bf4324d2370b91,"Rename ""OS::TripleO::Services::Docker"" and ""OS::TripleO::Services::DockerRegistry""",ABANDONED,2018-09-13 09:48:17.000000000,2018-10-05 12:33:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-09-13 09:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5ddf84dcc09b2d98e81a8c2c0523b9092c35111', 'message': 'Rename ""OS::TripleO::Services::Docker"" and ""OS::TripleO::Services::DockerRegistry""\n\nRenaming those two resources to be more generic. As podman support is being added,\nwe\'d rather avoid using ""docker"" name for ""generic"" parts that can concern, in fact,\nany container technology.\n\nChange-Id: I3a042bfde6dc8b4a5c36c97112bf4324d2370b91\n'}, {'number': 2, 'created': '2018-09-14 08:39:14.000000000', 'files': ['ci/environments/multinode_major_upgrade.yaml', 'environments/baremetal-services.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario009-multinode.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'environments/docker.yaml', 'environments/openshift.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'roles/CephFile.yaml', 'roles/README.rst', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'ci/environments/multinode.yaml', 'roles/BlockStorage.yaml', 'roles/Compute.yaml', 'roles/OpenShiftInfra.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml', 'roles/Undercloud.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/undercloud.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'ci/environments/ovb-ha.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'roles/OpenShiftMaster.yaml', 'roles/OpenShiftWorker.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/kubernetes.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'roles/Telemetry.yaml', 'environments/docker-uc-light.yaml', 'ci/environments/scenario011-multinode-containers.yaml', 'ci/environments/scenario006-multinode.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-3nodes.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbb91799348955d1c1669967d787653b6f996fe3', 'message': 'Rename ""OS::TripleO::Services::Docker"" and ""OS::TripleO::Services::DockerRegistry""\n\nRenaming those two resources to be more generic. As podman support is being added,\nwe\'d rather avoid using ""docker"" name for ""generic"" parts that can concern, in fact,\nany container technology.\n\nChange-Id: I3a042bfde6dc8b4a5c36c97112bf4324d2370b91\n'}]",2,602278,fbb91799348955d1c1669967d787653b6f996fe3,9,4,2,28223,,,0,"Rename ""OS::TripleO::Services::Docker"" and ""OS::TripleO::Services::DockerRegistry""

Renaming those two resources to be more generic. As podman support is being added,
we'd rather avoid using ""docker"" name for ""generic"" parts that can concern, in fact,
any container technology.

Change-Id: I3a042bfde6dc8b4a5c36c97112bf4324d2370b91
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/602278/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/multinode_major_upgrade.yaml', 'environments/baremetal-services.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario009-multinode.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'environments/docker.yaml', 'environments/openshift.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'roles/CephFile.yaml', 'roles/README.rst', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'ci/environments/multinode.yaml', 'roles/BlockStorage.yaml', 'roles/Compute.yaml', 'roles/OpenShiftInfra.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml', 'roles/Undercloud.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/undercloud.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'ci/environments/ovb-ha.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'roles/OpenShiftMaster.yaml', 'roles/OpenShiftWorker.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/kubernetes.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'roles/Telemetry.yaml', 'environments/docker-uc-light.yaml', 'ci/environments/scenario011-multinode-containers.yaml', 'ci/environments/scenario006-multinode.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-3nodes.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",67,e5ddf84dcc09b2d98e81a8c2c0523b9092c35111,podman/container, - OS::TripleO::Services::Container, - OS::TripleO::Services::Docker,83,83
openstack%2Fpython-keystoneclient~master~I53c95dfd73679653099df83400e18f9ba5c1def7,openstack/python-keystoneclient,master,I53c95dfd73679653099df83400e18f9ba5c1def7,Use templates for cover and lower-constraints,MERGED,2018-09-07 09:57:50.000000000,2018-10-05 12:12:00.000000000,2018-10-05 12:12:00.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 09:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ea2bddbbec58ca788b37e8a1faebc08c4251d74a', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job as\nnon-voting in the check queue only.\n\nUse openstack-lower-constraints-jobs template\n\nRemove jobs that are part of the templates.\n\nChange-Id: I53c95dfd73679653099df83400e18f9ba5c1def7\n'}, {'number': 2, 'created': '2018-09-24 18:22:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f311819acf4449b7b77244cb5fb4205080a39b9a', 'message': 'Use templates for cover and lower-constraints\n\nUse openstack-tox-cover template, this runs the cover job as\nnon-voting in the check queue only.\n\nUse openstack-lower-constraints-jobs template\n\nRemove jobs that are part of the templates.\n\nChange-Id: I53c95dfd73679653099df83400e18f9ba5c1def7\n'}]",0,600692,f311819acf4449b7b77244cb5fb4205080a39b9a,9,3,2,6547,,,0,"Use templates for cover and lower-constraints

Use openstack-tox-cover template, this runs the cover job as
non-voting in the check queue only.

Use openstack-lower-constraints-jobs template

Remove jobs that are part of the templates.

Change-Id: I53c95dfd73679653099df83400e18f9ba5c1def7
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/92/600692/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ea2bddbbec58ca788b37e8a1faebc08c4251d74a,update-zuul, - openstack-cover-jobs - openstack-lower-constraints-jobs, - openstack-tox-lower-constraints gate: jobs: - openstack-tox-lower-constraints post: jobs: - openstack-tox-cover,2,7
openstack%2Fmanila-tempest-plugin~master~Ifa5f5cf1be637f39de54b7f076c52294318bd3af,openstack/manila-tempest-plugin,master,Ifa5f5cf1be637f39de54b7f076c52294318bd3af,[DNM] Testing Netapp CI Triggering,ABANDONED,2018-09-19 14:27:22.000000000,2018-10-05 12:07:44.000000000,,"[{'_account_id': 17097}, {'_account_id': 22348}, {'_account_id': 24407}, {'_account_id': 25186}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-09-19 14:27:22.000000000', 'files': ['test.txt'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/03ef7342293ac1c2c46e60e329ad2ceb34e322bb', 'message': '[DNM] Testing Netapp CI Triggering\n\nChange-Id: Ifa5f5cf1be637f39de54b7f076c52294318bd3af\n'}]",0,603817,03ef7342293ac1c2c46e60e329ad2ceb34e322bb,23,5,1,25186,,,0,"[DNM] Testing Netapp CI Triggering

Change-Id: Ifa5f5cf1be637f39de54b7f076c52294318bd3af
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/17/603817/1 && git format-patch -1 --stdout FETCH_HEAD,['test.txt'],1,03ef7342293ac1c2c46e60e329ad2ceb34e322bb,test_ci_triggering,,,0,0
openstack%2Fos-testr~master~Icbe96ac814025a5ec1f37a7c97a77eb8523ca5c8,openstack/os-testr,master,Icbe96ac814025a5ec1f37a7c97a77eb8523ca5c8,fix tox python3 overrides,ABANDONED,2018-09-29 23:52:42.000000000,2018-10-05 11:56:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-09-29 23:52:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/7c87040ee56ffcfc6d6a84de67cacce9fd13a4f6', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Icbe96ac814025a5ec1f37a7c97a77eb8523ca5c8\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606695,7c87040ee56ffcfc6d6a84de67cacce9fd13a4f6,4,2,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Icbe96ac814025a5ec1f37a7c97a77eb8523ca5c8
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/95/606695/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7c87040ee56ffcfc6d6a84de67cacce9fd13a4f6,python3-first,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4,openstack/openstack-ansible-os_horizon,stable/ocata,Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4,"Revert ""Make functional job non-voting""",MERGED,2018-10-05 04:12:41.000000000,2018-10-05 11:56:34.000000000,2018-10-05 11:56:34.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 04:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4cb212ef7fb7ef6fce37bffa0c40f983680a18ce', 'message': 'Revert ""Make functional job non-voting""\n\nThis reverts change I830a57ed81a08b8929b3bd446d9c919a94e145f9.\n\nChange-Id: Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4\n'}, {'number': 2, 'created': '2018-10-05 07:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a95676e185350092dbcf2b4a794b7528eb08dc0f', 'message': 'Revert ""Make functional job non-voting""\n\nThis reverts change I830a57ed81a08b8929b3bd446d9c919a94e145f9.\n\nChange-Id: Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4\n'}, {'number': 3, 'created': '2018-10-05 08:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/41a063f7b1cef955fc97c1cf83d0b0b2fd0a7dd0', 'message': 'Revert ""Make functional job non-voting""\n\nThis reverts change I830a57ed81a08b8929b3bd446d9c919a94e145f9.\n\nChange-Id: Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4\n'}, {'number': 4, 'created': '2018-10-05 10:00:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/91764ddeeb9eb096e2a52ff936b5e1ef0080ff5d', 'message': 'Revert ""Make functional job non-voting""\n\nThis reverts change I830a57ed81a08b8929b3bd446d9c919a94e145f9.\n\nChange-Id: Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4\n'}]",0,608158,91764ddeeb9eb096e2a52ff936b5e1ef0080ff5d,14,2,4,6547,,,0,"Revert ""Make functional job non-voting""

This reverts change I830a57ed81a08b8929b3bd446d9c919a94e145f9.

Change-Id: Ia9e5875db2d0c46f8e8b72e5d24fe65b49bcf4e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/58/608158/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4cb212ef7fb7ef6fce37bffa0c40f983680a18ce,cleanup-role-tests, - openstack-ansible-functional-ubuntu-xenial - openstack-ansible-functional-ubuntu-xenial, - openstack-ansible-functional-ubuntu-xenial: voting: false,2,2
openstack%2Fpuppet-horizon~master~Ib632dca7f438b39e10903ff75ec2d8f9115cc520,openstack/puppet-horizon,master,Ib632dca7f438b39e10903ff75ec2d8f9115cc520,"Fix ""create role"" button in identity/roles",MERGED,2018-09-21 10:54:51.000000000,2018-10-05 11:54:52.000000000,2018-10-01 17:05:53.000000000,"[{'_account_id': 360}, {'_account_id': 1004}, {'_account_id': 1607}, {'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 16137}, {'_account_id': 16628}, {'_account_id': 18795}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-21 10:54:51.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1e8909e4c50f71d460cbec8d826ec48e744fcc62', 'message': 'Fix ""create role"" button in identity/roles\n\nSince the identity/roles view now uses angular, the\n\'OPENSTACK_KEYSTONE_BACKEND\' value needs to be added to the\nREST_API_REQUIRED_SETTINGS setting for it to work properly,\nas per https://review.openstack.org/#/c/579085/\n\nChange-Id: Ib632dca7f438b39e10903ff75ec2d8f9115cc520\n'}]",0,604329,1e8909e4c50f71d460cbec8d826ec48e744fcc62,9,12,1,8648,,,0,"Fix ""create role"" button in identity/roles

Since the identity/roles view now uses angular, the
'OPENSTACK_KEYSTONE_BACKEND' value needs to be added to the
REST_API_REQUIRED_SETTINGS setting for it to work properly,
as per https://review.openstack.org/#/c/579085/

Change-Id: Ib632dca7f438b39e10903ff75ec2d8f9115cc520
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/29/604329/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,1e8909e4c50f71d460cbec8d826ec48e744fcc62,create_role," 'CREATE_IMAGE_DEFAULTS', 'OPENSTACK_KEYSTONE_BACKEND',]", 'CREATE_IMAGE_DEFAULTS'],2,1
openstack%2Fpuppet-cinder~master~Ie50e29bd96471110a3738e3fcccfb8af37cd31be,openstack/puppet-cinder,master,Ie50e29bd96471110a3738e3fcccfb8af37cd31be,Dell EMC SC: Add use_multipath_for_image_xfer,MERGED,2018-09-27 19:29:34.000000000,2018-10-05 11:40:14.000000000,2018-10-05 11:40:14.000000000,"[{'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 19:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6da3f88796bea5c8cd579a06dfddfb8da29a1eb5', 'message': 'Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change implements the documented best practice to use multipath\nwith a Cinder deployment by setting a Cinder configuration setting\nto ensure that multipath is appropriately used by the Dell EMC\nSC iSCSI driver.\n\nChange-Id: Ie50e29bd96471110a3738e3fcccfb8af37cd31be\n'}, {'number': 2, 'created': '2018-10-03 19:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bccd9bee141cddcc207a44c582f01969728d8ce9', 'message': 'Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change implements the documented best practice to use multipath\nwith a Cinder deployment by setting a Cinder configuration setting\nto ensure that multipath is appropriately used by the Dell EMC\nSC iSCSI driver.\n\nChange-Id: Ie50e29bd96471110a3738e3fcccfb8af37cd31be\n'}, {'number': 3, 'created': '2018-10-03 19:12:26.000000000', 'files': ['spec/defines/cinder_backend_dellsc_iscsi_spec.rb', 'releasenotes/notes/dellsc-driver-a7cd300a24a64b01.yaml', 'manifests/backend/dellsc_iscsi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/72035c5e3ca46c37798da2f894ff55e6fc62950f', 'message': 'Dell EMC SC: Add use_multipath_for_image_xfer\n\nThis change implements the documented best practice to use multipath\nwith a Cinder deployment by setting a Cinder configuration setting\nto ensure that multipath is appropriately used by the Dell EMC\nSC iSCSI driver.\n\nChange-Id: Ie50e29bd96471110a3738e3fcccfb8af37cd31be\n'}]",2,605848,72035c5e3ca46c37798da2f894ff55e6fc62950f,17,5,3,10379,,,0,"Dell EMC SC: Add use_multipath_for_image_xfer

This change implements the documented best practice to use multipath
with a Cinder deployment by setting a Cinder configuration setting
to ensure that multipath is appropriately used by the Dell EMC
SC iSCSI driver.

Change-Id: Ie50e29bd96471110a3738e3fcccfb8af37cd31be
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/48/605848/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/cinder_backend_dellsc_iscsi_spec.rb', 'manifests/backend/dellsc_iscsi.pp']",2,6da3f88796bea5c8cd579a06dfddfb8da29a1eb5,dell_multipath_conf,"# [*use_multipath_for_image_xfer*] # (Optional) Enables multipath configuration. # Defaults to true. # $volume_backend_name = $name, $dell_sc_api_port = $::os_service_default, $dell_sc_server_folder = 'srv', $dell_sc_verify_cert = $::os_service_default, $dell_sc_volume_folder = 'vol', $iscsi_port = $::os_service_default, $excluded_domain_ip = $::os_service_default, $secondary_san_ip = $::os_service_default, $secondary_san_login = $::os_service_default, $secondary_san_password = $::os_service_default, $secondary_sc_api_port = $::os_service_default, $manage_volume_type = false, $use_multipath_for_image_xfer = true, ""${name}/volume_backend_name"": value => $volume_backend_name; ""${name}/volume_driver"": value => ""cinder.volume.drivers.${driver}""; ""${name}/san_ip"": value => $san_ip; ""${name}/san_login"": value => $san_login; ""${name}/san_password"": value => $san_password, secret => true; ""${name}/iscsi_ip_address"": value => $iscsi_ip_address; ""${name}/dell_sc_ssn"": value => $dell_sc_ssn; ""${name}/dell_sc_api_port"": value => $dell_sc_api_port; ""${name}/dell_sc_server_folder"": value => $dell_sc_server_folder; ""${name}/dell_sc_verify_cert"": value => $dell_sc_verify_cert; ""${name}/dell_sc_volume_folder"": value => $dell_sc_volume_folder; ""${name}/iscsi_port"": value => $iscsi_port; ""${name}/secondary_san_ip"": value => $secondary_san_ip; ""${name}/secondary_san_login"": value => $secondary_san_login; ""${name}/secondary_san_password"": value => $secondary_san_password, secret => true; ""${name}/secondary_sc_api_port"": value => $secondary_sc_api_port; ""${name}/use_multipath_for_image_xfer"": value => $use_multipath_for_image_xfer;"," $volume_backend_name = $name, $dell_sc_api_port = $::os_service_default, $dell_sc_server_folder = 'srv', $dell_sc_verify_cert = $::os_service_default, $dell_sc_volume_folder = 'vol', $iscsi_port = $::os_service_default, $excluded_domain_ip = $::os_service_default, $secondary_san_ip = $::os_service_default, $secondary_san_login = $::os_service_default, $secondary_san_password = $::os_service_default, $secondary_sc_api_port = $::os_service_default, $manage_volume_type = false, ""${name}/volume_backend_name"": value => $volume_backend_name; ""${name}/volume_driver"": value => ""cinder.volume.drivers.${driver}""; ""${name}/san_ip"": value => $san_ip; ""${name}/san_login"": value => $san_login; ""${name}/san_password"": value => $san_password, secret => true; ""${name}/iscsi_ip_address"": value => $iscsi_ip_address; ""${name}/dell_sc_ssn"": value => $dell_sc_ssn; ""${name}/dell_sc_api_port"": value => $dell_sc_api_port; ""${name}/dell_sc_server_folder"": value => $dell_sc_server_folder; ""${name}/dell_sc_verify_cert"": value => $dell_sc_verify_cert; ""${name}/dell_sc_volume_folder"": value => $dell_sc_volume_folder; ""${name}/iscsi_port"": value => $iscsi_port; ""${name}/secondary_san_ip"": value => $secondary_san_ip; ""${name}/secondary_san_login"": value => $secondary_san_login; ""${name}/secondary_san_password"": value => $secondary_san_password, secret => true; ""${name}/secondary_sc_api_port"": value => $secondary_sc_api_port;",46,38
openstack%2Fkeystonemiddleware~master~Ie4b3319862ba7fbd329dc6883ce837e894d5270c,openstack/keystonemiddleware,master,Ie4b3319862ba7fbd329dc6883ce837e894d5270c,Respect delay_auth_decision when Keystone is unavailable,MERGED,2018-09-07 20:37:50.000000000,2018-10-05 11:36:19.000000000,2018-10-05 11:36:19.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 20:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/91cb8040e0dc86c3aa072b7a8cf06e6853c30e4f', 'message': ""Respect delay_auth_decision when Keystone is unavailable\n\nThe delay_auth_decision option has two main uses:\n\n  1. Allow a service to provide its own auth mechanism, separate from\n     auth tokens (like Swift's tempurl middleware).\n  2. Allow a service to integrate with multiple auth middlewares which\n     may want to use the same X-Auth-Token header.\n\nThe first case works fine even when the service has trouble talking to\nKeystone -- the client doesn't send an X-Auth-Token header, so we never\neven attempt to contact Keystone.\n\nThe second case can be problematic, however. The client will provide\nsome token, and we don't know whether it's valid for Keystone, the other\nauth system, or neither. We have to *try* contacting Keystone, but if\nthat was down we'd previously return a 503 without ever trying the other\nauth system. As a result, a Keystone failure results in a total system\nfailure.\n\nNow, when delay_auth_decision is True and we cannot determine whether a\ntoken is valid or invalid, we'll instead declare the token invalid and\ndefer the rejection. As a result, Keystone failures only affect Keystone\nusers, and tokens issued by the other auth system may still be validated\nand used.\n\nChange-Id: Ie4b3319862ba7fbd329dc6883ce837e894d5270c\n""}, {'number': 2, 'created': '2018-09-07 20:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/682d28df70f43b7bd7353abc355fee9b89a616b4', 'message': ""Respect delay_auth_decision when Keystone is unavailable\n\nThe delay_auth_decision option has two main uses:\n\n  1. Allow a service to provide its own auth mechanism, separate from\n     auth tokens (like Swift's tempurl middleware).\n  2. Allow a service to integrate with multiple auth middlewares which\n     may want to use the same X-Auth-Token header.\n\nThe first case works fine even when the service has trouble talking to\nKeystone -- the client doesn't send an X-Auth-Token header, so we never\neven attempt to contact Keystone.\n\nThe second case can be problematic, however. The client will provide\nsome token, and we don't know whether it's valid for Keystone, the other\nauth system, or neither. We have to *try* contacting Keystone, but if\nthat was down we'd previously return a 503 without ever trying the other\nauth system. As a result, a Keystone failure results in a total system\nfailure.\n\nNow, when delay_auth_decision is True and we cannot determine whether a\ntoken is valid or invalid, we'll instead declare the token invalid and\ndefer the rejection. As a result, Keystone failures only affect Keystone\nusers, and tokens issued by the other auth system may still be validated\nand used.\n\nChange-Id: Ie4b3319862ba7fbd329dc6883ce837e894d5270c\n""}, {'number': 3, 'created': '2018-09-11 06:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/888b4f403a64e815a0d07cff49f5c61bf825c8a3', 'message': ""Respect delay_auth_decision when Keystone is unavailable\n\nThe delay_auth_decision option has two main uses:\n\n  1. Allow a service to provide its own auth mechanism, separate from\n     auth tokens (like Swift's tempurl middleware).\n  2. Allow a service to integrate with multiple auth middlewares which\n     may want to use the same X-Auth-Token header.\n\nThe first case works fine even when the service has trouble talking to\nKeystone -- the client doesn't send an X-Auth-Token header, so we never\neven attempt to contact Keystone.\n\nThe second case can be problematic, however. The client will provide\nsome token, and we don't know whether it's valid for Keystone, the other\nauth system, or neither. We have to *try* contacting Keystone, but if\nthat was down we'd previously return a 503 without ever trying the other\nauth system. As a result, a Keystone failure results in a total system\nfailure.\n\nNow, when delay_auth_decision is True and we cannot determine whether a\ntoken is valid or invalid, we'll instead declare the token invalid and\ndefer the rejection. As a result, Keystone failures only affect Keystone\nusers, and tokens issued by the other auth system may still be validated\nand used.\n\nChange-Id: Ie4b3319862ba7fbd329dc6883ce837e894d5270c\n""}, {'number': 4, 'created': '2018-09-11 13:55:46.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'releasenotes/notes/delay_auth_instead_of_503-f9b46bf4fbc11455.yaml', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/da5932affc253a8b50ba753c6f9fabde68410501', 'message': ""Respect delay_auth_decision when Keystone is unavailable\n\nThe delay_auth_decision option has two main uses:\n\n  1. Allow a service to provide its own auth mechanism, separate from\n     auth tokens (like Swift's tempurl middleware).\n  2. Allow a service to integrate with multiple auth middlewares which\n     may want to use the same X-Auth-Token header.\n\nThe first case works fine even when the service has trouble talking to\nKeystone -- the client doesn't send an X-Auth-Token header, so we never\neven attempt to contact Keystone.\n\nThe second case can be problematic, however. The client will provide\nsome token, and we don't know whether it's valid for Keystone, the other\nauth system, or neither. We have to *try* contacting Keystone, but if\nthat was down we'd previously return a 503 without ever trying the other\nauth system. As a result, a Keystone failure results in a total system\nfailure.\n\nNow, when delay_auth_decision is True and we cannot determine whether a\ntoken is valid or invalid, we'll instead declare the token invalid and\ndefer the rejection. As a result, Keystone failures only affect Keystone\nusers, and tokens issued by the other auth system may still be validated\nand used.\n\nChange-Id: Ie4b3319862ba7fbd329dc6883ce837e894d5270c\n""}]",6,600862,da5932affc253a8b50ba753c6f9fabde68410501,17,4,4,15343,,,0,"Respect delay_auth_decision when Keystone is unavailable

The delay_auth_decision option has two main uses:

  1. Allow a service to provide its own auth mechanism, separate from
     auth tokens (like Swift's tempurl middleware).
  2. Allow a service to integrate with multiple auth middlewares which
     may want to use the same X-Auth-Token header.

The first case works fine even when the service has trouble talking to
Keystone -- the client doesn't send an X-Auth-Token header, so we never
even attempt to contact Keystone.

The second case can be problematic, however. The client will provide
some token, and we don't know whether it's valid for Keystone, the other
auth system, or neither. We have to *try* contacting Keystone, but if
that was down we'd previously return a 503 without ever trying the other
auth system. As a result, a Keystone failure results in a total system
failure.

Now, when delay_auth_decision is True and we cannot determine whether a
token is valid or invalid, we'll instead declare the token invalid and
defer the rejection. As a result, Keystone failures only affect Keystone
users, and tokens issued by the other auth system may still be validated
and used.

Change-Id: Ie4b3319862ba7fbd329dc6883ce837e894d5270c
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/62/600862/4 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py'],1,91cb8040e0dc86c3aa072b7a8cf06e6853c30e4f,delay_auth_decision-better," def token_response(self, request, context): auth_id = request.headers.get('X-Auth-Token') self.assertEqual(auth_id, FAKE_ADMIN_TOKEN_ID) if request.headers.get('X-Subject-Token') == ERROR_TOKEN: msg = 'Network connection refused.' raise ksc_exceptions.ConnectionRefused(msg) # All others just fail context.status_code = 404 return '' def test_auth_plugin_with_token(self): self.requests_mock.get('%s/v3/auth/tokens' % BASE_URI, text=self.token_response, headers={'X-Subject-Token': uuid.uuid4().hex}) body = uuid.uuid4().hex www_authenticate_uri = 'http://local.test' conf = { 'delay_auth_decision': 'True', 'www_authenticate_uri': www_authenticate_uri, 'auth_type': 'admin_token', 'endpoint': '%s/v3' % BASE_URI, 'token': FAKE_ADMIN_TOKEN_ID, } middleware = self.create_simple_middleware(body=body, conf=conf) resp = self.call(middleware, headers={ 'X-Auth-Token': 'non-keystone-token'}) self.assertEqual(six.b(body), resp.body) token_auth = resp.request.environ['keystone.token_auth'] self.assertFalse(token_auth.has_user_token) self.assertIsNone(token_auth.user) self.assertFalse(token_auth.has_service_token) self.assertIsNone(token_auth.service) def test_auth_plugin_with_token_keystone_down(self): self.requests_mock.get('%s/v3/auth/tokens' % BASE_URI, text=self.token_response, headers={'X-Subject-Token': uuid.uuid4().hex}) body = uuid.uuid4().hex www_authenticate_uri = 'http://local.test' conf = { 'delay_auth_decision': 'True', 'www_authenticate_uri': www_authenticate_uri, 'auth_type': 'admin_token', 'endpoint': '%s/v3' % BASE_URI, 'token': FAKE_ADMIN_TOKEN_ID, 'http_request_max_retries': '0' } middleware = self.create_simple_middleware(body=body, conf=conf) resp = self.call(middleware, headers={'X-Auth-Token': ERROR_TOKEN}) self.assertEqual(six.b(body), resp.body) token_auth = resp.request.environ['keystone.token_auth'] self.assertFalse(token_auth.has_user_token) self.assertIsNone(token_auth.user) self.assertFalse(token_auth.has_service_token) self.assertIsNone(token_auth.service) ",,66,0
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe,openstack/openstack-ansible-os_horizon,stable/ocata,Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe,"role tests: Build horizon from stable/ocata, not master",MERGED,2018-10-04 17:17:49.000000000,2018-10-05 11:36:17.000000000,2018-10-05 11:36:17.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 17:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/7f9f24202204d54fcff5d348e2eab8a7233f47e9', 'message': ""role tests: Build horizon from stable/ocata, not master\n\nCurrently the overrides set the role test to build horizon master,\nrather than to use the defaults in the role. This is not what is\nsupposed to happen and master's requirements are incompatible with\nocata's upper-constraints, so it fails.\n\nChange-Id: Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe\n""}, {'number': 2, 'created': '2018-10-05 08:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/52f9425073232f4259520ae7dd512011369d7df7', 'message': ""role tests: Build horizon from stable/ocata, not master\n\nCurrently the overrides set the role test to build horizon master,\nrather than to use the defaults in the role. This is not what is\nsupposed to happen and master's requirements are incompatible with\nocata's upper-constraints, so it fails.\n\nAlso, it seems that the tempest tests aren't working for this combo\nof tempest and the tempest plugins. Given that ocata is in extended\nmaintenance, it should be OK to remove the tempest testing and simply\ntest the convergence.\n\nChange-Id: Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe\n""}, {'number': 3, 'created': '2018-10-05 09:59:37.000000000', 'files': ['tests/test.yml', 'tests/os_horizon-overrides.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/56f7af157deed0c05141dd54cd7d3b0e2f8120d2', 'message': ""role tests: Build horizon from stable/ocata, not master\n\nCurrently the overrides set the role test to build horizon master,\nrather than to use the defaults in the role. This is not what is\nsupposed to happen and master's requirements are incompatible with\nocata's upper-constraints, so it fails.\n\nAlso, it seems that the tempest tests aren't working for this combo\nof tempest and the tempest plugins. Given that ocata is in extended\nmaintenance, it should be OK to remove the tempest testing and simply\ntest the convergence.\n\nChange-Id: Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe\n""}]",0,608035,56f7af157deed0c05141dd54cd7d3b0e2f8120d2,14,4,3,6816,,,0,"role tests: Build horizon from stable/ocata, not master

Currently the overrides set the role test to build horizon master,
rather than to use the defaults in the role. This is not what is
supposed to happen and master's requirements are incompatible with
ocata's upper-constraints, so it fails.

Also, it seems that the tempest tests aren't working for this combo
of tempest and the tempest plugins. Given that ocata is in extended
maintenance, it should be OK to remove the tempest testing and simply
test the convergence.

Change-Id: Ic04b818ab8ebbf4f4baa904dc45d350335e87dfe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/35/608035/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/os_horizon-overrides.yml'],1,7f9f24202204d54fcff5d348e2eab8a7233f47e9,cleanup-role-tests,,horizon_git_install_branch: master horizon_requirements_git_install_branch: master,0,2
openstack%2Ftempest-tripleo-ui~master~I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d,openstack/tempest-tripleo-ui,master,I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d,Add basic project structure,MERGED,2018-06-15 13:14:04.000000000,2018-10-05 11:21:28.000000000,2018-10-05 11:21:28.000000000,"[{'_account_id': 4978}, {'_account_id': 7509}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 10459}, {'_account_id': 12946}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-15 13:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/1db3a5d7e924556f7868fc3b8b2b4aa4f46dc106', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\n'}, {'number': 2, 'created': '2018-06-30 00:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/1ce8e1351800cd9e1ff410ebf663fcbe82ab887b', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\n'}, {'number': 3, 'created': '2018-07-13 15:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/a75b064c3f4c23af9134366b1ee0b98ebd2b8ac8', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 4, 'created': '2018-08-06 13:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/f4084243b179fa2b1aab5109477e56c1d7bdc3b7', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 5, 'created': '2018-09-19 15:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/f233eca182346e457a8d17c3e5f48e9303b9af3d', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 6, 'created': '2018-09-19 22:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/920615555227b0fe9c23806eba3c055ca589bb40', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 7, 'created': '2018-09-24 18:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/0b90e8b0ea734f7edeeda673e8319df7104a6fdd', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 8, 'created': '2018-09-25 12:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/bc90fa6c2c7e572b0ab79f04f8e63662a846f58d', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 9, 'created': '2018-09-25 12:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/1384b294e1e0508f4c3abb0806f6a188e2c42ff2', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 10, 'created': '2018-09-25 13:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/2628637346394bafc6be8681c23bcbc4c981e867', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 11, 'created': '2018-09-25 13:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/15b79bd47f3f75127b55f128c815c7e2a319ce32', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 12, 'created': '2018-09-25 16:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/1499e49ada26f520c2f5e5d6100c5824eb062802', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 13, 'created': '2018-09-26 11:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/70ccfc713d7960d72321e0d744fd2540c8423a1b', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}, {'number': 14, 'created': '2018-09-26 14:23:55.000000000', 'files': ['.gitignore', 'releasenotes/notes/set-up-project-1f593fc4174758e6.yaml', 'test-requirements.txt', 'README.rst', '.zuul.yaml', 'setup.py', 'releasenotes/source/index.rst', 'tempest_tripleo_ui/tests/scenario/test_basic.py', 'releasenotes/source/unreleased.rst', 'tempest_tripleo_ui/tests/__init__.py', 'requirements.txt', 'tempest_tripleo_ui/__init__.py', 'tempest_tripleo_ui/tests/scenario/__init__.py', 'tempest_tripleo_ui/config.py', 'releasenotes/source/_static/.placeholder', 'tempest_tripleo_ui/plugin.py', 'doc/requirements.txt', 'setup.cfg', 'LICENSE', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/a0fc5efc88ea78e76ff6646f73829fb553c6368c', 'message': 'Add basic project structure\n\nChange-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d\nImplements: blueprint automated-ui-testing\n'}]",18,575730,a0fc5efc88ea78e76ff6646f73829fb553c6368c,50,10,14,20970,,,0,"Add basic project structure

Change-Id: I9c2fd0b20ca3afc02728e06b80c6bb653e4c9f8d
Implements: blueprint automated-ui-testing
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/30/575730/14 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_tripleo_ui/tests/__init__.py', 'tempest_tripleo_ui/__init__.py', '.gitignore', 'tempest_tripleo_ui/tests/scenario/__init__.py', 'tempest_tripleo_ui/config.py', 'README.rst', 'setup.py', 'tempest_tripleo_ui/plugin.py', 'setup.cfg', 'tempest_tripleo_ui/tests/scenario/test_basic.py', 'LICENSE']",11,1db3a5d7e924556f7868fc3b8b2b4aa4f46dc106,bp/automated-ui-testing," Apache License Version 2.0, January 2004 http://www.apache.org/licenses/ TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION 1. Definitions. ""License"" shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document. ""Licensor"" shall mean the copyright owner or entity authorized by the copyright owner that is granting the License. ""Legal Entity"" shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, ""control"" means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity. ""You"" (or ""Your"") shall mean an individual or Legal Entity exercising permissions granted by this License. ""Source"" form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files. ""Object"" form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types. ""Work"" shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below). ""Derivative Works"" shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof. ""Contribution"" shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, ""submitted"" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as ""Not a Contribution."" ""Contributor"" shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work. 2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form. 3. Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed. 4. Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions: (a) You must give any other recipients of the Work or Derivative Works a copy of this License; and (b) You must cause any modified files to carry prominent notices stating that You changed the files; and (c) You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and (d) If the Work includes a ""NOTICE"" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License. You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License. 5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions. 6. Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file. 7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License. 8. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages. 9. Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability. END OF TERMS AND CONDITIONS APPENDIX: How to apply the Apache License to your work. To apply the Apache License to your work, attach the following boilerplate notice, with the fields enclosed by brackets ""[]"" replaced with your own identifying information. (Don't include the brackets!) The text should be enclosed in the appropriate comment syntax for the file format. We also recommend that a file or class name and description of purpose be included on the same ""printed page"" as the copyright notice for easier identification within third-party archives. Copyright [yyyy] [name of copyright owner] Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ",,394,0
openstack%2Fmanila~master~If3b6a274dab0d035b9666b3b9876604cefbc2877,openstack/manila,master,If3b6a274dab0d035b9666b3b9876604cefbc2877,Remove run_tests.sh,MERGED,2018-10-03 21:50:55.000000000,2018-10-05 11:13:48.000000000,2018-10-04 21:44:25.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-10-03 21:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2eabfb608cf5edb91c34c75224154615b0922c15', 'message': 'Remove run_tests.sh\n\nIt is deprecated in favor of tox.\n\nCloses-Bug: #1790470\nChange-Id: If3b6a274dab0d035b9666b3b9876604cefbc2877\n'}, {'number': 2, 'created': '2018-10-04 13:55:52.000000000', 'files': ['tools/enable-pre-commit-hook.sh', '.zuul.yaml', 'doc/source/contributor/unit_tests.rst', 'manila/testing/README.rst', 'tox.ini', 'doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/772a64a8717461495cc3a26d49f9fb848a61edf2', 'message': 'Remove run_tests.sh\n\nIt is deprecated in favor of tox.\n\nCloses-Bug: #1790470\nChange-Id: If3b6a274dab0d035b9666b3b9876604cefbc2877\n'}]",2,607724,772a64a8717461495cc3a26d49f9fb848a61edf2,30,14,2,9003,,,0,"Remove run_tests.sh

It is deprecated in favor of tox.

Closes-Bug: #1790470
Change-Id: If3b6a274dab0d035b9666b3b9876604cefbc2877
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/607724/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/enable-pre-commit-hook.sh', '.zuul.yaml', 'doc/source/contributor/unit_tests.rst', 'manila/testing/README.rst', 'tox.ini', 'doc/source/contributor/development.environment.rst']",6,2eabfb608cf5edb91c34c75224154615b0922c15,bug/1790470,"The preferred way to run the unit tests is using ``tox``. Tox executes tests in isolated environment, by creating separate virtualenv and installing dependencies from the ``requirements.txt`` and ``test-requirements.txt`` files, so the only package you install is ``tox`` itself:: sudo pip install tox Run the unit tests by doing:: tox -e py35 tox -e py27You can also manually install the virtual environment:: tox -e py27 --notest or:: tox -e py35 --notest``requirements.txt`` file into your virtualenv. To activate the Manila virtualenv you can run:: $ source .tox/py27/bin/activate or:: $ source .tox/py35/bin/activate To exit your virtualenv, just type:: $ deactivate $ tox -e venv -- <your command>Once your work is complete you may wish to contribute it to the project. Manila uses the Gerrit code review system. For information on how to submit your branch to Gerrit, see GerritWorkflow_.","The unit tests will run by default inside a virtualenv in the ``.venv`` directory. Run the unit tests by doing:: ./run_tests.sh The first time you run them, you will be asked if you want to create a virtual environment (hit ""y""):: No virtual environment found...create one? (Y/n)You can manually install the virtual environment instead of having ``run_tests.sh`` do it for you:: python tools/install_venv.py``requirements.txt`` file into your virtualenv. There will also be some additional packages (pip, distribute, greenlet) that are installed by the ``tools/install_venv.py`` file into the virtualenv. If all goes well, you should get a message something like this:: Manila development environment setup is complete. To activate the manila virtualenv for the extent of your current shell session you can run:: $ source .venv/bin/activate $ tools/with_venv.sh <your command>Once your work is complete you may wish to contribute it to the project. Add your name and email address to the ``Authors`` file, and also to the ``.mailmap`` file if you use multiple email addresses. Your contributions can not be merged into trunk unless you are listed in the Authors file. Manila uses the Gerrit code review system. For information on how to submit your branch to Gerrit, see GerritWorkflow_.",63,138
openstack%2Fnova~stable%2Focata~I1201db996ea6ceaebd49479b298d74585a78b006,openstack/nova,stable/ocata,I1201db996ea6ceaebd49479b298d74585a78b006,libvirt: Always escape IPv6 addresses when used in migration URI,ABANDONED,2018-09-19 12:44:06.000000000,2018-10-05 11:02:26.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 11090}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 12:44:06.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt_fix_ipv6_live_migration-bbcde8f3b7d17921.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15ed4b556199e472c94825f6b0dc8b067be19570', 'message': 'libvirt: Always escape IPv6 addresses when used in migration URI\n\nIf IPv6 is passed to URI it should be wrapped within square brackets.\nThis patch detects IPv6 to form migration URI properly. Domain name, IPv4 or\nalready bracketed IPv6 address will pass as is\n\nExtend tests to include collapsed IPv6 addresses and IPv6 addresses with\nport\n\nChange-Id: I1201db996ea6ceaebd49479b298d74585a78b006\nCloses-Bug: #1786058\n(cherry picked from commit 8b019d6f1e7893a7e308bd79c879e94d3400e007)\n(cherry picked from commit 7ee5499e5507c45249945fa5baf7665bc2f1cc02)\n(cherry picked from commit 551a7a459c6503158cb4512fec8b2dc9c0641abe)\n(cherry picked from commit be4dbc3a3f6430326de798d0694a199742253a7b)\n'}]",0,603740,15ed4b556199e472c94825f6b0dc8b067be19570,7,6,1,10135,,,0,"libvirt: Always escape IPv6 addresses when used in migration URI

If IPv6 is passed to URI it should be wrapped within square brackets.
This patch detects IPv6 to form migration URI properly. Domain name, IPv4 or
already bracketed IPv6 address will pass as is

Extend tests to include collapsed IPv6 addresses and IPv6 addresses with
port

Change-Id: I1201db996ea6ceaebd49479b298d74585a78b006
Closes-Bug: #1786058
(cherry picked from commit 8b019d6f1e7893a7e308bd79c879e94d3400e007)
(cherry picked from commit 7ee5499e5507c45249945fa5baf7665bc2f1cc02)
(cherry picked from commit 551a7a459c6503158cb4512fec8b2dc9c0641abe)
(cherry picked from commit be4dbc3a3f6430326de798d0694a199742253a7b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/603740/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt_fix_ipv6_live_migration-bbcde8f3b7d17921.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,15ed4b556199e472c94825f6b0dc8b067be19570,bug/1786058," addresses = ('127.0.0.1', '127.0.0.1:4444', '[::1]:4444', '[0:0:0:0:0:0:0:1]:4444', u'127.0.0.1', u'destination', ) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) for dest in addresses: for hyperv, uri in hypervisor_uri_map: self.flags(virt_type=hyperv, group='libvirt') if uri is not None: uri = uri % dest self.assertEqual(uri, drvr._live_migration_uri(dest)) else: self.assertRaises(exception.LiveMigrationURINotAvailable, drvr._live_migration_uri, dest) def test_live_migration_uri_ipv6(self): addresses = ('::1', '0:0:0:0:0:0:0:1', u'::1') hypervisor_uri_map = ( ('xen', 'xenmigr://[%s]/system'), ('kvm', 'qemu+tcp://[%s]/system'), ('qemu', 'qemu+tcp://[%s]/system'), ('parallels', 'parallels+tcp://[%s]/system'), # anything else will return None ('lxc', None), ) for dest in addresses: for hyperv, uri in hypervisor_uri_map: self.flags(virt_type=hyperv, group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) if uri is not None: uri = uri % dest self.assertEqual(uri, drvr._live_migration_uri(dest)) else: self.assertRaises(exception.LiveMigrationURINotAvailable, drvr._live_migration_uri, dest) addresses = ('127.0.0.1', '127.0.0.1:4444', '[::1]:4444', '[0:0:0:0:0:0:0:1]:4444', u'127.0.0.1', u'destination', ) for dest in addresses: uri = 'tcp://%s' self.assertEqual(uri % dest, result) self.assertIsInstance(result, str) def test_migrate_uri_forced_live_migration_inboud_addr_ipv6(self): self.flags(virt_type='kvm', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) addresses = ('::1', '0:0:0:0:0:0:0:1', u'::1') for dest in addresses: uri = 'tcp://[%s]' result = drvr._migrate_uri(dest) self.assertEqual(uri % dest, result)"," dest = 'destination' for hyperv, uri in hypervisor_uri_map: self.flags(virt_type=hyperv, group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) if uri is not None: uri = uri % dest self.assertEqual(uri, drvr._live_migration_uri(dest)) else: self.assertRaises(exception.LiveMigrationURINotAvailable, drvr._live_migration_uri, dest) addresses = ('127.0.0.1', '127.0.0.1:4444', '0:0:0:0:0:0:0:1', '[0:0:0:0:0:0:0:1]:4444', u'127.0.0.1', u'destination') for dest in addresses: self.assertEqual('tcp://%s' % dest, result)",67,15
openstack%2Fcharm-neutron-openvswitch~stable%2F18.08~I2964046bc8681fa870d61c6cd23b6ad6fee47bf4,openstack/charm-neutron-openvswitch,stable/18.08,I2964046bc8681fa870d61c6cd23b6ad6fee47bf4,Misc updates for DPDK support,MERGED,2018-09-09 07:03:42.000000000,2018-10-05 10:33:37.000000000,2018-10-05 10:33:37.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-09 07:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/22d00ca01054704244fd24eaaabb59277c8f85f7', 'message': 'Misc updates for DPDK support\n\nFix use of OVS DPDK context by direct use of methods on context\nfor OVS table values.\n\nFor modern OVS versions that require the PCI address of the\nDPDK device for type=dpdk ports, use a hash of the PCI address\nfor the port name rather than the index of the PCI device in\nthe current list of devices to use; this is idempotent in the\nevent that the configuration changes and new devices appear\nin the list of devices to use for DPDK.\n\nOnly set OVS table values if the value has changed; OVS will\ntry to re-allocate hugepage memory, irrespective as to whether\nthe table value actually changed.\n\nSwitch to using /run/libvirt-vhost-user for libvirt created DPDK\nsockets, allowing libvirt to directly create the socket as part\nof instance creation; Use systemd-tmpfiles to ensure that the\nvhost-user subdirectory is re-created on boot with the correct\npermissions.\n\nScan data-port and dpdk-bond-mappings for PCI devices to use\nfor DPDK to avoid having to replicate all PCI devices in data-port\nconfiguration when DPDK bonds are in use.\n\nChange-Id: I2964046bc8681fa870d61c6cd23b6ad6fee47bf4\n(cherry picked from commit 96c1788e94d15600386a375a774ac854ba589331)\n'}, {'number': 2, 'created': '2018-09-14 17:18:39.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'files/nova-ovs-vhost-user.conf', 'templates/mitaka/openvswitch_agent.ini', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'hooks/neutron_ovs_context.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f4f4648175c03405be3e8dd1315e91fc1359a757', 'message': 'Misc updates for DPDK support\n\nFix use of OVS DPDK context by direct use of methods on context\nfor OVS table values.\n\nFor modern OVS versions that require the PCI address of the\nDPDK device for type=dpdk ports, use a hash of the PCI address\nfor the port name rather than the index of the PCI device in\nthe current list of devices to use; this is idempotent in the\nevent that the configuration changes and new devices appear\nin the list of devices to use for DPDK.\n\nOnly set OVS table values if the value has changed; OVS will\ntry to re-allocate hugepage memory, irrespective as to whether\nthe table value actually changed.\n\nSwitch to using /run/libvirt-vhost-user for libvirt created DPDK\nsockets, allowing libvirt to directly create the socket as part\nof instance creation; Use systemd-tmpfiles to ensure that the\nvhost-user subdirectory is re-created on boot with the correct\npermissions.\n\nScan data-port and dpdk-bond-mappings for PCI devices to use\nfor DPDK to avoid having to replicate all PCI devices in data-port\nconfiguration when DPDK bonds are in use.\n\n(cherry picked from commit 96c1788e94d15600386a375a774ac854ba589331)\n\nGate install of tmpfiles configuration\n\nThe vhost-user tmpfiles configuration is only applicable in deployments\nusing libvirt/kvm with nova-compute.\n\nEnsure appropriate user and group exists before installing tmpfiles.d\nconfiguration.\n\nCloses-Bug: 1792414\n(cherry picked from commit 3b72caa0310389ddf4c125fff0cf73a54b16a574)\n\nChange-Id: I2964046bc8681fa870d61c6cd23b6ad6fee47bf4\n'}]",0,601048,f4f4648175c03405be3e8dd1315e91fc1359a757,18,4,2,935,,,0,"Misc updates for DPDK support

Fix use of OVS DPDK context by direct use of methods on context
for OVS table values.

For modern OVS versions that require the PCI address of the
DPDK device for type=dpdk ports, use a hash of the PCI address
for the port name rather than the index of the PCI device in
the current list of devices to use; this is idempotent in the
event that the configuration changes and new devices appear
in the list of devices to use for DPDK.

Only set OVS table values if the value has changed; OVS will
try to re-allocate hugepage memory, irrespective as to whether
the table value actually changed.

Switch to using /run/libvirt-vhost-user for libvirt created DPDK
sockets, allowing libvirt to directly create the socket as part
of instance creation; Use systemd-tmpfiles to ensure that the
vhost-user subdirectory is re-created on boot with the correct
permissions.

Scan data-port and dpdk-bond-mappings for PCI devices to use
for DPDK to avoid having to replicate all PCI devices in data-port
configuration when DPDK bonds are in use.

(cherry picked from commit 96c1788e94d15600386a375a774ac854ba589331)

Gate install of tmpfiles configuration

The vhost-user tmpfiles configuration is only applicable in deployments
using libvirt/kvm with nova-compute.

Ensure appropriate user and group exists before installing tmpfiles.d
configuration.

Closes-Bug: 1792414
(cherry picked from commit 3b72caa0310389ddf4c125fff0cf73a54b16a574)

Change-Id: I2964046bc8681fa870d61c6cd23b6ad6fee47bf4
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/48/601048/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'files/nova-ovs-vhost-user.conf', 'templates/mitaka/openvswitch_agent.ini', 'hooks/neutron_ovs_context.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'README.md']",9,22d00ca01054704244fd24eaaabb59277c8f85f7,bug/1792414,"**NOTE:** Changing dpdk-socket-\* configuration options will trigger a restart of Open vSwitch, which currently causes connectivity to running instances to be lost - connectivity can only be restored with a stop/start of each instance.# DPDK bonding For deployments using Open vSwitch 2.6.0 or later (OpenStack Ocata on Ubuntu 16.04 onwards), its also possible to use native Open vSwitch DPDK bonding to provide increased resilience for DPDK based deployments. This feature is configured using the `dpdk-bond-mappings` and `dpdk-bond-config` options of this charm, for example: neutron-openvswitch: enable-dpdk: True data-port: ""br-phynet1:dpdk-bond0"" dpdk-bond-mappings: ""dpdk-bond0:a8:9d:21:cf:93:fc dpdk-bond0:a8:9d:21:cf:93:fd"" dpdk-bond-config: "":balance-slb:off:fast"" In this example, the PCI devices associated with the two MAC addresses provided will be configured as an OVS DPDK bond device named `dpdk-bond0`; this bond device is then used in br-phynet1 to provide resilient connectivity to the underlying network fabric. The charm will automatically detect which PCI devices are on each unit of the application based on the `dpdk-bond-mappings` configuration provided, supporting use in environments where network device naming may not be consistent across units. ","**NOTE:** Changing dpdk-socket-* configuration options will trigger a restart of Open vSwitch, which currently causes connectivity to running instances to be lost - connectivity can only be restored with a stop/start of each instance.",216,84
openstack%2Fopenstack-ansible-os_ceilometer~master~I148ccaff9576b09d33d889b79963e88ca84d2ffe,openstack/openstack-ansible-os_ceilometer,master,I148ccaff9576b09d33d889b79963e88ca84d2ffe,Fix of oslomsg undefined variables for services notifications,MERGED,2018-10-03 17:12:28.000000000,2018-10-05 10:23:28.000000000,2018-10-05 10:23:28.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-10-03 17:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/480fc9af424be105f374d8b76f35b1945267ecb6', 'message': 'Fix of oslomsg undefined variables for services notifications\n\nA buch of defaults oslomsg related variables were configured.\nIn case of enabling ceilometer for services, role failed unless\nall required vars has been specified manually by deployer.\n\nAlso vars ceilometer_oslomsg_rpc_servers\nand ceilometer_oslomsg_notify_servers were removed\nThey were not used anywhere except ceilometer.conf.j2\nand might be easily replaced with host_group vars.\nTheir removal allowed to simplify macros.\n\nChange-Id: I148ccaff9576b09d33d889b79963e88ca84d2ffe\nCloses-Bug: 1794688\n'}, {'number': 2, 'created': '2018-10-04 13:14:49.000000000', 'files': ['releasenotes/notes/remove_oslomsg_server-6b5c19e03a001e85.yaml', 'vars/ubuntu.yml', 'templates/ceilometer.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/1128c21955ce9502b69fea8c26e06ee82bc19cf9', 'message': 'Fix of oslomsg undefined variables for services notifications\n\nA buch of defaults oslomsg related variables were configured.\nIn case of enabling ceilometer for services, role failed unless\nall required vars has been specified manually by deployer.\n\nAlso vars ceilometer_oslomsg_rpc_servers\nand ceilometer_oslomsg_notify_servers were removed\nThey were not used anywhere except ceilometer.conf.j2\nand might be easily replaced with host_group vars.\nTheir removal allowed to simplify macros.\n\nFixed distro_install functional test for ubuntu,\nas ceilometer-agent-notification package was missing.\n\nChange-Id: I148ccaff9576b09d33d889b79963e88ca84d2ffe\nCloses-Bug: 1794688\n'}]",0,607653,1128c21955ce9502b69fea8c26e06ee82bc19cf9,13,4,2,28619,,,0,"Fix of oslomsg undefined variables for services notifications

A buch of defaults oslomsg related variables were configured.
In case of enabling ceilometer for services, role failed unless
all required vars has been specified manually by deployer.

Also vars ceilometer_oslomsg_rpc_servers
and ceilometer_oslomsg_notify_servers were removed
They were not used anywhere except ceilometer.conf.j2
and might be easily replaced with host_group vars.
Their removal allowed to simplify macros.

Fixed distro_install functional test for ubuntu,
as ceilometer-agent-notification package was missing.

Change-Id: I148ccaff9576b09d33d889b79963e88ca84d2ffe
Closes-Bug: 1794688
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/53/607653/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_oslomsg_server-6b5c19e03a001e85.yaml', 'templates/ceilometer.conf.j2', 'defaults/main.yml']",3,480fc9af424be105f374d8b76f35b1945267ecb6,bug/1794688,"ceilometer_oslomsg_rpc_host_group: ""{{ oslomsg_rpc_host_group | default('rabbitmq_all') }}""ceilometer_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" # Glance notifications glance_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" glance_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" glance_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" glance_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" glance_oslomsg_notify_userid: ""{{ glance_oslomsg_rpc_userid | default('glance') }}"" glance_oslomsg_notify_password: ""{{ glance_ceilometer_enabled | ternary(glance_oslomsg_rpc_password, '') }}"" glance_oslomsg_notify_vhost: ""{{ glance_oslomsg_rpc_vhost | default('/glance') }}"" # Nova notifications nova_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" nova_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" nova_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" nova_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" nova_oslomsg_notify_userid: ""{{ nova_oslomsg_rpc_userid | default('nova') }}"" nova_oslomsg_notify_password: ""{{ nova_ceilometer_enabled | ternary(nova_oslomsg_rpc_password, '') }}"" nova_oslomsg_notify_vhost: ""{{ nova_oslomsg_rpc_vhost | default('/nova') }}"" # Cinder notifications cinder_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" cinder_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" cinder_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" cinder_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" cinder_oslomsg_notify_userid: ""{{ cinder_oslomsg_rpc_userid | default('cinder') }}"" cinder_oslomsg_notify_password: ""{{ cinder_ceilometer_enabled | ternary(cinder_oslomsg_rpc_password, '') }}"" cinder_oslomsg_notify_vhost: ""{{ cinder_oslomsg_rpc_vhost | default('/cinder') }}"" # Neutron notifications neutron_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" neutron_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" neutron_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" neutron_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" neutron_oslomsg_notify_userid: ""{{ neutron_oslomsg_rpc_userid | default('neutron') }}"" neutron_oslomsg_notify_password: ""{{ neutron_ceilometer_enabled | ternary(neutron_oslomsg_rpc_password, '') }}"" neutron_oslomsg_notify_vhost: ""{{ neutron_oslomsg_rpc_vhost | default('/neutron') }}"" # Heat notifications heat_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" heat_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" heat_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" heat_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" heat_oslomsg_notify_userid: ""{{ heat_oslomsg_rpc_userid | default('heat') }}"" heat_oslomsg_notify_password: ""{{ heat_ceilometer_enabled | ternary(heat_oslomsg_rpc_password, '') }}"" heat_oslomsg_notify_vhost: ""{{ heat_oslomsg_rpc_vhost | default('/heat') }}"" # Keystone notifications keystone_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" keystone_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" keystone_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" keystone_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" keystone_oslomsg_notify_userid: ""{{ keystone_oslomsg_rpc_userid | default('keystone') }}"" keystone_oslomsg_notify_password: ""{{ keystone_ceilometer_enabled | ternary(keystone_oslomsg_rpc_password, '') }}"" keystone_oslomsg_notify_vhost: ""{{ keystone_oslomsg_rpc_vhost | default('/keystone') }}"" # Swift notifications swift_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" swift_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" swift_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" swift_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" swift_oslomsg_notify_userid: ""swift"" swift_oslomsg_notify_vhost: ""/swift"" # Sahara notifications sahara_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" sahara_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" sahara_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" sahara_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}"" sahara_oslomsg_notify_userid: ""{{ sahara_oslomsg_rpc_userid | default('sahara') }}"" sahara_oslomsg_notify_password: ""{{ sahara_ceilometer_enabled | ternary(sahara_oslomsg_rpc_password, '') }}"" sahara_oslomsg_notify_vhost: ""{{ sahara_oslomsg_rpc_vhost | default('/sahara') }}""","ceilometer_oslomsg_rpc_servers: ""{{ oslomsg_rpc_servers | default('127.0.0.1') }}""ceilometer_oslomsg_rpc_host_group: ""{{ oslomsg_rpc_host_group | default('rabbitmq_all') }}""ceilometer_oslomsg_notify_servers: ""{{ oslomsg_notify_servers | default('127.0.0.1') }}""ceilometer_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}""",91,21
openstack%2Fopenstack-zuul-jobs~master~I0f47ade2495e78c17222dc1dde71d7b9662bfef2,openstack/openstack-zuul-jobs,master,I0f47ade2495e78c17222dc1dde71d7b9662bfef2,Remove legacy-centos-7-2-node nodeset,MERGED,2018-08-13 17:20:14.000000000,2018-10-05 10:06:37.000000000,2018-08-13 17:46:36.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-13 17:20:14.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/50ae1e2243d3dfd57265f8cccd3055f95a62284d', 'message': 'Remove legacy-centos-7-2-node nodeset\n\nAccording to codesearch.o.o we have no jobs using this nodeset, remove\nit.\n\nChange-Id: I0f47ade2495e78c17222dc1dde71d7b9662bfef2\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,591466,50ae1e2243d3dfd57265f8cccd3055f95a62284d,11,3,1,4162,,,0,"Remove legacy-centos-7-2-node nodeset

According to codesearch.o.o we have no jobs using this nodeset, remove
it.

Change-Id: I0f47ade2495e78c17222dc1dde71d7b9662bfef2
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/66/591466/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,50ae1e2243d3dfd57265f8cccd3055f95a62284d,,, name: legacy-centos-7-2-node nodes: - name: primary label: centos-7 - name: secondary label: centos-7 groups: - name: subnodes nodes: - secondary - nodeset:,0,12
openstack%2Fcompute-hyperv~stable%2Frocky~Ie28c6e6d72f679afc0db43dbe1a57922d20d4ec0,openstack/compute-hyperv,stable/rocky,Ie28c6e6d72f679afc0db43dbe1a57922d20d4ec0,Update UPPER_CONSTRAINTS_FILE for stable/rocky,ABANDONED,2018-10-03 12:46:03.000000000,2018-10-05 10:06:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-03 12:46:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0f466f2fc70812d4fde105c10efefc0fedea408f', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Ie28c6e6d72f679afc0db43dbe1a57922d20d4ec0\n""}]",0,607552,0f466f2fc70812d4fde105c10efefc0fedea408f,3,1,1,8213,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ie28c6e6d72f679afc0db43dbe1a57922d20d4ec0
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/52/607552/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0f466f2fc70812d4fde105c10efefc0fedea408f,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnova~stable%2Fqueens~Ic5c41493dcdcd807209be2beaae0dbbdf5d2ba3f,openstack/nova,stable/queens,Ic5c41493dcdcd807209be2beaae0dbbdf5d2ba3f,libvirt: Use os.stat and os.path.getsize for RAW disk inspection,MERGED,2018-09-21 08:37:18.000000000,2018-10-05 10:03:47.000000000,2018-10-05 10:03:46.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-21 08:37:18.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b58805753ab54e02d8377ba80c740eebe7a34ddd', 'message': 'libvirt: Use os.stat and os.path.getsize for RAW disk inspection\n\nAt present when inspecting a file based image we always use ``qemu-img`` to\ndetermine the virtual size of the image. This works well but can lead to\nthe resource tracker taking considerable time to update on hosts with\na large number of instances/images.\n\nThis change switches to using os.stat and os.path.getsize to determine\nthe allocated and virtual disk sizes of RAW disks.\n\nFuture changes will look into caching the virtual size of the disk\nwithin disk.info locally on the host to also improve this for qcow2 and\nploop, further simplifying this code path.\n\nCloses-bug: #1785827\nChange-Id: Ic5c41493dcdcd807209be2beaae0dbbdf5d2ba3f\n(cherry picked from commit e6af812865553fbc49114a419170693ff15d5545)\n(cherry picked from commit bda6173a8430c3bb83f52195d4ffd0bfee050e19)\n'}]",0,604295,b58805753ab54e02d8377ba80c740eebe7a34ddd,23,12,1,9373,,,0,"libvirt: Use os.stat and os.path.getsize for RAW disk inspection

At present when inspecting a file based image we always use ``qemu-img`` to
determine the virtual size of the image. This works well but can lead to
the resource tracker taking considerable time to update on hosts with
a large number of instances/images.

This change switches to using os.stat and os.path.getsize to determine
the allocated and virtual disk sizes of RAW disks.

Future changes will look into caching the virtual size of the disk
within disk.info locally on the host to also improve this for qcow2 and
ploop, further simplifying this code path.

Closes-bug: #1785827
Change-Id: Ic5c41493dcdcd807209be2beaae0dbbdf5d2ba3f
(cherry picked from commit e6af812865553fbc49114a419170693ff15d5545)
(cherry picked from commit bda6173a8430c3bb83f52195d4ffd0bfee050e19)
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/604295/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,b58805753ab54e02d8377ba80c740eebe7a34ddd,bug/1785827," @mock.patch('os.stat', return_value=mock.Mock(st_blocks=0)) @mock.patch('os.path.getsize', return_value=0) mock_getsize, mock_stat): mock_qemu_img_info = mock.Mock() mock_qemu_img_info.return_value = mock.Mock(disk_size=10737418240, virtual_size=10737418240) mock_stat = mock.Mock() mock_stat.return_value = mock.Mock(st_blocks=20971520) mock_get_size = mock.Mock() mock_get_size.return_value = 10737418240 return (mock_stat, mock_get_size, mock_qemu_img_info, mock_lookup) (mock_stat, mock_get_size, mock_qemu_img_info, mock_lookup) =\ (mock_stat, mock_get_size, mock_qemu_img_info, mock_lookup) =\ mock.patch('os.stat', mock_stat), mock.patch('os.path.getsize', mock_get_size), mock_stat.assert_called_once_with('/instance/disk.local') mock_get_size.assert_called_once_with('/instance/disk.local') @mock.patch('os.stat') @mock.patch('os.path.getsize') def test_get_instance_disk_info_works_correctly(self, mock_qemu_img_info, mock_get_size, mock_stat): mock_qemu_img_info.return_value = mock.Mock(disk_size=3328599655, virtual_size=21474836480) mock_stat.return_value = mock.Mock(st_blocks=20971520) mock_get_size.return_value = 10737418240 self.assertEqual(info[0]['virt_disk_size'], 10737418240) self.assertEqual(info[1]['disk_size'], 3328599655) mock_qemu_img_info.called_once_with('/test/disk.local') mock_stat.called_once_with('/test/disk') mock_get_size.called_once_with('/test/disk') @mock.patch('os.stat') @mock.patch('os.path.getsize') self, mock_qemu_img_info, mock_get_size, mock_stat): mock_qemu_img_info.return_value = mock.Mock(disk_size=3328599655, virtual_size=21474836480) mock_stat.return_value = mock.Mock(st_blocks=20971520) mock_get_size.return_value = 10737418240 mock_qemu_img_info.assert_called_once_with('/test/disk.local') mock_stat.assert_called_once_with('/test/disk') mock_get_size.assert_called_once_with('/test/disk') @mock.patch('os.stat') @mock.patch('os.path.getsize') def test_get_instance_disk_info_no_bdinfo_passed(self, mock_get_size, mock_stat): mock_stat.return_value = mock.Mock(st_blocks=20971520) mock_get_size.return_value = 10737418240 mock_stat.assert_called_once_with(path) mock_get_size.assert_called_once_with(path)"," @mock.patch('nova.virt.disk.api.get_disk_info', return_value=mock.Mock(disk_size=0)) mock_getsize): mock_qemu_img_info = mock.Mock(disk_size=10737418240, virtual_size=10737418240) return (mock_qemu_img_info, mock_lookup) (mock_qemu_img_info, mock_lookup) =\ (mock_qemu_img_info, mock_lookup) =\ mock_qemu_img_info.assert_called_once_with('/instance/disk.local') def test_get_instance_disk_info_works_correctly(self, mock_qemu_img_info): mock_qemu_img_info.side_effect = [ mock.Mock(disk_size=10737418240, virtual_size=10737418240), mock.Mock(disk_size=3328599655, virtual_size=21474836480) ] mock_qemu_img_info.assert_has_calls([mock.call('/test/disk'), mock.call('/test/disk.local')]) self.assertEqual(2, mock_qemu_img_info.call_count) self, mock_qemu_img_info): mock_qemu_img_info.side_effect = [ mock.Mock(disk_size=10737418240, virtual_size=10737418240), mock.Mock(disk_size=3328599655, virtual_size=21474836480) ] mock_qemu_img_info.assert_has_calls([mock.call('/test/disk'), mock.call('/test/disk.local')]) self.assertEqual(2, mock_qemu_img_info.call_count) @mock.patch('nova.virt.disk.api.get_disk_info') def test_get_instance_disk_info_no_bdinfo_passed(self, mock_qemu_img_info): mock_qemu_img_info.return_value = mock.Mock(disk_size=10737418240, virtual_size=10737418240) mock_qemu_img_info.assert_called_once_with(path)",73,54
openstack%2Fcompute-hyperv~stable%2Frocky~I0fa03ffa83978787726c983f69560bba79ece7ba,openstack/compute-hyperv,stable/rocky,I0fa03ffa83978787726c983f69560bba79ece7ba,"Revert ""Switch nova uuidsentinel with oslo_utils' uuidsentinel""",MERGED,2018-10-03 16:22:12.000000000,2018-10-05 10:00:52.000000000,2018-10-05 10:00:52.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/058e8513a4f002a75e2f44a54276d5fed2981bda', 'message': 'Revert ""Switch nova uuidsentinel with oslo_utils\' uuidsentinel""\n\nThis reverts commit 87fdd92f3d4bcc9d98ac1da20c5c1dcb0ddb5f81.\n\nChange-Id: I0fa03ffa83978787726c983f69560bba79ece7ba\n'}, {'number': 2, 'created': '2018-10-05 07:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1c8e6b8c2fb2f50db329843766308347acf89ed1', 'message': 'Revert ""Switch nova uuidsentinel with oslo_utils\' uuidsentinel""\n\nThis reverts commit 87fdd92f3d4bcc9d98ac1da20c5c1dcb0ddb5f81. The\nchanges were not made in Rocky.\n\nUpdates UPPER_CONSTRAINTS_FILE for stable/rocky\n\nAdditionally, sets the nova dependency branch to stable/rocky.\n\nChange-Id: I0fa03ffa83978787726c983f69560bba79ece7ba\n'}, {'number': 3, 'created': '2018-10-05 08:33:03.000000000', 'files': ['compute_hyperv/tests/unit/test_imagecache.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/5a3a42d0373f1698429249ecaee895146478983a', 'message': 'Revert ""Switch nova uuidsentinel with oslo_utils\' uuidsentinel""\n\nThis reverts commit 87fdd92f3d4bcc9d98ac1da20c5c1dcb0ddb5f81. The\nchanges were not made in Rocky.\n\nUpdates UPPER_CONSTRAINTS_FILE for stable/rocky\n\nAdditionally, sets the nova dependency branch to stable/rocky.\n\nChange-Id: I0fa03ffa83978787726c983f69560bba79ece7ba\n'}]",0,607630,5a3a42d0373f1698429249ecaee895146478983a,11,2,3,8213,,,0,"Revert ""Switch nova uuidsentinel with oslo_utils' uuidsentinel""

This reverts commit 87fdd92f3d4bcc9d98ac1da20c5c1dcb0ddb5f81. The
changes were not made in Rocky.

Updates UPPER_CONSTRAINTS_FILE for stable/rocky

Additionally, sets the nova dependency branch to stable/rocky.

Change-Id: I0fa03ffa83978787726c983f69560bba79ece7ba
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/30/607630/3 && git format-patch -1 --stdout FETCH_HEAD,['compute_hyperv/tests/unit/test_imagecache.py'],1,058e8513a4f002a75e2f44a54276d5fed2981bda,,from nova.tests import uuidsentinel as uuids,from oslo_utils.fixture import uuidsentinel as uuids,1,1
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~I6a3a6018d7b550d85834479cb0a973e977f19e38,openstack/openstack-ansible-os_horizon,stable/ocata,I6a3a6018d7b550d85834479cb0a973e977f19e38,Updated from OpenStack Ansible Tests,MERGED,2018-09-13 11:13:44.000000000,2018-10-05 10:00:47.000000000,2018-10-05 10:00:47.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-13 11:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/2265eee1ff0bde8c6ff55b969cfde1d6101d8594', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6a3a6018d7b550d85834479cb0a973e977f19e38\n'}, {'number': 2, 'created': '2018-10-05 08:37:36.000000000', 'files': ['tests/tests-repo-clone.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a2b2c3d4fc0c890c5c64176752957effa7fa8571', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6a3a6018d7b550d85834479cb0a973e977f19e38\n'}]",0,602308,a2b2c3d4fc0c890c5c64176752957effa7fa8571,10,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6a3a6018d7b550d85834479cb0a973e977f19e38
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/08/602308/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests-repo-clone.sh'],1,2265eee1ff0bde8c6ff55b969cfde1d6101d8594,openstack/openstack-ansible-tests/sync-tests, git clone -b newton-eol \, git clone -b stable/newton \,1,1
openstack%2Fcookbook-openstack-compute~master~I07aeb7617ca152f66ec239cef4bcbef642c66bf7,openstack/cookbook-openstack-compute,master,I07aeb7617ca152f66ec239cef4bcbef642c66bf7,Make nova.conf more readable,MERGED,2018-10-02 14:53:49.000000000,2018-10-05 09:58:50.000000000,2018-10-04 22:34:22.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 14:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/2c7a133e68cf99d11d00b4ac935500528ecaeb1e', 'message': 'Make configuration files more readable\n\nIn order to make OpenStack Compute configuration files written by Chef\nmore readable, this patch introduces a blank line before every section\nheading.\n\n(this patch copies a change made in openstack-common with Change-Id\nIb44e17cbba512c51c0098177d2dab1a91802b4d3)\n\nbackport: queens pike\n\nChange-Id: I07aeb7617ca152f66ec239cef4bcbef642c66bf7\n'}, {'number': 2, 'created': '2018-10-02 15:23:26.000000000', 'files': ['templates/default/nova.conf.erb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/55b58702faaf08a1a3ab2cb5203cfc078582a353', 'message': 'Make nova.conf more readable\n\nThis patch replaces nova.conf.erb with openstack-service.conf.erb from\nthe openstack-common cookbook.\n\nBesides removing some redundancy, it also makes nova.conf more readable\n(due to a fix to openstack-service.conf.erb that never made it to\nnova.conf.erb).\n\nbackport: queens pike\n\nChange-Id: I07aeb7617ca152f66ec239cef4bcbef642c66bf7\n'}]",0,607245,55b58702faaf08a1a3ab2cb5203cfc078582a353,11,3,2,11109,,,0,"Make nova.conf more readable

This patch replaces nova.conf.erb with openstack-service.conf.erb from
the openstack-common cookbook.

Besides removing some redundancy, it also makes nova.conf more readable
(due to a fix to openstack-service.conf.erb that never made it to
nova.conf.erb).

backport: queens pike

Change-Id: I07aeb7617ca152f66ec239cef4bcbef642c66bf7
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/45/607245/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/default/nova.conf.erb'],1,2c7a133e68cf99d11d00b4ac935500528ecaeb1e,conf_space,,,1,0
openstack%2Fcookbook-openstack-compute~master~I0ff8202455b576227b882670c7254487b5e11f25,openstack/cookbook-openstack-compute,master,I0ff8202455b576227b882670c7254487b5e11f25,Add www_authenticate_uri to keystone_authtoken,MERGED,2018-10-02 15:03:54.000000000,2018-10-05 09:58:14.000000000,2018-10-05 08:59:33.000000000,"[{'_account_id': 11109}, {'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 15:03:54.000000000', 'files': ['recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/7053785ecf736dfd5ea022446d1a99df9e56f604', 'message': 'Add www_authenticate_uri to keystone_authtoken\n\nWithout www_authenticate_uri set, nova logs contain warnings:\n\nWARNING keystonemiddleware.auth_token\n        Configuring www_authenticate_uri to point to the public identity\n        endpoint is required; clients may not be able to authenticate\n        against an admin endpoint\n\nbackport: queens\n\nChange-Id: I0ff8202455b576227b882670c7254487b5e11f25\n'}]",0,607282,7053785ecf736dfd5ea022446d1a99df9e56f604,10,4,1,11109,,,0,"Add www_authenticate_uri to keystone_authtoken

Without www_authenticate_uri set, nova logs contain warnings:

WARNING keystonemiddleware.auth_token
        Configuring www_authenticate_uri to point to the public identity
        endpoint is required; clients may not be able to authenticate
        against an admin endpoint

backport: queens

Change-Id: I0ff8202455b576227b882670c7254487b5e11f25
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/82/607282/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/nova-common.rb'],1,7053785ecf736dfd5ea022446d1a99df9e56f604,www_auth, conf['keystone_authtoken']['www_authenticate_uri'] = auth_url,,1,0
openstack%2Fhorizon~master~I66e893ac3f9bd5980639ff057ba5476e14876639,openstack/horizon,master,I66e893ac3f9bd5980639ff057ba5476e14876639,Imported Translations from Zanata,MERGED,2018-10-05 07:30:46.000000000,2018-10-05 09:50:08.000000000,2018-10-05 09:50:08.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 07:30:46.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a951f8eb6f2313c8c16f55d49a375bebae8d118c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I66e893ac3f9bd5980639ff057ba5476e14876639\n'}]",0,608172,a951f8eb6f2313c8c16f55d49a375bebae8d118c,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I66e893ac3f9bd5980639ff057ba5476e14876639
",git fetch https://review.opendev.org/openstack/horizon refs/changes/72/608172/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,a951f8eb6f2313c8c16f55d49a375bebae8d118c,zanata/translations,"""POT-Creation-Date: 2018-10-04 14:05+0000\n""""PO-Revision-Date: 2018-10-04 04:21+0000\n""msgid ""14.0.0.0rc1-73"" msgstr ""14.0.0.0rc1-73""","""POT-Creation-Date: 2018-10-02 15:02+0000\n""""PO-Revision-Date: 2018-10-04 12:01+0000\n""msgid ""14.0.0.0rc1-72"" msgstr ""14.0.0.0rc1-72""",4,4
openstack%2Fpuppet-cloudkitty~master~If77dc18500e52350e9de9771e2ea84d2c2ceaf44,openstack/puppet-cloudkitty,master,If77dc18500e52350e9de9771e2ea84d2c2ceaf44,build universal wheels,ABANDONED,2018-10-04 01:37:13.000000000,2018-10-05 09:40:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 01:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/5b3cb6d61c9ffe16b18a9a40c30e9978203c09a0', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: If77dc18500e52350e9de9771e2ea84d2c2ceaf44\n'}, {'number': 2, 'created': '2018-10-05 09:39:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/b870be8f6f31ca702d7a7d541d473fb38f178243', 'message': 'build universal wheels\n\nBy default setuptools produces a version-specific wheel file so\ninstallation under other versions of Python require extra work at\ninstall time. This change turns on ""universal"" wheel support, so that\nthe wheel file will be marked as supporting both Python 2 and 3.\n\nChange-Id: If77dc18500e52350e9de9771e2ea84d2c2ceaf44\n'}]",0,607749,b870be8f6f31ca702d7a7d541d473fb38f178243,7,1,2,28543,,,0,"build universal wheels

By default setuptools produces a version-specific wheel file so
installation under other versions of Python require extra work at
install time. This change turns on ""universal"" wheel support, so that
the wheel file will be marked as supporting both Python 2 and 3.

Change-Id: If77dc18500e52350e9de9771e2ea84d2c2ceaf44
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/49/607749/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5b3cb6d61c9ffe16b18a9a40c30e9978203c09a0,,[wheel] universal = 1,,2,0
openstack%2Fpython-freezerclient~master~I3d93a961066c00879241e28552d16101414ab789,openstack/python-freezerclient,master,I3d93a961066c00879241e28552d16101414ab789,Add 'freezerclient.v2.managers.jobs' unit test cases,MERGED,2018-10-05 01:25:45.000000000,2018-10-05 09:40:00.000000000,2018-10-05 09:40:00.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-05 01:25:45.000000000', 'files': ['freezerclient/tests/unit/v2/test_client_jobs.py'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/57f3fa1c9653bf0ed717eb67dfd2fc36c263fc68', 'message': ""Add 'freezerclient.v2.managers.jobs' unit test cases\n\nAdd 'freezerclient.v2.managers.jobs' unit test cases.\n\nChange-Id: I3d93a961066c00879241e28552d16101414ab789\n""}]",0,608119,57f3fa1c9653bf0ed717eb67dfd2fc36c263fc68,7,2,1,21069,,,0,"Add 'freezerclient.v2.managers.jobs' unit test cases

Add 'freezerclient.v2.managers.jobs' unit test cases.

Change-Id: I3d93a961066c00879241e28552d16101414ab789
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/19/608119/1 && git format-patch -1 --stdout FETCH_HEAD,['freezerclient/tests/unit/v2/test_client_jobs.py'],1,57f3fa1c9653bf0ed717eb67dfd2fc36c263fc68,ut_patch_jobs,"# (c) Copyright 2018 ZTE Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import json import unittest import mock from freezerclient import exceptions from freezerclient.v2.managers import jobs class TestJobManager(unittest.TestCase): def setUp(self): self.mock_client = mock.Mock() self.mock_response = mock.Mock() self.mock_client.endpoint = 'http://testendpoint:9999' self.mock_client.project_id = 'tecs' self.mock_client.auth_token = 'testtoken' self.mock_client.client_id = 'test_client_id_78900987' self.job_manager = jobs.JobManager(self.mock_client) self.headers = { 'X-Auth-Token': 'testtoken', 'Content-Type': 'application/json', 'Accept': 'application/json' } @mock.patch('freezerclient.v2.managers.jobs.requests') def test_create(self, mock_requests): self.assertEqual('http://testendpoint:9999/v2/tecs/jobs/', self.job_manager.endpoint) self.assertEqual({'X-Auth-Token': 'testtoken', 'Content-Type': 'application/json', 'Accept': 'application/json'}, self.job_manager.headers) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_create_ok(self, mock_requests): self.mock_response.status_code = 201 self.mock_response.json.return_value = {'job_id': 'qwerqwer'} mock_requests.post.return_value = self.mock_response retval = self.job_manager.create({'job': 'metadata'}) self.assertEqual('qwerqwer', retval) @mock.patch('freezerclient.v2.managers.jobs.json') @mock.patch('freezerclient.v2.managers.jobs.requests') def test_create_adds_client_id_if_not_provided(self, mock_requests, mock_json): self.mock_response.status_code = 201 self.mock_response.json.return_value = {'job_id': 'qwerqwer'} mock_json.dumps.return_value = {'job': 'mocked'} mock_requests.post.return_value = self.mock_response retval = self.job_manager.create({'job': 'metadata'}) mock_json.dumps.assert_called_with({ 'job': 'metadata', 'client_id': 'test_client_id_78900987' }) self.assertEqual('qwerqwer', retval) @mock.patch('freezerclient.v2.managers.jobs.json') @mock.patch('freezerclient.v2.managers.jobs.requests') def test_create_leaves_provided_client_id(self, mock_requests, mock_json): self.mock_response.status_code = 201 self.mock_response.json.return_value = {'job_id': 'qwerqwer'} mock_json.dumps.return_value = {'job': 'mocked'} mock_requests.post.return_value = self.mock_response retval = self.job_manager.create( {'job': 'metadata', 'client_id': 'parmenide'}) mock_json.dumps.assert_called_with({'job': 'metadata', 'client_id': 'parmenide'}) self.assertEqual('qwerqwer', retval) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_create_fail_when_api_return_error_code(self, mock_requests): self.mock_response.status_code = 500 mock_requests.post.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.create, {'job': 'metadata'}) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_delete_ok(self, mock_requests): self.mock_response.status_code = 204 mock_requests.delete.return_value = self.mock_response retval = self.job_manager.delete('test_job_id') self.assertIsNone(retval) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_delete_fail(self, mock_requests): self.mock_response.status_code = 500 mock_requests.delete.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.delete, 'test_job_id') @mock.patch('freezerclient.v2.managers.jobs.requests') def test_get_ok(self, mock_requests): self.mock_response.status_code = 200 self.mock_response.json.return_value = {'job_id': 'qwerqwer'} mock_requests.get.return_value = self.mock_response retval = self.job_manager.get('test_job_id') self.assertEqual({'job_id': 'qwerqwer'}, retval) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_get_fails_on_error_different_from_404(self, mock_requests): self.mock_response.status_code = 500 mock_requests.get.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.get, 'test_job_id') @mock.patch('freezerclient.v2.managers.jobs.requests') def test_get_none(self, mock_requests): self.mock_response.status_code = 404 mock_requests.get.return_value = self.mock_response retval = self.job_manager.get('test_job_id') self.assertIsNone(retval) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_list_ok(self, mock_requests): self.mock_response.status_code = 200 job_list = [{'job_id_0': 'bomboloid'}, {'job_id_1': 'asdfasdf'}] self.mock_response.json.return_value = {'jobs': job_list} mock_requests.get.return_value = self.mock_response retval = self.job_manager.list() self.assertEqual(job_list, retval) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_list_error(self, mock_requests): self.mock_response.status_code = 404 job_list = [{'job_id_0': 'bomboloid'}, {'job_id_1': 'asdfasdf'}] self.mock_response.json.return_value = {'clients': job_list} mock_requests.get.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.list) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_update_ok(self, mock_requests): self.mock_response.status_code = 200 self.mock_response.json.return_value = { ""patch"": {""status"": ""bamboozled""}, ""version"": 12, ""job_id"": ""d454beec-1f3c-4d11-aa1a-404116a40502"" } mock_requests.patch.return_value = self.mock_response retval = self.job_manager.update( 'd454beec-1f3c-4d11-aa1a-404116a40502', {'status': 'bamboozled'}) self.assertEqual(12, retval) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_update_raise_MetadataUpdateFailure_when_api_return_error_code( self, mock_requests): self.mock_response.json.return_value = { ""patch"": {""status"": ""bamboozled""}, ""version"": 12, ""job_id"": ""d454beec-1f3c-4d11-aa1a-404116a40502"" } self.mock_response.status_code = 404 self.mock_response.text = ( '{""title"": ""Not Found"",""description"":""No document found with ID ' 'd454beec-1f3c-4d11-aa1a-404116a40502x""}' ) mock_requests.patch.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.update, 'd454beec-1f3c-4d11-aa1a-404116a40502', {'status': 'bamboozled'}) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_start_job_posts_proper_data(self, mock_requests): job_id = 'jobdfsfnqwerty1234' self.mock_response.status_code = 202 self.mock_response.json.return_value = {'result': 'success'} mock_requests.post.return_value = self.mock_response # /v2/{project_id}/jobs/{job_id}/event endpoint = '{0}/v2/{1}/jobs/{2}/event'.format( self.mock_client.endpoint, self.mock_client.project_id, job_id) data = {""start"": None} retval = self.job_manager.start_job(job_id) self.assertEqual({'result': 'success'}, retval) args = mock_requests.post.call_args[0] kwargs = mock_requests.post.call_args[1] self.assertEqual(endpoint, args[0]) self.assertEqual(data, json.loads(kwargs['data'])) self.assertEqual(self.headers, kwargs['headers']) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_start_job_raise_ApiClientException_when_api_return_error_code( self, mock_requests): job_id = 'jobdfsfnqwerty1234' self.mock_response.status_code = 500 self.mock_response.json.return_value = {'result': 'success'} mock_requests.post.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.start_job, job_id) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_stop_job_posts_proper_data(self, mock_requests): job_id = 'jobdfsfnqwerty1234' self.mock_response.status_code = 202 self.mock_response.json.return_value = {'result': 'success'} mock_requests.post.return_value = self.mock_response # /v2/{project_id}/jobs/{job_id}/event endpoint = '{0}/v2/{1}/jobs/{2}/event'.format( self.mock_client.endpoint, self.mock_client.project_id, job_id) data = {""stop"": None} retval = self.job_manager.stop_job(job_id) self.assertEqual({'result': 'success'}, retval) args = mock_requests.post.call_args[0] kwargs = mock_requests.post.call_args[1] self.assertEqual(endpoint, args[0]) self.assertEqual(data, json.loads(kwargs['data'])) self.assertEqual(self.headers, kwargs['headers']) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_stop_job_raise_ApiClientException_when_api_return_error_code( self, mock_requests): job_id = 'jobdfsfnqwerty1234' self.mock_response.status_code = 500 self.mock_response.json.return_value = {'result': 'success'} mock_requests.post.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.start_job, job_id) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_abort_job_posts_proper_data(self, mock_requests): job_id = 'jobdfsfnqwerty1234' self.mock_response.status_code = 202 self.mock_response.json.return_value = {'result': 'success'} mock_requests.post.return_value = self.mock_response # /v2/{project_id}/jobs/{job_id}/event endpoint = '{0}/v2/{1}/jobs/{2}/event'.format( self.mock_client.endpoint, self.mock_client.project_id, job_id) data = {""abort"": None} retval = self.job_manager.abort_job(job_id) self.assertEqual({'result': 'success'}, retval) args = mock_requests.post.call_args[0] kwargs = mock_requests.post.call_args[1] self.assertEqual(endpoint, args[0]) self.assertEqual(data, json.loads(kwargs['data'])) self.assertEqual(self.headers, kwargs['headers']) @mock.patch('freezerclient.v2.managers.jobs.requests') def test_abort_job_raise_ApiClientException_when_api_return_error_code( self, mock_requests): job_id = 'jobdfsfnqwerty1234' self.mock_response.status_code = 500 self.mock_response.json.return_value = {'result': 'success'} mock_requests.post.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.job_manager.abort_job, job_id) ",,273,0
openstack%2Fopenstack-manuals~master~I6835e7dbceb9b338270364e144723c1c29760ee3,openstack/openstack-manuals,master,I6835e7dbceb9b338270364e144723c1c29760ee3,[WIP] Add note for the host naming guideline,ABANDONED,2018-10-05 09:34:51.000000000,2018-10-05 09:37:05.000000000,,[],"[{'number': 1, 'created': '2018-10-05 09:34:51.000000000', 'files': ['doc/install-guide/source/environment-networking.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ac6cd26f15018602028362931c830058338418fe', 'message': '[WIP] Add note for the host naming guideline\n\nWhile following installation guide, I got trouble while installing\nNeutron service. Follow the log[1], it looked like oslo config\nhas raised error while getting host name to be used by the\nNeutron server[2]. The hostname in this case is ""aA1-"" and I use\nUbuntu 16-04 for deploying.\n\n[1] https://pasteboard.co/HH0p9zq.jpg\n[2] https://github.com/openstack/neutron/blob/master/neutron/conf/common.py#L94\n\nChange-Id: I6835e7dbceb9b338270364e144723c1c29760ee3\nCloses-Bug: #1796241\n'}]",0,608194,ac6cd26f15018602028362931c830058338418fe,2,0,1,19853,,,0,"[WIP] Add note for the host naming guideline

While following installation guide, I got trouble while installing
Neutron service. Follow the log[1], it looked like oslo config
has raised error while getting host name to be used by the
Neutron server[2]. The hostname in this case is ""aA1-"" and I use
Ubuntu 16-04 for deploying.

[1] https://pasteboard.co/HH0p9zq.jpg
[2] https://github.com/openstack/neutron/blob/master/neutron/conf/common.py#L94

Change-Id: I6835e7dbceb9b338270364e144723c1c29760ee3
Closes-Bug: #1796241
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/94/608194/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/environment-networking.rst'],1,ac6cd26f15018602028362931c830058338418fe,bug/1796241,".. note:: A computer hostname represents a unique name for a computer in a network. To keep OpenStack hosts run smoothly, we should keep in mind the following rules for hostname: * hostname can contain letters (from a to z). * hostname can contain digits (from 0 to 9). * hostname can contain only the hyphen character ( – ) as special character in the middle of the name. * hostname letters are case-insensitive. * hostname must contains between 2 and 63 characters long. ",,12,0
openstack%2Fpython-freezerclient~master~I933d6d9e72d97563136b3f716949024b4fb6deaf,openstack/python-freezerclient,master,I933d6d9e72d97563136b3f716949024b4fb6deaf,Add 'freezerclient.v2.managers.sessions' unit test cases,MERGED,2018-10-03 13:41:06.000000000,2018-10-05 09:36:18.000000000,2018-10-05 09:36:17.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-03 13:41:06.000000000', 'files': ['freezerclient/tests/unit/v2/test_client_sessions.py'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/f20f7e9af619f314c84ec7c7df50baba618f4325', 'message': ""Add 'freezerclient.v2.managers.sessions' unit test cases\n\nAdd 'freezerclient.v2.managers.sessions' unit test cases\n\nChange-Id: I933d6d9e72d97563136b3f716949024b4fb6deaf\n""}]",0,607572,f20f7e9af619f314c84ec7c7df50baba618f4325,8,3,1,21069,,,0,"Add 'freezerclient.v2.managers.sessions' unit test cases

Add 'freezerclient.v2.managers.sessions' unit test cases

Change-Id: I933d6d9e72d97563136b3f716949024b4fb6deaf
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/72/607572/1 && git format-patch -1 --stdout FETCH_HEAD,['freezerclient/tests/unit/v2/test_client_sessions.py'],1,f20f7e9af619f314c84ec7c7df50baba618f4325,,"# (c) Copyright 2018 ZTE Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import json import unittest import mock from freezerclient import exceptions from freezerclient.v2.managers import sessions class TestSessionManager(unittest.TestCase): def setUp(self): self.mock_client = mock.Mock() self.mock_response = mock.Mock() self.mock_client.endpoint = 'http://testendpoint:9999' self.mock_client.project_id = 'tecs' self.mock_client.auth_token = 'testtoken' self.mock_client.client_id = 'test_client_id_78900987' self.session_manager = sessions.SessionManager(self.mock_client) self.endpoint = 'http://testendpoint:9999/v2/tecs/sessions/' self.headers = { 'X-Auth-Token': 'testtoken', 'Content-Type': 'application/json', 'Accept': 'application/json' } @mock.patch('freezerclient.v2.managers.sessions.requests') def test_create(self, mock_requests): self.assertEqual(self.endpoint, self.session_manager.endpoint) self.assertEqual(self.headers, self.session_manager.headers) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_create_ok(self, mock_requests): self.mock_response.status_code = 201 self.mock_response.json.return_value = {'session_id': 'qwerqwer'} mock_requests.post.return_value = self.mock_response retval = self.session_manager.create({'session': 'metadata'}) self.assertEqual('qwerqwer', retval) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_create_raise_ApiClientException_when_api_return_error_code( self, mock_requests): self.mock_response.status_code = 500 mock_requests.post.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.create, {'session': 'metadata'}) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_delete_ok(self, mock_requests): self.mock_response.status_code = 204 mock_requests.delete.return_value = self.mock_response retval = self.session_manager.delete('test_session_id') self.assertIsNone(retval) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_delete_raise_ApiClientException_when_api_return_error_code( self, mock_requests): self.mock_response.status_code = 500 mock_requests.delete.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.delete, 'test_session_id') @mock.patch('freezerclient.v2.managers.sessions.requests') def test_get_ok(self, mock_requests): self.mock_response.status_code = 200 self.mock_response.json.return_value = {'session_id': 'qwerqwer'} mock_requests.get.return_value = self.mock_response retval = self.session_manager.get('test_session_id') self.assertEqual({'session_id': 'qwerqwer'}, retval) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_get_raise_ApiClientException_when_api_return_error_diff_from_404( self, mock_requests): self.mock_response.status_code = 500 mock_requests.get.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.get, 'test_session_id') @mock.patch('freezerclient.v2.managers.sessions.requests') def test_get_none(self, mock_requests): self.mock_response.status_code = 404 mock_requests.get.return_value = self.mock_response retval = self.session_manager.get('test_session_id') self.assertIsNone(retval) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_list_ok(self, mock_requests): self.mock_response.status_code = 200 session_list = [{'session_id_0': 'bomboloid'}, {'session_id_1': 'asdfasdf'}] self.mock_response.json.return_value = {'sessions': session_list} mock_requests.get.return_value = self.mock_response retval = self.session_manager.list() self.assertEqual(session_list, retval) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_list_raise_ApiClientException_when_api_return_error_code( self, mock_requests): self.mock_response.status_code = 404 session_list = [{'session_id_0': 'bomboloid'}, {'session_id_1': 'asdfasdf'}] self.mock_response.json.return_value = {'clients': session_list} mock_requests.get.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.list) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_update_ok(self, mock_requests): self.mock_response.status_code = 200 self.mock_response.json.return_value = { ""patch"": {""status"": ""bamboozled""}, ""version"": 12, ""session_id"": ""d454beec-1f3c-4d11-aa1a-404116a40502"" } mock_requests.patch.return_value = self.mock_response retval = self.session_manager.update( 'd454beec-1f3c-4d11-aa1a-404116a40502', {'status': 'bamboozled'}) self.assertEqual(12, retval) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_update_raise_ApiClientException_when_api_return_error_code( self, mock_requests): self.mock_response.json.return_value = { ""patch"": {""status"": ""bamboozled""}, ""version"": 12, ""session_id"": ""d454beec-1f3c-4d11-aa1a-404116a40502"" } self.mock_response.status_code = 404 self.mock_response.text = ( '{""title"": ""Not Found"",""description"":""No document found with ID ' 'd454beec-1f3c-4d11-aa1a-404116a40502x""}' ) mock_requests.patch.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.update, 'd454beec-1f3c-4d11-aa1a-404116a40502', {'status': 'bamboozled'}) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_add_job_uses_proper_endpoint(self, mock_requests): session_id, job_id = 'sessionqwerty1234', 'jobqwerty1234' self.mock_response.status_code = 204 mock_requests.put.return_value = self.mock_response endpoint = '{0}{1}/jobs/{2}'.format(self.endpoint, session_id, job_id) retval = self.session_manager.add_job(session_id, job_id) self.assertIsNone(retval) mock_requests.put.assert_called_with(endpoint, headers=self.headers, verify=True) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_add_job_raise_ApiClientException_when_api_return_error_code( self, mock_requests): session_id, job_id = 'sessionqwerty1234', 'jobqwerty1234' self.mock_response.status_code = 500 mock_requests.put.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.add_job, session_id, job_id) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_remove_job_uses_proper_endpoint(self, mock_requests): session_id, job_id = 'sessionqwerty1234', 'jobqwerty1234' self.mock_response.status_code = 204 mock_requests.delete.return_value = self.mock_response endpoint = '{0}{1}/jobs/{2}'.format(self.endpoint, session_id, job_id) retval = self.session_manager.remove_job(session_id, job_id) self.assertIsNone(retval) mock_requests.delete.assert_called_with(endpoint, headers=self.headers, verify=True) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_remove_job_raise_ApiClientException_when_api_return_error_code( self, mock_requests): session_id, job_id = 'sessionqwerty1234', 'jobqwerty1234' self.mock_response.status_code = 500 mock_requests.delete.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.remove_job, session_id, job_id) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_start_session_posts_proper_data(self, mock_requests): session_id, job_id, tag = 'sessionqwerty1234', 'jobqwerty1234', 23 self.mock_response.status_code = 202 self.mock_response.json.return_value = {'result': 'success', 'session_tag': 24} mock_requests.post.return_value = self.mock_response # /v2/{project_id}/sessions/{sessions_id}/action endpoint = '{0}{1}/action'.format(self.endpoint, session_id) data = {""start"": {""current_tag"": 23, ""job_id"": ""jobqwerty1234""}} retval = self.session_manager.start_session(session_id, job_id, tag) self.assertEqual({'result': 'success', 'session_tag': 24}, retval) args = mock_requests.post.call_args[0] kwargs = mock_requests.post.call_args[1] self.assertEqual(endpoint, args[0]) self.assertEqual(data, json.loads(kwargs['data'])) self.assertEqual(self.headers, kwargs['headers']) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_start_session_raise_ApiClientException_when_api_return_error_code( self, mock_requests): session_id, job_id, tag = 'sessionqwerty1234', 'jobqwerty1234', 23 self.mock_response.status_code = 500 self.mock_response.json.return_value = {'result': 'success', 'session_tag': 24} mock_requests.post.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.start_session, session_id, job_id, tag) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_end_session_posts_proper_data(self, mock_requests): session_id, job_id, tag = 'sessionqwerty1234', 'jobqwerty1234', 23 self.mock_response.status_code = 202 self.mock_response.json.return_value = {'result': 'success', 'session_tag': 24} mock_requests.post.return_value = self.mock_response # /v2/{project_id}/sessions/{sessions_id}/action endpoint = '{0}{1}/action'.format(self.endpoint, session_id) data = {""end"": {""current_tag"": 23, ""job_id"": ""jobqwerty1234"", ""result"": ""fail""}} retval = self.session_manager.end_session(session_id, job_id, tag, 'fail') self.assertEqual({'result': 'success', 'session_tag': 24}, retval) args = mock_requests.post.call_args[0] kwargs = mock_requests.post.call_args[1] self.assertEqual(endpoint, args[0]) self.assertEqual(data, json.loads(kwargs['data'])) self.assertEqual(self.headers, kwargs['headers']) @mock.patch('freezerclient.v2.managers.sessions.requests') def test_end_session_raise_ApiClientException_when_api_return_error_code( self, mock_requests): session_id, job_id, tag = 'sessionqwerty1234', 'jobqwerty1234', 23 self.mock_response.status_code = 500 self.mock_response.json.return_value = {'result': 'success', 'session_tag': 24} mock_requests.post.return_value = self.mock_response self.assertRaises(exceptions.ApiClientException, self.session_manager.end_session, session_id, job_id, tag, 'fail') ",,258,0
openstack%2Fwatcher~master~I89a9c7661616f49639151869055d8f5ebe723d5f,openstack/watcher,master,I89a9c7661616f49639151869055d8f5ebe723d5f,Fix audit creation with named goal and strategy,MERGED,2018-09-25 10:46:53.000000000,2018-10-05 09:34:05.000000000,2018-10-05 09:34:05.000000000,"[{'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23168}]","[{'number': 1, 'created': '2018-09-25 10:46:53.000000000', 'files': ['api-ref/source/watcher-api-v1-audits.inc', 'watcher/tests/api/v1/test_audits.py', 'watcher/api/controllers/v1/audit.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/7cb81ac6c5b9d657aa46a37c01de82bacc6bc400', 'message': 'Fix audit creation with named goal and strategy\n\nThis patch set fixes process of audit creation and\nallows to create audit without Audit Template using only\nnames of Goal and Strategy. It also provides some additional\nunit tests to improve tests covering.\n\nChange-Id: I89a9c7661616f49639151869055d8f5ebe723d5f\nCloses-Bug: #1794233\n'}]",3,605036,7cb81ac6c5b9d657aa46a37c01de82bacc6bc400,10,6,1,19055,,,0,"Fix audit creation with named goal and strategy

This patch set fixes process of audit creation and
allows to create audit without Audit Template using only
names of Goal and Strategy. It also provides some additional
unit tests to improve tests covering.

Change-Id: I89a9c7661616f49639151869055d8f5ebe723d5f
Closes-Bug: #1794233
",git fetch https://review.opendev.org/openstack/watcher refs/changes/36/605036/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/watcher-api-v1-audits.inc', 'watcher/tests/api/v1/test_audits.py', 'watcher/api/controllers/v1/audit.py']",3,7cb81ac6c5b9d657aa46a37c01de82bacc6bc400,bug/1794233,"def _get_object_by_value(context, class_name, value): if utils.is_uuid_like(value) or utils.is_int_like(value): return class_name.get(context, value) else: return class_name.get_by_name(context, value) if self.audit_template_uuid and self.goal: raise exception.Invalid('Either audit_template_uuid ' 'or goal should be provided.') strategy = _get_object_by_value(context, objects.Strategy, self.strategy) goal = _get_object_by_value(context, objects.Goal, self.goal)"," strategy = objects.Strategy.get(context, self.strategy) goal = objects.Goal.get(context, self.goal)",127,92
openstack%2Foslo.limit~master~Ie496a5540e4ede74faba89b268d4ec00f8182add,openstack/oslo.limit,master,Ie496a5540e4ede74faba89b268d4ec00f8182add,Use openstackdocstheme for documentation,MERGED,2018-09-07 21:17:25.000000000,2018-10-05 09:30:58.000000000,2018-10-05 09:30:58.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 14320}, {'_account_id': 15007}, {'_account_id': 15054}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-09-07 21:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/ae3a184c262ba34b479ef06c880dea75a4115fbe', 'message': ""Use openstackdocstheme for documentation\n\nLet's be consistent with the rest of the oslo libraries and use the\nopenstack docs theme for documentation.\n\nChange-Id: Ie496a5540e4ede74faba89b268d4ec00f8182add\n""}, {'number': 2, 'created': '2018-09-17 16:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/fb9bfc7d187a203a9d472de6cfef4528ff8aff33', 'message': ""Use openstackdocstheme for documentation\n\nLet's be consistent with the rest of the oslo libraries and use the\nopenstack docs theme for documentation.\n\nChange-Id: Ie496a5540e4ede74faba89b268d4ec00f8182add\n""}, {'number': 3, 'created': '2018-09-24 13:24:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/03c58744225ef47175ec653072941ff0b2a4a716', 'message': ""Use openstackdocstheme for documentation\n\nLet's be consistent with the rest of the oslo libraries and use the\nopenstack docs theme for documentation.\n\nChange-Id: Ie496a5540e4ede74faba89b268d4ec00f8182add\n""}]",2,600866,03c58744225ef47175ec653072941ff0b2a4a716,19,9,3,5046,,,0,"Use openstackdocstheme for documentation

Let's be consistent with the rest of the oslo libraries and use the
openstack docs theme for documentation.

Change-Id: Ie496a5540e4ede74faba89b268d4ec00f8182add
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/66/600866/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,ae3a184c262ba34b479ef06c880dea75a4115fbe,bug/1790931," # The theme to use for HTML and HTML Help pages. Major themes that come with # Sphinx are currently 'default' and 'sphinxdoc'. # html_theme_path = ["".""] # html_theme = '_theme' # html_static_path = ['static'] html_theme = 'openstackdocs'",,7,0
openstack%2Fkuryr-kubernetes~master~I571644b0c87ed21d3243daf7816fe47753c3e5ee,openstack/kuryr-kubernetes,master,I571644b0c87ed21d3243daf7816fe47753c3e5ee,Update kuryr-controller ClusterRole RBAC,ABANDONED,2018-10-04 15:46:51.000000000,2018-10-05 09:29:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-04 15:46:51.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/341823837a40f00296becb3dca942e5746eab7aa', 'message': ""Update kuryr-controller ClusterRole RBAC\n\nThis commit updates APIs and actions listed in kuryr-controller\nClusterRole to include some resources required by new features.\nWithout this we wouldn't be able to access them in containerized\ndeployments.\n\nAlso two unused resources are removed.\n\nChange-Id: I571644b0c87ed21d3243daf7816fe47753c3e5ee\nCloses-Bug: 1796122\n""}]",0,607994,341823837a40f00296becb3dca942e5746eab7aa,3,1,1,11600,,,0,"Update kuryr-controller ClusterRole RBAC

This commit updates APIs and actions listed in kuryr-controller
ClusterRole to include some resources required by new features.
Without this we wouldn't be able to access them in containerized
deployments.

Also two unused resources are removed.

Change-Id: I571644b0c87ed21d3243daf7816fe47753c3e5ee
Closes-Bug: 1796122
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/607994/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,341823837a40f00296becb3dca942e5746eab7aa,bug/1796122,"- apiGroups: [""oapi""] resources: - routes verbs: [""*""] - kuryrnetpolicies - apiGroups: [""networking.k8s.io""] resources: - networkpolicies verbs: - get - list - watch - apiGroups: [""k8s.cni.cncf.io""] resources: - network-attachment-definitions verbs: - get", - deployments - policies,17,2
openstack%2Fbifrost~master~I190530e8e3b5a1e3062a670e40a29417d94c1963,openstack/bifrost,master,I190530e8e3b5a1e3062a670e40a29417d94c1963,roles: bifrost-ironic-install: Make epmd listen to all addresses on SUSE,MERGED,2018-10-03 14:16:08.000000000,2018-10-05 09:28:14.000000000,2018-10-05 09:28:14.000000000,"[{'_account_id': 6133}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-10-03 14:16:08.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ceb7d9019b64e28e3fe672d54cec46491a5f4d39', 'message': 'roles: bifrost-ironic-install: Make epmd listen to all addresses on SUSE\n\nepmd on SUSE only listens on the localhost address leading to\nrabbitmq-server failures when it listens to multiple addresses. We can\nfix that by overriding the default ListenStream option in the\nepmd.socket unit file to listen to all addresses.\n\nChange-Id: I190530e8e3b5a1e3062a670e40a29417d94c1963\nLink: https://bugzilla.suse.com/show_bug.cgi?id=1003085\n'}]",2,607583,ceb7d9019b64e28e3fe672d54cec46491a5f4d39,8,4,1,23163,,,0,"roles: bifrost-ironic-install: Make epmd listen to all addresses on SUSE

epmd on SUSE only listens on the localhost address leading to
rabbitmq-server failures when it listens to multiple addresses. We can
fix that by overriding the default ListenStream option in the
epmd.socket unit file to listen to all addresses.

Change-Id: I190530e8e3b5a1e3062a670e40a29417d94c1963
Link: https://bugzilla.suse.com/show_bug.cgi?id=1003085
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/83/607583/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'],1,ceb7d9019b64e28e3fe672d54cec46491a5f4d39,bifrost-add-leap-150,"# https://build.opensuse.org/package/view_file/devel:languages:erlang:Factory/erlang/README.SUSE?expand=1 - name: ""Make epmd listen to all addresses on SUSE"" block: - blockinfile: dest: ""/etc/systemd/system/epmd.socket.d/port.conf"" content: | [Socket] ListenStream= ListenStream=0.0.0.0:4369 create: yes marker: ""# {mark} ANSIBLE MANAGED BLOCK"" - systemd: daemon_reload=yes - service: name={{ item }} state=stopped enabled=no with_items: - epmd.socket - epmd ","# Make sure the systemd service and socket are stopped so rabbitmq-server will # start epmd on its own (https://bugzilla.suse.com/show_bug.cgi?id=1003085) - name: ""Stop and disable the epmd service and socket on SUSE"" service: name={{ item }} state=stopped enabled=no with_items: - epmd.socket - epmd",19,7
openstack%2Fkeystone-specs~master~I8f4db75f30021fca61f7c073018a533b02316ece,openstack/keystone-specs,master,I8f4db75f30021fca61f7c073018a533b02316ece,fix tox python3 overrides,MERGED,2018-09-29 23:50:20.000000000,2018-10-05 09:28:06.000000000,2018-10-05 09:28:06.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-29 23:50:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f7ba190639ee0e6f14ec3b8f4845fd5738144b7f', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I8f4db75f30021fca61f7c073018a533b02316ece\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,606643,f7ba190639ee0e6f14ec3b8f4845fd5738144b7f,7,3,1,2472,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I8f4db75f30021fca61f7c073018a533b02316ece
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/43/606643/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f7ba190639ee0e6f14ec3b8f4845fd5738144b7f,python3-first,basepython = python3basepython = python3,,2,0
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~I852f24b21784f6de05232107a5cdf6e779f18b23,openstack/charm-nova-cloud-controller,stable/18.08,I852f24b21784f6de05232107a5cdf6e779f18b23,"Enable {Different,Same}HostFilter",MERGED,2018-10-01 09:17:14.000000000,2018-10-05 09:27:50.000000000,2018-10-05 09:27:50.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 09:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9923106e695a12456c181f8e4ef6e9b27deef94d', 'message': 'Enable {Different,Same}HostFilter\n\nThe SameHostFilter and DifferentHostFilter have been present in Nova\nsince Icehouse; add both of these simple filters to the default\nenabled filters to provide simple affinity/anti-affinity hints.\n\nThis plugs some holes in our tempest test coverage as tests relating\nto these features are currently disabled.\n\nChange-Id: I852f24b21784f6de05232107a5cdf6e779f18b23\n(cherry picked from commit d3a843ea4caa467df1c2a280ba7a7b6f134e1faa)\n'}, {'number': 2, 'created': '2018-10-02 14:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1954b045b79bf56ecc7ddf0d12f7a05ce8b42166', 'message': 'Enable {Different,Same}HostFilter\n\nThe SameHostFilter and DifferentHostFilter have been present in Nova\nsince Icehouse; add both of these simple filters to the default\nenabled filters to provide simple affinity/anti-affinity hints.\n\nThis plugs some holes in our tempest test coverage as tests relating\nto these features are currently disabled.\n\nChange-Id: I852f24b21784f6de05232107a5cdf6e779f18b23\n(cherry picked from commit d3a843ea4caa467df1c2a280ba7a7b6f134e1faa)\n'}, {'number': 3, 'created': '2018-10-02 14:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f0d14de6babc6fe94421806d8fa0653acd4c0c4e', 'message': 'Enable {Different,Same}HostFilter\n\nThe SameHostFilter and DifferentHostFilter have been present in Nova\nsince Icehouse; add both of these simple filters to the default\nenabled filters to provide simple affinity/anti-affinity hints.\n\nThis plugs some holes in our tempest test coverage as tests relating\nto these features are currently disabled.\n\nChange-Id: I852f24b21784f6de05232107a5cdf6e779f18b23\n(cherry picked from commit d3a843ea4caa467df1c2a280ba7a7b6f134e1faa)\n'}, {'number': 4, 'created': '2018-10-03 10:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/939835e14fecc88676d1e88e495a46dfba93e827', 'message': 'Enable {Different,Same}HostFilter\n\nThe SameHostFilter and DifferentHostFilter have been present in Nova\nsince Icehouse; add both of these simple filters to the default\nenabled filters to provide simple affinity/anti-affinity hints.\n\nThis plugs some holes in our tempest test coverage as tests relating\nto these features are currently disabled.\n\nChange-Id: I852f24b21784f6de05232107a5cdf6e779f18b23\n(cherry picked from commit d3a843ea4caa467df1c2a280ba7a7b6f134e1faa)\n'}, {'number': 5, 'created': '2018-10-03 10:58:06.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b61cb225ab18ace6cf3a421d6476c0f787de329a', 'message': 'Enable {Different,Same}HostFilter\n\nThe SameHostFilter and DifferentHostFilter have been present in Nova\nsince Icehouse; add both of these simple filters to the default\nenabled filters to provide simple affinity/anti-affinity hints.\n\nThis plugs some holes in our tempest test coverage as tests relating\nto these features are currently disabled.\n\nChange-Id: I852f24b21784f6de05232107a5cdf6e779f18b23\n(cherry picked from commit d3a843ea4caa467df1c2a280ba7a7b6f134e1faa)\n'}]",0,606916,b61cb225ab18ace6cf3a421d6476c0f787de329a,30,5,5,935,,,0,"Enable {Different,Same}HostFilter

The SameHostFilter and DifferentHostFilter have been present in Nova
since Icehouse; add both of these simple filters to the default
enabled filters to provide simple affinity/anti-affinity hints.

This plugs some holes in our tempest test coverage as tests relating
to these features are currently disabled.

Change-Id: I852f24b21784f6de05232107a5cdf6e779f18b23
(cherry picked from commit d3a843ea4caa467df1c2a280ba7a7b6f134e1faa)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/16/606916/3 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,9923106e695a12456c181f8e4ef6e9b27deef94d,stable/add-refstack-filters," default: ""RetryFilter,AvailabilityZoneFilter,CoreFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,DifferentHostFilter,SameHostFilter"""," default: ""RetryFilter,AvailabilityZoneFilter,CoreFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter""",1,1
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~Ic99d841b4a69f6ce5d26fe081f8abf70d105c113,openstack/charm-nova-cloud-controller,stable/18.08,Ic99d841b4a69f6ce5d26fe081f8abf70d105c113,rocky: resolve issues with live migration,MERGED,2018-10-01 09:17:14.000000000,2018-10-05 09:27:50.000000000,2018-10-05 09:27:50.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-01 09:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4b5fb152f00fcfaf51f0db3e0e781a7d7875f52a', 'message': 'rocky: resolve issues with live migration\n\nAdd requires keystone access and authentication details, resolving\nissues with live migration @ rocky.\n\nChange-Id: Ic99d841b4a69f6ce5d26fe081f8abf70d105c113\nCloses-Bug: 1794697\n(cherry picked from commit 74161785a2023706ce19efab5dc47aa2c1d5b6e2)\n'}, {'number': 2, 'created': '2018-10-03 10:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a959c318ab76de3236fd8e0a81d153b3ea9bf954', 'message': 'rocky: resolve issues with live migration\n\nAdd requires keystone access and authentication details, resolving\nissues with live migration @ rocky.\n\nChange-Id: Ic99d841b4a69f6ce5d26fe081f8abf70d105c113\nCloses-Bug: 1794697\n(cherry picked from commit 74161785a2023706ce19efab5dc47aa2c1d5b6e2)\n'}, {'number': 3, 'created': '2018-10-03 10:58:06.000000000', 'files': ['templates/pike/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/687882240340a5cd74734b973af35aa7fa87db1a', 'message': 'rocky: resolve issues with live migration\n\nAdd requires keystone access and authentication details, resolving\nissues with live migration @ rocky.\n\nChange-Id: Ic99d841b4a69f6ce5d26fe081f8abf70d105c113\nCloses-Bug: 1794697\n(cherry picked from commit 74161785a2023706ce19efab5dc47aa2c1d5b6e2)\n'}]",0,606915,687882240340a5cd74734b973af35aa7fa87db1a,15,4,3,935,,,0,"rocky: resolve issues with live migration

Add requires keystone access and authentication details, resolving
issues with live migration @ rocky.

Change-Id: Ic99d841b4a69f6ce5d26fe081f8abf70d105c113
Closes-Bug: 1794697
(cherry picked from commit 74161785a2023706ce19efab5dc47aa2c1d5b6e2)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/15/606915/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/pike/nova.conf'],1,4b5fb152f00fcfaf51f0db3e0e781a7d7875f52a,stable/add-refstack-filters,{% if auth_host -%} auth_url = {{ auth_protocol }}://{{ auth_host }}:{{ auth_port }}{% if admin_domain_name -%} project_domain_name = {{ admin_domain_name }} user_domain_name = {{ admin_domain_name }} {% else -%} project_domain_name = default user_domain_name = default {% endif -%} project_name = {{ admin_tenant_name }} username = {{ admin_user }} password = {{ admin_password }} signing_dir = {{ signing_dir }} {% endif -%},auth_strategy = keystone auth_section = keystone_authtoken,14,2
openstack%2Frpm-packaging~master~Ic682406d05ea8d87eae749057f360ab808f290ec,openstack/rpm-packaging,master,Ic682406d05ea8d87eae749057f360ab808f290ec,Add initial spec for python-tempestconf,MERGED,2018-08-30 12:22:19.000000000,2018-10-05 09:25:31.000000000,2018-10-05 09:25:31.000000000,"[{'_account_id': 6593}, {'_account_id': 8367}, {'_account_id': 10311}, {'_account_id': 10384}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-08-30 12:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7a507fe7a2b27d54362e31360396db161362fe5c', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 2, 'created': '2018-08-30 12:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0abbfd338a201d6d4abba34c3eece75e4e38eb69', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 3, 'created': '2018-08-30 13:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3ab868d91aec4d857058ad59509c85717f93f6bf', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 4, 'created': '2018-08-30 13:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7b3d405b3fde0f955ff5827517a4443325b61b21', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 5, 'created': '2018-08-30 16:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8844fd57d424238275b0a469a862b854c500f83e', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 6, 'created': '2018-09-24 14:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fe8181721c0c4e4644a60cec41e0c381042a894d', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 7, 'created': '2018-09-24 15:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0661f7f684a51155799cc640a5d5e634775aedb8', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 8, 'created': '2018-09-24 16:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c11694ec2e3c2fb2619f7dfec41c520d1895dc35', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 9, 'created': '2018-09-24 22:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b9014e0e0bb67dc40cdd1c84e89157f39df3a17a', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 10, 'created': '2018-09-27 10:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ac9c9b897f7a88e908aaadffcb4eaeae2c209dd8', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 11, 'created': '2018-09-27 10:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8838bf73af7c6943df6aa2ee9721ccb10b326b2c', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 12, 'created': '2018-09-27 10:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d7c2bddc300cbe8c321bdb3b3b7fa7f091c4d02c', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 13, 'created': '2018-09-27 10:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ceb0de8fdf87017092340b3c5644332534862395', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 14, 'created': '2018-09-27 10:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/48ddd594d416de186baeb3c3769a552c386cfec2', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 15, 'created': '2018-09-27 11:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fa2786d29c801cc7585825cd25132f34ea720afb', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 16, 'created': '2018-09-27 11:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ef3d88eac539a4b3e1bb43083f0d681ffd2715f2', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 17, 'created': '2018-09-27 12:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5bc996bec3ae44dc28fd5213b703eb7a08aa7dd8', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 18, 'created': '2018-09-27 12:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6ff1841adfe9e66343be942a5249f0d7e4fc80f3', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 19, 'created': '2018-09-27 12:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3563f91a49000946979085e2692527a36a5614bc', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 20, 'created': '2018-09-27 13:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/74c82deef5e1a955cfc3f72fcf1243dabd434eae', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 21, 'created': '2018-09-28 16:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bbd9c8eb90175dd4944d569995c4fbd2b36c0b8a', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 22, 'created': '2018-09-28 17:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/76252d387a7ee739737cacb2b888cf0489b4e5ff', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 23, 'created': '2018-10-01 07:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7b3333a542a8f71a2c3f47cb68962615669b7201', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 24, 'created': '2018-10-01 08:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d3c411ec1fc7eb3075f3c16831101fec33da213c', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 25, 'created': '2018-10-01 09:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bd6eaff2039768af80dce47cb194f203455afbe3', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 26, 'created': '2018-10-01 09:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c84e27cce40e861d2efeca9b5db0c4fd46af884d', 'message': 'Add initial spec for python-tempestconf\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 27, 'created': '2018-10-01 10:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/28281fb9e25bac7d6b0c10baa42f80dd2bdd809b', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 28, 'created': '2018-10-02 08:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/04a052570e9c74eda72d86ad2726e42809a8f7c0', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 29, 'created': '2018-10-02 09:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/54a5a422e324dd089de65bc48afbae659394ebd9', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 30, 'created': '2018-10-02 10:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c5cb2bcb9b846b0d03d84577b7c5268d010376a4', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 31, 'created': '2018-10-02 10:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3380e87a3e8705be5115dd088176df290dbaa4ed', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 32, 'created': '2018-10-02 10:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4380717e9773232e3245de3ed8d17e6ced0565c2', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 33, 'created': '2018-10-02 11:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3fc2cd39567ac7a6579e6c0e4c2023a9b34800b8', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}, {'number': 34, 'created': '2018-10-03 09:04:15.000000000', 'files': ['openstack/python-tempestconf/python-tempestconf.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/efe677a8419e1bc684fa11d8a6e643d7b9402d5a', 'message': 'Add initial spec for python-tempestconf\n\nCo-authored-by: Chandan Kumar <chkumar@redhat.com>\n\nChange-Id: Ic682406d05ea8d87eae749057f360ab808f290ec\n'}]",12,598143,efe677a8419e1bc684fa11d8a6e643d7b9402d5a,141,13,34,8367,,,0,"Add initial spec for python-tempestconf

Co-authored-by: Chandan Kumar <chkumar@redhat.com>

Change-Id: Ic682406d05ea8d87eae749057f360ab808f290ec
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/598143/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-tempestconf/python-tempestconf.spec.j2'],1,7a507fe7a2b27d54362e31360396db161362fe5c,tempestconf,"%global sname tempestconf %global common_desc \ python-tempestconf will automatically generates the tempest \ configuration based on your cloud. Name: {{ py2name('python-tempestconf') }} Version: {{ upstream_version }} Release: 0 Summary: OpenStack Tempest Config generator License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: http://git.openstack.org/cgit/openstack/python-%{sname} Source0: https://files.pythonhosted.org/packages/source/p/python-%{sname}-%{version}.tar.gz BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr', ('>=', '3.1.1')) }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: git # test dependencies BuildRequires: {{ py2pkg('python2-subunit') }} BuildRequires: {{ py2pkg('oslotest'}} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} BuildRequires: {{ py2pkg('Tempest') }} BuildRequires: {{ py2pkg('os-client-config') }} BuildArch: noarch %description %{common_desc} %package -n python-%{sname} Summary: OpenStack Tempest Config generator Requires: {{ py2pkg('pbr', ('>=', '3.1.1')) }} Requires: {{ py2pkg('Tempest', ('>=', '1:18.0.0')) }} Requires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('os-client-config') }} Requires: {{ py2pkg('castellan') }} Requires: {{ py2pkg('cryptography') }} Requires: {{ py2pkg('PyYAML') }} %description -n python-%{sname} %{common_desc} %package -n python-%{sname}-tests Summary: python-tempestconf tests Requires: python-%{sname} = %{version}-%{release} Requires: {{ py2pkg('subunit') }} Requires: {{ py2pkg('oslotest') }} Requires: {{ py2pkg('testrepository') }} Requires: {{ py2pkg('testscenarios') }} Requires: {{ py2pkg('testtools') }} %description -n python-%{sname}-tests %{common_desc} It contains the test suite. %package -n python-%{sname}-doc Summary: python-tempestconf documentation BuildRequires: {{ py2pkg('sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('sphinxargparse'('>=', '0.2.2')) }} %description -n python-%{sname}-doc %{common_desc} Documentation for python-tempestconf %prep %autosetup -n python-tempestconf-%{version} -S git %build %{py2_build} # generate html docs export PYTHONPATH=. sphinx-build -W -b html doc/source doc/build/html # remove the sphinx-build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %install %{py2_install} cp %{buildroot}/%{_bindir}/discover-tempest-config %{buildroot}/%{_bindir}/discover-tempest-config-2 ln -sf %{_bindir}/discover-tempest-config-2 %{buildroot}/%{_bindir}/discover-tempest-config-%{python2_version} # The only file from this location is going to be removed soon rm -rf %{buildroot}/usr/etc/tempest/* %check export OS_TEST_PATH='./config_tempest/tests' export PATH=$PATH:$RPM_BUILD_ROOT/usr/bin export PYTHONPATH=$PWD stestr --test-path $OS_TEST_PATH run %files -n python-%{sname} %license LICENSE %doc README.rst %{_bindir}/discover-tempest-config %{_bindir}/discover-tempest-config-2 %{_bindir}/discover-tempest-config-%{python2_version} %{python2_sitelib}/config_tempest %exclude %{python2_sitelib}/config_tempest/tests %{python2_sitelib}/python_tempestconf-*.egg-info %files -n python-%{sname}-tests %license LICENSE %{python2_sitelib}/config_tempest/tests %files -n python-%{sname}-doc %license LICENSE %doc doc/build/html %changelog ",,121,0
openstack%2Fcharm-openvswitch-odl~master~I37b3abbf6bc9b7c0a859d7cc7e9af706072a0422,openstack/charm-openvswitch-odl,master,I37b3abbf6bc9b7c0a859d7cc7e9af706072a0422,Update requirements,MERGED,2018-10-04 21:22:36.000000000,2018-10-05 09:15:09.000000000,2018-10-05 09:15:09.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 21:22:36.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openvswitch-odl/commit/fdb32222a891baa4eb34891c4517e3b59b56020a', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I37b3abbf6bc9b7c0a859d7cc7e9af706072a0422\n'}]",0,608090,fdb32222a891baa4eb34891c4517e3b59b56020a,7,3,1,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I37b3abbf6bc9b7c0a859d7cc7e9af706072a0422
",git fetch https://review.opendev.org/openstack/charm-openvswitch-odl refs/changes/90/608090/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",3,fdb32222a891baa4eb34891c4517e3b59b56020a,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",26,26
openstack%2Fcharm-neutron-api-odl~master~Ief725b4464c3fa4fb17b60ecd3680c7e55305a9c,openstack/charm-neutron-api-odl,master,Ief725b4464c3fa4fb17b60ecd3680c7e55305a9c,Update requirements,MERGED,2018-10-04 21:22:19.000000000,2018-10-05 09:14:08.000000000,2018-10-05 09:14:08.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 21:22:19.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-odl/commit/1588111de8278ad9aa57377126a3bd79d90e6dc4', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Ief725b4464c3fa4fb17b60ecd3680c7e55305a9c\n'}]",0,608088,1588111de8278ad9aa57377126a3bd79d90e6dc4,7,3,1,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ief725b4464c3fa4fb17b60ecd3680c7e55305a9c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-odl refs/changes/88/608088/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",3,1588111de8278ad9aa57377126a3bd79d90e6dc4,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",26,25
openstack%2Fcharm-vault~master~Ibfa428c1a9f2d881faec6c1193fcf33612693f12,openstack/charm-vault,master,Ibfa428c1a9f2d881faec6c1193fcf33612693f12,Update requirements,MERGED,2018-10-03 21:22:53.000000000,2018-10-05 09:12:49.000000000,2018-10-05 09:12:49.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 21:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/20a5ca3a0cf25b4e704490aae02dd7df807b43bf', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Ibfa428c1a9f2d881faec6c1193fcf33612693f12\n'}, {'number': 2, 'created': '2018-10-04 21:10:38.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/6990332bd970bf80d2c741fd3ef8bc31a5066d00', 'message': 'Update requirements\n\nResolve existing lint.\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Ibfa428c1a9f2d881faec6c1193fcf33612693f12\n'}]",0,607720,6990332bd970bf80d2c741fd3ef8bc31a5066d00,13,4,2,20635,,,0,"Update requirements

Resolve existing lint.

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ibfa428c1a9f2d881faec6c1193fcf33612693f12
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/20/607720/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,20a5ca3a0cf25b4e704490aae02dd7df807b43bf,update-reqs,# Lint and unit test requirements flake8requests>=2.18.4nose>=1.3.7git+https://github.com/openstack/charms.openstack.git#egg=charms-openstack netifaces # vault hvac # vault psycopg2 # vault tenacity # vault pbr # vault cryptography # vault,"# Unit test requirements netifaces hvac flake8>=2.2.4,<=2.4.1psycopg2 git+https://github.com/openstack/charms.openstack#egg=charms.openstack tenacity pbr cryptography",14,11
openstack%2Fcharm-heat~master~Id143b48d67b86ee3e8b90a2916c69f41d21d0c08,openstack/charm-heat,master,Id143b48d67b86ee3e8b90a2916c69f41d21d0c08,Update requirements,MERGED,2018-10-03 16:41:25.000000000,2018-10-05 09:11:47.000000000,2018-10-05 09:11:46.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 16:41:25.000000000', 'files': ['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/39e662471c3d459c90438f8062a72ebdbffc593d', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Id143b48d67b86ee3e8b90a2916c69f41d21d0c08\n'}]",0,607646,39e662471c3d459c90438f8062a72ebdbffc593d,11,4,1,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Id143b48d67b86ee3e8b90a2916c69f41d21d0c08
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/46/607646/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py']",33,39e662471c3d459c90438f8062a72ebdbffc593d,update-reqs,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from .base import * # NOQA from .helpers import * # NOQA ",4,7433
openstack%2Fcharm-cinder-backup~master~If395bcf3f24c350c85ca0c4e169903f7ab38ce46,openstack/charm-cinder-backup,master,If395bcf3f24c350c85ca0c4e169903f7ab38ce46,Update requirements,MERGED,2018-10-03 16:40:46.000000000,2018-10-05 09:10:49.000000000,2018-10-05 09:10:49.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 16:40:46.000000000', 'files': ['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/149bed44e4cb38ec79d022c4b501e623033e4978', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: If395bcf3f24c350c85ca0c4e169903f7ab38ce46\n'}]",0,607641,149bed44e4cb38ec79d022c4b501e623033e4978,15,4,1,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: If395bcf3f24c350c85ca0c4e169903f7ab38ce46
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/41/607641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py']",33,149bed44e4cb38ec79d022c4b501e623033e4978,update-reqs,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from .base import * # NOQA from .helpers import * # NOQA ",6,7435
openstack%2Fcharm-odl-controller~master~Iad02c5831a187e6d50cc6c570c465afff9fab1b6,openstack/charm-odl-controller,master,Iad02c5831a187e6d50cc6c570c465afff9fab1b6,Update requirements,MERGED,2018-10-04 21:22:29.000000000,2018-10-05 09:09:43.000000000,2018-10-05 09:09:43.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 21:22:29.000000000', 'files': ['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-odl-controller/commit/9c8238f6f6e6b2405ddc0180f79d8ac6d895cbbd', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Iad02c5831a187e6d50cc6c570c465afff9fab1b6\n'}]",0,608089,9c8238f6f6e6b2405ddc0180f79d8ac6d895cbbd,7,3,1,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Iad02c5831a187e6d50cc6c570c465afff9fab1b6
",git fetch https://review.opendev.org/openstack/charm-odl-controller refs/changes/89/608089/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py']",33,9c8238f6f6e6b2405ddc0180f79d8ac6d895cbbd,update-reqs,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from .base import * # NOQA from .helpers import * # NOQA ",19,7370
openstack%2Fcookbook-openstack-compute~master~I47f8451b830892ff0b2d85a553cfe31b8deec1b0,openstack/cookbook-openstack-compute,master,I47f8451b830892ff0b2d85a553cfe31b8deec1b0,placement: os_region_name -> region_name,MERGED,2018-10-02 14:59:44.000000000,2018-10-05 09:06:12.000000000,2018-10-05 09:06:11.000000000,"[{'_account_id': 11109}, {'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 14:59:44.000000000', 'files': ['spec/nova-common_spec.rb', 'attributes/nova_conf.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/dca0587ce9f75e9c276f875d8806de8099dce8de', 'message': 'placement: os_region_name -> region_name\n\nSource:\n* openstack/nova git repo:\n  Update the deprecate os_region_name option\n  Change-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052\n  commit d163fb6d697d74ea93ffc394187871a3a8c4ccd8\n\nbackport: queens\n\nChange-Id: I47f8451b830892ff0b2d85a553cfe31b8deec1b0\n'}]",0,607279,dca0587ce9f75e9c276f875d8806de8099dce8de,9,4,1,11109,,,0,"placement: os_region_name -> region_name

Source:
* openstack/nova git repo:
  Update the deprecate os_region_name option
  Change-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052
  commit d163fb6d697d74ea93ffc394187871a3a8c4ccd8

backport: queens

Change-Id: I47f8451b830892ff0b2d85a553cfe31b8deec1b0
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/79/607279/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/nova-common_spec.rb', 'attributes/nova_conf.rb']",2,dca0587ce9f75e9c276f875d8806de8099dce8de,region_name, conf['placement']['region_name'] = node['openstack']['region'], conf['placement']['os_region_name'] = node['openstack']['region'],2,2
openstack%2Fcookbook-openstack-compute~master~I3953195b1f8c7f166b89c7ea7ce7994bcd3c0461,openstack/cookbook-openstack-compute,master,I3953195b1f8c7f166b89c7ea7ce7994bcd3c0461,Rename attributes: vncserver_* -> server_*,MERGED,2018-10-02 15:10:45.000000000,2018-10-05 09:04:40.000000000,2018-10-05 09:04:40.000000000,"[{'_account_id': 11109}, {'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 15:10:45.000000000', 'files': ['spec/nova-common_spec.rb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/6d78224bdb67be7fe1752525c356c5e4d4edcbe2', 'message': 'Rename attributes: vncserver_* -> server_*\n\nSource:\n* openstack/nova git repo:\n  conf: Rename two VNC options\n  Change-Id: Ic05c2c8364e015f6878b0bc25449216624568ad5\n  commit e5a03e3c54d57aa29bd8154c9eddf7ee52c6c3b5\n\nChange-Id: I3953195b1f8c7f166b89c7ea7ce7994bcd3c0461\n'}]",0,607284,6d78224bdb67be7fe1752525c356c5e4d4edcbe2,9,4,1,11109,,,0,"Rename attributes: vncserver_* -> server_*

Source:
* openstack/nova git repo:
  conf: Rename two VNC options
  Change-Id: Ic05c2c8364e015f6878b0bc25449216624568ad5
  commit e5a03e3c54d57aa29bd8154c9eddf7ee52c6c3b5

Change-Id: I3953195b1f8c7f166b89c7ea7ce7994bcd3c0461
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/84/607284/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/nova-common_spec.rb', 'recipes/nova-common.rb']",2,6d78224bdb67be7fe1752525c356c5e4d4edcbe2,vncserver, conf['vnc']['server_listen'] = vnc_bind_address conf['vnc']['server_proxyclient_address'] = vnc_proxy_bind_address, conf['vnc']['vncserver_listen'] = vnc_bind_address conf['vnc']['vncserver_proxyclient_address'] = vnc_proxy_bind_address,8,8
openstack%2Frpm-packaging~master~I90b892adfced8daf8f84bf8ec4094350e8b1fa8a,openstack/rpm-packaging,master,I90b892adfced8daf8f84bf8ec4094350e8b1fa8a,monasca-agent: Add /usr/lib/monasca/agent/ custom directories to %files,MERGED,2018-09-24 17:03:36.000000000,2018-10-05 09:02:26.000000000,2018-10-05 09:02:26.000000000,"[{'_account_id': 6593}, {'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 22595}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-09-24 17:03:36.000000000', 'files': ['openstack/monasca-agent/monasca-agent.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ffeb9506bb5e88ef25bb7c24556ca1b19f53dab0', 'message': 'monasca-agent: Add /usr/lib/monasca/agent/ custom directories to %files\n\nThe /usr/lib/monasca/agent/custom_check.d and custom_detect.d directories\nhad been missed in the %files list.  Also, set permissions to match other\ndirectories under /usr/lib (755, owned by root).\n\nChange-Id: I90b892adfced8daf8f84bf8ec4094350e8b1fa8a\n'}]",0,604847,ffeb9506bb5e88ef25bb7c24556ca1b19f53dab0,13,9,1,10311,,,0,"monasca-agent: Add /usr/lib/monasca/agent/ custom directories to %files

The /usr/lib/monasca/agent/custom_check.d and custom_detect.d directories
had been missed in the %files list.  Also, set permissions to match other
directories under /usr/lib (755, owned by root).

Change-Id: I90b892adfced8daf8f84bf8ec4094350e8b1fa8a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/47/604847/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-agent/monasca-agent.spec.j2'],1,ffeb9506bb5e88ef25bb7c24556ca1b19f53dab0,,"install -d -m 755 %{buildroot}%{_prefix}/lib/monasca/agent/custom_checks.d install -d -m 755 %{buildroot}%{_prefix}/lib/monasca/agent/custom_detect.d%dir %attr(0755, root, root) %{_prefix}/lib/monasca/agent/custom_checks.d %dir %attr(0755, root, root) %{_prefix}/lib/monasca/agent/custom_detect.d",install -d -m 750 %{buildroot}%{_prefix}/lib/monasca/agent/custom_checks.d install -d -m 750 %{buildroot}%{_prefix}/lib/monasca/agent/custom_detect.d,4,2
openstack%2Fcharm-nova-cloud-controller~stable%2F18.08~I20548118092a4480f37c7ab7e9d60e72e299989b,openstack/charm-nova-cloud-controller,stable/18.08,I20548118092a4480f37c7ab7e9d60e72e299989b,Get glance v1 client for icehouse.,MERGED,2018-10-03 10:51:04.000000000,2018-10-05 09:02:24.000000000,2018-10-05 09:02:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 10:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3377e01d180ef2ae9a23efc6178eeabb09e8f6d5', 'message': ""Get glance v1 client for icehouse.\n\nPreviously the image virt type was qemu and the compute node virt\ntype was kvm. This works for deployments prior to rocky but in\nrocky this causes the image type filter to return no valid hosts.\nAn update to charmhelpers has removed the default behaviour of\nsetting the virt type to 'qemu' by default.\n\nDue to a bug in icehouse updating glance image properties using\nthe v2 api fails (See Bug #1371559) so for icehouse deploys\nget a v1 client.\n\nChange-Id: I20548118092a4480f37c7ab7e9d60e72e299989b\n(cherry picked from commit 9cdf1baccd19ef944923e8dfb520b65c2e9eb5d3)\n""}, {'number': 2, 'created': '2018-10-03 10:58:06.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6b585b2c7050c6fe4f76978a5dbd06867cdee2fd', 'message': ""Get glance v1 client for icehouse.\n\nPreviously the image virt type was qemu and the compute node virt\ntype was kvm. This works for deployments prior to rocky but in\nrocky this causes the image type filter to return no valid hosts.\nAn update to charmhelpers has removed the default behaviour of\nsetting the virt type to 'qemu' by default.\n\nDue to a bug in icehouse updating glance image properties using\nthe v2 api fails (See Bug #1371559) so for icehouse deploys\nget a v1 client.\n\nChange-Id: I20548118092a4480f37c7ab7e9d60e72e299989b\n(cherry picked from commit 9cdf1baccd19ef944923e8dfb520b65c2e9eb5d3)\n""}]",0,607528,6b585b2c7050c6fe4f76978a5dbd06867cdee2fd,9,3,2,935,,,0,"Get glance v1 client for icehouse.

Previously the image virt type was qemu and the compute node virt
type was kvm. This works for deployments prior to rocky but in
rocky this causes the image type filter to return no valid hosts.
An update to charmhelpers has removed the default behaviour of
setting the virt type to 'qemu' by default.

Due to a bug in icehouse updating glance image properties using
the v2 api fails (See Bug #1371559) so for icehouse deploys
get a v1 client.

Change-Id: I20548118092a4480f37c7ab7e9d60e72e299989b
(cherry picked from commit 9cdf1baccd19ef944923e8dfb520b65c2e9eb5d3)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/28/607528/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,3377e01d180ef2ae9a23efc6178eeabb09e8f6d5,stable/add-refstack-filters," force_v1_client = False if self._get_openstack_release() == self.trusty_icehouse: # Updating image properties (such as arch or hypervisor) using the # v2 api in icehouse results in: # https://bugs.launchpad.net/python-glanceclient/+bug/1371559 u.log.debug('Forcing glance to use v1 api') force_v1_client = True self.glance = u.authenticate_glance_admin( self.keystone, force_v1_client=force_v1_client)", self.glance = u.authenticate_glance_admin(self.keystone),11,1
openstack%2Fnova~master~If869470216600c303d47cf79f12c4fc88abcf813,openstack/nova,master,If869470216600c303d47cf79f12c4fc88abcf813,libvirt: Remove reference to transient domain when detaching devices,MERGED,2018-07-20 16:00:15.000000000,2018-10-05 09:01:16.000000000,2018-07-24 07:41:33.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-20 16:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b90ce412da3bfa562b8c9ac0f36084e148ff095', 'message': 'libvirt: Remove reference to transient domain when detaching devices\n\nWhen detaching a device from a domain we first remove the device from\nthe persistent domain before ensuring the device is also removed from\nthe live config.\n\nPreviously when this failed we logged an error message that suggested\nthat this was due to issues detaching the device from a transient\ndomain, however this is not the case as we are only attempting to detach\nfrom the live config at this point.\n\nThis change simply updates the error and associated comments to only\nreference the live config of the domain.\n\nAdditionally a DEBUG line claiming that a device has been successfully\ndetached is now only logged once the device is removed from the live\nconfig, hopefully avoiding any confusion.\n\nChange-Id: If869470216600c303d47cf79f12c4fc88abcf813\n'}, {'number': 2, 'created': '2018-07-23 11:35:11.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/636c7461dee4002571da6e99986eb17e9a28b0f4', 'message': 'libvirt: Remove reference to transient domain when detaching devices\n\nWhen detaching a device from a domain we first attempt to remove the\ndevice from both the persistent and live configs before looping to\nensure the device has really been detached from the running live config.\n\nPreviously when this failed we logged an error message that suggested\nthat this was due to issues detaching the device from a transient\ndomain, however this is not the case as the domain is persistent.\n\nThis change simply updates the error and associated comments to only\nreference the live config of the domain.\n\nAdditionally a DEBUG line claiming that a device has been successfully\ndetached is now only logged once the device is removed from the live\nconfig, hopefully avoiding any confusion from this line been logged\neach time an attempt is made to detach the device.\n\nChange-Id: If869470216600c303d47cf79f12c4fc88abcf813\n'}]",3,584433,636c7461dee4002571da6e99986eb17e9a28b0f4,31,15,2,10135,,,0,"libvirt: Remove reference to transient domain when detaching devices

When detaching a device from a domain we first attempt to remove the
device from both the persistent and live configs before looping to
ensure the device has really been detached from the running live config.

Previously when this failed we logged an error message that suggested
that this was due to issues detaching the device from a transient
domain, however this is not the case as the domain is persistent.

This change simply updates the error and associated comments to only
reference the live config of the domain.

Additionally a DEBUG line claiming that a device has been successfully
detached is now only logged once the device is removed from the live
config, hopefully avoiding any confusion from this line been logged
each time an attempt is made to detach the device.

Change-Id: If869470216600c303d47cf79f12c4fc88abcf813
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/584433/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,6b90ce412da3bfa562b8c9ac0f36084e148ff095,," if get_device_conf_func(device) is None: LOG.debug('Successfully detached device %s from guest. ' 'Persistent? %s. Live? %s', device, persistent, live) # and only the live config needs to be updated. reason = _(""Unable to detach the device from the live config."")"," LOG.debug('Successfully detached device %s from guest. ' 'Persistent? %s. Live? %s', device, persistent, live) # and only transient domain needs update reason = _(""Unable to detach from guest transient domain."")",7,5
openstack%2Fkarbor-dashboard~master~Idbb4789c6e756b819123757186669275190d32f7,openstack/karbor-dashboard,master,Idbb4789c6e756b819123757186669275190d32f7,[doc] Correct the invalid runserver command in horizon,MERGED,2018-07-17 14:43:00.000000000,2018-10-05 08:46:15.000000000,2018-10-05 08:46:15.000000000,"[{'_account_id': 2023}, {'_account_id': 13070}, {'_account_id': 14151}, {'_account_id': 14320}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-17 14:43:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/4a599ca93118a45da081f6118376f1a8352ba977', 'message': ""[doc] Correct the invalid runserver command in horizon\n\nSince the horizon remove the 'run_tests.sh' file,\nso use 'tox -e runserver' command.\n\nChange-Id: Idbb4789c6e756b819123757186669275190d32f7\n""}]",0,583271,4a599ca93118a45da081f6118376f1a8352ba977,11,9,1,14151,,,0,"[doc] Correct the invalid runserver command in horizon

Since the horizon remove the 'run_tests.sh' file,
so use 'tox -e runserver' command.

Change-Id: Idbb4789c6e756b819123757186669275190d32f7
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/71/583271/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4a599ca93118a45da081f6118376f1a8352ba977,, tox -e runserver 0.0.0.0:8080, ./run_tests.sh --runserver 0.0.0.0:8080,1,1
openstack%2Fcharm-neutron-gateway~master~I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46,openstack/charm-neutron-gateway,master,I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46,Remove nova metadata service,MERGED,2018-08-14 07:47:08.000000000,2018-10-05 08:43:12.000000000,2018-10-05 08:43:12.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-14 07:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/8b292d8d61a90ff6b5357cc6eb05cb342358f227', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 2, 'created': '2018-08-14 08:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/e4357024eef78d983073c0a890e9c847417c2b3e', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 3, 'created': '2018-09-13 08:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/f8ad9fbb7bb5e8118f3a9bfd237e4b4e74be0a74', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 4, 'created': '2018-09-13 09:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ac3c94b5aca24f38e96826238f0a8c15c82180b3', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 5, 'created': '2018-09-13 09:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/d060fa8439a7d4ddd7540a847b83752857b54ecb', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 6, 'created': '2018-09-14 12:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/bd5d6d06cbdd348fc13a39a2b6a28840d86bdde7', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 7, 'created': '2018-09-24 09:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/6088a354209155aad26c7d5ef6d10cc7d1131dae', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 8, 'created': '2018-09-24 09:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/b636a97b46478aa59082de0837026ec35d9cbb53', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 9, 'created': '2018-09-24 13:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/61b334a4a7f49d08e57b65e197db146af8456e75', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 10, 'created': '2018-09-24 13:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/2127824967ed884a4a1d00ccd90edb6292a4a0de', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 11, 'created': '2018-09-27 08:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/a2e218f201b6161231dc84ce80fb0b956bc470ed', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 12, 'created': '2018-09-28 08:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/80408ca94f63749a77db43d04b4d3e85aa60695d', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nDepends-On: I5ad15ba782cb87b6fdb3c0941a6482d201670bff\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 13, 'created': '2018-10-04 08:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/69b5d64a46a63497edb7ab2a1f1b40055ed2eb3b', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nDepends-On: I5ad15ba782cb87b6fdb3c0941a6482d201670bff\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}, {'number': 14, 'created': '2018-10-04 14:06:21.000000000', 'files': ['hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'unit_tests/test_neutron_hooks.py', 'unit_tests/test_neutron_utils.py', 'unit_tests/test_utils.py', 'templates/queens/metadata_agent.ini', 'tests/basic_deployment.py', 'config.yaml', 'hooks/neutron_utils.py', 'templates/icehouse/metadata_agent.ini', 'hooks/neutron_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/b14f2fc47ec2d5d31692d00db02a3b9025871f6a', 'message': 'Remove nova metadata service\n\nThe change turns off the local nova metadata service and uses\nendpoint data recieved from the quantum-network-service relation\nto point the neutron metadata service at the nova metadata service\non the nova cloud controller for Queens+.\n\nDepends-On: I5ad15ba782cb87b6fdb3c0941a6482d201670bff\nChange-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46\n'}]",0,591578,b14f2fc47ec2d5d31692d00db02a3b9025871f6a,57,4,14,12549,,,0,"Remove nova metadata service

The change turns off the local nova metadata service and uses
endpoint data recieved from the quantum-network-service relation
to point the neutron metadata service at the nova metadata service
on the nova cloud controller for Queens+.

Depends-On: I5ad15ba782cb87b6fdb3c0941a6482d201670bff
Change-Id: I7037a20feac73f3a3f1ed1b8b1b70d0fa534bc46
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/78/591578/8 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'unit_tests/test_neutron_hooks.py', 'unit_tests/test_neutron_utils.py', 'unit_tests/test_utils.py', 'config.yaml', 'hooks/neutron_utils.py', 'templates/icehouse/metadata_agent.ini', 'hooks/neutron_hooks.py']",9,8b292d8d61a90ff6b5357cc6eb05cb342358f227,feature/move-nova-metadata-service," remove_legacy_nova_metadata, disable_nova_metadata, # Disable nova metadata if possible, if disable_nova_metadata(): remove_legacy_nova_metadata() # Disable nova metadata if possible, if disable_nova_metadata(): remove_legacy_nova_metadata() else: # NOTE: nova-api-metadata needs to be restarted # once the nova-conductor is up and running # on the nova-cc units. restart_nonce = relation_get('restart_trigger') if restart_nonce is not None: db = kv() previous_nonce = db.get('restart_nonce') if previous_nonce != restart_nonce: if not is_unit_paused_set(): service_restart('nova-api-metadata') db.set('restart_nonce', restart_nonce) db.flush()"," write_vendordata, if config('vendor-data'): write_vendordata(config('vendor-data')) # NOTE: nova-api-metadata needs to be restarted # once the nova-conductor is up and running # on the nova-cc units. restart_nonce = relation_get('restart_trigger') if restart_nonce is not None: db = kv() previous_nonce = db.get('restart_nonce') if previous_nonce != restart_nonce: if not is_unit_paused_set(): service_restart('nova-api-metadata') db.set('restart_nonce', restart_nonce) db.flush()",263,164
openstack%2Fnetworking-onos~stable%2Frocky~I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,openstack/networking-onos,stable/rocky,I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,Force the removal of onos container incase of unstack,MERGED,2018-10-02 08:52:12.000000000,2018-10-05 08:42:50.000000000,2018-10-05 08:42:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25575}, {'_account_id': 28180}]","[{'number': 1, 'created': '2018-10-02 08:52:12.000000000', 'files': ['devstack/entry_points'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/917c63dad675149cd7c2cf2e02ec436c16c2af3d', 'message': 'Force the removal of onos container incase of unstack\n\nChange-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3\n'}]",0,607127,917c63dad675149cd7c2cf2e02ec436c16c2af3d,7,3,1,26288,,,0,"Force the removal of onos container incase of unstack

Change-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/27/607127/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/entry_points'],1,917c63dad675149cd7c2cf2e02ec436c16c2af3d,stop_onos-stable/rocky, sudo docker rm -f onos, sudo docker rm onos,1,1
openstack%2Fnetworking-onos~stable%2Fpike~I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,openstack/networking-onos,stable/pike,I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,Force the removal of onos container incase of unstack,MERGED,2018-10-02 08:51:40.000000000,2018-10-05 08:42:49.000000000,2018-10-05 08:42:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25575}, {'_account_id': 28180}]","[{'number': 1, 'created': '2018-10-02 08:51:40.000000000', 'files': ['devstack/entry_points'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/8aecfd6bae4f7ab115637ba13a6570160bbd46f4', 'message': 'Force the removal of onos container incase of unstack\n\nChange-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3\n'}]",0,607126,8aecfd6bae4f7ab115637ba13a6570160bbd46f4,7,3,1,26288,,,0,"Force the removal of onos container incase of unstack

Change-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/26/607126/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/entry_points'],1,8aecfd6bae4f7ab115637ba13a6570160bbd46f4,stop_onos-stable/pike, sudo docker rm -f onos, sudo docker rm onos,1,1
openstack%2Fnetworking-onos~stable%2Fqueens~I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,openstack/networking-onos,stable/queens,I4491e7a73ac68e09ee972628442d2ba53ba6c9d3,Force the removal of onos container incase of unstack,MERGED,2018-10-02 08:50:57.000000000,2018-10-05 08:38:47.000000000,2018-10-05 08:38:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25575}, {'_account_id': 28180}]","[{'number': 1, 'created': '2018-10-02 08:50:57.000000000', 'files': ['devstack/entry_points'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/737d42f7635565ddf15383ac3132461330f06d58', 'message': 'Force the removal of onos container incase of unstack\n\nChange-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3\n'}]",0,607125,737d42f7635565ddf15383ac3132461330f06d58,10,3,1,26288,,,0,"Force the removal of onos container incase of unstack

Change-Id: I4491e7a73ac68e09ee972628442d2ba53ba6c9d3
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/25/607125/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/entry_points'],1,737d42f7635565ddf15383ac3132461330f06d58,stop_onos, sudo docker rm -f onos, sudo docker rm onos,1,1
openstack%2Fcharm-tempest~master~I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d,openstack/charm-tempest,master,I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d,Update requirements,MERGED,2018-10-04 15:48:29.000000000,2018-10-05 08:28:20.000000000,2018-10-05 08:28:19.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/912bbe2190ae7102430b960e8c1fe90d7ad9bb93', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d\n'}, {'number': 2, 'created': '2018-10-04 15:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/ee2905ecb079403a43038d4aebbe2ad2383a2e44', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d\n'}, {'number': 3, 'created': '2018-10-04 19:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/cad1605c35e8508260eb7b9169cec1fe71ec59b4', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d\n'}, {'number': 4, 'created': '2018-10-04 19:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/1754263bb71d064ddd3d84c587c5725db5914a40', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d\n'}, {'number': 5, 'created': '2018-10-04 21:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/f24d6d0b3e8160177d90ddd9e31a488269dcef31', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d\n'}, {'number': 6, 'created': '2018-10-04 21:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/381ad2761d30e379d9fb016ef673dad7c7f8eb17', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d\n'}, {'number': 7, 'created': '2018-10-04 21:44:06.000000000', 'files': ['requirements.txt', '.gitignore', 'test-requirements.txt', 'unit_tests/__init__.py', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/bba9749806f59036f67be9d6c9bdd51b61d16f41', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d\n'}]",0,608008,bba9749806f59036f67be9d6c9bdd51b61d16f41,18,5,7,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I1ac0cbf16711fb6e93c42b2b25e010cf0876a98d
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/08/608008/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,912bbe2190ae7102430b960e8c1fe90d7ad9bb93,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",31,20
openstack%2Fkolla~stable%2Frocky~I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986,openstack/kolla,stable/rocky,I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986,openvswitch: make ovs-tcpdump usable,MERGED,2018-09-24 14:04:24.000000000,2018-10-05 08:27:56.000000000,2018-10-05 08:27:56.000000000,"[{'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 14:04:24.000000000', 'files': ['docker/openvswitch/openvswitch-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/865711b4444828bf0c7946bb737ade4bf941af5c', 'message': 'openvswitch: make ovs-tcpdump usable\n\nChange-Id: I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986\nImplements: blueprint ovs-tcpdump\n(cherry picked from commit f5c2f3d97cdb68a51aa22002d92fe250ff3ebc07)\n'}]",0,604793,865711b4444828bf0c7946bb737ade4bf941af5c,7,3,1,29051,,,0,"openvswitch: make ovs-tcpdump usable

Change-Id: I5f18bd4bfe1243d79e4ee8ce56475e6c7c7cc986
Implements: blueprint ovs-tcpdump
(cherry picked from commit f5c2f3d97cdb68a51aa22002d92fe250ff3ebc07)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/93/604793/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openvswitch/openvswitch-base/Dockerfile.j2'],1,865711b4444828bf0c7946bb737ade4bf941af5c,bp/ovs-tcpdump-stable/rocky," {% set openvswitch_base_packages = [ 'openvswitch', 'python-netifaces', 'python-openvswitch', 'tcpdump' ] %} {% set openvswitch_base_packages = [ 'openvswitch-switch', 'python-openvswitch', 'python-netifaces', 'tcpdump' ] %}RUN mv /usr/sbin/tcpdump /usr/bin/tcpdump \ && touch /usr/local/bin/kolla_openvswitch_extend_start \", {% set openvswitch_base_packages = ['openvswitch'] %} {% set openvswitch_base_packages = ['openvswitch-switch'] %}RUN touch /usr/local/bin/kolla_openvswitch_extend_start \,14,3
openstack%2Fnova~master~If6aa37d9b6b48791e070799ab026c816fda4441c,openstack/nova,master,If6aa37d9b6b48791e070799ab026c816fda4441c,Refactor allocation checking in functional tests,MERGED,2018-10-02 15:15:09.000000000,2018-10-05 08:26:13.000000000,2018-10-05 08:26:13.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-02 15:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5b4e10ecbbbfd3a9a8608002bf3effc4d1949fb', 'message': 'Refactor allocation checking in functional tests\n\nFactor out common allocation checking code in the functional test cases\nand make them nested provider tree aware.\nThis prepare the ServerMovingTests class to be re-used in a nested RP tree\nand nested allocation environment.\n\nChange-Id: If6aa37d9b6b48791e070799ab026c816fda4441c\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 2, 'created': '2018-10-03 07:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd1e9cd9b753c825e053093da33087c39ffab141', 'message': 'Refactor allocation checking in functional tests\n\nFactor out common allocation checking code in the functional test cases\nand make them nested provider tree aware.\nThis prepare the ServerMovingTests class to be re-used in a nested RP tree\nand nested allocation environment.\n\nChange-Id: If6aa37d9b6b48791e070799ab026c816fda4441c\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 3, 'created': '2018-10-03 07:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f16ea1626a5c060c54850aec2319a655226e1d19', 'message': 'Refactor allocation checking in functional tests\n\nFactor out common allocation checking code in the functional test cases\nand make them nested provider tree aware.\nThis prepare the ServerMovingTests class to be re-used in a nested RP tree\nand nested allocation environment.\n\nChange-Id: If6aa37d9b6b48791e070799ab026c816fda4441c\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 4, 'created': '2018-10-04 13:31:08.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94e620e87cb9349f799007f418ce94978bc33be1', 'message': 'Refactor allocation checking in functional tests\n\nFactor out common allocation checking code in the functional test cases\nand make them nested provider tree aware.\nThis prepare the ServerMovingTests class to be re-used in a nested RP tree\nand nested allocation environment.\n\nChange-Id: If6aa37d9b6b48791e070799ab026c816fda4441c\nBlueprint: use-nested-allocation-candidates\n'}]",19,607287,94e620e87cb9349f799007f418ce94978bc33be1,31,10,4,9708,,,0,"Refactor allocation checking in functional tests

Factor out common allocation checking code in the functional test cases
and make them nested provider tree aware.
This prepare the ServerMovingTests class to be re-used in a nested RP tree
and nested allocation environment.

Change-Id: If6aa37d9b6b48791e070799ab026c816fda4441c
Blueprint: use-nested-allocation-candidates
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/607287/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py']",3,e5b4e10ecbbbfd3a9a8608002bf3effc4d1949fb,bp/use-nested-allocation-candidates," self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) # The target host usage should be according to the new flavor self.assertFlavorMatchesUsage(self.flavor2, dest_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, server['id'], dest_rp_uuid) # and the target host usage should be according to the new flavor self.assertFlavorMatchesUsage(self.flavor2, dest_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor2, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor3, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor3, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertRequestMatchesUsage(zero_usage, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage(zero_usage, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) def _check_allocation_during_evacuate( self, flavor, server_uuid, source_root_rp_uuid, dest_root_rp_uuid): allocations = self._get_allocations_by_server_uuid(server_uuid) self.assertEqual(2, len(allocations)) self.assertFlavorMatchesUsage(flavor, source_root_rp_uuid) self.assertFlavorMatchesUsage(flavor, dest_root_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self._check_allocation_during_evacuate( self.flavor1, server['id'], source_rp_uuid, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self._check_allocation_during_evacuate( self.flavor1, server['id'], source_rp_uuid, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], current_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], current_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.flavor1, server['id'], source_rp_uuid) self.flavor1, migrate_data.migration.uuid, source_rp_uuid) self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.flavor1, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorsMatchesUsage( self.flavor1, self.flavor2, rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, uuid_orig) self.assertFlavorMatchesUsage(self.flavor2, uuid_dest) # the target host usage should be according to the flavor self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) # the source host has no usage self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], dest_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, failed_rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, dest_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, failed_rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor1, rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, server['id'], rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, migration_uuid, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, migration_uuid, source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid) self.assertFlavorMatchesUsage(self.flavor, source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, server['id'], source_rp_uuid)"," source_usages = self._get_provider_usages(source_rp_uuid) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages, 'Target host %s still has usage after the resize ' 'has been reverted' % dest_hostname) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) allocations = self._get_allocations_by_server_uuid(server['id']) # and the server allocates only from the target host self.assertEqual(1, len(allocations)) source_usages = self._get_provider_usages(source_rp_uuid) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages, 'The source host %s still has usages after the ' 'resize has been confirmed' % source_hostname) # and the target host allocation should be according to the new flavor self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) source_usages = self._get_provider_usages(source_rp_uuid) # and the target host allocation should be according to the new flavor self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages, 'The source host %s still has usages after the ' 'resize has been confirmed' % source_hostname) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, dest_allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor2, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor2, allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor3, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor3, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual(zero_usage, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual(zero_usage, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) current_usages = self._get_provider_usages(current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, current_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[current_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) current_usages = self._get_provider_usages(current_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, current_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[current_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertIn(source_rp_uuid, allocations) self.flavor1, allocations[source_rp_uuid]['resources']) _allocations = self._get_allocations_by_server_uuid( migrate_data.migration.uuid) self.assertEqual(1, len(_allocations)) self.assertIn(source_rp_uuid, _allocations) self.flavor1, _allocations[source_rp_uuid]['resources']) _allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(_allocations)) self.assertIn(dest_rp_uuid, _allocations) self.flavor1, _allocations[dest_rp_uuid]['resources']) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertIn(source_rp_uuid, allocations) self.flavor1, allocations[source_rp_uuid]['resources']) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) failed_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorsMatchAllocation( self.flavor1, self.flavor2, usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) source_usages = self._get_provider_usages(uuid_orig) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) source_usages = self._get_provider_usages(uuid_orig) dest_usages = self._get_provider_usages(uuid_dest) self.assertFlavorMatchesAllocation(self.flavor2, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # and the server allocates only from the target host self.assertEqual(1, len(allocations)) source_usages = self._get_provider_usages(source_rp_uuid) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, source_usages, 'The source host %s still has usages after the ' 'resize has been confirmed' % source_hostname) # and the target host allocation should be according to the flavor self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages, 'Target host %s still has usage after the ' 'resize has been reverted' % dest_hostname) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation( {'ram': 0, 'disk': 0, 'vcpus': 0}, dest_usages) failed_usages = self._get_provider_usages(failed_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) failed_usages = self._get_provider_usages(failed_rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, failed_usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, usages) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) usages = self._get_provider_usages(rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) allocation = allocations[rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, alloc) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, alloc) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(migration_uuid) self.assertEqual(1, len(allocations)) self.assertIn(source_rp_uuid, allocations) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, source_allocation) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) self.assertNotIn(source_rp_uuid, allocations) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, dest_allocation) allocations = self._get_allocations_by_server_uuid(migration_uuid) self.assertEqual(1, len(allocations)) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertEqual({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, source_allocation) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor, source_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor, source_allocation)",341,457
openstack%2Fnova~master~I097732754b67bd5cf50abd15db7da3f013b6cdd5,openstack/nova,master,I097732754b67bd5cf50abd15db7da3f013b6cdd5,consumer gen: support claim_resources,MERGED,2018-07-18 16:58:27.000000000,2018-10-05 08:25:34.000000000,2018-10-04 18:11:09.000000000,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-07-18 16:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62ecede9cca454629a48a2c73639146f89f6fd59', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it done from multiple places.\n\nThis patch bumps the used api version scheduler report client to 1.28\nand includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nTODO:\n* consider bundling consumer_uuid with consumer_generation in a single\n  nova internal object instead of passing them as two separate parameter\n* find and solve the cases when HTTP 409 Conflict can be received due to\n  consumer generation conflict.\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 2, 'created': '2018-07-19 16:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d72ba1242af28364b3001abb91776bf2ea0843c', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it done from multiple places.\n\nThis patch bumps the used api version scheduler report client to 1.28\nand includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nTODO:\n* verify cases when HTTP 409 Conflict can be received due to\n  consumer generation conflict.\n* replace DELETE allocations with PUT allocation for safety\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 3, 'created': '2018-07-24 14:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ea59b66c564fe1ac42042f122bdd6ae707247bf', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it done from multiple places.\n\nThis patch bumps the used api version scheduler report client to 1.28\nand includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nTODO:\n* verify cases when HTTP 409 Conflict can be received due to\n  consumer generation conflict.\n* replace DELETE allocations with PUT allocation for safety\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 4, 'created': '2018-07-25 13:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1103c69b509f7d7027df399e603d11b5f884c65a', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it done from multiple places.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also atempts to handle consumer generation conflicts reported\nby Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold thesource node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nTODO:\n* add functional tests for the consumer conflict cases\n* replace DELETE allocations with PUT allocation for safety\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 5, 'created': '2018-07-26 12:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1db6c84868bd0b5821ddac80ef6b3558eeff2d27', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it done from multiple places.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold thesource node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThere is anther code path that leads to  PUT /allocations on the report\nclient it is ending up calling put_allocations. These code paths are all\ntrying to heal allocations of an instance so there I assume that we can\nfreely override the exiting allocation of the instance consumer in\nplacement so this patch does the retry without letting the caller knows\nabout it.\n\nTODO:\n* add functional tests for the consumer conflict cases\n* replace DELETE allocations with PUT allocation for safety\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 6, 'created': '2018-07-27 10:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e794149ffea30f37eb7aa0890c2ad7178c88df76', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThere is anther code path that leads to PUT /allocations on the report\nclient it is ending up calling put_allocations. These code paths are all\ntrying to heal allocations of an instance so there I assume that we can\nfreely overwrite the exiting allocation of the instance consumer in\nplacement so this patch does the retry without letting the caller know\nabout it.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* add functional tests for the consumer conflict cases\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 7, 'created': '2018-07-27 13:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b736e106301043b80309258a27510ead2ec95915', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThere is anther code path that leads to PUT /allocations on the report\nclient it is ending up calling put_allocations. These code paths are all\ntrying to heal allocations of an instance so there I assume that we can\nfreely overwrite the exiting allocation of the instance consumer in\nplacement so this patch does the retry without letting the caller know\nabout it.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* add functional tests for the consumer conflict cases\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 8, 'created': '2018-07-27 13:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ac965544c2a910c0dcfd748bca0619ccd25e1c3', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* add functional tests for the consumer conflict cases\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 9, 'created': '2018-07-31 16:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70be9ae8f5d9e354be71fd3b09388233d588064d', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 10, 'created': '2018-08-03 13:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/367042fe89c9adbfc18bf1fe359b3a2d731dd317', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 11, 'created': '2018-08-05 08:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e30b5b3fd421bdb99aec81af2245cda95c011aeb', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 12, 'created': '2018-08-05 22:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9ec49d1d0c710c64c189446c8cb968d647716ab', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 13, 'created': '2018-08-07 14:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d39a92595316e4690795993945544feeb754398', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 14, 'created': '2018-08-07 16:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbab4e75333851c4d2a511542a27eb7ed9b31f49', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 15, 'created': '2018-08-08 08:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e09fa5530c8c3221bffc6037c410d78a5be3fd7c', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 16, 'created': '2018-08-09 10:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04da1775d815430b4414261acf870b1c337661e3', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 17, 'created': '2018-08-09 10:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a83613355e6a365cc3f4c5f9fc47117ad5d029e1', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 18, 'created': '2018-08-10 10:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca5de00e5b0fea723ccda5e6eab08eb4a9941629', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 19, 'created': '2018-08-12 14:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5da1bcdabfcd83b316ea04fd1915a77935d895e5', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 20, 'created': '2018-08-13 14:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a7671be65d61884caffa4ed364412d7fffdb7b0', 'message': 'Use placement 1.28 in scheduler report client\n\nThe placement API version 1.28 introduced consumer generation as a way\nto make updating allocation safe even if it is done from multiple\nplaces.\n\nThis patch bumps the used api version in the scheduler report client to\n1.28 and includes the plumbing to provide consumer generation in PUT\n/allocations requests.\n\nThis patch also attempts to handle consumer generation conflicts\nreported by Placement.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nThe DELETE /allocations calls also replaced with a PUT /allocations\ncalls using an empty allocations body with a local retry.\n\nTODO:\n* fill the pre-added consumer generation functional test cases and fix\n  the faults discovered by them\n* split up the patch to smaller pieces as it is getting huge\n* update unit test to pass\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 21, 'created': '2018-08-14 18:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55179d56023e889f636b2a4351297b149ade4ae1', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nTODO:\n* The functional test shows that when the claim for an evacuation\n  (both normal and forced) fails then the instance stuck in REBUILD\n  state and migration stuck at accepted state. I think both should go\n  to ERROR instead.\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 22, 'created': '2018-08-15 08:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a426cd5f668f4db4f6241501a0a672692e43b5e', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller needs to retry the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will retry locally.\n\nTODO:\n* The functional test shows that when the claim for an evacuation\n  (both normal and forced) fails then the instance stuck in REBUILD\n  state and migration stuck at accepted state. I think both should go\n  to ERROR instead.\n\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 23, 'created': '2018-09-14 20:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0540541474458824cacffdb76d050e357493194d', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller aborts the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will raise and let the caller\n  abort the opertion.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 24, 'created': '2018-09-17 09:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d083d8d5d45d76b9367b5614d16270f3373c839d', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller aborts the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will raise and let the caller\n  abort the opertion.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 25, 'created': '2018-09-26 12:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65bb8e604c597138995edbed6d1688109427a733', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller aborts the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will raise and let the caller\n  abort the opertion.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 26, 'created': '2018-10-02 14:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f2e740843e9f614957ff34eaa2eb320c3e3090b', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistencies about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to the\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller aborts the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will raise and let the caller\n  abort the opertion.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 27, 'created': '2018-10-02 14:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cba969a37bb703ea3c3ba443dfe02780dbdc3461', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistency about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller aborts the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will raise and let the caller\n  abort the opertion.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 28, 'created': '2018-10-03 07:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c9daf729d7c300d16da24d85329f536ae7e0616', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistency about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller aborts the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will raise and let the caller\n  abort the opertion.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}, {'number': 29, 'created': '2018-10-04 11:46:42.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/37301f2f278a3702369eec957402e36d53068973', 'message': 'consumer gen: support claim_resources\n\nThis patch adds the handling of consumer generation conflict for the\nscheduler report client claim_resources function.\n\nNote that almost every instance move operation uses the migration.uuid\nto hold the source node allocation while attempting to allocate on the\ndestination for the instance. The only exception is evacuation as during\nevacuation both the source and the destination allocations are held by\nthe instance.uuid as consumer.\n\nThere are three major cases handled regarding consumer generation\nconflicts during claim_resources:\n\n* The caller wants to claim resources and assumes that the provided\n  consumer is a new consumer. For example scheduler claims during the\n  build of a new instance or during the move of an existing\n  instance and the source allocation is held by the migration_uuid. In\n  this case if Placement returns consumer generation conflict then there\n  is a serious inconsistency about that consumer. So this patch\n  ensures that the operation is aborted.\n\n* The caller knows that there is allocation on the consumer before\n  calling claim and reads the current allocation from Placement. The\n  only example of this in the current codebase is forced evacuation. In\n  this case the caller provides the consumer_generation to\n  claim_resources. If Placement returns consumer generaton conflict then\n  the caller aborts the operation.\n\n* The scheduler wants to claim resources for a non-forced evacuation.\n  The scheduler does not know that it is an evacuate operation and the\n  scheduler only sees allocation candidates. Therefore the scheduler\n  uses the same code path as in the first case and calls claim_resources\n  without providing consumer generation. In this case the\n  claim_resources code needs to read the actual consumer generation\n  from Placement. If during this claim Placement returns consumer\n  generaton conflict then claim_resource will raise and let the caller\n  abort the opertion.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5\n'}]",161,583667,37301f2f278a3702369eec957402e36d53068973,336,23,29,9708,,,0,"consumer gen: support claim_resources

This patch adds the handling of consumer generation conflict for the
scheduler report client claim_resources function.

Note that almost every instance move operation uses the migration.uuid
to hold the source node allocation while attempting to allocate on the
destination for the instance. The only exception is evacuation as during
evacuation both the source and the destination allocations are held by
the instance.uuid as consumer.

There are three major cases handled regarding consumer generation
conflicts during claim_resources:

* The caller wants to claim resources and assumes that the provided
  consumer is a new consumer. For example scheduler claims during the
  build of a new instance or during the move of an existing
  instance and the source allocation is held by the migration_uuid. In
  this case if Placement returns consumer generation conflict then there
  is a serious inconsistency about that consumer. So this patch
  ensures that the operation is aborted.

* The caller knows that there is allocation on the consumer before
  calling claim and reads the current allocation from Placement. The
  only example of this in the current codebase is forced evacuation. In
  this case the caller provides the consumer_generation to
  claim_resources. If Placement returns consumer generaton conflict then
  the caller aborts the operation.

* The scheduler wants to claim resources for a non-forced evacuation.
  The scheduler does not know that it is an evacuate operation and the
  scheduler only sees allocation candidates. Therefore the scheduler
  uses the same code path as in the first case and calls claim_resources
  without providing consumer generation. In this case the
  claim_resources code needs to read the actual consumer generation
  from Placement. If during this claim Placement returns consumer
  generaton conflict then claim_resource will raise and let the caller
  abort the opertion.

Blueprint: use-nested-allocation-candidates
Change-Id: I097732754b67bd5cf50abd15db7da3f013b6cdd5
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/583667/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/scheduler/utils.py', 'nova/conductor/tasks/migrate.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py']",6,62ecede9cca454629a48a2c73639146f89f6fd59,bp/use-nested-allocation-candidates," mig_allocs, consumer_gen = ( allocs, consumer_gen = ( context, migration.uuid, include_project_user=True) if not orig_alloc['allocations']: orig_consumer_generation = None else: orig_consumer_generation = orig_alloc['consumer_generation'] orig_alloc = orig_alloc['allocations'] # Get the current generation of the instance consumer as we will # try to change that below instance_consumer_gen = self.reportclient.get_consumer_generation( context, instance.uuid) context, cn_uuid, instance.uuid, instance_consumer_gen, orig_alloc, instance.project_id, instance.user_id, consumer_to_clear=migration.uuid, consumer_to_clear_generation=orig_consumer_generation)"," mig_allocs = ( allocs = ( context, migration.uuid) context, cn_uuid, instance.uuid, orig_alloc, instance.project_id, instance.user_id, consumer_to_clear=migration.uuid)",135,51
openstack%2Fcharm-ceph-fs~master~I57ebccde4c04b1b6b312f152ea778f8ad820b196,openstack/charm-ceph-fs,master,I57ebccde4c04b1b6b312f152ea778f8ad820b196,Update requirements,MERGED,2018-10-04 15:47:24.000000000,2018-10-05 08:22:48.000000000,2018-10-05 08:22:47.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/4d3903ed7d0d4d88990be00713839a1e6df60e47', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I57ebccde4c04b1b6b312f152ea778f8ad820b196\n'}, {'number': 2, 'created': '2018-10-04 15:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/ba23f756c2b77060fd24e7989eac712e65ad0918', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I57ebccde4c04b1b6b312f152ea778f8ad820b196\n'}, {'number': 3, 'created': '2018-10-04 23:38:26.000000000', 'files': ['requirements.txt', '.gitignore', 'test-requirements.txt', 'src/test-requirements.txt', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/8f83824e2b85031953df65b37b0d46831df77e44', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I57ebccde4c04b1b6b312f152ea778f8ad820b196\n'}]",0,607998,8f83824e2b85031953df65b37b0d46831df77e44,18,5,3,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I57ebccde4c04b1b6b312f152ea778f8ad820b196
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/98/607998/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,4d3903ed7d0d4d88990be00713839a1e6df60e47,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",31,16
openstack%2Fkolla-ansible~master~I59ceda1e7a6e945b13872089011045db04548b94,openstack/kolla-ansible,master,I59ceda1e7a6e945b13872089011045db04548b94,Improve registration of Monasca InfluxDB database,MERGED,2018-09-25 16:53:49.000000000,2018-10-05 08:14:43.000000000,2018-10-05 08:14:42.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-25 16:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dfdf7d7519e07832730d556e2a06107f52c987e5', 'message': ""Improve registration of Monasca InfluxDB database\n\nMonasca is not yet compatible with InfluxDB > 1.1.10, which means\nthat the official Ansible modules for managing InfluxDB don't work [1].\nWe therefore fall back to manual commands to register the database\nand a default retention policy.\n\n[1] https://github.com/influxdata/influxdb-python\n    #influxdb-pre-v110-users\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I59ceda1e7a6e945b13872089011045db04548b94\n""}, {'number': 2, 'created': '2018-09-26 10:58:58.000000000', 'files': ['ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/monasca/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2af1d1d95e2e28b5985e3129c3654aee0b942b87', 'message': ""Improve registration of Monasca InfluxDB database\n\nMonasca is not yet compatible with InfluxDB > 1.1.10, which means\nthat the official Ansible modules for managing InfluxDB don't work [1].\nWe therefore fall back to manual commands to register the database\nand a default retention policy.\n\n[1] https://github.com/influxdata/influxdb-python\n    #influxdb-pre-v110-users\n\nPartially-Implements: blueprint monasca-roles\nChange-Id: I59ceda1e7a6e945b13872089011045db04548b94\n""}]",1,605138,2af1d1d95e2e28b5985e3129c3654aee0b942b87,11,3,2,17669,,,0,"Improve registration of Monasca InfluxDB database

Monasca is not yet compatible with InfluxDB > 1.1.10, which means
that the official Ansible modules for managing InfluxDB don't work [1].
We therefore fall back to manual commands to register the database
and a default retention policy.

[1] https://github.com/influxdata/influxdb-python
    #influxdb-pre-v110-users

Partially-Implements: blueprint monasca-roles
Change-Id: I59ceda1e7a6e945b13872089011045db04548b94
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/605138/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/tasks/bootstrap.yml']",2,dfdf7d7519e07832730d556e2a06107f52c987e5,bp/monasca-roles,"- name: List influxdb databases command: ""docker exec influxdb influx -host {{ monasca_influxdb_address }} -port {{ monasca_influxdb_http_port }} -execute 'show databases'"" delegate_to: ""{{ groups['influxdb'][0] }}"" register: monasca_influxdb_database changed_when: False - name: Creating monasca influxdb database command: ""docker exec influxdb influx -host {{ monasca_influxdb_address }} -port {{ monasca_influxdb_http_port }} -execute 'CREATE DATABASE {{ monasca_influxdb_name }} WITH DURATION {{ monasca_influxdb_retention_policy.duration }} REPLICATION {{ monasca_influxdb_retention_policy.replication_count }} NAME {{ monasca_influxdb_retention_policy.name }}'"" run_once: True delegate_to: ""{{ groups['influxdb'][0] }}"" when: monasca_influxdb_name not in monasca_influxdb_database.stdout_lines","- name: Creating monasca influxdb database kolla_toolbox: module_name: influxdb_database module_args: hostname: ""{{ monasca_influxdb_address }}"" port: ""{{ monasca_influxdb_http_port }}"" database_name: ""{{ monasca_influxdb_name }}"" delegate_to: ""{{ groups['monasca-api'][0] }}""",15,8
openstack%2Fkolla-ansible~master~I542b06be75991412f8e2a931ea2e40f0a0c317e4,openstack/kolla-ansible,master,I542b06be75991412f8e2a931ea2e40f0a0c317e4,Support Octavia custom policy,MERGED,2018-09-07 15:22:47.000000000,2018-10-05 08:14:41.000000000,2018-10-05 08:14:41.000000000,"[{'_account_id': 10273}, {'_account_id': 19316}, {'_account_id': 19554}, {'_account_id': 19930}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28176}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-09-07 15:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed999cca63cb01d60108756f9eebb310392edab0', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 2, 'created': '2018-09-19 01:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/258fb38edb2e0d0d71917f1c3c81b6ff93f85908', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 3, 'created': '2018-09-22 04:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0281c470d73043ac74ca63bfccbd423e1a9835e', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 4, 'created': '2018-09-22 04:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b9c89a3962973922d9df4b36a0114143f51d722', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 5, 'created': '2018-09-23 05:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e8e8f684ba5eeaa161e95d424895881b31cde22', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 6, 'created': '2018-09-28 19:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52fcea1592f8663272b780cc4641e4bd6a2f143d', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 7, 'created': '2018-09-28 19:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1d9c38fa01dac89d3fca028d5cdf936aed513e8', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 8, 'created': '2018-10-02 01:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2582103176021f781aebd0eea08abcaac231f520', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}, {'number': 9, 'created': '2018-10-04 02:34:46.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/octavia/handlers/main.yml', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/octavia/templates/octavia-api.json.j2', 'releasenotes/notes/add-octavia-custom-policy-6a55d8cd951ce639.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22bf7997b96359e424494727362daa85cf8cb3ec', 'message': 'Support Octavia custom policy\n\nChange-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4\nCloses-Bug: #1758903\n'}]",7,600800,22bf7997b96359e424494727362daa85cf8cb3ec,34,9,9,19930,,,0,"Support Octavia custom policy

Change-Id: I542b06be75991412f8e2a931ea2e40f0a0c317e4
Closes-Bug: #1758903
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/600800/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/templates/octavia-health-manager.json.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/octavia/handlers/main.yml', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/octavia/templates/octavia-api.json.j2', 'ansible/roles/octavia/templates/octavia-housekeeping.json.j2', 'ansible/roles/octavia/templates/octavia-worker.json.j2', 'releasenotes/notes/add-octavia-custom-policy-6a55d8cd951ce639.yaml']",8,ed999cca63cb01d60108756f9eebb310392edab0,bug/1758903,--- features: - Add support Octavia custom policy. ,,79,4
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~Ib224469a6bdf12f04f67872b015b68ae53db8fca,openstack/openstack-ansible-os_horizon,stable/ocata,Ib224469a6bdf12f04f67872b015b68ae53db8fca,import zuul job settings from project-config,MERGED,2018-08-22 02:00:55.000000000,2018-10-05 08:13:37.000000000,2018-10-05 08:13:37.000000000,"[{'_account_id': 6547}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-08-22 02:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/6b6046cc2742ae2371ad06214e0b68f8cd74ba40', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ib224469a6bdf12f04f67872b015b68ae53db8fca\nStory: #2002586\nTask: #24319\n'}, {'number': 2, 'created': '2018-10-04 17:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/19abc9c3e1e3a64304cb2e9afa1398b1bc933627', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ib224469a6bdf12f04f67872b015b68ae53db8fca\nStory: #2002586\nTask: #24319\n'}, {'number': 3, 'created': '2018-10-05 07:06:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/7574736d58d69f94f8171f245cdaed228df15050', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ib224469a6bdf12f04f67872b015b68ae53db8fca\nStory: #2002586\nTask: #24319\n'}]",0,594750,7574736d58d69f94f8171f245cdaed228df15050,22,6,3,26297,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ib224469a6bdf12f04f67872b015b68ae53db8fca
Story: #2002586
Task: #24319
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/50/594750/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6b6046cc2742ae2371ad06214e0b68f8cd74ba40,python3-first, templates: - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs,,4,0
openstack%2Ftempest~master~I371c65b98d840b7e260141a1f455f116a45cadaf,openstack/tempest,master,I371c65b98d840b7e260141a1f455f116a45cadaf,Correcting admin role from hardcoded value and to get it from config,ABANDONED,2018-10-02 07:22:37.000000000,2018-10-05 07:40:01.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}, {'_account_id': 28950}]","[{'number': 1, 'created': '2018-10-02 07:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c4e12ea95286ff9712e8c147e91c72a610c45545', 'message': ""Correcting admin role from hardcoded value and to get it from config\n\nThere is admin role set as 'admin' but it should be retrieve from\nconfig data.\nThis patch set will correct the hardcoded value and get it from\nconfig file as CONF.identity.admin_role\n\nChange-Id: I371c65b98d840b7e260141a1f455f116a45cadaf\n""}, {'number': 2, 'created': '2018-10-03 05:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ceaccda95c52858c8de86c093bdb8dbd047a3b37', 'message': ""Correcting admin role from hardcoded value and to get it from config\n\nThere is admin role set as 'admin' but it should be retrieve from\nconfig data.\nThis patch set will correct the hardcoded value and get it from\nconfig file as CONF.identity.admin_role\n\nChange-Id: I371c65b98d840b7e260141a1f455f116a45cadaf\n""}, {'number': 3, 'created': '2018-10-05 07:27:17.000000000', 'files': ['tempest/cmd/account_generator.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c2caef0cf0d7956c8dadd43cb558ad5ec22a5f3a', 'message': ""Correcting admin role from hardcoded value and to get it from config\n\nThere is admin role set as 'admin' but it should be retrieve from\nconfig data.\nThis patch set will correct the hardcoded value and get it from\nconfig file as CONF.identity.admin_role\n\nChange-Id: I371c65b98d840b7e260141a1f455f116a45cadaf\n""}]",7,607113,c2caef0cf0d7956c8dadd43cb558ad5ec22a5f3a,19,7,3,27078,,,0,"Correcting admin role from hardcoded value and to get it from config

There is admin role set as 'admin' but it should be retrieve from
config data.
This patch set will correct the hardcoded value and get it from
config file as CONF.identity.admin_role

Change-Id: I371c65b98d840b7e260141a1f455f116a45cadaf
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/607113/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/account_generator.py'],1,c4e12ea95286ff9712e8c147e91c72a610c45545,606880, spec.append(CONF.identity.admin_role), spec.append('admin'),1,1
openstack%2Fnetworking-bgpvpn~stable%2Focata~I77b53974cb2a38075435368c71beac8ac4932d66,openstack/networking-bgpvpn,stable/ocata,I77b53974cb2a38075435368c71beac8ac4932d66,"DNM: Fix check, gate and periodic jobs",ABANDONED,2018-10-05 07:00:10.000000000,2018-10-05 07:35:30.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 07:00:10.000000000', 'files': ['networking_bgpvpn_tempest/tests/scenario/test_bgpvpn_basic.py', '.gitignore', 'tools/tox_install.sh', 'test-requirements.txt', 'networking_bgpvpn_tempest/tests/api/test_bgpvpn.py', 'networking_bgpvpn_tempest/tests/scenario/manager.py', '.zuul.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/4522fee54f15c4df33dd65d9c2cd7fda8727e8ed', 'message': 'DNM: Fix check, gate and periodic jobs\n\nDo not merge: Testing removing of stestr changes.\n\nThis is a combination of 10 commits that are needed to have successful\ncheck, gate and periodic stable job runs.\n\nNote: All the tempest related fixes are due to the fact that we can\'t\npin the version of tempest that we are using, and hence need to adjust\nthings when tempest evolves.\n\n1. Fix sphinx-docs job for stable branch\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to the new\npip version 10 introduces some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nAlso some tests still needs networking-odl package to be installed, however\nit is removed from the required-projects of networking-bgpvpn, so they\nfails now. To fix this, the easiest solution is to add networking-odl\nto .zuul.yaml on stable/* branch as required project.\n\n2. Add networking-odl for periodic-stable jobs\n\nperiodic-stable jobs fail: networking-odl is required for jobs on queens\nand older stable branches. From rocky, there is no tox_install.sh any\nmore, so this is not needed there.\n\n3. Fix post gate hook to accommodate for new os-testr\n\nNew os-testr uses stestr under the hood, which creates .stestr but not\n.testrepository directory in the current dir. Other than that, it\ndoesn\'t seem like there is any difference in the format or names of\nfiles generated in the directory.\n\n(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)\nCo-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>\n\nThis change also wraps up another fix (simultaneous voting test job\nbreakage) related to a recent change in the neutron repository of\nthe import statements for ml2 config.\n\nNote(elod.illes): a bit of a modification needed in the hook script as\nnot every job calls stestr.\n\n4. use networking-odl from pypi instead of git master\n\nTwo reasons:\n- no point in tracking master, now that development is done\n  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree\n- odl master is sometimes broken [1], which impacts our CI\n\n[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481\n\n5. Speed up tox_install.sh\n\n* When installing git repos into tox venv, there is no need to\n  use full clone. Shallow clone like --depth 1 is sufficient.\n  It speeds up tox venv creation.\n* Fix import check for networking-bagpipe and networking-odl.\n  Python module names use underscores instead of hyphens,\n  so the current iport check always returns false.\n  As a result, installation of these projects are run multiple times.\n* Allow to specify GIT_BASE for local testing.\n  Previously PIP_LOCATION exists, but the tox_install.sh installs\n  four repositories so PIP_LOCATION actually cannot be used.\n\nIn my local env, the time to prepare tox env was reduced from 4m52s\nto 2m39s for the first run and from 42s to 19s for the second run\nor later (after applying the first two points above).\n\nNote(elod.illes): some changes of tox_install.sh didn\'t seem trivial to\ngit so it needed some manual intervention...\nConflicts:\n\ttools/tox_install.sh\n\nCloses-Bug: 1716746\n\n6. Change sourcing neutron l2 agent script for devstack\n\nSource the l2 agent script only in case and in place where functions\nfrom this are going to be used.\n\n7. unbreak tempest tests\n\nThe initialization of the self.networks variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n8. tempest: unbreak scenario test\n\nThe initialization of the self.subnets variable was missing.\n\nI don\'t know yet why this wasn\'t showing up before, possibly\nbecause the tempest test suite was not in CI before (?).\n\n9. tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was literally copied from\ntempest as of today. [1]\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\n10. Register query hooks at BGPVPNPluginDb object creation\n\nThis change also modifies the expected exception raised in tempest\nwhile testing a delete of a bgpvpn by a regular tenant :\nthe Forbidden exception is now raised instead of the NotFound one.\n\nNote(elod.illes): only the exception change is cherry-picked from\nthis commit, the networking_bgpvpn/neutron/db/bgpvpn_db.py change\nis skipped.\n\nCloses-bug: 1685930\n\n(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)\n(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)\n(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)\n(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)\n(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)\n(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)\n(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)\n(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)\n(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)\n(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)\n(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)\n\nChange-Id: I77b53974cb2a38075435368c71beac8ac4932d66\n'}]",0,608169,4522fee54f15c4df33dd65d9c2cd7fda8727e8ed,3,2,1,6547,,,0,"DNM: Fix check, gate and periodic jobs

Do not merge: Testing removing of stestr changes.

This is a combination of 10 commits that are needed to have successful
check, gate and periodic stable job runs.

Note: All the tempest related fixes are due to the fact that we can't
pin the version of tempest that we are using, and hence need to adjust
things when tempest evolves.

1. Fix sphinx-docs job for stable branch

build-openstack-sphinx-docs jobs fail on stable branches due to the new
pip version 10 introduces some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to
pip.

Also some tests still needs networking-odl package to be installed, however
it is removed from the required-projects of networking-bgpvpn, so they
fails now. To fix this, the easiest solution is to add networking-odl
to .zuul.yaml on stable/* branch as required project.

2. Add networking-odl for periodic-stable jobs

periodic-stable jobs fail: networking-odl is required for jobs on queens
and older stable branches. From rocky, there is no tox_install.sh any
more, so this is not needed there.

3. Fix post gate hook to accommodate for new os-testr

New os-testr uses stestr under the hood, which creates .stestr but not
.testrepository directory in the current dir. Other than that, it
doesn't seem like there is any difference in the format or names of
files generated in the directory.

(shamelessly stolen from I82d52bf0ad885bd36d2f0782a7c86ac61df532f2)
Co-Authored-By: Ihar Hrachyshka <ihrachys@redhat.com>

This change also wraps up another fix (simultaneous voting test job
breakage) related to a recent change in the neutron repository of
the import statements for ml2 config.

Note(elod.illes): a bit of a modification needed in the hook script as
not every job calls stestr.

4. use networking-odl from pypi instead of git master

Two reasons:
- no point in tracking master, now that development is done
  on odl bgpvpn v2 driver, which does not sit in n8g-bgpvpn tree
- odl master is sometimes broken [1], which impacts our CI

[1] http://logs.openstack.org/70/470470/2/check/gate-networking-bgpvpn-dsvm-functional-ubuntu-xenial/febf152/console.html#_2017-06-05_12_56_21_302481

5. Speed up tox_install.sh

* When installing git repos into tox venv, there is no need to
  use full clone. Shallow clone like --depth 1 is sufficient.
  It speeds up tox venv creation.
* Fix import check for networking-bagpipe and networking-odl.
  Python module names use underscores instead of hyphens,
  so the current iport check always returns false.
  As a result, installation of these projects are run multiple times.
* Allow to specify GIT_BASE for local testing.
  Previously PIP_LOCATION exists, but the tox_install.sh installs
  four repositories so PIP_LOCATION actually cannot be used.

In my local env, the time to prepare tox env was reduced from 4m52s
to 2m39s for the first run and from 42s to 19s for the second run
or later (after applying the first two points above).

Note(elod.illes): some changes of tox_install.sh didn't seem trivial to
git so it needed some manual intervention...
Conflicts:
	tools/tox_install.sh

Closes-Bug: 1716746

6. Change sourcing neutron l2 agent script for devstack

Source the l2 agent script only in case and in place where functions
from this are going to be used.

7. unbreak tempest tests

The initialization of the self.networks variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

8. tempest: unbreak scenario test

The initialization of the self.subnets variable was missing.

I don't know yet why this wasn't showing up before, possibly
because the tempest test suite was not in CI before (?).

9. tempest: Switch to local copy of tempset/scenario/manager.py

The manager.py file was literally copied from
tempest as of today. [1]

tempest/scenario/manager.py is not a part of tempest stable
interface for plugins. [2]

This was suggested on openstack-dev as a preparation for
the coming refactoring in tempest. [3]

As tempest is branchless, this change needs to be backported
to all relevant stable branches.

[1] d184d619d7adc6ab60055884515055a7f3cf7770
[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use
[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html

10. Register query hooks at BGPVPNPluginDb object creation

This change also modifies the expected exception raised in tempest
while testing a delete of a bgpvpn by a regular tenant :
the Forbidden exception is now raised instead of the NotFound one.

Note(elod.illes): only the exception change is cherry-picked from
this commit, the networking_bgpvpn/neutron/db/bgpvpn_db.py change
is skipped.

Closes-bug: 1685930

(cherry picked from commit ff84e5a105cdc8e70693bcb0a7b3e542d5b4f12d)
(cherry picked from commit d0c1a6b58267bb1e1346cfe35a61f5b57d9cc672)
(cherry picked from commit 8f576a2ccb2aa16ff1585b93c4fbb58247d209bd)
(cherry picked from commit 9c3494339cd5ee22b03f427fd8c2870335e7f900)
(cherry picked from commit 650c37b1429d262cf2bc26036828999fc0b38e7e)
(cherry picked from commit f24f9ce37f55d4a59f097064a80e8e46a7c20bc0)
(cherry picked from commit d6baa9cdde0548072b06a7d5147d1e53515cf628)
(cherry picked from commit fe90ea22d604ac3bc81a693e469796a65d84f98e)
(cherry picked from commit a62d8c64724fd0cc27ada7c4a91d2806bf87bb58)
(cherry picked from commit 0bb5a67dcf1bf103a8df321b861049515c946134)
(cherry picked from commit c7211ed718f9b18e186bc66eb460b1526dba40f2)

Change-Id: I77b53974cb2a38075435368c71beac8ac4932d66
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/69/608169/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bgpvpn_tempest/tests/scenario/test_bgpvpn_basic.py', '.gitignore', 'tools/tox_install.sh', 'networking_bgpvpn_tempest/tests/api/test_bgpvpn.py', 'test-requirements.txt', 'networking_bgpvpn_tempest/tests/scenario/manager.py', '.zuul.yaml', 'devstack/plugin.sh']",8,4522fee54f15c4df33dd65d9c2cd7fda8727e8ed,pip10-stable-fix, source $NEUTRON_DIR/devstack/plugin.sh source $NEUTRON_DIR/devstack/lib/l2_agent,source $NEUTRON_DIR/devstack/lib/l2_agent ,1410,12
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~I830a57ed81a08b8929b3bd446d9c919a94e145f9,openstack/openstack-ansible-os_horizon,stable/ocata,I830a57ed81a08b8929b3bd446d9c919a94e145f9,Make functional job non-voting,MERGED,2018-10-05 04:12:41.000000000,2018-10-05 07:18:35.000000000,2018-10-05 07:18:35.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 04:12:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/9a31f1e309c3cc2785a68ad3ef101538c712ea2f', 'message': 'Make functional job non-voting\n\nThis job is failing, make it non-voting so that we can merge the\npython3-first change.\n\nChange-Id: I830a57ed81a08b8929b3bd446d9c919a94e145f9\nNeeded-By: https://review.openstack.org/594750\n'}]",0,608157,9a31f1e309c3cc2785a68ad3ef101538c712ea2f,6,2,1,6547,,,0,"Make functional job non-voting

This job is failing, make it non-voting so that we can merge the
python3-first change.

Change-Id: I830a57ed81a08b8929b3bd446d9c919a94e145f9
Needed-By: https://review.openstack.org/594750
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/57/608157/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9a31f1e309c3cc2785a68ad3ef101538c712ea2f,, - openstack-ansible-functional-ubuntu-xenial: voting: false, - openstack-ansible-functional-ubuntu-xenial - openstack-ansible-functional-ubuntu-xenial,2,2
openstack%2Fproject-config~master~Ie7248a1765029bcf8b17433fc4714d359bfb2747,openstack/project-config,master,Ie7248a1765029bcf8b17433fc4714d359bfb2747,enable sqlite in python,MERGED,2018-10-05 05:51:12.000000000,2018-10-05 07:00:04.000000000,2018-10-05 07:00:04.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 05:51:12.000000000', 'files': ['nodepool/elements/infra-package-needs/pre-install.d/00-gentoo-useflags'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d341ceca2385287ca4af380a6ba17af34545faee', 'message': 'enable sqlite in python\n\nChange-Id: Ie7248a1765029bcf8b17433fc4714d359bfb2747\n'}]",0,608161,d341ceca2385287ca4af380a6ba17af34545faee,7,3,1,14288,,,0,"enable sqlite in python

Change-Id: Ie7248a1765029bcf8b17433fc4714d359bfb2747
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/608161/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/pre-install.d/00-gentoo-useflags'],1,d341ceca2385287ca4af380a6ba17af34545faee,osa-needs-sqlite-in-python," echo ""dev-lang/python sqlite"" >> /etc/portage/package.use/python",,1,0
openstack%2Fopenstack-helm-infra~master~I2214fea8d8c1563b08c4015c9e91a29cf071af5a,openstack/openstack-helm-infra,master,I2214fea8d8c1563b08c4015c9e91a29cf071af5a,[Calico] Update to Calico v3.2,MERGED,2018-10-01 23:30:39.000000000,2018-10-05 06:57:13.000000000,2018-10-05 06:57:13.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26628}]","[{'number': 1, 'created': '2018-10-01 23:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e8e394ee0b6d00016a12beab72bcf9a2cc04ec2', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 2, 'created': '2018-10-02 21:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75c5852163621b78446e36cb90a336349e4d8952', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 3, 'created': '2018-10-02 21:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a71725a17e4b205f1800430bcfa6c4d70974273', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 4, 'created': '2018-10-02 23:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/786d980cc35a8d94a1060c0e1ba2bc9d3c396b44', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 5, 'created': '2018-10-03 06:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16c723aae1d8b7adffaea40964346d12944c246a', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 6, 'created': '2018-10-03 19:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84ccb61e441425bf61c9f0fa3e010b00a2130cba', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 7, 'created': '2018-10-04 12:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aefb0fb32b59b636f230a4dc6e6c95c23be6aff9', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 8, 'created': '2018-10-04 21:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a24333169f03962797539a1d1af3357de2bf3ed', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}, {'number': 9, 'created': '2018-10-05 01:50:02.000000000', 'files': ['calico/templates/configmap-bird.yaml', 'calico/Chart.yaml', 'calico/templates/bird/_bird_ipam.cfg.template.tpl', 'calico/templates/bird/_bird.cfg.template.tpl', 'calico/templates/daemonset-calico-etcd.yaml', 'calico/templates/bird/_bird_aggr.cfg.template.tpl', 'calico/templates/bird/_bird6.cfg.mesh.template.tpl', 'calico/templates/bird/_bird.cfg.mesh.template.tpl', 'calico/templates/etc/_bird-tar-deposit.base64.txt', 'calico/templates/bin/_install-calicoctl.sh.tpl', 'calico/templates/configmap-etc.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'calico/values.yaml', 'calico/templates/bird/_custom_filters6.cfg.template.tpl', 'calico/templates/bird/_bird.cfg.no-mesh.template.tpl', 'calico/templates/bird/_bird6.cfg.no-mesh.template.tpl', 'calico/templates/bird/_custom_filters.cfg.template.tpl', 'calico/templates/bird/_bird6.cfg.template.tpl', 'calico/templates/daemonset-calico-node.yaml', 'calico/templates/bin/_calico-settings.sh.tpl', 'calico/templates/bird/_bird6_ipam.cfg.template.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26e1b9cde63a3d5a55417d25f05cf8787b03256d', 'message': '[Calico] Update to Calico v3.2\n\nChange-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a\n'}]",48,607065,26e1b9cde63a3d5a55417d25f05cf8787b03256d,52,6,9,8898,,,0,"[Calico] Update to Calico v3.2

Change-Id: I2214fea8d8c1563b08c4015c9e91a29cf071af5a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/607065/9 && git format-patch -1 --stdout FETCH_HEAD,"['calico/templates/configmap-bird.yaml', 'calico/Chart.yaml', 'calico/templates/bird/_bird_ipam.cfg.template.tpl', 'calico/templates/bird/_bird.cfg.template.tpl', 'calico/templates/daemonset-calico-etcd.yaml', 'calico/templates/bird/_bird_aggr.cfg.template.tpl', 'calico/templates/bird/_bird6.cfg.mesh.template.tpl', 'calico/templates/job-calico-settings.yaml', 'calico/templates/bird/_bird.cfg.mesh.template.tpl', 'calico/templates/etc/_bird-tar-deposit.base64.txt', 'calico/templates/bin/_install-calicoctl.sh.tpl', 'calico/templates/service-calico-etcd.yaml', 'calico/templates/configmap-etc.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'calico/values.yaml', 'calico/templates/bird/_custom_filters6.cfg.template.tpl', 'calico/templates/bird/_bird.cfg.no-mesh.template.tpl', 'calico/templates/bird/_bird6.cfg.no-mesh.template.tpl', 'calico/templates/bird/_custom_filters.cfg.template.tpl', 'calico/templates/bird/_bird6.cfg.template.tpl', 'calico/templates/daemonset-calico-node.yaml', 'calico/templates/bin/_calico-settings.sh.tpl', 'calico/templates/bird/_bird6_ipam.cfg.template.tpl']",23,9e8e394ee0b6d00016a12beab72bcf9a2cc04ec2,calico-frosting," function osh_filters () { # support any addresses matching our secondary announcements {{- range .Values.networking.bgp.ipv6.additional_cidrs }} if ( net ~ {{ . }} ) then { accept; } {{- end }} } osh_filters(); {{`{{range ls ""/pool""}}{{$data := json (getv (printf ""/pool/%s"" .))}}`}} {{` if ( net ~ {{$data.cidr}} ) then {`}}"," custom_filters(); {{`{{range ls ""/pool""}}`}}{{`{{$data := json (getv (printf ""/pool/%s"" .))}}`}} if ( net ~ {{`{{$data.cidr}}`}} ) then {",514,796
openstack%2Fopenstack-helm-infra~master~Ic26035c3f58efb6269fd58e570601cccfdd84949,openstack/openstack-helm-infra,master,Ic26035c3f58efb6269fd58e570601cccfdd84949,Gate: remove unused pull images role and playbook,MERGED,2018-10-04 17:15:12.000000000,2018-10-05 06:57:12.000000000,2018-10-05 06:57:12.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 17:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86c5e99570e2144ae4d42911044f9546bf208195', 'message': 'Gate: remove unused pull images role and playbook\n\nThis PS removes the unused pull images role and playbook.\n\nChange-Id: Ic26035c3f58efb6269fd58e570601cccfdd84949\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-05 01:44:03.000000000', 'files': ['playbooks/osh-infra-pull-images.yaml', 'roles/pull-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46935734afea8563c2f96cf012271778d1702492', 'message': 'Gate: remove unused pull images role and playbook\n\nThis PS removes the unused pull images role and playbook.\n\nChange-Id: Ic26035c3f58efb6269fd58e570601cccfdd84949\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,608033,46935734afea8563c2f96cf012271778d1702492,11,3,2,23928,,,0,"Gate: remove unused pull images role and playbook

This PS removes the unused pull images role and playbook.

Change-Id: Ic26035c3f58efb6269fd58e570601cccfdd84949
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/608033/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/osh-infra-pull-images.yaml', 'roles/pull-images/tasks/main.yaml']",2,86c5e99570e2144ae4d42911044f9546bf208195,upsidedown-pete,,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Ensure docker python packages deployed include_role: name: deploy-package tasks_from: pip vars: packages: - yq - name: pull all images used in repo make: chdir: ""{{ work_dir }}"" target: pull-all-images ",0,50
openstack%2Ftripleo-upgrade~stable%2Frocky~Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91,openstack/tripleo-upgrade,stable/rocky,Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91,Assert services/containers are started after reboot.,MERGED,2018-09-27 09:39:51.000000000,2018-10-05 06:44:22.000000000,2018-10-04 17:16:37.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 09:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6caa7f8a5a012c4b3bd0c339f0e0c91a009e44a7', 'message': 'Assert services/containers are started after reboot.\n\nAfter undercloud\'s reboot services ain\'t available immediately.\nTo assert services\' readines list stacks and compare overcloud\nstack is present in output.\nTask is retried for ""service_readiness_count"" times, that\ndefaults to 100, with a 3 seconds delay in between, resulting\nin ~300 seconds.\n\nChange-Id: Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91\n(cherry picked from commit 6e72e7dfe2f934cf053126cec04e21f39738ff04)\n'}, {'number': 2, 'created': '2018-10-02 13:55:35.000000000', 'files': ['tasks/common/undercloud_validate_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4973c09f47812e9b9f4e46ec01314143732e1ade', 'message': 'Assert services/containers are started after reboot.\n\nAfter undercloud\'s reboot services ain\'t available immediately.\nTo assert services\' readines list stacks and compare overcloud\nstack is present in output.\nTask is retried for ""service_readiness_count"" times, that\ndefaults to 100, with a 3 seconds delay in between, resulting\nin ~300 seconds.\n\nChange-Id: Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91\n(cherry picked from commit 6e72e7dfe2f934cf053126cec04e21f39738ff04)\n'}]",0,605632,4973c09f47812e9b9f4e46ec01314143732e1ade,14,5,2,21537,,,0,"Assert services/containers are started after reboot.

After undercloud's reboot services ain't available immediately.
To assert services' readines list stacks and compare overcloud
stack is present in output.
Task is retried for ""service_readiness_count"" times, that
defaults to 100, with a 3 seconds delay in between, resulting
in ~300 seconds.

Change-Id: Ifa2b21bca4c3523cb76f8aad869b45e6aeca2e91
(cherry picked from commit 6e72e7dfe2f934cf053126cec04e21f39738ff04)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/32/605632/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_validate_upgrade.yaml'],1,6caa7f8a5a012c4b3bd0c339f0e0c91a009e44a7,uc-post-reboot-stable/rocky," - name: assert UC services started shell: | source {{ undercloud_rc }} ; openstack stack list -f json | jq -c -r '.[]|.""Stack Name""' ignore_errors: true register: oc_name until: oc_name.stdout.find('{{ overcloud_stack_name }}') != -1 retries: ""{{ service_readiness_count|default(100)|int }}"" delay: 3",,10,0
openstack%2Fopenstack-helm-infra~master~I01c58a628589ec35af2557c8cc93ea47fe084089,openstack/openstack-helm-infra,master,I01c58a628589ec35af2557c8cc93ea47fe084089,Gate: Remove unused helm chart deployment role and playbook,MERGED,2018-10-04 17:10:56.000000000,2018-10-05 06:43:19.000000000,2018-10-05 06:43:19.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 17:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/367bde91d9c8afb5de23e411fdebf4d7fdfcc6c4', 'message': 'Gate: Remove unused helm chart deployment role and playbook\n\nThis PS removes the unused helm chart deployment role and playbook.\n\nChange-Id: I01c58a628589ec35af2557c8cc93ea47fe084089\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-05 01:44:03.000000000', 'files': ['roles/deploy-helm-packages/tasks/util-common-helm-chart.yaml', 'roles/deploy-helm-packages/tasks/util-common-helm-test.yaml', 'roles/deploy-helm-packages/tasks/util-common-wait-for-pods.yaml', 'roles/deploy-helm-packages/tasks/helm-setup-dev-environment.yaml', 'tools/gate/devel/start.sh', 'playbooks/osh-infra-deploy-charts.yaml', 'roles/deploy-helm-packages/tasks/util-chart-group.yaml', 'roles/deploy-helm-packages/tasks/generate-dynamic-over-rides.yaml', 'roles/deploy-helm-packages/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/feeeed4d5d90c0f53311a7f820b1f81b171b41e4', 'message': 'Gate: Remove unused helm chart deployment role and playbook\n\nThis PS removes the unused helm chart deployment role and playbook.\n\nChange-Id: I01c58a628589ec35af2557c8cc93ea47fe084089\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,608032,feeeed4d5d90c0f53311a7f820b1f81b171b41e4,13,3,2,23928,,,0,"Gate: Remove unused helm chart deployment role and playbook

This PS removes the unused helm chart deployment role and playbook.

Change-Id: I01c58a628589ec35af2557c8cc93ea47fe084089
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/32/608032/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/deploy-helm-packages/tasks/util-common-helm-chart.yaml', 'roles/deploy-helm-packages/tasks/util-common-helm-test.yaml', 'roles/deploy-helm-packages/tasks/util-common-wait-for-pods.yaml', 'roles/deploy-helm-packages/tasks/helm-setup-dev-environment.yaml', 'tools/gate/devel/start.sh', 'playbooks/osh-infra-deploy-charts.yaml', 'roles/deploy-helm-packages/tasks/util-chart-group.yaml', 'roles/deploy-helm-packages/tasks/generate-dynamic-over-rides.yaml', 'roles/deploy-helm-packages/tasks/main.yaml']",9,367bde91d9c8afb5de23e411fdebf4d7fdfcc6c4,upsidedown-pete,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - include: generate-dynamic-over-rides.yaml - name: ""creating directory for helm test logs"" file: path: ""{{ logs_dir }}/helm-tests"" state: directory - name: ""iterating through Helm chart groups"" vars: chart_group_name: ""{{ helm_chart_group.name }}"" chart_group_items: ""{{ helm_chart_group.charts }}"" include: util-chart-group.yaml loop_control: loop_var: helm_chart_group with_items: ""{{ chart_groups }}"" ",1,362
openstack%2Fproject-config~master~I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6,openstack/project-config,master,I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6,always build universal wheels,MERGED,2018-10-04 10:57:56.000000000,2018-10-05 06:42:06.000000000,2018-10-05 06:42:06.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-04 10:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f11cbdeb0efbb3bc279d5937805cefd56e3e5cf5', 'message': 'always build universal wheels\n\nAll of our projects are pure python, so we can build universal wheels\nby default.\n\nChange-Id: I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6\nDepends-On: https://review.openstack.org/607900\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-10-04 11:04:06.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/750016d4edae04dc3cdaa223dc8665a65a8c6b49', 'message': 'always build universal wheels\n\nAll of our projects are pure python, so we can build universal wheels\nby default.\n\nChange-Id: I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6\nDepends-On: https://review.openstack.org/607900\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,607902,750016d4edae04dc3cdaa223dc8665a65a8c6b49,12,6,2,2472,,,0,"always build universal wheels

All of our projects are pure python, so we can build universal wheels
by default.

Change-Id: I65bf6f9c4f1873b5b7ef2ce13d51614fa28ec8a6
Depends-On: https://review.openstack.org/607900
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/607902/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,f11cbdeb0efbb3bc279d5937805cefd56e3e5cf5,universal-wheels," bdist_wheel_xargs: ""--universal""",,1,0
openstack%2Fnova~master~If1c901b974bc7295927b3f033a04eaa6ac36f603,openstack/nova,master,If1c901b974bc7295927b3f033a04eaa6ac36f603,Not set instance to ERROR if set_admin_password failed,MERGED,2018-03-22 06:10:17.000000000,2018-10-05 06:34:27.000000000,2018-10-05 00:45:51.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14203}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21133}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-22 06:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7bd0ec430b6150938690842e64a74f3a99f5fee', 'message': 'Not instance to ERROR if set_admin_password failed\n\nIn some cases instance will be set to ERROR state when\nset_admin_password failed (some Exception like Forbidden)\nthis is inconsistent to other exceptions and also\nset_admin_password is a sync call from API to compute,\nwe can simply return the error to upper layer (operater or\nuser) to avoid make user run reset to restore instance\nstatus since no changes to guest at all.\n\nChange-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603\nCloses-Bug: 1757061\n'}, {'number': 2, 'created': '2018-10-03 14:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74b93e11cc2d9184f0b3dc3dee550f7b15b7a974', 'message': 'Not instance to ERROR if set_admin_password failed\n\nIn some cases instance will be set to ERROR state when\nset_admin_password failed (some Exception like Forbidden)\nthis is inconsistent to other exceptions and also\nset_admin_password is a sync call from API to compute,\nwe can simply return the error to upper layer (operater or\nuser) to avoid make user run reset to restore instance\nstatus since no changes to guest at all.\n\nChange-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603\nCloses-Bug: 1757061\n'}, {'number': 3, 'created': '2018-10-03 14:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/595afba39d61a33cec8e8648bee6e82b830deb51', 'message': 'Not set instance to ERROR if set_admin_password failed\n\nIn some cases, an instance will be set to ERROR state when\nset_admin_password failed (some Exception like Forbidden)\nthis is inconsistent to other exceptions and also\nset_admin_password is a sync call from API to compute,\nwe can simply return the error to the upper layer (operator or\nuser) to avoid make user run reset to restore instance\nstatus since no changes to guest at all.\n\nChange-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603\nCloses-Bug: 1757061\n'}, {'number': 4, 'created': '2018-10-03 15:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1dedf87b3f90873a8c89bf8d1b22aef64a42698', 'message': 'Not set instance to ERROR if set_admin_password failed\n\nIn some cases, an instance will be set to ERROR state when\nset_admin_password failed (some Exception like Forbidden)\nthis is inconsistent to other exceptions and also\nset_admin_password is a sync call from API to compute,\nwe can simply return the error to the upper layer (operator or\nuser) to avoid make user run reset to restore instance\nstatus since no changes to guest at all.\n\nChange-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603\nCloses-Bug: 1757061\n'}, {'number': 5, 'created': '2018-10-03 16:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aa47da1ce0873388347251e3cc93d1adc8581c0', 'message': 'Not set instance to ERROR if set_admin_password failed\n\nIn some cases, an instance will be set to ERROR state when\nset_admin_password failed (some Exception like Forbidden)\nthis is inconsistent to other exceptions and also\nset_admin_password is a sync call from API to compute,\nwe can simply return the error to the upper layer (operator or\nuser) to avoid make user run reset to restore instance\nstatus since no changes to guest at all.\n\nChange-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603\nCloses-Bug: 1757061\n'}, {'number': 6, 'created': '2018-10-04 18:25:24.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/513f2d3d254e2ffcc5c9eb786bc1c7d52036d392', 'message': 'Not set instance to ERROR if set_admin_password failed\n\nIn some cases, an instance will be set to ERROR state when\nset_admin_password failed (some Exception like Forbidden)\nthis is inconsistent to other exceptions and also\nset_admin_password is a sync call from API to compute,\nwe can simply return the error to the upper layer (operator or\nuser) to avoid make user run reset to restore instance\nstatus since no changes to guest at all.\n\nChange-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603\nCloses-Bug: 1757061\n'}]",19,555160,513f2d3d254e2ffcc5c9eb786bc1c7d52036d392,95,25,6,6062,,,0,"Not set instance to ERROR if set_admin_password failed

In some cases, an instance will be set to ERROR state when
set_admin_password failed (some Exception like Forbidden)
this is inconsistent to other exceptions and also
set_admin_password is a sync call from API to compute,
we can simply return the error to the upper layer (operator or
user) to avoid make user run reset to restore instance
status since no changes to guest at all.

Change-Id: If1c901b974bc7295927b3f033a04eaa6ac36f603
Closes-Bug: 1757061
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/555160/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,a7bd0ec430b6150938690842e64a74f3a99f5fee,bug/1757061, instance.task_state = None instance.save( expected_task_state=task_states.UPDATING_PASSWORD)," self._set_instance_obj_error_state(context, instance)",6,10
openstack%2Fproject-config~master~I26c6ba57e4d654867e87468b52265403d3ff44eb,openstack/project-config,master,I26c6ba57e4d654867e87468b52265403d3ff44eb,remove job settings for trove repositories,MERGED,2018-09-11 12:23:15.000000000,2018-10-05 06:34:25.000000000,2018-10-05 06:34:24.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-11 12:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7bd98379a63ea721ffc20873efce805b4c38d1d5', 'message': 'remove job settings for trove repositories\n\nThis is a mechanically generated patch to remove the job settings that\nhave been migrated to the git repositories owned by the trove team.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I26c6ba57e4d654867e87468b52265403d3ff44eb\nStory: #2002586\nTask: #24342\n'}, {'number': 2, 'created': '2018-10-04 21:36:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4207003b322c3a705645830c99b4aa2b38ad92b7', 'message': 'remove job settings for trove repositories\n\nThis is a mechanically generated patch to remove the job settings that\nhave been migrated to the git repositories owned by the trove team.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I26c6ba57e4d654867e87468b52265403d3ff44eb\nStory: #2002586\nTask: #24342\n'}]",0,601583,4207003b322c3a705645830c99b4aa2b38ad92b7,10,4,2,2472,,,0,"remove job settings for trove repositories

This is a mechanically generated patch to remove the job settings that
have been migrated to the git repositories owned by the trove team.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I26c6ba57e4d654867e87468b52265403d3ff44eb
Story: #2002586
Task: #24342
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/601583/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,7bd98379a63ea721ffc20873efce805b4c38d1d5,python3-first,, - check-requirements - publish-openstack-sphinx-docs - openstack-python-jobs - openstack-python35-jobs - release-notes-jobs - openstackclient-plugin-jobs check: jobs: - trove-functional-mysql jobs: - trove-functional-mysql - openstack-python-jobs - openstack-python35-jobs - publish-openstack-sphinx-docs - periodic-stable-jobs - check-requirements - release-notes-jobs check: jobs: - openstack-tox-pylint jobs: - openstack-tox-pylint post: jobs: - openstack-tox-cover - check-requirements - release-notes-jobs - openstack-python-jobs-horizon check: jobs: - openstack-tox-py35: branches: ^(?!stable/(ocata|pike)).*$ required-projects: - openstack/horizon gate: jobs: - openstack-tox-py35: branches: ^(?!stable/(ocata|pike)).*$ required-projects: - openstack/horizon - project: name: openstack/trove-specs templates: - openstack-specs-jobs check: jobs: - openstack-tox-py27 gate: jobs: - openstack-tox-py27 - check-requirements - tempest-plugin-jobs,0,53
openstack%2Fneutron~master~I742d8a79175209e42f8bd6319956e960c73201ee,openstack/neutron,master,I742d8a79175209e42f8bd6319956e960c73201ee,Add argument to get ports by SG to allow excluding owners,MERGED,2018-08-16 21:09:58.000000000,2018-10-05 06:11:34.000000000,2018-10-05 06:11:34.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-08-16 21:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b196bec303ce73fc7c8ded4052ceb20cac1b0ab', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 2, 'created': '2018-08-17 13:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c04afd78bb9bd5059c8d9944486b4645c401c2a6', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 3, 'created': '2018-08-17 17:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93da54a7b27acf3648d739f34f60ac57aceee234', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 4, 'created': '2018-08-17 20:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/985cf40721d71d3e75e0dd4a2150c955209fa46f', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 5, 'created': '2018-08-17 20:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a9aadafae65a68352cab017c2218628bd64f516', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 6, 'created': '2018-09-11 15:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce690c6c8abd884e5cefac5797b8974e6c20726b', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 7, 'created': '2018-09-11 15:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95868a7ad3d8ea2a46134a8b04b0118b971de285', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 8, 'created': '2018-09-19 21:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce706f6f754ea07b5964ff0ca85d0a5893e0541a', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 9, 'created': '2018-09-20 18:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83b530a413af023e0716373564f26be781eac8e1', 'message': ""Add method to get all ports that are not routers\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange provides a method in the Port object to do that.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 10, 'created': '2018-09-20 18:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eaa393ba3b3865adc0cfbc4fdd2e088f2ab705e5', 'message': ""Add argument to get ports by SG to allow excluding owners\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange adds an argument to an existing method in the Port object to do\nthat.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}, {'number': 11, 'created': '2018-10-03 20:05:16.000000000', 'files': ['neutron/tests/unit/objects/test_ports.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f721c3dcc7e4795762f7977f35b528ddd27a0edb', 'message': ""Add argument to get ports by SG to allow excluding owners\n\nWhen code needs to load a list of all ports that are not router\ninterfaces, they tend to fetch the port information into memory and then\niterate over the ports, inspecting each port's device_owner.  For large\nnumbers of ports this is presumably inefficient.  This came up in a\ndiscussion of just such a part in the code [1].\n\nA more efficient solution is to perform this filtering in SQL.  This\nchange adds an argument to an existing method in the Port object to do\nthat.\n\n[1] https://review.openstack.org/580721\n\nChange-Id: I742d8a79175209e42f8bd6319956e960c73201ee\n""}]",15,592701,f721c3dcc7e4795762f7977f35b528ddd27a0edb,107,14,11,13995,,,0,"Add argument to get ports by SG to allow excluding owners

When code needs to load a list of all ports that are not router
interfaces, they tend to fetch the port information into memory and then
iterate over the ports, inspecting each port's device_owner.  For large
numbers of ports this is presumably inefficient.  This came up in a
discussion of just such a part in the code [1].

A more efficient solution is to perform this filtering in SQL.  This
change adds an argument to an existing method in the Port object to do
that.

[1] https://review.openstack.org/580721

Change-Id: I742d8a79175209e42f8bd6319956e960c73201ee
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/592701/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/ipam/requests.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/ipam/drivers/neutrondb_ipam/test_driver.py', 'neutron/objects/ports.py']",4,4b196bec303ce73fc7c8ded4052ceb20cac1b0ab,get_ports_not_owned,"from neutron.common import constants as n_constants def get_objects_non_router(cls, context, _pager=None, validate_filters=True, security_group_ids=None, **kwargs): if security_group_ids: ports_with_sg = cls.get_ports_ids_by_security_groups_except_router( context, security_group_ids) port_ids = kwargs.get(""id"", []) if port_ids: kwargs['id'] = list(set(port_ids) & set(ports_with_sg)) else: kwargs['id'] = ports_with_sg return super(Port, cls).get_objects(context, _pager, validate_filters, **kwargs) @classmethod @classmethod def get_ports_ids_by_security_groups_except_router(cls, context, security_group_ids): query = context.session.query(sg_models.SecurityGroupPortBinding) query = query.filter( sg_models.SecurityGroupPortBinding.security_group_id.in_( security_group_ids)) query = query.filter( models_v2.Port.device_owner.not_in_( n_constants.ROUTER_INTERFACE_OWNERS)) return [port_binding['port_id'] for port_binding in query.all()]",,53,0
openstack%2Fui-cookiecutter~master~I7428f118c92f6a4c67bdb2c855df1a933587518b,openstack/ui-cookiecutter,master,I7428f118c92f6a4c67bdb2c855df1a933587518b,fix tox python3 overrides,MERGED,2018-10-03 02:21:51.000000000,2018-10-05 05:08:56.000000000,2018-10-05 05:08:55.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 02:21:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/2c5f68fe501052074c6ab3a0916cda95cd16a889', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I7428f118c92f6a4c67bdb2c855df1a933587518b\n'}]",0,607451,2c5f68fe501052074c6ab3a0916cda95cd16a889,6,2,1,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7428f118c92f6a4c67bdb2c855df1a933587518b
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/51/607451/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2c5f68fe501052074c6ab3a0916cda95cd16a889,,basepython = python3,basepython = python2.7,1,1
openstack%2Fmagnum-ui~master~If84222020d2cfc13ab660087c4ffc0b59c5c7123,openstack/magnum-ui,master,If84222020d2cfc13ab660087c4ffc0b59c5c7123,Imported Translations from Zanata,MERGED,2018-10-04 08:02:38.000000000,2018-10-05 04:51:46.000000000,2018-10-05 04:51:46.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 08:02:38.000000000', 'files': ['magnum_ui/locale/en_GB/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/941dc2ca3950876149ee76d1c87537e2c6082677', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If84222020d2cfc13ab660087c4ffc0b59c5c7123\n'}]",0,607834,941dc2ca3950876149ee76d1c87537e2c6082677,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If84222020d2cfc13ab660087c4ffc0b59c5c7123
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/34/607834/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/locale/en_GB/LC_MESSAGES/djangojs.po'],1,941dc2ca3950876149ee76d1c87537e2c6082677,zanata/translations,"""POT-Creation-Date: 2018-10-02 05:02+0000\n""""PO-Revision-Date: 2018-10-03 11:59+0000\n""msgid ""Calico"" msgstr ""Calico"" ","""POT-Creation-Date: 2018-09-04 09:20+0000\n""""PO-Revision-Date: 2018-09-04 02:55+0000\n""",5,2
openstack%2Fmagnum-ui~master~I170c0a3f76d985be2fdf0c5e645f7aaa3409b11f,openstack/magnum-ui,master,I170c0a3f76d985be2fdf0c5e645f7aaa3409b11f,fix tox python3 overrides,ABANDONED,2018-10-03 02:29:10.000000000,2018-10-05 04:50:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-03 02:29:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/309674e9cf1738dfaf1549353aa95f00fa65d60a', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I170c0a3f76d985be2fdf0c5e645f7aaa3409b11f\n'}]",1,607452,309674e9cf1738dfaf1549353aa95f00fa65d60a,4,1,1,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I170c0a3f76d985be2fdf0c5e645f7aaa3409b11f
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/52/607452/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,309674e9cf1738dfaf1549353aa95f00fa65d60a,,basepython = python3,,1,0
openstack%2Fopenstack-helm-infra~master~I8b982112955f4112e8107a7eae35680aa68c87ab,openstack/openstack-helm-infra,master,I8b982112955f4112e8107a7eae35680aa68c87ab,Gate: Tolerate failures in log collection tasks,MERGED,2018-10-04 17:17:25.000000000,2018-10-05 04:17:06.000000000,2018-10-05 04:17:05.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 17:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ce402881af5aa8bc0ce9876df13dc6bc7db245a', 'message': 'Gate: Tolerate failures in log collection tasks\n\nThis PS updates the gate tasks to tollerate failures in the post\nrun log collection tasks.\n\nChange-Id: I8b982112955f4112e8107a7eae35680aa68c87ab\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-10-05 01:44:03.000000000', 'files': ['roles/helm-release-status/tasks/main.yaml', 'roles/gather-prom-metrics/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16a6f7af8ff8033417f60bf161da8ff9ba461240', 'message': 'Gate: Tolerate failures in log collection tasks\n\nThis PS updates the gate tasks to tollerate failures in the post\nrun log collection tasks.\n\nChange-Id: I8b982112955f4112e8107a7eae35680aa68c87ab\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,608034,16a6f7af8ff8033417f60bf161da8ff9ba461240,11,3,2,23928,,,0,"Gate: Tolerate failures in log collection tasks

This PS updates the gate tasks to tollerate failures in the post
run log collection tasks.

Change-Id: I8b982112955f4112e8107a7eae35680aa68c87ab
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/608034/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/helm-release-status/tasks/main.yaml', 'roles/gather-prom-metrics/tasks/main.yaml']",2,9ce402881af5aa8bc0ce9876df13dc6bc7db245a,upsidedown-pete, ignore_errors: True ignore_errors: True,,3,0
openstack%2Fopenstack-helm~master~I95b4a4e6ed25c8a4fbd2e5925dc021eec1cb4326,openstack/openstack-helm,master,I95b4a4e6ed25c8a4fbd2e5925dc021eec1cb4326,Provision to support Only port 443 open for ingress controller,ABANDONED,2018-06-13 22:01:30.000000000,2018-10-05 03:59:38.000000000,,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 25907}]","[{'number': 1, 'created': '2018-06-13 22:01:30.000000000', 'files': ['ingress/templates/deployment-ingress.yaml', 'ingress/templates/ingress.yaml', 'ingress/templates/service-ingress.yaml', 'ingress/templates/bin/_ingress-controller.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/abf4d5d128402452d75fea8702b5bb59db41b2e5', 'message': 'Provision to support Only port 443 open for ingress controller\n\nUsers wants to facilitate ingress controller to allow traffic only on port 443.\nThis can be achieved by overriding port value in endpoints configuration to https only\n\nChange-Id: I95b4a4e6ed25c8a4fbd2e5925dc021eec1cb4326\nSigned-off-by: Hari Om Singh <hosingh000@gmail.com>\n'}]",0,575251,abf4d5d128402452d75fea8702b5bb59db41b2e5,3,7,1,24999,,,0,"Provision to support Only port 443 open for ingress controller

Users wants to facilitate ingress controller to allow traffic only on port 443.
This can be achieved by overriding port value in endpoints configuration to https only

Change-Id: I95b4a4e6ed25c8a4fbd2e5925dc021eec1cb4326
Signed-off-by: Hari Om Singh <hosingh000@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/51/575251/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/deployment-ingress.yaml', 'ingress/templates/ingress.yaml', 'ingress/templates/service-ingress.yaml', 'ingress/templates/bin/_ingress-controller.sh.tpl']",4,abf4d5d128402452d75fea8702b5bb59db41b2e5,, {{- if .Values.endpoints.ingress.port.http }} {{- end }} {{- if .Values.endpoints.ingress.port.https }} {{- end }},,21,1
openstack%2Frequirements~master~Ica250ddcedef49db03a9ee7429fb683f02465563,openstack/requirements,master,Ica250ddcedef49db03a9ee7429fb683f02465563,update constraint for oslotest to new release 3.7.0,MERGED,2018-10-03 09:50:19.000000000,2018-10-05 03:54:41.000000000,2018-10-05 03:54:41.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 09:50:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7a51bff41d22cc84d7f648ba76b2ce7fea87de1d', 'message': 'update constraint for oslotest to new release 3.7.0\n\nChange-Id: Ica250ddcedef49db03a9ee7429fb683f02465563\nmeta:version: 3.7.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: If2b9f5941008bf89a54fc479693bd0ca2c86b8a2\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,607520,7a51bff41d22cc84d7f648ba76b2ce7fea87de1d,15,3,1,11131,,,0,"update constraint for oslotest to new release 3.7.0

Change-Id: Ica250ddcedef49db03a9ee7429fb683f02465563
meta:version: 3.7.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: If2b9f5941008bf89a54fc479693bd0ca2c86b8a2
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/607520/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7a51bff41d22cc84d7f648ba76b2ce7fea87de1d,new-release,oslotest===3.7.0,oslotest===3.6.0,1,1
openstack%2Fcharm-gnocchi~master~If4764838c6eb9ebc547932545daf9b2f339feb15,openstack/charm-gnocchi,master,If4764838c6eb9ebc547932545daf9b2f339feb15,Update requirements,MERGED,2018-10-04 15:47:44.000000000,2018-10-05 03:48:55.000000000,2018-10-05 03:48:55.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/57c89c6f9dc9ba9027170ff33933eb1d88ca1451', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: If4764838c6eb9ebc547932545daf9b2f339feb15\n'}, {'number': 2, 'created': '2018-10-04 15:51:45.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/d702f8458c1b653b788130b39c824aeafe78bc2d', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: If4764838c6eb9ebc547932545daf9b2f339feb15\n'}]",0,608001,d702f8458c1b653b788130b39c824aeafe78bc2d,11,4,2,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: If4764838c6eb9ebc547932545daf9b2f339feb15
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/01/608001/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,57c89c6f9dc9ba9027170ff33933eb1d88ca1451,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4 coverage>=3.6 mock>=1.2 flake8>=2.2.4,<=2.4.1 os-testr>=0.4.1 requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7' aodhclient>=0.1.0python-barbicanclient>=4.0.1 python-ceilometerclient>=1.5.0 python-cinderclient>=1.4.0 python-designateclient>=1.5 python-glanceclient>=1.1.0 python-heatclient>=0.8.0 python-keystoneclient>=1.7.1 python-manilaclient>=1.8.1 python-neutronclient>=3.1.0 python-novaclient>=2.30.1 python-openstackclient>=1.7.0 python-swiftclient>=2.6.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# charm-proof charm-tools>=2.0.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0 python-keystoneclient>=1.7.1,<2.0 python-designateclient>=1.5,<2.0 python-cinderclient>=1.4.0,<2.0 python-glanceclient>=1.1.0,<2.0 python-heatclient>=0.8.0,<1.0 python-neutronclient>=3.1.0,<4.0 python-novaclient>=2.30.1,<3.0 python-openstackclient>=1.7.0,<2.0 python-swiftclient>=2.6.0,<3.0",47,20
openstack%2Fcharm-aodh~master~I8f777a7cd4ae0f1d722eb21723a07c4578e4a869,openstack/charm-aodh,master,I8f777a7cd4ae0f1d722eb21723a07c4578e4a869,Update requirements,MERGED,2018-10-04 15:47:01.000000000,2018-10-05 03:33:48.000000000,2018-10-05 03:33:48.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/f981f8add06070b03910aece182c6a9ed15c0d2c', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I8f777a7cd4ae0f1d722eb21723a07c4578e4a869\n'}, {'number': 2, 'created': '2018-10-04 15:51:26.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/134011971e6ea8ee4d2d0e76effeb22bd8a8d49f', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I8f777a7cd4ae0f1d722eb21723a07c4578e4a869\n'}]",0,607995,134011971e6ea8ee4d2d0e76effeb22bd8a8d49f,12,4,2,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I8f777a7cd4ae0f1d722eb21723a07c4578e4a869
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/95/607995/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,f981f8add06070b03910aece182c6a9ed15c0d2c,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0python-manilaclient>=1.8.1git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",32,16
openstack%2Fcharm-barbican-softhsm~master~I0778cade506b8c1cff49ca429ab24bfa27a8f019,openstack/charm-barbican-softhsm,master,I0778cade506b8c1cff49ca429ab24bfa27a8f019,Update requirements,MERGED,2018-10-04 15:47:17.000000000,2018-10-05 03:29:23.000000000,2018-10-05 03:29:23.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/b1dee37f7a6daa4161e9ffac0da0b4d50ea2de57', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I0778cade506b8c1cff49ca429ab24bfa27a8f019\n'}, {'number': 2, 'created': '2018-10-04 15:51:33.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/3c7a92d0b30340994d6b7b96f50ba8d4882eaa13', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I0778cade506b8c1cff49ca429ab24bfa27a8f019\n'}]",0,607997,3c7a92d0b30340994d6b7b96f50ba8d4882eaa13,11,4,2,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I0778cade506b8c1cff49ca429ab24bfa27a8f019
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/97/607997/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,b1dee37f7a6daa4161e9ffac0da0b4d50ea2de57,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0python-manilaclient>=1.8.1git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",32,14
openstack%2Fnova~master~I5f3a7c2c81bd908be30f7bcd9cda7e0ff5b48226,openstack/nova,master,I5f3a7c2c81bd908be30f7bcd9cda7e0ff5b48226,Placement: Remove usage of get_legacy_facade(),MERGED,2018-10-02 17:57:17.000000000,2018-10-05 03:26:49.000000000,2018-10-05 03:26:49.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-02 17:57:17.000000000', 'files': ['nova/api/openstack/placement/db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/394ce3e413093b9b891bf4cb11dbb0e562b43a93', 'message': 'Placement: Remove usage of get_legacy_facade()\n\nWarnings emitted to the python 3 unit tests:\n\n  OsloDBDeprecationWarning: EngineFacade is deprecated; please use\n  oslo_db.sqlalchemy.enginefacade\n\nstem from our use of the get_legacy_facade() oslo.db method.\n\nFollowing on from [1], this replaces the get_legacy_facade() usage with\nthe writer transaction context for the placement database. This is done\nin both openstack/placement and openstack/nova under the same Change-Id.\n\n[1] If1e355d6174f15a1880e97115a2cf3f9f4be837e\n\nChange-Id: I5f3a7c2c81bd908be30f7bcd9cda7e0ff5b48226\n'}]",0,607336,394ce3e413093b9b891bf4cb11dbb0e562b43a93,52,16,1,14070,,,0,"Placement: Remove usage of get_legacy_facade()

Warnings emitted to the python 3 unit tests:

  OsloDBDeprecationWarning: EngineFacade is deprecated; please use
  oslo_db.sqlalchemy.enginefacade

stem from our use of the get_legacy_facade() oslo.db method.

Following on from [1], this replaces the get_legacy_facade() usage with
the writer transaction context for the placement database. This is done
in both openstack/placement and openstack/nova under the same Change-Id.

[1] If1e355d6174f15a1880e97115a2cf3f9f4be837e

Change-Id: I5f3a7c2c81bd908be30f7bcd9cda7e0ff5b48226
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/607336/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/db_api.py'],1,394ce3e413093b9b891bf4cb11dbb0e562b43a93,remove-get_legacy_facade, return placement_context_manager.writer.get_engine(), return placement_context_manager.get_legacy_facade().get_engine(),1,1
openstack%2Fcharm-manila~master~I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48,openstack/charm-manila,master,I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48,Update requirements,MERGED,2018-10-04 15:48:00.000000000,2018-10-05 03:26:01.000000000,2018-10-05 03:26:01.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/1b1b453cc2d741f6fc0be46453bcc226fb6c0a82', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48\n'}, {'number': 2, 'created': '2018-10-04 15:51:52.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/69e79c31c3542669d478794e4fb0fee1db37672c', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48\n'}]",0,608004,69e79c31c3542669d478794e4fb0fee1db37672c,11,4,2,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I06bacbfb0f37e4981f0935a47c8e2f33e4e20e48
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/04/608004/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,1b1b453cc2d741f6fc0be46453bcc226fb6c0a82,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",31,14
openstack%2Fcharm-barbican~master~I0f6d9122a10e1b73073830e48c920e4001f0d356,openstack/charm-barbican,master,I0f6d9122a10e1b73073830e48c920e4001f0d356,Update requirements,MERGED,2018-10-04 15:47:11.000000000,2018-10-05 03:26:00.000000000,2018-10-05 03:26:00.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/f464d1d841439eadbb385c0706d6713f4fbdb2ac', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I0f6d9122a10e1b73073830e48c920e4001f0d356\n'}, {'number': 2, 'created': '2018-10-04 15:51:30.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/f12029cccdb575c904342d6b50a1e8e694176251', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I0f6d9122a10e1b73073830e48c920e4001f0d356\n'}]",0,607996,f12029cccdb575c904342d6b50a1e8e694176251,11,4,2,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I0f6d9122a10e1b73073830e48c920e4001f0d356
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/96/607996/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,f464d1d841439eadbb385c0706d6713f4fbdb2ac,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0python-manilaclient>=1.8.1git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",32,14
openstack%2Fkolla-ansible~stable%2Frocky~I017b44352a33884102fefbacdde0fddc7f0282e3,openstack/kolla-ansible,stable/rocky,I017b44352a33884102fefbacdde0fddc7f0282e3,Add become for Cinder configuration tasks,MERGED,2018-10-03 13:17:18.000000000,2018-10-05 03:25:59.000000000,2018-10-05 03:25:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23671}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-03 13:17:18.000000000', 'files': ['ansible/roles/cinder/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6de877f3a8498cac895085fffb295218f7fa450c', 'message': 'Add become for Cinder configuration tasks\n\nThis is required to support execution as a non-root user.\n\nChange-Id: I017b44352a33884102fefbacdde0fddc7f0282e3\nCloses-Bug: #1795125\n(cherry picked from commit 12e644f4f453b7853bc68c147734158406bdce62)\n'}]",0,607562,6de877f3a8498cac895085fffb295218f7fa450c,10,5,1,14826,,,0,"Add become for Cinder configuration tasks

This is required to support execution as a non-root user.

Change-Id: I017b44352a33884102fefbacdde0fddc7f0282e3
Closes-Bug: #1795125
(cherry picked from commit 12e644f4f453b7853bc68c147734158406bdce62)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/607562/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/tasks/config.yml'],1,6de877f3a8498cac895085fffb295218f7fa450c,bug/1795125-stable/rocky, become: true become: true become: true,,3,0
openstack%2Fkolla-ansible~stable%2Fqueens~I017b44352a33884102fefbacdde0fddc7f0282e3,openstack/kolla-ansible,stable/queens,I017b44352a33884102fefbacdde0fddc7f0282e3,Add become for Cinder configuration tasks,MERGED,2018-10-03 13:18:53.000000000,2018-10-05 03:25:58.000000000,2018-10-05 03:25:58.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23671}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-03 13:18:53.000000000', 'files': ['ansible/roles/cinder/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/202c4826cd1d0b6c080ed5d2021767a63c3dd185', 'message': 'Add become for Cinder configuration tasks\n\nThis is required to support execution as a non-root user.\n\nChange-Id: I017b44352a33884102fefbacdde0fddc7f0282e3\nCloses-Bug: #1795125\n(cherry picked from commit 12e644f4f453b7853bc68c147734158406bdce62)\n'}]",0,607566,202c4826cd1d0b6c080ed5d2021767a63c3dd185,8,4,1,14826,,,0,"Add become for Cinder configuration tasks

This is required to support execution as a non-root user.

Change-Id: I017b44352a33884102fefbacdde0fddc7f0282e3
Closes-Bug: #1795125
(cherry picked from commit 12e644f4f453b7853bc68c147734158406bdce62)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/607566/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/tasks/config.yml'],1,202c4826cd1d0b6c080ed5d2021767a63c3dd185,bug/1795125-stable/queens, become: true become: true become: true,,3,0
openstack%2Fkolla-ansible~stable%2Fqueens~I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,openstack/kolla-ansible,stable/queens,I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,Fix non-root reconfiguration with ceph enabled,MERGED,2018-10-03 13:18:34.000000000,2018-10-05 03:25:58.000000000,2018-10-05 03:25:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23671}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-03 13:18:34.000000000', 'files': ['ansible/roles/manila/tasks/external_ceph.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/nova/tasks/external_ceph.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/nova/tasks/ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8772e19a37e6122f51b397e59033d76cdf468f2', 'message': ""Fix non-root reconfiguration with ceph enabled\n\nVarious ceph-related tasks were missing a 'become' that would allow them\nto work as a non-root user. This seems to only cause a problem after an\ninitial deployment, perhaps due to the recursive ownership & permissions\nchanges at the end of the ceph.yml and external_ceph.yml files.\n\nThis change adds the necessary becomes.\n\nChange-Id: I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af\nCloses-Bug: #1795125\n(cherry picked from commit b50917fe2c1d3d45cde79ddaf3afa0c29154db0f)\n""}]",0,607565,f8772e19a37e6122f51b397e59033d76cdf468f2,12,5,1,14826,,,0,"Fix non-root reconfiguration with ceph enabled

Various ceph-related tasks were missing a 'become' that would allow them
to work as a non-root user. This seems to only cause a problem after an
initial deployment, perhaps due to the recursive ownership & permissions
changes at the end of the ceph.yml and external_ceph.yml files.

This change adds the necessary becomes.

Change-Id: I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af
Closes-Bug: #1795125
(cherry picked from commit b50917fe2c1d3d45cde79ddaf3afa0c29154db0f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/607565/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/tasks/external_ceph.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/nova/tasks/external_ceph.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/nova/tasks/ceph.yml']",8,f8772e19a37e6122f51b397e59033d76cdf468f2,bug/1795125-stable/queens, become: true become: true become: true become: true become: true,,24,1
openstack%2Fkolla-ansible~stable%2Frocky~I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,openstack/kolla-ansible,stable/rocky,I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af,Fix non-root reconfiguration with ceph enabled,MERGED,2018-10-03 13:17:45.000000000,2018-10-05 03:25:57.000000000,2018-10-05 03:25:57.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-03 13:17:45.000000000', 'files': ['ansible/roles/manila/tasks/external_ceph.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/nova/tasks/external_ceph.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/nova/tasks/ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00996b658a9078d1add396cb195bb0b3dd067d99', 'message': ""Fix non-root reconfiguration with ceph enabled\n\nVarious ceph-related tasks were missing a 'become' that would allow them\nto work as a non-root user. This seems to only cause a problem after an\ninitial deployment, perhaps due to the recursive ownership & permissions\nchanges at the end of the ceph.yml and external_ceph.yml files.\n\nThis change adds the necessary becomes.\n\nChange-Id: I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af\nCloses-Bug: #1795125\n(cherry picked from commit b50917fe2c1d3d45cde79ddaf3afa0c29154db0f)\n""}]",0,607563,00996b658a9078d1add396cb195bb0b3dd067d99,7,3,1,14826,,,0,"Fix non-root reconfiguration with ceph enabled

Various ceph-related tasks were missing a 'become' that would allow them
to work as a non-root user. This seems to only cause a problem after an
initial deployment, perhaps due to the recursive ownership & permissions
changes at the end of the ceph.yml and external_ceph.yml files.

This change adds the necessary becomes.

Change-Id: I887c7b3bdef49db1dd1bf9e5bdbf5dc47b7f41af
Closes-Bug: #1795125
(cherry picked from commit b50917fe2c1d3d45cde79ddaf3afa0c29154db0f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/607563/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/tasks/external_ceph.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/nova/tasks/external_ceph.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/nova/tasks/ceph.yml']",8,00996b658a9078d1add396cb195bb0b3dd067d99,bug/1795125-stable/rocky, become: true become: true become: true become: true become: true,,24,1
openstack%2Fcharm-designate~master~I5926a6f63e6308a75771ac6319abd576f453d20a,openstack/charm-designate,master,I5926a6f63e6308a75771ac6319abd576f453d20a,Update requirements,MERGED,2018-10-04 15:47:31.000000000,2018-10-05 03:24:39.000000000,2018-10-05 03:24:39.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/a13406548980038062f66b5a94c90c5d2048f895', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I5926a6f63e6308a75771ac6319abd576f453d20a\n'}, {'number': 2, 'created': '2018-10-04 15:51:39.000000000', 'files': ['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/0ba69ef3e1458c38628561dd545e33d5152a72f0', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I5926a6f63e6308a75771ac6319abd576f453d20a\n'}]",0,607999,0ba69ef3e1458c38628561dd545e33d5152a72f0,11,4,2,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I5926a6f63e6308a75771ac6319abd576f453d20a
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/99/607999/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,a13406548980038062f66b5a94c90c5d2048f895,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",31,18
openstack%2Fnova~master~I2c84e118a285d5e8d5165752e642d9aff9eeca3a,openstack/nova,master,I2c84e118a285d5e8d5165752e642d9aff9eeca3a,Fix logging parameter in _populate_pci_mac_address,MERGED,2018-10-03 16:12:10.000000000,2018-10-05 03:22:05.000000000,2018-10-05 00:22:47.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-03 16:12:10.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/40e56b2b566d42ca68ea8f60e80d830599325f12', 'message': 'Fix logging parameter in _populate_pci_mac_address\n\nThe code was erroneously logging a module import, not\nthe pci_request_id variable. This fixes the code and\nadds an assertion to the related test.\n\nChange-Id: I2c84e118a285d5e8d5165752e642d9aff9eeca3a\n'}]",0,607628,40e56b2b566d42ca68ea8f60e80d830599325f12,34,17,1,6873,,,0,"Fix logging parameter in _populate_pci_mac_address

The code was erroneously logging a module import, not
the pci_request_id variable. This fixes the code and
adds an assertion to the related test.

Change-Id: I2c84e118a285d5e8d5165752e642d9aff9eeca3a
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/607628/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,40e56b2b566d42ca68ea8f60e80d830599325f12,bug/1795064," @mock.patch('nova.network.neutronv2.api.LOG.error') def test_populate_pci_mac_address_no_device(self, mock_log_error, self.assertEqual(42, mock_log_error.call_args[0][1])"," def test_populate_pci_mac_address_no_device(self,",4,2
openstack%2Fopenstack-helm~master~I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071,openstack/openstack-helm,master,I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071,Specification: Value File Ordering,MERGED,2018-03-13 11:52:55.000000000,2018-10-05 03:13:37.000000000,2018-10-05 03:13:37.000000000,"[{'_account_id': 1091}, {'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28701}]","[{'number': 1, 'created': '2018-03-13 11:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8ba7c7bd7e7d6a7dfe6d63c58e0bb16981ad6bd', 'message': '(WIP) Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 2, 'created': '2018-03-13 11:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca63333b1dc7fa14ee0d2b468b3b41c5b87392cf', 'message': '(WIP) Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 3, 'created': '2018-03-14 03:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e795394b6c99fdcda6f0ddf805ee0d87637a0cb0', 'message': '(WIP) Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 4, 'created': '2018-03-14 04:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/997c36da86e0e148da474db82e1c326e9db71364', 'message': '(WIP) Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 5, 'created': '2018-09-04 18:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/287ff21ae62f865b21a4fe2893f5f0817775a4af', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 6, 'created': '2018-09-04 18:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81c63014144e7764bbe5537f2bb7fd43e874b82e', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 7, 'created': '2018-09-04 19:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/21e4a84232ed7c7463cadefa51aa85f3f54cc3b8', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 8, 'created': '2018-09-04 20:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8cf6d38e566094507c304b7ccfaa450482d0ad3f', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nStory: 2002206\nTask: 21742\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 9, 'created': '2018-09-04 20:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f18e8cc25588a529aa79531c87bd2c625a333e73', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nStory: 2002206\nTask: 21742\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 10, 'created': '2018-09-17 15:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f4ffcc14c7bb86e79a493cc9cd35a08692a1de7a', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nStory: 2002206\nTask: 21742\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 11, 'created': '2018-09-17 20:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29b426d62f757b087d494f4c86138f05e00fa8b1', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nStory: 2002206\nTask: 21742\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}, {'number': 12, 'created': '2018-10-05 02:59:37.000000000', 'files': ['doc/source/specs/values-ordering.rst', 'doc/source/specs/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/72172aae5abab14a04e1c91105e32384f8fdcba5', 'message': 'Specification: Value File Ordering\n\nThis specification proposes a value file ordering guideline\nto enforce uniformity across all the charts in openstack-helm\nproject.\n\nStory: 2002206\nTask: 21742\n\nChange-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071\n'}]",8,552485,72172aae5abab14a04e1c91105e32384f8fdcba5,38,11,12,25764,,,0,"Specification: Value File Ordering

This specification proposes a value file ordering guideline
to enforce uniformity across all the charts in openstack-helm
project.

Story: 2002206
Task: 21742

Change-Id: I55691f4fb1c1e6aa5b430f5c287fd3f94e12f071
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/552485/10 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/value-file-ordering.rst'],1,f8ba7c7bd7e7d6a7dfe6d63c58e0bb16981ad6bd,spec/values-ordering,"============= Value File Ordering ============= Blueprint: TODO Problem Description =================== Each chart's values.yaml file contains various settings such as docker image definition, chart structure setting, form of the resources being distributed, and process configuration. Currently, the structure of the yaml file is complicated, and it is difficult to find keys due to lack of uniformity across charts. With increasing number of charts being developed in openstack-helm project, it is now required to have a standard and uniformed way to write values.yaml file. This specification proposes a guideline to enforce uniformity across all the charts in openstack-helm project. Proposed Change =============== This specification proposes to define an order values.yaml file into two categories: top-level-keys and low-level-keys. * The top-level keys are based on the keys common to all charts of openstack-helm project. * Keys that do not belong to the top-level-keys (low-level-keys) are listed in alphabetical order, and placed next to the top-level key list. (eg, network, release_group, ceph...) * The keys under top-level-keys are in alphabetical order except conf. * The keys under conf key does not apply the alphabetical order to keep a preferred sequence per chart. top-level-keys: fixed order keys placed on the top of values.yaml file. * images * sub-keys (alphabetical order) * labels * sub-keys (alphabetical order) * manifests * sub-keys (alphabetical order) * pod * sub-keys (alphabetical order) * dependencies * sub-keys (alphabetical order) * endpoints * sub-keys (alphabetical order) * conf * sub-keys (up-to-chart-developer) low-level-keys: miscellaneous keys placed on the bottom of values.yaml file. * alphabetical order * sub-keys (alphabetical order) Security Impact --------------- No security impact. Performance Impact ------------------ This feature will not affect the performance of OpenStack-Helm. Alternatives ------------ TODO Implementation ============== Assignee(s) ----------- Primary assignee: powerds0111 (DaeSeong Kim <daeseong.kim@sk.com>) Work Items ---------- The following work items need to be completed for this Specification to be implemented. * Update of Developer Documentation * Add a template value file * Change ordering of keys in all charts Testing ======= No need to test Documentation Impact ==================== The developer documentation in OpenStack-Helm should be updated to guide key ordering on value files. ",,101,0
openstack%2Fmanila~master~Ibd486c8418469045a0988ef66a1c5cef810d3eae,openstack/manila,master,Ibd486c8418469045a0988ef66a1c5cef810d3eae,Adds export path option to Quobyte driver,MERGED,2018-05-25 10:39:03.000000000,2018-10-05 02:58:03.000000000,2018-10-05 02:10:25.000000000,"[{'_account_id': 8871}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-05-25 10:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/32f4bc23d0a6cdb690d3de84201307863d74dff3', 'message': ""Adds export path option to Quobyte driver\n\nA new option for configuring the export path of\nshares provided by the Quobyte driver is added.\nThis allows adapting the export path to the settings\nof the Quobyte NFS servers 'Pseudo' option.\n\nChange-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae\nImplements: blueprint qb-export-path-option\n""}, {'number': 2, 'created': '2018-05-28 07:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fabb9fc55c34231d8ed101fb4d33fc7745ea4d6c', 'message': ""Adds export path option to Quobyte driver\n\nA new option for configuring the export path of\nshares provided by the Quobyte driver is added.\nThis allows adapting the export path to the settings\nof the Quobyte NFS servers 'Pseudo' option.\n\nChange-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae\nImplements: blueprint qb-export-path-option\n""}, {'number': 3, 'created': '2018-05-29 08:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f31c7edda745a843116b581a17576480069d3736', 'message': ""Adds export path option to Quobyte driver\n\nA new option for configuring the export path of\nshares provided by the Quobyte driver is added.\nThis allows adapting the export path to the settings\nof the Quobyte NFS servers 'Pseudo' option.\n\nBesides the new option this also fixes a minor\ncoding style issue regarding a mutable default\nargument in jsonrpc.py.\n\nImplements: blueprint qb-export-path-option\nCloses-Bug: #1773929\n\nChange-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae\n""}, {'number': 4, 'created': '2018-06-29 07:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3ad0a6de337eae91a361fb9fb0a24415c6bc855f', 'message': ""Adds export path option to Quobyte driver\n\nA new option for configuring the export path of\nshares provided by the Quobyte driver is added.\nThis allows adapting the export path to the settings\nof the Quobyte NFS servers 'Pseudo' option.\n\nBesides the new option this also fixes a minor\ncoding style issue regarding a mutable default\nargument in jsonrpc.py.\n\nImplements: blueprint qb-export-path-option\nCloses-Bug: #1773929\n\nChange-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae\n""}, {'number': 5, 'created': '2018-07-26 14:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/417d0cd6f625e44b8bba56b6affd69f05d0d27be', 'message': ""Adds export path option to Quobyte driver\n\nA new option for configuring the export path of\nshares provided by the Quobyte driver is added.\nThis allows adapting the export path to the settings\nof the Quobyte NFS servers 'Pseudo' option.\n\nBesides the new option this also fixes a minor\ncoding style issue regarding a mutable default\nargument in jsonrpc.py.\n\nImplements: blueprint qb-export-path-option\nCloses-Bug: #1773929\n\nChange-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae\n""}, {'number': 6, 'created': '2018-08-14 13:35:11.000000000', 'files': ['releasenotes/notes/bug-1773929-a5cb52c8417ec5fc.yaml', 'manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/share/drivers/quobyte/quobyte.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/bbf8864fe16aaee1e19d3fb8759188d188667037', 'message': ""Adds export path option to Quobyte driver\n\nA new option for configuring the export path of\nshares provided by the Quobyte driver is added.\nThis allows adapting the export path to the settings\nof the Quobyte NFS servers 'Pseudo' option.\n\nBesides the new option this also fixes a minor\ncoding style issue regarding a mutable default\nargument in jsonrpc.py.\n\nImplements: blueprint qb-export-path-option\nCloses-Bug: #1773929\n\nChange-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae\n""}]",2,570556,bbf8864fe16aaee1e19d3fb8759188d188667037,82,14,6,13915,,,0,"Adds export path option to Quobyte driver

A new option for configuring the export path of
shares provided by the Quobyte driver is added.
This allows adapting the export path to the settings
of the Quobyte NFS servers 'Pseudo' option.

Besides the new option this also fixes a minor
coding style issue regarding a mutable default
argument in jsonrpc.py.

Implements: blueprint qb-export-path-option
Closes-Bug: #1773929

Change-Id: Ibd486c8418469045a0988ef66a1c5cef810d3eae
",git fetch https://review.opendev.org/openstack/manila refs/changes/56/570556/6 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/share/drivers/quobyte/quobyte.py']",2,32f4bc23d0a6cdb690d3de84201307863d74dff3,bug/1773929," cfg.StrOpt('quobyte_export_path', default='/quobyte', help='Export path for shares of this bacckend. This needs' 'to match the quobyte-nfs services ""Pseudo"" option.'), 1.2.5 - Add quobyte_export_path option return self._build_share_export_string(result) return self._build_share_export_string(result) def _build_share_export_string(self, rpc_result): return '%(nfs_server_ip)s:%(qb_exp_path)s%(nfs_export_path)s' % { ""nfs_server_ip"": rpc_result[""nfs_server_ip""], ""qb_exp_path"": self.configuration.quobyte_export_path, ""nfs_export_path"": rpc_result[""nfs_export_path""]} ", return '%(nfs_server_ip)s:%(nfs_export_path)s' % result return '%(nfs_server_ip)s:%(nfs_export_path)s' % result,18,4
openstack%2Ftripleo-quickstart-extras~master~I70e43833905cf9dfcf107a7b4152cdd68586f690,openstack/tripleo-quickstart-extras,master,I70e43833905cf9dfcf107a7b4152cdd68586f690,remove names from tempest mail,MERGED,2018-10-04 18:24:42.000000000,2018-10-05 02:33:20.000000000,2018-10-05 02:33:20.000000000,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-04 18:24:42.000000000', 'files': ['roles/validate-tempest/files/tempestmail/config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e644ad63cc74ab1d9f9eb4a63aa00ed5653f121f', 'message': 'remove names from tempest mail\n\nThis patch removes myoung and whayutin\nfrom tempest email notifications\n\nChange-Id: I70e43833905cf9dfcf107a7b4152cdd68586f690\n'}]",0,608049,e644ad63cc74ab1d9f9eb4a63aa00ed5653f121f,8,4,1,9592,,,0,"remove names from tempest mail

This patch removes myoung and whayutin
from tempest email notifications

Change-Id: I70e43833905cf9dfcf107a7b4152cdd68586f690
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/49/608049/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/files/tempestmail/config.yaml'],1,e644ad63cc74ab1d9f9eb4a63aa00ed5653f121f,,, - mail: 'whayutin@redhat.com' name: 'Wes' fail_only: True - mail: 'myoung@redhat.com' name: 'Matt Young' fail_only: True,0,6
openstack%2Fglance~stable%2Fqueens~I966688e67475e00a1eeb0cbe1632d5c811e41e4f,openstack/glance,stable/queens,I966688e67475e00a1eeb0cbe1632d5c811e41e4f,Update status to active when locations replaced,ABANDONED,2018-08-30 17:52:12.000000000,2018-10-05 02:08:17.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 27882}]","[{'number': 1, 'created': '2018-08-30 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4b2bea7ca3a9fa6e2bfe7986a9dddad4d2e4441e', 'message': ""Update status to active when locations replaced\n\nImage status should be changed from 'queued' to 'active' when\n'locations' has been successfully replaced.\n\nChange-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f\nCloses-Bug: 1750892\n(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)\n""}, {'number': 2, 'created': '2018-08-31 06:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/88e3004ddc1d980c368fa9a3797ce8610454a75f', 'message': ""Update status to active when locations replaced\n\nImage status should be changed from 'queued' to 'active' when\n'locations' has been successfully replaced.\n\nChange-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f\nCloses-Bug: 1750892\n(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)\n""}, {'number': 3, 'created': '2018-08-31 07:05:13.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4ccc1bb68b69f3389e6974c025a2e3b78f550791', 'message': ""Update status to active when locations replaced\n\nImage status should be changed from 'queued' to 'active' when\n'locations' has been successfully replaced.\n\nUnit test mocking adjusted for Queens.\n\nChange-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f\nCloses-Bug: 1750892\n(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)\n""}]",0,598253,4ccc1bb68b69f3389e6974c025a2e3b78f550791,11,5,3,23561,,,0,"Update status to active when locations replaced

Image status should be changed from 'queued' to 'active' when
'locations' has been successfully replaced.

Unit test mocking adjusted for Queens.

Change-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f
Closes-Bug: 1750892
(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)
",git fetch https://review.opendev.org/openstack/glance refs/changes/53/598253/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,4b2bea7ca3a9fa6e2bfe7986a9dddad4d2e4441e,bug/1750892," @mock.patch.object(glance.quota, '_calc_required_size') @mock.patch.object(glance.location, '_check_image_location') @mock.patch.object(glance.location.ImageRepoProxy, '_set_acls') @mock.patch.object(store, 'get_size_from_uri_and_backend') @mock.patch.object(store, 'get_size_from_backend') def test_replace_location_on_queued(self, mock_get_size, mock_get_size_uri, mock_set_acls, mock_check_loc, mock_calc): mock_calc.return_value = 1 mock_get_size.return_value = 1 mock_get_size_uri.return_value = 1 self.assertEqual('active', output.status) @mock.patch.object(glance.quota, '_calc_required_size') @mock.patch.object(glance.location, '_check_image_location') @mock.patch.object(glance.location.ImageRepoProxy, '_set_acls') @mock.patch.object(store, 'get_size_from_uri_and_backend') @mock.patch.object(store, 'get_size_from_backend') def test_add_location_on_queued(self, mock_get_size, mock_get_size_uri, mock_set_acls, mock_check_loc, mock_calc): mock_calc.return_value = 1 mock_get_size.return_value = 1 mock_get_size_uri.return_value = 1 self.assertEqual('active', output.status)"," def test_replace_location_possible_on_queued(self): self.skipTest('This test is intermittently failing at the gate. ' 'See bug #1649300') is_public=True, def test_add_location_possible_on_queued(self): self.skipTest('This test is intermittently failing at the gate. ' 'See bug #1649300') is_public=True,",32,8
openstack%2Fglance~stable%2Frocky~I966688e67475e00a1eeb0cbe1632d5c811e41e4f,openstack/glance,stable/rocky,I966688e67475e00a1eeb0cbe1632d5c811e41e4f,Update status to active when locations replaced,ABANDONED,2018-08-30 15:22:33.000000000,2018-10-05 02:08:04.000000000,,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 27190}, {'_account_id': 27882}, {'_account_id': 28885}]","[{'number': 1, 'created': '2018-08-30 15:22:33.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/680d5b35e7b4d40b6be35cb3a32544eb902441b7', 'message': ""Update status to active when locations replaced\n\nImage status should be changed from 'queued' to 'active' when\n'locations' has been successfully replaced.\n\nChange-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f\nCloses-Bug: 1750892\n(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)\n""}]",3,598204,680d5b35e7b4d40b6be35cb3a32544eb902441b7,10,8,1,23561,,,0,"Update status to active when locations replaced

Image status should be changed from 'queued' to 'active' when
'locations' has been successfully replaced.

Change-Id: I966688e67475e00a1eeb0cbe1632d5c811e41e4f
Closes-Bug: 1750892
(cherry picked from commit e2c54d58b33c7350c78629cc7726b5fa4509637b)
",git fetch https://review.opendev.org/openstack/glance refs/changes/04/598204/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,680d5b35e7b4d40b6be35cb3a32544eb902441b7,bug/1750892-stable/rocky," @mock.patch.object(glance.quota, '_calc_required_size') @mock.patch.object(glance.location, '_check_image_location') @mock.patch.object(glance.location.ImageRepoProxy, '_set_acls') @mock.patch.object(store, 'get_size_from_uri_and_backend') @mock.patch.object(store, 'get_size_from_backend') def test_replace_location_on_queued(self, mock_get_size, mock_get_size_uri, mock_set_acls, mock_check_loc, mock_calc): mock_calc.return_value = 1 mock_get_size.return_value = 1 mock_get_size_uri.return_value = 1 self.assertEqual('active', output.status) @mock.patch.object(glance.quota, '_calc_required_size') @mock.patch.object(glance.location, '_check_image_location') @mock.patch.object(glance.location.ImageRepoProxy, '_set_acls') @mock.patch.object(store, 'get_size_from_uri_and_backend') @mock.patch.object(store, 'get_size_from_backend') def test_add_location_on_queued(self, mock_get_size, mock_get_size_uri, mock_set_acls, mock_check_loc, mock_calc): mock_calc.return_value = 1 mock_get_size.return_value = 1 mock_get_size_uri.return_value = 1 self.assertEqual('active', output.status)"," def test_replace_location_possible_on_queued(self): self.skipTest('This test is intermittently failing at the gate. ' 'See bug #1649300') is_public=True, def test_add_location_possible_on_queued(self): self.skipTest('This test is intermittently failing at the gate. ' 'See bug #1649300') is_public=True,",32,8
openstack%2Fkolla-ansible~master~Ic2269d8e85cd38c41d4572c2ab51578a71602e8b,openstack/kolla-ansible,master,Ic2269d8e85cd38c41d4572c2ab51578a71602e8b,Optimize reconfiguration for bifrost,ABANDONED,2017-01-23 13:45:41.000000000,2018-10-05 02:04:27.000000000,,"[{'_account_id': 10787}, {'_account_id': 16233}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-01-23 13:45:41.000000000', 'files': ['ansible/roles/bifrost/tasks/upgrade.yml', 'ansible/roles/bifrost/tasks/config.yml', 'ansible/roles/bifrost/tasks/start.yml', 'ansible/roles/bifrost/tasks/deploy.yml', 'ansible/roles/bifrost/tasks/reconfigure.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/bifrost/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c55866bd5313cdf78088580bc411314fc947d66', 'message': 'Optimize reconfiguration for bifrost\n\nChange-Id: Ic2269d8e85cd38c41d4572c2ab51578a71602e8b\nPartially-implements: blueprint better-reconfigure\n'}]",4,424117,1c55866bd5313cdf78088580bc411314fc947d66,10,3,1,16233,,,0,"Optimize reconfiguration for bifrost

Change-Id: Ic2269d8e85cd38c41d4572c2ab51578a71602e8b
Partially-implements: blueprint better-reconfigure
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/424117/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/tasks/upgrade.yml', 'ansible/roles/bifrost/tasks/config.yml', 'ansible/roles/bifrost/tasks/start.yml', 'ansible/roles/bifrost/tasks/deploy.yml', 'ansible/roles/bifrost/tasks/reconfigure.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/bifrost/handlers/main.yml']",7,1c55866bd5313cdf78088580bc411314fc947d66,bp/better-reconfigure,"--- - name: Restart bifrost container vars: service_name: ""bifrost"" service: ""{{ bifrost_services[service_name] }}"" config_json: ""{{ bifrost_config_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" bifrost_conf: ""{{ bifrost_confs.results|selectattr('item.key', 'equalto', service_name)|first }}"" policy_json: ""{{ bifrost_policy_jsons.results|selectattr('item.key', 'equalto', service_name)|first }}"" bifrost_deploy_container: ""{{ check_bifrost_containers.results|selectattr('item.key', 'equalto', service_name)|first }}"" kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" when: - inventory_hostname in groups[service.group] - service.enabled | bool - config_json.changed | bool or bifrost_conf.changed | bool or policy_json.changed | bool or bifrost_deploy_container.changed | bool ",,43,81
openstack%2Fcyborg-specs~master~Ia1a9efe652e4f22233ff0f775830ec618d860282,openstack/cyborg-specs,master,Ia1a9efe652e4f22233ff0f775830ec618d860282,Update index with Stein specs.,MERGED,2018-10-04 22:13:15.000000000,2018-10-05 02:00:42.000000000,2018-10-05 02:00:42.000000000,"[{'_account_id': 22348}, {'_account_id': 27458}]","[{'number': 1, 'created': '2018-10-04 22:13:15.000000000', 'files': ['specs/index.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/02799040fae3a39166ef6052ac289364b04f6686', 'message': 'Update index with Stein specs.\n\nChange-Id: Ia1a9efe652e4f22233ff0f775830ec618d860282\n'}]",0,608095,02799040fae3a39166ef6052ac289364b04f6686,6,2,1,21672,,,0,"Update index with Stein specs.

Change-Id: Ia1a9efe652e4f22233ff0f775830ec618d860282
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/95/608095/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/index.rst'],1,02799040fae3a39166ef6052ac289364b04f6686,specs/index-update,Stein ----- This section has a list of specs for the Stein release. .. toctree:: :maxdepth: 1 :glob: stein/approved/* ,,10,0
openstack%2Fpuppet-horizon~master~I8e16c0feef9fe51075d9a6e8a98188c52962a6eb,openstack/puppet-horizon,master,I8e16c0feef9fe51075d9a6e8a98188c52962a6eb,Remove simple_ip_management,MERGED,2018-09-24 09:33:42.000000000,2018-10-05 01:20:24.000000000,2018-10-05 01:20:24.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-24 09:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/b22c2fd66a5b85a4677fdfeafcf2c363a297bf61', 'message': 'Remove simple_ip_management\n\nThe simple_ip_management option was removed in Rocky [1]\nso we remove it for Stein.\n\n[1] https://docs.openstack.org/releasenotes/horizon/rocky.html\n\nChange-Id: I8e16c0feef9fe51075d9a6e8a98188c52962a6eb\n'}, {'number': 2, 'created': '2018-09-24 11:13:31.000000000', 'files': ['releasenotes/notes/remove-sim-50f5d779a67d489d.yaml', 'templates/local_settings.py.erb', 'manifests/init.pp', 'spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/513dd2d2eb54fbff22929552bac0bdcb67cc3a1f', 'message': 'Remove simple_ip_management\n\nThe simple_ip_management option was removed in Rocky [1]\nso we remove it for Stein.\n\n[1] https://docs.openstack.org/releasenotes/horizon/rocky.html\n\nChange-Id: I8e16c0feef9fe51075d9a6e8a98188c52962a6eb\n'}]",0,604710,513dd2d2eb54fbff22929552bac0bdcb67cc3a1f,17,4,2,16137,,,0,"Remove simple_ip_management

The simple_ip_management option was removed in Rocky [1]
so we remove it for Stein.

[1] https://docs.openstack.org/releasenotes/horizon/rocky.html

Change-Id: I8e16c0feef9fe51075d9a6e8a98188c52962a6eb
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/10/604710/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-sim-50f5d779a67d489d.yaml', 'templates/local_settings.py.erb', 'manifests/init.pp', 'spec/classes/horizon_init_spec.rb']",4,b22c2fd66a5b85a4677fdfeafcf2c363a297bf61,,," :simple_ip_management => true, 'HORIZON_CONFIG[""simple_ip_management""] = True',",4,10
openstack%2Ftripleo-common~stable%2Fpike~I14f0f778d21b0d2a27d6e02468dac2cc1c8f25f7,openstack/tripleo-common,stable/pike,I14f0f778d21b0d2a27d6e02468dac2cc1c8f25f7,Disable external plugins in rabbitmq container,MERGED,2018-09-09 13:51:24.000000000,2018-10-05 01:09:16.000000000,2018-10-05 01:09:16.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-09 13:51:24.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aad412a06869df35398c031206a323bb5ccd999d', 'message': 'Disable external plugins in rabbitmq container\n\nWe are doing this in the rabbit kolla container in tripleo:\n{% block rabbitmq_install_plugins %}\n\nRUN rm -rf /var/lib/rabbitmq/* \\\n    && ln -s /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.* /usr/lib/rabbitmq/lib/rabbitmq_server-3.6 \\\n    && curl -o /usr/lib/rabbitmq/lib/rabbitmq_server-3.6/plugins/rabbitmq_clusterer-3.6.x-667f92b0.ez http://www.rabbitmq.com/community-plugins/v3.6.x/rabbitmq_clusterer-3.6.x-667f92b0.ez \\\n    && /usr/lib/rabbitmq/bin/rabbitmq-plugins enable --offline \\\n       rabbitmq_management \\\n       rabbitmq_clusterer\n\n{% endblock %}\n\nWe should disable this as:\na) this is unwanted\nb) we want to use only plugins shipped with rpm\nc) we do not use those two plugins anyway\n\nWe do this by simply overriding the ""rabbitmq_install_plugins"" to a\ncomment.\n\nNB: Cherry-pick not 100% clean\n\nChange-Id: I14f0f778d21b0d2a27d6e02468dac2cc1c8f25f7\nCloses-Bug: #1791077\n(cherry picked from commit 699d5002ccf43f8f20594116b9e5e0ea3b2d6d18)\n'}]",0,601077,aad412a06869df35398c031206a323bb5ccd999d,15,5,1,20172,,,0,"Disable external plugins in rabbitmq container

We are doing this in the rabbit kolla container in tripleo:
{% block rabbitmq_install_plugins %}

RUN rm -rf /var/lib/rabbitmq/* \
    && ln -s /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.* /usr/lib/rabbitmq/lib/rabbitmq_server-3.6 \
    && curl -o /usr/lib/rabbitmq/lib/rabbitmq_server-3.6/plugins/rabbitmq_clusterer-3.6.x-667f92b0.ez http://www.rabbitmq.com/community-plugins/v3.6.x/rabbitmq_clusterer-3.6.x-667f92b0.ez \
    && /usr/lib/rabbitmq/bin/rabbitmq-plugins enable --offline \
       rabbitmq_management \
       rabbitmq_clusterer

{% endblock %}

We should disable this as:
a) this is unwanted
b) we want to use only plugins shipped with rpm
c) we do not use those two plugins anyway

We do this by simply overriding the ""rabbitmq_install_plugins"" to a
comment.

NB: Cherry-pick not 100% clean

Change-Id: I14f0f778d21b0d2a27d6e02468dac2cc1c8f25f7
Closes-Bug: #1791077
(cherry picked from commit 699d5002ccf43f8f20594116b9e5e0ea3b2d6d18)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/601077/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,aad412a06869df35398c031206a323bb5ccd999d,bug/1791077, {% block rabbitmq_install_plugins %} # External rabbitmq plugins installation is disabled {% endblock %} ,,5,0
openstack%2Fsearchlight-ui~master~I42e91ac53324a5493be031bd5d52b48f6504f0e9,openstack/searchlight-ui,master,I42e91ac53324a5493be031bd5d52b48f6504f0e9,Correct project git urls,MERGED,2018-10-04 15:49:16.000000000,2018-10-05 00:56:44.000000000,2018-10-05 00:56:44.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-04 15:49:16.000000000', 'files': ['tools/gate/integration/pre_test_hook.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/0b2cf9c0a33ca49ad407d4221806b65395d17186', 'message': 'Correct project git urls\n\nChange-Id: I42e91ac53324a5493be031bd5d52b48f6504f0e9\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,608009,0b2cf9c0a33ca49ad407d4221806b65395d17186,6,2,1,27068,,,0,"Correct project git urls

Change-Id: I42e91ac53324a5493be031bd5d52b48f6504f0e9
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/09/608009/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/integration/pre_test_hook.sh', 'devstack/plugin.sh']",2,0b2cf9c0a33ca49ad407d4221806b65395d17186,,# enable_plugin searchlight-ui https://git.openstack.org/openstack/searchlight-ui,# enable_plugin searchlight-ui http://git.openstack.org/openstack/searchlight-ui,2,2
openstack%2Fsearchlight-ui~master~I4225d3efd0d1f3750dd75ba83b17202db1ac1190,openstack/searchlight-ui,master,I4225d3efd0d1f3750dd75ba83b17202db1ac1190,Add Searclight Policy README,MERGED,2018-10-04 14:43:10.000000000,2018-10-05 00:54:27.000000000,2018-10-05 00:54:26.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-10-04 14:43:10.000000000', 'files': ['searchlight_ui/conf/README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/723282732bf879d85b537349c6c1e9826bbce899', 'message': 'Add Searclight Policy README\n\nChange-Id: I4225d3efd0d1f3750dd75ba83b17202db1ac1190\nSigned-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>\n'}]",0,607976,723282732bf879d85b537349c6c1e9826bbce899,6,2,1,27068,,,0,"Add Searclight Policy README

Change-Id: I4225d3efd0d1f3750dd75ba83b17202db1ac1190
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/76/607976/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight_ui/conf/README.rst'],1,723282732bf879d85b537349c6c1e9826bbce899,,======================= Searchlight Policy File ======================= Enable Searchlight policy:: $ cp searchlight_ui/conf/searchlight_policy.json openstack-dashboard/openstack_dashboard/conf ,,7,0
openstack%2Fneutron~master~Ie3e051c43d68d09716fc0a4506ed111908730280,openstack/neutron,master,Ie3e051c43d68d09716fc0a4506ed111908730280,remove trailing comma for linter,MERGED,2018-10-01 20:36:07.000000000,2018-10-05 00:53:46.000000000,2018-10-05 00:53:45.000000000,"[{'_account_id': 1131}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-01 20:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f548f51c982e4bca0a4f63d6d77d9b263361bfc', 'message': ""remove trailing comma for linter\n\nThe linter sees the trailing comma after the function call as building\na tuple without wrapping it in parens. That doesn't seem to be the\nintent (it looks like a typo), so remove the comma.\n\nChange-Id: Ie3e051c43d68d09716fc0a4506ed111908730280\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2018-10-02 00:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7a3d12cedb4bfc75ff580a11e9001eb70017655', 'message': ""remove trailing comma for linter\n\nThe linter sees the trailing comma after the function call as building\na tuple without wrapping it in parens. That doesn't seem to be the\nintent (it looks like a typo), so remove the comma.\n\nChange-Id: Ie3e051c43d68d09716fc0a4506ed111908730280\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2018-10-02 00:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07ec5eef053cfe78f1f618c4fc2b91a1366170cc', 'message': ""remove trailing comma for linter\n\nThe linter sees the trailing comma after the function call as building\na tuple without wrapping it in parens. That doesn't seem to be the\nintent (it looks like a typo), so remove the comma.\n\nChange-Id: Ie3e051c43d68d09716fc0a4506ed111908730280\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 4, 'created': '2018-10-04 13:11:08.000000000', 'files': ['neutron/services/l3_router/service_providers/driver_controller.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebfed6090bfefac5242aa59d97655d95b097e138', 'message': ""remove trailing comma for linter\n\nThe linter sees the trailing comma after the function call as building\na tuple without wrapping it in parens. That doesn't seem to be the\nintent (it looks like a typo), so remove the comma.\n\nChange-Id: Ie3e051c43d68d09716fc0a4506ed111908730280\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,607045,ebfed6090bfefac5242aa59d97655d95b097e138,44,14,4,2472,,,0,"remove trailing comma for linter

The linter sees the trailing comma after the function call as building
a tuple without wrapping it in parens. That doesn't seem to be the
intent (it looks like a typo), so remove the comma.

Change-Id: Ie3e051c43d68d09716fc0a4506ed111908730280
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/607045/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/l3_router/service_providers/driver_controller.py'],1,1f548f51c982e4bca0a4f63d6d77d9b263361bfc,python3-first," trigger, payload=payload)"," trigger, payload=payload),",1,1
openstack%2Fopenstack-ansible-os_tempest~master~I99486c136d34cda038ea3c2d543df4081178ce60,openstack/openstack-ansible-os_tempest,master,I99486c136d34cda038ea3c2d543df4081178ce60,use include_tasks instead of include,MERGED,2018-07-24 11:14:59.000000000,2018-10-05 00:50:24.000000000,2018-09-08 17:58:19.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-24 11:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ee1664639d702fd33787dc6b6620d5d80643af94', 'message': 'Use include_tasks instead of include\n\nChange-Id: I99486c136d34cda038ea3c2d543df4081178ce60\n'}, {'number': 2, 'created': '2018-07-24 13:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4bb31d81ec5e33bde1b55083b5e7cde6bba1091a', 'message': 'use include_tasks instead of include\n\nChange-Id: I99486c136d34cda038ea3c2d543df4081178ce60\n'}, {'number': 3, 'created': '2018-08-15 09:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5cf397469186b4abf8b7af59b85f5d77d53e5fe3', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: I99486c136d34cda038ea3c2d543df4081178ce60\n'}, {'number': 4, 'created': '2018-08-15 09:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7a21ad36cba3a90aca538164514e2019d5cf229e', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: I99486c136d34cda038ea3c2d543df4081178ce60\n'}, {'number': 5, 'created': '2018-08-15 09:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4b11073a9ed448dc604558ad43de28f71b690943', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: I99486c136d34cda038ea3c2d543df4081178ce60\n'}, {'number': 6, 'created': '2018-08-15 09:23:00.000000000', 'files': ['tasks/main.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/deaee29ec3d681f126ff1fc809d9166caf77e6e5', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: I99486c136d34cda038ea3c2d543df4081178ce60\n'}]",1,585276,deaee29ec3d681f126ff1fc809d9166caf77e6e5,30,7,6,22165,,,0,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: I99486c136d34cda038ea3c2d543df4081178ce60
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/76/585276/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tests/test.yml']",2,ee1664639d702fd33787dc6b6620d5d80643af94,,- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-prepare-keys.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-prepare-host.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-prepare-containers.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-install-infra.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-install-keystone.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-install-glance.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-install-neutron.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-install-nova.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: common/test-install-tempest.yml- include_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks_tasks: test-tempest-functional.yml,- include: common/test-prepare-keys.yml- include: common/test-prepare-host.yml- include: common/test-prepare-containers.yml- include: common/test-install-infra.yml- include: common/test-install-keystone.yml- include: common/test-install-glance.yml- include: common/test-install-neutron.yml- include: common/test-install-nova.yml- include: common/test-install-tempest.yml- include: test-tempest-functional.yml,16,16
openstack%2Ftripleo-common~stable%2Fqueens~I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,openstack/tripleo-common,stable/queens,I4b05933bd8b24119ed2d1040af60b4b3a2e3140f,Add on-error task to parse_node_data_lookup,MERGED,2018-10-03 19:34:11.000000000,2018-10-05 00:49:18.000000000,2018-10-05 00:49:17.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-10-03 19:34:11.000000000', 'files': ['workbooks/ceph-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/814bd2cf4b4bb393cb7af1ea8587c9573c5edcef', 'message': ""Add on-error task to parse_node_data_lookup\n\nIf the ceph-ansible workbook fails to parse node_data_lookup\nbecause it does not contain valid JSON, then fail the task\nwith a message that the NodeDataLookup JSON isn't valid.\n\nChange-Id: I4b05933bd8b24119ed2d1040af60b4b3a2e3140f\nCloses-Bug: #1784967\n(cherry picked from commit 5b1c4c00eea2242b82bd68498b45b7f65adbf811)\n""}]",0,607695,814bd2cf4b4bb393cb7af1ea8587c9573c5edcef,9,4,1,18002,,,0,"Add on-error task to parse_node_data_lookup

If the ceph-ansible workbook fails to parse node_data_lookup
because it does not contain valid JSON, then fail the task
with a message that the NodeDataLookup JSON isn't valid.

Change-Id: I4b05933bd8b24119ed2d1040af60b4b3a2e3140f
Closes-Bug: #1784967
(cherry picked from commit 5b1c4c00eea2242b82bd68498b45b7f65adbf811)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/95/607695/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/ceph-ansible.yaml'],1,814bd2cf4b4bb393cb7af1ea8587c9573c5edcef,bug/1784967-stable/queens," on-error: - fail(msg=<% 'Ceph deployment stopped, NodeDataLookup (node_data_lookup) is not valid JSON. {0}'.format($.node_data_lookup) %>)",,2,0
openstack%2Fopenstack-ansible-os_aodh~master~Id9296d69814f3ad72fee5095893fdd7f1729aa5c,openstack/openstack-ansible-os_aodh,master,Id9296d69814f3ad72fee5095893fdd7f1729aa5c,use include_tasks instead of include,MERGED,2018-07-24 11:14:52.000000000,2018-10-05 00:48:27.000000000,2018-09-03 07:57:21.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-24 11:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/24ba4649eff2edfff6f1c937778aaf976ba51e11', 'message': 'Use include_tasks instead of include\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n'}, {'number': 2, 'created': '2018-07-24 12:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/b7b4a078a32b6abc9c98ecc16aee0e618b67ca92', 'message': 'use include_tasks instead of include\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n'}, {'number': 3, 'created': '2018-08-15 08:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/350ca18941237eaafd45ad33407e25cf89aa367e', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n'}, {'number': 4, 'created': '2018-08-15 08:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/0556f4c2f9dcf0b3d192535db33c554280fed704', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n'}, {'number': 5, 'created': '2018-08-15 08:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/25ffef21955dd7c2a447cf833738505ed1271ffc', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n'}, {'number': 6, 'created': '2018-08-19 16:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/0a39ebc99d6b60c9be7fce8b8ab6e4558b6252a4', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n'}, {'number': 7, 'created': '2018-09-02 15:01:40.000000000', 'files': ['tasks/main.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/ac625f81dd621ece7f7becabe6ae2f0c2f48f9b9', 'message': 'use include_tasks instead of include\n\ninclude is marked as deprecated since ansible 2.4[0]\n\nSwitch to include_tasks or import_playbook as necessary\n\n[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated\n\nChange-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c\n'}]",1,585271,ac625f81dd621ece7f7becabe6ae2f0c2f48f9b9,40,7,7,22165,,,0,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: Id9296d69814f3ad72fee5095893fdd7f1729aa5c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/71/585271/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tests/test.yml', 'tests/test-install-aodh.yml']",3,24ba4649eff2edfff6f1c937778aaf976ba51e11,, - include_tasks: common/ensure-oslomsg.yml, - include: common/ensure-oslomsg.yml,15,15
openstack%2Fopenstack-ansible-os_tacker~master~I0af7a64bf1528978b770da954a9574e767a50e65,openstack/openstack-ansible-os_tacker,master,I0af7a64bf1528978b770da954a9574e767a50e65,Remove the unused tacker_horizon_dashboard_disable defined,ABANDONED,2018-09-27 02:38:03.000000000,2018-10-05 00:30:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-09-27 02:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/2a66f394c7ca495d5548050f2711fc938a8e3831', 'message': 'Remove the unused tacker_horizon_dashboard_disable defined\n\nIn default/main.yml, tacker_horizon_dashboard_disable is unused\nanywhere, the dashboard will be completed in\nopenstack-ansible-os_horizon project, the defined should be removed.\n\nChange-Id: I0af7a64bf1528978b770da954a9574e767a50e65\nCloses-Bug: #1794643\n'}, {'number': 2, 'created': '2018-10-04 02:48:10.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/f8ecc16e6f4b155f7308c22a9225d9c2e8da6baa', 'message': 'Remove the unused tacker_horizon_dashboard_disable defined\n\nIn default/main.yml, tacker_horizon_dashboard_disable is unused\nanywhere, the dashboard will be completed in\nopenstack-ansible-os_horizon project, the defined should be removed.\n\nChange-Id: I0af7a64bf1528978b770da954a9574e767a50e65\nCloses-Bug: #1794643\n'}]",0,605571,f8ecc16e6f4b155f7308c22a9225d9c2e8da6baa,10,3,2,21691,,,0,"Remove the unused tacker_horizon_dashboard_disable defined

In default/main.yml, tacker_horizon_dashboard_disable is unused
anywhere, the dashboard will be completed in
openstack-ansible-os_horizon project, the defined should be removed.

Change-Id: I0af7a64bf1528978b770da954a9574e767a50e65
Closes-Bug: #1794643
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/71/605571/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,2a66f394c7ca495d5548050f2711fc938a8e3831,bug/1794643,," tacker_horizon_dashboard_disable: ""False""",0,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~I5864ea4ba7364834ed7b47de64674ade87719e2e,openstack/tripleo-heat-templates,stable/rocky,I5864ea4ba7364834ed7b47de64674ade87719e2e,Add a fact checking xinetd service present,MERGED,2018-10-01 14:01:28.000000000,2018-10-05 00:12:15.000000000,2018-10-05 00:12:15.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-10-01 14:01:28.000000000', 'files': ['docker/services/xinetd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d422bb9838dd82690b5a131744db9f520cba18b', 'message': 'Add a fact checking xinetd service present\n\nUpgrade rocky->master was failing at service xinetd missing\n\nChange-Id: I5864ea4ba7364834ed7b47de64674ade87719e2e\n(cherry picked from commit 35088487c265eb153693a13179a39ac07a495f4f)\n'}]",0,606955,3d422bb9838dd82690b5a131744db9f520cba18b,8,4,1,11090,,,0,"Add a fact checking xinetd service present

Upgrade rocky->master was failing at service xinetd missing

Change-Id: I5864ea4ba7364834ed7b47de64674ade87719e2e
(cherry picked from commit 35088487c265eb153693a13179a39ac07a495f4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/606955/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/xinetd.yaml'],1,3d422bb9838dd82690b5a131744db9f520cba18b,," - when: step|int == 0 tags: common block: - name: Check if xinetd service is deployed ignore_errors: True command: systemctl is-enabled --quiet xinetd register: xinetd_enabled_result - name: Set fact xinetd_enabled set_fact: xinetd_enabled: ""{{ xinetd_enabled_result.rc == 0 }}"" - name: ""PreUpgrade step0,validation: Check if xinetd is running"" command: systemctl is-active --quiet xinetd when: xinetd_enabled|bool tags: validation when: xinetd_enabled|bool",,15,0
openstack%2Fneutron-tempest-plugin~master~Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44,openstack/neutron-tempest-plugin,master,Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44,Migrate dvr multinode scenario to zuulv3 syntax,MERGED,2018-06-28 13:27:27.000000000,2018-10-04 23:38:28.000000000,2018-10-04 23:38:28.000000000,"[{'_account_id': 1131}, {'_account_id': 4146}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-28 13:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6e1dbad16fb9250bed826ab0c22b64cef00a8349', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 2, 'created': '2018-06-28 13:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dfaf64dfe503e643e0906001da2eb8090e4c6435', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 3, 'created': '2018-06-28 14:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/25f921813d9ac409c10bdc1005b268d1fb5323f0', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 4, 'created': '2018-07-23 10:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/611f60f0a8c45fea2affc4724fe44616f026b03e', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 5, 'created': '2018-07-23 20:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1b97dce8c2015fabc37e987f3b6fba68dbb7f573', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 6, 'created': '2018-08-02 21:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f8c1e3b65070661484ac5f5d199883af88ae0b5f', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 7, 'created': '2018-08-03 07:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/09f4ce83322e9e41049ef2d188cc7add60436bd6', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 8, 'created': '2018-08-04 08:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/64ab77fc7bbdb075360153aa3f99c0caa6d24848', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 9, 'created': '2018-08-04 11:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/220ee4b7a51bcc4dc65eb8acd639f7ecdc5d0f5f', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 10, 'created': '2018-08-04 14:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/af80bc66f8c6dcede942cfc6b36230c503cf354d', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 11, 'created': '2018-08-04 17:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/79f9dcd18a9a0e5f14974575bbf9ce6740732e80', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 12, 'created': '2018-08-04 20:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/85c2e9124e02009c27836e237059636f8cc41fd4', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 13, 'created': '2018-08-05 08:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4a6bde29d94804dcd01663ecf4d657d39a2219aa', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 14, 'created': '2018-09-05 10:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/53ad4d6dba1651f55089afc7f7056fdb241b70b4', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 15, 'created': '2018-09-06 08:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e566ea534277d958b0bef61bb8d8b41088550f6b', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 16, 'created': '2018-09-08 09:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/86ca94b0d783a8775b1af78efe64ecd361b95348', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 17, 'created': '2018-09-10 21:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3e02a432e57d9ad2cd8ed5207fa57a1acc6bfa5f', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 18, 'created': '2018-09-12 18:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d41dbfb9b9aa47ed34f60ef9dcf585a8f75bfba5', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 19, 'created': '2018-09-19 15:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dd18328c96219c78fcec198d00079b8895f6a3f6', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 20, 'created': '2018-09-20 08:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eae29392f5f7f1e8491c81837aeddcc837099423', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 21, 'created': '2018-09-20 11:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/130769e800eb2c5f5c6756ad9f12076b093161e3', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 22, 'created': '2018-09-20 11:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/17b2175d9631af408cec3b52328893dd84b24655', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 23, 'created': '2018-09-21 07:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e7306ddf095ac223be185f1cefb25dadcac23112', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nDepends-On: https://review.openstack.org/604285\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 24, 'created': '2018-09-24 14:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/01cc7e195803006892d467c1147ee7c0dbed8023', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nDepends-On: https://review.openstack.org/604285\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 25, 'created': '2018-09-24 19:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ccee6ca84a7f286b5e88a8d7f594d6df9dfc3f5c', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nDepends-On: https://review.openstack.org/604285\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 26, 'created': '2018-09-24 20:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b2cb87c27d1aa9b038c862cc93377776365aecf6', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nDepends-On: https://review.openstack.org/604285\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 27, 'created': '2018-09-25 14:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9c058efe5d9bb2fa5483ec1593060995947c9f15', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 28, 'created': '2018-09-25 14:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0e837b90d2abb943467dc3cbf6c60a63fb139c2c', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 29, 'created': '2018-09-25 21:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6d14c42329c7f71ad1d3ed15670bcb5028b9748c', 'message': 'WIP Migrate dvr multinode scenario to zuulv3 syntax\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 30, 'created': '2018-09-26 12:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/87e99272171e4507158fa5e29b5668709963a83c', 'message': 'Migrate dvr multinode scenario to zuulv3 syntax\n\nJob neutron-tempest-plugin-dvr-multinode-scenario was the\nlast job in neutron-tempest-plugin repo defined using\nlegacy zuulv2 templates.\nThis commit migrates it to zuulv3 syntax.\n\nIt also adds new ansible role ""multi-node-setup"" which\nwhich creates patch ports between Neutron\'s external\nbridge (br-ex) and infra bridge (br-infra). That is necessary\nto provide connectivity to floating IPs, which may be\nconfigured on subnode when dvr is used, from each node.\n\nThis patch introduces also new playbook\n""dvr-multinode-scenario-pre-run"" which is used to be run in\nneutron-tempest-plugin-dvr-multinode-scenario job and which\nuses ""multi-node-setup"" role to create those patch ports\non each host used in job.\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 31, 'created': '2018-09-27 06:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3339e6166a10eca4c742ff83a06d97688ebde258', 'message': 'Migrate dvr multinode scenario to zuulv3 syntax\n\nJob neutron-tempest-plugin-dvr-multinode-scenario was the\nlast job in neutron-tempest-plugin repo defined using\nlegacy zuulv2 templates.\nThis commit migrates it to zuulv3 syntax.\n\nIt also adds new ansible role ""multi-node-setup"" which\nwhich creates patch ports between Neutron\'s external\nbridge (br-ex) and infra bridge (br-infra). That is necessary\nto provide connectivity to floating IPs, which may be\nconfigured on subnode when dvr is used, from each node.\n\nThis patch introduces also new playbook\n""dvr-multinode-scenario-pre-run"" which is used to be run in\nneutron-tempest-plugin-dvr-multinode-scenario job and which\nuses ""multi-node-setup"" role to create those patch ports\non each host used in job.\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 32, 'created': '2018-10-03 07:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f4949349f1973d3fbb5beacae2353b78aa8b9567', 'message': 'Migrate dvr multinode scenario to zuulv3 syntax\n\nJob neutron-tempest-plugin-dvr-multinode-scenario was the\nlast job in neutron-tempest-plugin repo defined using\nlegacy zuulv2 templates.\nThis commit migrates it to zuulv3 syntax.\n\nIt also adds new ansible role ""multi-node-setup"" which\nwhich creates patch ports between Neutron\'s external\nbridge (br-ex) and infra bridge (br-infra). That is necessary\nto provide connectivity to floating IPs, which may be\nconfigured on subnode when dvr is used, from each node.\n\nThis patch introduces also new playbook\n""dvr-multinode-scenario-pre-run"" which is used to be run in\nneutron-tempest-plugin-dvr-multinode-scenario job and which\nuses ""multi-node-setup"" role to create those patch ports\non each host used in job.\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}, {'number': 33, 'created': '2018-10-04 14:22:09.000000000', 'files': ['roles/multi-node-setup/README.rst', 'playbooks/dvr-multinode-scenario-pre-run.yaml', 'playbooks/neutron-tempest-plugin-dvr-multinode-scenario/run.yaml', 'roles/multi-node-setup/tasks/main.yaml', '.zuul.yaml', 'roles/multi-node-setup/defaults/main.yaml', 'playbooks/neutron-tempest-plugin-dvr-multinode-scenario/post.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f31e3ee50c8f13452c1ee9eda5fd088e60e6d7e1', 'message': 'Migrate dvr multinode scenario to zuulv3 syntax\n\nJob neutron-tempest-plugin-dvr-multinode-scenario was the\nlast job in neutron-tempest-plugin repo defined using\nlegacy zuulv2 templates.\nThis commit migrates it to zuulv3 syntax.\n\nIt also adds new ansible role ""multi-node-setup"" which\nwhich creates patch ports between Neutron\'s external\nbridge (br-ex) and infra bridge (br-infra). That is necessary\nto provide connectivity to floating IPs, which may be\nconfigured on subnode when dvr is used, from each node.\n\nThis patch introduces also new playbook\n""dvr-multinode-scenario-pre-run"" which is used to be run in\nneutron-tempest-plugin-dvr-multinode-scenario job and which\nuses ""multi-node-setup"" role to create those patch ports\non each host used in job.\n\nChange-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44\n'}]",34,578796,f31e3ee50c8f13452c1ee9eda5fd088e60e6d7e1,99,10,33,11975,,,0,"Migrate dvr multinode scenario to zuulv3 syntax

Job neutron-tempest-plugin-dvr-multinode-scenario was the
last job in neutron-tempest-plugin repo defined using
legacy zuulv2 templates.
This commit migrates it to zuulv3 syntax.

It also adds new ansible role ""multi-node-setup"" which
which creates patch ports between Neutron's external
bridge (br-ex) and infra bridge (br-infra). That is necessary
to provide connectivity to floating IPs, which may be
configured on subnode when dvr is used, from each node.

This patch introduces also new playbook
""dvr-multinode-scenario-pre-run"" which is used to be run in
neutron-tempest-plugin-dvr-multinode-scenario job and which
uses ""multi-node-setup"" role to create those patch ports
on each host used in job.

Change-Id: Ic5bb7649ebb8bf229459f3d9911f64635cbf1e44
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/96/578796/12 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6e1dbad16fb9250bed826ab0c22b64cef00a8349,migration-to-zuulv3," name: neutron-tempest-plugin-dvr-multinode-scenario-zuulv3 parent: tempest-multinode-full description: | Perform setup common to all Neutron tempest tests roles: - zuul: openstack-dev/devstack required-projects: - openstack-infra/devstack-gate - openstack/neutron - openstack/neutron-tempest-plugin - openstack/tempest vars: tempest_concurrency: 4 tox_envlist: all devstack_localrc: TEMPEST_PLUGINS: /opt/stack/neutron-tempest-plugin NETWORK_API_EXTENSIONS: ""address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,default-subnetpools,dhcp_agent_scheduler,dns-integration,dvr,empty-string-filtering,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,fip-port-details,flavors,ip-substring-filtering,l3-flavors,l3-ha,l3_agent_scheduler,logging,metering,multi-provider,net-mtu,net-mtu-writable,network-ip-availability,network_availability_zone,pagination,port-security,project-id,provider,qos,qos-fip,quotas,quota_details,rbac-policies,router,router_availability_zone,security-group,port-security-groups-filtering,segment,service-type,sorting,standard-attr-description,standard-attr-revisions,standard-attr-segment,standard-attr-timestamp,standard-attr-tag,subnet_allocation,trunk,trunk-details"" devstack_plugins: neutron: git://git.openstack.org/openstack/neutron.git neutron-tempest-plugin: git://git.openstack.org/openstack/neutron-tempest-plugin.git devstack_services: tls-proxy: false tempest: true neutron-dns: true neutron-qos: true neutron-segments: true neutron-trunk: true devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: enable_dvr: True QUOTAS: quota_router: 100 quota_floatingip: 500 quota_security_group: 100 quota_security_group_rule: 1000 # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy ""/$NEUTRON_CORE_PLUGIN_CONF"": ml2: type_drivers: flat,geneve,vlan,gre,local,vxlan ml2_type_vlan: network_vlan_ranges: foo:1:10 ml2_type_vxlan: vni_ranges: 1:2000 ml2_type_gre: tunnel_id_ranges: 1:1000 AGENT: tunnel_types: gre,vxlan $NEUTRON_L3_CONF: DEFAULT: agent_mode: dvr_snat agent: availability_zone: nova $NEUTRON_DHCP_CONF: agent: availability_zone: nova ""/etc/neutron/api-paste.ini"": ""composite:neutronapi_v2_0"": use: ""call:neutron.auth:pipeline_factory"" noauth: ""cors request_id catch_errors osprofiler extensions neutronapiapp_v2_0"" keystone: ""cors request_id catch_errors osprofiler authtoken keystonecontext extensions neutronapiapp_v2_0"" test-config: $TEMPEST_CONFIG: neutron_plugin_options: provider_vlans: foo, agent_availability_zone: nova image_is_advanced: true available_type_drivers: flat,geneve,vlan,gre,local,vxlan l3_agent_mode: dvr_snat irrelevant-files: - ^(test-|)requirements.txt$ - ^releasenotes/.*$ - ^doc/.*$ - ^setup.cfg$ - ^.*\.rst$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^tools/.*$ - ^tox.ini$ - job:",,84,0
openstack%2Fnova~master~I69d760aaf931d46f011cfd229b88f400837662e8,openstack/nova,master,I69d760aaf931d46f011cfd229b88f400837662e8,Use provider tree in virt FakeDriver,MERGED,2018-09-20 13:17:52.000000000,2018-10-04 23:38:25.000000000,2018-10-04 23:38:25.000000000,"[{'_account_id': 7}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-20 13:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5cea3bda164146cb29d430dd29ff5ea2292081a', 'message': 'Use provider tree in virt FakeDriver\n\nAs a perparation to use nested trees in fuctional test this patch\nchanges the FakeDriver implementation to use the update_provider_tree\nmethod to report the compute inventory.\n\nChange-Id: I69d760aaf931d46f011cfd229b88f400837662e8\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 2, 'created': '2018-09-26 12:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a123a0adba1fe4cf0990739c4205fbef8643f3d1', 'message': 'Use provider tree in virt FakeDriver\n\nAs a perparation to use nested trees in fuctional test this patch\nchanges the FakeDriver implementation to use the update_provider_tree\nmethod to report the compute inventory.\n\nChange-Id: I69d760aaf931d46f011cfd229b88f400837662e8\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 3, 'created': '2018-10-02 15:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78c87c60887761fbd166cb35be6bfd5cc34316dc', 'message': 'Use provider tree in virt FakeDriver\n\nAs a perparation to use nested trees in fuctional test this patch\nchanges the FakeDriver implementation to use the update_provider_tree\nmethod to report the compute inventory.\n\nChange-Id: I69d760aaf931d46f011cfd229b88f400837662e8\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 4, 'created': '2018-10-03 07:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/924c84d1517aac26e2962840c63ff4ef7be9fa6f', 'message': 'Use provider tree in virt FakeDriver\n\nAs a preparation to use nested trees in functional tests this patch\nchanges the FakeDriver implementation to use the update_provider_tree\nmethod to report the compute inventory.\n\nChange-Id: I69d760aaf931d46f011cfd229b88f400837662e8\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 5, 'created': '2018-10-03 07:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e47a8d41e1c731627c352846eee25fe65297a5ea', 'message': 'Use provider tree in virt FakeDriver\n\nAs a preparation to use nested trees in functional tests this patch\nchanges the FakeDriver implementation to use the update_provider_tree\nmethod to report the compute inventory.\n\nChange-Id: I69d760aaf931d46f011cfd229b88f400837662e8\nBlueprint: use-nested-allocation-candidates\n'}, {'number': 6, 'created': '2018-10-04 11:46:42.000000000', 'files': ['nova/virt/fake.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4f69a63a477e2cd0cfa72994612de006f3e4b11b', 'message': 'Use provider tree in virt FakeDriver\n\nAs a preparation to use nested trees in functional tests this patch\nchanges the FakeDriver implementation to use the update_provider_tree\nmethod to report the compute inventory.\n\nChange-Id: I69d760aaf931d46f011cfd229b88f400837662e8\nBlueprint: use-nested-allocation-candidates\n'}]",6,604083,4f69a63a477e2cd0cfa72994612de006f3e4b11b,96,18,6,9708,,,0,"Use provider tree in virt FakeDriver

As a preparation to use nested trees in functional tests this patch
changes the FakeDriver implementation to use the update_provider_tree
method to report the compute inventory.

Change-Id: I69d760aaf931d46f011cfd229b88f400837662e8
Blueprint: use-nested-allocation-candidates
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/604083/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/fake.py'],1,d5cea3bda164146cb29d430dd29ff5ea2292081a,bp/use-nested-allocation-candidates," def update_provider_tree(self, provider_tree, nodename, allocations=None): inventory = { 'VCPU': { 'total': self.vcpus, 'reserved': 0, 'min_unit': 1, 'max_unit': self.vcpus, 'step_size': 1, 'allocation_ratio': 16, }, 'MEMORY_MB': { 'total': self.memory_mb, 'reserved': 512, 'min_unit': 1, 'max_unit': self.memory_mb, 'step_size': 1, 'allocation_ratio': 1.5, }, 'DISK_GB': { 'total': self.local_gb, 'reserved': 0, 'min_unit': 1, 'max_unit': self.local_gb, 'step_size': 1, 'allocation_ratio': 1, }, } provider_tree.update_inventory(nodename, inventory) ",,29,0
openstack%2Fnova~master~I8036dc4351aa4b77f41b44622ae030cc8ae51d2f,openstack/nova,master,I8036dc4351aa4b77f41b44622ae030cc8ae51d2f,Enable nested allocation candidates in scheduler,MERGED,2018-07-25 08:09:28.000000000,2018-10-04 23:33:27.000000000,2018-10-04 23:33:27.000000000,"[{'_account_id': 7}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-25 08:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fcf7e31d5cc5d5079df84d91007bafb54dd57b1', 'message': 'WIP: Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nUpdating the microvesion has a side effect to use the same\nmicroversion when PUTting allocation with the consumer,\nwhich causes ""no consumer generation provided error"",\nBecause the generation field is needed from microversion\n1.28. To avoid the error, this patch also changes the code\nto get the current consumer generation and use it.\n\nTagged ""Work In Progress"" because tests should be added.\n\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 2, 'created': '2018-07-31 05:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc959fb3ceb9841755403f21dfe06671c6f3589d', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 3, 'created': '2018-08-13 15:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72850278ad7e73151727446edba8b0e186ca4bf9', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 4, 'created': '2018-09-14 01:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/432b73c75f3b1eee05df0a23455e874ca5723614', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 5, 'created': '2018-09-17 09:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43a8f0b18307f60a6204e76a77d2f0d9cf9c83d1', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 6, 'created': '2018-09-17 09:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17e79ca8003b16820bbc14ad1664a48e084c49d7', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 7, 'created': '2018-09-26 12:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6ea8a4c7b6cf79534ee49b18b71d0b4ef4d10f7', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 8, 'created': '2018-10-02 15:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/066f46422cdd7383775fff707273a7342d30d598', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 9, 'created': '2018-10-03 07:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0e1f7ae4b7db5c45e04fd7e51f46bf840eda1b8', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}, {'number': 10, 'created': '2018-10-04 11:46:42.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc8ff63fe4f9c4d916c1a4aaeed202e186f8090e', 'message': 'Enable nested allocation candidates in scheduler\n\nThis patch changes scheduler client to use 1.29 microversion,\nin which nested allocation candidates feature is enabled,\nwhen getting allocation candidates.\n\nBlueprint: use-nested-allocation-candidates\nChange-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f\n'}]",13,585672,dc8ff63fe4f9c4d916c1a4aaeed202e186f8090e,144,22,10,25625,,,0,"Enable nested allocation candidates in scheduler

This patch changes scheduler client to use 1.29 microversion,
in which nested allocation candidates feature is enabled,
when getting allocation candidates.

Blueprint: use-nested-allocation-candidates
Change-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/585672/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,9fcf7e31d5cc5d5079df84d91007bafb54dd57b1,bp/use-nested-allocation-candidates,"NESTED_AC_VERSION = '1.29' version = NESTED_AC_VERSION payload['consumer_generation'] = None r = self.get(url, version=CONSUMER_GENERATION_VERSION, global_request_id=context.global_id) payload['consumer_generation'] = r.json().get('consumer_generation')","GRANULAR_AC_VERSION = '1.25' version = GRANULAR_AC_VERSION r = self.get(url, global_request_id=context.global_id)",6,3
openstack%2Fneutron~master~I45a222c098658eef6a49adcc168b0f5625ea49db,openstack/neutron,master,I45a222c098658eef6a49adcc168b0f5625ea49db,Fix best_match() deprecation warning,MERGED,2018-09-28 21:00:54.000000000,2018-10-04 23:33:23.000000000,2018-10-04 23:33:22.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-09-28 21:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0a168e2ef9695b74ab3103391ad1960a162a8a7', 'message': 'Fix best_match() deprecation warning\n\nwsgi call to best_match() generates the following warning:\n\nDeprecationWarning: The behavior of AcceptValidHeader.best_match\nis currently being maintained for backward compatibility, but it\nwill be deprecated in the future, as it does not conform to the RFC.\n\nChange to use acceptable_offers() as was done in nova code.\n\nRequired bump to get WebOb 1.8.2.\n\nTrivialfix\n\nChange-Id: I45a222c098658eef6a49adcc168b0f5625ea49db\n'}, {'number': 2, 'created': '2018-10-02 20:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4215fd11fc24e64908a023c1bfa1f3bdaf4ddd9c', 'message': 'Fix best_match() deprecation warning\n\nwsgi call to best_match() generates the following warning:\n\nDeprecationWarning: The behavior of AcceptValidHeader.best_match\nis currently being maintained for backward compatibility, but it\nwill be deprecated in the future, as it does not conform to the RFC.\n\nChange to use acceptable_offers() as was done in nova code.\n\nSimlar changes in the wsgi best language code as well, except\nnew call is to lookup().\n\nRequired bump to get WebOb 1.8.2.\n\nTrivialfix\n\nChange-Id: I45a222c098658eef6a49adcc168b0f5625ea49db\n'}, {'number': 3, 'created': '2018-10-03 19:30:40.000000000', 'files': ['requirements.txt', 'neutron/wsgi.py', 'lower-constraints.txt', 'neutron/pecan_wsgi/hooks/translation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc4f93c232d1a608ae88fa027371755bed54b3ca', 'message': 'Fix best_match() deprecation warning\n\nwsgi call to best_match() generates the following warning:\n\nDeprecationWarning: The behavior of AcceptValidHeader.best_match\nis currently being maintained for backward compatibility, but it\nwill be deprecated in the future, as it does not conform to the RFC.\n\nChange to use acceptable_offers() as was done in nova code.\n\nSimlar changes in the wsgi best language code as well, except\nnew call is to lookup().\n\nRequired bump to get WebOb 1.8.2.\n\nTrivialfix\n\nChange-Id: I45a222c098658eef6a49adcc168b0f5625ea49db\n'}]",0,606203,bc4f93c232d1a608ae88fa027371755bed54b3ca,27,10,3,1131,,,0,"Fix best_match() deprecation warning

wsgi call to best_match() generates the following warning:

DeprecationWarning: The behavior of AcceptValidHeader.best_match
is currently being maintained for backward compatibility, but it
will be deprecated in the future, as it does not conform to the RFC.

Change to use acceptable_offers() as was done in nova code.

Simlar changes in the wsgi best language code as well, except
new call is to lookup().

Required bump to get WebOb 1.8.2.

Trivialfix

Change-Id: I45a222c098658eef6a49adcc168b0f5625ea49db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/606203/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/wsgi.py', 'lower-constraints.txt']",3,a0a168e2ef9695b74ab3103391ad1960a162a8a7,best-match-deprecated,WebOb==1.8.2,WebOb==1.7.1,6,4
openstack%2Ftap-as-a-service~master~I30c6ac700d4b1ad6ab09d81051640e7774299b71,openstack/tap-as-a-service,master,I30c6ac700d4b1ad6ab09d81051640e7774299b71,Add SRIOV mirroring support to Tap as a Service.,ABANDONED,2018-07-23 14:02:55.000000000,2018-10-04 23:27:54.000000000,,"[{'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 16274}, {'_account_id': 16881}, {'_account_id': 17120}, {'_account_id': 17776}, {'_account_id': 18204}, {'_account_id': 18250}, {'_account_id': 19350}, {'_account_id': 22348}, {'_account_id': 27589}, {'_account_id': 27977}, {'_account_id': 28373}, {'_account_id': 28550}]","[{'number': 1, 'created': '2018-07-23 14:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/fd95dbcbad1a822bb9552006b5f132d332416373', 'message': 'Implements: code-changes/port-mirroring-sriov-vf: Add SRIOV mirroring support to Tap as a Service. Allows VF to VF mirror.\nCode-changes for new tap agent driver for sriov (driver for Intel i40e nic)\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 2, 'created': '2018-08-06 21:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d3a66163e7031c84816ca608cf55c539841480d7', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 3, 'created': '2018-08-07 09:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/2cb98d52c086902071c850bb2e848b5d53b61d64', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 4, 'created': '2018-08-07 17:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/958bd4493f05b4c3135a0b37de5b7a6838cdb07a', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 5, 'created': '2018-08-21 18:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8867ee92e2ff4fb95cd052eb3db88d17a8ebf1c8', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 6, 'created': '2018-08-21 20:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/50d78b139d5c386f07adabe9f9b19569758b2aae', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 7, 'created': '2018-09-03 09:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/48052555e33336ad58f5579721d03b8554a974f3', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 8, 'created': '2018-09-04 15:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8eaab85640400effe1d4b050900d40e0d3ef5222', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 9, 'created': '2018-09-05 08:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/4f7dc47ba1391402e66947338c673671a67b1187', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 10, 'created': '2018-09-05 09:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3b67b4fa113f653f194026b59bf641001c5be806', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 11, 'created': '2018-09-05 15:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/c2026c12e83e7fbcc7be6c6eca6b1e84adef15c5', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 12, 'created': '2018-09-05 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f9f1029e74ac58ac7abae735294d00e0d3b654e2', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 13, 'created': '2018-09-12 00:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8b14258bc9b34aef112b13ae96e64391792f4884', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}, {'number': 14, 'created': '2018-09-12 13:57:40.000000000', 'files': ['devstack/devstackgaterc', 'neutron_taas/services/taas/agents/common/taas_agent.py', 'neutron_taas/services/taas/drivers/linux/sriov_nic_utils.py', 'neutron_taas/tests/unit/services/drivers/__init__.py', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', 'neutron_taas/extensions/taas.py', 'neutron_taas/tests/unit/services/drivers/test_linux_sriov_utils.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'neutron_taas/services/taas/agents/common/__init__.py', 'neutron_taas/services/taas/drivers/linux/ovs_taas.py', 'neutron_taas/tests/base.py', 'devstack/settings', 'neutron_taas/services/taas/drivers/linux/ovs_constants.py', 'neutron_taas/services/taas/drivers/linux/sriov_nic_taas.py', 'neutron_taas/tests/unit/services/drivers/test_linux_sriov_nic_driver.py', 'neutron_taas/services/taas/service_drivers/taas_rpc.py', 'setup.cfg', 'neutron_taas/common/constants.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/19d126799f1b1f68dbbab02fd78daa57887934d6', 'message': 'Add SRIOV mirroring support to Tap as a Service.\n\nThe following patch allows VF to VF mirroring in Tap-as-a-Service\nCode-changes are applicable for new tap agent driver for sriov on\nIntel i40e nic.\n\nThe current TaaS SRIOV driver is based on Intel i40e NIC driver with\nfollowing requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v4.16.0\n\nRef Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst\nCommit: https://review.openstack.org/#/c/574477/\n\nChange-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71\n'}]",42,584892,19d126799f1b1f68dbbab02fd78daa57887934d6,37,14,14,27589,,,0,"Add SRIOV mirroring support to Tap as a Service.

The following patch allows VF to VF mirroring in Tap-as-a-Service
Code-changes are applicable for new tap agent driver for sriov on
Intel i40e nic.

The current TaaS SRIOV driver is based on Intel i40e NIC driver with
following requirements:-

hardware: Intel Ethernet Network Adapter XXV710 (25GbE)
Driver: Intel i40e v4.16.0

Ref Spec: openstack/neutron-specs/specs/rocky/port-mirroring-sriov-vfs.rst
Commit: https://review.openstack.org/#/c/574477/

Change-Id: I30c6ac700d4b1ad6ab09d81051640e7774299b71
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/92/584892/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/services/taas/drivers/linux/ovs_constants.py', 'neutron_taas/services/taas/drivers/linux/sriov_nic_taas.py', 'etc/taas.ini', 'neutron_taas/services/taas/drivers/linux/sriov_nic_utils.py', 'neutron_taas/services/taas/drivers/linux/sriov_nic_constants.py', 'neutron_taas/extensions/taas.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'neutron_taas/services/taas/agents/common/__init__.py', 'neutron_taas/services/taas/service_drivers/taas_rpc.py', 'setup.cfg', 'neutron_taas/services/taas/agents/common/taas_common_agent.py']",11,fd95dbcbad1a822bb9552006b5f132d332416373,sriov-nic-driver-for-taas,"# Copyright (C) 2018 AT&Tfrom neutron_taas.services.taas.drivers.linux import ovs_constants as taas_ovs_constsclass TaasCommonPluginApi(api.TaasPluginApiMixin): super(TaasCommonPluginApi, self).__init__(topic, host)class TaasCommonAgentRpcCallback(api.TaasAgentRpcCallbackMixin): LOG.debug(""TaaS Common Agent initialize called"") super(TaasCommonAgentRpcCallback, self).__init__() TaasCommonAgentService(self).start() self.taas_plugin_rpc = TaasCommonPluginApi( def ovs_periodic_tasks(self):class TaasCommonAgentService(service.Service): def __init__(self, driver): super(TaasCommonAgentService, self).__init__() super(TaasCommonAgentService, self).start() if self.driver_type == taas_ovs_consts.EXTENSION_DRIVER_TYPE: self.tg.add_timer( int(cfg.CONF.taas_agent_periodic_interval), self.driver.ovs_periodic_tasks, None )","class TaasOvsPluginApi(api.TaasPluginApiMixin): super(TaasOvsPluginApi, self).__init__(topic, host)class TaasOvsAgentRpcCallback(api.TaasAgentRpcCallbackMixin): LOG.debug(""TaaS OVS Agent initialize called"") super(TaasOvsAgentRpcCallback, self).__init__() TaasOvsAgentService(self).start() self.taas_plugin_rpc = TaasOvsPluginApi( def periodic_tasks(self):class TaasOvsAgentService(service.Service): def __init__(self, driver): super(TaasOvsAgentService, self).__init__() super(TaasOvsAgentService, self).start() self.tg.add_timer( int(cfg.CONF.taas_agent_periodic_interval), self.driver.periodic_tasks, None )",638,21
openstack%2Fnetworking-odl~stable%2Frocky~Id9529cd1403e345522b39b007c64f71812456b35,openstack/networking-odl,stable/rocky,Id9529cd1403e345522b39b007c64f71812456b35,import zuul job settings from project-config,MERGED,2018-08-30 00:09:44.000000000,2018-10-04 23:03:39.000000000,2018-10-04 23:03:39.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-08-30 00:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d4bd4b0df31fb7b618cb8512c8a2b5ce7a3687ea', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Id9529cd1403e345522b39b007c64f71812456b35\nStory: #2002586\nTask: #24314\n'}, {'number': 2, 'created': '2018-09-10 06:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/74515086d84ffd95f62b5b3794c8dfb801d77932', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Id9529cd1403e345522b39b007c64f71812456b35\nStory: #2002586\nTask: #24314\n'}, {'number': 3, 'created': '2018-10-04 19:11:36.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a7aa3390076dfa00e3dffed84091477deeaa4836', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Id9529cd1403e345522b39b007c64f71812456b35\nStory: #2002586\nTask: #24314\n'}]",2,597953,a7aa3390076dfa00e3dffed84091477deeaa4836,26,7,3,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Id9529cd1403e345522b39b007c64f71812456b35
Story: #2002586
Task: #24314
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/53/597953/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,d4bd4b0df31fb7b618cb8512c8a2b5ce7a3687ea,python3-first, templates: - openstack-python-jobs-neutron - openstack-python35-jobs-neutron - release-notes-jobs - periodic-stable-jobs-neutron - publish-openstack-sphinx-docs - check-requirements - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-py27: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-py35: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-cover: required-projects: - openstack/ceilometer - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - build-openstack-sphinx-docs: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-py27: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-py35: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-cover: required-projects: - openstack/ceilometer - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - build-openstack-sphinx-docs: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn post: jobs: - publish-openstack-python-branch-tarball: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn periodic: jobs: - openstack-tox-py35-with-neutron-lib-master: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn,,109,0
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3,openstack/cookbook-openstack-compute,stable/queens,Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3,Rename attributes: vncserver_* -> server_*,MERGED,2018-10-02 14:56:57.000000000,2018-10-04 22:34:23.000000000,2018-10-04 22:34:23.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 14:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/e6058a7ffe66e4c901d4646b003d112e7a51adaa', 'message': 'Rename attributes: vncserver_* -> server_*\n\nSource:\n* openstack/nova git repo:\n  conf: Rename two VNC options\n  Change-Id: Ic05c2c8364e015f6878b0bc25449216624568ad5\n  commit e5a03e3c54d57aa29bd8154c9eddf7ee52c6c3b5\n\nChange-Id: Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3\n'}, {'number': 2, 'created': '2018-10-02 15:25:33.000000000', 'files': ['spec/nova-common_spec.rb', 'metadata.rb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/50589b0e2a6194d6130e4698d604e6a8a2a9365d', 'message': 'Rename attributes: vncserver_* -> server_*\n\nSource:\n* openstack/nova git repo:\n  conf: Rename two VNC options\n  Change-Id: Ic05c2c8364e015f6878b0bc25449216624568ad5\n  commit e5a03e3c54d57aa29bd8154c9eddf7ee52c6c3b5\n\nChange-Id: Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3\n'}]",0,607275,50589b0e2a6194d6130e4698d604e6a8a2a9365d,8,3,2,11109,,,0,"Rename attributes: vncserver_* -> server_*

Source:
* openstack/nova git repo:
  conf: Rename two VNC options
  Change-Id: Ic05c2c8364e015f6878b0bc25449216624568ad5
  commit e5a03e3c54d57aa29bd8154c9eddf7ee52c6c3b5

Change-Id: Ib58a0c2ef5096d9ba0007b5783627e4f9ea4ecf3
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/75/607275/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/nova-common_spec.rb', 'recipes/nova-common.rb']",2,e6058a7ffe66e4c901d4646b003d112e7a51adaa,vncserver, conf['vnc']['server_listen'] = vnc_bind_address conf['vnc']['server_proxyclient_address'] = vnc_proxy_bind_address, conf['vnc']['vncserver_listen'] = vnc_bind_address conf['vnc']['vncserver_proxyclient_address'] = vnc_proxy_bind_address,8,8
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~I47f8451b830892ff0b2d85a553cfe31b8deec1b0,openstack/cookbook-openstack-compute,stable/queens,I47f8451b830892ff0b2d85a553cfe31b8deec1b0,placement: os_region_name -> region_name,MERGED,2018-10-02 14:56:05.000000000,2018-10-04 22:34:22.000000000,2018-10-04 22:34:22.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 14:56:05.000000000', 'files': ['spec/nova-common_spec.rb', 'attributes/nova_conf.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/6037be201c54858c335a127ea0260d76ca73ad3b', 'message': 'placement: os_region_name -> region_name\n\nSource:\n* openstack/nova git repo:\n  Update the deprecate os_region_name option\n  Change-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052\n  commit d163fb6d697d74ea93ffc394187871a3a8c4ccd8\n\nChange-Id: I47f8451b830892ff0b2d85a553cfe31b8deec1b0\n'}]",0,607266,6037be201c54858c335a127ea0260d76ca73ad3b,7,3,1,11109,,,0,"placement: os_region_name -> region_name

Source:
* openstack/nova git repo:
  Update the deprecate os_region_name option
  Change-Id: Id44d456bb1bdb0c5564ad4f5d9cdee2f41226052
  commit d163fb6d697d74ea93ffc394187871a3a8c4ccd8

Change-Id: I47f8451b830892ff0b2d85a553cfe31b8deec1b0
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/66/607266/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/nova-common_spec.rb', 'attributes/nova_conf.rb']",2,6037be201c54858c335a127ea0260d76ca73ad3b,region_name, conf['placement']['region_name'] = node['openstack']['region'], conf['placement']['os_region_name'] = node['openstack']['region'],2,2
openstack%2Fcookbook-openstack-dns~stable%2Fqueens~I04e9680e3b850b8a7cc5b7557c430e5453602956,openstack/cookbook-openstack-dns,stable/queens,I04e9680e3b850b8a7cc5b7557c430e5453602956,Replace api_host/api_port with listen,MERGED,2018-09-28 14:16:44.000000000,2018-10-04 22:32:54.000000000,2018-10-04 22:32:54.000000000,"[{'_account_id': 11915}, {'_account_id': 14790}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-28 14:16:44.000000000', 'files': ['metadata.rb', 'recipes/common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/61b240c48e9974b796cb8bbb968b4bc5af993078', 'message': 'Replace api_host/api_port with listen\n\nAccording to the Designate upgrade notes[1], the options api_host and\napi_port have been deprecated with OpenStack Newton, and they do not\nwork with the Queens release.\n\n[1] designate-api’s api_host and api_port configuration options have\n    been deprecated, please use the new combined “listen” argument\n    in place of these.\n    https://docs.openstack.org/releasenotes/designate/newton.html\n\nChange-Id: I04e9680e3b850b8a7cc5b7557c430e5453602956\n'}]",0,606094,61b240c48e9974b796cb8bbb968b4bc5af993078,7,3,1,11109,,,0,"Replace api_host/api_port with listen

According to the Designate upgrade notes[1], the options api_host and
api_port have been deprecated with OpenStack Newton, and they do not
work with the Queens release.

[1] designate-api’s api_host and api_port configuration options have
    been deprecated, please use the new combined “listen” argument
    in place of these.
    https://docs.openstack.org/releasenotes/designate/newton.html

Change-Id: I04e9680e3b850b8a7cc5b7557c430e5453602956
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dns refs/changes/94/606094/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.rb', 'recipes/common.rb']",2,61b240c48e9974b796cb8bbb968b4bc5af993078,api_host," conf['service:api']['listen'] = ""#{bind_address api_bind}:#{api_bind['port']}""", conf['listen']['api_host'] = bind_address api_bind conf['listen']['api_port'] = api_bind['port'],2,3
openstack%2Freleases~master~I16d14b49ca088068074b4154ea854746b803e08c,openstack/releases,master,I16d14b49ca088068074b4154ea854746b803e08c,Release networking-ovn 5.0.1 (Rocky),MERGED,2018-09-14 12:58:03.000000000,2018-10-04 22:25:13.000000000,2018-10-04 22:25:13.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-09-14 12:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1e245b400a657ee0f4ef26f792c6ed6dfec80c49', 'message': 'Release networking-ovn 5.1.0 (Rocky)\n\nThis new release include some important bug fixes for IPv6 [0] support\nand integration with Octavia [1].\n\n[0] https://review.openstack.org/#/c/596733/\n[1] https://review.openstack.org/#/c/601293/\n\nChange-Id: I16d14b49ca088068074b4154ea854746b803e08c\n'}, {'number': 2, 'created': '2018-09-20 10:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6775154c0de62fb27c890232549769e5c46ea754', 'message': 'Release networking-ovn 5.1.0 (Rocky)\n\nThis new release include some important bug fixes for IPv6 [0] support\nand integration with Octavia [1].\n\n[0] https://review.openstack.org/#/c/596733/\n[1] https://review.openstack.org/#/c/601293/\n\nChange-Id: I16d14b49ca088068074b4154ea854746b803e08c\n'}, {'number': 3, 'created': '2018-09-24 09:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/084401799efe9ff414026fbe9cc09fc50e30072f', 'message': 'Release networking-ovn 5.1.0 (Rocky)\n\nThis new release include some important bug fixes for IPv6 [0] support,\nintegration with Octavia [1] and port groups support (in a backward\ncompatible way)[2]. Therefore the need of a minor version release bump.\n\n[0] https://review.openstack.org/#/c/596733/\n[1] https://review.openstack.org/#/c/601293/\n[2] https://review.openstack.org/#/c/594136/\n\nChange-Id: I16d14b49ca088068074b4154ea854746b803e08c\n'}, {'number': 4, 'created': '2018-09-24 20:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0a7f1d54cd07091de801661829b42bc2187c6317', 'message': 'Release networking-ovn 5.0.1 (Rocky)\n\nThis new release include some important bug fixes for IPv6 [0] support,\nintegration with Octavia [1] and port groups support (in a backward\ncompatible way)[2].\n\n[0] https://review.openstack.org/#/c/596733/\n[1] https://review.openstack.org/#/c/601293/\n[2] https://review.openstack.org/#/c/594136/\n\nChange-Id: I16d14b49ca088068074b4154ea854746b803e08c\n'}, {'number': 5, 'created': '2018-10-03 16:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/efbbc40eba591ea2ea583d77d775dd2b25042850', 'message': 'Release networking-ovn 5.0.1 (Rocky)\n\nThis new release include some important bug fixes for IPv6 [0] support,\nintegration with Octavia [1] and port groups support (in a backward\ncompatible way)[2].\n\n[0] https://review.openstack.org/#/c/596733/\n[1] https://review.openstack.org/#/c/601293/\n[2] https://review.openstack.org/#/c/594136/\n\nChange-Id: I16d14b49ca088068074b4154ea854746b803e08c\n'}, {'number': 6, 'created': '2018-10-03 16:25:14.000000000', 'files': ['deliverables/rocky/networking-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ceadc47a6a4227989ac2cd0a382d58f1ec7cd88a', 'message': 'Release networking-ovn 5.0.1 (Rocky)\n\nThis new release include some important bug fixes for IPv6 [0] support,\nintegration with Octavia [1] and port groups support (in a backward\ncompatible way)[2].\n\n[0] https://review.openstack.org/#/c/596733/\n[1] https://review.openstack.org/#/c/601293/\n[2] https://review.openstack.org/#/c/594136/\n\nChange-Id: I16d14b49ca088068074b4154ea854746b803e08c\n'}]",0,602609,ceadc47a6a4227989ac2cd0a382d58f1ec7cd88a,37,9,6,6773,,,0,"Release networking-ovn 5.0.1 (Rocky)

This new release include some important bug fixes for IPv6 [0] support,
integration with Octavia [1] and port groups support (in a backward
compatible way)[2].

[0] https://review.openstack.org/#/c/596733/
[1] https://review.openstack.org/#/c/601293/
[2] https://review.openstack.org/#/c/594136/

Change-Id: I16d14b49ca088068074b4154ea854746b803e08c
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/602609/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/networking-ovn.yaml'],1,1e245b400a657ee0f4ef26f792c6ed6dfec80c49,networking-ovn-rocky, - projects: - hash: 15f56a02efee8c6f03f52abfa3a466b3041621ed repo: openstack/networking-ovn version: 5.1.0,,4,0
openstack%2Fcharm-odl-controller~master~Ib8f978ad74ffb727e528d55cc1344174791a5fb6,openstack/charm-odl-controller,master,Ib8f978ad74ffb727e528d55cc1344174791a5fb6,Update requirements,ABANDONED,2018-10-03 18:11:17.000000000,2018-10-04 22:18:24.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 18:11:17.000000000', 'files': ['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-odl-controller/commit/39d58afc96f5521d628bcc52cd644115eb3a96a3', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Ib8f978ad74ffb727e528d55cc1344174791a5fb6\n'}]",0,607674,39d58afc96f5521d628bcc52cd644115eb3a96a3,8,3,1,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Ib8f978ad74ffb727e528d55cc1344174791a5fb6
",git fetch https://review.opendev.org/openstack/charm-odl-controller refs/changes/74/607674/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'requirements.txt', 'tests/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/core/services/__init__.py']",33,39d58afc96f5521d628bcc52cd644115eb3a96a3,update-reqs,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from .base import * # NOQA from .helpers import * # NOQA ",7,7362
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ie39f2eb1b5dab5b6a43485f655a05bed5454dc76,openstack/tripleo-upgrade,stable/queens,Ie39f2eb1b5dab5b6a43485f655a05bed5454dc76,Don't change user during ping check.,MERGED,2018-10-04 11:20:12.000000000,2018-10-04 22:11:24.000000000,2018-10-04 22:11:24.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-10-04 11:20:12.000000000', 'files': ['tasks/common/undercloud_validate_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ca1307a0c727548ec27acfe762b2a0a33eb97e9e', 'message': ""Don't change user during ping check.\n\nWhen bm undercloud is rebooted task is delegated to 'localhost',\nwhere user 'stack' may not exist:\n Failed to set permissions on the temporary files\n Ansible needs to create when becoming an unprivileged user\n (rc: 1, err: chown: invalid user: stack\n\nChange-Id: Ie39f2eb1b5dab5b6a43485f655a05bed5454dc76\n(cherry picked from commit 1e04ab81a57ade978dca4f0d7693e8aafc41c91a)\n(cherry picked from commit ac45ed2b209c91e29ee630a86a4663e72eb6fb12)\n""}]",0,607913,ca1307a0c727548ec27acfe762b2a0a33eb97e9e,7,2,1,21537,,,0,"Don't change user during ping check.

When bm undercloud is rebooted task is delegated to 'localhost',
where user 'stack' may not exist:
 Failed to set permissions on the temporary files
 Ansible needs to create when becoming an unprivileged user
 (rc: 1, err: chown: invalid user: stack

Change-Id: Ie39f2eb1b5dab5b6a43485f655a05bed5454dc76
(cherry picked from commit 1e04ab81a57ade978dca4f0d7693e8aafc41c91a)
(cherry picked from commit ac45ed2b209c91e29ee630a86a4663e72eb6fb12)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/607913/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_validate_upgrade.yaml'],1,ca1307a0c727548ec27acfe762b2a0a33eb97e9e,bm-ping-stable/rocky-stable/queens, become: no,,1,0
openstack%2Fglance~master~Ie77348223477060d522a063ceae17e92f4dc26af,openstack/glance,master,Ie77348223477060d522a063ceae17e92f4dc26af,"fix ""it's"" typos",MERGED,2018-10-04 16:26:25.000000000,2018-10-04 22:05:47.000000000,2018-10-04 22:05:47.000000000,"[{'_account_id': 2394}, {'_account_id': 5314}, {'_account_id': 8959}, {'_account_id': 22348}, {'_account_id': 23561}]","[{'number': 1, 'created': '2018-10-04 16:26:25.000000000', 'files': ['doc/source/user/glancemetadefcatalogapi.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/2f402ff9eab381b14bd357b882be7db73f32bec9', 'message': 'fix ""it\'s"" typos\n\n""it\'s"" should only be used to mean ""it is"", not as a possessive.\n\nhttps://en.oxforddictionaries.com/punctuation/apostrophe#it_s_or_its\n\nChange-Id: Ie77348223477060d522a063ceae17e92f4dc26af\n'}]",0,608022,2f402ff9eab381b14bd357b882be7db73f32bec9,8,5,1,2394,,,0,"fix ""it's"" typos

""it's"" should only be used to mean ""it is"", not as a possessive.

https://en.oxforddictionaries.com/punctuation/apostrophe#it_s_or_its

Change-Id: Ie77348223477060d522a063ceae17e92f4dc26af
",git fetch https://review.opendev.org/openstack/glance refs/changes/22/608022/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/glancemetadefcatalogapi.rst'],1,2f402ff9eab381b14bd357b882be7db73f32bec9,its-typos,"etc). A definition includes the properties type, its key, its description, and its constraints. This catalog will not store the values for specific","etc). A definition includes the properties type, its key, it's description, and it's constraints. This catalog will not store the values for specific",2,2
openstack%2Fnova~stable%2Fpike~I27160140cbccf3e6914aed2dcff54d547e446c1f,openstack/nova,stable/pike,I27160140cbccf3e6914aed2dcff54d547e446c1f,Fix service list for disabled compute using MC driver,MERGED,2018-08-16 10:14:39.000000000,2018-10-04 22:05:40.000000000,2018-10-04 22:05:39.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 20408}, {'_account_id': 22348}, {'_account_id': 28922}]","[{'number': 1, 'created': '2018-08-16 10:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00342b2367eb8b517aa61d5a54376a4257b3c2f6', 'message': 'Fix service list for disabled compute using MC driver\n\nIn 0df91a7f799060cd2e9b8a0adac1efacb974bcb3 a comparison\nbetween ``updated_at`` field from services table and update time\nfrom memcache was added if the servergroup_driver is set to be\nmc.\n\nThis could be problematic if servergroup_driver=mc and\n``[DEFAULT]/enable_new_services`` option in /etc/nova/nova.conf\nis set to be ``False`` at the same time, as the ``updated_at``\nfield will always be ``Null`` in services record.\n\nThis patch fixes the bug by returning ``updated_time_in_mc`` instead\nunder the above mentioned scenario.\n\nCloses-Bug: #1781880\n\nConflict is caused by I10b84a9cc7f0cc8ea213a377e4c4f16168b6e45b\nnot being in Pike.\n\nChange-Id: I27160140cbccf3e6914aed2dcff54d547e446c1f\n(Cherry-picked from 0f4e5c442c0ab446274979dafda873c1e1c20585)\n'}, {'number': 2, 'created': '2018-09-16 19:12:13.000000000', 'files': ['nova/tests/unit/servicegroup/test_mc_servicegroup.py', 'nova/servicegroup/drivers/mc.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9ea6939db92662f4978866e9d48c43e67568922', 'message': 'Fix service list for disabled compute using MC driver\n\nIn 0df91a7f799060cd2e9b8a0adac1efacb974bcb3 a comparison\nbetween ``updated_at`` field from services table and update time\nfrom memcache was added if the servergroup_driver is set to be\nmc.\n\nThis could be problematic if servergroup_driver=mc and\n``[DEFAULT]/enable_new_services`` option in /etc/nova/nova.conf\nis set to be ``False`` at the same time, as the ``updated_at``\nfield will always be ``Null`` in services record.\n\nThis patch fixes the bug by returning ``updated_time_in_mc`` instead\nunder the above mentioned scenario.\n\nCloses-Bug: #1781880\n\nConflict is caused by I10b84a9cc7f0cc8ea213a377e4c4f16168b6e45b\nnot being in Pike.\n\nChange-Id: I27160140cbccf3e6914aed2dcff54d547e446c1f\n(Cherry-picked from 0f4e5c442c0ab446274979dafda873c1e1c20585)\n'}]",1,592337,b9ea6939db92662f4978866e9d48c43e67568922,19,11,2,9373,,,0,"Fix service list for disabled compute using MC driver

In 0df91a7f799060cd2e9b8a0adac1efacb974bcb3 a comparison
between ``updated_at`` field from services table and update time
from memcache was added if the servergroup_driver is set to be
mc.

This could be problematic if servergroup_driver=mc and
``[DEFAULT]/enable_new_services`` option in /etc/nova/nova.conf
is set to be ``False`` at the same time, as the ``updated_at``
field will always be ``Null`` in services record.

This patch fixes the bug by returning ``updated_time_in_mc`` instead
under the above mentioned scenario.

Closes-Bug: #1781880

Conflict is caused by I10b84a9cc7f0cc8ea213a377e4c4f16168b6e45b
not being in Pike.

Change-Id: I27160140cbccf3e6914aed2dcff54d547e446c1f
(Cherry-picked from 0f4e5c442c0ab446274979dafda873c1e1c20585)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/592337/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/servicegroup/test_mc_servicegroup.py', 'nova/servicegroup/drivers/mc.py']",2,00342b2367eb8b517aa61d5a54376a4257b3c2f6,bug/1781880," # If [DEFAULT]/enable_new_services is set to be false, the # ``updated_time_in_db`` will be None, in this case, use # ``updated_time_in_mc`` instead. if (not updated_time_in_db or updated_time_in_db <= updated_time_in_mc):", if updated_time_in_db <= updated_time_in_mc:,15,1
openstack%2Freleases~master~I820c50e2cfa77194836b78702d74f60a8dc09bea,openstack/releases,master,I820c50e2cfa77194836b78702d74f60a8dc09bea,Final Rocky release for TripleO,MERGED,2018-10-04 18:42:23.000000000,2018-10-04 21:44:13.000000000,2018-10-04 21:44:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 18:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6abc4426d54d5369052ae41b4b42319484c1a581', 'message': 'Final Rocky release for TripleO\n\nTag final Rocky tag for:\n- tripleo-heat-templates.yaml\n- tripleo-image-elements.yaml\n- tripleo-puppet-elements.yaml\n\nChange-Id: I820c50e2cfa77194836b78702d74f60a8dc09bea\n'}, {'number': 2, 'created': '2018-10-04 18:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ca4fff300b1823a75649838a22a4fd2f7a8e3c8c', 'message': 'Final Rocky release for TripleO\n\nTag final Rocky tag for:\n- tripleo-heat-templates.yaml\n- tripleo-image-elements.yaml\n- tripleo-puppet-elements.yaml\n\nChange-Id: I820c50e2cfa77194836b78702d74f60a8dc09bea\n'}, {'number': 3, 'created': '2018-10-04 18:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b4d2b722ec6e58a368dbb758a9b45d3e3f9d146e', 'message': 'Final Rocky release for TripleO\n\nTag final Rocky tag for:\n- tripleo-heat-templates.yaml\n- tripleo-image-elements.yaml\n- tripleo-puppet-elements.yaml\n\nChange-Id: I820c50e2cfa77194836b78702d74f60a8dc09bea\n'}, {'number': 4, 'created': '2018-10-04 18:58:14.000000000', 'files': ['deliverables/rocky/tripleo-puppet-elements.yaml', 'deliverables/rocky/tripleo-heat-templates.yaml', 'deliverables/rocky/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/987ea83b9edef702e823c22ac7f9d8b7edee961d', 'message': 'Final Rocky release for TripleO\n\nTag final Rocky tag for:\n- tripleo-heat-templates.yaml\n- tripleo-image-elements.yaml\n- tripleo-puppet-elements.yaml\n\nChange-Id: I820c50e2cfa77194836b78702d74f60a8dc09bea\n'}]",0,608056,987ea83b9edef702e823c22ac7f9d8b7edee961d,10,3,4,3153,,,0,"Final Rocky release for TripleO

Tag final Rocky tag for:
- tripleo-heat-templates.yaml
- tripleo-image-elements.yaml
- tripleo-puppet-elements.yaml

Change-Id: I820c50e2cfa77194836b78702d74f60a8dc09bea
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/608056/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/tripleo-puppet-elements.yaml', 'deliverables/rocky/tripleo-heat-templates.yaml', 'deliverables/rocky/tripleo-image-elements.yaml']",3,6abc4426d54d5369052ae41b4b42319484c1a581,final, - projects: - hash: 39e37fe5236addf4bd4e1f28f07829307cf57430 repo: openstack/tripleo-image-elements version: 9.0.0,,12,0
openstack%2Fceilometermiddleware~stable%2Focata~Ice022374a018229749c54b1114bd4e28d326697c,openstack/ceilometermiddleware,stable/ocata,Ice022374a018229749c54b1114bd4e28d326697c,import zuul job settings from project-config,MERGED,2018-08-31 12:11:59.000000000,2018-10-04 21:35:09.000000000,2018-10-04 21:35:08.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-08-31 12:11:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/3f039936bd0886be593651366c2c8143164b1caf', 'message': 'import zuul job settings from project-config\n\nThis is a mechanically generated patch to complete step 1 of moving\nthe zuul job settings out of project-config and into each project\nrepository.\n\nBecause there will be a separate patch on each branch, the branch\nspecifiers for branch-specific jobs have been removed.\n\nBecause this patch is generated by a script, there may be some\ncosmetic changes to the layout of the YAML file(s) as the contents are\nnormalized.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: Ice022374a018229749c54b1114bd4e28d326697c\nStory: #2002586\nTask: #24339\n'}]",0,598650,3f039936bd0886be593651366c2c8143164b1caf,8,3,1,2472,,,0,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: Ice022374a018229749c54b1114bd4e28d326697c
Story: #2002586
Task: #24339
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/50/598650/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3f039936bd0886be593651366c2c8143164b1caf,python3-first,- project: templates: - openstack-python-jobs - openstack-python35-jobs - publish-openstack-sphinx-docs - release-notes-jobs - lib-forward-testing-plugin ,,7,0
openstack%2Fnova~stable%2Focata~I4253cffca3dbf558c875eed7e77711a31e9e3406,openstack/nova,stable/ocata,I4253cffca3dbf558c875eed7e77711a31e9e3406,Re-use existing ComputeNode on ironic rebalance,MERGED,2018-10-03 16:11:12.000000000,2018-10-04 21:32:47.000000000,2018-10-04 21:32:47.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 16:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5959d4fbad965b234bfeecb004e672f07501c1be', 'message': 'Re-use existing ComputeNode on ironic rebalance\n\nWhen a nova-compute service dies that is one of several ironic based\nnova-compute services running, a node rebalance occurs to ensure there\nis still an active nova-compute service dealing with requests for the\ngiven instance that is running.\n\nToday, when this occurs, we create a new ComputeNode entry. This change\nalters that logic to detect the case of the ironic node rebalance and in\nthat case we re-use the existing ComputeNode entry, simply updating the\nhost field to match the new host it has been rebalanced onto.\n\nPreviously we hit problems with placement when we get a new\nComputeNode.uuid for the same ironic_node.uuid. This reusing of the\nexisting entry keeps the ComputeNode.uuid the same when the rebalance of\nthe ComputeNode occurs.\n\nWithout keeping the same ComputeNode.uuid placement errors out with a 409\nbecause we attempt to create a ResourceProvider that has the same name\nas an existing ResourceProvdier. Had that worked, we would have noticed\nthe race that occurs after we create the ResourceProvider but before we\nadd back the existing allocations for existing instances. Keeping the\nComputeNode.uuid the same means we simply look up the existing\nResourceProvider in placement, avoiding all this pain and tears.\n\nCloses-Bug: #1714248\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: I4253cffca3dbf558c875eed7e77711a31e9e3406\n(cherry picked from commit e3c5e22d1fde7ca916a8cc364f335fba8a3a798f)\n'}, {'number': 2, 'created': '2018-10-03 16:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f47716b1ea622a00589075e45c5086d9b75f0077', 'message': ""Re-use existing ComputeNode on ironic rebalance\n\nWhen a nova-compute service dies that is one of several ironic based\nnova-compute services running, a node rebalance occurs to ensure there\nis still an active nova-compute service dealing with requests for the\ngiven instance that is running.\n\nToday, when this occurs, we create a new ComputeNode entry. This change\nalters that logic to detect the case of the ironic node rebalance and in\nthat case we re-use the existing ComputeNode entry, simply updating the\nhost field to match the new host it has been rebalanced onto.\n\nPreviously we hit problems with placement when we get a new\nComputeNode.uuid for the same ironic_node.uuid. This reusing of the\nexisting entry keeps the ComputeNode.uuid the same when the rebalance of\nthe ComputeNode occurs.\n\nWithout keeping the same ComputeNode.uuid placement errors out with a 409\nbecause we attempt to create a ResourceProvider that has the same name\nas an existing ResourceProvdier. Had that worked, we would have noticed\nthe race that occurs after we create the ResourceProvider but before we\nadd back the existing allocations for existing instances. Keeping the\nComputeNode.uuid the same means we simply look up the existing\nResourceProvider in placement, avoiding all this pain and tears.\n\nConflicts:\n\n    nova/tests/unit/compute/test_resource_tracker.py\n    nova/virt/driver.py\n    nova/virt/fake.py\n    nova/virt/ironic/driver.py\n\nConflicts were small, primarily due to the removal in Pike of the virt\ndriver's requires_allocation_refresh class attribute. This attribute is\nstill used in Ocata.\n\nCloses-Bug: #1714248\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: I4253cffca3dbf558c875eed7e77711a31e9e3406\n(cherry picked from commit e3c5e22d1fde7ca916a8cc364f335fba8a3a798f)\n(cherry picked from commit e95277fa3eba86a7290212313da4dc3c81c286f3)\n""}, {'number': 3, 'created': '2018-10-03 21:20:21.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/028f03c8c3d3dac4de50aa8658c474395a683d61', 'message': ""Re-use existing ComputeNode on ironic rebalance\n\nWhen a nova-compute service dies that is one of several ironic based\nnova-compute services running, a node rebalance occurs to ensure there\nis still an active nova-compute service dealing with requests for the\ngiven instance that is running.\n\nToday, when this occurs, we create a new ComputeNode entry. This change\nalters that logic to detect the case of the ironic node rebalance and in\nthat case we re-use the existing ComputeNode entry, simply updating the\nhost field to match the new host it has been rebalanced onto.\n\nPreviously we hit problems with placement when we get a new\nComputeNode.uuid for the same ironic_node.uuid. This reusing of the\nexisting entry keeps the ComputeNode.uuid the same when the rebalance of\nthe ComputeNode occurs.\n\nWithout keeping the same ComputeNode.uuid placement errors out with a 409\nbecause we attempt to create a ResourceProvider that has the same name\nas an existing ResourceProvdier. Had that worked, we would have noticed\nthe race that occurs after we create the ResourceProvider but before we\nadd back the existing allocations for existing instances. Keeping the\nComputeNode.uuid the same means we simply look up the existing\nResourceProvider in placement, avoiding all this pain and tears.\n\nConflicts:\n\n    nova/tests/unit/compute/test_resource_tracker.py\n    nova/virt/driver.py\n    nova/virt/fake.py\n    nova/virt/ironic/driver.py\n\nConflicts were small, primarily due to the addition in Pike of the virt\ndriver's requires_allocation_refresh class attribute. This attribute is\nnot used in Ocata.\n\nCloses-Bug: #1714248\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: I4253cffca3dbf558c875eed7e77711a31e9e3406\n(cherry picked from commit e3c5e22d1fde7ca916a8cc364f335fba8a3a798f)\n(cherry picked from commit e95277fa3eba86a7290212313da4dc3c81c286f3)\n""}]",13,607626,028f03c8c3d3dac4de50aa8658c474395a683d61,24,9,3,7,,,0,"Re-use existing ComputeNode on ironic rebalance

When a nova-compute service dies that is one of several ironic based
nova-compute services running, a node rebalance occurs to ensure there
is still an active nova-compute service dealing with requests for the
given instance that is running.

Today, when this occurs, we create a new ComputeNode entry. This change
alters that logic to detect the case of the ironic node rebalance and in
that case we re-use the existing ComputeNode entry, simply updating the
host field to match the new host it has been rebalanced onto.

Previously we hit problems with placement when we get a new
ComputeNode.uuid for the same ironic_node.uuid. This reusing of the
existing entry keeps the ComputeNode.uuid the same when the rebalance of
the ComputeNode occurs.

Without keeping the same ComputeNode.uuid placement errors out with a 409
because we attempt to create a ResourceProvider that has the same name
as an existing ResourceProvdier. Had that worked, we would have noticed
the race that occurs after we create the ResourceProvider but before we
add back the existing allocations for existing instances. Keeping the
ComputeNode.uuid the same means we simply look up the existing
ResourceProvider in placement, avoiding all this pain and tears.

Conflicts:

    nova/tests/unit/compute/test_resource_tracker.py
    nova/virt/driver.py
    nova/virt/fake.py
    nova/virt/ironic/driver.py

Conflicts were small, primarily due to the addition in Pike of the virt
driver's requires_allocation_refresh class attribute. This attribute is
not used in Ocata.

Closes-Bug: #1714248
Co-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>
Change-Id: I4253cffca3dbf558c875eed7e77711a31e9e3406
(cherry picked from commit e3c5e22d1fde7ca916a8cc364f335fba8a3a798f)
(cherry picked from commit e95277fa3eba86a7290212313da4dc3c81c286f3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/607626/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py']",5,5959d4fbad965b234bfeecb004e672f07501c1be,bug/1714248," def _check_for_nodes_rebalance(self, context, resources, nodename): """"""Check if nodes rebalance has happened. The ironic driver maintains a hash ring mapping bare metal nodes to compute nodes. If a compute dies, the hash ring is rebuilt, and some of its bare metal nodes (more precisely, those not in ACTIVE state) are assigned to other computes. This method checks for this condition and adjusts the database accordingly. :param context: security context :param resources: initial values :param nodename: node name :returns: True if a suitable compute node record was found, else False """""" if not self.driver.rebalances_nodes: return False # Its possible ironic just did a node re-balance, so let's # check if there is a compute node that already has the correct # hypervisor_hostname. We can re-use that rather than create a # new one and have to move existing placement allocations cn_candidates = objects.ComputeNodeList.get_by_hypervisor( context, nodename) if len(cn_candidates) == 1: cn = cn_candidates[0] LOG.info(""ComputeNode %(name)s moving from %(old)s to %(new)s"", {""name"": nodename, ""old"": cn.host, ""new"": self.host}) cn.host = self.host self.compute_nodes[nodename] = cn self._copy_resources(cn, resources) self._setup_pci_tracker(context, cn, resources) self._update(context, cn) return True elif len(cn_candidates) > 1: LOG.error( ""Found more than one ComputeNode for nodename %s. "" ""Please clean up the orphaned ComputeNode records in your DB."", nodename) return False if self._check_for_nodes_rebalance(context, resources, nodename): return ",,156,2
openstack%2Fcharm-keystone-ldap~master~Iab32fd02667ae96dc5cc929b52e12c27d01d10c1,openstack/charm-keystone-ldap,master,Iab32fd02667ae96dc5cc929b52e12c27d01d10c1,Update requirements,MERGED,2018-10-04 15:47:51.000000000,2018-10-04 21:31:05.000000000,2018-10-04 21:31:05.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/80263b7bfd0d1993a94ada9c34a1fe14b8e66053', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Iab32fd02667ae96dc5cc929b52e12c27d01d10c1\n'}, {'number': 2, 'created': '2018-10-04 15:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/ae2a78b4f59a243088bd3c603710cff258870595', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Iab32fd02667ae96dc5cc929b52e12c27d01d10c1\n'}, {'number': 3, 'created': '2018-10-04 19:01:54.000000000', 'files': ['requirements.txt', 'src/reactive/keystone_ldap_handlers.py', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/2eefce0f514bb69489496d0ec2867f0ade472031', 'message': 'Update requirements\n\nFixup existing lint.\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: Iab32fd02667ae96dc5cc929b52e12c27d01d10c1\n'}]",0,608002,2eefce0f514bb69489496d0ec2867f0ade472031,12,4,3,20635,,,0,"Update requirements

Fixup existing lint.

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: Iab32fd02667ae96dc5cc929b52e12c27d01d10c1
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/02/608002/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,80263b7bfd0d1993a94ada9c34a1fe14b8e66053,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",32,26
openstack%2Fcharm-neutron-openvswitch~master~Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce,openstack/charm-neutron-openvswitch,master,Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce,py3: Switch to Python 3 for OpenStack Rocky,MERGED,2018-09-20 07:59:32.000000000,2018-10-04 21:29:15.000000000,2018-10-04 16:21:27.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-20 07:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/04f1ceb9bc0444c87e3709cb18969319dfa5690b', 'message': 'py3: Switch to Python 3 for OpenStack Rocky\n\nSwitch to execution of Neutron agents under Python 3 for\nOpenStack Rocky; this is triggered by the nova-compute charm\nmutating the container scoped neutron-plugin relation post\nOpenStack series upgrade.\n\nUpdate default smoke test target to bionic-rocky.\n\nChange-Id: Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce\n'}, {'number': 2, 'created': '2018-10-04 13:58:28.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_hooks.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'tests/basic_deployment.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3015d95af846c0fdf6ddbff9b92211fc64ba3298', 'message': 'py3: Switch to Python 3 for OpenStack Rocky\n\nSwitch to execution of Neutron agents under Python 3 for\nOpenStack Rocky; this is triggered by the nova-compute charm\nmutating the container scoped neutron-plugin relation post\nOpenStack series upgrade.\n\nUpdate default smoke test target to bionic-rocky.\n\nChange-Id: Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce\n'}]",0,604013,3015d95af846c0fdf6ddbff9b92211fc64ba3298,18,4,2,935,,,0,"py3: Switch to Python 3 for OpenStack Rocky

Switch to execution of Neutron agents under Python 3 for
OpenStack Rocky; this is triggered by the nova-compute charm
mutating the container scoped neutron-plugin relation post
OpenStack series upgrade.

Update default smoke test target to bionic-rocky.

Change-Id: Ic5e96336b6a2ca474fc28d358553c6a05e1a75ce
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/13/604013/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_hooks.py', 'hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'tox.ini']",5,04f1ceb9bc0444c87e3709cb18969319dfa5690b,py3-rocky, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-rocky --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-queens --no-destroy,49,5
openstack%2Fcharm-designate-bind~master~I141feafd571ea84dd0d871c0e401bac46e63b893,openstack/charm-designate-bind,master,I141feafd571ea84dd0d871c0e401bac46e63b893,Update requirements,MERGED,2018-10-04 15:47:38.000000000,2018-10-04 21:19:00.000000000,2018-10-04 21:19:00.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-04 15:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/9f114ee606f2cec69d32f9b47d7ed49173c4fdc6', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I141feafd571ea84dd0d871c0e401bac46e63b893\n'}, {'number': 2, 'created': '2018-10-04 15:51:42.000000000', 'files': ['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/6f45fa2afb94b054c49c5ce33232fcfc07504457', 'message': 'Update requirements\n\nAlso remove tests/charm-helpers if present, in favor\nof the pip-installed charm-helpers.\n\nChange-Id: I141feafd571ea84dd0d871c0e401bac46e63b893\n'}]",0,608000,6f45fa2afb94b054c49c5ce33232fcfc07504457,12,4,2,20635,,,0,"Update requirements

Also remove tests/charm-helpers if present, in favor
of the pip-installed charm-helpers.

Change-Id: I141feafd571ea84dd0d871c0e401bac46e63b893
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/00/608000/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/requirements.txt', 'requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt']",4,9f114ee606f2cec69d32f9b47d7ed49173c4fdc6,update-reqs,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you. charm-tools>=2.4.4requests>=2.18.4amulet>=1.14.3,<2.0;python_version=='2.7' bundletester>=0.6.1,<1.0;python_version=='2.7'gnocchiclient>=3.1.0,<3.2.0git+https://github.com/juju/charm-helpers.git#egg=charmhelperspytz # workaround for 14.04 pip/tox pyudev # for ceph-* charm unit tests (not mocked?)","# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.charm-tools>=2.0.0 requests==2.6.0 # amulet deployment helpers git+https://github.com/juju/charm-helpers#egg=charmhelpersamulet>=1.14.3,<2.0 bundletester>=0.6.1,<1.0# NOTE: workaround for 14.04 pip/tox pytz",31,18
